(self.webpackChunkpixtarAE=self.webpackChunkpixtarAE||[]).push([[179],{4154:(u,f,m)=>{"use strict";var _=m(8929),w=m(4096),E=m(4202),G=m(6787),F=m(8117);function U(e){for(let t in e)if(e[t]===U)return t;throw Error("Could not find renamed property on target object.")}function X(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function T(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(T).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function B(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const R=U({__forward_ref__:U});function N(e){return e.__forward_ref__=N,e.toString=function(){return T(this())},e}function L(e){return W(e)?e():e}function W(e){return"function"==typeof e&&e.hasOwnProperty(R)&&e.__forward_ref__===N}function k(e){return e&&!!e.\u0275providers}const oe="https://g.co/ng/security#xss";class le extends Error{constructor(t,n){super(we(t,n)),this.code=t}}function we(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Re(e){return"string"==typeof e?e:null==e?"":String(e)}function j(e,t){throw new le(-201,!1)}function mn(e,t){null==e&&function Wt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Dt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Bn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ri(e){return Vi(e,fo)||Vi(e,Wr)}function Vi(e,t){return e.hasOwnProperty(t)?e[t]:null}function lr(e){return e&&(e.hasOwnProperty(cr)||e.hasOwnProperty(Or))?e[cr]:null}const fo=U({\u0275prov:U}),cr=U({\u0275inj:U}),Wr=U({ngInjectableDef:U}),Or=U({ngInjectorDef:U});var ln=(()=>((ln=ln||{})[ln.Default=0]="Default",ln[ln.Host=1]="Host",ln[ln.Self=2]="Self",ln[ln.SkipSelf=4]="SkipSelf",ln[ln.Optional=8]="Optional",ln))();let ai;function qi(e){const t=ai;return ai=e,t}function Yi(e,t,n){const i=ri(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&ln.Optional?null:void 0!==t?t:void j(T(e))}const ei=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yr={},gn="__NG_DI_FLAG__",ti="ngTempTokenPath",br="ngTokenPath",Tr=/\n/gm,Br="\u0275",zr="__source";let eo;function qo(e){const t=eo;return eo=e,t}function Po(e,t=ln.Default){if(void 0===eo)throw new le(-203,!1);return null===eo?Yi(e,void 0,t):eo.get(e,t&ln.Optional?null:void 0,t)}function Lt(e,t=ln.Default){return(function pr(){return ai}()||Po)(L(e),t)}function fi(e,t=ln.Default){return Lt(e,oo(t))}function oo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function on(e){const t=[];for(let n=0;n<e.length;n++){const i=L(e[n]);if(Array.isArray(i)){if(0===i.length)throw new le(900,!1);let r,o=ln.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Qt(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(Lt(r,o))}else t.push(Lt(i))}return t}function Tt(e,t){return e[gn]=t,e.prototype[gn]=t,e}function Qt(e){return e[gn]}function Gn(e){return{toString:e}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),oi=(()=>{return(e=oi||(oi={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",oi;var e})();const Sr={},Wn=[],Er=U({\u0275cmp:U}),Wa=U({\u0275dir:U}),Zc=U({\u0275pipe:U}),Ur=U({\u0275mod:U}),Al=U({\u0275fac:U}),jd=U({__NG_ELEMENT_ID__:U});let ef=0;function Li(e){return Gn(()=>{const t=Gu(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||oi.Emulated,id:"c"+ef++,styles:e.styles||Wn,_:null,schemas:e.schemas||null,tView:null};Dh(n);const i=e.dependencies;return n.directiveDefs=Ah(i,!1),n.pipeDefs=Ah(i,!0),n})}function tf(e){return _r(e)||ps(e)}function Vu(e){return null!==e}function zi(e){return Gn(()=>({type:e.type,bootstrap:e.bootstrap||Wn,declarations:e.declarations||Wn,imports:e.imports||Wn,exports:e.exports||Wn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Oc(e,t){if(null==e)return Sr;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}function tn(e){return Gn(()=>{const t=Gu(e);return Dh(t),t})}function is(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function _r(e){return e[Er]||null}function ps(e){return e[Wa]||null}function Yo(e){return e[Zc]||null}function fs(e,t){const n=e[Ur]||null;if(!n&&!0===t)throw new Error(`Type ${T(e)} does not have '\u0275mod' property.`);return n}function Gu(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Wn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Oc(e.inputs,t),outputs:Oc(e.outputs)}}function Dh(e){e.features?.forEach(t=>t(e))}function Ah(e,t){if(!e)return null;const n=t?Yo:tf;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Vu)}const Pa=0,Tn=1,Hi=2,mo=3,Oa=4,Tl=5,rs=6,so=7,qr=8,Ec=9,Th=10,Gi=11,Vd=12,qa=13,Jc=14,Dc=15,es=16,ed=17,ms=18,Ya=19,Xo=20,nf=21,to=22,zs=1,Ih=2,nd=7,Il=8,Ac=9,os=10;function Us(e){return Array.isArray(e)&&"object"==typeof e[zs]}function Sa(e){return Array.isArray(e)&&!0===e[zs]}function kh(e){return 0!=(4&e.flags)}function Hd(e){return e.componentOffset>-1}function kl(e){return 1==(1&e.flags)}function na(e){return!!e.template}function Dm(e){return 0!=(256&e[Hi])}function Tc(e,t){return e.hasOwnProperty(Al)?e[Al]:null}class Nh{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function M(){return I}function I(e){return e.type.prototype.ngOnChanges&&(e.setInput=re),Z}function Z(){const e=ue(this),t=e?.current;if(t){const n=e.previous;if(n===Sr)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function re(e,t,n,i){const r=this.declaredInputs[n],o=ue(e)||function ve(e,t){return e[he]=t}(e,{previous:Sr,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new Nh(l&&l.currentValue,t,a===Sr),e[i]=t}M.ngInherit=!0;const he="__ngSimpleChanges__";function ue(e){return e[he]||null}const et=function(e,t,n){};function ut(e){for(;Array.isArray(e);)e=e[Pa];return e}function li(e,t){return ut(t[e])}function mi(e,t){return ut(t[e.index])}function $o(e,t){return e.data[t]}function no(e,t){return e[t]}function Yr(e,t){const n=t[e];return Us(n)?n:n[Pa]}function Ti(e){return 64==(64&e[Hi])}function Xi(e,t){return null==t?null:e[t]}function go(e){e[ms]=0}function ic(e,t){e[Tl]+=t;let n=e,i=e[mo];for(;null!==i&&(1===t&&1===n[Tl]||-1===t&&0===n[Tl]);)i[Tl]+=t,n=i,i=i[mo]}const xi={lFrame:Bt(null),bindingsEnabled:!0};function js(){return xi.bindingsEnabled}function Ht(){return xi.lFrame.lView}function hr(){return xi.lFrame.tView}function zn(e){return xi.lFrame.contextLView=e,e[qr]}function Vn(e){return xi.lFrame.contextLView=null,e}function Ei(){let e=od();for(;null!==e&&64===e.type;)e=e.parent;return e}function od(){return xi.lFrame.currentTNode}function Fo(e,t){const n=xi.lFrame;n.currentTNode=e,n.isParent=t}function Yu(){return xi.lFrame.isParent}function Xu(){xi.lFrame.isParent=!1}function Oo(){const e=xi.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Rl(){return xi.lFrame.bindingIndex++}function ra(e){const t=xi.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Bh(e,t){const n=xi.lFrame;n.bindingIndex=n.bindingRootIndex=e,ld(t)}function ld(e){xi.lFrame.currentDirectiveIndex=e}function zh(){return xi.lFrame.currentQueryIndex}function qd(e){xi.lFrame.currentQueryIndex=e}function ke(e){const t=e[Tn];return 2===t.type?t.declTNode:1===t.type?e[rs]:null}function Je(e,t,n){if(n&ln.SkipSelf){let r=t,o=e;for(;!(r=r.parent,null!==r||n&ln.Host||(r=ke(o),null===r||(o=o[Dc],10&r.type))););if(null===r)return!1;t=r,e=o}const i=xi.lFrame=Ot();return i.currentTNode=t,i.lView=e,!0}function gt(e){const t=Ot(),n=e[Tn];xi.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ot(){const e=xi.lFrame,t=null===e?null:e.child;return null===t?Bt(e):t}function Bt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pn(){const e=xi.lFrame;return xi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const An=pn;function qn(){const e=pn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function be(){return xi.lFrame.selectedIndex}function z(e){xi.lFrame.selectedIndex=e}function te(){const e=xi.lFrame;return $o(e.tView,e.selectedIndex)}function Ps(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(e.contentHooks??(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks??(e.contentHooks=[])).push(n,a),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks??(e.viewHooks=[])).push(-n,l),c&&((e.viewHooks??(e.viewHooks=[])).push(n,c),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,c)),null!=d&&(e.destroyHooks??(e.destroyHooks=[])).push(n,d)}}function So(e,t,n){Cy(e,t,3,n)}function Nl(e,t,n,i){(3&e[Hi])===n&&Cy(e,t,n,i)}function Qu(e,t){let n=e[Hi];(3&n)===t&&(n&=2047,n+=1,e[Hi]=n)}function Cy(e,t,n,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&e[ms]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[ms]+=65536),(a<o||-1==o)&&(AO(e,n,t,l),e[ms]=(4294901760&e[ms])+l+2),l++}function AO(e,t,n,i){const r=n[i]<0,o=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[Hi]>>11<e[ms]>>16&&(3&e[Hi])===t){e[Hi]+=2048,et(4,a,o);try{o.call(a)}finally{et(5,a,o)}}}else{et(4,a,o);try{o.call(a)}finally{et(5,a,o)}}}const hf=-1;class Bm{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Py(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{const o=r,s=n[++i];Bx(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function Fx(e){return 3===e||4===e||6===e}function Bx(e){return 64===e.charCodeAt(0)}function Uh(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||q(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function q(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function J(e){return e!==hf}function de(e){return 32767&e}function Ct(e,t){let n=function Ne(e){return e>>16}(e),i=t;for(;n>0;)i=i[Dc],n--;return i}let kn=!0;function Ki(e){const t=kn;return kn=e,t}const Bo=255,Ku=5;let Oy=0;const jh={};function zx(e,t){const n=gN(e,t);if(-1!==n)return n;const i=t[Tn];i.firstCreatePass&&(e.injectorIndex=t.length,kO(i.data,e),kO(t,null),kO(i.blueprint,null));const r=RO(e,t),o=e.injectorIndex;if(J(r)){const s=de(r),a=Ct(r,t),l=a[Tn].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function kO(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gN(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function RO(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=CN(r),null===i)return hf;if(n++,r=r[Dc],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return hf}function NO(e,t,n){!function wZ(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(jd)&&(i=n[jd]),null==i&&(i=n[jd]=Oy++);const r=i&Bo;t.data[e+(r>>Ku)]|=1<<r}(e,t,n)}function vN(e,t,n){if(n&ln.Optional||void 0!==e)return e;j()}function yN(e,t,n,i){if(n&ln.Optional&&void 0===i&&(i=null),!(n&(ln.Self|ln.Host))){const r=e[Ec],o=qi(void 0);try{return r?r.get(t,i,n&ln.Optional):Yi(t,i,n&ln.Optional)}finally{qi(o)}}return vN(i,0,n)}function bN(e,t,n,i=ln.Default,r){if(null!==e){if(1024&t[Hi]){const s=function SZ(e,t,n,i,r){let o=e,s=t;for(;null!==o&&null!==s&&1024&s[Hi]&&!(256&s[Hi]);){const a=_N(o,s,n,i|ln.Self,jh);if(a!==jh)return a;let l=o.parent;if(!l){const c=s[nf];if(c){const d=c.get(n,jh,i);if(d!==jh)return d}l=CN(s),s=s[Dc]}o=l}return r}(e,t,n,i,jh);if(s!==jh)return s}const o=_N(e,t,n,i,jh);if(o!==jh)return o}return yN(t,n,i,r)}function _N(e,t,n,i,r){const o=function PZ(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(jd)?e[jd]:void 0;return"number"==typeof t?t>=0?t&Bo:OZ:t}(n);if("function"==typeof o){if(!Je(t,e,i))return i&ln.Host?vN(r,0,i):yN(t,n,i,r);try{const s=o(i);if(null!=s||i&ln.Optional)return s;j()}finally{An()}}else if("number"==typeof o){let s=null,a=gN(e,t),l=hf,c=i&ln.Host?t[es][rs]:null;for((-1===a||i&ln.SkipSelf)&&(l=-1===a?RO(e,t):t[a+8],l!==hf&&wN(i,!1)?(s=t[Tn],a=de(l),t=Ct(l,t)):a=-1);-1!==a;){const d=t[Tn];if(xN(o,a,d.data)){const h=MZ(a,t,n,s,i,c);if(h!==jh)return h}l=t[a+8],l!==hf&&wN(i,t[Tn].data[a+8]===c)&&xN(o,a,t)?(s=d,a=de(l),t=Ct(l,t)):a=-1}}return r}function MZ(e,t,n,i,r,o){const s=t[Tn],a=s.data[e+8],d=Ux(a,s,n,null==i?Hd(a)&&kn:i!=s&&0!=(3&a.type),r&ln.Host&&o===a);return null!==d?zm(t,s,d,a):jh}function Ux(e,t,n,i,r){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,d=o>>20,p=r?a+d:e.directiveEnd;for(let g=i?a:a+d;g<p;g++){const v=s[g];if(g<l&&n===v||g>=l&&v.type===n)return g}if(r){const g=s[l];if(g&&na(g)&&g.type===n)return l}return null}function zm(e,t,n,i){let r=e[n];const o=t.data;if(function cd(e){return e instanceof Bm}(r)){const s=r;s.resolving&&function Ge(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new le(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ze(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Re(e)}(o[n]));const a=Ki(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?qi(s.injectImpl):null;Je(e,i,ln.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function jr(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=I(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s)}r&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==l&&qi(l),Ki(a),s.resolving=!1,An()}}return r}function xN(e,t,n){return!!(n[t+(e>>Ku)]&1<<e)}function wN(e,t){return!(e&ln.Self||e&ln.Host&&t)}class D0{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return bN(this._tNode,this._lView,t,oo(i),n)}}function OZ(){return new D0(Ei(),Ht())}function $a(e){return Gn(()=>{const t=e.prototype.constructor,n=t[Al]||LO(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[Al]||LO(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function LO(e){return W(e)?()=>{const t=LO(L(e));return t&&t()}:Tc(e)}function CN(e){const t=e[Tn],n=t.type;return 2===n?t.declTNode:1===n?e[rs]:null}const A0="__annotations__",T0="__parameters__",I0="__prop__metadata__";function FO(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}function k0(e,t,n){return Gn(()=>{const i=FO(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,d){const h=l.hasOwnProperty(T0)?l[T0]:Object.defineProperty(l,T0,{value:[]})[T0];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function Sy(e,t,n,i){return Gn(()=>{const r=FO(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const a=new o(...s);return function l(c,d){const h=c.constructor,p=h.hasOwnProperty(I0)?h[I0]:Object.defineProperty(h,I0,{value:{}})[I0];p[d]=p.hasOwnProperty(d)&&p[d]||[],p[d].unshift(a),i&&i(c,d,...s)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class Zn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Dt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class DZ{}const AZ=Sy("ContentChildren",(e,t={})=>({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...t}),DZ),BO=Function;function Dy(e){return"function"==typeof e}function jm(e,t){e.forEach(n=>Array.isArray(n)?jm(n,t):t(n))}function ON(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function jx(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ay(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function kc(e,t,n){let i=R0(e,t);return i>=0?e[1|i]=n:(i=~i,function kZ(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function zO(e,t){const n=R0(e,t);if(n>=0)return e[1|n]}function R0(e,t){return function SN(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}(e,t,1)}const RZ=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,NZ=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,LZ=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,FZ=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class zZ{constructor(t){this._reflect=t||ei.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let i;i=Ay(typeof t>"u"?n.length:t.length);for(let r=0;r<i.length;r++)i[r]=typeof t>"u"?[]:t[r]&&t[r]!=Object?[t[r]]:[],n&&null!=n[r]&&(i[r]=i[r].concat(n[r]));return i}_ownParameters(t,n){if(function BZ(e){return RZ.test(e)||FZ.test(e)||NZ.test(e)&&!LZ.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==n.ctorParameters){const a="function"==typeof r?r():r,l=a.map(d=>d&&d.type),c=a.map(d=>d&&UO(d.decorators));return this._zipTypesAndAnnotations(l,c)}const o=t.hasOwnProperty(T0)&&t[T0],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||o?this._zipTypesAndAnnotations(s,o):Ay(t.length)}parameters(t){if(!Dy(t))return[];const n=Vx(t);let i=this._ownParameters(t,n);return!i&&n!==Object&&(i=this.parameters(n)),i||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let i=t.annotations;return"function"==typeof i&&i.annotations&&(i=i.annotations),i}return t.decorators&&t.decorators!==n.decorators?UO(t.decorators):t.hasOwnProperty(A0)?t[A0]:null}annotations(t){if(!Dy(t))return[];const n=Vx(t),i=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(i)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let i=t.propMetadata;return"function"==typeof i&&i.propMetadata&&(i=i.propMetadata),i}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const i=t.propDecorators,r={};return Object.keys(i).forEach(o=>{r[o]=UO(i[o])}),r}return t.hasOwnProperty(I0)?t[I0]:null}propMetadata(t){if(!Dy(t))return{};const n=Vx(t),i={};if(n!==Object){const o=this.propMetadata(n);Object.keys(o).forEach(s=>{i[s]=o[s]})}const r=this._ownPropMetadata(t,n);return r&&Object.keys(r).forEach(o=>{const s=[];i.hasOwnProperty(o)&&s.push(...i[o]),s.push(...r[o]),i[o]=s}),i}ownPropMetadata(t){return Dy(t)&&this._ownPropMetadata(t,Vx(t))||{}}hasLifecycleHook(t,n){return t instanceof BO&&n in t.prototype}}function UO(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Vx(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const N0=Tt(k0("Inject",e=>({token:e})),-1),Vm=Tt(k0("Optional"),8),jO=Tt(k0("Self"),2),L0=Tt(k0("SkipSelf"),4);let EN=null;function Ty(){return EN=EN||new zZ}var sc=(()=>((sc=sc||{})[sc.Important=1]="Important",sc[sc.DashCase=2]="DashCase",sc))();const WO=new Map;let tJ=0;const YO="__ngContext__";function fl(e,t){Us(t)?(e[YO]=t[Xo],function iJ(e){WO.set(e[Xo],e)}(t)):e[YO]=t}let XO;function $O(e,t){return XO(e,t)}function Ry(e){const t=e[mo];return Sa(t)?t[mo]:t}function QO(e){return qN(e[qa])}function KO(e){return qN(e[Oa])}function qN(e){for(;null!==e&&!Sa(e);)e=e[Oa];return e}function B0(e,t,n,i,r){if(null!=i){let o,s=!1;Sa(i)?o=i:Us(i)&&(s=!0,i=i[Pa]);const a=ut(i);0===e&&null!==n?null==r?ZN(t,n,a):Hm(t,n,a,r||null,!0):1===e&&null!==n?Hm(t,n,a,r||null,!0):2===e?function rS(e,t,n){const i=Wx(e,t);i&&function CJ(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function OJ(e,t,n,i,r){const o=n[nd];o!==ut(n)&&B0(t,e,i,o,r);for(let a=os;a<n.length;a++){const l=n[a];Ny(l[Tn],l,e,t,i,o)}}(t,e,o,n,r)}}function JO(e,t,n){return e.createElement(t,n)}function XN(e,t){const n=e[Ac],i=n.indexOf(t),r=t[mo];512&t[Hi]&&(t[Hi]&=-513,ic(r,-1)),n.splice(i,1)}function eS(e,t){if(e.length<=os)return;const n=os+t,i=e[n];if(i){const r=i[ed];null!==r&&r!==e&&XN(r,i),t>0&&(e[n-1][Oa]=i[Oa]);const o=jx(e,os+t);!function mJ(e,t){Ny(e,t,t[Gi],2,null,null),t[Pa]=null,t[rs]=null}(i[Tn],i);const s=o[Ya];null!==s&&s.detachView(o[Tn]),i[mo]=null,i[Oa]=null,i[Hi]&=-65}return i}function $N(e,t){if(!(128&t[Hi])){const n=t[Gi];n.destroyNode&&Ny(e,t,n,3,null,null),function yJ(e){let t=e[qa];if(!t)return tS(e[Tn],e);for(;t;){let n=null;if(Us(t))n=t[qa];else{const i=t[os];i&&(n=i)}if(!n){for(;t&&!t[Oa]&&t!==e;)Us(t)&&tS(t[Tn],t),t=t[mo];null===t&&(t=e),Us(t)&&tS(t[Tn],t),n=t&&t[Oa]}t=n}}(t)}}function tS(e,t){if(!(128&t[Hi])){t[Hi]&=-65,t[Hi]|=128,function wJ(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof Bm)){const o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];et(4,a,l);try{l.call(a)}finally{et(5,a,l)}}else{et(4,r,o);try{o.call(r)}finally{et(5,r,o)}}}}}(e,t),function xJ(e,t){const n=e.cleanup,i=t[so];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?i[r=s]():i[r=-s].unsubscribe(),o+=2}else{const s=i[r=n[o+1]];n[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[so]=null}}(e,t),1===t[Tn].type&&t[Gi].destroy();const n=t[ed];if(null!==n&&Sa(t[mo])){n!==t[mo]&&XN(n,t);const i=t[Ya];null!==i&&i.detachView(e)}!function rJ(e){WO.delete(e[Xo])}(t)}}function QN(e,t,n){return function KN(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[Pa];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===oi.None||o===oi.Emulated)return null}return mi(i,n)}}(e,t.parent,n)}function Hm(e,t,n,i,r){e.insertBefore(t,n,i,r)}function ZN(e,t,n){e.appendChild(t,n)}function JN(e,t,n,i,r){null!==i?Hm(e,t,n,i,r):ZN(e,t,n)}function Wx(e,t){return e.parentNode(t)}function e5(e,t,n){return n5(e,t,n)}let nS,Xx,aS,$x,n5=function t5(e,t,n){return 40&e.type?mi(e,n):null};function qx(e,t,n,i){const r=QN(e,i,t),o=t[Gi],a=e5(i.parent||t[rs],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)JN(o,r,n[l],a,!1);else JN(o,r,n,a,!1);void 0!==nS&&nS(o,i,t,n,r)}function Yx(e,t){if(null!==t){const n=t.type;if(3&n)return mi(t,e);if(4&n)return iS(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Yx(e,i);{const r=e[t.index];return Sa(r)?iS(-1,r):ut(r)}}if(32&n)return $O(t,e)()||ut(e[t.index]);{const i=r5(e,t);return null!==i?Array.isArray(i)?i[0]:Yx(Ry(e[es]),i):Yx(e,t.next)}}return null}function r5(e,t){return null!==t?e[es][rs].projection[t.projection]:null}function iS(e,t){const n=os+e+1;if(n<t.length){const i=t[n],r=i[Tn].firstChild;if(null!==r)return Yx(i,r)}return t[nd]}function oS(e,t,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===t&&(a&&fl(ut(a),i),n.flags|=2),32!=(32&n.flags))if(8&l)oS(e,t,n.child,i,r,o,!1),B0(t,e,r,a,o);else if(32&l){const c=$O(n,i);let d;for(;d=c();)B0(t,e,r,d,o);B0(t,e,r,a,o)}else 16&l?o5(e,t,i,n,r,o):B0(t,e,r,a,o);n=s?n.projectionNext:n.next}}function Ny(e,t,n,i,r,o){oS(n,i,e.firstChild,t,r,o,!1)}function o5(e,t,n,i,r,o){const s=n[es],l=s[rs].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)B0(t,e,r,l[c],o);else oS(e,t,l,s[mo],r,o,!0)}function s5(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function a5(e,t,n){const{mergedAttrs:i,classes:r,styles:o}=n;null!==i&&Py(e,t,i),null!==r&&s5(e,t,r),null!==o&&function EJ(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function z0(e){return function sS(){if(void 0===Xx&&(Xx=null,ei.trustedTypes))try{Xx=ei.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xx}()?.createHTML(e)||e}function lS(){if(void 0===$x&&($x=null,ei.trustedTypes))try{$x=ei.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $x}function c5(e){return lS()?.createHTML(e)||e}function h5(e){return lS()?.createScriptURL(e)||e}class Gm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oe})`}}class kJ extends Gm{getTypeName(){return"HTML"}}class RJ extends Gm{getTypeName(){return"Style"}}class NJ extends Gm{getTypeName(){return"Script"}}class LJ extends Gm{getTypeName(){return"URL"}}class FJ extends Gm{getTypeName(){return"ResourceURL"}}function Rc(e){return e instanceof Gm?e.changingThisBreaksApplicationSecurity:e}function Vh(e,t){const n=function BJ(e){return e instanceof Gm&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${oe})`)}return n===t}class GJ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(z0(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class WJ{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=z0(t),n}}const YJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qx(e){return(e=String(e)).match(YJ)?e:"unsafe:"+e}function Zu(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ly(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const p5=Zu("area,br,col,hr,img,wbr"),f5=Zu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m5=Zu("rp,rt"),cS=Ly(p5,Ly(f5,Zu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ly(m5,Zu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ly(m5,f5)),dS=Zu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),g5=Ly(dS,Zu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),XJ=Zu("script,style,template");class $J{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!cS.hasOwnProperty(n))return this.sanitizedSomething=!0,!XJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!g5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;dS[a]&&(l=Qx(l)),this.buf.push(" ",s,'="',v5(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();cS.hasOwnProperty(n)&&!p5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(v5(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const QJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KJ=/([^\#-~ |!])/g;function v5(e){return e.replace(/&/g,"&amp;").replace(QJ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(KJ,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kx;function y5(e,t){let n=null;try{Kx=Kx||function u5(e){const t=new WJ(e);return function qJ(){try{return!!(new window.DOMParser).parseFromString(z0(""),"text/html")}catch{return!1}}()?new GJ(t):t}(e);let i=t?String(t):"";n=Kx.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Kx.getInertBodyElement(i)}while(i!==o);return z0((new $J).sanitizeChildren(hS(n)||n))}finally{if(n){const i=hS(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function hS(e){return"content"in e&&function ZJ(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var zo=(()=>((zo=zo||{})[zo.NONE=0]="NONE",zo[zo.HTML=1]="HTML",zo[zo.STYLE=2]="STYLE",zo[zo.SCRIPT=3]="SCRIPT",zo[zo.URL=4]="URL",zo[zo.RESOURCE_URL=5]="RESOURCE_URL",zo))();function Nc(e){const t=Fy();return t?c5(t.sanitize(zo.HTML,e)||""):Vh(e,"HTML")?c5(Rc(e)):y5(function l5(){return void 0!==aS?aS:typeof document<"u"?document:void 0}(),Re(e))}function Ee(e){const t=Fy();return t?t.sanitize(zo.URL,e)||"":Vh(e,"URL")?Rc(e):Qx(Re(e))}function b5(e){const t=Fy();if(t)return h5(t.sanitize(zo.RESOURCE_URL,e)||"");if(Vh(e,"ResourceURL"))return h5(Rc(e));throw new le(904,!1)}function Fy(){const e=Ht();return e&&e[Vd]}const Zx=new Zn("ENVIRONMENT_INITIALIZER"),x5=new Zn("INJECTOR",-1),w5=new Zn("INJECTOR_DEF_TYPES");class C5{get(t,n=yr){if(n===yr){const i=new Error(`NullInjectorError: No provider for ${T(t)}!`);throw i.name="NullInjectorError",i}return n}}function oee(...e){return{\u0275providers:M5(0,e),\u0275fromNgModule:!0}}function M5(e,...t){const n=[],i=new Set;let r;return jm(t,o=>{const s=o;uS(s,n,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&P5(r,n),n}function P5(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];pS(r,o=>{t.push(o)})}}function uS(e,t,n,i){if(!(e=L(e)))return!1;let r=null,o=lr(e);const s=!o&&_r(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const l=e.ngModule;if(o=lr(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)uS(c,t,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{jm(o.imports,d=>{uS(d,t,n,i)&&(c||(c=[]),c.push(d))})}finally{}void 0!==c&&P5(c,t)}if(!a){const c=Tc(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:Wn},{provide:w5,useValue:r,multi:!0},{provide:Zx,useValue:()=>Lt(r),multi:!0})}const l=o.providers;null==l||a||pS(l,d=>{t.push(d)})}}return r!==e&&void 0!==e.providers}function pS(e,t){for(let n of e)k(n)&&(n=n.\u0275providers),Array.isArray(n)?pS(n,t):t(n)}const see=U({provide:String,useValue:U});function fS(e){return null!==e&&"object"==typeof e&&see in e}function Wm(e){return"function"==typeof e}const mS=new Zn("Set Injector scope."),Jx={},lee={};let gS;function ew(){return void 0===gS&&(gS=new C5),gS}class Hh{}class E5 extends Hh{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yS(t,s=>this.processProvider(s)),this.records.set(x5,U0(void 0,this)),r.has("environment")&&this.records.set(Hh,U0(void 0,this));const o=this.records.get(mS);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(w5.multi,Wn,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=qo(this),i=qi(void 0);try{return t()}finally{qo(n),qi(i)}}get(t,n=yr,i=ln.Default){this.assertNotDestroyed(),i=oo(i);const r=qo(this),o=qi(void 0);try{if(!(i&ln.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function pee(e){return"function"==typeof e||"object"==typeof e&&e instanceof Zn}(t)&&ri(t);a=l&&this.injectableDefInScope(l)?U0(vS(t),Jx):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&ln.Self?ew():this.parent).get(t,n=i&ln.Optional&&n===yr?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[ti]=s[ti]||[]).unshift(T(t)),r)throw s;return function nn(e,t,n,i){const r=e[ti];throw t[zr]&&r.unshift(t[zr]),e.message=function dn(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Br?e.slice(2):e;let r=T(t);if(Array.isArray(t))r=t.map(T).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):T(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(Tr,"\n  ")}`}("\n"+e.message,r,n,i),e[br]=r,e[ti]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{qi(o),qo(r)}}resolveInjectorInitializers(){const t=qo(this),n=qi(void 0);try{const i=this.get(Zx.multi,Wn,ln.Self);for(const r of i)r()}finally{qo(t),qi(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(T(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(t){let n=Wm(t=L(t))?t:L(t&&t.provide);const i=function dee(e){return fS(e)?U0(void 0,e.useValue):U0(D5(e),Jx)}(t);if(Wm(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=U0(void 0,Jx,!0),r.factory=()=>on(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===Jx&&(n.value=lee,n.value=n.factory()),"object"==typeof n.value&&n.value&&function uee(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=L(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function vS(e){const t=ri(e),n=null!==t?t.factory:Tc(e);if(null!==n)return n;if(e instanceof Zn)throw new le(204,!1);if(e instanceof Function)return function cee(e){const t=e.length;if(t>0)throw Ay(t,"?"),new le(204,!1);const n=function hi(e){return e&&(e[fo]||e[Wr])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new le(204,!1)}function D5(e,t,n){let i;if(Wm(e)){const r=L(e);return Tc(r)||vS(r)}if(fS(e))i=()=>L(e.useValue);else if(function S5(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...on(e.deps||[]));else if(function O5(e){return!(!e||!e.useExisting)}(e))i=()=>Lt(L(e.useExisting));else{const r=L(e&&(e.useClass||e.provide));if(!function hee(e){return!!e.deps}(e))return Tc(r)||vS(r);i=()=>new r(...on(e.deps))}return i}function U0(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function yS(e,t){for(const n of e)Array.isArray(n)?yS(n,t):n&&k(n)?yS(n.\u0275providers,t):t(n)}class fee{}class A5{}class gee{resolveComponentFactory(t){throw function mee(e){const t=Error(`No component factory found for ${T(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let j0=(()=>{class e{}return e.NULL=new gee,e})();function vee(){return V0(Ei(),Ht())}function V0(e,t){return new ao(mi(e,t))}let ao=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=vee,e})();function yee(e){return e instanceof ao?e.nativeElement:e}class H0{}let Vs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function bee(){const e=Ht(),n=Yr(Ei().index,e);return(Us(n)?n:e)[Gi]}(),e})(),_ee=(()=>{class e{}return e.\u0275prov=Dt({token:e,providedIn:"root",factory:()=>null}),e})();class By{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xee=new By("15.2.10"),bS={},_S="ngOriginalError";function xS(e){return e[_S]}class qm{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&xS(t);for(;n&&xS(n);)n=xS(n);return n||null}}function uf(e){return e.ownerDocument.defaultView}function Ym(e){return e.ownerDocument}function Ju(e){return e instanceof Function?e():e}function k5(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}const R5="ng-template";function Aee(e,t,n){let i=0,r=!0;for(;i<e.length;){let o=e[i++];if("string"==typeof o&&r){const s=e[i++];if(n&&"class"===o&&-1!==k5(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function N5(e){return 4===e.type&&e.value!==R5}function Tee(e,t,n){return t===(4!==e.type||n?e.value:R5)}function Iee(e,t,n){let i=4;const r=e.attrs||[],o=function Nee(e){for(let t=0;t<e.length;t++)if(Fx(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Tee(e,l,n)||""===l&&1===t.length){if(Yd(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!Aee(e.attrs,c,n)){if(Yd(i))return!1;s=!0}continue}const h=kee(8&i?"class":l,r,N5(e),n);if(-1===h){if(Yd(i))return!1;s=!0;continue}if(""!==c){let p;p=h>o?"":r[h+1].toLowerCase();const g=8&i?p:null;if(g&&-1!==k5(g,c,0)||2&i&&c!==p){if(Yd(i))return!1;s=!0}}}}else{if(!s&&!Yd(i)&&!Yd(l))return!1;if(s&&Yd(l))continue;s=!1,i=l|1&i}}return Yd(i)||s}function Yd(e){return 0==(1&e)}function kee(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){const s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Lee(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function L5(e,t,n=!1){for(let i=0;i<t.length;i++)if(Iee(e,t[i],n))return!0;return!1}function Fee(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function F5(e,t){return e?":not("+t.trim()+")":t}function Bee(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Yd(s)&&(t+=F5(o,r),r=""),i=s,o=o||!Yd(i);n++}return""!==r&&(t+=F5(o,r)),t}const tr={};function se(e){B5(hr(),Ht(),be()+e,!1)}function B5(e,t,n,i){if(!i)if(3==(3&t[Hi])){const o=e.preOrderCheckHooks;null!==o&&So(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Nl(t,o,0,n)}z(n)}function V5(e,t=null,n=null,i){const r=H5(e,t,n,i);return r.resolveInjectorInitializers(),r}function H5(e,t=null,n=null,i,r=new Set){const o=[n||Wn,oee(e)];return i=i||("object"==typeof e?void 0:T(e)),new E5(o,t||ew(),i||null,r)}let ml=(()=>{class e{static create(n,i){if(Array.isArray(n))return V5({name:""},i,n,"");{const r=n.name??"";return V5({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=yr,e.NULL=new C5,e.\u0275prov=Dt({token:e,providedIn:"any",factory:()=>Lt(x5)}),e.__NG_ELEMENT_ID__=-1,e})();function wS(e){return e.length>1?" ("+function qee(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(i=>T(i.token)).join(" -> ")+")":""}function CS(e,t,n,i){const r=[t],o=n(r),s=i?function wee(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,i=Error(n);return i[_S]=t,i}(o,i):Error(o);return s.addKey=Yee,s.keys=r,s.injectors=[e],s.constructResolvingMessage=n,s[_S]=i,s}function Yee(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function G5(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const o=t[i];n.push(o&&0!=o.length?o.map(T).join(" "):"?")}return Error("Cannot resolve all parameters for '"+T(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+T(e)+"' is decorated with Injectable.")}function Jee(e,t){return Error(`Cannot mix multi providers and regular providers, got: ${e} ${t}`)}class pf{constructor(t,n){if(this.token=t,this.id=n,!t)throw new le(208,!1);this.displayName=T(this.token)}static get(t){return W5.get(L(t))}static get numberOfKeys(){return W5.numberOfKeys}}class ete{constructor(){this._allKeys=new Map}get(t){if(t instanceof pf)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const n=new pf(t,pf.numberOfKeys);return this._allKeys.set(t,n),n}get numberOfKeys(){return this._allKeys.size}}const W5=new ete;class tw{constructor(t,n,i){this.key=t,this.optional=n,this.visibility=i}static fromKey(t){return new tw(t,!1,null)}}const tte=[];class q5{constructor(t,n,i){this.key=t,this.resolvedFactories=n,this.multiProvider=i,this.resolvedFactory=this.resolvedFactories[0]}}class nte{constructor(t,n){this.factory=t,this.dependencies=n}}function ite(e){let t,n;if(e.useClass){const i=L(e.useClass);t=Ty().factory(i),n=X5(i)}else e.useExisting?(t=i=>i,n=[tw.fromKey(pf.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function ate(e,t){if(t){const n=t.map(i=>[i]);return t.map(i=>$5(e,i,n))}return X5(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=tte);return new nte(t,n)}function rte(e){return new q5(pf.get(e.provide),[ite(e)],e.multi||!1)}function ote(e){const i=function ste(e,t){for(let n=0;n<e.length;n++){const i=e[n],r=t.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw Jee(r,i);if(i.multiProvider)for(let o=0;o<i.resolvedFactories.length;o++)r.resolvedFactories.push(i.resolvedFactories[o]);else t.set(i.key.id,i)}else{let o;o=i.multiProvider?new q5(i.key,i.resolvedFactories.slice(),i.multiProvider):i,t.set(i.key.id,o)}}return t}(Y5(e,[]).map(rte),new Map);return Array.from(i.values())}function Y5(e,t){return e.forEach(n=>{if(n instanceof BO)t.push({provide:n,useClass:n});else if(n&&"object"==typeof n&&void 0!==n.provide)t.push(n);else{if(!Array.isArray(n))throw function Kee(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(n);Y5(n,t)}}),t}function X5(e){const t=Ty().parameters(e);if(!t)return[];if(t.some(n=>null==n))throw G5(e,t);return t.map(n=>$5(e,n,t))}function $5(e,t,n){let i=null,r=!1;if(!Array.isArray(t))return MS(t instanceof N0?t.token:t,r,null);let o=null;for(let s=0;s<t.length;++s){const a=t[s];a instanceof BO?i=a:a instanceof N0?i=a.token:a instanceof Vm?r=!0:a instanceof jO||a instanceof L0?o=a:a instanceof Zn&&(i=a)}if(i=L(i),null!=i)return MS(i,r,o);throw G5(e,n)}function MS(e,t,n){return new tw(pf.get(e),t,n)}const zy={};class Xm{static resolve(t){return ote(t)}static resolveAndCreate(t,n){const i=Xm.resolve(t);return Xm.fromResolvedProviders(i,n)}static fromResolvedProviders(t,n){return new lte(t,n)}}let lte=(()=>{class e{constructor(n,i){this._constructionCounter=0,this._providers=n,this.parent=i||null;const r=n.length;this.keyIds=[],this.objs=[];for(let o=0;o<r;o++)this.keyIds[o]=n[o].key.id,this.objs[o]=zy}get(n,i=yr){return this._getByKey(pf.get(n),null,i)}resolveAndCreateChild(n){const i=Xm.resolve(n);return this.createChildFromResolved(i)}createChildFromResolved(n){const i=new e(n);return i.parent=this,i}resolveAndInstantiate(n){return this.instantiateResolved(Xm.resolve([n])[0])}instantiateResolved(n){return this._instantiateProvider(n)}getProviderAtIndex(n){if(n<0||n>=this._providers.length)throw function Zee(e){return Error(`Index ${e} is out-of-bounds.`)}(n);return this._providers[n]}_new(n){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function $ee(e,t){return CS(e,t,function(n){return`Cannot instantiate cyclic dependency!${wS(n)}`})}(this,n.key);return this._instantiateProvider(n)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(n){if(n.multiProvider){const i=[];for(let r=0;r<n.resolvedFactories.length;++r)i[r]=this._instantiate(n,n.resolvedFactories[r]);return i}return this._instantiate(n,n.resolvedFactories[0])}_instantiate(n,i){const r=i.factory;let o,s;try{o=i.dependencies.map(a=>this._getByReflectiveDependency(a))}catch(a){throw a.addKey&&a.addKey(this,n.key),a}try{s=r(...o)}catch(a){throw function Qee(e,t,n,i){return CS(e,i,function(r){const o=T(r[0].token);return`${t.message}: Error during instantiation of ${o}!${wS(r)}.`},t)}(this,a,0,n.key)}return s}_getByReflectiveDependency(n){return this._getByKey(n.key,n.visibility,n.optional?null:yr)}_getByKey(n,i,r){return n===e.INJECTOR_KEY?this:i instanceof jO?this._getByKeySelf(n,r):this._getByKeyDefault(n,r,i)}_getObjByKeyId(n){for(let i=0;i<this.keyIds.length;i++)if(this.keyIds[i]===n)return this.objs[i]===zy&&(this.objs[i]=this._new(this._providers[i])),this.objs[i];return zy}_throwOrNull(n,i){if(i!==yr)return i;throw function Xee(e,t){return CS(e,t,function(n){return`No provider for ${T(n[0].token)}!${wS(n)}`})}(this,n)}_getByKeySelf(n,i){const r=this._getObjByKeyId(n.id);return r!==zy?r:this._throwOrNull(n,i)}_getByKeyDefault(n,i,r){let o;for(o=r instanceof L0?this.parent:this;o instanceof e;){const s=o,a=s._getObjByKeyId(n.id);if(a!==zy)return a;o=s.parent}return null!==o?o.get(n.token,i):this._throwOrNull(n,i)}get displayName(){return`ReflectiveInjector(providers: [${function cte(e,t){const n=[];for(let i=0;i<e._providers.length;++i)n[i]=t(e.getProviderAtIndex(i));return n}(this,i=>' "'+i.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=pf.get(ml),e})();function De(e,t=ln.Default){const n=Ht();return null===n?Lt(e,t):bN(Ei(),n,L(e),t)}function K5(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const s=e.data[o];qd(n[i]),s.contentQueries(2,t[o],o)}}}function nw(e,t,n,i,r,o,s,a,l,c,d){const h=t.blueprint.slice();return h[Pa]=r,h[Hi]=76|i,(null!==d||e&&1024&e[Hi])&&(h[Hi]|=1024),go(h),h[mo]=h[Dc]=e,h[qr]=n,h[Th]=s||e&&e[Th],h[Gi]=a||e&&e[Gi],h[Vd]=l||e&&e[Vd]||null,h[Ec]=c||e&&e[Ec]||null,h[rs]=o,h[Xo]=function nJ(){return tJ++}(),h[nf]=d,h[es]=2==t.type?e[es]:h,h}function W0(e,t,n,i,r){let o=e.data[t];if(null===o)o=function PS(e,t,n,i,r){const o=od(),s=Yu(),l=e.data[t]=function mte(e,t,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,i,r),function Fh(){return xi.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const s=function Ms(){const e=xi.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Fo(o,!0),o}function Uy(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function OS(e,t,n){gt(t);try{const i=e.viewQuery;null!==i&&NS(1,i,n);const r=e.template;null!==r&&Z5(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&K5(e,t),e.staticViewQueries&&NS(2,e.viewQuery,n);const o=e.components;null!==o&&function ute(e,t){for(let n=0;n<t.length;n++)Nte(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Hi]&=-5,qn()}}function iw(e,t,n,i){const r=t[Hi];if(128!=(128&r)){gt(t);try{go(t),function ad(e){return xi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Z5(e,t,n,2,i);const s=3==(3&r);if(s){const c=e.preOrderCheckHooks;null!==c&&So(t,c,null)}else{const c=e.preOrderHooks;null!==c&&Nl(t,c,0,null),Qu(t,0)}if(function kte(e){for(let t=QO(e);null!==t;t=KO(t)){if(!t[Ih])continue;const n=t[Ac];for(let i=0;i<n.length;i++){const r=n[i];512&r[Hi]||ic(r[mo],1),r[Hi]|=512}}}(t),function Ite(e){for(let t=QO(e);null!==t;t=KO(t))for(let n=os;n<t.length;n++){const i=t[n],r=i[Tn];Ti(i)&&iw(r,i,r.template,i[qr])}}(t),null!==e.contentQueries&&K5(e,t),s){const c=e.contentCheckHooks;null!==c&&So(t,c)}else{const c=e.contentHooks;null!==c&&Nl(t,c,1),Qu(t,1)}!function dte(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)z(~r);else{const o=r,s=n[++i],a=n[++i];Bh(s,o),a(2,t[o])}}}finally{z(-1)}}(e,t);const a=e.components;null!==a&&function hte(e,t){for(let n=0;n<t.length;n++)Rte(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&NS(2,l,i),s){const c=e.viewCheckHooks;null!==c&&So(t,c)}else{const c=e.viewHooks;null!==c&&Nl(t,c,2),Qu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Hi]&=-41,512&t[Hi]&&(t[Hi]&=-513,ic(t[mo],-1))}finally{qn()}}}function Z5(e,t,n,i,r){const o=be(),s=2&i;try{z(-1),s&&t.length>to&&B5(e,t,to,!1),et(s?2:0,r),n(i,r)}finally{z(o),et(s?3:1,r)}}function SS(e,t,n){if(kh(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function ES(e,t,n){js()&&(function wte(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;Hd(n)&&function Dte(e,t,n){const i=mi(t,e),r=J5(n),o=e[Th],s=rw(e,nw(e,r,null,n.onPush?32:16,i,t,o,o.createRenderer(i,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||zx(n,t),fl(i,t);const s=n.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],c=zm(t,e,a,n);fl(c,t),null!==s&&Ate(0,a-r,c,l,0,s),na(l)&&(Yr(n.index,t)[qr]=zm(t,e,a,n))}}(e,t,n,mi(n,t)),64==(64&n.flags)&&rL(e,t,n))}function DS(e,t,n=mi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function J5(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=AS(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function AS(e,t,n,i,r,o,s,a,l,c){const d=to+i,h=d+r,p=function pte(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:tr);return n}(d,h),g="function"==typeof c?c():c;return p[Tn]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1}}function eL(e,t,n,i){const r=sL(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&aL(e).push(i,r.length-1))}function tL(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];null===i?nL(n,t,r,o):i.hasOwnProperty(r)&&nL(n,t,i[r],o)}return n}function nL(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function Lc(e,t,n,i,r,o,s,a){const l=mi(t,n);let d,c=t.inputs;!a&&null!=c&&(d=c[i])?(LS(e,n,d,i,r),Hd(t)&&function yte(e,t){const n=Yr(t,e);16&n[Hi]||(n[Hi]|=32)}(n,t.index)):3&t.type&&(i=function vte(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function TS(e,t,n,i){if(js()){const r=null===i?null:{"":-1},o=function Mte(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(L5(t,s.selectors,!1))if(i||(i=[]),na(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),IS(e,t,a.length)}else i.unshift(s),IS(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&iL(e,t,n,s,r,a),r&&function Pte(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const o=n[t[r+1]];if(null==o)throw new le(-301,!1);i.push(t[r],o)}}}(n,i,r)}n.mergedAttrs=Uh(n.mergedAttrs,n.attrs)}function iL(e,t,n,i,r,o){for(let c=0;c<i.length;c++)NO(zx(n,t),e,i[c].type);!function Ste(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let c=0;c<i.length;c++){const d=i[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=Uy(e,t,i.length,null);for(let c=0;c<i.length;c++){const d=i[c];n.mergedAttrs=Uh(n.mergedAttrs,d.hostAttrs),Ete(e,n,t,l,d),Ote(l,d,r),null!==d.contentQueries&&(n.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function gte(e,t,n){const r=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<r;d++){const h=o[d],p=n?n.get(h):null,v=p?p.outputs:null;l=tL(h.inputs,d,l,p?p.inputs:null),c=tL(h.outputs,d,c,v);const y=null===l||null===s||N5(t)?null:Tte(l,d,s);a.push(y)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,o)}function rL(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=function $u(){return xi.lFrame.currentDirectiveIndex}();try{z(o);for(let a=i;a<r;a++){const l=e.data[a],c=t[a];ld(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Cte(l,c)}}finally{z(-1),ld(s)}}function Cte(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function IS(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function Ote(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;na(t)&&(n[""]=e)}}function Ete(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=Tc(r.type)),s=new Bm(o,na(r),De);e.blueprint[i]=s,n[i]=s,function _te(e,t,n,i,r){const o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function xte(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,i,o)}}(e,t,i,Uy(e,n,r.hostVars,tr),r)}function Gh(e,t,n,i,r,o){const s=mi(e,t);!function kS(e,t,n,i,r,o,s){if(null==o)e.removeAttribute(t,r,n);else{const a=null==s?Re(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}(t[Gi],s,o,e.value,n,i,r)}function Ate(e,t,n,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],d=s[l++],h=s[l++];null!==a?i.setInput(n,h,c,d):n[d]=h}}}function Tte(e,t,n){let i=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function oL(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}function Rte(e,t){const n=Yr(t,e);if(Ti(n)){const i=n[Tn];48&n[Hi]?iw(i,n,i.template,n[qr]):n[Tl]>0&&RS(n)}}function RS(e){for(let i=QO(e);null!==i;i=KO(i))for(let r=os;r<i.length;r++){const o=i[r];if(Ti(o))if(512&o[Hi]){const s=o[Tn];iw(s,o,s.template,o[qr])}else o[Tl]>0&&RS(o)}const n=e[Tn].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Yr(n[i],e);Ti(r)&&r[Tl]>0&&RS(r)}}function Nte(e,t){const n=Yr(t,e),i=n[Tn];(function Lte(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),OS(i,n,n[qr])}function rw(e,t){return e[qa]?e[Jc][Oa]=t:e[qa]=t,e[Jc]=t,t}function ow(e){for(;e;){e[Hi]|=32;const t=Ry(e);if(Dm(e)&&!t)return e;e=t}return null}function sw(e,t,n,i=!0){const r=t[Th];r.begin&&r.begin();try{iw(e,t,e.template,n)}catch(s){throw i&&cL(t,s),s}finally{r.end&&r.end()}}function NS(e,t,n){qd(0),t(e,n)}function sL(e){return e[so]||(e[so]=[])}function aL(e){return e.cleanup||(e.cleanup=[])}function cL(e,t){const n=e[Ec],i=n?n.get(qm,null):null;i&&i.handleError(t)}function LS(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function ep(e,t,n){const i=li(t,e);!function YN(e,t,n){e.setValue(t,n)}(e[Gi],i,n)}function aw(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=B(r,a):2==o&&(i=B(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function lw(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&i.push(ut(o)),Sa(o))for(let a=os;a<o.length;a++){const l=o[a],c=l[Tn].firstChild;null!==c&&lw(l[Tn],l,c,i)}const s=n.type;if(8&s)lw(e,t,n.child,i);else if(32&s){const a=$O(n,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=r5(t,n);if(Array.isArray(a))i.push(...a);else{const l=Ry(t[es]);lw(l[Tn],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class jy{get rootNodes(){const t=this._lView,n=t[Tn];return lw(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qr]}set context(t){this._lView[qr]=t}get destroyed(){return 128==(128&this._lView[Hi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[mo];if(Sa(t)){const n=t[Il],i=n?n.indexOf(this):-1;i>-1&&(eS(t,i),jx(n,i))}this._attachedToViewContainer=!1}$N(this._lView[Tn],this._lView)}onDestroy(t){eL(this._lView[Tn],this._lView,null,t)}markForCheck(){ow(this._cdRefInjectingView||this._lView)}detach(){this._lView[Hi]&=-65}reattach(){this._lView[Hi]|=64}detectChanges(){sw(this._lView[Tn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vJ(e,t){Ny(e,t,t[Gi],2,null,null)}(this._lView[Tn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=t}}class Fte extends jy{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;sw(t[Tn],t,t[qr],!1)}checkNoChanges(){}get context(){return null}}class dL extends j0{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=_r(t);return new Vy(n,this.ngModule)}}function hL(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class zte{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=oo(i);const r=this.injector.get(t,bS,i);return r!==bS||n===bS?r:this.parentInjector.get(t,n,i)}}class Vy extends A5{get inputs(){return hL(this.componentDef.inputs)}get outputs(){return hL(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function zee(e){return e.map(Bee).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=(r=r||this.ngModule)instanceof Hh?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new zte(t,o):t,a=s.get(H0,null);if(null===a)throw new le(407,!1);const l=s.get(_ee,null),c=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",h=i?function fte(e,t,n){return e.selectRootElement(t,n===oi.ShadowDom)}(c,i,this.componentDef.encapsulation):JO(c,d,function Bte(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(d)),p=this.componentDef.onPush?288:272,g=AS(0,null,null,1,0,null,null,null,null,null),v=nw(null,g,null,p,null,null,a,c,l,s,null);let y,b;gt(v);try{const P=this.componentDef;let O,S=null;P.findHostDirectiveDefs?(O=[],S=new Map,P.findHostDirectiveDefs(P,O,S),O.push(P)):O=[P];const A=function jte(e,t){const n=e[Tn],i=to;return e[i]=t,W0(n,i,2,"#host",null)}(v,h),H=function Vte(e,t,n,i,r,o,s,a){const l=r[Tn];!function Hte(e,t,n,i){for(const r of e)t.mergedAttrs=Uh(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(aw(t,t.mergedAttrs,!0),null!==n&&a5(i,n,t))}(i,e,t,s);const c=o.createRenderer(t,n),d=nw(r,J5(n),null,n.onPush?32:16,r[e.index],e,o,c,a||null,null,null);return l.firstCreatePass&&IS(l,e,i.length-1),rw(r,d),r[e.index]=d}(A,h,P,O,v,a,c);b=$o(g,to),h&&function Wte(e,t,n,i){if(i)Py(e,n,["ng-version",xee.full]);else{const{attrs:r,classes:o}=function Uee(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Yd(r))break;r=o}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&Py(e,n,r),o&&o.length>0&&s5(e,n,o.join(" "))}}(c,P,h,i),void 0!==n&&function qte(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const o=n[r];i.push(null!=o?Array.from(o):null)}}(b,this.ngContentSelectors,n),y=function Gte(e,t,n,i,r,o){const s=Ei(),a=r[Tn],l=mi(s,r);iL(a,r,s,n,null,i);for(let d=0;d<n.length;d++)fl(zm(r,a,s.directiveStart+d,s),r);rL(a,r,s),l&&fl(l,r);const c=zm(r,a,s.directiveStart+s.componentOffset,s);if(e[qr]=r[qr]=c,null!==o)for(const d of o)d(c,t);return SS(a,s,e),c}(H,P,O,S,v,[Yte]),OS(g,v,null)}finally{qn()}return new Ute(this.componentType,y,V0(b,v),v,b)}}class Ute extends fee{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new Fte(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;LS(o[Tn],o,r,t,n),ow(Yr(this._tNode.index,o))}}get injector(){return new D0(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Yte(){const e=Ei();Ps(Ht()[Tn],e)}function lo(e){let t=function uL(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(na(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new le(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const s=e;s.inputs=FS(e.inputs),s.declaredInputs=FS(e.declaredInputs),s.outputs=FS(e.outputs);const a=r.hostBindings;a&&Kte(e,a);const l=r.viewQuery,c=r.contentQueries;if(l&&$te(e,l),c&&Qte(e,c),X(e.inputs,r.inputs),X(e.declaredInputs,r.declaredInputs),X(e.outputs,r.outputs),na(r)&&r.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===lo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Xte(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Uh(r.hostAttrs,n=Uh(n,r.hostAttrs))}}(i)}function FS(e){return e===Sr?{}:e===Wn?[]:e}function $te(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function Qte(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,o)=>{t(i,r,o),n(i,r,o)}:t}function Kte(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}function cw(e){return!!BS(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function BS(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Wh(e,t,n){return e[t]=n}function gl(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function $m(e,t,n,i){const r=gl(e,t,n);return gl(e,t+1,i)||r}function hd(e,t,n,i,r,o){const s=$m(e,t,n,i);return $m(e,t+2,r,o)||s}function Eo(e,t,n,i){const r=Ht();return gl(r,Rl(),t)&&(hr(),Gh(te(),r,e,t,n,i)),Eo}function Y0(e,t,n,i){return gl(e,Rl(),n)?t+Re(n)+i:tr}function X0(e,t,n,i,r,o){const a=$m(e,function pl(){return xi.lFrame.bindingIndex}(),n,r);return ra(2),a?t+Re(n)+i+Re(r)+o:tr}function st(e,t,n,i,r,o,s,a){const l=Ht(),c=hr(),d=e+to,h=c.firstCreatePass?function ane(e,t,n,i,r,o,s,a,l){const c=t.consts,d=W0(t,e,4,s||null,Xi(c,a));TS(t,n,d,Xi(c,l)),Ps(t,d);const h=d.tView=AS(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,n,i,r,o,s):c.data[d];Fo(h,!1);const p=l[Gi].createComment("");qx(c,l,p,h),fl(p,l),rw(l,l[d]=oL(p,l,p,h)),kl(h)&&ES(c,l,h),null!=s&&DS(l,h,a)}function vo(e){return no(function cf(){return xi.lFrame.contextLView}(),to+e)}function Qe(e,t,n){const i=Ht();return gl(i,Rl(),t)&&Lc(hr(),te(),i,e,t,i[Gi],n,!1),Qe}function zS(e,t,n,i,r){const s=r?"class":"style";LS(e,n,t.inputs[s],s,i)}function x(e,t,n,i){const r=Ht(),o=hr(),s=to+e,a=r[Gi],l=o.firstCreatePass?function cne(e,t,n,i,r,o){const s=t.consts,l=W0(t,e,2,i,Xi(s,r));return TS(t,n,l,Xi(s,o)),null!==l.attrs&&aw(l,l.attrs,!1),null!==l.mergedAttrs&&aw(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,n,i):o.data[s],c=r[s]=JO(a,t,function Fi(){return xi.lFrame.currentNamespace}()),d=kl(l);return Fo(l,!0),a5(a,c,l),32!=(32&l.flags)&&qx(o,r,c,l),0===function hl(){return xi.lFrame.elementDepthCount}()&&fl(c,r),function rc(){xi.lFrame.elementDepthCount++}(),d&&(ES(o,r,l),SS(o,l,r)),null!==i&&DS(r,l),x}function C(){let e=Ei();Yu()?Xu():(e=e.parent,Fo(e,!1));const t=e;!function oc(){xi.lFrame.elementDepthCount--}();const n=hr();return n.firstCreatePass&&(Ps(n,e),kh(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function TO(e){return 0!=(8&e.flags)}(t)&&zS(n,t,Ht(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function IO(e){return 0!=(16&e.flags)}(t)&&zS(n,t,Ht(),t.stylesWithoutHost,!1),C}function ce(e,t,n,i){return x(e,t,n,i),C(),ce}function gs(e,t,n){const i=Ht(),r=hr(),o=e+to,s=r.firstCreatePass?function dne(e,t,n,i,r){const o=t.consts,s=Xi(o,i),a=W0(t,e,8,"ng-container",s);return null!==s&&aw(a,s,!0),TS(t,n,a,Xi(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,n):r.data[o];Fo(s,!0);const a=i[o]=i[Gi].createComment("");return qx(r,i,a,s),fl(a,i),kl(s)&&(ES(r,i,s),SS(r,s,i)),null!=n&&DS(i,s),gs}function vs(){let e=Ei();const t=hr();return Yu()?Xu():(e=e.parent,Fo(e,!1)),t.firstCreatePass&&(Ps(t,e),kh(e)&&t.queries.elementEnd(e)),vs}function kr(){return Ht()}function Gy(e){return!!e&&"function"==typeof e.then}const US=function OL(e){return!!e&&"function"==typeof e.subscribe};function dt(e,t,n,i){const r=Ht(),o=hr(),s=Ei();return function EL(e,t,n,i,r,o,s){const a=kl(i),c=e.firstCreatePass&&aL(e),d=t[qr],h=sL(t);let p=!0;if(3&i.type||s){const y=mi(i,t),b=s?s(y):y,P=h.length,O=s?A=>s(ut(A[i.index])):i.index;let S=null;if(!s&&a&&(S=function hne(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===n&&r[o+1]===i){const a=t[so],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,p=!1;else{o=AL(i,t,d,o,!1);const A=n.listen(b,r,o);h.push(o,A),c&&c.push(r,O,P,P+1)}}else o=AL(i,t,d,o,!1);const g=i.outputs;let v;if(p&&null!==g&&(v=g[r])){const y=v.length;if(y)for(let b=0;b<y;b+=2){const H=t[v[b]][v[b+1]].subscribe(o),V=h.length;h.push(o,H),c&&c.push(r,i.index,V,-(V+1))}}}(o,r,r[Gi],s,e,t,i),dt}function DL(e,t,n,i){try{return et(6,t,n),!1!==n(i)}catch(r){return cL(e,r),!1}finally{et(7,t,n)}}function AL(e,t,n,i,r){return function o(s){if(s===Function)return i;ow(e.componentOffset>-1?Yr(e.index,t):t);let l=DL(t,n,i,s),c=o.__ngNextListenerFn__;for(;c;)l=DL(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ht(e=1){return function In(e){return(xi.lFrame.contextLView=function or(e,t){for(;e>0;)t=t[Dc],e--;return t}(e,xi.lFrame.contextLView))[qr]}(e)}function une(e,t){let n=null;const i=function Ree(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?L5(e,o,!0):Fee(i,o))return r}else n=r}return n}function lc(e,t,n){return Ie(e,"",t,"",n),lc}function Ie(e,t,n,i,r){const o=Ht(),s=Y0(o,t,n,i);return s!==tr&&Lc(hr(),te(),o,e,s,o[Gi],r,!1),Ie}function cc(e,t,n,i,r,o,s){const a=Ht(),l=X0(a,t,n,i,r,o);return l!==tr&&Lc(hr(),te(),a,e,l,a[Gi],s,!1),cc}function hw(e,t){return e<<17|t<<2}function ff(e){return e>>17&32767}function jS(e){return 2|e}function Qm(e){return(131068&e)>>2}function VS(e,t){return-131069&e|t<<2}function HS(e){return 1|e}function UL(e,t,n,i,r){const o=e[n+1],s=null===t;let a=i?ff(o):Qm(o),l=!1;for(;0!==a&&(!1===l||s);){const d=e[a+1];yne(e[a],t)&&(l=!0,e[a+1]=i?HS(d):jS(d)),a=i?ff(d):Qm(d)}l&&(e[n+1]=i?jS(o):HS(o))}function yne(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&R0(e,t)>=0}const sa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jL(e){return e.substring(sa.key,sa.keyEnd)}function VL(e,t){const n=sa.textEnd;return n===t?-1:(t=sa.keyEnd=function wne(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,sa.key=t,n),tv(e,t,n))}function tv(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ss(e,t){return function Xd(e,t,n,i){const r=Ht(),o=hr(),s=ra(2);o.firstUpdatePass&&XL(o,e,s,i),t!==tr&&gl(r,s,t)&&QL(o,o.data[be()],r,r[Gi],e,r[s+1]=function kne(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=T(Rc(e)))),e}(t,n),i,s)}(e,t,null,!0),ss}function mf(e){$d(Tne,Yh,e,!0)}function Yh(e,t){for(let n=function _ne(e){return function GL(e){sa.key=0,sa.keyEnd=0,sa.value=0,sa.valueEnd=0,sa.textEnd=e.length}(e),VL(e,tv(e,0,sa.textEnd))}(t);n>=0;n=VL(t,n))kc(e,jL(t),!0)}function $d(e,t,n,i){const r=hr(),o=ra(2);r.firstUpdatePass&&XL(r,null,o,i);const s=Ht();if(n!==tr&&gl(s,o,n)){const a=r.data[be()];if(ZL(a,i)&&!YL(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=B(l,n||"")),zS(r,a,s,n,i)}else!function Ine(e,t,n,i,r,o,s,a){r===tr&&(r=Wn);let l=0,c=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=l<r.length?r[l+1]:void 0,g=c<o.length?o[c+1]:void 0;let y,v=null;d===h?(l+=2,c+=2,p!==g&&(v=h,y=g)):null===h||null!==d&&d<h?(l+=2,v=d):(c+=2,v=h,y=g),null!==v&&QL(e,t,n,i,v,y,s,a),d=l<r.length?r[l]:null,h=c<o.length?o[c]:null}}(r,a,s,s[Gi],s[o+1],s[o+1]=function Ane(e,t,n){if(null==n||""===n)return Wn;const i=[],r=Rc(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,o)}}function YL(e,t){return t>=e.expandoStartIndex}function XL(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[be()],s=YL(e,n);ZL(o,i)&&null===t&&!s&&(t=!1),t=function One(e,t,n,i){const r=function Wd(e){const t=xi.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Wy(n=WS(null,e,t,n,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=WS(r,e,t,n,i),null===o){let l=function Sne(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Qm(i))return e[ff(i)]}(e,t,i);void 0!==l&&Array.isArray(l)&&(l=WS(null,e,t,l[1],i),l=Wy(l,t.attrs,i),function Ene(e,t,n,i){e[ff(n?t.classBindings:t.styleBindings)]=i}(e,t,i,l))}else o=function Dne(e,t,n){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Wy(i,e[o].hostAttrs,n);return Wy(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function gne(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=ff(s),l=Qm(s);e[i]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||R0(n,d)>0)&&(c=!0)):d=n,r)if(0!==l){const p=ff(e[a+1]);e[i+1]=hw(p,a),0!==p&&(e[p+1]=VS(e[p+1],i)),e[a+1]=function fne(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=hw(a,0),0!==a&&(e[a+1]=VS(e[a+1],i)),a=i;else e[i+1]=hw(l,0),0===a?a=i:e[l+1]=VS(e[l+1],i),l=i;c&&(e[i+1]=jS(e[i+1])),UL(e,d,i,!0),UL(e,d,i,!1),function vne(e,t,n,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&R0(o,t)>=0&&(n[i+1]=HS(n[i+1]))}(t,d,e,i,o),s=hw(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function WS(e,t,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],i=Wy(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function Wy(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),kc(e,s,!!n||t[++o]))}return void 0===e?null:e}function Tne(e,t,n){const i=String(t);""!==i&&!i.includes(" ")&&kc(e,i,n)}function QL(e,t,n,i,r,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function mne(e){return 1==(1&e)}(c)?KL(l,t,n,r,Qm(c),s):void 0;uw(d)||(uw(o)||function pne(e){return 2==(2&e)}(c)&&(o=KL(l,null,n,r,a,s)),function SJ(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=-1===i.indexOf("-")?void 0:sc.DashCase;null==r?e.removeStyle(n,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=sc.Important),e.setStyle(n,i,r,o))}}(i,s,li(be(),n),r,o))}function KL(e,t,n,i,r,o){const s=null===t;let a;for(;r>0;){const l=e[r],c=Array.isArray(l),d=c?l[1]:l,h=null===d;let p=n[r+1];p===tr&&(p=h?Wn:void 0);let g=h?zO(p,i):d===i?p:void 0;if(c&&!uw(g)&&(g=zO(l,i)),uw(g)&&(a=g,s))return a;const v=e[r+1];r=s?ff(v):Qm(v)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=zO(l,i))}return a}function uw(e){return void 0!==e}function ZL(e,t){return 0!=(e.flags&(t?8:16))}function D(e,t=""){const n=Ht(),i=hr(),r=e+to,o=i.firstCreatePass?W0(i,r,1,t,null):i.data[r],s=n[r]=function ZO(e,t){return e.createText(t)}(n[Gi],t);qx(i,n,s,o),Fo(o,!1)}function aa(e){return Do("",e,""),aa}function Do(e,t,n){const i=Ht(),r=Y0(i,e,t,n);return r!==tr&&ep(i,be(),r),Do}function pw(e,t,n,i,r){const o=Ht(),s=X0(o,e,t,n,i,r);return s!==tr&&ep(o,be(),s),pw}function Xh(e,t,n){$d(kc,Yh,Y0(Ht(),e,t,n),!0)}const Zm=void 0;var Zne=["en",[["a","p"],["AM","PM"],Zm],[["AM","PM"],Zm,Zm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zm,"{1} 'at' {0}",Zm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Kne(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let nv={};function Ll(e){const t=function Jne(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=vF(t);if(n)return n;const i=t.split("-")[0];if(n=vF(i),n)return n;if("en"===i)return Zne;throw new le(701,!1)}function vF(e){return e in nv||(nv[e]=ei.ng&&ei.ng.common&&ei.ng.common.locales&&ei.ng.common.locales[e]),nv[e]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const iv="en-US";let yF=iv;function $S(e,t,n,i,r){if(e=L(e),Array.isArray(e))for(let o=0;o<e.length;o++)$S(e[o],t,n,i,r);else{const o=hr(),s=Ht();let a=Wm(e)?e:L(e.provide),l=D5(e);const c=Ei(),d=1048575&c.providerIndexes,h=c.directiveStart,p=c.providerIndexes>>20;if(Wm(e)||!e.multi){const g=new Bm(l,r,De),v=KS(a,t,r?d:d+p,h);-1===v?(NO(zx(c,s),o,a),QS(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(g),s.push(g)):(n[v]=g,s[v]=g)}else{const g=KS(a,t,d+p,h),v=KS(a,t,d,d+p),b=v>=0&&n[v];if(r&&!b||!r&&!(g>=0&&n[g])){NO(zx(c,s),o,a);const P=function Xie(e,t,n,i,r){const o=new Bm(e,n,De);return o.multi=[],o.index=t,o.componentProviders=0,HF(o,r,i&&!n),o}(r?Yie:qie,n.length,r,i,l);!r&&b&&(n[v].providerFactory=P),QS(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(P),s.push(P)}else QS(o,e,g>-1?g:v,HF(n[r?v:g],l,!r&&i));!r&&i&&b&&n[v].componentProviders++}}}function QS(e,t,n,i){const r=Wm(t),o=function aee(e){return!!e.useClass}(t);if(r||o){const l=(o?L(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const d=c.indexOf(n);-1===d?c.push(n,[i,l]):c[d+1].push(i,l)}else c.push(n,l)}}}function HF(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function KS(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function qie(e,t,n,i){return ZS(this.multi,[])}function Yie(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=zm(n,n[Tn],this.providerFactory.index,i);o=a.slice(0,s),ZS(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ZS(r,o);return o}function ZS(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Uo(e,t=[]){return n=>{n.providersResolver=(i,r)=>function Wie(e,t,n){const i=hr();if(i.firstCreatePass){const r=na(e);$S(n,i.data,i.blueprint,r,!0),$S(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class rv{}class GF{}class WF extends rv{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dL(this);const i=fs(t);this._bootstrapComponents=Ju(i.bootstrap),this._r3Injector=H5(t,n,[{provide:rv,useValue:this},{provide:j0,useValue:this.componentFactoryResolver}],T(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class JS extends GF{constructor(t){super(),this.moduleType=t}create(t){return new WF(this.moduleType,t)}}class Qie extends rv{constructor(t,n,i){super(),this.componentFactoryResolver=new dL(this),this.instance=null;const r=new E5([...t,{provide:rv,useValue:this},{provide:j0,useValue:this.componentFactoryResolver}],n||ew(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function yw(e,t,n=null){return new Qie(e,t,n).injector}let Kie=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=M5(0,n.type),r=i.length>0?yw([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Dt({token:e,providedIn:"environment",factory:()=>new e(Lt(Hh))}),e})();function qF(e){e.getStandaloneInjector=t=>t.get(Kie).getOrCreateStandaloneInjector(e)}function Ea(e,t,n,i){return function eB(e,t,n,i,r,o){const s=t+n;return gl(e,s,r)?Wh(e,s+1,o?i.call(o,r):i(r)):Ky(e,s+1)}(Ht(),Oo(),e,t,n,i)}function Jm(e,t,n,i,r){return tB(Ht(),Oo(),e,t,n,i,r)}function JF(e,t,n,i,r,o,s){return function iB(e,t,n,i,r,o,s,a,l){const c=t+n;return hd(e,c,r,o,s,a)?Wh(e,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Ky(e,c+4)}(Ht(),Oo(),e,t,n,i,r,o,s)}function nE(e,t,n,i,r,o,s,a){const l=Oo()+e,c=Ht(),d=hd(c,l,n,i,r,o);return gl(c,l+4,s)||d?Wh(c,l+5,a?t.call(a,n,i,r,o,s):t(n,i,r,o,s)):function Hy(e,t){return e[t]}(c,l+5)}function Ky(e,t){const n=e[t];return n===tr?void 0:n}function tB(e,t,n,i,r,o,s){const a=t+n;return $m(e,a,r,o)?Wh(e,a+2,s?i.call(s,r,o):i(r,o)):Ky(e,a+2)}function nB(e,t,n,i,r,o,s,a){const l=t+n;return function dw(e,t,n,i,r){const o=$m(e,t,n,i);return gl(e,t+2,r)||o}(e,l,r,o,s)?Wh(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):Ky(e,l+3)}function iE(e,t){const n=hr();let i;const r=e+to;n.firstCreatePass?(i=function hre(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=Tc(i.type)),s=qi(De);try{const a=Ki(!1),l=o();return Ki(a),function lne(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,Ht(),r,l),l}finally{qi(s)}}function Zy(e,t){return e[Tn].data[t].pure}function rE(e){return t=>{setTimeout(e,void 0,t)}}const $i=class mre extends _.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=rE(o),r&&(r=rE(r)),s&&(s=rE(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof w.w&&t.add(a),a}};function gre(){return this._results[Symbol.iterator]()}class oE{get changes(){return this._changes||(this._changes=new $i)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=oE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gre)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=function dd(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function TZ(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let as=(()=>{class e{}return e.__NG_ELEMENT_ID__=bre,e})();const vre=as,yre=class extends vre{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tView,r=nw(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[ed]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Ya];return null!==s&&(r[Ya]=s.createEmbeddedView(i)),OS(i,r,t),new jy(r)}};function bre(){return bw(Ei(),Ht())}function bw(e,t){return 4&e.type?new yre(t,e,V0(e,t)):null}let Qd=(()=>{class e{}return e.__NG_ELEMENT_ID__=_re,e})();function _re(){return cB(Ei(),Ht())}const xre=Qd,aB=class extends xre{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return V0(this._hostTNode,this._hostLView)}get injector(){return new D0(this._hostTNode,this._hostLView)}get parentInjector(){const t=RO(this._hostTNode,this._hostLView);if(J(t)){const n=Ct(t,this._hostLView),i=de(t);return new D0(n[Tn].data[i+8],n)}return new D0(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=lB(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-os}createEmbeddedView(t,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedView(n||{},o);return this.insert(s,r),s}createComponent(t,n,i,r,o){const s=t&&!Dy(t);let a;if(s)a=n;else{const h=n||{};a=h.index,i=h.injector,r=h.projectableNodes,o=h.environmentInjector||h.ngModuleRef}const l=s?t:new Vy(_r(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const p=(s?c:this.parentInjector).get(Hh,null);p&&(o=p)}const d=l.create(c,r,void 0,o);return this.insert(d.hostView,a),d}insert(t,n){const i=t._lView,r=i[Tn];if(function Ic(e){return Sa(e[mo])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const h=i[mo],p=new aB(h,h[rs],h[mo]);p.detach(p.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function bJ(e,t,n,i){const r=os+i,o=n.length;i>0&&(n[r-1][Oa]=t),i<o-os?(t[Oa]=n[r],ON(n,os+i,t)):(n.push(t),t[Oa]=null),t[mo]=n;const s=t[ed];null!==s&&n!==s&&function _J(e,t){const n=e[Ac];t[es]!==t[mo][mo][es]&&(e[Ih]=!0),null===n?e[Ac]=[t]:n.push(t)}(s,t);const a=t[Ya];null!==a&&a.insertView(e),t[Hi]|=64}(r,i,s,o);const a=iS(o,s),l=i[Gi],c=Wx(l,s[nd]);return null!==c&&function gJ(e,t,n,i,r,o){i[Pa]=r,i[rs]=t,Ny(e,i,n,1,r,o)}(r,s[rs],l,i,c,a),t.attachToViewContainerRef(),ON(sE(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=lB(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=eS(this._lContainer,n);i&&(jx(sE(this._lContainer),n),$N(i[Tn],i))}detach(t){const n=this._adjustIndex(t,-1),i=eS(this._lContainer,n);return i&&null!=jx(sE(this._lContainer),n)?new jy(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function lB(e){return e[Il]}function sE(e){return e[Il]||(e[Il]=[])}function cB(e,t){let n;const i=t[e.index];if(Sa(i))n=i;else{let r;if(8&e.type)r=ut(i);else{const o=t[Gi];r=o.createComment("");const s=mi(e,t);Hm(o,Wx(o,s),r,function MJ(e,t){return e.nextSibling(t)}(o,s),!1)}t[e.index]=n=oL(i,t,r,e),rw(t,n)}return new aB(n,e,t)}class aE{constructor(t){this.queryList=t,this.matches=null}clone(){return new aE(this.queryList)}setDirty(){this.queryList.setDirty()}}class lE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new lE(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==fB(t,n).matches&&this.queries[n].setDirty()}}class dB{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class cE{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new cE(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class dE{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new dE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,n,wre(n,o)),this.matchTNodeWithReadOption(t,n,Ux(n,t,o,!1,!1))}else i===as?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ux(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ao||r===Qd||r===as&&4&n.type)this.addMatch(n.index,-2);else{const o=Ux(n,t,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function wre(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Mre(e,t,n,i){return-1===n?function Cre(e,t){return 11&e.type?V0(e,t):4&e.type?bw(e,t):null}(t,e):-2===n?function Pre(e,t,n){return n===ao?V0(t,e):n===as?bw(t,e):n===Qd?cB(t,e):void 0}(e,t,i):zm(e,e[Tn],n,t)}function hB(e,t,n,i){const r=t[Ya].queries[i];if(null===r.matches){const o=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:Mre(t,o[c],s[l+1],n.metadata.read))}r.matches=a}return r.matches}function hE(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const s=hB(e,t,r,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],d=t[-l];for(let h=os;h<d.length;h++){const p=d[h];p[ed]===p[mo]&&hE(p[Tn],p,c,i)}if(null!==d[Ac]){const h=d[Ac];for(let p=0;p<h.length;p++){const g=h[p];hE(g[Tn],g,c,i)}}}}}return i}function co(e){const t=Ht(),n=hr(),i=zh();qd(i+1);const r=fB(n,i);if(e.dirty&&function Xa(e){return 4==(4&e[Hi])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?hE(n,t,i,[]):hB(n,t,r,i);e.reset(o,yee),e.notifyOnChanges()}return!0}return!1}function $h(e,t,n){const i=hr();i.firstCreatePass&&(pB(i,new dB(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),uB(i,Ht(),t)}function ho(){return function Ore(e,t){return e[Ya].queries[t].queryList}(Ht(),zh())}function uB(e,t,n){const i=new oE(4==(4&n));eL(e,t,i,i.destroy),null===t[Ya]&&(t[Ya]=new lE),t[Ya].queries.push(new aE(i))}function pB(e,t,n){null===e.queries&&(e.queries=new cE),e.queries.track(new dE(t,n))}function fB(e,t){return e.queries.getByIndex(t)}function Fc(e,t){return bw(e,t)}const Ao=Sy("Input",e=>({bindingPropertyName:e})),eb=Sy("Output",e=>({bindingPropertyName:e})),vf=Sy("HostListener",(e,t)=>({eventName:e,args:t}));function xw(...e){}const ww=new Zn("Application Initializer");let Cw=(()=>{class e{constructor(n){this.appInits=n,this.resolve=xw,this.reject=xw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Gy(o))n.push(o);else if(US(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Lt(ww,8))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const tb=new Zn("AppId",{providedIn:"root",factory:function kB(){return`${vE()}${vE()}${vE()}`}});function vE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RB=new Zn("Platform Initializer"),ud=new Zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NB=new Zn("AnimationModuleType");let Yre=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const tp=new Zn("LocaleId",{providedIn:"root",factory:()=>fi(tp,ln.Optional|ln.SkipSelf)||function Xre(){return typeof $localize<"u"&&$localize.locale||iv}()});class Qre{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let LB=(()=>{class e{compileModuleSync(n){return new JS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),o=Ju(fs(n).declarations).reduce((s,a)=>{const l=_r(a);return l&&s.push(new Vy(l)),s},[]);return new Qre(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Jre=(()=>Promise.resolve(0))();function yE(e){typeof Zone>"u"?Jre.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Xr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $i(!1),this.onMicrotaskEmpty=new $i(!1),this.onStable=new $i(!1),this.onError=new $i(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function eoe(){let e=ei.requestAnimationFrame,t=ei.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ioe(e){const t=()=>{!function noe(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ei,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_E(e),e.isCheckStableRunning=!0,bE(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_E(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{try{return zB(e),n.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),UB(e)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return zB(e),n.invoke(r,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),UB(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,_E(e),bE(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xr.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Xr.isInAngularZone())throw new le(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,toe,xw,xw);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const toe={};function bE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _E(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function zB(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function UB(e){e._nesting--,bE(e)}class roe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $i,this.onMicrotaskEmpty=new $i,this.onStable=new $i,this.onError=new $i}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const jB=new Zn(""),Mw=new Zn("");let CE,xE=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CE||(function ooe(e){CE=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xr.assertNotInAngularZone(),yE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yE(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(Lt(Xr),Lt(wE),Lt(Mw))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})(),wE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return CE?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const np=!1;let yf=null;const VB=new Zn("AllowMultipleToken"),ME=new Zn("PlatformDestroyListeners"),HB=new Zn("appBootstrapListener");class GB{constructor(t,n){this.name=t,this.token=n}}function qB(e,t,n=[]){const i=`Platform: ${t}`,r=new Zn(i);return(o=[])=>{let s=PE();if(!s||s.injector.get(VB,!1)){const a=[...n,...o,{provide:r,useValue:!0}];e?e(a):function loe(e){if(yf&&!yf.get(VB,!1))throw new le(400,!1);yf=e;const t=e.get(XB);(function WB(e){const t=e.get(RB,null);t&&t.forEach(n=>n())})(e)}(function YB(e=[],t){return ml.create({name:t,providers:[{provide:mS,useValue:"platform"},{provide:ME,useValue:new Set([()=>yf=null])},...e]})}(a,i))}return function doe(e){const t=PE();if(!t)throw new le(401,!1);return t}()}}function PE(){return yf?.get(XB)??null}let XB=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function QB(e,t){let n;return n="noop"===e?new roe:("zone.js"===e?void 0:e)||new Xr(t),n}(i?.ngZone,function $B(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:Xr,useValue:r}];return r.run(()=>{const s=ml.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),l=a.injector.get(qm,null);if(!l)throw new le(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:d=>{l.handleError(d)}});a.onDestroy(()=>{Pw(this._modules,a),c.unsubscribe()})}),function KB(e,t,n){try{const i=n();return Gy(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(Cw);return c.runInitializers(),c.donePromise.then(()=>(function bF(e){mn(e,"Expected localeId to be defined"),"string"==typeof e&&(yF=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(tp,iv)||iv),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,i=[]){const r=ZB({},i);return function soe(e,t,n){const i=new JS(n);return Promise.resolve(i)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const i=n.injector.get(eg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new le(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(ME,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Lt(ml))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function ZB(e,t){return Array.isArray(t)?t.reduce(ZB,e):{...e,...t}}let eg=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new E.y(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new E.y(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Xr.assertNotInAngularZone(),yE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Xr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=(0,G.T)(o,s.pipe((0,F.B)()))}bootstrap(n,i){const r=n instanceof A5;if(!this._injector.get(Cw).done){!r&&function Sc(e){const t=_r(e)||ps(e)||Yo(e);return null!==t&&t.standalone}(n);throw new le(405,np)}let s;s=r?n:this._injector.get(j0).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function aoe(e){return e.isBoundToModule}(s)?void 0:this._injector.get(rv),c=s.create(ml.NULL,[],i||s.selector,a),d=c.location.nativeElement,h=c.injector.get(jB,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Pw(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Pw(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(HB,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pw(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Lt(Xr),Lt(Hh),Lt(qm))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Pw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Zd=(()=>{class e{}return e.__NG_ELEMENT_ID__=uoe,e})();function uoe(e){return function poe(e,t,n){if(Hd(e)&&!n){const i=Yr(e.index,t);return new jy(i,i)}return 47&e.type?new jy(t[es],t):null}(Ei(),Ht(),16==(16&e))}class i6{constructor(){}supports(t){return cw(t)}create(t){return new boe(t)}}const yoe=(e,t)=>t;class boe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||yoe}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const s=!i||n&&n.currentIndex<o6(i,r,o)?n:i,a=o6(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,d=l-r;if(c!=d){for(let p=0;p<c;p++){const g=p<o.length?o[p]:o[p]=0,v=g+p;d<=v&&v<c&&(o[p]=g+1)}o[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!cw(t))throw new le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),i=!0),n=n._next}else r=0,function rne(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new _oe(n,i),o,r),t}_verifyReinsertion(t,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new r6),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new r6),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class _oe{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xoe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class r6{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new xoe,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function o6(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class s6{constructor(){}supports(t){return t instanceof Map||BS(t)}create(){return new woe}}class woe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||BS(t)))throw new le(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Coe(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class Coe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function a6(){return new Ew([new i6])}let Ew=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||a6()),deps:[[e,new L0,new Vm]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new le(901,!1)}}return e.\u0275prov=Dt({token:e,providedIn:"root",factory:a6}),e})();function l6(){return new nb([new s6])}let nb=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||l6()),deps:[[e,new L0,new Vm]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new le(901,!1)}}return e.\u0275prov=Dt({token:e,providedIn:"root",factory:l6}),e})();const Ooe=qB(null,"core",[]);let Soe=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Lt(eg))},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({}),e})();function av(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function TE(e,t){const n=_r(e),i=t.elementInjector||ew();return new Vy(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let IE=null;function Qh(){return IE}class Aoe{}const No=new Zn("DocumentToken");let kE=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:function(){return function Toe(){return Lt(c6)}()},providedIn:"platform"}),e})();const Ioe=new Zn("Location Initialized");let c6=(()=>{class e extends kE{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qh().getBaseHref(this._doc)}onPopState(n){const i=Qh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Qh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){d6()?this._history.pushState(n,i,r):this._location.hash=r}replaceState(n,i,r){d6()?this._history.replaceState(n,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Lt(No))},e.\u0275prov=Dt({token:e,factory:function(){return function koe(){return new c6(Lt(No))}()},providedIn:"platform"}),e})();function d6(){return!!window.history.pushState}function RE(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function h6(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ip(e){return e&&"?"!==e[0]?"?"+e:e}let bf=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:function(){return fi(p6)},providedIn:"root"}),e})();const u6=new Zn("appBaseHref");let p6=(()=>{class e extends bf{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??fi(No).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return RE(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+ip(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){const s=this.prepareExternalUrl(r+ip(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){const s=this.prepareExternalUrl(r+ip(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Lt(kE),Lt(u6,8))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Roe=(()=>{class e extends bf{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=RE(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+ip(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+ip(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Lt(kE),Lt(u6,8))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})(),_f=(()=>{class e{constructor(n){this._subject=new $i,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function Foe(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(h6(f6(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+ip(i))}normalize(n){return e.stripTrailingSlash(function Loe(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,f6(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ip(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ip(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return e.normalizeQueryParams=ip,e.joinWithSlash=RE,e.stripTrailingSlash=h6,e.\u0275fac=function(n){return new(n||e)(Lt(bf))},e.\u0275prov=Dt({token:e,factory:function(){return function Noe(){return new _f(Lt(bf))}()},providedIn:"root"}),e})();function f6(e){return e.replace(/\/index.html$/,"")}var Ss=(()=>((Ss=Ss||{})[Ss.Format=0]="Format",Ss[Ss.Standalone=1]="Standalone",Ss))(),Pr=(()=>((Pr=Pr||{})[Pr.Narrow=0]="Narrow",Pr[Pr.Abbreviated=1]="Abbreviated",Pr[Pr.Wide=2]="Wide",Pr[Pr.Short=3]="Short",Pr))(),ls=(()=>((ls=ls||{})[ls.Short=0]="Short",ls[ls.Medium=1]="Medium",ls[ls.Long=2]="Long",ls[ls.Full=3]="Full",ls))(),Di=(()=>((Di=Di||{})[Di.Decimal=0]="Decimal",Di[Di.Group=1]="Group",Di[Di.List=2]="List",Di[Di.PercentSign=3]="PercentSign",Di[Di.PlusSign=4]="PlusSign",Di[Di.MinusSign=5]="MinusSign",Di[Di.Exponential=6]="Exponential",Di[Di.SuperscriptingExponent=7]="SuperscriptingExponent",Di[Di.PerMille=8]="PerMille",Di[Di.Infinity=9]="Infinity",Di[Di.NaN=10]="NaN",Di[Di.TimeSeparator=11]="TimeSeparator",Di[Di.CurrencyDecimal=12]="CurrencyDecimal",Di[Di.CurrencyGroup=13]="CurrencyGroup",Di))();function Dw(e,t){return fd(Ll(e)[jn.DateFormat],t)}function Aw(e,t){return fd(Ll(e)[jn.TimeFormat],t)}function Tw(e,t){return fd(Ll(e)[jn.DateTimeFormat],t)}function pd(e,t){const n=Ll(e),i=n[jn.NumberSymbols][t];if(typeof i>"u"){if(t===Di.CurrencyDecimal)return n[jn.NumberSymbols][Di.Decimal];if(t===Di.CurrencyGroup)return n[jn.NumberSymbols][Di.Group]}return i}function g6(e){if(!e[jn.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[jn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fd(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function LE(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Qoe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ib={},Koe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var la=(()=>((la=la||{})[la.Short=0]="Short",la[la.ShortGMT=1]="ShortGMT",la[la.Long=2]="Long",la[la.Extended=3]="Extended",la))(),Bi=(()=>((Bi=Bi||{})[Bi.FullYear=0]="FullYear",Bi[Bi.Month=1]="Month",Bi[Bi.Date=2]="Date",Bi[Bi.Hours=3]="Hours",Bi[Bi.Minutes=4]="Minutes",Bi[Bi.Seconds=5]="Seconds",Bi[Bi.FractionalSeconds=6]="FractionalSeconds",Bi[Bi.Day=7]="Day",Bi))(),ur=(()=>((ur=ur||{})[ur.DayPeriods=0]="DayPeriods",ur[ur.Days=1]="Days",ur[ur.Months=2]="Months",ur[ur.Eras=3]="Eras",ur))();function Zoe(e,t,n,i){let r=function ase(e){if(b6(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,o=1,s=1]=e.split("-").map(a=>+a);return Iw(r,o-1,s)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let i;if(i=e.match(Qoe))return function lse(e){const t=new Date(0);let n=0,i=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(e);if(!b6(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=rp(n,t)||t;let a,s=[];for(;t;){if(a=Koe.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let l=r.getTimezoneOffset();i&&(l=y6(i,l),r=function sse(e,t,n){const i=n?-1:1,r=e.getTimezoneOffset();return function ose(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,i*(y6(t,r)-r))}(r,i,!0));let c="";return s.forEach(d=>{const h=function rse(e){if(BE[e])return BE[e];let t;switch(e){case"G":case"GG":case"GGG":t=jo(ur.Eras,Pr.Abbreviated);break;case"GGGG":t=jo(ur.Eras,Pr.Wide);break;case"GGGGG":t=jo(ur.Eras,Pr.Narrow);break;case"y":t=Gs(Bi.FullYear,1,0,!1,!0);break;case"yy":t=Gs(Bi.FullYear,2,0,!0,!0);break;case"yyy":t=Gs(Bi.FullYear,3,0,!1,!0);break;case"yyyy":t=Gs(Bi.FullYear,4,0,!1,!0);break;case"Y":t=Lw(1);break;case"YY":t=Lw(2,!0);break;case"YYY":t=Lw(3);break;case"YYYY":t=Lw(4);break;case"M":case"L":t=Gs(Bi.Month,1,1);break;case"MM":case"LL":t=Gs(Bi.Month,2,1);break;case"MMM":t=jo(ur.Months,Pr.Abbreviated);break;case"MMMM":t=jo(ur.Months,Pr.Wide);break;case"MMMMM":t=jo(ur.Months,Pr.Narrow);break;case"LLL":t=jo(ur.Months,Pr.Abbreviated,Ss.Standalone);break;case"LLLL":t=jo(ur.Months,Pr.Wide,Ss.Standalone);break;case"LLLLL":t=jo(ur.Months,Pr.Narrow,Ss.Standalone);break;case"w":t=FE(1);break;case"ww":t=FE(2);break;case"W":t=FE(1,!0);break;case"d":t=Gs(Bi.Date,1);break;case"dd":t=Gs(Bi.Date,2);break;case"c":case"cc":t=Gs(Bi.Day,1);break;case"ccc":t=jo(ur.Days,Pr.Abbreviated,Ss.Standalone);break;case"cccc":t=jo(ur.Days,Pr.Wide,Ss.Standalone);break;case"ccccc":t=jo(ur.Days,Pr.Narrow,Ss.Standalone);break;case"cccccc":t=jo(ur.Days,Pr.Short,Ss.Standalone);break;case"E":case"EE":case"EEE":t=jo(ur.Days,Pr.Abbreviated);break;case"EEEE":t=jo(ur.Days,Pr.Wide);break;case"EEEEE":t=jo(ur.Days,Pr.Narrow);break;case"EEEEEE":t=jo(ur.Days,Pr.Short);break;case"a":case"aa":case"aaa":t=jo(ur.DayPeriods,Pr.Abbreviated);break;case"aaaa":t=jo(ur.DayPeriods,Pr.Wide);break;case"aaaaa":t=jo(ur.DayPeriods,Pr.Narrow);break;case"b":case"bb":case"bbb":t=jo(ur.DayPeriods,Pr.Abbreviated,Ss.Standalone,!0);break;case"bbbb":t=jo(ur.DayPeriods,Pr.Wide,Ss.Standalone,!0);break;case"bbbbb":t=jo(ur.DayPeriods,Pr.Narrow,Ss.Standalone,!0);break;case"B":case"BB":case"BBB":t=jo(ur.DayPeriods,Pr.Abbreviated,Ss.Format,!0);break;case"BBBB":t=jo(ur.DayPeriods,Pr.Wide,Ss.Format,!0);break;case"BBBBB":t=jo(ur.DayPeriods,Pr.Narrow,Ss.Format,!0);break;case"h":t=Gs(Bi.Hours,1,-12);break;case"hh":t=Gs(Bi.Hours,2,-12);break;case"H":t=Gs(Bi.Hours,1);break;case"HH":t=Gs(Bi.Hours,2);break;case"m":t=Gs(Bi.Minutes,1);break;case"mm":t=Gs(Bi.Minutes,2);break;case"s":t=Gs(Bi.Seconds,1);break;case"ss":t=Gs(Bi.Seconds,2);break;case"S":t=Gs(Bi.FractionalSeconds,1);break;case"SS":t=Gs(Bi.FractionalSeconds,2);break;case"SSS":t=Gs(Bi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Rw(la.Short);break;case"ZZZZZ":t=Rw(la.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Rw(la.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Rw(la.Long);break;default:return null}return BE[e]=t,t}(d);c+=h?h(r,n,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Iw(e,t,n){const i=new Date(0);return i.setFullYear(e,t,n),i.setHours(0,0,0),i}function rp(e,t){const n=function Boe(e){return Ll(e)[jn.LocaleId]}(e);if(ib[n]=ib[n]||{},ib[n][t])return ib[n][t];let i="";switch(t){case"shortDate":i=Dw(e,ls.Short);break;case"mediumDate":i=Dw(e,ls.Medium);break;case"longDate":i=Dw(e,ls.Long);break;case"fullDate":i=Dw(e,ls.Full);break;case"shortTime":i=Aw(e,ls.Short);break;case"mediumTime":i=Aw(e,ls.Medium);break;case"longTime":i=Aw(e,ls.Long);break;case"fullTime":i=Aw(e,ls.Full);break;case"short":const r=rp(e,"shortTime"),o=rp(e,"shortDate");i=kw(Tw(e,ls.Short),[r,o]);break;case"medium":const s=rp(e,"mediumTime"),a=rp(e,"mediumDate");i=kw(Tw(e,ls.Medium),[s,a]);break;case"long":const l=rp(e,"longTime"),c=rp(e,"longDate");i=kw(Tw(e,ls.Long),[l,c]);break;case"full":const d=rp(e,"fullTime"),h=rp(e,"fullDate");i=kw(Tw(e,ls.Full),[d,h])}return i&&(ib[n][t]=i),i}function kw(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,i){return null!=t&&i in t?t[i]:n})),e}function Jd(e,t,n="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function Gs(e,t,n=0,i=!1,r=!1){return function(o,s){let a=function ese(e,t){switch(e){case Bi.FullYear:return t.getFullYear();case Bi.Month:return t.getMonth();case Bi.Date:return t.getDate();case Bi.Hours:return t.getHours();case Bi.Minutes:return t.getMinutes();case Bi.Seconds:return t.getSeconds();case Bi.FractionalSeconds:return t.getMilliseconds();case Bi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===Bi.Hours)0===a&&-12===n&&(a=12);else if(e===Bi.FractionalSeconds)return function Joe(e,t){return Jd(e,3).substring(0,t)}(a,t);const l=pd(s,Di.MinusSign);return Jd(a,t,l,i,r)}}function jo(e,t,n=Ss.Format,i=!1){return function(r,o){return function tse(e,t,n,i,r,o){switch(n){case ur.Months:return function joe(e,t,n){const i=Ll(e),o=fd([i[jn.MonthsFormat],i[jn.MonthsStandalone]],t);return fd(o,n)}(t,r,i)[e.getMonth()];case ur.Days:return function Uoe(e,t,n){const i=Ll(e),o=fd([i[jn.DaysFormat],i[jn.DaysStandalone]],t);return fd(o,n)}(t,r,i)[e.getDay()];case ur.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const c=function Woe(e){const t=Ll(e);return g6(t),(t[jn.ExtraData][2]||[]).map(i=>"string"==typeof i?LE(i):[LE(i[0]),LE(i[1])])}(t),d=function qoe(e,t,n){const i=Ll(e);g6(i);const o=fd([i[jn.ExtraData][0],i[jn.ExtraData][1]],t)||[];return fd(o,n)||[]}(t,r,i),h=c.findIndex(p=>{if(Array.isArray(p)){const[g,v]=p,y=s>=g.hours&&a>=g.minutes,b=s<v.hours||s===v.hours&&a<v.minutes;if(g.hours<v.hours){if(y&&b)return!0}else if(y||b)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(-1!==h)return d[h]}return function zoe(e,t,n){const i=Ll(e),o=fd([i[jn.DayPeriodsFormat],i[jn.DayPeriodsStandalone]],t);return fd(o,n)}(t,r,i)[s<12?0:1];case ur.Eras:return function Voe(e,t){return fd(Ll(e)[jn.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,o,e,t,n,i)}}function Rw(e){return function(t,n,i){const r=-1*i,o=pd(n,Di.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case la.Short:return(r>=0?"+":"")+Jd(s,2,o)+Jd(Math.abs(r%60),2,o);case la.ShortGMT:return"GMT"+(r>=0?"+":"")+Jd(s,1,o);case la.Long:return"GMT"+(r>=0?"+":"")+Jd(s,2,o)+":"+Jd(Math.abs(r%60),2,o);case la.Extended:return 0===i?"Z":(r>=0?"+":"")+Jd(s,2,o)+":"+Jd(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const nse=0,Nw=4;function v6(e){return Iw(e.getFullYear(),e.getMonth(),e.getDate()+(Nw-e.getDay()))}function FE(e,t=!1){return function(n,i){let r;if(t){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{const o=v6(n),s=function ise(e){const t=Iw(e,nse,1).getDay();return Iw(e,0,1+(t<=Nw?Nw:Nw+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Jd(r,e,pd(i,Di.MinusSign))}}function Lw(e,t=!1){return function(n,i){return Jd(v6(n).getFullYear(),e,pd(i,Di.MinusSign),t)}}const BE={};function y6(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function b6(e){return e instanceof Date&&!isNaN(e.valueOf())}function C6(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const GE=/\s+/,M6=[];let sb=(()=>{class e{constructor(n,i,r,o){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=M6,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(GE):M6}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(GE):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,Boolean(n[i]));this._applyStateDiff()}_updateState(n,i){const r=this.stateMap.get(n);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(GE).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return e.\u0275fac=function(n){return new(n||e)(De(Ew),De(nb),De(ao),De(Vs))},e.\u0275dir=tn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class xse{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ca=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new xse(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),S6(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{S6(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(De(Qd),De(as),De(Ew))},e.\u0275dir=tn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function S6(e,t){e.context.$implicit=t.item}let Da=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new Cse,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){E6("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){E6("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(De(Qd),De(as))},e.\u0275dir=tn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Cse{constructor(){this.$implicit=null,this.ngIf=null}}function E6(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${T(t)}'.`)}class WE{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Bw=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const i of this._defaultViews)i.enforceState(n)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=tn({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),D6=(()=>{class e{constructor(n,i,r){this.ngSwitch=r,r._addCase(),this._view=new WE(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(n){return new(n||e)(De(Qd),De(as),De(Bw,9))},e.\u0275dir=tn({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),A6=(()=>{class e{constructor(n,i,r){r._addDefault(new WE(n,i))}}return e.\u0275fac=function(n){return new(n||e)(De(Qd),De(as),De(Bw,9))},e.\u0275dir=tn({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),ng=(()=>{class e{constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[r,o]=n.split("."),s=-1===r.indexOf("-")?void 0:sc.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(De(ao),De(nb),De(Vs))},e.\u0275dir=tn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),lv=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(n){return new(n||e)(De(Qd))},e.\u0275dir=tn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[M]}),e})();function eh(e,t){return new le(2100,!1)}const Nse=new Zn("DATE_PIPE_DEFAULT_TIMEZONE"),Lse=new Zn("DATE_PIPE_DEFAULT_OPTIONS");let I6=(()=>{class e{constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,o){if(null==n||""===n||n!=n)return null;try{return Zoe(n,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw eh()}}}return e.\u0275fac=function(n){return new(n||e)(De(tp,16),De(Nse,24),De(Lse,24))},e.\u0275pipe=is({name:"date",type:e,pure:!0,standalone:!0}),e})(),R6=(()=>{class e{transform(n,i,r){if(null==n)return null;if(!this.supports(n))throw eh();return n.slice(i,r)}supports(n){return"string"==typeof n||Array.isArray(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=is({name:"slice",type:e,pure:!1,standalone:!0}),e})(),Bl=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({}),e})();const N6="browser";function XE(e){return e===N6}let $se=(()=>{class e{}return e.\u0275prov=Dt({token:e,providedIn:"root",factory:()=>new Qse(Lt(No),window)}),e})();class Qse{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function Kse(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=L6(this.window.history)||L6(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function L6(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class F6{}class Mae extends Aoe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class KE extends Mae{static makeCurrent(){!function Doe(e){IE||(IE=e)}(new KE)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function Pae(){return lb=lb||document.querySelector("base"),lb?lb.getAttribute("href"):null}();return null==n?null:function Oae(e){jw=jw||document.createElement("a"),jw.setAttribute("href",e);const t=jw.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){lb=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return C6(document.cookie,t)}}let jw,lb=null;const V6=new Zn("TRANSITION_ID"),Eae=[{provide:ww,useFactory:function Sae(e,t,n){return()=>{n.get(Cw).donePromise.then(()=>{const i=Qh(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[V6,No,ml],multi:!0}];let Aae=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const Vw=new Zn("EventManagerPlugins");let cb=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Lt(Vw),Lt(Xr))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();class H6{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=Qh().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let G6=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,i){const r=this.usageCount;let o=r.get(n)??0;return o+=i,o>0?r.set(n,o):r.delete(n),o}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})(),db=(()=>{class e extends G6{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.forEach(o=>o.remove()),i.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,i){const r=this.doc.createElement("style");r.textContent=i,n.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(Lt(No))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const ZE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},JE=/%COMP%/g,Y6=new Zn("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function X6(e,t){return t.flat(100).map(n=>n.replace(JE,e))}function $6(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Hw=(()=>{class e{constructor(n,i,r,o){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new eD(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(n,i);return r instanceof Z6?r.applyToHost(n):r instanceof tD&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case oi.Emulated:o=new Z6(s,a,i,this.appId,l);break;case oi.ShadowDom:return new Fae(s,a,n,i);default:o=new tD(s,a,i,l)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Lt(cb),Lt(db),Lt(tb),Lt(Y6))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();class eD{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(ZE[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(K6(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(K6(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const o=ZE[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=ZE[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(sc.DashCase|sc.Important)?t.style.setProperty(n,i,r&sc.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&sc.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,$6(i)):this.eventManager.addEventListener(t,n,$6(i))}}function K6(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Fae extends eD{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=X6(r.id,r.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class tD extends eD{constructor(t,n,i,r,o=i.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=X6(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Z6 extends tD{constructor(t,n,i,r,o){const s=r+"-"+i.id;super(t,n,i,o,s),this.contentAttr=function Rae(e){return"_ngcontent-%COMP%".replace(JE,e)}(s),this.hostAttr=function Nae(e){return"_nghost-%COMP%".replace(JE,e)}(s)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let Bae=(()=>{class e extends H6{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(Lt(No))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const J6=["alt","control","meta","shift"],zae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uae={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let jae=(()=>{class e extends H6{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qh().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),J6.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=zae[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),J6.forEach(s=>{s!==r&&(0,Uae[s])(n)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Lt(No))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const tz=[{provide:ud,useValue:N6},{provide:RB,useValue:function Vae(){KE.makeCurrent()},multi:!0},{provide:No,useFactory:function Gae(){return function IJ(e){aS=e}(document),document},deps:[]}],Wae=qB(Ooe,"browser",tz),nz=new Zn(""),iz=[{provide:Mw,useClass:class Dae{addToWindow(t){ei.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},ei.getAllAngularTestabilities=()=>t.getAllTestabilities(),ei.getAllAngularRootElements=()=>t.getAllRootElements(),ei.frameworkStabilizers||(ei.frameworkStabilizers=[]),ei.frameworkStabilizers.push(i=>{const r=ei.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?Qh().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:jB,useClass:xE,deps:[Xr,wE,Mw]},{provide:xE,useClass:xE,deps:[Xr,wE,Mw]}],rz=[{provide:mS,useValue:"root"},{provide:qm,useFactory:function Hae(){return new qm},deps:[]},{provide:Vw,useClass:Bae,multi:!0,deps:[No,Xr,ud]},{provide:Vw,useClass:jae,multi:!0,deps:[No]},{provide:Hw,useClass:Hw,deps:[cb,db,tb,Y6]},{provide:H0,useExisting:Hw},{provide:G6,useExisting:db},{provide:db,useClass:db,deps:[No]},{provide:cb,useClass:cb,deps:[Vw,Xr]},{provide:F6,useClass:Aae,deps:[]},[]];let oz=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:tb,useValue:n.appId},{provide:V6,useExisting:tb},Eae]}}}return e.\u0275fac=function(n){return new(n||e)(Lt(nz,12))},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({providers:[...rz,...iz],imports:[Bl,Soe]}),e})(),hc=(()=>{class e{constructor(n){this._doc=n,this._dom=Qh()}addTag(n,i=!1){return n?this._getOrCreateElement(n,i):null}addTags(n,i=!1){return n?n.reduce((r,o)=>(o&&r.push(this._getOrCreateElement(o,i)),r),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];const i=this._doc.querySelectorAll(`meta[${n}]`);return i?[].slice.call(i):[]}updateTag(n,i){if(!n)return null;i=i||this._parseSelector(n);const r=this.getTag(i);return r?this._setMetaElementAttributes(n,r):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,i=!1){if(!i){const s=this._parseSelector(n),a=this.getTags(s).filter(l=>this._containsAttributes(n,l))[0];if(void 0!==a)return a}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(n,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(n,i){return Object.keys(n).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),n[r])),i}_parseSelector(n){const i=n.name?"name":"property";return`${i}="${n[i]}"`}_containsAttributes(n,i){return Object.keys(n).every(r=>i.getAttribute(this._getMetaKeyMap(r))===n[r])}_getMetaKeyMap(n){return Yae[n]||n}}return e.\u0275fac=function(n){return new(n||e)(Lt(No))},e.\u0275prov=Dt({token:e,factory:function(n){let i=null;return i=n?new n:function qae(){return new hc(Lt(No))}(),i},providedIn:"root"}),e})();const Yae={httpEquiv:"http-equiv"};let uc=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Lt(No))},e.\u0275prov=Dt({token:e,factory:function(n){let i=null;return i=n?new n:function Xae(){return new uc(Lt(No))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let lz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:function(n){let i=null;return i=n?new(n||e):Lt(cz),i},providedIn:"root"}),e})(),cz=(()=>{class e extends lz{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case zo.NONE:return i;case zo.HTML:return Vh(i,"HTML")?Rc(i):y5(this._doc,String(i)).toString();case zo.STYLE:return Vh(i,"Style")?Rc(i):i;case zo.SCRIPT:if(Vh(i,"Script"))return Rc(i);throw new Error("unsafe value used in a script context");case zo.URL:return Vh(i,"URL")?Rc(i):Qx(String(i));case zo.RESOURCE_URL:if(Vh(i,"ResourceURL"))return Rc(i);throw new Error(`unsafe value used in a resource URL context (see ${oe})`);default:throw new Error(`Unexpected SecurityContext ${n} (see ${oe})`)}}bypassSecurityTrustHtml(n){return function zJ(e){return new kJ(e)}(n)}bypassSecurityTrustStyle(n){return function UJ(e){return new RJ(e)}(n)}bypassSecurityTrustScript(n){return function jJ(e){return new NJ(e)}(n)}bypassSecurityTrustUrl(n){return function VJ(e){return new LJ(e)}(n)}bypassSecurityTrustResourceUrl(n){return function HJ(e){return new FJ(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(Lt(No))},e.\u0275prov=Dt({token:e,factory:function(n){let i=null;return i=n?new n:function Jae(e){return new cz(e.get(No))}(Lt(ml)),i},providedIn:"root"}),e})();class dz{}class ele{}const op="*";function hz(e,t){return{type:7,name:e,definitions:t,options:{}}}function md(e,t=null){return{type:4,styles:t,timings:e}}function uz(e,t=null){return{type:2,steps:e,options:t}}function da(e){return{type:6,styles:e,offset:null}}function ig(e,t,n){return{type:0,name:e,styles:t,options:n}}function gd(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function pz(e){Promise.resolve().then(e)}class hb{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pz(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class fz{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,i=0,r=0;const o=this.players.length;0==o?pz(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}const rD="!";function mz(e){return new le(3e3,!1)}function Nle(){return typeof window<"u"&&typeof window.document<"u"}function oD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wf(e){switch(e.length){case 0:return new hb;case 1:return e[0];default:return new fz(e)}}function gz(e,t,n,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(d=>{const h=d.get("offset"),p=h==l,g=p&&c||new Map;d.forEach((v,y)=>{let b=y,P=v;if("offset"!==y)switch(b=t.normalizePropertyName(b,s),P){case rD:P=r.get(y);break;case op:P=o.get(y);break;default:P=t.normalizeStyleValue(y,b,P,s)}g.set(b,P)}),p||a.push(g),c=g,l=h}),s.length)throw function Cle(e){return new le(3502,!1)}();return a}function sD(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&aD(n,"start",e)));break;case"done":e.onDone(()=>i(n&&aD(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&aD(n,"destroy",e)))}}function aD(e,t,n){const o=lD(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),s=e._data;return null!=s&&(o._data=s),o}function lD(e,t,n,i,r="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Bc(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i}function vz(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}let cD=(e,t)=>!1,yz=(e,t,n)=>[],bz=null;function dD(e){const t=e.parentNode||e.host;return t===bz?null:t}(oD()||typeof Element<"u")&&(Nle()?(bz=(()=>document.documentElement)(),cD=(e,t)=>{for(;t;){if(t===e)return!0;t=dD(t)}return!1}):cD=(e,t)=>e.contains(t),yz=(e,t,n)=>{if(n)return Array.from(e.querySelectorAll(t));const i=e.querySelector(t);return i?[i]:[]});let rg=null,_z=!1;const xz=cD,wz=yz;let Cz=(()=>{class e{validateStyleProperty(n){return function Fle(e){rg||(rg=function Ble(){return typeof document<"u"?document.body:null}()||{},_z=!!rg.style&&"WebkitAppearance"in rg.style);let t=!0;return rg.style&&!function Lle(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in rg.style,!t&&_z&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in rg.style)),t}(n)}matchesElement(n,i){return!1}containsElement(n,i){return xz(n,i)}getParentElement(n){return dD(n)}query(n,i,r){return wz(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,s,a=[],l){return new hb(r,o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})(),hD=(()=>{class e{}return e.NOOP=new Cz,e})();const zle=1e3,uD="ng-enter",Gw="ng-leave",Ww="ng-trigger",qw=".ng-trigger",Pz="ng-animating",pD=".ng-animating";function sp(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:fD(parseFloat(t[1]),t[2])}function fD(e,t){return"s"===t?e*zle:e}function Yw(e,t,n){return e.hasOwnProperty("duration")?e:function jle(e,t,n){let r,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(mz()),{duration:0,delay:0,easing:""};r=fD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=fD(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push(function tle(){return new le(3100,!1)}()),a=!0),o<0&&(t.push(function nle(){return new le(3101,!1)}()),a=!0),a&&t.splice(l,0,mz())}return{duration:r,delay:o,easing:s}}(e,t,n)}function ub(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Oz(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Cf(e,t=new Map,n){if(n)for(let[i,r]of n)t.set(i,r);for(let[i,r]of e)t.set(i,r);return t}function Ez(e,t,n){return n?t+":"+n+";":""}function Dz(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=Ez(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=Ez(0,Wle(n),e.style[n]));e.setAttribute("style",t)}function Kh(e,t,n){e.style&&(t.forEach((i,r)=>{const o=gD(r);n&&!n.has(r)&&n.set(r,e.style[o]),e.style[o]=i}),oD()&&Dz(e))}function og(e,t){e.style&&(t.forEach((n,i)=>{const r=gD(i);e.style[r]=""}),oD()&&Dz(e))}function pb(e){return Array.isArray(e)?1==e.length?e[0]:uz(e):e}const mD=new RegExp("{{\\s*(.+?)\\s*}}","g");function Az(e){let t=[];if("string"==typeof e){let n;for(;n=mD.exec(e);)t.push(n[1]);mD.lastIndex=0}return t}function fb(e,t,n){const i=e.toString(),r=i.replace(mD,(o,s)=>{let a=t[s];return null==a&&(n.push(function rle(e){return new le(3003,!1)}()),a=""),a.toString()});return r==i?e:r}function Xw(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Gle=/-+([a-z0-9])/g;function gD(e){return e.replace(Gle,(...t)=>t[1].toUpperCase())}function Wle(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zc(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function ole(e){return new le(3004,!1)}()}}function Tz(e,t){return window.getComputedStyle(e)[t]}const Kw="*";function Kle(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function Zle(e,t,n){if(":"==e[0]){const l=function Jle(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(function ble(e){return new le(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function yle(e){return new le(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(Iz(r,s));"<"==o[0]&&!(r==Kw&&s==Kw)&&t.push(Iz(s,r))}(i,n,t)):n.push(e),n}const Zw=new Set(["true","1"]),Jw=new Set(["false","0"]);function Iz(e,t){const n=Zw.has(e)||Jw.has(e),i=Zw.has(t)||Jw.has(t);return(r,o)=>{let s=e==Kw||e==r,a=t==Kw||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?Zw.has(e):Jw.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?Zw.has(t):Jw.has(t)),s&&a}}const ece=new RegExp("s*:selfs*,?","g");function vD(e,t,n,i){return new tce(e).build(t,n,i)}class tce{constructor(t){this._driver=t}build(t,n,i){const r=new rce(n);return this._resetContextStyleTimingState(r),zc(this,pb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&n.errors.push(function ale(){return new le(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,s.push(l)}else n.errors.push(function lle(){return new le(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,n){const i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Az(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Xw(o.values()),n.errors.push(function cle(e,t){return new le(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const i=zc(this,pb(t.animation),n);return{type:1,matchers:Kle(t.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:sg(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(i=>zc(this,i,n)),options:sg(t.options)}}visitGroup(t,n){const i=n.currentTime;let r=0;const o=t.steps.map(s=>{n.currentTime=i;const a=zc(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:o,options:sg(t.options)}}visitAnimate(t,n){const i=function sce(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return yD(Yw(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=yD(0,0,"");return o.dynamic=!0,o.strValue=n,o}const r=Yw(n,t);return yD(r.duration,r.delay,r.easing)}(t.timings,n.errors);n.currentAnimateTimings=i;let r,o=t.styles?t.styles:da({});if(5==o.type)r=this.visitKeyframes(o,n);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=da(c)}n.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,n){const i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===op?i.push(a):n.errors.push(new le(3002,!1)):i.push(Oz(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,n){const i=n.currentAnimateTimings;let r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),d=c.get(l);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(n.errors.push(function hle(e,t,n,i,r){return new le(3010,!1)}()),h=!1),o=d.startTime),h&&c.set(l,{startTime:o,endTime:r}),n.options&&function Hle(e,t,n){const i=t.params||{},r=Az(e);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(function ile(e){return new le(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function ule(){return new le(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const d=t.steps.map(P=>{const O=this._makeStyleAst(P,n);let S=null!=O.offset?O.offset:function oce(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(O.styles),A=0;return null!=S&&(o++,A=O.offset=S),l=l||A<0||A>1,a=a||A<c,c=A,s.push(A),O});l&&n.errors.push(function ple(){return new le(3012,!1)}()),a&&n.errors.push(function fle(){return new le(3200,!1)}());const h=t.steps.length;let p=0;o>0&&o<h?n.errors.push(function mle(){return new le(3202,!1)}()):0==o&&(p=1/(h-1));const g=h-1,v=n.currentTime,y=n.currentAnimateTimings,b=y.duration;return d.forEach((P,O)=>{const S=p>0?O==g?1:p*O:s[O],A=S*b;n.currentTime=v+y.delay+A,y.duration=A,this._validateStyleAst(P,n),P.offset=S,i.styles.push(P)}),i}visitReference(t,n){return{type:8,animation:zc(this,pb(t.animation),n),options:sg(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:sg(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:sg(t.options)}}visitQuery(t,n){const i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;const[o,s]=function nce(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(ece,"")),e=e.replace(/@\*/g,qw).replace(/@\w+/g,n=>qw+"-"+n.slice(1)).replace(/:animating/g,pD),[e,t]}(t.selector);n.currentQuerySelector=i.length?i+" "+o:o,Bc(n.collectedStyles,n.currentQuerySelector,new Map);const a=zc(this,pb(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:sg(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function gle(){return new le(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Yw(t.timings,n.errors,!0);return{type:12,animation:zc(this,pb(t.animation),n),timings:i,options:null}}}class rce{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sg(e){return e?(e=ub(e)).params&&(e.params=function ice(e){return e?ub(e):null}(e.params)):e={},e}function yD(e,t,n){return{duration:e,delay:t,easing:n}}function bD(e,t,n,i,r,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class eC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cce=new RegExp(":enter","g"),hce=new RegExp(":leave","g");function _D(e,t,n,i,r,o=new Map,s=new Map,a,l,c=[]){return(new uce).buildKeyframes(e,t,n,i,r,o,s,a,l,c)}class uce{buildKeyframes(t,n,i,r,o,s,a,l,c,d=[]){c=c||new eC;const h=new xD(t,n,c,r,o,d,[]);h.options=l;const p=l.delay?sp(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([s],null,h.errors,l),zc(this,i,h);const g=h.timelines.filter(v=>v.containsAnimation());if(g.length&&a.size){let v;for(let y=g.length-1;y>=0;y--){const b=g[y];if(b.element===n){v=b;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,h.errors,l)}return g.length?g.map(v=>v.buildKeyframes()):[bD(n,[],[],[],0,p,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(t.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=t}visitAnimateRef(t,n){const i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,i),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:sp(fb(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,n,i){let o=n.currentTimeline.currentTime;const s=null!=i.duration?sp(i.duration):null,a=null!=i.delay?sp(i.delay):null;return 0!==s&&t.forEach(l=>{const c=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,n){n.updateOptions(t.options,!0),zc(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const i=n.subContextCount;let r=n;const o=t.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=tC);const s=sp(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>zc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const i=[];let r=n.currentTimeline.currentTime;const o=t.options&&t.options.delay?sp(t.options.delay):0;t.steps.forEach(s=>{const a=n.createSubContext(t.options);o&&a.delayNextStep(o),zc(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const i=t.strValue;return Yw(n.params?fb(i,n.params,n.errors):i,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=t}visitQuery(t,n){const i=n.currentTimeline.currentTime,r=t.options||{},o=r.delay?sp(r.delay):0;o&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=tC);let s=i;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{n.currentQueryIndex=d;const h=n.createSubContext(t.options,c);o&&h.delayNextStep(o),c===n.element&&(l=h.currentTimeline),zc(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const i=n.parentContext,r=n.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=n.currentTimeline;l&&d.delayNextStep(l);const h=d.currentTime;zc(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const tC={};class xD{constructor(t,n,i,r,o,s,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new nC(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=sp(i.duration)),null!=i.delay&&(r.delay=sp(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=fb(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return t}createSubContext(t=null,n,i){const r=n||this.element,o=new xD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=tC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){const r={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new pce(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(cce,"."+this._enterClassName)).replace(hce,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function vle(e){return new le(3014,!1)}()),a}}class nC{constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new nC(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||op),this._currentKeyframe.set(n,op);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,r){n&&this._previousKeyframe.set("easing",n);const o=r&&r.params||{},s=function fce(e,t){const n=new Map;let i;return e.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)n.set(o,op)}else Cf(r,n)}),n}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=fb(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??op),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Cf(a,new Map,this._backFill);c.forEach((d,h)=>{d===rD?t.add(h):d===op&&n.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?Xw(t.values()):[],s=n.size?Xw(n.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return bD(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class pce extends nC{constructor(t,n,i,r,o,s,a=!1){super(t,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=i+n,a=n/s,l=Cf(t[0]);l.set("offset",0),o.push(l);const c=Cf(t[0]);c.set("offset",Nz(a)),o.push(c);const d=t.length-1;for(let h=1;h<=d;h++){let p=Cf(t[h]);const g=p.get("offset");p.set("offset",Nz((n+g*i)/s)),o.push(p)}i=s,n=0,r="",t=o}return bD(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function Nz(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class wD{}const mce=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gce extends wD{normalizePropertyName(t,n){return gD(t)}normalizeStyleValue(t,n,i,r){let o="";const s=i.toString().trim();if(mce.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function sle(e,t){return new le(3005,!1)}())}return s+o}}function Lz(e,t,n,i,r,o,s,a,l,c,d,h,p){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:p}}const CD={};class Fz{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,r){return function vce(e,t,n,i,r){return e.some(o=>o(t,n,i,r))}(this.ast.matchers,t,n,i,r)}buildStyles(t,n,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(n,i):new Map}build(t,n,i,r,o,s,a,l,c,d){const h=[],p=this.ast.options&&this.ast.options.params||CD,v=this.buildStyles(i,a&&a.params||CD,h),y=l&&l.params||CD,b=this.buildStyles(r,y,h),P=new Set,O=new Map,S=new Map,A="void"===r,H={params:yce(y,p),delay:this.ast.options?.delay},V=d?[]:_D(t,n,this.ast.animation,o,s,v,b,H,c,h);let Q=0;if(V.forEach(ee=>{Q=Math.max(ee.duration+ee.delay,Q)}),h.length)return Lz(n,this._triggerName,i,r,A,v,b,[],[],O,S,Q,h);V.forEach(ee=>{const ne=ee.element,ae=Bc(O,ne,new Set);ee.preStyleProps.forEach(fe=>ae.add(fe));const pe=Bc(S,ne,new Set);ee.postStyleProps.forEach(fe=>pe.add(fe)),ne!==n&&P.add(ne)});const Y=Xw(P.values());return Lz(n,this._triggerName,i,r,A,v,b,V,Y,O,S,Q)}}function yce(e,t){const n=ub(t);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(n[i]=e[i]);return n}class bce{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){const i=new Map,r=ub(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=fb(s,r,n));const l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),i.set(a,s)})}),i}}class xce{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new bce(r.style,r.options&&r.options.params||{},i))}),Bz(this.states,"true","1"),Bz(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new Fz(t,r,this.states))}),this.fallbackTransition=function wce(e,t,n){return new Fz(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,r){return this.transitionFactories.find(s=>s.match(t,n,i,r))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}}function Bz(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const Cce=new eC;class Mce{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const i=[],r=[],o=vD(this._driver,n,i,r);if(i.length)throw function Mle(e){return new le(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,n,i){const r=t.element,o=gz(0,this._normalizer,0,t.keyframes,n,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=_D(this._driver,n,o,uD,Gw,new Map,new Map,i,Cce,r),s.forEach(d=>{const h=Bc(a,d.element,new Map);d.postStyleProps.forEach(p=>h.set(p,null))})):(r.push(function Ple(){return new le(3300,!1)}()),s=[]),r.length)throw function Ole(e){return new le(3504,!1)}();a.forEach((d,h)=>{d.forEach((p,g)=>{d.set(g,this._driver.computeStyle(h,g,op))})});const c=wf(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function Sle(e){return new le(3301,!1)}();return n}listen(t,n,i,r){const o=lD(n,"","","");return sD(this._getPlayer(t),i,o,r),()=>{}}command(t,n,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,n,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const zz="ng-animate-queued",MD="ng-animate-disabled",Dce=[],Uz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ace={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vd="__ng_removed";class PD{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const i=t&&t.hasOwnProperty("value");if(this.value=function Rce(e){return e??null}(i?t.value:t),i){const o=ub(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const mb="void",OD=new PD(mb);class Tce{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yd(n,this._hostClassName)}listen(t,n,i,r){if(!this._triggers.has(n))throw function Ele(e,t){return new le(3302,!1)}();if(null==i||0==i.length)throw function Dle(e){return new le(3303,!1)}();if(!function Nce(e){return"start"==e||"done"==e}(i))throw function Ale(e,t){return new le(3400,!1)}();const o=Bc(this._elementListeners,t,[]),s={name:n,phase:i,callback:r};o.push(s);const a=Bc(this._engine.statesByElement,t,new Map);return a.has(n)||(yd(t,Ww),yd(t,Ww+"-"+n),a.set(n,OD)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function Tle(e){return new le(3401,!1)}();return n}trigger(t,n,i,r=!0){const o=this._getTrigger(n),s=new SD(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(yd(t,Ww),yd(t,Ww+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n);const c=new PD(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=OD),c.value!==mb&&l.value===c.value){if(!function Bce(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(l.params,c.params)){const y=[],b=o.matchStyles(l.value,l.params,y),P=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{og(t,b),Kh(t,P)})}return}const p=Bc(this._engine.playersByElement,t,[]);p.forEach(y=>{y.namespaceId==this.id&&y.triggerName==n&&y.queued&&y.destroy()});let g=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!g){if(!r)return;g=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:g,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(yd(t,zz),s.onStart(()=>{cv(t,zz)})),s.onDone(()=>{let y=this.players.indexOf(s);y>=0&&this.players.splice(y,1);const b=this._engine.playersByElement.get(t);if(b){let P=b.indexOf(s);P>=0&&b.splice(P,1)}}),this.players.push(s),p.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const i=this._engine.driver.query(t,qw,!0);i.forEach(r=>{if(r[vd])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,n,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,mb,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,s),i&&wf(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){const r=new Set;n.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||OD,d=new PD(mb),h=new SD(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,n){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{const o=t[vd];(!o||o===Uz)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){yd(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=lD(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,sD(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let n=!1;return this._elementListeners.has(t)&&(n=!0),n=!!this._queue.find(i=>i.element===t)||n,n}}class Ice{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,i){this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){const i=new Tce(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++}destroy(t,n){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(n))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}return n}trigger(t,n,i,r){if(iC(n)){const o=this._fetchNamespace(t);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(t,n,i,r){if(!iC(n))return;const o=n[vd];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yd(t,MD)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cv(t,MD))}removeNode(t,n,i,r){if(iC(n)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r),i){const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,i,r,o){this.collectedLeaveElements.push(n),n[vd]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,n,i,r,o){return iC(n)?this._fetchNamespace(t).listen(n,i,r,o):()=>{}}_buildInstruction(t,n,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,o)}destroyInnerAnimations(t){let n=this.driver.query(t,qw,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,pD,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[vd];if(n&&n.setForRemoval){if(t[vd]=Uz,n.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(MD)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)yd(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?wf(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Ile(e){return new le(3402,!1)}()}_flushAnimations(t,n){const i=new eC,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Oe=>{d.add(Oe);const Ce=this.driver.query(Oe,".ng-animate-queued",!0);for(let _e=0;_e<Ce.length;_e++)d.add(Ce[_e])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=Hz(p,this.collectedEnterElements),v=new Map;let y=0;g.forEach((Oe,Ce)=>{const _e=uD+y++;v.set(Ce,_e),Oe.forEach(Be=>yd(Be,_e))});const b=[],P=new Set,O=new Set;for(let Oe=0;Oe<this.collectedLeaveElements.length;Oe++){const Ce=this.collectedLeaveElements[Oe],_e=Ce[vd];_e&&_e.setForRemoval&&(b.push(Ce),P.add(Ce),_e.hasAnimation?this.driver.query(Ce,".ng-star-inserted",!0).forEach(Be=>P.add(Be)):O.add(Ce))}const S=new Map,A=Hz(p,Array.from(P));A.forEach((Oe,Ce)=>{const _e=Gw+y++;S.set(Ce,_e),Oe.forEach(Be=>yd(Be,_e))}),t.push(()=>{g.forEach((Oe,Ce)=>{const _e=v.get(Ce);Oe.forEach(Be=>cv(Be,_e))}),A.forEach((Oe,Ce)=>{const _e=S.get(Ce);Oe.forEach(Be=>cv(Be,_e))}),b.forEach(Oe=>{this.processLeaveNode(Oe)})});const H=[],V=[];for(let Oe=this._namespaceList.length-1;Oe>=0;Oe--)this._namespaceList[Oe].drainQueuedTransitions(n).forEach(_e=>{const Be=_e.player,We=_e.element;if(H.push(Be),this.collectedEnterElements.length){const xt=We[vd];if(xt&&xt.setForMove){if(xt.previousTriggersValues&&xt.previousTriggersValues.has(_e.triggerName)){const rt=xt.previousTriggersValues.get(_e.triggerName),wt=this.statesByElement.get(_e.element);if(wt&&wt.has(_e.triggerName)){const lt=wt.get(_e.triggerName);lt.value=rt,wt.set(_e.triggerName,lt)}}return void Be.destroy()}}const Ve=!h||!this.driver.containsElement(h,We),Ue=S.get(We),nt=v.get(We),He=this._buildInstruction(_e,i,nt,Ue,Ve);if(He.errors&&He.errors.length)return void V.push(He);if(Ve)return Be.onStart(()=>og(We,He.fromStyles)),Be.onDestroy(()=>Kh(We,He.toStyles)),void r.push(Be);if(_e.isFallbackTransition)return Be.onStart(()=>og(We,He.fromStyles)),Be.onDestroy(()=>Kh(We,He.toStyles)),void r.push(Be);const tt=[];He.timelines.forEach(xt=>{xt.stretchStartingKeyframe=!0,this.disabledNodes.has(xt.element)||tt.push(xt)}),He.timelines=tt,i.append(We,He.timelines),s.push({instruction:He,player:Be,element:We}),He.queriedElements.forEach(xt=>Bc(a,xt,[]).push(Be)),He.preStyleProps.forEach((xt,rt)=>{if(xt.size){let wt=l.get(rt);wt||l.set(rt,wt=new Set),xt.forEach((lt,Gt)=>wt.add(Gt))}}),He.postStyleProps.forEach((xt,rt)=>{let wt=c.get(rt);wt||c.set(rt,wt=new Set),xt.forEach((lt,Gt)=>wt.add(Gt))})});if(V.length){const Oe=[];V.forEach(Ce=>{Oe.push(function kle(e,t){return new le(3505,!1)}())}),H.forEach(Ce=>Ce.destroy()),this.reportError(Oe)}const Q=new Map,Y=new Map;s.forEach(Oe=>{const Ce=Oe.element;i.has(Ce)&&(Y.set(Ce,Ce),this._beforeAnimationBuild(Oe.player.namespaceId,Oe.instruction,Q))}),r.forEach(Oe=>{const Ce=Oe.element;this._getPreviousPlayers(Ce,!1,Oe.namespaceId,Oe.triggerName,null).forEach(Be=>{Bc(Q,Ce,[]).push(Be),Be.destroy()})});const ee=b.filter(Oe=>Wz(Oe,l,c)),ne=new Map;Vz(ne,this.driver,O,c,op).forEach(Oe=>{Wz(Oe,l,c)&&ee.push(Oe)});const pe=new Map;g.forEach((Oe,Ce)=>{Vz(pe,this.driver,new Set(Oe),l,rD)}),ee.forEach(Oe=>{const Ce=ne.get(Oe),_e=pe.get(Oe);ne.set(Oe,new Map([...Array.from(Ce?.entries()??[]),...Array.from(_e?.entries()??[])]))});const fe=[],ge=[],Se={};s.forEach(Oe=>{const{element:Ce,player:_e,instruction:Be}=Oe;if(i.has(Ce)){if(d.has(Ce))return _e.onDestroy(()=>Kh(Ce,Be.toStyles)),_e.disabled=!0,_e.overrideTotalTime(Be.totalTime),void r.push(_e);let We=Se;if(Y.size>1){let Ue=Ce;const nt=[];for(;Ue=Ue.parentNode;){const He=Y.get(Ue);if(He){We=He;break}nt.push(Ue)}nt.forEach(He=>Y.set(He,We))}const Ve=this._buildAnimation(_e.namespaceId,Be,Q,o,pe,ne);if(_e.setRealPlayer(Ve),We===Se)fe.push(_e);else{const Ue=this.playersByElement.get(We);Ue&&Ue.length&&(_e.parentPlayer=wf(Ue)),r.push(_e)}}else og(Ce,Be.fromStyles),_e.onDestroy(()=>Kh(Ce,Be.toStyles)),ge.push(_e),d.has(Ce)&&r.push(_e)}),ge.forEach(Oe=>{const Ce=o.get(Oe.element);if(Ce&&Ce.length){const _e=wf(Ce);Oe.setRealPlayer(_e)}}),r.forEach(Oe=>{Oe.parentPlayer?Oe.syncPlayerEvents(Oe.parentPlayer):Oe.destroy()});for(let Oe=0;Oe<b.length;Oe++){const Ce=b[Oe],_e=Ce[vd];if(cv(Ce,Gw),_e&&_e.hasAnimation)continue;let Be=[];if(a.size){let Ve=a.get(Ce);Ve&&Ve.length&&Be.push(...Ve);let Ue=this.driver.query(Ce,pD,!0);for(let nt=0;nt<Ue.length;nt++){let He=a.get(Ue[nt]);He&&He.length&&Be.push(...He)}}const We=Be.filter(Ve=>!Ve.destroyed);We.length?Lce(this,Ce,We):this.processLeaveNode(Ce)}return b.length=0,fe.forEach(Oe=>{this.players.push(Oe),Oe.onDone(()=>{Oe.destroy();const Ce=this.players.indexOf(Oe);this.players.splice(Ce,1)}),Oe.play()}),fe}elementContainsData(t,n){let i=!1;const r=n[vd];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(t).elementContainsData(n)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,r,o){let s=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==mb;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,n,i){const o=n.element,s=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,d=c!==o,h=Bc(i,c,[]);this._getPreviousPlayers(c,d,s,a,n.toState).forEach(g=>{const v=g.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),g.destroy(),h.push(g)})}og(o,n.fromStyles)}_buildAnimation(t,n,i,r,o,s){const a=n.triggerName,l=n.element,c=[],d=new Set,h=new Set,p=n.timelines.map(v=>{const y=v.element;d.add(y);const b=y[vd];if(b&&b.removedBeforeQueried)return new hb(v.duration,v.delay);const P=y!==l,O=function Fce(e){const t=[];return Gz(e,t),t}((i.get(y)||Dce).map(Q=>Q.getRealPlayer())).filter(Q=>!!Q.element&&Q.element===y),S=o.get(y),A=s.get(y),H=gz(0,this._normalizer,0,v.keyframes,S,A),V=this._buildPlayer(v,H,O);if(v.subTimeline&&r&&h.add(y),P){const Q=new SD(t,a,y);Q.setRealPlayer(V),c.push(Q)}return V});c.forEach(v=>{Bc(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function kce(e,t,n){let i=e.get(t);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}return i}(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>yd(v,Pz));const g=wf(p);return g.onDestroy(()=>{d.forEach(v=>cv(v,Pz)),Kh(l,n.toStyles)}),h.forEach(v=>{Bc(r,v,[]).push(g)}),g}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new hb(t.duration,t.delay)}}class SD{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new hb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>sD(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Bc(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function iC(e){return e&&1===e.nodeType}function jz(e,t){const n=e.style.display;return e.style.display=t??"none",n}function Vz(e,t,n,i,r){const o=[];n.forEach(l=>o.push(jz(l)));const s=[];i.forEach((l,c)=>{const d=new Map;l.forEach(h=>{const p=t.computeStyle(c,h,r);d.set(h,p),(!p||0==p.length)&&(c[vd]=Ace,s.push(c))}),e.set(c,d)});let a=0;return n.forEach(l=>jz(l,o[a++])),s}function Hz(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=1,r=new Set(t),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:r.has(c)?i:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);l!==i&&n.get(l).push(a)}),n}function yd(e,t){e.classList?.add(t)}function cv(e,t){e.classList?.remove(t)}function Lce(e,t,n){wf(n).onDone(()=>e.processLeaveNode(t))}function Gz(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof fz?Gz(i.players,t):t.push(i)}}function Wz(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(o=>r.add(o)):t.set(e,i),n.delete(e),!0}class rC{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Ice(t,n,i),this._timelineEngine=new Mce(t,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,n,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],c=[],d=vD(this._driver,o,l,c);if(l.length)throw function wle(e,t){return new le(3404,!1)}();a=function _ce(e,t,n){return new xce(e,t,n)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r)}onRemove(t,n,i,r){this._transitionEngine.removeNode(t,n,r||!1,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,r){if("@"==i.charAt(0)){const[o,s]=vz(i);this._timelineEngine.command(o,n,s,r)}else this._transitionEngine.trigger(t,n,i,r)}listen(t,n,i,r,o){if("@"==i.charAt(0)){const[s,a]=vz(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(t,n,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Uce=(()=>{class e{constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r,this._state=0;let o=e.initialStylesByElement.get(n);o||e.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Kh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kh(this._element,this._initialStyles),this._endStyles&&(Kh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(og(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(og(this._element,this._endStyles),this._endStyles=null),Kh(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function ED(e){let t=null;return e.forEach((n,i)=>{(function jce(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,n))}),t}class qz{constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Tz(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class Vce{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return xz(t,n)}getParentElement(t){return dD(t)}query(t,n,i){return wz(t,n,i)}computeStyle(t,n,i){return window.getComputedStyle(t)[n]}animate(t,n,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,d=s.filter(g=>g instanceof qz);(function qle(e,t){return 0===e||0===t})(i,r)&&d.forEach(g=>{g.currentSnapshot.forEach((v,y)=>c.set(y,v))});let h=function Vle(e){return e.length?e[0]instanceof Map?e:e.map(t=>Oz(t)):[]}(n).map(g=>Cf(g));h=function Yle(e,t,n){if(n.size&&t.length){let i=t[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Tz(e,a)))}}return t}(t,h,c);const p=function zce(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=ED(t[0]),t.length>1&&(i=ED(t[t.length-1]))):t instanceof Map&&(n=ED(t)),n||i?new Uce(e,n,i):null}(t,h);return new qz(t,h,l,p)}}let Hce=(()=>{class e extends dz{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:oi.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(n)?uz(n):n;return Yz(this._renderer,null,i,"register",[r]),new Gce(i,this._renderer)}}return e.\u0275fac=function(n){return new(n||e)(Lt(H0),Lt(No))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();class Gce extends ele{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new Wce(this._id,t,n||{},this._renderer)}}class Wce{constructor(t,n,i,r){this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return Yz(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Yz(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}const Xz="@.disabled";let qce=(()=>{class e{constructor(n,i,r){this.delegate=n,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(n,i){const o=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new $z("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(s,a,n,d.name,d)};return i.data.animation.forEach(l),new Yce(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,r){n>=0&&n<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(n){return new(n||e)(Lt(H0),Lt(rC),Lt(Xr))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();class $z{constructor(t,n,i,r){this.namespaceId=t,this.delegate=n,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>n.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){"@"==n.charAt(0)&&n==Xz?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class Yce extends $z{constructor(t,n,i,r,o){super(n,i,r,o),this.factory=t,this.namespaceId=n}setProperty(t,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Xz?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if("@"==n.charAt(0)){const r=function Xce(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function $ce(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,n,i)}}let Qce=(()=>{class e extends rC{constructor(n,i,r,o){super(n.body,i,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(n){return new(n||e)(Lt(No),Lt(hD),Lt(wD),Lt(eg))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const Qz=[{provide:dz,useClass:Hce},{provide:wD,useFactory:function Kce(){return new gce}},{provide:rC,useClass:Qce},{provide:H0,useFactory:function Zce(e,t,n){return new qce(e,t,n)},deps:[Hw,rC,Xr]}],DD=[{provide:hD,useFactory:()=>new Vce},{provide:NB,useValue:"BrowserAnimations"},...Qz],Kz=[{provide:hD,useClass:Cz},{provide:NB,useValue:"NoopAnimations"},...Qz];let Jce=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?Kz:DD}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({providers:DD,imports:[oz]}),e})();var vl=m(3527),ede=m(567),Ui=m(4850);let Zz=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(De(Vs),De(ao))},e.\u0275dir=tn({type:e}),e})(),ag=(()=>{class e extends Zz{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=$a(e)))(i||e)}}(),e.\u0275dir=tn({type:e,features:[lo]}),e})();const Zh=new Zn("NgValueAccessor"),nde={provide:Zh,useExisting:N(()=>Mf),multi:!0},rde=new Zn("CompositionEventMode");let Mf=(()=>{class e extends Zz{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ide(){const e=Qh()?Qh().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(De(Vs),De(ao),De(rde,8))},e.\u0275dir=tn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&dt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Uo([nde]),lo]}),e})();const ode=!1;function Pf(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function e8(e){return null!=e&&"number"==typeof e.length}const yl=new Zn("NgValidators"),Of=new Zn("NgAsyncValidators"),sde=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pc{static min(t){return function t8(e){return t=>{if(Pf(t.value)||Pf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function n8(e){return t=>{if(Pf(t.value)||Pf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return i8(t)}static requiredTrue(t){return function r8(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function o8(e){return Pf(e.value)||sde.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function s8(e){return t=>Pf(t.value)||!e8(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function a8(e){return t=>e8(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function l8(e){if(!e)return sC;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(Pf(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return f8(t)}static composeAsync(t){return m8(t)}}function i8(e){return Pf(e.value)?{required:!0}:null}function sC(e){return null}function c8(e){return null!=e}function d8(e){const t=Gy(e)?(0,vl.D)(e):e;if(ode&&!US(t)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new le(-1101,n)}return t}function h8(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function u8(e,t){return t.map(n=>n(e))}function p8(e){return e.map(t=>function ade(e){return!e.validate}(t)?t:n=>t.validate(n))}function f8(e){if(!e)return null;const t=e.filter(c8);return 0==t.length?null:function(n){return h8(u8(n,t))}}function AD(e){return null!=e?f8(p8(e)):null}function m8(e){if(!e)return null;const t=e.filter(c8);return 0==t.length?null:function(n){const i=u8(n,t).map(d8);return(0,ede.D)(i).pipe((0,Ui.U)(h8))}}function TD(e){return null!=e?m8(p8(e)):null}function g8(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function v8(e){return e._rawValidators}function y8(e){return e._rawAsyncValidators}function ID(e){return e?Array.isArray(e)?e:[e]:[]}function aC(e,t){return Array.isArray(e)?e.includes(t):e===t}function b8(e,t){const n=ID(t);return ID(e).forEach(r=>{aC(n,r)||n.push(r)}),n}function _8(e,t){return ID(t).filter(n=>!aC(e,n))}class x8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=AD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=TD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class zl extends x8{get formDirective(){return null}get path(){return null}}class Sf extends x8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class w8{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dv=(()=>{class e extends w8{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(De(Sf,2))},e.\u0275dir=tn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&ss("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[lo]}),e})(),hv=(()=>{class e extends w8{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(De(zl,10))},e.\u0275dir=tn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){2&n&&ss("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[lo]}),e})();function C8(e,t){return e?`with name: '${t}'`:`at index: ${t}`}const ND=!1,gb="VALID",cC="INVALID",uv="PENDING",vb="DISABLED";function LD(e){return(dC(e)?e.validators:e)||null}function FD(e,t){return(dC(t)?t.asyncValidators:e)||null}function dC(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function M8(e,t,n){const i=e.controls;if(!(t?Object.keys(i):i).length)throw new le(1e3,ND?function hde(e){return`\n    There are no form controls registered with this ${e?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[n])throw new le(1001,ND?function ude(e,t){return`Cannot find form control ${C8(e,t)}`}(t,n):"")}function P8(e,t,n){e._forEachChild((i,r)=>{if(void 0===n[r])throw new le(1002,ND?function pde(e,t){return`Must supply a value for form control ${C8(e,t)}`}(t,r):"")})}class hC{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gb}get invalid(){return this.status===cC}get pending(){return this.status==uv}get disabled(){return this.status===vb}get enabled(){return this.status!==vb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(b8(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(b8(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_8(t,this._rawAsyncValidators))}hasValidator(t){return aC(this._rawValidators,t)}hasAsyncValidator(t){return aC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=uv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=vb,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=gb,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gb||this.status===uv)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vb:gb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=uv,this._hasOwnPendingAsyncValidator=!0;const n=d8(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new $i,this.statusChanges=new $i}_calculateStatus(){return this._allControlsDisabled()?vb:this.errors?cC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uv)?uv:this._anyControlsHaveStatus(cC)?cC:gb}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function fde(e){return Array.isArray(e)?AD(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function mde(e){return Array.isArray(e)?TD(e):e||null}(this._rawAsyncValidators)}}class yb extends hC{constructor(t,n,i){super(LD(n),FD(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){P8(this,!0,t),Object.keys(t).forEach(i=>{M8(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class O8 extends yb{}const lg=new Zn("CallSetDisabledState",{providedIn:"root",factory:()=>bb}),bb="always";function uC(e,t){return[...t.path,e]}function _b(e,t,n=bb){BD(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function vde(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&S8(e,t)})}(e,t),function bde(e,t){const n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function yde(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&S8(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function gde(e,t){if(t.valueAccessor.setDisabledState){const n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function pC(e,t,n=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),mC(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function fC(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function BD(e,t){const n=v8(e);null!==t.validator?e.setValidators(g8(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=y8(e);null!==t.asyncValidator?e.setAsyncValidators(g8(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();fC(t._rawValidators,r),fC(t._rawAsyncValidators,r)}function mC(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=v8(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const r=y8(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}const i=()=>{};return fC(t._rawValidators,i),fC(t._rawAsyncValidators,i),n}function S8(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function E8(e,t){BD(e,t)}function UD(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function D8(e,t){e._syncPendingControls(),t.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function jD(e,t){if(!t)return null;let n,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Mf?n=o:function wde(e){return Object.getPrototypeOf(e.constructor)===ag}(o)?i=o:r=o}),r||i||n||null}const Mde={provide:zl,useExisting:N(()=>cg)},xb=(()=>Promise.resolve())();let cg=(()=>{class e extends zl{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new $i,this.form=new yb({},AD(n),TD(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){xb.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),_b(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){xb.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){xb.then(()=>{const i=this._findContainer(n.path),r=new yb({});E8(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){xb.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){xb.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,D8(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(De(yl,10),De(Of,10),De(lg,8))},e.\u0275dir=tn({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){1&n&&dt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Uo([Mde]),lo]}),e})();function A8(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function T8(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const wb=class extends hC{constructor(t=null,n,i){super(LD(n),FD(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dC(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=T8(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){A8(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){A8(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){T8(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Sde={provide:Sf,useExisting:N(()=>pv)},R8=(()=>Promise.resolve())();let pv=(()=>{class e extends Sf{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new wb,this._registered=!1,this.update=new $i,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=jD(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),UD(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_b(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){R8.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,r=0!==i&&av(i);R8.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?uC(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(De(zl,9),De(yl,10),De(Of,10),De(Zh,10),De(Zd,8),De(lg,8))},e.\u0275dir=tn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Uo([Sde]),lo,M]}),e})(),fv=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=tn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),L8=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({}),e})();const VD=new Zn("NgModelWithFormControlWarning"),kde={provide:zl,useExisting:N(()=>Ef)};let Ef=(()=>{class e extends zl{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $i,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return _b(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){pC(n.control||null,n,!1),function Cde(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,D8(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,r=this.form.get(n.path);i!==r&&(pC(i||null,n),(e=>e instanceof wb)(r)&&(_b(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);E8(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function _de(e,t){return mC(e,t)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BD(this.form,this),this._oldForm&&mC(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(n){return new(n||e)(De(yl,10),De(Of,10),De(lg,8))},e.\u0275dir=tn({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,i){1&n&&dt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Uo([kde]),lo,M]}),e})();const Lde={provide:Sf,useExisting:N(()=>dg)};let dg=(()=>{class e extends Sf{set isDisabled(n){}constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new $i,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=jD(0,o)}ngOnChanges(n){this._added||this._setUpControl(),UD(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return uC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(De(zl,13),De(yl,10),De(Of,10),De(Zh,10),De(VD,8))},e.\u0275dir=tn({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Uo([Lde]),lo,M]}),e})(),hg=(()=>{class e{constructor(){this._validator=sC}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):sC,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=tn({type:e,features:[M]}),e})();const Wde={provide:yl,useExisting:N(()=>Df),multi:!0};let Df=(()=>{class e extends hg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=av,this.createValidator=n=>i8}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=$a(e)))(i||e)}}(),e.\u0275dir=tn({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,i){2&n&&Eo("required",i._enabled?"":null)},inputs:{required:"required"},features:[Uo([Wde]),lo]}),e})(),Z8=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[L8]}),e})();class J8 extends hC{constructor(t,n,i){super(LD(n),FD(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,i={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){P8(this,!1,t),t.forEach((i,r)=>{M8(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,i)=>!!i._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,i)=>{t(n,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function e9(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let ug=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,i=null){const r=this._reduceControls(n);let o={};return e9(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new yb(r,o)}record(n,i=null){const r=this._reduceControls(n);return new O8(r,i)}control(n,i,r){let o={};return this.useNonNullable?(e9(i)?o=i:(o.validators=i,o.asyncValidators=r),new wb(n,{...o,nonNullable:!0})):new wb(n,i,r)}array(n,i,r){const o=n.map(s=>this._createControl(s));return new J8(o,i,r)}_reduceControls(n){const i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){return n instanceof wb||n instanceof hC?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),t9=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:lg,useValue:n.callSetDisabledState??bb}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Z8]}),e})(),Kde=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:VD,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:lg,useValue:n.callSetDisabledState??bb}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Z8]}),e})();var ci=m(1086),Af=m(1406),Qa=m(2198);class gC{}class YD{}class ap{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof ap?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new ap;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ap?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,n);const r=("a"===t.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class Zde{encodeKey(t){return n9(t)}encodeValue(t){return n9(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ehe=/%(\d[a-f0-9])/gi,the={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function n9(e){return encodeURIComponent(e).replace(ehe,(t,n)=>the[n]??t)}function vC(e){return`${e}`}class Tf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Zde,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Jde(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const i=t.fromObject[n],r=Array.isArray(i)?i.map(vC):[vC(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Tf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(vC(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(vC(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class nhe{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function i9(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function r9(e){return typeof Blob<"u"&&e instanceof Blob}function o9(e){return typeof FormData<"u"&&e instanceof FormData}class Cb{constructor(t,n,i,r){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ihe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ap),this.context||(this.context=new nhe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Tf,this.urlWithParams=n}serializeBody(){return null===this.body?null:i9(this.body)||r9(this.body)||o9(this.body)||function rhe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||o9(this.body)?null:r9(this.body)?this.body.type||null:i9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),c)),new Cb(n,i,o,{params:c,headers:l,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var Ws=(()=>((Ws=Ws||{})[Ws.Sent=0]="Sent",Ws[Ws.UploadProgress=1]="UploadProgress",Ws[Ws.ResponseHeader=2]="ResponseHeader",Ws[Ws.DownloadProgress=3]="DownloadProgress",Ws[Ws.Response=4]="Response",Ws[Ws.User=5]="User",Ws))();class XD{constructor(t,n=200,i="OK"){this.headers=t.headers||new ap,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $D extends XD{constructor(t={}){super(t),this.type=Ws.ResponseHeader}clone(t={}){return new $D({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yC extends XD{constructor(t={}){super(t),this.type=Ws.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new yC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class s9 extends XD{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function QD(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let fc=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof Cb)o=n;else{let l,c;l=r.headers instanceof ap?r.headers:new ap(r.headers),r.params&&(c=r.params instanceof Tf?r.params:new Tf({fromObject:r.params})),o=new Cb(n,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=(0,ci.of)(o).pipe((0,Af.b)(l=>this.handler.handle(l)));if(n instanceof Cb||"events"===r.observe)return s;const a=s.pipe((0,Qa.h)(l=>l instanceof yC));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe((0,Ui.U)(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe((0,Ui.U)(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe((0,Ui.U)(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe((0,Ui.U)(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new Tf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,QD(r,i))}post(n,i,r={}){return this.request("POST",n,QD(r,i))}put(n,i,r={}){return this.request("PUT",n,QD(r,i))}}return e.\u0275fac=function(n){return new(n||e)(Lt(gC))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();function a9(e,t){return t(e)}function ohe(e,t){return(n,i)=>t.intercept(n,{handle:r=>e(r,i)})}const ahe=new Zn("HTTP_INTERCEPTORS"),Mb=new Zn("HTTP_INTERCEPTOR_FNS");function lhe(){let e=null;return(t,n)=>(null===e&&(e=(fi(ahe,{optional:!0})??[]).reduceRight(ohe,a9)),e(t,n))}let l9=(()=>{class e extends gC{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null}handle(n){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Mb)));this.chain=i.reduceRight((r,o)=>function she(e,t,n){return(i,r)=>n.runInContext(()=>t(i,o=>e(o,r)))}(r,o,this.injector),a9)}return this.chain(n,i=>this.backend.handle(i))}}return e.\u0275fac=function(n){return new(n||e)(Lt(YD),Lt(Hh))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const uhe=/^\)\]\}',?\n/;let d9=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new E.y(i=>{const r=this.xhrFactory.build();if(r.open(n.method,n.urlWithParams),n.withCredentials&&(r.withCredentials=!0),n.headers.forEach((g,v)=>r.setRequestHeader(g,v.join(","))),n.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&r.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();r.responseType="json"!==g?g:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const g=r.statusText||"OK",v=new ap(r.getAllResponseHeaders()),y=function phe(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||n.url;return s=new $D({headers:v,status:r.status,statusText:g,url:y}),s},l=()=>{let{headers:g,status:v,statusText:y,url:b}=a(),P=null;204!==v&&(P=typeof r.response>"u"?r.responseText:r.response),0===v&&(v=P?200:0);let O=v>=200&&v<300;if("json"===n.responseType&&"string"==typeof P){const S=P;P=P.replace(uhe,"");try{P=""!==P?JSON.parse(P):null}catch(A){P=S,O&&(O=!1,P={error:A,text:P})}}O?(i.next(new yC({body:P,headers:g,status:v,statusText:y,url:b||void 0})),i.complete()):i.error(new s9({error:P,headers:g,status:v,statusText:y,url:b||void 0}))},c=g=>{const{url:v}=a(),y=new s9({error:g,status:r.status||0,statusText:r.statusText||"Unknown Error",url:v||void 0});i.error(y)};let d=!1;const h=g=>{d||(i.next(a()),d=!0);let v={type:Ws.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),"text"===n.responseType&&r.responseText&&(v.partialText=r.responseText),i.next(v)},p=g=>{let v={type:Ws.UploadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),i.next(v)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),n.reportProgress&&(r.addEventListener("progress",h),null!==o&&r.upload&&r.upload.addEventListener("progress",p)),r.send(o),i.next({type:Ws.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),n.reportProgress&&(r.removeEventListener("progress",h),null!==o&&r.upload&&r.upload.removeEventListener("progress",p)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(Lt(F6))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const KD=new Zn("XSRF_ENABLED"),h9=new Zn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),u9=new Zn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class p9{}let ghe=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=C6(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(Lt(No),Lt(ud),Lt(h9))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();function vhe(e,t){const n=e.url.toLowerCase();if(!fi(KD)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const i=fi(p9).getToken(),r=fi(u9);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var Ds=(()=>((Ds=Ds||{})[Ds.Interceptors=0]="Interceptors",Ds[Ds.LegacyInterceptors=1]="LegacyInterceptors",Ds[Ds.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ds[Ds.NoXsrfProtection=3]="NoXsrfProtection",Ds[Ds.JsonpSupport=4]="JsonpSupport",Ds[Ds.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ds))();function mv(e,t){return{\u0275kind:e,\u0275providers:t}}function yhe(...e){const t=[fc,d9,l9,{provide:gC,useExisting:l9},{provide:YD,useExisting:d9},{provide:Mb,useValue:vhe,multi:!0},{provide:KD,useValue:!0},{provide:p9,useClass:ghe}];for(const n of e)t.push(...n.\u0275providers);return function ree(e){return{\u0275providers:e}}(t)}const f9=new Zn("LEGACY_INTERCEPTOR_FN");let _he=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({providers:[yhe(mv(Ds.LegacyInterceptors,[{provide:f9,useFactory:lhe},{provide:Mb,useExisting:f9,multi:!0}]))]}),e})();function Wi(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}function gv(e,t){return function(n,i){t(n,i,e)}}var sr=m(2994),Ka=m(7545),th=m(7224),Za=m(2986),JD=m(1307),whe=m(864),v9=m(943),Aa=m(591),Che=m(4450),_C=m(6053),Mhe=m(1961),y9=m(8514),Phe=m(4843),Kr=m(1737),pg=m(8896),b9=m(1762),xC=m(1059),Uc=m(1709),$r=m(7221),_9=m(2014),x9=m(8127),Ohe=m(4290),w9=m(7314),C9=m(2821),She=m(7604),eA=m(537),M9=m(4327),wC=m(9146);const ar="primary",Pb=Symbol("RouteTitle");class Ehe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function vv(e){return new Ehe(e)}function Dhe(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Jh(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!P9(e[r],t[r]))return!1;return!0}function P9(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}return e===t}function O9(e){return Array.prototype.concat.apply([],e)}function S9(e){return e.length>0?e[e.length-1]:null}function Ja(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function If(e){return US(e)?e:Gy(e)?(0,vl.D)(Promise.resolve(e)):(0,ci.of)(e)}const CC=!1,The={exact:function A9(e,t,n){if(!fg(e.segments,t.segments)||!MC(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!A9(e.children[i],t.children[i],n))return!1;return!0},subset:T9},E9={exact:function Ihe(e,t){return Jh(e,t)},subset:function khe(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>P9(e[n],t[n]))},ignored:()=>!0};function D9(e,t,n){return The[n.paths](e.root,t.root,n.matrixParams)&&E9[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function T9(e,t,n){return I9(e,t,t.segments,n)}function I9(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!fg(r,n)||t.hasChildren()||!MC(r,n,i))}if(e.segments.length===n.length){if(!fg(e.segments,n)||!MC(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!T9(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(fg(e.segments,r)&&MC(e.segments,r,i)&&e.children[ar])&&I9(e.children[ar],t,o,i)}}function MC(e,t,n){return t.every((i,r)=>E9[n](e[r].parameters,i.parameters))}class kf{constructor(t=new xr([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vv(this.queryParams)),this._queryParamMap}toString(){return Lhe.serialize(this)}}class xr{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Ja(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return PC(this)}}class Ob{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=vv(this.parameters)),this._parameterMap}toString(){return N9(this)}}function fg(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let Sb=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:function(){return new tA},providedIn:"root"}),e})();class tA{parse(t){const n=new Whe(t);return new kf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Eb(t.root,!0)}`,i=function zhe(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${OC(n)}=${OC(r)}`).join("&"):`${OC(n)}=${OC(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function Fhe(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Lhe=new tA;function PC(e){return e.segments.map(t=>N9(t)).join("/")}function Eb(e,t){if(!e.hasChildren())return PC(e);if(t){const n=e.children[ar]?Eb(e.children[ar],!1):"",i=[];return Ja(e.children,(r,o)=>{o!==ar&&i.push(`${o}:${Eb(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function Nhe(e,t){let n=[];return Ja(e.children,(i,r)=>{r===ar&&(n=n.concat(t(i,r)))}),Ja(e.children,(i,r)=>{r!==ar&&(n=n.concat(t(i,r)))}),n}(e,(i,r)=>r===ar?[Eb(e.children[ar],!1)]:[`${r}:${Eb(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ar]?`${PC(e)}/${n[0]}`:`${PC(e)}/(${n.join("//")})`}}function k9(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function OC(e){return k9(e).replace(/%3B/gi,";")}function nA(e){return k9(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function SC(e){return decodeURIComponent(e)}function R9(e){return SC(e.replace(/\+/g,"%20"))}function N9(e){return`${nA(e.path)}${function Bhe(e){return Object.keys(e).map(t=>`;${nA(t)}=${nA(e[t])}`).join("")}(e.parameters)}`}const Uhe=/^[^\/()?;=#]+/;function EC(e){const t=e.match(Uhe);return t?t[0]:""}const jhe=/^[^=?&#]+/,Hhe=/^[^&#]+/;class Whe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xr([],{}):new xr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[ar]=new xr(t,n)),i}parseSegment(){const t=EC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new le(4009,CC);return this.capture(t),new Ob(SC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=EC(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=EC(this.remaining);r&&(i=r,this.capture(i))}t[SC(n)]=SC(i)}parseQueryParam(t){const n=function Vhe(e){const t=e.match(jhe);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=function Ghe(e){const t=e.match(Hhe);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=R9(n),o=R9(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=EC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new le(4010,CC);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ar);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ar]:new xr([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new le(4011,CC)}}function iA(e){return e.segments.length>0?new xr([],{[ar]:e}):e}function DC(e){const t={};for(const i of Object.keys(e.children)){const o=DC(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function qhe(e){if(1===e.numberOfChildren&&e.children[ar]){const t=e.children[ar];return new xr(e.segments.concat(t.segments),t.children)}return e}(new xr(e.segments,t))}function mg(e){return e instanceof kf}const rA=!1;function Yhe(e,t,n,i,r){if(0===n.length)return yv(t.root,t.root,t.root,i,r);const o=function U9(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new z9(!0,0,e);let t=0,n=!1;const i=e.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Ja(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new z9(n,t,i)}(n);return o.toRoot()?yv(t.root,t.root,new xr([],{}),i,r):function s(l){const c=function $he(e,t,n,i){if(e.isAbsolute)return new bv(t.root,!0,0);if(-1===i)return new bv(n,n===t.root,0);return function j9(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new le(4005,rA&&"Invalid number of '../'");r=i.segments.length}return new bv(i,!1,r-o)}(n,i+(Db(e.commands[0])?0:1),e.numberOfDoubleDots)}(o,t,e.snapshot?._urlSegment,l),d=c.processChildren?_v(c.segmentGroup,c.index,o.commands):oA(c.segmentGroup,c.index,o.commands);return yv(t.root,c.segmentGroup,d,i,r)}(e.snapshot?._lastPathIndex)}function Db(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ab(e){return"object"==typeof e&&null!=e&&e.outlets}function yv(e,t,n,i,r){let s,o={};i&&Ja(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),s=e===t?n:B9(e,t,n);const a=iA(DC(s));return new kf(a,o,r)}function B9(e,t,n){const i={};return Ja(e.children,(r,o)=>{i[o]=r===t?n:B9(r,t,n)}),new xr(e.segments,i)}class z9{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Db(i[0]))throw new le(4003,rA&&"Root segment cannot have matrix parameters");const r=i.find(Ab);if(r&&r!==S9(i))throw new le(4004,rA&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bv{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function oA(e,t,n){if(e||(e=new xr([],{})),0===e.segments.length&&e.hasChildren())return _v(e,t,n);const i=function Khe(e,t,n){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;const s=e.segments[r],a=n[i];if(Ab(a))break;const l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!H9(l,c,s))return o;i+=2}else{if(!H9(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new xr(e.segments.slice(0,i.pathIndex),{});return o.children[ar]=new xr(e.segments.slice(i.pathIndex),e.children),_v(o,0,r)}return i.match&&0===r.length?new xr(e.segments,{}):i.match&&!e.hasChildren()?sA(e,t,n):i.match?_v(e,0,r):sA(e,t,n)}function _v(e,t,n){if(0===n.length)return new xr(e.segments,{});{const i=function Qhe(e){return Ab(e[0])?e[0].outlets:{[ar]:e}}(n),r={};if(!i[ar]&&e.children[ar]&&1===e.numberOfChildren&&0===e.children[ar].segments.length){const o=_v(e.children[ar],t,n);return new xr(e.segments,o.children)}return Ja(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=oA(e.children[s],t,o))}),Ja(e.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new xr(e.segments,r)}}function sA(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const o=n[r];if(Ab(o)){const l=Zhe(o.outlets);return new xr(i,l)}if(0===r&&Db(n[0])){i.push(new Ob(e.segments[t].path,V9(n[0]))),r++;continue}const s=Ab(o)?o.outlets[ar]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Db(a)?(i.push(new Ob(s,V9(a))),r+=2):(i.push(new Ob(s,{})),r++)}return new xr(i,{})}function Zhe(e){const t={};return Ja(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=sA(new xr([],{}),0,n))}),t}function V9(e){const t={};return Ja(e,(n,i)=>t[i]=`${n}`),t}function H9(e,t,n){return e==n.path&&Jh(t,n.parameters)}const Tb="imperative";class eu{constructor(t,n){this.id=t,this.url=n}}class aA extends eu{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rf extends eu{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class AC extends eu{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class TC extends eu{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=16}}class lA extends eu{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jhe extends eu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eue extends eu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tue extends eu{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nue extends eu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iue extends eu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rue{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oue{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sue{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aue{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lue{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cue{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G9{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let uue=(()=>{class e{createUrlTree(n,i,r,o,s,a){return Yhe(n||i.root,r,o,s,a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})(),fue=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:function(t){return uue.\u0275fac(t)},providedIn:"root"}),e})();class W9{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=cA(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=cA(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=dA(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return dA(t,this._root).map(n=>n.value)}}function cA(e,t){if(e===t.value)return t;for(const n of t.children){const i=cA(e,n);if(i)return i}return null}function dA(e,t){if(e===t.value)return[t];for(const n of t.children){const i=dA(e,n);if(i.length)return i.unshift(t),i}return[]}class lp{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function xv(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class q9 extends W9{constructor(t,n){super(t),this.snapshot=n,hA(this,t)}toString(){return this.snapshot.toString()}}function Y9(e,t){const n=function mue(e,t){const s=new IC([],{},{},"",{},ar,t,null,e.root,-1,{});return new $9("",new lp(s,[]))}(e,t),i=new Aa.X([new Ob("",{})]),r=new Aa.X({}),o=new Aa.X({}),s=new Aa.X({}),a=new Aa.X(""),l=new mc(i,r,s,a,o,ar,t,n.root);return l.snapshot=n.root,new q9(new lp(l,[]),n)}class mc{constructor(t,n,i,r,o,s,a,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe((0,Ui.U)(c=>c[Pb]))??(0,ci.of)(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ui.U)(t=>vv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ui.U)(t=>vv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function X9(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function gue(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class IC{get title(){return this.data?.[Pb]}constructor(t,n,i,r,o,s,a,l,c,d,h){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $9 extends W9{constructor(t,n){super(n),this.url=t,hA(this,n)}toString(){return Q9(this._root)}}function hA(e,t){t.value._routerState=e,t.children.forEach(n=>hA(e,n))}function Q9(e){const t=e.children.length>0?` { ${e.children.map(Q9).join(", ")} } `:"";return`${e.value}${t}`}function uA(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Jh(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Jh(t.params,n.params)||e.params.next(n.params),function Ahe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Jh(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Jh(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function pA(e,t){const n=Jh(e.params,t.params)&&function Rhe(e,t){return fg(e,t)&&e.every((n,i)=>Jh(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||pA(e.parent,t.parent))}function Ib(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function yue(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Ib(e,i,r);return Ib(e,i)})}(e,t,n);return new lp(i,r)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ib(e,a)),s}}const i=function bue(e){return new mc(new Aa.X(e.url),new Aa.X(e.params),new Aa.X(e.queryParams),new Aa.X(e.fragment),new Aa.X(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(o=>Ib(e,o));return new lp(i,r)}}const fA="ngNavigationCancelingError";function K9(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=mg(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Z9(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function Z9(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[fA]=!0,i.cancellationCode=t,n&&(i.url=n),i}function J9(e){return eU(e)&&mg(e.url)}function eU(e){return e&&e[fA]}class _ue{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kb,this.attachRef=null}}let kb=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new _ue,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const kC=!1;let mA=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ar,this.activateEvents=new $i,this.deactivateEvents=new $i,this.attachEvents=new $i,this.detachEvents=new $i,this.parentContexts=fi(kb),this.location=fi(Qd),this.changeDetector=fi(Zd),this.environmentInjector=fi(Hh)}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,kC);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,kC);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,kC);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new le(4013,kC);this._activatedRoute=n;const r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new xue(n,a,r.injector);if(i&&function wue(e){return!!e.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=tn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M]}),e})();class xue{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===mc?this.route:t===kb?this.childContexts:this.parent.get(t,n)}}let gA=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Li({type:e,selectors:[["ng-component"]],standalone:!0,features:[qF],decls:1,vars:0,template:function(n,i){1&n&&ce(0,"router-outlet")},dependencies:[mA],encapsulation:2}),e})();function tU(e,t){return e.providers&&!e._injector&&(e._injector=yw(e.providers,t,`Route: ${e.path}`)),e._injector??t}function yA(e){const t=e.children&&e.children.map(yA),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ar&&(n.component=gA),n}function bd(e){return e.outlet||ar}function nU(e,t){const n=e.filter(i=>bd(i)===t);return n.push(...e.filter(i=>bd(i)!==t)),n}function Rb(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Sue{constructor(t,n,i,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),uA(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=xv(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Ja(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=xv(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=xv(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const r=xv(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new cue(o.value.snapshot))}),t.children.length&&this.forwardEvent(new aue(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(uA(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uA(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Rb(r.snapshot),l=a?.get(j0)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class iU{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class RC{constructor(t,n){this.component=t,this.route=n}}function Eue(e,t,n){const i=e._root;return Nb(i,t?t._root:null,n,[i.value])}function wv(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function Zt(e){return null!==ri(e)}(e)?t.get(e):e:i}function Nb(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=xv(t);return e.children.forEach(s=>{(function Aue(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Tue(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!fg(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fg(e.url,t.url)||!Jh(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pA(e,t)||!Jh(e.queryParams,t.queryParams);default:return!pA(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new iU(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Nb(e,t,o.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new RC(a.outlet.component,s))}else s&&Lb(t,a,r),r.canActivateChecks.push(new iU(i)),Nb(e,null,o.component?a?a.children:null:n,i,r)})(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Ja(o,(s,a)=>Lb(s,n.getContext(a),r)),r}function Lb(e,t,n){const i=xv(e),r=e.value;Ja(i,(o,s)=>{Lb(o,r.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new RC(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Fb(e){return"function"==typeof e}function bA(e){return e instanceof Che.K||"EmptyError"===e?.name}const NC=Symbol("INITIAL_VALUE");function Cv(){return(0,Ka.w)(e=>(0,_C.aj)(e.map(t=>t.pipe((0,Za.q)(1),(0,xC.O)(NC)))).pipe((0,Ui.U)(t=>{for(const n of t)if(!0!==n){if(n===NC)return NC;if(!1===n||n instanceof kf)return n}return!0}),(0,Qa.h)(t=>t!==NC),(0,Za.q)(1)))}function rU(e){return(0,Phe.z)((0,sr.b)(t=>{if(mg(t))throw K9(0,t)}),(0,Ui.U)(t=>!0===t))}const _A={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oU(e,t,n,i,r){const o=xA(e,t,n);return o.matched?function Xue(e,t,n,i){const r=t.canMatch;if(!r||0===r.length)return(0,ci.of)(!0);const o=r.map(s=>{const a=wv(s,e);return If(function Fue(e){return e&&Fb(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))});return(0,ci.of)(o).pipe(Cv(),rU())}(i=tU(t,i),t,n).pipe((0,Ui.U)(s=>!0===s?o:{..._A})):(0,ci.of)(o)}function xA(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{..._A}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Dhe)(n,e,t);if(!r)return{..._A};const o={};Ja(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function LC(e,t,n,i){if(n.length>0&&function Kue(e,t,n){return n.some(i=>FC(e,t,i)&&bd(i)!==ar)}(e,n,i)){const o=new xr(t,function Que(e,t,n,i){const r={};r[ar]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&bd(o)!==ar){const s=new xr([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,r[bd(o)]=s}return r}(e,t,i,new xr(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function Zue(e,t,n){return n.some(i=>FC(e,t,i))}(e,n,i)){const o=new xr(e.segments,function $ue(e,t,n,i,r){const o={};for(const s of i)if(FC(e,n,s)&&!r[bd(s)]){const a=new xr([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,o[bd(s)]=a}return{...r,...o}}(e,t,n,i,e.children));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const r=new xr(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function FC(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function sU(e,t,n,i){return!!(bd(e)===i||i!==ar&&FC(t,n,e))&&("**"===e.path||xA(t,e,n).matched)}function aU(e,t,n){return 0===t.length&&!e.children[n]}const BC=!1;class zC{constructor(t){this.segmentGroup=t||null}}class lU{constructor(t){this.urlTree=t}}function Bb(e){return(0,Kr._)(new zC(e))}function cU(e){return(0,Kr._)(new lU(e))}class npe{constructor(t,n,i,r,o){this.injector=t,this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=LC(this.urlTree.root,[],[],this.config).segmentGroup,n=new xr(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,ar).pipe((0,Ui.U)(o=>this.createUrlTree(DC(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,$r.K)(o=>{if(o instanceof lU)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof zC?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ar).pipe((0,Ui.U)(r=>this.createUrlTree(DC(r),t.queryParams,t.fragment))).pipe((0,$r.K)(r=>{throw r instanceof zC?this.noMatchError(r):r}))}noMatchError(t){return new le(4002,BC)}createUrlTree(t,n,i){const r=iA(t);return new kf(r,n,i)}expandSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe((0,Ui.U)(o=>new xr([],o))):this.expandSegment(t,i,n,i.segments,r,!0)}expandChildren(t,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,vl.D)(r).pipe((0,Af.b)(o=>{const s=i.children[o],a=nU(n,o);return this.expandSegmentGroup(t,a,s,o).pipe((0,Ui.U)(l=>({segment:l,outlet:o})))}),(0,_9.R)((o,s)=>(o[s.outlet]=s.segment,o),{}),(0,x9.Z)())}expandSegment(t,n,i,r,o,s){return(0,vl.D)(i).pipe((0,Af.b)(a=>this.expandSegmentAgainstRoute(t,n,i,a,r,o,s).pipe((0,$r.K)(c=>{if(c instanceof zC)return(0,ci.of)(null);throw c}))),(0,th.P)(a=>!!a),(0,$r.K)((a,l)=>{if(bA(a))return aU(n,r,o)?(0,ci.of)(new xr([],{})):Bb(n);throw a}))}expandSegmentAgainstRoute(t,n,i,r,o,s,a){return sU(r,n,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,n,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s):Bb(n):Bb(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?cU(o):this.lineralizeSegments(i,o).pipe((0,Uc.zg)(s=>{const a=new xr(s,{});return this.expandSegment(t,a,n,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=xA(n,r,o);if(!a)return Bb(n);const h=this.applyRedirectCommands(l,r.redirectTo,d);return r.redirectTo.startsWith("/")?cU(h):this.lineralizeSegments(r,h).pipe((0,Uc.zg)(p=>this.expandSegment(t,n,i,p.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,i,r,o){return"**"===i.path?(t=tU(i,t),i.loadChildren?(i._loadedRoutes?(0,ci.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Ui.U)(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new xr(r,{})))):(0,ci.of)(new xr(r,{}))):oU(n,i,r,t).pipe((0,Ka.w)(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Uc.zg)(d=>{const h=d.injector??t,p=d.routes,{segmentGroup:g,slicedSegments:v}=LC(n,a,l,p),y=new xr(g.segments,g.children);if(0===v.length&&y.hasChildren())return this.expandChildren(h,p,y).pipe((0,Ui.U)(S=>new xr(a,S)));if(0===p.length&&0===v.length)return(0,ci.of)(new xr(a,{}));const b=bd(i)===o;return this.expandSegment(h,y,p,v,b?ar:o,!0).pipe((0,Ui.U)(O=>new xr(a.concat(O.segments),O.children)))})):Bb(n)))}getChildConfig(t,n,i){return n.children?(0,ci.of)({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?(0,ci.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function Yue(e,t,n,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,ci.of)(!0);const o=r.map(s=>{const a=wv(s,e);return If(function kue(e){return e&&Fb(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))});return(0,ci.of)(o).pipe(Cv(),rU())}(t,n,i).pipe((0,Uc.zg)(r=>r?this.configLoader.loadChildren(t,n).pipe((0,sr.b)(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function epe(e){return(0,Kr._)(Z9(BC,3))}())):(0,ci.of)({routes:[],injector:t})}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,ci.of)(i);if(r.numberOfChildren>1||!r.children[ar])return t.redirectTo,(0,Kr._)(new le(4e3,BC));r=r.children[ar]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const o=this.createSegmentGroup(t,n.root,i,r);return new kf(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Ja(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=n[a]}else i[o]=r}),i}createSegmentGroup(t,n,i,r){const o=this.createSegments(t,n.segments,i,r);let s={};return Ja(n.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new xr(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new le(4001,BC);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}class rpe{}class ape{constructor(t,n,i,r,o,s,a){this.injector=t,this.rootComponentType=n,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const t=LC(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ar).pipe((0,Ui.U)(n=>{if(null===n)return null;const i=new IC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ar,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new lp(i,n),o=new $9(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const n=t.value,i=X9(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r)}processChildren(t,n,i){return(0,vl.D)(Object.keys(i.children)).pipe((0,Af.b)(r=>{const o=i.children[r],s=nU(n,r);return this.processSegmentGroup(t,s,o,r)}),(0,_9.R)((r,o)=>r&&o?(r.push(...o),r):null),(0,Ohe.o)(r=>null!==r),(0,w9.d)(null),(0,x9.Z)(),(0,Ui.U)(r=>{if(null===r)return null;const o=hU(r);return function lpe(e){e.sort((t,n)=>t.value.outlet===ar?-1:n.value.outlet===ar?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(t,n,i,r,o){return(0,vl.D)(n).pipe((0,Af.b)(s=>this.processSegmentAgainstRoute(s._injector??t,s,i,r,o)),(0,th.P)(s=>!!s),(0,$r.K)(s=>{if(bA(s))return aU(i,r,o)?(0,ci.of)([]):(0,ci.of)(null);throw s}))}processSegmentAgainstRoute(t,n,i,r,o){if(n.redirectTo||!sU(n,i,r,o))return(0,ci.of)(null);let s;if("**"===n.path){const a=r.length>0?S9(r).parameters:{},l=pU(i)+r.length,c=new IC(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fU(n),bd(n),n.component??n._loadedComponent??null,n,uU(i),l,mU(n));s=(0,ci.of)({snapshot:c,consumedSegments:[],remainingSegments:[]})}else s=oU(i,n,r,t).pipe((0,Ui.U)(({matched:a,consumedSegments:l,remainingSegments:c,parameters:d})=>{if(!a)return null;const h=pU(i)+l.length;return{snapshot:new IC(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fU(n),bd(n),n.component??n._loadedComponent??null,n,uU(i),h,mU(n)),consumedSegments:l,remainingSegments:c}}));return s.pipe((0,Ka.w)(a=>{if(null===a)return(0,ci.of)(null);const{snapshot:l,consumedSegments:c,remainingSegments:d}=a;t=n._injector??t;const h=n._loadedInjector??t,p=function cpe(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:g,slicedSegments:v}=LC(i,c,d,p.filter(b=>void 0===b.redirectTo));if(0===v.length&&g.hasChildren())return this.processChildren(h,p,g).pipe((0,Ui.U)(b=>null===b?null:[new lp(l,b)]));if(0===p.length&&0===v.length)return(0,ci.of)([new lp(l,[])]);const y=bd(n)===o;return this.processSegment(h,p,g,v,y?ar:o).pipe((0,Ui.U)(b=>null===b?null:[new lp(l,b)]))}))}}function dpe(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function hU(e){const t=[],n=new Set;for(const i of e){if(!dpe(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=hU(i.children);t.push(new lp(i.value,r))}return t.filter(i=>!n.has(i))}function uU(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function pU(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function fU(e){return e.data||{}}function mU(e){return e.resolve||{}}function gU(e){return"string"==typeof e.title||null===e.title}function wA(e){return(0,Ka.w)(t=>{const n=e(t);return n?(0,vl.D)(n).pipe((0,Ui.U)(()=>t)):(0,ci.of)(t)})}const Mv=new Zn("ROUTES");let CA=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fi(LB)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return(0,ci.of)(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=If(n.loadComponent()).pipe((0,Ui.U)(yU),(0,sr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),(0,eA.x)(()=>{this.componentLoaders.delete(n)})),r=new b9.c(i,()=>new _.xQ).pipe((0,M9.x)());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,ci.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ui.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,d=!1;Array.isArray(a)?c=a:(l=a.create(n).injector,c=O9(l.get(Mv,[],ln.Self|ln.Optional)));return{routes:c.map(yA),injector:l}}),(0,eA.x)(()=>{this.childrenLoaders.delete(i)})),s=new b9.c(o,()=>new _.xQ).pipe((0,M9.x)());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(n){return If(n()).pipe((0,Ui.U)(yU),(0,Uc.zg)(i=>i instanceof GF||Array.isArray(i)?(0,ci.of)(i):(0,vl.D)(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yU(e){return function ype(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let jC=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new _.xQ,this.configLoader=fi(CA),this.environmentInjector=fi(Hh),this.urlSerializer=fi(Sb),this.rootContexts=fi(kb),this.navigationId=0,this.afterPreactivation=()=>(0,ci.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new oue(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new rue(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new Aa.X({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tb,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Qa.h)(i=>0!==i.id),(0,Ui.U)(i=>({...i,extractedUrl:n.urlHandlingStrategy.extract(i.rawUrl)})),(0,Ka.w)(i=>{let r=!1,o=!1;return(0,ci.of)(i).pipe((0,sr.b)(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ka.w)(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new TC(s.id,n.serializeUrl(i.rawUrl),d,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),pg.E}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return bU(s.source)&&(n.browserUrlTree=s.extractedUrl),(0,ci.of)(s).pipe((0,Ka.w)(d=>{const h=this.transitions?.getValue();return this.events.next(new aA(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?pg.E:Promise.resolve(d)}),function ipe(e,t,n,i){return(0,Ka.w)(r=>function tpe(e,t,n,i,r){return new npe(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe((0,Ui.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),(0,sr.b)(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function upe(e,t,n,i,r){return(0,Uc.zg)(o=>function spe(e,t,n,i,r,o,s="emptyOnly"){return new ape(e,t,n,i,r,s,o).recognize().pipe((0,Ka.w)(a=>null===a?function ope(e){return new E.y(t=>t.error(e))}(new rpe):(0,ci.of)(a)))}(e,t,n,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,Ui.U)(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),(0,sr.b)(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!d.extras.skipLocationChange){const p=n.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);n.setBrowserUrl(p,d)}n.browserUrlTree=d.urlAfterRedirects}const h=new Jhe(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:d,extractedUrl:h,source:p,restoredState:g,extras:v}=s,y=new aA(d,this.urlSerializer.serialize(h),p,g);this.events.next(y);const b=Y9(h,this.rootComponentType).snapshot;return i={...s,targetSnapshot:b,urlAfterRedirects:h,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},(0,ci.of)(i)}{const d="";return this.events.next(new TC(s.id,n.serializeUrl(i.extractedUrl),d,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),pg.E}}),(0,sr.b)(s=>{const a=new eue(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),(0,Ui.U)(s=>i={...s,guards:Eue(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function zue(e,t){return(0,Uc.zg)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,ci.of)({...n,guardsResult:!0}):function Uue(e,t,n,i){return(0,vl.D)(e).pipe((0,Uc.zg)(r=>function que(e,t,n,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,ci.of)(!0);const s=o.map(a=>{const l=Rb(t)??r,c=wv(a,l);return If(function Lue(e){return e&&Fb(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,i):l.runInContext(()=>c(e,t,n,i))).pipe((0,th.P)())});return(0,ci.of)(s).pipe(Cv())}(r.component,r.route,n,t,i)),(0,th.P)(r=>!0!==r,!0))}(s,i,r,e).pipe((0,Uc.zg)(a=>a&&function Iue(e){return"boolean"==typeof e}(a)?function jue(e,t,n,i){return(0,vl.D)(t).pipe((0,Af.b)(r=>(0,Mhe.z)(function Hue(e,t){return null!==e&&t&&t(new sue(e)),(0,ci.of)(!0)}(r.route.parent,i),function Vue(e,t){return null!==e&&t&&t(new lue(e)),(0,ci.of)(!0)}(r.route,i),function Wue(e,t,n){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Due(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>(0,y9.P)(()=>{const a=s.guards.map(l=>{const c=Rb(s.node)??n,d=wv(l,c);return If(function Nue(e){return e&&Fb(e.canActivateChild)}(d)?d.canActivateChild(i,e):c.runInContext(()=>d(i,e))).pipe((0,th.P)())});return(0,ci.of)(a).pipe(Cv())}));return(0,ci.of)(o).pipe(Cv())}(e,r.path,n),function Gue(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ci.of)(!0);const r=i.map(o=>(0,y9.P)(()=>{const s=Rb(t)??n,a=wv(o,s);return If(function Rue(e){return e&&Fb(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe((0,th.P)())}));return(0,ci.of)(r).pipe(Cv())}(e,r.route,n))),(0,th.P)(r=>!0!==r,!0))}(i,o,e,t):(0,ci.of)(a)),(0,Ui.U)(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),(0,sr.b)(s=>{if(i.guardsResult=s.guardsResult,mg(s.guardsResult))throw K9(0,s.guardsResult);const a=new tue(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),(0,Qa.h)(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),wA(s=>{if(s.guards.canActivateChecks.length)return(0,ci.of)(s).pipe((0,sr.b)(a=>{const l=new nue(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),(0,Ka.w)(a=>{let l=!1;return(0,ci.of)(a).pipe(function ppe(e,t){return(0,Uc.zg)(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return(0,ci.of)(n);let o=0;return(0,vl.D)(r).pipe((0,Af.b)(s=>function fpe(e,t,n,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!gU(r)&&(o[Pb]=r.title),function mpe(e,t,n,i){const r=function gpe(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return(0,ci.of)({});const o={};return(0,vl.D)(r).pipe((0,Uc.zg)(s=>function vpe(e,t,n,i){const r=Rb(t)??i,o=wv(e,r);return If(o.resolve?o.resolve(t,n):r.runInContext(()=>o(t,n)))}(e[s],t,n,i).pipe((0,th.P)(),(0,sr.b)(a=>{o[s]=a}))),(0,C9.h)(1),(0,She.h)(o),(0,$r.K)(s=>bA(s)?pg.E:(0,Kr._)(s)))}(o,e,t,i).pipe((0,Ui.U)(s=>(e._resolvedData=s,e.data=X9(e,n).resolve,r&&gU(r)&&(e.data[Pb]=r.title),null)))}(s.route,i,e,t)),(0,sr.b)(()=>o++),(0,C9.h)(1),(0,Uc.zg)(s=>o===r.length?(0,ci.of)(n):pg.E))})}(n.paramsInheritanceStrategy,this.environmentInjector),(0,sr.b)({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),(0,sr.b)(a=>{const l=new iue(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),wA(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe((0,sr.b)(d=>{l.component=d}),(0,Ui.U)(()=>{})));for(const d of l.children)c.push(...a(d));return c};return(0,_C.aj)(a(s.targetSnapshot.root)).pipe((0,w9.d)(),(0,Za.q)(1))}),wA(()=>this.afterPreactivation()),(0,Ui.U)(s=>{const a=function vue(e,t,n){const i=Ib(e,t._root,n?n._root:void 0);return new q9(i,t)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return i={...s,targetRouterState:a}}),(0,sr.b)(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((e,t,n)=>(0,Ui.U)(i=>(new Sue(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),(0,Za.q)(1),(0,sr.b)({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Rf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),(0,eA.x)(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,$r.K)(s=>{if(o=!0,eU(s)){J9(s)||(n.navigated=!0,n.restoreHistory(i,!0));const a=new AC(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),J9(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||bU(i.source)};n.scheduleNavigation(l,Tb,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{n.restoreHistory(i,!0);const a=new lA(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(n.errorHandler(s))}catch(l){i.reject(l)}}return pg.E}))}))}cancelNavigationTransition(n,i,r){const o=new AC(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bU(e){return e!==Tb}let _U=(()=>{class e{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ar);return i}getResolvedTitleForRoute(n){return n.data[Pb]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:function(){return fi(bpe)},providedIn:"root"}),e})(),bpe=(()=>{class e extends _U{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(n){return new(n||e)(Lt(uc))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_pe=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:function(){return fi(wpe)},providedIn:"root"}),e})();class xpe{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let wpe=(()=>{class e extends xpe{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=$a(e)))(i||e)}}(),e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const VC=new Zn("",{providedIn:"root",factory:()=>({})});let Mpe=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:function(){return fi(Ppe)},providedIn:"root"}),e})(),Ppe=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ope(e){throw e}function Spe(e,t,n){return t.parse("/")}const Epe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cs=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=fi(Yre),this.isNgZoneEnabled=!1,this.options=fi(VC,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ope,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Spe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=fi(Mpe),this.routeReuseStrategy=fi(_pe),this.urlCreationStrategy=fi(fue),this.titleStrategy=fi(_U),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=O9(fi(Mv,{optional:!0})??[]),this.navigationTransitions=fi(jC),this.urlSerializer=fi(Sb),this.location=fi(_f),this.isNgZoneEnabled=fi(Xr)instanceof Xr&&Xr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Y9(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tb,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(yA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,n,d,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=mg(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Tb,null,i)}navigate(n,i={skipLocationChange:!1}){return function Ape(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new le(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?{...Epe}:!1===i?{...Dpe}:i,mg(n))return D9(this.currentUrlTree,n,r);const o=this.parseUrl(n);return D9(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const o=n[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c,d;return s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,l=p}),d="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_d=(()=>{class e{constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new _.xQ;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Rf&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=av(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=av(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=av(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function _5(e,t,n){return function iee(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?b5:Ee}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(De(cs),De(mc),function Um(e){return function CZ(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const o=n[r];if(Fx(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(Ei(),e)}("tabindex"),De(Vs),De(ao),De(bf))},e.\u0275dir=tn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){1&n&&dt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&Eo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[M]}),e})();class xU{}let kpe=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qa.h)(n=>n instanceof Rf),(0,Af.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=yw(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return(0,vl.D)(r).pipe((0,wC.J)())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):(0,ci.of)(null);const o=r.pipe((0,Uc.zg)(s=>null===s?(0,ci.of)(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){const s=this.loader.loadComponent(i);return(0,vl.D)([o,s]).pipe((0,wC.J)())}return o})}}return e.\u0275fac=function(n){return new(n||e)(Lt(cs),Lt(LB),Lt(Hh),Lt(xU),Lt(CA))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const PA=new Zn("");let wU=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof aA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Rf&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof G9&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new G9(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Q5(){throw new Error("invalid")}()},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();var jc=(()=>((jc=jc||{})[jc.COMPLETE=0]="COMPLETE",jc[jc.FAILED=1]="FAILED",jc[jc.REDIRECTING=2]="REDIRECTING",jc))();const Pv=!1;function Nf(e,t){return{\u0275kind:e,\u0275providers:t}}const OA=new Zn("",{providedIn:"root",factory:()=>!1});function MU(){const e=fi(ml);return t=>{const n=e.get(eg);if(t!==n.components[0])return;const i=e.get(cs),r=e.get(PU);1===e.get(SA)&&i.initialNavigation(),e.get(OU,null,ln.Optional)?.setUpPreloading(),e.get(PA,null,ln.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const PU=new Zn(Pv?"bootstrap done indicator":"",{factory:()=>new _.xQ}),SA=new Zn(Pv?"initial navigation":"",{providedIn:"root",factory:()=>1});function Bpe(){let e=[];return e=Pv?[{provide:Zx,multi:!0,useFactory:()=>{const t=fi(cs);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function due(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Nf(1,e)}const OU=new Zn(Pv?"router preloader":"");function zpe(e){return Nf(0,[{provide:OU,useExisting:kpe},{provide:xU,useExisting:e}])}const zb=!1,SU=new Zn(zb?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Upe=[_f,{provide:Sb,useClass:tA},cs,kb,{provide:mc,useFactory:function CU(e){return e.routerState.root},deps:[cs]},CA,zb?{provide:OA,useValue:!0}:[]];function jpe(){return new GB("Router",cs)}let EU=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[Upe,zb&&i?.enableTracing?Bpe().\u0275providers:[],{provide:Mv,multi:!0,useValue:n},{provide:SU,useFactory:Wpe,deps:[[cs,new Vm,new L0]]},{provide:VC,useValue:i||{}},i?.useHash?{provide:bf,useClass:Roe}:{provide:bf,useClass:p6},{provide:PA,useFactory:()=>{const e=fi($se),t=fi(Xr),n=fi(VC),i=fi(jC),r=fi(Sb);return n.scrollOffset&&e.setOffset(n.scrollOffset),new wU(r,i,e,t,n)}},i?.preloadingStrategy?zpe(i.preloadingStrategy).\u0275providers:[],{provide:GB,multi:!0,useFactory:jpe},i?.initialNavigation?qpe(i):[],[{provide:DU,useFactory:MU},{provide:HB,multi:!0,useExisting:DU}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Mv,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Lt(SU,8))},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[gA]}),e})();function Wpe(e){if(zb&&e)throw new le(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qpe(e){return["disabled"===e.initialNavigation?Nf(3,[{provide:ww,multi:!0,useFactory:()=>{const t=fi(cs);return()=>{t.setUpLocationChangeListener()}}},{provide:SA,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Nf(2,[{provide:SA,useValue:0},{provide:ww,multi:!0,deps:[ml],useFactory:t=>{const n=t.get(Ioe,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=t.get(cs),o=t.get(PU);(function Rpe(e,t){e.events.pipe((0,Qa.h)(n=>n instanceof Rf||n instanceof AC||n instanceof lA||n instanceof TC),(0,Ui.U)(n=>n instanceof Rf||n instanceof TC?jc.COMPLETE:n instanceof AC&&(0===n.code||1===n.code)?jc.REDIRECTING:jc.FAILED),(0,Qa.h)(n=>n!==jc.REDIRECTING),(0,Za.q)(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(jC).afterPreactivation=()=>(i(!0),o.closed?(0,ci.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const DU=new Zn(zb?"Router Initializer":""),Xpe=function(e,t){return{isMouseDragable:e,isTouchDragable:t}};function $pe(e,t){if(1&e&&(x(0,"div",4),ce(1,"owl-stage",5),C()),2&e){const n=ht();se(1),Qe("owlDraggable",Jm(3,Xpe,null==n.owlDOMData?null:n.owlDOMData.isMouseDragable,null==n.owlDOMData?null:n.owlDOMData.isTouchDragable))("stageData",n.stageData)("slidesData",n.slidesData)}}const Qpe=function(e,t){return{active:e,"owl-dot-text":t}};function Kpe(e,t){if(1&e){const n=kr();x(0,"div",11),dt("click",function(){const o=zn(n).$implicit;return Vn(ht(2).moveByDot(o.id))}),ce(1,"span",12),C()}if(2&e){const n=t.$implicit;Qe("ngClass",Jm(2,Qpe,n.active,n.showInnerContent)),se(1),Qe("innerHTML",n.innerContent,Nc)}}const HC=function(e){return{disabled:e}};function Zpe(e,t){if(1&e){const n=kr();gs(0),x(1,"div",6)(2,"div",7),dt("click",function(){return zn(n),Vn(ht().prev())}),C(),x(3,"div",8),dt("click",function(){return zn(n),Vn(ht().next())}),C()(),x(4,"div",9),st(5,Kpe,2,5,"div",10),C(),vs()}if(2&e){const n=ht();se(1),Qe("ngClass",Ea(7,HC,null==n.navData?null:n.navData.disabled)),se(1),Qe("ngClass",Ea(9,HC,null==n.navData||null==n.navData.prev?null:n.navData.prev.disabled))("innerHTML",null==n.navData||null==n.navData.prev?null:n.navData.prev.htmlText,Nc),se(1),Qe("ngClass",Ea(11,HC,null==n.navData||null==n.navData.next?null:n.navData.next.disabled))("innerHTML",null==n.navData||null==n.navData.next?null:n.navData.next.htmlText,Nc),se(1),Qe("ngClass",Ea(13,HC,null==n.dotsData?null:n.dotsData.disabled)),se(1),Qe("ngForOf",null==n.dotsData?null:n.dotsData.dots)}}const Jpe=function(e,t,n,i,r){return{"owl-rtl":e,"owl-loaded":t,"owl-responsive":n,"owl-drag":i,"owl-grab":r}};function efe(e,t){}function tfe(e,t){1&e&&st(0,efe,0,0,"ng-template",4),2&e&&Qe("ngTemplateOutlet",ht().$implicit.tplRef)}const nfe=function(e,t,n,i){return{width:e,"margin-left":t,"margin-right":n,left:i}};function ife(e,t){if(1&e){const n=kr();gs(0),x(1,"div",2),dt("animationend",function(){const o=zn(n).$implicit;return Vn(ht().clear(o.id))}),st(2,tfe,1,1,null,3),C(),vs()}if(2&e){const n=t.$implicit;se(1),Qe("ngClass",n.classes)("ngStyle",JF(4,nfe,n.width+"px",n.marginL?n.marginL+"px":"",n.marginR?n.marginR+"px":"",n.left))("@autoHeight",n.heightState),se(1),Qe("ngIf",n.load)}}const rfe=function(e,t,n,i,r){return{width:e,transform:t,transition:n,"padding-left":i,"padding-right":r}};let AU=(()=>{let e=class{constructor(n){this.eventManager=n,this.resizeSubject=new _.xQ,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(n){this.resizeSubject.next(n.target)}onLoaded(n){this.windowWidth=n.target}};return e.\u0275fac=function(n){return new(n||e)(Lt(cb))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();class ofe{constructor(){this.items=3,this.skip_validateItems=!1,this.loop=!1,this.center=!1,this.rewind=!1,this.mouseDrag=!0,this.touchDrag=!0,this.pullDrag=!0,this.freeDrag=!1,this.margin=0,this.stagePadding=0,this.merge=!1,this.mergeFit=!0,this.autoWidth=!1,this.startPosition=0,this.rtl=!1,this.smartSpeed=250,this.fluidSpeed=!1,this.dragEndSpeed=!1,this.responsive={},this.responsiveRefreshRate=200,this.nav=!1,this.navText=["prev","next"],this.navSpeed=!1,this.slideBy=1,this.dots=!0,this.dotsEach=!1,this.dotsData=!1,this.dotsSpeed=!1,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoplaySpeed=!1,this.lazyLoad=!1,this.lazyLoadEager=0,this.slideTransition="",this.animateOut=!1,this.animateIn=!1,this.autoHeight=!1,this.URLhashListener=!1}}class sfe{constructor(){this.items="number",this.skip_validateItems="boolean",this.loop="boolean",this.center="boolean",this.rewind="boolean",this.mouseDrag="boolean",this.touchDrag="boolean",this.pullDrag="boolean",this.freeDrag="boolean",this.margin="number",this.stagePadding="number",this.merge="boolean",this.mergeFit="boolean",this.autoWidth="boolean",this.startPosition="number|string",this.rtl="boolean",this.smartSpeed="number",this.fluidSpeed="boolean",this.dragEndSpeed="number|boolean",this.responsive={},this.responsiveRefreshRate="number",this.nav="boolean",this.navText="string[]",this.navSpeed="number|boolean",this.slideBy="number|string",this.dots="boolean",this.dotsEach="number|boolean",this.dotsData="boolean",this.dotsSpeed="number|boolean",this.autoplay="boolean",this.autoplayTimeout="number",this.autoplayHoverPause="boolean",this.autoplaySpeed="number|boolean",this.lazyLoad="boolean",this.lazyLoadEager="number",this.slideTransition="string",this.animateOut="string|boolean",this.animateIn="string|boolean",this.autoHeight="boolean",this.URLhashListener="boolean"}}let EA=(()=>{let e=class{constructor(n){this.errorHandler=n}log(n,...i){}error(n){this.errorHandler.handleError(n)}warn(n,...i){console.warn(n,...i)}};return e.\u0275fac=function(n){return new(n||e)(Lt(qm))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();var GC=(()=>{return(e=GC||(GC={})).Event="event",e.State="state",GC;var e})(),Ov=(()=>{return(e=Ov||(Ov={})).Default="default",e.Inner="inner",e.Outer="outer",Ov;var e})();let cp=(()=>{let e=class{constructor(n){this.logger=n,this._viewSettingsShipper$=new _.xQ,this._initializedCarousel$=new _.xQ,this._changeSettingsCarousel$=new _.xQ,this._changedSettingsCarousel$=new _.xQ,this._translateCarousel$=new _.xQ,this._translatedCarousel$=new _.xQ,this._resizeCarousel$=new _.xQ,this._resizedCarousel$=new _.xQ,this._refreshCarousel$=new _.xQ,this._refreshedCarousel$=new _.xQ,this._dragCarousel$=new _.xQ,this._draggedCarousel$=new _.xQ,this.settings={items:0},this.owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1},this.stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0},this._items=[],this._widths=[],this._supress={},this._plugins={},this._current=null,this._clones=[],this._mergers=[],this._speed=null,this._coordinates=[],this._breakpoint=null,this.clonedIdPrefix="cloned-",this._options={},this._invalidated={},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},this._pipe=[{filter:["width","items","settings"],run:i=>{i.current=this._items&&this._items[this.relative(this._current)].id}},{filter:["width","items","settings"],run:i=>{const r=this.settings.margin||"",s=this.settings.rtl,a={"margin-left":s?r:"","margin-right":s?"":r};!this.settings.autoWidth||this.slidesData.forEach(l=>{l.marginL=a["margin-left"],l.marginR=a["margin-right"]}),i.css=a}},{filter:["width","items","settings"],run:i=>{const r=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,o=!this.settings.autoWidth,s=[];let a=null,l=this._items.length;for(i.items={merge:!1,width:r};l--;)a=this._mergers[l],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,i.items.merge=a>1||i.items.merge,s[l]=o?r*a:this._items[l].width?this._items[l].width:r;this._widths=s,this.slidesData.forEach((c,d)=>{c.width=this._widths[d],c.marginR=i.css["margin-right"],c.marginL=i.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const i=[],r=this._items,o=this.settings,s=Math.max(2*o.items,4),a=2*Math.ceil(r.length/2);let l=[],c=[],d=o.loop&&r.length?o.rewind?s:Math.max(s,a):0;for(d/=2;d--;)i.push(this.normalize(i.length/2,!0)),l.push(Object.assign({},this.slidesData[i[i.length-1]])),i.push(this.normalize(r.length-1-(i.length-1)/2,!0)),c.unshift(Object.assign({},this.slidesData[i[i.length-1]]));this._clones=i,l=l.map(h=>(h.id=`${this.clonedIdPrefix}${h.id}`,h.isActive=!1,h.isCloned=!0,h)),c=c.map(h=>(h.id=`${this.clonedIdPrefix}${h.id}`,h.isActive=!1,h.isCloned=!0,h)),this.slidesData=c.concat(this.slidesData).concat(l)}},{filter:["width","items","settings"],run:()=>{const i=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,o=[];let s=-1,a=0,l=0;for(;++s<r;)a=o[s-1]||0,l=this._widths[this.relative(s)]+this.settings.margin,o.push(a+l*i);this._coordinates=o}},{filter:["width","items","settings"],run:()=>{const i=this.settings.stagePadding,r=this._coordinates,o={width:Math.ceil(Math.abs(r[r.length-1]))+2*i,"padding-left":i||"","padding-right":i||""};this.stageData.width=o.width,this.stageData.paddingL=o["padding-left"],this.stageData.paddingR=o["padding-right"]}},{filter:["width","items","settings"],run:i=>{let r=i.current?this.slidesData.findIndex(o=>o.id===i.current):0;r=Math.max(this.minimum(),Math.min(this.maximum(),r)),this.reset(r)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const i=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,o=[];let s,a,l,c,d,h;if(s=this.coordinates(this.current()),"number"==typeof s?s+=r:s=0,a=s+this.width()*i,-1===i&&this.settings.center){const p=this._coordinates.filter(g=>this.settings.items%2==1?g>=s:g>s);s=p.length?p[p.length-1]:s}for(d=0,h=this._coordinates.length;d<h;d++)l=Math.ceil(this._coordinates[d-1]||0),c=Math.ceil(Math.abs(this._coordinates[d])+r*i),(this._op(l,"<=",s)&&this._op(l,">",a)||this._op(c,"<",s)&&this._op(c,">",a))&&o.push(d);this.slidesData.forEach(p=>(p.isActive=!1,p)),o.forEach(p=>{this.slidesData[p].isActive=!0}),this.settings.center&&(this.slidesData.forEach(p=>(p.isCentered=!1,p)),this.slidesData[this.current()].isCentered=!0)}}]}get invalidated(){return this._invalidated}get states(){return this._states}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(n){const i=new ofe,r=this._validateOptions(n,i);this._options=Object.assign({},i,r)}_validateOptions(n,i){const r=Object.assign({},n),o=new sfe,s=(a,l)=>(this.logger.log(`options.${l} must be type of ${a}; ${l}=${n[l]} skipped to defaults: ${l}=${i[l]}`),i[l]);for(const a in r)if(r.hasOwnProperty(a))if("number"===o[a])this._isNumeric(r[a])?(r[a]=+r[a],r[a]="items"===a?this._validateItems(r[a],r.skip_validateItems):r[a]):r[a]=s(o[a],a);else if("boolean"===o[a]&&"boolean"!=typeof r[a])r[a]=s(o[a],a);else if("number|boolean"!==o[a]||this._isNumberOrBoolean(r[a]))if("number|string"!==o[a]||this._isNumberOrString(r[a]))if("string|boolean"!==o[a]||this._isStringOrBoolean(r[a])){if("string[]"===o[a])if(Array.isArray(r[a])){let l=!1;r[a].forEach(c=>{l="string"==typeof c}),l||(r[a]=s(o[a],a))}else r[a]=s(o[a],a)}else r[a]=s(o[a],a);else r[a]=s(o[a],a);else r[a]=s(o[a],a);return r}_validateItems(n,i){let r=n;return n>this._items.length?i?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(r=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):n===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),r}setCarouselWidth(n){this._width=n}setup(n,i,r){this.setCarouselWidth(n),this.setItems(i),this._defineSlidesData(),this.setOptions(r),this.settings=Object.assign({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const n=this._width,i=this._options.responsive;let r=-1;if(!Object.keys(i).length)return;if(!n)return void(this.settings.items=1);for(const s in i)i.hasOwnProperty(s)&&+s<=n&&+s>r&&(r=Number(s));this.settings=Object.assign({},this._options,i[r],{items:i[r]&&i[r].items?this._validateItems(i[r].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const o=[];this._items.forEach(s=>{o.push(this.settings.merge?s.dataMerge:1)}),this._mergers=o,this._breakpoint=r,this.invalidate("settings")}initialize(n){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),n.forEach(i=>{this._mergers.push(this.settings.merge?i.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let n=0;const i=this._pipe.length,r=s=>this._invalidated[s],o={};for(;n<i;){const s=this._pipe[n].filter.filter(r);(this._invalidated.all||s.length>0)&&this._pipe[n].run(o),n++}this.slidesData.forEach(s=>s.classes=this.setCurSlideClasses(s)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(n){switch(n=n||Ov.Default){case Ov.Inner:case Ov.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(n){if(!this._items.length)return!1;this.setCarouselWidth(n),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(n){let r,i=null;return r=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),i={x:+r[0],y:+r[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===n.type&&(this.owlDOMData.isGrab=!0),this.speed(0),i}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(n,i){let r=null,o=null,s=null;const a=this.difference(i.pointer,this.pointer(n)),l=this.difference(i.stage.start,a);return!!this.is("dragging")&&(this.settings.loop?(r=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-r,l.x=((l.x-r)%o+o)%o+r):(r=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),o=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),s=this.settings.pullDrag?-1*a.x/5:0,l.x=Math.max(Math.min(l.x,r+s),o+s)),l)}finishDragging(n,i,r){const s=this.difference(i.pointer,this.pointer(n)),a=i.stage.current,l=["right","left"][+(this.settings.rtl?s.x<+this.settings.rtl:s.x>+this.settings.rtl)];let c,d,h;(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),c=this.closest(a.x,0!==s.x?l:i.direction),d=this.current(),h=this.current(-1===c?void 0:c),d!==h&&(this.invalidate("position"),this.update()),i.direction=l,(Math.abs(s.x)>3||(new Date).getTime()-i.time>300)&&r()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(n,i){const o=this.width();let s=this.coordinates(),a=-1;this.settings.center&&(s=s.map(l=>(0===l&&(l+=1e-6),l)));for(let l=0;l<s.length&&("left"===i&&n>s[l]-30&&n<s[l]+30?a=l:"right"===i&&n>s[l]-o-30&&n<s[l]-o+30?a=l+1:this._op(n,"<",s[l])&&this._op(n,">",s[l+1]||s[l]-o)?a="left"===i?l+1:l:null===i&&n>s[l]-30&&n<s[l]+30&&(a=l),-1===a);l++);return this.settings.loop||(this._op(n,">",s[this.minimum()])?a=n=this.minimum():this._op(n,"<",s[this.maximum()])&&(a=n=this.maximum())),a}animate(n){const i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+n+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(n){return this._states.current[n]&&this._states.current[n]>0}current(n){return void 0===n?this._current:0!==this._items.length?(n=this.normalize(n),this._current!==n&&(this._trigger("change",{property:{name:"position",value:n}}),this._current=n,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(n){return"string"==typeof n&&(this._invalidated[n]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(n){void 0!==(n=this.normalize(n))&&(this._speed=0,this._current=n,this._suppress(["translate","translated"]),this.animate(this.coordinates(n)),this._release(["translate","translated"]))}normalize(n,i){const r=this._items.length,o=i?0:this._clones.length;return!this._isNumeric(n)||r<1?n=void 0:(n<0||n>=r+o)&&(n=((n-o/2)%r+r)%r+o/2),n}relative(n){return this.normalize(n-=this._clones.length/2,!0)}maximum(n=!1){const i=this.settings;let o,s,a,r=this._coordinates.length;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){for(o=this._items.length,s=this.slidesData[--o].width,a=this._width;o--&&(s+=+this.slidesData[o].width+this.settings.margin,!(s>a)););r=o+1}else r=i.center?this._items.length-1:this._items.length-i.items;return n&&(r-=this._clones.length/2),Math.max(r,0)}minimum(n=!1){return n?0:this._clones.length/2}items(n){return void 0===n?this._items.slice():(n=this.normalize(n,!0),[this._items[n]])}mergers(n){return void 0===n?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])}clones(n){const i=this._clones.length/2,r=i+this._items.length,o=s=>s%2==0?r+s/2:i-(s+1)/2;return void 0===n?this._clones.map((s,a)=>o(a)):this._clones.map((s,a)=>s===n?o(a):null).filter(s=>s)}speed(n){return void 0!==n&&(this._speed=n),this._speed}coordinates(n){let o,s,i=1,r=n-1;return void 0===n?(s=this._coordinates.map((a,l)=>this.coordinates(l)),s):(this.settings.center?(this.settings.rtl&&(i=-1,r=n+1),o=this._coordinates[n],o+=(this.width()-o+(this._coordinates[r]||0))/2*i):o=this._coordinates[r]||0,o=Math.ceil(o),o)}_duration(n,i,r){return 0===r?0:Math.min(Math.max(Math.abs(i-n),1),6)*Math.abs(+r||this.settings.smartSpeed)}to(n,i){let r=this.current(),o=null,s=n-this.relative(r),a=this.maximum(),l=0;const c=+(s>0)-+(s<0),d=this._items.length,h=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>d/2&&(s+=-1*c*d),o=(((n=r+s)-h)%d+d)%d+h,o!==n&&o-s<=a&&o-s>0&&(r=o-s,n=o,l=30,this.reset(r),this.sendChanges())):this.settings.rewind?(a+=1,n=(n%a+a)%a):n=Math.max(h,Math.min(a,n)),setTimeout(()=>{this.speed(this._duration(r,n,i)),this.current(n),this.update()},l)}next(n){n=n||!1,this.to(this.relative(this.current())+1,n)}prev(n){n=n||!1,this.to(this.relative(this.current())-1,n)}onTransitionEnd(n){if(void 0!==n)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let n;return this._width?n=this._width:this.logger.log("Can not detect viewport width."),n}setItems(n){this._items=n}_defineSlidesData(){let n;this.slidesData&&this.slidesData.length&&(n=new Map,this.slidesData.forEach(i=>{i.load&&n.set(i.id,i.load)})),this.slidesData=this._items.map(i=>({id:`${i.id}`,isActive:!1,tplRef:i.tplRef,dataMerge:i.dataMerge,width:0,isCloned:!1,load:!!n&&n.get(i.id),hashFragment:i.dataHash}))}setCurSlideClasses(n){const i={active:n.isActive,center:n.isCentered,cloned:n.isCloned,animated:n.isAnimated,"owl-animated-in":n.isDefAnimatedIn,"owl-animated-out":n.isDefAnimatedOut};return this.settings.animateIn&&(i[this.settings.animateIn]=n.isCustomAnimatedIn),this.settings.animateOut&&(i[this.settings.animateOut]=n.isCustomAnimatedOut),i}_op(n,i,r){const o=this.settings.rtl;switch(i){case"<":return o?n>r:n<r;case">":return o?n<r:n>r;case">=":return o?n<=r:n>=r;case"<=":return o?n>=r:n<=r}}_trigger(n,i,r,o,s){switch(n){case"initialized":this._initializedCarousel$.next(n);break;case"change":this._changeSettingsCarousel$.next(i);break;case"changed":this._changedSettingsCarousel$.next(i);break;case"drag":this._dragCarousel$.next(n);break;case"dragged":this._draggedCarousel$.next(n);break;case"resize":this._resizeCarousel$.next(n);break;case"resized":this._resizedCarousel$.next(n);break;case"refresh":this._refreshCarousel$.next(n);break;case"refreshed":this._refreshedCarousel$.next(n);break;case"translate":this._translateCarousel$.next(n);break;case"translated":this._translatedCarousel$.next(n)}}enter(n){[n].concat(this._states.tags[n]||[]).forEach(i=>{void 0===this._states.current[i]&&(this._states.current[i]=0),this._states.current[i]++})}leave(n){[n].concat(this._states.tags[n]||[]).forEach(i=>{(0===this._states.current[i]||this._states.current[i])&&this._states.current[i]--})}register(n){n.type===GC.State&&(this._states.tags[n.name]=this._states.tags[n.name]?this._states.tags[n.name].concat(n.tags):n.tags,this._states.tags[n.name]=this._states.tags[n.name].filter((i,r)=>this._states.tags[n.name].indexOf(i)===r))}_suppress(n){n.forEach(i=>{this._supress[i]=!0})}_release(n){n.forEach(i=>{delete this._supress[i]})}pointer(n){const i={x:null,y:null};return(n=(n=n.originalEvent||n||window.event).touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n).pageX?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i}_isNumeric(n){return!isNaN(parseFloat(n))}_isNumberOrBoolean(n){return this._isNumeric(n)||"boolean"==typeof n}_isNumberOrString(n){return this._isNumeric(n)||"string"==typeof n}_isStringOrBoolean(n){return"string"==typeof n||"boolean"==typeof n}difference(n,i){return{x:n.x-i.x,y:n.y-i.y}}};return e.\u0275fac=function(n){return new(n||e)(Lt(EA))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),TU=(()=>{let e=class{constructor(n){this.carouselService=n,this._initialized=!1,this._pages=[],this._navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}},this._dotsData={disabled:!1,dots:[]},this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,sr.b)(s=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),i=this.carouselService.getChangedState().pipe((0,Qa.h)(s=>"position"===s.property.name),(0,sr.b)(s=>{this.update()})),r=this.carouselService.getRefreshedState().pipe((0,sr.b)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=(0,G.T)(n,i,r);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let n,i,r;const o=this.carouselService.clones().length/2,s=o+this.carouselService.items().length,a=this.carouselService.maximum(!0),l=[],c=this.carouselService.settings;let d=c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items;if(d=+d,"page"!==c.slideBy&&(c.slideBy=Math.min(+c.slideBy,c.items)),c.dots||"page"===c.slideBy)for(n=o,i=0,r=0;n<s;n++){if(i>=d||0===i){if(l.push({start:Math.min(a,n-o),end:n-o+d-1}),Math.min(a,n-o)===a)break;i=0,++r}i+=this.carouselService.mergers(this.carouselService.relative(n))}this._pages=l}draw(){let n;const i=this.carouselService.settings,r=this.carouselService.items(),o=r.length<=i.items;if(this._navData.disabled=!i.nav||o,this._dotsData.disabled=!i.dots||o,i.dots)if(n=this._pages.length-this._dotsData.dots.length,i.dotsData&&0!==n)this._dotsData.dots=[],r.forEach(s=>{this._dotsData.dots.push({active:!1,id:`dot-${s.id}`,innerContent:s.dotContent,showInnerContent:!0})});else if(n>0){const s=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<n;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+s}`,innerContent:"",showInnerContent:!1})}else n<0&&this._dotsData.dots.splice(n,Math.abs(n));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const n=this.carouselService.settings,i=n.loop||n.rewind,r=this.carouselService.relative(this.carouselService.current());n.nav&&(this._navData.prev.disabled=!i&&r<=this.carouselService.minimum(!0),this._navData.next.disabled=!i&&r>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let n;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(i=>{!0===i.active&&(i.active=!1)}),n=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[n].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const n=this.carouselService.relative(this.carouselService.current());let i;const r=this._pages.filter((o,s)=>o.start<=n&&o.end>=n).pop();return i=this._pages.findIndex(o=>o.start===r.start&&o.end===r.end),i}_getPosition(n){let i,r;const o=this.carouselService.settings;return"page"===o.slideBy?(i=this._current(),r=this._pages.length,n?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this.carouselService.relative(this.carouselService.current()),r=this.carouselService.items().length,n?i+=+o.slideBy:i-=+o.slideBy),i}next(n){this.carouselService.to(this._getPosition(!0),n)}prev(n){this.carouselService.to(this._getPosition(!1),n)}to(n,i,r){let o;!r&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(n%o+o)%o].start,i)):this.carouselService.to(n,i)}moveByDot(n){const i=this._dotsData.dots.findIndex(r=>n===r.id);this.to(i,this.carouselService.settings.dotsSpeed)}toSlideById(n){const i=this.carouselService.slidesData.findIndex(r=>r.id===n&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}};return e.\u0275fac=function(n){return new(n||e)(Lt(cp))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();const DA=new Zn("WindowToken");class AA{get nativeWindow(){throw new Error("Not implemented.")}}let afe=(()=>{class e extends AA{constructor(){super()}get nativeWindow(){return window}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const cfe=[{provide:AA,useClass:afe},{provide:DA,useFactory:function lfe(e,t){return XE(t)?e.nativeWindow:{setTimeout:(i,r)=>{},clearTimeout:i=>{}}},deps:[AA,ud]}],Ub=new Zn("DocumentToken");class TA{get nativeDocument(){throw new Error("Not implemented.")}}let dfe=(()=>{class e extends TA{constructor(){super()}get nativeDocument(){return document}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();const ufe=[{provide:TA,useClass:dfe},{provide:Ub,useFactory:function hfe(e,t){return XE(t)?e.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[TA,ud]}];let IU=(()=>{let e=class{constructor(n,i,r){this.carouselService=n,this._timeout=null,this._paused=!1,this.winRef=i,this.docRef=r,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,sr.b)(()=>{this.carouselService.settings.autoplay&&this.play()})),i=this.carouselService.getChangedState().pipe((0,sr.b)(s=>{this._handleChangeObservable(s)})),r=this.carouselService.getResizedState().pipe((0,sr.b)(()=>{this.carouselService.settings.autoplay?this.play():this.stop()})),o=(0,G.T)(n,i,r);this.autoplaySubscription=o.subscribe(()=>{})}play(n,i){this._paused&&(this._paused=!1,this._setAutoPlayInterval(1)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(n,i){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!n,this.winRef.setTimeout(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(i||this.carouselService.settings.autoplaySpeed)},n||this.carouselService.settings.autoplayTimeout)}_setAutoPlayInterval(n){this._timeout=this._getNextTimeout(n)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(n){"settings"===n.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===n.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){(0,ci.of)("translated").pipe((0,Ka.w)(n=>this.carouselService.getTranslatedState()),(0,th.P)(),(0,Qa.h)(()=>this._isArtificialAutoplayTimeout),(0,sr.b)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}};return e.\u0275fac=function(n){return new(n||e)(Lt(cp),Lt(DA),Lt(Ub))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Wi([gv(1,N0(DA)),gv(2,N0(Ub))],e),e})(),kU=(()=>{let e=class{constructor(n){this.carouselService=n,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,sr.b)(()=>{const s=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!s)})),i=this.carouselService.getChangeState(),r=this.carouselService.getResizedState(),o=(0,G.T)(n,i,r).pipe((0,sr.b)(s=>this._defineLazyLoadSlides(s)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(n){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(n.property&&"position"===n.property.name||"initialized"===n||"resized"===n)){const i=this.carouselService.settings,r=this.carouselService.clones().length;let o=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&-1*o||0,a=(n.property&&void 0!==n.property.value?n.property.value:this.carouselService.current())+s;for(i.lazyLoadEager>0&&(o+=i.lazyLoadEager,i.loop&&(a-=i.lazyLoadEager,o++));s++<o;)this._load(r/2+this.carouselService.relative(a)),r&&this.carouselService.clones(this.carouselService.relative(a)).forEach(l=>this._load(l)),a++}}_load(n){this.carouselService.slidesData[n].load||(this.carouselService.slidesData[n].load=!0)}};return e.\u0275fac=function(n){return new(n||e)(Lt(cp))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),IA=(()=>{let e=class{constructor(n){this.carouselService=n,this.swapping=!0,this.previous=void 0,this.next=void 0,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getChangeState().pipe((0,sr.b)(c=>{"position"===c.property.name&&(this.previous=this.carouselService.current(),this.next=c.property.value)})),i=this.carouselService.getDragState(),r=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),s=(0,G.T)(i,r,o).pipe((0,sr.b)(c=>this.swapping="translated"===c)),a=this.carouselService.getTranslateState().pipe((0,sr.b)(c=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),l=(0,G.T)(n,a,s).pipe();this.animateSubscription=l.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let n;this.carouselService.speed(0);const i=this.carouselService.slidesData[this.previous],r=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,s=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(s&&(n=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.left=`${n}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(n){this.carouselService.slidesData.forEach(i=>{i.id===n&&(i.left="",i.isAnimated=!1,i.isDefAnimatedOut=!1,i.isCustomAnimatedOut=!1,i.isDefAnimatedIn=!1,i.isCustomAnimatedIn=!1,i.classes=this.carouselService.setCurSlideClasses(i))}),this.carouselService.onTransitionEnd()}};return e.\u0275fac=function(n){return new(n||e)(Lt(cp))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),RU=(()=>{let e=class{constructor(n){this.carouselService=n,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,sr.b)(s=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),i=this.carouselService.getChangedState().pipe((0,sr.b)(s=>{this.carouselService.settings.autoHeight&&"position"===s.property.name&&this.update()})),r=this.carouselService.getRefreshedState().pipe((0,sr.b)(s=>{this.carouselService.settings.autoHeight&&this.update()})),o=(0,G.T)(n,i,r);this.autoHeightSubscription=o.subscribe(()=>{})}update(){const n=this.carouselService.settings.items;let i=this.carouselService.current(),r=i+n;this.carouselService.settings.center&&(i=n%2==1?i-(n-1)/2:i-n/2,r=n%2==1?i+n:i+n+1),this.carouselService.slidesData.forEach((o,s)=>{o.heightState=s>=i&&s<r?"full":"nulled"})}};return e.\u0275fac=function(n){return new(n||e)(Lt(cp))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),NU=(()=>{let e=class{constructor(n,i,r){this.carouselService=n,this.route=i,this.router=r,this.spyDataStreams(),this.route||(this.route={fragment:(0,ci.of)("no route").pipe((0,Za.q)(1))}),this.router||(this.router={navigate:(o,s)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,sr.b)(()=>this.listenToRoute())),i=this.carouselService.getChangedState().pipe((0,sr.b)(o=>{if(this.carouselService.settings.URLhashListener&&"position"===o.property.name){const s=this.carouselService.current(),a=this.carouselService.slidesData[s].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),r=(0,G.T)(n,i);this.hashSubscription=r.subscribe(()=>{})}rewind(n){const i=this.carouselService.slidesData.findIndex(r=>r.hashFragment===n&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}listenToRoute(){this.route.fragment.pipe((0,JD.T)("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(i=>{this.currentHashFragment=i,this.rewind(i)})}};return e.\u0275fac=function(n){return new(n||e)(Lt(cp),Lt(mc,8),Lt(cs,8))},e.\u0275prov=Dt({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Wi([gv(1,Vm()),gv(2,Vm())],e),e})(),pfe=0,tu=(()=>{let e=class{constructor(n){this.tplRef=n,this.id="owl-slide-"+pfe++,this._dataMerge=1,this.width=0,this.dotContent="",this.dataHash=""}set dataMerge(n){this._dataMerge=this.isNumeric(n)?n:1}get dataMerge(){return this._dataMerge}isNumeric(n){return!isNaN(parseFloat(n))}};return e.\u0275fac=function(n){return new(n||e)(De(as))},e.\u0275dir=tn({type:e,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",width:"width",dotContent:"dotContent",dataHash:"dataHash",dataMerge:"dataMerge"}}),Wi([Ao()],e.prototype,"id",void 0),Wi([Ao()],e.prototype,"dataMerge",null),Wi([Ao()],e.prototype,"width",void 0),Wi([Ao()],e.prototype,"dotContent",void 0),Wi([Ao()],e.prototype,"dataHash",void 0),e})(),Lf=(()=>{let e=class{constructor(n,i,r,o,s,a,l,c,d,h,p,g){this.el=n,this.resizeService=i,this.carouselService=r,this.navigationService=o,this.autoplayService=s,this.lazyLoadService=a,this.animateService=l,this.autoHeightService=c,this.hashService=d,this.logger=h,this.changeDetectorRef=p,this.translated=new $i,this.dragging=new $i,this.change=new $i,this.changed=new $i,this.initialized=new $i,this.slidesData=[],this.carouselLoaded=!1,this.docRef=g}onVisibilityChange(n){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":this.autoplayService.play();break;case"hidden":this.autoplayService.stop()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngAfterContentChecked(){}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,sr.b)(n=>{n.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,n.toArray(),this.options),this.carouselService.initialize(n.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered"))})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,sr.b)(n=>{this.owlDOMData=n.owlDOMData,this.stageData=n.stageData,this.slidesData=n.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=n.navData,this.dotsData=n.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,sr.b)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,sr.b)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,sr.b)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe((0,Ka.w)(n=>{const i=(0,ci.of)(n).pipe((0,Qa.h)(()=>"position"===n.property.name),(0,Ka.w)(()=>(0,vl.D)(this.slidesData)),(0,JD.T)(n.property.value),(0,Za.q)(this.carouselService.settings.items),(0,Ui.U)(r=>{const o=this.carouselService.clonedIdPrefix,s=r.id.indexOf(o)>=0?r.id.slice(o.length):r.id;return Object.assign({},r,{id:s,isActive:!0})}),(0,whe.q)(),(0,Ui.U)(r=>({slides:r,startPosition:this.carouselService.relative(n.property.value)})));return(0,G.T)(i)}),(0,sr.b)(n=>{this.gatherTranslatedData(),this.changed.emit(n.slides.length?n:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,sr.b)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),(0,Ka.w)(()=>this.carouselService.getDraggedState().pipe((0,Ui.U)(()=>!!this.carouselService.is("animating")))),(0,Ka.w)(n=>n?this.carouselService.getTranslatedState().pipe((0,th.P)()):(0,ci.of)("not animating")),(0,sr.b)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,G.T)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe((0,Qa.h)(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),(0,v9.g)(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(n){this.carouselLoaded&&this.navigationService.moveByDot(n)}to(n){this.carouselLoaded&&this.navigationService.toSlideById(n)}gatherTranslatedData(){let n;const i=this.carouselService.clonedIdPrefix,r=this.slidesData.filter(o=>!0===o.isActive).map(o=>({id:o.id.indexOf(i)>=0?o.id.slice(i.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));n=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:n,slides:r}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}};return e.\u0275fac=function(n){return new(n||e)(De(ao),De(AU),De(cp),De(TU),De(IU),De(kU),De(IA),De(RU),De(NU),De(EA),De(Zd),De(Ub))},e.\u0275cmp=Li({type:e,selectors:[["owl-carousel-o"]],contentQueries:function(n,i,r){if(1&n&&function Os(e,t,n,i){const r=hr();if(r.firstCreatePass){const o=Ei();pB(r,new dB(t,n,i),o.index),function Sre(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}uB(r,Ht(),n)}(r,tu,4),2&n){let o;co(o=ho())&&(i.slides=o)}},hostBindings:function(n,i){1&n&&dt("visibilitychange",function(o){return i.onVisibilityChange(o)},0,Ym)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[Uo([TU,IU,cp,kU,IA,RU,NU])],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(n,i){1&n&&(x(0,"div",0,1),dt("mouseover",function(){return i.startPausing()})("mouseleave",function(){return i.startPlayML()})("touchstart",function(){return i.startPausing()})("touchend",function(){return i.startPlayTE()}),st(2,$pe,2,6,"div",2),st(3,Zpe,6,15,"ng-container",3),C()),2&n&&(Qe("ngClass",nE(3,Jpe,null==i.owlDOMData?null:i.owlDOMData.rtl,null==i.owlDOMData?null:i.owlDOMData.isLoaded,null==i.owlDOMData?null:i.owlDOMData.isResponsive,null==i.owlDOMData?null:i.owlDOMData.isMouseDragable,null==i.owlDOMData?null:i.owlDOMData.isGrab)),se(2),Qe("ngIf",i.carouselLoaded),se(1),Qe("ngIf",i.slides.toArray().length))},dependencies:function(){return[sb,ca,Da,ffe]},styles:[".owl-theme[_ngcontent-%COMP%] { display: block; }"]}),Wi([AZ(tu)],e.prototype,"slides",void 0),Wi([eb()],e.prototype,"translated",void 0),Wi([eb()],e.prototype,"dragging",void 0),Wi([eb()],e.prototype,"change",void 0),Wi([eb()],e.prototype,"changed",void 0),Wi([eb()],e.prototype,"initialized",void 0),Wi([Ao()],e.prototype,"options",void 0),Wi([vf("document:visibilitychange",["$event"])],e.prototype,"onVisibilityChange",null),e=Wi([gv(11,N0(Ub))],e),e})(),ffe=(()=>{let e=class{constructor(n,i,r,o,s){this.zone=n,this.el=i,this.renderer=r,this.carouselService=o,this.animateService=s,this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this._oneDragMove$=new _.xQ,this.bindOneMouseTouchMove=a=>{this._oneMouseTouchMove(a)},this.bindOnDragMove=a=>{this._onDragMove(a)},this.bindOnDragEnd=a=>{this._onDragEnd(a)},this._oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()}}onMouseDown(n){this.owlDraggable.isMouseDragable&&this._onDragStart(n)}onTouchStart(n){this.owlDraggable.isTouchDragable&&this._onDragStart(n)}onTouchCancel(n){this._onDragEnd(n)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe((0,th.P)()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}_onDragStart(n){let i=null;3!==n.which&&(i=this._prepareDragging(n),this._drag.time=(new Date).getTime(),this._drag.target=n.target,this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this._pointer(n),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(n){const i=this._difference(this._drag.pointer,this._pointer(n));this.listenerATag&&this.listenerATag(),!(Math.abs(i.x)<3&&Math.abs(i.y)<3&&this._is("valid"))&&(Math.abs(i.x)<3&&Math.abs(i.x)<Math.abs(i.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(n),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),n.preventDefault(),this._enterDragging(),this._oneDragMove$.next(n)))}blockClickAnchorInDragging(n){let i=n.target;for(;i&&!(i instanceof HTMLAnchorElement);)i=i.parentElement;i instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(i,"click",()=>!1))}_onDragMove(n){let i;const r=this.carouselService.defineNewCoordsDrag(n,this._drag);!1!==r&&(i=r,n.preventDefault(),this._drag.stage.current=i,this._animate(i.x-this._drag.stage.start.x))}_animate(n){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${n}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(n){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(n),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(n){return this.carouselService.prepareDragging(n)}_finishDragging(n){this.carouselService.finishDragging(n,this._drag,this._oneClickHandler)}_pointer(n){return this.carouselService.pointer(n)}_difference(n,i){return this.carouselService.difference(n,i)}_is(n){return this.carouselService.is(n)}_enter(n){this.carouselService.enter(n)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(n){this.animateService.clear(n)}};return e.\u0275fac=function(n){return new(n||e)(De(Xr),De(ao),De(Vs),De(cp),De(IA))},e.\u0275cmp=Li({type:e,selectors:[["owl-stage"]],hostBindings:function(n,i){1&n&&dt("mousedown",function(o){return i.onMouseDown(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchcancel",function(o){return i.onTouchCancel(o)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(n,i){1&n&&(x(0,"div")(1,"div",0),dt("transitionend",function(){return i.onTransitionEnd()}),st(2,ife,3,9,"ng-container",1),C()()),2&n&&(se(1),Qe("ngStyle",nE(2,rfe,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),se(1),Qe("ngForOf",i.slidesData))},dependencies:[sb,ca,Da,lv,ng],encapsulation:2,data:{animation:[hz("autoHeight",[ig("nulled",da({height:0})),ig("full",da({height:"*"})),gd("full => nulled",[md("700ms 350ms")]),gd("nulled => full",[md(350)])])]}}),Wi([Ao()],e.prototype,"owlDraggable",void 0),Wi([Ao()],e.prototype,"stageData",void 0),Wi([Ao()],e.prototype,"slidesData",void 0),Wi([vf("mousedown",["$event"])],e.prototype,"onMouseDown",null),Wi([vf("touchstart",["$event"])],e.prototype,"onTouchStart",null),Wi([vf("touchcancel",["$event"])],e.prototype,"onTouchCancel",null),Wi([vf("dragstart")],e.prototype,"onDragStart",null),Wi([vf("selectstart")],e.prototype,"onSelectStart",null),e})(),mfe=(()=>{let e=class{};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({providers:[cfe,AU,ufe,EA],imports:[Bl]}),e})();function gfe(e,t){if(1&e){const n=kr();x(0,"div",9),dt("click",function(){zn(n);const r=ht().$implicit;return Vn(ht().removeToastr(r))}),D(1,"\xd7 "),C()}}function vfe(e,t){if(1&e&&(x(0,"div"),D(1),C()),2&e){const n=ht().$implicit,i=ht();Xh("to-title ",n.config.titleClass||i.titleClass,""),se(1),aa(n.title)}}function yfe(e,t){if(1&e&&ce(0,"span",10),2&e){const n=ht().$implicit,i=ht();Xh("to-message ",n.config.messageClass||i.messageClass,""),Qe("innerHTML",i.sanitizer.bypassSecurityTrustHtml(n.message),Nc)}}function bfe(e,t){if(1&e&&(x(0,"span"),D(1),C()),2&e){const n=ht().$implicit,i=ht();Xh("to-message ",n.config.messageClass||i.messageClass,""),se(1),aa(n.message)}}function _fe(e,t){if(1&e){const n=kr();x(0,"div",3),dt("@inOut.done",function(r){return zn(n),Vn(ht().onAnimationEnd(r))})("click",function(){const o=zn(n).$implicit;return Vn(ht().clicked(o))}),st(1,gfe,2,0,"div",4),st(2,vfe,2,4,"div",5),x(3,"div",6),st(4,yfe,1,4,"span",7),st(5,bfe,2,4,"span",8),C()()}if(2&e){const n=t.$implicit,i=ht();Xh("toastr toastr-",n.type,""),Qe("@inOut",n.config.animate||i.animate),se(1),Qe("ngIf",n.config.showCloseButton),se(1),Qe("ngIf",n.title),se(1),Qe("ngSwitch",n.config.enableHTML),se(1),Qe("ngSwitchCase",!0)}}let WC=(()=>{class e{constructor(){this.position="top-right",this.maxShown=5,this.newestOnTop=!1,this.animate="slideFromLeft",this.toastTimeout=5e3,this.enableHTML=!1,this.dismiss="auto",this.messageClass="toastr-message",this.titleClass="toastr-title",this.showCloseButton=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})();class jb{constructor(t,n,i,r){this.type=t,this.message=n,this.title=i,this.data=r,this.config={position:"",animate:"slideFromLeft",dismiss:"auto",enableHTML:!1,titleClass:"",messageClass:"",toastTimeout:3e3,showCloseButton:!1}}dismiss(){this.toastrManager.dismissToastr(this)}}const xfe=hz("inOut",[ig("fade",da({opacity:1})),gd("void => fade",[da({opacity:1}),md("0.4s ease-in")]),gd("fade => void",[md("0.4s 0.1s ease-out",da({opacity:0}))]),ig("slideFromLeft",da({opacity:1,transform:"translateX(0)"})),gd("void => slideFromLeft",[da({opacity:0,transform:"translateX(-100%)"}),md("0.4s ease-in")]),gd("slideFromLeft => void",[md("0.4s 0.1s ease-out",da({opacity:0,transform:"translateX(100%)"}))]),ig("slideFromRight",da({opacity:1,transform:"translateX(0)"})),gd("void => slideFromRight",[da({opacity:0,transform:"translateX(100%)"}),md("0.4s ease-in")]),gd("slideFromRight => void",[md("0.4s 0.1s ease-out",da({opacity:0,transform:"translateX(-100%)"}))]),ig("slideFromTop",da({opacity:1,transform:"translateY(0)"})),gd("void => slideFromTop",[da({opacity:0,transform:"translateY(-100%)"}),md("0.4s ease-in")]),gd("slideFromTop => void",[md("0.4s 0.1s ease-out",da({opacity:0,transform:"translateY(100%)"}))]),ig("slideFromBottom",da({opacity:1,transform:"translateY(0)"})),gd("void => slideFromBottom",[da({opacity:0,transform:"translateY(100%)"}),md("0.4s ease-in")]),gd("slideFromBottom => void",[md("0.4s 0.1s ease-out",da({opacity:0,transform:"translateY(-100%)"}))])]);let wfe=(()=>{class e{constructor(n,i,r,o){this.sanitizer=n,this.cdr=i,this._zone=r,this.toastrs=[],this._fresh=!0,this._onEnter=new _.xQ,this._onExit=new _.xQ,Object.assign(this,o)}onEnter(){return this._onEnter.asObservable()}onExit(){return this._onExit.asObservable()}addToastr(n){if(this.position.indexOf("top")>0){if(this.newestOnTop?this.toastrs.unshift(n):this.toastrs.push(n),this.toastrs.length>this.maxShown){const i=this.toastrs.length-this.maxShown;this.newestOnTop?this.toastrs.splice(this.maxShown):this.toastrs.splice(0,i)}}else this.toastrs.unshift(n),this.toastrs.length>this.maxShown&&this.toastrs.splice(this.maxShown);null===this.animate&&this._fresh&&(this._fresh=!1,this._onEnter.next(),this._onEnter.complete()),this.cdr.detectChanges()}removeToastr(n){n.timeoutId&&(clearTimeout(n.timeoutId),n.timeoutId=null),this.toastrs=this.toastrs.filter(i=>i.id!==n.id)}removeAllToasts(){this.toastrs.forEach(n=>{clearTimeout(n.timeoutId),n.timeoutId=null}),this.toastrs=[]}clicked(n){this.onToastClicked&&this.onToastClicked(n)}anyToast(){return this.toastrs.length>0}findToast(n){for(let i of this.toastrs)if(i.id===n)return i;return null}onAnimationEnd(n){"void"!==n.toState||this.anyToast()?this._fresh&&"void"===n.fromState&&(this._fresh=!1,this._zone.run(()=>{this._onEnter.next(),this._onEnter.complete()})):this._ngExit()}_ngExit(){this._zone.onMicrotaskEmpty.subscribe(()=>{this._onExit.next(),this._onExit.complete()})}ngOnDestroy(){this._ngExit()}}return e.\u0275fac=function(n){return new(n||e)(De(lz),De(Zd),De(Xr),De(WC))},e.\u0275cmp=Li({type:e,selectors:[["app-toastr"]],decls:3,vars:4,consts:[["id","toastr-container"],["toastrContainer",""],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["class","toastr-close-button",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],[3,"ngSwitch"],[3,"class","innerHTML",4,"ngSwitchCase"],[3,"class",4,"ngSwitchDefault"],[1,"toastr-close-button",3,"click"],[3,"innerHTML"]],template:function(n,i){1&n&&(x(0,"div",0,1),st(2,_fe,6,8,"div",2),C()),2&n&&(mf(i.position),se(2),Qe("ngForOf",i.toastrs))},dependencies:[ca,Da,Bw,D6,A6],styles:[".to-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-bottom:8px;color:#fff}.to-message[_ngcontent-%COMP%]{word-wrap:break-word;font-size:14px;line-height:20px;display:block;color:#fff;background-color:transparent}.to-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .to-message[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.to-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ccc;text-decoration:none}.toastr-close-button[_ngcontent-%COMP%]{position:relative;right:-5px;top:-15px;float:right;font-size:25px;color:#fff;-webkit-text-shadow:0 1px 0 #fff;text-shadow:0 1px 0 #fff;opacity:.8}.toastr-close-button[_ngcontent-%COMP%]:focus, .toastr-close-button[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.4}button.toastr-close-button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.top-center[_ngcontent-%COMP%]{top:0;right:0;width:100%}.bottom-center[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.top-full-width[_ngcontent-%COMP%]{top:0;right:0;width:100%}.bottom-full-width[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.top-left[_ngcontent-%COMP%]{top:12px;left:12px}.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.bottom-right[_ngcontent-%COMP%]{right:12px;bottom:12px}.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}#toastr-container[_ngcontent-%COMP%]{position:fixed;z-index:99999}#toastr-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin:10px 0 6px;padding:15px 15px 15px 60px;width:345px;border-radius:3px;background-position:15px;background-repeat:no-repeat;box-shadow:0 0 12px #999;color:#fff;opacity:1}#toastr-container[_ngcontent-%COMP%] > div.toastr-custom[_ngcontent-%COMP%]{padding:15px;color:#030303}#toastr-container[_ngcontent-%COMP%] > div.toastr-custom[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{color:#999!important}#toastr-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #000;opacity:1;cursor:pointer}#toastr-container[_ngcontent-%COMP%] > .toastr-info[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGwSURBVEhLtZa9SgNBEMc9sUxxRcoUKSzSWIhXpFMhhYWFhaBg4yPYiWCXZxBLERsLRS3EQkEfwCKdjWJAwSKCgoKCcudv4O5YLrt7EzgXhiU3/4+b2ckmwVjJSpKkQ6wAi4gwhT+z3wRBcEz0yjSseUTrcRyfsHsXmD0AmbHOC9Ii8VImnuXBPglHpQ5wwSVM7sNnTG7Za4JwDdCjxyAiH3nyA2mtaTJufiDZ5dCaqlItILh1NHatfN5skvjx9Z38m69CgzuXmZgVrPIGE763Jx9qKsRozWYw6xOHdER+nn2KkO+Bb+UV5CBN6WC6QtBgbRVozrahAbmm6HtUsgtPC19tFdxXZYBOfkbmFJ1VaHA1VAHjd0pp70oTZzvR+EVrx2Ygfdsq6eu55BHYR8hlcki+n+kERUFG8BrA0BwjeAv2M8WLQBtcy+SD6fNsmnB3AlBLrgTtVW1c2QN4bVWLATaIS60J2Du5y1TiJgjSBvFVZgTmwCU+dAZFoPxGEEs8nyHC9Bwe2GvEJv2WXZb0vjdyFT4Cxk3e/kIqlOGoVLwwPevpYHT+00T+hWwXDf4AJAOUqWcDhbwAAAAASUVORK5CYII=)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-error[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHOSURBVEhLrZa/SgNBEMZzh0WKCClSCKaIYOED+AAKeQQLG8HWztLCImBrYadgIdY+gIKNYkBFSwu7CAoqCgkkoGBI/E28PdbLZmeDLgzZzcx83/zZ2SSXC1j9fr+I1Hq93g2yxH4iwM1vkoBWAdxCmpzTxfkN2RcyZNaHFIkSo10+8kgxkXIURV5HGxTmFuc75B2RfQkpxHG8aAgaAFa0tAHqYFfQ7Iwe2yhODk8+J4C7yAoRTWI3w/4klGRgR4lO7Rpn9+gvMyWp+uxFh8+H+ARlgN1nJuJuQAYvNkEnwGFck18Er4q3egEc/oO+mhLdKgRyhdNFiacC0rlOCbhNVz4H9FnAYgDBvU3QIioZlJFLJtsoHYRDfiZoUyIxqCtRpVlANq0EU4dApjrtgezPFad5S19Wgjkc0hNVnuF4HjVA6C7QrSIbylB+oZe3aHgBsqlNqKYH48jXyJKMuAbiyVJ8KzaB3eRc0pg9VwQ4niFryI68qiOi3AbjwdsfnAtk0bCjTLJKr6mrD9g8iq/S/B81hguOMlQTnVyG40wAcjnmgsCNESDrjme7wfftP4P7SP4N3CJZdvzoNyGq2c/HWOXJGsvVg+RA/k2MC/wN6I2YA2Pt8GkAAAAASUVORK5CYII=)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-success[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADsSURBVEhLY2AYBfQMgf///3P8+/evAIgvA/FsIF+BavYDDWMBGroaSMMBiE8VC7AZDrIFaMFnii3AZTjUgsUUWUDA8OdAH6iQbQEhw4HyGsPEcKBXBIC4ARhex4G4BsjmweU1soIFaGg/WtoFZRIZdEvIMhxkCCjXIVsATV6gFGACs4Rsw0EGgIIH3QJYJgHSARQZDrWAB+jawzgs+Q2UO49D7jnRSRGoEFRILcdmEMWGI0cm0JJ2QpYA1RDvcmzJEWhABhD/pqrL0S0CWuABKgnRki9lLseS7g2AlqwHWQSKH4oKLrILpRGhEQCw2LiRUIa4lwAAAABJRU5ErkJggg==)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-warning[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGYSURBVEhL5ZSvTsNQFMbXZGICMYGYmJhAQIJAICYQPAACiSDB8AiICQQJT4CqQEwgJvYASAQCiZiYmJhAIBATCARJy+9rTsldd8sKu1M0+dLb057v6/lbq/2rK0mS/TRNj9cWNAKPYIJII7gIxCcQ51cvqID+GIEX8ASG4B1bK5gIZFeQfoJdEXOfgX4QAQg7kH2A65yQ87lyxb27sggkAzAuFhbbg1K2kgCkB1bVwyIR9m2L7PRPIhDUIXgGtyKw575yz3lTNs6X4JXnjV+LKM/m3MydnTbtOKIjtz6VhCBq4vSm3ncdrD2lk0VgUXSVKjVDJXJzijW1RQdsU7F77He8u68koNZTz8Oz5yGa6J3H3lZ0xYgXBK2QymlWWA+RWnYhskLBv2vmE+hBMCtbA7KX5drWyRT/2JsqZ2IvfB9Y4bWDNMFbJRFmC9E74SoS0CqulwjkC0+5bpcV1CZ8NMej4pjy0U+doDQsGyo1hzVJttIjhQ7GnBtRFN1UarUlH8F3xict+HY07rEzoUGPlWcjRFRr4/gChZgc3ZL2d8oAAAAASUVORK5CYII=)!important}#toastr-container.bottom-center[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #toastr-container.top-center[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:300px;margin:10px auto}#toastr-container.bottom-full-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #toastr-container.top-full-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96%;margin:10px auto}.toastr[_ngcontent-%COMP%]{background-color:#fff}.toastr-success[_ngcontent-%COMP%]{background-color:#51a351}.toastr-error[_ngcontent-%COMP%]{background-color:#d9534f}.toastr-info[_ngcontent-%COMP%]{background-color:#7460ee}.toastr-warning[_ngcontent-%COMP%]{background-color:#f89406}.toastr-progress[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;height:4px;background-color:#000;opacity:.4}@media all and (max-width:240px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:11em}#toastr-container[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width:241px) and (max-width:480px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:18em}#toastr-container[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width:481px) and (max-width:768px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:15px 15px 15px 50px;width:25em}}"],data:{animation:[xfe]}}),e})(),LU=(()=>{class e{constructor(n,i,r,o,s){this._applicationRef=n,this._componentFactoryResolver=i,this._injector=r,this.ngZone=o,this.options=s,this.toastrContainers=[],this.index=0,this.toastClicked=new _.xQ}createToastrComponent(n,i=[]){const r=this._componentFactoryResolver.resolveComponentFactory(n),o=Xm.resolve(i),s=Xm.fromResolvedProviders(o,this._injector);let a=document.createElement("div");a.id="toastr-node-"+Math.floor(200*Math.random()),document.querySelector("body").appendChild(a);const l=r.create(s,[],a);return this.attachToApplication(l),l}attachToApplication(n){this._applicationRef.attachView(n.hostView)}detachFromApplication(n){this._applicationRef.detachView(n.hostView)}isToastrContainerExist(n){return this.toastrContainers.length>0&&this.toastrContainers.findIndex(r=>r.position===n)>-1}getToastrComponentRef(n){if(this.toastrContainers.length>0){const i=this.toastrContainers.find(r=>r.position===n);return i?i.ref:null}return null}createTimeout(n){let i;return this.ngZone.runOutsideAngular(()=>{i=setTimeout(()=>this.ngZone.run(()=>this.clearToast(n)),n.config.toastTimeout)}),i.toString()}setupToast(n,i){n.id=++this.index,i&&i.hasOwnProperty("toastTimeout")&&(i.dismiss="auto");const r=Object.assign({},this.options,i||{});Object.keys(n.config).forEach(s=>{r.hasOwnProperty(s)&&(n.config[s]=r[s])}),"auto"===n.config.dismiss&&(n.timeoutId=this.createTimeout(n)),n.toastrManager=this;const o=n.config.position;return this.isToastrContainerExist(o)&&this.getToastrComponentRef(o).instance.addToastr(n),n}clearToast(n){const i=n.config.position;this.isToastrContainerExist(i)&&this.getToastrComponentRef(i).instance.removeToastr(n)}clearAllToasts(){this.toastrContainers.length>0&&this.toastrContainers.forEach(n=>{console.log(n);const i=n.ref;n.ref.instance.removeAllToasts(),this.dispose(i)})}dispose(n){if(n){const i=this.toastrContainers.findIndex(r=>r.position===n.instance.position);i>-1&&this.toastrContainers.splice(i,1),this.detachFromApplication(n)}}_onToastClicked(n){this.toastClicked.next(n),"controlled"!==n.config.dismiss&&this.clearToast(n)}dismissToastr(n){this.clearToast(n)}dismissAllToastr(){this.clearAllToasts()}onClickToast(){return this.toastClicked.asObservable()}showToastr(n,i){const r=Object.assign({},this.options,i);return new Promise((o,s)=>{if(!this.isToastrContainerExist(r.position)){let l=this.createToastrComponent(wfe,[{provide:WC,useValue:r}]);l.instance.onToastClicked=c=>{this._onToastClicked(c)},l.instance.onExit().subscribe(()=>{this.dispose(l)}),this.toastrContainers.push({position:r.position,ref:l})}o(this.setupToast(n,i))})}errorToastr(n,i,r){const s=new jb("error",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}infoToastr(n,i,r){const s=new jb("info",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}successToastr(n,i,r){const s=new jb("success",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}warningToastr(n,i,r){const s=new jb("warning",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}customToastr(n,i,r){const s=new jb("custom",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}}return e.\u0275fac=function(n){return new(n||e)(Lt(eg),Lt(j0),Lt(ml),Lt(Xr),Lt(WC))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac}),e})(),Cfe=(()=>{class e{static forRoot(){return{ngModule:e,providers:[LU,WC]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})();const Ft_backendUrl="https://www.pixtar.ae:5001",Ft_baseUrl="https://build.pixtar.ae";var Mfe=m(4942),FU=m.n(Mfe);let xd=(()=>{const t=class{constructor(i){this.http=i,this.getpageWithName=r=>this.http.post(Ft_backendUrl+"/api/home/getpagewithName",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getHomepageWithName=r=>this.http.post(Ft_backendUrl+"/api/home/gethomepagewithName",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getAboutNoticeDetails=r=>this.http.post(Ft_backendUrl+"/api/home/frountAboutNoticeDetails",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getInstagramPosts=r=>this.http.post(Ft_backendUrl+"/api/home/instagram-posts",r).pipe((0,$r.K)(s=>(0,Kr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Lt(fc))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Pfe=(()=>{const t=class{constructor(i,r,o,s){this.router=i,this.pageservice=r,this.metaTagService=o,this.titleService=s,this.get_PageMeta(),this.baseUrl=Ft_baseUrl+"/assets"}ngOnInit(){var r={container:document.getElementById("lottie"),renderer:"svg",loop:!0,autoplay:!0,animationData:{v:"5.9.6",fr:30,ip:0,op:96,w:122,h:119,nm:"hand",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:-34.9,ix:10},p:{a:0,k:[67.1,111.5,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 3 Outlines",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:9.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20.363,s:[-8]},{i:{x:[.65],y:[1.156]},o:{x:[.333],y:[0]},t:30.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:42,s:[-1.8]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:60,s:[-.4]},{t:69,s:[0]}],ix:10},p:{a:0,k:[-2.981,.359,0],ix:2,l:2},a:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[15.024,91.188,0],to:[0,0,0],ti:[0,0,0]},{t:44,s:[15.024,91.188,0]}],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[3.903,-5.533],[3.056,-2.353],[6.543,2.313],[4.228,4.252],[.327,6.566],[-.109,2.842],[-.281,9.016],[.083,2.706],[-1.043,.386],[-.666,-2.038],[-.181,-1.13],[.156,-4.374],[-1.579,-.706],[-1.31,1],[-.442,.663],[-6.815,9.598],[-.455,.427],[-1.272,-1.478],[1.046,-1.327],[4.713,-6.619],[.196,-.327],[-1.1,-.992],[-1.181,.832],[-.345,.518],[-6.936,9.765],[-.29,.345],[-1.763,-.582],[-.03,-1.826],[.764,-.91],[6.934,-9.766],[.241,-.499],[-1.104,-.867],[-1.126,.839],[-.321,.495],[-5.124,7.179],[-.342,.391],[-1.712,-.819],[1.17,-2.201],[.133,-.179],[5.282,-7.492],[-1.55,-1.123],[-1.373,1.933],[-2.975,4.189],[-.217,.273],[-1.064,-.33],[-.164,-.992],[.618,-.721],[4.295,-6.063]],o:[[0,0],[-3.925,5.53],[-2.207,3.163],[-5.419,4.144],[-5.658,-1.985],[-4.757,-4.537],[-.132,-2.83],[.352,-9.013],[.084,-2.7],[-.047,-1.53],[2.052,-.622],[.282,1.109],[.785,4.306],[-.141,1.724],[1.431,.818],[.627,-.491],[6.837,-9.584],[.339,-.524],[1.477,-1.272],[1.103,1.28],[-4.699,6.627],[-.221,.311],[-.761,1.271],[1.062,.978],[.484,-.392],[6.95,-9.758],[.262,-.368],[1.202,-1.415],[1.726,.596],[-.023,1.188],[-6.946,9.76],[-.333,.444],[-.56,1.287],[1.107,.863],[.438,-.395],[5.133,-7.171],[.3,-.423],[1.273,-1.408],[2.2,1.171],[-.105,.197],[-5.348,7.451],[-1.34,1.9],[1.55,1.123],[2.98,-4.187],[.2,-.283],[.669,-.891],[.979,.23],[.17,.934],[-4.32,6.046],[0,0]],v:[[23.152,14.265],[23.152,14.265],[11.387,30.834],[3.446,39.158],[-14.469,42.324],[-29.49,32.847],[-37.41,15.555],[-37.109,7.033],[-36.085,-20.008],[-36.314,-28.124],[-34.842,-30.943],[-29.951,-28.395],[-29.245,-25.033],[-28.298,-11.975],[-25.898,-7.919],[-21.376,-8.219],[-19.764,-9.962],[.715,-38.734],[1.91,-40.165],[6.888,-39.794],[6.986,-35.305],[-7.133,-15.436],[-7.783,-14.492],[-7.199,-10.598],[-3.355,-10.348],[-2.105,-11.721],[18.725,-41.005],[19.531,-42.094],[24.437,-43.471],[27.362,-39.438],[26.146,-36.195],[5.327,-6.906],[4.464,-5.488],[5.387,-1.83],[9.168,-1.788],[10.311,-3.128],[25.697,-24.654],[26.645,-25.895],[31.676,-26.887],[33.542,-20.783],[33.185,-20.219],[17.314,2.245],[17.658,7.111],[22.458,5.811],[31.391,-6.755],[32.008,-7.593],[34.898,-8.527],[36.785,-6.509],[36.077,-3.893],[23.154,14.271]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-2.092,-1],[-5.851,1.244],[-2.89,2.122],[-2.836,4.038],[-8.223,11.534],[1.8,3.179],[2.203,.713],[-.482,.692],[3.481,3.721],[1.699,.527],[.484,.17],[1.139,3.155],[2.122,1.241],[3.015,-1.109],[1.758,-2.785],[.644,.543],[3.548,-4.034],[.13,-.169],[1.792,-2.514],[4.079,-5.747],[0,0],[.082,.492],[.844,3.567],[3.743,.857],[2.2,-2.689],[-.104,-2.042],[.639,-12.849],[-1.281,-4.26],[-5.078,-4.319],[-.195,-.238],[0,0]],o:[[2.036,1.113],[5.3,2.515],[3.508,-.744],[3.984,-2.911],[8.184,-11.562],[2.279,-2.855],[-1.124,-2.024],[.544,-.765],[3.017,-4.106],[-1.184,-1.328],[-.386,-.124],[1.837,-2.807],[-.767,-2.335],[-2.755,-1.652],[-3.194,1.082],[-.671,-.678],[-4.034,-3.548],[-.141,.16],[-1.912,2.423],[-4.089,5.741],[0,0],[-.08,-.81],[-.575,-3.63],[-.905,-3.835],[-3.335,-.972],[-1.354,1.532],[.755,12.89],[-.219,4.4],[1.914,6.386],[.221,.214],[0,0],[0,0]],v:[[-26.227,43.472],[-20.111,46.795],[-3.436,49.195],[6.271,44.847],[16.572,34.353],[41.182,-.292],[41.975,-10.279],[36.799,-14.538],[38.319,-16.68],[37.519,-30.18],[33.112,-33.014],[31.862,-33.451],[32.969,-42.919],[28.486,-48.471],[19.361,-49.329],[12.486,-42.977],[10.62,-44.85],[-3.107,-43.971],[-3.514,-43.477],[-8.939,-35.964],[-21.189,-18.731],[-22.033,-17.546],[-22.214,-19.346],[-24.014,-30.219],[-31.486,-37.094],[-40.613,-34.262],[-42.563,-28.686],[-43.555,9.895],[-42.488,22.887],[-31.775,39.287],[-31.152,39.965],[-26.227,43.465]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[44.024,50.688],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 4 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[4]},{t:17,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.591],y:[1.232]},o:{x:[.333],y:[0]},t:3.182,s:[64.512]},{t:17,s:[78.762]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[-46.004]},{t:17,s:[-45.754]}],ix:4}},a:{a:0,k:[3.602,10.311,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.05,.08],[-.397,.235],[-.245,-.372],[-.243,-2.031],[2.88,-3.875],[.273,0]],o:[[-.461,0],[0,-.17],[6.552,-9.387],[-.235,-.397],[.383,-.227],[1.001,1.784],[.576,4.793],[-.156,.224],[0,0]],v:[[-2.516,10.057],[-3.351,9.221],[-3.201,8.745],[-1.542,-8.689],[-1.249,-9.834],[-.128,-9.576],[1.757,-3.797],[-1.831,9.704],[-2.516,10.061]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.601,10.311],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"Layer 5 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[100]}],ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[0]}],ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.524],y:[1.943]},o:{x:[.333],y:[0]},t:0,s:[63.218]},{t:15,s:[81.718]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-46.437]},{t:15,s:[-45.687]}],ix:4}},a:{a:0,k:[3.592,13.05,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.719,5.523],[1.159,2.111],[-.394,.238],[-.245,-.379],[-.31,-2.601],[4.815,-6.892],[.273,0]],o:[[-.461,0],[0,-.17],[3.6,-5.154],[-.281,-2.392],[-.238,-.395],[.387,-.233],[1.281,2.285],[.55,4.109],[-.156,.224],[0,0]],v:[[-2.507,12.799],[-3.341,11.964],[-3.191,11.486],[1.147,-4.604],[-1.033,-11.421],[-.75,-12.566],[.383,-12.305],[2.792,-4.905],[-1.823,12.439],[-2.508,12.797]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.592,13.05],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 6 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:15.909,s:[3]},{t:28,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.706],y:[1.553]},o:{x:[.333],y:[0]},t:15.909,s:[30.436]},{t:28,s:[24.186]}],ix:3},y:{a:1,k:[{i:{x:[.652],y:[1.489]},o:{x:[.333],y:[0]},t:15.909,s:[-81.209]},{t:28,s:[-93.959]}],ix:4}},a:{a:0,k:[9.646,4.948,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.461],[-.075,.128],[-1.692,1.15],[-4.764,-.772],[.06,-.457],[.457,.06],[3.634,-2.451],[1.022,-1.522],[.295,0]],o:[[-.461,-.001],[0,-.148],[1.123,-1.71],[3.99,-2.716],[.457,.06],[-.06,.457],[-4.324,-.717],[-1.519,1.027],[-.151,.253],[0,0]],v:[[-8.561,4.693],[-9.395,3.855],[-9.279,3.435],[-5.016,-.898],[8.617,-3.926],[9.335,-2.989],[8.398,-2.27],[-3.995,.431],[-7.842,4.29],[-8.561,4.698]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.645,4.948],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"Layer 7 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:13.363,s:[0]},{t:26,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.624],y:[2.994]},o:{x:[.333],y:[0]},t:13.363,s:[30.021]},{t:26,s:[22.771]}],ix:3},y:{a:1,k:[{i:{x:[.624],y:[1.964]},o:{x:[.333],y:[0]},t:13.363,s:[-82.012]},{t:26,s:[-97.012]}],ix:4}},a:{a:0,k:[12.19,6.146,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.295,0],[0,.461],[-.076,.128],[-2.168,1.472],[-8.332,-1.099],[.06,-.457],[.457,.06],[4.573,-3.179],[1.34,-2]],o:[[-.461,-.001],[.001,-.149],[1.439,-2.19],[3.394,-2.379],[.457,.06],[-.06,.457],[-6.231,-.82],[-1.994,1.35],[-.151,.254]],v:[[-11.106,5.895],[-11.94,5.059],[-11.824,4.637],[-6.361,-.91],[11.161,-4.796],[11.88,-3.859],[10.943,-3.14],[-5.339,.413],[-10.387,5.486]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[12.19,6.146],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0}],markers:[]}};FU().loadAnimation(r),this.router.parseUrl(this.router.url).fragment||window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"about-us"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}navigateToLink(i){this.router.navigate(["contact",i])}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(cs),De(xd),De(hc),De(uc))},t.\u0275cmp=Li({type:t,selectors:[["app-about"]],decls:255,vars:5,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-flex","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","align-items-end"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","300"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["id","wedo-section","data-scroll-index","0",1,"wedo-section"],[1,"container-fluid","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xl-10","offset-xl-1"],[1,"we-do"],[1,"col-xxl-12"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head"],["id","services1","data-scroll-nav","0",1,"services"],[1,"container-fluid"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-7","offset-md-1","col-sm-6","order-sm-1","order-2"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content"],[1,"color1"],[1,"points"],[1,"link",3,"click"],[1,"barcelony"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","offset-xl-1","col-md-4","col-sm-6","order-sm-2","order-1"],[1,"img-block"],["alt","",1,"w-100",3,"src"],["id","services2","data-scroll-nav","1",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","col-md-4","col-sm-6"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-6","offset-md-1","col-sm-6"],["id","services3","data-scroll-nav","2",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-6","offset-md-1","col-sm-6","order-sm-1","order-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","offset-xl-1","col-md-4","offset-md-1","col-sm-6","order-sm-2","order-1"],["id","services4","data-scroll-nav","3",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","offset-xl-1","col-md-7","offset-md-1","col-sm-6"],["id","services5","data-scroll-nav","4",1,"services"],[1,"bg-black"],[1,"col-md-3"],[1,"cap"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p28","head"],[1,"col-md-9"],[1,"col-md-6","col-sm-6"],[1,"list"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p32"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p-0"],["href","https://www.pixtar.ae/project-details/dnour"],["href","https://www.pixtar.ae/project-details/pakhis"],["href","https://www.pixtar.ae/project-details/autokoorosh"],["href","https://www.pixtar.ae/project-details/vendetta"],["href","https://www.pixtar.ae/project-details/beyou"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),D(9,"We don't do "),C(),x(10,"h1",9),D(11,"We don't"),C(),ce(12,"div",10),C(),x(13,"h1",11),D(14,"do one"),C(),x(15,"h1",12),D(16," size fits all"),C(),x(17,"h1",13),D(18,"one size fits all"),C(),x(19,"p",14),D(20,"Our services are tailored to the needs of your brand."),C()()(),x(21,"p",15),D(22," We do it real "),C()()()()()(),x(23,"section",16)(24,"div",17)(25,"div",2)(26,"div",18)(27,"div",19)(28,"div",2)(29,"div",20)(30,"p",21),D(31," We do it real "),C()()()()()()()(),x(32,"section",22)(33,"div",23)(34,"div",2)(35,"div",18)(36,"div",2)(37,"div",24)(38,"div",25)(39,"h1")(40,"span",26),D(41,"Branding"),C(),D(42," that lets you in & gets you an ear"),C(),x(43,"div",27)(44,"p"),D(45,"Research | Strategy | Design"),C(),x(46,"p"),D(47,"Identity | Brandbook & more\u2026"),C()(),x(48,"p",28),dt("click",function(){return o.navigateToLink("branding")}),D(49,"Let us "),x(50,"span",29),D(51,"listen"),C(),D(52," to your story"),C()()(),x(53,"div",30)(54,"div",31),ce(55,"img",32),C()()()()()()(),x(56,"section",33)(57,"div",23)(58,"div",2)(59,"div",18)(60,"div",2)(61,"div",34)(62,"div",31),ce(63,"img",32),C()(),x(64,"div",35)(65,"div",25)(66,"h1")(67,"span",26),D(68,"Website"),C(),D(69," that tells your story which connects"),C(),x(70,"div",27)(71,"p"),D(72,"Static | Dynamic"),C(),x(73,"p"),D(74,"Ui/Ux & more\u2026"),C()(),x(75,"p",28),dt("click",function(){return o.navigateToLink("website")}),D(76,"Let's "),x(77,"span",29),D(78,"tell"),C(),D(79," your story"),C()()()()()()()(),x(80,"section",36)(81,"div",23)(82,"div",2)(83,"div",18)(84,"div",2)(85,"div",37)(86,"div",25)(87,"h1")(88,"span",26),D(89,"eCommerce"),C(),D(90," that helps you sell "),C(),x(91,"div",27)(92,"p"),D(93,"Magento 2++ Website Development"),C(),x(94,"p"),D(95,"Customised eCommerce Solutions"),C(),x(96,"p"),D(97,"Payment Gateway Integration"),C(),x(98,"p"),D(99,"& more\u2026"),C()(),x(100,"p",28),dt("click",function(){return o.navigateToLink("eCommerce")}),D(101,"Let us "),x(102,"span",29),D(103,"help you"),C(),D(104," sell"),C()()(),x(105,"div",38)(106,"div",31),ce(107,"img",32),C()()()()()()(),x(108,"section",39)(109,"div",23)(110,"div",2)(111,"div",18)(112,"div",2)(113,"div",34)(114,"div",31),ce(115,"img",32),C()(),x(116,"div",40)(117,"div",25)(118,"h1")(119,"span",26),D(120,"Enterprise Solutions"),C(),D(121," that automates your process"),C(),x(122,"div",27)(123,"p"),D(124,"Web Based Apps"),C(),x(125,"p"),D(126,"eCom Management Solutions"),C(),x(127,"p"),D(128,"Business Management Solutions"),C(),x(129,"p"),D(130,"& more\u2026"),C()(),x(131,"p",28),dt("click",function(){return o.navigateToLink("enterprice")}),D(132,"Let's "),x(133,"span",29),D(134,"automate"),C(),D(135," it"),C()()()()()()()(),x(136,"section",41)(137,"div",23)(138,"div",2)(139,"div",18)(140,"div",2)(141,"div",37)(142,"div",25)(143,"h1")(144,"span",26),D(145,"SEO"),C(),D(146," solution that spreads the word"),C(),x(147,"div",27)(148,"p"),D(149,"Organic SEO | Site Mapping"),C(),x(150,"p"),D(151,"Google Ads | Social Media Integration"),C(),x(152,"p"),D(153,"& more\u2026"),C()(),x(154,"p",28),dt("click",function(){return o.navigateToLink("seo")}),D(155,"Let us "),x(156,"span",29),D(157,"spread"),C(),D(158," your word"),C()()(),x(159,"div",38)(160,"div",31),ce(161,"img",32),C()()()()()()(),x(162,"section",42)(163,"div",23)(164,"div",2)(165,"div",18)(166,"div",2)(167,"div",43)(168,"div",44)(169,"p",45),D(170," Capabilities "),C()()(),x(171,"div",46)(172,"div",2)(173,"div",47)(174,"div",48)(175,"p",49),D(176," Strategy "),C(),x(177,"ul",50)(178,"li")(179,"a",51),D(180,"Research"),C()(),x(181,"li")(182,"a",52),D(183,"UI/UX audit "),C()(),x(184,"li")(185,"a",53),D(186,"Stakeholder workshops"),C()(),x(187,"li")(188,"a",51),D(189,"Product strategy"),C()(),x(190,"li")(191,"a",51),D(192,"Innovation consulting"),C()()()()(),x(193,"div",47)(194,"div",48)(195,"p",49),D(196,"Design"),C(),x(197,"ul",50)(198,"li")(199,"a",54),D(200,"UI/UX design"),C()(),x(201,"li")(202,"a",51),D(203,"Brand identity "),C()(),x(204,"li")(205,"a",55),D(206,"Websites and mobile apps"),C()(),x(207,"li")(208,"a",52),D(209,"Visual design"),C()(),x(210,"li")(211,"a",52),D(212,"Prototyping and testing"),C()()()()()(),x(213,"div",2)(214,"div",47)(215,"div",48)(216,"p",49),D(217,"Development"),C(),x(218,"ul",50)(219,"li")(220,"a",54),D(221,"HTML/CSS/JS"),C()(),x(222,"li")(223,"a",52),D(224,"React/Angular "),C()(),x(225,"li")(226,"a",51),D(227,"Backend/API integrations"),C()(),x(228,"li")(229,"a",51),D(230,"Magento 2++"),C()(),x(231,"li")(232,"a",51),D(233,"Web based apps"),C()()()()(),x(234,"div",47)(235,"div",48)(236,"p",49),D(237,"Content"),C(),x(238,"ul",50)(239,"li")(240,"a",51),D(241,"Copywriting"),C()(),x(242,"li")(243,"a",51),D(244,"Video "),C()(),x(245,"li")(246,"a",51),D(247,"Animation"),C()(),x(248,"li")(249,"a",51),D(250,"Iconography"),C()(),x(251,"li")(252,"a",51),D(253,"2D graphics"),C()()()()()()()()()()()(),ce(254,"div",56)),2&r&&(se(55),Ie("src","",o.baseUrl,"/img/services/branding.jpg",Ee),se(8),Ie("src","",o.baseUrl,"/img/services/dnour-website.jpg",Ee),se(44),Ie("src","",o.baseUrl,"/img/services/ecommerce.jpg",Ee),se(8),Ie("src","",o.baseUrl,"/img/services/enterprises.jpg",Ee),se(46),Ie("src","",o.baseUrl,"/img/services/seo.jpg",Ee))},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})();var Ii=m(8259);let BU=(()=>{const t=class{constructor(i){this.http=i,this.getBusinesscardDetails=r=>this.http.post(Ft_backendUrl+"/api/businesscard/allbusinesscard",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getBusinesscardDetailsByID=r=>this.http.post(Ft_backendUrl+"/api/businesscard/getBusinesscardWithId",r).pipe((0,$r.K)(s=>(0,Kr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Lt(fc))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ofe=function(e){return["view",e]};function Sfe(e,t){if(1&e&&(x(0,"div",6)(1,"div",7),ce(2,"img",8),x(3,"div",9)(4,"h5",10),D(5),C(),ce(6,"p",11),x(7,"a",12),D(8,"View Vcard"),C()()()()),2&e){const n=t.$implicit,i=ht();se(2),cc("src","",i.imagepath,"",n.profile_photo,"",Ee),se(3),pw("",n.firstName," ",n.lastName,""),se(2),Qe("routerLink",Ea(5,Ofe,n._id))}}let Efe=(()=>{const t=class{constructor(i,r,o,s){this.businesscardService=i,this.pageservice=r,this.metaTagService=o,this.titleService=s,this.businesscards=[],this.imagepath=Ft_backendUrl+"/public/",this.get_PageMeta(),this.get_all_projects()}ngOnInit(){Ii("nav").removeClass("d-none"),Ii("footer").removeClass("d-none")}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_all_projects(){this.businesscardService.getBusinesscardDetails({}).subscribe(r=>{200==r.code&&(this.businesscards=r.result)})}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(BU),De(xd),De(hc),De(uc))},t.\u0275cmp=Li({type:t,selectors:[["app-businesscard"]],decls:7,vars:1,consts:[["id","header",1,"jumbotron","text-center"],[1,"display-3"],["id","gallery"],[1,"container"],[1,"row"],["class","col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-4","mb-4"],[1,"card"],["alt","",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-dark",3,"routerLink"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"h2",1),D(2,"Business Cards"),C()(),x(3,"section",2)(4,"div",3)(5,"div",4),st(6,Sfe,9,7,"div",5),C()()()),2&r&&(se(6),Qe("ngForOf",o.businesscards))},dependencies:[ca,_d],styles:[".contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#878787;border:none;border-radius:0;border-bottom:1px solid #DDDDDD}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#878787;border:none;border-radius:0;border-bottom:1px solid #DDDDDD}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#878787}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{width:100%}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px 0 0}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px 20px;text-decoration:none;border:1px solid #707070;color:#878787;border-radius:30px}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777;background:#1d1d1f}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777;background:#1d1d1f}@media (max-width: 1199px){.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:4px 10px}}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #DA9777;padding:5px 30px;border-radius:30px;font-weight:600}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#DA9777;color:#fff}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#DA9777;color:#fff}.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}@media (max-width: 991px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:106px;font-weight:800;color:#000}@media (max-width: 1199px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}.contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:530px;font-size:22px;font-weight:500}@media (max-width: 1199px){.contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:100%}}"]}),e})(),Dfe=(()=>{const t=class{constructor(){this.baseURl=Ft_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-godly"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","godly business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971566093025"],["alt","",3,"src"],[1,"col-10"],["href","tel:+971566093025"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:godly@epictravel.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","https://www.epictravel.ae","target","_blank"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/godly-babukutty-11566847/","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://www.instagram.com/godly_babukutty/","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),D(11,"Godly Babukutty"),C(),x(12,"p",2),D(13,"Managing Director at Epic Travel"),C()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),C()(),x(21,"div",17)(22,"a",18)(23,"span"),D(24,"+971 56 609 3025"),C()()()(),x(25,"div",19)(26,"div",20)(27,"a",21),ce(28,"img",16),C()(),x(29,"div",17)(30,"a",21)(31,"span"),D(32,"godly@epictravel.ae"),C()()()()()()(),x(33,"div",22)(34,"div",23)(35,"a",24),D(36,"Save Contact"),C(),x(37,"p")(38,"a",25),ce(39,"img",26),C()(),x(40,"p")(41,"a",27),ce(42,"img",28),C()(),x(43,"p")(44,"a",29),ce(45,"img",30),C()()()()()()()()()()()),2&r&&(se(6),Ie("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ee),se(1),Ie("src","",o.baseURl,"/images/godly.jpeg",Ee),se(13),Ie("src","",o.baseURl,"/images/phone.svg",Ee),se(8),Ie("src","",o.baseURl,"/images/email.svg",Ee),se(7),Ie("href","",o.baseURl,"godly.vcf",Ee),se(4),Ie("src","",o.baseURl,"/images/website.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/linkedin.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/instagram.svg",Ee))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),Afe=(()=>{const t=class{constructor(){this.baseURl=Ft_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-israel"]],decls:43,vars:7,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar logo",1,"card-logo",3,"src"],["alt","israel business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:+31657528147"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:israelomidosu@dnour.com","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","https://dnour.com/","target","_blank"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/israelomidosu/","target","_blank"],["alt","linkedin","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),D(11,"Israel Omidosu"),C(),x(12,"p",2),D(13,"Head of Brand Strategy"),C()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),C()(),x(21,"div",17)(22,"a",15)(23,"span"),D(24,"+31 6575 28147"),C()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),ce(28,"img",16),C()(),x(29,"div",17)(30,"a",20)(31,"span"),D(32,"israelomidosu@dnour.com"),C()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),D(36,"Save Contact"),C(),x(37,"p")(38,"a",24),ce(39,"img",25),C()(),x(40,"p")(41,"a",26),ce(42,"img",27),C()()()()()()()()()()()),2&r&&(se(6),Ie("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ee),se(1),Ie("src","",o.baseURl,"/images/israel.jpg",Ee),se(13),Ie("src","",o.baseURl,"/images/phone.svg",Ee),se(8),Ie("src","",o.baseURl,"/images/email.svg",Ee),se(7),Ie("href","",o.baseURl,"io.vcf",Ee),se(4),Ie("src","",o.baseURl,"/images/website.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/linkedin.svg",Ee))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),Tfe=(()=>{const t=class{constructor(){this.baseURl=Ft_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-junaid-shaikh"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","junaid business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971529997111"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:junaid@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/junaid-nour-56515493","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/junaidnour?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),D(11,"Junaid Shaikh"),C(),x(12,"p",2),D(13,"Co-founder & Brand Director "),C()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),C()(),x(21,"div",17)(22,"a",15)(23,"span"),D(24,"+971 52 999 7111"),C()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),ce(28,"img",16),C()(),x(29,"div",17)(30,"a",20)(31,"span"),D(32,"junaid@pixtar.ae"),C()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),D(36,"Save Contact"),C(),x(37,"p")(38,"a",24),ce(39,"img",25),C()(),x(40,"p")(41,"a",26),ce(42,"img",27),C()(),x(43,"p")(44,"a",28),ce(45,"img",29),C()()()()()()()()()()()),2&r&&(se(6),Ie("src","",o.baseURl,"images/pixtar-white-logo.svg",Ee),se(1),Ie("src","",o.baseURl,"images/junaid.jpg",Ee),se(13),Ie("src","",o.baseURl,"images/phone.svg",Ee),se(8),Ie("src","",o.baseURl,"images/email.svg",Ee),se(7),Ie("href","",o.baseURl,"junaid-shaikh.vcf",Ee),se(4),Ie("src","",o.baseURl,"images/website.svg",Ee),se(3),Ie("src","",o.baseURl,"images/linkedin.svg",Ee),se(3),Ie("src","",o.baseURl,"images/instagram.svg",Ee))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),Ife=(()=>{const t=class{constructor(){this.baseURl=Ft_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-nawaz"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","kbn business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971527930781"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:kbn@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),D(11,"KBN"),C(),x(12,"p",2),D(13,"Co-Founder & Creative Director"),C()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),C()(),x(21,"div",17)(22,"a",15)(23,"span"),D(24,"+971 52 793 0781"),C()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),ce(28,"img",16),C()(),x(29,"div",17)(30,"a",20)(31,"span"),D(32,"kbn@pixtar.ae"),C()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),D(36,"Save Contact"),C(),x(37,"p")(38,"a",24),ce(39,"img",25),C()(),x(40,"p")(41,"a",26),ce(42,"img",27),C()(),x(43,"p")(44,"a",28),ce(45,"img",29),C()()()()()()()()()()()),2&r&&(se(6),Ie("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ee),se(1),Ie("src","",o.baseURl,"/images/kbn.jpg",Ee),se(13),Ie("src","",o.baseURl,"/images/phone.svg",Ee),se(8),Ie("src","",o.baseURl,"/images/email.svg",Ee),se(7),Ie("href","",o.baseURl,"kbn.vcf",Ee),se(4),Ie("src","",o.baseURl,"/images/website.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/linkedin.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/instagram.svg",Ee))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),kfe=(()=>{const t=class{constructor(){this.baseURl=Ft_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-nawaz2"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","kbn business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-md-center","justify-content-sm-center","justify-content-start"],[1,"profile-name","text-center"],[1,"account-block"],[1,"content1"],[1,"content2"],[1,"mb-2","d-flex"],[1,"text-center","ph","me-sm-2","me-2"],["href","tel:971527930781"],["alt","",3,"src"],[1,"d-flex"],[1,"text-center","em","me-sm-2","me-2"],["href","mailto:kbn@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),D(11,"KBN"),C(),x(12,"p",2),D(13,"Co-Founder & Creative Director"),C()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),C()(),x(21,"div",2)(22,"a",15)(23,"span"),D(24,"+971 52 793 0781"),C()()()(),x(25,"div",17)(26,"div",18)(27,"a",19),ce(28,"img",16),C()(),x(29,"div",2)(30,"a",19)(31,"span"),D(32,"kbn@pixtar.ae"),C()()()()()()(),x(33,"div",20)(34,"div",21)(35,"a",22),D(36,"Save Contact"),C(),x(37,"p")(38,"a",23),ce(39,"img",24),C()(),x(40,"p")(41,"a",25),ce(42,"img",26),C()(),x(43,"p")(44,"a",27),ce(45,"img",28),C()()()()()()()()()()()),2&r&&(se(6),Ie("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ee),se(1),Ie("src","",o.baseURl,"/images/kbn.jpg",Ee),se(13),Ie("src","",o.baseURl,"/images/phone.svg",Ee),se(8),Ie("src","",o.baseURl,"/images/email.svg",Ee),se(7),Ie("href","",o.baseURl,"kbn.vcf",Ee),se(4),Ie("src","",o.baseURl,"/images/website.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/linkedin.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/instagram.svg",Ee))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow-x:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%;min-height:100vh;height:100%;border-radius:0;overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{margin-top:-60px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:20px 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:15px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px;margin-top:0}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .content1[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:0 12px;justify-content:center;align-items:center}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:20px 0 15px}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:20px 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}@media (orientation: landscape) and (max-width: 991px) and (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}}"]}),e})(),Rfe=(()=>{const t=class{constructor(i,r,o,s,a){this.businesscardService=i,this.router=r,this.route=o,this.element=s,this.location=a,this.id=this.route.snapshot.paramMap.get("id"),this.imagepath=Ft_backendUrl+"/public/",this.vCardpath=Ft_backendUrl+"/public/vcards/",this.baseURl=Ft_baseUrl+"/assets/",this.id&&this.getBusinesscard(this.id)}ngOnInit(){var i=this.location.path();"view"==(i=i.split("/")[2])&&(Ii("nav").addClass("d-none"),Ii("footer").addClass("d-none"))}getBusinesscard(i){this.businesscardService.getBusinesscardDetailsByID({id:i}).subscribe(o=>{200==o.code&&(this.businesscard=o.result)})}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(BU),De(cs),De(mc),De(ao),De(_f))},t.\u0275cmp=Li({type:t,selectors:[["app-view"]],decls:46,vars:19,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","junaid business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],[3,"href"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["target","_blank",3,"href"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","#"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),D(11),C(),x(12,"p",2),D(13),C()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),C()(),x(21,"div",17)(22,"a",15)(23,"span"),D(24),C()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),ce(28,"img",16),C()(),x(29,"div",17)(30,"a",20)(31,"span"),D(32),C()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),D(36,"Save Contact"),C(),x(37,"p")(38,"a",24),ce(39,"img",25),C()(),x(40,"p")(41,"a",26),ce(42,"img",27),C()(),x(43,"p")(44,"a",28),ce(45,"img",29),C()()()()()()()()()()()),2&r&&(se(6),Ie("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ee),se(1),cc("src","",o.imagepath,"",o.businesscard.profile_photo,"",Ee),se(4),pw("",o.businesscard.firstName," ",o.businesscard.lastName,""),se(2),aa(o.businesscard.title),se(6),Ie("href","tel:",o.businesscard.cellPhone,"",Ee),se(1),Ie("src","",o.baseURl,"/images/phone.svg",Ee),se(2),Ie("href","tel:",o.businesscard.cellPhone,"",Ee),se(2),aa(o.businesscard.cellPhone),se(3),Ie("href","mailto:",o.businesscard.email,"",Ee),se(1),Ie("src","",o.baseURl,"/images/email.svg",Ee),se(2),Ie("href","mailto:",o.businesscard.email,"",Ee),se(2),aa(o.businesscard.email),se(3),cc("href","",o.vCardpath,"",o.businesscard.firstName,".vcf",Ee),se(4),Ie("src","",o.baseURl,"/images/website.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/linkedin.svg",Ee),se(3),Ie("src","",o.baseURl,"/images/instagram.svg",Ee))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:91vh!important}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}",".navbar[_ngcontent-%COMP%]{\n  display: none !important;\n}\nfooter[_ngcontent-%COMP%]{\n  display: none !important;\n}"]}),e})(),Nfe=(()=>{const t=class{constructor(i){this.http=i,this.addContact=r=>this.http.post(Ft_backendUrl+"/api/home/contactadd",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Lt(fc))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Lfe(e,t){1&e&&(x(0,"div",36)(1,"div"),D(2," Name is required. "),C()())}function Ffe(e,t){if(1&e&&(x(0,"div",36)(1,"div"),D(2),C()()),2&e){const n=ht();se(2),Do(" ",n.hasEmailError("email","required")," ")}}function Bfe(e,t){1&e&&(x(0,"div",36)(1,"div"),D(2," Phone Number is required. "),C()())}function zfe(e,t){1&e&&(x(0,"div",36)(1,"div"),D(2," Comments is required. "),C()())}let zU=(()=>{const t=class{constructor(i,r,o,s,a,l,c){this.contactservice=i,this.toastr=r,this.route=o,this.formBuilder=s,this.pageservice=a,this.metaTagService=l,this.titleService=c,this.title="Contact Us",this.model={name:null,email:null,message:null,phone:null,subject:[]},this.submitted=!1,this.error={},this.selectedSubj=[],this.isWebsitesel=!1,this.isBrandingsel=!1,this.isSeosel=!1,this.isEnterpricesel=!1,this.isEcommerce=!1,this.msg_success=!1,this.msg_danger=!1,this.subject=[],this.url="https://calendly.com/pixtar/121",this.hasError=(d,h)=>this.addCareerForm.controls[d].hasError(h),this.hasEmailError=(d,h)=>""==this.addCareerForm.controls.email.value?"Email is required":"INVALID"==this.addCareerForm.controls.email.status?"Invalid Email":this.addCareerForm.controls.email.hasError(h),this.get_PageMeta(),this.baseUrl=Ft_baseUrl+"/assets",this.selectedSub=this.route.snapshot.paramMap.get("id"),this.addCareerForm=this.formBuilder.group({name:["",pc.required],email:["",[pc.required,pc.email,pc.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],message:["",pc.required],phone:["",pc.required]})}ngOnInit(){window.Calendly.initInlineWidget({url:this.url,parentElement:document.querySelector(".calendly-inline-widget"),prefill:{}}),window.scroll({top:0,left:0,behavior:"smooth"}),$("nav").removeClass("d-none"),$("footer").removeClass("d-none"),"branding"==this.selectedSub?(this.isBrandingsel=!0,$("#branding").addClass("active")):"website"==this.selectedSub?($("#website").addClass("active"),this.isWebsitesel=!0):"eCommerce"==this.selectedSub?($("#eCommerce").addClass("active"),this.isEcommerce=!0):"enterprice"==this.selectedSub?($("#enterprise").addClass("active"),this.isEnterpricesel=!0):"seo"==this.selectedSub&&($("#seo").addClass("active"),this.isSeosel=!0)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"contact-us"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}onSubmit(){this.submitted=!0;let i=this.addCareerForm.value;return!this.addCareerForm.invalid&&(this.isBrandingsel&&this.subject.push("Branding"),this.isWebsitesel&&this.subject.push("Website"),this.isEnterpricesel&&this.subject.push("Enterprise Solution"),this.isEcommerce&&this.subject.push("eCommerce"),this.isSeosel&&this.subject.push("SEO"),i.subject=this.subject,this.subject.length<1?(this.toastr.errorToastr("Please Select any one from subjects"),!1):this.contactservice.addContact(i).subscribe(r=>{r&&200==r.body.code?(this.submitted=!0,this.toastr.successToastr(r.body.message),setInterval(()=>{window.location.reload()},2e3)):this.toastr.errorToastr("Error")},r=>this.error=r))}selectSub(i){"website"==i?$("#website").hasClass("active")?($("#website").removeClass("active"),this.isWebsitesel=!1):($("#website").addClass("active"),this.isWebsitesel=!0):"branding"==i?$("#branding").hasClass("active")?($("#branding").removeClass("active"),this.isBrandingsel=!1):($("#branding").addClass("active"),this.isBrandingsel=!0):"eCommerce"==i?$("#eCommerce").hasClass("active")?($("#eCommerce").removeClass("active"),this.isEnterpricesel=!1):($("#eCommerce").addClass("active"),this.isEnterpricesel=!0):"enterprise"==i?$("#enterprise").hasClass("active")?($("#enterprise").removeClass("active"),this.isEnterpricesel=!1):($("#enterprise").addClass("active"),this.isEnterpricesel=!0):"seo"==i&&($("#seo").hasClass("active")?($("#seo").removeClass("active"),this.isSeosel=!1):($("#seo").addClass("active"),this.isSeosel=!0))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Nfe),De(LU),De(mc),De(ug),De(xd),De(hc),De(uc))},t.\u0275cmp=Li({type:t,selectors:[["app-contact"]],decls:65,vars:6,consts:[[1,"pb-0","contactsection"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"container"],[1,"row"],[1,"col-md-6"],[1,"contact-content","h-100"],[1,""],[1,"describe"],["href","p/kbn","target","_blank",1,""],["alt","",3,"src"],[1,"short-desc"],[1,"contact-form"],[1,"form"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],["method","post",1,"php-email-form","w-100",3,"formGroup","ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["for","floatingInput",1,"mt-0"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","tel","name","phone","autocomplete","off","formControlName","phone","id","floatingInput","placeholder","phone",1,"form-control"],[1,"detail","w-100","d-none","d-sm-block","mt-4"],[1,"d-flex","flex-row","justify-content-space-between","align-items-center","flex-wrap","pl-0","mb-0"],["type","button","id","branding","value","Branding",1,"button",3,"click"],["type","button","id","website","value","Website",1,"button",3,"click"],["type","button","id","eCommerce","value","eCommerce",1,"button",3,"click"],["type","button","id","enterprise","value","Enterprise Solution",1,"button",3,"click"],["type","button","id","seo","value","SEO",1,"button",3,"click"],[1,"form-floating"],["name","message","autocomplete","off","formControlName","message","id","floatingTextarea","placeholder","message","required","",1,"form-control"],[1,"detail","w-100","d-block","d-sm-none","mt-4"],[1,"d-flex","flex-row","justify-content-space-between","align-items-center","justify-content-center","flex-wrap","pl-0","mb-0"],[1,"w-100","w-100","text-center","text-sm-start"],["type","submit","name","submit","value","Send",1,"float-none","float-sm-end","float-md-end","float-lg-end","float-xl-end","float-xxl-end","mt-5","submit"],[1,"candely"],["data-url","https://calendly.com/kbn",1,"calendly-inline-widget",2,"min-width","320px","height","630px"],[1,"error"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),ce(8,"img",8),C()(),x(9,"p",9),D(10,"Describe your project and leave us your contact info, we\u2019ll get back to you ASAP."),C()()()(),x(11,"div",3)(12,"div",10)(13,"div",11)(14,"div",12)(15,"form",13,14),dt("ngSubmit",function(){return o.onSubmit()}),x(17,"div",15),ce(18,"input",16),x(19,"label",17),D(20,"What's your name?"),C(),st(21,Lfe,3,0,"div",18),C(),x(22,"div",15),ce(23,"input",19),x(24,"label",17),D(25,"What\u2019s your e-mail?"),C(),st(26,Ffe,3,1,"div",18),C(),x(27,"div",15),ce(28,"input",20),x(29,"label",17),D(30,"What's your phone number?"),C(),st(31,Bfe,3,0,"div",18),C(),x(32,"div",21)(33,"ul",22)(34,"li")(35,"input",23),dt("click",function(){return o.selectSub("branding")}),C()(),x(36,"li")(37,"input",24),dt("click",function(){return o.selectSub("website")}),C()(),x(38,"li")(39,"input",25),dt("click",function(){return o.selectSub("eCommerce")}),C()(),x(40,"li")(41,"input",26),dt("click",function(){return o.selectSub("enterprise")}),C()(),x(42,"li")(43,"input",27),dt("click",function(){return o.selectSub("seo")}),C()()()(),x(44,"div",28),ce(45,"textarea",29),x(46,"label",17),D(47,"Tell us about your project :)"),C(),st(48,zfe,3,0,"div",18),C(),x(49,"div",30)(50,"ul",31)(51,"li")(52,"input",23),dt("click",function(){return o.selectSub("branding")}),C()(),x(53,"li")(54,"input",24),dt("click",function(){return o.selectSub("website")}),C()(),x(55,"li")(56,"input",25),dt("click",function(){return o.selectSub("eCommerce")}),C()(),x(57,"li")(58,"input",26),dt("click",function(){return o.selectSub("enterprise")}),C()(),x(59,"li")(60,"input",27),dt("click",function(){return o.selectSub("seo")}),C()()()(),x(61,"div",32),ce(62,"input",33),C()()()()()()()()(),x(63,"section",34),ce(64,"div",35),C()),2&r&&(se(8),Ie("src","",o.baseUrl,"/img/logos/qr-code-call-pixtar.svg",Ee),se(7),Qe("formGroup",o.addCareerForm),se(6),Qe("ngIf",o.submitted&&o.hasError("name","required")),se(5),Qe("ngIf",o.submitted&&o.hasEmailError("email","required")),se(5),Qe("ngIf",o.submitted&&o.hasError("phone","required")),se(17),Qe("ngIf",o.submitted&&o.hasError("message","required")))},dependencies:[Da,fv,Mf,dv,hv,Df,Ef,dg],styles:[".contactsection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:160px}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;margin-top:60px}}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]{margin:0 50px}}@media (max-width: 380px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]{margin:0 30px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#878787}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{width:100%}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px 10px 0;position:relative;z-index:1}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:3px 16px;text-decoration:none;border:1px solid #707070;color:#878787;border-radius:30px;font-weight:600}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:4px 10px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button.active[_ngcontent-%COMP%]{color:#da9777;background:#1d1d1f}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:8px 50px;font-size:16px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:disabled{opacity:.3}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   li.opacity-0.position-absolute[_ngcontent-%COMP%]{z-index:0}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#f33}@media (max-width: 1366px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]{display:flex;align-items:center}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]{margin-top:50px;text-align:center}}.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;margin-bottom:80px}@media (max-width: 1366px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:50px;height:150px}}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:140px}}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;margin-bottom:40px}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]{text-align:center}}.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:530px;font-size:22px;font-weight:500}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 575px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{font-size:16px}}.form-control[_ngcontent-%COMP%], .input-group-addon[_ngcontent-%COMP%], .tagsinput[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%], .carousel-control.right[_ngcontent-%COMP%], .carousel-control.left[_ngcontent-%COMP%]{transition:all .4s linear}"]}),e})();function Ufe(e,t){1&e&&ce(0,"img",98),2&e&&Qe("src",ht(2).$implicit.url,Ee)}function jfe(e,t){1&e&&st(0,Ufe,1,1,"ng-template",97),2&e&&Qe("id",ht().$implicit.id)}function Vfe(e,t){if(1&e&&(gs(0),st(1,jfe,1,1,null,96),vs()),2&e){const n=t.$implicit;se(1),Qe("ngIf",n.id<=3)}}function Hfe(e,t){1&e&&ce(0,"img",98),2&e&&Qe("src",ht(2).$implicit.url,Ee)}function Gfe(e,t){1&e&&st(0,Hfe,1,1,"ng-template",97),2&e&&Qe("id",ht().$implicit.id)}function Wfe(e,t){if(1&e&&(gs(0),st(1,Gfe,1,1,null,96),vs()),2&e){const n=t.$implicit;se(1),Qe("ngIf",n.id>=4&&n.id<=6)}}function qfe(e,t){1&e&&ce(0,"img",98),2&e&&Qe("src",ht(2).$implicit.url,Ee)}function Yfe(e,t){1&e&&st(0,qfe,1,1,"ng-template",97),2&e&&Qe("id",ht().$implicit.id)}function Xfe(e,t){if(1&e&&(gs(0),st(1,Yfe,1,1,null,96),vs()),2&e){const n=t.$implicit;se(1),Qe("ngIf",n.id>=7&&n.id<=9)}}let $fe=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Ft_baseUrl+"/assets",this.Url=Ft_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-dnour"]],decls:219,vars:32,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","http://www.dnour.com","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","250",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","300",1,"mt-0"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-black","about-project"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"content"],[1,"text-white"],[1,"mb-0","text-white"],["id","branding","data-scroll-nav","3",1,"bg-black","branding"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"text-white","heading"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","4",1,"bg-black","story"],[1,"row","mb-4"],[1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content"],[1,"text-white","heading","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12"],[1,"video","text-center"],["id","myVideo","width","954","height","480","controls","controls","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"customvideo","w-100","h-auto"],["src","https://dnour.com/pub/media/wysiwyg/about/the-brand-story-D'NOUR-DUBAI.mp4","type","video/mp4"],["src","https://dnour.com/pub/media/wysiwyg/about/the-brand-story-D'NOUR-DUBAI.ogg","type","video/ogg"],[1,"col-md-10","mx-md-auto"],[1,"about-story"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","150",1,"text-white"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","250",1,"text-white"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","300",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","350",1,"text-white","mb-0"],["data-scroll-nav","5",1,"bg-black","typography"],[1,"typography"],["alt","typography","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100",1,"text-white"],["data-scroll-nav","6",1,"bg-black","package"],[1,"col-md-12"],["alt","packaing2","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"img1",3,"src"],[1,"col-md-6"],["alt","box","width","","height","","data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"img2",3,"src"],["alt","package-envelop","width","","height","","data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"src"],["id","animations","data-scroll-nav","7",1,"animation"],[1,""],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100",1,"col-md-12"],["id","myVideo","width","320","height","176","controls","controls","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"ui-ux"],[1,"heading","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo2","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","development","data-scroll-nav","9",1,"development"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-12","p-0"],["id","myVideo2","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"owlcarousel1"],[3,"options"],[4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"owlcarousel2"],[1,"owlcarousel3"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"options"],["id","seo","data-scroll-nav","10",1,"seo-section"],["id","myVideo1","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","seo"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"container"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold","border-radius-25",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"],[4,"ngIf"],["class","slide","carouselSlide","",3,"id"],[3,"src","alt","title"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),D(9,"D'NOUR"),C(),x(10,"div",7)(11,"p"),D(12,"D'NOUR is a Dubai-based jewellery brand that places women at the forefront."),C(),x(13,"p")(14,"a",8),D(15,"dnour.com"),C()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),D(21,"Branding"),C()(),x(22,"h3",14)(23,"a",13),D(24,"Animations"),C()(),x(25,"h3",15)(26,"a",13),D(27,"UI/UX Design"),C()(),x(28,"h3",16)(29,"a",13),D(30,"Development"),C()(),x(31,"h3",17)(32,"a",13),D(33,"SEO"),C()()()()()()()()()(),x(34,"section",18)(35,"div",19)(36,"div",2)(37,"div",20),ce(38,"img",21),C()()()(),x(39,"section",22)(40,"div",1)(41,"div",2)(42,"div",23)(43,"div",24)(44,"p",25),D(45,"Pixtar, a leading web development agency, partnered with D'NOUR, a Dubai-based jewellery brand that stands as a beacon for women empowerment. D'NOUR's creations, inspired by the elegance of the Rose, embody powerful storytelling, exquisite craftsmanship, and a profound message of appreciation, empowerment, and celebration of women."),C(),x(46,"p",26),D(47,"Pixtar took on the challenge of establishing D'NOUR's online presence in the highly competitive E-commerce jewellery market, focusing specifically on the UAE and USA. The industry was saturated with top-notch brands, making organic SEO a complex undertaking for a newly designed and developed website."),C()()()()()(),x(48,"section",27)(49,"div",1)(50,"div",2)(51,"div",3)(52,"div",2)(53,"div",28)(54,"div",24)(55,"h1",29),D(56,"Branding"),C(),x(57,"p",25),D(58,"Pixtar crafted a distinctive logo, premium quality visiting cards, invoice covers, and other corporate branding materials. The visual identity aimed to reflect D'NOUR's commitment to celebrating and empowering women."),C()()()()(),x(59,"div",20)(60,"div",30),ce(61,"img",31),C()(),x(62,"div",32)(63,"div",2)(64,"div",33),ce(65,"img",31),C(),x(66,"div",34)(67,"div",35),ce(68,"img",36)(69,"img",37),C()()()()()()(),x(70,"section",38)(71,"div",1)(72,"div",2)(73,"div",3)(74,"div",39)(75,"div",40)(76,"div",41)(77,"h1",42),D(78,"Brand Story"),C(),x(79,"p",25),D(80,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),C()()()(),x(81,"div",2)(82,"div",43)(83,"div",44)(84,"video",45),ce(85,"source",46)(86,"source",47),D(87," Your browser does not support the video tag. "),C()()(),x(88,"div",48)(89,"div",49)(90,"h3",50),D(91,"ABOUT WOMEN:"),C(),x(92,"p",51),D(93,"D'NOUR is fueled by the spectrum of emotions and the diverse stories that women carry with them."),C(),x(94,"h3",52),D(95,"FOR WOMEN:"),C(),x(96,"p",53),D(97,"The vision, the jewellery, and the steps towards change - all crafted with women in mind, inspired by their strength and individuality."),C(),x(98,"h3",54),D(99,"TO WOMEN:"),C(),x(100,"p",55),D(101,"D'NOUR is committed to pushing the paradigm, empowering, celebrating, and giving back to women through their timeless and meaningful jewellery pieces."),C()()()()()()()(),x(102,"section",56)(103,"div",1)(104,"div",2)(105,"div",3)(106,"div",57),ce(107,"img",58),x(108,"p",59),D(109,"Pixtar curated a distinctive visual identity by meticulously choosing fonts and color combinations. The selected font reflected elegance and modernity, complementing D'NOUR's commitment to timeless beauty. The color palette incorporated soft rose hues, symbolizing the brand's inspiration, and gold accents, signifying luxury and sophistication."),C()()()()()(),x(110,"section",60)(111,"div",1)(112,"div",2)(113,"div",3)(114,"div",39)(115,"div",28)(116,"div",24)(117,"h1",42),D(118,"Package Design"),C(),x(119,"p",25),D(120,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),C()()()(),x(121,"div",2)(122,"div",61),ce(123,"img",62),C(),x(124,"div",63),ce(125,"img",64),C(),x(126,"div",63),ce(127,"img",65),C()()()()()(),x(128,"section",66)(129,"div",1)(130,"div",2)(131,"div",23)(132,"div",39)(133,"div",40)(134,"div",24)(135,"h1",6),D(136,"Animations"),C(),x(137,"p",67),D(138,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),C()()()(),x(139,"div",2)(140,"div",68)(141,"video",69),ce(142,"source",70)(143,"source",71),D(144," Your browser does not support HTML5 video. "),C()()()()()()(),x(145,"section",72)(146,"div",1)(147,"div",2)(148,"div",3)(149,"div",39)(150,"div",28)(151,"div",24)(152,"h1",73),D(153,"UI/UX Design"),C(),x(154,"p",67),D(155,"Created an engaging and user-centric interface for the D'NOUR website, ensuring a seamless and visually appealing user experience that resonated with the brand's ethos."),C()()()(),x(156,"div",2)(157,"div",74)(158,"video",75),ce(159,"source",70)(160,"source",71),D(161," Your browser does not support HTML5 video. "),C(),x(162,"video",76),ce(163,"source",70)(164,"source",71),D(165," Your browser does not support HTML5 video. "),C()()()()()()(),x(166,"section",77)(167,"div",1)(168,"div",2)(169,"div",3)(170,"div",39)(171,"div",28)(172,"div",24)(173,"h1",73),D(174,"Development"),C(),x(175,"p",67),D(176,"Developed the website using Magento, incorporating advanced features to showcase D'NOUR's exquisite jewellery collections. Security measures were implemented to safeguard user data and transactions."),C()()()()()()(),x(177,"div",78)(178,"video",79),ce(179,"source",70)(180,"source",71),D(181," Your browser does not support HTML5 video. "),C(),x(182,"div",80)(183,"owl-carousel-o",81),st(184,Vfe,2,1,"ng-container",82),C()(),x(185,"div",83)(186,"owl-carousel-o",81),st(187,Wfe,2,1,"ng-container",82),C()(),x(188,"div",84)(189,"owl-carousel-o",85),st(190,Xfe,2,1,"ng-container",82),C()()()(),x(191,"section",86)(192,"div",1)(193,"div",2)(194,"div",3)(195,"div",39)(196,"div",28)(197,"div",24)(198,"h1",6),D(199,"SEO"),C(),x(200,"p",67),D(201,"Formulated a targeted organic SEO strategy tailored to the unique challenges of the E-commerce jewellery industry. Focused on optimizing the website for local search in the UAE and USA, leveraging keywords that aligned with D'NOUR's brand identity and unique selling propositions."),C()()()(),x(202,"video",87),ce(203,"source",70)(204,"source",71),D(205," Your browser does not support HTML5 video. "),C(),x(206,"p"),D(207,"Pixtar's holistic approach, encompassing branding, design, development, and a targeted organic SEO strategy, yielded positive outcomes. D'NOUR's online presence in the UAE and USA flourished, gaining visibility among its target audience despite the formidable competition. The case study serves as a testament to Pixtar's expertise in navigating challenges and helping a brand like D'NOUR shine in a crowded digital landscape."),C()()()()(),x(208,"section",88)(209,"div",89)(210,"div",2)(211,"div",61)(212,"div",90)(213,"div",91)(214,"a",92),ce(215,"img",93),x(216,"h1",94),D(217,"NEXT PROJECT"),C()()()()()(),ce(218,"div",95),C()()),2&r&&(se(20),Ie("href","",o.Url,"/project-details/dnour#branding",Ee),se(3),Ie("href","",o.Url,"/project-details/dnour#animations",Ee),se(3),Ie("href","",o.Url,"/project-details/dnour#ui-ux",Ee),se(3),Ie("href","",o.Url,"/project-details/dnour#development",Ee),se(3),Ie("href","",o.Url,"/project-details/dnour#seo",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/dnour/pages-banner.png",Ee),se(23),Ie("src","",o.baseUrl,"/images/projects/dnour/dnour-project1.jpg",Ee),se(4),Ie("src","",o.baseUrl,"/images/projects/dnour/bcard.png",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/dnour/packaging.png",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/dnour/envelop.png",Ee),se(38),Ie("src","",o.baseUrl,"/images/projects/dnour/typography.png",Ee),se(16),Ie("src","",o.baseUrl,"/images/projects/dnour/packaging.png",Ee),se(2),Ie("src","",o.baseUrl,"/images/projects/dnour/box.png",Ee),se(2),Ie("src","",o.baseUrl,"/images/projects/dnour/package-envelop.png",Ee),se(15),Ie("src","",o.baseUrl,"/images/projects/dnour/dnour-brand-logo-animation.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/dnour/dnour-brand-logo-animation.ogg",Ee),se(16),Ie("src","",o.baseUrl,"/images/projects/dnour/dnour-desktop-imac-scroll.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/dnour/dnour-desktop-imac-scroll.ogg",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/dnour/laptop-scroll.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/dnour/laptop-scroll.ogg",Ee),se(15),Ie("src","",o.baseUrl,"/images/projects/dnour/homescreen.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/dnour/homescreen.ogg",Ee),se(3),Qe("options",o.desktopslider),se(1),Qe("ngForOf",o.imageData),se(2),Qe("options",o.desktopslider1),se(1),Qe("ngForOf",o.imageData),se(2),Qe("options",o.desktopslider2),se(1),Qe("ngForOf",o.imageData),se(13),Ie("src","",o.baseUrl,"/images/projects/dnour/dnour-seo.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/dnour/dnour-seo.ogg",Ee),se(10),Ie("href","",o.Url,"/project-details/pakhis",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/pakhis/pixtar-next.png",Ee))},dependencies:[ca,Da,Lf,tu],styles:["section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.bannerimg[_ngcontent-%COMP%]{text-align:center;margin-top:6rem}.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:590px;height:770px}@media (max-width: 1399px){.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}}section.project[_ngcontent-%COMP%]{min-height:100vh;height:100%}@media (max-width: 991px){section.project[_ngcontent-%COMP%]{min-height:90vh}}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:end;height:90%}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;right:-6rem;color:#101010;font-family:Montserrat,sans-serif;font-size:106px;font-weight:500}@media (max-width: 1366px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{right:0}}@media (max-width: 767px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 600px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;right:-1rem;color:#878787;font-family:Montserrat,sans-serif;font-size:24px}@media (max-width: 1366px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{right:0}}@media (max-width: 767px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:block}}.brand-detail[_ngcontent-%COMP%]   .startdate[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:50px 0}@media (max-width: 991px){.brand-detail[_ngcontent-%COMP%]   .startdate[_ngcontent-%COMP%]{padding:0;border-bottom:none}}.brand-detail[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#000;width:80%}@media (max-width: 991px){.brand-detail[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{margin-top:30px}}.brand-detail[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .brand-detail[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10rem}.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:675px;object-fit:cover}@media (max-width: 1024px){.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}}@media (max-width: 991px){.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]{margin-top:5rem}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.about-project[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.font-bold[_ngcontent-%COMP%]{font-weight:700!important}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.about-story[_ngcontent-%COMP%]{margin-top:20px}.about-story[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.package[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 767px){.package[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{margin-bottom:15px}}.package[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{margin-bottom:15px}.animation[_ngcontent-%COMP%]{padding:80px 0}.seo[_ngcontent-%COMP%]{margin:10px 0 50px}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:50px}@media (max-width: 991px){#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:30px}}@media (max-width: 575px){#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:20px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}"]}),e})();m(8548);var Vc=m(3753),UU=m(8723),jU=m(1946),qC=(m(7274),m(1746)),Kfe=m(2334),ha=m(7625),RA=(m(5778),m(7168));Math,Math,Math;const lge=["*"],Oge=["dialog"];function qA(e){return"string"==typeof e}function yg(e){return null!=e}function Tv(e){return(e||document.body).getBoundingClientRect()}const o7={animation:!0,transitionTimerDelayMs:5},_0e=()=>{},{transitionTimerDelayMs:x0e}=o7,Xb=new Map,Ul=(e,t,n,i)=>{let r=i.context||{};const o=Xb.get(t);if(o)switch(i.runningTransition){case"continue":return pg.E;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Xb.delete(t)}const s=n(t,i.animation,r)||_0e;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>s()),(0,ci.of)(void 0).pipe(function y0e(e){return t=>new E.y(n=>t.subscribe({next:s=>e.run(()=>n.next(s)),error:s=>e.run(()=>n.error(s)),complete:()=>e.run(()=>n.complete())}))}(e));const a=new _.xQ,l=new _.xQ,c=a.pipe((0,Kfe.l)(!0));Xb.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const d=function b0e(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const h=(0,Vc.R)(t,"transitionend").pipe((0,ha.R)(c),(0,Qa.h)(({target:g})=>g===t)),p=(0,UU.H)(d+x0e).pipe((0,ha.R)(c));(0,jU.S3)(p,h,l).pipe((0,ha.R)(c)).subscribe(()=>{Xb.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let ZC=(()=>{class e{constructor(){this.animation=o7.animation}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),h7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),u7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),m7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),g7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({}),e})();var ua=(()=>{return(e=ua||(ua={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",ua;var e})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const y7=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function b7(e){const t=Array.from(e.querySelectorAll(y7)).filter(n=>-1!==n.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let S7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl,t9]}),e})(),JA=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=tn({type:e,selectors:[["",8,"navbar"]]}),e})(),A7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({}),e})();class wg{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}}let dve=(()=>{class e{constructor(n,i){this._el=n,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Za.q)(1)).subscribe(()=>{Ul(this._zone,this._el.nativeElement,(n,i)=>{i&&Tv(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ul(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(n){return new(n||e)(De(ao),De(Xr))},e.\u0275cmp=Li({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,i){2&n&&(mf("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),ss("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,i){},encapsulation:2}),e})();class up{close(t){}dismiss(t){}}class hve{constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new _.xQ,this._dismissed=new _.xQ,this._hidden=new _.xQ,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,ha.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,ha.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function r7(e){return e&&e.then}(n)?!1!==n&&this._dismiss(t):n.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ci.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,qC.$R)(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var jl=(()=>{return(e=jl||(jl={}))[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",jl;var e})();let uve=(()=>{class e{constructor(n,i,r){this._document=n,this._elRef=i,this._zone=r,this._closed$=new _.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new $i,this.shown=new _.xQ,this.hidden=new _.xQ}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":qA(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Za.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Ul(this._zone,n,()=>n.classList.remove("show"),i),o=Ul(this._zone,this._dialogEl.nativeElement,()=>{},i),s=(0,qC.$R)(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"},i=Ul(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Tv(o),o.classList.add("show")},n),r=Ul(this._zone,this._dialogEl.nativeElement,()=>{},n);(0,qC.$R)(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Vc.R)(n,"keydown").pipe((0,ha.R)(this._closed$),(0,Qa.h)(r=>r.which===ua.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(jl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,Vc.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,ha.R)(this._closed$),(0,sr.b)(()=>i=!1),(0,Ka.w)(()=>(0,Vc.R)(n,"mouseup").pipe((0,ha.R)(this._closed$),(0,Za.q)(1))),(0,Qa.h)(({target:r})=>n===r)).subscribe(()=>{i=!0}),(0,Vc.R)(n,"click").pipe((0,ha.R)(this._closed$)).subscribe(({target:r})=>{n===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(jl.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const i=n.querySelector("[ngbAutofocus]"),r=b7(n)[0];(i||r||n).focus()}}_restoreFocus(){const n=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ul(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(n){return new(n||e)(De(No),De(ao),De(Xr))},e.\u0275cmp=Li({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,i){if(1&n&&$h(Oge,7),2&n){let r;co(r=ho())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,i){2&n&&(Eo("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),mf("modal d-block"+(i.windowClass?" "+i.windowClass:"")),ss("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:lge,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,i){1&n&&(function TL(e){const t=Ht()[es][rs];if(!t.projection){const i=t.projection=Ay(e?e.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=e?une(o,e):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),x(0,"div",0,1)(2,"div",2),function IL(e,t=0,n){const i=Ht(),r=hr(),o=W0(r,to+e,16,null,n||null);null===o.projection&&(o.projection=t),Xu(),32!=(32&o.flags)&&function PJ(e,t,n){o5(t[Gi],0,t,n,QN(e,n,t),e5(n.parent||t[rs],n,t))}(r,i,o)}(3),C()()),2&n&&mf("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),pve=(()=>{class e{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}}return e.\u0275fac=function(n){return new(n||e)(Lt(No))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fve=(()=>{class e{constructor(n,i,r,o,s,a){this._applicationRef=n,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new _.xQ,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new $i,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=(0,Vc.R)(t,"focusin").pipe((0,ha.R)(n),(0,Ui.U)(o=>o.target));(0,Vc.R)(t,"keydown").pipe((0,ha.R)(n),(0,Qa.h)(o=>o.which===ua.Tab),(0,RA.M)(r)).subscribe(([o,s])=>{const[a,l]=b7(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&(0,Vc.R)(t,"click").pipe((0,ha.R)(n),(0,RA.M)(r),(0,Ui.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){const o=r.container instanceof HTMLElement?r.container:yg(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new up,l=this._getContentRef(r.injector||n,i,a,r);let c=!1!==r.backdrop?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,l.nodes),h=new hve(d,l,c,r.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe((0,Za.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=p=>{h.close(p)},a.dismiss=p=>{h.dismiss(p)},this._applyWindowOptions(d.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),c&&c.instance&&(this._applyBackdropOptions(c.instance,r),c.changeDetectorRef.detectChanges()),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=TE(dve,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=TE(uve,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_applyWindowOptions(n,i){this._windowAttributes.forEach(r=>{yg(i[r])&&(n[r]=i[r])})}_applyBackdropOptions(n,i){this._backdropAttributes.forEach(r=>{yg(i[r])&&(n[r]=i[r])})}_getContentRef(n,i,r,o){return i?i instanceof as?this._createFromTemplateRef(i,r):qA(i)?this._createFromString(i):this._createFromComponent(n,i,r,o):new wg([])}_createFromTemplateRef(n,i){const o=n.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new wg([o.rootNodes],o)}_createFromString(n){const i=this._document.createTextNode(`${n}`);return new wg([[i]])}_createFromComponent(n,i,r,o){const s=ml.create({providers:[{provide:up,useValue:r}],parent:n}),a=TE(i,{environmentInjector:this._applicationRef.injector,elementInjector:s}),l=a.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new wg([[l]],a.hostView,a)}_setAriaHidden(n){const i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const i=()=>{const r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(n){return new(n||e)(Lt(eg),Lt(ml),Lt(No),Lt(pve),Lt(H0),Lt(Xr))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mve=(()=>{class e{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return e.\u0275fac=function(n){return new(n||e)(Lt(ZC))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Cg=(()=>{class e{constructor(n,i,r){this._injector=n,this._modalStack=i,this._config=r}open(n,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(n){return new(n||e)(Lt(ml),Lt(fve),Lt(mve))},e.\u0275prov=Dt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),T7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({providers:[Cg]}),e})(),N7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),H7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),W7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),q7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),Y7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),X7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),$7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),Q7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({}),e})();new Zn("live announcer delay",{providedIn:"root",factory:function Eve(){return 100}});let K7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Bl]}),e})(),Z7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({}),e})();const Dve=[h7,u7,m7,g7,S7,A7,T7,N7,Z7,H7,W7,q7,Y7,X7,$7,Q7,K7];let Ave=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bn({imports:[Dve,h7,u7,m7,g7,S7,A7,T7,N7,Z7,H7,W7,q7,Y7,X7,$7,Q7,K7]}),e})(),Mg=(()=>{const t=class{constructor(i){this.http=i,this.getTestimonialData=r=>this.http.post(Ft_backendUrl+"/api/home/viewtestimonial",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getAlltestimonial=r=>this.http.post(Ft_backendUrl+"/api/home/alltestimonial",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getMatchDetails=r=>this.http.post(Ft_backendUrl+"/api/match/frontview",r).pipe((0,$r.K)(s=>(0,Kr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Lt(fc))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),kv=(()=>{const t=class{constructor(i){this.http=i,this.getblogDetails=r=>this.http.post(Ft_backendUrl+"/api/blog/viewblog",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getAllblog=r=>this.http.post(Ft_backendUrl+"/api/blog/allblog",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getblogWithId=r=>this.http.post(Ft_backendUrl+"/api/blog/blogdetail",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getNextblogWithId=r=>this.http.post(Ft_backendUrl+"/api/blog/nextblogdetail",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getBlogWithString=r=>this.http.post(Ft_backendUrl+"/api/blog/searchblog",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getAllvideoBlog=r=>this.http.post(Ft_backendUrl+"/api/blog/allvideoblog",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getTagDetails=r=>this.http.post(Ft_backendUrl+"/api/blog/viewtag",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.getDownloadLink=r=>this.http.post(Ft_backendUrl+"/api/home/download",r).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.addInvites=r=>this.http.post(Ft_backendUrl+"/api/blog/addinvite",r).pipe((0,$r.K)(s=>(0,Kr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Lt(fc))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Pg=(()=>{const t=class{constructor(i){this.http=i,this.getAllProjects=r=>this.http.post(Ft_backendUrl+"/api/project/listprojects",r).pipe((0,$r.K)(s=>(0,Kr._)(s)))}sendContactForm(i){return this.http.post(`${Ft_backendUrl}/api/project/referralmail`,i)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Lt(fc))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Rv=(()=>{const t=class{constructor(){this.isWhiteText=!0,this.bannerClass="bannerdrk",this.textWhite="text-white",this.h1text="",this.brdtp=""}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-faq-component"]],inputs:{isWhiteText:"isWhiteText",bannerClass:"bannerClass",textWhite:"textWhite",h1text:"h1text",brdtp:"brdtp"},decls:69,vars:2,consts:[[1,"section","faqsection",3,"ngClass"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-md-10","col-sm-11","col-11","m-auto"],[1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,"",3,"ngClass"],[1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"d-block"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed","brdtp"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"h1",6),D(8," What "),ce(9,"br"),D(10," makes Pixtar "),ce(11,"br"),D(12," Special? "),ce(13,"br"),x(14,"span"),D(15," And other FAQs\u2026 "),C()()()(),x(16,"div",7)(17,"div",8)(18,"div",9)(19,"div",10)(20,"div",11)(21,"h2",12)(22,"button",13),D(23," Alright, no secrets \u2013 what makes Pixtar stand out? "),C()(),x(24,"div",14)(25,"div",15),D(26," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),C()()(),x(27,"div",11)(28,"h2",16)(29,"button",17),D(30," Where are you based? "),C()(),x(31,"div",18)(32,"div",15),D(33," Virtually, next door! We\u2019re proudly based in Dubai, UAE, but our team collaborates with clients worldwide, making distance no barrier to outstanding design! Our business hours are 9 am\u20136 pm GST / 1 am\u201310 am EST / 10 pm\u20137 am PST. But with our early-rising CEO and night-owl CTO, we\u2019re always able to sync up with clients from LA all the way to Australia\u2014and all the lovely places in between. "),C()()(),x(34,"div",11)(35,"h2",19)(36,"button",20),D(37," How are you different from a freelance designer? "),C()(),x(38,"div",21)(39,"div",15),D(40," At Pixtar, you get the expertise of an entire team, not just one individual. We bring together specialized skills in design, strategy, and development, providing a more comprehensive approach and smoother project delivery. "),C()()(),x(41,"div",11)(42,"h2",22)(43,"button",23),D(44," What other design magic do you offer? "),C()(),x(45,"div",24)(46,"div",15),D(47," Besides website design, we specialize in branding, UI/UX design, graphic design, and digital marketing assets. Whatever your design needs, Pixtar has the creative solution. "),C()()(),x(48,"div",11)(49,"h2",22)(50,"button",25),D(51," Who do you usually work with? "),C()(),x(52,"div",26)(53,"div",15),D(54," We collaborate with businesses of all sizes\u2014from startups to established brands\u2014across a range of industries, including Lifestyle, healthcare, technology, real estate, and more. "),C()()(),x(55,"div",11)(56,"h2",22)(57,"button",27),D(58," Which platforms do you use for building websites? "),C()(),x(59,"div",28)(60,"div",15),D(61," We work with popular platforms like Angular, Node.js, React, Shopify, Magento and Webflow, ensuring you get a website that\u2019s not only beautiful but also easy to manage and scalable. "),C()()(),x(62,"div",11)(63,"h2",22)(64,"button",29),D(65," I\u2019m in! When can we get started? "),C()(),x(66,"div",30)(67,"div",15),D(68," We\u2019re thrilled to have you onboard! Just reach out through our contact page, and we\u2019ll set up a kickoff meeting to dive into your project. "),C()()()()()()()()()()()()),2&r&&(Qe("ngClass",o.bannerClass),se(7),Qe("ngClass",o.h1text))},dependencies:[sb],styles:[".footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;color:#fff!important;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff!important;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}"]}),e})();const sM=function(e){return{"text-white":e}};function Tve(e,t){if(1&e){const n=kr();x(0,"div",8)(1,"div",2)(2,"div",9)(3,"div",10),ce(4,"img",11),C()(),x(5,"div",12)(6,"div",13)(7,"h6",14),D(8),C(),x(9,"h4",15),D(10),C(),x(11,"div",16)(12,"p",17),D(13),iE(14,"slice"),C()(),x(15,"span",18),dt("click",function(){zn(n);const r=ht().$implicit;return Vn(ht().toggleText(r))}),D(16),C()()(),x(17,"div",19)(18,"div",13)(19,"p",20),D(20),C()()()()()}if(2&e){const n=ht().$implicit,i=ht();se(4),cc("src","",i.imagepath,"/",n.image,"",Ee),se(3),Qe("ngClass",Ea(17,sM,i.isWhiteText)),se(1),Do(" ",n.name," "),se(1),Qe("ngClass",Ea(19,sM,i.isWhiteText)),se(1),Do(" ",n.title," "),se(1),ss("expanded",n.isExpanded),se(1),Qe("ngClass",Ea(21,sM,i.isWhiteText)),se(1),Do(" ",n.isExpanded?n.text:function sB(e,t,n,i,r){const o=e+to,s=Ht(),a=no(s,o);return Zy(s,o)?nB(s,Oo(),t,a.transform,n,i,r,a):a.transform(n,i,r)}(14,13,n.text,0,200)+"..."," "),se(3),Do(" ",n.isExpanded?"Show Less":"Show More"," "),se(3),Qe("ngClass",Ea(23,sM,i.isWhiteText)),se(1),Do(" ",n.text," ")}}function Ive(e,t){if(1&e&&(gs(0),st(1,Tve,21,25,"ng-template",7),vs()),2&e){const n=ht();se(1),Qe("id",n.baseUrl)}}let Og=(()=>{const t=class{constructor(i){this.testimonialService=i,this.testimonials=[],this.isWhiteText=!0,this.bannerClass="bannerdrk",this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1e4,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.isExpanded=!1,this.imagepath=Ft_backendUrl+"/public/"}ngOnInit(){this.getTestimonial()}getTestimonial(){this.testimonialService.getTestimonialData({}).subscribe(r=>{200===r.code&&r.testimonialData?.length>0?(this.testimonials=r.testimonialData,console.log(this.testimonials)):this.testimonials=[]},r=>{console.error("Failed to fetch testimonial data",r),this.testimonials=[]})}toggleText(i){i.isExpanded=!i.isExpanded}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Mg))},t.\u0275cmp=Li({type:t,selectors:[["app-testimonial"]],inputs:{isWhiteText:"isWhiteText",bannerClass:"bannerClass"},decls:7,vars:3,consts:[[1,"success-story",3,"ngClass"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-11","col-sm-11","col-11","mx-auto"],[1,"content","mbrem8"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","semibold","textcolor1",3,"ngClass"],[1,"size32","textcolor1","mt-0","mb30","weight500",3,"ngClass"],[1,"text-container"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none",3,"ngClass"],[1,"show-more-btn",3,"click"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"],[1,"size18","textcolor3",3,"ngClass"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"div",4),x(5,"owl-carousel-o",5),st(6,Ive,2,1,"ng-container",6),C()()()()()),2&r&&(Qe("ngClass",o.bannerClass),se(5),Qe("options",o.desktopslider),se(1),Qe("ngForOf",o.testimonials))},dependencies:[sb,ca,Lf,tu,R6],styles:[".success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}  .owl-theme .owl-nav.disabled+.owl-dots{margin-top:50px}.text-container[_ngcontent-%COMP%]{max-height:7.5em;overflow:hidden;transition:max-height .3s ease}.text-container.expanded[_ngcontent-%COMP%]{max-height:100%}.show-more-btn[_ngcontent-%COMP%]{color:#de9b7a;cursor:pointer;font-weight:700;margin-top:5px;display:inline-block}"]}),e})();const kve=["myVideo"];function Rve(e,t){if(1&e&&(x(0,"div",113)(1,"a",114),ce(2,"img",115),C()()),2&e){const n=t.$implicit;se(2),lc("src",n.img,Ee)}}const Nve=function(e){return{width:e}};let iT=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10),this.spline&&this.spline.setZoom(1,1)}constructor(i,r,o,s,a,l,c,d,h,p,g,v){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=d,this.http=h,this.projectservice=p,this.modalService=g,this.activeModal=v,this.limit=10,this.slides=[],this.recentslider=[],this.customOptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:3},400:{items:4},740:{items:8},940:{items:10}},nav:!1},this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:15e3,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.page=4,this.page1=5,this.invalidNumber=!1,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.submitted=!1,this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:"https://via.placeholder.com/600/92c952"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:"https://via.placeholder.com/600/771796"}],this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.reviews=[],this.reviewSlider={items:3,loop:!0,margin:20,autoplay:!0,slideTransition:"linear",autoplaySpeed:3e3,autoplayHoverPause:!0,responsive:{0:{items:1},480:{items:1},740:{items:2},991:{items:3}},dots:!1,nav:!1},this.starRating=4,this.instaLimit=9,this.instagramPost=[],this.searchText="",this.closeResult="",this.modalReference=null,this.customMediaSlider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,navSpeed:700,navText:['<i class="fas fa-arrow-left achprevious"></i>','<i class="fas fa-arrow-right achnext active"></i>'],margin:14,responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1},this.popupslider={loop:!0,autoplay:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:['<i class="fas fa-arrow-left achprevious"></i>','<i class="fas fa-arrow-right achnext active"></i>'],margin:14,responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!0},this.isPlaying=!0,this.sectionWidth=10,this.isChangingRandom=!1,this.clientImgarray=[],this.filteredClients=[],this.callback=(y,b)=>{b===google.maps.places.PlacesServiceStatus.OK&&(this.reviews=y.reviews.slice())},this.imagepath=Ft_backendUrl+"/public/",this.baseUrl=Ft_baseUrl+"/assets",this.get_PageMeta(),this.get_AllProjects(),this.getInstagramPosts(),this.slides.push({id:1,img:this.baseUrl+"/img/home/veritcal-images/1.jpg"},{id:2,img:this.baseUrl+"/img/home/veritcal-images/2.jpg"},{id:3,img:this.baseUrl+"/img/home/veritcal-images/3.jpg"},{id:4,img:this.baseUrl+"/img/home/veritcal-images/4.jpg"},{id:5,img:this.baseUrl+"/img/home/veritcal-images/5.jpg"},{id:6,img:this.baseUrl+"/img/home/veritcal-images/6.jpg"},{id:7,img:this.baseUrl+"/img/home/veritcal-images/7.jpg"},{id:8,img:this.baseUrl+"/img/home/veritcal-images/8.jpg"},{id:9,img:this.baseUrl+"/img/home/veritcal-images/9.jpg"},{id:10,img:this.baseUrl+"/img/home/veritcal-images/10.jpg"}),this.recentslider.push({id:1,img:this.baseUrl+"/img/home/beyou.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:2,img:this.baseUrl+"/img/home/cups.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:3,img:this.baseUrl+"/img/home/bcard22.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:4,img:this.baseUrl+"/img/home/vendetta2.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"}),this.clientImgarray.push({id:1,img:this.baseUrl+"/img/home/logos/dnour.svg",class:""},{id:2,img:this.baseUrl+"/img/home/logos/crystal.svg",class:""},{id:3,img:this.baseUrl+"/img/home/logos/miniaar.svg",class:""},{id:4,img:this.baseUrl+"/img/home/logos/bni.svg",class:""},{id:5,img:this.baseUrl+"/img/home/logos/angle.svg"},{id:6,img:this.baseUrl+"/img/home/logos/pakhis.svg",class:""},{id:7,img:this.baseUrl+"/img/home/logos/drminnie.svg",class:""},{id:8,img:this.baseUrl+"/img/home/logos/veddentta.svg",class:""},{id:9,img:this.baseUrl+"/img/home/logos/autokoorosh.svg",class:""},{id:10,img:this.baseUrl+"/img/home/logos/fractal.svg",class:""},{id:11,img:this.baseUrl+"/img/home/logos/corporate.svg",class:""},{id:12,img:this.baseUrl+"/img/home/logos/aetrio.svg",class:""},{id:13,img:this.baseUrl+"/img/home/logos/wrae.svg",class:""},{id:14,img:this.baseUrl+"/img/home/logos/beyou.svg",class:""},{id:15,img:this.baseUrl+"/img/home/logos/alchemative.svg",class:""},{id:16,img:this.baseUrl+"/img/home/logos/Asset 13.svg",class:""},{id:17,img:this.baseUrl+"/img/home/logos/caratcraft.svg",class:""},{id:18,img:this.baseUrl+"/img/home/logos/ep.svg",class:""},{id:19,img:this.baseUrl+"/img/home/logos/holidaymate.svg",class:""},{id:20,img:this.baseUrl+"/img/home/logos/j.avenue.svg",class:""},{id:21,img:this.baseUrl+"/img/home/logos/jwarashri.svg",class:""},{id:22,img:this.baseUrl+"/img/home/logos/maney-angel.svg",class:""},{id:23,img:this.baseUrl+"/img/home/logos/santosh-kotli.svg",class:""},{id:24,img:this.baseUrl+"/img/home/logos/solitaire-events.svg",class:""},{id:25,img:this.baseUrl+"/img/home/logos/spacex.svg",class:""},{id:26,img:this.baseUrl+"/img/home/logos/urban-excellence.svg",class:""},{id:27,img:this.baseUrl+"/img/home/logos/virtual-key.svg",class:""}),this.filteredClients=this.clientImgarray.slice(0,15)}onHover(){this.isChangingRandom||(this.isChangingRandom=!0,this.intervalId=setInterval(()=>{this.filterClients()},2e3))}filterClients(){this.filteredClients.forEach(c=>{c.class=""});let i=this.clientImgarray,r=[];for(var o=0;o<2;o++){var s=Math.floor(Math.random()*i.length);0==r.filter(d=>d.id==s).length&&r.push(i[s])}for(var a=0;a<r.length;a++)if(0==this.filteredClients.filter(d=>d.id==r[a].id).length){var l=Math.floor(Math.random()*this.filteredClients.length);this.filteredClients[l]=r[a],this.filteredClients[l].class="blur"}}isWeekend(i){const r=new Date(i.year,i.month-1,i.day);return 0===r.getDay()||6===r.getDay()}isDisabled(i,r){return i.month!==r.month}ngOnInit(){this.fetch(),document.getElementsByClassName("form-control");let r=document.getElementsByClassName("input-group");for(let s=0;s<r.length;s++)r[s].children[0].addEventListener("focus",function(){r[s].classList.add("input-group-focus")}),r[s].children[0].addEventListener("blur",function(){r[s].classList.remove("input-group-focus")});$("li").removeClass("main-menu__item--active"),$("#home").addClass("main-menu__item--active"),window.scroll({top:0,left:0,behavior:"smooth"}),this.service=new google.maps.places.PlacesService(document.getElementById("googleReviews")),this.service.getDetails({placeId:"ChIJV7cSUslDXz4R9uz8yYTtshE",fields:["reviews"]},this.callback),this.onHover()}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}fetch(){this.http.get(`https://jsonplaceholder.typicode.com/albums/1/photos?_start=0&_limit=${this.limit}`).subscribe(o=>this.apiData=o,o=>(0,Kr._)(o))}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}createRange(i){const r=[];for(let o=1;o<=i;o++)r.push(o);return r}getInstagramPosts(){this.pageservice.getInstagramPosts({limit:this.instaLimit}).subscribe(r=>{200==r.code&&(this.instagramPost=r.result,this.instagramProfile=r.profile)})}loadmorePost(){this.instaLimit=this.instaLimit+9,this.getInstagramPosts()}openCarasoulpopup(i,r){this.selectedMedia=r,"CAROUSEL_ALBUM"==r.media_type&&(this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`}))}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass-video",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}openMediaPopup(i,r){this.selectedMedia=r,this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(i){return i===jl.ESC?"by pressing ESC":i===jl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}closeModal(){this.activeModal.close()}makeLinksClickable(i){if(i){let r=i.split("\n");return r=r.map(o=>(o.includes("#")&&(o=o.split(" ").map(a=>`<a href="https://instagram.com/explore/tags/${a.split("#")[1]}" target="_blank">${a}</a>`).join("")),o)),r.map(o=>`${o}</br>`).join("")}}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.loop=!0,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Vs),De(ud),De(Mg),De(xd),De(hc),De(uc),De(kv),De(ug),De(fc),De(Pg),De(Cg),De(up))},t.\u0275cmp=Li({type:t,selectors:[["app-home"]],viewQuery:function(r,o){if(1&r&&$h(kve,5),2&r){let s;co(s=ho())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&dt("scroll",function(a){return o.onScroll(a)},0,uf)("fullscreenchange",function(a){return o.onFullscreenChange(a)},!1,Ym)},decls:245,vars:16,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo",3,"scroll"],[1,"container-fluid"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","strategy",1,"toppadding"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100","data-aos-once","true",1,"col-lg-7","col-md-6"],[1,"content","d-flex","flex-column","justify-content-center","h-100"],[1,"fontsize12","semibold","mb-4"],[1,"heighlight"],[1,"position-relative","actn"],[1,"position-absolute","start-50"],["routerLink","/services",1,"cstbtn"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100","data-aos-once","true",1,"col-lg-5","col-md-6"],[1,"custom-collapse"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],["href","/services#services1","data-scroll-nav","0",1,"d-block","more","hover-underline-animation"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/services#services4","data-scroll-nav","3",1,"d-block","more","hover-underline-animation"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/services#services2","data-scroll-nav","1",1,"d-block","more","hover-underline-animation"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/services#services3","data-scroll-nav","2",1,"d-block","more","hover-underline-animation"],[1,"featuredvideo","m80"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"blocklist","section1"],[1,"col-md-12"],["class","col custom-col mb-lg-5 mb-md-4 mb-4",4,"ngFor","ngForOf"],[1,"philosophy","position-relative"],[1,"content"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"fontsize12","semibold","linenormal"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"size90","mb-md-3","mb-sm-3","mb-2"],[1,"textcolor1"],[1,"custom-block"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-7","col-xl-7","col-lg-8","col-md-8","mbrem8"],[1,"size24","textcolor1"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-11","offset-lg-1","me-lg-0","col-md-11","col-sm-12","col-12","mx-md-auto"],[1,"imagecent","text-end"],["alt","",3,"src"],[1,"card","cardright"],["href","#",1,""],[1,"p1"],[1,"lufgalight"],[1,"cstcardright"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-11","ms-lg-0","col-md-11","col-sm-12","col-12","mx-md-auto"],[1,"imagecent"],[1,"card","cardleft"],[1,"cstcardleft"],[1,"mbrem5"],[1,"position-absolute","start-50","translate-middle","mbrem8"],["routerLink","/services",1,"cstbtn","cstbtn128"],[1,"text","text128"],[1,"success-story"],[1,"mask"],[1,"fontsize12","semibold"],[1,"size90"],[1,"d-block","textcolor1"],[1,"bannerdrk","creativity"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-10","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-md-6","col-sm-6"],[1,"creative"],[1,"fontsize12","semibold","text-white"],[1,"d-md-block","d-lg-block","d-xl-block","d-xxl-block","size90"],[1,"textcolor6"],[1,"textcolor7"],[1,"barcy"],[1,"d-block","size90"],[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"mb-0"],["id","googleReviews",2,"display","none"],["id","reviews",2,"display","none"],["id","title"],["id","reviews"],[1,"col","custom-col","mb-lg-5","mb-md-4","mb-4"],["href","javascript:void(0)"],["alt","",1,"img-fluid",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),D(9,"Pixtar is a Branding"),C(),x(10,"h1",8),D(11,"And Web Development"),C(),x(12,"h1",8),D(13,"Studio in "),x(14,"span",9),D(15,"Dubai"),C()()()()(),x(16,"div",10)(17,"ul",11)(18,"li")(19,"a",12),ce(20,"img",13),C()(),x(21,"li")(22,"a",14),ce(23,"img",15),C()(),x(24,"li")(25,"a",16),ce(26,"img",13),C()(),x(27,"li")(28,"a",17),ce(29,"img",18),C()()(),x(30,"div",19)(31,"p"),D(32,"Building your business through "),C(),x(33,"p"),D(34,"creativity, is our business!"),C()()()()(),x(35,"div",20)(36,"p")(37,"a",21)(38,"span",22),D(39," See Our Work"),C(),x(40,"span",23),ce(41,"i",24),C()()()()()(),ce(42,"div",25),x(43,"section",26),dt("scroll",function(a){return o.onScroll(a)},0,uf),x(44,"div",27)(45,"div",2)(46,"div",28)(47,"div",29)(48,"video",30,31),dt("click",function(){return o.playInFullscreenWithAudio()}),ce(50,"source",32)(51,"source",33),D(52," Your browser does not support the video tag. "),C()()()()()(),x(53,"section",34)(54,"div",1)(55,"div",2)(56,"div",3)(57,"div",2)(58,"div",35)(59,"div",36)(60,"h6",37),D(61,"What we offer"),C(),x(62,"p",38),D(63,"We don\u2019t just design\u2014we create harmony. With the precision of the golden ratio and the creativity of custom solutions, everything we craft is a one-of-a-kind masterpiece. "),C(),x(64,"div",39)(65,"div",40)(66,"p")(67,"a",41)(68,"span",22),D(69,"Explore Our Services"),C(),x(70,"span",23),ce(71,"i",24),C()()()()()()(),x(72,"div",42)(73,"div",43)(74,"div",44)(75,"div",45)(76,"h2",46)(77,"button",47),D(78," Branding "),C()(),x(79,"div",48)(80,"div",49),D(81," Shape how the world sees you. We help you define your story and express it through iconic branding. "),x(82,"a",50),D(83,"More"),C()()()(),x(84,"div",45)(85,"h2",51)(86,"button",52),D(87," Graphics "),C()(),x(88,"div",53)(89,"div",49),D(90," Designs on demand, tailored to your needs, with a plan that grows with you. "),x(91,"a",54),D(92,"More"),C()()()(),x(93,"div",45)(94,"h2",55)(95,"button",56),D(96," Custom website "),C()(),x(97,"div",57)(98,"div",49),D(99," Pixel-perfect, fast, and beautiful websites designed to perform on every screen. "),x(100,"a",58),D(101,"More"),C()()()(),x(102,"div",45)(103,"h2",59)(104,"button",60),D(105," eCommerce "),C()(),x(106,"div",61)(107,"div",49),D(108," Launch a custom-built online store that engages, converts, and grows. "),x(109,"a",62),D(110,"More"),C()()()()()()()()()()()(),x(111,"section",63)(112,"div",1)(113,"div",64)(114,"div",65)(115,"h6",37),D(116,"Our clients include..."),C(),x(117,"div",2),gs(118),x(119,"div",66)(120,"div",2),st(121,Rve,3,1,"div",67),C()(),vs(),C()()()()(),x(122,"section",68)(123,"div",1)(124,"div",2)(125,"div",3)(126,"div",69)(127,"h6",70),D(128,"Our Philosophy"),C(),x(129,"h1",71)(130,"span",72),D(131,"Beauty, Balance, "),C(),x(132,"span",9),D(133,"And "),C(),x(134,"span",73),D(135," Custom Craftsmanship "),C()(),x(136,"div",2)(137,"div",74)(138,"p",75),D(139,"At Pixtar, we believe that design isn\u2019t just about aesthetics\u2014it\u2019s about creating balance, impact, and authenticity. Every project we deliver is built from the ground up with no templates\u2014because your business deserves nothing less than original."),C()(),x(140,"div",76)(141,"div",77),ce(142,"img",78),x(143,"div",79)(144,"a",80)(145,"div",22)(146,"p",81),D(147,"Miniaar Bridal & Couture"),C(),x(148,"p",82),D(149,"Branding & e-Commerce Website"),C()(),x(150,"div",83)(151,"span",23),ce(152,"i",24),C()()()()()(),x(153,"div",84)(154,"div",85),ce(155,"img",78),x(156,"div",86)(157,"a",80)(158,"div",22)(159,"p",81),D(160,"D\u2019NOUR Dubai"),C(),x(161,"p",82),D(162,"Branding & eCommerce Website"),C()(),x(163,"div",87)(164,"span",23),ce(165,"i",24),C()()()()()(),x(166,"div",76)(167,"div",77),ce(168,"img",78),x(169,"div",79)(170,"a",80)(171,"div",22)(172,"p",81),D(173,"Space X Fitness"),C(),x(174,"p",82),D(175,"Branding And Website"),C()(),x(176,"div",83)(177,"span",23),ce(178,"i",24),C()()()()()(),x(179,"div",84)(180,"div",85),ce(181,"img",78),x(182,"div",86)(183,"a",80)(184,"div",22)(185,"p",81),D(186,"Pakhi\u2019s Handhwash"),C(),x(187,"p",82),D(188,"Branding & Packaging"),C()(),x(189,"div",87)(190,"span",23),ce(191,"i",24),C()()()()()()()()()(),x(192,"div",88)(193,"div",89)(194,"p")(195,"a",90)(196,"span",91),D(197," Explore All Work"),C(),x(198,"span",23),ce(199,"i",24),C()()()()()()(),x(200,"section",92)(201,"div",93),ce(202,"img",78),C(),x(203,"div",1)(204,"div",2)(205,"div",64)(206,"div",69)(207,"h6",94),D(208,"Client Success Stories"),C(),x(209,"h1",95),D(210,"And our "),x(211,"span",9),D(212,"Creativity "),C(),x(213,"span",96),D(214," Inspired by your story "),C()()()()()()(),ce(215,"app-testimonial"),x(216,"section",97)(217,"div",1)(218,"div",2)(219,"div",98)(220,"div",2)(221,"div",99)(222,"div",100)(223,"h6",101),D(224,"Our promise"),C(),x(225,"h1",102)(226,"span",103),D(227," We "),C(),x(228,"span",104),D(229," Go "),C(),x(230,"span",105),D(231,"Beyond "),C()(),x(232,"h1",106),D(233,"The Limits"),ce(234,"br"),D(235,"For You "),C()()(),x(236,"div",99)(237,"div",107)(238,"p",108),D(239,"Design is only part of what we do. We partner with you to solve problems, meet challenges, and grow together\u2014always with 100% transparency and trust."),C()()()()()()()(),ce(240,"app-faq-component")(241,"div",109),x(242,"section",110),ce(243,"div",111)(244,"div",112),C()),2&r&&(se(4),Ie("src","",o.baseUrl,"/img/three-d-objects/home.png",Ee),se(16),Ie("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/whatsapp.svg",Ee),se(17),Qe("ngStyle",Ea(14,Nve,o.sectionWidth+"%")),se(4),Ie("src","",o.baseUrl,"/videos/home-page-video.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/videos/home-page-video.mp4",Ee),se(70),Qe("ngForOf",o.filteredClients),se(21),Ie("src","",o.baseUrl,"/img/home/services/miniaar-service.jpg",Ee),se(13),Ie("src","",o.baseUrl,"/img/home/services/dnour-service.jpg",Ee),se(13),Ie("src","",o.baseUrl,"/img/home/services/spacex-service.jpg",Ee),se(13),Ie("src","",o.baseUrl,"/img/home/services/pakhis-service.jpg",Ee),se(21),Ie("src","",o.baseUrl,"/img/home/pixtar-mask.svg",Ee))},dependencies:[ca,ng,_d,Rv,Og],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}body[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.h1[_ngcontent-%COMP%]{color:#101010;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:#de9b7a}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]{background-size:50%;background-position:100% 103%}}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:2%;top:26%;width:550px;margin-right:10rem}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{margin-right:0;width:450px;top:26%}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;margin-right:2rem;top:28%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0;width:230px;top:30%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}@keyframes _ngcontent-%COMP%_float{0%{transform:translatey(0)}50%{transform:translatey(-20px)}to{transform:translatey(0)}}.cbanner[_ngcontent-%COMP%]   .floatimg[_ngcontent-%COMP%]{transform:translatey(0);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.logotext[_ngcontent-%COMP%]{position:relative;top:5px;left:-24px;font-weight:700;color:#000}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#101010}@media (max-width: 1440px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 1024px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.banner[_ngcontent-%COMP%]{width:100%}}.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}@font-face{font-family:barcelony;src:local("barcelony"),url(barcelony.68e366dc7c859cc4.ttf) format("truetype")}.barcely[_ngcontent-%COMP%]{font-family:barcelony}.banner-left-content[_ngcontent-%COMP%]{display:flex;width:393px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:32px;font-weight:400}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:normal}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.down-arrow[_ngcontent-%COMP%]{bottom:13%}}@media (max-width: 767px){.down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.custom-collapse[_ngcontent-%COMP%]{padding:20px;overflow:hidden;border-radius:30px}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]{padding:10px}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:20px}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#1d1d1f}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{color:#de9b7a}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-bottom:1px solid #dadade;border-radius:0;font-size:28px;color:#de9b7a;font-weight:500;display:flex;align-items:center}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#de9b7a}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#de9b7a;outline:none}@media (max-width: 1440px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1366px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{margin-top:10px;color:#dadade}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#1d1d1f;font-size:16px;font-weight:400}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]{display:inline-block;position:relative;color:#0087ca}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#101010;transform-origin:bottom right;transition:transform .25s ease-out;background-image:none!important}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}.toppadding[_ngcontent-%COMP%]{padding-top:80px}@media (max-width: 991px){.toppadding[_ngcontent-%COMP%]{padding-top:30px}}.imgblock[_ngcontent-%COMP%]{padding:10px 30px}@media (max-width: 1024px){.imgblock[_ngcontent-%COMP%]{padding:10px 0}}.imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e5e5e3;font-size:26px}@media (max-width: 1366px){.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#878787;font-weight:400}.hard-work[_ngcontent-%COMP%]{margin:0;padding:50px 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;color:#878787;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:30px 10px 30px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.creativity[_ngcontent-%COMP%]{padding:80px 0}.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:65px;margin-top:0;line-height:1.2}.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;font-weight:300;line-height:1.8}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:55px}}@media (max-width: 1024px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 991px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:52px;margin-top:70px;color:#fff;font-size:24px}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 1199px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:42px}}@media (max-width: 991px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:34px}}@media (max-width: 767px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:30px}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:28px}}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]{padding:200px 0}}@media (max-width: 767px){.creativity[_ngcontent-%COMP%]{padding:150px 0}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]{padding:50px 20px}}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item:nth-child(odd){margin-top:0!important}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item.active:nth-child(3n+4){margin-top:60px!important}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item:nth-child(even){margin-top:20px!important}.story[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:300px 0}@media (max-width: 1366px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:200px 0}}@media (max-width: 767px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:150px 10px}}@media (max-width: 575px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:80px 10px}}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px;font-weight:600;color:#000}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:barcelony,sans-serif;font-weight:100;color:#da9777}@media (max-width: 1366px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 1024px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 991px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 575px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 480px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}  .story .owl-carousel .owl-item:nth-child(2) img{margin-top:30px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{font-size:24px;font-weight:400;color:#101010;line-height:2;padding-right:15px}@media (max-width: 1366px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{line-height:1.5;padding-right:0}}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]{margin:15px 0}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{text-decoration:none;color:#000;border:2px solid #000;text-align:center;padding:3px 40px;margin-top:20px;border-radius:30px;font-weight:700;font-size:20px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]:hover{background:#000;color:#de9b7a;border-color:#000}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]:focus{border-color:#000;background:#000;color:#de9b7a}@media (max-width: 1366px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:20px;padding:3px 40px}}@media (max-width: 1024px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:18px;padding:3px 30px}}@media (max-width: 991px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 767px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]{margin:15px 0 30px;text-align:center}}@media (max-width: 767px){#strategy[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}}#strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{margin-top:15px;background:-webkit-linear-gradient(#101010,rgba(0,0,0,.6705882353));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none;font-weight:700;cursor:pointer;width:55px;font-size:20px}#strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:hover, #strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:focus, #strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:active{background:-webkit-linear-gradient(#d16a4c,#e8a18d);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.talk[_ngcontent-%COMP%]{padding-bottom:0}.talk[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{border:2px solid #e1a181;display:flex;width:100px;height:100px;text-align:center;justify-content:center;margin:0 auto;border-radius:50px;color:#fff;text-decoration:none;font-size:28px;font-weight:700;align-items:center;cursor:pointer}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:32px}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:#fff;border-bottom:1px solid}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;border-bottom:1px solid}@media (max-width: 991px){.talk[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%}}@media (orientation: landscape) and (max-width: 991px){.h1[_ngcontent-%COMP%]{font-size:38px}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010;padding:80px 0}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px;padding:50px 0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 575px){.head[_ngcontent-%COMP%]{padding:30px 0}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:-8px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px;top:3px}}@media (max-width: 767px){.head[_ngcontent-%COMP%]:before{left:-5px}}.tutorial_link[_ngcontent-%COMP%]{display:none!important}.review-section[_ngcontent-%COMP%]{background-color:#000}.review-section[_ngcontent-%COMP%]   .tutorial_link[_ngcontent-%COMP%]{display:none!important}.review-section[_ngcontent-%COMP%]     .sk_branding a{display:none!important}.sk-ww-google-reviews[_ngcontent-%COMP%]{background-color:#000!important}.sk_branding[_ngcontent-%COMP%]{display:none!important}  .sk-instagram-feed .sk-ig-load-more-posts{border:2px solid #e1a181!important;display:flex!important;width:102px!important;height:100px!important;text-align:center!important;justify-content:center;margin:30px auto 0!important;border-radius:50px!important;color:#fff;text-decoration:none!important;font-size:28px;font-weight:900;align-items:center;cursor:pointer;padding:30px 8px!important}.insta-section[_ngcontent-%COMP%]     .sk-instagram-feed .sk-ig-load-more-posts{height:102px!important;background:transparent!important;border-radius:70px!important}.insta-section[_ngcontent-%COMP%]     .sk-instagram-feed .sk-ig-load-more-posts:hover{padding:30px 8px!important;background:#e1a181!important;color:#fff!important}.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:73%;margin:0 auto;border-top:1px solid rgb(219,219,219)!important;padding:20px 0 0!important}@media (max-width: 1399px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:77%}}@media (max-width: 1199px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:90%}}@media (max-width: 991px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:100%}}@media (max-width: 767px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:101%}}.review-head[_ngcontent-%COMP%]{font-weight:700;color:#fff;padding:80px 0}@media (max-width: 1199px){.review-head[_ngcontent-%COMP%]{font-size:28px;padding:50px 0}}@media (max-width: 991px){.review-head[_ngcontent-%COMP%]{font-size:24px;padding:30px 0}}@media (max-width: 767px){.review-head[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}.review-head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.review-head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.review-head[_ngcontent-%COMP%]:before{height:24px;width:4px;top:3px}}@media (max-width: 767px){.insta-section[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.insta-section[_ngcontent-%COMP%]     .sk_branding a{display:none!important}.review-section[_ngcontent-%COMP%]   .review-shortdecs[_ngcontent-%COMP%]{overflow:hidden}.review-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.review-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important}.review-section[_ngcontent-%COMP%]     .owl-item{background-color:#1c1c27;padding:30px}.review-section[_ngcontent-%COMP%]   .coloractive[_ngcontent-%COMP%]{color:#de9b7a;font-size:24px}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]{display:flex;border:none!important;background-color:transparent!important;color:#ac9375}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]:hover{color:#fff}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:5px}.review-section[_ngcontent-%COMP%]   .cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}.review-section[_ngcontent-%COMP%]   .box-name[_ngcontent-%COMP%]{height:250px;overflow:hidden;overflow-y:scroll}.review-section[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#de9b7a}.review-section[_ngcontent-%COMP%]   .nameheight[_ngcontent-%COMP%]{height:68px}  .sk-ig-profile-counts{display:flex;justify-content:space-between;width:80%;margin:15px 0}@media (max-width: 1199px){  .sk-ig-profile-counts{width:80%}}@media (max-width: 991px){  .sk-ig-profile-counts{width:100%}}  .sk-ig-profile-bio-container b{display:none}  .sk-ig-profile-bio-container .sk-ig-profile-bio.linked{display:block}  .sk-instagram-profile-pic{width:150px!important;height:150px!important;background-size:150px 150px!important;margin:0 100px 0 0!important}@media (max-width: 1024px){  .sk-instagram-profile-pic{margin:0 80px 0 0!important}}@media (max-width: 991px){  .sk-instagram-profile-pic{width:120px!important;height:120px!important;background-size:120px 120px!important;margin:0 50px 0 0!important}}  .sk-ig-profile-info{width:50%!important}@media (max-width: 1199px){  .sk-ig-profile-info{width:60%!important}}@media (max-width: 991px){  .sk-ig-profile-info{width:100%!important}}  .white-popup{height:96vh!important}  .white-popup>div{height:100%!important}  .ig_media{height:95vh!important}  .instagram-user-root-container{display:flex;justify-content:center;align-items:center;padding-bottom:80px!important;margin-bottom:30px!important}@media (max-width: 991px){  .instagram-user-root-container{padding-bottom:50px!important}}@media (max-width: 767px){  .instagram-user-root-container{padding-left:0!important;padding-right:0!important}}@media (max-width: 480px){  .instagram-user-root-container{display:block}}  button.instagram-user-container{background-color:#efefef!important;border-color:#efefef!important}  button.instagram-user-container:hover{background-color:#dbdbdb!important;border-color:#dbdbdb!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:56px}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:30px}}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:0}}@media (max-width: 575px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{text-align:center}}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#444!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#333;background-color:#efefef!important;border-color:#efefef!important;font-weight:400}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#dbdbdb!important;border-color:#dbdbdb!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csmargin[_ngcontent-%COMP%]{margin:15px 0}@media (max-width: 575px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csmargin[_ngcontent-%COMP%]{justify-content:center}}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csdflx[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444!important;text-decoration:none!important}.instagram-profile[_ngcontent-%COMP%]   .profileblock[_ngcontent-%COMP%]{padding-bottom:80px;margin-bottom:30px}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .profileblock[_ngcontent-%COMP%]{padding-bottom:50px}}.instagram-profile[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{object-fit:cover;width:-webkit-fill-available;border-radius:8px}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{flex-grow:1;width:32%;height:255px}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{width:40%;height:auto}}@media (max-width: 380px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{width:100%;height:255px}}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{cursor:pointer;background-color:#00000080;margin:0;padding:0;display:inline-block;position:absolute;top:5px;right:5px;border-radius:50%;width:30px;height:30px;text-align:center}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   span.fa-play-circle[_ngcontent-%COMP%]{font-size:30px;color:#fff}@media (max-width: 480px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   img.post-image[_ngcontent-%COMP%]{height:165px}}@media (max-width: 380px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   img.post-image[_ngcontent-%COMP%]{height:100%}}.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:83%;background-color:#dbdbdb;height:1px;margin:0 auto}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:90%}}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%}}  .myCustomModalClass-video .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-content{background:#000}@media (max-width: 1920px){  .myCustomModalClass-video .modal-dialog.modal-lg{--bs-modal-width: 90% !important;margin:0 auto}}@media (min-width: 992px){  .myCustomModalClass-video .modal-dialog.modal-lg{--bs-modal-width: 100%;margin:0 auto}}@media (max-width: 1280px){  .myCustomModalClass-video .modal-dialog.modal-lg{max-width:100%}}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass-video .btn{background-color:transparent!important;border:none!important;color:#444!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass-video .btn:hover{color:#ffffff80!important}@media (max-width: 991px){  .myCustomModalClass-video .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass-video .btn{top:-6px;right:6px}}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#444!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#ffffff80!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}@media (max-width: 480px){  video{width:90%}}  .modal-body{padding:10px}.cstheight[_ngcontent-%COMP%]{min-height:300px;position:relative;display:block}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{min-height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.custom-col[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;text-align:center}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:15px;transition:all .5s;cursor:default!important}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:gray}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:57px;cursor:default!important}@media (max-width: 1199px){.custom-col[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}}@media (max-width: 768px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1650px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:90px}}@media (max-width: 1366px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1.2}}.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:52px}@media (max-width: 1366px){.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:42px}}@media (max-width: 1280px){.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:32px}}.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]{position:relative;margin-bottom:8rem;z-index:1}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]{margin-bottom:5rem}}@media (max-width: 1199px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:87%}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:left;padding:35px 124px 35px 40px;width:390px;border-radius:80px;position:absolute;bottom:8%;right:6%;box-shadow:-7px 6px 20px #00000029;cursor:pointer;transition:all .4s ease-in}@media (max-width: 1399px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{right:0}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{right:0;left:0;margin:0 auto;bottom:-10%;width:280px;height:85px;padding:13px 80px 13px 20px}}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{width:90%}}@media (max-width: 380px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover{background-color:#000;box-shadow:none}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;text-decoration:none}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:50px;width:50px}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{font-weight:600;font-family:Montserrat,sans-serif!important}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:left;padding:35px 124px 35px 40px;width:390px;border-radius:80px;position:absolute;bottom:8%;left:21%;box-shadow:-7px 6px 20px #00000029;cursor:pointer;transition:all .4s ease-in}@media (max-width: 1399px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{left:0}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{left:0;right:0;bottom:-10%;margin:0 auto;width:280px;height:85px;padding:13px 80px 13px 20px}}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{width:90%}}@media (max-width: 380px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover{background-color:#000;box-shadow:none}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;text-decoration:none}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:50px;width:50px}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{font-weight:600;font-family:Montserrat,sans-serif!important}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]{text-align:left;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:50px;position:absolute;right:14%;top:50%}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:65px;width:65px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.2s all ease-in-out}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]{text-align:left;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:50px;position:absolute;right:14%;top:50%}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:65px;width:65px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.2s all ease-in-out}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.philosophy[_ngcontent-%COMP%]   .text128[_ngcontent-%COMP%]{width:128px;transition:.5s all ease-in-out}.philosophy[_ngcontent-%COMP%]   .cstbtn128[_ngcontent-%COMP%]:hover   .text128[_ngcontent-%COMP%]{width:140px;letter-spacing:1px}.philosophy[_ngcontent-%COMP%]   .custom-block[_ngcontent-%COMP%]{display:block}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .custom-block[_ngcontent-%COMP%]{display:inline}}.philosophy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:1}.philosophy[_ngcontent-%COMP%]   .position-absolute.start-50.translate-middle.mbrem8[_ngcontent-%COMP%]{z-index:1}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .mbrem5[_ngcontent-%COMP%]{margin-top:4rem}}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777}.mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;width:35%;bottom:-14rem}@media (max-width: 991px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-12rem}}@media (max-width: 767px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-10rem;width:60%}}@media (max-width: 600px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-8.5rem;width:75%}}@media (max-width: 480px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{outline:none;color:#fff!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center;color:#fff!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#fff!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#fff!important;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:52px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 1024px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.start-50[_ngcontent-%COMP%]{left:55%!important}}@media (max-width: 480px){.start-50[_ngcontent-%COMP%]{left:60%!important}}.position-relative.actn[_ngcontent-%COMP%]{margin:5rem auto 0 10rem!important}@media (max-width: 991px){.position-relative.actn[_ngcontent-%COMP%]{margin:3rem auto 0 10rem!important}}@media (max-width: 767px){.position-relative.actn[_ngcontent-%COMP%]{margin:4rem auto 4rem 10rem!important}}.position-relative.actn[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:155px}.blur[_ngcontent-%COMP%]{filter:blur(5px);-webkit-filter:blur(5px);-moz-filter:blur(5px);-o-filter:blur(5px);-ms-filter:blur(5px)}']}),e})(),Lve=(()=>{const t=class{constructor(i,r,o){this.pageservice=i,this.metaTagService=r,this.titleService=o,this.get_PageMeta(),this.baseUrl=Ft_baseUrl+"/assets"}ngOnInit(){window.scroll(0,0),window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"process"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(xd),De(hc),De(uc))},t.\u0275cmp=Li({type:t,selectors:[["app-process"]],decls:90,vars:6,consts:[[1,"container","container"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],[1,"mblwd"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","200",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],[1,"barcelony","text-color"],[1,"text-color"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","300",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","300",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","400",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","500",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],[1,"position-absolute","banner-left-content"],[1,"pb-0"],[1,"container-md","container-fluid-sm"],[1,"col-lg-10","offset-lg-1"],[1,"img-block","d-flex","justify-content-center"],["alt","",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content","d-flex","flex-column","position-absolute","startl-31"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content","d-flex","flex-column","position-absolute","startr-31"],[1,"img-block","d-flex","flex-row","justify-content-center"],[1,"help-block"],["alt","","height","70",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"d-flex","flex-column","justify-content-center","align-items-center","cstpadding"],[1,"mb-0","p40"],[1,"mt-0","p90"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),D(7," Creativity.Identity."),C(),x(8,"h1",6),D(9," Visual."),x(10,"span",7),D(11,"Soul"),C(),x(12,"span",8),D(13,"."),C(),D(14,"Brand."),C(),x(15,"h1",9),D(16," Customer "),C(),x(17,"h1",10),D(18," Creativity."),C(),x(19,"h1",11),D(20," Identity."),C(),x(21,"h1",12),D(22," Visual."),x(23,"span",7),D(24,"Soul"),C(),x(25,"span",8),D(26,"."),C()(),x(27,"h1",13),D(28,"Brand."),C(),x(29,"h1",14),D(30," Customer "),C()()()(),x(31,"div",15)(32,"p"),D(33,"Whether it's a birth or an evolution of a brand, "),C(),x(34,"p"),D(35,"nothing stands out unless it has a soul."),C()()()()(),x(36,"section",16)(37,"div",17)(38,"div",18)(39,"div",19),ce(40,"img",20),x(41,"div",21)(42,"h1"),D(43,"Research"),C(),x(44,"p"),D(45,"We start every project by reviewing and analyzing industry Competitor, relevant projects and sustainable references. Feedback to the client for continual input for both parties."),C()()(),x(46,"div",19)(47,"div",22)(48,"h1"),D(49,"Strategy"),C(),x(50,"p"),D(51,"Each project starts with a thorough investigation of the client's business, analysis of it's key features & definition of the optimal strategy for developing it."),C()(),ce(52,"img",20),C(),x(53,"div",19),ce(54,"img",20),x(55,"div",21)(56,"h1"),D(57,"Design"),C(),x(58,"p"),D(59,"Impeccable design can make or break a brand: we create detailed mood boards, wireframes and define user flows & then we experiment with the visuals using a style guide as the basis until we reach a fully responsive, flawless output."),C()()(),x(60,"div",19)(61,"div",22)(62,"h1"),D(63,"Development"),C(),x(64,"p"),D(65,"Once the decision is made in which direction to develop, a more refined concept will be presented to the client. We will also discuss in more detail print materials, online functions & features and applying a thorough 2-step QA process to our consistent coding process."),C()(),ce(66,"img",20),C(),x(67,"div",23),ce(68,"img",20),x(69,"div",21)(70,"h1"),D(71,"Delivery"),C(),x(72,"p"),D(73,"The final solution will be delivered, hitting the deadline. we like to develop a relationship with our clients and provide them an ongoing design service for this current project and more."),C()()()(),x(74,"div",24),ce(75,"img",25),x(76,"div",26)(77,"p",27),D(78,"Support"),C(),x(79,"h1",28),D(80,"We "),x(81,"span",7),D(82,"keep helping"),C(),D(83," you"),C(),x(84,"h1",28),D(85,"As long as "),x(86,"span",7),D(87,"you"),C(),D(88," need us"),C()()()()(),ce(89,"div",29)),2&r&&(se(40),Ie("src","",o.baseUrl,"/img/about-us/pixtar-diagram-1-wiggle.gif",Ee),se(12),Ie("src","",o.baseUrl,"/img/about-us/pixtar-diagram-2.gif",Ee),se(2),Ie("src","",o.baseUrl,"/img/about-us/pixtar-diagram-3.gif",Ee),se(12),Ie("src","",o.baseUrl,"/img/about-us/pixtar-diagram-4.gif",Ee),se(2),Ie("src","",o.baseUrl,"/img/about-us/pixtar-diagram-5.gif",Ee),se(7),Ie("src","",o.baseUrl,"/img/about-us/white-down-arrow.svg",Ee))},styles:['section[_ngcontent-%COMP%]{min-height:100vh;height:100%;background-color:#000}@media (max-width: 768px){section[_ngcontent-%COMP%]{background-size:100rem}}@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}@media (max-width: 480px){section[_ngcontent-%COMP%]{min-height:auto;padding-bottom:0}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;color:#fff}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;color:#fff;line-height:normal;margin-bottom:0}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width: 480px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:86vh!important}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{position:relative;top:-2px}section[_ngcontent-%COMP%]:before{content:"";width:4px;height:4px;background:#000;position:fixed;background:radial-gradient(ellipse at center,rgba(155,155,155,.2392156863) 0%,rgba(171,171,171,.231372549) 11%,transparent 9%,transparent 100%) 0px center repeat;width:100%;height:100%;background-size:10px 10px;outline:0;margin:0;box-sizing:border-box;z-index:0;mix-blend-mode:lighten;left:0;right:0}.barcelony[_ngcontent-%COMP%]{font-family:barcelony}.p40[_ngcontent-%COMP%]{font-weight:600;font-size:40px;color:#fff}@media (max-width: 1366px){.p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){.p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){.p40[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 575px){.p40[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 480px){.p40[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 385px){.p40[_ngcontent-%COMP%]{font-size:16px}}.p90[_ngcontent-%COMP%]{font-size:90px;font-weight:700;color:#fff}@media (max-width: 1366px){.p90[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 991px){.p90[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 767px){.p90[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 575px){.p90[_ngcontent-%COMP%]{font-size:34px}}@media (max-width: 480px){.p90[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 385px){.p90[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 385px){.p90[_ngcontent-%COMP%]{font-size:20px}}section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:35%}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:24%}}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:28%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:24%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:18%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:16%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:20%}}section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:35%;text-align:right}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:24%}}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:28%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:24%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:18%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:16%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:20%}}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:35%}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:50%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:50%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:60%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:78%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:73%}}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;mix-blend-mode:lighten}.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;font-weight:700;margin-bottom:20px}@media (max-width: 1366px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 1024px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin-top:0;margin-bottom:10px}}@media (max-width: 800px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}}@media (max-width: 600px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin-top:-10px;margin-bottom:0}}@media (max-width: 380px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px;margin-top:-28px}}.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}@media (max-width: 1366px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 1024px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 800px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 767px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 600px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}}.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.help-block[_ngcontent-%COMP%]{position:relative;display:block;margin-top:30px;text-align:center}.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}@media (max-width: 1199px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}}@media (max-width: 1024px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}}@media (max-width: 600px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}}@media (max-width: 480px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}@media (max-width: 380px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px}}.cstmenu[_ngcontent-%COMP%]{color:#fff}.cstpadding[_ngcontent-%COMP%]{padding:50px 0}@media (max-width: 767px){.cstpadding[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 600px){.cstpadding[_ngcontent-%COMP%]{padding:10px 0 20px}}.banner-left-content[_ngcontent-%COMP%]{bottom:3%;left:auto}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{bottom:100px;left:auto;position:relative!important}}@media (max-width: 330px){.banner-left-content[_ngcontent-%COMP%]{bottom:60px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin-bottom:0;line-height:normal}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.banner-left-content[_ngcontent-%COMP%]   .text-color[_ngcontent-%COMP%]{color:#da9777;font-weight:600}.text-color[_ngcontent-%COMP%]{color:#da9777}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}']}),e})();function Fve(e,t){if(1&e&&(x(0,"a",19),ce(1,"img",20),C()),2&e){const n=ht().$implicit,i=ht().$implicit,r=ht();lc("href",i.link,Ee),se(1),Qe("src",r.backendUrl+n,Ee)}}function Bve(e,t){if(1&e&&(gs(0),st(1,Fve,2,2,"ng-template",18),vs()),2&e){const n=t.$implicit;se(1),Qe("id",n.id)}}function zve(e,t){if(1&e&&(x(0,"div",14)(1,"div",15)(2,"owl-carousel-o",16),st(3,Bve,2,1,"ng-container",17),C()()()),2&e){const n=t.$implicit,i=ht();se(2),Qe("options",i.customOptions),se(1),Qe("ngForOf",n.project_images)}}function Uve(e,t){if(1&e){const n=kr();x(0,"a",27),dt("click",function(){return zn(n),Vn(ht(2).loadMoreProjects())}),D(1,"More"),C()}}function jve(e,t){if(1&e&&(x(0,"div",10)(1,"div",21),st(2,Uve,2,0,"a",22),x(3,"div",23)(4,"h1",24)(5,"a",25),D(6,"Let's "),x(7,"span",26),D(8,"Talk"),C()()()()()()),2&e){const n=ht();se(2),Qe("ngIf",n.isactive)}}let Vve=(()=>{const t=class{constructor(i,r,o,s){this.projectservice=i,this.pageservice=r,this.metaTagService=o,this.titleService=s,this.allprojects=[],this.currentPage=1,this.initialized=!1,this.currentLimit=6,this.totalRecord=0,this.filterdCategory=[],this.isactive=!0,this.isMorePrasent=!0,this.customOptions={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1e3,center:!0,dots:!1,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.get_PageMeta(),this.get_AllProjects(),this.baseUrl=Ft_baseUrl+"/assets",this.backendUrl=Ft_backendUrl+"/public/"}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"project"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&(this.filterdCategory=[],this.allprojects=[],this.totalRecord=r.count,this.totalRecord<this.currentLimit&&(this.isMorePrasent=!1),r.result.forEach(o=>{o.status&&(this.allprojects.push(o),this.filterdCategory.push(o))}))})}getFilterProjects(i){"all"==i?(this.filterdCategory=this.allprojects,this.isactive=!0):(this.isactive=!1,this.allprojects&&this.allprojects.length>0&&(this.filterdCategory=[],this.allprojects.forEach(r=>{r.category&&r.category.length>0&&r.category.forEach(o=>{o.name==i&&this.filterdCategory.push(r)})})))}loadMoreProjects(){this.currentLimit=this.currentLimit+6,this.get_AllProjects()}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Pg),De(xd),De(hc),De(uc))},t.\u0275cmp=Li({type:t,selectors:[["app-projects"]],decls:26,vars:2,consts:[[1,"cst-tabs","p-0"],[1,"col-md-12"],[1,"col-xl-8","offset-xl-2","col-lg-10","offset-lg-1","col-md-10","offset-md-1"],["role","tablist",1,"nav","nav-pills"],[1,"nav-item"],["data-bs-toggle","pill",1,"nav-link","active",3,"click"],["data-bs-toggle","pill",1,"nav-link",3,"click"],[1,"tab-content"],["id","all",1,"tab-pane","active"],[1,"container"],[1,"row"],["class","col-lg-4 col-md-6",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"line"],[1,"col-lg-4","col-md-6"],["data-aos","fade-up","data-aos-once","true",1,"project-block"],[3,"options"],[4,"ngFor","ngForOf"],["class","slide","carouselSlide","",3,"id"],[3,"href"],[3,"src","alt","title"],[1,"co-md-12"],["class","more",3,"click",4,"ngIf"],[1,"linkblock"],[1,"mt-3","mb-3"],["routerLink","/contact"],[1,""],[1,"more",3,"click"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),dt("click",function(){return o.getFilterProjects("all")}),D(6,"All"),C()(),x(7,"li",4)(8,"a",6),dt("click",function(){return o.getFilterProjects("Branding")}),D(9,"Branding"),C()(),x(10,"li",4)(11,"a",6),dt("click",function(){return o.getFilterProjects("UX/UI")}),D(12,"UX/UI"),C()(),x(13,"li",4)(14,"a",6),dt("click",function(){return o.getFilterProjects("eCommerce")}),D(15,"eCommerce"),C()(),x(16,"li",4)(17,"a",6),dt("click",function(){return o.getFilterProjects("SEO")}),D(18,"SEO"),C()()()(),x(19,"div",7)(20,"div",8)(21,"div",9)(22,"div",10),st(23,zve,4,2,"div",11),st(24,jve,9,1,"div",12),C()()()(),ce(25,"div",13),C()()),2&r&&(se(23),Qe("ngForOf",o.filterdCategory),se(1),Qe("ngIf",o.isMorePrasent))},dependencies:[ca,Da,_d,Lf,tu],styles:["section.cst-tabs[_ngcontent-%COMP%]{margin-top:15rem}@media (max-width: 480px){section.cst-tabs[_ngcontent-%COMP%]{margin-top:10rem}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;justify-content:start}@media (max-width: 991px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]{justify-content:center}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;color:#000;font-weight:400;font-size:32px;cursor:pointer}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{font-weight:600}@media (max-width: 1366px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:20px;padding:0 10px}}@media (max-width: 575px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 380px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;padding:0 5px}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:transparent;font-weight:600}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{background-color:#000;padding:50px}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]{margin:15px 0}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-right-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{cursor:pointer;border:2px solid #e1a181;display:flex;width:100px;height:100px;text-align:center;justify-content:center;margin:30px auto 0;border-radius:50px;color:#fff;text-decoration:none;font-size:28px;font-weight:700;align-items:center}@media (max-width: 1024px){section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{width:80px;height:80px;font-size:20px}}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:20px 20px 50px}.p32[_ngcontent-%COMP%]{font-size:32px;color:#e5e5e3;font-weight:700;margin-bottom:0}@media (max-width: 1366px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.p32[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p32[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){.p32[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 575px){.p32[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 380px){.p32[_ngcontent-%COMP%]{font-size:16px}}.p26[_ngcontent-%COMP%]{font-size:26px;color:#878787;font-weight:100}@media (max-width: 1366px){.p26[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 1199px){.p26[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.p26[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 575px){.p26[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 380px){.p26[_ngcontent-%COMP%]{font-size:14px}}.project-right-block[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:20px 20px 50px}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;text-align:center}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:#fff;border-bottom:1px solid}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;border-bottom:1px solid}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}"]}),e})(),Hve=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/dnour/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Ft_baseUrl+"/assets",this.Url=Ft_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-pakhis"]],decls:166,vars:17,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://www.pakhis.ae/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-pakhis","pb-5"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"content"],[1,"mb-5"],[1,"semibold","subheading","mb-1"],[1,"mb-0"],[1,"row","mt-5"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"heading","mb-2"],["id","branding","data-scroll-nav","3",1,"bg-pakhis","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-pakhis","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100"],[1,"semibold","subheading"],["id","productdesign","data-scroll-nav","6",1,"bg-pakhis","package"],[1,"row","mb-4"],[1,"col-md-12","mb-5"],["alt","packaing2","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"img1",3,"src"],[1,"col-md-12"],["alt","box","width","","height","","data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"img2",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],[1,"mb-md-4","mb-sm-3","mb-2"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"semibold","subheading","mb-3"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"container"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),D(9,"Pakhi's"),C(),x(10,"div",7)(11,"p"),D(12,"Pakhi\u2019s is a testament to the enchanting blend of heritage & modernity that the Middle East represents."),C(),x(13,"p")(14,"a",8),D(15,"Pakhis.ae"),C()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),D(21,"Branding"),C()(),x(22,"h3",14)(23,"a",13),D(24,"Product Design"),C()(),x(25,"h3",15)(26,"a",13),D(27,"UI/UX Design"),C()()()()()()()()()(),x(28,"section",16)(29,"div",17)(30,"div",2)(31,"div",18),ce(32,"img",19),C()()()(),x(33,"section",20)(34,"div",1)(35,"div",2)(36,"div",21)(37,"div",22)(38,"p",23),D(39,'"Pakhi\'s" presents a luxurious and sustainable handwash collection inspired by the enchanting charm of the Middle East. Our handcrafted formulations are meticulously designed to unveil the secrets of nourished and rejuvenated skin. Each product embodies a unique blend of tradition, innovation, and care, providing an unparalleled sense of luxury to your everyday self-care routine. '),C(),x(40,"h3",24),D(41,"Project Objectives:"),C(),x(42,"p",25),D(43,"Creating an online platform for Pakhi's premium hand wash collection, emphasizing UAE's cultural and sensory aspects."),C(),x(44,"p",25),D(45," We aim to develop a user-friendly, mobile-responsive website for an enhanced online shopping experience."),C(),x(46,"p",25),D(47,"Furthermore, the platform will convey the brand's commitment to high quality, sustainability, and affordability."),C()(),x(48,"div",26)(49,"div",27)(50,"div",22)(51,"h1",28),D(52,"Branding"),C(),x(53,"p"),D(54,"In shaping the branding strategy for \"Pakhis,\" our approach involved a thorough exploration of the agency's identity. Through in-depth consultations and market analysis, we crafted a distinctive brand narrative and visual identity aligned with Pakhis' core values. The result is a sophisticated and resonant brand image, strategically positioned to leave a lasting impression on its audience. Our commitment to precision, creativity, and strategic thinking underscores the success of this collaborative endeavor, contributing to Pakhis' emergence as a distinguished entity within its industry"),C()()()()()()()(),x(55,"section",29)(56,"div",1)(57,"div",2)(58,"div",18)(59,"div",30),ce(60,"img",31),C()(),x(61,"div",32)(62,"div",2)(63,"div",33),ce(64,"img",31),C(),x(65,"div",34)(66,"div",35),ce(67,"img",36)(68,"img",37),C()()()()()()(),x(69,"section",38)(70,"div",1)(71,"div",2)(72,"div",3)(73,"div",39),ce(74,"img",40),x(75,"p",41),D(76,"The visual design of the website embodies the essence of luxury and the mystique of the Middle East."),C(),x(77,"h3",42),D(78,"Color Schemes:"),C(),x(79,"p"),D(80,"Rich and opulent color palettes reflective of the cultural richness of the Middle East."),C(),x(81,"h3",42),D(82,"Typography:"),C(),x(83,"p"),D(84,"Elegant and legible fonts to enhance readability and convey a sense of sophistication."),C(),x(85,"h3",42),D(86,"Imagery:"),C(),x(87,"p"),D(88,"High-quality, curated visuals showcasing the hand wash collection and the cultural inspiration behind each variant."),C()()()()()(),x(89,"section",43)(90,"div",1)(91,"div",2)(92,"div",3)(93,"div",44)(94,"div",27)(95,"div",22)(96,"h1",28),D(97,"Product Design"),C(),x(98,"p"),D(99,"In crafting the product design for \"Pakhis,\" we seamlessly blended creativity and functionality. Our approach, rooted in the agency's vision, resulted in a distinct hand wash collection that embodies the premium quality and cultural essence of the UAE. Through thoughtful ideation and design iterations, each product within Pakhis' collection speaks to the brand's commitment to excellence, reflecting qualities of quality, sustainability, and affordability. This collaborative effort establishes Pakhis as a standout brand, resonating with the discerning tastes of its audience."),C()()()(),x(100,"div",2)(101,"div",45),ce(102,"img",46),C(),x(103,"div",47),ce(104,"img",48),C()()()()()(),x(105,"section",49)(106,"div",1)(107,"div",2)(108,"div",3)(109,"div",44)(110,"div",50)(111,"div",22)(112,"h1",28),D(113,"UI/UX Design"),C(),x(114,"p",51),D(115,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),C()()()(),x(116,"div",2)(117,"div",52)(118,"video",53),ce(119,"source",54)(120,"source",55),D(121," Your browser does not support HTML5 video. "),C(),x(122,"video",56),ce(123,"source",54)(124,"source",55),D(125," Your browser does not support HTML5 video. "),C(),x(126,"p",57),D(127,"The design and development process focused on seamlessly integrating tradition, innovation, and user-friendly functionality."),C(),x(128,"p",57),D(129,"Conducted market research to understand user preferences for luxury self-care products."),C(),x(130,"p",57),D(131,"Collaborated with stakeholders to define the brand identity and values."),C(),x(132,"p",57),D(133,"Utilized HTML 5 and Bootstrap for a responsive and visually appealing website."),C(),x(134,"p",57),D(135,"Emphasized user experience and easy navigation to facilitate a smooth browsing and shopping journey."),C()()()()()()(),x(136,"section",58)(137,"div",1)(138,"div",2)(139,"div",3)(140,"div",44)(141,"div",27)(142,"div",22)(143,"h1",28),D(144,"Technical Stack"),C(),x(145,"h3",59),D(146," The technological stack of Pakhi's website included:"),C(),x(147,"p",57),D(148,"HTML 5: Ensuring a robust and structurally sound foundation."),C(),x(149,"p",57),D(150,"Bootstrap: Facilitating a responsive and mobile-friendly design."),C(),x(151,"p",60),D(152,"Fully Mobile Responsive: Adapting seamlessly to various devices for an optimal user experience."),C(),x(153,"p"),D(154,"User-Friendly: Implementing intuitive navigation and user interfaces."),C()()()()()()()(),x(155,"section",61)(156,"div",62)(157,"div",2)(158,"div",47)(159,"div",63)(160,"div",64)(161,"a",65),ce(162,"img",66),x(163,"h1",67),D(164,"NEXT PROJECT"),C()()()()()(),ce(165,"div",68),C()()),2&r&&(se(20),Ie("href","",o.Url,"/project-details/pakhis#branding",Ee),se(3),Ie("href","",o.Url,"/project-details/pakhis#productdesign",Ee),se(3),Ie("href","",o.Url,"/project-details/pakhis#ui-ux",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/pakhis/banner-min.jpg",Ee),se(28),Ie("src","",o.baseUrl,"/images/projects/pakhis/pakhis-detail.jpg",Ee),se(4),Ie("src","",o.baseUrl,"/images/projects/pakhis/stationery-Mockup-min.jpg",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/pakhis/broken-plank.jpg",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/pakhis/duct-tape-mockup-min.jpg",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/pakhis/typography.png",Ee),se(28),Ie("src","",o.baseUrl,"/images/projects/pakhis/all-three-podium-sand.jpg",Ee),se(2),Ie("src","",o.baseUrl,"/images/projects/pakhis/threebottles-min.png",Ee),se(15),Ie("src","",o.baseUrl,"/images/projects/pakhis/pakhis-imac-scroll.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/pakhis/pakhis-imac-scroll.ogg",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/pakhis/pakhis-laptop-scroll.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/pakhis/pakhis-laptop-scroll.ogg",Ee),se(37),Ie("href","",o.Url,"/project-details/beyou",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/dnour/pixtar-case-study-web-design.png",Ee))},styles:["section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}"]}),e})();function Gve(e,t){1&e&&ce(0,"img",72),2&e&&Qe("src",ht(2).$implicit.url,Ee)}function Wve(e,t){1&e&&st(0,Gve,1,1,"ng-template",71),2&e&&Qe("id",ht().$implicit.id)}function qve(e,t){if(1&e&&(gs(0),st(1,Wve,1,1,null,70),vs()),2&e){const n=t.$implicit;se(1),Qe("ngIf",n.id<=3)}}function Yve(e,t){1&e&&ce(0,"img",72),2&e&&Qe("src",ht(2).$implicit.url,Ee)}function Xve(e,t){1&e&&st(0,Yve,1,1,"ng-template",71),2&e&&Qe("id",ht().$implicit.id)}function $ve(e,t){if(1&e&&(gs(0),st(1,Xve,1,1,null,70),vs()),2&e){const n=t.$implicit;se(1),Qe("ngIf",n.id>=4&&n.id<=6)}}function Qve(e,t){1&e&&ce(0,"img",72),2&e&&Qe("src",ht(2).$implicit.url,Ee)}function Kve(e,t){1&e&&st(0,Qve,1,1,"ng-template",71),2&e&&Qe("id",ht().$implicit.id)}function Zve(e,t){if(1&e&&(gs(0),st(1,Kve,1,1,null,70),vs()),2&e){const n=t.$implicit;se(1),Qe("ngIf",n.id>=7&&n.id<=9)}}let Jve=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Ft_baseUrl+"/assets",this.Url=Ft_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-beyou"]],decls:132,vars:22,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://storebeyou.com/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-beyou"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-beyou","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-beyou","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-beyou","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","ecommerce","data-scroll-nav","6",1,"package"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-12","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"owlcarousel1"],[3,"options"],[4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"owlcarousel2"],[1,"owlcarousel3"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"options"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"],[4,"ngIf"],["class","slide","carouselSlide","",3,"id"],[3,"src","alt","title"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),D(9,"BEYOU"),C(),x(10,"div",7)(11,"p"),D(12,"Storebeyou redefines beauty empowerment in the e-commerce realm, curating a platform where women's unique beauty takes center stage."),C(),x(13,"p")(14,"a",8),D(15,"storebeyou.com"),C()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),D(21,"Branding"),C()(),x(22,"h3",14)(23,"a",13),D(24,"UI/UX Design"),C()(),x(25,"h3",15)(26,"a",13),D(27,"Ecommerce"),C()()()()()()()()()(),x(28,"section",16)(29,"div",17)(30,"div",2)(31,"div",18),ce(32,"img",19),C()()()(),x(33,"section",20)(34,"div",21)(35,"div",2)(36,"div",22)(37,"div",23)(38,"p",24),D(39,"\"Storebeyou faced the challenge of establishing a unique online presence in the highly competitive e- commerce landscape for women's beauty products. Pixtar took on the task of creating a visually appealing and secure platform that resonated with the target audience."),C()()()()()(),x(40,"section",25)(41,"div",21)(42,"div",2)(43,"div",26)(44,"div",23)(45,"h1",27),D(46,"Branding"),C(),x(47,"p"),D(48,"Pixtar designed a distinctive logo for Storebeyou, capturing the essence of women's beauty and elegance. The logo became a visual cornerstone for the brand's identity, radiating sophistication and allure."),C()()()()()(),x(49,"section",28)(50,"div",1)(51,"div",2)(52,"div",18)(53,"div",29),ce(54,"img",30),C()(),x(55,"div",31)(56,"div",2)(57,"div",32),ce(58,"img",30),C(),x(59,"div",33)(60,"div",34),ce(61,"img",35)(62,"img",36),C()()()()()()(),x(63,"section",37)(64,"div",1)(65,"div",2)(66,"div",3)(67,"div",38),ce(68,"img",39),C()()()()(),x(69,"section",40)(70,"div",1)(71,"div",2)(72,"div",3)(73,"div",41)(74,"div",42)(75,"div",23)(76,"h1",43),D(77,"UI/UX Design"),C(),x(78,"p",44),D(79,"Crafted an intuitive and aesthetically pleasing interface for the Storebeyou website, ensuring a seamless and engaging user experience. The design prioritized showcasing the beauty products while facilitating easy navigation for online shoppers."),C()()()(),x(80,"div",2)(81,"div",45)(82,"video",46),ce(83,"source",47)(84,"source",48),D(85," Your browser does not support HTML5 video. "),C(),x(86,"video",49),ce(87,"source",47)(88,"source",48),D(89," Your browser does not support HTML5 video. "),C()()()()()()(),x(90,"section",50)(91,"div",1)(92,"div",2)(93,"div",3)(94,"div",41)(95,"div",42)(96,"div",23)(97,"h1",43),D(98,"Ecommerce"),C(),x(99,"p",44),D(100,"Developed the e-commerce platform using Magento, incorporating advanced features to enhance the online shopping experience. Stringent security measures were implemented to safeguard customer data and transactions, fostering trust and reliability."),C()()()()()()(),x(101,"div",51),ce(102,"img",30),x(103,"div",52)(104,"owl-carousel-o",53),st(105,qve,2,1,"ng-container",54),C()(),x(106,"div",55)(107,"owl-carousel-o",53),st(108,$ve,2,1,"ng-container",54),C()(),x(109,"div",56)(110,"owl-carousel-o",57),st(111,Zve,2,1,"ng-container",54),C()()()(),x(112,"section",58)(113,"div",21)(114,"div",2)(115,"div",59)(116,"div",41)(117,"div",60)(118,"div",23)(119,"p",61),D(120,"Storebeyou emerged as a haven for women seeking high-quality beauty products tailored to their unique needs. The platform aimed to empower women through curated selections that celebrated beauty in diversity."),C()()()()()()()(),x(121,"section",62)(122,"div",21)(123,"div",2)(124,"div",63)(125,"div",64)(126,"div",65)(127,"a",66),ce(128,"img",67),x(129,"h1",68),D(130,"NEXT PROJECT"),C()()()()()(),ce(131,"div",69),C()()),2&r&&(se(20),Ie("href","",o.Url,"/project-details/beyou#branding",Ee),se(3),Ie("href","",o.Url,"/project-details/beyou#ui-ux",Ee),se(3),Ie("href","",o.Url,"/project-details/beyou#ecommerce",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/beyou/beyou-banner-min.png",Ee),se(22),Ie("src","",o.baseUrl,"/images/projects/beyou/beyou-branding.png",Ee),se(4),Ie("src","",o.baseUrl,"/images/projects/beyou/beyou-model-new.jpg",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/beyou/beyou-bcard.jpg",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/beyou/pack.jpg",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/beyou/typography.png",Ee),se(15),Ie("src","",o.baseUrl,"/images/projects/beyou/storebeyou-imac-scroll.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/beyou/storebeyou-imac-scroll.ogg",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/beyou/storebeyou-laptop.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/beyou/storebeyou-laptop.ogg",Ee),se(14),Ie("src","",o.baseUrl,"/images/projects/beyou/beyou-homescreen.png",Ee),se(2),Qe("options",o.desktopslider),se(1),Qe("ngForOf",o.imageData),se(2),Qe("options",o.desktopslider1),se(1),Qe("ngForOf",o.imageData),se(2),Qe("options",o.desktopslider2),se(1),Qe("ngForOf",o.imageData),se(16),Ie("href","",o.Url,"/project-details/autokoorosh",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-banner.png",Ee))},dependencies:[ca,Da,Lf,tu],styles:[".bg-beyou[_ngcontent-%COMP%]{background:#E89F8C}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}"]}),e})(),e1e=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Ft_baseUrl+"/assets",this.Url=Ft_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-autokoorosh"]],decls:111,vars:13,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://autokoorosh.ae/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-autokoorosh","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-autokoorosh","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-autokoorosh","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-autokoorosh","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),D(9,"AUTOKOOROSH"),C(),x(10,"div",7)(11,"p"),D(12,"One of the leading auto repair shops serving customers in dubai. All mechanic services are performed by highly qualified mechanics."),C(),x(13,"p")(14,"a",8),D(15,"autokoorosh.ae"),C()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),D(21,"Branding"),C()(),x(22,"h3",14)(23,"a",13),D(24,"UI/UX Design"),C()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),ce(29,"img",18),C()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),D(36,"Autokoorosh, an established auto service provider, embarked on a digital journey with Pixtar, a renowned web development agency. With a track record of 15 years of delivering quality car repair and detailing services, Autokoorosh has earned maximum customer satisfaction. "),ce(37,"br")(38,"br"),D(39," Despite their longstanding success in the auto service industry, Autokoorosh recognized the need to enhance their online presence to better serve their customers and expand their reach. Pixtar was tasked with developing a website that not only reflected Autokoorosh's commitment to quality services but also showcased their work and diversified offerings."),C()()()()()(),x(40,"section",24)(41,"div",20)(42,"div",2)(43,"div",25)(44,"div",22)(45,"h1",26),D(46,"Branding"),C(),x(47,"p"),D(48,"Through cohesive branding efforts, Pixtar helped Autokoorosh strengthen its brand presence, establish credibility in the market, and attract new customers. The synergy between web development and branding ensured a holistic approach to enhancing Autokoorosh's overall marketing strategy and driving business growth."),C()()()()()(),x(49,"section",27)(50,"div",1)(51,"div",2)(52,"div",17)(53,"div",28),ce(54,"img",29),C()(),x(55,"div",30)(56,"div",2)(57,"div",31),ce(58,"img",29),C(),x(59,"div",32)(60,"div",33),ce(61,"img",34),C()()()()()()(),x(62,"section",35)(63,"div",1)(64,"div",2)(65,"div",3)(66,"div",36),ce(67,"img",37),x(68,"p",38),D(69,"Through cohesive branding efforts, Pixtar helped Autokoorosh strengthen its brand presence, establish credibility in the market, and attract new customers. The synergy between web development and branding ensured a holistic approach to enhancing Autokoorosh's overall marketing strategy and driving business growth."),C()()()()()(),x(70,"section",39)(71,"div",1)(72,"div",2)(73,"div",3)(74,"div",40)(75,"div",41)(76,"div",22)(77,"h1",42),D(78,"UI/UX Design"),C(),x(79,"p",43),D(80,"Pixtar crafted a dynamic and user-friendly website for Autokoorosh, highlighting their core services of car repairing and detailing. The website was designed to provide visitors with easy access to information about Autokoorosh's services, locations, and contact details. Integration of interactive features facilitated seamless communication between Autokoorosh and its customers"),C()()()(),x(81,"div",2)(82,"div",44)(83,"video",45),ce(84,"source",46)(85,"source",47),D(86," Your browser does not support HTML5 video. "),C(),x(87,"video",48),ce(88,"source",46)(89,"source",47),D(90," Your browser does not support HTML5 video. "),C()()()()()()(),x(91,"section",49)(92,"div",20)(93,"div",2)(94,"div",50)(95,"div",40)(96,"div",51)(97,"div",22)(98,"p",52),D(99,"Pixtar's collaboration with Autokoorosh resulted in a successful digital transformation, positioning them as a leader in the auto service industry. The new website not only improved customer engagement but also strengthened Autokoorosh's brand identity and facilitated business growth. Through strategic web development, Pixtar helped Autokoorosh drive excellence in auto services and expand its reach in the competitive Dubai market."),C()()()()()()()(),x(100,"section",53)(101,"div",20)(102,"div",2)(103,"div",54)(104,"div",55)(105,"div",56)(106,"a",57),ce(107,"img",58),x(108,"h1",59),D(109,"NEXT PROJECT"),C()()()()()(),ce(110,"div",60),C()()),2&r&&(se(20),Ie("href","",o.Url,"/project-details/autokoorosh#branding",Ee),se(3),Ie("href","",o.Url,"/project-details/autokoorosh#ui-ux",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-banner-min.png",Ee),se(25),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-branding.png",Ee),se(4),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-left.png",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-right.png",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/typography.png",Ee),se(17),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-desktop.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-desktop.ogg",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh_laptop.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh_laptop.ogg",Ee),se(17),Ie("href","",o.Url,"/project-details/vendetta",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/vendetta/vendetta-banner-min.png",Ee))},styles:[".bg-autokoorosh[_ngcontent-%COMP%]{background:#101621}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#fff}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}"]}),e})(),t1e=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Ft_baseUrl+"/assets",this.Url=Ft_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-vendetta"]],decls:96,vars:9,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://vendettagarages.com/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-beyou","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-beyou","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-beyou","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-beyou","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),D(9,"VENDETTA"),C(),x(10,"div",7)(11,"p"),D(12,"Vendetta Auto Garage Company exemplifies the seamless integration of tradition and innovation in the automotive industry."),C(),x(13,"p")(14,"a",8),D(15,"vendettagarages.com"),C()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),D(21,"Branding"),C()(),x(22,"h3",14)(23,"a",13),D(24,"UI/UX Design"),C()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),ce(29,"img",18),C()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),D(36,"Pixtar was entrusted with translating our passion for precision car painting into a captivating digital platform. We relied on Pixtar to not only capture the essence of our expertise but also to craft a seamless and engaging website that reflects our commitment to automotive excellence."),C()()()()()(),x(37,"section",24)(38,"div",20)(39,"div",2)(40,"div",25)(41,"div",22)(42,"h1",26),D(43,"Branding"),C(),x(44,"p"),D(45,"Pixtar undertook comprehensive branding work for Vendetta, starting with the creation of a distinctive logo that encapsulated the company's identity. Additionally, Pixtar designed eye-catching flyers, standees, and business cards that effectively conveyed Vendetta's professionalism and expertise in car painting services."),C()()()()()(),x(46,"section",27)(47,"div",1)(48,"div",2)(49,"div",17)(50,"div",28),ce(51,"img",29),C()(),x(52,"div",30)(53,"div",2)(54,"div",31),ce(55,"img",29),C(),x(56,"div",32)(57,"div",33),ce(58,"img",34),C()()()()()()(),x(59,"section",35)(60,"div",1)(61,"div",2)(62,"div",3)(63,"div",36),ce(64,"img",37),C()()()()(),x(65,"section",38)(66,"div",1)(67,"div",2)(68,"div",3)(69,"div",39)(70,"div",40)(71,"div",22)(72,"h1",41),D(73,"UI/UX Design"),C(),x(74,"p",42),D(75,"Pixtar developed a dynamic and user-friendly website for Vendetta Auto Garage Company. The website showcased Vendetta's services, including interior and exterior painting for all types of cars, with detailed descriptions and high-quality images. Integration of interactive features allowed customers to easily request quotes and schedule appointments."),C()()()()()()()(),x(76,"section",43)(77,"div",20)(78,"div",2)(79,"div",44)(80,"div",39)(81,"div",45)(82,"div",22)(83,"p",46),D(84,"Pixtar's collaboration with Vendetta Auto Garage Company resulted in a successful digital transformation. The website and branding materials not only enhanced Vendetta's online presence but also positioned them as a leader in car painting services. Through strategic web development and branding, Pixtar helped Vendetta attract new customers and drive business growth in the competitive automotive market."),C()()()()()()()(),x(85,"section",47)(86,"div",20)(87,"div",2)(88,"div",48)(89,"div",49)(90,"div",50)(91,"a",51),ce(92,"img",52),x(93,"h1",53),D(94,"NEXT PROJECT"),C()()()()()(),ce(95,"div",54),C()()),2&r&&(se(20),Ie("href","",o.Url,"/project-details/vendetta#branding",Ee),se(3),Ie("href","",o.Url,"/project-details/vendetta#ui-ux",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/vendetta/vendetta-banner-min.png",Ee),se(22),Ie("src","",o.baseUrl,"/images/projects/vendetta/vendetta-branding-min.png",Ee),se(4),Ie("src","",o.baseUrl,"/images/projects/vendetta/vendetta-left-min.png",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/vendetta/vendetta-right-min.png",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/vendetta/typography.png",Ee),se(27),Ie("href","",o.Url,"/project-details/spacex",Ee),se(1),Ie("src","",o.baseUrl,"/images/projects/spacex/spacex-left.png",Ee))},styles:[".bg-beyou[_ngcontent-%COMP%]{background:#444444}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#fff}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}"]}),e})(),n1e=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Ft_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Ft_baseUrl+"/assets",this.Url=Ft_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Li({type:t,selectors:[["app-spacex"]],decls:97,vars:7,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://spacexfitness.in","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-autokoorosh","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-autokoorosh","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-autokoorosh","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-autokoorosh","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],["href","#",1,"text-white","font-bold"],[1,"heading","text-white"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),D(9,"SPACEXFITNESS"),C(),x(10,"div",7)(11,"p"),D(12,"SpaceX Fitness embodies a fusion of cutting-edge fitness technology and expert coaching, propelling individuals to new heights of strength and vitality."),C(),x(13,"p")(14,"a",8),D(15,"spacexfitness.in"),C()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),D(21,"Branding"),C()(),x(22,"h3",14)(23,"a",13),D(24,"UI/UX Design"),C()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),ce(29,"img",18),C()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),D(36,"Pixtar was tasked with encapsulating the essence of our innovative approach to fitness into a digital platform. We entrusted Pixtar not only with capturing our brand's dynamic spirit but also with creating a seamless and engaging website that reflects our commitment to excellence in health and wellness."),C()()()()()(),x(37,"section",24)(38,"div",20)(39,"div",2)(40,"div",25)(41,"div",22)(42,"h1",26),D(43,"Branding"),C(),x(44,"p"),D(45,"In addition to website development, Pixtar undertook comprehensive branding work for SpaceX. This included creating a cohesive visual identity that aligned with their values and industry positioning. From logo design to color schemes and typography, every element was carefully crafted to reflect the brand's professionalism and expertise."),C()()()()()(),x(46,"section",27)(47,"div",1)(48,"div",2)(49,"div",17)(50,"div",28),ce(51,"img",29),C()(),x(52,"div",30)(53,"div",2)(54,"div",31),ce(55,"img",29),C(),x(56,"div",32)(57,"div",33),ce(58,"img",34),C()()()()()()(),x(59,"section",35)(60,"div",1)(61,"div",2)(62,"div",3)(63,"div",36),ce(64,"img",37),C()()()()(),x(65,"section",38)(66,"div",1)(67,"div",2)(68,"div",3)(69,"div",39)(70,"div",40)(71,"div",22)(72,"h1",41),D(73,"UI/UX Design"),C(),x(74,"p",42),D(75,"The design prioritized delivering an immersive browsing experience, seamlessly navigating users through the gym's facilities,and membership options. Every element was carefully curated to showcase the dynamic energy and innovative approach of SpaceX Fitness, ensuring visitors feel motivated and empowered to embark on their fitness journey."),C()()()(),x(76,"div",2),ce(77,"div",43),C()()()()(),x(78,"section",44)(79,"div",20)(80,"div",2)(81,"div",45)(82,"div",39)(83,"div",46)(84,"div",22)(85,"p",47),D(86,"Pixtar's partnership with SpaceX Fitness has yielded a digital platform that seamlessly merges technology with fitness expertise. This case study highlights Pixtar's adeptness in harmonizing design, development, and functionality, delivering a compelling digital experience for SpaceX Fitness' audience."),C()()()()()()()(),x(87,"section",48)(88,"div",20)(89,"div",2)(90,"div",49)(91,"div",50)(92,"div",51)(93,"a",52)(94,"h1",53),D(95,"NEXT PROJECT"),C()()()()()(),ce(96,"div",54),C()()),2&r&&(se(20),Ie("href","",o.Url,"/project-details/spacex#branding",Ee),se(3),Ie("href","",o.Url,"/project-details/spacex#ui-ux",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/spacex/spacex-banner-min.png",Ee),se(22),Ie("src","",o.baseUrl,"/images/projects/spacex/spacex-branding.png",Ee),se(4),Ie("src","",o.baseUrl,"/images/projects/spacex/glove.png",Ee),se(3),Ie("src","",o.baseUrl,"/images/projects/spacex/kattlebell.png",Ee),se(6),Ie("src","",o.baseUrl,"/images/projects/spacex/typography.png",Ee))},styles:[".bg-autokoorosh[_ngcontent-%COMP%]{background:#f3f1ee}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#000}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}"]}),e})();function i1e(e,t){if(1&e&&(x(0,"div",66)(1,"a",67),ce(2,"img",68),C()()),2&e){const n=t.$implicit;se(2),Xh("img-fluid ",n.class,""),lc("src",n.img,Ee)}}let r1e=(()=>{const t=class{constructor(i,r,o,s){this.router=i,this.pageservice=r,this.metaTagService=o,this.titleService=s,this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.isPlaying=!0,this.clientImgarray=[],this.filteredClients=[],this.isChangingRandom=!1,this.get_PageMeta(),this.baseUrl=Ft_baseUrl+"/assets"}ngOnInit(){var r={container:document.getElementById("lottie"),renderer:"svg",loop:!0,autoplay:!0,animationData:{v:"5.9.6",fr:30,ip:0,op:96,w:122,h:119,nm:"hand",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:-34.9,ix:10},p:{a:0,k:[67.1,111.5,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 3 Outlines",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:9.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20.363,s:[-8]},{i:{x:[.65],y:[1.156]},o:{x:[.333],y:[0]},t:30.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:42,s:[-1.8]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:60,s:[-.4]},{t:69,s:[0]}],ix:10},p:{a:0,k:[-2.981,.359,0],ix:2,l:2},a:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[15.024,91.188,0],to:[0,0,0],ti:[0,0,0]},{t:44,s:[15.024,91.188,0]}],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[3.903,-5.533],[3.056,-2.353],[6.543,2.313],[4.228,4.252],[.327,6.566],[-.109,2.842],[-.281,9.016],[.083,2.706],[-1.043,.386],[-.666,-2.038],[-.181,-1.13],[.156,-4.374],[-1.579,-.706],[-1.31,1],[-.442,.663],[-6.815,9.598],[-.455,.427],[-1.272,-1.478],[1.046,-1.327],[4.713,-6.619],[.196,-.327],[-1.1,-.992],[-1.181,.832],[-.345,.518],[-6.936,9.765],[-.29,.345],[-1.763,-.582],[-.03,-1.826],[.764,-.91],[6.934,-9.766],[.241,-.499],[-1.104,-.867],[-1.126,.839],[-.321,.495],[-5.124,7.179],[-.342,.391],[-1.712,-.819],[1.17,-2.201],[.133,-.179],[5.282,-7.492],[-1.55,-1.123],[-1.373,1.933],[-2.975,4.189],[-.217,.273],[-1.064,-.33],[-.164,-.992],[.618,-.721],[4.295,-6.063]],o:[[0,0],[-3.925,5.53],[-2.207,3.163],[-5.419,4.144],[-5.658,-1.985],[-4.757,-4.537],[-.132,-2.83],[.352,-9.013],[.084,-2.7],[-.047,-1.53],[2.052,-.622],[.282,1.109],[.785,4.306],[-.141,1.724],[1.431,.818],[.627,-.491],[6.837,-9.584],[.339,-.524],[1.477,-1.272],[1.103,1.28],[-4.699,6.627],[-.221,.311],[-.761,1.271],[1.062,.978],[.484,-.392],[6.95,-9.758],[.262,-.368],[1.202,-1.415],[1.726,.596],[-.023,1.188],[-6.946,9.76],[-.333,.444],[-.56,1.287],[1.107,.863],[.438,-.395],[5.133,-7.171],[.3,-.423],[1.273,-1.408],[2.2,1.171],[-.105,.197],[-5.348,7.451],[-1.34,1.9],[1.55,1.123],[2.98,-4.187],[.2,-.283],[.669,-.891],[.979,.23],[.17,.934],[-4.32,6.046],[0,0]],v:[[23.152,14.265],[23.152,14.265],[11.387,30.834],[3.446,39.158],[-14.469,42.324],[-29.49,32.847],[-37.41,15.555],[-37.109,7.033],[-36.085,-20.008],[-36.314,-28.124],[-34.842,-30.943],[-29.951,-28.395],[-29.245,-25.033],[-28.298,-11.975],[-25.898,-7.919],[-21.376,-8.219],[-19.764,-9.962],[.715,-38.734],[1.91,-40.165],[6.888,-39.794],[6.986,-35.305],[-7.133,-15.436],[-7.783,-14.492],[-7.199,-10.598],[-3.355,-10.348],[-2.105,-11.721],[18.725,-41.005],[19.531,-42.094],[24.437,-43.471],[27.362,-39.438],[26.146,-36.195],[5.327,-6.906],[4.464,-5.488],[5.387,-1.83],[9.168,-1.788],[10.311,-3.128],[25.697,-24.654],[26.645,-25.895],[31.676,-26.887],[33.542,-20.783],[33.185,-20.219],[17.314,2.245],[17.658,7.111],[22.458,5.811],[31.391,-6.755],[32.008,-7.593],[34.898,-8.527],[36.785,-6.509],[36.077,-3.893],[23.154,14.271]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-2.092,-1],[-5.851,1.244],[-2.89,2.122],[-2.836,4.038],[-8.223,11.534],[1.8,3.179],[2.203,.713],[-.482,.692],[3.481,3.721],[1.699,.527],[.484,.17],[1.139,3.155],[2.122,1.241],[3.015,-1.109],[1.758,-2.785],[.644,.543],[3.548,-4.034],[.13,-.169],[1.792,-2.514],[4.079,-5.747],[0,0],[.082,.492],[.844,3.567],[3.743,.857],[2.2,-2.689],[-.104,-2.042],[.639,-12.849],[-1.281,-4.26],[-5.078,-4.319],[-.195,-.238],[0,0]],o:[[2.036,1.113],[5.3,2.515],[3.508,-.744],[3.984,-2.911],[8.184,-11.562],[2.279,-2.855],[-1.124,-2.024],[.544,-.765],[3.017,-4.106],[-1.184,-1.328],[-.386,-.124],[1.837,-2.807],[-.767,-2.335],[-2.755,-1.652],[-3.194,1.082],[-.671,-.678],[-4.034,-3.548],[-.141,.16],[-1.912,2.423],[-4.089,5.741],[0,0],[-.08,-.81],[-.575,-3.63],[-.905,-3.835],[-3.335,-.972],[-1.354,1.532],[.755,12.89],[-.219,4.4],[1.914,6.386],[.221,.214],[0,0],[0,0]],v:[[-26.227,43.472],[-20.111,46.795],[-3.436,49.195],[6.271,44.847],[16.572,34.353],[41.182,-.292],[41.975,-10.279],[36.799,-14.538],[38.319,-16.68],[37.519,-30.18],[33.112,-33.014],[31.862,-33.451],[32.969,-42.919],[28.486,-48.471],[19.361,-49.329],[12.486,-42.977],[10.62,-44.85],[-3.107,-43.971],[-3.514,-43.477],[-8.939,-35.964],[-21.189,-18.731],[-22.033,-17.546],[-22.214,-19.346],[-24.014,-30.219],[-31.486,-37.094],[-40.613,-34.262],[-42.563,-28.686],[-43.555,9.895],[-42.488,22.887],[-31.775,39.287],[-31.152,39.965],[-26.227,43.465]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[44.024,50.688],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 4 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[4]},{t:17,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.591],y:[1.232]},o:{x:[.333],y:[0]},t:3.182,s:[64.512]},{t:17,s:[78.762]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[-46.004]},{t:17,s:[-45.754]}],ix:4}},a:{a:0,k:[3.602,10.311,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.05,.08],[-.397,.235],[-.245,-.372],[-.243,-2.031],[2.88,-3.875],[.273,0]],o:[[-.461,0],[0,-.17],[6.552,-9.387],[-.235,-.397],[.383,-.227],[1.001,1.784],[.576,4.793],[-.156,.224],[0,0]],v:[[-2.516,10.057],[-3.351,9.221],[-3.201,8.745],[-1.542,-8.689],[-1.249,-9.834],[-.128,-9.576],[1.757,-3.797],[-1.831,9.704],[-2.516,10.061]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.601,10.311],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"Layer 5 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[100]}],ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[0]}],ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.524],y:[1.943]},o:{x:[.333],y:[0]},t:0,s:[63.218]},{t:15,s:[81.718]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-46.437]},{t:15,s:[-45.687]}],ix:4}},a:{a:0,k:[3.592,13.05,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.719,5.523],[1.159,2.111],[-.394,.238],[-.245,-.379],[-.31,-2.601],[4.815,-6.892],[.273,0]],o:[[-.461,0],[0,-.17],[3.6,-5.154],[-.281,-2.392],[-.238,-.395],[.387,-.233],[1.281,2.285],[.55,4.109],[-.156,.224],[0,0]],v:[[-2.507,12.799],[-3.341,11.964],[-3.191,11.486],[1.147,-4.604],[-1.033,-11.421],[-.75,-12.566],[.383,-12.305],[2.792,-4.905],[-1.823,12.439],[-2.508,12.797]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.592,13.05],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 6 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:15.909,s:[3]},{t:28,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.706],y:[1.553]},o:{x:[.333],y:[0]},t:15.909,s:[30.436]},{t:28,s:[24.186]}],ix:3},y:{a:1,k:[{i:{x:[.652],y:[1.489]},o:{x:[.333],y:[0]},t:15.909,s:[-81.209]},{t:28,s:[-93.959]}],ix:4}},a:{a:0,k:[9.646,4.948,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.461],[-.075,.128],[-1.692,1.15],[-4.764,-.772],[.06,-.457],[.457,.06],[3.634,-2.451],[1.022,-1.522],[.295,0]],o:[[-.461,-.001],[0,-.148],[1.123,-1.71],[3.99,-2.716],[.457,.06],[-.06,.457],[-4.324,-.717],[-1.519,1.027],[-.151,.253],[0,0]],v:[[-8.561,4.693],[-9.395,3.855],[-9.279,3.435],[-5.016,-.898],[8.617,-3.926],[9.335,-2.989],[8.398,-2.27],[-3.995,.431],[-7.842,4.29],[-8.561,4.698]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.645,4.948],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"Layer 7 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:13.363,s:[0]},{t:26,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.624],y:[2.994]},o:{x:[.333],y:[0]},t:13.363,s:[30.021]},{t:26,s:[22.771]}],ix:3},y:{a:1,k:[{i:{x:[.624],y:[1.964]},o:{x:[.333],y:[0]},t:13.363,s:[-82.012]},{t:26,s:[-97.012]}],ix:4}},a:{a:0,k:[12.19,6.146,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.295,0],[0,.461],[-.076,.128],[-2.168,1.472],[-8.332,-1.099],[.06,-.457],[.457,.06],[4.573,-3.179],[1.34,-2]],o:[[-.461,-.001],[.001,-.149],[1.439,-2.19],[3.394,-2.379],[.457,.06],[-.06,.457],[-6.231,-.82],[-1.994,1.35],[-.151,.254]],v:[[-11.106,5.895],[-11.94,5.059],[-11.824,4.637],[-6.361,-.91],[11.161,-4.796],[11.88,-3.859],[10.943,-3.14],[-5.339,.413],[-10.387,5.486]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[12.19,6.146],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0}],markers:[]}};FU().loadAnimation(r),this.router.parseUrl(this.router.url).fragment||window.scroll({top:0,left:0,behavior:"smooth"}),this.clientImgarray.push({id:1,img:this.baseUrl+"/img/home/logos/dnour.svg",class:""},{id:2,img:this.baseUrl+"/img/home/logos/crystal.svg",class:""},{id:3,img:this.baseUrl+"/img/home/logos/miniaar.svg",class:""},{id:4,img:this.baseUrl+"/img/home/logos/bni.svg",class:""},{id:5,img:this.baseUrl+"/img/home/logos/angle.svg"},{id:6,img:this.baseUrl+"/img/home/logos/pakhis.svg",class:""},{id:7,img:this.baseUrl+"/img/home/logos/drminnie.svg",class:""},{id:8,img:this.baseUrl+"/img/home/logos/veddentta.svg",class:""},{id:9,img:this.baseUrl+"/img/home/logos/autokoorosh.svg",class:""},{id:10,img:this.baseUrl+"/img/home/logos/fractal.svg",class:""},{id:11,img:this.baseUrl+"/img/home/logos/corporate.svg",class:""},{id:12,img:this.baseUrl+"/img/home/logos/aetrio.svg",class:""},{id:13,img:this.baseUrl+"/img/home/logos/wrae.svg",class:""},{id:14,img:this.baseUrl+"/img/home/logos/beyou.svg",class:""},{id:15,img:this.baseUrl+"/img/home/logos/alchemative.svg",class:""},{id:16,img:this.baseUrl+"/img/home/logos/Asset 13.svg",class:""},{id:17,img:this.baseUrl+"/img/home/logos/caratcraft.svg",class:""},{id:18,img:this.baseUrl+"/img/home/logos/ep.svg",class:""},{id:19,img:this.baseUrl+"/img/home/logos/holidaymate.svg",class:""},{id:20,img:this.baseUrl+"/img/home/logos/j.avenue.svg",class:""},{id:21,img:this.baseUrl+"/img/home/logos/jwarashri.svg",class:""},{id:22,img:this.baseUrl+"/img/home/logos/maney-angel.svg",class:""},{id:23,img:this.baseUrl+"/img/home/logos/santosh-kotli.svg",class:""},{id:24,img:this.baseUrl+"/img/home/logos/solitaire-events.svg",class:""},{id:25,img:this.baseUrl+"/img/home/logos/spacex.svg",class:""},{id:26,img:this.baseUrl+"/img/home/logos/urban-excellence.svg",class:""},{id:27,img:this.baseUrl+"/img/home/logos/virtual-key.svg",class:""}),this.filteredClients=this.clientImgarray.slice(0,15),this.onHover()}onHover(){this.isChangingRandom||(this.isChangingRandom=!0,this.intervalId=setInterval(()=>{this.filterClients()},1e3))}filterClients(){this.filteredClients.forEach(c=>{c.class=""});let i=this.clientImgarray,r=[];for(var o=0;o<2;o++){var s=Math.floor(Math.random()*i.length);0==r.filter(d=>d.id==s).length&&r.push(i[s])}for(var a=0;a<r.length;a++)if(0==this.filteredClients.filter(d=>d.id==r[a].id).length){var l=Math.floor(Math.random()*this.filteredClients.length);this.filteredClients[l]=r[a],this.filteredClients[l].class="blur"}}get_PageMeta(){this.pageservice.getpageWithName({pageName:"about-us"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}navigateToLink(i){this.router.navigate([i])}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(cs),De(xd),De(hc),De(uc))},t.\u0275cmp=Li({type:t,selectors:[["app-services"]],decls:172,vars:11,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","textcolor2","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-flex","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","align-items-end","size90","textcolor2"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","text-white","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","text-white","size90"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"text-white"],[1,"featuredvideo","m80","bannerbgcolor"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"blocklist","section1"],[1,"fontsize12","text-white","semibold"],[1,"col-md-12"],["class","col custom-col mb-lg-5 mb-md-4 mb-4",4,"ngFor","ngForOf"],["id","services1","data-scroll-nav","0",1,"services","mtrem8","mbrem8"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","order-sm-1","order-1"],[1,"img-block"],["alt","",1,"w-100",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-5","col-lg-5","mx-auto","col-md-6","order-sm-2","order-2"],[1,"d-flex","flex-column","h-100","service-content"],[1,"fontsize12","semibold"],[1,"size32","mb-1"],[1,"size18"],[1,"size18","textcolor3","serwidth"],[1,"points"],[1,"fontsize12","mb-0"],[1,"wght600"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/branding",1,"cstbtn","cstbtn128",3,"click"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],["id","services2","data-scroll-nav","1",1,"services","mtrem8","mbrem8"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-5","col-lg-5","mx-auto","col-md-6","order-md-1","order-sm-2","order-2"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content","ps-md-0","ps-sm-auto","ps-auto"],[1,"size18","textcolor3"],["routerLink","/website",1,"cstbtn","cstbtn128",3,"click"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","offset-xl-1","offset-lg-1","order-md-2","order-sm-1","order-1"],[1,"mask"],["alt","",3,"src"],["id","services3","data-scroll-nav","2",1,"services","mtrem8","mbrem8"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content"],[1,"float-start","cwd243","cwd2433"],["routerLink","/ecommerce",1,"cstbtn","cstbtn128",3,"click"],["id","services4","data-scroll-nav","3",1,"services","mtrem8","mbrem8"],[1,"size32"],[1,"float-start","cwd243","cwd2434"],["routerLink","/graphics",1,"cstbtn","cstbtn128",3,"click"],[1,"col","custom-col","mb-lg-5","mb-md-4","mb-4"],["href","javascript:void(0)"],["alt","","data-aos-duration","2000","data-aos-delay","100",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1",9),D(10,"We don't do "),C(),x(11,"h1",10),D(12,"We don't do"),C(),ce(13,"div",11),C(),x(14,"h1",12),D(15,"one size fits all"),C(),x(16,"h1",13),D(17,"one size fits all"),C()()()(),x(18,"div",14)(19,"ul",15)(20,"li")(21,"a",16),ce(22,"img",17),C()(),x(23,"li")(24,"a",18),ce(25,"img",19),C()(),x(26,"li")(27,"a",20),ce(28,"img",17),C()(),x(29,"li")(30,"a",21),ce(31,"img",22),C()()(),x(32,"div",23)(33,"p",24),D(34,"Our services are tailored to "),C(),x(35,"p",24),D(36,"the needs of your brand."),C()()()()()()(),x(37,"section",25)(38,"div",1)(39,"div",26)(40,"div",27)(41,"h6",28),D(42,"OUR CLIENTS INCLUDE\u2026"),C(),x(43,"div",2),gs(44),x(45,"div",29)(46,"div",2),st(47,i1e,3,4,"div",30),C()(),vs(),C()()()()(),x(48,"section",31)(49,"div",1)(50,"div",2)(51,"div",3)(52,"div",2)(53,"div",32)(54,"div",33),ce(55,"img",34),C()(),x(56,"div",35)(57,"div",36)(58,"div")(59,"h6",37),D(60,"Our Services"),C(),x(61,"h1",38),D(62,"Premium Branding"),C(),x(63,"p",39),D(64,"Your Brand, Your Story, Perfectly Told"),C()(),x(65,"p",40),D(66,"Your brand is more than a logo\u2014it\u2019s a promise. With designs built on the timeless principles of the golden ratio, we help businesses create a story that feels both balanced and bold."),C(),x(67,"div",41)(68,"h5",42)(69,"span",43),D(70," DESIGNING AND CONCEPTUALISING"),C(),D(71,": Custom Logo | Brand Guidelines | Brand Aesthetics | Luxury Packaging"),C()(),x(72,"div",44)(73,"div",45)(74,"p")(75,"a",46),dt("click",function(){return o.navigateToLink("branding")}),x(76,"span",47),D(77,"Explore Branding Packages"),C(),x(78,"span",48),ce(79,"i",49),C()()()()()()()()()()()(),x(80,"section",50)(81,"div",1)(82,"div",2)(83,"div",3)(84,"div",2)(85,"div",51)(86,"div",52)(87,"div")(88,"h1",38),D(89,"Highly-Impactful Website"),C(),x(90,"p",39),D(91,"Designs That Perform On Every Screen"),C()(),x(92,"p",53),D(93,"We don\u2019t build websites; we create experiences. Our custom-built websites are fast, functional, and perfectly aligned with your audience and business goals \u2014because we don\u2019t believe in templates."),C(),x(94,"div",41)(95,"h5",42)(96,"span",43),D(97," DESIGN AND DEVELOPMENT"),C(),D(98,": Static Website | Dynamic Website | Api Integration"),C()(),x(99,"div",44)(100,"div",45)(101,"p")(102,"a",54),dt("click",function(){return o.navigateToLink("website")}),x(103,"span",47),D(104,"Explore Branding Services"),C(),x(105,"span",48),ce(106,"i",49),C()()()()()()(),x(107,"div",55)(108,"div",33),ce(109,"img",34),C()()()()()(),x(110,"div",56),ce(111,"img",57),C()(),x(112,"section",58)(113,"div",1)(114,"div",2)(115,"div",3)(116,"div",2)(117,"div",32)(118,"div",33),ce(119,"img",34),C()(),x(120,"div",35)(121,"div",59)(122,"div")(123,"h1",38),D(124,"Highly-Converting Ecommerce Website"),C(),x(125,"p",39),D(126,"Sell Globally With Custom Ecommerce Solutions"),C()(),x(127,"p",53),D(128,"A beautiful online store isn\u2019t enough\u2014you need one that converts. Whether it\u2019s Magento, Shopify, or Node.js, we create custom eCommerce platforms that perform, scale, and grow with you."),C(),x(129,"div",41)(130,"h5",42)(131,"span",43),D(132,"DESIGNING AND DEVELOPMENT"),C(),D(133,": Shopify | Custom Magento 2.0+ | Custom eCommerce website on NodeJS & Angular"),C()(),x(134,"div",44)(135,"div",60)(136,"p")(137,"a",61),dt("click",function(){return o.navigateToLink("ecommerce")}),x(138,"span",47),D(139,"Explore E-Commerce Solutions"),C(),x(140,"span",48),ce(141,"i",49),C()()()()()()()()()()()(),x(142,"section",62)(143,"div",1)(144,"div",2)(145,"div",3)(146,"div",2)(147,"div",51)(148,"div",52)(149,"div")(150,"h1",63),D(151,"High-End Graphic Design"),C()(),x(152,"p",53),D(153,"Need fresh designs every month? Our subscription plan gives you creative power on demand\u2014because good design should always be within reach."),C(),x(154,"div",41)(155,"h5",42)(156,"span",43),D(157,"DESIGNING"),C(),D(158," : Catalog | Company Profile | Pitch-deck | Social Media Theme | Event Theme | Marketing Materials"),C()(),x(159,"div",44)(160,"div",64)(161,"p")(162,"a",65),dt("click",function(){return o.navigateToLink("graphics")}),x(163,"span",47),D(164,"Explore Packages"),C(),x(165,"span",48),ce(166,"i",49),C()()()()()()(),x(167,"div",55)(168,"div",33),ce(169,"img",34),C()()()()()()(),ce(170,"app-testimonial")(171,"app-faq-component")),2&r&&(se(4),Ie("src","",o.baseUrl,"/img/three-d-objects/services.png",Ee),se(18),Ie("src","",o.baseUrl,"/img/home/social-media/instagram-white.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/facebook-white.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/linkedin-white.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/whatsapp-white.svg",Ee),se(16),Qe("ngForOf",o.filteredClients),se(8),Ie("src","",o.baseUrl,"/img/services/branding.jpg",Ee),se(54),Ie("src","",o.baseUrl,"/img/services/impactfull.jpg",Ee),se(2),Ie("src","",o.baseUrl,"/img/home/mask2.svg",Ee),se(8),Ie("src","",o.baseUrl,"/img/services/ecommerce.jpg",Ee),se(50),Ie("src","",o.baseUrl,"/img/services/graphic.jpg",Ee))},dependencies:[ca,_d,Rv,Og],styles:['@media (max-width: 991px){section[_ngcontent-%COMP%]{padding-bottom:0}}.bannerbgcolor[_ngcontent-%COMP%], .service-banner[_ngcontent-%COMP%]{background-color:#1d1d1f}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}.img-globe[_ngcontent-%COMP%]{position:absolute;right:0;top:30%;width:500px;margin-right:30rem}@media (max-width: 1920px){.img-globe[_ngcontent-%COMP%]{margin-right:15rem;width:450px;top:26%}}@media (max-width: 1440px){.img-globe[_ngcontent-%COMP%]{width:300px;margin-right:5rem;top:28%}}@media (max-width: 1366px){.img-globe[_ngcontent-%COMP%]{right:0;margin-right:15rem}}@media (max-width: 1199px){.img-globe[_ngcontent-%COMP%]{right:0;width:230px;top:30%}}@media (max-width: 991px){.img-globe[_ngcontent-%COMP%]{width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{width:592px;padding:50px 10px;justify-content:space-around}@media (max-width: 1399px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{width:100%;padding:0}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:20px 0}}@media (max-width: 1199px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:10px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:0}}@media (max-width: 767px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:20px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1d1d1f;margin-top:0}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .fontsize18.textcolor3[_ngcontent-%COMP%]{font-weight:500}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .fontsize18.textcolor3[_ngcontent-%COMP%]{margin-top:15px 0px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .size18.textcolor3[_ngcontent-%COMP%]{margin-top:15px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1.size32[_ngcontent-%COMP%]{font-weight:500}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p.fontsize12.semibold[_ngcontent-%COMP%]{margin-bottom:15px}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d1d1f;line-height:29px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:24px}}@media (max-width: 1199px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin-bottom:5rem}@media (max-width: 1399px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin-bottom:2rem}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:15px 0}}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]   .fontsize12[_ngcontent-%COMP%]{letter-spacing:0;font-size:11px!important}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{margin-top:20px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .serwidth[_ngcontent-%COMP%]{width:499px;margin:30px 0}@media (max-width: 1399px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .serwidth[_ngcontent-%COMP%]{width:100%;margin:20px 0}}.services[_ngcontent-%COMP%]   .img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 90px 62px -42px #00000040}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:30px}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}.banner-left-content[_ngcontent-%COMP%]{display:flex;width:393px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.down-arrow[_ngcontent-%COMP%]{bottom:13%}}@media (max-width: 767px){.down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.custom-col[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;text-align:center}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:15px;transition:all .5s;cursor:default!important}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:gray}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:57px;cursor:default!important}@media (max-width: 1199px){.custom-col[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}}@media (max-width: 768px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}.cwd243[_ngcontent-%COMP%]{position:relative;width:243px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{outline:none;color:#1d1d1f!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#1d1d1f!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#6e6e73;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:52px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 1024px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}}.cwd2433[_ngcontent-%COMP%]{width:270px}.cwd2434[_ngcontent-%COMP%]{width:170px}#services1[_ngcontent-%COMP%], #services2[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:1}.mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;width:30%;bottom:10rem}@media (max-width: 991px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:12rem}}@media (max-width: 767px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}}@media (max-width: 600px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:20rem;width:75%}}@media (max-width: 480px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.backeeedf0[_ngcontent-%COMP%]{overflow:visible!important}.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;left:auto;width:21%;bottom:0}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:12rem}}@media (max-width: 767px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}}@media (max-width: 600px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:20rem;width:75%}}@media (max-width: 480px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}.blur[_ngcontent-%COMP%]{filter:blur(5px);-webkit-filter:blur(5px);-moz-filter:blur(5px);-o-filter:blur(5px);-ms-filter:blur(5px)}']}),e})(),Sg=(()=>{const t=class{constructor(i){this.http=i,this.stripePayments=r=>this.http.post(Ft_backendUrl+"/api/payment/stripe-payments",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.savePaymentSuccess=r=>this.http.post(Ft_backendUrl+"/api/payment/save-stripe-payments",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.stripeSubscribe=r=>this.http.post(Ft_backendUrl+"/api/payment/stripe-subscribe",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.stripeSubscribeCancel=r=>this.http.post(Ft_backendUrl+"/api/payment/subscribe_cancel",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.stripeSubscribePause=r=>this.http.post(Ft_backendUrl+"/api/payment/subscribe_pause",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s))),this.stripeSubscribeResume=r=>this.http.post(Ft_backendUrl+"/api/payment/subscribe_resume",r,{observe:"response"}).pipe((0,$r.K)(s=>(0,Kr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Lt(fc))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const o1e=["myVideo"];function s1e(e,t){if(1&e){const n=kr();x(0,"div",114)(1,"div",152)(2,"a",153)(3,"img",154),dt("mouseenter",function(){const o=zn(n).index;return Vn(ht().onMouseEnter(o))})("mouseleave",function(){return zn(n),Vn(ht().onMouseLeave())}),C(),x(4,"div",155)(5,"p",156),D(6),C(),x(7,"p",157),ce(8,"span",158),C()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=ht();se(2),lc("href",n.link,Ee),se(1),Xh("galleryimg",i,""),cc("src","",r.imagepath,"",n.image,"",Ee),se(3),aa(n.name),se(2),Qe("innerHTML",n.desc,Nc)}}function a1e(e,t){if(1&e&&(x(0,"a",160),ce(1,"img",161),x(2,"div",155)(3,"p",156),D(4),C(),x(5,"p",157),ce(6,"span",158),C()()()),2&e){const n=ht().$implicit,i=ht();lc("href",n.link,Ee),se(1),cc("src","",i.imagepath,"",n.project_images[0],"",Ee),se(3),aa(n.name),se(2),Qe("innerHTML",n.desc,Nc)}}function l1e(e,t){if(1&e&&(gs(0),st(1,a1e,7,5,"ng-template",159),vs()),2&e){const n=t.$implicit,i=t.index;se(1),Qe("id",n+i)}}function c1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/dnour.svg",Ee)}}function d1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/crystal.svg",Ee)}}function h1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/miniaar.svg",Ee)}}function u1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/bni.svg",Ee)}}function p1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/angle.svg",Ee)}}function f1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/pakhis.svg",Ee)}}function m1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/drminnie.svg",Ee)}}function g1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/veddentta.svg",Ee)}}function v1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",Ee)}}function y1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/fractal.svg",Ee)}}function b1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/aetrio.svg",Ee)}}function _1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/wrae.svg",Ee)}}function x1e(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/beyou.svg",Ee)}}function w1e(e,t){1&e&&(x(0,"div",175)(1,"div"),D(2," Name is required. "),C()())}function C1e(e,t){if(1&e&&(x(0,"div",175)(1,"div"),D(2),C()()),2&e){const n=ht(2);se(2),Do(" ",n.hasEmailError("email","required")," ")}}function M1e(e,t){if(1&e){const n=kr();x(0,"div",128)(1,"h5",165),D(2),C(),x(3,"button",130),dt("click",function(){return Vn(zn(n).$implicit.dismiss("Cross click"))}),x(4,"span",131),D(5," \xd7 "),C()()(),x(6,"div",132)(7,"div",166)(8,"div",1)(9,"div",2)(10,"div",167)(11,"div",168)(12,"form",169),dt("ngSubmit",function(){return zn(n),Vn(ht().submitPayment())}),x(13,"div",170)(14,"div",135),ce(15,"input",171),x(16,"label",137),D(17,"What's your name?"),C(),st(18,w1e,3,0,"div",172),C(),x(19,"div",135),ce(20,"input",173),x(21,"label",137),D(22,"What\u2019s your e-mail?"),C(),st(23,C1e,3,1,"div",172),C(),x(24,"div",144)(25,"div",145),ce(26,"input",174),C(),x(27,"div",147)(28,"button",148),dt("click",function(){return zn(n),Vn(ht().closePopUp())}),D(29,"Cancel"),C()()()()()()()()()()()}if(2&e){const n=ht();se(2),Do(" Complete Your Payment - ",n.paymentData.name," "),se(10),Qe("formGroup",n.paymentForm),se(6),Qe("ngIf",n.submitted&&n.hasError("name","required")),se(5),Qe("ngIf",n.submitted&&n.hasEmailError("email","required"))}}function P1e(e,t){1&e&&(x(0,"div",176),D(1," Email is required. "),C())}function O1e(e,t){1&e&&(x(0,"div",176),D(1," R-Email is required. "),C())}function S1e(e,t){if(1&e&&(x(0,"div",177),D(1),C()),2&e){const n=ht();se(1),Do(" ",n.successMessage," ")}}function E1e(e,t){if(1&e&&(x(0,"div",178),D(1),C()),2&e){const n=ht();se(1),Do(" ",n.errorMessage," ")}}function D1e(e,t){1&e&&(x(0,"div",179),D(1," Sending your message, please wait... "),C())}const A1e=function(e){return{width:e}};let T1e=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10)}constructor(i,r,o,s,a,l,c,d,h,p,g,v,y){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=d,this.http=h,this.projectservice=p,this.modalService=g,this.activeModal=v,this.payementservice=y,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.formData={name:"",email:"",contact:"",rname:"",remail:"",rcontact:""},this.successMessage="",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,this.hasError=(b,P)=>this.paymentForm.controls[b].hasError(P),this.hasEmailError=(b,P)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(P),this.tabTitle="Try with us",this.baseUrl=Ft_baseUrl+"/assets",this.imagepath=Ft_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",pc.required],email:["",pc.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===jl.ESC?"by pressing ESC":i===jl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}getStripPayemts(i,r,o){this.paymentData={name:i,amount:r},this.modalReference=this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(a=>{this.closeResult=`Closed with: ${a}`},a=>{this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Ft_baseUrl,this.payementservice.stripePayments(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(i.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}changeTabTitle(i){this.tabTitle=i}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}openModal(){const i=document.getElementById("contactModal");this.renderer.addClass(i,"show"),this.renderer.setStyle(i,"display","block"),this.renderer.setStyle(i,"backgroundColor","rgba(0,0,0,0.5)"),document.body.classList.add("modal-open")}closeModal(){const i=document.getElementById("contactModal");this.renderer.removeClass(i,"show"),this.renderer.setStyle(i,"display","none"),document.body.classList.remove("modal-open")}onSubmit(i){this.isSubmitting||(this.isSubmitting=!0,this.isLoading=!0,this.formData.email&&this.formData.remail?this.projectservice.sendContactForm(this.formData).subscribe(r=>{console.log("Email sent successfully",r),this.successMessage="Your message has been sent successfully!",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,i.reset(),setTimeout(()=>{this.successMessage="",this.closeModal()},5e3)},r=>{console.error("Error sending email",r),this.errorMessage="Failed to send your message. Please try again later.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},5e3)}):(this.errorMessage="Please fill in all required fields.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},3e3)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Vs),De(ud),De(Mg),De(xd),De(hc),De(uc),De(kv),De(ug),De(fc),De(Pg),De(Cg),De(up),De(Sg))},t.\u0275cmp=Li({type:t,selectors:[["app-brading"]],viewQuery:function(r,o){if(1&r&&$h(o1e,5),2&r){let s;co(s=ho())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&dt("fullscreenchange",function(a){return o.onFullscreenChange(a)},0,Ym)("scroll",function(a){return o.onScroll(a)},!1,uf)},decls:417,vars:31,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"container-fluid"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand","mrem55"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"textcolor2"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","mt-md-5","mt-sm-4","mt-4"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","backeeedf0"],[1,"logos"],[1,"fontsize12","mb-0","semibold"],["carouselSlide",""],[1,"section","packages","pt-0","backeeedf0"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section","mbrem5"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-lg-11","col-md-10","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-xxl-5","col-xl-5","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1","pulse"],[1,"circle2"],[1,"size16"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"size16","textcolor3"],[1,"d-block"],[1,"box"],[1,"cstbtn",3,"click"],[1,"col-xxl-7","col-xl-7","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","shadow",2,"max-width","600px"],[1,"text-start","py-3","weight500","size53"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active","weight500",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link","weight500",3,"click"],["alt","",3,"src"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link","weight500",3,"click"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-6"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-center","border-0","p-0","mb-2"],[1,"fa","fa-check","me-2"],[1,"cstprng-table-cta","position-relative","mtrem3","started"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-underline"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],["style","z-index: 0;"],["payments",""],["id","contactModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3",3,"ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autocomplete","off","placeholder","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput",1,"mt-0"],["type","email","name","email","autocomplete","off","id","email","placeholder","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","contact","autocomplete","off","id","contact","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","rname","name","rname","autocomplete","off","placeholder","R-name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","remail","autocomplete","off","id","remail","placeholder","R-email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rcontact","autocomplete","off","id","rcontact","placeholder","R-Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Submit",1,"submit",3,"disabled"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","alert alert-info mt-3","role","alert",4,"ngIf"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["carouselSlide","",3,"id"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],["id","modal-basic-title",1,"modal-title"],["id","content"],[1,"col-md-12"],[1,""],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"error"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],["role","alert",1,"alert","alert-info","mt-3"]],template:function(r,o){if(1&r){const s=kr();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),D(9,"Build a "),x(10,"span",9),D(11,"Brand "),C()(),x(12,"h1",8),D(13,"that feels just right."),C()()()(),x(14,"div",10)(15,"ul",11)(16,"li")(17,"a",12),ce(18,"img",13),C()(),x(19,"li")(20,"a",14),ce(21,"img",15),C()(),x(22,"li")(23,"a",16),ce(24,"img",13),C()(),x(25,"li")(26,"a",17),ce(27,"img",18),C()()(),x(28,"div",19)(29,"p"),D(30,"Crafted with the precision of "),C(),x(31,"p"),D(32,"the golden ratio and originality"),C()()()()(),x(33,"div",20)(34,"p")(35,"a",21)(36,"span",22),D(37," Know About Branding"),C(),x(38,"span",23),ce(39,"i",24),C()()()()()(),ce(40,"div",25),x(41,"section",26)(42,"div",27)(43,"div",2)(44,"div",28)(45,"div",29)(46,"video",30,31),dt("click",function(){return o.playInFullscreenWithAudio()}),ce(48,"source",32)(49,"source",33),D(50," Your browser does not support the video tag. "),C()()()()()(),x(51,"section",34)(52,"div",1)(53,"div",2)(54,"div",35)(55,"div",36)(56,"h2",37)(57,"span",38),D(58," Your brand isn\u2019t just a"),C(),x(59,"span",39),D(60," Logo"),C(),D(61,". "),x(62,"span",40),D(63,"It\u2019s how the world sees you. At "),C(),x(64,"span",38),D(65," Pixtar"),C(),D(66,", "),x(67,"span",40),D(68," we blend art with strategy to create bespoke branding solutions "),C(),D(69," that "),x(70,"span",38),D(71,"make your story unforgettable."),C()()()()()()(),x(72,"section",41)(73,"div",42)(74,"div",2)(75,"div",35)(76,"div",43)(77,"h1",44),ce(78,"div",45),D(79," Recent Works "),C()()(),x(80,"div",35)(81,"div",2),st(82,s1e,9,8,"div",46),C()()()(),x(83,"div",47)(84,"div",48)(85,"div",43)(86,"h1",44),ce(87,"div",45),D(88," Recent Works "),C()()(),x(89,"owl-carousel-o",49),st(90,l1e,2,1,"ng-container",50),C()(),x(91,"div",51)(92,"div",2)(93,"div",52)(94,"div",53)(95,"div",54)(96,"div",55)(97,"p")(98,"a",56)(99,"span",57),D(100,"Book A Consultation"),C(),x(101,"span",23),ce(102,"i",24),C()()()()()()()()()(),x(103,"section",58)(104,"div",1)(105,"div",2)(106,"div",35)(107,"div",59)(108,"p",60)(109,"span",61),D(110,"Why Choose Pixtar?"),C()(),x(111,"div",62)(112,"div",2)(113,"div",63)(114,"div",64),ce(115,"img",65),x(116,"p",66),D(117,"Crafted With The Golden Ratio"),C(),x(118,"p",67),D(119,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),C()()(),x(120,"div",68)(121,"div",64),ce(122,"img",65),x(123,"p",66),D(124,"Crafted With The Golden Ratio"),C(),x(125,"p",67),D(126,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),C()()(),x(127,"div",63)(128,"div",64),ce(129,"img",65),x(130,"p",66),D(131,"Crafted With The Golden Ratio"),C(),x(132,"p",67),D(133,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),C()()()()()()()()()(),x(134,"section",69)(135,"div",1)(136,"div",2)(137,"div",35)(138,"div",70)(139,"h6",71),D(140,"Our clients include..."),C(),x(141,"owl-carousel-o",49),gs(142),st(143,c1e,3,1,"ng-template",72),st(144,d1e,3,1,"ng-template",72),st(145,h1e,3,1,"ng-template",72),st(146,u1e,3,1,"ng-template",72),st(147,p1e,3,1,"ng-template",72),st(148,f1e,3,1,"ng-template",72),st(149,m1e,3,1,"ng-template",72),st(150,g1e,3,1,"ng-template",72),st(151,v1e,3,1,"ng-template",72),st(152,y1e,3,1,"ng-template",72),st(153,b1e,3,1,"ng-template",72),st(154,_1e,3,1,"ng-template",72),st(155,x1e,3,1,"ng-template",72),vs(),C()()()()()(),x(156,"section",73)(157,"div",1)(158,"div",2)(159,"div",74)(160,"div",75)(161,"h2",76)(162,"span",61),D(163,"What\u2019s Included in Our Branding Packages?"),C()(),x(164,"p",77),D(165,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),C()()(),x(166,"div",78)(167,"div",79)(168,"div",80)(169,"div",81)(170,"div",82)(171,"div",83)(172,"div",84)(173,"div",85),ce(174,"div",86)(175,"div",87),C(),x(176,"div",22)(177,"p",88),D(178,"Slots available"),C()()()(),x(179,"h1",89),D(180,"Join "),C(),x(181,"h1",90),D(182,"Pixtar"),C(),x(183,"div",91)(184,"h4",92),D(185,"Book a 15-min intro Call"),C(),x(186,"p",93),D(187,"Learn more about how Pixtar "),x(188,"span",94),D(189," works and how it can help you."),C()()(),x(190,"div",95)(191,"h4",92),D(192,"Refer a friend & earn"),C(),x(193,"p",93),D(194,"Earn 5% monthly recurring "),x(195,"span",94),D(196," commission for each referral. "),C(),x(197,"a",96),dt("click",function(){return o.openModal()}),x(198,"span",22),D(199," Get Started"),C(),x(200,"span",23),ce(201,"i",24),C()()()()()()(),x(202,"div",97)(203,"div",98)(204,"h2",99),D(205),C(),x(206,"nav")(207,"div",100)(208,"button",101),dt("click",function(){return o.changeTabTitle("Try with us")}),D(209," Explorer "),C(),x(210,"button",102),dt("click",function(){return o.changeTabTitle("Most Suitable")}),ce(211,"img",103),D(212," Navigator "),C(),x(213,"button",104),dt("click",function(){return o.changeTabTitle("Create a Brand")}),D(214," Pioneer "),C()()(),x(215,"div",105)(216,"div",106)(217,"div",107)(218,"div",108)(219,"h4",109),D(220,"AED 7,995"),C(),x(221,"h5",110),D(222,"Perfect for startups."),C()(),ce(223,"div",111),x(224,"div",112)(225,"h5",113),D(226,"What\u2019s included"),C(),x(227,"div",2)(228,"div",114)(229,"ul",115)(230,"li",116),ce(231,"i",117),D(232,"Logo design (3 Options) "),C(),x(233,"li",116),ce(234,"i",117),D(235,"Business card "),C(),x(236,"li",116),ce(237,"i",117),D(238,"Letterhead and Envelop "),C()()(),x(239,"div",114)(240,"ul",115)(241,"li",116),ce(242,"i",117),D(243,"1 Revisions (On shortlisted) "),C(),x(244,"li",116),ce(245,"i",117),D(246,"2 Color options "),C(),x(247,"li",116),ce(248,"i",117),D(249,"13 Days Delivery "),C()()()()(),x(250,"div",118)(251,"div",20)(252,"p")(253,"a",96),dt("click",function(){zn(s);const l=vo(369);return Vn(o.getStripPayemts("Explorer",7995,l))}),x(254,"span",22),D(255," Get Started"),C(),x(256,"span",23),ce(257,"i",24),C()()()(),x(258,"p",119),D(259,"Or "),x(260,"a",120),D(261,"book a call"),C()()()()(),x(262,"div",121)(263,"div",107)(264,"div",108)(265,"h4",109),D(266,"AED 13,995"),C(),x(267,"h5",110),D(268,"A full brand identity suite."),C()(),ce(269,"div",111),x(270,"div",112)(271,"h5",113),D(272,"What\u2019s included"),C(),x(273,"div",2)(274,"div",114)(275,"ul",115)(276,"li",116),ce(277,"i",117),D(278,"Logo design (3 Options) "),C(),x(279,"li",116),ce(280,"i",117),D(281,"Business card "),C(),x(282,"li",116),ce(283,"i",117),D(284,"Letterhead and Envelop "),C(),x(285,"li",116),ce(286,"i",117),D(287,"Brand Guidelines "),C()()(),x(288,"div",114)(289,"ul",115)(290,"li",116),ce(291,"i",117),D(292,"Packing Design (1 Product) "),C(),x(293,"li",116),ce(294,"i",117),D(295,"2 Revisions (On shortlisted) "),C(),x(296,"li",116),ce(297,"i",117),D(298,"5 Color options "),C(),x(299,"li",116),ce(300,"i",117),D(301,"10 Days Delivery "),C()()()()(),x(302,"div",118)(303,"div",20)(304,"p")(305,"a",96),dt("click",function(){zn(s);const l=vo(369);return Vn(o.getStripPayemts("Navigator",13995,l))}),x(306,"span",22),D(307," Get Started"),C(),x(308,"span",23),ce(309,"i",24),C()()()(),x(310,"p",119),D(311,"Or "),x(312,"a",120),D(313,"book a call"),C()()()()(),x(314,"div",122)(315,"div",107)(316,"div",108)(317,"h4",109),D(318,"AED 48,995"),C(),x(319,"h5",110),D(320,"The ultimate package with unlimited requests."),C()(),ce(321,"div",111),x(322,"div",112)(323,"h5",113),D(324,"What\u2019s included"),C(),x(325,"div",2)(326,"div",114)(327,"ul",115)(328,"li",116),ce(329,"i",117),D(330,"Logo design (Unlimited) "),C(),x(331,"li",116),ce(332,"i",117),D(333,"Business card "),C(),x(334,"li",116),ce(335,"i",117),D(336,"Letterhead and Envelop "),C(),x(337,"li",116),ce(338,"i",117),D(339,"Detailed Brand Guidelines "),C()()(),x(340,"div",114)(341,"ul",115)(342,"li",116),ce(343,"i",117),D(344,"Packing Design (5 Product) "),C(),x(345,"li",116),ce(346,"i",117),D(347,"Unlimited Revisions (Shortlisted) "),C(),x(348,"li",116),ce(349,"i",117),D(350,"Unlimited Color options "),C(),x(351,"li",116),ce(352,"i",117),D(353,"20 Days Delivery "),C()()()()(),x(354,"div",118)(355,"div",20)(356,"p")(357,"a",96),dt("click",function(){zn(s);const l=vo(369);return Vn(o.getStripPayemts("Pioneer",48995,l))}),x(358,"span",22),D(359," Get Started"),C(),x(360,"span",23),ce(361,"i",24),C()()()(),x(362,"p",119),D(363,"Or "),x(364,"a",120),D(365,"book a call"),C()()()()()()()()()()()()(),ce(366,"app-testimonial")(367,"app-faq-component"),st(368,M1e,30,4,"ng-template",123,124,Fc),x(370,"div",125)(371,"div",126)(372,"div",127)(373,"div",128)(374,"h5",129),D(375,"Refer a friend & earn"),C(),x(376,"button",130),dt("click",function(){return o.closeModal()}),x(377,"span",131),D(378," \xd7 "),C()()(),x(379,"div",132)(380,"form",133,134),dt("ngSubmit",function(){zn(s);const l=vo(381);return Vn(o.onSubmit(l))}),x(382,"div",135)(383,"input",136),dt("ngModelChange",function(l){return o.formData.name=l}),C(),x(384,"label",137),D(385,"Name"),C()(),x(386,"div",135)(387,"input",138),dt("ngModelChange",function(l){return o.formData.email=l}),C(),x(388,"label",137),D(389,"Email"),C(),st(390,P1e,2,0,"div",139),C(),x(391,"div",135)(392,"input",140),dt("ngModelChange",function(l){return o.formData.contact=l}),C(),x(393,"label",137),D(394,"Contact"),C()(),x(395,"div",135)(396,"input",141),dt("ngModelChange",function(l){return o.formData.rname=l}),C(),x(397,"label",137),D(398,"Referrer-Name"),C()(),x(399,"div",135)(400,"input",142),dt("ngModelChange",function(l){return o.formData.remail=l}),C(),x(401,"label",137),D(402,"Referrer-Email"),C(),st(403,O1e,2,0,"div",139),C(),x(404,"div",135)(405,"input",143),dt("ngModelChange",function(l){return o.formData.rcontact=l}),C(),x(406,"label",137),D(407,"Referrer-Contact"),C()(),x(408,"div",144)(409,"div",145),ce(410,"input",146),C(),x(411,"div",147)(412,"button",148),dt("click",function(){return o.closeModal()}),D(413,"Cancel"),C()()()(),st(414,S1e,2,1,"div",149),st(415,E1e,2,1,"div",150),st(416,D1e,2,0,"div",151),C()()()()}if(2&r){const s=vo(381);se(4),Ie("src","",o.baseUrl,"/img/three-d-objects/branding.png",Ee),se(14),Ie("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/whatsapp.svg",Ee),se(17),Qe("ngStyle",Ea(29,A1e,o.sectionWidth+"%")),se(4),Ie("src","",o.baseUrl,"/what is brandng pixtar 2.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/what is brandng pixtar 2.mp4",Ee),se(33),Qe("ngForOf",o.allprojects),se(7),Qe("options",o.recentoptions),se(1),Qe("ngForOf",o.allprojects),se(25),Ie("src","",o.baseUrl,"/img/home/art-icons/craft.svg",Ee),se(7),Ie("src","",o.baseUrl,"/img/home/art-icons/solution.svg",Ee),se(7),Ie("src","",o.baseUrl,"/img/home/art-icons/beyond.svg",Ee),se(12),Qe("options",o.clientslider),se(64),aa(o.tabTitle),se(6),Ie("src","",o.baseUrl,"/img/services/shock.png",Ee),se(172),Qe("ngModel",o.formData.name),se(4),Qe("ngModel",o.formData.email),se(3),Qe("ngIf",!o.formData.email&&s.submitted),se(2),Qe("ngModel",o.formData.contact),se(4),Qe("ngModel",o.formData.rname),se(4),Qe("ngModel",o.formData.remail),se(3),Qe("ngIf",!o.formData.remail&&s.submitted),se(2),Qe("ngModel",o.formData.rcontact),se(5),Qe("disabled",o.isSubmitting),se(4),Qe("ngIf",o.successMessage),se(1),Qe("ngIf",o.errorMessage),se(1),Qe("ngIf",o.isLoading)}},dependencies:[ca,Da,ng,_d,fv,Mf,dv,hv,Df,pv,cg,Ef,dg,Lf,tu,Rv,Og],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:95px;z-index:3}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:0;top:28%;width:550px;margin-right:-19rem}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{margin-right:-6rem;width:400px;top:26%}}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{margin-right:-5rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{margin-right:3rem;width:300px;top:33%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:280px;top:25%;margin-right:0}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:330px;top:30%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:400px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:0 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:40px 10px 50px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:170px}@media (max-width: 480px){.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:140px}}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px;width:100%}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 15px;border-radius:20px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 0}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #da9777;background-color:#da9777;color:#fff;border-radius:33px;position:relative;display:inline-block;padding:13px 16px;margin-bottom:20px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#000;border:1px solid #000}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]{justify-content:end;align-items:end;position:relative;top:-7px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:60px;height:60px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;width:100%;border-radius:50px;margin-bottom:0;height:100%;padding:20px 40px}@media (max-width: 1440px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 30px}}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 10px;border-radius:20px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:6px 5px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 5px}}@media (max-width: 330px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 3px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:4rem;bottom:10px}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:3.5rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:0}}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:42%!important}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90px;z-index:3}@media (max-width: 480px){.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75px}}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;color:#fff;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center;margin-top:-40px!important}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}.pulse[_ngcontent-%COMP%]{margin:100px;display:block;width:22px;height:22px;border-radius:50%;background:#cca92c;cursor:pointer;box-shadow:0 0 #5b5b5f;animation:_ngcontent-%COMP%_pulse 2s infinite}.pulse[_ngcontent-%COMP%]:hover{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #5b5b5f}70%{box-shadow:0 0 0 10px #cca92c00}to{box-shadow:0 0 #cca92c00}}']}),e})();const I1e=["myVideo"];function k1e(e,t){if(1&e){const n=kr();x(0,"div",156)(1,"div",157)(2,"a",158)(3,"img",159),dt("mouseenter",function(){const o=zn(n).index;return Vn(ht().onMouseEnter(o))})("mouseleave",function(){return zn(n),Vn(ht().onMouseLeave())}),C(),x(4,"div",160)(5,"p",161),D(6),C(),x(7,"p",162),ce(8,"span",163),C()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=ht();se(2),lc("href",n.link,Ee),se(1),Xh("galleryimg",i,""),cc("src","",r.imagepath,"",n.image,"",Ee),se(3),aa(n.name),se(2),Qe("innerHTML",n.desc,Nc)}}function R1e(e,t){if(1&e&&(x(0,"a",165),ce(1,"img",166),x(2,"div",160)(3,"p",161),D(4),C(),x(5,"p",162),ce(6,"span",163),C()()()),2&e){const n=ht().$implicit,i=ht();lc("href",n.link,Ee),se(1),cc("src","",i.imagepath,"",n.project_images[0],"",Ee),se(3),aa(n.name),se(2),Qe("innerHTML",n.desc,Nc)}}function N1e(e,t){if(1&e&&(gs(0),st(1,R1e,7,5,"ng-template",164),vs()),2&e){const n=t.$implicit,i=t.index;se(1),Qe("id",n+i)}}function L1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/dnour.svg",Ee)}}function F1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/crystal.svg",Ee)}}function B1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/miniaar.svg",Ee)}}function z1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/bni.svg",Ee)}}function U1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/angle.svg",Ee)}}function j1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/pakhis.svg",Ee)}}function V1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/drminnie.svg",Ee)}}function H1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/veddentta.svg",Ee)}}function G1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",Ee)}}function W1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/fractal.svg",Ee)}}function q1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/aetrio.svg",Ee)}}function Y1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/wrae.svg",Ee)}}function X1e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/beyou.svg",Ee)}}function $1e(e,t){1&e&&(x(0,"div",179)(1,"div"),D(2," Name is required. "),C()())}function Q1e(e,t){if(1&e&&(x(0,"div",179)(1,"div"),D(2),C()()),2&e){const n=ht(2);se(2),Do(" ",n.hasEmailError("email","required")," ")}}function K1e(e,t){if(1&e){const n=kr();x(0,"div",132)(1,"h4",170),D(2),C(),x(3,"button",134),dt("click",function(){return Vn(zn(n).$implicit.dismiss("Cross click"))}),x(4,"span",135),D(5," \xd7 "),C()()(),x(6,"div",136)(7,"div",171)(8,"div",1)(9,"div",2)(10,"div",114)(11,"div",172)(12,"form",173),dt("ngSubmit",function(){return zn(n),Vn(ht().submitPayment())}),x(13,"div",174)(14,"div",139),ce(15,"input",175),x(16,"label",141),D(17,"What's your name?"),C(),st(18,$1e,3,0,"div",176),C(),x(19,"div",139),ce(20,"input",177),x(21,"label",141),D(22,"What\u2019s your e-mail?"),C(),st(23,Q1e,3,1,"div",176),C(),x(24,"div",148)(25,"div",149),ce(26,"input",178),C(),x(27,"div",151)(28,"button",152),dt("click",function(){return zn(n),Vn(ht().closePopUp())}),D(29,"Cancel"),C()()()()()()()()()()()}if(2&e){const n=ht();se(2),Do(" ",n.paymentData.name," Payments "),se(10),Qe("formGroup",n.paymentForm),se(6),Qe("ngIf",n.submitted&&n.hasError("name","required")),se(5),Qe("ngIf",n.submitted&&n.hasEmailError("email","required"))}}function Z1e(e,t){1&e&&(x(0,"div",180),D(1," Email is required. "),C())}function J1e(e,t){1&e&&(x(0,"div",180),D(1," R-Email is required. "),C())}function eye(e,t){if(1&e&&(x(0,"div",181),D(1),C()),2&e){const n=ht();se(1),Do(" ",n.successMessage," ")}}function tye(e,t){if(1&e&&(x(0,"div",182),D(1),C()),2&e){const n=ht();se(1),Do(" ",n.errorMessage," ")}}function nye(e,t){1&e&&(x(0,"div",183),D(1," Sending your message, please wait... "),C())}const iye=function(e){return{width:e}};let rye=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10)}constructor(i,r,o,s,a,l,c,d,h,p,g,v,y){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=d,this.http=h,this.projectservice=p,this.modalService=g,this.activeModal=v,this.payementservice=y,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.formData={name:"",email:"",contact:"",rname:"",remail:"",rcontact:""},this.successMessage="",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,this.hasError=(b,P)=>this.paymentForm.controls[b].hasError(P),this.hasEmailError=(b,P)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(P),this.tabTitle="Try with us",this.baseUrl=Ft_baseUrl+"/assets",this.imagepath=Ft_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",pc.required],email:["",pc.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===jl.ESC?"by pressing ESC":i===jl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}getStripPayemts(i,r,o){this.paymentData={name:i,amount:r},this.modalReference=this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(a=>{this.closeResult=`Closed with: ${a}`},a=>{this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Ft_baseUrl,this.payementservice.stripePayments(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(i.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}changeTabTitle(i){this.tabTitle=i}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}openModal(){const i=document.getElementById("contactModal");this.renderer.addClass(i,"show"),this.renderer.setStyle(i,"display","block"),this.renderer.setStyle(i,"backgroundColor","rgba(0,0,0,0.5)"),document.body.classList.add("modal-open")}closeModal(){const i=document.getElementById("contactModal");this.renderer.removeClass(i,"show"),this.renderer.setStyle(i,"display","none"),document.body.classList.remove("modal-open")}onSubmit(i){this.isSubmitting||(this.isSubmitting=!0,this.isLoading=!0,this.formData.email&&this.formData.remail?this.projectservice.sendContactForm(this.formData).subscribe(r=>{console.log("Email sent successfully",r),this.successMessage="Your message has been sent successfully!",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,i.reset(),setTimeout(()=>{this.successMessage="",this.closeModal()},5e3)},r=>{console.error("Error sending email",r),this.errorMessage="Failed to send your message. Please try again later.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},5e3)}):(this.errorMessage="Please fill in all required fields.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},3e3)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Vs),De(ud),De(Mg),De(xd),De(hc),De(uc),De(kv),De(ug),De(fc),De(Pg),De(Cg),De(up),De(Sg))},t.\u0275cmp=Li({type:t,selectors:[["app-website"]],viewQuery:function(r,o){if(1&r&&$h(I1e,5),2&r){let s;co(s=ho())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&dt("scroll",function(a){return o.onScroll(a)},0,uf)("fullscreenchange",function(a){return o.onFullscreenChange(a)},!1,Ym)},decls:492,vars:31,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","home#strategy",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"container-fluid"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand"],[1,"col-md-11","col-sm-11","col-11","mx-md-0","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor2"],[1,"barcy","text-color"],[1,"textcolor1"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","container"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","bg1","backgroundbg"],[1,"logos"],[1,"fontsize12","mb-0","semibold"],["carouselSlide",""],[1,"section","packages","p-0","backgroundbg"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section","mbrem5"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-lg-11","col-md-10","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-xxl-5","col-xl-5","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1","pulse"],[1,"circle2"],[1,"size16","textcolor3"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"d-block"],[1,"box"],[1,"cstbtn",3,"click"],[1,"col-xxl-7","col-xl-7","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","shadow",2,"max-width","600px"],[1,"text-start","py-3","medium","size53"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link",3,"click"],["alt","",3,"src"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link",3,"click"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-12"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"list-group-item","d-flex","justify-content-start","align-items-center"],[1,"fa","fa-check"],[1,"ms-2"],[1,"cstprng-table-cta","position-relative","mtrem3","started"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-none"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],["style","z-index: 0;"],["payments",""],["id","contactModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3",3,"ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autocomplete","off","placeholder","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput",1,"mt-0"],["type","email","name","email","autocomplete","off","id","email","placeholder","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","contact","autocomplete","off","id","contact","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","rname","name","rname","autocomplete","off","placeholder","R-name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","remail","autocomplete","off","id","remail","placeholder","R-email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rcontact","autocomplete","off","id","rcontact","placeholder","R-Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Submit",1,"submit",3,"disabled"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","alert alert-info mt-3","role","alert",4,"ngIf"],[1,"col-md-6"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["carouselSlide","",3,"id"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],["id","modal-basic-title",1,"modal-title"],["id","content"],[1,""],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","submit","name","submit","value","Send",1,"submit"],[1,"error"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],["role","alert",1,"alert","alert-info","mt-3"]],template:function(r,o){if(1&r){const s=kr();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),D(9,"A Custom-Built "),x(10,"span",9),D(11,"Website "),C()(),x(12,"h1",8),D(13,"for Every Screen"),C()()()(),x(14,"div",10)(15,"ul",11)(16,"li")(17,"a",12),ce(18,"img",13),C()(),x(19,"li")(20,"a",14),ce(21,"img",15),C()(),x(22,"li")(23,"a",16),ce(24,"img",13),C()(),x(25,"li")(26,"a",17),ce(27,"img",18),C()()(),x(28,"div",19)(29,"p"),D(30,"Website is your virtual office so "),C(),x(31,"p"),D(32,"\u2014No Templates, Just Magic."),C()()()()(),x(33,"div",20)(34,"p")(35,"a",21)(36,"span",22),D(37," Know About Branding"),C(),x(38,"span",23),ce(39,"i",24),C()()()()()(),ce(40,"div",25),x(41,"section",26)(42,"div",27)(43,"div",2)(44,"div",28)(45,"div",29)(46,"video",30,31),dt("click",function(){return o.playInFullscreenWithAudio()}),ce(48,"source",32)(49,"source",33),D(50," Your browser does not support the video tag. "),C()()()()()(),x(51,"section",34)(52,"div",1)(53,"div",2)(54,"div",35)(55,"div",36)(56,"h2",37)(57,"span",38),D(58,"We just don\u2019t build"),C(),x(59,"span",39),D(60," Websites"),C(),x(61,"span",40),D(62," ; we create experiences."),C(),x(63,"span",38),D(64,"Our "),C(),x(65,"span",40),D(66," custom-built websites are fast, functional"),C(),D(67,", "),x(68,"span",38),D(69,"& perfectly aligned with your business goals \u2014because "),C(),x(70,"span",40),D(71,"we don\u2019t believe in templates."),C()()()()()()(),x(72,"section",41)(73,"div",42)(74,"div",2)(75,"div",43)(76,"div",44)(77,"h1",45),ce(78,"div",46),D(79," Recent Works "),C()()(),x(80,"div",43)(81,"div",2),st(82,k1e,9,8,"div",47),C()()()(),x(83,"div",48)(84,"div",49)(85,"div",44)(86,"h1",45),ce(87,"div",46),D(88," Recent Works "),C()()(),x(89,"owl-carousel-o",50),st(90,N1e,2,1,"ng-container",51),C()(),x(91,"div",52)(92,"div",2)(93,"div",53)(94,"div",54)(95,"div",55)(96,"div",56)(97,"p")(98,"a",57)(99,"span",58),D(100,"Book A Consultation"),C(),x(101,"span",23),ce(102,"i",24),C()()()()()()()()()(),x(103,"section",59)(104,"div",1)(105,"div",2)(106,"div",43)(107,"div",60)(108,"p",61)(109,"span",62),D(110,"Why Choose Pixtar?"),C()(),x(111,"div",63)(112,"div",2)(113,"div",64)(114,"div",65),ce(115,"img",66),x(116,"p",67),D(117,"Crafted With The Golden Ratio"),C(),x(118,"p",68),D(119,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),C()()(),x(120,"div",69)(121,"div",65),ce(122,"img",66),x(123,"p",67),D(124,"Custom Solutions. No Templates. Ever."),C(),x(125,"p",68),D(126,"Every brand is unique, and so is our approach. We build from scratch, ensuring your business is reflected in every detail."),C()()(),x(127,"div",64)(128,"div",65),ce(129,"img",66),x(130,"p",67),D(131,"Beyond The Limits, Always Transparent"),C(),x(132,"p",68),D(133,"We don\u2019t just deliver; we partner with you, going above and beyond with 100% transparency at every step of the way."),C()()()()()()()()()(),x(134,"section",70)(135,"div",1)(136,"div",2)(137,"div",43)(138,"div",71)(139,"p",72),D(140,"OUR CLIENTS INCLUDE\u2026"),C(),x(141,"owl-carousel-o",50),gs(142),st(143,L1e,3,1,"ng-template",73),st(144,F1e,3,1,"ng-template",73),st(145,B1e,3,1,"ng-template",73),st(146,z1e,3,1,"ng-template",73),st(147,U1e,3,1,"ng-template",73),st(148,j1e,3,1,"ng-template",73),st(149,V1e,3,1,"ng-template",73),st(150,H1e,3,1,"ng-template",73),st(151,G1e,3,1,"ng-template",73),st(152,W1e,3,1,"ng-template",73),st(153,q1e,3,1,"ng-template",73),st(154,Y1e,3,1,"ng-template",73),st(155,X1e,3,1,"ng-template",73),vs(),C()()()()()(),x(156,"section",74)(157,"div",1)(158,"div",2)(159,"div",75)(160,"div",76)(161,"h2",77)(162,"span",62),D(163,"What\u2019s Included in Our Branding Packages?"),C()(),x(164,"p",78),D(165,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),C()()(),x(166,"div",79)(167,"div",80)(168,"div",81)(169,"div",82)(170,"div",83)(171,"div",84)(172,"div",85)(173,"div",86),ce(174,"div",87)(175,"div",88),C(),x(176,"div",22)(177,"p",89),D(178,"Slots available"),C()()()(),x(179,"h1",90),D(180,"Join "),C(),x(181,"h1",91),D(182,"Pixtar"),C(),x(183,"div",92)(184,"h4",93),D(185,"Book a 15-min intro Call"),C(),x(186,"p",89),D(187,"Learn more about how Pixtar "),x(188,"span",94),D(189," works and how it can help you."),C()()(),x(190,"div",95)(191,"h4",93),D(192,"Refer a friend & earn"),C(),x(193,"p",89),D(194,"Earn 5% monthly recurring "),x(195,"span",94),D(196," commission for each referral."),C(),x(197,"a",96),dt("click",function(){return o.openModal()}),ce(198,"span",22),x(199,"span",23),ce(200,"i",24),C()()()()()()(),x(201,"div",97)(202,"div",98)(203,"h2",99),D(204),C(),x(205,"nav")(206,"div",100)(207,"button",101),dt("click",function(){return o.changeTabTitle("Try with us")}),D(208,"Explorer"),C(),x(209,"button",102),dt("click",function(){return o.changeTabTitle("Most Suitable")}),ce(210,"img",103),D(211," Navigator"),C(),x(212,"button",104),dt("click",function(){return o.changeTabTitle("Create a Brand")}),D(213,"Pioneer"),C()()(),x(214,"div",105)(215,"div",106)(216,"div",107)(217,"div",108)(218,"h4",109),D(219,"AED 9,995"),C(),x(220,"h5",110),D(221,"Static website, Perfect for startups. "),C()(),ce(222,"div",111),x(223,"div",112)(224,"h5",113),D(225,"What\u2019s included"),C(),x(226,"div",2)(227,"div",114)(228,"ul",115)(229,"li",116)(230,"div",117)(231,"div",118),D(232,"Tailored Ui/Ux Designing"),C()()(),x(233,"li",119),ce(234,"i",120),x(235,"span",121),D(236,"Custom Website Design upto 1 Theme Option"),C()(),x(237,"li",116)(238,"div",117)(239,"div",118),D(240,"Development"),C()()(),x(241,"li",119),ce(242,"i",120),x(243,"span",121),D(244,"Customized Front-End Development"),C()(),x(245,"li",119),ce(246,"i",120),x(247,"span",121),D(248,"Mobile, Tablet, & Desktop Responsive Design"),C()(),x(249,"li",119),ce(250,"i",120),x(251,"span",121),D(252,"Up to 8 Pages"),C()(),x(253,"li",119),ce(254,"i",120),x(255,"span",121),D(256,"Ability for Future Enhancements"),C()(),x(257,"li",119),ce(258,"i",120),x(259,"span",121),D(260,"Hosting Support"),C()(),x(261,"li",116)(262,"div",117)(263,"div",118),D(264,"Standout features"),C()()(),x(265,"li",119),ce(266,"i",120),x(267,"span",121),D(268,"Contact us Email Integration"),C()()()()()(),x(269,"div",122)(270,"div",20)(271,"p")(272,"a",96),dt("click",function(){zn(s);const l=vo(444);return Vn(o.getStripPayemts("Explorer",9995,l))}),x(273,"span",22),D(274," Get Started"),C(),x(275,"span",23),ce(276,"i",24),C()()()(),x(277,"p",123),D(278,"Or "),x(279,"a",124),D(280,"book a call"),C()()()()(),x(281,"div",125)(282,"div",107)(283,"div",108)(284,"h4",109),D(285,"AED 24,995"),C(),x(286,"h5",110),D(287,"Dynamic Website."),C()(),ce(288,"div",111),x(289,"div",112)(290,"h5",113),D(291,"What\u2019s included"),C(),x(292,"div",2)(293,"div",114)(294,"ul",115)(295,"li",116)(296,"div",117)(297,"div",118),D(298,"Tailored Ui/Ux Designing"),C()()(),x(299,"li",119),ce(300,"i",120),x(301,"span",121),D(302,"Custom Website Design upto 3 Theme Option"),C()(),x(303,"li",116)(304,"div",117)(305,"div",118),D(306,"Development"),C()()(),x(307,"li",119),ce(308,"i",120),x(309,"span",121),D(310,"Custom Front-End Development"),C()(),x(311,"li",119),ce(312,"i",120),x(313,"span",121),D(314,"Mobile, Tablet, and Desktop Responsive Design"),C()(),x(315,"li",119),ce(316,"i",120),x(317,"span",121),D(318,"Up to 20 Pages (Based on Final Requirements)"),C()(),x(319,"li",119),ce(320,"i",120),x(321,"span",121),D(322,"Ability for Future Enhancements"),C()(),x(323,"li",119),ce(324,"i",120),x(325,"span",121),D(326,"Hosting Support"),C()(),x(327,"li",116)(328,"div",117)(329,"div",118),D(330,"Standout features"),C()()(),x(331,"li",119),ce(332,"i",120),x(333,"span",121),D(334,"Admin Panel and User Management"),C()(),x(335,"li",119),ce(336,"i",120),x(337,"span",121),D(338,"SEO-Optimized Development"),C()(),x(339,"li",119),ce(340,"i",120),x(341,"span",121),D(342,"Google My Business Setup"),C()(),x(343,"li",119),ce(344,"i",120),x(345,"span",121),D(346,"Appointment Booking Integration"),C()(),x(347,"li",119),ce(348,"i",120),x(349,"span",121),D(350,"Contact Us Email Integration"),C()(),x(351,"li",119),ce(352,"i",120),x(353,"span",121),D(354,"Google Maps Integration"),C()()()()()(),x(355,"div",122)(356,"div",20)(357,"p")(358,"a",96),dt("click",function(){zn(s);const l=vo(444);return Vn(o.getStripPayemts("Navigator",24995,l))}),x(359,"span",22),D(360," Get Started"),C(),x(361,"span",23),ce(362,"i",24),C()()()(),x(363,"p",123),D(364,"Or "),x(365,"a",124),D(366,"book a call"),C()()()()(),x(367,"div",126)(368,"div",107)(369,"div",108)(370,"h4",109),D(371,"AED 59,995"),C(),x(372,"h5",110),D(373,"The ultimate package with unlimited requests."),C()(),ce(374,"div",111),x(375,"div",112)(376,"h5",113),D(377,"What\u2019s included"),C(),x(378,"div",2)(379,"div",114)(380,"ul",115)(381,"li",116)(382,"div",117)(383,"div",118),D(384,"Tailored Ui/Ux Designing"),C()()(),x(385,"li",119),ce(386,"i",120),x(387,"span",121),D(388,"Custom Website Design Upto 5 Theme Options"),C()(),x(389,"li",116)(390,"div",117)(391,"div",118),D(392,"Development & Standout Features"),C()()(),x(393,"li",119),ce(394,"i",120),x(395,"span",121),D(396,"Website Integration with CRM"),C()(),x(397,"li",119),ce(398,"i",120),x(399,"span",121),D(400,"Integration with other websites"),C()(),x(401,"li",119),ce(402,"i",120),x(403,"span",121),D(404,"Access to your Partners & Distributers to Create and Manage thier Account"),C()(),x(405,"li",119),ce(406,"i",120),x(407,"span",121),D(408,"User Pro\ufb01le Management"),C()(),x(409,"li",119),ce(410,"i",120),x(411,"span",121),D(412,"Unlimited Brochures Download options"),C()(),x(413,"li",119),ce(414,"i",120),x(415,"span",121),D(416,"WhatsApp Integration"),C()(),x(417,"li",119),ce(418,"i",120),x(419,"span",121),D(420,"Live Chat Integration"),C()(),x(421,"li",119),ce(422,"i",120),x(423,"span",121),D(424,"Google Reviews Integration"),C()(),x(425,"li",119),ce(426,"i",120),x(427,"span",121),D(428,"Social Media Live Updates Integration"),C()()()()()(),x(429,"div",122)(430,"div",20)(431,"p")(432,"a",96),dt("click",function(){zn(s);const l=vo(444);return Vn(o.getStripPayemts("Pioneer",59995,l))}),x(433,"span",22),D(434," Get Started"),C(),x(435,"span",23),ce(436,"i",24),C()()()(),x(437,"p",123),D(438,"Or "),x(439,"a",124),D(440,"book a call"),C()()()()()()()()()()()()(),ce(441,"app-testimonial")(442,"app-faq-component"),st(443,K1e,30,4,"ng-template",127,128,Fc),x(445,"div",129)(446,"div",130)(447,"div",131)(448,"div",132)(449,"h5",133),D(450,"Refer a friend & earn"),C(),x(451,"button",134),dt("click",function(){return o.closeModal()}),x(452,"span",135),D(453," \xd7 "),C()()(),x(454,"div",136)(455,"form",137,138),dt("ngSubmit",function(){zn(s);const l=vo(456);return Vn(o.onSubmit(l))}),x(457,"div",139)(458,"input",140),dt("ngModelChange",function(l){return o.formData.name=l}),C(),x(459,"label",141),D(460,"Name"),C()(),x(461,"div",139)(462,"input",142),dt("ngModelChange",function(l){return o.formData.email=l}),C(),x(463,"label",141),D(464,"Email"),C(),st(465,Z1e,2,0,"div",143),C(),x(466,"div",139)(467,"input",144),dt("ngModelChange",function(l){return o.formData.contact=l}),C(),x(468,"label",141),D(469,"Contact"),C()(),x(470,"div",139)(471,"input",145),dt("ngModelChange",function(l){return o.formData.rname=l}),C(),x(472,"label",141),D(473,"Referrer-Name"),C()(),x(474,"div",139)(475,"input",146),dt("ngModelChange",function(l){return o.formData.remail=l}),C(),x(476,"label",141),D(477,"Referrer-Email"),C(),st(478,J1e,2,0,"div",143),C(),x(479,"div",139)(480,"input",147),dt("ngModelChange",function(l){return o.formData.rcontact=l}),C(),x(481,"label",141),D(482,"Referrer-Contact"),C()(),x(483,"div",148)(484,"div",149),ce(485,"input",150),C(),x(486,"div",151)(487,"button",152),dt("click",function(){return o.closeModal()}),D(488,"Cancel"),C()()()(),st(489,eye,2,1,"div",153),st(490,tye,2,1,"div",154),st(491,nye,2,0,"div",155),C()()()()}if(2&r){const s=vo(456);se(4),Ie("src","",o.baseUrl,"/img/three-d-objects/website.png",Ee),se(14),Ie("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/whatsapp.svg",Ee),se(17),Qe("ngStyle",Ea(29,iye,o.sectionWidth+"%")),se(4),Ie("src","",o.baseUrl,"/what is brandng pixtar 2.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/what is brandng pixtar 2.mp4",Ee),se(33),Qe("ngForOf",o.allprojects),se(7),Qe("options",o.recentoptions),se(1),Qe("ngForOf",o.allprojects),se(25),Ie("src","",o.baseUrl,"/img/home/art-icons/craft.svg",Ee),se(7),Ie("src","",o.baseUrl,"/img/home/art-icons/solution.svg",Ee),se(7),Ie("src","",o.baseUrl,"/img/home/art-icons/beyond.svg",Ee),se(12),Qe("options",o.clientslider),se(63),aa(o.tabTitle),se(6),Ie("src","",o.baseUrl,"/img/services/shock.png",Ee),se(248),Qe("ngModel",o.formData.name),se(4),Qe("ngModel",o.formData.email),se(3),Qe("ngIf",!o.formData.email&&s.submitted),se(2),Qe("ngModel",o.formData.contact),se(4),Qe("ngModel",o.formData.rname),se(4),Qe("ngModel",o.formData.remail),se(3),Qe("ngIf",!o.formData.remail&&s.submitted),se(2),Qe("ngModel",o.formData.rcontact),se(5),Qe("disabled",o.isSubmitting),se(4),Qe("ngIf",o.successMessage),se(1),Qe("ngIf",o.errorMessage),se(1),Qe("ngIf",o.isLoading)}},dependencies:[ca,Da,ng,_d,fv,Mf,dv,hv,Df,pv,cg,Ef,dg,Lf,tu,Rv,Og],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-19rem;top:30%;width:500px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-6rem;width:400px;top:28%}}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;top:33%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:290px;top:30%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:404px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:0 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:40px 10px 50px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:116px;z-index:2}@media (max-width: 480px){.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:140px}}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.choosesection[_ngcontent-%COMP%]   .head-section[_ngcontent-%COMP%]{margin-bottom:80px}.choosesection[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{padding-top:80px}.subscription-section[_ngcontent-%COMP%]{background-color:transparent!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]{padding-bottom:90px!important}@media (max-width: 991px){.packages[_ngcontent-%COMP%]{padding-bottom:50px!important}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px;width:100%;height:auto}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 15px;border-radius:20px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 0}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #da9777;background-color:#da9777;color:#fff;border-radius:33px;position:relative;display:inline-block;padding:13px 16px;margin-bottom:20px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#000;border:1px solid #000}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]{justify-content:end;align-items:end;position:relative;top:-7px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:60px;height:60px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;width:100%;border-radius:50px;margin-bottom:0;height:100%;padding:20px 40px}@media (max-width: 1440px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 30px}}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 10px;border-radius:20px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:none}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]   .cstprng-table-cta[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:2}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:6px 5px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 5px}}@media (max-width: 330px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 3px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:6rem;bottom:10px}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:5.5rem}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:0}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:42%!important}}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90px;z-index:3}@media (max-width: 480px){.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75px}}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;color:#fff!important;border-radius:0;font-size:20px;font-weight:500;display:flex;color:#fff;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center;margin-top:-40px!important}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}.pulse[_ngcontent-%COMP%]{margin:100px;display:block;width:22px;height:22px;border-radius:50%;background:#cca92c;cursor:pointer;box-shadow:0 0 #5b5b5f;animation:_ngcontent-%COMP%_pulse 2s infinite}.pulse[_ngcontent-%COMP%]:hover{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #5b5b5f}70%{box-shadow:0 0 0 10px #cca92c00}to{box-shadow:0 0 #cca92c00}}']}),e})();var si=m(5861),oye=Object.create,aM=Object.defineProperty,sye=Object.getOwnPropertyDescriptor,aye=Object.getOwnPropertyNames,lye=Object.getPrototypeOf,cye=Object.prototype.hasOwnProperty,pp=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fp=(e,t,n)=>(n=null!=e?oye(lye(e)):{},((e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of aye(t))!cye.call(e,r)&&undefined!==r&&aM(e,r,{get:()=>t[r],enumerable:!(i=sye(t,r))||i.enumerable});return e})(!t&&e&&e.__esModule?n:aM(n,"default",{value:e,enumerable:!0}),e)),Eg=(e,t,n)=>(((e,t,n)=>{t in e?aM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),pye=pp((e,t)=>{var n,i;n=e,i=function(){return n.importState=function(r){var o=new n;return o.importState(r),o},n;function n(){return function(r){var o=0,s=0,a=0,l=1;0==r.length&&(r=[+new Date]);var c=function i(){var r=4022871197,o=function(s){s=s.toString();for(var a=0;a<s.length;a++){var l=.02519603282416938*(r+=s.charCodeAt(a));l-=r=l>>>0,r=(l*=r)>>>0,r+=4294967296*(l-=r)}return 2.3283064365386963e-10*(r>>>0)};return o.version="Mash 0.9",o}();o=c(" "),s=c(" "),a=c(" ");for(var d=0;d<r.length;d++)(o-=c(r[d]))<0&&(o+=1),(s-=c(r[d]))<0&&(s+=1),(a-=c(r[d]))<0&&(a+=1);c=null;var h=function(){var p=2091639*o+2.3283064365386963e-10*l;return o=s,s=a,a=p-(l=0|p)};return h.next=h,h.uint32=function(){return 4294967296*h()},h.fract53=function(){return h()+11102230246251565e-32*(2097152*h()|0)},h.version="Alea 0.9",h.args=r,h.exportState=function(){return[o,s,a,l]},h.importState=function(p){o=+p[0]||0,s=+p[1]||0,a=+p[2]||0,l=+p[3]||0},h}(Array.prototype.slice.call(arguments))}},"object"==typeof e?t.exports=i():"function"==typeof define&&define.amd?define(i):n.Alea=i()}),J7=pp((e,t)=>{var n,i;n=e,i=function(n){n.SVD=function(i,r,o,s,a){if(r=void 0===r||r,o=void 0===o||o,a=1e-64/(s=s||Math.pow(2,-52)),!i)throw new TypeError("Matrix a is not defined");var l,c,d,h,p,g,v,y,b,P,O,S,A=i[0].length,H=i.length;if(H<A)throw new TypeError("Invalid matrix: m < n");for(var V=[],Q=[],Y=[],ee="f"===r?H:A,ne=P=v=0;ne<H;ne++)Q[ne]=new Array(ee).fill(0);for(ne=0;ne<A;ne++)Y[ne]=new Array(A).fill(0);var ae,pe=new Array(A).fill(0);for(ne=0;ne<H;ne++)for(l=0;l<A;l++)Q[ne][l]=i[ne][l];for(ne=0;ne<A;ne++){for(V[ne]=v,b=0,d=ne+1,l=ne;l<H;l++)b+=Math.pow(Q[l][ne],2);if(b<a)v=0;else for(y=(g=Q[ne][ne])*(v=g<0?Math.sqrt(b):-Math.sqrt(b))-b,Q[ne][ne]=g-v,l=d;l<A;l++){for(b=0,c=ne;c<H;c++)b+=Q[c][ne]*Q[c][l];for(g=b/y,c=ne;c<H;c++)Q[c][l]=Q[c][l]+g*Q[c][ne]}for(pe[ne]=v,b=0,l=d;l<A;l++)b+=Math.pow(Q[ne][l],2);if(b<a)v=0;else{for(y=(g=Q[ne][ne+1])*(v=g<0?Math.sqrt(b):-Math.sqrt(b))-b,Q[ne][ne+1]=g-v,l=d;l<A;l++)V[l]=Q[ne][l]/y;for(l=d;l<H;l++){for(b=0,c=d;c<A;c++)b+=Q[l][c]*Q[ne][c];for(c=d;c<A;c++)Q[l][c]=Q[l][c]+b*V[c]}}P<(O=Math.abs(pe[ne])+Math.abs(V[ne]))&&(P=O)}if(o)for(ne=A-1;0<=ne;ne--){if(0!==v){for(y=Q[ne][ne+1]*v,l=d;l<A;l++)Y[l][ne]=Q[ne][l]/y;for(l=d;l<A;l++){for(b=0,c=d;c<A;c++)b+=Q[ne][c]*Y[c][l];for(c=d;c<A;c++)Y[c][l]=Y[c][l]+b*Y[c][ne]}}for(l=d;l<A;l++)Y[ne][l]=0,Y[l][ne]=0;Y[ne][ne]=1,v=V[ne],d=ne}if(r){if("f"===r)for(ne=A;ne<H;ne++){for(l=A;l<H;l++)Q[ne][l]=0;Q[ne][ne]=1}for(ne=A-1;0<=ne;ne--){for(v=pe[ne],l=d=ne+1;l<ee;l++)Q[ne][l]=0;if(0!==v){for(y=Q[ne][ne]*v,l=d;l<ee;l++){for(b=0,c=d;c<H;c++)b+=Q[c][ne]*Q[c][l];for(g=b/y,c=ne;c<H;c++)Q[c][l]=Q[c][l]+g*Q[c][ne]}for(l=ne;l<H;l++)Q[l][ne]=Q[l][ne]/v}else for(l=ne;l<H;l++)Q[l][ne]=0;Q[ne][ne]=Q[ne][ne]+1}}for(s*=P,c=A-1;0<=c;c--)for(var fe=0;fe<50;fe++){for(ae=!1,d=c;0<=d;d--){if(Math.abs(V[d])<=s){ae=!0;break}if(Math.abs(pe[d-1])<=s)break}if(!ae)for(p=0,h=d-(b=1),ne=d;ne<c+1&&(g=b*V[ne],V[ne]=p*V[ne],!(Math.abs(g)<=s));ne++)if(v=pe[ne],pe[ne]=Math.sqrt(g*g+v*v),p=v/(y=pe[ne]),b=-g/y,r)for(l=0;l<H;l++)Q[l][h]=(O=Q[l][h])*p+(S=Q[l][ne])*b,Q[l][ne]=-O*b+S*p;if(S=pe[c],d===c){if(S<0&&(pe[c]=-S,o))for(l=0;l<A;l++)Y[l][c]=-Y[l][c];break}for(P=pe[d],g=(((O=pe[c-1])-S)*(O+S)+((v=V[c-1])-(y=V[c]))*(v+y))/(2*y*O),v=Math.sqrt(g*g+1),g=((P-S)*(P+S)+y*(O/(g<0?g-v:g+v)-y))/P,ne=d+(b=p=1);ne<c+1;ne++){if(O=pe[ne],y=b*(v=V[ne]),v*=p,S=Math.sqrt(g*g+y*y),g=P*(p=g/(V[ne-1]=S))+v*(b=y/S),v=-P*b+v*p,y=O*b,O*=p,o)for(l=0;l<A;l++)Y[l][ne-1]=(P=Y[l][ne-1])*p+(S=Y[l][ne])*b,Y[l][ne]=-P*b+S*p;if(S=Math.sqrt(g*g+y*y),g=(p=g/(pe[ne-1]=S))*v+(b=y/S)*O,P=-b*v+p*O,r)for(l=0;l<H;l++)Q[l][ne-1]=(O=Q[l][ne-1])*p+(S=Q[l][ne])*b,Q[l][ne]=-O*b+S*p}V[d]=0,V[c]=g,pe[c]=P}for(ne=0;ne<A;ne++)pe[ne]<s&&(pe[ne]=0);return{u:Q,q:pe,v:Y}},n.VERSION="1.1.1",Object.defineProperty(n,"__esModule",{value:!0})},"object"==typeof e&&typeof t<"u"?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i((n=typeof globalThis<"u"?globalThis:n||self).SVDJS={})}),fye=pp((e,t)=>{var n,i;n=e,i=function(){var n=function(r,o){if(void 0===r&&(r=[]),void 0===o&&(o=i),this.data=r,this.length=this.data.length,this.compare=o,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)};function i(r,o){return r<o?-1:r>o?1:0}return n.prototype.push=function(r){this.data.push(r),this.length++,this._up(this.length-1)},n.prototype.pop=function(){if(0!==this.length){var r=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),r}},n.prototype.peek=function(){return this.data[0]},n.prototype._up=function(r){for(var s=this.data,a=this.compare,l=s[r];r>0;){var c=r-1>>1,d=s[c];if(a(l,d)>=0)break;s[r]=d,r=c}s[r]=l},n.prototype._down=function(r){for(var s=this.data,a=this.compare,l=this.length>>1,c=s[r];r<l;){var d=1+(r<<1),h=s[d],p=d+1;if(p<this.length&&a(s[p],h)<0&&(d=p,h=s[p]),a(h,c)>=0)break;s[r]=h,r=d}s[r]=c},n},"object"==typeof e&&typeof t<"u"?t.exports=i():"function"==typeof define&&define.amd?define(i):(n=n||self).TinyQueue=i()}),mye=pp((e,t)=>{var n=fye();function i(c,d,h){d=d||1;for(var p,g,v,y,b=0;b<c[0].length;b++){var P=c[0][b];(!b||P[0]<p)&&(p=P[0]),(!b||P[1]<g)&&(g=P[1]),(!b||P[0]>v)&&(v=P[0]),(!b||P[1]>y)&&(y=P[1])}var O=v-p,S=y-g,A=Math.min(O,S),H=A/2;if(0===A){var V=[p,g];return V.distance=0,V}for(var Q=new n(void 0,r),Y=p;Y<v;Y+=A)for(var ee=g;ee<y;ee+=A)Q.push(new o(Y+H,ee+H,H,c));var ne=function a(c){for(var d=0,h=0,p=0,g=c[0],v=0,y=g.length,b=y-1;v<y;b=v++){var P=g[v],O=g[b],S=P[0]*O[1]-O[0]*P[1];h+=(P[0]+O[0])*S,p+=(P[1]+O[1])*S,d+=3*S}return 0===d?new o(g[0][0],g[0][1],0,c):new o(h/d,p/d,0,c)}(c),ae=new o(p+O/2,g+S/2,0,c);ae.d>ne.d&&(ne=ae);for(var pe=Q.length;Q.length;){var fe=Q.pop();fe.d>ne.d&&(ne=fe,h&&console.log("found best %d after %d probes",Math.round(1e4*fe.d)/1e4,pe)),!(fe.max-ne.d<=d)&&(Q.push(new o(fe.x-(H=fe.h/2),fe.y-H,H,c)),Q.push(new o(fe.x+H,fe.y-H,H,c)),Q.push(new o(fe.x-H,fe.y+H,H,c)),Q.push(new o(fe.x+H,fe.y+H,H,c)),pe+=4)}h&&(console.log("num probes: "+pe),console.log("best distance: "+ne.d));var ge=[ne.x,ne.y];return ge.distance=ne.d,ge}function r(c,d){return d.max-c.max}function o(c,d,h,p){this.x=c,this.y=d,this.h=h,this.d=function s(c,d,h){for(var p=!1,g=1/0,v=0;v<h.length;v++)for(var y=h[v],b=0,P=y.length,O=P-1;b<P;O=b++){var S=y[b],A=y[O];S[1]>d!=A[1]>d&&c<(A[0]-S[0])*(d-S[1])/(A[1]-S[1])+S[0]&&(p=!p),g=Math.min(g,l(c,d,S,A))}return 0===g?0:(p?1:-1)*Math.sqrt(g)}(c,d,p),this.max=this.d+this.h*Math.SQRT2}function l(c,d,h,p){var g=h[0],v=h[1],y=p[0]-g,b=p[1]-v;if(0!==y||0!==b){var P=((c-g)*y+(d-v)*b)/(y*y+b*b);P>1?(g=p[0],v=p[1]):P>0&&(g+=y*P,v+=b*P)}return(y=c-g)*y+(b=d-v)*b}n.default&&(n=n.default),t.exports=i,t.exports.default=i}),gye=pp((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)},t.exports=e.default}),vye=pp((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function n(i){var r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),i.getTime()-r.getTime()},t.exports=e.default}),yye=pp((e,t)=>{function i(o,s,a,l){this.message=o,this.expected=s,this.found=a,this.location=l,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,i)}(function n(o,s){function a(){this.constructor=o}a.prototype=s.prototype,o.prototype=new a})(i,Error),i.buildMessage=function(o,s){var a={literal:function(v){return'"'+c(v.text)+'"'},class:function(v){var b,y="";for(b=0;b<v.parts.length;b++)y+=v.parts[b]instanceof Array?d(v.parts[b][0])+"-"+d(v.parts[b][1]):d(v.parts[b]);return"["+(v.inverted?"^":"")+y+"]"},any:function(v){return"any character"},end:function(v){return"end of input"},other:function(v){return v.description}};function l(v){return v.charCodeAt(0).toString(16).toUpperCase()}function c(v){return v.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+l(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+l(y)})}function d(v){return v.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+l(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+l(y)})}function h(v){return a[v.type](v)}return"Expected "+function p(v){var b,P,y=new Array(v.length);for(b=0;b<v.length;b++)y[b]=h(v[b]);if(y.sort(),y.length>0){for(b=1,P=1;b<y.length;b++)y[b-1]!==y[b]&&(y[P]=y[b],P++);y.length=P}switch(y.length){case 1:return y[0];case 2:return y[0]+" or "+y[1];default:return y.slice(0,-1).join(", ")+", or "+y[y.length-1]}}(o)+" but "+function g(v){return v?'"'+c(v)+'"':"end of input"}(s)+" found."},t.exports={SyntaxError:i,parse:function r(o,s){s=void 0!==s?s:{};var Kn,a={},l={svg_path:Bu},c=Bu,d=function(me){if(!me)return[];for(var Me=[],$e=0;$e<me.length;$e++)Me=Me.concat.apply(Me,me[$e]);var Ae=Me[0];return Ae&&"m"==Ae.code&&(delete Ae.relative,Ae.code="M"),Me},h=function(me,Me){return function cN(me,Me){if(!Me)return[me];for(var $e=[me],Ae=0,at=Me.length;Ae<at;Ae++)$e[Ae+1]=Me[Ae][1];return $e}(me,Me)},p=/^[Mm]/,g=Ar(["M","m"],!1,!1),v=function(me,Me,$e){var Ae=xy(me,[Me]);return $e&&(Ae=Ae.concat(xy("M"==me?"L":"l",$e[1]))),Ae},y=/^[Zz]/,b=Ar(["Z","z"],!1,!1),P=function(){return xy("Z")},O=/^[Ll]/,S=Ar(["L","l"],!1,!1),A=function(me,Me){return xy(me,Me)},H=/^[Hh]/,V=Ar(["H","h"],!1,!1),Q=function(me,Me){return xy(me,Me.map(function($e){return{x:$e}}))},Y=/^[Vv]/,ee=Ar(["V","v"],!1,!1),ne=function(me,Me){return xy(me,Me.map(function($e){return{y:$e}}))},ae=/^[Cc]/,pe=Ar(["C","c"],!1,!1),fe=function(me,Me,$e){return{x1:me.x,y1:me.y,x2:Me.x,y2:Me.y,x:$e.x,y:$e.y}},ge=/^[Ss]/,Se=Ar(["S","s"],!1,!1),Oe=function(me,Me){return{x2:me.x,y2:me.y,x:Me.x,y:Me.y}},Ce=/^[Qq]/,_e=Ar(["Q","q"],!1,!1),Be=function(me,Me){return{x1:me.x,y1:me.y,x:Me.x,y:Me.y}},We=/^[Tt]/,Ve=Ar(["T","t"],!1,!1),Ue=/^[Aa]/,nt=Ar(["A","a"],!1,!1),He=function(me,Me,$e,Ae,at,cn){return{rx:me,ry:Me,xAxisRotation:$e,largeArc:Ae,sweep:at,x:cn.x,y:cn.y}},tt=function(me,Me){return{x:me,y:Me}},Xe=function(me){return 1*me},xt=function(me){return 1*me.join("")},rt=/^[01]/,wt=Ar(["0","1"],!1,!1),lt=function(me){return"1"==me},Gt=function(){return""},Nt=",",At=Co(",",!1),wn=function(me){return me.join("")},Cn=".",Sn=Co(".",!1),Fn=/^[eE]/,fn=Ar(["e","E"],!1,!1),hn=/^[+\-]/,Qn=Ar(["+","-"],!1,!1),pi=/^[0-9]/,Fe=Ar([["0","9"]],!1,!1),Pe=function(me){return me.join("")},bt=/^[ \t\n\r]/,en=Ar([" ","\t","\n","\r"],!1,!1),ye=0,Yn=[{line:1,column:1}],_n=0,$t=[],vn=0;if("startRule"in s){if(!(s.startRule in l))throw new Error("Can't start parsing from rule \""+s.startRule+'".');c=l[s.startRule]}function Co(me,Me){return{type:"literal",text:me,ignoreCase:Me}}function Ar(me,Me,$e){return{type:"class",parts:me,inverted:Me,ignoreCase:$e}}function yn(me){var $e,Me=Yn[me];if(Me)return Me;for($e=me-1;!Yn[$e];)$e--;for(Me={line:(Me=Yn[$e]).line,column:Me.column};$e<me;)10===o.charCodeAt($e)?(Me.line++,Me.column=1):Me.column++,$e++;return Yn[me]=Me,Me}function Ci(me){ye<_n||(ye>_n&&(_n=ye,$t=[]),$t.push(me))}function Bu(){var me,Me,$e,Ae,at;for(me=ye,Me=[],$e=vr();$e!==a;)Me.push($e),$e=vr();if(Me!==a)if($e=function Wo(){var me,Me,$e,Ae,at,cn;if(me=ye,(Me=Kc())!==a){for($e=[],Ae=ye,at=[],cn=vr();cn!==a;)at.push(cn),cn=vr();for(at!==a&&(cn=Kc())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;){for($e.push(Ae),Ae=ye,at=[],cn=vr();cn!==a;)at.push(cn),cn=vr();at!==a&&(cn=Kc())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a)}$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}(),$e===a&&($e=null),$e!==a){for(Ae=[],at=vr();at!==a;)Ae.push(at),at=vr();Ae!==a?me=Me=d($e):(ye=me,me=a)}else ye=me,me=a;else ye=me,me=a;return me}function Kc(){var me,Me,$e,Ae,at,cn;if(me=ye,Me=function OO(){var me,Me,$e,Ae,at,cn,wy;if(me=ye,p.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(g)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a&&(Ae=Ni())!==a?(at=ye,(cn=Ro())===a&&(cn=null),cn!==a&&(wy=SO())!==a?at=cn=[cn,wy]:(ye=at,at=a),at===a&&(at=null),at!==a?me=Me=v(Me,Ae,at):(ye=me,me=a)):(ye=me,me=a)}else ye=me,me=a;return me}(),Me!==a){for($e=[],Ae=ye,at=[],cn=vr();cn!==a;)at.push(cn),cn=vr();for(at!==a&&(cn=ec())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;){for($e.push(Ae),Ae=ye,at=[],cn=vr();cn!==a;)at.push(cn),cn=vr();at!==a&&(cn=ec())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a)}$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}function ec(){var me;return(me=function aN(){var Me;return ye,y.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(b)),Me!==a&&(Me=P()),Me}())===a&&(me=function lN(){var me,Me,$e,Ae;if(me=ye,O.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(S)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a&&(Ae=SO())!==a?me=Me=A(Me,Ae):(ye=me,me=a)}else ye=me,me=a;return me}())===a&&(me=function Le(){var me,Me,$e,Ae;if(me=ye,H.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(V)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a&&(Ae=Pt())!==a?me=Me=Q(Me,Ae):(ye=me,me=a)}else ye=me,me=a;return me}())===a&&(me=function Ut(){var me,Me,$e,Ae;if(me=ye,Y.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(ee)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a&&(Ae=Pt())!==a?me=Me=ne(Me,Ae):(ye=me,me=a)}else ye=me,me=a;return me}())===a&&(me=function _t(){var me,Me,$e,Ae;if(me=ye,ae.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(pe)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a?(Ae=function Vt(){var me,Me,$e,Ae,at,cn;if(me=ye,(Me=ni())!==a){for($e=[],Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=ni())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;)$e.push(Ae),Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=ni())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}(),Ae!==a?me=Me=A(Me,Ae):(ye=me,me=a)):(ye=me,me=a)}else ye=me,me=a;return me}())===a&&(me=function er(){var me,Me,$e,Ae;if(me=ye,ge.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(Se)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a?(Ae=function mr(){var me,Me,$e,Ae,at,cn;if(me=ye,(Me=gr())!==a){for($e=[],Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=gr())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;)$e.push(Ae),Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=gr())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}(),Ae!==a?me=Me=A(Me,Ae):(ye=me,me=a)):(ye=me,me=a)}else ye=me,me=a;return me}())===a&&(me=function Mo(){var me,Me,$e,Ae;if(me=ye,Ce.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(_e)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a?(Ae=function Gr(){var me,Me,$e,Ae,at,cn;if(me=ye,(Me=Cr())!==a){for($e=[],Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=Cr())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;)$e.push(Ae),Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=Cr())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}(),Ae!==a?me=Me=A(Me,Ae):(ye=me,me=a)):(ye=me,me=a)}else ye=me,me=a;return me}())===a&&(me=function Ga(){var me,Me,$e,Ae;if(me=ye,We.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(Ve)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a?(Ae=function tc(){var me,Me,$e,Ae,at,cn;if(me=ye,(Me=Ni())!==a){for($e=[],Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=Ni())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;)$e.push(Ae),Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=Ni())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}(),Ae!==a?me=Me=A(Me,Ae):(ye=me,me=a)):(ye=me,me=a)}else ye=me,me=a;return me}())===a&&(me=function Eh(){var me,Me,$e,Ae;if(me=ye,Ue.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(nt)),Me!==a){for($e=[],Ae=vr();Ae!==a;)$e.push(Ae),Ae=vr();$e!==a?(Ae=function Jp(){var me,Me,$e,Ae,at,cn;if(me=ye,(Me=ns())!==a){for($e=[],Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=ns())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;)$e.push(Ae),Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=ns())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}(),Ae!==a?me=Me=A(Me,Ae):(ye=me,me=a)):(ye=me,me=a)}else ye=me,me=a;return me}()),me}function SO(){var me,Me,$e,Ae,at,cn;if(me=ye,(Me=Ni())!==a){for($e=[],Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=Ni())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;)$e.push(Ae),Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=Ni())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}function Pt(){var me,Me,$e,Ae,at,cn;if(me=ye,(Me=zu())!==a){for($e=[],Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=zu())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);Ae!==a;)$e.push(Ae),Ae=ye,(at=Ro())===a&&(at=null),at!==a&&(cn=zu())!==a?Ae=at=[at,cn]:(ye=Ae,Ae=a);$e!==a?me=Me=h(Me,$e):(ye=me,me=a)}else ye=me,me=a;return me}function ni(){var me,Me,$e,Ae,at,cn;return me=ye,(Me=Ni())!==a?(($e=Ro())===a&&($e=null),$e!==a&&(Ae=Ni())!==a?((at=Ro())===a&&(at=null),at!==a&&(cn=Ni())!==a?me=Me=fe(Me,Ae,cn):(ye=me,me=a)):(ye=me,me=a)):(ye=me,me=a),me}function gr(){var me,Me,$e,Ae;return me=ye,(Me=Ni())!==a?(($e=Ro())===a&&($e=null),$e!==a&&(Ae=Ni())!==a?me=Me=Oe(Me,Ae):(ye=me,me=a)):(ye=me,me=a),me}function Cr(){var me,Me,$e,Ae;return me=ye,(Me=Ni())!==a?(($e=Ro())===a&&($e=null),$e!==a&&(Ae=Ni())!==a?me=Me=Be(Me,Ae):(ye=me,me=a)):(ye=me,me=a),me}function ns(){var me,Me,$e,Ae,at,cn,dN,EO,hN,DO,uN;return me=ye,(Me=by())!==a?(($e=Ro())===a&&($e=null),$e!==a&&(Ae=by())!==a?((at=Ro())===a&&(at=null),at!==a&&(cn=zu())!==a&&Ro()!==a&&(dN=Uu())!==a?((EO=Ro())===a&&(EO=null),EO!==a&&(hN=Uu())!==a?((DO=Ro())===a&&(DO=null),DO!==a&&(uN=Ni())!==a?me=Me=He(Me,Ae,cn,dN,hN,uN):(ye=me,me=a)):(ye=me,me=a)):(ye=me,me=a)):(ye=me,me=a)):(ye=me,me=a),me}function Ni(){var me,Me,$e,Ae;return me=ye,(Me=zu())!==a?(($e=Ro())===a&&($e=null),$e!==a&&(Ae=zu())!==a?me=Me=tt(Me,Ae):(ye=me,me=a)):(ye=me,me=a),me}function by(){var Me;return ye,(Me=_y())===a&&(Me=Fs()),Me!==a&&(Me=Xe(Me)),Me}function zu(){var Me,$e,Ae;return ye,Me=ye,($e=M0())===a&&($e=null),$e!==a&&(Ae=_y())!==a?Me=$e=[$e,Ae]:(ye=Me,Me=a),Me===a&&(Me=ye,($e=M0())===a&&($e=null),$e!==a&&(Ae=Fs())!==a?Me=$e=[$e,Ae]:(ye=Me,Me=a)),Me!==a&&(Me=xt(Me)),Me}function Uu(){var Me;return ye,rt.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(wt)),Me!==a&&(Me=lt(Me)),Me}function Ro(){var me,Me,$e,Ae,at;if(me=ye,Me=[],($e=vr())!==a)for(;$e!==a;)Me.push($e),$e=vr();else Me=a;if(Me!==a)if(($e=Om())===a&&($e=null),$e!==a){for(Ae=[],at=vr();at!==a;)Ae.push(at),at=vr();Ae!==a?me=Me=[Me,$e,Ae]:(ye=me,me=a)}else ye=me,me=a;else ye=me,me=a;if(me===a){if(me=ye,Me=ye,($e=Om())!==a){for(Ae=[],at=vr();at!==a;)Ae.push(at),at=vr();Ae!==a?Me=$e=[$e,Ae]:(ye=Me,Me=a)}else ye=Me,Me=a;Me!==a&&(Me=Gt()),me=Me}return me}function Om(){var me;return 44===o.charCodeAt(ye)?(me=Nt,ye++):(me=a,0===vn&&Ci(At)),me}function _y(){var Me,$e,Ae;return ye,Me=ye,$e=function Ma(){var Me,$e,Ae,at;return ye,Me=ye,($e=Fs())===a&&($e=null),$e!==a?(46===o.charCodeAt(ye)?(Ae=Cn,ye++):(Ae=a,0===vn&&Ci(Sn)),Ae!==a&&(at=Fs())!==a?Me=$e=[$e,Ae,at]:(ye=Me,Me=a)):(ye=Me,Me=a),Me===a&&(Me=ye,($e=Fs())!==a?(46===o.charCodeAt(ye)?(Ae=Cn,ye++):(Ae=a,0===vn&&Ci(Sn)),Ae!==a?Me=$e=[$e,Ae]:(ye=Me,Me=a)):(ye=Me,Me=a)),Me!==a&&(Me=wn(Me)),Me}(),$e!==a?((Ae=ju())===a&&(Ae=null),Ae!==a?Me=$e=[$e,Ae]:(ye=Me,Me=a)):(ye=Me,Me=a),Me===a&&(Me=ye,($e=Fs())!==a&&(Ae=ju())!==a?Me=$e=[$e,Ae]:(ye=Me,Me=a)),Me!==a&&(Me=wn(Me)),Me}function ju(){var Me,$e,Ae,at;return ye,Me=ye,Fn.test(o.charAt(ye))?($e=o.charAt(ye),ye++):($e=a,0===vn&&Ci(fn)),$e!==a?((Ae=M0())===a&&(Ae=null),Ae!==a&&(at=Fs())!==a?Me=$e=[$e,Ae,at]:(ye=Me,Me=a)):(ye=Me,Me=a),Me!==a&&(Me=wn(Me)),Me}function M0(){var me;return hn.test(o.charAt(ye))?(me=o.charAt(ye),ye++):(me=a,0===vn&&Ci(Qn)),me}function Fs(){var Me,$e;if(ye,Me=[],pi.test(o.charAt(ye))?($e=o.charAt(ye),ye++):($e=a,0===vn&&Ci(Fe)),$e!==a)for(;$e!==a;)Me.push($e),pi.test(o.charAt(ye))?($e=o.charAt(ye),ye++):($e=a,0===vn&&Ci(Fe));else Me=a;return Me!==a&&(Me=Pe(Me)),Me}function vr(){var Me;return ye,bt.test(o.charAt(ye))?(Me=o.charAt(ye),ye++):(Me=a,0===vn&&Ci(en)),Me!==a&&(Me=Gt()),Me}var P0={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var xZ in P0)P0[xZ.toUpperCase()]=P0[xZ];function xy(me,Me){Me||(Me=[{}]);for(var $e=Me.length;$e--;){var Ae={code:me,command:P0[me]};for(var at in me==me.toLowerCase()&&(Ae.relative=!0),Me[$e])Ae[at]=Me[$e][at];Me[$e]=Ae}return Me}if((Kn=c())!==a&&ye===o.length)return Kn;throw Kn!==a&&ye<o.length&&Ci({type:"end"}),function Ca(me,Me,$e){return new i(i.buildMessage(me,Me),me,Me,$e)}($t,_n<o.length?o.charAt(_n):null,function di(me,Me){var $e=yn(me),Ae=yn(Me);return{start:{offset:me,line:$e.line,column:$e.column},end:{offset:Me,line:Ae.line,column:Ae.column}}}(_n,_n<o.length?_n+1:_n))}}}),ej=pp((e,t)=>{var n=yye().parse;n.parseSVG=n,n.makeAbsolute=function i(r){var o,s={x:0,y:0},a={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return r.forEach(function(l){for(var c in"moveto"===l.command&&(o=l),l.x0=s.x,l.y0=s.y,a)c in l&&(l[c]+=l.relative?l[a[c]]:0);"x"in l||(l.x=s.x),"y"in l||(l.y=s.y),l.relative=!1,l.code=l.code.toUpperCase(),"closepath"==l.command&&(l.x=o.x,l.y=o.y),s=l}),r},t.exports=n}),bye=pp((e,t)=>{t.exports=function(n,i){for(var r=n.split("."),o=i.split("."),s=0;s<3;s++){var a=Number(r[s]),l=Number(o[s]);if(a>l)return 1;if(l>a)return-1;if(!isNaN(a)&&isNaN(l))return 1;if(isNaN(a)&&!isNaN(l))return-1}return 0}}),Nv="149",_ye=0,tj=1,xye=2,rT=1,wye=2,Zb=3,oh=0,Ta=1,bl=2,qs=0,Dg=1,nj=2,ij=3,rj=4,Cye=5,Lv=100,Mye=101,Pye=102,oj=103,sj=104,Oye=200,Sye=201,Eye=202,Dye=203,aj=204,lj=205,Aye=206,Tye=207,Iye=208,kye=209,Rye=210,Nye=0,Lye=1,Fye=2,oT=3,Bye=4,zye=5,Uye=6,jye=7,cj=0,Vye=1,Hye=2,ou=0,Gye=1,Wye=2,qye=3,Yye=4,Xye=5,Ag=301,Tg=302,sT=303,aT=304,Jb=306,mp=1e3,Ko=1001,lT=1002,io=1003,hj=1004,cT=1005,nr=1006,$ye=1007,Fv=1008,_l=1009,Qye=1010,Kye=1011,uj=1012,Zye=1013,gp=1014,Ys=1015,vp=1016,Jye=1017,ebe=1018,Ig=1020,tbe=1021,Ia=1023,nbe=1024,ibe=1025,kg=1026,Rg=1027,rbe=1028,obe=1029,lM=1030,sbe=1031,pj=1033,dT=33776,hT=33777,uT=33778,pT=33779,fj=35840,mj=35841,gj=35842,vj=35843,abe=36196,yj=37492,bj=37496,_j=37808,xj=37809,wj=37810,Cj=37811,Mj=37812,Pj=37813,Oj=37814,Sj=37815,Ej=37816,Dj=37817,Aj=37818,Tj=37819,Ij=37820,kj=37821,fT=36492,lbe=36283,Rj=36284,Nj=36285,Lj=36286,Fj=2200,mT=2202,Bv=2400,zv=2401,sh=3e3,Zi=3001,yp=3200,zj=3201,dbe=0,hbe=1,su="srgb",uM="srgb-linear",Uj="300 es",_T=1035,el=class{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let i=n.indexOf(t);-1!==i&&n.splice(i,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let i=0,r=n.length;i<r;i++)n[i].call(this,e);e.target=null}}},xl=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],jj=1234567,e_=Math.PI/180,t_=180/Math.PI;function Md(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(xl[255&e]+xl[e>>8&255]+xl[e>>16&255]+xl[e>>24&255]+"-"+xl[255&t]+xl[t>>8&255]+"-"+xl[t>>16&15|64]+xl[t>>24&255]+"-"+xl[63&n|128]+xl[n>>8&255]+"-"+xl[n>>16&255]+xl[n>>24&255]+xl[255&i]+xl[i>>8&255]+xl[i>>16&255]+xl[i>>24&255]).toLowerCase()}function Xs(e,t,n){return Math.max(t,Math.min(n,e))}function xT(e,t){return(e%t+t)%t}function n_(e,t,n){return(1-n)*e+n*t}function wT(e){return 0==(e&e-1)&&0!==e}function Vj(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function pM(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function bp(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Lo(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Ln=Object.freeze({__proto__:null,DEG2RAD:e_,RAD2DEG:t_,ceilPowerOfTwo:Vj,clamp:Xs,damp:function gbe(e,t,n,i){return n_(e,t,1-Math.exp(-n*i))},degToRad:function Mbe(e){return e*e_},denormalize:bp,euclideanModulo:xT,floorPowerOfTwo:pM,generateUUID:Md,inverseLerp:function mbe(e,t,n){return e!==t?(n-e)/(t-e):0},isPowerOfTwo:wT,lerp:n_,mapLinear:function fbe(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},normalize:Lo,pingpong:function vbe(e,t=1){return t-Math.abs(xT(e,2*t)-t)},radToDeg:function Pbe(e){return e*t_},randFloat:function xbe(e,t){return e+Math.random()*(t-e)},randFloatSpread:function wbe(e){return e*(.5-Math.random())},randInt:function _be(e,t){return e+Math.floor(Math.random()*(t-e+1))},seededRandom:function Cbe(e){void 0!==e&&(jj=e);let t=jj+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},setQuaternionFromProperEuler:function Obe(e,t,n,i,r){let o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),d=s((t+i)/2),h=o((t-i)/2),p=s((t-i)/2),g=o((i-t)/2),v=s((i-t)/2);switch(r){case"XYX":e.set(a*d,l*h,l*p,a*c);break;case"YZY":e.set(l*p,a*d,l*h,a*c);break;case"ZXZ":e.set(l*h,l*p,a*d,a*c);break;case"XZX":e.set(a*d,l*v,l*g,a*c);break;case"YXY":e.set(l*g,a*d,l*v,a*c);break;case"ZYZ":e.set(l*v,l*g,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},smootherstep:function bbe(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},smoothstep:function ybe(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}}),qe=class{constructor(e=0,t=0){qe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},$s=class{constructor(){$s.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,r,o,s,a,l){let c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],d=n[7],h=n[2],p=n[5],g=n[8],v=i[0],y=i[3],b=i[6],P=i[1],O=i[4],S=i[7],A=i[2],H=i[5],V=i[8];return r[0]=o*v+s*P+a*A,r[3]=o*y+s*O+a*H,r[6]=o*b+s*S+a*V,r[1]=l*v+c*P+d*A,r[4]=l*y+c*O+d*H,r[7]=l*b+c*S+d*V,r[2]=h*v+p*P+g*A,r[5]=h*y+p*O+g*H,r[8]=h*b+p*S+g*V,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],d=c*o-s*l,h=s*a-c*r,p=l*r-o*a,g=t*d+n*h+i*p;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);let v=1/g;return e[0]=d*v,e[1]=(i*l-c*n)*v,e[2]=(s*n-i*o)*v,e[3]=h*v,e[4]=(c*t-i*a)*v,e[5]=(i*r-s*t)*v,e[6]=p*v,e[7]=(n*a-l*t)*v,e[8]=(o*t-n*r)*v,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,s){let a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-i*l,i*a,-i*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(CT.makeScale(e,t)),this}rotate(e){return this.premultiply(CT.makeRotation(-e)),this}translate(e,t){return this.premultiply(CT.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}},CT=new $s;function Hj(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var Sbe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fM(e,t){return new Sbe[e](t)}function i_(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Ng(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function mM(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var MT={[su]:{[uM]:Ng},[uM]:{[su]:mM}},Vl={legacyMode:!0,get workingColorSpace(){return uM},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(MT[t]&&void 0!==MT[t][n]){let i=MT[t][n];return e.r=i(e.r),e.g=i(e.g),e.b=i(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Gj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pa={r:0,g:0,b:0},ah={h:0,s:0,l:0},gM={h:0,s:0,l:0};function PT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function vM(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var gi=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=su){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Vl.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=Vl.workingColorSpace){return this.r=e,this.g=t,this.b=n,Vl.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=Vl.workingColorSpace){if(e=xT(e,1),t=Xs(t,0,1),n=Xs(n,0,1),0===t)this.r=this.g=this.b=n;else{let r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=PT(o,r,e+1/3),this.g=PT(o,r,e),this.b=PT(o,r,e-1/3)}return Vl.toWorkingColorSpace(this,i),this}setStyle(e,t=su){function n(r){void 0!==r&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r,s=i[2];switch(i[1]){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Vl.toWorkingColorSpace(this,t),n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Vl.toWorkingColorSpace(this,t),n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){let a=parseFloat(r[1])/360,l=parseFloat(r[2])/100,c=parseFloat(r[3])/100;return n(r[4]),this.setHSL(a,l,c,t)}}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){let r=i[1],o=r.length;if(3===o)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,Vl.toWorkingColorSpace(this,t),this;if(6===o)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,Vl.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=su){let n=Gj[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ng(e.r),this.g=Ng(e.g),this.b=Ng(e.b),this}copyLinearToSRGB(e){return this.r=mM(e.r),this.g=mM(e.g),this.b=mM(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=su){return Vl.fromWorkingColorSpace(vM(this,pa),e),Xs(255*pa.r,0,255)<<16^Xs(255*pa.g,0,255)<<8^Xs(255*pa.b,0,255)<<0}getHexString(e=su){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Vl.workingColorSpace){Vl.fromWorkingColorSpace(vM(this,pa),t);let a,l,n=pa.r,i=pa.g,r=pa.b,o=Math.max(n,i,r),s=Math.min(n,i,r),c=(s+o)/2;if(s===o)a=0,l=0;else{let d=o-s;switch(l=c<=.5?d/(o+s):d/(2-o-s),o){case n:a=(i-r)/d+(i<r?6:0);break;case i:a=(r-n)/d+2;break;case r:a=(n-i)/d+4}a/=6}return e.h=a,e.s=l,e.l=c,e}getRGB(e,t=Vl.workingColorSpace){return Vl.fromWorkingColorSpace(vM(this,pa),t),e.r=pa.r,e.g=pa.g,e.b=pa.b,e}getStyle(e=su){return Vl.fromWorkingColorSpace(vM(this,pa),e),e!==su?`color(${e} ${pa.r} ${pa.g} ${pa.b})`:`rgb(${255*pa.r|0},${255*pa.g|0},${255*pa.b|0})`}offsetHSL(e,t,n){return this.getHSL(ah),ah.h+=e,ah.s+=t,ah.l+=n,this.setHSL(ah.h,ah.s,ah.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ah),e.getHSL(gM);let n=n_(ah.h,gM.h,t),i=n_(ah.s,gM.s,t),r=n_(ah.l,gM.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};gi.NAMES=Gj;var Uv,Wj=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Uv&&(Uv=i_("canvas")),Uv.width=e.width,Uv.height=e.height;let n=Uv.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Uv}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=i_("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=255*Ng(r[o]/255);return n.putImageData(i,0,0),t}if(e.data){let t=e.data.slice(0);for(let n=0;n<t.length;n++)t[n]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Ng(t[n]/255)):Ng(t[n]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},qj=class{constructor(e=null){this.isSource=!0,this.uuid=Md(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];let n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let r;if(Array.isArray(i)){r=[];for(let o=0,s=i.length;o<s;o++)r.push(OT(i[o].isDataTexture?i[o].image:i[o]))}else r=OT(i);n.url=r}return t||(e.images[this.uuid]=n),n}};function OT(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?Wj.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Ebe=0,ds=class extends el{constructor(e=ds.DEFAULT_IMAGE,t=ds.DEFAULT_MAPPING,n=Ko,i=Ko,r=nr,o=Fv,s=Ia,a=_l,l=ds.DEFAULT_ANISOTROPY,c=sh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ebe++}),this.uuid=Md(),this.name="",this.source=new qj(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new qe(0,0),this.repeat=new qe(1,1),this.center=new qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $s,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];let n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case mp:e.x=e.x-Math.floor(e.x);break;case Ko:e.x=e.x<0?0:1;break;case lT:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case mp:e.y=e.y-Math.floor(e.y);break;case Ko:e.y=e.y<0?0:1;break;case lT:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}};ds.DEFAULT_IMAGE=null,ds.DEFAULT_MAPPING=300,ds.DEFAULT_ANISOTROPY=1;var ki=class{constructor(e=0,t=0,n=0,i=1){ki.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r,o=e.elements,s=o[0],a=o[4],l=o[8],c=o[1],d=o[5],h=o[9],p=o[2],g=o[6],v=o[10];if(Math.abs(a-c)<.01&&Math.abs(l-p)<.01&&Math.abs(h-g)<.01){if(Math.abs(a+c)<.1&&Math.abs(l+p)<.1&&Math.abs(h+g)<.1&&Math.abs(s+d+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let b=(s+1)/2,P=(d+1)/2,O=(v+1)/2,S=(a+c)/4,A=(l+p)/4,H=(h+g)/4;return b>P&&b>O?b<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(b),i=S/n,r=A/n):P>O?P<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(P),n=S/i,r=H/i):O<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(O),n=A/r,i=H/r),this.set(n,i,r,t),this}let y=Math.sqrt((g-h)*(g-h)+(l-p)*(l-p)+(c-a)*(c-a));return Math.abs(y)<.001&&(y=1),this.x=(g-h)/y,this.y=(l-p)/y,this.z=(c-a)/y,this.w=Math.acos((s+d+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Zr=class extends el{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ki(0,0,e,t),this.scissorTest=!1,this.viewport=new ki(0,0,e,t),this.texture=new ds({width:e,height:t,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:nr,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new qj(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Yj=class extends ds{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=io,this.minFilter=io,this.wrapR=Ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Abe=class extends Zr{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;let r=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=r.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},Ri=class{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],d=n[i+3],h=r[o+0],p=r[o+1],g=r[o+2],v=r[o+3];if(0===s)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=d);if(1===s)return e[t+0]=h,e[t+1]=p,e[t+2]=g,void(e[t+3]=v);if(d!==v||a!==h||l!==p||c!==g){let y=1-s,b=a*h+l*p+c*g+d*v,P=b>=0?1:-1,O=1-b*b;if(O>Number.EPSILON){let A=Math.sqrt(O),H=Math.atan2(A,b*P);y=Math.sin(y*H)/A,s=Math.sin(s*H)/A}let S=s*P;if(a=a*y+h*S,l=l*y+p*S,c=c*y+g*S,d=d*y+v*S,y===1-s){let A=1/Math.sqrt(a*a+l*l+c*c+d*d);a*=A,l*=A,c*=A,d*=A}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,i,r,o){let s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],d=r[o],h=r[o+1],p=r[o+2],g=r[o+3];return e[t]=s*g+c*d+a*p-l*h,e[t+1]=a*g+c*h+l*d-s*p,e[t+2]=l*g+c*p+s*h-a*d,e[t+3]=c*g-s*d-a*h-l*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let n=e._x,i=e._y,r=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),d=s(r/2),h=a(n/2),p=a(i/2),g=a(r/2);switch(o){case"XYZ":this._x=h*c*d+l*p*g,this._y=l*p*d-h*c*g,this._z=l*c*g+h*p*d,this._w=l*c*d-h*p*g;break;case"YXZ":this._x=h*c*d+l*p*g,this._y=l*p*d-h*c*g,this._z=l*c*g-h*p*d,this._w=l*c*d+h*p*g;break;case"ZXY":this._x=h*c*d-l*p*g,this._y=l*p*d+h*c*g,this._z=l*c*g+h*p*d,this._w=l*c*d-h*p*g;break;case"ZYX":this._x=h*c*d-l*p*g,this._y=l*p*d+h*c*g,this._z=l*c*g-h*p*d,this._w=l*c*d+h*p*g;break;case"YZX":this._x=h*c*d+l*p*g,this._y=l*p*d+h*c*g,this._z=l*c*g-h*p*d,this._w=l*c*d-h*p*g;break;case"XZY":this._x=h*c*d-l*p*g,this._y=l*p*d-h*c*g,this._z=l*c*g+h*p*d,this._w=l*c*d+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],d=t[10],h=n+s+d;if(h>0){let p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(c-a)*p,this._y=(r-l)*p,this._z=(o-i)*p}else if(n>s&&n>d){let p=2*Math.sqrt(1+n-s-d);this._w=(c-a)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(r+l)/p}else if(s>d){let p=2*Math.sqrt(1+s-n-d);this._w=(r-l)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(a+c)/p}else{let p=2*Math.sqrt(1+d-n-s);this._w=(o-i)/p,this._x=(r+l)/p,this._y=(a+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xs(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(0===n)return this;let i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,i=e._y,r=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);let n=this._x,i=this._y,r=this._z,o=this._w,s=o*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;let a=1-s*s;if(a<=Number.EPSILON){let p=1-t;return this._w=p*o+t*this._w,this._x=p*n+t*this._x,this._y=p*i+t*this._y,this._z=p*r+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(a),c=Math.atan2(l,s),d=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*d+this._w*h,this._x=n*d+this._x*h,this._y=i*d+this._y*h,this._z=r*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},ie=class{constructor(e=0,t=0,n=0){ie.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Xj.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Xj.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){let t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,c=a*n+s*t-r*i,d=a*i+r*n-o*t,h=-r*t-o*n-s*i;return this.x=l*a+h*-r+c*-s-d*-o,this.y=c*a+h*-o+d*-r-l*-s,this.z=d*a+h*-s+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(e){let t=e.lengthSq();if(0===t)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ST.copy(this).projectOnVector(e),this.sub(ST)}reflect(e){return this.sub(ST.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(Xs(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},ST=new ie,Xj=new Ri,As=class{constructor(e=new ie(1/0,1/0,1/0),t=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.length;a<l;a+=3){let c=e[a],d=e[a+1],h=e[a+2];c<t&&(t=c),d<n&&(n=d),h<i&&(i=h),c>r&&(r=c),d>o&&(o=d),h>s&&(s=h)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.count;a<l;a++){let c=e.getX(a),d=e.getY(a),h=e.getZ(a);c<t&&(t=c),d<n&&(n=d),h<i&&(i=h),c>r&&(r=c),d>o&&(o=d),h>s&&(s=h)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=Lg.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){let r=n.attributes.position;for(let o=0,s=r.count;o<s;o++)Lg.fromBufferAttribute(r,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Lg)}else null===n.boundingBox&&n.computeBoundingBox(),ET.copy(n.boundingBox),ET.applyMatrix4(e.matrixWorld),this.union(ET);let i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Lg),Lg.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(r_),yM.subVectors(this.max,r_),jv.subVectors(e.a,r_),Vv.subVectors(e.b,r_),Hv.subVectors(e.c,r_),Uf.subVectors(Vv,jv),jf.subVectors(Hv,Vv),Fg.subVectors(jv,Hv);let t=[0,-Uf.z,Uf.y,0,-jf.z,jf.y,0,-Fg.z,Fg.y,Uf.z,0,-Uf.x,jf.z,0,-jf.x,Fg.z,0,-Fg.x,-Uf.y,Uf.x,0,-jf.y,jf.x,0,-Fg.y,Fg.x,0];return!(!DT(t,jv,Vv,Hv,yM)||(t=[1,0,0,0,1,0,0,0,1],!DT(t,jv,Vv,Hv,yM)))&&(bM.crossVectors(Uf,jf),t=[bM.x,bM.y,bM.z],DT(t,jv,Vv,Hv,yM))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Lg.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Lg).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(_p[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_p[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_p[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_p[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_p[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_p[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_p[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_p[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_p)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},_p=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],Lg=new ie,ET=new As,jv=new ie,Vv=new ie,Hv=new ie,Uf=new ie,jf=new ie,Fg=new ie,r_=new ie,yM=new ie,bM=new ie,Bg=new ie;function DT(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){Bg.fromArray(e,o);let a=r.x*Math.abs(Bg.x)+r.y*Math.abs(Bg.y)+r.z*Math.abs(Bg.z),l=t.dot(Bg),c=n.dot(Bg),d=i.dot(Bg);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}var Tbe=new As,o_=new ie,AT=new ie,gc=class{constructor(e=new ie,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;void 0!==t?n.copy(t):Tbe.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;o_.subVectors(e,this.center);let t=o_.lengthSq();if(t>this.radius*this.radius){let n=Math.sqrt(t),i=.5*(n-this.radius);this.center.addScaledVector(o_,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(AT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(o_.copy(e.center).add(AT)),this.expandByPoint(o_.copy(e.center).sub(AT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}},xp=new ie,TT=new ie,_M=new ie,Vf=new ie,IT=new ie,xM=new ie,kT=new ie,Gv=class{constructor(e=new ie,t=new ie(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,xp)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=xp.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(xp.copy(this.direction).multiplyScalar(t).add(this.origin),xp.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){TT.copy(e).add(t).multiplyScalar(.5),_M.copy(t).sub(e).normalize(),Vf.copy(this.origin).sub(TT);let d,h,p,g,r=.5*e.distanceTo(t),o=-this.direction.dot(_M),s=Vf.dot(this.direction),a=-Vf.dot(_M),l=Vf.lengthSq(),c=Math.abs(1-o*o);if(c>0)if(d=o*a-s,h=o*s-a,g=r*c,d>=0)if(h>=-g)if(h<=g){let v=1/c;d*=v,h*=v,p=d*(d+o*h+2*s)+h*(o*d+h+2*a)+l}else h=r,d=Math.max(0,-(o*h+s)),p=-d*d+h*(h+2*a)+l;else h=-r,d=Math.max(0,-(o*h+s)),p=-d*d+h*(h+2*a)+l;else h<=-g?(d=Math.max(0,-(-o*r+s)),h=d>0?-r:Math.min(Math.max(-r,-a),r),p=-d*d+h*(h+2*a)+l):h<=g?(d=0,h=Math.min(Math.max(-r,-a),r),p=h*(h+2*a)+l):(d=Math.max(0,-(o*r+s)),h=d>0?r:Math.min(Math.max(-r,-a),r),p=-d*d+h*(h+2*a)+l);else h=o>0?-r:r,d=Math.max(0,-(o*h+s)),p=-d*d+h*(h+2*a)+l;return n&&n.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(_M).multiplyScalar(h).add(TT),p}intersectSphere(e,t){xp.subVectors(e.center,this.origin);let n=xp.dot(this.direction),i=xp.dot(xp)-n*n,r=e.radius*e.radius;if(i>r)return null;let o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:this.at(s<0?a:s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,o,s,a,l=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||r>i||((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),d>=0?(s=(e.min.z-h.z)*d,a=(e.max.z-h.z)*d):(s=(e.max.z-h.z)*d,a=(e.min.z-h.z)*d),n>a||s>i)||((s>n||n!=n)&&(n=s),(a<i||i!=i)&&(i=a),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return null!==this.intersectBox(e,xp)}intersectTriangle(e,t,n,i,r){IT.subVectors(t,e),xM.subVectors(n,e),kT.crossVectors(IT,xM);let s,o=this.direction.dot(kT);if(o>0){if(i)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}Vf.subVectors(this.origin,e);let a=s*this.direction.dot(xM.crossVectors(Vf,xM));if(a<0)return null;let l=s*this.direction.dot(IT.cross(Vf));if(l<0||a+l>o)return null;let c=-s*Vf.dot(kT);return c<0?null:this.at(c/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}},Kt=class{constructor(){Kt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,r,o,s,a,l,c,d,h,p,g,v,y){let b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=i,b[1]=r,b[5]=o,b[9]=s,b[13]=a,b[2]=l,b[6]=c,b[10]=d,b[14]=h,b[3]=p,b[7]=g,b[11]=v,b[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Kt).fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,i=1/Wv.setFromMatrixColumn(e,0).length(),r=1/Wv.setFromMatrixColumn(e,1).length(),o=1/Wv.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),d=Math.sin(r);if("XYZ"===e.order){let h=o*c,p=o*d,g=s*c,v=s*d;t[0]=a*c,t[4]=-a*d,t[8]=l,t[1]=p+g*l,t[5]=h-v*l,t[9]=-s*a,t[2]=v-h*l,t[6]=g+p*l,t[10]=o*a}else if("YXZ"===e.order){let h=a*c,p=a*d,g=l*c,v=l*d;t[0]=h+v*s,t[4]=g*s-p,t[8]=o*l,t[1]=o*d,t[5]=o*c,t[9]=-s,t[2]=p*s-g,t[6]=v+h*s,t[10]=o*a}else if("ZXY"===e.order){let h=a*c,p=a*d,g=l*c,v=l*d;t[0]=h-v*s,t[4]=-o*d,t[8]=g+p*s,t[1]=p+g*s,t[5]=o*c,t[9]=v-h*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){let h=o*c,p=o*d,g=s*c,v=s*d;t[0]=a*c,t[4]=g*l-p,t[8]=h*l+v,t[1]=a*d,t[5]=v*l+h,t[9]=p*l-g,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){let h=o*a,p=o*l,g=s*a,v=s*l;t[0]=a*c,t[4]=v-h*d,t[8]=g*d+p,t[1]=d,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=p*d+g,t[10]=h-v*d}else if("XZY"===e.order){let h=o*a,p=o*l,g=s*a,v=s*l;t[0]=a*c,t[4]=-d,t[8]=l*c,t[1]=h*d+v,t[5]=o*c,t[9]=p*d-g,t[2]=g*d-p,t[6]=s*c,t[10]=v*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ibe,e,kbe)}lookAt(e,t,n){let i=this.elements;return qc.subVectors(e,t),0===qc.lengthSq()&&(qc.z=1),qc.normalize(),Hf.crossVectors(n,qc),0===Hf.lengthSq()&&(1===Math.abs(n.z)?qc.x+=1e-4:qc.z+=1e-4,qc.normalize(),Hf.crossVectors(n,qc)),Hf.normalize(),wM.crossVectors(qc,Hf),i[0]=Hf.x,i[4]=wM.x,i[8]=qc.x,i[1]=Hf.y,i[5]=wM.y,i[9]=qc.y,i[2]=Hf.z,i[6]=wM.z,i[10]=qc.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],d=n[5],h=n[9],p=n[13],g=n[2],v=n[6],y=n[10],b=n[14],P=n[3],O=n[7],S=n[11],A=n[15],H=i[0],V=i[4],Q=i[8],Y=i[12],ee=i[1],ne=i[5],ae=i[9],pe=i[13],fe=i[2],ge=i[6],Se=i[10],Oe=i[14],Ce=i[3],_e=i[7],Be=i[11],We=i[15];return r[0]=o*H+s*ee+a*fe+l*Ce,r[4]=o*V+s*ne+a*ge+l*_e,r[8]=o*Q+s*ae+a*Se+l*Be,r[12]=o*Y+s*pe+a*Oe+l*We,r[1]=c*H+d*ee+h*fe+p*Ce,r[5]=c*V+d*ne+h*ge+p*_e,r[9]=c*Q+d*ae+h*Se+p*Be,r[13]=c*Y+d*pe+h*Oe+p*We,r[2]=g*H+v*ee+y*fe+b*Ce,r[6]=g*V+v*ne+y*ge+b*_e,r[10]=g*Q+v*ae+y*Se+b*Be,r[14]=g*Y+v*pe+y*Oe+b*We,r[3]=P*H+O*ee+S*fe+A*Ce,r[7]=P*V+O*ne+S*ge+A*_e,r[11]=P*Q+O*ae+S*Se+A*Be,r[15]=P*Y+O*pe+S*Oe+A*We,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],d=e[6],h=e[10],p=e[14];return e[3]*(+r*a*d-i*l*d-r*s*h+n*l*h+i*s*p-n*a*p)+e[7]*(+t*a*p-t*l*h+r*o*h-i*o*p+i*l*c-r*a*c)+e[11]*(+t*l*d-t*s*p-r*o*d+n*o*p+r*s*c-n*l*c)+e[15]*(-i*s*c-t*a*d+t*s*h+i*o*d-n*o*h+n*a*c)}transpose(){let t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],d=e[9],h=e[10],p=e[11],g=e[12],v=e[13],y=e[14],b=e[15],P=d*y*l-v*h*l+v*a*p-s*y*p-d*a*b+s*h*b,O=g*h*l-c*y*l-g*a*p+o*y*p+c*a*b-o*h*b,S=c*v*l-g*d*l+g*s*p-o*v*p-c*s*b+o*d*b,A=g*d*a-c*v*a-g*s*h+o*v*h+c*s*y-o*d*y,H=t*P+n*O+i*S+r*A;if(0===H)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let V=1/H;return e[0]=P*V,e[1]=(v*h*r-d*y*r-v*i*p+n*y*p+d*i*b-n*h*b)*V,e[2]=(s*y*r-v*a*r+v*i*l-n*y*l-s*i*b+n*a*b)*V,e[3]=(d*a*r-s*h*r-d*i*l+n*h*l+s*i*p-n*a*p)*V,e[4]=O*V,e[5]=(c*y*r-g*h*r+g*i*p-t*y*p-c*i*b+t*h*b)*V,e[6]=(g*a*r-o*y*r-g*i*l+t*y*l+o*i*b-t*a*b)*V,e[7]=(o*h*r-c*a*r+c*i*l-t*h*l-o*i*p+t*a*p)*V,e[8]=S*V,e[9]=(g*d*r-c*v*r-g*n*p+t*v*p+c*n*b-t*d*b)*V,e[10]=(o*v*r-g*s*r+g*n*l-t*v*l-o*n*b+t*s*b)*V,e[11]=(c*s*r-o*d*r-c*n*l+t*d*l+o*n*p-t*s*p)*V,e[12]=A*V,e[13]=(c*v*i-g*d*i+g*n*h-t*v*h-c*n*y+t*d*y)*V,e[14]=(g*s*i-o*v*i-g*n*a+t*v*a+o*n*y-t*s*y)*V,e[15]=(o*d*i-c*s*i+c*n*a-t*d*a-o*n*h+t*s*h)*V,this}scale(e){let t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){let e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,s=e.y,a=e.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,o){return this.set(1,n,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){let i=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,l=r+r,c=o+o,d=s+s,h=r*l,p=r*c,g=r*d,v=o*c,y=o*d,b=s*d,P=a*l,O=a*c,S=a*d,A=n.x,H=n.y,V=n.z;return i[0]=(1-(v+b))*A,i[1]=(p+S)*A,i[2]=(g-O)*A,i[3]=0,i[4]=(p-S)*H,i[5]=(1-(h+b))*H,i[6]=(y+P)*H,i[7]=0,i[8]=(g+O)*V,i[9]=(y-P)*V,i[10]=(1-(h+v))*V,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){let i=this.elements,r=Wv.set(i[0],i[1],i[2]).length(),o=Wv.set(i[4],i[5],i[6]).length(),s=Wv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],lh.copy(this);let a=1/r,l=1/o,c=1/s;return lh.elements[0]*=a,lh.elements[1]*=a,lh.elements[2]*=a,lh.elements[4]*=l,lh.elements[5]*=l,lh.elements[6]*=l,lh.elements[8]*=c,lh.elements[9]*=c,lh.elements[10]*=c,t.setFromRotationMatrix(lh),n.x=r,n.y=o,n.z=s,this}makePerspective(e,t,n,i,r,o){let s=this.elements,l=2*r/(n-i),c=(t+e)/(t-e),d=(n+i)/(n-i),h=-(o+r)/(o-r),p=-2*o*r/(o-r);return s[0]=2*r/(t-e),s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,o){let s=this.elements,a=1/(t-e),l=1/(n-i),c=1/(o-r),d=(t+e)*a,h=(n+i)*l,p=(o+r)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},Wv=new ie,lh=new Kt,Ibe=new ie(0,0,0),kbe=new ie(1,1,1),Hf=new ie,wM=new ie,qc=new ie,$j=new Kt,Qj=new Ri,fa=class{constructor(e=0,t=0,n=0,i=fa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let i=e.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],c=i[9],d=i[2],h=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(Xs(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Xs(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(Xs(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,r));break;case"ZYX":this._y=Math.asin(-Xs(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(a,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Xs(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-Xs(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return $j.makeRotationFromQuaternion(e),this.setFromRotationMatrix($j,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Qj.setFromEuler(this),this.setFromQuaternion(Qj,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};fa.DEFAULT_ORDER="XYZ";var RT=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}},Rbe=0,Kj=new ie,qv=new Ri,wp=new Kt,CM=new ie,s_=new ie,Nbe=new ie,Lbe=new Ri,Zj=new ie(1,0,0),Jj=new ie(0,1,0),eV=new ie(0,0,1),Fbe={type:"added"},tV={type:"removed"},uo=class extends el{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Rbe++}),this.uuid=Md(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=uo.DEFAULT_UP.clone();let e=new ie,t=new fa,n=new Ri,i=new ie(1,1,1);t._onChange(function r(){n.setFromEuler(t,!1)}),n._onChange(function o(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Kt},normalMatrix:{value:new $s}}),this.matrix=new Kt,this.matrixWorld=new Kt,this.matrixAutoUpdate=uo.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=uo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new RT,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return qv.setFromAxisAngle(e,t),this.quaternion.multiply(qv),this}rotateOnWorldAxis(e,t){return qv.setFromAxisAngle(e,t),this.quaternion.premultiply(qv),this}rotateX(e){return this.rotateOnAxis(Zj,e)}rotateY(e){return this.rotateOnAxis(Jj,e)}rotateZ(e){return this.rotateOnAxis(eV,e)}translateOnAxis(e,t){return Kj.copy(e).applyQuaternion(this.quaternion),this.position.add(Kj.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Zj,e)}translateY(e){return this.translateOnAxis(Jj,e)}translateZ(e){return this.translateOnAxis(eV,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(wp.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?CM.copy(e):CM.set(e,t,n);let i=this.parent;this.updateWorldMatrix(!0,!1),s_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wp.lookAt(s_,CM,this.up):wp.lookAt(CM,s_,this.up),this.quaternion.setFromRotationMatrix(wp),i&&(wp.extractRotation(i.matrixWorld),qv.setFromRotationMatrix(wp),this.quaternion.premultiply(qv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Fbe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}let t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(tV)),this}removeFromParent(){let e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(tV)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),wp.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),wp.multiply(e.parent.matrixWorld)),e.applyMatrix4(wp),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){let r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,r=this.children.length;i<r;i++){let o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(n=n.concat(o))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(s_,e,Nbe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(s_,Lbe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,i=t.length;n<i;n++){let r=t[n];(!0===r.matrixWorldAutoUpdate||!0===e)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){let i=this.children;for(let r=0,o=i.length;r<o;r++){let s=i[r];!0===s.matrixWorldAutoUpdate&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};function r(s,a){return void 0===s[a.uuid]&&(s[a.uuid]=a.toJSON(e)),a.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);let s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){let a=s.shapes;if(Array.isArray(a))for(let l=0,c=a.length;l<c;l++)r(e.shapes,a[l]);else r(e.shapes,a)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){let s=[];for(let a=0,l=this.material.length;a<l;a++)s.push(r(e.materials,this.material[a]));i.material=s}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++)i.animations.push(r(e.animations,this.animations[s]))}if(t){let s=o(e.geometries),a=o(e.materials),l=o(e.textures),c=o(e.images),d=o(e.shapes),h=o(e.skeletons),p=o(e.animations),g=o(e.nodes);s.length>0&&(n.geometries=s),a.length>0&&(n.materials=a),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),d.length>0&&(n.shapes=d),h.length>0&&(n.skeletons=h),p.length>0&&(n.animations=p),g.length>0&&(n.nodes=g)}return n.object=i,n;function o(s){let a=[];for(let l in s){let c=s[l];delete c.metadata,a.push(c)}return a}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++)this.add(e.children[n].clone());return this}};uo.DEFAULT_UP=new ie(0,1,0),uo.DEFAULT_MATRIX_AUTO_UPDATE=!0,uo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var ch=new ie,Cp=new ie,NT=new ie,Mp=new ie,Yv=new ie,Xv=new ie,nV=new ie,LT=new ie,FT=new ie,BT=new ie,tl=class{constructor(e=new ie,t=new ie,n=new ie){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),ch.subVectors(e,t),i.cross(ch);let r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){ch.subVectors(i,t),Cp.subVectors(n,t),NT.subVectors(e,t);let o=ch.dot(ch),s=ch.dot(Cp),a=ch.dot(NT),l=Cp.dot(Cp),c=Cp.dot(NT),d=o*l-s*s;if(0===d)return r.set(-2,-1,-1);let h=1/d,p=(l*a-s*c)*h,g=(o*c-s*a)*h;return r.set(1-p-g,g,p)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Mp),Mp.x>=0&&Mp.y>=0&&Mp.x+Mp.y<=1}static getUV(e,t,n,i,r,o,s,a){return this.getBarycoord(e,t,n,i,Mp),a.set(0,0),a.addScaledVector(r,Mp.x),a.addScaledVector(o,Mp.y),a.addScaledVector(s,Mp.z),a}static isFrontFacing(e,t,n,i){return ch.subVectors(n,t),Cp.subVectors(e,t),ch.cross(Cp).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ch.subVectors(this.c,this.b),Cp.subVectors(this.a,this.b),.5*ch.cross(Cp).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return tl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return tl.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return tl.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return tl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return tl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let o,s,n=this.a,i=this.b,r=this.c;Yv.subVectors(i,n),Xv.subVectors(r,n),LT.subVectors(e,n);let a=Yv.dot(LT),l=Xv.dot(LT);if(a<=0&&l<=0)return t.copy(n);FT.subVectors(e,i);let c=Yv.dot(FT),d=Xv.dot(FT);if(c>=0&&d<=c)return t.copy(i);let h=a*d-c*l;if(h<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(Yv,o);BT.subVectors(e,r);let p=Yv.dot(BT),g=Xv.dot(BT);if(g>=0&&p<=g)return t.copy(r);let v=p*l-a*g;if(v<=0&&l>=0&&g<=0)return s=l/(l-g),t.copy(n).addScaledVector(Xv,s);let y=c*g-p*d;if(y<=0&&d-c>=0&&p-g>=0)return nV.subVectors(r,i),s=(d-c)/(d-c+(p-g)),t.copy(i).addScaledVector(nV,s);let b=1/(y+v+h);return o=v*b,s=h*b,t.copy(n).addScaledVector(Yv,o).addScaledVector(Xv,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},Bbe=0,a_=class extends el{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Bbe++}),this.uuid=Md(),this.name="",this.type="Material",this.blending=Dg,this.side=oh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=aj,this.blendDst=lj,this.blendEquation=Lv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=oT,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(let t in e){let n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){let t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});let n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(r){let o=[];for(let s in r){let a=r[s];delete a.metadata,o.push(a)}return o}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Dg&&(n.blending=this.blending),this.side!==oh&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){let r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(null!==t){let i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}},Pp=class extends a_{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=cj,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},Qs=new ie,MM=new qe,Mi=class{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)MM.fromBufferAttribute(this,t),MM.applyMatrix3(e),this.setXY(t,MM.x,MM.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Qs.fromBufferAttribute(this,t),Qs.applyMatrix3(e),this.setXYZ(t,Qs.x,Qs.y,Qs.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Qs.fromBufferAttribute(this,t),Qs.applyMatrix4(e),this.setXYZ(t,Qs.x,Qs.y,Qs.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Qs.fromBufferAttribute(this,t),Qs.applyNormalMatrix(e),this.setXYZ(t,Qs.x,Qs.y,Qs.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Qs.fromBufferAttribute(this,t),Qs.transformDirection(e),this.setXYZ(t,Qs.x,Qs.y,Qs.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=bp(t,this.array)),t}setX(e,t){return this.normalized&&(t=Lo(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=bp(t,this.array)),t}setY(e,t){return this.normalized&&(t=Lo(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=bp(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Lo(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=bp(t,this.array)),t}setW(e,t){return this.normalized&&(t=Lo(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Lo(t,this.array),n=Lo(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Lo(t,this.array),n=Lo(n,this.array),i=Lo(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Lo(t,this.array),n=Lo(n,this.array),i=Lo(i,this.array),r=Lo(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},iV=class extends Mi{constructor(e,t,n){super(new Uint16Array(e),t,n)}},$v=class extends Mi{constructor(e,t,n){super(new Uint32Array(e),t,n)}},On=class extends Mi{constructor(e,t,n){super(new Float32Array(e),t,n)}},zbe=0,Pd=new Kt,zT=new uo,Qv=new ie,Yc=new As,l_=new As,ka=new ie,ii=class extends el{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zbe++}),this.uuid=Md(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(Hj(e)?$v:iV)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(void 0!==n){let r=(new $s).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}let i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pd.makeRotationFromQuaternion(e),this.applyMatrix4(Pd),this}rotateX(e){return Pd.makeRotationX(e),this.applyMatrix4(Pd),this}rotateY(e){return Pd.makeRotationY(e),this.applyMatrix4(Pd),this}rotateZ(e){return Pd.makeRotationZ(e),this.applyMatrix4(Pd),this}translate(e,t,n){return Pd.makeTranslation(e,t,n),this.applyMatrix4(Pd),this}scale(e,t,n){return Pd.makeScale(e,t,n),this.applyMatrix4(Pd),this}lookAt(e){return zT.lookAt(e),zT.updateMatrix(),this.applyMatrix4(zT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qv).negate(),this.translate(Qv.x,Qv.y,Qv.z),this}setFromPoints(e){let t=[];for(let n=0,i=e.length;n<i;n++){let r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new On(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new As);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++)Yc.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(ka.addVectors(this.boundingBox.min,Yc.min),this.boundingBox.expandByPoint(ka),ka.addVectors(this.boundingBox.max,Yc.max),this.boundingBox.expandByPoint(ka)):(this.boundingBox.expandByPoint(Yc.min),this.boundingBox.expandByPoint(Yc.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new gc);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ie,1/0);if(e){let n=this.boundingSphere.center;if(Yc.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++)l_.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(ka.addVectors(Yc.min,l_.min),Yc.expandByPoint(ka),ka.addVectors(Yc.max,l_.max),Yc.expandByPoint(ka)):(Yc.expandByPoint(l_.min),Yc.expandByPoint(l_.max));Yc.getCenter(n);let i=0;for(let r=0,o=e.count;r<o;r++)ka.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(ka));if(t)for(let r=0,o=t.length;r<o;r++){let s=t[r],a=this.morphTargetsRelative;for(let l=0,c=s.count;l<c;l++)ka.fromBufferAttribute(s,l),a&&(Qv.fromBufferAttribute(e,l),ka.add(Qv)),i=Math.max(i,n.distanceToSquared(ka))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");let n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,s=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Mi(new Float32Array(4*s),4));let a=this.getAttribute("tangent").array,l=[],c=[];for(let ee=0;ee<s;ee++)l[ee]=new ie,c[ee]=new ie;let d=new ie,h=new ie,p=new ie,g=new qe,v=new qe,y=new qe,b=new ie,P=new ie;function O(ee,ne,ae){d.fromArray(i,3*ee),h.fromArray(i,3*ne),p.fromArray(i,3*ae),g.fromArray(o,2*ee),v.fromArray(o,2*ne),y.fromArray(o,2*ae),h.sub(d),p.sub(d),v.sub(g),y.sub(g);let pe=1/(v.x*y.y-y.x*v.y);!isFinite(pe)||(b.copy(h).multiplyScalar(y.y).addScaledVector(p,-v.y).multiplyScalar(pe),P.copy(p).multiplyScalar(v.x).addScaledVector(h,-y.x).multiplyScalar(pe),l[ee].add(b),l[ne].add(b),l[ae].add(b),c[ee].add(P),c[ne].add(P),c[ae].add(P))}let S=this.groups;0===S.length&&(S=[{start:0,count:n.length}]);for(let ee=0,ne=S.length;ee<ne;++ee){let ae=S[ee],pe=ae.start;for(let ge=pe,Se=pe+ae.count;ge<Se;ge+=3)O(n[ge+0],n[ge+1],n[ge+2])}let A=new ie,H=new ie,V=new ie,Q=new ie;function Y(ee){V.fromArray(r,3*ee),Q.copy(V);let ne=l[ee];A.copy(ne),A.sub(V.multiplyScalar(V.dot(ne))).normalize(),H.crossVectors(Q,ne);let ae=H.dot(c[ee])<0?-1:1;a[4*ee]=A.x,a[4*ee+1]=A.y,a[4*ee+2]=A.z,a[4*ee+3]=ae}for(let ee=0,ne=S.length;ee<ne;++ee){let ae=S[ee],pe=ae.start;for(let ge=pe,Se=pe+ae.count;ge<Se;ge+=3)Y(n[ge+0]),Y(n[ge+1]),Y(n[ge+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Mi(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let h=0,p=n.count;h<p;h++)n.setXYZ(h,0,0,0);let i=new ie,r=new ie,o=new ie,s=new ie,a=new ie,l=new ie,c=new ie,d=new ie;if(e)for(let h=0,p=e.count;h<p;h+=3){let g=e.getX(h+0),v=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(t,g),r.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),c.subVectors(o,r),d.subVectors(i,r),c.cross(d),s.fromBufferAttribute(n,g),a.fromBufferAttribute(n,v),l.fromBufferAttribute(n,y),s.add(c),a.add(c),l.add(c),n.setXYZ(g,s.x,s.y,s.z),n.setXYZ(v,a.x,a.y,a.z),n.setXYZ(y,l.x,l.y,l.z)}else for(let h=0,p=t.count;h<p;h+=3)i.fromBufferAttribute(t,h+0),r.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),c.subVectors(o,r),d.subVectors(i,r),c.cross(d),n.setXYZ(h+0,c.x,c.y,c.z),n.setXYZ(h+1,c.x,c.y,c.z),n.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ka.fromBufferAttribute(e,t),ka.normalize(),e.setXYZ(t,ka.x,ka.y,ka.z)}toNonIndexed(){function e(s,a){let l=s.array,c=s.itemSize,d=s.normalized,h=new l.constructor(a.length*c),p=0,g=0;for(let v=0,y=a.length;v<y;v++){p=s.isInterleavedBufferAttribute?a[v]*s.data.stride+s.offset:a[v]*c;for(let b=0;b<c;b++)h[g++]=l[p++]}return new Mi(h,c,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new ii,n=this.index.array,i=this.attributes;for(let s in i){let l=e(i[s],n);t.setAttribute(s,l)}let r=this.morphAttributes;for(let s in r){let a=[],l=r[s];for(let c=0,d=l.length;c<d;c++){let p=e(l[c],n);a.push(p)}t.morphAttributes[s]=a}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let s=0,a=o.length;s<a;s++){let l=o[s];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){let a=this.parameters;for(let l in a)void 0!==a[l]&&(e[l]=a[l]);return e}e.data={attributes:{}};let t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let a in n)e.data.attributes[a]=n[a].toJSON(e.data);let i={},r=!1;for(let a in this.morphAttributes){let l=this.morphAttributes[a],c=[];for(let d=0,h=l.length;d<h;d++)c.push(l[d].toJSON(e.data));c.length>0&&(i[a]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;null!==n&&this.setIndex(n.clone(t));let i=e.attributes;for(let l in i)this.setAttribute(l,i[l].clone(t));let r=e.morphAttributes;for(let l in r){let c=[],d=r[l];for(let h=0,p=d.length;h<p;h++)c.push(d[h].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let l=0,c=o.length;l<c;l++){let d=o[l];this.addGroup(d.start,d.count,d.materialIndex)}let s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());let a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},rV=new Kt,Kv=new Gv,UT=new gc,c_=new ie,d_=new ie,h_=new ie,jT=new ie,PM=new ie,OM=new qe,SM=new qe,EM=new qe,VT=new ie,DM=new ie,hs=class extends uo{constructor(e=new ii,t=new Pp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++){let o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}getVertexPosition(e,t){let n=this.geometry,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(n.attributes.position,e);let s=this.morphTargetInfluences;if(r&&s){PM.set(0,0,0);for(let a=0,l=r.length;a<l;a++){let c=s[a];0!==c&&(jT.fromBufferAttribute(r[a],e),PM.addScaledVector(o?jT:jT.sub(t),c))}t.add(PM)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){let n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i||(null===n.boundingSphere&&n.computeBoundingSphere(),UT.copy(n.boundingSphere),UT.applyMatrix4(r),!1===e.ray.intersectsSphere(UT))||(rV.copy(r).invert(),Kv.copy(e.ray).applyMatrix4(rV),null!==n.boundingBox&&!1===Kv.intersectsBox(n.boundingBox)))return;let o,s=n.index,a=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,d=n.groups,h=n.drawRange;if(null!==s)if(Array.isArray(i))for(let p=0,g=d.length;p<g;p++){let v=d[p],y=i[v.materialIndex];for(let O=Math.max(v.start,h.start),S=Math.min(s.count,Math.min(v.start+v.count,h.start+h.count));O<S;O+=3){let A=s.getX(O),H=s.getX(O+1),V=s.getX(O+2);o=AM(this,y,e,Kv,l,c,A,H,V),o&&(o.faceIndex=Math.floor(O/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else for(let v=Math.max(0,h.start),y=Math.min(s.count,h.start+h.count);v<y;v+=3){let b=s.getX(v),P=s.getX(v+1),O=s.getX(v+2);o=AM(this,i,e,Kv,l,c,b,P,O),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}else if(void 0!==a)if(Array.isArray(i))for(let p=0,g=d.length;p<g;p++){let v=d[p],y=i[v.materialIndex];for(let O=Math.max(v.start,h.start),S=Math.min(a.count,Math.min(v.start+v.count,h.start+h.count));O<S;O+=3)o=AM(this,y,e,Kv,l,c,O,O+1,O+2),o&&(o.faceIndex=Math.floor(O/3),o.face.materialIndex=v.materialIndex,t.push(o))}else for(let v=Math.max(0,h.start),y=Math.min(a.count,h.start+h.count);v<y;v+=3)o=AM(this,i,e,Kv,l,c,v,v+1,v+2),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}};function AM(e,t,n,i,r,o,s,a,l){e.getVertexPosition(s,c_),e.getVertexPosition(a,d_),e.getVertexPosition(l,h_);let c=function Ube(e,t,n,i,r,o,s,a){let l;if(l=t.side===Ta?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,t.side===oh,a),null===l)return null;DM.copy(a),DM.applyMatrix4(e.matrixWorld);let c=n.ray.origin.distanceTo(DM);return c<n.near||c>n.far?null:{distance:c,point:DM.clone(),object:e}}(e,t,n,i,c_,d_,h_,VT);if(c){r&&(OM.fromBufferAttribute(r,s),SM.fromBufferAttribute(r,a),EM.fromBufferAttribute(r,l),c.uv=tl.getUV(VT,c_,d_,h_,OM,SM,EM,new qe)),o&&(OM.fromBufferAttribute(o,s),SM.fromBufferAttribute(o,a),EM.fromBufferAttribute(o,l),c.uv2=tl.getUV(VT,c_,d_,h_,OM,SM,EM,new qe));let d={a:s,b:a,c:l,normal:new ie,materialIndex:0};tl.getNormal(c_,d_,h_,d.normal),c.face=d}return c}var dh=class extends ii{constructor(e=1,t=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};let s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);let a=[],l=[],c=[],d=[],h=0,p=0;function g(v,y,b,P,O,S,A,H,V,Q,Y){let ee=S/V,ne=A/Q,ae=S/2,pe=A/2,fe=H/2,ge=V+1,Se=Q+1,Oe=0,Ce=0,_e=new ie;for(let Be=0;Be<Se;Be++){let We=Be*ne-pe;for(let Ve=0;Ve<ge;Ve++)_e[v]=(Ve*ee-ae)*P,_e[y]=We*O,_e[b]=fe,l.push(_e.x,_e.y,_e.z),_e[v]=0,_e[y]=0,_e[b]=H>0?1:-1,c.push(_e.x,_e.y,_e.z),d.push(Ve/V),d.push(1-Be/Q),Oe+=1}for(let Be=0;Be<Q;Be++)for(let We=0;We<V;We++){let Ue=h+We+ge*(Be+1),nt=h+(We+1)+ge*(Be+1),He=h+(We+1)+ge*Be;a.push(h+We+ge*Be,Ue,He),a.push(Ue,nt,He),Ce+=6}s.addGroup(p,Ce,Y),p+=Ce,h+=Oe}g("z","y","x",-1,-1,n,t,e,o,r,0),g("z","y","x",1,-1,n,t,-e,o,r,1),g("x","z","y",1,1,e,n,t,i,o,2),g("x","z","y",1,-1,e,n,-t,i,o,3),g("x","y","z",1,-1,e,t,n,i,r,4),g("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new On(l,3)),this.setAttribute("normal",new On(c,3)),this.setAttribute("uv",new On(d,2))}static fromJSON(e){return new dh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Zv(e){let t={};for(let n in e){t[n]={};for(let i in e[n]){let r=e[n][i];t[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return t}function Hl(e){let t={};for(let n=0;n<e.length;n++){let i=Zv(e[n]);for(let r in i)t[r]=i[r]}return t}function oV(e){return null===e.getRenderTarget()&&e.outputEncoding===Zi?su:uM}var Jv={clone:Zv,merge:Hl},Qr=class extends a_{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zv(e.uniforms),this.uniformsGroups=function jbe(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let r=this.uniforms[i].value;t.uniforms[i]=r&&r.isTexture?{type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix3?{type:"m3",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let n={};for(let i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},zg=class extends uo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Kt,this.projectionMatrix=new Kt,this.projectionMatrixInverse=new Kt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}},wl=class extends zg{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=2*t_*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(.5*e_*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*t_*Math.atan(Math.tan(.5*e_*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(.5*e_*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){let a=o.fullWidth,l=o.fullHeight;r+=o.offsetX*i/a,t-=o.offsetY*n/l,i*=o.width/a,n*=o.height/l}let s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},Gbe=class extends uo{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;let i=new wl(-90,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);let r=new wl(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(-1,0,0),this.add(r);let o=new wl(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);let s=new wl(-90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(0,-1,0),this.add(s);let a=new wl(-90,1,e,t);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(0,0,1),this.add(a);let l=new wl(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();let n=this.renderTarget,[i,r,o,s,a,l]=this.children,c=e.getRenderTarget(),d=e.toneMapping,h=e.xr.enabled;e.toneMapping=ou,e.xr.enabled=!1;let p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,a),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}},HT=class extends ds{constructor(e,t,n,i,r,o,s,a,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:Ag,n,i,r,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},Wbe=class extends Zr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1};this.texture=new HT([n,n,n,n,n,n],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:nr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new dh(5,5,5),r=new Qr({name:"CubemapFromEquirect",uniforms:Zv(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:Ta,blending:qs});r.uniforms.tEquirect.value=t;let o=new hs(i,r),s=t.minFilter;return t.minFilter===Fv&&(t.minFilter=nr),new Gbe(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){let r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)}},GT=new ie,qbe=new ie,Ybe=new $s,vc=class{constructor(e=new ie(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let i=GT.subVectors(n,t).cross(qbe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let n=e.delta(GT),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;let r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(n).multiplyScalar(r).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||Ybe.getNormalMatrix(e),i=this.coplanarPoint(GT).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}},n1=new gc,TM=new ie,WT=class{constructor(e=new vc,t=new vc,n=new vc,i=new vc,r=new vc,o=new vc){this.planes=[e,t,n,i,r,o]}set(e,t,n,i,r,o){let s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],d=n[7],h=n[8],p=n[9],g=n[10],v=n[11],y=n[12],b=n[13],P=n[14],O=n[15];return t[0].setComponents(s-i,d-a,v-h,O-y).normalize(),t[1].setComponents(s+i,d+a,v+h,O+y).normalize(),t[2].setComponents(s+r,d+l,v+p,O+b).normalize(),t[3].setComponents(s-r,d-l,v-p,O-b).normalize(),t[4].setComponents(s-o,d-c,v-g,O-P).normalize(),t[5].setComponents(s+o,d+c,v+g,O+P).normalize(),this}intersectsObject(e){let t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),n1.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(n1)}intersectsSprite(e){return n1.center.set(0,0,0),n1.radius=.7071067811865476,n1.applyMatrix4(e.matrixWorld),this.intersectsSphere(n1)}intersectsSphere(e){let t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let i=t[n];if(TM.x=i.normal.x>0?e.max.x:e.min.x,TM.y=i.normal.y>0?e.max.y:e.min.y,TM.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(TM)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}};function sV(){let e=null,t=!1,n=null,i=null;function r(o,s){n(o,s),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function Xbe(e,t){let n=t.isWebGL2,i=new WeakMap;return{get:function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);let d=i.get(c);d&&(e.deleteBuffer(d.buffer),i.delete(c))},update:function l(c,d){if(c.isGLBufferAttribute){let p=i.get(c);return void((!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);let h=i.get(c);void 0===h?i.set(c,function r(c,d){let v,h=c.array,p=c.usage,g=e.createBuffer();if(e.bindBuffer(d,g),e.bufferData(d,h,p),c.onUploadCallback(),h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");v=5131}else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else{if(!(h instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);v=5121}return{buffer:g,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}(c,d)):h.version<c.version&&(function o(c,d,h){let p=d.array,g=d.updateRange;e.bindBuffer(h,c),-1===g.count?e.bufferSubData(h,0,p):(n?e.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):e.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),d.onUploadCallback()}(h.buffer,c,d),h.version=c.version)}}}var Op=class extends ii{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};let r=e/2,o=t/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,d=e/s,h=t/a,p=[],g=[],v=[],y=[];for(let b=0;b<c;b++){let P=b*h-o;for(let O=0;O<l;O++)g.push(O*d-r,-P,0),v.push(0,0,1),y.push(O/s),y.push(1-b/a)}for(let b=0;b<a;b++)for(let P=0;P<s;P++){let S=P+l*(b+1),A=P+1+l*(b+1),H=P+1+l*b;p.push(P+l*b,S,H),p.push(S,A,H)}this.setIndex(p),this.setAttribute("position",new On(g,3)),this.setAttribute("normal",new On(v,3)),this.setAttribute("uv",new On(y,2))}static fromJSON(e){return new Op(e.width,e.height,e.widthSegments,e.heightSegments)}},ir={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},bn={common:{diffuse:{value:new gi(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new $s},uv2Transform:{value:new $s},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $s}},sprite:{diffuse:{value:new gi(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $s}}},au={basic:{uniforms:Hl([bn.common,bn.specularmap,bn.envmap,bn.aomap,bn.lightmap,bn.fog]),vertexShader:ir.meshbasic_vert,fragmentShader:ir.meshbasic_frag},lambert:{uniforms:Hl([bn.common,bn.specularmap,bn.envmap,bn.aomap,bn.lightmap,bn.emissivemap,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.fog,bn.lights,{emissive:{value:new gi(0)}}]),vertexShader:ir.meshlambert_vert,fragmentShader:ir.meshlambert_frag},phong:{uniforms:Hl([bn.common,bn.specularmap,bn.envmap,bn.aomap,bn.lightmap,bn.emissivemap,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.fog,bn.lights,{emissive:{value:new gi(0)},specular:{value:new gi(1118481)},shininess:{value:30}}]),vertexShader:ir.meshphong_vert,fragmentShader:ir.meshphong_frag},standard:{uniforms:Hl([bn.common,bn.envmap,bn.aomap,bn.lightmap,bn.emissivemap,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.roughnessmap,bn.metalnessmap,bn.fog,bn.lights,{emissive:{value:new gi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ir.meshphysical_vert,fragmentShader:ir.meshphysical_frag},toon:{uniforms:Hl([bn.common,bn.aomap,bn.lightmap,bn.emissivemap,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.gradientmap,bn.fog,bn.lights,{emissive:{value:new gi(0)}}]),vertexShader:ir.meshtoon_vert,fragmentShader:ir.meshtoon_frag},matcap:{uniforms:Hl([bn.common,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.fog,{matcap:{value:null}}]),vertexShader:ir.meshmatcap_vert,fragmentShader:ir.meshmatcap_frag},points:{uniforms:Hl([bn.points,bn.fog]),vertexShader:ir.points_vert,fragmentShader:ir.points_frag},dashed:{uniforms:Hl([bn.common,bn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ir.linedashed_vert,fragmentShader:ir.linedashed_frag},depth:{uniforms:Hl([bn.common,bn.displacementmap]),vertexShader:ir.depth_vert,fragmentShader:ir.depth_frag},normal:{uniforms:Hl([bn.common,bn.bumpmap,bn.normalmap,bn.displacementmap,{opacity:{value:1}}]),vertexShader:ir.meshnormal_vert,fragmentShader:ir.meshnormal_frag},sprite:{uniforms:Hl([bn.sprite,bn.fog]),vertexShader:ir.sprite_vert,fragmentShader:ir.sprite_frag},background:{uniforms:{uvTransform:{value:new $s},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ir.background_vert,fragmentShader:ir.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ir.backgroundCube_vert,fragmentShader:ir.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ir.cube_vert,fragmentShader:ir.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ir.equirect_vert,fragmentShader:ir.equirect_frag},distanceRGBA:{uniforms:Hl([bn.common,bn.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ir.distanceRGBA_vert,fragmentShader:ir.distanceRGBA_frag},shadow:{uniforms:Hl([bn.lights,bn.fog,{color:{value:new gi(0)},opacity:{value:1}}]),vertexShader:ir.shadow_vert,fragmentShader:ir.shadow_frag}};au.physical={uniforms:Hl([au.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new qe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new gi(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new gi(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new gi(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ir.meshphysical_vert,fragmentShader:ir.meshphysical_frag};var IM={r:0,b:0,g:0};function Swe(e,t,n,i,r,o,s){let c,d,a=new gi(0),l=!0===o?0:1,h=null,p=0,g=null;function y(b,P){b.getRGB(IM,oV(e)),i.buffers.color.setClear(IM.r,IM.g,IM.b,P,s)}return{getClearColor:function(){return a},setClearColor:function(b,P=1){a.set(b),l=P,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,y(a,l)},render:function v(b,P){let O=!1,S=!0===P.isScene?P.background:null;S&&S.isTexture&&(S=(P.backgroundBlurriness>0?n:t).get(S));let A=e.xr,H=A.getSession&&A.getSession();H&&"additive"===H.environmentBlendMode&&(S=null),null===S?y(a,l):S&&S.isColor&&(y(S,1),O=!0),(e.autoClear||O)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Jb)?(void 0===d&&(d=new hs(new dh(1,1,1),new Qr({name:"BackgroundCubeMaterial",uniforms:Zv(au.backgroundCube.uniforms),vertexShader:au.backgroundCube.vertexShader,fragmentShader:au.backgroundCube.fragmentShader,side:Ta,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(V,Q,Y){this.matrixWorld.copyPosition(Y.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&!1===S.isRenderTargetTexture?-1:1,d.material.uniforms.backgroundBlurriness.value=P.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,d.material.toneMapped=S.encoding!==Zi,(h!==S||p!==S.version||g!==e.toneMapping)&&(d.material.needsUpdate=!0,h=S,p=S.version,g=e.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(void 0===c&&(c=new hs(new Op(2,2),new Qr({name:"BackgroundMaterial",uniforms:Zv(au.background.uniforms),vertexShader:au.background.vertexShader,fragmentShader:au.background.fragmentShader,side:oh,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,c.material.toneMapped=S.encoding!==Zi,!0===S.matrixAutoUpdate&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||g!==e.toneMapping)&&(c.material.needsUpdate=!0,h=S,p=S.version,g=e.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}}}function Ewe(e,t,n,i){let r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},l=b(null),c=l,d=!1;function g(ge){return i.isWebGL2?e.bindVertexArray(ge):o.bindVertexArrayOES(ge)}function v(ge){return i.isWebGL2?e.deleteVertexArray(ge):o.deleteVertexArrayOES(ge)}function b(ge){let Se=[],Oe=[],Ce=[];for(let _e=0;_e<r;_e++)Se[_e]=0,Oe[_e]=0,Ce[_e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Se,enabledAttributes:Oe,attributeDivisors:Ce,object:ge,attributes:{},index:null}}function S(){let ge=c.newAttributes;for(let Se=0,Oe=ge.length;Se<Oe;Se++)ge[Se]=0}function A(ge){H(ge,0)}function H(ge,Se){let Ce=c.enabledAttributes,_e=c.attributeDivisors;c.newAttributes[ge]=1,0===Ce[ge]&&(e.enableVertexAttribArray(ge),Ce[ge]=1),_e[ge]!==Se&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ge,Se),_e[ge]=Se)}function V(){let ge=c.newAttributes,Se=c.enabledAttributes;for(let Oe=0,Ce=Se.length;Oe<Ce;Oe++)Se[Oe]!==ge[Oe]&&(e.disableVertexAttribArray(Oe),Se[Oe]=0)}function Q(ge,Se,Oe,Ce,_e,Be){!0!==i.isWebGL2||5124!==Oe&&5125!==Oe?e.vertexAttribPointer(ge,Se,Oe,Ce,_e,Be):e.vertexAttribIPointer(ge,Se,Oe,_e,Be)}function pe(){fe(),d=!0,c!==l&&(c=l,g(c.object))}function fe(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function h(ge,Se,Oe,Ce,_e){let Be=!1;if(s){let We=function y(ge,Se,Oe){let Ce=!0===Oe.wireframe,_e=a[ge.id];void 0===_e&&(_e={},a[ge.id]=_e);let Be=_e[Se.id];void 0===Be&&(Be={},_e[Se.id]=Be);let We=Be[Ce];return void 0===We&&(We=b(function p(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}()),Be[Ce]=We),We}(Ce,Oe,Se);c!==We&&(c=We,g(c.object)),Be=function P(ge,Se,Oe,Ce){let _e=c.attributes,Be=Se.attributes,We=0,Ve=Oe.getAttributes();for(let Ue in Ve)if(Ve[Ue].location>=0){let nt=_e[Ue],He=Be[Ue];if(void 0===He&&("instanceMatrix"===Ue&&ge.instanceMatrix&&(He=ge.instanceMatrix),"instanceColor"===Ue&&ge.instanceColor&&(He=ge.instanceColor)),void 0===nt||nt.attribute!==He||He&&nt.data!==He.data)return!0;We++}return c.attributesNum!==We||c.index!==Ce}(ge,Ce,Oe,_e),Be&&function O(ge,Se,Oe,Ce){let _e={},Be=Se.attributes,We=0,Ve=Oe.getAttributes();for(let Ue in Ve)if(Ve[Ue].location>=0){let nt=Be[Ue];void 0===nt&&("instanceMatrix"===Ue&&ge.instanceMatrix&&(nt=ge.instanceMatrix),"instanceColor"===Ue&&ge.instanceColor&&(nt=ge.instanceColor));let He={};He.attribute=nt,nt&&nt.data&&(He.data=nt.data),_e[Ue]=He,We++}c.attributes=_e,c.attributesNum=We,c.index=Ce}(ge,Ce,Oe,_e)}else{let We=!0===Se.wireframe;(c.geometry!==Ce.id||c.program!==Oe.id||c.wireframe!==We)&&(c.geometry=Ce.id,c.program=Oe.id,c.wireframe=We,Be=!0)}null!==_e&&n.update(_e,34963),(Be||d)&&(d=!1,function Y(ge,Se,Oe,Ce){if(!1===i.isWebGL2&&(ge.isInstancedMesh||Ce.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;S();let _e=Ce.attributes,Be=Oe.getAttributes(),We=Se.defaultAttributeValues;for(let Ve in Be){let Ue=Be[Ve];if(Ue.location>=0){let nt=_e[Ve];if(void 0===nt&&("instanceMatrix"===Ve&&ge.instanceMatrix&&(nt=ge.instanceMatrix),"instanceColor"===Ve&&ge.instanceColor&&(nt=ge.instanceColor)),void 0!==nt){let He=nt.normalized,tt=nt.itemSize,Xe=n.get(nt);if(void 0===Xe)continue;let xt=Xe.buffer,rt=Xe.type,wt=Xe.bytesPerElement;if(nt.isInterleavedBufferAttribute){let lt=nt.data,Gt=lt.stride,Nt=nt.offset;if(lt.isInstancedInterleavedBuffer){for(let At=0;At<Ue.locationSize;At++)H(Ue.location+At,lt.meshPerAttribute);!0!==ge.isInstancedMesh&&void 0===Ce._maxInstanceCount&&(Ce._maxInstanceCount=lt.meshPerAttribute*lt.count)}else for(let At=0;At<Ue.locationSize;At++)A(Ue.location+At);e.bindBuffer(34962,xt);for(let At=0;At<Ue.locationSize;At++)Q(Ue.location+At,tt/Ue.locationSize,rt,He,Gt*wt,(Nt+tt/Ue.locationSize*At)*wt)}else{if(nt.isInstancedBufferAttribute){for(let lt=0;lt<Ue.locationSize;lt++)H(Ue.location+lt,nt.meshPerAttribute);!0!==ge.isInstancedMesh&&void 0===Ce._maxInstanceCount&&(Ce._maxInstanceCount=nt.meshPerAttribute*nt.count)}else for(let lt=0;lt<Ue.locationSize;lt++)A(Ue.location+lt);e.bindBuffer(34962,xt);for(let lt=0;lt<Ue.locationSize;lt++)Q(Ue.location+lt,tt/Ue.locationSize,rt,He,tt*wt,tt/Ue.locationSize*lt*wt)}}else if(void 0!==We){let He=We[Ve];if(void 0!==He)switch(He.length){case 2:e.vertexAttrib2fv(Ue.location,He);break;case 3:e.vertexAttrib3fv(Ue.location,He);break;case 4:e.vertexAttrib4fv(Ue.location,He);break;default:e.vertexAttrib1fv(Ue.location,He)}}}}V()}(ge,Se,Oe,Ce),null!==_e&&e.bindBuffer(34963,n.get(_e).buffer))},reset:pe,resetDefaultState:fe,dispose:function ee(){pe();for(let ge in a){let Se=a[ge];for(let Oe in Se){let Ce=Se[Oe];for(let _e in Ce)v(Ce[_e].object),delete Ce[_e];delete Se[Oe]}delete a[ge]}},releaseStatesOfGeometry:function ne(ge){if(void 0===a[ge.id])return;let Se=a[ge.id];for(let Oe in Se){let Ce=Se[Oe];for(let _e in Ce)v(Ce[_e].object),delete Ce[_e];delete Se[Oe]}delete a[ge.id]},releaseStatesOfProgram:function ae(ge){for(let Se in a){let Oe=a[Se];if(void 0===Oe[ge.id])continue;let Ce=Oe[ge.id];for(let _e in Ce)v(Ce[_e].object),delete Ce[_e];delete Oe[ge.id]}},initAttributes:S,enableAttribute:A,disableUnusedAttributes:V}}function Dwe(e,t,n,i){let o,r=i.isWebGL2;this.setMode=function s(c){o=c},this.render=function a(c,d){e.drawArrays(o,c,d),n.update(d,o,1)},this.renderInstances=function l(c,d,h){if(0===h)return;let p,g;if(r)p=e,g="drawArraysInstanced";else if(p=t.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",null===p)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");p[g](o,c,d,h),n.update(d,o,h)}}function Awe(e,t,n){let i;function o(Q){if("highp"===Q){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Q="mediump"}return"mediump"===Q&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);let c=s||t.has("WEBGL_draw_buffers"),d=!0===n.logarithmicDepthBuffer,h=e.getParameter(34930),p=e.getParameter(35660),g=e.getParameter(3379),v=e.getParameter(34076),y=e.getParameter(34921),b=e.getParameter(36347),P=e.getParameter(36348),O=e.getParameter(36349),S=p>0,A=s||t.has("OES_texture_float");return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){let Q=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(Q.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:b,maxVaryings:P,maxFragmentUniforms:O,vertexTextures:S,floatFragmentTextures:A,floatVertexTextures:S&&A,maxSamples:s?e.getParameter(36183):0}}function Twe(e){let t=this,n=null,i=0,r=!1,o=!1,s=new vc,a=new $s,l={value:null,needsUpdate:!1};function d(h,p,g,v){let y=null!==h?h.length:0,b=null;if(0!==y){if(b=l.value,!0!==v||null===b){let P=g+4*y,O=p.matrixWorldInverse;a.getNormalMatrix(O),(null===b||b.length<P)&&(b=new Float32Array(P));for(let S=0,A=g;S!==y;++S,A+=4)s.copy(h[S]).applyMatrix4(O,a),s.normal.toArray(b,A),b[A+3]=s.constant}l.value=b,l.needsUpdate=!0}return t.numPlanes=y,t.numIntersection=0,b}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){let g=0!==h.length||p||0!==i||r;return r=p,i=h.length,g},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(h,p){n=d(h,p,0)},this.setState=function(h,p,g){let v=h.clippingPlanes,y=h.clipIntersection,b=h.clipShadows,P=e.get(h);if(!r||null===v||0===v.length||o&&!b)o?d(null):function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}();else{let O=o?0:i,S=4*O,A=P.clippingState||null;l.value=A,A=d(v,p,S,g);for(let H=0;H!==S;++H)A[H]=n[H];P.clippingState=A,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=O}}}function Iwe(e){let t=new WeakMap;function n(s,a){return a===sT?s.mapping=Ag:a===aT&&(s.mapping=Tg),s}function r(s){let a=s.target;a.removeEventListener("dispose",r);let l=t.get(a);void 0!==l&&(t.delete(a),l.dispose())}return{get:function i(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){let a=s.mapping;if(a===sT||a===aT){if(t.has(s))return n(t.get(s).texture,s.mapping);{let l=s.image;if(l&&l.height>0){let c=new Wbe(l.height/2);return c.fromEquirectangularTexture(e,s),t.set(s,c),s.addEventListener("dispose",r),n(c.texture,s.mapping)}return null}}}return s},dispose:function o(){t=new WeakMap}}}var kM=class extends zg{constructor(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,o=n+e,s=i+t,a=i-t;if(null!==this.view&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,o=r+l*this.view.width,s-=c*this.view.offsetY,a=s-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}},aV=[.125,.215,.35,.446,.526,.582],qT=new kM,lV=new gi,YT=null,jg=(1+Math.sqrt(5))/2,r1=1/jg,cV=[new ie(1,1,1),new ie(-1,1,1),new ie(1,1,-1),new ie(-1,1,-1),new ie(0,jg,r1),new ie(0,jg,-r1),new ie(r1,0,jg),new ie(-r1,0,jg),new ie(jg,r1,0),new ie(-jg,r1,0)],dV=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){YT=this._renderer.getRenderTarget(),this._setSize(256);let r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=pV(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=uV(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(YT),e.scissorTest=!1,RM(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Ag||e.mapping===Tg?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),YT=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:nr,minFilter:nr,generateMipmaps:!1,type:vp,format:Ia,encoding:sh,depthBuffer:!1},i=hV(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=hV(e,t,n);let{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function kwe(e){let t=[],n=[],i=[],r=e,o=e-4+1+aV.length;for(let s=0;s<o;s++){let a=Math.pow(2,r);n.push(a);let l=1/a;s>e-4?l=aV[s-e+4-1]:0===s&&(l=0),i.push(l);let c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],g=6,v=6,y=3,b=2,P=1,O=new Float32Array(y*v*g),S=new Float32Array(b*v*g),A=new Float32Array(P*v*g);for(let V=0;V<g;V++){let Q=V%3*2/3-1,Y=V>2?0:-1;O.set([Q,Y,0,Q+2/3,Y,0,Q+2/3,Y+1,0,Q,Y,0,Q+2/3,Y+1,0,Q,Y+1,0],y*v*V),S.set(p,b*v*V),A.set([V,V,V,V,V,V],P*v*V)}let H=new ii;H.setAttribute("position",new Mi(O,y)),H.setAttribute("uv",new Mi(S,b)),H.setAttribute("faceIndex",new Mi(A,P)),t.push(H),r>4&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(r)),this._blurMaterial=function Rwe(e,t,n){let i=new Float32Array(20),r=new ie(0,1,0);return new Qr({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:qs,depthTest:!1,depthWrite:!1})}(r,e,t)}return i}_compileMaterial(e){let t=new hs(this._lodPlanes[0],e);this._renderer.compile(t,qT)}_sceneToCubeUV(e,t,n,i){let r=new wl(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,l=a.autoClear,c=a.toneMapping;a.getClearColor(lV),a.toneMapping=ou,a.autoClear=!1;let d=new Pp({name:"PMREM.Background",side:Ta,depthWrite:!1,depthTest:!1}),h=new hs(new dh,d),p=!1,g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,p=!0):(d.color.copy(lV),p=!0);for(let v=0;v<6;v++){let y=v%3;0===y?(r.up.set(0,o[v],0),r.lookAt(s[v],0,0)):1===y?(r.up.set(0,0,o[v]),r.lookAt(0,s[v],0)):(r.up.set(0,o[v],0),r.lookAt(0,0,s[v]));let b=this._cubeSize;RM(i,y*b,v>2?b:0,b,b),a.setRenderTarget(i),p&&a.render(h,r),a.render(e,r)}h.geometry.dispose(),h.material.dispose(),a.toneMapping=c,a.autoClear=l,e.background=g}_textureToCubeUV(e,t){let n=this._renderer,i=e.mapping===Ag||e.mapping===Tg;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=pV()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=uV());let r=i?this._cubemapMaterial:this._equirectMaterial,o=new hs(this._lodPlanes[0],r);r.uniforms.envMap.value=e;let a=this._cubeSize;RM(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,qT)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){let r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,r,cV[(i-1)%cV.length])}t.autoClear=n}_blur(e,t,n,i,r){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,o,s){let a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");let d=new hs(this._lodPlanes[i],l),h=l.uniforms,p=this._sizeLods[n]-1,g=isFinite(r)?Math.PI/(2*p):2*Math.PI/39,v=r/g,y=isFinite(r)?1+Math.floor(3*v):20;y>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${y} samples when the maximum is set to 20`);let b=[],P=0;for(let V=0;V<20;++V){let Q=V/v,Y=Math.exp(-Q*Q/2);b.push(Y),0===V?P+=Y:V<y&&(P+=2*Y)}for(let V=0;V<b.length;V++)b[V]=b[V]/P;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=b,h.latitudinal.value="latitudinal"===o,s&&(h.poleAxis.value=s);let{_lodMax:O}=this;h.dTheta.value=g,h.mipInt.value=O-n;let S=this._sizeLods[i];RM(t,3*S*(i>O-4?i-O+4:0),4*(this._cubeSize-S),3*S,2*S),a.setRenderTarget(t),a.render(d,qT)}};function hV(e,t,n){let i=new Zr(e,t,n);return i.texture.mapping=Jb,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function RM(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function uV(){return new Qr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:qs,depthTest:!1,depthWrite:!1})}function pV(){return new Qr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:qs,depthTest:!1,depthWrite:!1})}function Nwe(e){let t=new WeakMap,n=null;function o(a){let l=a.target;l.removeEventListener("dispose",o);let c=t.get(l);void 0!==c&&(t.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){let l=a.mapping,c=l===sT||l===aT,d=l===Ag||l===Tg;if(c||d){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let h=t.get(a);return null===n&&(n=new dV(e)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),t.set(a,h),h.texture}if(t.has(a))return t.get(a).texture;{let h=a.image;if(c&&h&&h.height>0||d&&h&&function r(a){let l=0;for(let d=0;d<6;d++)void 0!==a[d]&&l++;return 6===l}(h)){null===n&&(n=new dV(e));let p=c?n.fromEquirectangular(a):n.fromCubemap(a);return t.set(a,p),a.addEventListener("dispose",o),p.texture}return null}}}return a},dispose:function s(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Lwe(e){let t={};function n(i){if(void 0!==t[i])return t[i];let r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(i)}return t[i]=r,r}return{has:function(i){return null!==n(i)},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){let r=n(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Fwe(e,t,n,i){let r={},o=new WeakMap;function s(h){let p=h.target;null!==p.index&&t.remove(p.index);for(let v in p.attributes)t.remove(p.attributes[v]);p.removeEventListener("dispose",s),delete r[p.id];let g=o.get(p);g&&(t.remove(g),o.delete(p)),i.releaseStatesOfGeometry(p),!0===p.isInstancedBufferGeometry&&delete p._maxInstanceCount,n.memory.geometries--}function c(h){let p=[],g=h.index,v=h.attributes.position,y=0;if(null!==g){let O=g.array;y=g.version;for(let S=0,A=O.length;S<A;S+=3){let H=O[S+0],V=O[S+1],Q=O[S+2];p.push(H,V,V,Q,Q,H)}}else{y=v.version;for(let S=0,A=v.array.length/3-1;S<A;S+=3){let H=S+0,V=S+1,Q=S+2;p.push(H,V,V,Q,Q,H)}}let b=new(Hj(p)?$v:iV)(p,1);b.version=y;let P=o.get(h);P&&t.remove(P),o.set(h,b)}return{get:function a(h,p){return!0===r[p.id]||(p.addEventListener("dispose",s),r[p.id]=!0,n.memory.geometries++),p},update:function l(h){let p=h.attributes;for(let v in p)t.update(p[v],34962);let g=h.morphAttributes;for(let v in g){let y=g[v];for(let b=0,P=y.length;b<P;b++)t.update(y[b],34962)}},getWireframeAttribute:function d(h){let p=o.get(h);if(p){let g=h.index;null!==g&&p.version<g.version&&c(h)}else c(h);return o.get(h)}}}function Bwe(e,t,n,i){let o,a,l,r=i.isWebGL2;this.setMode=function s(p){o=p},this.setIndex=function c(p){a=p.type,l=p.bytesPerElement},this.render=function d(p,g){e.drawElements(o,g,a,p*l),n.update(g,o,1)},this.renderInstances=function h(p,g,v){if(0===v)return;let y,b;if(r)y=e,b="drawElementsInstanced";else if(y=t.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",null===y)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");y[b](o,g,a,p*l,v),n.update(g,o,v)}}function zwe(e){let n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function i(o,s,a){switch(n.calls++,s){case 4:n.triangles+=a*(o/3);break;case 1:n.lines+=a*(o/2);break;case 3:n.lines+=a*(o-1);break;case 2:n.lines+=a*o;break;case 0:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function Uwe(e,t){return e[0]-t[0]}function jwe(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Vwe(e,t,n){let i={},r=new Float32Array(8),o=new WeakMap,s=new ki,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,d,h,p){let g=c.morphTargetInfluences;if(!0===t.isWebGL2){let v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,y=void 0!==v?v.length:0,b=o.get(d);if(void 0===b||b.count!==y){let S=function(){ge.dispose(),o.delete(d),d.removeEventListener("dispose",S)};void 0!==b&&b.texture.dispose();let A=void 0!==d.morphAttributes.position,H=void 0!==d.morphAttributes.normal,V=void 0!==d.morphAttributes.color,Q=d.morphAttributes.position||[],Y=d.morphAttributes.normal||[],ee=d.morphAttributes.color||[],ne=0;!0===A&&(ne=1),!0===H&&(ne=2),!0===V&&(ne=3);let ae=d.attributes.position.count*ne,pe=1;ae>t.maxTextureSize&&(pe=Math.ceil(ae/t.maxTextureSize),ae=t.maxTextureSize);let fe=new Float32Array(ae*pe*4*y),ge=new Yj(fe,ae,pe,y);ge.type=Ys,ge.needsUpdate=!0;let Se=4*ne;for(let Oe=0;Oe<y;Oe++){let Ce=Q[Oe],_e=Y[Oe],Be=ee[Oe],We=ae*pe*4*Oe;for(let Ve=0;Ve<Ce.count;Ve++){let Ue=Ve*Se;!0===A&&(s.fromBufferAttribute(Ce,Ve),fe[We+Ue+0]=s.x,fe[We+Ue+1]=s.y,fe[We+Ue+2]=s.z,fe[We+Ue+3]=0),!0===H&&(s.fromBufferAttribute(_e,Ve),fe[We+Ue+4]=s.x,fe[We+Ue+5]=s.y,fe[We+Ue+6]=s.z,fe[We+Ue+7]=0),!0===V&&(s.fromBufferAttribute(Be,Ve),fe[We+Ue+8]=s.x,fe[We+Ue+9]=s.y,fe[We+Ue+10]=s.z,fe[We+Ue+11]=4===Be.itemSize?s.w:1)}}b={count:y,texture:ge,size:new qe(ae,pe)},o.set(d,b),d.addEventListener("dispose",S)}let P=0;for(let S=0;S<g.length;S++)P+=g[S];let O=d.morphTargetsRelative?1:1-P;p.getUniforms().setValue(e,"morphTargetBaseInfluence",O),p.getUniforms().setValue(e,"morphTargetInfluences",g),p.getUniforms().setValue(e,"morphTargetsTexture",b.texture,n),p.getUniforms().setValue(e,"morphTargetsTextureSize",b.size)}else{let v=void 0===g?0:g.length,y=i[d.id];if(void 0===y||y.length!==v){y=[];for(let A=0;A<v;A++)y[A]=[A,0];i[d.id]=y}for(let A=0;A<v;A++){let H=y[A];H[0]=A,H[1]=g[A]}y.sort(jwe);for(let A=0;A<8;A++)A<v&&y[A][1]?(a[A][0]=y[A][0],a[A][1]=y[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(Uwe);let b=d.morphAttributes.position,P=d.morphAttributes.normal,O=0;for(let A=0;A<8;A++){let H=a[A],V=H[0],Q=H[1];V!==Number.MAX_SAFE_INTEGER&&Q?(b&&d.getAttribute("morphTarget"+A)!==b[V]&&d.setAttribute("morphTarget"+A,b[V]),P&&d.getAttribute("morphNormal"+A)!==P[V]&&d.setAttribute("morphNormal"+A,P[V]),r[A]=Q,O+=Q):(b&&!0===d.hasAttribute("morphTarget"+A)&&d.deleteAttribute("morphTarget"+A),P&&!0===d.hasAttribute("morphNormal"+A)&&d.deleteAttribute("morphNormal"+A),r[A]=0)}let S=d.morphTargetsRelative?1:1-O;p.getUniforms().setValue(e,"morphTargetBaseInfluence",S),p.getUniforms().setValue(e,"morphTargetInfluences",r)}}}}function Hwe(e,t,n,i){let r=new WeakMap;function a(l){let c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),null!==c.instanceColor&&n.remove(c.instanceColor)}return{update:function o(l){let c=i.render.frame,h=t.get(l,l.geometry);return r.get(h)!==c&&(t.update(h),r.set(h,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),null!==l.instanceColor&&n.update(l.instanceColor,34962)),h},dispose:function s(){r=new WeakMap}}}var fV=new ds,mV=new Yj,gV=new class extends ds{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=io,this.minFilter=io,this.wrapR=Ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},vV=new HT,yV=[],bV=[],_V=new Float32Array(16),xV=new Float32Array(9),wV=new Float32Array(4);function o1(e,t,n){let i=e[0];if(i<=0||i>0)return e;let r=t*n,o=yV[r];if(void 0===o&&(o=new Float32Array(r),yV[r]=o),0!==t){i.toArray(o,0);for(let s=1,a=0;s!==t;++s)a+=n,e[s].toArray(o,a)}return o}function ma(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function ga(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function NM(e,t){let n=bV[t];void 0===n&&(n=new Int32Array(t),bV[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Gwe(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Wwe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ma(n,t))return;e.uniform2fv(this.addr,t),ga(n,t)}}function qwe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ma(n,t))return;e.uniform3fv(this.addr,t),ga(n,t)}}function Ywe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ma(n,t))return;e.uniform4fv(this.addr,t),ga(n,t)}}function Xwe(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(ma(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ga(n,t)}else{if(ma(n,i))return;wV.set(i),e.uniformMatrix2fv(this.addr,!1,wV),ga(n,i)}}function $we(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(ma(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ga(n,t)}else{if(ma(n,i))return;xV.set(i),e.uniformMatrix3fv(this.addr,!1,xV),ga(n,i)}}function Qwe(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(ma(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ga(n,t)}else{if(ma(n,i))return;_V.set(i),e.uniformMatrix4fv(this.addr,!1,_V),ga(n,i)}}function Kwe(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Zwe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ma(n,t))return;e.uniform2iv(this.addr,t),ga(n,t)}}function Jwe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ma(n,t))return;e.uniform3iv(this.addr,t),ga(n,t)}}function eCe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ma(n,t))return;e.uniform4iv(this.addr,t),ga(n,t)}}function tCe(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function nCe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ma(n,t))return;e.uniform2uiv(this.addr,t),ga(n,t)}}function iCe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ma(n,t))return;e.uniform3uiv(this.addr,t),ga(n,t)}}function rCe(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ma(n,t))return;e.uniform4uiv(this.addr,t),ga(n,t)}}function oCe(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||fV,r)}function sCe(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||gV,r)}function aCe(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||vV,r)}function lCe(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||mV,r)}function dCe(e,t){e.uniform1fv(this.addr,t)}function hCe(e,t){let n=o1(t,this.size,2);e.uniform2fv(this.addr,n)}function uCe(e,t){let n=o1(t,this.size,3);e.uniform3fv(this.addr,n)}function pCe(e,t){let n=o1(t,this.size,4);e.uniform4fv(this.addr,n)}function fCe(e,t){let n=o1(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function mCe(e,t){let n=o1(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function gCe(e,t){let n=o1(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function vCe(e,t){e.uniform1iv(this.addr,t)}function yCe(e,t){e.uniform2iv(this.addr,t)}function bCe(e,t){e.uniform3iv(this.addr,t)}function _Ce(e,t){e.uniform4iv(this.addr,t)}function xCe(e,t){e.uniform1uiv(this.addr,t)}function wCe(e,t){e.uniform2uiv(this.addr,t)}function CCe(e,t){e.uniform3uiv(this.addr,t)}function MCe(e,t){e.uniform4uiv(this.addr,t)}function PCe(e,t,n){let i=this.cache,r=t.length,o=NM(n,r);ma(i,o)||(e.uniform1iv(this.addr,o),ga(i,o));for(let s=0;s!==r;++s)n.setTexture2D(t[s]||fV,o[s])}function OCe(e,t,n){let i=this.cache,r=t.length,o=NM(n,r);ma(i,o)||(e.uniform1iv(this.addr,o),ga(i,o));for(let s=0;s!==r;++s)n.setTexture3D(t[s]||gV,o[s])}function SCe(e,t,n){let i=this.cache,r=t.length,o=NM(n,r);ma(i,o)||(e.uniform1iv(this.addr,o),ga(i,o));for(let s=0;s!==r;++s)n.setTextureCube(t[s]||vV,o[s])}function ECe(e,t,n){let i=this.cache,r=t.length,o=NM(n,r);ma(i,o)||(e.uniform1iv(this.addr,o),ga(i,o));for(let s=0;s!==r;++s)n.setTexture2DArray(t[s]||mV,o[s])}var ACe=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function cCe(e){switch(e){case 5126:return Gwe;case 35664:return Wwe;case 35665:return qwe;case 35666:return Ywe;case 35674:return Xwe;case 35675:return $we;case 35676:return Qwe;case 5124:case 35670:return Kwe;case 35667:case 35671:return Zwe;case 35668:case 35672:return Jwe;case 35669:case 35673:return eCe;case 5125:return tCe;case 36294:return nCe;case 36295:return iCe;case 36296:return rCe;case 35678:case 36198:case 36298:case 36306:case 35682:return oCe;case 35679:case 36299:case 36307:return sCe;case 35680:case 36300:case 36308:case 36293:return aCe;case 36289:case 36303:case 36311:case 36292:return lCe}}(t.type)}},TCe=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function DCe(e){switch(e){case 5126:return dCe;case 35664:return hCe;case 35665:return uCe;case 35666:return pCe;case 35674:return fCe;case 35675:return mCe;case 35676:return gCe;case 5124:case 35670:return vCe;case 35667:case 35671:return yCe;case 35668:case 35672:return bCe;case 35669:case 35673:return _Ce;case 5125:return xCe;case 36294:return wCe;case 36295:return CCe;case 36296:return MCe;case 35678:case 36198:case 36298:case 36306:case 35682:return PCe;case 35679:case 36299:case 36307:return OCe;case 35680:case 36300:case 36308:case 36293:return SCe;case 36289:case 36303:case 36311:case 36292:return ECe}}(t.type)}},ICe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let i=this.seq;for(let r=0,o=i.length;r!==o;++r){let s=i[r];s.setValue(e,t[s.id],n)}}},$T=/(\w+)(\])?(\[|\.)?/g;function CV(e,t){e.seq.push(t),e.map[t.id]=t}function kCe(e,t,n){let i=e.name,r=i.length;for($T.lastIndex=0;;){let o=$T.exec(i),a=o[1],c=o[3];if("]"===o[2]&&(a|=0),void 0===c||"["===c&&$T.lastIndex+2===r){CV(n,void 0===c?new ACe(a,e,t):new TCe(a,e,t));break}{let d=n.map[a];void 0===d&&(d=new ICe(a),CV(n,d)),n=d}}}var LM=class{constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){let r=e.getActiveUniform(t,i);kCe(r,e.getUniformLocation(t,r.name),this)}}setValue(e,t,n,i){let r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){let i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){let s=t[r],a=n[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,i)}}static seqWithValue(e,t){let n=[];for(let i=0,r=e.length;i!==r;++i){let o=e[i];o.id in t&&n.push(o)}return n}};function MV(e,t,n){let i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}var RCe=0;function PV(e,t,n){let i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";let o=/ERROR: 0:(\d+)/.exec(r);if(o){let s=parseInt(o[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function NCe(e,t){let n=e.split("\n"),i=[],r=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let s=r;s<o;s++){let a=s+1;i.push(`${a===t?">":" "} ${a}: ${n[s]}`)}return i.join("\n")}(e.getShaderSource(t),s)}return r}function FCe(e,t){let n=function LCe(e){switch(e){case sh:return["Linear","( value )"];case Zi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function BCe(e,t){let n;switch(t){case Gye:n="Linear";break;case Wye:n="Reinhard";break;case qye:n="OptimizedCineon";break;case Yye:n="ACESFilmic";break;case Xye:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function u_(e){return""!==e}function OV(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function SV(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var VCe=/^[ \t]*#include +<([\w\d./]+)>/gm;function QT(e){return e.replace(VCe,HCe)}function HCe(e,t){let n=ir[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return QT(n)}var GCe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function EV(e){return e.replace(GCe,WCe)}function WCe(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function DV(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function KCe(e,t,n,i){let b,P,r=e.getContext(),o=n.defines,s=n.vertexShader,a=n.fragmentShader,l=function qCe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===rT?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===wye?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Zb&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function YCe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Ag:case Tg:t="ENVMAP_TYPE_CUBE";break;case Jb:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function XCe(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===Tg&&(t="ENVMAP_MODE_REFRACTION"),t}(n),h=function $Ce(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case cj:t="ENVMAP_BLENDING_MULTIPLY";break;case Vye:t="ENVMAP_BLENDING_MIX";break;case Hye:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function QCe(e){let t=e.envMapCubeUVHeight;if(null===t)return null;let n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),g=n.isWebGL2?"":function zCe(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(u_).join("\n")}(n),v=function UCe(e){let t=[];for(let n in e){let i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(o),y=r.createProgram(),O=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(b=[v].filter(u_).join("\n"),b.length>0&&(b+="\n"),P=[g,v].filter(u_).join("\n"),P.length>0&&(P+="\n")):(b=[DV(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(u_).join("\n"),P=[g,DV(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ou?"#define TONE_MAPPING":"",n.toneMapping!==ou?ir.tonemapping_pars_fragment:"",n.toneMapping!==ou?BCe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ir.encodings_pars_fragment,FCe("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(u_).join("\n")),s=QT(s),s=OV(s,n),s=SV(s,n),a=QT(a),a=OV(a,n),a=SV(a,n),s=EV(s),a=EV(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(O="#version 300 es\n",b=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+b,P=["#define varying in",n.glslVersion===Uj?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Uj?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+P);let Q,Y,A=O+P+a,H=MV(r,35633,O+b+s),V=MV(r,35632,A);if(r.attachShader(y,H),r.attachShader(y,V),void 0!==n.index0AttributeName?r.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),e.debug.checkShaderErrors){let ee=r.getProgramInfoLog(y).trim(),ne=r.getShaderInfoLog(H).trim(),ae=r.getShaderInfoLog(V).trim(),pe=!0,fe=!0;if(!1===r.getProgramParameter(y,35714)){pe=!1;let ge=PV(r,H,"vertex"),Se=PV(r,V,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+"\n\nProgram Info Log: "+ee+"\n"+ge+"\n"+Se)}else""!==ee?console.warn("THREE.WebGLProgram: Program Info Log:",ee):(""===ne||""===ae)&&(fe=!1);fe&&(this.diagnostics={runnable:pe,programLog:ee,vertexShader:{log:ne,prefix:b},fragmentShader:{log:ae,prefix:P}})}return r.deleteShader(H),r.deleteShader(V),this.getUniforms=function(){return void 0===Q&&(Q=new LM(r,y)),Q},this.getAttributes=function(){return void 0===Y&&(Y=function jCe(e,t){let n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){let o=e.getActiveAttrib(t,r),s=o.name,a=1;35674===o.type&&(a=2),35675===o.type&&(a=3),35676===o.type&&(a=4),n[s]={type:o.type,location:e.getAttribLocation(t,s),locationSize:a}}return n}(r,y)),Y},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=RCe++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=H,this.fragmentShader=V,this}var ZCe=0,JCe=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let n=e.fragmentShader,i=this._getShaderStage(e.vertexShader),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new eMe(e),t.set(e,n)),n}},eMe=class{constructor(e){this.id=ZCe++,this.code=e,this.usedTimes=0}};function tMe(e,t,n,i,r,o,s){let a=new RT,l=new JCe,c=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures,g=r.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function y(Y,ee,ne,ae,pe){let fe=ae.fog,ge=pe.geometry,Oe=(Y.isMeshStandardMaterial?n:t).get(Y.envMap||(Y.isMeshStandardMaterial?ae.environment:null)),Ce=Oe&&Oe.mapping===Jb?Oe.image.height:null,_e=v[Y.type];null!==Y.precision&&(g=r.getMaxPrecision(Y.precision),g!==Y.precision&&console.warn("THREE.WebGLProgram.getParameters:",Y.precision,"not supported, using",g,"instead."));let Ue,nt,He,tt,Be=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,We=void 0!==Be?Be.length:0,Ve=0;if(void 0!==ge.morphAttributes.position&&(Ve=1),void 0!==ge.morphAttributes.normal&&(Ve=2),void 0!==ge.morphAttributes.color&&(Ve=3),_e){let lt=au[_e];Ue=lt.vertexShader,nt=lt.fragmentShader}else Ue=Y.vertexShader,nt=Y.fragmentShader,l.update(Y),He=l.getVertexShaderID(Y),tt=l.getFragmentShaderID(Y);let Xe=e.getRenderTarget(),rt=Y.clearcoat>0,wt=Y.iridescence>0;return{isWebGL2:d,shaderID:_e,shaderName:Y.type,vertexShader:Ue,fragmentShader:nt,defines:Y.defines,customVertexShaderID:He,customFragmentShaderID:tt,isRawShaderMaterial:!0===Y.isRawShaderMaterial,glslVersion:Y.glslVersion,precision:g,instancing:!0===pe.isInstancedMesh,instancingColor:!0===pe.isInstancedMesh&&null!==pe.instanceColor,supportsVertexTextures:p,outputEncoding:null===Xe?e.outputEncoding:!0===Xe.isXRRenderTarget?Xe.texture.encoding:sh,map:!!Y.map,matcap:!!Y.matcap,envMap:!!Oe,envMapMode:Oe&&Oe.mapping,envMapCubeUVHeight:Ce,lightMap:!!Y.lightMap,aoMap:!!Y.aoMap,emissiveMap:!!Y.emissiveMap,bumpMap:!!Y.bumpMap,normalMap:!!Y.normalMap,objectSpaceNormalMap:Y.normalMapType===hbe,tangentSpaceNormalMap:Y.normalMapType===dbe,decodeVideoTexture:!!Y.map&&!0===Y.map.isVideoTexture&&Y.map.encoding===Zi,clearcoat:rt,clearcoatMap:rt&&!!Y.clearcoatMap,clearcoatRoughnessMap:rt&&!!Y.clearcoatRoughnessMap,clearcoatNormalMap:rt&&!!Y.clearcoatNormalMap,iridescence:wt,iridescenceMap:wt&&!!Y.iridescenceMap,iridescenceThicknessMap:wt&&!!Y.iridescenceThicknessMap,displacementMap:!!Y.displacementMap,roughnessMap:!!Y.roughnessMap,metalnessMap:!!Y.metalnessMap,specularMap:!!Y.specularMap,specularIntensityMap:!!Y.specularIntensityMap,specularColorMap:!!Y.specularColorMap,opaque:!1===Y.transparent&&Y.blending===Dg,alphaMap:!!Y.alphaMap,alphaTest:Y.alphaTest>0,gradientMap:!!Y.gradientMap,sheen:Y.sheen>0,sheenColorMap:!!Y.sheenColorMap,sheenRoughnessMap:!!Y.sheenRoughnessMap,transmission:Y.transmission>0,transmissionMap:!!Y.transmissionMap,thicknessMap:!!Y.thicknessMap,combine:Y.combine,vertexTangents:!!Y.normalMap&&!!ge.attributes.tangent,vertexColors:Y.vertexColors,vertexAlphas:!0===Y.vertexColors&&!!ge.attributes.color&&4===ge.attributes.color.itemSize,vertexUvs:!!(Y.map||Y.bumpMap||Y.normalMap||Y.specularMap||Y.alphaMap||Y.emissiveMap||Y.roughnessMap||Y.metalnessMap||Y.clearcoatMap||Y.clearcoatRoughnessMap||Y.clearcoatNormalMap||Y.iridescenceMap||Y.iridescenceThicknessMap||Y.displacementMap||Y.transmissionMap||Y.thicknessMap||Y.specularIntensityMap||Y.specularColorMap||Y.sheenColorMap||Y.sheenRoughnessMap),uvsVertexOnly:!(Y.map||Y.bumpMap||Y.normalMap||Y.specularMap||Y.alphaMap||Y.emissiveMap||Y.roughnessMap||Y.metalnessMap||Y.clearcoatNormalMap||Y.iridescenceMap||Y.iridescenceThicknessMap||Y.transmission>0||Y.transmissionMap||Y.thicknessMap||Y.specularIntensityMap||Y.specularColorMap||Y.sheen>0||Y.sheenColorMap||Y.sheenRoughnessMap||!Y.displacementMap),fog:!!fe,useFog:!0===Y.fog,fogExp2:fe&&fe.isFogExp2,flatShading:!!Y.flatShading,sizeAttenuation:Y.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===pe.isSkinnedMesh,morphTargets:void 0!==ge.morphAttributes.position,morphNormals:void 0!==ge.morphAttributes.normal,morphColors:void 0!==ge.morphAttributes.color,morphTargetsCount:We,morphTextureStride:Ve,numDirLights:ee.directional.length,numPointLights:ee.point.length,numSpotLights:ee.spot.length,numSpotLightMaps:ee.spotLightMap.length,numRectAreaLights:ee.rectArea.length,numHemiLights:ee.hemi.length,numDirLightShadows:ee.directionalShadowMap.length,numPointLightShadows:ee.pointShadowMap.length,numSpotLightShadows:ee.spotShadowMap.length,numSpotLightShadowsWithMaps:ee.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:Y.dithering,shadowMapEnabled:e.shadowMap.enabled&&ne.length>0,shadowMapType:e.shadowMap.type,toneMapping:Y.toneMapped?e.toneMapping:ou,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:Y.premultipliedAlpha,doubleSided:Y.side===bl,flipSided:Y.side===Ta,useDepthPacking:!!Y.depthPacking,depthPacking:Y.depthPacking||0,index0AttributeName:Y.index0AttributeName,extensionDerivatives:Y.extensions&&Y.extensions.derivatives,extensionFragDepth:Y.extensions&&Y.extensions.fragDepth,extensionDrawBuffers:Y.extensions&&Y.extensions.drawBuffers,extensionShaderTextureLOD:Y.extensions&&Y.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:Y.customProgramCacheKey()}},getProgramCacheKey:function b(Y){let ee=[];if(Y.shaderID?ee.push(Y.shaderID):(ee.push(Y.customVertexShaderID),ee.push(Y.customFragmentShaderID)),void 0!==Y.defines)for(let ne in Y.defines)ee.push(ne),ee.push(Y.defines[ne]);return!1===Y.isRawShaderMaterial&&(function P(Y,ee){Y.push(ee.precision),Y.push(ee.outputEncoding),Y.push(ee.envMapMode),Y.push(ee.envMapCubeUVHeight),Y.push(ee.combine),Y.push(ee.vertexUvs),Y.push(ee.fogExp2),Y.push(ee.sizeAttenuation),Y.push(ee.morphTargetsCount),Y.push(ee.morphAttributeCount),Y.push(ee.numDirLights),Y.push(ee.numPointLights),Y.push(ee.numSpotLights),Y.push(ee.numSpotLightMaps),Y.push(ee.numHemiLights),Y.push(ee.numRectAreaLights),Y.push(ee.numDirLightShadows),Y.push(ee.numPointLightShadows),Y.push(ee.numSpotLightShadows),Y.push(ee.numSpotLightShadowsWithMaps),Y.push(ee.shadowMapType),Y.push(ee.toneMapping),Y.push(ee.numClippingPlanes),Y.push(ee.numClipIntersection),Y.push(ee.depthPacking)}(ee,Y),function O(Y,ee){a.disableAll(),ee.isWebGL2&&a.enable(0),ee.supportsVertexTextures&&a.enable(1),ee.instancing&&a.enable(2),ee.instancingColor&&a.enable(3),ee.map&&a.enable(4),ee.matcap&&a.enable(5),ee.envMap&&a.enable(6),ee.lightMap&&a.enable(7),ee.aoMap&&a.enable(8),ee.emissiveMap&&a.enable(9),ee.bumpMap&&a.enable(10),ee.normalMap&&a.enable(11),ee.objectSpaceNormalMap&&a.enable(12),ee.tangentSpaceNormalMap&&a.enable(13),ee.clearcoat&&a.enable(14),ee.clearcoatMap&&a.enable(15),ee.clearcoatRoughnessMap&&a.enable(16),ee.clearcoatNormalMap&&a.enable(17),ee.iridescence&&a.enable(18),ee.iridescenceMap&&a.enable(19),ee.iridescenceThicknessMap&&a.enable(20),ee.displacementMap&&a.enable(21),ee.specularMap&&a.enable(22),ee.roughnessMap&&a.enable(23),ee.metalnessMap&&a.enable(24),ee.gradientMap&&a.enable(25),ee.alphaMap&&a.enable(26),ee.alphaTest&&a.enable(27),ee.vertexColors&&a.enable(28),ee.vertexAlphas&&a.enable(29),ee.vertexUvs&&a.enable(30),ee.vertexTangents&&a.enable(31),ee.uvsVertexOnly&&a.enable(32),Y.push(a.mask),a.disableAll(),ee.fog&&a.enable(0),ee.useFog&&a.enable(1),ee.flatShading&&a.enable(2),ee.logarithmicDepthBuffer&&a.enable(3),ee.skinning&&a.enable(4),ee.morphTargets&&a.enable(5),ee.morphNormals&&a.enable(6),ee.morphColors&&a.enable(7),ee.premultipliedAlpha&&a.enable(8),ee.shadowMapEnabled&&a.enable(9),ee.physicallyCorrectLights&&a.enable(10),ee.doubleSided&&a.enable(11),ee.flipSided&&a.enable(12),ee.useDepthPacking&&a.enable(13),ee.dithering&&a.enable(14),ee.specularIntensityMap&&a.enable(15),ee.specularColorMap&&a.enable(16),ee.transmission&&a.enable(17),ee.transmissionMap&&a.enable(18),ee.thicknessMap&&a.enable(19),ee.sheen&&a.enable(20),ee.sheenColorMap&&a.enable(21),ee.sheenRoughnessMap&&a.enable(22),ee.decodeVideoTexture&&a.enable(23),ee.opaque&&a.enable(24),Y.push(a.mask)}(ee,Y),ee.push(e.outputEncoding)),ee.push(Y.customProgramCacheKey),ee.join()},getUniforms:function S(Y){let ne,ee=v[Y.type];return ne=ee?Jv.clone(au[ee].uniforms):Y.uniforms,ne},acquireProgram:function A(Y,ee){let ne;for(let ae=0,pe=c.length;ae<pe;ae++){let fe=c[ae];if(fe.cacheKey===ee){ne=fe,++ne.usedTimes;break}}return void 0===ne&&(ne=new KCe(e,ee,Y,o),c.push(ne)),ne},releaseProgram:function H(Y){if(0==--Y.usedTimes){let ee=c.indexOf(Y);c[ee]=c[c.length-1],c.pop(),Y.destroy()}},releaseShaderCache:function V(Y){l.remove(Y)},programs:c,dispose:function Q(){l.dispose()}}}function nMe(){let e=new WeakMap;return{get:function t(o){let s=e.get(o);return void 0===s&&(s={},e.set(o,s)),s},remove:function n(o){e.delete(o)},update:function i(o,s,a){e.get(o)[s]=a},dispose:function r(){e=new WeakMap}}}function iMe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function AV(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function TV(){let e=[],t=0,n=[],i=[],r=[];function s(h,p,g,v,y,b){let P=e[t];return void 0===P?(P={id:h.id,object:h,geometry:p,material:g,groupOrder:v,renderOrder:h.renderOrder,z:y,group:b},e[t]=P):(P.id=h.id,P.object=h,P.geometry=p,P.material=g,P.groupOrder=v,P.renderOrder=h.renderOrder,P.z=y,P.group=b),t++,P}return{opaque:n,transmissive:i,transparent:r,init:function o(){t=0,n.length=0,i.length=0,r.length=0},push:function a(h,p,g,v,y,b){let P=s(h,p,g,v,y,b);g.transmission>0?i.push(P):!0===g.transparent?r.push(P):n.push(P)},unshift:function l(h,p,g,v,y,b){let P=s(h,p,g,v,y,b);g.transmission>0?i.unshift(P):!0===g.transparent?r.unshift(P):n.unshift(P)},finish:function d(){for(let h=t,p=e.length;h<p;h++){let g=e[h];if(null===g.id)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}},sort:function c(h,p){n.length>1&&n.sort(h||iMe),i.length>1&&i.sort(p||AV),r.length>1&&r.sort(p||AV)}}}function rMe(){let e=new WeakMap;return{get:function t(i,r){let s,o=e.get(i);return void 0===o?(s=new TV,e.set(i,[s])):r>=o.length?(s=new TV,o.push(s)):s=o[r],s},dispose:function n(){e=new WeakMap}}}function oMe(){let e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new ie,color:new gi};break;case"SpotLight":n={position:new ie,direction:new ie,color:new gi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ie,color:new gi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ie,skyColor:new gi,groundColor:new gi};break;case"RectAreaLight":n={color:new gi,position:new ie,halfWidth:new ie,halfHeight:new ie}}return e[t.id]=n,n}}}var aMe=0;function lMe(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function cMe(e,t){let n=new oMe,i=function sMe(){let e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new ie);let o=new ie,s=new Kt,a=new Kt;return{setup:function l(d,h){let p=0,g=0,v=0;for(let ae=0;ae<9;ae++)r.probe[ae].set(0,0,0);let y=0,b=0,P=0,O=0,S=0,A=0,H=0,V=0,Q=0,Y=0;d.sort(lMe);let ee=!0!==h?Math.PI:1;for(let ae=0,pe=d.length;ae<pe;ae++){let fe=d[ae],ge=fe.color,Se=fe.intensity,Oe=fe.distance,Ce=fe.shadow&&fe.shadow.map?fe.shadow.map.texture:null;if(fe.isAmbientLight)p+=ge.r*Se*ee,g+=ge.g*Se*ee,v+=ge.b*Se*ee;else if(fe.isLightProbe)for(let _e=0;_e<9;_e++)r.probe[_e].addScaledVector(fe.sh.coefficients[_e],Se);else if(fe.isDirectionalLight){let _e=n.get(fe);if(_e.color.copy(fe.color).multiplyScalar(fe.intensity*ee),fe.castShadow){let Be=fe.shadow,We=i.get(fe);We.shadowBias=Be.bias,We.shadowNormalBias=Be.normalBias,We.shadowRadius=Be.radius,We.shadowMapSize=Be.mapSize,r.directionalShadow[y]=We,r.directionalShadowMap[y]=Ce,r.directionalShadowMatrix[y]=fe.shadow.matrix,A++}r.directional[y]=_e,y++}else if(fe.isSpotLight){let _e=n.get(fe);_e.position.setFromMatrixPosition(fe.matrixWorld),_e.color.copy(ge).multiplyScalar(Se*ee),_e.distance=Oe,_e.coneCos=Math.cos(fe.angle),_e.penumbraCos=Math.cos(fe.angle*(1-fe.penumbra)),_e.decay=fe.decay,r.spot[P]=_e;let Be=fe.shadow;if(fe.map&&(r.spotLightMap[Q]=fe.map,Q++,Be.updateMatrices(fe),fe.castShadow&&Y++),r.spotLightMatrix[P]=Be.matrix,fe.castShadow){let We=i.get(fe);We.shadowBias=Be.bias,We.shadowNormalBias=Be.normalBias,We.shadowRadius=Be.radius,We.shadowMapSize=Be.mapSize,r.spotShadow[P]=We,r.spotShadowMap[P]=Ce,V++}P++}else if(fe.isRectAreaLight){let _e=n.get(fe);_e.color.copy(ge).multiplyScalar(Se),_e.halfWidth.set(.5*fe.width,0,0),_e.halfHeight.set(0,.5*fe.height,0),r.rectArea[O]=_e,O++}else if(fe.isPointLight){let _e=n.get(fe);if(_e.color.copy(fe.color).multiplyScalar(fe.intensity*ee),_e.distance=fe.distance,_e.decay=fe.decay,fe.castShadow){let Be=fe.shadow,We=i.get(fe);We.shadowBias=Be.bias,We.shadowNormalBias=Be.normalBias,We.shadowRadius=Be.radius,We.shadowMapSize=Be.mapSize,We.shadowCameraNear=Be.camera.near,We.shadowCameraFar=Be.camera.far,r.pointShadow[b]=We,r.pointShadowMap[b]=Ce,r.pointShadowMatrix[b]=fe.shadow.matrix,H++}r.point[b]=_e,b++}else if(fe.isHemisphereLight){let _e=n.get(fe);_e.skyColor.copy(fe.color).multiplyScalar(Se*ee),_e.groundColor.copy(fe.groundColor).multiplyScalar(Se*ee),r.hemi[S]=_e,S++}}O>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=bn.LTC_FLOAT_1,r.rectAreaLTC2=bn.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=bn.LTC_HALF_1,r.rectAreaLTC2=bn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=g,r.ambient[2]=v;let ne=r.hash;(ne.directionalLength!==y||ne.pointLength!==b||ne.spotLength!==P||ne.rectAreaLength!==O||ne.hemiLength!==S||ne.numDirectionalShadows!==A||ne.numPointShadows!==H||ne.numSpotShadows!==V||ne.numSpotMaps!==Q)&&(r.directional.length=y,r.spot.length=P,r.rectArea.length=O,r.point.length=b,r.hemi.length=S,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=H,r.pointShadowMap.length=H,r.spotShadow.length=V,r.spotShadowMap.length=V,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=H,r.spotLightMatrix.length=V+Q-Y,r.spotLightMap.length=Q,r.numSpotLightShadowsWithMaps=Y,ne.directionalLength=y,ne.pointLength=b,ne.spotLength=P,ne.rectAreaLength=O,ne.hemiLength=S,ne.numDirectionalShadows=A,ne.numPointShadows=H,ne.numSpotShadows=V,ne.numSpotMaps=Q,r.version=aMe++)},setupView:function c(d,h){let p=0,g=0,v=0,y=0,b=0,P=h.matrixWorldInverse;for(let O=0,S=d.length;O<S;O++){let A=d[O];if(A.isDirectionalLight){let H=r.directional[p];H.direction.setFromMatrixPosition(A.matrixWorld),o.setFromMatrixPosition(A.target.matrixWorld),H.direction.sub(o),H.direction.transformDirection(P),p++}else if(A.isSpotLight){let H=r.spot[v];H.position.setFromMatrixPosition(A.matrixWorld),H.position.applyMatrix4(P),H.direction.setFromMatrixPosition(A.matrixWorld),o.setFromMatrixPosition(A.target.matrixWorld),H.direction.sub(o),H.direction.transformDirection(P),v++}else if(A.isRectAreaLight){let H=r.rectArea[y];H.position.setFromMatrixPosition(A.matrixWorld),H.position.applyMatrix4(P),a.identity(),s.copy(A.matrixWorld),s.premultiply(P),a.extractRotation(s),H.halfWidth.set(.5*A.width,0,0),H.halfHeight.set(0,.5*A.height,0),H.halfWidth.applyMatrix4(a),H.halfHeight.applyMatrix4(a),y++}else if(A.isPointLight){let H=r.point[g];H.position.setFromMatrixPosition(A.matrixWorld),H.position.applyMatrix4(P),g++}else if(A.isHemisphereLight){let H=r.hemi[b];H.direction.setFromMatrixPosition(A.matrixWorld),H.direction.transformDirection(P),b++}}},state:r}}function IV(e,t){let n=new cMe(e,t),i=[],r=[];return{init:function o(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function l(d){n.setup(i,d)},setupLightsView:function c(d){n.setupView(i,d)},pushLight:function s(d){i.push(d)},pushShadow:function a(d){r.push(d)}}}function dMe(e,t){let n=new WeakMap;return{get:function i(o,s=0){let l,a=n.get(o);return void 0===a?(l=new IV(e,t),n.set(o,[l])):s>=a.length?(l=new IV(e,t),a.push(l)):l=a[s],l},dispose:function r(){n=new WeakMap}}}var kV=class extends a_{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=yp,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},hMe=class extends a_{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ie,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},uMe="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",pMe="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function fMe(e,t,n){let i=new WT,r=new qe,o=new qe,s=new ki,a=new kV({depthPacking:zj}),l=new hMe,c={},d=n.maxTextureSize,h={[oh]:Ta,[Ta]:oh,[bl]:bl},p=new Qr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:uMe,fragmentShader:pMe}),g=p.clone();g.defines.HORIZONTAL_PASS=1;let v=new ii;v.setAttribute("position",new Mi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let y=new hs(v,p),b=this;function P(A,H){let V=t.update(y);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,g.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),null===A.mapPass&&(A.mapPass=new Zr(r.x,r.y)),p.uniforms.shadow_pass.value=A.map.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,e.setRenderTarget(A.mapPass),e.clear(),e.renderBufferDirect(H,null,V,p,y,null),g.uniforms.shadow_pass.value=A.mapPass.texture,g.uniforms.resolution.value=A.mapSize,g.uniforms.radius.value=A.radius,e.setRenderTarget(A.map),e.clear(),e.renderBufferDirect(H,null,V,g,y,null)}function O(A,H,V,Q,Y,ee){let ne=null,ae=!0===V.isPointLight?A.customDistanceMaterial:A.customDepthMaterial;if(void 0!==ae)ne=ae;else if(ne=!0===V.isPointLight?l:a,e.localClippingEnabled&&!0===H.clipShadows&&Array.isArray(H.clippingPlanes)&&0!==H.clippingPlanes.length||H.displacementMap&&0!==H.displacementScale||H.alphaMap&&H.alphaTest>0||H.map&&H.alphaTest>0){let pe=ne.uuid,fe=H.uuid,ge=c[pe];void 0===ge&&(ge={},c[pe]=ge);let Se=ge[fe];void 0===Se&&(Se=ne.clone(),ge[fe]=Se),ne=Se}return ne.visible=H.visible,ne.wireframe=H.wireframe,ne.side=ee===Zb?null!==H.shadowSide?H.shadowSide:H.side:null!==H.shadowSide?H.shadowSide:h[H.side],ne.alphaMap=H.alphaMap,ne.alphaTest=H.alphaTest,ne.map=H.map,ne.clipShadows=H.clipShadows,ne.clippingPlanes=H.clippingPlanes,ne.clipIntersection=H.clipIntersection,ne.displacementMap=H.displacementMap,ne.displacementScale=H.displacementScale,ne.displacementBias=H.displacementBias,ne.wireframeLinewidth=H.wireframeLinewidth,ne.linewidth=H.linewidth,!0===V.isPointLight&&!0===ne.isMeshDistanceMaterial&&(ne.referencePosition.setFromMatrixPosition(V.matrixWorld),ne.nearDistance=Q,ne.farDistance=Y),ne}function S(A,H,V,Q,Y){if(!1===A.visible)return;if(A.layers.test(H.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&Y===Zb)&&(!A.frustumCulled||i.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,A.matrixWorld);let ne=t.update(A),ae=A.material;if(Array.isArray(ae)){let pe=ne.groups;for(let fe=0,ge=pe.length;fe<ge;fe++){let Se=pe[fe],Oe=ae[Se.materialIndex];if(Oe&&Oe.visible){let Ce=O(A,Oe,Q,V.near,V.far,Y);e.renderBufferDirect(V,null,ne,Ce,A,Se)}}}else if(ae.visible){let pe=O(A,ae,Q,V.near,V.far,Y);e.renderBufferDirect(V,null,ne,pe,A,null)}}let ee=A.children;for(let ne=0,ae=ee.length;ne<ae;ne++)S(ee[ne],H,V,Q,Y)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rT,this.render=function(A,H,V){if(!1===b.enabled||!1===b.autoUpdate&&!1===b.needsUpdate||0===A.length)return;let Q=e.getRenderTarget(),Y=e.getActiveCubeFace(),ee=e.getActiveMipmapLevel(),ne=e.state;ne.setBlending(qs),ne.buffers.color.setClear(1,1,1,1),ne.buffers.depth.setTest(!0),ne.setScissorTest(!1);for(let ae=0,pe=A.length;ae<pe;ae++){let fe=A[ae],ge=fe.shadow;if(void 0===ge){console.warn("THREE.WebGLShadowMap:",fe,"has no shadow.");continue}if(!1===ge.autoUpdate&&!1===ge.needsUpdate)continue;r.copy(ge.mapSize);let Se=ge.getFrameExtents();r.multiply(Se),o.copy(ge.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(o.x=Math.floor(d/Se.x),r.x=o.x*Se.x,ge.mapSize.x=o.x),r.y>d&&(o.y=Math.floor(d/Se.y),r.y=o.y*Se.y,ge.mapSize.y=o.y)),null===ge.map&&(ge.map=new Zr(r.x,r.y,this.type!==Zb?{minFilter:io,magFilter:io}:{}),ge.map.texture.name=fe.name+".shadowMap",ge.camera.updateProjectionMatrix()),e.setRenderTarget(ge.map),e.clear();let Oe=ge.getViewportCount();for(let Ce=0;Ce<Oe;Ce++){let _e=ge.getViewport(Ce);s.set(o.x*_e.x,o.y*_e.y,o.x*_e.z,o.y*_e.w),ne.viewport(s),ge.updateMatrices(fe,Ce),i=ge.getFrustum(),S(H,V,ge.camera,fe,this.type)}!0!==ge.isPointLightShadow&&this.type===Zb&&P(ge,V),ge.needsUpdate=!1}b.needsUpdate=!1,e.setRenderTarget(Q,Y,ee)}}function mMe(e,t,n){let i=n.isWebGL2,a=new function r(){let ot=!1,kt=new ki,sn=null,yn=new ki(0,0,0,0);return{setMask:function(di){sn!==di&&!ot&&(e.colorMask(di,di,di,di),sn=di)},setLocked:function(di){ot=di},setClear:function(di,Ci,Jo,Ca,Bu){!0===Bu&&(di*=Ca,Ci*=Ca,Jo*=Ca),kt.set(di,Ci,Jo,Ca),!1===yn.equals(kt)&&(e.clearColor(di,Ci,Jo,Ca),yn.copy(kt))},reset:function(){ot=!1,sn=null,yn.set(-1,0,0,0)}}},l=new function o(){let ot=!1,kt=null,sn=null,yn=null;return{setTest:function(di){di?xt(2929):rt(2929)},setMask:function(di){kt!==di&&!ot&&(e.depthMask(di),kt=di)},setFunc:function(di){if(sn!==di){switch(di){case Nye:e.depthFunc(512);break;case Lye:e.depthFunc(519);break;case Fye:e.depthFunc(513);break;case oT:e.depthFunc(515);break;case Bye:e.depthFunc(514);break;case zye:e.depthFunc(518);break;case Uye:e.depthFunc(516);break;case jye:e.depthFunc(517);break;default:e.depthFunc(515)}sn=di}},setLocked:function(di){ot=di},setClear:function(di){yn!==di&&(e.clearDepth(di),yn=di)},reset:function(){ot=!1,kt=null,sn=null,yn=null}}},c=new function s(){let ot=!1,kt=null,sn=null,yn=null,di=null,Ci=null,Jo=null,Ca=null,Bu=null;return{setTest:function(Wo){ot||(Wo?xt(2960):rt(2960))},setMask:function(Wo){kt!==Wo&&!ot&&(e.stencilMask(Wo),kt=Wo)},setFunc:function(Wo,Kc,ec){(sn!==Wo||yn!==Kc||di!==ec)&&(e.stencilFunc(Wo,Kc,ec),sn=Wo,yn=Kc,di=ec)},setOp:function(Wo,Kc,ec){(Ci!==Wo||Jo!==Kc||Ca!==ec)&&(e.stencilOp(Wo,Kc,ec),Ci=Wo,Jo=Kc,Ca=ec)},setLocked:function(Wo){ot=Wo},setClear:function(Wo){Bu!==Wo&&(e.clearStencil(Wo),Bu=Wo)},reset:function(){ot=!1,kt=null,sn=null,yn=null,di=null,Ci=null,Jo=null,Ca=null,Bu=null}}},d=new WeakMap,h=new WeakMap,p={},g={},v=new WeakMap,y=[],b=null,P=!1,O=null,S=null,A=null,H=null,V=null,Q=null,Y=null,ee=!1,ne=null,ae=null,pe=null,fe=null,ge=null,Se=e.getParameter(35661),Oe=!1,Ce=0,_e=e.getParameter(7938);-1!==_e.indexOf("WebGL")?(Ce=parseFloat(/^WebGL (\d)/.exec(_e)[1]),Oe=Ce>=1):-1!==_e.indexOf("OpenGL ES")&&(Ce=parseFloat(/^OpenGL ES (\d)/.exec(_e)[1]),Oe=Ce>=2);let Be=null,We={},Ve=e.getParameter(3088),Ue=e.getParameter(2978),nt=(new ki).fromArray(Ve),He=(new ki).fromArray(Ue);function tt(ot,kt,sn){let yn=new Uint8Array(4),di=e.createTexture();e.bindTexture(ot,di),e.texParameteri(ot,10241,9728),e.texParameteri(ot,10240,9728);for(let Ci=0;Ci<sn;Ci++)e.texImage2D(kt+Ci,0,6408,1,1,0,6408,5121,yn);return di}let Xe={};function xt(ot){!0!==p[ot]&&(e.enable(ot),p[ot]=!0)}function rt(ot){!1!==p[ot]&&(e.disable(ot),p[ot]=!1)}Xe[3553]=tt(3553,3553,1),Xe[34067]=tt(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),xt(2929),l.setFunc(oT),Sn(!1),Fn(tj),xt(2884),wn(qs);let Nt={[Lv]:32774,[Mye]:32778,[Pye]:32779};if(i)Nt[oj]=32775,Nt[sj]=32776;else{let ot=t.get("EXT_blend_minmax");null!==ot&&(Nt[oj]=ot.MIN_EXT,Nt[sj]=ot.MAX_EXT)}let At={[Oye]:0,[Sye]:1,[Eye]:768,[aj]:770,[Rye]:776,[Iye]:774,[Aye]:772,[Dye]:769,[lj]:771,[kye]:775,[Tye]:773};function wn(ot,kt,sn,yn,di,Ci,Jo,Ca){if(ot!==qs){if(!1===P&&(xt(3042),P=!0),ot===Cye)di=di||kt,Ci=Ci||sn,Jo=Jo||yn,(kt!==S||di!==V)&&(e.blendEquationSeparate(Nt[kt],Nt[di]),S=kt,V=di),(sn!==A||yn!==H||Ci!==Q||Jo!==Y)&&(e.blendFuncSeparate(At[sn],At[yn],At[Ci],At[Jo]),A=sn,H=yn,Q=Ci,Y=Jo),O=ot,ee=!1;else if(ot!==O||Ca!==ee){if((S!==Lv||V!==Lv)&&(e.blendEquation(32774),S=Lv,V=Lv),Ca)switch(ot){case Dg:e.blendFuncSeparate(1,771,1,771);break;case nj:e.blendFunc(1,1);break;case ij:e.blendFuncSeparate(0,769,0,1);break;case rj:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ot)}else switch(ot){case Dg:e.blendFuncSeparate(770,771,1,771);break;case nj:e.blendFunc(770,1);break;case ij:e.blendFuncSeparate(0,769,0,1);break;case rj:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ot)}A=null,H=null,Q=null,Y=null,O=ot,ee=Ca}}else!0===P&&(rt(3042),P=!1)}function Sn(ot){ne!==ot&&(e.frontFace(ot?2304:2305),ne=ot)}function Fn(ot){ot!==_ye?(xt(2884),ot!==ae&&e.cullFace(ot===tj?1029:ot===xye?1028:1032)):rt(2884),ae=ot}function hn(ot,kt,sn){ot?(xt(32823),(fe!==kt||ge!==sn)&&(e.polygonOffset(kt,sn),fe=kt,ge=sn)):rt(32823)}return{buffers:{color:a,depth:l,stencil:c},enable:xt,disable:rt,bindFramebuffer:function wt(ot,kt){return g[ot]!==kt&&(e.bindFramebuffer(ot,kt),g[ot]=kt,i&&(36009===ot&&(g[36160]=kt),36160===ot&&(g[36009]=kt)),!0)},drawBuffers:function lt(ot,kt){let sn=y,yn=!1;if(ot)if(sn=v.get(kt),void 0===sn&&(sn=[],v.set(kt,sn)),ot.isWebGLMultipleRenderTargets){let di=ot.texture;if(sn.length!==di.length||36064!==sn[0]){for(let Ci=0,Jo=di.length;Ci<Jo;Ci++)sn[Ci]=36064+Ci;sn.length=di.length,yn=!0}}else 36064!==sn[0]&&(sn[0]=36064,yn=!0);else 1029!==sn[0]&&(sn[0]=1029,yn=!0);yn&&(n.isWebGL2?e.drawBuffers(sn):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(sn))},useProgram:function Gt(ot){return b!==ot&&(e.useProgram(ot),b=ot,!0)},setBlending:wn,setMaterial:function Cn(ot,kt){ot.side===bl?rt(2884):xt(2884);let sn=ot.side===Ta;kt&&(sn=!sn),Sn(sn),ot.blending===Dg&&!1===ot.transparent?wn(qs):wn(ot.blending,ot.blendEquation,ot.blendSrc,ot.blendDst,ot.blendEquationAlpha,ot.blendSrcAlpha,ot.blendDstAlpha,ot.premultipliedAlpha),l.setFunc(ot.depthFunc),l.setTest(ot.depthTest),l.setMask(ot.depthWrite),a.setMask(ot.colorWrite);let yn=ot.stencilWrite;c.setTest(yn),yn&&(c.setMask(ot.stencilWriteMask),c.setFunc(ot.stencilFunc,ot.stencilRef,ot.stencilFuncMask),c.setOp(ot.stencilFail,ot.stencilZFail,ot.stencilZPass)),hn(ot.polygonOffset,ot.polygonOffsetFactor,ot.polygonOffsetUnits),!0===ot.alphaToCoverage?xt(32926):rt(32926)},setFlipSided:Sn,setCullFace:Fn,setLineWidth:function fn(ot){ot!==pe&&(Oe&&e.lineWidth(ot),pe=ot)},setPolygonOffset:hn,setScissorTest:function Qn(ot){ot?xt(3089):rt(3089)},activeTexture:function pi(ot){void 0===ot&&(ot=33984+Se-1),Be!==ot&&(e.activeTexture(ot),Be=ot)},bindTexture:function Fe(ot,kt,sn){void 0===sn&&(sn=null===Be?33984+Se-1:Be);let yn=We[sn];void 0===yn&&(yn={type:void 0,texture:void 0},We[sn]=yn),(yn.type!==ot||yn.texture!==kt)&&(Be!==sn&&(e.activeTexture(sn),Be=sn),e.bindTexture(ot,kt||Xe[ot]),yn.type=ot,yn.texture=kt)},unbindTexture:function Pe(){let ot=We[Be];void 0!==ot&&void 0!==ot.type&&(e.bindTexture(ot.type,null),ot.type=void 0,ot.texture=void 0)},compressedTexImage2D:function bt(){try{e.compressedTexImage2D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},compressedTexImage3D:function en(){try{e.compressedTexImage3D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},texImage2D:function Kn(){try{e.texImage2D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},texImage3D:function Xn(){try{e.texImage3D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},updateUBOMapping:function Lr(ot,kt){let sn=h.get(kt);void 0===sn&&(sn=new WeakMap,h.set(kt,sn));let yn=sn.get(ot);void 0===yn&&(yn=e.getUniformBlockIndex(kt,ot.name),sn.set(ot,yn))},uniformBlockBinding:function Co(ot,kt){let sn=h.get(kt).get(ot);d.get(kt)!==sn&&(e.uniformBlockBinding(kt,sn,ot.__bindingPointIndex),d.set(kt,sn))},texStorage2D:function $t(){try{e.texStorage2D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},texStorage3D:function vn(){try{e.texStorage3D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},texSubImage2D:function ye(){try{e.texSubImage2D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},texSubImage3D:function Rt(){try{e.texSubImage3D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},compressedTexSubImage2D:function Yn(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},compressedTexSubImage3D:function _n(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},scissor:function Si(ot){!1===nt.equals(ot)&&(e.scissor(ot.x,ot.y,ot.z,ot.w),nt.copy(ot))},viewport:function yi(ot){!1===He.equals(ot)&&(e.viewport(ot.x,ot.y,ot.z,ot.w),He.copy(ot))},reset:function Ar(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),p={},Be=null,We={},g={},v=new WeakMap,y=[],b=null,P=!1,O=null,S=null,A=null,H=null,V=null,Q=null,Y=null,ee=!1,ne=null,ae=null,pe=null,fe=null,ge=null,nt.set(0,0,e.canvas.width,e.canvas.height),He.set(0,0,e.canvas.width,e.canvas.height),a.reset(),l.reset(),c.reset()}}}function gMe(e,t,n,i,r,o,s){let y,a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,g=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap,b=new WeakMap,P=!1;try{P=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function O(Fe,Pe){return P?new OffscreenCanvas(Fe,Pe):i_("canvas")}function S(Fe,Pe,bt,en){let ye=1;if((Fe.width>en||Fe.height>en)&&(ye=en/Math.max(Fe.width,Fe.height)),ye<1||!0===Pe){if(typeof HTMLImageElement<"u"&&Fe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Fe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Fe instanceof ImageBitmap){let Rt=Pe?pM:Math.floor,Yn=Rt(ye*Fe.width),_n=Rt(ye*Fe.height);void 0===y&&(y=O(Yn,_n));let $t=bt?O(Yn,_n):y;return $t.width=Yn,$t.height=_n,$t.getContext("2d").drawImage(Fe,0,0,Yn,_n),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Fe.width+"x"+Fe.height+") to ("+Yn+"x"+_n+")."),$t}return"data"in Fe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Fe.width+"x"+Fe.height+")."),Fe}return Fe}function A(Fe){return wT(Fe.width)&&wT(Fe.height)}function V(Fe,Pe){return Fe.generateMipmaps&&Pe&&Fe.minFilter!==io&&Fe.minFilter!==nr}function Q(Fe){e.generateMipmap(Fe)}function Y(Fe,Pe,bt,en,ye=!1){if(!1===a)return Pe;if(null!==Fe){if(void 0!==e[Fe])return e[Fe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Fe+"'")}let Rt=Pe;return 6403===Pe&&(5126===bt&&(Rt=33326),5131===bt&&(Rt=33325),5121===bt&&(Rt=33321)),33319===Pe&&(5126===bt&&(Rt=33328),5131===bt&&(Rt=33327),5121===bt&&(Rt=33323)),6408===Pe&&(5126===bt&&(Rt=34836),5131===bt&&(Rt=34842),5121===bt&&(Rt=en===Zi&&!1===ye?35907:32856),32819===bt&&(Rt=32854),32820===bt&&(Rt=32855)),(33325===Rt||33326===Rt||33327===Rt||33328===Rt||34842===Rt||34836===Rt)&&t.get("EXT_color_buffer_float"),Rt}function ee(Fe,Pe,bt){return!0===V(Fe,bt)||Fe.isFramebufferTexture&&Fe.minFilter!==io&&Fe.minFilter!==nr?Math.log2(Math.max(Pe.width,Pe.height))+1:void 0!==Fe.mipmaps&&Fe.mipmaps.length>0?Fe.mipmaps.length:Fe.isCompressedTexture&&Array.isArray(Fe.image)?Pe.mipmaps.length:1}function ne(Fe){return Fe===io||Fe===hj||Fe===cT?9728:9729}function ae(Fe){let Pe=Fe.target;Pe.removeEventListener("dispose",ae),function fe(Fe){let Pe=i.get(Fe);if(void 0===Pe.__webglInit)return;let bt=Fe.source,en=b.get(bt);if(en){let ye=en[Pe.__cacheKey];ye.usedTimes--,0===ye.usedTimes&&ge(Fe),0===Object.keys(en).length&&b.delete(bt)}i.remove(Fe)}(Pe),Pe.isVideoTexture&&v.delete(Pe)}function pe(Fe){let Pe=Fe.target;Pe.removeEventListener("dispose",pe),function Se(Fe){let Pe=Fe.texture,bt=i.get(Fe),en=i.get(Pe);if(void 0!==en.__webglTexture&&(e.deleteTexture(en.__webglTexture),s.memory.textures--),Fe.depthTexture&&Fe.depthTexture.dispose(),Fe.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++)e.deleteFramebuffer(bt.__webglFramebuffer[ye]),bt.__webglDepthbuffer&&e.deleteRenderbuffer(bt.__webglDepthbuffer[ye]);else{if(e.deleteFramebuffer(bt.__webglFramebuffer),bt.__webglDepthbuffer&&e.deleteRenderbuffer(bt.__webglDepthbuffer),bt.__webglMultisampledFramebuffer&&e.deleteFramebuffer(bt.__webglMultisampledFramebuffer),bt.__webglColorRenderbuffer)for(let ye=0;ye<bt.__webglColorRenderbuffer.length;ye++)bt.__webglColorRenderbuffer[ye]&&e.deleteRenderbuffer(bt.__webglColorRenderbuffer[ye]);bt.__webglDepthRenderbuffer&&e.deleteRenderbuffer(bt.__webglDepthRenderbuffer)}if(Fe.isWebGLMultipleRenderTargets)for(let ye=0,Rt=Pe.length;ye<Rt;ye++){let Yn=i.get(Pe[ye]);Yn.__webglTexture&&(e.deleteTexture(Yn.__webglTexture),s.memory.textures--),i.remove(Pe[ye])}i.remove(Pe),i.remove(Fe)}(Pe)}function ge(Fe){let Pe=i.get(Fe);e.deleteTexture(Pe.__webglTexture),delete b.get(Fe.source)[Pe.__cacheKey],s.memory.textures--}let Oe=0;function We(Fe,Pe){let bt=i.get(Fe);if(Fe.isVideoTexture&&function Qn(Fe){let Pe=s.render.frame;v.get(Fe)!==Pe&&(v.set(Fe,Pe),Fe.update())}(Fe),!1===Fe.isRenderTargetTexture&&Fe.version>0&&bt.__version!==Fe.version){let en=Fe.image;if(null===en)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==en.complete)return void rt(bt,Fe,Pe);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,bt.__webglTexture,33984+Pe)}let He={[mp]:10497,[Ko]:33071,[lT]:33648},tt={[io]:9728,[hj]:9984,[cT]:9986,[nr]:9729,[$ye]:9985,[Fv]:9987};function Xe(Fe,Pe,bt){if(bt?(e.texParameteri(Fe,10242,He[Pe.wrapS]),e.texParameteri(Fe,10243,He[Pe.wrapT]),(32879===Fe||35866===Fe)&&e.texParameteri(Fe,32882,He[Pe.wrapR]),e.texParameteri(Fe,10240,tt[Pe.magFilter]),e.texParameteri(Fe,10241,tt[Pe.minFilter])):(e.texParameteri(Fe,10242,33071),e.texParameteri(Fe,10243,33071),(32879===Fe||35866===Fe)&&e.texParameteri(Fe,32882,33071),(Pe.wrapS!==Ko||Pe.wrapT!==Ko)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(Fe,10240,ne(Pe.magFilter)),e.texParameteri(Fe,10241,ne(Pe.minFilter)),Pe.minFilter!==io&&Pe.minFilter!==nr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){let en=t.get("EXT_texture_filter_anisotropic");if(Pe.magFilter===io||Pe.minFilter!==cT&&Pe.minFilter!==Fv||Pe.type===Ys&&!1===t.has("OES_texture_float_linear")||!1===a&&Pe.type===vp&&!1===t.has("OES_texture_half_float_linear"))return;(Pe.anisotropy>1||i.get(Pe).__currentAnisotropy)&&(e.texParameterf(Fe,en.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Pe.anisotropy,r.getMaxAnisotropy())),i.get(Pe).__currentAnisotropy=Pe.anisotropy)}}function xt(Fe,Pe){let bt=!1;void 0===Fe.__webglInit&&(Fe.__webglInit=!0,Pe.addEventListener("dispose",ae));let en=Pe.source,ye=b.get(en);void 0===ye&&(ye={},b.set(en,ye));let Rt=function Be(Fe){let Pe=[];return Pe.push(Fe.wrapS),Pe.push(Fe.wrapT),Pe.push(Fe.wrapR||0),Pe.push(Fe.magFilter),Pe.push(Fe.minFilter),Pe.push(Fe.anisotropy),Pe.push(Fe.internalFormat),Pe.push(Fe.format),Pe.push(Fe.type),Pe.push(Fe.generateMipmaps),Pe.push(Fe.premultiplyAlpha),Pe.push(Fe.flipY),Pe.push(Fe.unpackAlignment),Pe.push(Fe.encoding),Pe.join()}(Pe);if(Rt!==Fe.__cacheKey){void 0===ye[Rt]&&(ye[Rt]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,bt=!0),ye[Rt].usedTimes++;let Yn=ye[Fe.__cacheKey];void 0!==Yn&&(ye[Fe.__cacheKey].usedTimes--,0===Yn.usedTimes&&ge(Pe)),Fe.__cacheKey=Rt,Fe.__webglTexture=ye[Rt].texture}return bt}function rt(Fe,Pe,bt){let en=3553;(Pe.isDataArrayTexture||Pe.isCompressedArrayTexture)&&(en=35866),Pe.isData3DTexture&&(en=32879);let ye=xt(Fe,Pe),Rt=Pe.source;n.bindTexture(en,Fe.__webglTexture,33984+bt);let Yn=i.get(Rt);if(Rt.version!==Yn.__version||!0===ye){n.activeTexture(33984+bt),e.pixelStorei(37440,Pe.flipY),e.pixelStorei(37441,Pe.premultiplyAlpha),e.pixelStorei(3317,Pe.unpackAlignment),e.pixelStorei(37443,0);let _n=function H(Fe){return!a&&(Fe.wrapS!==Ko||Fe.wrapT!==Ko||Fe.minFilter!==io&&Fe.minFilter!==nr)}(Pe)&&!1===A(Pe.image),$t=S(Pe.image,_n,!1,d);$t=pi(Pe,$t);let vn=A($t)||a,Kn=o.convert(Pe.format,Pe.encoding),Xn=o.convert(Pe.type),Si=Y(Pe.internalFormat,Kn,Xn,Pe.encoding,Pe.isVideoTexture);Xe(en,Pe,vn);let yi,Lr=Pe.mipmaps,Co=a&&!0!==Pe.isVideoTexture,Ar=void 0===Yn.__version||!0===ye,ot=ee(Pe,$t,vn);if(Pe.isDepthTexture)Si=6402,a?Si=Pe.type===Ys?36012:Pe.type===gp?33190:Pe.type===Ig?35056:33189:Pe.type===Ys&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Pe.format===kg&&6402===Si&&Pe.type!==uj&&Pe.type!==gp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Pe.type=gp,Xn=o.convert(Pe.type)),Pe.format===Rg&&6402===Si&&(Si=34041,Pe.type!==Ig&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Pe.type=Ig,Xn=o.convert(Pe.type))),Ar&&(Co?n.texStorage2D(3553,1,Si,$t.width,$t.height):n.texImage2D(3553,0,Si,$t.width,$t.height,0,Kn,Xn,null));else if(Pe.isDataTexture)if(Lr.length>0&&vn){Co&&Ar&&n.texStorage2D(3553,ot,Si,Lr[0].width,Lr[0].height);for(let kt=0,sn=Lr.length;kt<sn;kt++)yi=Lr[kt],Co?n.texSubImage2D(3553,kt,0,0,yi.width,yi.height,Kn,Xn,yi.data):n.texImage2D(3553,kt,Si,yi.width,yi.height,0,Kn,Xn,yi.data);Pe.generateMipmaps=!1}else Co?(Ar&&n.texStorage2D(3553,ot,Si,$t.width,$t.height),n.texSubImage2D(3553,0,0,0,$t.width,$t.height,Kn,Xn,$t.data)):n.texImage2D(3553,0,Si,$t.width,$t.height,0,Kn,Xn,$t.data);else if(Pe.isCompressedTexture)if(Pe.isCompressedArrayTexture){Co&&Ar&&n.texStorage3D(35866,ot,Si,Lr[0].width,Lr[0].height,$t.depth);for(let kt=0,sn=Lr.length;kt<sn;kt++)yi=Lr[kt],Pe.format!==Ia?null!==Kn?Co?n.compressedTexSubImage3D(35866,kt,0,0,0,yi.width,yi.height,$t.depth,Kn,yi.data,0,0):n.compressedTexImage3D(35866,kt,Si,yi.width,yi.height,$t.depth,0,yi.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Co?n.texSubImage3D(35866,kt,0,0,0,yi.width,yi.height,$t.depth,Kn,Xn,yi.data):n.texImage3D(35866,kt,Si,yi.width,yi.height,$t.depth,0,Kn,Xn,yi.data)}else{Co&&Ar&&n.texStorage2D(3553,ot,Si,Lr[0].width,Lr[0].height);for(let kt=0,sn=Lr.length;kt<sn;kt++)yi=Lr[kt],Pe.format!==Ia?null!==Kn?Co?n.compressedTexSubImage2D(3553,kt,0,0,yi.width,yi.height,Kn,yi.data):n.compressedTexImage2D(3553,kt,Si,yi.width,yi.height,0,yi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Co?n.texSubImage2D(3553,kt,0,0,yi.width,yi.height,Kn,Xn,yi.data):n.texImage2D(3553,kt,Si,yi.width,yi.height,0,Kn,Xn,yi.data)}else if(Pe.isDataArrayTexture)Co?(Ar&&n.texStorage3D(35866,ot,Si,$t.width,$t.height,$t.depth),n.texSubImage3D(35866,0,0,0,0,$t.width,$t.height,$t.depth,Kn,Xn,$t.data)):n.texImage3D(35866,0,Si,$t.width,$t.height,$t.depth,0,Kn,Xn,$t.data);else if(Pe.isData3DTexture)Co?(Ar&&n.texStorage3D(32879,ot,Si,$t.width,$t.height,$t.depth),n.texSubImage3D(32879,0,0,0,0,$t.width,$t.height,$t.depth,Kn,Xn,$t.data)):n.texImage3D(32879,0,Si,$t.width,$t.height,$t.depth,0,Kn,Xn,$t.data);else if(Pe.isFramebufferTexture){if(Ar)if(Co)n.texStorage2D(3553,ot,Si,$t.width,$t.height);else{let kt=$t.width,sn=$t.height;for(let yn=0;yn<ot;yn++)n.texImage2D(3553,yn,Si,kt,sn,0,Kn,Xn,null),kt>>=1,sn>>=1}}else if(Lr.length>0&&vn){Co&&Ar&&n.texStorage2D(3553,ot,Si,Lr[0].width,Lr[0].height);for(let kt=0,sn=Lr.length;kt<sn;kt++)yi=Lr[kt],Co?n.texSubImage2D(3553,kt,0,0,Kn,Xn,yi):n.texImage2D(3553,kt,Si,Kn,Xn,yi);Pe.generateMipmaps=!1}else Co?(Ar&&n.texStorage2D(3553,ot,Si,$t.width,$t.height),n.texSubImage2D(3553,0,0,0,Kn,Xn,$t)):n.texImage2D(3553,0,Si,Kn,Xn,$t);V(Pe,vn)&&Q(en),Yn.__version=Rt.version,Pe.onUpdate&&Pe.onUpdate(Pe)}Fe.__version=Pe.version}function lt(Fe,Pe,bt,en,ye){let Rt=o.convert(bt.format,bt.encoding),Yn=o.convert(bt.type),_n=Y(bt.internalFormat,Rt,Yn,bt.encoding);i.get(Pe).__hasExternalTextures||(32879===ye||35866===ye?n.texImage3D(ye,0,_n,Pe.width,Pe.height,Pe.depth,0,Rt,Yn,null):n.texImage2D(ye,0,_n,Pe.width,Pe.height,0,Rt,Yn,null)),n.bindFramebuffer(36160,Fe),hn(Pe)?p.framebufferTexture2DMultisampleEXT(36160,en,ye,i.get(bt).__webglTexture,0,fn(Pe)):(3553===ye||ye>=34069&&ye<=34074)&&e.framebufferTexture2D(36160,en,ye,i.get(bt).__webglTexture,0),n.bindFramebuffer(36160,null)}function Gt(Fe,Pe,bt){if(e.bindRenderbuffer(36161,Fe),Pe.depthBuffer&&!Pe.stencilBuffer){let en=33189;if(bt||hn(Pe)){let ye=Pe.depthTexture;ye&&ye.isDepthTexture&&(ye.type===Ys?en=36012:ye.type===gp&&(en=33190));let Rt=fn(Pe);hn(Pe)?p.renderbufferStorageMultisampleEXT(36161,Rt,en,Pe.width,Pe.height):e.renderbufferStorageMultisample(36161,Rt,en,Pe.width,Pe.height)}else e.renderbufferStorage(36161,en,Pe.width,Pe.height);e.framebufferRenderbuffer(36160,36096,36161,Fe)}else if(Pe.depthBuffer&&Pe.stencilBuffer){let en=fn(Pe);bt&&!1===hn(Pe)?e.renderbufferStorageMultisample(36161,en,35056,Pe.width,Pe.height):hn(Pe)?p.renderbufferStorageMultisampleEXT(36161,en,35056,Pe.width,Pe.height):e.renderbufferStorage(36161,34041,Pe.width,Pe.height),e.framebufferRenderbuffer(36160,33306,36161,Fe)}else{let en=!0===Pe.isWebGLMultipleRenderTargets?Pe.texture:[Pe.texture];for(let ye=0;ye<en.length;ye++){let Rt=en[ye],Yn=o.convert(Rt.format,Rt.encoding),_n=o.convert(Rt.type),$t=Y(Rt.internalFormat,Yn,_n,Rt.encoding),vn=fn(Pe);bt&&!1===hn(Pe)?e.renderbufferStorageMultisample(36161,vn,$t,Pe.width,Pe.height):hn(Pe)?p.renderbufferStorageMultisampleEXT(36161,vn,$t,Pe.width,Pe.height):e.renderbufferStorage(36161,$t,Pe.width,Pe.height)}}e.bindRenderbuffer(36161,null)}function At(Fe){let Pe=i.get(Fe),bt=!0===Fe.isWebGLCubeRenderTarget;if(Fe.depthTexture&&!Pe.__autoAllocateDepthBuffer){if(bt)throw new Error("target.depthTexture not supported in Cube render targets");!function Nt(Fe,Pe){if(Pe&&Pe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Fe),!Pe.depthTexture||!Pe.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(Pe.depthTexture).__webglTexture||Pe.depthTexture.image.width!==Pe.width||Pe.depthTexture.image.height!==Pe.height)&&(Pe.depthTexture.image.width=Pe.width,Pe.depthTexture.image.height=Pe.height,Pe.depthTexture.needsUpdate=!0),We(Pe.depthTexture,0);let bt=i.get(Pe.depthTexture).__webglTexture,en=fn(Pe);if(Pe.depthTexture.format===kg)hn(Pe)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,bt,0,en):e.framebufferTexture2D(36160,36096,3553,bt,0);else{if(Pe.depthTexture.format!==Rg)throw new Error("Unknown depthTexture format");hn(Pe)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,bt,0,en):e.framebufferTexture2D(36160,33306,3553,bt,0)}}(Pe.__webglFramebuffer,Fe)}else if(bt){Pe.__webglDepthbuffer=[];for(let en=0;en<6;en++)n.bindFramebuffer(36160,Pe.__webglFramebuffer[en]),Pe.__webglDepthbuffer[en]=e.createRenderbuffer(),Gt(Pe.__webglDepthbuffer[en],Fe,!1)}else n.bindFramebuffer(36160,Pe.__webglFramebuffer),Pe.__webglDepthbuffer=e.createRenderbuffer(),Gt(Pe.__webglDepthbuffer,Fe,!1);n.bindFramebuffer(36160,null)}function fn(Fe){return Math.min(h,Fe.samples)}function hn(Fe){let Pe=i.get(Fe);return a&&Fe.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==Pe.__useRenderToTexture}function pi(Fe,Pe){let bt=Fe.encoding,en=Fe.format,ye=Fe.type;return!0===Fe.isCompressedTexture||!0===Fe.isVideoTexture||Fe.format===_T||bt!==sh&&(bt===Zi?!1===a?!0===t.has("EXT_sRGB")&&en===Ia?(Fe.format=_T,Fe.minFilter=nr,Fe.generateMipmaps=!1):Pe=Wj.sRGBToLinear(Pe):(en!==Ia||ye!==_l)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",bt)),Pe}this.allocateTextureUnit=function _e(){let Fe=Oe;return Fe>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Fe+" texture units while this GPU supports only "+l),Oe+=1,Fe},this.resetTextureUnits=function Ce(){Oe=0},this.setTexture2D=We,this.setTexture2DArray=function Ve(Fe,Pe){let bt=i.get(Fe);Fe.version>0&&bt.__version!==Fe.version?rt(bt,Fe,Pe):n.bindTexture(35866,bt.__webglTexture,33984+Pe)},this.setTexture3D=function Ue(Fe,Pe){let bt=i.get(Fe);Fe.version>0&&bt.__version!==Fe.version?rt(bt,Fe,Pe):n.bindTexture(32879,bt.__webglTexture,33984+Pe)},this.setTextureCube=function nt(Fe,Pe){let bt=i.get(Fe);Fe.version>0&&bt.__version!==Fe.version?function wt(Fe,Pe,bt){if(6!==Pe.image.length)return;let en=xt(Fe,Pe),ye=Pe.source;n.bindTexture(34067,Fe.__webglTexture,33984+bt);let Rt=i.get(ye);if(ye.version!==Rt.__version||!0===en){n.activeTexture(33984+bt),e.pixelStorei(37440,Pe.flipY),e.pixelStorei(37441,Pe.premultiplyAlpha),e.pixelStorei(3317,Pe.unpackAlignment),e.pixelStorei(37443,0);let Yn=Pe.isCompressedTexture||Pe.image[0].isCompressedTexture,_n=Pe.image[0]&&Pe.image[0].isDataTexture,$t=[];for(let kt=0;kt<6;kt++)$t[kt]=Yn||_n?_n?Pe.image[kt].image:Pe.image[kt]:S(Pe.image[kt],!1,!0,c),$t[kt]=pi(Pe,$t[kt]);let ot,vn=$t[0],Kn=A(vn)||a,Xn=o.convert(Pe.format,Pe.encoding),Si=o.convert(Pe.type),yi=Y(Pe.internalFormat,Xn,Si,Pe.encoding),Lr=a&&!0!==Pe.isVideoTexture,Co=void 0===Rt.__version||!0===en,Ar=ee(Pe,vn,Kn);if(Xe(34067,Pe,Kn),Yn){Lr&&Co&&n.texStorage2D(34067,Ar,yi,vn.width,vn.height);for(let kt=0;kt<6;kt++){ot=$t[kt].mipmaps;for(let sn=0;sn<ot.length;sn++){let yn=ot[sn];Pe.format!==Ia?null!==Xn?Lr?n.compressedTexSubImage2D(34069+kt,sn,0,0,yn.width,yn.height,Xn,yn.data):n.compressedTexImage2D(34069+kt,sn,yi,yn.width,yn.height,0,yn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Lr?n.texSubImage2D(34069+kt,sn,0,0,yn.width,yn.height,Xn,Si,yn.data):n.texImage2D(34069+kt,sn,yi,yn.width,yn.height,0,Xn,Si,yn.data)}}}else{ot=Pe.mipmaps,Lr&&Co&&(ot.length>0&&Ar++,n.texStorage2D(34067,Ar,yi,$t[0].width,$t[0].height));for(let kt=0;kt<6;kt++)if(_n){Lr?n.texSubImage2D(34069+kt,0,0,0,$t[kt].width,$t[kt].height,Xn,Si,$t[kt].data):n.texImage2D(34069+kt,0,yi,$t[kt].width,$t[kt].height,0,Xn,Si,$t[kt].data);for(let sn=0;sn<ot.length;sn++){let yn=ot[sn].image[kt].image;Lr?n.texSubImage2D(34069+kt,sn+1,0,0,yn.width,yn.height,Xn,Si,yn.data):n.texImage2D(34069+kt,sn+1,yi,yn.width,yn.height,0,Xn,Si,yn.data)}}else{Lr?n.texSubImage2D(34069+kt,0,0,0,Xn,Si,$t[kt]):n.texImage2D(34069+kt,0,yi,Xn,Si,$t[kt]);for(let sn=0;sn<ot.length;sn++){let yn=ot[sn];Lr?n.texSubImage2D(34069+kt,sn+1,0,0,Xn,Si,yn.image[kt]):n.texImage2D(34069+kt,sn+1,yi,Xn,Si,yn.image[kt])}}}V(Pe,Kn)&&Q(34067),Rt.__version=ye.version,Pe.onUpdate&&Pe.onUpdate(Pe)}Fe.__version=Pe.version}(bt,Fe,Pe):n.bindTexture(34067,bt.__webglTexture,33984+Pe)},this.rebindTextures=function wn(Fe,Pe,bt){let en=i.get(Fe);void 0!==Pe&&lt(en.__webglFramebuffer,Fe,Fe.texture,36064,3553),void 0!==bt&&At(Fe)},this.setupRenderTarget=function Cn(Fe){let Pe=Fe.texture,bt=i.get(Fe),en=i.get(Pe);Fe.addEventListener("dispose",pe),!0!==Fe.isWebGLMultipleRenderTargets&&(void 0===en.__webglTexture&&(en.__webglTexture=e.createTexture()),en.__version=Pe.version,s.memory.textures++);let ye=!0===Fe.isWebGLCubeRenderTarget,Rt=!0===Fe.isWebGLMultipleRenderTargets,Yn=A(Fe)||a;if(ye){bt.__webglFramebuffer=[];for(let _n=0;_n<6;_n++)bt.__webglFramebuffer[_n]=e.createFramebuffer()}else{if(bt.__webglFramebuffer=e.createFramebuffer(),Rt)if(r.drawBuffers){let _n=Fe.texture;for(let $t=0,vn=_n.length;$t<vn;$t++){let Kn=i.get(_n[$t]);void 0===Kn.__webglTexture&&(Kn.__webglTexture=e.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Fe.samples>0&&!1===hn(Fe)){let _n=Rt?Pe:[Pe];bt.__webglMultisampledFramebuffer=e.createFramebuffer(),bt.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,bt.__webglMultisampledFramebuffer);for(let $t=0;$t<_n.length;$t++){let vn=_n[$t];bt.__webglColorRenderbuffer[$t]=e.createRenderbuffer(),e.bindRenderbuffer(36161,bt.__webglColorRenderbuffer[$t]);let Kn=o.convert(vn.format,vn.encoding),Xn=o.convert(vn.type),Si=Y(vn.internalFormat,Kn,Xn,vn.encoding,!0===Fe.isXRRenderTarget),yi=fn(Fe);e.renderbufferStorageMultisample(36161,yi,Si,Fe.width,Fe.height),e.framebufferRenderbuffer(36160,36064+$t,36161,bt.__webglColorRenderbuffer[$t])}e.bindRenderbuffer(36161,null),Fe.depthBuffer&&(bt.__webglDepthRenderbuffer=e.createRenderbuffer(),Gt(bt.__webglDepthRenderbuffer,Fe,!0)),n.bindFramebuffer(36160,null)}}if(ye){n.bindTexture(34067,en.__webglTexture),Xe(34067,Pe,Yn);for(let _n=0;_n<6;_n++)lt(bt.__webglFramebuffer[_n],Fe,Pe,36064,34069+_n);V(Pe,Yn)&&Q(34067),n.unbindTexture()}else if(Rt){let _n=Fe.texture;for(let $t=0,vn=_n.length;$t<vn;$t++){let Kn=_n[$t],Xn=i.get(Kn);n.bindTexture(3553,Xn.__webglTexture),Xe(3553,Kn,Yn),lt(bt.__webglFramebuffer,Fe,Kn,36064+$t,3553),V(Kn,Yn)&&Q(3553)}n.unbindTexture()}else{let _n=3553;(Fe.isWebGL3DRenderTarget||Fe.isWebGLArrayRenderTarget)&&(a?_n=Fe.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(_n,en.__webglTexture),Xe(_n,Pe,Yn),lt(bt.__webglFramebuffer,Fe,Pe,36064,_n),V(Pe,Yn)&&Q(_n),n.unbindTexture()}Fe.depthBuffer&&At(Fe)},this.updateRenderTargetMipmap=function Sn(Fe){let Pe=A(Fe)||a,bt=!0===Fe.isWebGLMultipleRenderTargets?Fe.texture:[Fe.texture];for(let en=0,ye=bt.length;en<ye;en++){let Rt=bt[en];if(V(Rt,Pe)){let Yn=Fe.isWebGLCubeRenderTarget?34067:3553,_n=i.get(Rt).__webglTexture;n.bindTexture(Yn,_n),Q(Yn),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function Fn(Fe){if(a&&Fe.samples>0&&!1===hn(Fe)){let Pe=Fe.isWebGLMultipleRenderTargets?Fe.texture:[Fe.texture],bt=Fe.width,en=Fe.height,ye=16384,Rt=[],Yn=Fe.stencilBuffer?33306:36096,_n=i.get(Fe),$t=!0===Fe.isWebGLMultipleRenderTargets;if($t)for(let vn=0;vn<Pe.length;vn++)n.bindFramebuffer(36160,_n.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+vn,36161,null),n.bindFramebuffer(36160,_n.__webglFramebuffer),e.framebufferTexture2D(36009,36064+vn,3553,null,0);n.bindFramebuffer(36008,_n.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,_n.__webglFramebuffer);for(let vn=0;vn<Pe.length;vn++){Rt.push(36064+vn),Fe.depthBuffer&&Rt.push(Yn);let Kn=void 0!==_n.__ignoreDepthValues&&_n.__ignoreDepthValues;if(!1===Kn&&(Fe.depthBuffer&&(ye|=256),Fe.stencilBuffer&&(ye|=1024)),$t&&e.framebufferRenderbuffer(36008,36064,36161,_n.__webglColorRenderbuffer[vn]),!0===Kn&&(e.invalidateFramebuffer(36008,[Yn]),e.invalidateFramebuffer(36009,[Yn])),$t){let Xn=i.get(Pe[vn]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,Xn,0)}e.blitFramebuffer(0,0,bt,en,0,0,bt,en,ye,9728),g&&e.invalidateFramebuffer(36008,Rt)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),$t)for(let vn=0;vn<Pe.length;vn++){n.bindFramebuffer(36160,_n.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+vn,36161,_n.__webglColorRenderbuffer[vn]);let Kn=i.get(Pe[vn]).__webglTexture;n.bindFramebuffer(36160,_n.__webglFramebuffer),e.framebufferTexture2D(36009,36064+vn,3553,Kn,0)}n.bindFramebuffer(36009,_n.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=At,this.setupFrameBufferTexture=lt,this.useMultisampledRTT=hn}function vMe(e,t,n){let i=n.isWebGL2;return{convert:function r(o,s=null){let a;if(o===_l)return 5121;if(o===Jye)return 32819;if(o===ebe)return 32820;if(o===Qye)return 5120;if(o===Kye)return 5122;if(o===uj)return 5123;if(o===Zye)return 5124;if(o===gp)return 5125;if(o===Ys)return 5126;if(o===vp)return i?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(o===tbe)return 6406;if(o===Ia)return 6408;if(o===nbe)return 6409;if(o===ibe)return 6410;if(o===kg)return 6402;if(o===Rg)return 34041;if(o===_T)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(o===rbe)return 6403;if(o===obe)return 36244;if(o===lM)return 33319;if(o===sbe)return 33320;if(o===pj)return 36249;if(o===dT||o===hT||o===uT||o===pT)if(s===Zi){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(o===dT)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===hT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===uT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===pT)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(o===dT)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===hT)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===uT)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===pT)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(o===fj||o===mj||o===gj||o===vj){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(o===fj)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===mj)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===gj)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===vj)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(o===abe)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===yj||o===bj){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(o===yj)return s===Zi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===bj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(o===_j||o===xj||o===wj||o===Cj||o===Mj||o===Pj||o===Oj||o===Sj||o===Ej||o===Dj||o===Aj||o===Tj||o===Ij||o===kj){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(o===_j)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===xj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===wj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Cj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Mj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Pj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Oj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Sj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===Ej)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===Dj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Aj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===Tj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===Ij)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===kj)return s===Zi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(o===fT){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(o===fT)return s===Zi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(o===lbe||o===Rj||o===Nj||o===Lj){if(a=t.get("EXT_texture_compression_rgtc"),null===a)return null;if(o===fT)return a.COMPRESSED_RED_RGTC1_EXT;if(o===Rj)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===Nj)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===Lj)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return o===Ig?i?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[o]?e[o]:null}}}var yMe=class extends wl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},Sp=class extends uo{constructor(){super(),this.isGroup=!0,this.type="Group"}},bMe={type:"move"},KT=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Sp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Sp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Sp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,o=null,s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(let v of e.hand.values()){let y=t.getJointPose(v,n),b=this._getHandJoint(l,v);null!==y&&(b.matrix.fromArray(y.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.jointRadius=y.radius),b.visible=null!==y}let h=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),p=.02,g=.005;l.inputState.pinching&&h>p+g?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=p-g&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(bMe)))}return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){let n=new Sp;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}},s1=class extends ds{constructor(e,t,n,i,r,o,s,a,l,c){if((c=void 0!==c?c:kg)!==kg&&c!==Rg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===kg&&(n=gp),void 0===n&&c===Rg&&(n=Ig),super(null,i,r,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==s?s:io,this.minFilter=void 0!==a?a:io,this.flipY=!1,this.generateMipmaps=!1}},_Me=class extends el{constructor(e,t){super();let n=this,i=null,r=1,o=null,s="local-floor",a=1,l=null,c=null,d=null,h=null,p=null,g=null,v=t.getContextAttributes(),y=null,b=null,P=[],O=[],S=new Set,A=new Map,H=new wl;H.layers.enable(1),H.viewport=new ki;let V=new wl;V.layers.enable(2),V.viewport=new ki;let Q=[H,V],Y=new yMe;Y.layers.enable(1),Y.layers.enable(2);let ee=null,ne=null;function ae(Ve){let Ue=O.indexOf(Ve.inputSource);if(-1===Ue)return;let nt=P[Ue];void 0!==nt&&nt.dispatchEvent({type:Ve.type,data:Ve.inputSource})}function pe(){i.removeEventListener("select",ae),i.removeEventListener("selectstart",ae),i.removeEventListener("selectend",ae),i.removeEventListener("squeeze",ae),i.removeEventListener("squeezestart",ae),i.removeEventListener("squeezeend",ae),i.removeEventListener("end",pe),i.removeEventListener("inputsourceschange",fe);for(let Ve=0;Ve<P.length;Ve++){let Ue=O[Ve];null!==Ue&&(O[Ve]=null,P[Ve].disconnect(Ue))}ee=null,ne=null,e.setRenderTarget(y),p=null,h=null,d=null,i=null,b=null,We.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function fe(Ve){for(let Ue=0;Ue<Ve.removed.length;Ue++){let nt=Ve.removed[Ue],He=O.indexOf(nt);He>=0&&(O[He]=null,P[He].disconnect(nt))}for(let Ue=0;Ue<Ve.added.length;Ue++){let nt=Ve.added[Ue],He=O.indexOf(nt);if(-1===He){for(let Xe=0;Xe<P.length;Xe++){if(Xe>=O.length){O.push(nt),He=Xe;break}if(null===O[Xe]){O[Xe]=nt,He=Xe;break}}if(-1===He)break}let tt=P[He];tt&&tt.connect(nt)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ve){let Ue=P[Ve];return void 0===Ue&&(Ue=new KT,P[Ve]=Ue),Ue.getTargetRaySpace()},this.getControllerGrip=function(Ve){let Ue=P[Ve];return void 0===Ue&&(Ue=new KT,P[Ve]=Ue),Ue.getGripSpace()},this.getHand=function(Ve){let Ue=P[Ve];return void 0===Ue&&(Ue=new KT,P[Ve]=Ue),Ue.getHandSpace()},this.setFramebufferScaleFactor=function(Ve){r=Ve,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ve){s=Ve,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(Ve){l=Ve},this.getBaseLayer=function(){return null!==h?h:p},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=function(){var Ve=(0,si.Z)(function*(Ue){if(i=Ue,null!==i){if(y=e.getRenderTarget(),i.addEventListener("select",ae),i.addEventListener("selectstart",ae),i.addEventListener("selectend",ae),i.addEventListener("squeeze",ae),i.addEventListener("squeezestart",ae),i.addEventListener("squeezeend",ae),i.addEventListener("end",pe),i.addEventListener("inputsourceschange",fe),!0!==v.xrCompatible&&(yield t.makeXRCompatible()),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2)p=new XRWebGLLayer(i,t,{antialias:void 0!==i.renderState.layers||v.antialias,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:r}),i.updateRenderState({baseLayer:p}),b=new Zr(p.framebufferWidth,p.framebufferHeight,{format:Ia,type:_l,encoding:e.outputEncoding,stencilBuffer:v.stencil});else{let nt=null,He=null,tt=null;v.depth&&(tt=v.stencil?35056:33190,nt=v.stencil?Rg:kg,He=v.stencil?Ig:gp);let Xe={colorFormat:32856,depthFormat:tt,scaleFactor:r};d=new XRWebGLBinding(i,t),h=d.createProjectionLayer(Xe),i.updateRenderState({layers:[h]}),b=new Zr(h.textureWidth,h.textureHeight,{format:Ia,type:_l,depthTexture:new s1(h.textureWidth,h.textureHeight,He,void 0,void 0,void 0,void 0,void 0,void 0,nt),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0}),e.properties.get(b).__ignoreDepthValues=h.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=yield i.requestReferenceSpace(s),We.setContext(i),We.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(Ue){return Ve.apply(this,arguments)}}();let ge=new ie,Se=new ie;function Ce(Ve,Ue){null===Ue?Ve.matrixWorld.copy(Ve.matrix):Ve.matrixWorld.multiplyMatrices(Ue.matrixWorld,Ve.matrix),Ve.matrixWorldInverse.copy(Ve.matrixWorld).invert()}this.updateCamera=function(Ve){if(null===i)return;Y.near=V.near=H.near=Ve.near,Y.far=V.far=H.far=Ve.far,(ee!==Y.near||ne!==Y.far)&&(i.updateRenderState({depthNear:Y.near,depthFar:Y.far}),ee=Y.near,ne=Y.far);let Ue=Ve.parent,nt=Y.cameras;Ce(Y,Ue);for(let tt=0;tt<nt.length;tt++)Ce(nt[tt],Ue);Y.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Ve.matrix.copy(Y.matrix),Ve.matrix.decompose(Ve.position,Ve.quaternion,Ve.scale);let He=Ve.children;for(let tt=0,Xe=He.length;tt<Xe;tt++)He[tt].updateMatrixWorld(!0);2===nt.length?function Oe(Ve,Ue,nt){ge.setFromMatrixPosition(Ue.matrixWorld),Se.setFromMatrixPosition(nt.matrixWorld);let He=ge.distanceTo(Se),tt=Ue.projectionMatrix.elements,Xe=nt.projectionMatrix.elements,xt=tt[14]/(tt[10]-1),rt=tt[14]/(tt[10]+1),wt=(tt[9]+1)/tt[5],lt=(tt[9]-1)/tt[5],Gt=(tt[8]-1)/tt[0],Nt=(Xe[8]+1)/Xe[0],At=xt*Gt,wn=xt*Nt,Cn=He/(-Gt+Nt),Sn=Cn*-Gt;Ue.matrixWorld.decompose(Ve.position,Ve.quaternion,Ve.scale),Ve.translateX(Sn),Ve.translateZ(Cn),Ve.matrixWorld.compose(Ve.position,Ve.quaternion,Ve.scale),Ve.matrixWorldInverse.copy(Ve.matrixWorld).invert();let Fn=xt+Cn,fn=rt+Cn;Ve.projectionMatrix.makePerspective(At-Sn,wn+(He-Sn),wt*rt/fn*Fn,lt*rt/fn*Fn,Fn,fn)}(Y,H,V):Y.projectionMatrix.copy(H.projectionMatrix)},this.getCamera=function(){return Y},this.getFoveation=function(){if(null!==h||null!==p)return a},this.setFoveation=function(Ve){a=Ve,null!==h&&(h.fixedFoveation=Ve),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=Ve)},this.getPlanes=function(){return S};let _e=null,We=new sV;We.setAnimationLoop(function Be(Ve,Ue){if(c=Ue.getViewerPose(l||o),g=Ue,null!==c){let nt=c.views;null!==p&&(e.setRenderTargetFramebuffer(b,p.framebuffer),e.setRenderTarget(b));let He=!1;nt.length!==Y.cameras.length&&(Y.cameras.length=0,He=!0);for(let tt=0;tt<nt.length;tt++){let Xe=nt[tt],xt=null;if(null!==p)xt=p.getViewport(Xe);else{let wt=d.getViewSubImage(h,Xe);xt=wt.viewport,0===tt&&(e.setRenderTargetTextures(b,wt.colorTexture,h.ignoreDepthValues?void 0:wt.depthStencilTexture),e.setRenderTarget(b))}let rt=Q[tt];void 0===rt&&(rt=new wl,rt.layers.enable(tt),rt.viewport=new ki,Q[tt]=rt),rt.matrix.fromArray(Xe.transform.matrix),rt.projectionMatrix.fromArray(Xe.projectionMatrix),rt.viewport.set(xt.x,xt.y,xt.width,xt.height),0===tt&&Y.matrix.copy(rt.matrix),!0===He&&Y.cameras.push(rt)}}for(let nt=0;nt<P.length;nt++){let He=O[nt],tt=P[nt];null!==He&&void 0!==tt&&tt.update(He,Ue,l||o)}if(_e&&_e(Ve,Ue),Ue.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:Ue.detectedPlanes});let nt=null;for(let He of S)Ue.detectedPlanes.has(He)||(null===nt&&(nt=[]),nt.push(He));if(null!==nt)for(let He of nt)S.delete(He),A.delete(He),n.dispatchEvent({type:"planeremoved",data:He});for(let He of Ue.detectedPlanes)if(S.has(He)){let tt=A.get(He);He.lastChangedTime>tt&&(A.set(He,He.lastChangedTime),n.dispatchEvent({type:"planechanged",data:He}))}else S.add(He),A.set(He,Ue.lastChangedTime),n.dispatchEvent({type:"planeadded",data:He})}g=null}),this.setAnimationLoop=function(Ve){_e=Ve},this.dispose=function(){}}};function xMe(e,t){function r(y,b){y.opacity.value=b.opacity,b.color&&y.diffuse.value.copy(b.color),b.emissive&&y.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.bumpMap&&(y.bumpMap.value=b.bumpMap,y.bumpScale.value=b.bumpScale,b.side===Ta&&(y.bumpScale.value*=-1)),b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias),b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap),b.normalMap&&(y.normalMap.value=b.normalMap,y.normalScale.value.copy(b.normalScale),b.side===Ta&&y.normalScale.value.negate()),b.specularMap&&(y.specularMap.value=b.specularMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest);let O,S,P=t.get(b).envMap;if(P&&(y.envMap.value=P,y.flipEnvMap.value=P.isCubeTexture&&!1===P.isRenderTargetTexture?-1:1,y.reflectivity.value=b.reflectivity,y.ior.value=b.ior,y.refractionRatio.value=b.refractionRatio),b.lightMap){y.lightMap.value=b.lightMap;let A=!0!==e.physicallyCorrectLights?Math.PI:1;y.lightMapIntensity.value=b.lightMapIntensity*A}b.aoMap&&(y.aoMap.value=b.aoMap,y.aoMapIntensity.value=b.aoMapIntensity),b.map?O=b.map:b.specularMap?O=b.specularMap:b.displacementMap?O=b.displacementMap:b.normalMap?O=b.normalMap:b.bumpMap?O=b.bumpMap:b.roughnessMap?O=b.roughnessMap:b.metalnessMap?O=b.metalnessMap:b.alphaMap?O=b.alphaMap:b.emissiveMap?O=b.emissiveMap:b.clearcoatMap?O=b.clearcoatMap:b.clearcoatNormalMap?O=b.clearcoatNormalMap:b.clearcoatRoughnessMap?O=b.clearcoatRoughnessMap:b.iridescenceMap?O=b.iridescenceMap:b.iridescenceThicknessMap?O=b.iridescenceThicknessMap:b.specularIntensityMap?O=b.specularIntensityMap:b.specularColorMap?O=b.specularColorMap:b.transmissionMap?O=b.transmissionMap:b.thicknessMap?O=b.thicknessMap:b.sheenColorMap?O=b.sheenColorMap:b.sheenRoughnessMap&&(O=b.sheenRoughnessMap),void 0!==O&&(O.isWebGLRenderTarget&&(O=O.texture),!0===O.matrixAutoUpdate&&O.updateMatrix(),y.uvTransform.value.copy(O.matrix)),b.aoMap?S=b.aoMap:b.lightMap&&(S=b.lightMap),void 0!==S&&(S.isWebGLRenderTarget&&(S=S.texture),!0===S.matrixAutoUpdate&&S.updateMatrix(),y.uv2Transform.value.copy(S.matrix))}return{refreshFogUniforms:function n(y,b){b.color.getRGB(y.fogColor.value,oV(e)),b.isFog?(y.fogNear.value=b.near,y.fogFar.value=b.far):b.isFogExp2&&(y.fogDensity.value=b.density)},refreshMaterialUniforms:function i(y,b,P,O,S){b.isMeshBasicMaterial||b.isMeshLambertMaterial?r(y,b):b.isMeshToonMaterial?(r(y,b),function d(y,b){b.gradientMap&&(y.gradientMap.value=b.gradientMap)}(y,b)):b.isMeshPhongMaterial?(r(y,b),function c(y,b){y.specular.value.copy(b.specular),y.shininess.value=Math.max(b.shininess,1e-4)}(y,b)):b.isMeshStandardMaterial?(r(y,b),function h(y,b){y.roughness.value=b.roughness,y.metalness.value=b.metalness,b.roughnessMap&&(y.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(y.metalnessMap.value=b.metalnessMap),t.get(b).envMap&&(y.envMapIntensity.value=b.envMapIntensity)}(y,b),b.isMeshPhysicalMaterial&&function p(y,b,P){y.ior.value=b.ior,b.sheen>0&&(y.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),y.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(y.sheenColorMap.value=b.sheenColorMap),b.sheenRoughnessMap&&(y.sheenRoughnessMap.value=b.sheenRoughnessMap)),b.clearcoat>0&&(y.clearcoat.value=b.clearcoat,y.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(y.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),y.clearcoatNormalMap.value=b.clearcoatNormalMap,b.side===Ta&&y.clearcoatNormalScale.value.negate())),b.iridescence>0&&(y.iridescence.value=b.iridescence,y.iridescenceIOR.value=b.iridescenceIOR,y.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(y.iridescenceMap.value=b.iridescenceMap),b.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=b.iridescenceThicknessMap)),b.transmission>0&&(y.transmission.value=b.transmission,y.transmissionSamplerMap.value=P.texture,y.transmissionSamplerSize.value.set(P.width,P.height),b.transmissionMap&&(y.transmissionMap.value=b.transmissionMap),y.thickness.value=b.thickness,b.thicknessMap&&(y.thicknessMap.value=b.thicknessMap),y.attenuationDistance.value=b.attenuationDistance,y.attenuationColor.value.copy(b.attenuationColor)),y.specularIntensity.value=b.specularIntensity,y.specularColor.value.copy(b.specularColor),b.specularIntensityMap&&(y.specularIntensityMap.value=b.specularIntensityMap),b.specularColorMap&&(y.specularColorMap.value=b.specularColorMap)}(y,b,S)):b.isMeshMatcapMaterial?(r(y,b),function g(y,b){b.matcap&&(y.matcap.value=b.matcap)}(y,b)):b.isMeshDepthMaterial?r(y,b):b.isMeshDistanceMaterial?(r(y,b),function v(y,b){y.referencePosition.value.copy(b.referencePosition),y.nearDistance.value=b.nearDistance,y.farDistance.value=b.farDistance}(y,b)):b.isMeshNormalMaterial?r(y,b):b.isLineBasicMaterial?(function o(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity}(y,b),b.isLineDashedMaterial&&function s(y,b){y.dashSize.value=b.dashSize,y.totalSize.value=b.dashSize+b.gapSize,y.scale.value=b.scale}(y,b)):b.isPointsMaterial?function a(y,b,P,O){let S;y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.size.value=b.size*P,y.scale.value=.5*O,b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest),b.map?S=b.map:b.alphaMap&&(S=b.alphaMap),void 0!==S&&(!0===S.matrixAutoUpdate&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix))}(y,b,P,O):b.isSpriteMaterial?function l(y,b){let P;y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.rotation.value=b.rotation,b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest),b.map?P=b.map:b.alphaMap&&(P=b.alphaMap),void 0!==P&&(!0===P.matrixAutoUpdate&&P.updateMatrix(),y.uvTransform.value.copy(P.matrix))}(y,b):b.isShadowMaterial?(y.color.value.copy(b.color),y.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}}}function wMe(e,t,n,i){let r={},o={},s=[],a=n.isWebGL2?e.getParameter(35375):0;function g(O,S,A){let H=O.value;if(void 0===A[S]){if("number"==typeof H)A[S]=H;else{let V=Array.isArray(H)?H:[H],Q=[];for(let Y=0;Y<V.length;Y++)Q.push(V[Y].clone());A[S]=Q}return!0}if("number"==typeof H){if(A[S]!==H)return A[S]=H,!0}else{let V=Array.isArray(A[S])?A[S]:[A[S]],Q=Array.isArray(H)?H:[H];for(let Y=0;Y<V.length;Y++){let ee=V[Y];if(!1===ee.equals(Q[Y]))return ee.copy(Q[Y]),!0}}return!1}function y(O){let S={boundary:0,storage:0};return"number"==typeof O?(S.boundary=4,S.storage=4):O.isVector2?(S.boundary=8,S.storage=8):O.isVector3||O.isColor?(S.boundary=16,S.storage=12):O.isVector4?(S.boundary=16,S.storage=16):O.isMatrix3?(S.boundary=48,S.storage=48):O.isMatrix4?(S.boundary=64,S.storage=64):O.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",O),S}function b(O){let S=O.target;S.removeEventListener("dispose",b);let A=s.indexOf(S.__bindingPointIndex);s.splice(A,1),e.deleteBuffer(r[S.id]),delete r[S.id],delete o[S.id]}return{bind:function l(O,S){i.uniformBlockBinding(O,S.program)},update:function c(O,S){let A=r[O.id];void 0===A&&(function v(O){let S=O.uniforms,A=0,V=0;for(let Q=0,Y=S.length;Q<Y;Q++){let ee=S[Q],ne={boundary:0,storage:0},ae=Array.isArray(ee.value)?ee.value:[ee.value];for(let pe=0,fe=ae.length;pe<fe;pe++){let Se=y(ae[pe]);ne.boundary+=Se.boundary,ne.storage+=Se.storage}ee.__data=new Float32Array(ne.storage/Float32Array.BYTES_PER_ELEMENT),ee.__offset=A,Q>0&&(V=A%16,0!==V&&16-V-ne.boundary<0&&(A+=16-V,ee.__offset=A)),A+=ne.storage}V=A%16,V>0&&(A+=16-V),O.__size=A,O.__cache={}}(O),A=function d(O){let S=function h(){for(let O=0;O<a;O++)if(-1===s.indexOf(O))return s.push(O),O;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();O.__bindingPointIndex=S;let A=e.createBuffer(),H=O.__size,V=O.usage;return e.bindBuffer(35345,A),e.bufferData(35345,H,V),e.bindBuffer(35345,null),e.bindBufferBase(35345,S,A),A}(O),r[O.id]=A,O.addEventListener("dispose",b)),i.updateUBOMapping(O,S.program);let V=t.render.frame;o[O.id]!==V&&(function p(O){let A=O.uniforms,H=O.__cache;e.bindBuffer(35345,r[O.id]);for(let V=0,Q=A.length;V<Q;V++){let Y=A[V];if(!0===g(Y,V,H)){let ee=Y.__offset,ne=Array.isArray(Y.value)?Y.value:[Y.value],ae=0;for(let pe=0;pe<ne.length;pe++){let fe=ne[pe],ge=y(fe);"number"==typeof fe?(Y.__data[0]=fe,e.bufferSubData(35345,ee+ae,Y.__data)):fe.isMatrix3?(Y.__data[0]=fe.elements[0],Y.__data[1]=fe.elements[1],Y.__data[2]=fe.elements[2],Y.__data[3]=fe.elements[0],Y.__data[4]=fe.elements[3],Y.__data[5]=fe.elements[4],Y.__data[6]=fe.elements[5],Y.__data[7]=fe.elements[0],Y.__data[8]=fe.elements[6],Y.__data[9]=fe.elements[7],Y.__data[10]=fe.elements[8],Y.__data[11]=fe.elements[0]):(fe.toArray(Y.__data,ae),ae+=ge.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,ee,Y.__data)}}e.bindBuffer(35345,null)}(O),o[O.id]=V)},dispose:function P(){for(let O in r)e.deleteBuffer(r[O]);s=[],r={},o={}}}}function RV(e={}){this.isWebGLRenderer=!0;let d,t=void 0!==e.canvas?e.canvas:function CMe(){let e=i_("canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,r=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,a=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;d=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let h=null,p=null,g=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=sh,this.physicallyCorrectLights=!1,this.toneMapping=ou,this.toneMappingExposure=1;let y=this,b=!1,P=0,O=0,S=null,A=-1,H=null,V=new ki,Q=new ki,Y=null,ee=t.width,ne=t.height,ae=1,pe=null,fe=null,ge=new ki(0,0,ee,ne),Se=new ki(0,0,ee,ne),Oe=!1,Ce=new WT,_e=!1,Be=!1,We=null,Ve=new Kt,Ue=new qe,nt=new ie,He={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function tt(){return null===S?ae:1}let rt,wt,lt,Gt,Nt,At,wn,Cn,Sn,Fn,fn,hn,Qn,pi,Fe,Pe,bt,en,ye,Rt,Yn,_n,$t,vn,Xe=n;function xt(Le,Pt){for(let Ut=0;Ut<Le.length;Ut++){let Vt=t.getContext(Le[Ut],Pt);if(null!==Vt)return Vt}return null}try{let Le={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Nv}`),t.addEventListener("webglcontextlost",Si,!1),t.addEventListener("webglcontextrestored",yi,!1),t.addEventListener("webglcontextcreationerror",Lr,!1),null===Xe){let Pt=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&Pt.shift(),Xe=xt(Pt,Le),null===Xe)throw xt(Pt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Xe.getShaderPrecisionFormat&&(Xe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Le){throw console.error("THREE.WebGLRenderer: "+Le.message),Le}function Kn(){rt=new Lwe(Xe),wt=new Awe(Xe,rt,e),rt.init(wt),_n=new vMe(Xe,rt,wt),lt=new mMe(Xe,rt,wt),Gt=new zwe,Nt=new nMe,At=new gMe(Xe,rt,lt,Nt,wt,_n,Gt),wn=new Iwe(y),Cn=new Nwe(y),Sn=new Xbe(Xe,wt),$t=new Ewe(Xe,rt,Sn,wt),Fn=new Fwe(Xe,Sn,Gt,$t),fn=new Hwe(Xe,Fn,Sn,Gt),ye=new Vwe(Xe,wt,At),Pe=new Twe(Nt),hn=new tMe(y,wn,Cn,rt,wt,$t,Pe),Qn=new xMe(y,Nt),pi=new rMe,Fe=new dMe(rt,wt),en=new Swe(y,wn,Cn,lt,fn,d,s),bt=new fMe(y,fn,wt),vn=new wMe(Xe,Gt,wt,lt),Rt=new Dwe(Xe,rt,Gt,wt),Yn=new Bwe(Xe,rt,Gt,wt),Gt.programs=hn.programs,y.capabilities=wt,y.extensions=rt,y.properties=Nt,y.renderLists=pi,y.shadowMap=bt,y.state=lt,y.info=Gt}Kn();let Xn=new _Me(y,Xe);function Si(Le){Le.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function yi(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;let Le=Gt.autoReset,Pt=bt.enabled,Ut=bt.autoUpdate,_t=bt.needsUpdate,Vt=bt.type;Kn(),Gt.autoReset=Le,bt.enabled=Pt,bt.autoUpdate=Ut,bt.needsUpdate=_t,bt.type=Vt}function Lr(Le){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Le.statusMessage)}function Co(Le){let Pt=Le.target;Pt.removeEventListener("dispose",Co),function Ar(Le){(function ot(Le){let Pt=Nt.get(Le).programs;void 0!==Pt&&(Pt.forEach(function(Ut){hn.releaseProgram(Ut)}),Le.isShaderMaterial&&hn.releaseShaderCache(Le))})(Le),Nt.remove(Le)}(Pt)}this.xr=Xn,this.getContext=function(){return Xe},this.getContextAttributes=function(){return Xe.getContextAttributes()},this.forceContextLoss=function(){let Le=rt.get("WEBGL_lose_context");Le&&Le.loseContext()},this.forceContextRestore=function(){let Le=rt.get("WEBGL_lose_context");Le&&Le.restoreContext()},this.getPixelRatio=function(){return ae},this.setPixelRatio=function(Le){void 0!==Le&&(ae=Le,this.setSize(ee,ne,!1))},this.getSize=function(Le){return Le.set(ee,ne)},this.setSize=function(Le,Pt,Ut){Xn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(ee=Le,ne=Pt,t.width=Math.floor(Le*ae),t.height=Math.floor(Pt*ae),!1!==Ut&&(t.style.width=Le+"px",t.style.height=Pt+"px"),this.setViewport(0,0,Le,Pt))},this.getDrawingBufferSize=function(Le){return Le.set(ee*ae,ne*ae).floor()},this.setDrawingBufferSize=function(Le,Pt,Ut){ee=Le,ne=Pt,ae=Ut,t.width=Math.floor(Le*Ut),t.height=Math.floor(Pt*Ut),this.setViewport(0,0,Le,Pt)},this.getCurrentViewport=function(Le){return Le.copy(V)},this.getViewport=function(Le){return Le.copy(ge)},this.setViewport=function(Le,Pt,Ut,_t){Le.isVector4?ge.set(Le.x,Le.y,Le.z,Le.w):ge.set(Le,Pt,Ut,_t),lt.viewport(V.copy(ge).multiplyScalar(ae).floor())},this.getScissor=function(Le){return Le.copy(Se)},this.setScissor=function(Le,Pt,Ut,_t){Le.isVector4?Se.set(Le.x,Le.y,Le.z,Le.w):Se.set(Le,Pt,Ut,_t),lt.scissor(Q.copy(Se).multiplyScalar(ae).floor())},this.getScissorTest=function(){return Oe},this.setScissorTest=function(Le){lt.setScissorTest(Oe=Le)},this.setOpaqueSort=function(Le){pe=Le},this.setTransparentSort=function(Le){fe=Le},this.getClearColor=function(Le){return Le.copy(en.getClearColor())},this.setClearColor=function(){en.setClearColor.apply(en,arguments)},this.getClearAlpha=function(){return en.getClearAlpha()},this.setClearAlpha=function(){en.setClearAlpha.apply(en,arguments)},this.clear=function(Le=!0,Pt=!0,Ut=!0){let _t=0;Le&&(_t|=16384),Pt&&(_t|=256),Ut&&(_t|=1024),Xe.clear(_t)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Si,!1),t.removeEventListener("webglcontextrestored",yi,!1),t.removeEventListener("webglcontextcreationerror",Lr,!1),pi.dispose(),Fe.dispose(),Nt.dispose(),wn.dispose(),Cn.dispose(),fn.dispose(),$t.dispose(),vn.dispose(),hn.dispose(),Xn.dispose(),Xn.removeEventListener("sessionstart",yn),Xn.removeEventListener("sessionend",di),We&&(We.dispose(),We=null),Ci.stop()},this.renderBufferDirect=function(Le,Pt,Ut,_t,Vt,ni){null===Pt&&(Pt=He);let er=Vt.isMesh&&Vt.matrixWorld.determinant()<0,mr=function aN(Le,Pt,Ut,_t,Vt){!0!==Pt.isScene&&(Pt=He),At.resetTextureUnits();let ni=Pt.fog,mr=null===S?y.outputEncoding:!0===S.isXRRenderTarget?S.texture.encoding:sh,gr=(_t.isMeshStandardMaterial?Cn:wn).get(_t.envMap||(_t.isMeshStandardMaterial?Pt.environment:null)),Mo=!0===_t.vertexColors&&!!Ut.attributes.color&&4===Ut.attributes.color.itemSize,Gr=!!_t.normalMap&&!!Ut.attributes.tangent,Cr=!!Ut.morphAttributes.position,Ga=!!Ut.morphAttributes.normal,tc=!!Ut.morphAttributes.color,Eh=_t.toneMapped?y.toneMapping:ou,Jp=Ut.morphAttributes.position||Ut.morphAttributes.normal||Ut.morphAttributes.color,ns=void 0!==Jp?Jp.length:0,Ni=Nt.get(_t),by=p.state.lights;!0!==_e||!0!==Be&&Le===H||Pe.setState(_t,Le,Le===H&&_t.id===A);let zu=!1;_t.version===Ni.__version?(Ni.needsLights&&Ni.lightsStateVersion!==by.state.version||Ni.outputEncoding!==mr||Vt.isInstancedMesh&&!1===Ni.instancing||!Vt.isInstancedMesh&&!0===Ni.instancing||Vt.isSkinnedMesh&&!1===Ni.skinning||!Vt.isSkinnedMesh&&!0===Ni.skinning||Ni.envMap!==gr||!0===_t.fog&&Ni.fog!==ni||void 0!==Ni.numClippingPlanes&&(Ni.numClippingPlanes!==Pe.numPlanes||Ni.numIntersection!==Pe.numIntersection)||Ni.vertexAlphas!==Mo||Ni.vertexTangents!==Gr||Ni.morphTargets!==Cr||Ni.morphNormals!==Ga||Ni.morphColors!==tc||Ni.toneMapping!==Eh||!0===wt.isWebGL2&&Ni.morphTargetsCount!==ns)&&(zu=!0):(zu=!0,Ni.__version=_t.version);let Uu=Ni.currentProgram;!0===zu&&(Uu=ec(_t,Pt,Vt));let Ro=!1,Om=!1,_y=!1,Ma=Uu.getUniforms(),ju=Ni.uniforms;if(lt.useProgram(Uu.program)&&(Ro=!0,Om=!0,_y=!0),_t.id!==A&&(A=_t.id,Om=!0),Ro||H!==Le){if(Ma.setValue(Xe,"projectionMatrix",Le.projectionMatrix),wt.logarithmicDepthBuffer&&Ma.setValue(Xe,"logDepthBufFC",2/(Math.log(Le.far+1)/Math.LN2)),H!==Le&&(H=Le,Om=!0,_y=!0),_t.isShaderMaterial||_t.isMeshPhongMaterial||_t.isMeshToonMaterial||_t.isMeshStandardMaterial||_t.envMap){let Fs=Ma.map.cameraPosition;void 0!==Fs&&Fs.setValue(Xe,nt.setFromMatrixPosition(Le.matrixWorld))}(_t.isMeshPhongMaterial||_t.isMeshToonMaterial||_t.isMeshLambertMaterial||_t.isMeshBasicMaterial||_t.isMeshStandardMaterial||_t.isShaderMaterial)&&Ma.setValue(Xe,"isOrthographic",!0===Le.isOrthographicCamera),(_t.isMeshPhongMaterial||_t.isMeshToonMaterial||_t.isMeshLambertMaterial||_t.isMeshBasicMaterial||_t.isMeshStandardMaterial||_t.isShaderMaterial||_t.isShadowMaterial||Vt.isSkinnedMesh)&&Ma.setValue(Xe,"viewMatrix",Le.matrixWorldInverse)}if(Vt.isSkinnedMesh){Ma.setOptional(Xe,Vt,"bindMatrix"),Ma.setOptional(Xe,Vt,"bindMatrixInverse");let Fs=Vt.skeleton;Fs&&(wt.floatVertexTextures?(null===Fs.boneTexture&&Fs.computeBoneTexture(),Ma.setValue(Xe,"boneTexture",Fs.boneTexture,At),Ma.setValue(Xe,"boneTextureSize",Fs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let M0=Ut.morphAttributes;if((void 0!==M0.position||void 0!==M0.normal||void 0!==M0.color&&!0===wt.isWebGL2)&&ye.update(Vt,Ut,_t,Uu),(Om||Ni.receiveShadow!==Vt.receiveShadow)&&(Ni.receiveShadow=Vt.receiveShadow,Ma.setValue(Xe,"receiveShadow",Vt.receiveShadow)),_t.isMeshGouraudMaterial&&null!==_t.envMap&&(ju.envMap.value=gr,ju.flipEnvMap.value=gr.isCubeTexture&&!1===gr.isRenderTargetTexture?-1:1),Om&&(Ma.setValue(Xe,"toneMappingExposure",y.toneMappingExposure),Ni.needsLights&&function lN(Le,Pt){Le.ambientLightColor.needsUpdate=Pt,Le.lightProbe.needsUpdate=Pt,Le.directionalLights.needsUpdate=Pt,Le.directionalLightShadows.needsUpdate=Pt,Le.pointLights.needsUpdate=Pt,Le.pointLightShadows.needsUpdate=Pt,Le.spotLights.needsUpdate=Pt,Le.spotLightShadows.needsUpdate=Pt,Le.rectAreaLights.needsUpdate=Pt,Le.hemisphereLights.needsUpdate=Pt}(ju,_y),ni&&!0===_t.fog&&Qn.refreshFogUniforms(ju,ni),Qn.refreshMaterialUniforms(ju,_t,ae,ne,We),LM.upload(Xe,Ni.uniformsList,ju,At)),_t.isShaderMaterial&&!0===_t.uniformsNeedUpdate&&(LM.upload(Xe,Ni.uniformsList,ju,At),_t.uniformsNeedUpdate=!1),_t.isSpriteMaterial&&Ma.setValue(Xe,"center",Vt.center),Ma.setValue(Xe,"modelViewMatrix",Vt.modelViewMatrix),Ma.setValue(Xe,"normalMatrix",Vt.normalMatrix),Ma.setValue(Xe,"modelMatrix",Vt.matrixWorld),Vt.previousModelViewMatrix&&Ma.setValue(Xe,"previousModelViewMatrix",Vt.previousModelViewMatrix),Le.previousProjectionMatrix&&Ma.setValue(Xe,"previousProjectionMatrix",Le.previousProjectionMatrix),_t.isShaderMaterial||_t.isRawShaderMaterial){let Fs=_t.uniformsGroups;for(let vr=0,cN=Fs.length;vr<cN;vr++)if(wt.isWebGL2){let P0=Fs[vr];vn.update(P0,Uu),vn.bind(P0,Uu)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Uu}(Le,Pt,Ut,_t,Vt);lt.setMaterial(_t,er);let gr=Ut.index,Mo=1;!0===_t.wireframe&&(gr=Fn.getWireframeAttribute(Ut),Mo=2);let Gr=Ut.drawRange,Cr=Ut.attributes.position,Ga=Gr.start*Mo,tc=(Gr.start+Gr.count)*Mo;null!==ni&&(Ga=Math.max(Ga,ni.start*Mo),tc=Math.min(tc,(ni.start+ni.count)*Mo)),null!==gr?(Ga=Math.max(Ga,0),tc=Math.min(tc,gr.count)):null!=Cr&&(Ga=Math.max(Ga,0),tc=Math.min(tc,Cr.count));let Eh=tc-Ga;if(Eh<0||Eh===1/0)return;$t.setup(Vt,_t,mr,Ut,gr);let Jp,ns=Rt;if(null!==gr&&(Jp=Sn.get(gr),ns=Yn,ns.setIndex(Jp)),Vt.isMesh)!0===_t.wireframe?(lt.setLineWidth(_t.wireframeLinewidth*tt()),ns.setMode(1)):ns.setMode(4);else if(Vt.isLine){let Ni=_t.linewidth;void 0===Ni&&(Ni=1),lt.setLineWidth(Ni*tt()),ns.setMode(Vt.isLineSegments?1:Vt.isLineLoop?2:3)}else Vt.isPoints?ns.setMode(0):Vt.isSprite&&ns.setMode(4);if(Vt.isInstancedMesh)ns.renderInstances(Ga,Eh,Vt.count);else if(Ut.isInstancedBufferGeometry){let by=Math.min(Ut.instanceCount,void 0!==Ut._maxInstanceCount?Ut._maxInstanceCount:1/0);ns.renderInstances(Ga,Eh,by)}else ns.render(Ga,Eh)},this.compile=function(Le,Pt){function Ut(_t,Vt,ni){!0===_t.transparent&&_t.side===bl&&!1===_t.forceSinglePass?(_t.side=Ta,_t.needsUpdate=!0,ec(_t,Vt,ni),_t.side=oh,_t.needsUpdate=!0,ec(_t,Vt,ni),_t.side=bl):ec(_t,Vt,ni)}p=Fe.get(Le),p.init(),v.push(p),Le.traverseVisible(function(_t){_t.isLight&&_t.layers.test(Pt.layers)&&(p.pushLight(_t),_t.castShadow&&p.pushShadow(_t))}),p.setupLights(y.physicallyCorrectLights),Le.traverse(function(_t){let Vt=_t.material;if(Vt)if(Array.isArray(Vt))for(let ni=0;ni<Vt.length;ni++)Ut(Vt[ni],Le,_t);else Ut(Vt,Le,_t)}),v.pop(),p=null};let kt=null;function yn(){Ci.stop()}function di(){Ci.start()}let Ci=new sV;function Jo(Le,Pt,Ut,_t){if(!1===Le.visible)return;if(Le.layers.test(Pt.layers))if(Le.isGroup)Ut=Le.renderOrder;else if(Le.isLOD)!0===Le.autoUpdate&&Le.update(Pt);else if(Le.isLight)p.pushLight(Le),Le.castShadow&&p.pushShadow(Le);else if(Le.isSprite){if(!Le.frustumCulled||Ce.intersectsSprite(Le)){_t&&nt.setFromMatrixPosition(Le.matrixWorld).applyMatrix4(Ve);let ni=fn.update(Le),er=Le.material;er.visible&&h.push(Le,ni,er,Ut,nt.z,null)}}else if((Le.isMesh||Le.isLine||Le.isPoints)&&(Le.isSkinnedMesh&&Le.skeleton.frame!==Gt.render.frame&&(Le.skeleton.update(),Le.skeleton.frame=Gt.render.frame),!Le.frustumCulled||Ce.intersectsObject(Le))){_t&&nt.setFromMatrixPosition(Le.matrixWorld).applyMatrix4(Ve);let ni=fn.update(Le),er=Le.material;if(Array.isArray(er)){let mr=ni.groups;for(let gr=0,Mo=mr.length;gr<Mo;gr++){let Gr=mr[gr],Cr=er[Gr.materialIndex];Cr&&Cr.visible&&h.push(Le,ni,Cr,Ut,nt.z,Gr)}}else er.visible&&h.push(Le,ni,er,Ut,nt.z,null)}let Vt=Le.children;for(let ni=0,er=Vt.length;ni<er;ni++)Jo(Vt[ni],Pt,Ut,_t)}function Ca(Le,Pt,Ut,_t){let Vt=Le.opaque,ni=Le.transmissive,er=Le.transparent;p.setupLightsView(Ut),!0===_e&&Pe.setGlobalState(y.clippingPlanes,Ut),ni.length>0&&function Bu(Le,Pt,Ut){let _t=wt.isWebGL2;null===We&&(We=new Zr(1,1,{generateMipmaps:!0,type:rt.has("EXT_color_buffer_half_float")?vp:_l,minFilter:Fv,samples:_t&&!0===o?4:0})),y.getDrawingBufferSize(Ue),_t?We.setSize(Ue.x,Ue.y):We.setSize(pM(Ue.x),pM(Ue.y));let Vt=y.getRenderTarget();y.setRenderTarget(We),y.clear();let ni=y.toneMapping;y.toneMapping=ou,Wo(Le,Pt,Ut),y.toneMapping=ni,At.updateMultisampleRenderTarget(We),At.updateRenderTargetMipmap(We),y.setRenderTarget(Vt)}(Vt,Pt,Ut),_t&&lt.viewport(V.copy(_t)),Vt.length>0&&Wo(Vt,Pt,Ut),ni.length>0&&Wo(ni,Pt,Ut),er.length>0&&Wo(er,Pt,Ut),lt.buffers.depth.setTest(!0),lt.buffers.depth.setMask(!0),lt.buffers.color.setMask(!0),lt.setPolygonOffset(!1)}function Wo(Le,Pt,Ut){let _t=!0===Pt.isScene?Pt.overrideMaterial:null;for(let Vt=0,ni=Le.length;Vt<ni;Vt++){let er=Le[Vt],mr=er.object,gr=er.geometry,Mo=null===_t?er.material:_t,Gr=er.group;mr.layers.test(Ut.layers)&&Kc(mr,Pt,Ut,gr,Mo,Gr)}}function Kc(Le,Pt,Ut,_t,Vt,ni){Le.onBeforeRender(y,Pt,Ut,_t,Vt,ni),Le.modelViewMatrix.multiplyMatrices(Ut.matrixWorldInverse,Le.matrixWorld),Le.normalMatrix.getNormalMatrix(Le.modelViewMatrix),Vt.onBeforeRender(y,Pt,Ut,_t,Le,ni),!0===Vt.transparent&&Vt.side===bl&&!1===Vt.forceSinglePass?(Vt.side=Ta,Vt.needsUpdate=!0,y.renderBufferDirect(Ut,Pt,_t,Vt,Le,ni),Vt.side=oh,Vt.needsUpdate=!0,y.renderBufferDirect(Ut,Pt,_t,Vt,Le,ni),Vt.side=bl):y.renderBufferDirect(Ut,Pt,_t,Vt,Le,ni),Le.onAfterRender(y,Pt,Ut,_t,Vt,ni)}function ec(Le,Pt,Ut){!0!==Pt.isScene&&(Pt=He);let _t=Nt.get(Le),Vt=p.state.lights,er=Vt.state.version,mr=hn.getParameters(Le,Vt.state,p.state.shadowsArray,Pt,Ut),gr=hn.getProgramCacheKey(mr),Mo=_t.programs;_t.environment=Le.isMeshStandardMaterial?Pt.environment:null,_t.fog=Pt.fog,_t.envMap=(Le.isMeshStandardMaterial?Cn:wn).get(Le.envMap||_t.environment),void 0===Mo&&(Le.addEventListener("dispose",Co),Mo=new Map,_t.programs=Mo);let Gr=Mo.get(gr);if(void 0!==Gr){if(_t.currentProgram===Gr&&_t.lightsStateVersion===er)return OO(Le,mr),Gr}else mr.uniforms=hn.getUniforms(Le),Le.onBuild(Ut,mr,y),Le.onBeforeCompile(mr,y),Gr=hn.acquireProgram(mr,gr),Mo.set(gr,Gr),_t.uniforms=mr.uniforms;let Cr=_t.uniforms;(!Le.isShaderMaterial&&!Le.isRawShaderMaterial||!0===Le.clipping)&&(Cr.clippingPlanes=Pe.uniform),OO(Le,mr),_t.needsLights=function SO(Le){return Le.isMeshLambertMaterial||Le.isMeshToonMaterial||Le.isMeshPhongMaterial||Le.isMeshStandardMaterial||Le.isShadowMaterial||Le.isShaderMaterial&&!0===Le.lights}(Le),_t.lightsStateVersion=er,_t.needsLights&&(Cr.ambientLightColor.value=Vt.state.ambient,Cr.lightProbe.value=Vt.state.probe,Cr.directionalLights.value=Vt.state.directional,Cr.directionalLightShadows.value=Vt.state.directionalShadow,Cr.spotLights.value=Vt.state.spot,Cr.spotLightShadows.value=Vt.state.spotShadow,Cr.rectAreaLights.value=Vt.state.rectArea,Cr.ltc_1.value=Vt.state.rectAreaLTC1,Cr.ltc_2.value=Vt.state.rectAreaLTC2,Cr.pointLights.value=Vt.state.point,Cr.pointLightShadows.value=Vt.state.pointShadow,Cr.hemisphereLights.value=Vt.state.hemi,Cr.directionalShadowMap.value=Vt.state.directionalShadowMap,Cr.directionalShadowMatrix.value=Vt.state.directionalShadowMatrix,Cr.spotShadowMap.value=Vt.state.spotShadowMap,Cr.spotLightMatrix.value=Vt.state.spotLightMatrix,Cr.spotLightMap.value=Vt.state.spotLightMap,Cr.pointShadowMap.value=Vt.state.pointShadowMap,Cr.pointShadowMatrix.value=Vt.state.pointShadowMatrix);let Ga=Gr.getUniforms(),tc=LM.seqWithValue(Ga.seq,Cr);return _t.currentProgram=Gr,_t.uniformsList=tc,Gr}function OO(Le,Pt){let Ut=Nt.get(Le);Ut.outputEncoding=Pt.outputEncoding,Ut.instancing=Pt.instancing,Ut.skinning=Pt.skinning,Ut.morphTargets=Pt.morphTargets,Ut.morphNormals=Pt.morphNormals,Ut.morphColors=Pt.morphColors,Ut.morphTargetsCount=Pt.morphTargetsCount,Ut.numClippingPlanes=Pt.numClippingPlanes,Ut.numIntersection=Pt.numClipIntersection,Ut.vertexAlphas=Pt.vertexAlphas,Ut.vertexTangents=Pt.vertexTangents,Ut.toneMapping=Pt.toneMapping}Ci.setAnimationLoop(function sn(Le){kt&&kt(Le)}),typeof self<"u"&&Ci.setContext(self),this.setAnimationLoop=function(Le){kt=Le,Xn.setAnimationLoop(Le),null===Le?Ci.stop():Ci.start()},Xn.addEventListener("sessionstart",yn),Xn.addEventListener("sessionend",di),this.render=function(Le,Pt){if(void 0===Pt||!0===Pt.isCamera){if(!0!==b){if(!0===Le.matrixWorldAutoUpdate&&Le.updateMatrixWorld(),null===Pt.parent&&!0===Pt.matrixWorldAutoUpdate&&Pt.updateMatrixWorld(),!0===Xn.enabled&&!0===Xn.isPresenting&&(!0===Xn.cameraAutoUpdate&&Xn.updateCamera(Pt),Pt=Xn.getCamera()),!0===Le.isScene&&Le.onBeforeRender(y,Le,Pt,S),p=Fe.get(Le,v.length),p.init(),v.push(p),Ve.multiplyMatrices(Pt.projectionMatrix,Pt.matrixWorldInverse),Ce.setFromProjectionMatrix(Ve),Be=this.localClippingEnabled,_e=Pe.init(this.clippingPlanes,Be),h=pi.get(Le,g.length),h.init(),g.push(h),Jo(Le,Pt,0,y.sortObjects),h.finish(),!0===y.sortObjects&&h.sort(pe,fe),!0===_e&&Pe.beginShadows(),bt.render(p.state.shadowsArray,Le,Pt),!0===_e&&Pe.endShadows(),!0===this.info.autoReset&&this.info.reset(),en.render(h,Le),p.setupLights(y.physicallyCorrectLights),Pt.isArrayCamera){let _t=Pt.cameras;for(let Vt=0,ni=_t.length;Vt<ni;Vt++){let er=_t[Vt];Ca(h,Le,er,er.viewport)}}else Ca(h,Le,Pt);null!==S&&(At.updateMultisampleRenderTarget(S),At.updateRenderTargetMipmap(S)),!0===Le.isScene&&Le.onAfterRender(y,Le,Pt),$t.resetDefaultState(),A=-1,H=null,v.pop(),p=v.length>0?v[v.length-1]:null,g.pop(),h=g.length>0?g[g.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(Le,Pt,Ut){Nt.get(Le.texture).__webglTexture=Pt,Nt.get(Le.depthTexture).__webglTexture=Ut;let _t=Nt.get(Le);_t.__hasExternalTextures=!0,_t.__hasExternalTextures&&(_t.__autoAllocateDepthBuffer=void 0===Ut,_t.__autoAllocateDepthBuffer||!0===rt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),_t.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Le,Pt){let Ut=Nt.get(Le);Ut.__webglFramebuffer=Pt,Ut.__useDefaultFramebuffer=void 0===Pt},this.setRenderTarget=function(Le,Pt=0,Ut=0){S=Le,P=Pt,O=Ut;let _t=!0,Vt=null,ni=!1,er=!1;if(Le){let mr=Nt.get(Le);void 0!==mr.__useDefaultFramebuffer?(lt.bindFramebuffer(36160,null),_t=!1):void 0===mr.__webglFramebuffer?At.setupRenderTarget(Le):mr.__hasExternalTextures&&At.rebindTextures(Le,Nt.get(Le.texture).__webglTexture,Nt.get(Le.depthTexture).__webglTexture);let gr=Le.texture;(gr.isData3DTexture||gr.isDataArrayTexture||gr.isCompressedArrayTexture)&&(er=!0);let Mo=Nt.get(Le).__webglFramebuffer;Le.isWebGLCubeRenderTarget?(Vt=Mo[Pt],ni=!0):Vt=wt.isWebGL2&&Le.samples>0&&!1===At.useMultisampledRTT(Le)?Nt.get(Le).__webglMultisampledFramebuffer:Mo,V.copy(Le.viewport),Q.copy(Le.scissor),Y=Le.scissorTest}else V.copy(ge).multiplyScalar(ae).floor(),Q.copy(Se).multiplyScalar(ae).floor(),Y=Oe;if(lt.bindFramebuffer(36160,Vt)&&wt.drawBuffers&&_t&&lt.drawBuffers(Le,Vt),lt.viewport(V),lt.scissor(Q),lt.setScissorTest(Y),ni){let mr=Nt.get(Le.texture);Xe.framebufferTexture2D(36160,36064,34069+Pt,mr.__webglTexture,Ut)}else if(er){let mr=Nt.get(Le.texture);Xe.framebufferTextureLayer(36160,36064,mr.__webglTexture,Ut||0,Pt||0)}A=-1},this.readRenderTargetPixels=function(Le,Pt,Ut,_t,Vt,ni,er){if(!Le||!Le.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let mr=Nt.get(Le).__webglFramebuffer;if(Le.isWebGLCubeRenderTarget&&void 0!==er&&(mr=mr[er]),mr){lt.bindFramebuffer(36160,mr);try{let gr=Le.texture,Mo=gr.format,Gr=gr.type;if(Mo!==Ia&&_n.convert(Mo)!==Xe.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");let Cr=Gr===vp&&(rt.has("EXT_color_buffer_half_float")||wt.isWebGL2&&rt.has("EXT_color_buffer_float"));if(!(Gr===_l||_n.convert(Gr)===Xe.getParameter(35738)||Gr===Ys&&(wt.isWebGL2||rt.has("OES_texture_float")||rt.has("WEBGL_color_buffer_float"))||Cr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Pt>=0&&Pt<=Le.width-_t&&Ut>=0&&Ut<=Le.height-Vt&&Xe.readPixels(Pt,Ut,_t,Vt,_n.convert(Mo),_n.convert(Gr),ni)}finally{let gr=null!==S?Nt.get(S).__webglFramebuffer:null;lt.bindFramebuffer(36160,gr)}}},this.copyFramebufferToTexture=function(Le,Pt,Ut=0){let _t=Math.pow(2,-Ut),Vt=Math.floor(Pt.image.width*_t),ni=Math.floor(Pt.image.height*_t);At.setTexture2D(Pt,0),Xe.copyTexSubImage2D(3553,Ut,0,0,Le.x,Le.y,Vt,ni),lt.unbindTexture()},this.copyTextureToTexture=function(Le,Pt,Ut,_t=0){let Vt=Pt.image.width,ni=Pt.image.height,er=_n.convert(Ut.format),mr=_n.convert(Ut.type);At.setTexture2D(Ut,0),Xe.pixelStorei(37440,Ut.flipY),Xe.pixelStorei(37441,Ut.premultiplyAlpha),Xe.pixelStorei(3317,Ut.unpackAlignment),Pt.isDataTexture?Xe.texSubImage2D(3553,_t,Le.x,Le.y,Vt,ni,er,mr,Pt.image.data):Pt.isCompressedTexture?Xe.compressedTexSubImage2D(3553,_t,Le.x,Le.y,Pt.mipmaps[0].width,Pt.mipmaps[0].height,er,Pt.mipmaps[0].data):Xe.texSubImage2D(3553,_t,Le.x,Le.y,er,mr,Pt.image),0===_t&&Ut.generateMipmaps&&Xe.generateMipmap(3553),lt.unbindTexture()},this.copyTextureToTexture3D=function(Le,Pt,Ut,_t,Vt=0){if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");let Gr,ni=Le.max.x-Le.min.x+1,er=Le.max.y-Le.min.y+1,mr=Le.max.z-Le.min.z+1,gr=_n.convert(_t.format),Mo=_n.convert(_t.type);if(_t.isData3DTexture)At.setTexture3D(_t,0),Gr=32879;else{if(!_t.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");At.setTexture2DArray(_t,0),Gr=35866}Xe.pixelStorei(37440,_t.flipY),Xe.pixelStorei(37441,_t.premultiplyAlpha),Xe.pixelStorei(3317,_t.unpackAlignment);let Cr=Xe.getParameter(3314),Ga=Xe.getParameter(32878),tc=Xe.getParameter(3316),Eh=Xe.getParameter(3315),Jp=Xe.getParameter(32877),ns=Ut.isCompressedTexture?Ut.mipmaps[0]:Ut.image;Xe.pixelStorei(3314,ns.width),Xe.pixelStorei(32878,ns.height),Xe.pixelStorei(3316,Le.min.x),Xe.pixelStorei(3315,Le.min.y),Xe.pixelStorei(32877,Le.min.z),Ut.isDataTexture||Ut.isData3DTexture?Xe.texSubImage3D(Gr,Vt,Pt.x,Pt.y,Pt.z,ni,er,mr,gr,Mo,ns.data):Ut.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Xe.compressedTexSubImage3D(Gr,Vt,Pt.x,Pt.y,Pt.z,ni,er,mr,gr,ns.data)):Xe.texSubImage3D(Gr,Vt,Pt.x,Pt.y,Pt.z,ni,er,mr,gr,Mo,ns),Xe.pixelStorei(3314,Cr),Xe.pixelStorei(32878,Ga),Xe.pixelStorei(3316,tc),Xe.pixelStorei(3315,Eh),Xe.pixelStorei(32877,Jp),0===Vt&&_t.generateMipmaps&&Xe.generateMipmap(Gr),lt.unbindTexture()},this.initTexture=function(Le){Le.isCubeTexture?At.setTextureCube(Le,0):Le.isData3DTexture?At.setTexture3D(Le,0):Le.isDataArrayTexture||Le.isCompressedArrayTexture?At.setTexture2DArray(Le,0):At.setTexture2D(Le,0),lt.unbindTexture()},this.resetState=function(){P=0,O=0,S=null,lt.reset(),$t.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class extends RV{}).prototype.isWebGL1Renderer=!0;var NV=class{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new gi(e),this.near=t,this.far=n}clone(){return new NV(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},lu=class extends uo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},PMe=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Md()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Md()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Md()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},Gl=new ie,ZT=class{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Gl.fromBufferAttribute(this,t),Gl.applyMatrix4(e),this.setXYZ(t,Gl.x,Gl.y,Gl.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Gl.fromBufferAttribute(this,t),Gl.applyNormalMatrix(e),this.setXYZ(t,Gl.x,Gl.y,Gl.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Gl.fromBufferAttribute(this,t),Gl.transformDirection(e),this.setXYZ(t,Gl.x,Gl.y,Gl.z);return this}setX(e,t){return this.normalized&&(t=Lo(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Lo(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Lo(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Lo(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=bp(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=bp(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=bp(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=bp(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lo(t,this.array),n=Lo(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lo(t,this.array),n=Lo(n,this.array),i=Lo(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lo(t,this.array),n=Lo(n,this.array),i=Lo(i,this.array),r=Lo(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Mi(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ZT(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},LV=class extends uo{constructor(){super(),this.isBone=!0,this.type="Bone"}},Od=class extends ds{constructor(e=null,t=1,n=1,i,r,o,s,a,l=io,c=io,d,h){super(null,o,s,a,l,c,i,r,d,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},FV=new Kt,OMe=new Kt,JT=class{constructor(e=[],t=[]){this.uuid=Md(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Kt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let n=new Kt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++)FV.multiplyMatrices(e[r]?e[r].matrixWorld:OMe,t[r]),FV.toArray(n,16*r);null!==i&&(i.needsUpdate=!0)}clone(){return new JT(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=Vj(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new Od(t,e,e,Ia,Ys);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){let r=e.bones[n],o=t[r];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new LV),this.bones.push(o),this.boneInverses.push((new Kt).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++)e.bones.push(t[i].uuid),e.boneInverses.push(n[i].toArray());return e}},p_=class extends Mi{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},BV=new Kt,zV=new Kt,FM=[],SMe=new Kt,f_=new hs,EMe=class extends hs{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new p_(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let i=0;i<n;i++)this.setMatrixAt(i,SMe)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){let n=this.matrixWorld,i=this.count;if(f_.geometry=this.geometry,f_.material=this.material,void 0!==f_.material)for(let r=0;r<i;r++){this.getMatrixAt(r,BV),zV.multiplyMatrices(n,BV),f_.matrixWorld=zV,f_.raycast(e,FM);for(let o=0,s=FM.length;o<s;o++){let a=FM[o];a.instanceId=r,a.object=this,t.push(a)}FM.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new p_(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}},Gf=class extends a_{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new gi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},UV=new ie,jV=new ie,VV=new Kt,e3=new Gv,BM=new gc,zM=class extends uo{constructor(e=new ii,t=new Gf){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)UV.fromBufferAttribute(t,i-1),jV.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=UV.distanceTo(jV);e.setAttribute("lineDistance",new On(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),BM.copy(n.boundingSphere),BM.applyMatrix4(i),BM.radius+=r,!1===e.ray.intersectsSphere(BM))return;VV.copy(i).invert(),e3.copy(e.ray).applyMatrix4(VV);let s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=new ie,c=new ie,d=new ie,h=new ie,p=this.isLineSegments?2:1,g=n.index,v=n.attributes.position;if(null!==g)for(let P=Math.max(0,o.start),O=Math.min(g.count,o.start+o.count)-1;P<O;P+=p){let S=g.getX(P),A=g.getX(P+1);if(l.fromBufferAttribute(v,S),c.fromBufferAttribute(v,A),e3.distanceSqToSegment(l,c,h,d)>a)continue;h.applyMatrix4(this.matrixWorld);let H=e.ray.origin.distanceTo(h);H<e.near||H>e.far||t.push({distance:H,point:d.clone().applyMatrix4(this.matrixWorld),index:P,face:null,faceIndex:null,object:this})}else for(let P=Math.max(0,o.start),O=Math.min(v.count,o.start+o.count)-1;P<O;P+=p){if(l.fromBufferAttribute(v,P),c.fromBufferAttribute(v,P+1),e3.distanceSqToSegment(l,c,h,d)>a)continue;h.applyMatrix4(this.matrixWorld);let S=e.ray.origin.distanceTo(h);S<e.near||S>e.far||t.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:P,face:null,faceIndex:null,object:this})}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++){let o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}},HV=new ie,GV=new ie,m_=class extends zM{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)HV.fromBufferAttribute(t,i),GV.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+HV.distanceTo(GV);e.setAttribute("lineDistance",new On(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},DMe=class extends ds{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,r,o,s,a,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:nr,this.magFilter=void 0!==r?r:nr,this.generateMipmaps=!1;let c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)})}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},AMe=class extends ds{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,r,o,s,a,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},cu=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let n,t=[],i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let o,n=this.getLengths(),i=0,r=n.length;o=t||e*n[r-1];let l,s=0,a=r-1;for(;s<=a;)if(i=Math.floor(s+(a-s)/2),l=n[i]-o,l<0)s=i+1;else{if(!(l>0)){a=i;break}a=i-1}if(i=a,n[i]===o)return i/(r-1);let c=n[i];return(i+(o-c)/(n[i+1]-c))/(r-1)}getTangent(e,t){let n=e-1e-4,i=e+1e-4;n<0&&(n=0),i>1&&(i=1);let r=this.getPoint(n),o=this.getPoint(i),s=t||(r.isVector2?new qe:new ie);return s.copy(o).sub(r).normalize(),s}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new ie,i=[],r=[],o=[],s=new ie,a=new Kt;for(let p=0;p<=e;p++)i[p]=this.getTangentAt(p/e,new ie);r[0]=new ie,o[0]=new ie;let l=Number.MAX_VALUE,c=Math.abs(i[0].x),d=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),d<=l&&(l=d,n.set(0,1,0)),h<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let p=1;p<=e;p++){if(r[p]=r[p-1].clone(),o[p]=o[p-1].clone(),s.crossVectors(i[p-1],i[p]),s.length()>Number.EPSILON){s.normalize();let g=Math.acos(Xs(i[p-1].dot(i[p]),-1,1));r[p].applyMatrix4(a.makeRotationAxis(s,g))}o[p].crossVectors(i[p],r[p])}if(!0===t){let p=Math.acos(Xs(r[0].dot(r[e]),-1,1));p/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(p=-p);for(let g=1;g<=e;g++)r[g].applyMatrix4(a.makeRotationAxis(i[g],p*g)),o[g].crossVectors(i[g],r[g])}return{tangents:i,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},UM=class extends cu{constructor(e=0,t=0,n=1,i=1,r=0,o=2*Math.PI,s=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(e,t){let n=t||new qe,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0===this.aClockwise&&!o&&(r===i?r=-i:r-=i);let s=this.aStartAngle+e*r,a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){let c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=a-this.aX,p=l-this.aY;a=h*c-p*d+this.aX,l=h*d+p*c+this.aY}return n.set(a,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};function t3(){let e=0,t=0,n=0,i=0;function r(o,s,a,l){e=o,t=a,n=-3*o+3*s-2*a-l,i=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){r(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,d,h){let p=(s-o)/c-(a-o)/(c+d)+(a-s)/d,g=(a-s)/d-(l-s)/(d+h)+(l-a)/h;p*=d,g*=d,r(s,a,p,g)},calc:function(o){let s=o*o;return e+t*o+n*s+i*(s*o)}}}var jM=new ie,n3=new t3,r3=new t3,o3=new t3;function WV(e,t,n,i,r){let o=.5*(i-t),s=.5*(r-n),a=e*e;return(2*n-2*i+o+s)*(e*a)+(-3*n+3*i-2*o-s)*a+o*e+n}function g_(e,t,n,i){return function kMe(e,t){let n=1-e;return n*n*t}(e,t)+function RMe(e,t){return 2*(1-e)*e*t}(e,n)+function NMe(e,t){return e*e*t}(e,i)}function v_(e,t,n,i,r){return function LMe(e,t){let n=1-e;return n*n*n*t}(e,t)+function FMe(e,t){let n=1-e;return 3*n*n*e*t}(e,n)+function BMe(e,t){return 3*(1-e)*e*e*t}(e,i)+function zMe(e,t){return e*e*e*t}(e,r)}var hh=class extends cu{constructor(e=new qe,t=new qe,n=new qe,i=new qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new qe){let n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(v_(e,i.x,r.x,o.x,s.x),v_(e,i.y,r.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},VM=class extends cu{constructor(e=new ie,t=new ie,n=new ie,i=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ie){let n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(v_(e,i.x,r.x,o.x,s.x),v_(e,i.y,r.y,o.y,s.y),v_(e,i.z,r.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},uh=class extends cu{constructor(e=new qe,t=new qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new qe){let n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let n=t||new qe;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},qV=class extends cu{constructor(e=new ie,t=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ie){let n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Wf=class extends cu{constructor(e=new qe,t=new qe,n=new qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new qe){let n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(g_(e,i.x,r.x,o.x),g_(e,i.y,r.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},s3=class extends cu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new qe){let n=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),s=r-o,a=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return n.set(WV(s,a.x,l.x,c.x,d.x),WV(s,a.y,l.y,c.y,d.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push((new qe).fromArray(i))}return this}},jMe=Object.freeze({__proto__:null,ArcCurve:class extends UM{constructor(e,t,n,i,r,o){super(e,t,n,n,i,r,o),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class extends cu{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new ie){let l,c,n=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e,s=Math.floor(o),a=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:0===a&&s===r-1&&(s=r-2,a=1),this.closed||s>0?l=i[(s-1)%r]:(jM.subVectors(i[0],i[1]).add(i[0]),l=jM);let d=i[s%r],h=i[(s+1)%r];if(this.closed||s+2<r?c=i[(s+2)%r]:(jM.subVectors(i[r-1],i[r-2]).add(i[r-1]),c=jM),"centripetal"===this.curveType||"chordal"===this.curveType){let p="chordal"===this.curveType?.5:.25,g=Math.pow(l.distanceToSquared(d),p),v=Math.pow(d.distanceToSquared(h),p),y=Math.pow(h.distanceToSquared(c),p);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),n3.initNonuniformCatmullRom(l.x,d.x,h.x,c.x,g,v,y),r3.initNonuniformCatmullRom(l.y,d.y,h.y,c.y,g,v,y),o3.initNonuniformCatmullRom(l.z,d.z,h.z,c.z,g,v,y)}else"catmullrom"===this.curveType&&(n3.initCatmullRom(l.x,d.x,h.x,c.x,this.tension),r3.initCatmullRom(l.y,d.y,h.y,c.y,this.tension),o3.initCatmullRom(l.z,d.z,h.z,c.z,this.tension));return n.set(n3.calc(a),r3.calc(a),o3.calc(a)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push((new ie).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:hh,CubicBezierCurve3:VM,EllipseCurve:UM,LineCurve:uh,LineCurve3:qV,QuadraticBezierCurve:Wf,QuadraticBezierCurve3:class extends cu{constructor(e=new ie,t=new ie,n=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ie){let n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(g_(e,i.x,r.x,o.x),g_(e,i.y,r.y,o.y),g_(e,i.z,r.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},SplineCurve:s3}),YV=class extends cu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new uh(t,e))}getPoint(e,t){let n=e*this.getLength(),i=this.getCurveLengths(),r=0;for(;r<i.length;){if(i[r]>=n){let o=i[r]-n,s=this.curves[r],a=s.getLength();return s.getPointAt(0===a?0:1-o/a,t)}r++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let n,t=[];for(let i=0,r=this.curves;i<r.length;i++){let o=r[i],a=o.getPoints(o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e);for(let l=0;l<a.length;l++){let c=a[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let i=e.curves[t];this.curves.push((new jMe[i.type]).fromJSON(i))}return this}},HM=class extends YV{constructor(e){super(),this.type="Path",this.currentPoint=new qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new uh(this.currentPoint.clone(),new qe(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){let r=new Wf(this.currentPoint.clone(),new qe(e,t),new qe(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,o){let s=new hh(this.currentPoint.clone(),new qe(e,t),new qe(n,i),new qe(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new s3(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,o),this}absarc(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this}ellipse(e,t,n,i,r,o,s,a){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,o,s,a),this}absellipse(e,t,n,i,r,o,s,a){let l=new UM(e,t,n,i,r,o,s,a);if(this.curves.length>0){let d=l.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(l);let c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},XV=class extends ii{constructor(e=[new qe(0,-.5),new qe(.5,0),new qe(0,.5)],t=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Xs(i,0,2*Math.PI);let r=[],o=[],s=[],a=[],l=[],c=1/t,d=new ie,h=new qe,p=new ie,g=new ie,v=new ie,y=0,b=0;for(let P=0;P<=e.length-1;P++)switch(P){case 0:y=e[P+1].x-e[P].x,b=e[P+1].y-e[P].y,p.x=1*b,p.y=-y,p.z=0*b,v.copy(p),p.normalize(),a.push(p.x,p.y,p.z);break;case e.length-1:a.push(v.x,v.y,v.z);break;default:y=e[P+1].x-e[P].x,b=e[P+1].y-e[P].y,p.x=1*b,p.y=-y,p.z=0*b,g.copy(p),p.x+=v.x,p.y+=v.y,p.z+=v.z,p.normalize(),a.push(p.x,p.y,p.z),v.copy(g)}for(let P=0;P<=t;P++){let O=n+P*c*i,S=Math.sin(O),A=Math.cos(O);for(let H=0;H<=e.length-1;H++)d.x=e[H].x*S,d.y=e[H].y,d.z=e[H].x*A,o.push(d.x,d.y,d.z),h.x=P/t,h.y=H/(e.length-1),s.push(h.x,h.y),l.push(a[3*H+0]*S,a[3*H+1],a[3*H+0]*A)}for(let P=0;P<t;P++)for(let O=0;O<e.length-1;O++){let S=O+P*e.length,H=S+e.length,V=S+e.length+1,Q=S+1;r.push(S,H,Q),r.push(V,Q,H)}this.setIndex(r),this.setAttribute("position",new On(o,3)),this.setAttribute("uv",new On(s,2)),this.setAttribute("normal",new On(l,3))}static fromJSON(e){return new XV(e.points,e.segments,e.phiStart,e.phiLength)}},a3=class extends ii{constructor(e=1,t=1,n=1,i=32,r=1,o=!1,s=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};let l=this;i=Math.floor(i),r=Math.floor(r);let c=[],d=[],h=[],p=[],g=0,v=[],y=n/2,b=0;function O(S){let A=g,H=new qe,V=new ie,Q=0,Y=!0===S?e:t,ee=!0===S?1:-1;for(let ae=1;ae<=i;ae++)d.push(0,y*ee,0),h.push(0,ee,0),p.push(.5,.5),g++;let ne=g;for(let ae=0;ae<=i;ae++){let pe=ae/i*a+s,fe=Math.cos(pe),ge=Math.sin(pe);V.x=Y*ge,V.y=y*ee,V.z=Y*fe,d.push(V.x,V.y,V.z),h.push(0,ee,0),H.x=.5*fe+.5,H.y=.5*ge*ee+.5,p.push(H.x,H.y),g++}for(let ae=0;ae<i;ae++){let pe=A+ae,fe=ne+ae;!0===S?c.push(fe,fe+1,pe):c.push(fe+1,fe,pe),Q+=3}l.addGroup(b,Q,!0===S?1:2),b+=Q}(function P(){let S=new ie,A=new ie,H=0,V=(t-e)/n;for(let Q=0;Q<=r;Q++){let Y=[],ee=Q/r,ne=ee*(t-e)+e;for(let ae=0;ae<=i;ae++){let pe=ae/i,fe=pe*a+s,ge=Math.sin(fe),Se=Math.cos(fe);A.x=ne*ge,A.y=-ee*n+y,A.z=ne*Se,d.push(A.x,A.y,A.z),S.set(ge,V,Se).normalize(),h.push(S.x,S.y,S.z),p.push(pe,1-ee),Y.push(g++)}v.push(Y)}for(let Q=0;Q<i;Q++)for(let Y=0;Y<r;Y++){let ne=v[Y+1][Q],ae=v[Y+1][Q+1],pe=v[Y][Q+1];c.push(v[Y][Q],ne,pe),c.push(ne,ae,pe),H+=6}l.addGroup(b,H,0),b+=H})(),!1===o&&(e>0&&O(!0),t>0&&O(!1)),this.setIndex(c),this.setAttribute("position",new On(d,3)),this.setAttribute("normal",new On(h,3)),this.setAttribute("uv",new On(p,2))}static fromJSON(e){return new a3(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},l3=class extends a3{constructor(e=1,t=1,n=32,i=1,r=!1,o=0,s=2*Math.PI){super(0,e,t,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}static fromJSON(e){return new l3(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},c3=class extends ii{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};let r=[],o=[];function a(P,O,S,A){let H=A+1,V=[];for(let Q=0;Q<=H;Q++){V[Q]=[];let Y=P.clone().lerp(S,Q/H),ee=O.clone().lerp(S,Q/H),ne=H-Q;for(let ae=0;ae<=ne;ae++)V[Q][ae]=0===ae&&Q===H?Y:Y.clone().lerp(ee,ae/ne)}for(let Q=0;Q<H;Q++)for(let Y=0;Y<2*(H-Q)-1;Y++){let ee=Math.floor(Y/2);Y%2==0?(h(V[Q][ee+1]),h(V[Q+1][ee]),h(V[Q][ee])):(h(V[Q][ee+1]),h(V[Q+1][ee+1]),h(V[Q+1][ee]))}}function h(P){r.push(P.x,P.y,P.z)}function p(P,O){let S=3*P;O.x=e[S+0],O.y=e[S+1],O.z=e[S+2]}function v(P,O,S,A){A<0&&1===P.x&&(o[O]=P.x-1),0===S.x&&0===S.z&&(o[O]=A/2/Math.PI+.5)}function y(P){return Math.atan2(P.z,-P.x)}function b(P){return Math.atan2(-P.y,Math.sqrt(P.x*P.x+P.z*P.z))}(function s(P){let O=new ie,S=new ie,A=new ie;for(let H=0;H<t.length;H+=3)p(t[H+0],O),p(t[H+1],S),p(t[H+2],A),a(O,S,A,P)})(i),function l(P){let O=new ie;for(let S=0;S<r.length;S+=3)O.x=r[S+0],O.y=r[S+1],O.z=r[S+2],O.normalize().multiplyScalar(P),r[S+0]=O.x,r[S+1]=O.y,r[S+2]=O.z}(n),function c(){let P=new ie;for(let O=0;O<r.length;O+=3){P.x=r[O+0],P.y=r[O+1],P.z=r[O+2];let S=y(P)/2/Math.PI+.5,A=b(P)/Math.PI+.5;o.push(S,1-A)}(function g(){let P=new ie,O=new ie,S=new ie,A=new ie,H=new qe,V=new qe,Q=new qe;for(let Y=0,ee=0;Y<r.length;Y+=9,ee+=6){P.set(r[Y+0],r[Y+1],r[Y+2]),O.set(r[Y+3],r[Y+4],r[Y+5]),S.set(r[Y+6],r[Y+7],r[Y+8]),H.set(o[ee+0],o[ee+1]),V.set(o[ee+2],o[ee+3]),Q.set(o[ee+4],o[ee+5]),A.copy(P).add(O).add(S).divideScalar(3);let ne=y(A);v(H,ee+0,P,ne),v(V,ee+2,O,ne),v(Q,ee+4,S,ne)}})(),function d(){for(let P=0;P<o.length;P+=6){let O=o[P+0],S=o[P+2],A=o[P+4],H=Math.max(O,S,A),V=Math.min(O,S,A);H>.9&&V<.1&&(O<.2&&(o[P+0]+=1),S<.2&&(o[P+2]+=1),A<.2&&(o[P+4]+=1))}}()}(),this.setAttribute("position",new On(r,3)),this.setAttribute("normal",new On(r.slice(),3)),this.setAttribute("uv",new On(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new c3(e.vertices,e.indices,e.radius,e.details)}},$V=class extends c3{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $V(e.radius,e.detail)}},GM=class extends HM{constructor(e){super(e),this.uuid=Md(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let i=e.holes[t];this.holes.push((new HM).fromJSON(i))}return this}};function QV(e,t,n,i,r){let o,s;if(r===function rPe(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}(e,t,n,i)>0)for(o=t;o<n;o+=i)s=JV(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=JV(o,e[o],e[o+1],s);return s&&WM(s,s.next)&&(__(s),s=s.next),s}function Vg(e,t){if(!e)return e;t||(t=e);let i,n=e;do{if(i=!1,n.steiner||!WM(n,n.next)&&0!==us(n.prev,n,n.next))n=n.next;else{if(__(n),n=t=n.prev,n===n.next)break;i=!0}}while(i||n!==t);return t}function y_(e,t,n,i,r,o,s){if(!e)return;!s&&o&&function ZMe(e,t,n,i){let r=e;do{0===r.z&&(r.z=d3(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function JMe(e){let t,n,i,r,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,i);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1)}(r)}(e,i,r,o);let l,c,a=e;for(;e.prev!==e.next;)if(l=e.prev,c=e.next,o?GMe(e,i,r,o):HMe(e))t.push(l.i/n|0),t.push(e.i/n|0),t.push(c.i/n|0),__(e),e=c.next,a=c.next;else if((e=c)===a){s?1===s?y_(e=WMe(Vg(e),t,n),t,n,i,r,o,2):2===s&&qMe(e,t,n,i,r,o):y_(Vg(e),t,n,i,r,o,1);break}}function HMe(e){let t=e.prev,n=e,i=e.next;if(us(t,n,i)>=0)return!1;let r=t.x,o=n.x,s=i.x,a=t.y,l=n.y,c=i.y,d=r<o?r<s?r:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,p=r>o?r>s?r:s:o>s?o:s,g=a>l?a>c?a:c:l>c?l:c,v=i.next;for(;v!==t;){if(v.x>=d&&v.x<=p&&v.y>=h&&v.y<=g&&a1(r,a,o,l,s,c,v.x,v.y)&&us(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function GMe(e,t,n,i){let r=e.prev,o=e,s=e.next;if(us(r,o,s)>=0)return!1;let a=r.x,l=o.x,c=s.x,d=r.y,h=o.y,p=s.y,g=a<l?a<c?a:c:l<c?l:c,v=d<h?d<p?d:p:h<p?h:p,y=a>l?a>c?a:c:l>c?l:c,b=d>h?d>p?d:p:h>p?h:p,P=d3(g,v,t,n,i),O=d3(y,b,t,n,i),S=e.prevZ,A=e.nextZ;for(;S&&S.z>=P&&A&&A.z<=O;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=b&&S!==r&&S!==s&&a1(a,d,l,h,c,p,S.x,S.y)&&us(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=g&&A.x<=y&&A.y>=v&&A.y<=b&&A!==r&&A!==s&&a1(a,d,l,h,c,p,A.x,A.y)&&us(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=P;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=b&&S!==r&&S!==s&&a1(a,d,l,h,c,p,S.x,S.y)&&us(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=O;){if(A.x>=g&&A.x<=y&&A.y>=v&&A.y<=b&&A!==r&&A!==s&&a1(a,d,l,h,c,p,A.x,A.y)&&us(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function WMe(e,t,n){let i=e;do{let r=i.prev,o=i.next.next;!WM(r,o)&&KV(r,i,i.next,o)&&b_(r,o)&&b_(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),__(i),__(i.next),i=e=o),i=i.next}while(i!==e);return Vg(i)}function qMe(e,t,n,i,r,o){let s=e;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&tPe(s,a)){let l=ZV(s,a);return s=Vg(s,s.next),l=Vg(l,l.next),y_(s,t,n,i,r,o,0),void y_(l,t,n,i,r,o,0)}a=a.next}s=s.next}while(s!==e)}function XMe(e,t){return e.x-t.x}function $Me(e,t){let n=function QMe(e,t){let r,n=t,i=-1/0,o=e.x,s=e.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){let p=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=o&&p>i&&(i=p,r=n.x<n.next.x?n:n.next,p===o))return r}n=n.next}while(n!==t);if(!r)return null;let h,a=r,l=r.x,c=r.y,d=1/0;n=r;do{o>=n.x&&n.x>=l&&o!==n.x&&a1(s<c?o:i,s,l,c,s<c?i:o,s,n.x,n.y)&&(h=Math.abs(s-n.y)/(o-n.x),b_(n,e)&&(h<d||h===d&&(n.x>r.x||n.x===r.x&&KMe(r,n)))&&(r=n,d=h)),n=n.next}while(n!==a);return r}(e,t);if(!n)return t;let i=ZV(n,e);return Vg(i,i.next),Vg(n,n.next)}function KMe(e,t){return us(e.prev,e,t.prev)<0&&us(t.next,e,e.next)<0}function d3(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ePe(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function a1(e,t,n,i,r,o,s,a){return(r-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(i-a)>=(n-s)*(t-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function tPe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function nPe(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&KV(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(b_(e,t)&&b_(t,e)&&function iPe(e,t){let n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(us(e.prev,e,t.prev)||us(e,t.prev,t))||WM(e,t)&&us(e.prev,e,e.next)>0&&us(t.prev,t,t.next)>0)}function us(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function WM(e,t){return e.x===t.x&&e.y===t.y}function KV(e,t,n,i){let r=YM(us(e,t,n)),o=YM(us(e,t,i)),s=YM(us(n,i,e)),a=YM(us(n,i,t));return!!(r!==o&&s!==a||0===r&&qM(e,n,t)||0===o&&qM(e,i,t)||0===s&&qM(n,e,i)||0===a&&qM(n,t,i))}function qM(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function YM(e){return e>0?1:e<0?-1:0}function b_(e,t){return us(e.prev,e,e.next)<0?us(e,t,e.next)>=0&&us(e,e.prev,t)>=0:us(e,t,e.prev)<0||us(e,e.next,t)<0}function ZV(e,t){let n=new h3(e.i,e.x,e.y),i=new h3(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function JV(e,t,n,i){let r=new h3(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function __(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function h3(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var eH=class{static area(e){let t=e.length,n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return eH.area(e)<0}static triangulateShape(e,t){let n=[],i=[],r=[];tH(e),nH(n,e);let o=e.length;t.forEach(tH);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,nH(n,t[a]);let s=function(e,t,n=2){let a,l,c,d,h,p,g,i=t&&t.length,r=i?t[0]*n:e.length,o=QV(e,0,r,n,!0),s=[];if(!o||o.next===o.prev)return s;if(i&&(o=function YMe(e,t,n,i){let o,s,a,l,c,r=[];for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=QV(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(ePe(c));for(r.sort(XMe),o=0;o<r.length;o++)n=$Me(r[o],n);return n}(e,t,o,n)),e.length>80*n){a=c=e[0],l=d=e[1];for(let v=n;v<r;v+=n)h=e[v],p=e[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>d&&(d=p);g=Math.max(c-a,d-l),g=0!==g?32767/g:0}return y_(o,s,n,a,l,g,0),s}(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function tH(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function nH(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var iH=class extends c3{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new iH(e.radius,e.detail)}},l1=class extends ii{constructor(e=1,t=32,n=16,i=0,r=2*Math.PI,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let a=Math.min(o+s,Math.PI),l=0,c=[],d=new ie,h=new ie,p=[],g=[],v=[],y=[];for(let b=0;b<=n;b++){let P=[],O=b/n,S=0;0==b&&0==o?S=.5/t:b==n&&a==Math.PI&&(S=-.5/t);for(let A=0;A<=t;A++){let H=A/t;d.x=-e*Math.cos(i+H*r)*Math.sin(o+O*s),d.y=e*Math.cos(o+O*s),d.z=e*Math.sin(i+H*r)*Math.sin(o+O*s),g.push(d.x,d.y,d.z),h.copy(d).normalize(),v.push(h.x,h.y,h.z),y.push(H+S,1-O),P.push(l++)}c.push(P)}for(let b=0;b<n;b++)for(let P=0;P<t;P++){let S=c[b][P],A=c[b+1][P],H=c[b+1][P+1];(0!==b||o>0)&&p.push(c[b][P+1],S,H),(b!==n-1||a<Math.PI)&&p.push(S,A,H)}this.setIndex(p),this.setAttribute("position",new On(g,3)),this.setAttribute("normal",new On(v,3)),this.setAttribute("uv",new On(y,2))}static fromJSON(e){return new l1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},rH=class extends ii{constructor(e=1,t=.4,n=12,i=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);let o=[],s=[],a=[],l=[],c=new ie,d=new ie,h=new ie;for(let p=0;p<=n;p++)for(let g=0;g<=i;g++){let v=g/i*r,y=p/n*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(v),d.y=(e+t*Math.cos(y))*Math.sin(v),d.z=t*Math.sin(y),s.push(d.x,d.y,d.z),c.x=e*Math.cos(v),c.y=e*Math.sin(v),h.subVectors(d,c).normalize(),a.push(h.x,h.y,h.z),l.push(g/i),l.push(p/n)}for(let p=1;p<=n;p++)for(let g=1;g<=i;g++){let y=(i+1)*(p-1)+g-1,b=(i+1)*(p-1)+g,P=(i+1)*p+g;o.push((i+1)*p+g-1,y,P),o.push(y,b,P)}this.setIndex(o),this.setAttribute("position",new On(s,3)),this.setAttribute("normal",new On(a,3)),this.setAttribute("uv",new On(l,2))}static fromJSON(e){return new rH(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},oH=class extends ii{constructor(e=1,t=.4,n=64,i=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},n=Math.floor(n),i=Math.floor(i);let s=[],a=[],l=[],c=[],d=new ie,h=new ie,p=new ie,g=new ie,v=new ie,y=new ie,b=new ie;for(let O=0;O<=n;++O){let S=O/n*r*Math.PI*2;P(S,r,o,e,p),P(S+.01,r,o,e,g),y.subVectors(g,p),b.addVectors(g,p),v.crossVectors(y,b),b.crossVectors(v,y),v.normalize(),b.normalize();for(let A=0;A<=i;++A){let H=A/i*Math.PI*2,V=-t*Math.cos(H),Q=t*Math.sin(H);d.x=p.x+(V*b.x+Q*v.x),d.y=p.y+(V*b.y+Q*v.y),d.z=p.z+(V*b.z+Q*v.z),a.push(d.x,d.y,d.z),h.subVectors(d,p).normalize(),l.push(h.x,h.y,h.z),c.push(O/n),c.push(A/i)}}for(let O=1;O<=n;O++)for(let S=1;S<=i;S++){let H=(i+1)*O+(S-1),V=(i+1)*O+S,Q=(i+1)*(O-1)+S;s.push((i+1)*(O-1)+(S-1),H,Q),s.push(H,V,Q)}function P(O,S,A,H,V){let Q=Math.cos(O),Y=Math.sin(O),ee=A/S*O,ne=Math.cos(ee);V.x=H*(2+ne)*.5*Q,V.y=H*(2+ne)*Y*.5,V.z=H*Math.sin(ee)*.5}this.setIndex(s),this.setAttribute("position",new On(a,3)),this.setAttribute("normal",new On(l,3)),this.setAttribute("uv",new On(c,2))}static fromJSON(e){return new oH(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function qf(e,t,n){return sH(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function XM(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function sH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oPe(e){let n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(function t(r,o){return e[r]-e[o]}),i}function aH(e,t,n){let i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){let a=n[o]*t;for(let l=0;l!==t;++l)r[s++]=e[a+l]}return r}function lH(e,t,n,i){let r=1,o=e[0];for(;void 0!==o&&void 0===o[i];)o=e[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(t.push(o.time),n.push(s)),o=e[r++]}while(void 0!==o)}var $M=class{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let s=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;{let s=t[1];e<s&&(n=2,r=s);for(let a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}}for(;n<o;){let s=n+o>>>1;e<t[s]?o=s:n=s+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},sPe=class extends $M{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Bv,endingEnd:Bv}}intervalChanged_(e,t,n){let i=this.parameterPositions,r=e-2,o=e+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case zv:r=e,s=2*t-n;break;case 2402:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case zv:o=e,a=2*n-t;break;case 2402:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}let l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,p=this._weightNext,g=(n-t)/(i-t),v=g*g,y=v*g,b=-h*y+2*h*v-h*g,P=(1+h)*y+(-1.5-2*h)*v+(-.5+h)*g+1,O=(-1-p)*y+(1.5+p)*v+.5*g,S=p*y-p*v;for(let A=0;A!==s;++A)r[A]=b*o[c+A]+P*o[l+A]+O*o[a+A]+S*o[d+A];return r}},cH=class extends $M{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),d=1-c;for(let h=0;h!==s;++h)r[h]=o[l+h]*d+o[a+h]*c;return r}},aPe=class extends $M{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}},du=class{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=XM(t,this.TimeBufferType),this.values=XM(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let n,t=e.constructor;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:XM(e.times,Array),values:XM(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new aPe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new cH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sPe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){let n=this.times,i=n.length,r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);let s=this.getValueSize();this.times=qf(n,r,o),this.values=qf(this.values,r*s,o*s)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){let a=n[s];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,a),e=!1;break}if(null!==o&&o>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,a,o),e=!1;break}o=a}if(void 0!==i&&sH(i))for(let s=0,a=i.length;s!==a;++s){let l=i[s];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,l),e=!1;break}}return e}optimize(){let e=qf(this.times),t=qf(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=e.length-1,o=1;for(let s=1;s<r;++s){let a=!1,l=e[s];if(l!==e[s+1]&&(1!==s||l!==e[0]))if(i)a=!0;else{let d=s*n,h=d-n,p=d+n;for(let g=0;g!==n;++g){let v=t[d+g];if(v!==t[h+g]||v!==t[p+g]){a=!0;break}}}if(a){if(s!==o){e[o]=e[s];let d=s*n,h=o*n;for(let p=0;p!==n;++p)t[h+p]=t[d+p]}++o}}if(r>0){e[o]=e[r];for(let s=r*n,a=o*n,l=0;l!==n;++l)t[a+l]=t[s+l];++o}return o!==e.length?(this.times=qf(e,0,o),this.values=qf(t,0,o*n)):(this.times=e,this.values=t),this}clone(){let e=qf(this.times,0),t=qf(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};du.prototype.TimeBufferType=Float32Array,du.prototype.ValueBufferType=Float32Array,du.prototype.DefaultInterpolation=2301;var c1=class extends du{};c1.prototype.ValueTypeName="bool",c1.prototype.ValueBufferType=Array,c1.prototype.DefaultInterpolation=2300,c1.prototype.InterpolantFactoryMethodLinear=void 0,c1.prototype.InterpolantFactoryMethodSmooth=void 0;var dH=class extends du{};dH.prototype.ValueTypeName="color";var QM=class extends du{};QM.prototype.ValueTypeName="number";var lPe=class extends $M{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t),l=e*s;for(let c=l+s;l!==c;l+=4)Ri.slerpFlat(r,0,o,l-s,o,l,a);return r}},x_=class extends du{InterpolantFactoryMethodLinear(e){return new lPe(this.times,this.values,this.getValueSize(),e)}};x_.prototype.ValueTypeName="quaternion",x_.prototype.DefaultInterpolation=2301,x_.prototype.InterpolantFactoryMethodSmooth=void 0;var d1=class extends du{};d1.prototype.ValueTypeName="string",d1.prototype.ValueBufferType=Array,d1.prototype.DefaultInterpolation=2300,d1.prototype.InterpolantFactoryMethodLinear=void 0,d1.prototype.InterpolantFactoryMethodSmooth=void 0;var KM=class extends du{};KM.prototype.ValueTypeName="vector";var u3=class{constructor(e,t=-1,n,i=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Md(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(dPe(n[o]).scale(i));let r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){let t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(du.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){let r=t.length,o=[];for(let s=0;s<r;s++){let a=[],l=[];a.push((s+r-1)%r,s,(s+1)%r),l.push(0,1,0);let c=oPe(a);a=aH(a,1,c),l=aH(l,1,c),!i&&0===a[0]&&(a.push(r),l.push(l[0])),o.push(new QM(".morphTargetInfluences["+t[s].name+"]",a,l).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.name.match(r);if(c&&c.length>1){let d=c[1],h=i[d];h||(i[d]=h=[]),h.push(l)}}let o=[];for(let s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=function(c,d,h,p,g){if(0!==h.length){let v=[],y=[];lH(h,v,y,p),0!==v.length&&g.push(new c(d,v,y))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode,a=e.length||-1,l=e.hierarchy||[];for(let c=0;c<l.length;c++){let d=l[c].keys;if(d&&0!==d.length)if(d[0].morphTargets){let p,h={};for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let g=0;g<d[p].morphTargets.length;g++)h[d[p].morphTargets[g]]=-1;for(let g in h){let v=[],y=[];for(let b=0;b!==d[p].morphTargets.length;++b){let P=d[p];v.push(P.time),y.push(P.morphTarget===g?1:0)}i.push(new QM(".morphTargetInfluence["+g+"]",v,y))}a=h.length*o}else{let h=".bones["+t[c].name+"]";n(KM,h+".position",d,"pos",i),n(x_,h+".quaternion",d,"rot",i),n(KM,h+".scale",d,"scl",i)}}return 0===i.length?null:new this(r,a,i,s)}resetDuration(){let t=0;for(let n=0,i=this.tracks.length;n!==i;++n){let r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function dPe(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=function cPe(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return QM;case"vector":case"vector2":case"vector3":case"vector4":return KM;case"color":return dH;case"quaternion":return x_;case"bool":case"boolean":return c1;case"string":return d1}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){let n=[],i=[];lH(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var ZM={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},hH=class{constructor(e,t,n){let a,i=this,r=!1,o=0,s=0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){s++,!1===r&&void 0!==i.onStart&&i.onStart(c,o,s),r=!0},this.itemEnd=function(c){o++,void 0!==i.onProgress&&i.onProgress(c,o,s),o===s&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(c){void 0!==i.onError&&i.onError(c)},this.resolveURL=function(c){return a?a(c):c},this.setURLModifier=function(c){return a=c,this},this.addHandler=function(c,d){return l.push(c,d),this},this.removeHandler=function(c){let d=l.indexOf(c);return-1!==d&&l.splice(d,2),this},this.getHandler=function(c){for(let d=0,h=l.length;d<h;d+=2){let p=l[d],g=l[d+1];if(p.global&&(p.lastIndex=0),p.test(c))return g}return null}}},hPe=new hH,w_=class{constructor(e){this.manager=void 0!==e?e:hPe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Ep={},uPe=class extends Error{constructor(e,t){super(e),this.response=t}},p3=class extends w_{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let r=ZM.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==Ep[e])return void Ep[e].push({onLoad:t,onProgress:n,onError:i});Ep[e]=[],Ep[e].push({onLoad:t,onProgress:n,onError:i});let o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;let c=Ep[e],d=l.body.getReader(),h=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),p=h?parseInt(h):0,g=0!==p,v=0,y=new ReadableStream({start(b){!function P(){d.read().then(({done:O,value:S})=>{if(O)b.close();else{v+=S.byteLength;let A=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:p});for(let H=0,V=c.length;H<V;H++){let Q=c[H];Q.onProgress&&Q.onProgress(A)}b.enqueue(S),P()}})}()}});return new Response(y)}throw new uPe(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(a){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>(new DOMParser).parseFromString(c,s));case"json":return l.json();default:if(void 0===s)return l.text();{let c=/charset="?([^;"\s]*)"?/i.exec(s),d=c&&c[1]?c[1].toLowerCase():void 0,h=new TextDecoder(d);return l.arrayBuffer().then(p=>h.decode(p))}}}).then(l=>{ZM.add(e,l);let c=Ep[e];delete Ep[e];for(let d=0,h=c.length;d<h;d++){let p=c[d];p.onLoad&&p.onLoad(l)}}).catch(l=>{let c=Ep[e];if(void 0===c)throw this.manager.itemError(e),l;delete Ep[e];for(let d=0,h=c.length;d<h;d++){let p=c[d];p.onError&&p.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},pPe=class extends w_{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let r=this,o=ZM.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;let s=i_("img");function a(){c(),ZM.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(d){c(),i&&i(d),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}},fPe=class extends w_{constructor(e){super(e)}load(e,t,n,i){let r=new ds,o=new pPe(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){r.image=s,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r}},C_=class extends uo{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new gi(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}},mPe=class extends C_{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(uo.DEFAULT_UP),this.updateMatrix(),this.groundColor=new gi(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},f3=new Kt,uH=new ie,pH=new ie,m3=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Kt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new WT,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new ki(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;uH.setFromMatrixPosition(e.matrixWorld),t.position.copy(uH),pH.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(pH),t.updateMatrixWorld(),f3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(f3),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(f3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){let e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},gPe=class extends m3{constructor(){super(new wl(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,n=2*t_*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},vPe=class extends C_{constructor(e,t,n=0,i=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(uo.DEFAULT_UP),this.updateMatrix(),this.target=new uo,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new gPe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},fH=new Kt,M_=new ie,g3=new ie,yPe=class extends m3{constructor(){super(new wl(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new qe(4,2),this._viewportCount=6,this._viewports=[new ki(2,1,1,1),new ki(0,1,1,1),new ki(3,1,1,1),new ki(1,1,1,1),new ki(3,0,1,1),new ki(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),M_.setFromMatrixPosition(e.matrixWorld),n.position.copy(M_),g3.copy(n.position),g3.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(g3),n.updateMatrixWorld(),i.makeTranslation(-M_.x,-M_.y,-M_.z),fH.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fH)}},bPe=class extends C_{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new yPe}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},_Pe=class extends m3{constructor(){super(new kM(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},xPe=class extends C_{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(uo.DEFAULT_UP),this.updateMatrix(),this.target=new uo,this.shadow=new _Pe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},mH=class extends ii{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},gH=class extends w_{constructor(e){super(e)}load(e,t,n,i){let r=this,o=new p3(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)}parse(e){let t={},n={};function i(h,p){if(void 0!==t[p])return t[p];let g=h.interleavedBuffers[p],v=function r(h,p){if(void 0!==n[p])return n[p];let v=new Uint32Array(h.arrayBuffers[p]).buffer;return n[p]=v,v}(h,g.buffer),y=fM(g.type,v),b=new PMe(y,g.stride);return b.uuid=g.uuid,t[p]=b,b}let o=e.isInstancedBufferGeometry?new mH:new ii,s=e.data.index;if(void 0!==s){let h=fM(s.type,s.array);o.setIndex(new Mi(h,1))}let a=e.data.attributes;for(let h in a){let g,p=a[h];if(p.isInterleavedBufferAttribute){let v=i(e.data,p.data);g=new ZT(v,p.itemSize,p.offset,p.normalized)}else{let v=fM(p.type,p.array);g=new(p.isInstancedBufferAttribute?p_:Mi)(v,p.itemSize,p.normalized)}void 0!==p.name&&(g.name=p.name),void 0!==p.usage&&g.setUsage(p.usage),void 0!==p.updateRange&&(g.updateRange.offset=p.updateRange.offset,g.updateRange.count=p.updateRange.count),o.setAttribute(h,g)}let l=e.data.morphAttributes;if(l)for(let h in l){let p=l[h],g=[];for(let v=0,y=p.length;v<y;v++){let P,b=p[v];if(b.isInterleavedBufferAttribute){let O=i(e.data,b.data);P=new ZT(O,b.itemSize,b.offset,b.normalized)}else{let O=fM(b.type,b.array);P=new Mi(O,b.itemSize,b.normalized)}void 0!==b.name&&(P.name=b.name),g.push(P)}o.morphAttributes[h]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);let c=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==c)for(let h=0,p=c.length;h!==p;++h){let g=c[h];o.addGroup(g.start,g.count,g.materialIndex)}let d=e.data.boundingSphere;if(void 0!==d){let h=new ie;void 0!==d.center&&h.fromArray(d.center),o.boundingSphere=new gc(h,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}};function vH(){return(typeof performance>"u"?Date:performance).now()}var CPe=class{constructor(e,t,n){let i,r,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,i=this.valueSize,r=e*i+i,o=this.cumulativeWeight;if(0===o){for(let s=0;s!==i;++s)n[r+s]=n[s];o=t}else o+=t,this._mixBufferRegion(n,r,0,t/o,i);this.cumulativeWeight=o}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,t*this._origIndex,1-r,t),o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}}saveOriginalState(){let t=this.buffer,n=this.valueSize,i=n*this._origIndex;this.binding.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){Ri.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){let o=this._workIndex*r;Ri.multiplyQuaternionsFlat(e,o,e,t,e,n),Ri.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,r){let o=1-i;for(let s=0;s!==r;++s){let a=t+s;e[a]=e[a]*o+e[n+s]*i}}_lerpAdditive(e,t,n,i,r){for(let o=0;o!==r;++o){let s=t+o;e[s]=e[s]+e[n+o]*i}}},v3="\\[\\]\\.:\\/",MPe=new RegExp("["+v3+"]","g"),y3="[^"+v3+"]",PPe="[^"+v3.replace("\\.","")+"]",OPe=/((?:WC+[\/:])*)/.source.replace("WC",y3),SPe=/(WCOD+)?/.source.replace("WCOD",PPe),EPe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",y3),DPe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",y3),APe=new RegExp("^"+OPe+SPe+EPe+DPe+"$"),TPe=["material","materials","bones","map"],To=class{constructor(e,t,n){this.path=t,this.parsedPath=n||To.parseTrackName(t),this.node=To.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new To.Composite(e,t,n):new To(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(MPe,"")}static parseTrackName(e){let t=APe.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){let r=n.nodeName.substring(i+1);-1!==TPe.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){let n=function(r){for(let o=0;o<r.length;o++){let s=r[o];if(s.name===t||s.uuid===t)return s;let a=n(s.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=To.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==l){if(void 0===e[l])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[l]}}let o=e[i];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e);let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};To.Composite=class{constructor(e,t,n){let i=n||To.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},To.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},To.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},To.prototype.GetterByBindingType=[To.prototype._getValue_direct,To.prototype._getValue_array,To.prototype._getValue_arrayElement,To.prototype._getValue_toArray],To.prototype.SetterByBindingTypeAndVersioning=[[To.prototype._setValue_direct,To.prototype._setValue_direct_setNeedsUpdate,To.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[To.prototype._setValue_array,To.prototype._setValue_array_setNeedsUpdate,To.prototype._setValue_array_setMatrixWorldNeedsUpdate],[To.prototype._setValue_arrayElement,To.prototype._setValue_arrayElement_setNeedsUpdate,To.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[To.prototype._setValue_fromArray,To.prototype._setValue_fromArray_setNeedsUpdate,To.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var RPe=new Float32Array(1),NPe=class extends el{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName,c=l[a];void 0===c&&(c={},l[a]=c);for(let d=0;d!==r;++d){let h=i[d],p=h.name,g=c[p];if(void 0!==g)++g.referenceCount,o[d]=g;else{if(g=o[d],void 0!==g){null===g._cacheIndex&&(++g.referenceCount,this._addInactiveBinding(g,a,p));continue}g=new CPe(To.create(n,p,t&&t._propertyBindings[d].binding.parsedPath),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,a,p),o[d]=g}s[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){let n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){let i=this._actions,r=this._actionsByClip,o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{let s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;let r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null,delete s.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){let i=this._bindingsByRootAndName,r=this._bindings,o=i[t];void 0===o&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new cH(new Float32Array(2),new Float32Array(2),1,RPe),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){let i=t||this._root,r=i.uuid,o="string"==typeof e?u3.findByName(i,e):e,s=null!==o?o.uuid:e,a=this._actionsByClip[s],l=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==a){let d=a.actionByRoot[r];if(void 0!==d&&d.blendMode===n)return d;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;let c=new class{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;let r=t.tracks,o=r.length,s=new Array(o),a={endingStart:Bv,endingEnd:Bv};for(let l=0;l!==o;++l){let c=r[l].createInterpolant(null);s[l]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){let i=this._clip.duration,r=e._clip.duration,s=i/r;e.warp(1,r/i,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let i=this._mixer,r=i.time,o=this.timeScale,s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);let a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);let r=this._startTime;if(null!==r){let a=(e-r)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);let o=this._updateTime(t),s=this._updateWeight(e);if(s>0){let a=this._interpolants,l=this._propertyBindings;if(2501===this.blendMode)for(let c=0,d=a.length;c!==d;++c)a[c].evaluate(o),l[c].accumulateAdditive(s);else for(let c=0,d=a.length;c!==d;++c)a[c].evaluate(o),l[c].accumulate(i,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(null!==n){let i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,i=this.time+e,r=this._loopCount,o=n===mT;if(0===e)return-1===r?i:o&&1==(1&r)?t-i:i;if(n===Fj){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<0){let s=Math.floor(i/t);i-=t*s,r+=Math.abs(s);let a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){let l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&1==(1&r))return t-i}return i}_setEndings(e,t,n){let i=this._interpolantSettings;n?(i.endingStart=zv,i.endingEnd=zv):(i.endingStart=e?this.zeroSlopeAtStart?zv:Bv:2402,i.endingEnd=t?this.zeroSlopeAtEnd?zv:Bv:2402)}_scheduleFading(e,t,n){let i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);let s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=n,this}}(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c}existingAction(e,t){let n=t||this._root,i=n.uuid,r="string"==typeof e?u3.findByName(n,e):e,s=this._actionsByClip[r?r.uuid:e];return void 0!==s&&s.actionByRoot[i]||null}stopAllAction(){let e=this._actions;for(let n=this._nActiveActions-1;n>=0;--n)e[n].stop();return this}update(e){let t=this._actions,n=this._nActiveActions,i=this.time+=e*=this.timeScale,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,o);let s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){let o=r.knownActions;for(let s=0,a=o.length;s!==a;++s){let l=o[s];this._deactivateAction(l);let c=l._cacheIndex,d=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,d._cacheIndex=c,t[c]=d,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let o in n){let a=n[o].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}let r=this._bindingsByRootAndName[t];if(void 0!==r)for(let o in r){let s=r[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){let n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},jt=class{constructor(e){this.value=e}clone(){return new jt(void 0===this.value.clone?this.value:this.value.clone())}},yH=class{constructor(e,t,n=0,i=1/0){this.ray=new Gv(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new RT,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return b3(e,this,n,t),n.sort(bH),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)b3(e[i],this,n,t);return n.sort(bH),n}};function bH(e,t){return e.distance-t.distance}function b3(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){let r=e.children;for(let o=0,s=r.length;o<s;o++)b3(r[o],t,n,!0)}}var _H=class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Xs(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},xH=new qe,wH=class{constructor(e=new qe(1/0,1/0),t=new qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=xH.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return xH.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},CH=new ie,JM=new ie,Sd=class{constructor(e=new ie,t=new ie){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){CH.subVectors(e,this.start),JM.subVectors(this.end,this.start);let n=JM.dot(JM),i=JM.dot(CH)/n;return t&&(i=Xs(i,0,1)),i}closestPointToPoint(e,t,n){let i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},MH=new ie,LPe=class extends uo{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let n=new ii,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){let l=o/a*Math.PI*2,c=s/a*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new On(i,3));let r=new Gf({fog:!1,toneMapped:!1});this.cone=new m_(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),MH.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(MH),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},FPe=class extends hs{constructor(e,t,n){super(new l1(t,4,2),new Pp({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},PH=new ie,eP=new ie,OH=new ie,BPe=class extends uo{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new ii;i.setAttribute("position",new On([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let r=new Gf({fog:!1,toneMapped:!1});this.lightPlane=new zM(i,r),this.add(this.lightPlane),i=new ii,i.setAttribute("position",new On([0,0,0,0,0,1],3)),this.targetLine=new zM(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),PH.setFromMatrixPosition(this.light.matrixWorld),eP.setFromMatrixPosition(this.light.target.matrixWorld),OH.subVectors(eP,PH),this.lightPlane.lookAt(eP),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(eP),this.targetLine.scale.z=OH.length()}},tP=new ie,bs=new zg,nP=class extends m_{constructor(e){let t=new ii,n=new Gf({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={};function s(g,v){a(g),a(v)}function a(g){i.push(0,0,0),r.push(0,0,0),void 0===o[g]&&(o[g]=[]),o[g].push(i.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new On(i,3)),t.setAttribute("color",new On(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();let l=new gi(16755200),c=new gi(16711680),d=new gi(43775),h=new gi(16777215),p=new gi(3355443);this.setColors(l,c,d,h,p)}setColors(e,t,n,i,r){let o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,r.r,r.g,r.b),o.setXYZ(41,r.r,r.g,r.b),o.setXYZ(42,r.r,r.g,r.b),o.setXYZ(43,r.r,r.g,r.b),o.setXYZ(44,r.r,r.g,r.b),o.setXYZ(45,r.r,r.g,r.b),o.setXYZ(46,r.r,r.g,r.b),o.setXYZ(47,r.r,r.g,r.b),o.setXYZ(48,r.r,r.g,r.b),o.setXYZ(49,r.r,r.g,r.b),o.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap;bs.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ts("c",t,e,bs,0,0,-1),Ts("t",t,e,bs,0,0,1),Ts("n1",t,e,bs,-1,-1,-1),Ts("n2",t,e,bs,1,-1,-1),Ts("n3",t,e,bs,-1,1,-1),Ts("n4",t,e,bs,1,1,-1),Ts("f1",t,e,bs,-1,-1,1),Ts("f2",t,e,bs,1,-1,1),Ts("f3",t,e,bs,-1,1,1),Ts("f4",t,e,bs,1,1,1),Ts("u1",t,e,bs,.7,1.1,-1),Ts("u2",t,e,bs,-.7,1.1,-1),Ts("u3",t,e,bs,0,2,-1),Ts("cf1",t,e,bs,-1,0,1),Ts("cf2",t,e,bs,1,0,1),Ts("cf3",t,e,bs,0,-1,1),Ts("cf4",t,e,bs,0,1,1),Ts("cn1",t,e,bs,-1,0,-1),Ts("cn2",t,e,bs,1,0,-1),Ts("cn3",t,e,bs,0,-1,-1),Ts("cn4",t,e,bs,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Ts(e,t,n,i,r,o,s){tP.set(r,o,s).unproject(i);let a=t[e];if(void 0!==a){let l=n.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],tP.x,tP.y,tP.z)}}var iP=class extends m_{constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new ii;r.setIndex(new Mi(n,1)),r.setAttribute("position",new On([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new Gf({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},zPe=class extends m_{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=new ii;i.setAttribute("position",new On(t,3)),i.setAttribute("color",new On([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(i,new Gf({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){let i=new gi,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},Dp=function UPe(){let e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){let c=l-127;c<-27?(i[l]=0,i[256|l]=32768,r[l]=24,r[256|l]=24):c<-14?(i[l]=1024>>-c-14,i[256|l]=1024>>-c-14|32768,r[l]=-c-1,r[256|l]=-c-1):c<=15?(i[l]=c+15<<10,i[256|l]=c+15<<10|32768,r[l]=13,r[256|l]=13):c<128?(i[l]=31744,i[256|l]=64512,r[l]=24,r[256|l]=24):(i[l]=31744,i[256|l]=64512,r[l]=13,r[256|l]=13)}let o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(8388608&c);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,o[l]=c|d}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:s,offsetTable:a}}(),HPe=Object.freeze({__proto__:null,fromHalfFloat:function VPe(e){let t=e>>10;return Dp.uint32View[0]=Dp.mantissaTable[Dp.offsetTable[t]+(1023&e)]+Dp.exponentTable[t],Dp.floatView[0]},toHalfFloat:function jPe(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Xs(e,-65504,65504),Dp.floatView[0]=e;let t=Dp.uint32View[0],n=t>>23&511;return Dp.baseTable[n]+((8388607&t)>>Dp.shiftTable[n])}});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Nv}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Nv);var _3=Symbol("target"),SH=Symbol("unsubscribe");function x3(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}var hu=Array.isArray;function w3(e){return"symbol"==typeof e}var WPe={after:(e,t)=>hu(e)?e.slice(t.length):""===t?e:e.slice(t.length+1),concat:(e,t)=>hu(e)?(e=[...e],t&&e.push(t),e):t&&void 0!==t.toString?(""!==e&&(e+="."),w3(t)?e+t.toString():e+t):e,initial:e=>{if(hu(e))return e.slice(0,-1);if(""===e)return e;let t=e.lastIndexOf(".");return-1===t?"":e.slice(0,t)},last:e=>{if(hu(e))return e[e.length-1]||"";if(""===e)return e;let t=e.lastIndexOf(".");return-1===t?e:e.slice(t+1)},walk:(e,t)=>{if(hu(e))for(let n of e)t(n);else if(""!==e){let n=0,i=e.indexOf(".");if(-1===i)t(e);else for(;n<e.length;)-1===i&&(i=e.length),t(e.slice(n,i)),n=i+1,i=e.indexOf(".",n)}},get(e,t){return this.walk(t,n=>{e&&(e=e[n])}),e}},Ed=WPe;function EH(e,t,n){return e.isUnsubscribed||t.ignoreSymbols&&w3(n)||t.ignoreUnderscores&&"_"===n.charAt(0)||"ignoreKeys"in t&&t.ignoreKeys.includes(n)}function C3(e){return"[object Object]"===toString.call(e)}function rP(){return!0}function h1(e,t){return e.length!==t.length||e.some((n,i)=>t[i]!==n)}var DH=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),$Pe=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),AH={push:rP,pop:rP,shift:rP,unshift:rP,copyWithin:h1,reverse:h1,sort:h1,splice:h1,flat:h1,fill:h1},QPe=new Set([...DH,...$Pe,...Object.keys(AH)]);function oP(e,t){if(e.size!==t.size)return!0;for(let n of e)if(!t.has(n))return!0;return!1}var TH=["keys","values","entries"],IH=new Set(["has","toString"]),kH={add:oP,clear:oP,delete:oP,forEach:oP},KPe=new Set([...IH,...Object.keys(kH),...TH]);function sP(e,t){if(e.size!==t.size)return!0;let n;for(let[i,r]of e)if(n=t.get(i),n!==r||void 0===n&&!t.has(i))return!0;return!1}var ZPe=new Set([...IH,"get"]),RH={set:sP,clear:sP,delete:sP,forEach:sP},JPe=new Set([...ZPe,...Object.keys(RH),...TH]),Yf=class{constructor(e,t,n,i){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=i,this._changes=i?[]:null,this.clone=void 0===t?e:this._shallowClone(e)}static isHandledMethod(e){return DH.has(e)}_shallowClone(e){let t=e;if(C3(e))t={...e};else if(hu(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(n=>this._shallowClone(n)));else if(e instanceof Map){t=new Map;for(let[n,i]of e.entries())t.set(n,this._shallowClone(i))}return this._clonedCache.add(t),t}preferredThisArg(e,t,n,i){return e?(hu(i)?this._onIsChanged=AH[t]:i instanceof Set?this._onIsChanged=kH[t]:i instanceof Map&&(this._onIsChanged=RH[t]),i):n}update(e,t,n){let i=Ed.after(e,this._path);if("length"!==t){let r=this.clone;Ed.walk(i,o=>{r&&r[o]&&(this._clonedCache.has(r[o])||(r[o]=this._shallowClone(r[o])),r=r[o])}),this._hasOnValidate&&this._changes.push({path:i,property:t,previous:n}),r&&r[t]&&(r[t]=n)}this._isChanged=!0}undo(e){let t;for(let n=this._changes.length-1;-1!==n;n--)t=this._changes[n],Ed.get(e,t.path)[t.property]=t.previous}isChanged(e){return void 0===this._onIsChanged?this._isChanged:this._onIsChanged(this.clone,e)}},NH=class extends Yf{static isHandledMethod(e){return QPe.has(e)}},e2e=class extends Yf{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},LH=class extends Yf{static isHandledMethod(e){return KPe.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},FH=class extends Yf{static isHandledMethod(e){return JPe.has(e)}undo(e){for(let[t,n]of this.clone.entries())e.set(t,n);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},t2e=class extends Yf{constructor(e,t,n,i){super(void 0,t,n,i),this._arg1=n[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},n2e=class extends Yf{constructor(e,t,n,i){super(void 0,t,n,i),this._weakKey=n[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},u1=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return C3(e)||hu(e)||x3(e)}static isHandledMethod(e,t){return C3(e)?Yf.isHandledMethod(t):hu(e)?NH.isHandledMethod(t):e instanceof Set?LH.isHandledMethod(t):e instanceof Map?FH.isHandledMethod(t):x3(e)}get isCloning(){return this._stack.length>0}start(e,t,n){let i=Yf;hu(e)?i=NH:e instanceof Date?i=e2e:e instanceof Set?i=LH:e instanceof Map?i=FH:e instanceof WeakSet?i=t2e:e instanceof WeakMap&&(i=n2e),this._stack.push(new i(e,t,n,this._hasOnValidate))}update(e,t,n){this._stack[this._stack.length-1].update(e,t,n)}preferredThisArg(e,t,n){let{name:i}=e,r=u1.isHandledMethod(n,i);return this._stack[this._stack.length-1].preferredThisArg(r,i,t,n)}isChanged(e,t,n){return this._stack[this._stack.length-1].isChanged(e,t,n)}undo(e){void 0!==this._previousClone&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},i2e={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},M3=(e,t,n={})=>{n={...i2e,...n};let i=Symbol("ProxyTarget"),{equals:r,isShallow:o,ignoreDetached:s,details:a}=n,l=new class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return void 0===this._descriptorCache&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let n=this._getProperties(e),i=n[t];return void 0===i&&(i=Reflect.getOwnPropertyDescriptor(e,t),n[t]=i),i}getProxy(e,t,n,i){if(this.isUnsubscribed)return e;let r=e[i],o=r||e;this._pathCache.set(o,t);let s=this._proxyCache.get(o);return void 0===s&&(s=void 0===r?new Proxy(e,n):e,this._proxyCache.set(o,s)),s}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,Ed.get(t,this.getPath(e)))}defineProperty(e,t,n){return!!Reflect.defineProperty(e,t,n)&&(this.isUnsubscribed||(this._getProperties(e)[t]=n),!0)}setProperty(e,t,n,i,r){if(!this._equals(r,n)||!(t in e)){let o=this._getOwnPropertyDescriptor(e,t);return void 0!==o&&"set"in o?Reflect.set(e,t,n,i):Reflect.set(e,t,n)}return!0}deleteProperty(e,t,n){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let i=this._getDescriptorCache().get(e);i&&(delete i[t],this._pathCache.delete(n))}return!0}return!1}isSameDescriptor(e,t,n){let i=this._getOwnPropertyDescriptor(t,n);return void 0!==e&&void 0!==i&&Object.is(e.value,i.value)&&(e.writable||!1)===(i.writable||!1)&&(e.enumerable||!1)===(i.enumerable||!1)&&(e.configurable||!1)===(i.configurable||!1)&&e.get===i.get&&e.set===i.set}isGetInvariant(e,t){let n=this._getOwnPropertyDescriptor(e,t);return void 0!==n&&!0!==n.configurable&&!0!==n.writable}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}}(r),c="function"==typeof n.onValidate,d=new u1(c),h=(O,S,A,H,V)=>!c||d.isCloning||!0===n.onValidate(Ed.concat(l.getPath(O),S),A,H,V),p=(O,S,A,H)=>{!EH(l,n,S)&&(!s||!l.isDetached(O,e))&&g(l.getPath(O),S,A,H)},g=(O,S,A,H,V)=>{d.isCloning?d.update(O,S,H):t(Ed.concat(O,S),A,H,V)},v=O=>O&&(O[i]||O),y=(O,S,A,H)=>function GPe(e){return("object"==typeof e?null===e:"function"!=typeof e)||e instanceof RegExp}(O)||"constructor"===A||o&&!u1.isHandledMethod(S,A)||EH(l,n,A)||l.isGetInvariant(S,A)||s&&l.isDetached(S,e)?O:(void 0===H&&(H=l.getPath(S)),l.getProxy(O,Ed.concat(H,A),b,i)),b={get(O,S,A){if(w3(S)){if(S===i||S===_3)return O;if(S===SH&&!l.isUnsubscribed&&0===l.getPath(O).length)return l.unsubscribe(),O}let H=x3(O)?Reflect.get(O,S):Reflect.get(O,S,A);return y(H,O,S)},set(O,S,A,H){A=v(A);let V=O[i]||O,Q=V[S];if(r(Q,A)&&S in O)return!0;let Y=h(O,S,A,Q);return Y&&l.setProperty(V,S,A,H,Q)?(p(O,S,O[S],Q),!0):!Y},defineProperty(O,S,A){if(!l.isSameDescriptor(A,O,S)){let H=O[S];h(O,S,A.value,H)&&l.defineProperty(O,S,A,H)&&p(O,S,A.value,H)}return!0},deleteProperty(O,S){if(!Reflect.has(O,S))return!0;let A=Reflect.get(O,S),H=h(O,S,void 0,A);return H&&l.deleteProperty(O,S,A)?(p(O,S,void 0,A),!0):!H},apply(O,S,A){let H=S[i]||S;if(l.isUnsubscribed)return Reflect.apply(O,H,A);if((!1===a||!0!==a&&!a.includes(O.name))&&u1.isHandledType(H)){let V=Ed.initial(l.getPath(O)),Q=u1.isHandledMethod(H,O.name);d.start(H,V,A);let Y=Reflect.apply(O,d.preferredThisArg(O,S,H),Q?A.map(ae=>v(ae)):A),ee=d.isChanged(H,r),ne=d.stop();if(u1.isHandledType(Y)&&Q&&(S instanceof Map&&"get"===O.name&&(V=Ed.concat(V,A[0])),Y=l.getProxy(Y,V,b)),ee){let ae={name:O.name,args:A,result:Y},pe=d.isCloning?Ed.initial(V):V,fe=d.isCloning?Ed.last(V):"";h(Ed.get(e,pe),fe,H,ne,ae)?g(pe,fe,H,ne,ae):d.undo(H)}return(S instanceof Map||S instanceof Set)&&function qPe(e){return"object"==typeof e&&"function"==typeof e.next}(Y)?function YPe(e,t,n,i,r){let o=e.next;if("entries"===t.name)e.next=function(){let s=o.call(this);return!1===s.done&&(s.value[0]=r(s.value[0],t,s.value[0],i),s.value[1]=r(s.value[1],t,s.value[0],i)),s};else if("values"===t.name){let s=n[_3].keys();e.next=function(){let a=o.call(this);return!1===a.done&&(a.value=r(a.value,t,s.next().value,i)),a}}else e.next=function(){let s=o.call(this);return!1===s.done&&(s.value=r(s.value,t,s.value,i)),s};return e}(Y,O,S,V,y):Y}return Reflect.apply(O,S,A)}},P=l.getProxy(e,n.pathAsArray?[]:"",b);return t=t.bind(P),c&&(n.onValidate=n.onValidate.bind(P)),P};M3.target=e=>e&&e[_3]||e,M3.unsubscribe=e=>e[SH]||e;var e,BH=M3,zH="object"==typeof global&&global&&global.Object===Object&&global,o2e="object"==typeof self&&self&&self.Object===Object&&self,ph=zH||o2e||Function("return this")(),Dd=ph.Symbol,UH=Object.prototype,l2e=UH.hasOwnProperty,c2e=UH.toString,O_=Dd?Dd.toStringTag:void 0,p2e=Object.prototype.toString,jH=Dd?Dd.toStringTag:void 0,Hg=function y2e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jH&&jH in Object(e)?function d2e(e){var t=l2e.call(e,O_),n=e[O_];try{e[O_]=void 0;var i=!0}catch{}var r=c2e.call(e);return i&&(t?e[O_]=n:delete e[O_]),r}(e):function f2e(e){return p2e.call(e)}(e)},Ap=function b2e(e){return null!=e&&"object"==typeof e},S_=function x2e(e){return"symbol"==typeof e||Ap(e)&&"[object Symbol]"==Hg(e)},VH=function w2e(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},uu=Array.isArray,HH=Dd?Dd.prototype:void 0,GH=HH?HH.toString:void 0,P2e=function WH(e){if("string"==typeof e)return e;if(uu(e))return VH(e,WH)+"";if(S_(e))return GH?GH.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},O2e=/\s/,D2e=/^\s+/,T2e=function A2e(e){return e&&e.slice(0,function S2e(e){for(var t=e.length;t--&&O2e.test(e.charAt(t)););return t}(e)+1).replace(D2e,"")},fh=function I2e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},k2e=/^[-+]0x[0-9a-f]+$/i,R2e=/^0b[01]+$/i,N2e=/^0o[0-7]+$/i,L2e=parseInt,YH=function F2e(e){if("number"==typeof e)return e;if(S_(e))return NaN;if(fh(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=fh(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=T2e(e);var n=R2e.test(e);return n||N2e.test(e)?L2e(e.slice(2),n?2:8):k2e.test(e)?NaN:+e},XH=function B2e(e){return e},$H=function H2e(e){if(!fh(e))return!1;var t=Hg(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},G2e=ph["__core-js_shared__"],QH=(e=/[^.]+$/.exec(G2e&&G2e.keys&&G2e.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",X2e=Function.prototype.toString,Gg=function $2e(e){if(null!=e){try{return X2e.call(e)}catch{}try{return e+""}catch{}}return""},K2e=/^\[object .+?Constructor\]$/,nOe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rOe=function iOe(e){return!(!fh(e)||function W2e(e){return!!QH&&QH in e}(e))&&($H(e)?nOe:K2e).test(Gg(e))},Wg=function aOe(e,t){var n=function oOe(e,t){return e?.[t]}(e,t);return rOe(n)?n:void 0},O3=Wg(ph,"WeakMap"),KH=Object.create,cOe=function(){function e(){}return function(t){if(!fh(t))return{};if(KH)return KH(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),dOe=cOe,uOe=function hOe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},mOe=800,gOe=16,vOe=Date.now,xOe=function _Oe(e){return function(){return e}},wOe=function(){try{var e=Wg(Object,"defineProperty");return e({},"",{}),e}catch{}}(),aP=wOe,COe=aP?function(e,t){return aP(e,"toString",{configurable:!0,enumerable:!1,value:xOe(t),writable:!0})}:XH,OOe=function yOe(e){var t=0,n=0;return function(){var i=vOe(),r=gOe-(i-n);if(n=i,r>0){if(++t>=mOe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(COe),AOe=/^(?:0|[1-9]\d*)$/,S3=function TOe(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&("number"==n||"symbol"!=n&&AOe.test(e))&&e>-1&&e%1==0&&e<t},ZH=function IOe(e,t,n){"__proto__"==t&&aP?aP(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},E3=function kOe(e,t){return e===t||e!=e&&t!=t},NOe=Object.prototype.hasOwnProperty,D3=function LOe(e,t,n){var i=e[t];(!NOe.call(e,t)||!E3(i,n)||void 0===n&&!(t in e))&&ZH(e,t,n)},E_=function FOe(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?ZH(n,a,l):D3(n,a,l)}return n},JH=Math.max,A3=function jOe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},eG=function VOe(e){return null!=e&&A3(e.length)&&!$H(e)},HOe=Object.prototype,T3=function GOe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||HOe)},tG=function XOe(e){return Ap(e)&&"[object Arguments]"==Hg(e)},nG=Object.prototype,$Oe=nG.hasOwnProperty,QOe=nG.propertyIsEnumerable,KOe=tG(function(){return arguments}())?tG:function(e){return Ap(e)&&$Oe.call(e,"callee")&&!QOe.call(e,"callee")},I3=KOe,iG="object"==typeof exports&&exports&&!exports.nodeType&&exports,rG=iG&&"object"==typeof module&&module&&!module.nodeType&&module,oG=rG&&rG.exports===iG?ph.Buffer:void 0,lP=(oG?oG.isBuffer:void 0)||function ZOe(){return!1},Zo={};Zo["[object Float32Array]"]=Zo["[object Float64Array]"]=Zo["[object Int8Array]"]=Zo["[object Int16Array]"]=Zo["[object Int32Array]"]=Zo["[object Uint8Array]"]=Zo["[object Uint8ClampedArray]"]=Zo["[object Uint16Array]"]=Zo["[object Uint32Array]"]=!0,Zo["[object Arguments]"]=Zo["[object Array]"]=Zo["[object ArrayBuffer]"]=Zo["[object Boolean]"]=Zo["[object DataView]"]=Zo["[object Date]"]=Zo["[object Error]"]=Zo["[object Function]"]=Zo["[object Map]"]=Zo["[object Number]"]=Zo["[object Object]"]=Zo["[object RegExp]"]=Zo["[object Set]"]=Zo["[object String]"]=Zo["[object WeakMap]"]=!1;var k3=function DSe(e){return function(t){return e(t)}},sG="object"==typeof exports&&exports&&!exports.nodeType&&exports,D_=sG&&"object"==typeof module&&module&&!module.nodeType&&module,R3=D_&&D_.exports===sG&&zH.process,p1=function(){try{return D_&&D_.require&&D_.require("util").types||R3&&R3.binding&&R3.binding("util")}catch{}}(),aG=p1&&p1.isTypedArray,lG=aG?k3(aG):function SSe(e){return Ap(e)&&A3(e.length)&&!!Zo[Hg(e)]},RSe=Object.prototype.hasOwnProperty,cG=function NSe(e,t){var n=uu(e),i=!n&&I3(e),r=!n&&!i&&lP(e),o=!n&&!i&&!r&&lG(e),s=n||i||r||o,a=s?function WOe(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)(t||RSe.call(e,c))&&(!s||!("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||S3(c,l)))&&a.push(c);return a},dG=function LSe(e,t){return function(n){return e(t(n))}},BSe=dG(Object.keys,Object),USe=Object.prototype.hasOwnProperty,N3=function HSe(e){return eG(e)?cG(e):function jSe(e){if(!T3(e))return BSe(e);var t=[];for(var n in Object(e))USe.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},YSe=Object.prototype.hasOwnProperty,$Se=function XSe(e){if(!fh(e))return function GSe(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=T3(e),n=[];for(var i in e)"constructor"==i&&(t||!YSe.call(e,i))||n.push(i);return n},qg=function QSe(e){return eG(e)?cG(e,!0):$Se(e)},KSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZSe=/^\w*$/,A_=Wg(Object,"create"),lEe=Object.prototype.hasOwnProperty,uEe=Object.prototype.hasOwnProperty;function f1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}f1.prototype.clear=function nEe(){this.__data__=A_?A_(null):{},this.size=0},f1.prototype.delete=function rEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},f1.prototype.get=function cEe(e){var t=this.__data__;if(A_){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return lEe.call(t,e)?t[e]:void 0},f1.prototype.has=function pEe(e){var t=this.__data__;return A_?void 0!==t[e]:uEe.call(t,e)},f1.prototype.set=function gEe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=A_&&void 0===t?"__lodash_hash_undefined__":t,this};var hG=f1,cP=function _Ee(e,t){for(var n=e.length;n--;)if(E3(e[n][0],t))return n;return-1},wEe=Array.prototype.splice;function m1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}m1.prototype.clear=function yEe(){this.__data__=[],this.size=0},m1.prototype.delete=function CEe(e){var t=this.__data__,n=cP(t,e);return!(n<0||(n==t.length-1?t.pop():wEe.call(t,n,1),--this.size,0))},m1.prototype.get=function PEe(e){var t=this.__data__,n=cP(t,e);return n<0?void 0:t[n][1]},m1.prototype.has=function SEe(e){return cP(this.__data__,e)>-1},m1.prototype.set=function DEe(e,t){var n=this.__data__,i=cP(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var dP=m1,T_=Wg(ph,"Map"),hP=function LEe(e,t){var n=e.__data__;return function REe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function g1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}g1.prototype.clear=function IEe(){this.size=0,this.__data__={hash:new hG,map:new(T_||dP),string:new hG}},g1.prototype.delete=function FEe(e){var t=hP(this,e).delete(e);return this.size-=t?1:0,t},g1.prototype.get=function zEe(e){return hP(this,e).get(e)},g1.prototype.has=function jEe(e){return hP(this,e).has(e)},g1.prototype.set=function HEe(e,t){var n=hP(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var uP=g1,WEe="Expected a function";function L3(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(WEe);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(L3.Cache||uP),n}L3.Cache=uP;var qEe=L3,QEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KEe=/\\(\\)?/g,ZEe=function XEe(e){var t=qEe(e,function(i){return 500===n.size&&n.clear(),i}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(QEe,function(n,i,r,o){t.push(r?o.replace(KEe,"$1"):i||n)}),t}),JEe=ZEe,tDe=function eDe(e){return null==e?"":P2e(e)},v1=function nDe(e,t){return uu(e)?e:function JSe(e,t){if(uu(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!S_(e))||ZSe.test(e)||!KSe.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:JEe(tDe(e))},pP=function rDe(e){if("string"==typeof e||S_(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},uG=function oDe(e,t){for(var n=0,i=(t=v1(t,e)).length;null!=e&&n<i;)e=e[pP(t[n++])];return n&&n==i?e:void 0},F3=function sDe(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},pG=Dd?Dd.isConcatSpreadable:void 0,lDe=function aDe(e){return uu(e)||I3(e)||!!(pG&&e&&e[pG])},cDe=function fG(e,t,n,i,r){var o=-1,s=e.length;for(n||(n=lDe),r||(r=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?fG(a,t-1,n,i,r):F3(r,a):i||(r[r.length]=a)}return r},hDe=function dDe(e){return null!=e&&e.length?cDe(e,1):[]},mG=function uDe(e){return OOe(function BOe(e,t,n){return t=JH(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=JH(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),uOe(e,this,a)}}(e,void 0,hDe),e+"")},B3=dG(Object.getPrototypeOf,Object),gG=Function.prototype.toString,vDe=Object.prototype.hasOwnProperty,yDe=gG.call(Object);function y1(e){var t=this.__data__=new dP(e);this.size=t.size}y1.prototype.clear=function CDe(){this.__data__=new dP,this.size=0},y1.prototype.delete=function PDe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},y1.prototype.get=function SDe(e){return this.__data__.get(e)},y1.prototype.has=function DDe(e){return this.__data__.has(e)},y1.prototype.set=function IDe(e,t){var n=this.__data__;if(n instanceof dP){var i=n.__data__;if(!T_||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new uP(i)}return n.set(e,t),this.size=n.size,this};var fP=y1,vG="object"==typeof exports&&exports&&!exports.nodeType&&exports,yG=vG&&"object"==typeof module&&module&&!module.nodeType&&module,bG=yG&&yG.exports===vG?ph.Buffer:void 0,_G=bG?bG.allocUnsafe:void 0,xG=function HDe(){return[]},WDe=Object.prototype.propertyIsEnumerable,wG=Object.getOwnPropertySymbols,qDe=wG?function(e){return null==e?[]:(e=Object(e),function jDe(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(wG(e),function(t){return WDe.call(e,t)}))}:xG,z3=qDe,QDe=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)F3(t,z3(e)),e=B3(e);return t}:xG,CG=QDe,MG=function JDe(e,t,n){var i=t(e);return uu(e)?i:F3(i,n(e))},U3=function eAe(e){return MG(e,N3,z3)},PG=function tAe(e){return MG(e,qg,CG)},j3=Wg(ph,"DataView"),V3=Wg(ph,"Promise"),H3=Wg(ph,"Set"),OG="[object Map]",SG="[object Promise]",EG="[object Set]",DG="[object WeakMap]",AG="[object DataView]",sAe=Gg(j3),aAe=Gg(T_),lAe=Gg(V3),cAe=Gg(H3),dAe=Gg(O3),Yg=Hg;(j3&&Yg(new j3(new ArrayBuffer(1)))!=AG||T_&&Yg(new T_)!=OG||V3&&Yg(V3.resolve())!=SG||H3&&Yg(new H3)!=EG||O3&&Yg(new O3)!=DG)&&(Yg=function(e){var t=Hg(e),n="[object Object]"==t?e.constructor:void 0,i=n?Gg(n):"";if(i)switch(i){case sAe:return AG;case aAe:return OG;case lAe:return SG;case cAe:return EG;case dAe:return DG}return t});var I_=Yg,uAe=Object.prototype.hasOwnProperty,mP=ph.Uint8Array,G3=function gAe(e){var t=new e.constructor(e.byteLength);return new mP(t).set(new mP(e)),t},bAe=/\w*$/,TG=Dd?Dd.prototype:void 0,IG=TG?TG.valueOf:void 0,qAe=function WAe(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return G3(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function vAe(e,t){var n=t?G3(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function MAe(e,t){var n=t?G3(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function _Ae(e){var t=new e.constructor(e.source,bAe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function wAe(e){return IG?Object(IG.call(e)):{}}(e)}},kG=p1&&p1.isMap,JAe=kG?k3(kG):function QAe(e){return Ap(e)&&"[object Map]"==I_(e)},RG=p1&&p1.isSet,rTe=RG?k3(RG):function tTe(e){return Ap(e)&&"[object Set]"==I_(e)},NG="[object Arguments]",LG="[object Function]",FG="[object Object]",Vo={};Vo[NG]=Vo["[object Array]"]=Vo["[object ArrayBuffer]"]=Vo["[object DataView]"]=Vo["[object Boolean]"]=Vo["[object Date]"]=Vo["[object Float32Array]"]=Vo["[object Float64Array]"]=Vo["[object Int8Array]"]=Vo["[object Int16Array]"]=Vo["[object Int32Array]"]=Vo["[object Map]"]=Vo["[object Number]"]=Vo[FG]=Vo["[object RegExp]"]=Vo["[object Set]"]=Vo["[object String]"]=Vo["[object Symbol]"]=Vo["[object Uint8Array]"]=Vo["[object Uint8ClampedArray]"]=Vo["[object Uint16Array]"]=Vo["[object Uint32Array]"]=!0,Vo["[object Error]"]=Vo[LG]=Vo["[object WeakMap]"]=!1;var BG=function gP(e,t,n,i,r,o){var s,a=1&t,l=2&t,c=4&t;if(n&&(s=r?n(e,i,r,o):n(e)),void 0!==s)return s;if(!fh(e))return e;var d=uu(e);if(d){if(s=function pAe(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&uAe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return function pOe(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e,s)}else{var h=I_(e),p=h==LG||"[object GeneratorFunction]"==h;if(lP(e))return function zDe(e,t){if(t)return e.slice();var n=e.length,i=_G?_G(n):new e.constructor(n);return e.copy(i),i}(e,a);if(h==FG||h==NG||p&&!r){if(s=l||p?{}:function YAe(e){return"function"!=typeof e.constructor||T3(e)?{}:dOe(B3(e))}(e),!a)return l?function KDe(e,t){return E_(e,CG(e),t)}(e,function LDe(e,t){return e&&E_(t,qg(t),e)}(s,e)):function YDe(e,t){return E_(e,z3(e),t)}(e,function RDe(e,t){return e&&E_(t,N3(t),e)}(s,e))}else{if(!Vo[h])return r?e:{};s=qAe(e,h,a)}}o||(o=new fP);var g=o.get(e);if(g)return g;o.set(e,s),rTe(e)?e.forEach(function(b){s.add(gP(b,t,n,b,e,o))}):JAe(e)&&e.forEach(function(b,P){s.set(P,gP(b,t,n,P,e,o))});var y=d?void 0:(c?l?PG:U3:l?qg:N3)(e);return function SOe(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(y||e,function(b,P){y&&(b=e[P=b]),D3(s,P,gP(b,t,n,P,e,o))}),s},vP=function kTe(e){return BG(e,5)};function yP(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new uP;++t<n;)this.add(e[t])}yP.prototype.add=yP.prototype.push=function NTe(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},yP.prototype.has=function FTe(e){return this.__data__.has(e)};var zTe=yP,jTe=function UTe(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},HTe=function VTe(e,t){return e.has(t)},zG=function qTe(e,t,n,i,r,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var h=-1,p=!0,g=2&n?new zTe:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var v=e[h],y=t[h];if(i)var b=s?i(y,v,h,t,e,o):i(v,y,h,e,t,o);if(void 0!==b){if(b)continue;p=!1;break}if(g){if(!jTe(t,function(P,O){if(!HTe(g,O)&&(v===P||r(v,P,n,i,o)))return g.push(O)})){p=!1;break}}else if(v!==y&&!r(v,y,n,i,o)){p=!1;break}}return o.delete(e),o.delete(t),p},XTe=function YTe(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n},QTe=function $Te(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n},UG=Dd?Dd.prototype:void 0,W3=UG?UG.valueOf:void 0,f3e=Object.prototype.hasOwnProperty,jG="[object Arguments]",VG="[object Array]",bP="[object Object]",HG=Object.prototype.hasOwnProperty,_3e=function b3e(e,t,n,i,r,o){var s=uu(e),a=uu(t),l=s?VG:I_(e),c=a?VG:I_(t),d=(l=l==jG?bP:l)==bP,h=(c=c==jG?bP:c)==bP,p=l==c;if(p&&lP(e)){if(!lP(t))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new fP),s||lG(e)?zG(e,t,n,i,r,o):function d3e(e,t,n,i,r,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new mP(e),new mP(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return E3(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=XTe;case"[object Set]":if(a||(a=QTe),e.size!=t.size&&!(1&i))return!1;var c=s.get(e);if(c)return c==t;i|=2,s.set(e,t);var d=zG(a(e),a(t),i,r,o,s);return s.delete(e),d;case"[object Symbol]":if(W3)return W3.call(e)==W3.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var g=d&&HG.call(e,"__wrapped__"),v=h&&HG.call(t,"__wrapped__");if(g||v){var y=g?e.value():e,b=v?t.value():t;return o||(o=new fP),r(y,b,n,i,o)}}return!!p&&(o||(o=new fP),function m3e(e,t,n,i,r,o){var s=1&n,a=U3(e),l=a.length;if(l!=U3(t).length&&!s)return!1;for(var h=l;h--;){var p=a[h];if(!(s?p in t:f3e.call(t,p)))return!1}var g=o.get(e),v=o.get(t);if(g&&v)return g==t&&v==e;var y=!0;o.set(e,t),o.set(t,e);for(var b=s;++h<l;){var P=e[p=a[h]],O=t[p];if(i)var S=s?i(O,P,p,t,e,o):i(P,O,p,e,t,o);if(!(void 0===S?P===O||r(P,O,n,i,o):S)){y=!1;break}b||(b="constructor"==p)}if(y&&!b){var A=e.constructor,H=t.constructor;A!=H&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof H&&H instanceof H)&&(y=!1)}return o.delete(e),o.delete(t),y}(e,t,n,i,r,o))},x3e=function GG(e,t,n,i,r){return e===t||(null==e||null==t||!Ap(e)&&!Ap(t)?e!=e&&t!=t:_3e(e,t,n,i,GG,r))},C3e=function w3e(e,t){return null!=e&&t in Object(e)},S3e=function O3e(e,t){return null!=e&&function M3e(e,t,n){for(var i=-1,r=(t=v1(t,e)).length,o=!1;++i<r;){var s=pP(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&A3(r)&&S3(s,r)&&(uu(e)||I3(e))}(e,t,C3e)},q3=function(){return ph.Date.now()},A3e=Math.max,T3e=Math.min,k_=function I3e(e,t,n){var i,r,o,s,a,l,c=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(V){var Q=i,Y=r;return i=r=void 0,c=V,s=e.apply(Y,Q)}function b(V){var Q=V-l;return void 0===l||Q>=t||Q<0||h&&V-c>=o}function P(){var V=q3();if(b(V))return O(V);a=setTimeout(P,function y(V){var ee=t-(V-l);return h?T3e(ee,o-(V-c)):ee}(V))}function O(V){return a=void 0,p&&i?g(V):(i=r=void 0,s)}function H(){var V=q3(),Q=b(V);if(i=arguments,r=this,l=V,Q){if(void 0===a)return function v(V){return c=V,a=setTimeout(P,t),d?g(V):s}(l);if(h)return clearTimeout(a),a=setTimeout(P,t),g(l)}return void 0===a&&(a=setTimeout(P,t)),s}return t=YH(t)||0,fh(n)&&(d=!!n.leading,o=(h="maxWait"in n)?A3e(YH(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),H.cancel=function S(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},H.flush=function A(){return void 0===a?s:O(q3())},H},L3e=function N3e(e,t){return e>t},B3e=function F3e(e,t){return t.length<2?e:uG(e,function xDe(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(t,0,-1))},Y3=function z3e(e,t){return x3e(e,t)},H3e=function V3e(e){return e&&e.length?function U3e(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],s=t(o);if(null!=s&&(void 0===a?s==s&&!S_(s):n(s,a)))var a=s,l=o}return l}(e,XH,L3e):void 0},W3e=function G3e(e,t){return t=v1(t,e),null==(e=B3e(e,t))||delete e[pP(function k3e(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},Y3e=function q3e(e){return function bDe(e){if(!Ap(e)||"[object Object]"!=Hg(e))return!1;var t=B3(e);if(null===t)return!0;var n=vDe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&gG.call(n)==yDe}(e)?void 0:e},K3e=mG(function(e,t){var n={};if(null==e)return n;var i=!1;t=VH(t,function(o){return o=v1(o,e),i||(i=o.length>1),o}),E_(e,PG(e),n),i&&(n=BG(n,7,Y3e));for(var r=t.length;r--;)W3e(n,t[r]);return n}),X3=K3e,J3e=function Z3e(e,t,n,i){if(!fh(e))return e;for(var r=-1,o=(t=v1(t,e)).length,s=o-1,a=e;null!=a&&++r<o;){var l=pP(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=s){var d=a[l];void 0===(c=i?i(d,l,a):void 0)&&(c=fh(d)?d:S3(t[r+1])?[]:{})}D3(a,l,c),a=a[l]}return e},iIe=function nIe(e,t){return function eIe(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=uG(e,s);n(a,s)&&J3e(o,v1(s,e),a)}return o}(e,t,function(n,i){return S3e(e,i)})},rIe=mG(function(e,t){return null==e?{}:iIe(e,t)}),pu=rIe;function WG(e){for(let t of Object.keys(e))void 0===e[t]&&delete e[t];return e}function Ad(e,t){return Object.setPrototypeOf(e,t),e}var qG=!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().includes(" electron/"),_P=(qG&&(()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");e?window.localStorage.setItem("desktop-app-version",e):window.localStorage.getItem("desktop-app-version")})(),!(typeof window>"u")&&window.navigator.platform.toUpperCase().includes("MAC")),R_=!(typeof window>"u")&&(/iPad|iPhone|iPod/.test(window.navigator.userAgent)||_P&&"ontouchend"in document),gIe=!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,Xc=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0),YG=(()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)})(),vIe=Number((()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]})());function XG(e){return Array.isArray(e)?e:[e]}function $G(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}function xP(e){return _P?e.metaKey:e.ctrlKey}var wi=[],wP={},N_={},CP={};function QG(e){wi.includes(e)||wi.push(e)}function b1(e){delete wP[e.pointerId];for(let t=0;t<wi.length;t++)if(wi[t].pointerId===e.pointerId){wi.splice(t,1);break}}function MP(e){if("touch"!==e.pointerType)return;let t=wP[e.pointerId];void 0===t&&(t={x:0,y:0},wP[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function $3(e){return wP[(e.pointerId===wi[0].pointerId?wi[1]:wi[0]).pointerId]}function KG(e){N_[e.key]=!0,CP[e.key]=void 0===CP[e.key]?1:CP[e.key]+1}function ZG(e){if(_P&&N_.Meta)for(let t in N_)N_[t]=!1;else N_[e.key]=!1;CP={}}var JG,PP,wIe=new Promise(e=>{JG=e});function CIe(){if(PP)return PP;function t(){return(t=(0,si.Z)(function*(){let i=m.e(642).then(m.bind(m,9642)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/navmesh-wasm@1.9.39/build/navmesh.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});JG(a)})).apply(this,arguments)}return PP=function e(){return t.apply(this,arguments)}(),PP}var eW,OP,MIe=new Promise(e=>{eW=e});function PIe(){if(OP)return OP;function t(){return(t=(0,si.Z)(function*(){let n=yield m.e(615).then(m.bind(m,8615));yield n.init(),eW(n)})).apply(this,arguments)}return OP=function e(){return t.apply(this,arguments)}(),OP}var vi=class{modifyById(e,t){let n=this;if(void 0===n[e])throw new Error("not expected");{let i={...n,[e]:t};return Object.setPrototypeOf(i,vi.prototype),i}}add(e,t){return this.runOp({type:1,id:e,data:t})?.data??this}runOp(e){let t=this;if(1===e.type){let i,n=t[e.id];i=void 0===n?{type:2,id:e.id}:{type:1,id:e.id,data:n};let{id:r,data:o}=e,s={...t,[r]:o};return Object.setPrototypeOf(s,vi.prototype),{data:s,actual:e,reverse:i}}if(2===e.type){let{id:n}=e,i=t[n];if(void 0===i)return null;{let r={...t};return Object.setPrototypeOf(r,vi.prototype),delete r[n],{data:r,actual:e,reverse:{type:1,id:n,data:i}}}}return null}};function Q3(e){if(void 0!==e.deepFreeze)return void e.deepFreeze(e);let t=Object.getOwnPropertyNames(e);for(let n of t){let i=e[n];i&&"object"==typeof i&&Q3(i)}return Object.freeze(e)}var tW=class extends Error{};function K3(e){let t={...e};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function Xf(e,t,n){if(void 0===e?void 0===t?(e=0,t=10):e=t-10:void 0===t&&(t=e+10),e>t){let o=e;e=t,t=o}let i=[],r=1/(n+1);for(let o=0;o<n;o++){let s=e+(t-e)*(o+.75+.5*Math.random())*r;i.push(s)}return i}function Z3(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function nW(e,t){for(let n of e)!0!==t(n.id,n.data)&&nW(n.children,t)}function iW(e,t){if(!0!==t(e.id,e.data))for(let n of e.children)iW(n,t)}var SP,nl=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,nl.prototype)}deepFreeze(){let e=0;for(;e<this.length;)Q3(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let n of e.children)this.fillCaches0(n,e.id)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(!t)return e;e=t}return e}isDescendantOf(e,t){for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}data(e){return this.get(e)?.data}has(e){return void 0!==this.childrenOf(e)}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){return null===e?this:this.get(e)?.children}traverseFrom(e,t){if(null===e)this.traverse(t);else{let n=this.get(e);n&&iW(n,t)}}traverse(e){nW(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return null===e?this:this.get(e).children}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let n=this.parent(e),i=this.childrenArray(n),r=i.findIndex(s=>s.id===e);if(r<0)throw new Error("not expected");let o=i[r];return i=[...i],i[r]={...o,data:t},this.modifyArrayBy(n,i)}}modifyArrayBy(e,t){let n=e,i=t;for(;null!==n;){let o=i,s=n;if(n=this.parent(n),void 0===n)throw new Error;i=this.childrenArray(n);let a=i.findIndex(l=>l.id===s);if(a<0)throw new Error;i=[...i],i[a]={...i[a],children:o}}Object.setPrototypeOf(i,nl.prototype);let r=i;return r.fillCaches(),r}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(void 0!==this.get(e))return!0;for(let n of t)if(this.checkDuplicatedIdRec(n))return!0;return!1}addOp(e){let{parent:t,fi:n,id:i,data:r,children:o}=e;if(null!==t&&void 0===this.get(t)||this.checkDuplicatedIdRec(e))return null;{let s=t,a=this.childrenArray(s),l={fi:n,id:i,data:r,children:o};return a=[...a,l],a.sort((c,d)=>c.fi-d.fi),e.localIndex=a.indexOf(l),{data:this.modifyArrayBy(s,a),actual:e,reverse:{type:8,id:i}}}}deleteOp(e){let{id:t}=e;if(null===this.get(t))return null;{let n=this.parent(t);if(void 0===n)return null;let i=this.childrenArray(n),r=i.findIndex(s=>s.id===t);e.localIndex=r,i=[...i];let o=i.splice(r,1)[0];return{data:this.modifyArrayBy(n,i),actual:e,reverse:{type:7,...o,parent:n}}}}moveOp(e){let{parent:t,fi:n,id:i}=e;if(null!==t&&void 0===this.get(t))return this.deleteOp({type:8,id:i});if(null!==t){let h=t;for(;null!==h;){if(void 0===h)throw new Error;if(h===i)throw new tW("cyclic tree");h=this.parent(h)}}let r=this.parent(i);if(void 0===r)return null;let o=r,s=this.childrenArray(r),a=s.findIndex(h=>h.id===i);s=[...s];let l=s.splice(a,1)[0],c=this.modifyArrayBy(r,s);r=t,s=c.childrenArray(r);let d=l.fi;return l={...l,fi:n},s=[...s,l],s.sort((h,p)=>h.fi-p.fi),e.localIndex=s.indexOf(l),c=c.modifyArrayBy(r,s),{data:c,actual:e,reverse:{type:9,parent:o,fi:d,id:i}}}previous(e,t){if(null===t){let i=this.childrenArray(e);return 0===i.length?null:i[i.length-1].id}let n=null;for(let i of this.childrenArray(e)){if(i.id===t)return n;n=i.id}return null}traverseSortNext(e){let t=this.parent(e);if(void 0!==t){let n=this.childrenArray(t),i=n.findIndex(r=>r.id===e)+1;if(i<n.length)return n[i].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(void 0!==t){let n=this.childrenArray(t),i=n.findIndex(r=>r.id===e)-1;return i>=0?this.traverseSortPrevious(n[i].id):t}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);void 0!==i&&t.push({...n,...i})}t.sort((n,i)=>function OIe(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}(n.sortKey,i.sortKey));for(let n of t)delete n.sortKey;return t}getWithSortKey(e){var t=e;let n=[],i=this.get(t),r=i;if(void 0!==i){for(;t;)n.splice(0,0,i.fi),null!==(t=this.parent(t))&&(i=this.get(t));return{...r,sortKey:n}}}insertBeforeHelper(e,t,n){return this.insertAfterHelper(e,this.previous(e,t),n)}insertAfterHelper(e,t,n){let i=this.childrenArray(e);if(null===t){if(0===i.length)return Xf(0,n,n);{let r=i[0].fi;return Xf(r-n,r,n)}}{let r=this.get(t);if(void 0===r||this.parent(t)!==e)throw new Error("illegal args");let o=i.find(s=>s.fi>r.fi);if(void 0===o){let s=i[i.length-1].fi;return Xf(s,s+n,n)}return Xf(r.fi,o.fi,n)}}};(e=>{e.runOp=function t(n,i){if(0!==i.type)return null;if(Array.isArray(n)){let r=i.props,o={},s=[...n],a=!1;if(r)for(let l of Object.keys(r)){let c=parseInt(l);if(isNaN(c))throw new Error("wrong index");o[l]=s[c],s[c]=r[l],a=!0}return a?{data:s,actual:i,reverse:{type:0,props:o}}:null}{let r=i.props,o={},s={...n},a=!1;if(r)for(let l of Object.keys(r)){o[l]=s[l];let c=r[l];void 0===c?delete s[l]:s[l]=c,a=!0}return a?{data:s,actual:i,reverse:{type:0,props:o}}:null}}})(SP||(SP={}));var Jn=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jn.prototype)}deepFreeze(){let e=0;for(;e<this.length;)Q3(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){return this.get(e)?.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let n=this,i=n.findIndex(o=>o.id===e);if(i<0)throw new Error("not expected");let r=n[i];return n=[...n],n[i]={...r,data:t},this.modifyArrayBy(n)}}modifyArrayBy(e){Object.setPrototypeOf(e,Jn.prototype);let t=e;return function SIe(){return typeof process<"u"}()||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}return null}addOp(e){let{fi:t,id:n,data:i}=e,r=this,o={fi:t,id:n,data:i};return r=[...r,o],r.sort((s,a)=>s.fi-a.fi),e.localIndex=r.indexOf(o),{data:this.modifyArrayBy(r),actual:e,reverse:{type:5,id:n}}}deleteOp(e){let{id:t}=e,n=this,i=n.findIndex(o=>o.id===t);if(-1===i)return null;e.localIndex=i,n=[...n];let r=n.splice(i,1)[0];return{data:this.modifyArrayBy(n),actual:e,reverse:{type:4,...r}}}moveOp(e){let{fi:t,id:n}=e,i=this;i=[...i];let r=i.findIndex(a=>a.id===n);if(-1===r)return null;let o=i[r].fi,s={...i[r],fi:t};return i[r]=s,i.sort((a,l)=>a.fi-l.fi),e.localIndex=i.indexOf(s),{data:this.modifyArrayBy(i),actual:e,reverse:{type:6,fi:o,id:n}}}previous(e){if(null===e)return 0===this.length?null:this[this.length-1].id;let t=null;for(let n of this){if(n.id===e)return t;t=n.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let n=this;if(null===e){if(0===n.length)return Xf(0,t,t);{let i=n[0].fi;return Xf(i-t,i,t)}}{let i=this.get(e);if(void 0===i)throw new Error("illegal args");let r=n.find(o=>o.fi>i.fi);if(void 0===r){let o=n[n.length-1].fi;return Xf(o,o+t,t)}return Xf(i.fi,r.fi,t)}}};function _1(e){return e&&"object"==typeof e&&e instanceof Ks}var $f,AP,Ra,tI,Ks=class{unusedFunOverridesTable(e){}runOp(e){let t=[],n=this,i=0,r={};for(;i<e.path.length;){if(t.push(n),n=void 0===n?void 0:n[e.path[i]],void 0!==n&&!_1(n))return null;i+=1}n=n?K3(n):new Ks;for(let[a,l]of Object.entries(e.props))r[a]=n[a],void 0===l?delete n[a]:n[a]=l;for(;i>0;){if(0===Object.keys(n).length){let a=t[i-1];a&&(n=K3(a),delete n[e.path[i-1]])}else{let a=t[i-1];if(a){let l=K3(a);l[e.path[i-1]]=n,n=l}else{let l=new Ks;l[e.path[i-1]]=n,n=l}}i-=1}return{data:Object.setPrototypeOf(n,Ks.prototype),actual:e,reverse:{...e,props:r}}}};function J3(e,t){if(void 0===t)return;let n=!1,i=e.map(r=>{let o=r.id,s=L_(r.data,t[o]);if(n=n||void 0!==s,void 0===s&&(s=r.data),r.children){let a=J3(r.children,t);return void 0!==a?n=!0:a=r.children,{...r,id:o,data:s,children:a}}return{...r,id:o,data:s}});return n?i:void 0}function L_(e,t){if(!_1(t))return t;if(e instanceof nl){let n=J3(e,t);return void 0!==n&&Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}if(e instanceof Jn)return function EIe(e,t){if(void 0===t)return;let n=!1,i=e.map(r=>{let o=r.id,s=L_(r.data,t[o]);return n=n||void 0!==s,void 0===s&&(s=r.data),{...r,id:o,data:s}});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}(e,t);if(Array.isArray(e)){let n=!1,i=e.map((r,o)=>{let s=L_(r,t[o]);return n=n||void 0!==s,void 0===s&&(s=r),s});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}if(e instanceof Ks)return eI(e,t);if(e&&"object"==typeof e){let n={},i=!1;for(let[r,o]of Object.entries(e)){let s=L_(o,t[r]);i=i||void 0!==s,void 0===s&&(s=o),n[r]=s}return i?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}}function eI(e,t){if(void 0===e)return t;if(void 0===t)return e;if(!_1(t))return t;if(!_1(e))return $f.apply(e,t);let n=new Set;for(let r of Object.keys(e))n.add(r);for(let r of Object.keys(t))n.add(r);let i=new Ks;for(let r of n){let o=eI(void 0===e?void 0:e[r],void 0===t?void 0:t[r]);i[r]=o}return i}function DIe(e,t){let n={cur:[],result:[],len:0};return[e=F_(e,t,n)??e,n.result]}function EP(e,t){return null===e?null:(e.cur[e.len]=t,e.len+=1,e)}function DP(e){e&&(e.len-=1)}function rW(e,t,n){let i=!1,r=e.map(o=>{let s=o.id,a=t[s];if(void 0!==a&&"string"==typeof a&&(i=!0,s=a,null!==n))throw new Error("not supported");let l=F_(o.data,t,EP(n,s));DP(n),i=i||void 0!==l,void 0===l&&(l=o.data);let c=rW(o.children,t,n);return void 0!==c?i=!0:c=o.children,{...o,id:s,data:l,children:c}});if(i)return r}function F_(e,t,n){if(e instanceof nl){let i=rW(e,t,n);return void 0!==i&&Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}if(e instanceof Jn)return function TIe(e,t,n){let i=!1,r=e.map(o=>{let s=o.id,a=t[s];if(void 0!==a&&"string"==typeof a&&(i=!0,s=a,null!==n))throw new Error("not supported");let l=F_(o.data,t,EP(n,s));return DP(n),i=i||void 0!==l,void 0===l&&(l=o.data),{...o,id:s,data:l}});if(i)return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}(e,t,n);if(Array.isArray(e)){let i=!1,r=e.map((o,s)=>{let a=F_(o,t,EP(n,s));return DP(n),i=i||void 0!==a,void 0===a&&(a=o),a});return i?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}if(e&&"object"==typeof e&&!Z3(e)){let i={},r=!1;for(let[o,s]of Object.entries(e))if("name"!==o&&"variableId"!==o){let a=t[o];if("string"==typeof a){if(null!==n)throw new Error("not supported");r=!0,o=a}let l=F_(s,t,EP(n,o));DP(n),r=r||void 0!==l,void 0===l&&(l=s),i[o]=l}else i[o]=s;return r?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}if("string"==typeof e){let i=t[e];return void 0!==i&&function AIe(e){if(null===e)return null;e.result.push(e.cur.slice(0,e.len))}(n),i}}(e=>{e.apply=function t(r,o){return L_(r,o)??r},e.merge=function n(r,o){return eI(r,o)},e.filterOp=function i(r,o){let s=0,a=o.path,l=r;for(;s<a.length&&void 0!==l;){if(l=va.zoomOnce(l,a[s]),void 0===l)return o;if(!_1(l))return;s+=1}if(void 0===l)return o;if(_1(l)){if(0===o.type){let c={...o.props};for(let d of Object.keys(l))delete c[d];return{...o,props:c}}if(1===o.type||4===o.type||7===o.type){let c=J3([o],l);return c?(console.log(c),c):o}return o}}})($f||($f={})),(e=>{e.replaceProps=function t(n,i){let r=va.zoom(i,n.path);if("object"==typeof r){let o={};for(let s of Object.keys(n.props))o[s]=r[s];return{...n,props:o}}return{...n,props:{}}}})(AP||(AP={})),(e=>{function i(l,c){let d=c.path;for(var h=[];;){let p;if(l instanceof Ks&&0===c.type&&(p=l.runOp({...c,path:d.slice(h.length)}),null===p&&(p=void 0)),void 0===p&&h.length===d.length&&(p=l instanceof nl||l instanceof Jn||l instanceof vi?l.runOp(c):SP.runOp(l,c)),void 0!==p){if(null!==p){let y=p.data;for(let b=h.length-1;b>=0;b--){let P=d[b],O=h[b];if(O instanceof nl){if("number"==typeof P)throw new Error("illegal arg");y=O.modifyById(P,y)}else if(O instanceof Jn){if("number"==typeof P)throw new Error("illegal arg");y=O.modifyById(P,y)}else if(O instanceof vi){if("number"==typeof P)throw new Error("illegal arg");y=O.modifyById(P,y)}else if(O instanceof Ks){let S={...O,[P]:y};y=Object.setPrototypeOf(S,Ks.prototype)}else{if("object"!=typeof O)return null;if(Array.isArray(O)){if("string"==typeof P&&(P=parseInt(P),isNaN(P)))throw new Error("Invalid path");let S=y;y=[...O],y[P]=S}else y={...O,[P]:y}}}return{data:y,actual:{...p.actual,path:d},reverse:{...p.reverse,path:d}}}return null}let v,g=d[h.length];if(l instanceof nl){if("number"==typeof g)throw new Error("");v=l.get(g)?.data}else if(l instanceof Jn){if("number"==typeof g)throw new Error("");v=l.get(g)?.data}else null!==l&&(v=l[g]);if(void 0===v)return null;h.push(l),l=v}}function r(l,c){for(let d=0;d<l.length&&d<c.length;d++)if(l[d]!==c[d])return!0;return!1}function o(l,c){if(l.length!==c.length)return!1;for(let d=0;d<l.length;d++)if(l[d]!==c[d])return!1;return!0}e.drop=function t(l,c){return{...l,path:l.path.slice(c)}},e.applySimple=function n(l,c){return i(l,c)?.data??l},e.apply=i,e.pathDisjoint=r,e.pathEq=o,e.commutative=function s(l,c){return r(l.path,c.path)},e.subsumed=function a(l,c){return!(0!==l.type||0!==c.type||!o(l.path,c.path))&&Object.keys(l.props).every(d=>void 0!==c.props[d])}})(Ra||(Ra={})),(e=>{function l(c,d){var h=c;let p=[],g=[];for(let v of d)try{if(3===v.type||5===v.type&&"variables"===v.path[v.path.length-1]){let y,b,P;if(3===v.type?(y=va.zoom(h,[...v.path,v.id]),P=Ra.apply(h,{...v,type:2})):(y=va.zoom(h,[...v.path,v.id,"value"]),P=Ra.apply(h,v)),null!==P){h=P.data;let[O,S]=DIe(h,{[v.id]:y});h=O;for(let A=0;A<S.length;A++){let H=S[A],V=H.pop();if("number"==typeof V){let Q=[V];for(let ee=A+1;ee<S.length;ee++){let ne=S[ee],ae=ne[ne.length-1];if("number"!=typeof ae||!va.equal(H,ne.slice(0,ne.length-1)))break;Q.push(ae),S.splice(ee,1)}let Y=va.zoom(h,H);b=Y.map((ee,ne)=>Q.includes(ne)?v.id:ee),y=Y,V=H.pop()}else{if("alphaOverride"===V||"alpha"===V){y/=100;let Q=y,Y=va.zoom(h,H.slice(0,H.length-2)),ee=Y.layers.map(ne=>ne.id===H[H.length-1]?{...ne,data:{...ne.data,[V]:Q}}:ne);Object.setPrototypeOf(ee,Object.getPrototypeOf(Y.layers)),Y.layers=ee}b=v.id}p.push({type:0,path:H,props:{[V]:y}}),g.push({type:0,path:H,props:{[V]:b}})}g.push(P.reverse),p.push(P.actual)}}else{let y=Ra.apply(h,v);null!==y&&(p.push(y.actual),h=y.data,g.push(y.reverse))}}catch(y){if(y instanceof tW)return null;throw y}return{data:h,actual:p,reverse:g.reverse()}}e.empty=function t(){return[]},e.removePrefix=function n(c,d){let h=[];for(let p of c){let[g,...v]=p.path;g===d&&h.push({...p,path:v})}return h},e.addPrefix=function i(c,d){return c.map(h=>({...h,path:[d,...h.path]}))},e.concat=function r(c,d){return[...c,...d]},e.compress=function o(c,d){return[...c.filter(h=>!d.some(p=>Ra.subsumed(h,p))),...d]},e.commutative=function s(c,d){return c.every(h=>d.every(p=>Ra.commutative(h,p)))},e.applyAll=function a(c,d){for(let h of d){let p=l(c,h);null!==p&&(c=p.data)}return c},e.apply=l})(tI||(tI={}));var oW=Symbol(),IIe=Symbol(),TP=Symbol(),B_=class{reportOp(e,t,n=[]){let i=this;if(null===t)return;i._current=t.data;let r=n;for(;!(i instanceof aW);){let o=i._path,s=i._current;if(""!==o&&r.splice(0,0,o),i=i._parent,null===i)return;i.update(o,s)}i.push(r,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let n=t[TP];n&&n(),delete this._children[e]}}}},kIe=class extends B_{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){if(Array.isArray(this._current)){if("string"==typeof e&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,SP.runOp(this._current,e),e.path)}},RIe=class extends B_{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,vi.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},sW={get(e,t){if(t===TP)return()=>{e._parent=null};if(t===oW)return e._current;if(t===IIe)return e;let{_current:n,_children:i}=e;if("push"===t&&Array.isArray(n))throw new Error("not supported to expand array");let r=void 0===i?void 0:i[t];if(void 0!==r)return r;let o=n[t],s=IP(e,t,o);return s!==o?(void 0===i&&(i={},e._children=i),i[t]=s,s):o},has:(e,t)=>t in e._current,ownKeys:e=>Reflect.ownKeys(e._current),defineProperty(){throw Error("not supported")},getPrototypeOf:e=>Object.getPrototypeOf(e._current),setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let n=e._current,i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:!0,enumerable:i.enumerable,value:n[t]}}},NIe={...sW,set(e,t,n){let i={type:0,props:{[t]:Is(n)??n}};return e.deleteChildren(t),e.runOp(i),!0},deleteProperty(e,t){let n={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(n),!0}},LIe={...sW,set(e,t,n){return void 0===n?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:n})),!0},deleteProperty:(e,t)=>(e.runOp({type:2,id:t}),!0)},nI=class extends B_{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[TP]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,n)=>{e(t,this.data(t))})}data(e){let{_current:t,_children:n}=this,i=void 0===n?void 0:n[e];if(void 0!==i)return i;let r=t.get(e)?.data,o=IP(this,e,r);return o!==r?(void 0===n&&(n={},this._children=n),n[e]=o,o):r}add(e,t,n,i,r){this.runOp({type:7,parent:e,fi:t,id:n,data:i,children:r})}move(e,t,n){this.runOp({type:9,parent:e,fi:t,id:n})}insertAfter(e,t,n){let i=this._current.insertAfterHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.add(e,i[r],o.id,o.data,o.children)}}insertBefore(e,t,n){let i=this._current.insertBeforeHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.add(e,i[r],o.id,o.data,o.children)}}moveAfter(e,t,n){let i=this._current.insertAfterHelper(e,t,n.length);for(let r=0;r<n.length;r++)this.move(e,i[r],n[r])}moveBefore(e,t,n){let i=this._current.insertBeforeHelper(e,t,n.length);for(let r=0;r<n.length;r++)this.move(e,i[r],n[r])}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},iI=class extends B_{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[TP]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let n=0;n<t;n++){let i=this._current[n].id,r=this._current[n].fi;e(this.data(this._current[n].id),i,r)}}find(e){let t=this.length;for(let n=0;n<t;n++){let i=this._current[n].id;if(e(this.data(i),i))return this.get(i)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){let{_current:t,_children:n}=this,i=void 0===n?void 0:n[e];if(void 0!==i)return i;let r=t.get(e)?.data,o=IP(this,e,r);return o!==r?(void 0===n&&(n={},this._children=n),n[e]=o,o):r}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,n){this.runOp({type:4,fi:e,id:t,data:n})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.add(n[i],r.id,r.data)}}insertBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.add(n[i],r.id,r.data)}}moveAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++)this.move(n[i],t[i])}moveBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++)this.move(n[i],t[i])}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function rI(e,t,n){if(e.length>0){let i=e[e.length-1];if(0===i.type&&0===t.type&&va.equal(i.path,n))return void Object.assign(i.props,t.props)}e.push({...t,path:n})}var va,aW=class extends B_{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(""!==e)throw new Error("");this._current=t}push(e,t,n,i){rI(this.ts,t,e),rI(this.actual,n,e),rI(this.reverse,i,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function IP(e,t,n){return n instanceof nl?new nI(e,t,n):n instanceof Jn?new iI(e,t,n):n instanceof vi?new Proxy(new RIe(e,t,n),LIe):null!==n&&"object"==typeof n?Z3(n)?n:new Proxy(new kIe(e,t,n),NIe):n}function lW(e){let t=new aW(e);return[IP(t,"",e),t]}function z_(e,t){let[n,i]=lW(e);return t(n),i.result()}function Is(e){return e instanceof nI||e instanceof iI?e._current:null!==e&&"object"==typeof e?e[oW]:e}function Io(e,t){let n=[];if(!(t.length<=e.length))return null;for(var i=0;i<t.length;){if("*"===t[i])n.push(e[i]);else if(e[i]!==t[i])return null;i+=1}return n}(e=>{function i(o,s){return(o instanceof nl||o instanceof nI)&&"string"==typeof s||(o instanceof Jn||o instanceof iI)&&"string"==typeof s?o.data(s):"number"==typeof s&&Array.isArray(o)||"string"==typeof s&&"object"==typeof o&&null!==o?o[s]:void 0}function r(o,s,a=0){for(;a<s.length&&void 0!==o;)o=i(o,s[a]),a+=1;return o}e.equal=function t(o,s){if(s.length!==o.length)return!1;for(var a=0;a<o.length;){if(o[a]!==s[a])return!1;a+=1}return!0},e.removeOverridden=function n(o,s,a){let l=r(a,o);if(void 0!==l&&"object"==typeof l&&null!==l){let c={...s};return Object.keys(l).forEach(d=>{delete c[d]}),c}return s},e.zoomOnce=i,e.zoom=r})(va||(va={}));var oI,cW=class{},dW=class extends cW{constructor(e){super(),this.id=e}},hW=class extends cW{constructor(e){super(),this.data=e}};try{oI=new TextDecoder}catch{}var Hn,Qf,Jr,Kf,$c,Tp,po,ft=0,uW=[],sI=uW,aI=0,yc={},Td=0,fu=0,Wl=[],pW={useRecords:!1,mapsAsObjects:!0},fW=class{},mW=new fW;mW.name="MessagePack 0xC1";var x1=!1,kP=class{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(Hn)return SW(()=>(uI(),this?this.unpack(e,t):kP.prototype.unpack.call(pW,e,t)));Qf=t>-1?t:e.length,ft=0,aI=0,fu=0,Kf=null,sI=uW,$c=null,Hn=e;try{po=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw Hn=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof kP){if(yc=this,this.structures)return Jr=this.structures,RP();(!Jr||Jr.length>0)&&(Jr=[])}else yc=pW,(!Jr||Jr.length>0)&&(Jr=[]);return RP()}unpackMultiple(e,t){let n,i=0;try{x1=!0;let r=e.length,o=this?this.unpack(e,r):LP.unpack(e,r);if(!t){for(n=[o];ft<r;)i=ft,n.push(RP());return n}for(t(o);ft<r;)if(i=ft,!1===t(RP()))return}catch(r){throw r.lastPosition=i,r.values=n,r}finally{x1=!1,uI()}}_mergeStructures(e,t){for(let n=0,i=(e=e||[]).length;n<i;n++){let r=e[n];r&&(r.isShared=!0,n>=32&&(r.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let i=e[n],r=t[n];r&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[n]=i),e[n]=r)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function RP(){try{if(!yc.trusted&&!x1){let t=Jr.sharedLength||0;t<Jr.length&&(Jr.length=t)}let e=_s();if(ft==Qf)Jr.restoreStructures&&gW(),Jr=null,Hn=null,Tp&&(Tp=null);else{if(ft>Qf){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}if(!x1)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw Jr.restoreStructures&&gW(),uI(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function gW(){for(let e in Jr.restoreStructures)Jr[e]=Jr.restoreStructures[e];Jr.restoreStructures=null}function _s(){let e=Hn[ft++];if(e<160){if(e<128){if(e<64)return e;{let t=Jr[63&e]||yc.getStructures&&yW()[63&e];return t?(t.read||(t.read=lI(t,63&e)),t.read()):e}}if(e<144){if(e-=128,yc.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[CW()]=_s();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(_s(),_s());return t}}{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=_s();return t}}if(e<192){let t=e-160;if(fu>=ft)return Kf.slice(ft-Td,(ft+=t)-Td);if(0==fu&&Qf<140){let n=t<16?dI(t):xW(t);if(null!=n)return n}return cI(t)}{let t;switch(e){case 192:return null;case 193:return $c?(t=_s(),t>0?$c[1].slice($c.position1,$c.position1+=t):$c[0].slice($c.position0,$c.position0-=t)):mW;case 194:return!1;case 195:return!0;case 196:return hI(Hn[ft++]);case 197:return t=po.getUint16(ft),ft+=2,hI(t);case 198:return t=po.getUint32(ft),ft+=4,hI(t);case 199:return Xg(Hn[ft++]);case 200:return t=po.getUint16(ft),ft+=2,Xg(t);case 201:return t=po.getUint32(ft),ft+=4,Xg(t);case 202:if(t=po.getFloat32(ft),yc.useFloat32>2){let n=pI[(127&Hn[ft])<<1|Hn[ft+1]>>7];return ft+=4,(n*t+(t>0?.5:-.5)>>0)/n}return ft+=4,t;case 203:return t=po.getFloat64(ft),ft+=8,t;case 204:return Hn[ft++];case 205:return t=po.getUint16(ft),ft+=2,t;case 206:return t=po.getUint32(ft),ft+=4,t;case 207:return yc.int64AsNumber?(t=4294967296*po.getUint32(ft),t+=po.getUint32(ft+4)):t=po.getBigUint64(ft),ft+=8,t;case 208:return po.getInt8(ft++);case 209:return t=po.getInt16(ft),ft+=2,t;case 210:return t=po.getInt32(ft),ft+=4,t;case 211:return yc.int64AsNumber?(t=4294967296*po.getInt32(ft),t+=po.getUint32(ft+4)):t=po.getBigInt64(ft),ft+=8,t;case 212:if(t=Hn[ft++],114==t)return MW(63&Hn[ft++]);{let n=Wl[t];if(n)return n.read?(ft++,n.read(_s())):n.noBuffer?(ft++,n()):n(Hn.subarray(ft,++ft));throw new Error("Unknown extension "+t)}case 213:return t=Hn[ft],114==t?(ft++,MW(63&Hn[ft++],Hn[ft++])):Xg(2);case 214:return Xg(4);case 215:return Xg(8);case 216:return Xg(16);case 217:return t=Hn[ft++],fu>=ft?Kf.slice(ft-Td,(ft+=t)-Td):zIe(t);case 218:return t=po.getUint16(ft),fu>=(ft+=2)?Kf.slice(ft-Td,(ft+=t)-Td):UIe(t);case 219:return t=po.getUint32(ft),fu>=(ft+=4)?Kf.slice(ft-Td,(ft+=t)-Td):jIe(t);case 220:return t=po.getUint16(ft),ft+=2,bW(t);case 221:return t=po.getUint32(ft),ft+=4,bW(t);case 222:return t=po.getUint16(ft),ft+=2,_W(t);case 223:return t=po.getUint32(ft),ft+=4,_W(t);default:if(e>=224)return e-256;if(void 0===e){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}var BIe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function lI(e,t){function n(){if(n.count++>2){let r=e.read=new Function("r","return function(){return {"+e.map(o=>BIe.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}}")(_s);return 0===e.highByte&&(e.read=vW(t,e.read)),r()}let i={};for(let r=0,o=e.length;r<o;r++)i[e[r]]=_s();return i}return n.count=0,0===e.highByte?vW(t,n):n}var vW=(e,t)=>function(){let n=Hn[ft++];if(0===n)return t();let i=e<32?-(e+(n<<5)):e+(n<<5),r=Jr[i]||yW()[i];if(!r)throw new Error("Record id is not defined for "+i);return r.read||(r.read=lI(r,e)),r.read()};function yW(){let e=SW(()=>(Hn=null,yc.getStructures()));return Jr=yc._mergeStructures(e,Jr)}var cI=NP,zIe=NP,UIe=NP,jIe=NP;function NP(e){let t;if(e<16&&(t=dI(e)))return t;if(e>64&&oI)return oI.decode(Hn.subarray(ft,ft+=e));let n=ft+e,i=[];for(t="";ft<n;){let r=Hn[ft++];if(128&r)if(192==(224&r)){let o=63&Hn[ft++];i.push((31&r)<<6|o)}else if(224==(240&r)){let o=63&Hn[ft++],s=63&Hn[ft++];i.push((31&r)<<12|o<<6|s)}else if(240==(248&r)){let l=(7&r)<<18|(63&Hn[ft++])<<12|(63&Hn[ft++])<<6|63&Hn[ft++];l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l)}else i.push(r);else i.push(r);i.length>=4096&&(t+=Na.apply(String,i),i.length=0)}return i.length>0&&(t+=Na.apply(String,i)),t}function bW(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=_s();return t}function _W(e){if(yc.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[CW()]=_s();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(_s(),_s());return t}}var Na=String.fromCharCode;function xW(e){let t=ft,n=new Array(e);for(let i=0;i<e;i++){let r=Hn[ft++];if((128&r)>0)return void(ft=t);n[i]=r}return Na.apply(String,n)}function dI(e){if(e<4){if(e<2){if(0===e)return"";{let t=Hn[ft++];return(128&t)>1?void(ft-=1):Na(t)}}{let t=Hn[ft++],n=Hn[ft++];if((128&t)>0||(128&n)>0)return void(ft-=2);if(e<3)return Na(t,n);let i=Hn[ft++];return(128&i)>0?void(ft-=3):Na(t,n,i)}}{let t=Hn[ft++],n=Hn[ft++],i=Hn[ft++],r=Hn[ft++];if((128&t)>0||(128&n)>0||(128&i)>0||(128&r)>0)return void(ft-=4);if(e<6){if(4===e)return Na(t,n,i,r);{let o=Hn[ft++];return(128&o)>0?void(ft-=5):Na(t,n,i,r,o)}}if(e<8){let o=Hn[ft++],s=Hn[ft++];if((128&o)>0||(128&s)>0)return void(ft-=6);if(e<7)return Na(t,n,i,r,o,s);let a=Hn[ft++];return(128&a)>0?void(ft-=7):Na(t,n,i,r,o,s,a)}{let o=Hn[ft++],s=Hn[ft++],a=Hn[ft++],l=Hn[ft++];if((128&o)>0||(128&s)>0||(128&a)>0||(128&l)>0)return void(ft-=8);if(e<10){if(8===e)return Na(t,n,i,r,o,s,a,l);{let c=Hn[ft++];return(128&c)>0?void(ft-=9):Na(t,n,i,r,o,s,a,l,c)}}if(e<12){let c=Hn[ft++],d=Hn[ft++];if((128&c)>0||(128&d)>0)return void(ft-=10);if(e<11)return Na(t,n,i,r,o,s,a,l,c,d);let h=Hn[ft++];return(128&h)>0?void(ft-=11):Na(t,n,i,r,o,s,a,l,c,d,h)}{let c=Hn[ft++],d=Hn[ft++],h=Hn[ft++],p=Hn[ft++];if((128&c)>0||(128&d)>0||(128&h)>0||(128&p)>0)return void(ft-=12);if(e<14){if(12===e)return Na(t,n,i,r,o,s,a,l,c,d,h,p);{let g=Hn[ft++];return(128&g)>0?void(ft-=13):Na(t,n,i,r,o,s,a,l,c,d,h,p,g)}}{let g=Hn[ft++],v=Hn[ft++];if((128&g)>0||(128&v)>0)return void(ft-=14);if(e<15)return Na(t,n,i,r,o,s,a,l,c,d,h,p,g,v);let y=Hn[ft++];return(128&y)>0?void(ft-=15):Na(t,n,i,r,o,s,a,l,c,d,h,p,g,v,y)}}}}}function hI(e){return yc.copyBuffers?Uint8Array.prototype.slice.call(Hn,ft,ft+=e):Hn.subarray(ft,ft+=e)}function Xg(e){let t=Hn[ft++];if(Wl[t])return Wl[t](Hn.subarray(ft,ft+=e));throw new Error("Unknown extension type "+t)}var wW=new Array(4096);function CW(){let e=Hn[ft++];if(!(e>=160&&e<192))return ft--,_s();if(e-=160,fu>=ft)return Kf.slice(ft-Td,(ft+=e)-Td);if(!(0==fu&&Qf<180))return cI(e);let o,t=4095&(e<<5^(e>1?po.getUint16(ft):e>0?Hn[ft]:0)),n=wW[t],i=ft,r=ft+e-3,s=0;if(n&&n.bytes==e){for(;i<r;){if(o=po.getUint32(i),o!=n[s++]){i=1879048192;break}i+=4}for(r+=3;i<r;)if(o=Hn[i++],o!=n[s++]){i=1879048192;break}if(i===r)return ft=i,n.string;r-=3,i=ft}for(n=[],wW[t]=n,n.bytes=e;i<r;)o=po.getUint32(i),n.push(o),i+=4;for(r+=3;i<r;)o=Hn[i++],n.push(o);let a=e<16?dI(e):xW(e);return n.string=null!=a?a:cI(e)}var MW=(e,t)=>{var n=_s();let i=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let r=Jr[e];return r&&r.isShared&&((Jr.restoreStructures||(Jr.restoreStructures=[]))[e]=r),Jr[e]=n,n.read=lI(n,i),n.read()},PW="object"==typeof self?self:global;Wl[0]=()=>{},Wl[0].noBuffer=!0,Wl[101]=()=>{let e=_s();return(PW[e[0]]||Error)(e[1])},Wl[105]=e=>{let t=po.getUint32(ft-4);Tp||(Tp=new Map);let i,n=Hn[ft];i=n>=144&&n<160||220==n||221==n?[]:{};let r={target:i};Tp.set(t,r);let o=_s();return r.used?Object.assign(i,o):(r.target=o,o)},Wl[112]=e=>{let t=po.getUint32(ft-4),n=Tp.get(t);return n.used=!0,n.target},Wl[115]=()=>new Set(_s());var OW=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");function SW(e){let t=Qf,n=ft,i=aI,r=Td,o=fu,s=Kf,a=sI,l=Tp,c=$c,d=new Uint8Array(Hn.slice(0,Qf)),h=Jr,p=Jr.slice(0,Jr.length),g=yc,v=x1,y=e();return Qf=t,ft=n,aI=i,Td=r,fu=o,Kf=s,sI=a,Tp=l,$c=c,Hn=d,x1=v,(Jr=h).splice(0,Jr.length,...p),yc=g,po=new DataView(Hn.buffer,Hn.byteOffset,Hn.byteLength),y}function uI(){Hn=null,Tp=null,Jr=null}Wl[116]=e=>{let t=e[0],n=OW[t];if(!n)throw new Error("Could not find typed array for code "+t);return new PW[n](Uint8Array.prototype.slice.call(e,1).buffer)},Wl[120]=()=>{let e=_s();return new RegExp(e[0],e[1])},Wl[98]=e=>{let n=ft;ft+=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]-4,($c=[_s(),_s()]).position0=0,$c.position1=0;let i=ft;ft=n;try{return _s()}finally{ft=i}},Wl[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");var pI=new Array(147);for(let e=0;e<256;e++)pI[e]=+("1e"+Math.floor(45.15-.30103*e));var FP,LP=new kP({useRecords:!1}),GIe=new Float32Array(1);new Uint8Array(GIe.buffer,0,4);try{FP=new TextEncoder}catch{}var BP,fI,Yt,ks,mu,zP=typeof Buffer<"u",mI=zP?Buffer.allocUnsafeSlow:Uint8Array,EW=zP?Buffer:Uint8Array,DW=zP?4294967296:2144337920,Et=0,gu=null,WIe=/[\u0080-\uFFFF]/,U_=Symbol("record-id"),AW=class extends kP{constructor(e){super(e),this.offset=0;let n,i,r,o,s,a=0,l=EW.prototype.utf8Write?function(Q,Y,ee){return Yt.utf8Write(Q,Y,ee)}:!(!FP||!FP.encodeInto)&&function(Q,Y){return FP.encodeInto(Q,Yt.subarray(Y)).written},c=this;e||(e={});let d=e&&e.sequential,h=e.structures||e.saveStructures,p=e.maxSharedStructures;if(null==p&&(p=h?32:0),p>8160)throw new Error("Maximum maxSharedStructure is 8160");let g=e.maxOwnStructures;null==g&&(g=h?32:64),d&&!e.saveStructures&&(this.structures=[]);let v=p>32||g+p>64,y=p+64,b=p+g+64;if(b>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let P=[],O=0,S=0;this.pack=this.encode=function(Q,Y){if(Yt||(Yt=new mI(8192),ks=new DataView(Yt.buffer,0,8192),Et=0),(mu=Yt.length-10)-Et<2048?(Yt=new mI(Yt.length),ks=new DataView(Yt.buffer,0,Yt.length),mu=Yt.length-10,Et=0):Et=Et+7&2147483640,n=Et,s=c.structuredClone?new Map:null,c.bundleStrings?(gu=["",""],Yt[Et++]=214,Yt[Et++]=98,gu.position=Et-n,Et+=4):gu=null,i=c.structures,i){i.uninitialized&&(i=c._mergeStructures(c.getStructures()));let ee=i.sharedLength||0;if(ee>p)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let ne=0;ne<ee;ne++){let ae=i[ne];if(!ae)continue;let pe,fe=i.transitions;for(let ge=0,Se=ae.length;ge<Se;ge++){let Oe=ae[ge];pe=fe[Oe],pe||(pe=fe[Oe]=Object.create(null)),fe=pe}fe[U_]=ne+64}a=ee}d||(i.nextId=ee+64)}r&&(r=!1),o=i||[];try{if(A(Q),gu){ks.setUint32(gu.position+n,Et-gu.position-n);let ee=gu;gu=null,A(ee[0]),A(ee[1])}if(c.offset=Et,s&&s.idsToInsert){(Et+=6*s.idsToInsert.length)>mu&&V(Et),c.offset=Et;let ee=function YIe(e,t){let n,i=6*t.length,r=e.length-i;for(t.sort((o,s)=>o.offset>s.offset?1:-1);n=t.pop();){let o=n.offset,s=n.id;e.copyWithin(o+i,o,r),i-=6;let a=o+i;e[a++]=214,e[a++]=105,e[a++]=s>>24,e[a++]=s>>16&255,e[a++]=s>>8&255,e[a++]=255&s,r=o}return e}(Yt.subarray(n,Et),s.idsToInsert);return s=null,ee}return Y&XIe?(Yt.start=n,Yt.end=Et,Yt):Yt.subarray(n,Et)}finally{if(i){if(S<10&&S++,O>1e4)i.transitions=null,S=0,O=0,P.length>0&&(P=[]);else if(P.length>0&&!d){for(let ee=0,ne=P.length;ee<ne;ee++)P[ee][U_]=0;P=[]}if(r&&c.saveStructures){let ee=i.sharedLength||p;i.length>ee&&(i=i.slice(0,ee));let ne=Yt.subarray(n,Et);return!1===c.saveStructures(i,a)?(c._mergeStructures(c.getStructures()),c.pack(Q)):(a=ee,ne)}}Y&$Ie&&(Et=n)}};let A=Q=>{Et>mu&&(Yt=V(Et));var ee,Y=typeof Q;if("string"===Y){let ae,ne=Q.length;if(gu&&ne>=8&&ne<4096){let fe=WIe.test(Q);return gu[fe?0:1]+=Q,Yt[Et++]=193,void A(fe?-ne:ne)}ae=ne<32?1:ne<256?2:ne<65536?3:5;let pe=3*ne;if(Et+pe>mu&&(Yt=V(Et+pe)),ne<64||!l){let fe,ge,Se,Oe=Et+ae;for(fe=0;fe<ne;fe++)ge=Q.charCodeAt(fe),ge<128?Yt[Oe++]=ge:ge<2048?(Yt[Oe++]=ge>>6|192,Yt[Oe++]=63&ge|128):55296==(64512&ge)&&56320==(64512&(Se=Q.charCodeAt(fe+1)))?(ge=65536+((1023&ge)<<10)+(1023&Se),fe++,Yt[Oe++]=ge>>18|240,Yt[Oe++]=ge>>12&63|128,Yt[Oe++]=ge>>6&63|128,Yt[Oe++]=63&ge|128):(Yt[Oe++]=ge>>12|224,Yt[Oe++]=ge>>6&63|128,Yt[Oe++]=63&ge|128);ee=Oe-Et-ae}else ee=l(Q,Et+ae,pe);ee<32?Yt[Et++]=160|ee:ee<256?(ae<2&&Yt.copyWithin(Et+2,Et+1,Et+1+ee),Yt[Et++]=217,Yt[Et++]=ee):ee<65536?(ae<3&&Yt.copyWithin(Et+3,Et+2,Et+2+ee),Yt[Et++]=218,Yt[Et++]=ee>>8,Yt[Et++]=255&ee):(ae<5&&Yt.copyWithin(Et+5,Et+3,Et+3+ee),Yt[Et++]=219,ks.setUint32(Et,ee),Et+=4),Et+=ee}else if("number"===Y)if(Q>>>0===Q)Q<64?Yt[Et++]=Q:Q<256?(Yt[Et++]=204,Yt[Et++]=Q):Q<65536?(Yt[Et++]=205,Yt[Et++]=Q>>8,Yt[Et++]=255&Q):(Yt[Et++]=206,ks.setUint32(Et,Q),Et+=4);else if(Q>>0===Q)Q>=-32?Yt[Et++]=256+Q:Q>=-128?(Yt[Et++]=208,Yt[Et++]=Q+256):Q>=-32768?(Yt[Et++]=209,ks.setInt16(Et,Q),Et+=2):(Yt[Et++]=210,ks.setInt32(Et,Q),Et+=4);else{let ne;if((ne=this.useFloat32)>0&&Q<4294967296&&Q>=-2147483648){let ae;if(Yt[Et++]=202,ks.setFloat32(Et,Q),ne<4||(ae=Q*pI[(127&Yt[Et])<<1|Yt[Et+1]>>7])>>0===ae)return void(Et+=4);Et--}Yt[Et++]=203,ks.setFloat64(Et,Q),Et+=8}else if("object"===Y)if(Q){if(s){let ae=s.get(Q);if(ae){if(!ae.id){let pe=s.idsToInsert||(s.idsToInsert=[]);ae.id=pe.push(ae)}return Yt[Et++]=214,Yt[Et++]=112,ks.setUint32(Et,ae.id),void(Et+=4)}s.set(Q,{offset:Et-n})}let ne=Q.constructor;if(ne===Object)H(Q,!0);else if(ne===Array){(ee=Q.length)<16?Yt[Et++]=144|ee:ee<65536?(Yt[Et++]=220,Yt[Et++]=ee>>8,Yt[Et++]=255&ee):(Yt[Et++]=221,ks.setUint32(Et,ee),Et+=4);for(let ae=0;ae<ee;ae++)A(Q[ae])}else if(ne===Map){(ee=Q.size)<16?Yt[Et++]=128|ee:ee<65536?(Yt[Et++]=222,Yt[Et++]=ee>>8,Yt[Et++]=255&ee):(Yt[Et++]=223,ks.setUint32(Et,ee),Et+=4);for(let[ae,pe]of Q)A(ae),A(pe)}else{for(let ae=0,pe=BP.length;ae<pe;ae++)if(Q instanceof fI[ae]){let ge=BP[ae];if(ge.write)return ge.type&&(Yt[Et++]=212,Yt[Et++]=ge.type,Yt[Et++]=0),void A(ge.write.call(this,Q));let _e,Se=Yt,Oe=ks,Ce=Et;Yt=null;try{_e=ge.pack.call(this,Q,Be=>(Yt=Se,Se=null,(Et+=Be)>mu&&V(Et),{target:Yt,targetView:ks,position:Et-Be}),A)}finally{Se&&(ks=Oe,Et=Ce,mu=(Yt=Se).length-10)}return void(_e&&(_e.length+Et>mu&&V(_e.length+Et),Et=qIe(_e,Yt,Et,ge.type)))}H(Q,!Q.hasOwnProperty)}}else Yt[Et++]=192;else if("boolean"===Y)Yt[Et++]=Q?195:194;else if("bigint"===Y){if(Q<BigInt(1)<<BigInt(63)&&Q>=-(BigInt(1)<<BigInt(63)))Yt[Et++]=211,ks.setBigInt64(Et,Q);else if(Q<BigInt(1)<<BigInt(64)&&Q>0)Yt[Et++]=207,ks.setBigUint64(Et,Q);else{if(!this.largeBigIntToFloat)throw new RangeError(Q+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");Yt[Et++]=203,ks.setFloat64(Et,Number(Q))}Et+=8}else if("undefined"===Y)this.encodeUndefinedAsNil?Yt[Et++]=192:(Yt[Et++]=212,Yt[Et++]=0,Yt[Et++]=0);else{if("function"!==Y)throw new Error("Unknown type: "+Y);A(this.writeFunction&&this.writeFunction())}},H=!1===this.useRecords?this.variableMapSize?Q=>{let ne,Y=Object.keys(Q),ee=Y.length;ee<16?Yt[Et++]=128|ee:ee<65536?(Yt[Et++]=222,Yt[Et++]=ee>>8,Yt[Et++]=255&ee):(Yt[Et++]=223,ks.setUint32(Et,ee),Et+=4);for(let ae=0;ae<ee;ae++)A(ne=Y[ae]),A(Q[ne])}:(Q,Y)=>{Yt[Et++]=222;let ee=Et-n;Et+=2;let ne=0;for(let ae in Q)(Y||Q.hasOwnProperty(ae))&&(A(ae),A(Q[ae]),ne++);Yt[ee+++n]=ne>>8,Yt[ee+n]=255&ne}:Q=>{let ee,Y=Object.keys(Q),ne=o.transitions||(o.transitions=Object.create(null)),ae=0;for(let fe=0,ge=Y.length;fe<ge;fe++){let Se=Y[fe];ee=ne[Se],ee||(ee=ne[Se]=Object.create(null),ae++),ne=ee}let pe=ne[U_];if(pe)pe>=96&&v?(Yt[Et++]=96+(31&(pe-=96)),Yt[Et++]=pe>>5):Yt[Et++]=pe;else{pe=o.nextId,pe||(pe=64),pe<y&&this.shouldShareStructure&&!this.shouldShareStructure(Y)?(pe=o.nextOwnId,pe<b||(pe=y),o.nextOwnId=pe+1):(pe>=b&&(pe=y),o.nextId=pe+1);let fe=Y.highByte=pe>=96&&v?pe-96>>5:-1;ne[U_]=pe,o[pe-64]=Y,pe<y?(Y.isShared=!0,o.sharedLength=pe-63,r=!0,fe>=0?(Yt[Et++]=96+(31&pe),Yt[Et++]=fe):Yt[Et++]=pe):(fe>=0?(Yt[Et++]=213,Yt[Et++]=114,Yt[Et++]=96+(31&pe),Yt[Et++]=fe):(Yt[Et++]=212,Yt[Et++]=114,Yt[Et++]=pe),ae&&(O+=S*ae),P.length>=g&&(P.shift()[U_]=0),P.push(ne),A(Y))}for(let fe=0,ge=Y.length;fe<ge;fe++)A(Q[Y[fe]])},V=Q=>{let Y;if(Q>16777216){if(Q-n>DW)throw new Error("Packed buffer would be larger than maximum buffer size");Y=Math.min(DW,4096*Math.round(Math.max((Q-n)*(Q>67108864?1.25:2),4194304)/4096))}else Y=1+(Math.max(Q-n<<2,Yt.length-1)>>12)<<12;let ee=new mI(Y);return ks=new DataView(ee.buffer,0,Y),Yt.copy?Yt.copy(ee,0,n,Q):ee.set(Yt.slice(n,Q)),Et-=n,n=0,mu=ee.length-10,Yt=ee}}useBuffer(e){Yt=e,ks=new DataView(Yt.buffer,Yt.byteOffset,Yt.byteLength),Et=0}};function TW(e,t,n,i){let r=e.byteLength;if(r+1<256){var{target:o,position:s}=n(4+r);o[s++]=199,o[s++]=r+1}else if(r+1<65536){var{target:o,position:s}=n(5+r);o[s++]=200,o[s++]=r+1>>8,o[s++]=r+1&255}else{var{target:o,position:s,targetView:a}=n(7+r);o[s++]=201,a.setUint32(s,r+1),s+=4}o[s++]=116,o[s++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function IW(e,t){let n=e.byteLength;var i,r;if(n<256){var{target:i,position:r}=t(n+2);i[r++]=196,i[r++]=n}else if(n<65536){var{target:i,position:r}=t(n+3);i[r++]=197,i[r++]=n>>8,i[r++]=255&n}else{var{target:i,position:r,targetView:o}=t(n+5);i[r++]=198,o.setUint32(r,n),r+=4}i.set(e,r)}function qIe(e,t,n,i){let r=e.length;switch(r){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:r<256?(t[n++]=199,t[n++]=r):r<65536?(t[n++]=200,t[n++]=r>>8,t[n++]=255&r):(t[n++]=201,t[n++]=r>>24,t[n++]=r>>16&255,t[n++]=r>>8&255,t[n++]=255&r)}return t[n++]=i,t.set(e,n),n+r}function w1(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");fI.unshift(e.Class),BP.unshift(e)}!function VIe(e){Wl[e.type]=e.unpack?e.unpack:e}(e)}fI=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,fW],BP=[{pack(e,t,n){let i=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&i>=0&&i<4294967296){let{target:r,targetView:o,position:s}=t(6);r[s++]=214,r[s++]=255,o.setUint32(s,i)}else if(i>0&&i<17179869184){let{target:r,targetView:o,position:s}=t(10);r[s++]=215,r[s++]=255,o.setUint32(s,4e6*e.getMilliseconds()+(i/1e3/4294967296>>0)),o.setUint32(s+4,i)}else if(isNaN(i)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:r,position:s}=t(3);r[s++]=212,r[s++]=255,r[s++]=255}else{let{target:r,targetView:o,position:s}=t(15);r[s++]=199,r[s++]=12,r[s++]=255,o.setUint32(s,1e6*e.getMilliseconds()),o.setBigInt64(s+4,BigInt(Math.floor(i)))}}},{pack(e,t,n){let i=Array.from(e),{target:r,position:o}=t(this.structuredClone?3:0);this.structuredClone&&(r[o++]=212,r[o++]=115,r[o++]=0),n(i)}},{pack(e,t,n){let{target:i,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(i[r++]=212,i[r++]=101,i[r++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:i,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(i[r++]=212,i[r++]=120,i[r++]=0),n([e.source,e.flags])}},{pack(e,t){this.structuredClone?TW(e,16,t):IW(zP?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==EW&&this.structuredClone?TW(e,OW.indexOf(n.name),t):IW(e,t)}},{pack(e,t){let{target:n,position:i}=t(1);n[i]=193}}],new AW({useRecords:!1});var vI,NW,XIe=512,$Ie=1024,RW=new AW({structuredClone:!0});function gI(e){if(Z3(e))return e;if(Array.isArray(e))return e.map(gI);if("object"==typeof e&&null!==e){let t={};for(let n of Object.keys(e).sort())t[n]=gI(e[n]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}return e}function LW(e){return"MouseDown"===e||"MouseUp"===e||"KeyDown"===e||"KeyUp"===e||"Collision"===e||"Trigger"===e}w1({Class:vi.prototype.constructor,type:1,write:e=>({...e}),read:e=>(Object.setPrototypeOf(e,vi.prototype),e)}),w1({Class:Jn.prototype.constructor,type:2,write:e=>[...e],read:e=>(Object.setPrototypeOf(e,Jn.prototype),e)}),w1({Class:nl.prototype.constructor,type:3,write:e=>[...e],read:e=>(Object.setPrototypeOf(e,nl.prototype),e)}),w1({Class:dW.prototype.constructor,type:4,write:e=>e.id,read:e=>new dW(e)}),w1({Class:hW.prototype.constructor,type:5,write:e=>e.data,read:e=>new hW(e)}),w1({Class:Ks.prototype.constructor,type:6,write:e=>({...e}),read:e=>(Object.setPrototypeOf(e,Ks.prototype),e)}),(e=>{function t(r){return RW.pack(r)}e.serialize=t,e.deserialize=function n(r){return RW.unpack(r)},e.checksum=function i(r){return function QIe(e){var t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e[n],t&=t;return t}(t(gI(r))).toString()}})(vI||(vI={})),(e=>{e.toEventUIType=function t(i){return"Conditional"===i.type?"Distance"===i.condition.type?"Distance":"StateChange":i.type},e.fromEventUIType=function n(i){return"Distance"===i||"StateChange"===i?"Conditional":i}})(NW||(NW={}));var FW,UP,yI,BW,zW,UW,bI,_I,jW,VW,HW,GW,WW,xI,wI,qW,YW,XW,$W,Cl={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Particles","Create","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseHover:["Transition","Animation","Particles","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Start:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Conditional:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MousePress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyPress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],GameControl:["Transition","Animation","Audio","Particles","Create","Conditional"],Collision:["Transition","Animation","Audio","Particles","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Trigger:["Transition","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Resize:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],VariableChange:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],API:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],WEBHOOK:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],AIAssistantListener:["SetVariable"],AIAssistantTrigger:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"]};(e=>{e.is=function t(i){return"MouseDown"===i.type||"MouseUp"===i.type||"MousePress"===i.type||"KeyDown"===i.type||"KeyUp"===i.type||"KeyPress"===i.type},e.defaultData=function n(i){return"MouseDown"===i||"MouseUp"===i||"MousePress"===i?{type:i,mode:"Object",disabled:!1,actions:new Jn}:{type:i,disabled:!1,key:void 0,actions:new Jn}}})(FW||(FW={})),(e=>{e.propertyDefaultData=function t(n){return{type:"Property",value:[n??null,"position","x"]}},e.valueDefaultData={type:"Literal",value:0}})(UP||(UP={})),(e=>{e.comparisonDefaultData=function t(r){return{type:"Comparison",operator:"==",lOperand:UP.propertyDefaultData(r),rOperand:{...UP.valueDefaultData}}},e.distanceDefaultData=function n(r){return{type:"Distance",toObject:r??null,fromObject:r??null,distance:200}},e.stateDefaultData=function i(r,o){return{type:"State",object:r??null,state:o??null}}})(yI||(yI={})),(e=>{e.isConditionalSubActions=function t(n){return void 0!==n.find(i=>"ifActions"===i||"elseActions"===i)}})(BW||(BW={})),(e=>{e.is=function t(i){return"Conditional"===i.type},e.defaultData=function n(i){return{type:"Conditional",disabled:!1,inActions:new Jn,outActions:new Jn,condition:yI.distanceDefaultData(i)}}})(zW||(zW={})),(e=>{e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new Jn,drop:new Jn}}})(UW||(UW={})),(e=>{e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new Jn}})(bI||(bI={})),(e=>{e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5}})(_I||(_I={})),(e=>{e.is=function t(i){return"MouseHover"===i.type},e.defaultData=function n(){return{type:"MouseHover",disabled:!1,actions:new Jn}}})(jW||(jW={})),(e=>{e.is=function t(i){return"Scroll"===i.type},e.defaultData=function n(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new Jn}}})(VW||(VW={})),(e=>{e.is=function t(i){return"Start"===i.type},e.defaultData=function n(){return{type:"Start",disabled:!1,actions:new Jn}}})(HW||(HW={})),(e=>{e.is=function t(i){return"Collision"===i.type},e.defaultData=function n(){return{type:"Collision",disabled:!1,target:"character",actions:new Jn}}})(GW||(GW={})),(e=>{e.is=function t(i){return"Trigger"===i.type},e.defaultData=function n(i,r){return{type:"Trigger",disabled:!1,target:"all",triggeringObjects:[],actions:new Jn,triggerZone:"box",position:r.toArray(),rotation:[0,0,0],size:i.toArray(),radius:i.length()/2,helperVisible:!0}}})(WW||(WW={})),(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]},e.is=function t(s){return"Resize"===s.type},e.sizeToDevice=function n(s){return"string"==typeof s?s:"custom"},e.deviceToSize=function i(s){return"string"==typeof s?[...e.defaultSizes[s]]:[...s]},e.defaultData=function r(){let s={size:"mobile",operator:"<",actions:new Jn},a={size:"tablet",operator:"<",actions:new Jn},l={size:[...e.defaultSizes.custom],operator:"<>",actions:new Jn},c=new Jn;return c.push({id:Ln.generateUUID(),fi:0,data:s},{id:Ln.generateUUID(),fi:1,data:a},{id:Ln.generateUUID(),fi:2,data:l}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:c}},e.defaultBreakpointData=function o(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new Jn}}})(xI||(xI={})),(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]},e.is=function t(i){return"VariableChange"===i.type},e.defaultData=function n(){return{disabled:!1,type:"VariableChange",actions:new Jn,variableId:"",objectId:null,property:"Position X"}}})(wI||(wI={})),(e=>{e.is=function t(i){return"API"===i.type},e.defaultData=function n(){return{disabled:!1,type:"API",successActions:new Jn,errorActions:new Jn,userAPIId:""}}})(qW||(qW={})),(e=>{e.is=function t(i){return"WEBHOOK"===i.type},e.defaultData=function n(){return{disabled:!1,type:"WEBHOOK",actions:new Jn,userWebhookId:""}}})(YW||(YW={})),(e=>{e.is=function t(i){return"AIAssistantListener"===i.type},e.defaultData=function n(){return{disabled:!1,type:"AIAssistantListener",actions:new Jn,analysis:"average",analysisRange:[0,71],analysisSingle:0}}})(XW||(XW={})),(e=>{e.is=function t(i){return"AIAssistantTrigger"===i.type},e.defaultData=function n(){return{disabled:!1,description:"",type:"AIAssistantTrigger",actions:new Jn}}})($W||($W={}));var Ip,$g,jP,QW,M1,il,yo,CI,KW,ZW,Zf,Qg,P1,Jf,MI,C1="personal camera",j_="a218fcc3-276b-49b9-b485-49037fd14f5f",Qc=5526619;function JW(e){return"string"==typeof e&&36===e.length&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)}(e=>{function a(v,y){return Math.pow(y[0]-v[0],2)+Math.pow(y[1]-v[1],2)}function l(v,y){return Math.sqrt(a(v,y))}function h(v,y,b){let P=e.sub(y,v),O=e.sub(b,v),S=e.dot(P,O)/e.dot(P,P),A=e.scalarMultiply(P,S);return e.add(v,A)}e.isEqual=function t(v,y){return v[0]===y[0]&&v[1]===y[1]},e.lerp=function n(v,y,b){return[v[0]+(y[0]-v[0])*b,v[1]+(y[1]-v[1])*b]},e.add=function i(v,y){return[v[0]+y[0],v[1]+y[1]]},e.sub=function r(v,y){return[v[0]-y[0],v[1]-y[1]]},e.multiply=function o(v,y){return[v[0]*y[0],v[1]*y[1]]},e.divide=function s(v,y){return[v[0]/y[0],v[1]/y[1]]},e.distanceSquared=a,e.distance=l,e.dot=function c(v,y){return v[0]*y[0]+v[1]*y[1]},e.scalarMultiply=function d(v,y){return[v[0]*y,v[1]*y]},e.projectionOnto=h,e.projectionOntoDistance=function p(v,y,b){return l(v,h(v,y,b))},e.center=function g(v,y){return[.5*(v[0]+y[0]),.5*(v[1]+y[1])]}})(Ip||(Ip={})),(e=>{e.isEqual=function t(l,c){return l[0]===c[0]&&l[1]===c[1]&&l[2]===c[2]},e.add=function n(l,c){return[l[0]+c[0],l[1]+c[1],l[2]+c[2]]},e.sub=function i(l,c){return[l[0]-c[0],l[1]-c[1],l[2]-c[2]]},e.div=function r(l,c){return[l[0]/c[0],l[1]/c[1],l[2]/c[2]]},e.mul=function o(l,c){return[l[0]*c[0],l[1]*c[1],l[2]*c[2]]},e.dist=function s(l,c){return Math.hypot(l[0]-c[0],l[1]-c[1],l[2]-c[2])},e.lerp=function a(l,c,d){return[l[0]+(c[0]-l[0])*d,l[1]+(c[1]-l[1])*d,l[2]+(c[2]-l[2])*d]}})($g||($g={})),(e=>{e.isEqual=function t(i,r){return i[0]===r[0]&&i[1]===r[1]&&i[2]===r[2]&&i[3]===r[3]},e.lerp=function n(i,r,o){return[i[0]+(r[0]-i[0])*o,i[1]+(r[1]-i[1])*o,i[2]+(r[2]-i[2])*o,i[3]+(r[3]-i[3])*o]}})(jP||(jP={})),(e=>{let t=180/Math.PI,n=Math.PI/180;function i(a){return"number"==typeof a?a*t:a}function r(a){return"number"==typeof a?a*n:a}e.radToDeg=function o(a){return[i(a[0]),i(a[1]),i(a[2])]},e.degToRad=function s(a){return[r(a[0]),r(a[1]),r(a[2])]}})(QW||(QW={})),(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e.isEqual=function t(r,o){for(let s=0;s<16;s++)if(r[s]!==o[s])return!1;return!0},e.simplify=function n(r){return r??e.identity},e.applyMatrix4=function i(r,o){let s=o.slice(0);for(var a=0,l=o.length;a<l;a+=3){let c=r[3]*o[a]+r[7]*o[a+1]+r[11]*o[a+2]+r[15];s[a]=(r[0]*o[a]+r[4]*o[a+1]+r[8]*o[a+2]+r[12])/c,s[a+1]=(r[1]*o[a]+r[5]*o[a+1]+r[9]*o[a+2]+r[13])/c,s[a+2]=(r[2]*o[a]+r[6]*o[a+1]+r[10]*o[a+2]+r[14])/c}return s}})(M1||(M1={})),(e=>{e.isRGB=function t(c){return"object"==typeof c&&"number"==typeof c.r&&"number"==typeof c.g&&"number"==typeof c.b},e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0},e.toRgb255a1=function n(c){return{r:Math.round(255*c.r),g:Math.round(255*c.g),b:Math.round(255*c.b),a:1}},e.clone=function i(c){return{r:c.r,g:c.g,b:c.b}},e.fromHex=function r(c){return{r:((c=Math.floor(c))>>16&255)/255,g:(c>>8&255)/255,b:(255&c)/255}},e.toHex=function o(c){return 65536*Math.round(255*c.r)+256*Math.round(255*c.g)+Math.round(255*c.b)},e.equals=function s(c,d){return c.r===d.r&&c.g===d.g&&c.b===d.b},e.equalsFixed=function a(c,d){return c.r.toFixed(2)===d.r.toFixed(2)&&c.g.toFixed(2)===d.g.toFixed(2)&&c.b.toFixed(2)===d.b.toFixed(2)},e.lerp=function l(c,d,h){return{r:c.r+(d.r-c.r)*h,g:c.g+(d.g-c.g)*h,b:c.b+(d.b-c.b)*h}}})(il||(il={})),(e=>{e.white={...il.white,a:1},e.transparent={...il.white,a:0},e.from0to1=function t(l){return{r:l[0],g:l[1],b:l[2],a:l[3]}},e.fromHexAndA=function n(l,c){return{...il.fromHex(l),a:c}},e.toRgb255a1=function i(l){return{r:Math.round(255*l.r),g:Math.round(255*l.g),b:Math.round(255*l.b),a:l.a}},e.equals=function r(l,c){return il.equals(l,c)&&l.a===c.a},e.equalsFixed=function o(l,c){return il.equalsFixed(l,c)&&l.a.toFixed(2)===c.a.toFixed(2)},e.lerp=function s(l,c,d){return{r:l.r+(c.r-l.r)*d,g:l.g+(c.g-l.g)*d,b:l.b+(c.b-l.b)*d,a:l.a+(c.a-l.a)*d}},e.toStyle=function a({r:l,g:c,b:d,a:h}=e.white){return`rgba(${255*l}, ${255*c}, ${255*d}, ${h})`}})(yo||(yo={})),(e=>{e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]}})(CI||(CI={})),(e=>{e.defaultData={mass:1,stiffness:80,damping:10,velocity:0}})(KW||(KW={})),(e=>{e.defaultData={control1:[.5,0],control2:[.5,1]}})(ZW||(ZW={})),(e=>{e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]})(Zf||(Zf={})),(e=>{e.all=["PerspectiveCamera","OrthographicCamera"],e.is=function t(n){return e.all.includes(n)}})(Qg||(Qg={})),(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset},e.getZoom=function t(n){return"PerspectiveCamera"===n.type?n.perspective?.zoom??1:n.orthographic?.zoom??1}})(P1||(P1={})),(e=>{e.defaultData=function t(i,r=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:2*Math.max(i[0],i[1]),start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[i[0]+i[0]*r,0,0]},grid:{count:[2,2,2],size:i.map(o=>o*(1+r)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}},e.merge=function n(i,r){let o={...i};if(eq.forEach(s=>{Object.assign(o,{[s]:r[s]??i[s]})}),o.radial={...i.radial},r.radial){let s=i.radial,a=r.radial;tq.forEach(l=>{Object.assign(o.radial,{[l]:a[l]??s[l]})})}if(o.linear={...i.linear},r.linear){let s=i.linear,a=r.linear;nq.forEach(l=>{Object.assign(o.linear,{[l]:a[l]??s[l]})})}if(o.grid={...i.grid},r.grid){let s=i.grid,a=r.grid;iq.forEach(l=>{Object.assign(o.grid,{[l]:a[l]??s[l]})})}if(o.toObject={...i.toObject},r.toObject){let s=i.toObject,a=r.toObject;rq.forEach(l=>{Object.assign(o.toObject,{[l]:a[l]??s[l]})})}if(o.randomnessObject={...i.randomnessObject},r.randomnessObject){let s=i.randomnessObject,a=r.randomnessObject;oq.forEach(l=>{Object.assign(o.randomnessObject,{[l]:a[l]??s[l]})})}return o}})(Jf||(Jf={})),(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];e.toOps=function n(i,r){let o=[];void 0!==i.count&&o.push({type:0,path:r,props:{count:i.count}});for(let s of t){let a=i[s];a&&Object.keys(a).length>0&&o.push({type:0,path:[...r,s],props:a})}return o}})(MI||(MI={}));var PI,OI,VP,O1,SI,EI,DI,sq,HP,aq,lq,eq=["count"],tq=["radius","start","end","position","scale","rotation"],nq=["position","scale","rotation"],iq=["count","size"],rq=["count","position","scale","rotation"],oq=["strength","scale","rotation","position","movement","seed","freqScale"];(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"],e.is=function t(n){return e.all.includes(n)}})(PI||(PI={})),(e=>{e.defaultData=function t(i){return function n(i){if("PointLight"===i)return{type:i,color:yo.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if("SpotLight"===i)return{type:i,color:yo.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if("DirectionalLight"===i)return{type:i,color:yo.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}(i)}})(OI||(OI={})),(e=>{e.defaultShapeData={type:"PlaneEmitterShape",size:[100,100,100]},e.defaultCollisionData={colliderEntityId:null,collisionBounce:.75},e.defaultData={renderMaterial:{type:"particleMaterial",color:{r:1,g:.2,b:.545,a:1},color2:{r:.945,g:.714,b:.184,a:1},coloring:"gradient",ease:"linearFadeOut",easeSize:"linearFadeOut",transparent:!0,size:[40,40],texture:"pt_default_particle",spriteRotation:[0,0]},birthRatePerSec:50,gravity:1,noiseStrength:0,noiseScale:0,noiseSeed:1,noiseType:"curl",randomRotation:0,randomScale:.2,randomMass:.5,rootObjectType:"instancedMesh",life:1,direction:[0,0,0],directionMode:"axis",speed:10,shape:e.defaultShapeData,autoPlay:!0,emitTimeDelay:0,emitTimeCycle:"infinity",emitTimeDuration:1,...e.defaultCollisionData}})(VP||(VP={})),(e=>{e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]}})(O1||(O1={})),(e=>{e.defaultData={castShadow:!0,receiveShadow:!0},e.equals=function t(n,i){return n.castShadow===i.castShadow&&n.receiveShadow===i.receiveShadow}})(SI||(SI={})),(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0},e.equals=function t(n,i){return n.flatShading===i.flatShading&&n.side===i.side&&n.wireframe===i.wireframe}})(EI||(EI={})),(e=>{e.defaultData={...EI.defaultData,...SI.defaultData}})(DI||(DI={})),(e=>{e.getMaterialData=function t(n,i){let r=[];if("material"in n){let o="string"==typeof n.material?i.materials[n.material]??i.lib.materials[n.material]?.asset:n.material;o&&r.push(o)}else if("materials"in n)for(let o of n.materials){let s="string"==typeof o?i.materials[o]??i.lib.materials[o]?.asset:o;s&&r.push(s)}return r}})(sq||(sq={})),(e=>{e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7})(HP||(HP={})),(e=>{e.is=function t(n){return"texture"===n||"video"===n||"color"===n||"depth"===n||"normal"===n||"gradient"===n||"noise"===n||"fresnel"===n||"rainbow"===n||"toon"===n||"outline"===n||"particle"===n||"transmission"===n||"matcap"===n||"displace"===n||"pattern"===n||"light"===n}})(aq||(aq={})),(e=>{e.is=function t(n){return"phong"===n||"toon"===n||"lambert"===n||"physical"===n}})(lq||(lq={}));var La,rl,GP,WP,cq=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],JIe=["wrapping","image","video","name","minFilter","magFilter"];(e=>{e.patch=function t(o,s){let{texture:a,...l}=s;if(Object.assign(o,l),a){let c=o.texture;c&&Object.assign(c,a)}},e.defaultData=function n(o,s){return"light"===o&&s?function i(o){let s={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(o){case"phong":return{...s,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...s,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...s,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...s,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}(s):function r(o){let s={alpha:1,mode:0,isMask:!1,visible:!0};switch(o){case"texture":return{...s,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006},crop:!1};case"video":return{...s,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:HP.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006},crop:!1};case"color":return{...s,type:"color",color:il.fromHex(Qc)};case"depth":return{...s,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...s,type:"normal",cnormal:[1,1,1]};case"gradient":return{...s,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...s,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...il.fromHex(6710886),a:1},colorB:{...il.fromHex(6710886),a:1},colorC:{...il.fromHex(16777215),a:1},colorD:{...il.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...s,type:"fresnel",color:yo.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...s,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...s,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:yo.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...s,type:"outline",outlineColor:yo.fromHexAndA(0,1),contourColor:yo.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...s,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006}};case"transmission":return{...s,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...s,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...il.fromHex(0),a:1},colorB:{...il.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}(o)}})(La||(La={})),(e=>{function s(d,h="layer1",p="layer2"){let g=new Jn;return g.push({fi:0,data:La.defaultData("light",d),id:h}),g.push({fi:1,data:La.defaultData("color"),id:p}),{layers:g}}e.isMergable=function t(d){return!d.layers.some(h=>"texture"===h.data.type&&0!==h.data.projection||"depth"===h.data.type&&!h.data.isWorldSpace||"noise"===h.data.type||"displace"===h.data.type)},e.getHash=function n(d){let h="";return d.layers.forEach(p=>{Object.entries(p.data).forEach(([g,v])=>{h+=`${g}${v}`,Array.isArray(v)?v.forEach(y=>h+=`${y}`):"object"==typeof v?Object.values(v).forEach(y=>{h+="number"==typeof y?`${y.toFixed(4)}`:`${y}`}):h+=`${v}`})}),h},e.defaultEmptyData=function i(){return{layers:new Jn}},e.defaultData=function r(d="layer1",h="layer2"){return s("phong",d,h)},e.withName=function o(d,h){return{...d,name:h}},e.defaultTwoLayerData=s,e.defaultUIObjectMaterial=function a(d){let h=La.defaultData("texture");d&&Object.assign(h.texture,{image:d});let p=new Jn;return p.push({fi:0,data:h,id:"layer1"}),p.push({fi:1,data:{...La.defaultData("transmission"),alpha:1},id:"layer2"}),p.push({fi:2,data:{...La.defaultData("light","lambert"),alpha:0},id:"layer3"}),{layers:p}},e.defaultTwoLayerTextureData=function l(d,h="phong",p="layer1",g="layer2"){let v=La.defaultData("texture");Object.assign(v.texture,{image:d});let y=new Jn;return y.push({fi:0,data:v,id:p}),y.push({fi:1,data:La.defaultData("light",h),id:g}),{layers:y}},e.defaultTwoLayerVideoTextureData=function c(d,h="phong",p="layer1",g="layer2"){let v=La.defaultData("video");Object.assign(v.texture,{video:d});let y=new Jn;return y.push({fi:0,data:v,id:p}),y.push({fi:1,data:La.defaultData("light",h),id:g}),{layers:y}}})(rl||(rl={})),(e=>{e.defaultData=function t(){return{points:new Jn,roundness:0,shapeHoles:[],isClosed:!1}}})(GP||(GP={})),(e=>{e.defaultData=function t(){return{points:new Jn,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}})(WP||(WP={}));var AI,dq={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0};(e=>{e.merge=function t(n,i){let r={...n};return uq.forEach(o=>{Object.assign(r,{[o]:i[o]??n[o]})}),r}})(AI||(AI={}));var qP,TI,Kg,hq={shape:dq,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},uq=["depth","offset","angle","twist","startScale","endScale"];(e=>{e.is2DParametricMesh=function t(i){return"PolygonGeometry"===i||"RectangleGeometry"===i||"StarGeometry"===i||"TriangleGeometry"===i||"EllipseGeometry"===i||"UIGeometry"===i},e.isParametricMesh=function n(i){return"PolygonGeometry"===i||"PolygonGeometry"===i||"RectangleGeometry"===i||"StarGeometry"===i||"TriangleGeometry"===i||"EllipseGeometry"===i||"PathGeometry"===i||"VectorGeometry"===i||"ConeGeometry"===i||"CubeGeometry"===i||"CylinderGeometry"===i||"DodecahedronGeometry"===i||"HelixGeometry"===i||"IcosahedronGeometry"===i||"LatheGeometry"===i||"PyramidGeometry"===i||"SphereGeometry"===i||"PlaneGeometry"===i||"BackdropGeometry"===i||"TorusGeometry"===i||"TorusKnotGeometry"===i||"BooleanGeometry"===i||"TextGeometry"===i||"InputGeometry"===i}})(qP||(qP={})),(e=>{e.merge=function t(n,i){let r={...n};return Object.assign(r,i),"PathGeometry"===r.type&&"extrusion"in i&&i.extrusion&&(r.extrusion={...n.extrusion},Object.assign(r.extrusion,AI.merge(r.extrusion,i.extrusion))),r}})(TI||(TI={})),(e=>{e.defaultData=function t(n){if("RectangleGeometry"===n)return{width:320,height:320,type:n,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if("UIGeometry"===n)return{type:n,frame:"",cornerRadius:[0,0,0,0],cornerType:0,width:1,height:1};if("PathGeometry"===n)return{type:n,width:1,height:1,depth:1,path:WP.defaultData(),extrusion:hq};if("VectorGeometry"===n)return{width:1,height:1,type:n,subdivisions:12,shape:GP.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if("BooleanGeometry"===n)return{type:n,operation:2,width:0,height:0,depth:0,phongAngle:35};if("TextGeometry"===n)return{type:n,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",editable:!1,extrudeBevelSize:0,extrudeBevelSegments:1};if("InputGeometry"===n)return{...e.defaultData("TextGeometry"),type:n,editable:!0};if("SphereGeometry"===n)return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}})(Kg||(Kg={}));var kI,YP,RI,NI,LI,S1,FI,BI,zI,pq,E1,Fa,UI,fq,mq,gq,Zg,V_,jI,XP,em,D1,VI,Jg,$P,tm,HI,GI,e0,H_,t0,G_,WI,vq,ol,qI,yq,bq,kp,Id,QP,KP,II=["width","height","depth"];function _q(e){e.layers.forEach(t=>{if("depth"===t.type&&void 0!==t.colorA){let n=t.colorA,i=t.colorB,r=[[n.r,n.g,n.b,n.a],[i.r,i.g,i.b,i.a]],o=[0,1];for(let a=2;a<10;a++)r.push(r[1]),o.push(1);let s={...pu(Is(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,t.near),far:Math.max(0,t.far),colors:r,steps:o,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(t,s)}else if("depth"===t.type&&1===t.gradientType&&(t.near<0||t.far<0)){let n={...Is(t),near:Math.max(t.near,0),far:Math.max(t.far,0)};Object.assign(t,n)}})}function nm(e,t){Object.values(e.shared.materials).forEach(n=>t(n))}function im(e,t){e.scene.objects.traverse((n,i)=>{"materials"in i?i.materials.forEach((r,o)=>{void 0===r&&(i.materials[o]=rl.defaultData(),r=i.materials[o]),"string"!=typeof r&&t(r)}):"material"in i?"string"!=typeof i.material&&(void 0===i.material&&(i.material=rl.defaultData()),t(i.material)):"Mesh"===i.type&&(void 0===i.material&&(i.material=rl.defaultData()),t(i.material)),"overrides"in i&&Object.values(i.overrides).forEach(r=>{r.material&&"string"!=typeof r.material&&Object.getPrototypeOf(r.material)!==Ks.prototype&&t(r.material)})})}function xq(e){void 0===e.layers&&Object.assign(e,rl.defaultTwoLayerData("lambert"))}function YI(e){!e.layers||e.layers.forEach(t=>{if("depth"===t.type&&10===t.colors.length){let n=[...t.colors];n.push(t.colors[9]);let i=[...t.steps];i.push(t.steps[9]);let r={...Is(t),colors:n,steps:i};Object.assign(t,r)}})}function wq(e){e.scene.objects.traverse((t,n)=>{"materials"in n?n.materials.forEach(i=>{"string"!=typeof i&&YI(i)}):"material"in n&&"string"!=typeof n.material&&YI(n.material)}),Object.values(e.shared.materials).forEach(t=>YI(t))}function Cq(e){e.layers&&e.layers.forEach(t=>{"depth"===t.type&&void 0!==t.num&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function Mq(e){e.layers&&e.layers.forEach(t=>{(function ZIe(e){return"displace"!==e.type})(t)&&void 0===t.isMask&&(t.isMask=!1),("texture"===t.type||"video"===t.type)&&void 0===t.blending&&(t.blending=0),("noise"===t.type||"displace"===t.type&&"noise"===t.displacementType)&&(void 0===t.voronoiStyle&&(t.voronoiStyle=0),void 0===t.highCut&&(t.highCut=1),void 0===t.lowCut&&(t.lowCut=0),void 0===t.smoothness&&(t.smoothness=.3),void 0===t.seed&&(t.seed=0),void 0===t.quality&&(t.quality=1))})}function Pq(e){let t=e.layers.find(n=>"light"===n.type)?.data;if("basic"===t?.category){let n=La.defaultData("light","phong"),i=t;Object.assign(i,n),i.visible=!1}}function Oq(e){nm(e,Pq),im(e,Pq)}function Sq(e){e.layers.forEach(t=>{"light"===t.type&&"toon"!==t.category&&void 0===t.occlusion&&(t.occlusion=!0)})}function Eq(e){e.layers&&e.layers.forEach(t=>{"light"===t.type&&void 0===t.bumpMapIntensity&&(t.bumpMapIntensity=5)})}function Dq(e){e.layers&&e.layers.forEach(t=>{"light"===t.type&&void 0===t.alphaOverride&&(t.alphaOverride=1)})}(e=>{e.defaultData={enabled:!1,useBackgroundColor:!1,color:il.white,near:.1,far:2e3}})(kI||(kI={})),(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focusDistance:100,focalLength:20,bokehScale:5},noise:{...t,blendFunction:16}}})(YP||(YP={})),(e=>{e.defaultData={softShadowQuality:"low"}})(RI||(RI={})),(e=>{e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75}})(NI||(NI={})),(e=>{e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}}})(LI||(LI={})),(e=>{e.defaultData={usePhysics:!1,gravity:-10}})(S1||(S1={})),(e=>{e.defaultData={playCamera:C1,gameControlObject:null}})(FI||(FI={})),(e=>{e.defaultData={backgroundColor:yo.fromHexAndA(2960946,1),postprocessing:YP.defaultData,fog:kI.defaultData,globalPhysics:S1.defaultData,ambient:NI.defaultData,ao:LI.defaultData,shadow:RI.defaultData,publish:FI.defaultData}})(BI||(BI={})),(e=>{e.defaultData={colliderType:"box",size:[100,100,100],colliderHelperVisible:!0,forceType:"collider",forceRange:"global",forceIntensity:.5,forceDambing:.95}})(zI||(zI={})),(e=>{e.isComponentRelated=function t(i){return"Component"===i||"Instance"===i},e.isEmptyOrComponent=function n(i){return"Empty"===i||"Instance"===i}})(pq||(pq={})),(e=>{e.identity={...CI.identity,hiddenMatrix:M1.identity},e.fromObject=function t(r){return{position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix}},e.merge=function n(r,o){return{position:o?.position||r.position,rotation:o?.rotation||r.rotation,scale:o?.scale||r.scale,hiddenMatrix:o?.hiddenMatrix||r.hiddenMatrix}},e.diff=function i(r,o){return WG({position:$g.isEqual(r.position,o.position)?void 0:o.position,rotation:$g.isEqual(r.rotation,o.rotation)?void 0:o.rotation,scale:$g.isEqual(r.scale,o.scale)?null:o.scale,hiddenMatrix:M1.isEqual(r.hiddenMatrix,o.hiddenMatrix)?void 0:o.hiddenMatrix})}})(E1||(E1={})),(e=>{e.defaultData={states:new Jn,events:new Jn,visible:!0,raycastLock:!1,physics:O1.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...E1.identity,cloner:null}})(Fa||(Fa={})),(e=>{e.defaultData={type:"Empty",...Fa.defaultData}})(UI||(UI={})),(e=>{e.defaultData={type:"ParticleCollider",...zI.defaultData,...Fa.defaultData}})(fq||(fq={})),(e=>{e.defaultData={type:"Component",...Fa.defaultData}})(mq||(mq={})),(e=>{e.defaultData={type:"Particle",...Fa.defaultData,...VP.defaultData}})(gq||(gq={})),(e=>{e.defaultData={type:"Mesh",...Fa.defaultData,...DI.defaultData}})(Zg||(Zg={})),(e=>{e.defaultData={...Fa.defaultData,...E1.identity,position:[0,0,P1.DefaultTargetOffset],...P1.defaultData}})(V_||(V_={})),(e=>{e.defaultData=function t(n){return{...Fa.defaultData,...OI.defaultData(n)}},e.defaultDirectionalLightData={...e.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})(jI||(jI={})),(e=>{function t(i,r,o=0){for(;o<r.length;){let s=i?i[r[o]]:void 0;if(r.length===o+1)return s;if(!s)return;i=s.descendants,o+=1}}e.resolveWithDes=t,e.resolve=function n(i,r,o=0){let s=t(i,r,o);if(s){let a=Object.keys(s);if(1===a.length&&"descendants"===a[0])return}return s}})(XP||(XP={})),(e=>{function t(i,r){return{...Fa.defaultData,...r,component:i,overrides:new Ks,physics:void 0,events:void 0,type:"Instance"}}e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"],e.ofComponent=t,e.fromComponentData=function n(i){let r=E1.fromObject(i.data);return t(i.id,r)}})(em||(em={})),(e=>{e.defaultData={type:"Page",...Fa.defaultData,physics:{...O1.defaultData,fusedBody:!1},...BI.defaultData,camera:V_.defaultData},e.isUIPage=function t(n){return void 0!==n.uiScene}})(D1||(D1={})),(e=>{e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:M1.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:O1.defaultData,states:new Jn,events:new Jn,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},...P1.defaultData},e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject={name:"Rectangle",...Fa.defaultData,...Zg.defaultData,geometry:Kg.defaultData("RectangleGeometry"),material:rl.defaultTwoLayerData("phong","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...Fa.defaultData,...Zg.defaultData,geometry:Kg.defaultData("BooleanGeometry"),material:rl.defaultTwoLayerData("phong","layer1","layer2")},e.defaultTextObject={name:"Text",...Fa.defaultData,...Zg.defaultData,geometry:Kg.defaultData("TextGeometry"),material:rl.defaultTwoLayerData("phong","layer1","layer2")},e.defaultInputObject={name:"Input",...Fa.defaultData,...Zg.defaultData,geometry:Kg.defaultData("InputGeometry"),material:rl.defaultTwoLayerData("phong","layer1","layer2")}})(VI||(VI={})),(e=>{e.newEmpty=function t(o,s){let a={name:s};return"Mesh"===o.type?(a.geometry={},"material"in o&&(a.material={layers:new Ks}),"materials"in o&&(a.materials=o.materials.map(l=>({layers:new Ks})))):Qg.is(o.type)&&(a.perspective={},a.orthographic={}),a},e.toOps=function i(o,s){let a,l=[],c={orthographic:0,perspective:0,geometry:0};function d(h,p){for(let[g,v]of Object.entries(p.layers)){let{texture:y,...b}=v;if(void 0!==y&&Object.keys(y).length>0){let P={path:[...h,"layers",g,"texture"],props:y,type:0};l.push(P)}if(Object.keys(b).length>0){let P={path:[...h,"layers",g],props:b,type:0};l.push(P)}}}for(let[h,p]of Object.entries(s))if("name"!==h)if("cloner"===h)l.push(...MI.toOps(p,["cloner"]));else if("pathSnapping"===h)l.push({path:[h],props:{slide:p.slide,offset:p.offset},type:0});else if("material"===h)d(["material"],p);else if("materials"===h)for(let[g,v]of Object.entries(p))d(["materials",g],v);else 0===c[h]?("geometry"===h&&void 0!==p.extrusion&&(l.push({path:[h,"extrusion"],props:p.extrusion,type:0}),p={...p},delete p.extrusion),Object.keys(p).length>0&&l.push({path:[h],props:p,type:0})):(void 0===a&&(a={path:[],props:{},type:0},l.push(a)),a.props[h]=p);return l},e.patch=function r(o,s){if(void 0===s)return o;let a={...o};if(Object.assign(a,E1.merge(a,s)),Object.assign(a,{pathSnapping:Object.assign({},a.pathSnapping,{slide:s.pathSnapping?.slide??a.pathSnapping?.slide??0,offset:s.pathSnapping?.offset??a.pathSnapping?.offset??0})}),Qg.is(o.type)){a.orthographic={...a.orthographic},a.perspective={...a.perspective};let l=s;void 0!==l.orthographic?.zoom&&(a.orthographic.zoom=l.orthographic.zoom),void 0!==l.perspective?.zoom&&(a.perspective.zoom=l.perspective.zoom),void 0!==l.isUpVectorFlipped&&(a.isUpVectorFlipped=l.isUpVectorFlipped),void 0!==l.targetOffset&&(a.targetOffset=l.targetOffset)}else if("Mesh"===o.type)"geometry"in s&&Object.assign(a,{geometry:TI.merge(a.geometry,s.geometry)}),(s.material||s.materials)&&(a=function n(o,s){if(void 0===s)return o;let a={...o};return"material"in a&&"material"in s&&s.material&&(a.material=z_(a.material,l=>{if("string"!=typeof l)for(let[c,d]of Object.entries(s.material.layers)){let h=l.layers.data(c);h&&La.patch(h,d)}}).data),a.materials&&s.materials&&(a.materials=z_(a.materials,l=>{for(let c=0;c<a.materials.length;c++){let d=s.materials[c];if("string"!=typeof d)for(let[h,p]of Object.entries(d.layers)){let g=l[c]?.layers?.data(h);g&&La.patch(g,p)}}}).data),a}(a,s)),a.cloner&&"cloner"in s&&Object.assign(a,{cloner:Jf.merge(a.cloner,s.cloner)});else if("Empty"===o.type)a.cloner&&"cloner"in s&&Object.assign(a,{cloner:Jf.merge(a.cloner,s.cloner)});else if(PI.is(o.type)){let l=s;void 0!==l.intensity&&(a.intensity=l.intensity),void 0!==l.color&&(a.color="string"==typeof l.color?l.color:il.clone(l.color))}return a}})(Jg||(Jg={})),(e=>{e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0}})($P||($P={})),(e=>{e.defaultData={orbitControls:$P.defaultData,playPage:j_,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,n)=>{let i=0,r=0;return n<5?r=-30:n<10&&(r=30),0===n||10===n||5===n?i=30:(4===n||11===n||9===n)&&(i=-30),[120,[i,r],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1,imageQuality:70}},stopRaycast:!0,hdTransmission:!1}})(tm||(tm={})),(e=>{e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""}})(HI||(HI={})),(e=>{e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0}})(GI||(GI={})),(e=>{e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...HI.defaultData},isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:GI.defaultData}),e.generateSeed=()=>Math.round(1e5*Math.random())})(e0||(e0={})),(e=>{e.physicsEnabled=function t(i){return void 0!==i.find(r=>"Page"===r.data.type&&r.data.globalPhysics.usePhysics)},e.traverseModuleInstances=function n(i,r,o){i.scene.objects.traverseFrom(r,(s,a)=>{if("Instance"===a.type){let l=ZP.getComponentData(i,a.component)?.data;l&&o(s,a,l.events)}else o(s,a,a.events)})}})(H_||(H_={})),(e=>{function t(r=!0,o=[]){let s=[],a=VI.defaultMeshObject;r&&(s.push({...e.defaultLight}),s.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:a,children:[]})),s.push(...o);let l=new nl;return l.push({fi:1,id:j_,data:{...D1.defaultData,name:"Scene 1"},children:s}),l}function n(r){return{...e.defaultData,objects:Ad(r,nl.prototype)}}e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222",e.defaultLight={fi:-1,data:jI.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]},e.createDefaultObjectTreeWithPage=t,e.defaultData={objects:t(),publish:tm.defaultData,styles:e0.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new nl,publish:tm.defaultData,styles:e0.defaultData()}},e.emptyDataWithPage=function(r=!0){return{objects:t(r),publish:tm.defaultData,styles:e0.defaultData()}},e.emptyData=function(){return{objects:new nl,publish:{...tm.defaultData},styles:e0.defaultData()}},e.withObjs=n,e.withObj=function i(r,o){return n([{id:r,data:o,children:[],fi:0}])}})(t0||(t0={})),(e=>{e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}}})(G_||(G_={})),(e=>{e.defaultData=t=>({url:t,name:"New Webhook",parametersSchemas:new Jn}),e.defaultParameterValueByType=t=>"number"===t?0:"boolean"!==t&&""})(WI||(WI={})),(e=>{e.defaultData=(t,n="GET")=>({url:t,method:n,name:"New API",headers:new Jn,queries:new Jn,autoStart:!0})})(vq||(vq={})),(e=>{function t(s){return void 0!==s.textValue}function i(s){return"boolean"==typeof s}e.isTextValue=t,e.isNumber=function n(s){return"number"==typeof s},e.isBoolean=i,e.typeOfVariable=function r(s){return t(s)?"string":i(s)?"boolean":"number"},e.getDisplayedValue=function o(s){return e.isTextValue(s)?Array.isArray(s.textValue)?s.textValue.map(a=>a.toString().padStart(s.padding??2,"0")).join(s.deliminator??":")+(void 0!==s.suffix?" "+s.suffix:""):s.textValue.toString():e.isBoolean(s)?s?"True":"False":e.isNumber(s)?parseFloat(s.toFixed(3)).toString():s.toString()}})(ol||(ol={})),(e=>{e.all=["images","videos","colors","audios","particles","fonts","materials","variables"]})(qI||(qI={})),(e=>{e.all=[...qI.all,"components"]})(yq||(yq={})),(e=>{e.defaultData=function t(){return{images:new vi,videos:new vi,colors:new vi,audios:new vi,particles:new vi,fonts:new vi,materials:new vi,components:new vi,variables:new vi,userAPIs:new vi,userWebhooks:new vi}}})(bq||(bq={})),(e=>{e.defaultData=function t(){return{images:new vi,videos:new vi,colors:new vi,audios:new vi,particles:new vi,fonts:new vi,materials:new vi,components:new vi,variables:new vi,userAPIs:new vi,userWebhooks:new vi}}})(kp||(kp={})),(e=>{e.defaultColors=function t(){return Ad({"89b10010-844c-11ec-a8a3-0242ac120002":{r:.5,g:.5,b:.5,a:1,name:"Default Color"}},vi.prototype)},e.defaultImages=function n(){return Ad({},vi.prototype)},e.emptyData=function i(){return{catelogs:new vi,materials:new vi,images:new vi,videos:new vi,colors:new vi,audios:new vi,particles:new vi,fonts:new vi,variables:new Jn,userAPIs:new vi,userWebhooks:new vi,lib:kp.defaultData()}},e.defaultVariables=function r(s){switch(s){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let a=[0,0,0];return{name:"Time",value:{textValue:a,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:a,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",s)}},e.getFormattedTimerTime=function o(s,a){if("HH:mm:ss"===a.format){let l=Math.floor(s/3600),c=Math.floor((s-3600*l)/60);return{textValue:[l,c,Math.round(s-3600*l-60*c)]}}if("mm:ss"===a.format){let l=Math.floor(s/60);return{textValue:[l,Math.round(s-60*l)]}}return"number"===a.format?Math.round(s):Math.round(1e3*s)/1e3}})(Id||(Id={})),(e=>{e.list=["idle","move","jump","run"]})(QP||(QP={})),(e=>{e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","\u25b2"],["rotPosY","\u25c0"],["rotNegX","\u25bc"],["rotNegY","\u25b6"],["jump","Space"],["run","\u21e7"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new Jn,move:new Jn,jump:new Jn,run:new Jn},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:yo.fromHexAndA(3728051,1)}}})(KP||(KP={}));var A1=180/Math.PI;function Aq(e){e.rotation=e.rotation.slice(0,3).map(t=>t*A1)}function Tq(e){Aq(e),"Page"===e.type&&Aq(e.camera),e.states?.forEach(n=>{null==n.rotation||(n.rotation=n.rotation.slice(0,3).map(i=>i*A1))});let t=e.geometry;t&&"SphereGeometry"===t.type&&(t.thetaLength=(t.thetaLength??180)*A1),t&&"TorusGeometry"===t.type&&(t.arc=t.arc*A1),t&&"PathGeometry"===t.type&&(t.extrusion.angle*=A1,t.extrusion.twist*=A1),"Mesh"===e.type&&"TextGeometry"===e.geometry.type&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(Is(e.events))&&e.events?.forEach(n=>{("MouseDown"===n.type||"MouseUp"===n.type||"MousePress"===n.type||"KeyDown"===n.type||"KeyUp"===n.type||"KeyPress"===n.type||"Collision"===n.type||"Trigger"===n.type)&&(n.runMode=n.toggle?"Toggle":"Repeat")})}var ZP,XI,Rq,JP,$I,Nq,e2,n0,W_,T1,t2,QI,q_,KI,ZI,Lq,n2,JI,r0,ek,Rp=115;function Iq(e,t){t(e.data);for(let n of e.children)Iq(n,t)}function jke(e){let t=e.schema??104;t!==Rp&&t<105&&(Iq(e.asset,Tq),e.schema=105)}function kq(e){let t=e.schema??0;if(t!==Rp){console.warn("updating from ",t,"to ",Rp),function Lke(e,t){if(t<1&&(im(e,_q),nm(e,_q),e.schema=1),t<2&&(function eke(e){Object.assign(e.scene.publish,{orbitControls:{...$P.defaultData,...Is(e.scene.publish.orbitControls)}})}(e),e.schema=2),t<3&&(function nke(e){function t(n){if(n.layers)for(let i of Object.values(n.layers))if(i)for(let[r,o]of Object.entries(i))if((cq.includes(r)||"boolean"==typeof o)&&delete i[r],"texture"===r)for(let[s,a]of Object.entries(o))(JIe.includes(s)||"boolean"==typeof a)&&delete o[s]}e.scene.objects.traverse((n,i)=>{i.states.forEach(r=>{let o=r;o.material?t(o.material):o.materials&&o.materials.forEach(s=>{t(s)})})})}(e),e.schema=3),t<4&&(function ike(e){e.scene.publish.withBackground=!0}(e),e.schema=4),t<5&&(function rke(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}(e),e.schema=5),t<6&&(function oke(e){e.scene.objects.traverse((t,n)=>{let i=n.cloner;i&&(i.radial.scale=i.radial.scale.map(r=>r+1),i.linear.scale=i.linear.scale.map(r=>r+1))})}(e),e.schema=6),t<7&&(function ske(e){e.scene.objects.traverse((t,n)=>{let i=n.geometry;i&&("DodecahedronGeometry"===i.type||"IcosahedronGeometry"===i.type)&&(i.detail=Math.round(i.detail))})}(e),e.schema=7),t<8&&(e.schema=8),t<9&&(wq(e),e.schema=9),t<10&&(function dke(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&("BooleanGeometry"===n.geometry.type||"SubdivGeometry"===n.geometry.type)&&(n.geometry.phongAngle=35)})}(e),e.schema=10),t<11&&(function hke(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,n)=>{("DirectionalLight"===n.type||"SpotLight"===n.type)&&(n.shadowResolution=1024,n.shadowRadius=1,n.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}(e),e.schema=11),t<12&&(wq(e),e.schema=12),t<13&&(function uke(e){e.shared.audios=Ad({},vi.prototype)}(e),e.schema=13),t<14&&(function fke(e){let t=e.shared.materials;Object.entries(t).forEach(([n,i])=>{i.layers||Object.assign(t,{[n]:{name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]}})})}(e),e.schema=14),t<15&&(function mke(e){Object.entries(Is(e.shared.images)).filter(t=>!1===t[1].asset).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(Is(e.shared.audios)).filter(t=>!1===t[1].asset).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}(e),e.schema=15),t<16&&(function gke(e){e.scene.publish.settings.web.preload=!1}(e),e.schema=16),t<17&&(im(e,Cq),nm(e,Cq),e.schema=17),t<18&&(im(e,xq),nm(e,xq),e.schema=18),t<19&&(function tke(e){Object.assign(e.scene.publish.settings,{video:{...tm.defaultData.settings.video,...Is(e.scene.publish.settings.video)}})}(e),e.schema=19),t<20&&(function vke(e){e.shared.fonts=Ad({},vi.prototype)}(e),function bke(e){let t=[];e.scene.objects.traverse((n,i)=>{let r=i;if("TextFrame"===r.type){let o=rl.defaultTwoLayerData("phong"),s="string"==typeof r.color?e.shared.colors[r.color]:r.color;o.layers[1].data.color={r:s.r,g:s.g,b:s.b},o.layers[1].data.alpha=r.alpha;let a=function yke(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}(r.font);void 0===e.shared.fonts[a]&&(e.shared.fonts[a]={name:a});let l={name:r.name,...Fa.defaultData,...Zg.defaultData,flatShading:!1,wireframe:!1,geometry:{...Kg.defaultData("TextGeometry"),width:r.width,height:r.height,font:a,depth:0,horizontalAlign:r.horizontalAlign,verticalAlign:r.verticalAlign,fontSize:1.40625*r.fontSize,lineHeight:r.lineHeight/1.40625,letterSpacing:r.letterSpacing-1,text:r.text,textTransform:r.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:o,states:Is(r.states),events:Is(r.events),visible:r.visible,raycastLock:r.raycastLock,position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix},c=Is(e.scene.objects).parent(n);e.scene.objects.insertAfter(c??null,n,[{id:n+"new",data:l,children:[]}]),t.push(n)}}),t.forEach(n=>{e.scene.objects.delete(n)})}(e),e.schema=20),t<21&&(function _ke(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((n,i)=>{i.events.forEach(r=>{if(t[Number(r.type)])if(Object.assign(r,{type:t[Number(r.type)]}),"Audio"===r.type&&"audioEvent"in r&&(Object.assign(r,{playAudio:r.audioEvent}),delete r.audioEvent),"GameControl"===r.type)Object.assign(r,{gameActions:{idle:new Jn,move:new Jn,jump:new Jn}});else{let o=new Jn;Object.assign(r,{actions:o}),("MouseDown"===r.type||"MouseUp"===r.type||"KeyDown"===r.type||"KeyUp"===r.type)&&"url"in r&&o.push({fi:0,id:Ln.generateUUID(),data:{type:"Link",url:r.url,delay:0}}),"targets"in r&&(r.targets.forEach((s,a,l)=>{let d={easing:s.easing,duration:s.duration};6===s.easing?Object.assign(d,pu(s,"mass","stiffness","damping","velocity")):5===s.easing&&Object.assign(d,{control1:{...s.control1},control2:{...s.control2}});let p={state:s.state,repeat:s.repeat?-1:0,delay:s.delay,delayDirection:s.delayDirection,direction:s.cycle&&s.rewind?"pingpong-rewind":s.cycle?"pingpong":"normal",...d},g={allowSlerp:!0,type:"Transition",object:s.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new Jn({fi:0,id:Ln.generateUUID(),data:{state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4}},{fi:1,id:Ln.generateUUID(),data:p})};o.push({fi:l,id:a,data:g})}),delete r.targets)}})})}(e),function xke(e){e.scene.objects.traverse((t,n)=>{function i(r,o){let s=new Jn,a=[];if(n.events.forEach((l,c,d)=>{if("Audio"===l.type&&l.trigger===o){let h;a.push(c),"play"===l.interaction?h={...pu(l,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in l?l.after:void 0,toggle:"after"in l?l.toggle:void 0,type:"Audio"}:("pause"===l.interaction||"stop"===l.interaction)&&(h={...pu(l,"interaction","delay","object","playAudio"),type:"Audio"}),h&&s.push({fi:d,id:c,data:h})}}),a.forEach(l=>n.events.delete(l)),s.length){let l=n.events.find(c=>c.type===r)?.data;l?"actions"in l&&l.actions.insertBefore(null,s):n.events.insertBefore(null,[{id:Ln.generateUUID(),data:{type:r,actions:s}}])}}i("Start","start"),i("MouseDown","mouseDown"),i("MouseUp","mouseUp"),i("KeyDown","keyDown"),i("KeyUp","keyUp")})}(e),e.schema=21),t<22&&(Oq(e),e.schema=22),t<23&&(function wke(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&"SubdivGeometry"===n.geometry.type&&(n.geometry.scaleBaked||(n.geometry.scaleBaked=[1,1,1]))})}(e),e.schema=23),t<24&&(function Cke(e){e.scene.objects.traverse((t,n)=>{("Empty"===n.type||"Mesh"===n.type)&&n.cloner&&!n.cloner.randomnessObject&&!n.cloner.toObject&&!n.cloner.randomness&&(n.cloner={...n.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})})}(e),e.schema=24),(t<25||void 0===e.shared.videos)&&(function pke(e){e.shared.videos=Ad({},vi.prototype)}(e),t<25&&(e.schema=25)),t<26&&(function ake(e){e.scene.objects.traverse((t,n)=>{let i=e.scene.objects.unproxy().parent(t);if(i){let r=Is(e.scene.objects.data(i));r&&"Mesh"===r.type&&"BooleanGeometry"===r.geometry.type&&"Mesh"===n.type&&(n.visible=!0!==Is(n).booleanExclude)}})}(e),e.schema=26),t<27&&(function lke(e){e.scene.objects.traverse((t,n)=>{if("Mesh"===n.type){let i=n;"NonParametricGeometry"===n.geometry.type?void 0!==i.material&&delete i.material:void 0!==i.materials&&delete i.materials}})}(e),e.schema=27),t<28&&(Oq(e),e.schema=28),t<29&&(function cke(e){function t(i){Object.setPrototypeOf(i,Ks.prototype),i.texture&&Object.setPrototypeOf(i.texture,Ks.prototype)}function n(i){Object.setPrototypeOf(i,Ks.prototype);for(let r in i)t(i[r])}e.scene.objects.traverse((i,r)=>{r.states.forEach(o=>{let s=o;if(s.material){let a=Is(s.material).layers;n(a),s.material.layers=a}if(s.materials)for(let a=0;a<s.materials.length;a++){let l=s.materials[a],c=Is(l).layers;n(c),l.layers=c}})})}(e),e.schema=29),t<30&&(function Mke(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&"NonParametricGeometry"===n.geometry.type&&!("material"in n)&&!("materials"in n)&&(n.material=rl.defaultTwoLayerData("phong"))})}(e),e.schema=30),t<31&&(function Pke(e){void 0===e.scene.publish.orbitControls.autoZoom&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,n)=>{("OrthographicCamera"===n.type||"PerspectiveCamera"===n.type)&&(void 0===n.orthographic.autoZoom&&(n.orthographic.autoZoom=!1),void 0===n.orthographic.autoZoomFrustumSize&&(n.orthographic.autoZoomFrustumSize=790))})}(e),e.schema=31),t<33&&(function Oke(e){e.scene.objects.traverse((t,n)=>{void 0===n.pathSnapping&&(n.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),void 0===n.pathSnapping.offset&&(n.pathSnapping.offset=0)})}(e),e.schema=33),t<34&&(function Ske(e){void 0===e.scene.publish.mouseEventTarget&&(e.scene.publish.mouseEventTarget="canvas"),void 0===e.scene.publish.settings.web.hint&&(e.scene.publish.settings.web.hint=!1)}(e),e.schema=34),t<35&&(function Eke(e){let{video:t}=e.scene.publish.settings;"gif"===t.format&&t.fps>48&&(t.fps=15)}(e),e.schema=35),t<36&&(function Dke(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.resetYPosition=Math.abs(i.resetYPosition-n.position[1]))})})}(e),e.schema=36),t<37&&(function Ake(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((n,i)=>{i.collision=(!t||null!==i.physics)&&"visibility"})}(e),e.schema=37),t<38&&(im(e,Mq),nm(e,Mq),e.schema=38),t<39&&(function Tke(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.navmesh=KP.defaultDataThirdPerson.navmesh)})})}(e),e.schema=39),t<40&&(function Ike(e){e.scene.styles||(e.scene.styles=e0.defaultData())}(e),e.schema=40),t<41&&(function kke(e){void 0===e.scene.environment.ambientLight.occlusion&&(e.scene.environment.ambientLight.occlusion=!1),void 0===e.scene.environment.ambientLight.aoFullRes&&(e.scene.environment.ambientLight.aoFullRes=!1),void 0===e.scene.environment.ambientLight.radius&&(e.scene.environment.ambientLight.radius=256),void 0===e.scene.environment.ambientLight.bias&&(e.scene.environment.ambientLight.bias=.5),void 0===e.scene.environment.ambientLight.aoColor&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),im(e,Sq),nm(e,Sq)}(e),e.schema=41),t<42&&(function Rke(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&Object.assign(i.gameActions,{run:new Jn})})})}(e),e.schema=42),t<43&&(function Nke(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.keyAssignments=[...i.keyAssignments,["run","\u21e7"],["none","Ctrl"]])})})}(e),e.schema=43),t<99){im(e,Eq),nm(e,Eq),null===e.scene.publish.playCamera&&(e.scene.publish.playCamera=C1);let n=Is(e.scene.objects),i=e.scene.objects;e.scene.publish.playPage=j_,i.insertBefore(null,null,[{id:j_,data:{...D1.defaultData,backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:pu(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:pu(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...S1.defaultData,...pu(e.scene.environment,"usePhysics","gravity")},camera:Is(e.scene.ownerCamera)??D1.defaultData.camera,name:"Scene"},children:[]}]);for(let s of n)s.id!==t0.TRASH_CAN_ID&&i.move(j_,s.fi,s.id);let r=0,o=0;e.shared.penumbraSize&&e.scene.objects.traverse((s,a)=>{"DirectionalLight"===a.type?(a.penumbraSize=e.shared.penumbraSize[Math.min(r,2)],r+=1):"SpotLight"===a.type&&(a.penumbraSize=e.shared.penumbraSize[3+Math.min(o,1)],o+=1),null==a.physics&&"Instance"!==a.type&&(a.physics={},Object.assign(a.physics,O1.defaultData)),null!=a.physics&&(a.physics.enabled=a.collision??"visibility",delete a.collision)}),e.schema=99}}(e,t),t<100&&(void 0===e.scene.publish.joystickSizeAndXYOffset&&(e.scene.publish.joystickSizeAndXYOffset=tm.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(im(e,Dq),nm(e,Dq),e.schema=101),t<102&&(function Fke(e){e.scene.objects.traverse((t,n)=>{let i=n.geometry;i&&"PathGeometry"===i.type&&(i.extrusion.capType="flat",i.extrusion.bevel=50,i.extrusion.bevelSides=6,"Custom"===i.extrusion.shape.type&&(i.extrusion.shape.shapeQuality="low"))})}(e),e.schema=102),t<104&&(e.shared.catelogs=new vi,e.shared.lib=kp.defaultData(),e.schema=104),t<105&&(function zke(e){e.shared.variables=Ad({},vi.prototype)}(e),e.scene.objects.traverse((n,i)=>{Tq(i)}),e.schema=105);for(let n of Object.values(e.shared.lib.components))jke(n);t<106&&(function Uke(e){let t=Is(e.shared.variables);e.shared.variables=Ad(Object.entries(t??{}).map(([n,i],r)=>({fi:r,id:n,data:i})),Jn.prototype)}(e),e.schema=106),t<107&&(e.shared.lib.variables=kp.defaultData().variables,e.schema=107),t<109&&(function Vke(e){e.shared.particles=Ad({},vi.prototype),e.shared.lib&&(e.shared.lib.particles=kp.defaultData().particles)}(e),e.schema=109),t<110&&(function Hke(e){e.scene.objects.traverse((t,n)=>{"Particle"===n.type&&"number"==typeof n.renderMaterial.size&&Object.assign(n.renderMaterial,{size:[n.renderMaterial.size,n.renderMaterial.size]})})}(e),e.schema=110),t<111&&(e.scene.objects.traverse((n,i)=>{!function Bke(e){Array.isArray(Is(e.events))&&e.events?.forEach(t=>{"disabled"in t||(t.disabled=!1),("MouseDown"===t.type||"MouseUp"===t.type||"MousePress"===t.type)&&(t.mode=t.mode||"Object")})}(i)}),e.schema=111),t<112&&(function Gke(e){e.scene.objects.traverse((t,n)=>{"Page"===n.type&&(n.postprocessing.depthOfField.focusDistance=100,n.postprocessing.depthOfField.focalLength=20,n.postprocessing.depthOfField.bokehScale=5)})}(e),e.schema=112),t<113&&(function Wke(e){e.scene.objects.traverse((t,n)=>{!1!==Array.isArray(Is(n.events))&&n.events?.forEach(i=>{let r=i.runMode;"MouseDown"===i.type||"MouseUp"===i.type||"KeyDown"===i.type||"KeyUp"===i.type||"Collision"===i.type||"Trigger"===i.type?i.actions?.forEach(o=>{"Transition"===o.type&&(o.runMode=r??"Repeat"),("Animation"===o.type||"SwitchCamera"===o.type)&&(o.runMode="Toggle"===r?"Toggle":"Normal")}):"MouseHover"===i.type||"MousePress"===i.type||"KeyPress"===i.type?i.actions?.forEach(o=>{("Transition"===o.type||"Animation"===o.type||"SwitchCamera"===o.type)&&(o.runMode="Toggle")}):"GameControl"===i.type?(delete i.actions,Object.keys(i.gameActions).forEach(o=>{i.gameActions[o]?.forEach(s=>{"Transition"===s.type&&(s.runMode="Repeat"),"Animation"===s.type&&(s.runMode="Normal")})})):"DragDrop"===i.type?(delete i.actions,i.dragDropActions?.drag?.forEach(o=>{("Transition"===o.type||"Animation"===o.type||"SwitchCamera"===o.type)&&(o.runMode="Toggle")}),i.dragDropActions?.drop?.forEach(o=>{("Transition"===o.type||"Animation"===o.type||"SwitchCamera"===o.type)&&(o.runMode="Toggle")})):"Resize"===i.type?(delete i.actions,i.breakpoints?.forEach(o=>{o.actions?.forEach(s=>{("Transition"===s.type||"Animation"===s.type||"SwitchCamera"===s.type)&&(s.runMode="Toggle")})})):"Start"===i.type?i.actions?.forEach(o=>{"Transition"===o.type&&(o.runMode="Once"),("Animation"===o.type||"SwitchCamera"===o.type)&&(o.runMode="Normal")}):"VariableChange"===i.type||"Scroll"===i.type?i.actions?.forEach(o=>{"Transition"===o.type&&(o.runMode="Repeat"),("Animation"===o.type||"SwitchCamera"===o.type)&&(o.runMode="Normal")}):"Conditional"===i.type&&(delete i.actions,i.inActions?.forEach(o=>{"Transition"===o.type&&(o.runMode="Repeat"),("Animation"===o.type||"SwitchCamera"===o.type)&&(o.runMode="Normal")}),i.outActions?.forEach(o=>{"Transition"===o.type&&(o.runMode="Repeat"),("Animation"===o.type||"SwitchCamera"===o.type)&&(o.runMode="Normal")}))})})}(e),e.schema=113),t<114&&(void 0===e.scene.publish.settings.web.imageQuality&&(e.scene.publish.settings.web.imageQuality=70),e.schema=114),t<115&&(function qke(e){e.shared.userAPIs=Ad({},vi.prototype),e.shared.userWebhooks=Ad({},vi.prototype),e.shared.lib&&(e.shared.lib.userAPIs=kp.defaultData().userAPIs,e.shared.lib.userWebhooks=kp.defaultData().userWebhooks)}(e),e.schema=115)}}function o0(e,t=!1){let n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),o={},s={},a=e[0].morphTargetsRelative,l=new ii,c=0;for(let d=0;d<e.length;++d){let h=e[d],p=0;if(n!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let g in h.attributes){if(!i.has(g))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+g+'" attribute exists among all geometries, or in none of them.'),null;void 0===o[g]&&(o[g]=[]),o[g].push(h.attributes[g]),p++}if(p!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(a!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let g in h.morphAttributes){if(!r.has(g))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[g]&&(s[g]=[]),s[g].push(h.morphAttributes[g])}if(t){let g;if(n)g=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;g=h.attributes.position.count}l.addGroup(c,g,d),c+=g}}if(n){let d=0,h=[];for(let p=0;p<e.length;++p){let g=e[p].index;for(let v=0;v<g.count;++v)h.push(g.getX(v)+d);d+=e[p].attributes.position.count}l.setIndex(h)}for(let d in o){let h=Fq(o[d]);if(!h)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+d+" attribute."),null;l.setAttribute(d,h)}for(let d in s){let h=s[d][0].length;if(0===h)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[d]=[];for(let p=0;p<h;++p){let g=[];for(let y=0;y<s[d].length;++y)g.push(s[d][y][p]);let v=Fq(g);if(!v)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+d+" morphAttribute."),null;l.morphAttributes[d].push(v)}}return l}function Fq(e){let t,n,i,r=0;for(let a=0;a<e.length;++a){let l=e[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=l.array.constructor),t!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=l.itemSize),n!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=l.normalized),i!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=l.array.length}let o=new t(r),s=0;for(let a=0;a<e.length;++a)o.set(e[a].array,s),s+=e[a].array.length;return new Mi(o,n,i)}(e=>{e.defaultData={schema:Rp,scene:t0.defaultData,frames:(new vi).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",G_.defaultData),shared:{...Id.emptyData(),colors:Id.defaultColors()}},e.emptyDataForImports=function(){let o=t0.emptyDataWithPage();return{schema:Rp,scene:o,frames:(new vi).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",G_.defaultData),shared:{...Id.emptyData(),colors:Id.defaultColors(),images:Id.defaultImages()}}},e.emptyData=function(){return{schema:Rp,scene:t0.emptyDataWithPage(),frames:(new vi).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",G_.defaultData),shared:Id.emptyData()}},e.clipboard2dData=function(){return{schema:Rp,scene:t0.emptyData(),frames:new vi,shared:Id.emptyData()}},e.collabHelper={...tI,updateSchema:o=>(o.schema??0)<Rp?z_(o,kq):(o.schema??0)-Rp},e.updateSchemaDirectly=function t(o){let s=e.collabHelper.updateSchema(o);return"number"==typeof s?0===s?o:null:s.data},e.withoutLib=function n(o){return{...o,shared:{...o.shared,lib:kp.defaultData()}}},e.getComponentData=function i(o,s){let a=o.scene.objects.get(s);if(a&&"Component"===a.data.type)return a;{let l=o.shared.lib.components[s];if(l)return l.asset}},e.hasSensitiveData=function r(o){let s=Object.values(o.shared.userAPIs);for(let a of s){let l=a.headers;for(let c of l)if("authorization"===c.data.key.toLowerCase()&&""!==c.data.value)return!0}return!1}})(ZP||(ZP={})),(e=>{e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"}})(XI||(XI={})),(e=>{e.is=function t(n){return!0}})(Rq||(Rq={})),(e=>{e.defaultData={position:[0,0],scale:[1,1],rotation:0,shear:[0,0]},e.merge=function t(i,r){return{position:r?.position??i.position,rotation:r?.rotation??i.rotation,scale:r?.scale??i.scale,shear:r?.shear??i.shear}},e.diff=function n(i,r){return WG({position:Ip.isEqual(i.position,r.position)?void 0:r.position,rotation:i.rotation===r.rotation?void 0:r.rotation,scale:Ip.isEqual(i.scale,r.scale)?void 0:r.scale,shear:i.shear&&r.shear&&Ip.isEqual(i.shear,r.shear)?void 0:r.shear})}})(JP||(JP={})),(e=>{e.defaultData={horizontalConstraint:0,verticalConstraint:0}})($I||($I={})),(e=>{e.defaultData={direction:"row",wrap:"unwrap",align:"top-left",gap:10,rowGap:10,autoGap:!1,autoRowGap:!1,leftPadding:8,rightPadding:8,topPadding:8,bottomPadding:8}})(Nq||(Nq={})),(e=>{e.defaultData={opacity:1,fill:{color:yo.fromHexAndA(Qc,1),enabled:!0},stroke:{color:yo.from0to1([0,0,0,1]),thickness:1,enabled:!1,mode:"inside"},layerBlur:{radius:2,enabled:!1},backgroundBlur:{radius:2,enabled:!1},dropShadow:{offset:[10,10],blurRadius:10,color:yo.from0to1([0,0,0,1]),enabled:!1,spread:0},innerShadow:{offset:[10,10],blurRadius:10,color:yo.from0to1([0,0,0,1]),enabled:!1,spread:0}}})(e2||(e2={})),(e=>{e.newEmpty=function t(s,a){return{name:a}},e.patch=function r(s,a){if(void 0===a)return s;let l={...s};return Object.assign(l,JP.merge(l,a)),l=function n(s,a){if(void 0===a)return s;let l={...s},c=["width","height","cornerRadius"];for(let d of c)d in l&&d in a&&void 0!==a[d]&&Object.assign(l,{[d]:a[d]});return l}(l,a),l=function i(s,a){if(void 0===a)return s;let l={...s};return"fill"in l&&"fill"in a&&void 0!==a.fill&&Object.assign(l,{fill:{...l.fill,...a.fill}}),"stroke"in l&&"stroke"in a&&void 0!==a.stroke&&Object.assign(l,{stroke:{...l.stroke,...a.stroke}}),"layerBlur"in l&&"layerBlur"in a&&void 0!==a.layerBlur&&Object.assign(l,{layerBlur:{...l.layerBlur,...a.layerBlur}}),"backgroundBlur"in l&&"backgroundBlur"in a&&void 0!==a.backgroundBlur&&Object.assign(l,{backgroundBlur:{...l.backgroundBlur,...a.backgroundBlur}}),"dropShadow"in l&&"dropShadow"in a&&void 0!==a.dropShadow&&Object.assign(l,{dropShadow:{...l.dropShadow,...a.dropShadow}}),"innerShadow"in l&&"innerShadow"in a&&void 0!==a.innerShadow&&Object.assign(l,{innerShadow:{...l.innerShadow,...a.innerShadow}}),l}(l,a),l},e.toOps=function o(s,a){let l,c=[];for(let[d,h]of Object.entries(a))"name"!==d&&(void 0===l&&(l={path:[],props:{},type:0},c.push(l)),l.props[d]=h);return c}})(n0||(n0={})),(e=>{e.defaultData={...JP.defaultData,...$I.defaultData,states:new Jn,events:new Jn,visible:!0,raycastLock:!1}})(W_||(W_={})),(e=>{e.defaultData={...W_.defaultData,...e2.defaultData}})(T1||(T1={})),(e=>{e.defaultData={cornerRadius:[0,0,0,0]}})(t2||(t2={})),(e=>{e.defaultData={...T1.defaultData,type:"ellipse2d",width:100,height:100,name:"Ellipse"}})(QI||(QI={})),(e=>{e.defaultData={...T1.defaultData,...t2.defaultData,type:"rectangle2d",width:100,height:100,name:"Rectangle"}})(q_||(q_={})),(e=>{e.defaultData={...T1.defaultData,type:"text2d",width:100,height:100,fontSize:12,lineHeight:1.2,letterSpacing:0,text:{textValue:"Hello world"},horizontalAlign:1,verticalAlign:1,textTransform:1,font:"Roboto_regular",name:"Text"}})(KI||(KI={})),(e=>{e.defaultData={...T1.defaultData,type:"path2d",path:"",name:"Path"}})(ZI||(ZI={})),(e=>{e.is=function t(n){return"ellipse2d"===n.type||"rectangle2d"===n.type||"text2d"===n.type||"vector2d"===n.type||"path2d"===n.type}})(Lq||(Lq={})),(e=>{e.defaultData={...W_.defaultData,name:"Group",type:"group2d"}})(n2||(n2={})),(e=>{e.defaultData=()=>({...W_.defaultData,...t2.defaultData,...e2.defaultData,name:"Frame",type:"frame2d",clipped:!0,width:200,height:200,fill:{color:yo.fromHexAndA(4737101,1),enabled:!0},stroke:{color:yo.fromHexAndA(0,1),thickness:1,enabled:!1,mode:"inside"},backgroundBlur:{radius:2,enabled:!1},layerBlur:{radius:2,enabled:!1}})})(JI||(JI={})),(e=>{e.defaultData=function t(s){switch(s){case"rectangle2d":case"vector2d":return{...q_.defaultData};case"ellipse2d":return{...QI.defaultData};case"text2d":return{...KI.defaultData};case"path2d":return{...ZI.defaultData};case"frame2d":return{...JI.defaultData()};case"group2d":return{...n2.defaultData}}},e.getPivot=function n(s){return"width"in s&&"height"in s?["number"==typeof s.width?.5*s.width:0,"number"==typeof s.height?.5*s.height:0]:[0,0]},e.isResizeable=function i(s){return"rectangle2d"===s.type||"ellipse2d"===s.type||"text2d"===s.type||"frame2d"===s.type},e.isAutoLayoutable=function r(s){return"frame2d"===s.type&&void 0!==s.autoLayout},e.hasCorners=function o(s){return"rectangle2d"===s.type||"frame2d"===s.type}})(r0||(r0={})),(e=>{e.defaultData={name:"UI",type:"scene2d",objects:new nl},e.emptyData=function(){return{type:"scene2d",objects:new nl}}})(ek||(ek={}));var Yke=Math.pow(2,-24),r2=class{constructor(){}};function vu(e,t,n){return n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5],n}function Bq(e){let t=-1,n=-1/0;for(let i=0;i<3;i++){let r=e[i+3]-e[i];r>n&&(n=r,t=i)}return t}function zq(e,t){t.set(e)}function Uq(e,t,n){let i,r;for(let o=0;o<3;o++){let s=o+3;i=e[o],r=t[o],n[o]=i<r?i:r,i=e[s],r=t[s],n[s]=i>r?i:r}}function o2(e,t,n){for(let i=0;i<3;i++){let r=t[e+2*i],o=t[e+2*i+1],s=r-o,a=r+o;s<n[i]&&(n[i]=s),a>n[i+3]&&(n[i+3]=a)}}function Y_(e){let t=e[3]-e[0],n=e[4]-e[1],i=e[5]-e[2];return 2*(t*n+n*i+i*t)}function tk(e,t,n,i,r=null){let o=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,d=-1/0,h=1/0,p=1/0,g=1/0,v=-1/0,y=-1/0,b=-1/0,P=null!==r;for(let O=6*t,S=6*(t+n);O<S;O+=6){let A=e[O+0],H=e[O+1],V=A-H,Q=A+H;V<o&&(o=V),Q>l&&(l=Q),P&&A<h&&(h=A),P&&A>v&&(v=A);let Y=e[O+2],ee=e[O+3],ne=Y-ee,ae=Y+ee;ne<s&&(s=ne),ae>c&&(c=ae),P&&Y<p&&(p=Y),P&&Y>y&&(y=Y);let pe=e[O+4],fe=e[O+5],ge=pe-fe,Se=pe+fe;ge<a&&(a=ge),Se>d&&(d=Se),P&&pe<g&&(g=pe),P&&pe>b&&(b=pe)}i[0]=o,i[1]=s,i[2]=a,i[3]=l,i[4]=c,i[5]=d,P&&(r[0]=h,r[1]=p,r[2]=g,r[3]=v,r[4]=y,r[5]=b)}var Np=32,Zke=(e,t)=>e.candidate-t.candidate,rm=new Array(Np).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),s2=new Float32Array(6);var yu=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,i=-1/0;for(let r=0,o=e.length;r<o;r++){let s=e[r][t];n=s<n?s:n,i=s>i?s:i}this.min=n,this.max=i}setFromPoints(e,t){let n=1/0,i=-1/0;for(let r=0,o=t.length;r<o;r++){let a=e.dot(t[r]);n=a<n?a:n,i=a>i?a:i}this.min=n,this.max=i}isSeparated(e){return this.min>e.max||e.min>this.max}};yu.prototype.setFromBox=function(){let e=new ie;return function(t,n){let i=n.min,r=n.max,o=1/0,s=-1/0;for(let a=0;a<=1;a++)for(let l=0;l<=1;l++)for(let c=0;c<=1;c++){e.x=i.x*a+r.x*(1-a),e.y=i.y*l+r.y*(1-l),e.z=i.z*c+r.z*(1-c);let d=t.dot(e);o=Math.min(d,o),s=Math.max(d,s)}this.min=o,this.max=s}}(),new yu;var rRe=function(){let e=new ie,t=new ie,n=new ie;return function(i,r,o){let a=e,c=t;n.subVectors(i.start,r.start),e.subVectors(i.end,i.start),t.subVectors(r.end,r.start);let y,b,d=n.dot(c),h=c.dot(a),p=c.dot(c),g=n.dot(a),v=a.dot(a)*p-h*h;y=0!==v?(d*h-g*p)/v:0,b=(d+y*h)/p,o.x=y,o.y=b}}(),nk=function(){let e=new qe,t=new ie,n=new ie;return function(i,r,o,s){rRe(i,r,e);let a=e.x,l=e.y;if(a>=0&&a<=1&&l>=0&&l<=1)return i.at(a,o),void r.at(l,s);if(a>=0&&a<=1)return r.at(l<0?0:1,s),void i.closestPointToPoint(s,!0,o);if(l>=0&&l<=1)return i.at(a<0?0:1,o),void r.closestPointToPoint(o,!0,s);{let c,d;c=a<0?i.start:i.end,d=l<0?r.start:r.end;let h=t,p=n;return i.closestPointToPoint(d,!0,t),r.closestPointToPoint(c,!0,n),h.distanceToSquared(d)<=p.distanceToSquared(c)?(o.copy(h),void s.copy(d)):(o.copy(c),void s.copy(p))}}}(),oRe=function(){let e=new ie,t=new ie,n=new vc,i=new Sd;return function(r,o){let{radius:s,center:a}=r,{a:l,b:c,c:d}=o;if(i.start=l,i.end=c,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s||(i.start=l,i.end=d,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s)||(i.start=c,i.end=d,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s))return!0;let h=o.getPlane(n);if(Math.abs(h.distanceToPoint(a))<=s){let p=h.projectPoint(a,t);if(o.containsPoint(p))return!0}return!1}}(),sRe=1e-15;function I1(e){return Math.abs(e)<sRe}var Lp=class extends tl{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new ie),this.satBounds=new Array(4).fill().map(()=>new yu),this.points=[this.a,this.b,this.c],this.sphere=new gc,this.plane=new vc,this.needsUpdate=!0}intersectsSphere(e){return oRe(e,this)}update(){let e=this.a,t=this.b,n=this.c,i=this.points,r=this.satAxes,o=this.satBounds,s=r[0],a=o[0];this.getNormal(s),a.setFromPoints(s,i);let l=r[1],c=o[1];l.subVectors(e,t),c.setFromPoints(l,i);let d=r[2],h=o[2];d.subVectors(t,n),h.setFromPoints(d,i);let p=r[3],g=o[3];p.subVectors(n,e),g.setFromPoints(p,i),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(s,e),this.needsUpdate=!1}};Lp.prototype.closestPointToSegment=function(){let e=new ie,t=new ie,n=new Sd;return function(i,r=null,o=null){let c,{start:s,end:a}=i,l=this.points,d=1/0;for(let h=0;h<3;h++){let p=(h+1)%3;n.start.copy(l[h]),n.end.copy(l[p]),nk(n,i,e,t),c=e.distanceToSquared(t),c<d&&(d=c,r&&r.copy(e),o&&o.copy(t))}return this.closestPointToPoint(s,e),c=s.distanceToSquared(e),c<d&&(d=c,r&&r.copy(e),o&&o.copy(s)),this.closestPointToPoint(a,e),c=a.distanceToSquared(e),c<d&&(d=c,r&&r.copy(e),o&&o.copy(a)),Math.sqrt(d)}}(),Lp.prototype.intersectsTriangle=function(){let e=new Lp,t=new Array(3),n=new Array(3),i=new yu,r=new yu,o=new ie,s=new ie,a=new ie,l=new ie,c=new Sd,d=new Sd,h=new Sd;return function(p,g=null,v=!1){this.needsUpdate&&this.update(),p.isExtendedTriangle?p.needsUpdate&&p.update():(e.copy(p),e.update(),p=e);let y=this.plane,b=p.plane;if(Math.abs(y.normal.dot(b.normal))>1-1e-10){let P=this.satBounds,O=this.satAxes;n[0]=p.a,n[1]=p.b,n[2]=p.c;for(let H=0;H<4;H++){let V=P[H];if(i.setFromPoints(O[H],n),V.isSeparated(i))return!1}let S=p.satBounds,A=p.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let H=0;H<4;H++){let V=S[H];if(i.setFromPoints(A[H],t),V.isSeparated(i))return!1}for(let H=0;H<4;H++){let V=O[H];for(let Q=0;Q<4;Q++)if(o.crossVectors(V,A[Q]),i.setFromPoints(o,t),r.setFromPoints(o,n),i.isSeparated(r))return!1}return g&&(v||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),g.start.set(0,0,0),g.end.set(0,0,0)),!0}{let P=this.points,O=!1,S=0;for(let fe=0;fe<3;fe++){let ge=P[fe],Se=P[(fe+1)%3];c.start.copy(ge),c.end.copy(Se),c.delta(s);let Oe=O?d.start:d.end,Ce=I1(b.distanceToPoint(ge));if(I1(b.normal.dot(s))&&Ce){d.copy(c),S=2;break}if((b.intersectLine(c,Oe)||Ce)&&!I1(Oe.distanceTo(Se))){if(S++,O)break;O=!0}}if(1===S&&p.containsPoint(d.end))return g&&(g.start.copy(d.end),g.end.copy(d.end)),!0;if(2!==S)return!1;let A=p.points,H=!1,V=0;for(let fe=0;fe<3;fe++){let ge=A[fe],Se=A[(fe+1)%3];c.start.copy(ge),c.end.copy(Se),c.delta(a);let Oe=H?h.start:h.end,Ce=I1(y.distanceToPoint(ge));if(I1(y.normal.dot(a))&&Ce){h.copy(c),V=2;break}if((y.intersectLine(c,Oe)||Ce)&&!I1(Oe.distanceTo(Se))){if(V++,H)break;H=!0}}if(1===V&&this.containsPoint(h.end))return g&&(g.start.copy(h.end),g.end.copy(h.end)),!0;if(2!==V)return!1;if(d.delta(s),h.delta(a),s.dot(a)<0){let fe=h.start;h.start=h.end,h.end=fe}let Q=d.start.dot(s),Y=d.end.dot(s),ee=h.start.dot(s),ne=h.end.dot(s);return(Q===ne||ee===Y||Y<ee!=Q<ne)&&(g&&(l.subVectors(d.start,h.start),l.dot(s)>0?g.start.copy(d.start):g.start.copy(h.start),l.subVectors(d.end,h.end),l.dot(s)<0?g.end.copy(d.end):g.end.copy(h.end)),!0)}}}(),Lp.prototype.distanceToPoint=function(){let e=new ie;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),Lp.prototype.distanceToTriangle=function(){let e=new ie,t=new ie,n=["a","b","c"],i=new Sd,r=new Sd;return function(o,s=null,a=null){let l=s||a?i:null;if(this.intersectsTriangle(o,l))return(s||a)&&(s&&l.getCenter(s),a&&l.getCenter(a)),0;let c=1/0;for(let d=0;d<3;d++){let h,p=n[d],g=o[p];this.closestPointToPoint(g,e),h=g.distanceToSquared(e),h<c&&(c=h,s&&s.copy(e),a&&a.copy(g));let v=this[p];o.closestPointToPoint(v,e),h=v.distanceToSquared(e),h<c&&(c=h,s&&s.copy(v),a&&a.copy(e))}for(let d=0;d<3;d++){i.set(this[n[d]],this[n[(d+1)%3]]);for(let g=0;g<3;g++){r.set(o[n[g]],o[n[(g+1)%3]]),nk(i,r,e,t);let b=e.distanceToSquared(t);b<c&&(c=b,s&&s.copy(e),a&&a.copy(t))}}return Math.sqrt(c)}}();var bu=class{constructor(e,t,n){this.isOrientedBox=!0,this.min=new ie,this.max=new ie,this.matrix=new Kt,this.invMatrix=new Kt,this.points=new Array(8).fill().map(()=>new ie),this.satAxes=new Array(3).fill().map(()=>new ie),this.satBounds=new Array(3).fill().map(()=>new yu),this.alignedSatBounds=new Array(3).fill().map(()=>new yu),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),n&&this.matrix.copy(n)}set(e,t,n){this.min.copy(e),this.max.copy(t),this.matrix.copy(n),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};bu.prototype.update=function(){let e=this.matrix,t=this.min,n=this.max,i=this.points;for(let l=0;l<=1;l++)for(let c=0;c<=1;c++)for(let d=0;d<=1;d++){let p=i[1*l|2*c|4*d];p.x=l?n.x:t.x,p.y=c?n.y:t.y,p.z=d?n.z:t.z,p.applyMatrix4(e)}let r=this.satBounds,o=this.satAxes,s=i[0];for(let l=0;l<3;l++){let c=o[l],d=r[l];c.subVectors(s,i[1<<l]),d.setFromPoints(c,i)}let a=this.alignedSatBounds;a[0].setFromPointsField(i,"x"),a[1].setFromPointsField(i,"y"),a[2].setFromPointsField(i,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1},bu.prototype.intersectsBox=function(){let e=new yu;return function(t){this.needsUpdate&&this.update();let n=t.min,i=t.max,r=this.satBounds,o=this.satAxes,s=this.alignedSatBounds;if(e.min=n.x,e.max=i.x,s[0].isSeparated(e)||(e.min=n.y,e.max=i.y,s[1].isSeparated(e))||(e.min=n.z,e.max=i.z,s[2].isSeparated(e)))return!1;for(let a=0;a<3;a++){let c=r[a];if(e.setFromBox(o[a],t),c.isSeparated(e))return!1}return!0}}(),bu.prototype.intersectsTriangle=function(){let e=new Lp,t=new Array(3),n=new yu,i=new yu,r=new ie;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);let s=this.satBounds,a=this.satAxes;t[0]=o.a,t[1]=o.b,t[2]=o.c;for(let h=0;h<3;h++){let p=s[h];if(n.setFromPoints(a[h],t),p.isSeparated(n))return!1}let l=o.satBounds,c=o.satAxes,d=this.points;for(let h=0;h<3;h++){let p=l[h];if(n.setFromPoints(c[h],d),p.isSeparated(n))return!1}for(let h=0;h<3;h++){let p=a[h];for(let g=0;g<4;g++)if(r.crossVectors(p,c[g]),n.setFromPoints(r,t),i.setFromPoints(r,d),n.isSeparated(i))return!1}return!0}}(),bu.prototype.closestPointToPoint=function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},bu.prototype.distanceToPoint=function(){let e=new ie;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),bu.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new Sd),n=new Array(12).fill().map(()=>new Sd),i=new ie,r=new ie;return function(o,s=0,a=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(a||l)&&(o.getCenter(r),this.closestPointToPoint(r,i),o.closestPointToPoint(i,r),a&&a.copy(i),l&&l.copy(r)),0;let c=s*s,d=o.min,h=o.max,p=this.points,g=1/0;for(let y=0;y<8;y++){let b=p[y];r.copy(b).clamp(d,h);let P=b.distanceToSquared(r);if(P<g&&(g=P,a&&a.copy(b),l&&l.copy(r),P<c))return Math.sqrt(P)}let v=0;for(let y=0;y<3;y++)for(let b=0;b<=1;b++)for(let P=0;P<=1;P++){let O=(y+1)%3,S=(y+2)%3;t[v].set(p[b<<O|P<<S],p[1<<y|b<<O|P<<S]);let Y=e[y],ee=e[O],ne=e[S],ae=n[v],pe=ae.start,fe=ae.end;pe[Y]=d[Y],pe[ee]=b?d[ee]:h[ee],pe[ne]=P?d[ne]:h[ee],fe[Y]=h[Y],fe[ee]=b?d[ee]:h[ee],fe[ne]=P?d[ne]:h[ee],v++}for(let y=0;y<=1;y++)for(let b=0;b<=1;b++)for(let P=0;P<=1;P++){r.x=y?h.x:d.x,r.y=b?h.y:d.y,r.z=P?h.z:d.z,this.closestPointToPoint(r,i);let O=r.distanceToSquared(i);if(O<g&&(g=O,a&&a.copy(i),l&&l.copy(r),O<c))return Math.sqrt(O)}for(let y=0;y<12;y++){let b=t[y];for(let P=0;P<12;P++){nk(b,n[P],i,r);let S=i.distanceToSquared(r);if(S<g&&(g=S,a&&a.copy(i),l&&l.copy(r),S<c))return Math.sqrt(S)}}return Math.sqrt(g)}}();var k1=new ie,R1=new ie,N1=new ie,a2=new qe,l2=new qe,c2=new qe,jq=new ie,Vq=new ie,Hq=new ie,d2=new ie;function Gq(e,t,n,i,r){let o=3*i,s=e.index.getX(o),a=e.index.getX(o+1),l=e.index.getX(o+2),{position:c,normal:d,uv:h,uv1:p}=e.attributes,g=function lRe(e,t,n,i,r,o,s,a,l){k1.fromBufferAttribute(t,o),R1.fromBufferAttribute(t,s),N1.fromBufferAttribute(t,a);let c=function aRe(e,t,n,i,r,o){let s;return s=o===Ta?e.intersectTriangle(i,n,t,!0,r):e.intersectTriangle(t,n,i,o!==bl,r),null===s?null:{distance:e.origin.distanceTo(r),point:r.clone()}}(e,k1,R1,N1,d2,l);if(c){i&&(a2.fromBufferAttribute(i,o),l2.fromBufferAttribute(i,s),c2.fromBufferAttribute(i,a),c.uv=tl.getInterpolation(d2,k1,R1,N1,a2,l2,c2,new qe)),r&&(a2.fromBufferAttribute(r,o),l2.fromBufferAttribute(r,s),c2.fromBufferAttribute(r,a),c.uv1=tl.getInterpolation(d2,k1,R1,N1,a2,l2,c2,new qe)),n&&(jq.fromBufferAttribute(n,o),Vq.fromBufferAttribute(n,s),Hq.fromBufferAttribute(n,a),c.normal=tl.getInterpolation(d2,k1,R1,N1,jq,Vq,Hq,new ie),c.normal.dot(e.direction)>0&&c.normal.multiplyScalar(-1));let d={a:o,b:s,c:a,normal:new ie,materialIndex:0};tl.getNormal(k1,R1,N1,d.normal),c.face=d,c.faceIndex=o}return c}(n,c,d,h,p,s,a,l,t);return g?(g.faceIndex=i,r&&r.push(g),g):null}function _u(e,t,n,i){let r=e.a,o=e.b,s=e.c,a=t,l=t+1,c=t+2;n&&(a=n.getX(t),l=n.getX(t+1),c=n.getX(t+2)),r.x=i.getX(a),r.y=i.getY(a),r.z=i.getZ(a),o.x=i.getX(l),o.y=i.getY(l),o.z=i.getZ(l),s.x=i.getX(c),s.y=i.getY(c),s.z=i.getZ(c)}function Wq(e,t,n,i,r,o,s){let a=n.index,l=n.attributes.position;for(let c=e,d=t+e;c<d;c++)if(_u(s,3*c,a,l),s.needsUpdate=!0,i(s,c,r,o))return!0;return!1}var qq=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return 0===e.length?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function om(e,t){return 65535===t[e+15]}function L1(e,t){return t[e+6]}function X_(e,t){return t[e+14]}function $_(e){return e+8}function Q_(e,t){return t[e+6]}var F1=new As,h2=new ie,uRe=["x","y","z"];function ik(e,t,n,i,r){let o=2*e,s=B1,a=sm,l=am;if(om(o,a))!function cRe(e,t,n,i,r,o){for(let s=i,a=i+r;s<a;s++)Gq(e,t,n,s,o)}(t,n,i,L1(e,l),X_(o,a),r);else{let c=$_(e);u2(c,s,i,h2)&&ik(c,t,n,i,r);let d=Q_(e,l);u2(d,s,i,h2)&&ik(d,t,n,i,r)}}function rk(e,t,n,i){let r=2*e,o=B1,s=sm,a=am;if(om(r,s))return function dRe(e,t,n,i,r){let o=1/0,s=null;for(let a=i,l=i+r;a<l;a++){let c=Gq(e,t,n,a);c&&c.distance<o&&(s=c,o=c.distance)}return s}(t,n,i,L1(e,a),X_(r,s));{let h,p,l=function hRe(e,t){return t[e+7]}(e,a),c=uRe[l],d=i.direction[c]>=0;d?(h=$_(e),p=Q_(e,a)):(h=Q_(e,a),p=$_(e));let g=u2(h,o,i,h2)?rk(h,t,n,i):null;if(g){let y=g.point[c];if(d?y<=o[p+l]:y>=o[p+l+3])return g}let v=u2(p,o,i,h2)?rk(p,t,n,i):null;return g&&v?g.distance<=v.distance?g:v:g||v||null}}var pRe=function(){let e,t,n=[],i=new qq(()=>new As);return function(...o){e=i.getPrimitive(),t=i.getPrimitive(),n.push(e,t);let s=r(...o);i.releasePrimitive(e),i.releasePrimitive(t),n.pop(),n.pop();let a=n.length;return a>0&&(t=n[a-1],e=n[a-2]),s};function r(o,s,a,l,c=null,d=0,h=0){function p(O){let S=2*O,A=sm,H=am;for(;!om(S,A);)S=2*(O=$_(O));return L1(O,H)}function g(O){let S=2*O,A=sm,H=am;for(;!om(S,A);)S=2*(O=Q_(O,H));return L1(O,H)+X_(S,A)}let v=2*o,y=B1,b=sm,P=am;if(om(v,b)){let O=L1(o,P),S=X_(v,b);return vu(o,y,e),l(O,S,!1,h,d+o,e)}{let V,Q,Y,ee,O=$_(o),S=Q_(o,P),A=O,H=S;if(c&&(Y=e,ee=t,vu(A,y,Y),vu(H,y,ee),V=c(Y),Q=c(ee),Q<V)){A=S,H=O;let Oe=V;V=Q,Q=Oe,Y=ee}Y||(Y=e,vu(A,y,Y));let pe,ae=a(Y,om(2*A,b),V,h+1,d+A);if(2===ae){let Oe=p(A);pe=l(Oe,g(A)-Oe,!0,h+1,d+A,Y)}else pe=ae&&r(A,s,a,l,c,d,h+1);if(pe)return!0;ee=t,vu(H,y,ee);let Se,ge=a(ee,om(2*H,b),Q,h+1,d+H);if(2===ge){let Oe=p(H);Se=l(Oe,g(H)-Oe,!0,h+1,d+H,ee)}else Se=ge&&r(H,s,a,l,c,d,h+1);return!!Se}}}(),fRe=function(){let e=new Lp,t=new Lp,n=new Kt,i=new bu,r=new bu;return function o(s,a,l,c,d=null){let h=2*s,p=B1,g=sm,v=am;if(null===d&&(l.boundingBox||l.computeBoundingBox(),i.set(l.boundingBox.min,l.boundingBox.max,c),d=i),!om(h,g)){let y=s+8,b=v[s+6];return vu(y,p,F1),!!(d.intersectsBox(F1)&&o(y,a,l,c,d)||(vu(b,p,F1),d.intersectsBox(F1)&&o(b,a,l,c,d)))}{let b=a.index,P=a.attributes.position,O=l.index,S=l.attributes.position,A=L1(s,v),H=X_(h,g);if(n.copy(c).invert(),l.boundsTree)return vu(s,p,r),r.matrix.copy(n),r.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:V=>r.intersectsBox(V),intersectsTriangle:V=>{V.a.applyMatrix4(c),V.b.applyMatrix4(c),V.c.applyMatrix4(c),V.needsUpdate=!0;for(let Q=3*A,Y=3*(H+A);Q<Y;Q+=3)if(_u(t,Q,b,P),t.needsUpdate=!0,V.intersectsTriangle(t))return!0;return!1}});for(let V=3*A,Q=H+3*A;V<Q;V+=3){_u(e,V,b,P),e.a.applyMatrix4(n),e.b.applyMatrix4(n),e.c.applyMatrix4(n),e.needsUpdate=!0;for(let Y=0,ee=O.count;Y<ee;Y+=3)if(_u(t,Y,O,S),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}}}();function u2(e,t,n,i){return vu(e,t,F1),n.intersectBox(F1,i)}var p2,B1,sm,am,ok=[];function K_(e){p2&&ok.push(p2),p2=e,B1=new Float32Array(e),sm=new Uint16Array(e),am=new Uint32Array(e)}function f2(){p2=null,B1=null,sm=null,am=null,ok.length&&K_(ok.pop())}var sk=Symbol("skip tree generation"),ak=new As,lk=new As,z1=new Kt,s0=new bu,Z_=new bu,J_=new ie,m2=new ie,mRe=new ie,gRe=new ie,vRe=new ie,Yq=new As,xu=new qq(()=>new Lp),ex=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),ex.serialize(arguments[0],{cloneBuffers:void 0===arguments[2]||arguments[2]});t={cloneBuffers:!0,...t};let o,i=e._roots,r=e.geometry.getIndex();return o=t.cloneBuffers?{roots:i.map(s=>s.slice()),index:r.array.slice()}:{roots:i,index:r.array},o}static deserialize(e,t,n={}){if("boolean"==typeof n)return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),ex.deserialize(arguments[0],arguments[1],{setIndex:void 0===arguments[2]||arguments[2]});n={setIndex:!0,...n};let{index:i,roots:r}=e,o=new ex(t,{...n,[sk]:!0});if(o._roots=r,n.setIndex){let s=t.getIndex();if(null===s){let a=new Mi(e.index,1,!1);t.setIndex(a)}else s.array!==i&&(s.array.set(i),s.needsUpdate=!0)}return o}constructor(e,t={}){if(!e.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");if((t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[sk]:!1},t)).useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[sk]||(this._roots=function iRe(e,t){let i,r,o,n=function nRe(e,t){function n(P){p&&p(P/g)}function i(P,O,S,A=null,H=0){if(!v&&H>=l&&(v=!0,c&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),S<=d||H>=l)return n(O+S),P.offset=O,P.count=S,P;let V=function Jke(e,t,n,i,r,o){let s=-1,a=0;if(0===o)s=Bq(t),-1!==s&&(a=(t[s]+t[s+3])/2);else if(1===o)s=Bq(e),-1!==s&&(a=function eRe(e,t,n,i){let r=0;for(let o=t,s=t+n;o<s;o++)r+=e[6*o+2*i];return r/n}(n,i,r,s));else if(2===o){let l=Y_(e),c=1.25*r,d=6*i,h=6*(i+r);for(let p=0;p<3;p++){let g=t[p],v=(t[p+3]-g)/Np;if(r<Np/4){let y=[...rm];y.length=r;let b=0;for(let O=d;O<h;O+=6,b++){let S=y[b];S.candidate=n[O+2*p],S.count=0;let{bounds:A,leftCacheBounds:H,rightCacheBounds:V}=S;for(let Q=0;Q<3;Q++)V[Q]=1/0,V[Q+3]=-1/0,H[Q]=1/0,H[Q+3]=-1/0,A[Q]=1/0,A[Q+3]=-1/0;o2(O,n,A)}y.sort(Zke);let P=r;for(let O=0;O<P;O++){let S=y[O];for(;O+1<P&&y[O+1].candidate===S.candidate;)y.splice(O+1,1),P--}for(let O=d;O<h;O+=6){let S=n[O+2*p];for(let A=0;A<P;A++){let H=y[A];S>=H.candidate?o2(O,n,H.rightCacheBounds):(o2(O,n,H.leftCacheBounds),H.count++)}}for(let O=0;O<P;O++){let S=y[O],A=S.count,H=r-S.count,Q=S.rightCacheBounds,Y=0;0!==A&&(Y=Y_(S.leftCacheBounds)/l);let ee=0;0!==H&&(ee=Y_(Q)/l);let ne=1+1.25*(Y*A+ee*H);ne<c&&(s=p,c=ne,a=S.candidate)}}else{for(let P=0;P<Np;P++){let O=rm[P];O.count=0,O.candidate=g+v+P*v;let S=O.bounds;for(let A=0;A<3;A++)S[A]=1/0,S[A+3]=-1/0}for(let P=d;P<h;P+=6){let O=~~((n[P+2*p]-g)/v);O>=Np&&(O=Np-1);let S=rm[O];S.count++,o2(P,n,S.bounds)}let y=rm[Np-1];zq(y.bounds,y.rightCacheBounds);for(let P=Np-2;P>=0;P--){let O=rm[P];Uq(O.bounds,rm[P+1].rightCacheBounds,O.rightCacheBounds)}let b=0;for(let P=0;P<Np-1;P++){let O=rm[P],S=O.count,A=O.bounds,H=rm[P+1].rightCacheBounds;0!==S&&(0===b?zq(A,s2):Uq(A,s2,s2)),b+=S;let V=0,Q=0;0!==b&&(V=Y_(s2)/l);let Y=r-b;0!==Y&&(Q=Y_(H)/l);let ee=1+1.25*(V*b+Q*Y);ee<c&&(s=p,c=ee,a=O.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${o} used.`);return{axis:s,pos:a}}(P.boundingData,A,s,O,S,h);if(-1===V.axis)return n(O+S),P.offset=O,P.count=S,P;let Q=function Kke(e,t,n,i,r){let o=n,s=n+i-1,a=r.pos,l=2*r.axis;for(;;){for(;o<=s&&t[6*o+l]<a;)o++;for(;o<=s&&t[6*s+l]>=a;)s--;if(!(o<s))return o;for(let c=0;c<3;c++){let d=e[3*o+c];e[3*o+c]=e[3*s+c],e[3*s+c]=d;let h=t[6*o+2*c+0];t[6*o+2*c+0]=t[6*s+2*c+0],t[6*s+2*c+0]=h;let p=t[6*o+2*c+1];t[6*o+2*c+1]=t[6*s+2*c+1],t[6*s+2*c+1]=p}o++,s--}}(a,s,O,S,V);if(Q===O||Q===O+S)n(O+S),P.offset=O,P.count=S;else{P.splitAxis=V.axis;let Y=new r2,ee=O,ne=Q-O;P.left=Y,Y.boundingData=new Float32Array(6),tk(s,ee,ne,Y.boundingData,o),i(Y,ee,ne,o,H+1);let ae=new r2,pe=Q,fe=S-ne;P.right=ae,ae.boundingData=new Float32Array(6),tk(s,pe,fe,ae.boundingData,o),i(ae,pe,fe,o,H+1)}return P}!function Xke(e,t){if(!e.index){let r,n=e.attributes.position.count,i=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;r=n>65535?new Uint32Array(new i(4*n)):new Uint16Array(new i(2*n)),e.setIndex(new Mi(r,1));for(let o=0;o<n;o++)r[o]=o}}(e,t);let r=new Float32Array(6),o=new Float32Array(6),s=function tRe(e,t){let n=e.attributes.position,i=e.index.array,r=i.length/3,o=new Float32Array(6*r),s=n.normalized,a=n.array,l=n.offset||0,c=3;n.isInterleavedBufferAttribute&&(c=n.data.stride);let d=["getX","getY","getZ"];for(let h=0;h<r;h++){let v,y,b,p=3*h,g=6*h;s?(v=i[p+0],y=i[p+1],b=i[p+2]):(v=i[p+0]*c+l,y=i[p+1]*c+l,b=i[p+2]*c+l);for(let P=0;P<3;P++){let O,S,A;s?(O=n[d[P]](v),S=n[d[P]](y),A=n[d[P]](b)):(O=a[v+P],S=a[y+P],A=a[b+P]);let H=O;S<H&&(H=S),A<H&&(H=A);let V=O;S>V&&(V=S),A>V&&(V=A);let Q=(V-H)/2,Y=2*P;o[g+Y+0]=H+Q,o[g+Y+1]=Q+(Math.abs(H)+Q)*Yke,H<t[P]&&(t[P]=H),V>t[P+3]&&(t[P+3]=V)}}return o}(e,r),a=e.index.array,l=t.maxDepth,c=t.verbose,d=t.maxLeafTris,h=t.strategy,p=t.onProgress,g=e.index.count/3,v=!1,y=[],b=function $ke(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],n=new Set;for(let r of e.groups)n.add(r.start),n.add(r.start+r.count);let i=Array.from(n.values()).sort((r,o)=>r-o);for(let r=0;r<i.length-1;r++){let o=i[r];t.push({offset:o/3,count:(i[r+1]-o)/3})}return t}(e);if(1===b.length){let P=b[0],O=new r2;O.boundingData=r,function Qke(e,t,n,i){let r=1/0,o=1/0,s=1/0,a=-1/0,l=-1/0,c=-1/0;for(let d=6*t,h=6*(t+n);d<h;d+=6){let p=e[d+0];p<r&&(r=p),p>a&&(a=p);let g=e[d+2];g<o&&(o=g),g>l&&(l=g);let v=e[d+4];v<s&&(s=v),v>c&&(c=v)}i[0]=r,i[1]=o,i[2]=s,i[3]=a,i[4]=l,i[5]=c}(s,P.offset,P.count,o),i(O,P.offset,P.count,o),y.push(O)}else for(let P of b){let O=new r2;O.boundingData=new Float32Array(6),tk(s,P.offset,P.count,O.boundingData,o),i(O,P.offset,P.count,o),y.push(O)}return y}(e,t),s=[],a=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let d=0;d<n.length;d++){let h=n[d],g=new a(32*l(h));i=new Float32Array(g),r=new Uint32Array(g),o=new Uint16Array(g),c(0,h),s.push(g)}return s;function l(d){return d.count?1:1+l(d.left)+l(d.right)}function c(d,h){let p=d/4,g=d/2,v=!!h.count,y=h.boundingData;for(let b=0;b<6;b++)i[p+b]=y[b];if(v){let P=h.count;return r[p+6]=h.offset,o[g+14]=P,o[g+15]=65535,d+32}{let S,P=h.right,O=h.splitAxis;if(S=c(d+32,h.left),S/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[p+6]=S/4,S=c(S,P),r[p+7]=O,S}}}(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new As))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let r,o,s,a,t=this.geometry,n=t.index.array,i=t.attributes.position,l=0,c=this._roots;for(let h=0,p=c.length;h<p;h++)r=c[h],o=new Uint32Array(r),s=new Uint16Array(r),a=new Float32Array(r),d(0,l),l+=r.byteLength;function d(h,p,g=!1){let v=2*h;if(65535===s[v+15]){let y=o[h+6],P=1/0,O=1/0,S=1/0,A=-1/0,H=-1/0,V=-1/0;for(let Q=3*y,Y=3*(y+s[v+14]);Q<Y;Q++){let ee=n[Q],ne=i.getX(ee),ae=i.getY(ee),pe=i.getZ(ee);ne<P&&(P=ne),ne>A&&(A=ne),ae<O&&(O=ae),ae>H&&(H=ae),pe<S&&(S=pe),pe>V&&(V=pe)}return(a[h+0]!==P||a[h+1]!==O||a[h+2]!==S||a[h+3]!==A||a[h+4]!==H||a[h+5]!==V)&&(a[h+0]=P,a[h+1]=O,a[h+2]=S,a[h+3]=A,a[h+4]=H,a[h+5]=V,!0)}{let y=h+8,b=o[h+6],O=b+p,S=g,A=!1,H=!1;e?S||(A=e.has(y+p),H=e.has(O),S=!A&&!H):(A=!0,H=!0);let Q=S||H,Y=!1;(S||A)&&(Y=d(y,p,S));let ee=!1;Q&&(ee=d(b,p,S));let ne=Y||ee;if(ne)for(let ae=0;ae<3;ae++){let pe=y+ae,fe=b+ae,ge=a[pe],Se=a[pe+3],Oe=a[fe],Ce=a[fe+3];a[h+ae]=ge<Oe?ge:Oe,a[h+ae+3]=Se>Ce?Se:Ce}return ne}}}traverse(e,t=0){let n=this._roots[t],i=new Uint32Array(n),r=new Uint16Array(n);!function o(s,a=0){let l=2*s,c=65535===r[l+15];if(c){let d=i[s+6],h=r[l+14];e(a,c,new Float32Array(n,4*s,6),d,h)}else{let d=s+8,h=i[s+6],p=i[s+7];e(a,c,new Float32Array(n,4*s,6),p)||(o(d,a+1),o(h,a+1))}}(0)}raycast(e,t=oh){let n=this._roots,i=this.geometry,r=[],o=t.isMaterial,s=Array.isArray(t),a=i.groups,l=o?t.side:t;for(let c=0,d=n.length;c<d;c++){let h=s?t[a[c].materialIndex].side:l,p=r.length;if(K_(n[c]),ik(0,i,h,e,r),f2(),s){let g=a[c].materialIndex;for(let v=p,y=r.length;v<y;v++)r[v].face.materialIndex=g}}return r}raycastFirst(e,t=oh){let n=this._roots,i=this.geometry,r=t.isMaterial,o=Array.isArray(t),s=null,a=i.groups,l=r?t.side:t;for(let c=0,d=n.length;c<d;c++){let h=o?t[a[c].materialIndex].side:l;K_(n[c]);let p=rk(0,i,h,e);f2(),null!=p&&(null==s||p.distance<s.distance)&&(s=p,o&&(p.face.materialIndex=a[c].materialIndex))}return s}intersectsGeometry(e,t){let n=this.geometry,i=!1;for(let r of this._roots)if(K_(r),i=fRe(0,n,e,t),f2(),i)break;return i}shapecast(e,t,n){let i=this.geometry;if(e instanceof Function){if(t){let h=t;t=(p,g,v,y)=>{let b=3*g;return h(p,b,b+1,b+2,v,y)}}e={boundsTraverseOrder:n,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let r=xu.getPrimitive(),{boundsTraverseOrder:o,intersectsBounds:s,intersectsRange:a,intersectsTriangle:l}=e;if(a&&l){let h=a;a=(p,g,v,y,b)=>!!h(p,g,v,y,b)||Wq(p,g,i,l,v,y,r)}else a||(a=l?(h,p,g,v)=>Wq(h,p,i,l,g,v,r):(h,p,g)=>g);let c=!1,d=0;for(let h of this._roots){if(K_(h),c=pRe(0,i,s,a,o,d),f2(),c)break;d+=h.byteLength}return xu.releasePrimitive(r),c}bvhcast(e,t,n){let{intersectsRanges:i,intersectsTriangles:r}=n,o=this.geometry.index,s=this.geometry.attributes.position,a=e.geometry.index,l=e.geometry.attributes.position;z1.copy(t).invert();let c=xu.getPrimitive(),d=xu.getPrimitive();if(r){let p=function(g,v,y,b,P,O,S,A){for(let H=y,V=y+b;H<V;H++){_u(d,3*H,a,l),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let Q=g,Y=g+v;Q<Y;Q++)if(_u(c,3*Q,o,s),c.needsUpdate=!0,r(c,d,Q,H,P,O,S,A))return!0}return!1};if(i){let g=i;i=function(v,y,b,P,O,S,A,H){return!!g(v,y,b,P,O,S,A,H)||p(v,y,b,P,O,S,A,H)}}else i=p}e.getBoundingBox(lk),lk.applyMatrix4(t);let h=this.shapecast({intersectsBounds:p=>lk.intersectsBox(p),intersectsRange:(p,g,v,y,b,P)=>(ak.copy(P),ak.applyMatrix4(z1),e.shapecast({intersectsBounds:O=>ak.intersectsBox(O),intersectsRange:(O,S,A,H,V)=>i(p,g,O,S,y,b,H,V)}))});return xu.releasePrimitive(c),xu.releasePrimitive(d),h}intersectsBox(e,t){return s0.set(e.min,e.max,t),s0.needsUpdate=!0,this.shapecast({intersectsBounds:n=>s0.intersectsBox(n),intersectsTriangle:n=>s0.intersectsTriangle(n)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,n={},i={},r=0,o=1/0){e.boundingBox||e.computeBoundingBox(),s0.set(e.boundingBox.min,e.boundingBox.max,t),s0.needsUpdate=!0;let s=this.geometry,a=s.attributes.position,l=s.index,c=e.attributes.position,d=e.index,h=xu.getPrimitive(),p=xu.getPrimitive(),g=m2,v=mRe,y=null,b=null;i&&(y=gRe,b=vRe);let P=1/0,O=null,S=null;return z1.copy(t).invert(),Z_.matrix.copy(z1),this.shapecast({boundsTraverseOrder:A=>s0.distanceToBox(A),intersectsBounds:(A,H,V)=>V<P&&V<o&&(H&&(Z_.min.copy(A.min),Z_.max.copy(A.max),Z_.needsUpdate=!0),!0),intersectsRange:(A,H)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:V=>Z_.distanceToBox(V),intersectsBounds:(V,Q,Y)=>Y<P&&Y<o,intersectsRange:(V,Q)=>{for(let Y=3*V,ee=3*(V+Q);Y<ee;Y+=3){_u(p,Y,d,c),p.a.applyMatrix4(t),p.b.applyMatrix4(t),p.c.applyMatrix4(t),p.needsUpdate=!0;for(let ne=3*A,ae=3*(A+H);ne<ae;ne+=3){_u(h,ne,l,a),h.needsUpdate=!0;let pe=h.distanceToTriangle(p,g,y);if(pe<P&&(v.copy(g),b&&b.copy(y),P=pe,O=ne/3,S=Y/3),pe<r)return!0}}}});for(let Q=0,Y=d?d.count:c.count;Q<Y;Q+=3){_u(p,Q,d,c),p.a.applyMatrix4(t),p.b.applyMatrix4(t),p.c.applyMatrix4(t),p.needsUpdate=!0;for(let ee=3*A,ne=3*(A+H);ee<ne;ee+=3){_u(h,ee,l,a),h.needsUpdate=!0;let ae=h.distanceToTriangle(p,g,y);if(ae<P&&(v.copy(g),b&&b.copy(y),P=ae,O=ee/3,S=Q/3),ae<r)return!0}}}}),xu.releasePrimitive(h),xu.releasePrimitive(p),P===1/0?null:(n.point?n.point.copy(v):n.point=v.clone(),n.distance=P,n.faceIndex=O,i&&(i.point?i.point.copy(b):i.point=b.clone(),i.point.applyMatrix4(z1),v.applyMatrix4(z1),i.distance=v.sub(i.point).length(),i.faceIndex=S),n)}closestPointToPoint(e,t={},n=0,i=1/0){let r=n*n,o=i*i,s=1/0,a=null;if(this.shapecast({boundsTraverseOrder:c=>(J_.copy(e).clamp(c.min,c.max),J_.distanceToSquared(e)),intersectsBounds:(c,d,h)=>h<s&&h<o,intersectsTriangle:(c,d)=>{c.closestPointToPoint(e,J_);let h=e.distanceToSquared(J_);return h<s&&(m2.copy(J_),s=h,a=d),h<r}}),s===1/0)return null;let l=Math.sqrt(s);return t.point?t.point.copy(m2):t.point=m2.clone(),t.distance=l,t.faceIndex=a,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{vu(0,new Float32Array(t),Yq),e.union(Yq)}),e}},tx=fp(pye()),yRe=.5*(Math.sqrt(3)-1),nx=(3-Math.sqrt(3))/6,wu=1/6,ix=(Math.sqrt(5),Math.sqrt(5),e=>0|Math.floor(e)),Xq=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),ck=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function dk(e=Math.random){let t=$q(e),n=new Float64Array(t).map(r=>Xq[r%12*2]),i=new Float64Array(t).map(r=>Xq[r%12*2+1]);return function(r,o){let P,O,s=0,a=0,l=0,c=(r+o)*yRe,d=ix(r+c),h=ix(o+c),p=(d+h)*nx,y=r-(d-p),b=o-(h-p);y>b?(P=1,O=0):(P=0,O=1);let S=y-P+nx,A=b-O+nx,H=y-1+2*nx,V=b-1+2*nx,Q=255&d,Y=255&h,ee=.5-y*y-b*b;if(ee>=0){let pe=Q+t[Y];ee*=ee,s=ee*ee*(n[pe]*y+i[pe]*b)}let ne=.5-S*S-A*A;if(ne>=0){let pe=Q+P+t[Y+O];ne*=ne,a=ne*ne*(n[pe]*S+i[pe]*A)}let ae=.5-H*H-V*V;if(ae>=0){let pe=Q+1+t[Y+1];ae*=ae,l=ae*ae*(n[pe]*H+i[pe]*V)}return 70*(s+a+l)}}function $q(e){let t=new Uint8Array(512);for(let n=0;n<256;n++)t[n]=n;for(let n=0;n<255;n++){let i=n+~~(e()*(256-n)),r=t[n];t[n]=t[i],t[i]=r}for(let n=256;n<512;n++)t[n]=t[n-256];return t}var rx,mh=new tl,wRe=fp(J7()),CRe=new Kt,MRe=new Kt,PRe=new Kt;(e=>{e.is=function t(n){return n&&n.__isSPEObject}})(rx||(rx={}));var Dr,hk=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new Kt,this.copyPreviousMatrix=!0,this.hiddenMatrix=new Kt,this.matrixWorldRigid=new Kt,this.shearScale=new Kt,this.shearScaleInv=new Kt}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof uo&&(t=t.uuid);let n=this;for(;n.parent;){if(n.parent.uuid===t)return!0;n=n.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let n of this.children)n.updateMatrixWorld(t)}updateWorldMatrix(t,n){let i=this.parent;if(t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),n)for(let r of this.children)r.updateWorldMatrix(!1,!0)}traverseChildren(t,n=0){for(let i of this.children)rx.is(i)&&i.traverseObject(t,n+1)}traverseObject(t,n=0){if(!0!==t(this,n))for(let i of this.children)rx.is(i)&&i.traverseObject(t,n+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,n=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:i,v:r,q:o}=(0,wRe.SVD)(n),s=CRe.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),a=MRe.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),l=PRe.copy(a).transpose();this.shearScale.makeScale(o[0],o[1],o[2]).multiply(l).premultiply(a),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(s,l).copyPosition(this.matrixWorld),this.hasNonUniformScale=!o.every(c=>Math.abs(o[0]-c)<.01)}attach(t,n){this.updateWorldMatrix(!0,!1);let i=(new Kt).copy(this.matrixWorld).invert();return null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),i.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof Kt?t.hiddenMatrix.premultiply(i):t.applyMatrix4(i),t.updateWorldMatrix(!1,!1),this.add(t),void 0!==n&&(this.children.pop(),this.children.splice(n,0,t)),this}copy(t,n=!1){return super.copy(t,n),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,n,i,r,o,s){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},ORe=class extends(hk(uo)){},Ml=class extends ORe{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let n=this.children[e];n?.object!==t&&(n&&this.remove(n),n=new Ml(t),this.add(n),this.children.splice(e,0,this.children.pop()),n.matrixWorldNeedsUpdate=!0,n.matrixAutoUpdate=!1,n.matrix=t.matrix,n.hiddenMatrix=t.hiddenMatrix),n.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){return void 0!==this.playModeVisible?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&!0===this.object.dataPatched.cloner?.hideBase}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return(e=>"Mesh"===this.object.type)()}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},a0=new ie,l0=new ie,U1=new Kt,Qq=[new ie(-1,1,1),new ie(-1,-1,1),new ie(1,-1,1),new ie(1,1,1),new ie(-1,1,-1),new ie(-1,-1,-1),new ie(1,-1,-1),new ie(1,1,-1)],ERe=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],DRe=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],Kq=(e,t,n)=>{e.updateEntityBoxSize(a0,l0),U1.copy(t).multiply(e.matrixWorld),0===l0.x&&0===l0.y&&0===l0.z?n.push(new ie(a0.x,a0.y,a0.z).applyMatrix4(U1)):Qq.forEach(i=>{n.push(i.clone().multiply(l0).add(a0).applyMatrix4(U1))})},Zq=class extends As{constructor(){super(...arguments),this.matrix=new Kt,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let n=(new Kt).copy(e.matrixWorld).invert();return this.expandByObjectSize(e,n,t)}expandByObjectSize(e,t,n=!1){let i=[];return!0===n?e.traverseEntity(r=>{if(r.visible||r.cloner&&r.data.visible){if(!("geometry"in r))return void i.push(new ie);Kq(r,t,i)}}):Kq(e,t,i),this.setFromPoints(i)}getCenter(e){return(e=super.getCenter(e)).applyMatrix4(this.matrix),e}getPositionToCenter(e){return(e=super.getCenter(e)).applyMatrix4(U1.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(l0).multiplyScalar(.5),this.getCenter(a0),U1.copy(this.matrix).setPosition(a0),this.vertices=Qq.map(e=>e.clone().multiply(l0).applyMatrix4(U1))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=ERe.map(([e,t])=>new Sd(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new ie))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=DRe.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},lm={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},ARe=class extends YV{constructor(){super()}getPoints(e=12){let n,t=[],i=this.getCurveLengths(),r=i[i.length-1]/i.length;for(let o=0,s=this.curves;o<s.length;o++){let a=s[o],c=Math.ceil(e*(0===o?i[o]:i[o]-i[o-1])/r),d=a.getPoints(c);for(let h=0;h<d.length;h++){let p=d[h];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},uk=.001;function pk(e,t,n){return t.clone().sub(e).cross(t.clone().sub(n)).length()<=uk}function fk(e,t){let n=new ie(...e.position),i=new ie(...e.controlNext.position),r=new ie(...t.controlPrevious.position),o=new ie(...t.position);return pk(n,i,o)&&pk(n,r,o)}function Jq(e){let t=e.points.map(d=>new ie(...d.data.position)),n=[e.points[0]],i=new ie(...n[0].data.position);for(let d=0;d<e.points.length-1;d++)pk(i,t[d],t[d+1])||(n.push(e.points[d]),i=t[d]);n.push(e.points[e.points.length-1]);let r=e.isClosed,o=n.length-(r?0:1),s=n.length,a=[];for(let d=0;d<s;d++){let h=n[d].data,p=new ie(...h.position),g=new ie(...h.controlPrevious.position),v=new ie(...h.controlNext.position),y={position:p,baseRoundness:h.roundness,controlPrevious:g,controlNext:v};if(0===h.roundness||!e.isClosed&&(0===d||d===s-1)){a[d]={...y,removedLength:0};continue}let O=n[r&&0==d?s-1:d-1].data,S=n[r&&d==s-1?0:d+1].data,A=new ie(...O.position),H=new ie(...S.position),V=A.clone().sub(p).normalize(),Q=H.clone().sub(p).normalize();Object.assign(y,{prevDir:V,nextDir:Q});let Y=fk(O,h),ee=fk(h,S);if(Y&&ee){let ne=V.clone().add(Q).normalize(),ae=ne.clone().cross(V).length()/V.dot(ne);a[d]={...y,tan:ae,removedLength:h.roundness/ae}}else a[d]={...y,removedLength:0}}for(let d=0;d<o;d++){let g=a[d],v=a[r&&d===s-1?0:d+1];if(0!==g.removedLength||0!==v.removedLength){let y=g.position.distanceTo(v.position);g.removedLength=Math.min(g.removedLength,y/2),v.removedLength=Math.min(v.removedLength,y/2)}}let l=[];for(let d=0;d<o;d++){let p=r&&d===s-1?0:d+1,g=a[d],v=a[p],y=null;if(fk(n[d].data,n[p].data)){let b=g.position.clone(),P=v.position.clone();(0!==g.removedLength||0!==v.removedLength)&&(g.nextDir&&b.add(g.nextDir.clone().setLength(g.removedLength)),v.prevDir&&P.add(v.prevDir.clone().setLength(v.removedLength))),b.distanceTo(P)>uk&&(y=new VM(b,b.clone().lerp(P,.3),P.clone().lerp(b,.3),P))}else g.position.distanceTo(v.position)>uk&&(y=new VM(g.position,g.controlNext,v.controlPrevious,v.position));l[2*d+1]=y}for(let d=0;d<s;d++){let h=a[d];if(0===h.removedLength){l[2*d]=null;continue}let p=h.position,g=h.prevDir.clone().multiplyScalar(h.removedLength).add(p),v=h.nextDir.clone().multiplyScalar(h.removedLength).add(p),y=h.tan*h.removedLength,b=h.prevDir.clone().add(h.nextDir).normalize(),P=g.clone().lerp(v,.5),O=g.distanceTo(v)/2,S=b.clone().multiplyScalar(Math.sqrt(Math.pow(y,2)-Math.pow(O,2))).add(P),A=b.clone().multiplyScalar(-y).add(S),H=p.distanceTo(A)/p.distanceTo(P),V=h.prevDir.clone().multiplyScalar(H*p.distanceTo(g)).add(p),Q=V.clone().lerp(A,2),Y=g.clone().lerp(V,4/3),ee=v.clone().lerp(Q,4/3);l[2*d]=new VM(g,Y,ee,v)}let c=new ARe;return l.forEach(d=>{d&&c.add(d)}),c}(e=>{e.is=function t(n){return n&&n.__isEntity}})(Dr||(Dr={}));var Fp=e=>Dr.is(e),TRe={type:"completeState",isfromEntity:!0},IRe=["x","y","z"],mk=new ie,kRe=(new ie).set(0,1,0),gk=e=>class extends(hk(e)){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new Zq,this._recursiveBBox=new Zq,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let n=this.children[t];if(Dr.is(n))return n}entityChildrenCount(){let t=this.children.length;for(;t--;)if(Dr.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return"string"==typeof this.identity}get isVirtualEntity(){return"string"!=typeof this.identity}get isInstanceRoot(){return this.isConcreteEntity&&"Instance"===this.data.type}nearestInstanceSelfOrParent(){let t=this;for(;"Instance"!==t.data.type;){let n=t.parent;if(!Dr.is(n))return;t=n}return t}forInstancesRec(t){this.instances.forEach(n=>{n.disposed||t(n),n.forInstancesRec(t)})}super_Entity(t,n){"string"==typeof t&&(this.uuid=t),this.identity=t,this.data=n,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,n,i=!1){if(0!==this.data.states.length||i){for(let r of this.data.states)Jg.toOps(this.data,r.data).forEach(o=>{let s=AP.replaceProps(o,this.data);this.dataPatched=this.data,this.updateByPatchedOp(s,this.data,n)});if(null!==t){let r=this.data.states.data(t);r&&(this.dataPatched=Jg.patch(this.data,r),Jg.toOps(this.data,r).forEach(o=>{this.updateByPatchedOp(o,this.dataPatched,n)}))}i&&this.updateTransformState(this.dataPatched,n),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,n){t.setScalar(0),n.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{Fp(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let n;return this.traverseEntity(i=>{i.uuid===t&&(n=i)}),n}traverseSortNextHelper(){let t=this.parent;if(t){let n=t.children,i=n.indexOf(this)+1;if(Dr.is(n[i]))return n[i];if(Dr.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&Dr.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let n=this;for(;t>0&&null!==n;)n=n.parent,t-=1;return n}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let n=this.parent;for(;n;){if(t===n)return!0;n=n.parent}return!1}countToAccestor(t){let n=0,i=this;for(;i!==t;){if(null===i)return-1;i=i.parent,n+=1}return n}forEachEntity(t){for(let n of this.children)Fp(n)&&t(n)}traverseEntityAncestors(t){this.traverseAncestors(n=>{Dr.is(n)&&t(n)})}traverseConcreteEntity(t,n=0){if(!0!==t(this,n))for(let i of this.children)Fp(i)&&i.isConcreteEntity&&i.traverseEntity(t,n+1)}traverseEntity(t,n=0){if(!0!==t(this,n))for(let i of this.children)Fp(i)&&i.traverseEntity(t,n+1)}traverseVisibleEntity(t){t(this);for(let n of this.children)Fp(n)&&n.visible&&n.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,n=!1){return super.copy(t,n),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>Fp(t))}isAncestorOf(t){if(this.uuid===t)return!1;let n=!1;return this.traverseEntity(i=>{i.uuid===t&&(n=!0)}),n}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let n={position:this.position.toArray(),rotation:[this.rotation.x*Ln.RAD2DEG,this.rotation.y*Ln.RAD2DEG,this.rotation.z*Ln.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return X3(n,t)}getTransformValues(t,n,i){return n[t].map((r,o)=>i?.shared.getVariable(r,[this.uuid,t,IRe[o]])??r)}updateTransformState(t,n){let i=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,n)),i=!0),t.rotation&&(mk.fromArray(this.getTransformValues("rotation",t,n)).multiplyScalar(Ln.DEG2RAD),this.rotation.setFromVector3(mk),i=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,n)),i=!0),void 0!==t.hiddenMatrix&&(i=!0,this.hiddenMatrix.fromArray(t.hiddenMatrix??M1.identity)),i&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(r=>{r.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&void 0!==t.hiddenMatrix&&this.updateWorldMatrix(!1,!0),i}onVariableUpdate(t=!1){t?this.resetBBoxNeedsUpdate():(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(n=>{n.invalidateClonerTransform(this)}))}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)Dr.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{Dr.is(t)&&t.disposeRecursively()})}toState(t=[]){let n={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(t)};return X3(n,t)}updateByObjUpdateOp(t,n){void 0!==t&&this.updateByOp({type:0,props:t,path:[]},{...this.data,...t},n,!1)}updateByOp(t,n,i,r){let o=this.data;this.data=n;let s=t,a=Io(t.path,["states","*"]);if(null!==a){if(0===t.type){let[l]=a;if(this?.stateSelection===l){let c={...t.props};if(delete c.name,Object.values(t.props).some(d=>void 0===d)){let d=this.data;if(void 0!==d){let h=va.zoom(d,t.path.slice(2));if(h)for(let p in t.props)void 0===t.props[p]&&p in h&&(c[p]=h[p])}}s={...t,props:c,path:t.path.slice(2)}}}}else if(0===t.type){let l=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(void 0!==l){if(void 0!==t.props.name&&l.name){let{name:d,...h}=l;l=h}if(void 0!==t.props.material&&"material"in l){let{material:d,...h}=l;l=h}let c=va.removeOverridden(t.path,t.props,l);s={...t,props:c}}}if(this.updateByPatchedOpBase(s,Jg.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),i),Io(t.path,["overrides"])){let l=[],c=[...t.path];for(l.push(c[1]),c.splice(0,2);c.length>0&&"descendants"===c[0];)l.push(c[1]),c.splice(0,2);if(void 0===l[l.length-1]){if(0===t.type)for(let d of Object.keys(t.props)){l[l.length-1]=d;let h=i.scene.findInstance([this.uuid,...l]);h&&(h.overrideData=t.props[d],h.updateState($f.apply(h.component.data,h.overrideData),i))}}else{let d=i.scene.findInstance([this.uuid,...l]);if(d){let h=va.zoom(d.component.data,c);if(0===(t={...t,path:c}).type){let p=t.props;if(h)for(let[g,v]of Object.entries(t.props))void 0===v&&(p===t.props&&(p={...t.props}),p[g]=h[g]);t={...t,props:p}}d.overrideData=XP.resolve(n.overrides,l),d.updateByOp(t,Ra.applySimple(d.data,t),i,!1)}}}else if(this.instances.length>0){let l;if(0===t.path.length&&0===t.type){let c;for(let d of em.rootOverrideProps)d in t.props&&(void 0===c&&(c={}),c[d]=t.props[d]);c&&(l={...t,props:c})}else for(let c of em.rootOverrideProps)if(Io(t.path,[c])){l=t;break}void 0!==l&&this.instances.forEach(c=>{if(c.isInstanceRoot){let d=$f.filterOp(c.overrideData,l);d&&c.updateByOp(d,Ra.applySimple(c.data,d),i,!0)}}),this.instances.forEach(c=>{if(!c.isInstanceRoot){let d=$f.filterOp(c.overrideData,t);if(d){let h;h=o===c.data&&t===d?n:Ra.applySimple(c.data,d),c.updateByOp(d,h,i,!0)}}})}}updateByPatchedOpBase(t,n,i){if(this.dataPatched=n,0===t.path.length&&0===t.type)void 0!==t.props.type&&!Qg.is(t.props.type)&&lm.changeEntityProptotype(this,n,i);else if(1===t.path.length&&"geometry"===t.path[0]&&0===t.type&&"type"in t.props){lm.changeEntityProptotype(this,n,i);for(let r of this.children)Dr.is(r)&&r.updateVisible(i.scene)}this.updateByPatchedOp(t,n,i)}updateByPatchedOp(t,n,i){if(0===t.path.length&&0===t.type&&this.updateState(t.props,i),"morphTargetInfluences"===t.path[0]&&0===t.type){let r=n.morphTargetInfluences.get(t.path[1])?.data.name;r&&this.updateMorphInfluences(r,i.shared.getVariable(t.props.value,[this.uuid,"morphTargetInfluences",r]))}if(null!==Io(t.path,["pathSnapping"])&&this.updatePathSnapping(n.pathSnapping),null!==Io(t.path,["cloner"])){let r=Ra.drop(t,1);0===r.path.length&&0===r.type&&!0===r.props.disabled?this.setFromClonerState(null,i):this.cloner?this.cloner.updateState(n.cloner,i.scene):(this.setFromClonerState(n.cloner,i),this.expandCloner(i.scene)),this.updateVisible(i.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){let n=this._updatedPathSnapping?.pathId??this.dataPatched.pathSnapping.pathId,i=this._updatedPathSnapping?.slide??this.dataPatched.pathSnapping.slide??0,r=this._updatedPathSnapping?.offset??this.dataPatched.pathSnapping.offset??0,o=this._updatedPathSnapping?.orientation??this.dataPatched.pathSnapping.orientation;if(null===n)return;let s=t.find(n);if(!s||!1===this._needApplyPathSnapping)return;this._needApplyPathSnapping=!1;let a=s.data;if(a.geometry.path.points.length<=1)return;let l=Jq(a.geometry.path),c=(i+r)%1;i+r===1&&0===c&&(c=1);let d=null;try{d=l.curves.length?l.getPointAt(c):null}catch{}if(null===d)return;let h=this.parent?this.parent?.matrixWorld:new Kt;s.updateMatrixWorld();let p=(new Kt).multiplyMatrices(h.clone().invert(),s.matrixWorld);d.applyMatrix4(p);let g={position:d.toArray(),rotation:a.rotation};if("tangential"===o){let v=(new Kt).extractRotation(s.matrixWorld),y=l.getTangentAt(c).applyMatrix4(v).add(d),b=(new Kt).lookAt(d,y,kRe),P=mk.setFromEuler((new fa).setFromRotationMatrix(b)).multiplyScalar(Ln.RAD2DEG);g={...g,rotation:P.toArray()}}this.updateTransformState(g),this.traverseEntity(v=>{v._cameraType&&v.dispatchEvent(TRe)})}updateVisible(t){if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||!0!==this.dataPatched.cloner?.hideBase),!t)return;let n=!1;this.traverseEntity(i=>{if("Splat"===i.data.type)return n=!0,!0}),n&&t.reloadSplats()}updateState_Entity(t,n){void 0!==t.name&&(this.name=t.name),void 0!==t.raycastLock&&(this.raycastLock=t.raycastLock),void 0!==t.visible&&(this.updateVisible(n?.scene),this.resetBBoxNeedsUpdate()),n&&"cloner"in t&&void 0!==t.cloner&&(this.setFromClonerState(t.cloner,n),this.updateVisible(n.scene)),this.updateTransformState(t,n)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof lm.Cloner&&"toObject"===t.parameters.type)}setFromClonerState(t,n){this.disposed||(null===t||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):void 0===this.cloner?(this.cloner=new lm.Cloner(this,t),n.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,n.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}requestRender(){this.dispatchEvent({type:"requestRender"})}},eY=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);n.thetaLength=Ln.clamp(n.thetaLength,0,360);let i=n.width/2,r=n.radiusTop??i,o=n.radiusBottom??i;return r===o?(r=i,o=i):r>o?(r=i,o=o*i/r):(r=r*i/o,o=i),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),radiusTop:r,radiusBottom:o})}}static build(e){let v,{width:t,depth:n,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l,radiusTop:c,radiusBottom:d,cornerRadius:h,cornerSegments:p,hollow:g}=e.parameters;return 0===l?(v=new ii,v.setAttribute("position",new On([],3))):v=h||g?new nY(c,d,i,r,o,s,a,l*Math.PI/180,h,h,p,g):new a3(c,d,i,r,o,s,a,l*Math.PI/180),v.scale(1,1,n/t),Object.assign(v,{userData:{...e,type:"CylinderGeometry"}})}};function cm(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function tY(e){return new qe(e.y,-e.x)}var nY=class extends ii{constructor(e,t,n,i,r,o,s,a,l,c,d,h,p=!1){super(),this.type="RoundedCylinderBufferGeometry",e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,o=void 0!==o&&o,s=void 0!==s?s:0,a=void 0!==a?a:2*Math.PI,o&&(l=0,c=0);let g=[],v=[],y=[],b=[],P=0,O=n/2,S=new ie,A=new ie;p&&0==e&&(e=l),p&&0==t&&(t=c);let H=new qe(e,O),V=new qe(t,-O),Q=null,Y=null,ee=null,ne=null,ae=H.clone().sub(V),pe=0,fe=0,ge=0;h>0&&(pe=Math.min(e,t)*(1-h),fe=e-pe,ge=t-pe);let Se=H.clone();Se.x-=pe;let Oe=Math.PI-ae.angle(),Ce=ae.angle(),_e=Math.tan(Ce/2),Be=Math.tan(Oe/2),We=_e+Be,Ue=h?We:_e;if(l=Math.min(l,(e-fe)/(h?We:Be),ae.length()/We),c=Math.min(c,(t-ge)/Ue,ae.length()/We),l>0){let rt=l/_e;Q=H.clone().sub(new qe(rt,l)),h&&(ee=Q.clone(),ee.x-=pe-We*l),H.sub(ae.clone().setLength(rt))}if(c>0){let rt=c/Be;Y=V.clone().sub(new qe(rt,-c)),V.add(ae.clone().setLength(rt)),h&&(ne=Y.clone(),ne.x-=pe-We*c,Se.sub(ae.clone().setLength(rt)))}ae=H.clone().sub(V);let nt=ae.length()<.5,He=[];for(let rt=0;rt<=i;rt++){let wt=[],lt=rt/i,Gt=lt*a+s,Nt=new qe(Math.sin(Gt),Math.cos(Gt));if(ne&&Y?(tt(wt,lt,Nt,Oe,c,ne,-1,!0),tt(wt,lt,Nt,Ce,c,Y,-1,!1)):Y?(Xe(wt,Nt,Y.x,0,-1),tt(wt,lt,Nt,Ce,c,Y,-1,!1)):o||Xe(wt,Nt,t,ge,-1),cm(tY(ae).normalize(),Nt,S),!nt)for(let wn=0;wn<=r;wn++){let Cn=wn/r;cm(ae.clone().multiplyScalar(Cn).add(V),Nt,A),v.push(A.x,A.y,A.z),y.push(S.x,S.y,S.z),b.push(lt,.5+A.y/n),wt.push(P++)}if(ee&&Q?(tt(wt,lt,Nt,Oe,l,Q,1,!1),tt(wt,lt,Nt,Ce,l,ee,1,!0)):Q?(tt(wt,lt,Nt,Oe,l,Q,1,!1),Xe(wt,Nt,Q.x,0,1)):o||Xe(wt,Nt,e,fe,1),h&&!nt){cm(tY(ae).multiplyScalar(-1).normalize(),Nt,S);for(let Cn=0;Cn<=r;Cn++){let Sn=Cn/r;cm(ae.clone().multiplyScalar(-Sn).add(Se),Nt,A),v.push(A.x,A.y,A.z),y.push(S.x,S.y,S.z),b.push(lt,.5+A.y/n),wt.push(P++)}}h&&!o&&wt.push(wt[0]),He.push(wt)}for(let rt=0;rt<He.length-1;rt++)for(let wt=0;wt<He[0].length-1;wt++){if(o&&h&&wt==r)continue;let Gt=He[rt+1][wt],Nt=He[rt+1][wt+1],At=He[rt][wt+1],wn=v[3*Nt+0],Cn=v[3*Nt+2];g.push(He[rt][wt],Gt,At),(0!=wn||0!=Cn)&&g.push(Gt,Nt,At)}function tt(rt,wt,lt,Gt,Nt,At,wn,Cn){for(let Sn=0;Sn<d+1;Sn++){let Fn=Sn/d,fn=wn<0?Fn:1-Fn;Cn&&(fn-=1),fn*=Gt;let hn=new qe(Math.sin(fn),Math.cos(fn)*wn);cm(hn.clone().multiplyScalar(Nt).add(At),lt,A),v.push(A.x,A.y,A.z),cm(hn,lt,S),y.push(S.x,S.y,S.z),b.push(wt,.5+A.y/n),rt.push(P++)}}function Xe(rt,wt,lt,Gt,Nt){let At=new ie,wn=new qe,Cn=[lt,Gt];Nt<0&&Cn.reverse();for(let Sn of Cn)wn.set(Sn,O*Nt),cm(wn,wt,At),v.push(At.x,At.y,At.z),y.push(0,Nt,0),b.push(.5,.5),rt.push(P++)}function xt(rt,wt,lt){let Gt=new qe(Math.sin(lt),Math.cos(lt)),Nt=new qe(-Math.cos(lt),Math.sin(lt)),At=new ie,wn=rt<0?(Fn,fn,hn)=>g.push(Fn,fn,hn):(Fn,fn,hn)=>g.push(Fn,hn,fn);cm(new qe((e+t+fe+ge)/4,0),Gt,At),v.push(At.x,At.y,At.z),y.push(Nt.x,0,Nt.y),b.push(.5,.5);let Sn=P++;for(let Fn of wt){let fn=v.slice(3*Fn,3*Fn+3);v.push(...fn),y.push(Nt.x,0,Nt.y);let hn=b.slice(2*Fn,2*Fn+2);b.push(...hn),P++}for(let Fn=Sn+1;Fn<P-1;Fn++)wn(Sn,Fn,Fn+1);wn(Sn,P-1,Sn+1)}a<2*Math.PI&&(xt(-1,He[0],s),xt(1,He[He.length-1],s+a)),this.setIndex(g),this.setAttribute("position",new On(v,3)),this.setAttribute("normal",new On(y,3)),this.setAttribute("uv",new On(b,2))}},vk=Math.PI/2,LRe=class extends ii{constructor(e=1,t=1,n=1,i=1,r=1,o=1,s=0,a=4){super(),this.type="BoxGeometry",i=Math.floor(i),r=Math.floor(r),o=Math.floor(o),a=Math.floor(a),s=Math.min(s,e/2,t/2,n/2);let l=[],c=[],d=[],h=[],p=0;function g(b,P,O,S,A,H,V,Q,Y,ee){let ne=(H-2*s)/Y,ae=(V-2*s)/ee,pe=H/2-s,fe=V/2-s,ge=Q/2,Se=Y+1,Oe=ee+1,Ce=0,_e=new ie;for(let Be=0;Be<Oe;Be++){let We=Be*ae-fe;for(let Ve=0;Ve<Se;Ve++)_e[b]=(Ve*ne-pe)*S,_e[P]=We*A,_e[O]=ge,c.push(_e.x,_e.y,_e.z),_e[b]=0,_e[P]=0,_e[O]=Q>0?1:-1,d.push(_e.x,_e.y,_e.z),h.push(Ve/Y),h.push(1-Be/ee),Ce+=1}for(let Be=0;Be<ee;Be++)for(let We=0;We<Y;We++){let Ue=p+We+Se*(Be+1),nt=p+(We+1)+Se*(Be+1),He=p+(We+1)+Se*Be;l.push(p+We+Se*Be,Ue,He),l.push(Ue,nt,He)}p+=Ce}function v(b,P,O,S,A,H,V,Q,Y,ee){let ne=(V-2*s)/ee,ae=V/2-s,pe=Q/2-s,fe=Y/2,ge=ee+1,Se=0,Oe=new ie,Ce=new ie;for(let _e=0;_e<a+1;_e++){let Be=_e/a*vk,We=Math.sin(Be)*s,Ve=(1-Math.cos(Be))*s,Ue=Math.sin(Be),nt=Math.cos(Be);Oe[P]=(pe+We)*A,Oe[O]=(fe-Ve)*H,Ce[b]=0,Ce[P]=Ue*Math.sign(Oe[P]),Ce[O]=nt*Math.sign(Oe[O]);for(let He=0;He<ge;He++)Oe[b]=(He*ne-ae)*S,c.push(Oe.x,Oe.y,Oe.z),d.push(Ce.x,Ce.y,Ce.z),h.push(He/ee),h.push(0),Se+=1}for(let _e=0;_e<a;_e++)for(let Be=0;Be<ee;Be++){let Ve=p+Be+ge*(_e+1),Ue=p+(Be+1)+ge*(_e+1),nt=p+(Be+1)+ge*_e;l.push(p+Be+ge*_e,Ve,nt),l.push(Ve,Ue,nt)}p+=Se}function y(b,P,O){let S=new ie,A=new ie(e/2,t/2,n/2);A.subScalar(s);let H=[],V=b*P*O>0?(Y,ee,ne)=>l.push(Y,ee,ne):(Y,ee,ne)=>l.push(Y,ne,ee);for(let Y=0;Y<=a;Y++){let ee=[],ne=vk*(1-Y/a),ae=Math.cos(ne),pe=Math.sin(ne),fe=0;for(let ge=0;ge<=Y;ge++){let Se=Math.cos(fe),Oe=Math.sin(fe);S.x=ae*Se,S.y=pe,S.z=ae*Oe;let Ce=A.clone().addScaledVector(S,s);c.push(b*Ce.x,P*Ce.y,O*Ce.z),d.push(b*S.x,P*S.y,O*S.z),h.push(0,0),ee.push(p++),fe+=vk/Y}H.push(ee)}let Q=H.length-1;for(let Y=0;Y<Q;Y++){let ee=H[Y],ne=H[Y+1],ae=ee.length-1;V(ee[0],ne[1],ne[0]);for(let pe=1;pe<=ae;pe++)V(ee[pe-1],ee[pe],ne[pe]),V(ee[pe],ne[pe+1],ne[pe])}}g("z","y","x",-1,-1,n,t,e,o,r),g("z","y","x",1,-1,n,t,-e,o,r),g("x","z","y",1,1,e,n,t,i,o),g("x","z","y",1,-1,e,n,-t,i,o),g("x","y","z",1,-1,e,t,n,i,r),g("x","y","z",-1,-1,e,t,-n,i,r),s>0&&(v("z","y","x",-1,-1,1,n,t,e,o),v("z","y","x",1,-1,-1,n,t,e,o),v("z","y","x",-1,1,-1,n,t,e,o),v("z","y","x",1,1,1,n,t,e,o),v("x","y","z",-1,-1,-1,e,t,n,i),v("x","y","z",1,-1,1,e,t,n,i),v("x","y","z",-1,1,1,e,t,n,i),v("x","y","z",1,1,-1,e,t,n,i),v("y","x","z",-1,-1,1,t,e,n,r),v("y","x","z",1,-1,-1,t,e,n,r),v("y","x","z",1,1,1,t,e,n,r),v("y","x","z",-1,1,-1,t,e,n,r),y(1,1,1),y(-1,1,1),y(1,-1,1),y(-1,-1,1),y(1,1,-1),y(-1,1,-1),y(1,-1,-1),y(-1,-1,-1)),this.setIndex(l),this.setAttribute("position",new On(c,3)),this.setAttribute("normal",new On(d,3)),this.setAttribute("uv",new On(h,2))}},yk=class extends ii{constructor(e=[],t=[],n="",i=1,r=.2,o=4){super(),this.type="PolyhedronGeometryRound";let s=[],a=[],l=[];return function c(){0==(r=Math.min(.99999,r))&&(o=0);let h={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[n],p=new ie,g=p.clone(),v=new tl,y=r*i,b=i-y,P=o+1,O=new ie,S=(Ce,_e)=>O.subVectors(Ce,_e).normalize(),A=(Ce,_e)=>Array(Ce).fill(void 0).map(_e),H=A(e.length/3,(Ce,_e)=>(new ie).fromArray(e,3*_e).setLength(i)),V=[],Q=1e6;for(let Ce=0;Ce<H.length;Ce++){let We,Ve,Ue,_e=H[Ce],Be=[],nt=1e10,He=-1;for(;-1!=(He=t.indexOf(Ce,He+1));){let rt=He-He%3;We=t[rt+(He+1)%3],Ve=t[rt+(He+2)%3],Ue=_e.distanceToSquared(H[We]),nt=Math.min(nt,Ue),Be.push([We,Ve,Ue])}nt+=1e-6;let tt=[],Xe=0,xt=Be.length;for(let rt=0;rt<xt;rt++){[We,Ve,Ue]=Be[Xe];let wt=1==V[We]?.includes(Ce);Ue<=nt&&tt.push(We+ +wt*Q),Xe=Be.findIndex(lt=>lt[0]==Ve)}V.push(tt)}let Y=[];{let Be,We,Ce=0,_e=0,Ve=3==h;for(let Ue=0;Ue<=o;Ue++){Be=Ue*(Ue+1)/2,We=(Ue+1)*(Ue+2)/2;for(let nt=0;nt<o-Ue;nt++)[Ce,_e]=[Be+nt+Ue+2,We+nt+Ue+3],Y.push(Be,We,...Ve?[_e,Be]:[Ce,We],_e,Ce),[Be,We]=[Ce,_e];Y.push(Be,We,Be+o+2)}}let ee=p.clone(),ne=p.clone(),ae=p.clone(),pe=p.clone(),fe=p.clone(),ge=[],Se=A(H.length,()=>A(h,()=>p.clone()));for(let Ce=0;Ce<H.length;Ce++){p.copy(H[Ce]).normalize(),ee.copy(p).multiplyScalar(b);let _e=V[Ce];for(let tt=0;tt<_e.length;tt++)v.setFromPointsAndIndices(H,Ce,_e[tt]%Q,_e[(tt+1)%h]%Q),v.b.sub(v.a).setLength(1e10).add(v.a),v.c.sub(v.a).setLength(1e10).add(v.a),v.closestPointToPoint(ee,Se[Ce][tt]);let Be=[],We=[],Ve=[],Ue=new ie;0==o&&[...Se[Ce]].reduce((tt,Xe)=>tt.add(Xe),Ue).multiplyScalar(1/h);for(let tt=0;tt<h;tt++){let Xe=[],rt=Se[Ce][(tt-1+h)%h],wt=Se[Ce][tt];p.copy(rt).sub(ee),g.copy(wt).sub(ee);let lt=ee.angleTo(p),Gt=p.angleTo(g),Nt=Math.cos(lt)*y;0==o?ne.copy(Ue):ne.copy(ee).setLength(b+Nt),We.push(Nt);let At=[ne,rt,wt];for(let wn=0;wn<2;wn++){let Cn=At[wn],Sn=At[wn+1];pe.subVectors(Cn,ee),fe.subVectors(Sn,ee),ae.crossVectors(pe,fe).normalize();for(let Fn=0;Fn<P;Fn++){let fn=[lt,Gt][wn]*Fn/P;p.copy(pe).applyAxisAngle(ae,fn).add(ee),Be.push(p.clone()),wn&&(S(p,ee),Xe.push([0==Fn?Cn:p.clone(),O.clone()]))}wn&&(S(Sn,ee),Xe.push([Sn,O.clone()]))}Ve.push(Xe)}ge.push(Ve);let nt=2*P,He=2;for(let tt=0;tt<h;tt++){let Xe=nt*tt,xt=nt*((tt+1)%h),rt=[Be[Xe]];for(let lt=1;lt<P;lt++){pe=Be[Xe+lt],fe=Be[xt+lt],rt.push(pe);for(let Gt=1,Nt=lt-He+1;Gt<=Nt;Gt++)p.lerpVectors(pe,fe,Gt/(Nt+1)),p.sub(ee).setLength(We[tt]).add(ee),rt.push(p.clone());rt.push(fe)}for(let lt=0;lt<P;lt++)rt.push(Be[lt+P+Xe]);rt.push(Be[xt+P]);let wt=Y.map(lt=>rt[lt]);s.push(...wt.map(lt=>[lt.x,lt.y,lt.z]).flat()),l.push(...wt.map(lt=>(S(lt,ee),[O.x,O.y,O.z])).flat())}}let Oe=[];for(let Ce=0;Ce<V.length;Ce++)for(let _e=0;_e<h;_e++){let Be=V[Ce][_e];if(Be<Q){let We=V[Be].findIndex(nt=>nt%Q==Ce),Ve=ge[Ce][_e],Ue=ge[Be][We];for(let nt=0;nt<P;nt++){let tt=Ue[P-nt],Xe=Ve[nt+1];[Ve[nt],tt,Xe,Xe,tt,Ue[P-(nt+1)]].forEach(rt=>{s.push(rt[0].x,rt[0].y,rt[0].z),l.push(rt[1].x,rt[1].y,rt[1].z)})}Oe.push(Ve[0][0],Ue[P][0],Ve[P][0],Ue[0][0])}}for(;Oe.length;){let Ce,_e,Be,We;[Ce,_e]=Oe.splice(0,2);let Ve=[Ce];for(;Ce!=_e;)Ve.push(_e),Be=Oe.indexOf(_e),We=Be%2,_e=Oe.splice(Be-We,2)[1-We];O.subVectors(Ve[0],Ve[1]).cross(p.subVectors(Ve[0],Ve[2])).normalize();let Ue=O.dot(Ve[0])<0;Ue&&O.negate();for(let nt=1;nt<=Ve.length-2;nt++)[Ve[nt+ +Ue],Ve[nt+1-+Ue],Ve[0]].forEach(He=>{s.push(He.x,He.y,He.z),l.push(O.x,O.y,O.z)})}}(),function d(){let h=new ie;for(let V=0;V<s.length;V+=3){h.x=s[V+0],h.y=s[V+1],h.z=s[V+2];let Q=A(h)/2/Math.PI+.5,Y=H(h)/Math.PI+.5;a.push(Q,1-Y)}let p=new ie,g=new ie,v=new ie,y=new ie,b=new qe,P=new qe,O=new qe,S=(V,Q,Y,ee)=>{ee<0&&1===V.x&&(a[Q]=V.x-1),0===Y.x&&0===Y.z&&(a[Q]=ee/2/Math.PI+.5)};for(let V=0,Q=0;V<s.length;V+=9,Q+=6){p.set(s[V+0],s[V+1],s[V+2]),g.set(s[V+3],s[V+4],s[V+5]),v.set(s[V+6],s[V+7],s[V+8]),b.set(a[Q+0],a[Q+1]),P.set(a[Q+2],a[Q+3]),O.set(a[Q+4],a[Q+5]),y.copy(p).add(g).add(v).divideScalar(3);let Y=A(y);S(b,Q+0,p,Y),S(P,Q+2,g,Y),S(O,Q+4,v,Y)}for(let V=0;V<a.length;V+=6){let Q=a[V+0],Y=a[V+2],ee=a[V+4],ne=Math.max(Q,Y,ee),ae=Math.min(Q,Y,ee);ne>.9&&ae<.1&&(Q<.2&&(a[V+0]+=1),Y<.2&&(a[V+2]+=1),ee<.2&&(a[V+4]+=1))}function A(V){return Math.atan2(V.z,-V.x)}function H(V){return Math.atan2(-V.y,Math.sqrt(V.x*V.x+V.z*V.z))}}(),this.setAttribute("position",new On(s,3)),this.setAttribute("normal",new On(l,3)),void this.setAttribute("uv",new On(a,2))}static fromJSON(e){return new yk(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},iY=class extends yk{constructor(e=1,t=.2,n=4){let i=(1+Math.sqrt(5))/2,r=1/i,a="DodecahedronGeometry";super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,e,t,n),this.type=a}static fromJSON(e){return new iY(e.radius,e.corner,e.cornerSides)}},ox=1e-12,bk=class{constructor(e){this.position=new qe,this.startPosition=new qe,this.uuid=Ln.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new bk(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},_k=class extends bk{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new _k(this.parent).copy(this)}},j1=class extends bk{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new _k(this),new _k(this))}static create(e,t){let n=new j1(e,new qe(...t.position));return n.controls[0].position.set(...t.controlPrevious.position),n.controls[1].position.set(...t.controlNext.position),n.roundness=t.roundness,n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,n}getOppositeControl(e){let t=this.controls.indexOf(e);return 0===t?this.controls[1]:1===t?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let n=0,i=this.controls.length;n<i;n++){let r=this.controls[n];this.position.distanceTo(r.position)<=t?r.position.copy(this.position):r.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new j1(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){let e=this.curveBefore?.getTangentAt(1),t=this.curveAfter?.getTangentAt(0);return[e,t]}computeNormals(e=new qe,t=new qe){let[n,i]=this.computeTangents();return n&&i&&(rY(n,e),rY(i,t)),[e,t]}computeTangent(e=new qe){let[t,n]=this.computeTangents();return t&&n&&e.copy(t).add(n).normalize(),e}computeNormal(e=new qe){let[t,n]=this.computeNormals();return e.copy(t).add(n).normalize(),e}};function rY(e,t=new qe){let n=e.length();return t.set(-e.y/n,e.x/n)}var V1=new qe,g2=new qe,BRe=new qe,zRe=new qe,URe=new qe,jRe=new qe,oY=new ie,sY=new ie;function VRe(e){let t=new qe;t.addVectors(e.v0,V1.subVectors(e.v1,e.v0).multiplyScalar(2/3));let n=new qe;return n.addVectors(e.v2,g2.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new hh(e.v0,t,n,e.v2)}function sx(e,t,n=Number.EPSILON){return Math.abs(e-t)<n}function HRe(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function GRe(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function aY(e,t,n){let i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),o=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return Math.acos((r*r+i*i-o*o)/(2*r*i))}function WRe(e,t,n){return cY(e,t)&&cY(t,n)&&wk(e.position,t.position,n.position)}function wk(e,t,n){return 0===V1.copy(t).sub(e).cross(g2.copy(n).sub(e))}function qRe(e,t,n,i,r){let o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=(e.y+t.y)/2,a=(e.x+t.x)/2,l=Math.sqrt(Math.pow(n,2)-Math.pow(o/2,2))*(e.y-t.y)/o,c=Math.sqrt(Math.pow(n,2)-Math.pow(o/2,2))*(t.x-e.x)/o;return i.set(a+l,s+c),r.set(a-l,s-c),[i,r]}function YRe(e,t,n){return e.distanceTo(n)<t.distanceTo(n)?t:e}function XRe(e,t,n,i,r,o){let h,s=t.x-e.x,a=t.y-e.y,l=n.x-e.x,c=n.y-e.y,d=Math.sqrt((s+l)*(s+l)+(a+c)*(a+c));return aY(t,e,n)>Math.PI&&(d*=-1),h=sx(c,a)?(a+c)*(i/d-.5)*8/3/(s-l):(s+l)*(i/d-.5)*8/3/(c-a),r.set(t.x-h*a,t.y+h*s),o.set(n.x+h*c,n.y-h*l),[r,o]}function lY(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function cY(e,t){return wk(e.position,e.controls[1].position,t.position)&&wk(e.position,t.controls[0].position,t.position)}function dY(e,t=12,n=!1){let i=[];for(let r=0,o=e.length;r<o;r++){let s=e[r],a=0;if(n&&void 0!==s.roundedCurveCorner){let l=.5*c0(s.roundedCurveCorner,t);r>0&&(i[r-1]+=l),a+=l}void 0!==s.curveAfter&&(a+=c0(s.curveAfter,t)),i.push(a)}return e.length>0&&n&&void 0!==e[0].roundedCurveCorner&&(i[e.length-1]+=.5*c0(e[0].roundedCurveCorner,t)),i}function c0(e,t=12){return e&&e instanceof UM?2*t:e&&(e instanceof uh||e instanceof qV)?1:e&&e instanceof s3?t*e.points.length:t}var bo,Zs,Ck=new qe,JRe=new qe,e4e=new qe,t4e=new qe,n4e=new qe,i4e=new qe,xs=class extends GM{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new vc(new ie(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=Ln.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,n){let i=new xs;return i.isClosed=e.isClosed,i.points=e.points.map(r=>j1.create(r.id,r.data)),"number"==typeof e.roundness&&(i.roundness=e.roundness),i.shapeHoles=e.shapeHoles.map(r=>xs.createFromState(r)),void 0!==t&&void 0!==n&&i.applySize(t,n),i.update(),i}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,n=this.points.length;t<n;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,n=this.points.findIndex(i=>i.uuid===e);if(n<0){let i=t;for(let r=0,o=this.shapeHoles.length;r<o;r++){let s=this.shapeHoles[r],a=s.points.length,l=s.getPointIndexById(e);if(!(l<0))return l+i;i+=a}}return n}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let n=0,i=this.shapeHoles.length;n<i;n++){let r=this.shapeHoles[n],o=e-t;if(o<=r.points.length-1)return r.points[o];t+=r.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let n=0,i=this.shapeHoles.length;n<i;n++){let r=this.shapeHoles[n],o=r.points.indexOf(e);if(o>=0)return t+o;t+=r.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){0===e&&(e=.001),0===t&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let n=Ck.set(e,t);for(let i=0,r=this.points.length;i<r;i++){let o=this.points[i];o.position.multiply(n),o.controls[0].position.multiply(n),o.controls[1].position.multiply(n)}for(let i=0,r=this.shapeHoles.length;i<r;i++)this.shapeHoles[i].applyScale(e,t);this._update()}createPoint(e,t=0,n=Ln.generateUUID()){let i;i=e instanceof qe?e:new qe(e,t);let r=new j1(n,i);return r.roundness=this.roundness,r}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];if(i.uuid===e)return i}for(let t=0,n=this.shapeHoles.length;t<n;t++){let i=this.shapeHoles[t].getPointByUuid(e);if(i)return i}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(n=>n.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,n=!1){this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t);let i=n?this.roundedCurveDivisions:this.curveDivisions;return function QRe(e,t,n=12,i=!0){let o,r=sY.set(0,0,0),s=0,a=[];for(let l=0;l<t.length;l++){let c=t[l],d=V1,h=c0(c,n);a.push(h);for(let p=0;p<=h;p++)if(c instanceof hh||c instanceof Wf||c instanceof uh){if(c.getPoint(p/h,d),r.set(d.x,d.y,0),void 0!==o&&GRe(o,r))continue;void 0===o&&(o=oY),o.copy(r),e.setXYZ(s,r.x,r.y,r.z),s++}}i&&s>1&&!(e.getX(s-1)===e.getX(0)&&e.getY(s-1)===e.getY(0)&&e.getZ(s-1)===e.getZ(0))&&(e.setXYZ(s,e.getX(0),e.getY(0),e.getZ(0)),s++)}(e,n?this.roundedCurves:this.curves,t,this.autoClose),i.reduce((r,o)=>r+o,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=dY(this.points,e,!1),this.roundedCurveDivisions=dY(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,n=12){return 2*function KRe(e,t,n,i=12,r=!0){let o=sY.set(0,0,0),s=0,a=[];for(let l=0;l<t.length;l++){if(!1===n[l])continue;let c,d=t[l],h=V1,p=c0(d,i);a.push(p);for(let g=0;g<=p;g++)if(d instanceof hh||d instanceof Wf||d instanceof uh){if(d.getPoint(g/p,h),o.set(h.x,h.y,0),c?.equals(o))continue;void 0===c?c=oY:(e.setXYZ(s,c.x,c.y,c.z),s++,e.setXYZ(s,o.x,o.y,o.z),s++),c.copy(o)}}return r&&s>1&&!(e.getX(s-1)===e.getX(0)&&e.getY(s-1)===e.getY(0)&&e.getZ(s-1)===e.getZ(0))&&(e.setXYZ(s,e.getX(0),e.getY(0),e.getZ(0)),s++),a}(e,this.curves,t,n,this.autoClose).reduce((i,r)=>i+r,0)}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t),function ZRe(e,t,n=12,i=!0){let r,o=0;for(let s=0;s<t.length;s++){let a=t[s],l=c0(a,n),c=V1;for(let d=0;d<=l;d++)if(a instanceof hh||a instanceof Wf||a instanceof uh){if(a.getPoint(d/l,c),void 0!==r&&HRe(r,c,ox))continue;void 0===r&&(r=g2),r.copy(c),e.push(c.x,c.y),o++}}return sx(e[0],e[e.length-2],ox)&&sx(e[1],e[e.length-1],ox)&&(e.pop(),e.pop()),i&&o>1&&!(sx(e[o-1],e[1],ox)&&sx(e[o-2],e[0],ox))&&(e.push(e[0],e[1]),o++),e}(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let n=0;void 0===this.curveDivisions&&this.computeCurveDivisions(this.subdivision);let i=t?this.roundedCurveDivisions:this.curveDivisions,r=0;t&&void 0!==this.points[0].roundedCurveCorner&&(r=.5*c0(this.points[0].roundedCurveCorner,this.subdivision));let o=e-r;o<0&&(o+=i.reduce((s,a)=>s+a,0));for(let s=0,a=i.length;s<a;s++){let l=i[s];if(o<n+l)return[s,(o-n+1)/l];n+=l}return[0,1]}getCurveT(e,t,n){let i=this.points[e],r=this.points[e>=this.points.length-1?0:e+1],o=this.curveDivisions,s=o[e];if(lY(i,r)){let l=i.position.distanceTo(r.position);return i.position.distanceTo(Ck.set(n.x,n.y))/l}let a=0;for(let l=0;l<e;l++)a+=o[l];return(t-a)/s}dispose(){}_applyCurveForPoint(e,t){lY(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let n=this.curves[this.curves.length-1];e.curveBefore=n,t.curveAfter=n;let i=n.clone();e.roundedCurveBefore=i,t.roundedCurveAfter=i,e.roundedCurveCorner=void 0,this.roundedCurves.push(i)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];0===t?this.moveTo(i.position.x,i.position.y):this._applyCurveForPoint(i,this.points[t-1])}let e=this.getLastPoint();if(e?.curveAfter&&(e.curveAfter=void 0),this.isClosed&&this._applyCurveForPoint(this.points[0],this.points[this.points.length-1]),this.points.length>2){let t=0;for(let n=0,i=this.points.length;n<i;n++){let r=this.points[n],o=this.points[n-1]??this.points[this.points.length-1],s=this.points[n+1]??this.points[0],a=r.roundness,l=o&&s&&WRe(o,r,s);if(!r.controlsMoved()&&a>0&&!l){let c=r.curveBefore,d=r.curveAfter;if(void 0===c||void 0===d)continue;let V,h=r.roundedCurveBefore,p=r.roundedCurveAfter,g=c.getLength(),v=d.getLength(),y=Math.min(a,.499*g),b=Math.min(a,.499*v),P=Math.min(y,b),O=1-P/g,S=P/v,A=c.getPointAt(O,Ck),H=d.getPointAt(S,JRe);if(this._subSplitCurve(c,h,O,A,void 0),this._subSplitCurve(d,p,S,void 0,H),this.useCubicForRoundedCorners){let Q=aY(A,r.position,H)/2,Y=Math.tan(Q)*A.distanceTo(r.position),[ee,ne]=qRe(A,H,Y,e4e,t4e),ae=YRe(ee,ne,r.position),[pe,fe]=XRe(ae,A,H,Y,n4e,i4e);V=new hh(A.clone(),pe.clone(),fe.clone(),H.clone())}else V=new Wf(A.clone(),r.position.clone(),H.clone());r.roundedCurveCorner=V,this.roundedCurves.splice(n+t,0,V),t++}}}}_subSplitCurve(e,t,n,i,r){if(!(e instanceof uh)){let o=e,s=t,a=o.getUtoTmapping(n,0),l=function $Re(e,t,n,i,r=.5){let o=V1.subVectors(t,e).multiplyScalar(r).add(e),s=g2.subVectors(n,t).multiplyScalar(r).add(t),a=BRe.subVectors(i,n).multiplyScalar(r).add(n),l=o,c=zRe.subVectors(s,o).multiplyScalar(r).add(o),d=URe.subVectors(a,s).multiplyScalar(r).add(s),h=a,p=jRe.subVectors(d,c).multiplyScalar(r).add(c);return[e.x,e.y,l.x,l.y,c.x,c.y,p.x,p.y,d.x,d.y,h.x,h.y,i.x,i.y]}(o.v0,o.v1,o.v2,o.v3,a);return void 0!==i&&(s.v0.set(l[0],l[1]),s.v1.set(l[2],l[3]),s.v2.set(l[4],l[5]),s.v3.set(l[6],l[7])),void 0!==r&&(s.v0.set(l[6],l[7]),s.v1.set(l[8],l[9]),s.v2.set(l[10],l[11]),s.v3.set(l[12],l[13])),s}return void 0!==i&&t.v2.copy(i),void 0!==r&&t.v1.copy(r),t}clone(){let e=new xs(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let n=0;n<t;n++){let i=7*n,r=e.points[i+0],o=e.points[i+1],s=e.points[i+2],a=e.points[i+3],l=e.points[i+4],c=e.points[i+5],d=e.points[i+6],h=new j1(Ln.generateUUID(),new qe(r,o));h.controls[0].position.set(s,a),h.controls[1].position.set(l,c),h.roundness=d,this.points.push(h)}return this.shapeHoles=e.shapeHoles?.length?e.shapeHoles.map(n=>{let i=new xs;return i.fromJSON(n),i}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let n=(r,o)=>{o instanceof hh&&o.v3.equals(r.position)&&r.controls[0].position.copy(o.v2)};return this.points=(r=>{let s,a,o=[];for(s=0,a=r.length;s<a;s++)r[s]instanceof Wf&&(r[s]=VRe(r[s]));for(s=0,a=r.length;s<a;s++){let p,d=r[s],h=s>0?r[s-1]:null;d instanceof hh?(p=this.createPoint(d.v0),p.controls[1].position.copy(d.v1)):d instanceof uh&&(p=this.createPoint(d.v1)),void 0!==p&&(null!==h&&n(p,h),o.push(p))}let l=r[r.length-1],c=!1;return l instanceof hh?l.v3.equals(o[0].position)&&(o[0].controls[0].position.copy(l.v2),c=!0):l instanceof uh&&l.v2.equals(o[0].position)&&(c=!0),this.isClosed=c,o})(e.curves),e instanceof GM&&(this.shapeHoles=e.holes.map(r=>{let o=new xs;return o.fromShape(r),o})),this.update(),this}updatePoint(e,t){let n=this.getPointByUuid(e);n&&(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.roundness&&(n.roundness=t.roundness),void 0!==t.areControlsDirectionsMirrored&&(n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){let n=this.getPointByUuid(e)?.controls[0];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){let n=this.getPointByUuid(e)?.controls[1];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}},Mk=2*Math.PI;function Pk({x:e,y:t},n,i,r,o){return{x:e*n+r,y:t*i+o}}function r4e(e,t){let n=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:1.3333333333333333*Math.tan(t/4),i=Math.cos(e),r=Math.sin(e),o=Math.cos(e+t),s=Math.sin(e+t);return[{x:i-r*n,y:r+i*n},{x:o+s*n,y:s-o*n},{x:o,y:s}]}function hY(e,t,n,i){let r=e*i-t*n<0?-1:1,o=Math.min(1,Math.max(-1,e*n+t*i));return r*Math.acos(o)}function Pi(e,t){if(!e)throw t||"Assertion Failed!"}!function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"}(bo||(bo={})),function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"}(Zs||(Zs={}));var ui=function(){function e(){}return e.vertEq=function(t,n){return t.s===n.s&&t.t===n.t},e.vertLeq=function(t,n){return t.s<n.s||t.s===n.s&&t.t<=n.t},e.transLeq=function(t,n){return t.t<n.t||t.t===n.t&&t.s<=n.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,n){return Math.abs(t.s-n.s)+Math.abs(t.t-n.t)},e.edgeEval=function(t,n,i){Pi(e.vertLeq(t,n)&&e.vertLeq(n,i));var r=n.s-t.s,o=i.s-n.s;return r+o>0?r<o?n.t-t.t+r/(r+o)*(t.t-i.t):n.t-i.t+o/(r+o)*(i.t-t.t):0},e.edgeSign=function(t,n,i){Pi(e.vertLeq(t,n)&&e.vertLeq(n,i));var r=n.s-t.s,o=i.s-n.s;return r+o>0?(n.t-i.t)*r+(n.t-t.t)*o:0},e.transEval=function(t,n,i){Pi(e.transLeq(t,n)&&e.transLeq(n,i));var r=n.t-t.t,o=i.t-n.t;return r+o>0?r<o?n.s-t.s+r/(r+o)*(t.s-i.s):n.s-i.s+o/(r+o)*(i.s-t.s):0},e.transSign=function(t,n,i){Pi(e.transLeq(t,n)&&e.transLeq(n,i));var r=n.t-t.t,o=i.t-n.t;return r+o>0?(n.s-i.s)*r+(n.s-t.s)*o:0},e.vertCCW=function(t,n,i){return t.s*(n.t-i.t)+n.s*(i.t-t.t)+i.s*(t.t-n.t)>=0},e.interpolate=function(t,n,i,r){return(t=t<0?0:t)<=(i=i<0?0:i)?0===i?(n+r)/2:n+t/(t+i)*(r-n):r+i/(t+i)*(n-r)},e.intersect=function(t,n,i,r,o){var s,a,l;e.vertLeq(t,n)||(l=t,t=n,n=l),e.vertLeq(i,r)||(l=i,i=r,r=l),e.vertLeq(t,i)||(l=t,t=i,i=l,l=n,n=r,r=l),e.vertLeq(i,n)?e.vertLeq(n,r)?((s=e.edgeEval(t,i,n))+(a=e.edgeEval(i,n,r))<0&&(s=-s,a=-a),o.s=e.interpolate(s,i.s,a,n.s)):((s=e.edgeSign(t,i,n))+(a=-e.edgeSign(t,r,n))<0&&(s=-s,a=-a),o.s=e.interpolate(s,i.s,a,r.s)):o.s=(i.s+n.s)/2,e.transLeq(t,n)||(l=t,t=n,n=l),e.transLeq(i,r)||(l=i,i=r,r=l),e.transLeq(t,i)||(l=t,t=i,i=l,l=n,n=r,r=l),e.transLeq(i,n)?e.transLeq(n,r)?((s=e.transEval(t,i,n))+(a=e.transEval(i,n,r))<0&&(s=-s,a=-a),o.t=e.interpolate(s,i.t,a,n.t)):((s=e.transSign(t,i,n))+(a=-e.transSign(t,r,n))<0&&(s=-s,a=-a),o.t=e.interpolate(s,i.t,a,r.t)):o.t=(i.t+n.t)/2},e}(),ax=function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1},v2=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),H1=function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0},uY=function(){function e(){var t=new H1,n=new ax,i=new v2(0),r=new v2(1);t.next=t.prev=t,t.anEdge=null,n.next=n.prev=n,i.next=i,i.Sym=r,r.next=r,r.Sym=i,this.vHead=t,this.fHead=n,this.eHead=i,this.eHeadSym=r}return e.prototype.makeEdge_=function(t){var n=new v2(0),i=new v2(1);t.Sym.side<t.side&&(t=t.Sym);var r=t.Sym.next;return i.next=r,r.Sym.next=n,n.next=t,t.Sym.next=i,n.Sym=i,n.Onext=n,n.Lnext=i,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,i.Sym=n,i.Onext=i,i.Lnext=n,i.Org=null,i.Lface=null,i.winding=0,i.activeRegion=null,n},e.prototype.splice_=function(t,n){var i=t.Onext,r=n.Onext;i.Sym.Lnext=n,r.Sym.Lnext=t,t.Onext=r,n.Onext=i},e.prototype.makeVertex_=function(t,n,i){var r=t;Pi(r,"Vertex can't be null!");var o=i.prev;r.prev=o,o.next=r,r.next=i,i.prev=r,r.anEdge=n;var s=n;do{s.Org=r,s=s.Onext}while(s!==n)},e.prototype.makeFace_=function(t,n,i){var r=t;Pi(r,"Face can't be null");var o=i.prev;r.prev=o,o.next=r,r.next=i,i.prev=r,r.anEdge=n,r.trail=null,r.marked=!1,r.inside=i.inside;var s=n;do{s.Lface=r,s=s.Lnext}while(s!==n)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var n=t.next,i=t.Sym.next;n.Sym.next=i,i.Sym.next=n},e.prototype.killVertex_=function(t,n){var i=t.anEdge,r=i;do{r.Org=n,r=r.Onext}while(r!==i);var o=t.prev,s=t.next;s.prev=o,o.next=s},e.prototype.killFace_=function(t,n){var i=t.anEdge,r=i;do{r.Lface=n,r=r.Lnext}while(r!==i);var o=t.prev,s=t.next;s.prev=o,o.next=s},e.prototype.makeEdge=function(){var t=new H1,n=new H1,i=new ax,r=this.makeEdge_(this.eHead);return this.makeVertex_(t,r,this.vHead),this.makeVertex_(n,r.Sym,this.vHead),this.makeFace_(i,r,this.fHead),r},e.prototype.splice=function(t,n){var i=!1,r=!1;if(t!==n){if(n.Org!==t.Org&&(r=!0,this.killVertex_(n.Org,t.Org)),n.Lface!==t.Lface&&(i=!0,this.killFace_(n.Lface,t.Lface)),this.splice_(n,t),!r){var o=new H1;this.makeVertex_(o,n,t.Org),t.Org.anEdge=t}if(!i){var s=new ax;this.makeFace_(s,n,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var n=t.Sym,i=!1;if(t.Lface!==t.Rface&&(i=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!i){var r=new ax;this.makeFace_(r,t,t.Lface)}n.Onext===n?(this.killVertex_(n.Org,null),this.killFace_(n.Lface,null)):(t.Lface.anEdge=n.Oprev,n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var n=this.makeEdge_(t),i=n.Sym;this.splice_(n,t.Lnext),n.Org=t.Dst;var r=new H1;return this.makeVertex_(r,i,n.Org),n.Lface=i.Lface=t.Lface,n},e.prototype.splitEdge=function(t){var i=this.addEdgeVertex(t).Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,i),t.Dst=i.Org,i.Dst.anEdge=i.Sym,i.Rface=t.Rface,i.winding=t.winding,i.Sym.winding=t.Sym.winding,i.idx=t.idx,i.Sym.idx=t.Sym.idx,i},e.prototype.connect=function(t,n){var i=!1,r=this.makeEdge_(t),o=r.Sym;if(n.Lface!==t.Lface&&(i=!0,this.killFace_(n.Lface,t.Lface)),this.splice_(r,t.Lnext),this.splice_(o,n),r.Org=t.Dst,o.Org=n.Org,r.Lface=o.Lface=t.Lface,t.Lface.anEdge=o,!i){var s=new ax;this.makeFace_(s,r,t.Lface)}return r},e.prototype.zapFace=function(t){var i,r,o,s,a,n=t.anEdge;r=n.Lnext;do{r=(i=r).Lnext,i.Lface=null,null===i.Rface&&(i.Onext===i?this.killVertex_(i.Org,null):(i.Org.anEdge=i.Onext,this.splice_(i,i.Oprev)),(o=i.Sym).Onext===o?this.killVertex_(o.Org,null):(o.Org.anEdge=o.Onext,this.splice_(o,o.Oprev)),this.killEdge_(i))}while(i!=n);(a=t.next).prev=s=t.prev,s.next=a},e.prototype.countFaceVerts_=function(t){var n=t.anEdge,i=0;do{i++,n=n.Lnext}while(n!==t.anEdge);return i},e.prototype.mergeConvexFaces=function(t){var n,i,r,o,s;for(n=this.fHead.next;n!==this.fHead;n=n.next)if(n.inside)for(s=(i=n.anEdge).Org;r=i.Lnext,(o=i.Sym)&&o.Lface&&o.Lface.inside&&this.countFaceVerts_(n)+this.countFaceVerts_(o.Lface)-2<=t&&ui.vertCCW(i.Lprev.Org,i.Org,o.Lnext.Lnext.Org)&&ui.vertCCW(o.Lprev.Org,o.Org,i.Lnext.Lnext.Org)&&(r=o.Lnext,this.delete(o),i=null,o=null),!i||i.Lnext.Org!==s;)i=r;return!0},e.prototype.check=function(){var r,o,s,a,l,c,t=this.fHead,n=this.vHead,i=this.eHead;for(o=t,o=t;(r=o.next)!==t;o=r){Pi(r.prev===o),l=r.anEdge;do{Pi(l.Sym!==l),Pi(l.Sym.Sym===l),Pi(l.Lnext.Onext.Sym===l),Pi(l.Onext.Sym.Lnext===l),Pi(l.Lface===r),l=l.Lnext}while(l!==r.anEdge)}for(Pi(r.prev===o&&null===r.anEdge),a=n,a=n;(s=a.next)!==n;a=s){Pi(s.prev===a),l=s.anEdge;do{Pi(l.Sym!==l),Pi(l.Sym.Sym===l),Pi(l.Lnext.Onext.Sym===l),Pi(l.Onext.Sym.Lnext===l),Pi(l.Org===s),l=l.Onext}while(l!==s.anEdge)}for(Pi(s.prev===a&&null===s.anEdge),c=i,c=i;(l=c.next)!==i;c=l)Pi(l.Sym.next===c.Sym),Pi(l.Sym!==l),Pi(l.Sym.Sym===l),Pi(null!==l.Org),Pi(null!==l.Dst),Pi(l.Lnext.Onext.Sym===l),Pi(l.Onext.Sym.Lnext===l);Pi(l.Sym.next===c.Sym&&l.Sym===this.eHeadSym&&l.Sym.Sym===l&&null===l.Org&&null===l.Dst&&null===l.Lface&&null===l.Rface)},e}(),pY=function e(){this.handle=null},fY=function e(){this.key=null,this.node=0},a4e=function(){function e(t,n){this.leq=n,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var i=0;i<t+1;i++)this.nodes[i]=new pY,this.handles[i]=new fY;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var r,o,s,n=this.nodes,i=this.handles;for(r=n[t].handle;;){if((s=t<<1)<this.size&&this.leq(i[n[s+1].handle].key,i[n[s].handle].key)&&++s,Pi(s<=this.max),o=n[s].handle,s>this.size||this.leq(i[r].key,i[o].key)){n[t].handle=r,i[r].node=t;break}n[t].handle=o,i[o].node=t,t=s}},e.prototype.floatUp_=function(t){var r,o,s,n=this.nodes,i=this.handles;for(r=n[t].handle;;){if(o=n[s=t>>1].handle,0===s||this.leq(i[o].key,i[r].key)){n[t].handle=r,i[r].node=t;break}n[t].handle=o,i[o].node=t,t=s}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var n,i;if(2*(n=++this.size)>this.max){var r,o;for(this.max*=2,o=this.nodes.length,this.nodes.length=this.max+1,r=o;r<this.nodes.length;r++)this.nodes[r]=new pY;for(o=this.handles.length,this.handles.length=this.max+1,r=o;r<this.handles.length;r++)this.handles[r]=new fY}return 0===this.freeList?i=n:this.freeList=this.handles[i=this.freeList].node,this.nodes[n].handle=i,this.handles[i].node=n,this.handles[i].key=t,this.initialized&&this.floatUp_(n),i},e.prototype.extractMin=function(){var t=this.nodes,n=this.handles,i=t[1].handle,r=n[i].key;return this.size>0&&(t[1].handle=t[this.size].handle,n[t[1].handle].node=1,n[i].key=null,n[i].node=this.freeList,this.freeList=i,--this.size,this.size>0&&this.floatDown_(1)),r},e.prototype.delete=function(t){var r,n=this.nodes,i=this.handles;Pi(t>=1&&t<=this.max&&null!==i[t].key),n[r=i[t].node].handle=n[this.size].handle,i[n[r].handle].node=r,--this.size,r<=this.size&&(r<=1||this.leq(i[n[r>>1].handle].key,i[n[r].handle].key)?this.floatDown_(r):this.floatUp_(r)),i[t].key=null,i[t].node=this.freeList,this.freeList=t},e}(),Ok=function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1},mY=function e(){this.key=null,this.next=null,this.prev=null},l4e=function(){function e(t,n){this.frame=t,this.leq=n,this.head=new mY,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var n=this.head;do{n=n.next}while(null!==n.key&&!this.leq(this.frame,t,n.key));return n},e.prototype.insertBefore=function(t,n){do{t=t.prev}while(null!==t.key&&!this.leq(this.frame,t.key,n));var i=new mY;return i.key=n,i.next=t.next,t.next.prev=i,i.prev=t,t.next=i,i},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),c4e=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,n){t.winding+=n.winding,t.Sym.winding+=n.Sym.winding},e.edgeLeq=function(t,n,i){var r=t.event,o=n.eUp,s=i.eUp;return o.Dst===r?s.Dst===r?ui.vertLeq(o.Org,s.Org)?ui.edgeSign(s.Dst,o.Org,s.Org)<=0:ui.edgeSign(o.Dst,s.Org,o.Org)>=0:ui.edgeSign(s.Dst,r,s.Org)<=0:s.Dst===r?ui.edgeSign(o.Dst,r,o.Org)>=0:ui.edgeEval(o.Dst,r,o.Org)>=ui.edgeEval(s.Dst,r,s.Org)},e.deleteRegion=function(t,n){n.fixUpperEdge&&Pi(0===n.eUp.winding),n.eUp.activeRegion=null,t.dict.delete(n.nodeUp)},e.fixUpperEdge=function(t,n,i){Pi(n.fixUpperEdge),t.mesh.delete(n.eUp),n.fixUpperEdge=!1,n.eUp=i,i.activeRegion=n},e.topLeftRegion=function(t,n){var r,i=n.eUp.Org;do{n=e.regionAbove(n)}while(n.eUp.Org===i);if(n.fixUpperEdge){if(null===(r=t.mesh.connect(e.regionBelow(n).eUp.Sym,n.eUp.Lnext)))return null;e.fixUpperEdge(t,n,r),n=e.regionAbove(n)}return n},e.topRightRegion=function(t){var n=t.eUp.Dst;do{t=e.regionAbove(t)}while(t.eUp.Dst===n);return t},e.addRegionBelow=function(t,n,i){var r=new Ok;return r.eUp=i,r.nodeUp=t.dict.insertBefore(n.nodeUp,r),r.fixUpperEdge=!1,r.sentinel=!1,r.dirty=!1,i.activeRegion=r,r},e.isWindingInside=function(t,n){switch(t.windingRule){case bo.ODD:return 0!=(1&n);case bo.NONZERO:return 0!==n;case bo.POSITIVE:return n>0;case bo.NEGATIVE:return n<0;case bo.ABS_GEQ_TWO:return n>=2||n<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,n){n.windingNumber=e.regionAbove(n).windingNumber+n.eUp.winding,n.inside=e.isWindingInside(t,n.windingNumber)},e.finishRegion=function(t,n){var i=n.eUp,r=i.Lface;r.inside=n.inside,r.anEdge=i,e.deleteRegion(t,n)},e.finishLeftRegions=function(t,n,i){for(var r,o=null,s=n,a=n.eUp;s!==i;){if(s.fixUpperEdge=!1,(r=(o=e.regionBelow(s)).eUp).Org!=a.Org){if(!o.fixUpperEdge){e.finishRegion(t,s);break}r=t.mesh.connect(a.Lprev,r.Sym),e.fixUpperEdge(t,o,r)}a.Onext!==r&&(t.mesh.splice(r.Oprev,r),t.mesh.splice(a,r)),e.finishRegion(t,s),a=o.eUp,s=o}return a},e.addRightEdges=function(t,n,i,r,o,s){var a,l,c,d,h=!0;c=i;do{Pi(ui.vertLeq(c.Org,c.Dst)),e.addRegionBelow(t,n,c.Sym),c=c.Onext}while(c!==r);for(null===o&&(o=e.regionBelow(n).eUp.Rprev),l=n,d=o;(c=(a=e.regionBelow(l)).eUp.Sym).Org===d.Org;)c.Onext!==d&&(t.mesh.splice(c.Oprev,c),t.mesh.splice(d.Oprev,c)),a.windingNumber=l.windingNumber-c.winding,a.inside=e.isWindingInside(t,a.windingNumber),l.dirty=!0,!h&&e.checkForRightSplice(t,l)&&(e.addWinding(c,d),e.deleteRegion(t,l),t.mesh.delete(d)),h=!1,l=a,d=c;l.dirty=!0,Pi(l.windingNumber-c.winding===a.windingNumber),s&&e.walkDirtyRegions(t,l)},e.spliceMergeVertices=function(t,n,i){t.mesh.splice(n,i)},e.vertexWeights=function(t,n,i){var r=ui.vertL1dist(n,t),o=ui.vertL1dist(i,t),s=.5*o/(r+o),a=.5*r/(r+o);t.coords[0]+=s*n.coords[0]+a*i.coords[0],t.coords[1]+=s*n.coords[1]+a*i.coords[1],t.coords[2]+=s*n.coords[2]+a*i.coords[2]},e.getIntersectData=function(t,n,i,r,o,s){n.coords[0]=n.coords[1]=n.coords[2]=0,n.idx=-1,e.vertexWeights(n,i,r),e.vertexWeights(n,o,s)},e.checkForRightSplice=function(t,n){var i=e.regionBelow(n),r=n.eUp,o=i.eUp;if(ui.vertLeq(r.Org,o.Org)){if(ui.edgeSign(o.Dst,r.Org,o.Org)>0)return!1;ui.vertEq(r.Org,o.Org)?r.Org!==o.Org&&(t.pq.delete(r.Org.pqHandle),e.spliceMergeVertices(t,o.Oprev,r)):(t.mesh.splitEdge(o.Sym),t.mesh.splice(r,o.Oprev),n.dirty=i.dirty=!0)}else{if(ui.edgeSign(r.Dst,o.Org,r.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(r.Sym),t.mesh.splice(o.Oprev,r)}return!0},e.checkForLeftSplice=function(t,n){var s,i=e.regionBelow(n),r=n.eUp,o=i.eUp;if(Pi(!ui.vertEq(r.Dst,o.Dst)),ui.vertLeq(r.Dst,o.Dst)){if(ui.edgeSign(r.Dst,o.Dst,r.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,s=t.mesh.splitEdge(r),t.mesh.splice(o.Sym,s),s.Lface.inside=n.inside}else{if(ui.edgeSign(o.Dst,r.Dst,o.Org)>0)return!1;n.dirty=i.dirty=!0,s=t.mesh.splitEdge(o),t.mesh.splice(r.Lnext,o.Sym),s.Rface.inside=n.inside}return!0},e.checkForIntersect=function(t,n){var g,v,i=e.regionBelow(n),r=n.eUp,o=i.eUp,s=r.Org,a=o.Org,l=r.Dst,c=o.Dst,p=new H1;if(Pi(!ui.vertEq(c,l)),Pi(ui.edgeSign(l,t.event,s)<=0),Pi(ui.edgeSign(c,t.event,a)>=0),Pi(s!==t.event&&a!==t.event),Pi(!n.fixUpperEdge&&!i.fixUpperEdge),s===a||Math.min(s.t,l.t)>Math.max(a.t,c.t))return!1;if(ui.vertLeq(s,a)){if(ui.edgeSign(c,s,a)>0)return!1}else if(ui.edgeSign(l,a,s)<0)return!1;return e.debugEvent(t),ui.intersect(l,s,c,a,p),Pi(Math.min(s.t,l.t)<=p.t),Pi(p.t<=Math.max(a.t,c.t)),Pi(Math.min(c.s,l.s)<=p.s),Pi(p.s<=Math.max(a.s,s.s)),ui.vertLeq(p,t.event)&&(p.s=t.event.s,p.t=t.event.t),g=ui.vertLeq(s,a)?s:a,ui.vertLeq(g,p)&&(p.s=g.s,p.t=g.t),ui.vertEq(p,s)||ui.vertEq(p,a)?(e.checkForRightSplice(t,n),!1):!ui.vertEq(l,t.event)&&ui.edgeSign(l,t.event,p)>=0||!ui.vertEq(c,t.event)&&ui.edgeSign(c,t.event,p)<=0?c===t.event?(t.mesh.splitEdge(r.Sym),t.mesh.splice(o.Sym,r),n=e.topLeftRegion(t,n),r=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),i),e.addRightEdges(t,n,r.Oprev,r,r,!0),!0):l===t.event?(t.mesh.splitEdge(o.Sym),t.mesh.splice(r.Lnext,o.Oprev),i=n,n=e.topRightRegion(n),v=e.regionBelow(n).eUp.Rprev,i.eUp=o.Oprev,o=e.finishLeftRegions(t,i,null),e.addRightEdges(t,n,o.Onext,r.Rprev,v,!0),!0):(ui.edgeSign(l,t.event,p)>=0&&(e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(r.Sym),r.Org.s=t.event.s,r.Org.t=t.event.t),ui.edgeSign(c,t.event,p)<=0&&(n.dirty=i.dirty=!0,t.mesh.splitEdge(o.Sym),o.Org.s=t.event.s,o.Org.t=t.event.t),!1):(t.mesh.splitEdge(r.Sym),t.mesh.splitEdge(o.Sym),t.mesh.splice(o.Oprev,r),r.Org.s=p.s,r.Org.t=p.t,r.Org.pqHandle=t.pq.insert(r.Org),e.getIntersectData(t,r.Org,s,l,a,c),e.regionAbove(n).dirty=n.dirty=i.dirty=!0,!1)},e.walkDirtyRegions=function(t,n){for(var r,o,i=e.regionBelow(n);;){for(;i.dirty;)n=i,i=e.regionBelow(i);if(!n.dirty&&(i=n,null===(n=e.regionAbove(n))||!n.dirty))return;if(n.dirty=!1,(r=n.eUp).Dst!==(o=i.eUp).Dst&&e.checkForLeftSplice(t,n)&&(i.fixUpperEdge?(e.deleteRegion(t,i),t.mesh.delete(o),o=(i=e.regionBelow(n)).eUp):n.fixUpperEdge&&(e.deleteRegion(t,n),t.mesh.delete(r),r=(n=e.regionAbove(i)).eUp)),r.Org!==o.Org)if(r.Dst===o.Dst||n.fixUpperEdge||i.fixUpperEdge||r.Dst!==t.event&&o.Dst!==t.event)e.checkForRightSplice(t,n);else if(e.checkForIntersect(t,n))return;r.Org===o.Org&&r.Dst===o.Dst&&(e.addWinding(o,r),e.deleteRegion(t,n),t.mesh.delete(r),n=e.regionAbove(i))}},e.connectRightVertex=function(t,n,i){var r,o=i.Onext,s=e.regionBelow(n),a=n.eUp,l=s.eUp,c=!1;a.Dst!==l.Dst&&e.checkForIntersect(t,n),ui.vertEq(a.Org,t.event)&&(t.mesh.splice(o.Oprev,a),n=e.topLeftRegion(t,n),o=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),s),c=!0),ui.vertEq(l.Org,t.event)&&(t.mesh.splice(i,l.Oprev),i=e.finishLeftRegions(t,s,null),c=!0),c?e.addRightEdges(t,n,i.Onext,o,o,!0):(r=ui.vertLeq(l.Org,a.Org)?l.Oprev:a,r=t.mesh.connect(i.Lprev,r),e.addRightEdges(t,n,r,r.Onext,r.Onext,!1),r.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,n))},e.connectLeftDegenerate=function(t,n,i){var r,o,s,a,l;return ui.vertEq((r=n.eUp).Org,i)?(Pi(!1),void e.spliceMergeVertices(t,r,i.anEdge)):ui.vertEq(r.Dst,i)?(Pi(!1),n=e.topRightRegion(n),o=a=(s=(l=e.regionBelow(n)).eUp.Sym).Onext,l.fixUpperEdge&&(Pi(o!==s),e.deleteRegion(t,l),t.mesh.delete(s),s=o.Oprev),t.mesh.splice(i.anEdge,s),ui.edgeGoesLeft(o)||(o=null),void e.addRightEdges(t,n,s.Onext,a,o,!0)):(t.mesh.splitEdge(r.Sym),n.fixUpperEdge&&(t.mesh.delete(r.Onext),n.fixUpperEdge=!1),t.mesh.splice(i.anEdge,r),void e.sweepEvent(t,i))},e.connectLeftVertex=function(t,n){var i,r,o,s,a,l,c=new Ok;if(c.eUp=n.anEdge.Sym,i=t.dict.search(c).key,r=e.regionBelow(i)){if(a=r.eUp,0===ui.edgeSign((s=i.eUp).Dst,n,s.Org))return void e.connectLeftDegenerate(t,i,n);o=ui.vertLeq(a.Dst,s.Dst)?i:r,i.inside||o.fixUpperEdge?(l=o===i?t.mesh.connect(n.anEdge.Sym,s.Lnext):t.mesh.connect(a.Dnext,n.anEdge).Sym,o.fixUpperEdge?e.fixUpperEdge(t,o,l):e.computeWinding(t,e.addRegionBelow(t,i,l)),e.sweepEvent(t,n)):e.addRightEdges(t,i,n.anEdge,n.anEdge,null,!0)}},e.sweepEvent=function(t,n){t.event=n,e.debugEvent(t);for(var i=n.anEdge;null===i.activeRegion;)if((i=i.Onext)===n.anEdge)return void e.connectLeftVertex(t,n);var r=e.topLeftRegion(t,i.activeRegion);Pi(null!==r);var o=e.regionBelow(r),s=o.eUp,a=e.finishLeftRegions(t,o,null);a.Onext===s?e.connectRightVertex(t,r,a):e.addRightEdges(t,r,a.Onext,s,s,!0)},e.addSentinel=function(t,n,i,r){var o=new Ok,s=t.mesh.makeEdge();s.Org.s=i,s.Org.t=r,s.Dst.s=n,s.Dst.t=r,t.event=s.Dst,o.eUp=s,o.windingNumber=0,o.inside=!1,o.fixUpperEdge=!1,o.sentinel=!0,o.dirty=!1,o.nodeUp=t.dict.insert(o)},e.initEdgeDict=function(t){t.dict=new l4e(t,e.edgeLeq);var n=t.bmax[0]-t.bmin[0],i=t.bmax[1]-t.bmin[1],r=t.bmin[0]-n,o=t.bmax[0]+n,a=t.bmax[1]+i;e.addSentinel(t,r,o,t.bmin[1]-i),e.addSentinel(t,r,o,a)},e.doneEdgeDict=function(t){for(var n,i=0;null!==(n=t.dict.min().key);)n.sentinel||(Pi(n.fixUpperEdge),Pi(1==++i)),Pi(0===n.windingNumber),e.deleteRegion(t,n)},e.removeDegenerateEdges=function(t){var n,i,r,o=t.mesh.eHead;for(n=o.next;n!==o;n=i)i=n.next,r=n.Lnext,ui.vertEq(n.Org,n.Dst)&&n.Lnext.Lnext!==n&&(e.spliceMergeVertices(t,r,n),t.mesh.delete(n),r=(n=r).Lnext),r.Lnext===n&&(r!==n&&((r===i||r===i.Sym)&&(i=i.next),t.mesh.delete(r)),(n===i||n===i.Sym)&&(i=i.next),t.mesh.delete(n))},e.initPriorityQ=function(t){var n,i,r,o=0;for(i=(r=t.mesh.vHead).next;i!==r;i=i.next)o++;for(n=t.pq=new a4e(o+=8,ui.vertLeq),i=(r=t.mesh.vHead).next;i!==r;i=i.next)i.pqHandle=n.insert(i);return i===r&&(n.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,n){var i,r,o;for(i=n.fHead.next;i!==n.fHead;i=r)r=i.next,Pi((o=i.anEdge).Lnext!==o),o.Lnext.Lnext===o&&(e.addWinding(o.Onext,o),t.mesh.delete(o));return!0},e.computeInterior=function(t,n){var i,r;if(void 0===n&&(n=!0),e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);null!==(i=t.pq.extractMin());){for(;null!==(r=t.pq.min())&&ui.vertEq(r,i);)r=t.pq.extractMin(),e.spliceMergeVertices(t,i.anEdge,r.anEdge);e.sweepEvent(t,i)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),!!e.removeDegenerateFaces(t,t.mesh)&&(n&&t.mesh.check(),!0)},e}(),d4e=function(){function e(){this.mesh=new uY,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=bo.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},e.prototype.normalize_=function(t){var n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!n)throw"Zero-size vector!";n=Math.sqrt(n),t[0]/=n,t[1]/=n,t[2]/=n},e.prototype.longAxis_=function(t){var n=0;return Math.abs(t[1])>Math.abs(t[0])&&(n=1),Math.abs(t[2])>Math.abs(t[n])&&(n=2),n},e.prototype.computeNormal_=function(t){var n,i,r,o,s,a,l=[0,0,0],c=[0,0,0],d=[0,0,0],h=[0,0,0],p=[0,0,0],g=[null,null,null],v=[null,null,null],y=this.mesh.vHead;n=y.next;for(var b=0;b<3;++b)c[b]=o=n.coords[b],v[b]=n,l[b]=o,g[b]=n;for(n=y.next;n!==y;n=n.next)for(var P=0;P<3;++P)(o=n.coords[P])<c[P]&&(c[P]=o,v[P]=n),o>l[P]&&(l[P]=o,g[P]=n);var O=0;if(l[1]-c[1]>l[0]-c[0]&&(O=1),l[2]-c[2]>l[O]-c[O]&&(O=2),c[O]>=l[O])return t[0]=0,t[1]=0,void(t[2]=1);for(a=0,d[0]=(i=v[O]).coords[0]-(r=g[O]).coords[0],d[1]=i.coords[1]-r.coords[1],d[2]=i.coords[2]-r.coords[2],n=y.next;n!==y;n=n.next)h[0]=n.coords[0]-r.coords[0],h[1]=n.coords[1]-r.coords[1],h[2]=n.coords[2]-r.coords[2],p[0]=d[1]*h[2]-d[2]*h[1],p[1]=d[2]*h[0]-d[0]*h[2],p[2]=d[0]*h[1]-d[1]*h[0],(s=p[0]*p[0]+p[1]*p[1]+p[2]*p[2])>a&&(a=s,t[0]=p[0],t[1]=p[1],t[2]=p[2]);a<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(d)]=1)},e.prototype.checkOrientation_=function(){for(var n,r,t=this.mesh.fHead,i=this.mesh.vHead,o=0,s=t.next;s!==t;s=s.next)if(!((r=s.anEdge).winding<=0))do{o+=(r.Org.s-r.Dst.s)*(r.Org.t+r.Dst.t),r=r.Lnext}while(r!==s.anEdge);if(o<0){for(n=i.next;n!==i;n=n.next)n.t=-n.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var i,r,t=this.mesh.vHead,n=[0,0,0],o=!1;n[0]=this.normal[0],n[1]=this.normal[1],n[2]=this.normal[2],!n[0]&&!n[1]&&!n[2]&&(this.computeNormal_(n),o=!0),i=this.sUnit,r=this.tUnit;var s=this.longAxis_(n);i[s]=0,i[(s+1)%3]=1,i[(s+2)%3]=0,r[s]=0,r[(s+1)%3]=0,r[(s+2)%3]=n[s]>0?1:-1;for(var a=t.next;a!==t;a=a.next)a.s=this.dot_(a.coords,i),a.t=this.dot_(a.coords,r);o&&this.checkOrientation_();for(var l=!0,c=t.next;c!==t;c=c.next)l?(this.bmin[0]=this.bmax[0]=c.s,this.bmin[1]=this.bmax[1]=c.t,l=!1):(c.s<this.bmin[0]&&(this.bmin[0]=c.s),c.s>this.bmax[0]&&(this.bmax[0]=c.s),c.t<this.bmin[1]&&(this.bmin[1]=c.t),c.t>this.bmax[1]&&(this.bmax[1]=c.t))},e.prototype.addWinding_=function(t,n){t.winding+=n.winding,t.Sym.winding+=n.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,n){var i,r;if((i=n.anEdge).Lnext===i||i.Lnext.Lnext===i)throw"Mono region invalid";for(;ui.vertLeq(i.Dst,i.Org);i=i.Lprev);for(;ui.vertLeq(i.Org,i.Dst);i=i.Lnext);for(r=i.Lprev;i.Lnext!==r;)if(ui.vertLeq(i.Dst,r.Org)){for(;r.Lnext!==i&&(ui.edgeGoesLeft(r.Lnext)||ui.edgeSign(r.Org,r.Dst,r.Lnext.Dst)<=0);)r=t.connect(r.Lnext,r).Sym;r=r.Lprev}else{for(;r.Lnext!==i&&(ui.edgeGoesRight(i.Lprev)||ui.edgeSign(i.Dst,i.Org,i.Lprev.Org)>=0);)i=t.connect(i,i.Lprev).Sym;i=i.Lnext}if(r.Lnext===i)throw"Mono region invalid";for(;r.Lnext.Lnext!==i;)r=t.connect(r.Lnext,r).Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var n,i=t.fHead.next;i!==t.fHead;i=n)if(n=i.next,i.inside&&!this.tessellateMonoRegion_(t,i))return!1;return!0},e.prototype.discardExterior_=function(t){for(var n,i=t.fHead.next;i!==t.fHead;i=n)n=i.next,i.inside||t.zapFace(i)},e.prototype.setWindingNumber_=function(t,n,i){for(var r,o=t.eHead.next;o!==t.eHead;o=r)r=o.next,o.Rface.inside!==o.Lface.inside?o.winding=o.Lface.inside?n:-n:i?t.delete(o):o.winding=0},e.prototype.getNeighbourFace_=function(t){return t.Rface&&t.Rface.inside?t.Rface.n:-1},e.prototype.outputPolymesh_=function(t,n,i,r){var o,l,s=0,a=0;i>3&&t.mergeConvexFaces(i);for(var c=t.vHead.next;c!==t.vHead;c=c.next)c.n=-1;for(var d=t.fHead.next;d!==t.fHead;d=d.next)if(d.n=-1,d.inside){o=d.anEdge,l=0;do{-1===(c=o.Org).n&&(c.n=a,a++),l++,o=o.Lnext}while(o!==d.anEdge);if(l>i)throw"Face vertex greater that support polygon";d.n=s,++s}for(this.elementCount=s,n===Zs.CONNECTED_POLYGONS&&(s*=2),this.elements=[],this.elements.length=s*i,this.vertexCount=a,this.vertices=[],this.vertices.length=a*r,this.vertexIndices=[],this.vertexIndices.length=a,c=t.vHead.next;c!==t.vHead;c=c.next)if(-1!==c.n){var h=c.n*r;this.vertices[h+0]=c.coords[0],this.vertices[h+1]=c.coords[1],r>2&&(this.vertices[h+2]=c.coords[2]),this.vertexIndices[c.n]=c.idx}var p=0;for(d=t.fHead.next;d!==t.fHead;d=d.next)if(d.inside){o=d.anEdge,l=0;do{this.elements[p++]=(c=o.Org).n,l++,o=o.Lnext}while(o!==d.anEdge);for(var g=l;g<i;++g)this.elements[p++]=-1;if(n===Zs.CONNECTED_POLYGONS){o=d.anEdge;do{this.elements[p++]=this.getNeighbourFace_(o),o=o.Lnext}while(o!==d.anEdge);for(var v=l;v<i;++v)this.elements[p++]=-1}}},e.prototype.outputContours_=function(t,n){var i,r,o=0,s=0;this.vertexCount=0,this.elementCount=0;for(var a=t.fHead.next;a!==t.fHead;a=a.next)if(a.inside){r=i=a.anEdge;do{this.vertexCount++,i=i.Lnext}while(i!==r);this.elementCount++}this.elements=[],this.elements.length=2*this.elementCount,this.vertices=[],this.vertices.length=this.vertexCount*n,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var l=0,c=0,d=0;for(o=0,a=t.fHead.next;a!==t.fHead;a=a.next)if(a.inside){s=0,r=i=a.anEdge;do{this.vertices[l++]=i.Org.coords[0],this.vertices[l++]=i.Org.coords[1],n>2&&(this.vertices[l++]=i.Org.coords[2]),this.vertexIndices[c++]=this.vertexIdCallback?this.vertexIdCallback(i):i.Org.idx,s++,i=i.Lnext}while(i!==r);this.elements[d++]=o,this.elements[d++]=s,o+=s}},e.prototype.addContour=function(t,n){null===this.mesh&&(this.mesh=new uY),t<2&&(t=2),t>3&&(t=3);for(var i=null,r=0;r<n.length;r+=t)null===i?(i=this.mesh.makeEdge(),this.mesh.splice(i,i.Sym)):(this.mesh.splitEdge(i),i=i.Lnext),i.Org.coords[0]=n[r+0],i.Org.coords[1]=n[r+1],i.Org.coords[2]=t>2?n[r+2]:0,i.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(i),i.winding=1,i.Sym.winding=-1},e.prototype.tesselate=function(t,n,i,r,o,s){if(void 0===t&&(t=bo.ODD),void 0===n&&(n=Zs.POLYGONS),void 0===s&&(s=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,o&&(this.normal[0]=o[0],this.normal[1]=o[1],this.normal[2]=o[2]),this.windingRule=t,r<2&&(r=2),r>3&&(r=3),!this.mesh)return!1;this.projectPolygon_(),c4e.computeInterior(this,s);var a=this.mesh;return n===Zs.BOUNDARY_CONTOURS?this.setWindingNumber_(a,1,!0):this.tessellateInterior_(a),s&&a.check(),n===Zs.BOUNDARY_CONTOURS?this.outputContours_(a,r):this.outputPolymesh_(a,n,i,r),!0},e}();function dm(e){var t=e.windingRule,n=void 0===t?bo.ODD:t,i=e.elementType,r=void 0===i?Zs.POLYGONS:i,o=e.polySize,s=void 0===o?3:o,a=e.vertexSize,l=void 0===a?2:a,c=e.normal,d=void 0===c?[0,0,1]:c,h=e.contours,p=void 0===h?[]:h,g=e.strict,v=void 0===g||g,y=e.debug,b=void 0!==y&&y;if(!p&&v)throw new Error("Contours can't be empty");if(p){var P=new d4e;e.edgeCreateCallback&&(P.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(P.vertexIdCallback=e.vertexIdCallback);for(var O=0;O<p.length;O++)P.addContour(l||2,p[O]);return P.tesselate(n,r,s,l,d,v),{vertices:P.vertices,vertexIndices:P.vertexIndices,vertexCount:P.vertexCount,elements:P.elements,elementCount:P.elementCount,mesh:b?P.mesh:void 0}}}var Sk=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`),this.buffer=new ArrayBuffer(e*Sk.eSize);let i=Float32Array.BYTES_PER_ELEMENT,r=0;this.positions=new Float32Array(this.buffer,r*i,3*e),r+=3*e,this.normals=new Float32Array(this.buffer,r*i,3*e),r+=3*e,this.uvs=new Float32Array(this.buffer,r*i,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} \u2192 ${e}`);let i=new ArrayBuffer(e*Sk.eSize),r=Float32Array.BYTES_PER_ELEMENT,o=0,s=new Float32Array(i,o*r,3*e);o+=3*e;let a=new Float32Array(i,o*r,3*e);o+=3*e;let l=new Float32Array(i,o*r,2*e);t?(s.set(this.positions.subarray(0,3*this.size)),a.set(this.normals.subarray(0,3*this.size)),l.set(this.uvs.subarray(0,2*this.size))):(s.set(this.positions),a.set(this.normals),l.set(this.uvs)),this.buffer=i,this.positions=s,this.normals=a,this.uvs=l,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let i=this.capacity;for(;t>i;)i*=2;this.realloc(i)}let n=this.size;return this.size=t,n}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} \u2192 ${this.size}`),this.realloc(this.size,!0)}},gY=Sk;gY.eSize=8*Float32Array.BYTES_PER_ELEMENT;var h4e=fp(mye()),Ek={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},vY={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},yY={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},Dk=(e,t)=>([n,i])=>(i<n&&(i+=t),(e>=n?e:e+t)<=i),Ak=class extends ii{constructor(e,t,n=0,i=12,r=3,o=bo.ODD,s=!1){super(),this.forPathBevel=s,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=i,this._bevelSegmentsInput=r;let h,p,g,a=this._shape.extractShapePointsToFlatArray([],i),l=this._shape.shapeHoles.map(ee=>{let ne=ee.extractShapePointsToFlatArray([],i),ae=[];for(let pe=ne.length-1;pe>=1;pe-=2)ae.push(ne[pe-1],ne[pe-0]);return ae}),c=[],d=[];for(let ee=0;ee<a.length;ee+=2)d.push([a[ee],a[ee+1]]);c.push(d);for(let ee=0;ee<l.length;ee++){let ne=l[ee],ae=[];for(let pe=0;pe<ne.length;pe+=2)ae.push([ne[pe],ne[pe+1]]);c.push(ae)}h=e.isText?.1*(new wH).setFromPoints(e.points.map(ee=>ee.position)).getSize(new qe).length():0===c[0].length?n:(0,h4e.default)(c).distance,n<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(n,h,t/2),this._bevelSegments=Math.floor(r));try{p=dm({windingRule:o,elementType:Zs.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[a]})}catch{p=Ek}try{g=dm({windingRule:bo.ODD,elementType:Zs.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...l]})}catch{g=vY}if(!p)throw new Error("error generating geometry");let v=p.elementCount;if(g){p.elementCount+=g.elementCount;for(let ee=0;ee<g.elements.length;ee++)p.elements.push(g.elements[ee]+(ee%2==0?p.vertexCount:0));for(let ee=0;ee<g.vertexIndices.length;ee++)p.vertexIndices.push(g.vertexIndices[ee]+p.vertexCount);for(let ee=0;ee<g.vertices.length;ee++)p.vertices.push(g.vertices[ee])}let y=1/0,b=-1/0,P=1/0,O=-1/0;for(let ee=0,ne=p.vertexCount;ee<ne;ee++){let ae=2*ee,pe=p.vertices[ae+0],fe=p.vertices[ae+1];pe<y&&(y=pe),pe>b&&(b=pe),fe<P&&(P=fe),fe>O&&(O=fe)}this._minX=y,this._minY=P,this._width=b-y,this._height=O-P,this._buffer=new gY(this._computeBufferEstimatedSize(p));let S=[],A=[];for(let ee=p.elementCount-1;ee>=0;ee--){let ne=ee>=v,ae=2*ee,pe=p.elements[ae+0],fe=p.elements[ae+1],ge=pe+fe,Se={start:pe,count:fe,normals:[],continuous:[],concave:[]},Oe=pe,Ce=ge-1,_e=pe+1,Be=this._shape.roundedCurves.length;do{let He=Oe-pe,xt=p.vertices[2*Oe+0],rt=p.vertices[2*Oe+1],wt=p.vertices[2*_e+0],lt=p.vertices[2*_e+1],Gt=xt-p.vertices[2*Ce+0],Nt=rt-p.vertices[2*Ce+1],At=Math.sqrt(Gt*Gt+Nt*Nt);Gt/=At,Nt/=At;let wn=xt-wt,Cn=rt-lt,Sn=Math.sqrt(wn*wn+Cn*Cn);wn/=Sn,Cn/=Sn,Se.normals[2*He+0]=-Cn,Se.normals[2*He+1]=wn,Se.concave[He]=Gt*Cn-Nt*wn>0;let Fn=p.vertexIndices[Oe];if(Array.isArray(Fn))Se.continuous[He]=!1;else{let[fn,hn]=this._shape.getCurveIndexFromVertexId(Fn-1,!0);if(hn>0&&hn<1)Se.continuous[He]=!0;else{let Qn=1===hn?fn+1:fn-1;Qn=(Qn+Be)%Be;let pi=1===hn?0:1,Fe=this._shape.roundedCurves[fn].getTangent(hn),Pe=this._shape.roundedCurves[Qn].getTangent(pi);Se.continuous[He]=Fe.dot(Pe)>.95}}ne&&(Se.normals[2*He+0]*=-1,Se.normals[2*He+1]*=-1),[Ce,Oe,_e]=[Oe,_e,_e+1],_e>=ge&&(_e-=fe)}while(_e!==pe+1);let We=[];We.push({bevelI:0,angle:0,size:0,boundary:{vertices:p.vertices.slice(2*pe,2*ge),vertexCount:fe,vertexIndices:new Array(fe).fill(!0).map((He,tt)=>[tt,tt]),elements:[0,fe],elementCount:1,mesh:null},reverseMap:[],insetPoints:p.vertices.slice(2*pe,2*ge)});let Ve=0;for(let He=1;He<=this._bevelSegments;He++){let tt=He/this._bevelSegments*Math.PI/2,Xe=(1-Math.cos(tt))*this._bevel,xt=[],rt=[],wt=[],lt=[],Gt=0;for(let At=0;At<fe;At++){let wn=2*At,Cn=(At-1+fe)%fe*2,Sn=p.vertices[2*Se.start+wn+0],Fn=p.vertices[2*Se.start+wn+1],fn=-Se.normals[Cn+0]*Xe,hn=-Se.normals[Cn+1]*Xe,Qn=-Se.normals[wn+0]*Xe,pi=-Se.normals[wn+1]*Xe;if(Se.concave[At]||!Se.concave[At]&&ne){let Fe=Math.atan2(hn,fn),Pe=Math.atan2(pi,Qn);Pe>Fe&&(Pe-=2*Math.PI);let bt=Pe-Fe;if(Se.continuous[At]||ne){let en=Fe+bt/2,ye=Math.cos(en)*Xe,Rt=Math.sin(en)*Xe;xt[2*Gt+0]=Sn+ye*(ne?-1:1),xt[2*Gt+1]=Fn+Rt*(ne?-1:1),lt[Gt]=At,Gt++}else{let en=Math.max(1,Math.floor(i/4*Math.abs(bt)/Math.PI));for(let ye=0;ye<=en;ye++){let Rt=Fe+bt*(ye/en),Yn=Math.cos(Rt)*Xe,_n=Math.sin(Rt)*Xe;xt[2*Gt+0]=Sn+Yn,xt[2*Gt+1]=Fn+_n,lt[Gt]=At,Gt++}}}else xt[2*Gt+0]=Sn+fn,xt[2*Gt+1]=Fn+hn,lt[Gt]=At,rt[At]=Gt,Gt++,xt[2*Gt+0]=Sn,xt[2*Gt+1]=Fn,lt[Gt]=At,Gt++,xt[2*Gt+0]=Sn+Qn,xt[2*Gt+1]=Fn+pi,lt[Gt]=At,wt[At]=Gt,Gt++}let Nt=dm({windingRule:bo.POSITIVE,elementType:Zs.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[xt],edgeCreateCallback:At=>{let wn=At.Org.idx,Cn=lt[wn],Sn=lt[(wn+1)%lt.length];At.idx=[Cn,Sn],At.Sym.idx=[Sn,Cn]},vertexIdCallback:At=>{let wn=At.Lprev.idx;return[wn?wn[1]:0,At.idx?At.idx[0]:0]}});if(!Nt)throw console.log("Error"),new Error(`error generating bevel geometry for ${He}'th loop`);if(!Nt.vertexCount){let At=(He-1)/this._bevelSegments*Math.PI/2;Ve=(1-Math.sin(At))*this._bevel;break}for(let At=0;At<Nt.vertexIndices.length;At++){let[wn,Cn]=Nt.vertexIndices[At];if(wn===Cn)continue;let Sn=Cn;Cn<wn&&(Sn+=fe);for(let Fn=wn;Fn<Sn;Fn++){let fn=Fn%fe,hn=(Fn+1)%fe;if(!Se.continuous[fn]||!Se.continuous[hn]){Nt.vertexIndices[At]=[wn,fn],Nt.vertexIndices.splice(At+1,0,[hn,Cn]),Nt.vertices.splice(2*(At+1),0,Nt.vertices[2*At],Nt.vertices[2*At+1]);break}}}We.push({bevelI:He,angle:tt,size:Xe,boundary:Nt,reverseMap:lt,insetPoints:xt})}let Ue=(He,tt,Xe)=>{let xt=0,rt=He.boundary.vertexIndices.length;for(;xt<rt&&Xe(He.boundary.vertexIndices[tt]);)tt=(tt+1)%rt,xt++;return xt},nt=S.length;for(let He=1;He<We.length;He++){let tt=We[He-1],Xe=We[He],xt=tt.boundary.vertexIndices.length,rt=Xe.boundary.vertexIndices.length;if(!xt||!rt)break;let wt=Se.concave.length,lt=0,Gt=Dk(lt,fe);for(;!tt.boundary.vertexIndices.filter(Gt).length||!Xe.boundary.vertexIndices.filter(Gt).length;)lt++,Gt=Dk(lt,fe);let Nt=tt.boundary.vertexIndices.findIndex(Gt),At=Xe.boundary.vertexIndices.findIndex(Gt);do{Nt=(Nt+1)%xt}while(Gt(tt.boundary.vertexIndices[Nt]));do{At=(At+1)%rt}while(Gt(Xe.boundary.vertexIndices[At]));lt=(lt+1)%fe;let Qn,pi,wn=lt,Cn=0,fn=this._buildBevelVert(Se,tt,(Nt-1+xt)%xt,void 0,Cn),hn=this._buildBevelVert(Se,Xe,(At-1+rt)%rt,void 0,Cn),Fe=!1;do{Cn=(lt||wt)/wt,Gt=Dk(lt,fe);let Pe=Ue(tt,Nt,Gt),bt=Ue(Xe,At,Gt),en=Fe;if(Fe=!1,Pe&&!bt){for(let ye=0;ye<Pe;ye++)Qn=this._buildBevelVert(Se,tt,(Nt+ye)%xt,ye/(Pe-1),Cn),S.push(fn.topN,Qn.topP,hn.topN),!1===s&&S.push(Qn.bottomP,fn.bottomN,hn.bottomN),fn=Qn;Fe=!0}else if(!Pe&&bt)for(let ye=0;ye<bt;ye++)pi=this._buildBevelVert(Se,Xe,(At+ye)%rt,ye/(bt-1),Cn),S.push(hn.topN,fn.topP,pi.topP),!1===s&&S.push(fn.bottomP,hn.bottomN,pi.bottomP),hn=pi;else if(Pe&&bt)if(Qn=this._buildBevelVert(Se,tt,Nt,0,Cn),pi=this._buildBevelVert(Se,Xe,At,0,Cn),en?(S.push(fn.topN,pi.topP,hn.topN),S.push(fn.topN,Qn.topP,pi.topP),!1===s&&(S.push(pi.bottomP,fn.bottomN,hn.bottomN),S.push(pi.bottomP,Qn.bottomP,fn.bottomN))):(S.push(hn.topN,fn.topN,Qn.topP),S.push(hn.topN,Qn.topP,pi.topP),!1===s&&(S.push(Qn.bottomP,fn.bottomN,hn.bottomN),S.push(Qn.bottomP,hn.bottomN,pi.bottomP))),fn=Qn,hn=pi,Pe===bt)for(let ye=1;ye<Pe;ye++)Qn=this._buildBevelVert(Se,tt,(Nt+ye)%xt,ye/(Pe-1),Cn),pi=this._buildBevelVert(Se,Xe,(At+ye)%rt,ye/(bt-1),Cn),S.push(fn.topN,Qn.topP,hn.topN),S.push(hn.topN,Qn.topP,pi.topP),!1===s&&(S.push(Qn.bottomP,fn.bottomN,hn.bottomN),S.push(Qn.bottomP,hn.bottomN,pi.bottomP)),fn=Qn,hn=pi;else if(Pe>bt){let ye=Pe/bt,Rt=0;for(let Yn=1;Yn<Pe;Yn++)Qn=this._buildBevelVert(Se,tt,(Nt+Yn)%xt,Yn/(Pe-1),Cn),S.push(fn.topN,Qn.topP,hn.topN),!1===s&&S.push(Qn.bottomP,fn.bottomN,hn.bottomN),fn=Qn,Yn>(Rt+1)*ye&&(Rt++,pi=this._buildBevelVert(Se,Xe,(At+Rt)%rt,Rt/(bt-1),Cn),S.push(hn.topN,Qn.topP,pi.topP),!1===s&&S.push(Qn.bottomP,hn.bottomN,pi.bottomP),hn=pi)}else{let ye=bt/Pe,Rt=0;for(let Yn=1;Yn<bt;Yn++)pi=this._buildBevelVert(Se,Xe,(At+Yn)%rt,Yn/(bt-1),Cn),S.push(hn.topN,Qn.topP,pi.topP),!1===s&&S.push(Qn.bottomP,hn.bottomN,pi.bottomP),hn=pi,Yn>(Rt+1)*ye&&(Rt++,Qn=this._buildBevelVert(Se,tt,(Nt+Rt)%xt,Rt/(Pe-1),Cn),S.push(fn.topN,Qn.topP,hn.topN),!1===s&&S.push(Qn.bottomP,fn.bottomN,hn.bottomN),fn=Qn)}Nt=(Nt+Pe)%xt,At=(At+bt)%rt,lt=(lt+1)%wt}while(lt!==wn)}if(!1===s&&this._depth>2*this._bevel&&this._buildWall(We,Se,S),ne){let He=[];for(let tt=S.length-1;tt>=nt+2;tt-=3)He.push(S[tt-0],S[tt-1],S[tt-2]);S.splice(nt,S.length-nt,...He)}if(ne){let He=[];for(let tt=We[We.length-1].boundary.vertices.length-1;tt>=1;tt-=2)He.push(We[We.length-1].boundary.vertices[tt-1],We[We.length-1].boundary.vertices[tt-0]);A.push(He)}if(!ne){let tt,He=We[We.length-1];try{tt=dm({windingRule:We.length>1?bo.POSITIVE:bo.ODD,elementType:Zs.POLYGONS,vertexSize:2,strict:!0,contours:[He.insetPoints,...A]})}catch{tt=yY}if(!tt)throw new Error("Error generating geometry for surface");0===l.length&&this._bevel<h&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let Xe=0;Xe<3*tt.elementCount;Xe+=3){let xt=this._buildSurfaceVert(tt,tt.elements[Xe+0],Ve),rt=this._buildSurfaceVert(tt,tt.elements[Xe+1],Ve),wt=this._buildSurfaceVert(tt,tt.elements[Xe+2],Ve);S.push(xt.top,rt.top,wt.top),!1===s&&S.push(wt.bottom,rt.bottom,xt.bottom)}}this.vertexCache={}}this._buffer.shrink();let H=new Mi(Uint32Array.from(S),1),V=new Mi(this._buffer.positions,3),Q=new Mi(this._buffer.normals,3),Y=new Mi(this._buffer.uvs,2);V.needsUpdate=!0,Q.needsUpdate=!0,Y.needsUpdate=!0,H.needsUpdate=!0,this.setAttribute("position",V),this.setAttribute("normal",Q),this.setAttribute("uv",Y),this.setIndex(H)}_computeBufferEstimatedSize(e){return 2*e.vertexCount*(2+this._bevelSegments)}_buildWall(e,t,n){let i=e[0];for(let r=0,o=i.boundary.vertexCount;r<o;r++){let s=this._buildBevelVert(t,i,r),a=this._buildBevelVert(t,i,(r+1)%o);n.push(a.topP,s.topN,s.bottomN),n.push(a.topP,s.bottomN,a.bottomP)}}_buildSurfaceVert(e,t,n){let i=t.toString();if(i in this.vertexCache)return this.vertexCache[i];let r=e.vertices[2*t+0],o=e.vertices[2*t+1],s=(r-this._minX)/this._width,a=(o-this._minY)/this._height;this.forPathBevel&&(a=1);let l=this._buffer.get(this.forPathBevel?1:2),c=3*l,d=2*l,h={top:l+0,bottom:l+1};return this._buffer.positions[c+0]=r,this._buffer.positions[c+1]=o,this._buffer.positions[c+2]=this.forPathBevel?this._bevel:this._depth-n,this._buffer.normals[c+0]=0,this._buffer.normals[c+1]=0,this._buffer.normals[c+2]=1,this._buffer.uvs[d+0]=s,this._buffer.uvs[d+1]=a,!1===this.forPathBevel&&(this._buffer.positions[c+3]=r,this._buffer.positions[c+4]=o,this._buffer.positions[c+5]=n,this._buffer.normals[c+3]=0,this._buffer.normals[c+4]=0,this._buffer.normals[c+5]=-1,this._buffer.uvs[d+2]=s,this._buffer.uvs[d+3]=a),this.vertexCache[i]=h,h}_buildBevelVert(e,t,n,i=1,r){let o=`${t.bevelI}:${n}`;if(o in this.vertexCache&&0!==r&&1!==r&&(!r||r===this.vertexCache[o].pathBevelUCoord))return this.vertexCache[o];let l,c,d,h,[s,a]=t.boundary.vertexIndices[n];s!==a?(c=s,l=a,h=!1,d=e.continuous[c]&&e.continuous[l]):(l=s,c=(l-1+e.count)%e.count,h=e.concave[l]&&t.bevelI>0,d=e.continuous[l]||h);let p=Math.cos(t.angle),g=Math.sin(t.angle),v=2*n,y=2*l,b=2*c,P=t.boundary.vertices[v+0],O=t.boundary.vertices[v+1],S=(1-g)*this._bevel,A=(P-this._minX)/this._width,H=(O-this._minY)/this._height;this.forPathBevel&&(void 0!==r&&(A=r),H=1);let V=e.normals[y+0],Q=e.normals[y+1],Y=e.normals[b+0],ee=e.normals[b+1];if(h){V+=(Y-V)*(1-i),Q+=(ee-Q)*(1-i);let Oe=Math.sqrt(V*V+Q*Q);V/=Oe,Q/=Oe}let ne=this._buffer.get(this.forPathBevel?d?1:2:d?2:4),ae=3*ne,pe=2*ne,fe={i:n,fi:l,topP:ne+0,topN:ne+0,bottomP:ne+1,bottomN:ne+1,pathBevelUCoord:r};return this._buffer.positions[ae+0]=P,this._buffer.positions[ae+1]=O,this._buffer.positions[ae+2]=(this.forPathBevel?this._bevel:this._depth)-S,this._buffer.normals[ae+0]=V*p,this._buffer.normals[ae+1]=Q*p,this._buffer.normals[ae+2]=g,this._buffer.uvs[pe+0]=A,this._buffer.uvs[pe+1]=H,!1===this.forPathBevel&&(this._buffer.positions[ae+3]=P,this._buffer.positions[ae+4]=O,this._buffer.positions[ae+5]=S,this._buffer.normals[ae+3]=V*p,this._buffer.normals[ae+4]=Q*p,this._buffer.normals[ae+5]=-g,this._buffer.uvs[pe+2]=H,this._buffer.uvs[pe+3]=A),d||(this.forPathBevel?(ne+=1,ae+=3,pe+=2):(ne+=2,ae+=6,pe+=4),fe.topP=ne+0,fe.bottomP=ne+1,this._buffer.positions[ae+0]=P,this._buffer.positions[ae+1]=O,this._buffer.positions[ae+2]=(this.forPathBevel?this._bevel:this._depth)-S,this._buffer.normals[ae+0]=Y*p,this._buffer.normals[ae+1]=ee*p,this._buffer.normals[ae+2]=g,this._buffer.uvs[pe+0]=A,this._buffer.uvs[pe+1]=H,!1===this.forPathBevel&&(this._buffer.positions[ae+3]=P,this._buffer.positions[ae+4]=O,this._buffer.positions[ae+5]=S,this._buffer.normals[ae+3]=Y*p,this._buffer.normals[ae+4]=ee*p,this._buffer.normals[ae+5]=-g,this._buffer.uvs[pe+2]=H,this._buffer.uvs[pe+3]=A)),this.vertexCache[o]=fe,fe}clone(){let e=new Ak(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=vP(this.userData),e}},bY=class extends ii{constructor(e,t=12,n={}){super(),this.type="ShapeGeometry",this.windingRule=bo.ODD,this.elementType=Zs.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:bo.ODD,elementType:Zs.POLYGONS,polySize:3,vertexSize:2,strict:!0},n);let o,l,c,i=this._shape.extractShapePointsToFlatArray([],this._curveSegments),r=this._shape.shapeHoles.map(p=>p.extractShapePointsToFlatArray([],this._curveSegments)),s=!0,a=!0;for(let p=0,g=i.length/2;p<g;p++){let v=2*p,y=i[v+0],b=i[v+1];if(void 0!==l&&y!==l&&(s=!1),void 0!==c&&b!==c&&(a=!1),l=y,c=b,!s&&!a)break}if(!s&&!a)try{o=dm({contours:[i,...r],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{o=Ek}let d=o?.vertexCount??1,h=o?.elementCount??1;if(this._positionAttribute=new Mi(new Float32Array(3*d),3),this._normalAttribute=new Mi(new Float32Array(3*d),3),this._uvAttribute=new Mi(new Float32Array(2*d),2),this._indexAttribute=new Mi(new Uint32Array(3*h),1),o){let p=1/0,g=-1/0,v=1/0,y=-1/0;for(let O=0,S=d;O<S;O++){let A=2*O,H=o.vertices[A+0],V=o.vertices[A+1];H<p&&(p=H),H>g&&(g=H),V<v&&(v=V),V>y&&(y=V)}let b=g-p,P=y-v;for(let O=0,S=d;O<S;O++){let A=2*O,H=o.vertices[A+0],V=o.vertices[A+1],Q=(H-p)/b,Y=(V-v)/P;this._positionAttribute.setXYZ(O,H,V,0),this._normalAttribute.setXYZ(O,0,0,1),this._uvAttribute.setXY(O,Q,Y)}for(let O=0,S=h;O<S;O++){let A=3*O,V=o.elements[A+1],Q=o.elements[A+2];this._indexAttribute.setX(A+0,o.elements[A+0]),this._indexAttribute.setX(A+1,V),this._indexAttribute.setX(A+2,Q)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,3*(o?.elementCount??1))}clone(){let e=new bY(this._shape,this._curveSegments);return e.userData=vP(this.userData),e}},_Y=class extends Ak{constructor(e,t,n=0,i=12,r=3,o=bo.ODD){super(e,t,n,i,r,o),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return 2*e.vertexCount*(2+this._bevelSegments)}_buildWall(e,t,n){let i=e[0];for(let r=0,o=i.boundary.vertexCount;r<o;r++){let s=this._buildBevelVert(t,i,r),a=this._buildBevelVert(t,i,(r+1)%o);n.push(a.topP,s.topN,s.bottomN),n.push(a.topP,s.bottomN,a.bottomP)}}clone(){let e=new _Y(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=vP(this.userData),e}},d0=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:bo.ODD},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.abs(n.depth??0),s=e.shape??t?.shape,a=s?.roundness??n.roundness;void 0!==s&&(s instanceof xs?(s.width!==i||s.height!==r)&&s.applySize(i,r):s=new xs(i,r).fromJSON(s),void 0!==e.parameters?.roundness&&e.parameters?.roundness>0&&s.update());let l=s??new xs(i,r);return{parameters:Object.assign(n,{width:i,height:r,depth:o,roundness:a}),shape:l}}static build(e){let a,{depth:t,extrudeBevelSize:n,extrudeBevelSegments:i,subdivisions:r,roundness:o,windingRule:s}=e.parameters;return e.shape.roundness=o,a=t<=0?new bY(e.shape,r,{windingRule:s}):new _Y(e.shape,t,n,r,i,s),Object.assign(a,{userData:{...e,type:"VectorGeometry"}})}},xY=2*Math.PI,Tk=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return n.angle=Ln.clamp(n.angle,0,360),{shape:e.shape&&e.shape instanceof xs?e.shape:new xs,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let g,{width:t,height:n,spikes:i,angle:r,innerRadius:o,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}=e.parameters,c=e.shape,p=function u4e(e,t,n,i,r,o){if(i>=xY)return r>30||r%4==0?(function f4e(e,t,n,i=0,r=0,o=0){let s=.5522847498,a=t*s,l=n*s;e.addPoint(y2(r-t,o,r-t,o-l,r-t,o+l)),e.addPoint(y2(r,o+n,r-a,o+n,r+a,o+n)),e.addPoint(y2(r+t,o,r+t,o+l,r+t,o-l)),e.addPoint(y2(r,o-n,r+a,o-n,r-a,o-n)),i>0&&MY(e,t,n,i)}(e,t,n,o),Math.round(r/4)):wY(e,i,r,t,n,o);let s={x:0,y:n},a=(i=Math.max(i,.001))+.5*Math.PI,l={x:Math.cos(a)*t,y:Math.sin(a)*n},c=function s4e({px:e,py:t,cx:n,cy:i,rx:r,ry:o,largeArcFlag:s,sweepFlag:a}){let l=[];if(0===r||0===o)return[];let c=(e-n)/2,d=(t-i)/2;if(0===c&&0===d)return[];r=Math.abs(r),o=Math.abs(o);let h=Math.pow(c,2)/Math.pow(r,2)+Math.pow(d,2)/Math.pow(o,2);h>1&&(r*=Math.sqrt(h),o*=Math.sqrt(h));let p=function o4e(e,t,n,i,r,o,s,a,l,c){let d=Math.pow(r,2),h=Math.pow(o,2),p=Math.pow(s,2),g=Math.pow(a,2),v=d*h-d*g-h*p;v<0&&(v=0),v/=d*g+h*p,v=Math.sqrt(v)*(l===c?-1:1);let y=v*r/o*a,b=v*-o/r*s,P=y+(e+n)/2,O=b+(t+i)/2,S=(s-y)/r,A=(a-b)/o,H=(-s-y)/r,V=(-a-b)/o,Q=hY(1,0,S,A),Y=hY(S,A,H,V);return!c&&Y>0&&(Y-=Mk),c&&Y<0&&(Y+=Mk),{centerx:P,centery:O,ang1:Q,ang2:Y}}(e,t,n,i,r,o,c,d,s,a),{ang1:g,ang2:v}=p,{centerx:y,centery:b}=p,P=Math.abs(v)/(Mk/4);Math.abs(1-P)<1e-7&&(P=1);let O=Math.max(Math.ceil(P),1);v/=O;for(let S=0;S<O;S++)l.push(r4e(g,v)),g+=v;return l.map(S=>{let{x:A,y:H}=Pk(S[0],r,o,y,b),{x:V,y:Q}=Pk(S[1],r,o,y,b),{x:Y,y:ee}=Pk(S[2],r,o,y,b);return{x1:A,y1:H,x2:V,y2:Q,x:Y,y:ee}})}({px:s.x,py:s.y,cx:l.x,cy:l.y,rx:t,ry:n,largeArcFlag:i>Math.PI,sweepFlag:!0});return r>30||r%c.length==0?function p4e(e,t,n,i,r,o,s,a){let l=Math.round(r/i.length);e.addPoint(G1(t,n));for(let c=0,d=i.length;c<d;c++){let h=i[c],p=e.points[c],g=G1(h.x,h.y);p.controls[1].position.set(h.x1,h.y1),g.controls[0].position.set(h.x2,h.y2),e.addPoint(g)}return a>0?CY(e,o,s,a):e.addPoint(G1(0,0)),l}(e,s.x,s.y,c,r,t,n,o):wY(e,i,r,t,n,o)}(c,.5*t,.5*n,r*Math.PI/180,i,o);return c.isClosed=!0,c.update(),0===r?(g=new ii,g.setAttribute("position",new On([],3))):g=d0.create({shape:c,parameters:{subdivisions:p,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}}),Object.assign(g,{userData:{...e,type:"EllipseGeometry"}})}};function wY(e,t,n,i,r,o){let s=-t/n;for(let a=0;a<=n;a++){let l=s*a,c=Math.sin(l)*i,d=Math.cos(l)*r;e.addPoint(G1(c,d))}return t<xY?o>0?CY(e,i,r,o):e.addPoint(G1(0,0)):(e.removePoint(e.points[e.points.length-1]),o>0&&MY(e,i,r,o)),1}function G1(e,t){return new j1(Ln.generateUUID(),new qe(e,t))}function y2(e,t,n,i,r,o){let s=G1(e,t);return s.controls[0].position.set(n,i),s.controls[1].position.set(r,o),s}function CY(e,t,n,i){PY(e,t,n,i).forEach(r=>e.addPoint(r))}function MY(e,t,n,i){let r=PY(e,t,n,i),o=new xs;r.forEach(s=>o.addPoint(s)),o.isClosed=!0,e.shapeHoles.push(o)}function PY(e,t,n,i){let r=i*t/100,o=r*(Math.abs(n)/Math.abs(t)),s=new qe(r/t,o/n),a=e.points.map(l=>{let c=l.clone();return c.uuid=Ln.generateUUID(),c}).reverse();return a.forEach(l=>{l.position.multiply(s);let c=l.controls[0].position.clone().multiply(s),d=l.controls[1].position.clone().multiply(s);l.controls[0].position.copy(d),l.controls[1].position.copy(c)}),a}var Ik=new $v([0,0,0],1),OY=class extends ii{constructor(e=!0,t=1,n=1,i=1,r=1,o=1,s=1,a=1,l=1,c=1,d=1,h=1){if(super(),0===o)return;let p=e&&1===o;p&&(h=0),d>100&&(d=100),0===d&&(h=0);let O,S,A,H,V,Q,Y,ee,g=()=>new ie,v=new ie,y=g(),b=g(),P=g(),ne=g(),ae=g(),pe=g(),fe=g(),ge=g(),Se=g(),Oe=g(),Ce=g(),_e=n-2*a+.001,Be=_e/o,We=Math.ceil(s*o),Ve=We+1,Ue=_e/We,nt=-_e/2,He=c+1,tt=2*Math.PI/c,Xe=Math.PI/2/h,rt=Math.min((1-d/100)*a,a-.01),wt=a-rt,lt=0,Nt=2*h+2,At=He*Nt/2,wn=At+He*Ve,Cn=Math.max(0,He*(Ve+Nt)),[Sn,Fn,fn]=[3,3,2].map(vn=>Array(Cn*vn).fill(0)),hn=[],Qn=r-a;function pi(vn,Kn){let Xn=Math.PI/2;Q=Kn*Ue,ee=2*Math.PI*(Q%Be)/Be+Xn,Q+=nt,Y=Math.sin(ee)*Qn,V=Math.cos(ee)*Qn,e?vn.set(V,Y,Q):vn.set(V,Q,Y)}pi(v,-1e-10),pi(y,0),ne.copy(v),pi(v,1);let Fe=v.distanceTo(y),Pe=p?0:wt+rt,bt=Fe*We+2*Pe,en=rt,ye=bt-Pe;for(let vn=0;vn<=We;vn++){pi(b,vn),Ce.subVectors(b,ne).normalize(),ne.copy(b),Se.copy(b).setComponent(+e+1,0).normalize(),Oe.crossVectors(Ce,Se).normalize();let Kn=0===vn,Xn=vn===We,Si=Kn?3*Math.PI/2:Xe,yi=Kn?en:ye,Lr=Kn?He:wn,Co=Kn?0:Cn-He,Ar=Ce.clone().multiplyScalar(Kn?-wt:wt).add(b),ot=Ce.clone().multiplyScalar(Kn?-1:1).normalize();for(let kt=0;kt<He;kt++){let sn=kt*tt;if(ae.addVectors(v.copy(Se).multiplyScalar(a*Math.cos(sn)),y.copy(Oe).multiplyScalar(a*Math.sin(sn))),pe.copy(ae).normalize(),Kn||Xn){p||(lt=Co+kt,[0,1,2].forEach(yn=>{Sn[3*lt+yn]=Ar.getComponent(yn),Fn[3*lt+yn]=ot.getComponent(yn)}),fn[2*lt]=+Xn,fn[2*lt+1]=kt/c),y.copy(pe).multiplyScalar(rt),P.addVectors(b,y);for(let yn=0;yn<h;yn++){let di=yn*Xe+Si;fe.addVectors(v.copy(Ce).multiplyScalar(wt*Math.sin(di)),y.copy(pe).multiplyScalar(wt*Math.cos(di))),ge.copy(fe).normalize(),y.addVectors(P,fe),fe.normalize(),lt=Lr+yn*He+kt,[0,1,2].forEach(Jo=>{Sn[3*lt+Jo]=y.getComponent(Jo),Fn[3*lt+Jo]=ge.getComponent(Jo)});let Ci=+Kn+Math.sin(di);fn[2*lt]=(yi+wt*Ci)/bt,fn[2*lt+1]=kt/c}}y.addVectors(b,ae),lt=At+vn*He+kt,[0,1,2].forEach(yn=>{Sn[3*lt+yn]=y.getComponent(yn),Fn[3*lt+yn]=pe.getComponent(yn)}),fn[2*lt]=(Pe+vn*Fe)/bt,fn[2*lt+1]=kt/c}}let Rt=Ve+2*h+2,[_n,$t]=[+p,Rt-1];for(let vn=_n;vn<=$t-1;vn++){let Kn=p&&vn===$t-1;for(let Xn=0;Xn<He-1;Xn++)O=vn*He+Xn,S=O+1,A=(Kn?Xn:O)+He,H=(Kn?Xn+1:S)+He,0===vn?hn.push(S,H,A):vn===Rt-2?hn.push(O,S,A):hn.push(O,S,A,S,H,A)}this.setIndex(hn),this.setAttribute("position",new On(Sn,3)),this.setAttribute("normal",new On(Fn,3)),this.setAttribute("uv",new On(fn,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let r,o,s,a,e=this.userData.parameters,t=Math.ceil(e.tubularSegments),n=e.radialSegments+1,i=Array.from(this.getIndex().array),l=6*(t-1)*e.radialSegments,c=t,d=c===t;for(let h=0;h<e.radialSegments;h++)r=c*n+h,o=r+1,s=(d?h:r)+n,a=(d?h+1:o)+n,i[l++]=r,i[l++]=o,i[l++]=s,i[l++]=o,i[l++]=a,i[l++]=s;return i.length=l,Ik.array=i,Ik.count=i.length,Ik}},SY=class extends yk{constructor(e=1,t=.2,n=4){let i=(1+Math.sqrt(5))/2,s="IcosahedronGeometry";super([-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],s,e,t,n),this.type=s}static fromJSON(e){return new SY(e.radius,e.corner,e.cornerSides)}},Cu=new Kt,kk=new uo,b2=new ie,_2=class extends el{constructor(){super(),this.uuid=Ln.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=(new $s).getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let o=0,s=r.vertexNormals.length;o<s;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return Cu.makeRotationX(e),this.applyMatrix4(Cu),this}rotateY(e){return Cu.makeRotationY(e),this.applyMatrix4(Cu),this}rotateZ(e){return Cu.makeRotationZ(e),this.applyMatrix4(Cu),this}translate(e,t,n){return Cu.makeTranslation(e,t,n),this.applyMatrix4(Cu),this}scale(e,t,n){return Cu.makeScale(e,t,n),this.applyMatrix4(Cu),this}lookAt(e){return kk.lookAt(e),kk.updateMatrix(),this.applyMatrix4(kk.matrix),this}fromBufferGeometry(e){let t=this,n=null!==e.index?e.index:void 0,i=e.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let r=i.position,o=i.normal,s=i.color,a=i.uv,l=i.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(let h=0;h<r.count;h++)t.vertices.push((new ie).fromBufferAttribute(r,h)),void 0!==s&&t.colors.push((new gi).fromBufferAttribute(s,h));function c(h,p,g,v){let y=void 0===s?[]:[t.colors[h].clone(),t.colors[p].clone(),t.colors[g].clone()],b=void 0===o?[]:[(new ie).fromBufferAttribute(o,h),(new ie).fromBufferAttribute(o,p),(new ie).fromBufferAttribute(o,g)],P=new Rk(h,p,g,b,y,v);t.faces.push(P),void 0!==a&&t.faceVertexUvs[0].push([(new qe).fromBufferAttribute(a,h),(new qe).fromBufferAttribute(a,p),(new qe).fromBufferAttribute(a,g)]),void 0!==l&&t.faceVertexUvs[1].push([(new qe).fromBufferAttribute(l,h),(new qe).fromBufferAttribute(l,p),(new qe).fromBufferAttribute(l,g)])}let d=e.groups;if(d.length>0)for(let h=0;h<d.length;h++){let p=d[h],g=p.start;for(let y=g,b=g+p.count;y<b;y+=3)void 0!==n?c(n.getX(y),n.getX(y+1),n.getX(y+2),p.materialIndex):c(y,y+1,y+2,p.materialIndex)}else if(void 0!==n)for(let h=0;h<n.count;h+=3)c(n.getX(h),n.getX(h+1),n.getX(h+2));else for(let h=0;h<r.count;h+=3)c(h,h+1,h+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(b2).negate(),this.translate(b2.x,b2.y,b2.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new Kt;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this}computeFaceNormals(){let e=new ie,t=new ie;for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n],o=this.vertices[r.a],s=this.vertices[r.b];e.subVectors(this.vertices[r.c],s),t.subVectors(o,s),e.cross(t),e.normalize(),r.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new ie;if(e){let n=new ie,i=new ie;for(let r=0,o=this.faces.length;r<o;r++){let s=this.faces[r],a=this.vertices[s.a],l=this.vertices[s.b];n.subVectors(this.vertices[s.c],l),i.subVectors(a,l),n.cross(i),t[s.a].add(n),t[s.b].add(n),t[s.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n],o=r.vertexNormals;3===o.length?(o[0].copy(t[r.a]),o[1].copy(t[r.b]),o[2].copy(t[r.c])):(o[0]=t[r.a].clone(),o[1]=t[r.b].clone(),o[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let n=this.faces[e],i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,o=i.vertexNormals.length;r<o;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}let e=new _2;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let r=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let s=0,a=this.faces.length;s<a;s++){let l=new ie,c={a:new ie,b:new ie,c:new ie};r.push(l),o.push(c)}}let i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,o=this.faces.length;r<o;r++){let s=this.faces[r],l=i.vertexNormals[r];i.faceNormals[r].copy(s.normal),l.a.copy(s.vertexNormals[0]),l.b.copy(s.vertexNormals[1]),l.c.copy(s.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new As),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new gc),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,n=0){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);let i,r=this.vertices.length,o=this.vertices,s=e.vertices,a=this.faces,l=e.faces,c=this.colors,d=e.colors;void 0!==t&&(i=(new $s).getNormalMatrix(t));for(let h=0,p=s.length;h<p;h++){let g=s[h].clone();void 0!==t&&g.applyMatrix4(t),o.push(g)}for(let h=0,p=d.length;h<p;h++)c.push(d[h].clone());for(let h=0,p=l.length;h<p;h++){let v,y,g=l[h],b=g.vertexNormals,P=g.vertexColors,O=new Rk(g.a+r,g.b+r,g.c+r);O.normal.copy(g.normal),void 0!==i&&O.normal.applyMatrix3(i).normalize();for(let S=0,A=b.length;S<A;S++)v=b[S].clone(),void 0!==i&&v.applyMatrix3(i).normalize(),O.vertexNormals.push(v);O.color.copy(g.color);for(let S=0,A=P.length;S<A;S++)y=P[S],O.vertexColors.push(y.clone());O.materialIndex=g.materialIndex+n,a.push(O)}for(let h=0,p=e.faceVertexUvs.length;h<p;h++){let g=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(let v=0,y=g.length;v<y;v++){let b=g[v],P=[];for(let O=0,S=b.length;O<S;O++)P.push(b[O].clone());this.faceVertexUvs[h].push(P)}}}mergeMesh(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)}mergeVertices(e=4){let t={},n=[],i=[],r=Math.pow(10,e);for(let a=0,l=this.vertices.length;a<l;a++){let c=this.vertices[a],d=Math.round(c.x*r)+"_"+Math.round(c.y*r)+"_"+Math.round(c.z*r);void 0===t[d]?(t[d]=a,n.push(this.vertices[a]),i[a]=n.length-1):i[a]=i[t[d]]}let o=[];for(let a=0,l=this.faces.length;a<l;a++){let c=this.faces[a];c.a=i[c.a],c.b=i[c.b],c.c=i[c.c];let d=[c.a,c.b,c.c];for(let h=0;h<3;h++)if(d[h]===d[(h+1)%3]){o.push(a);break}}for(let a=o.length-1;a>=0;a--){let l=o[a];this.faces.splice(l,1);for(let c=0,d=this.faceVertexUvs.length;c<d;c++)this.faceVertexUvs[c].splice(l,1)}let s=this.vertices.length-n.length;return this.vertices=n,s}setFromPoints(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){let i=e[t];this.vertices.push(new ie(i.x,i.y,i.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let a=0;a<t;a++)e[a]._id=a;e.sort(function n(a,l){return a.materialIndex-l.materialIndex});let o,s,i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];i&&i.length===t&&(o=[]),r&&r.length===t&&(s=[]);for(let a=0;a<t;a++){let l=e[a]._id;o&&o.push(i[l]),s&&s.push(r[l])}o&&(this.faceVertexUvs[0]=o),s&&(this.faceVertexUvs[1]=s)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){let g=this.parameters;for(let v in g)void 0!==g[v]&&(e[v]=g[v]);return e}let t=[];for(let g=0;g<this.vertices.length;g++){let v=this.vertices[g];t.push(v.x,v.y,v.z)}let n=[],i=[],r={},o=[],s={},a=[],l={};for(let g=0;g<this.faces.length;g++){let v=this.faces[g],y=!0,b=!1,P=void 0!==this.faceVertexUvs[0][g],O=v.normal.length()>0,S=v.vertexNormals.length>0,A=1!==v.color.r||1!==v.color.g||1!==v.color.b,H=v.vertexColors.length>0,V=0;if(V=c(V,0,0),V=c(V,1,y),V=c(V,2,b),V=c(V,3,P),V=c(V,4,O),V=c(V,5,S),V=c(V,6,A),V=c(V,7,H),n.push(V),n.push(v.a,v.b,v.c),n.push(v.materialIndex),P){let Q=this.faceVertexUvs[0][g];n.push(p(Q[0]),p(Q[1]),p(Q[2]))}if(O&&n.push(d(v.normal)),S){let Q=v.vertexNormals;n.push(d(Q[0]),d(Q[1]),d(Q[2]))}if(A&&n.push(h(v.color)),H){let Q=v.vertexColors;n.push(h(Q[0]),h(Q[1]),h(Q[2]))}}function c(g,v,y){return y?g|1<<v:g&~(1<<v)}function d(g){let v=g.x.toString()+g.y.toString()+g.z.toString();return void 0!==r[v]||(r[v]=i.length/3,i.push(g.x,g.y,g.z)),r[v]}function h(g){let v=g.r.toString()+g.g.toString()+g.b.toString();return void 0!==s[v]||(s[v]=o.length,o.push(g.getHex())),s[v]}function p(g){let v=g.x.toString()+g.y.toString();return void 0!==l[v]||(l[v]=a.length/2,a.push(g.x,g.y)),l[v]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),a.length>0&&(e.data.uvs=[a]),e.data.faces=n,e}clone(){return(new _2).copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let h=0,p=t.length;h<p;h++)this.vertices.push(t[h].clone());let n=e.colors;for(let h=0,p=n.length;h<p;h++)this.colors.push(n[h].clone());let i=e.faces;for(let h=0,p=i.length;h<p;h++)this.faces.push(i[h].clone());for(let h=0,p=e.faceVertexUvs.length;h<p;h++){let g=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(let v=0,y=g.length;v<y;v++){let b=g[v],P=[];for(let O=0,S=b.length;O<S;O++)P.push(b[O].clone());this.faceVertexUvs[h].push(P)}}let r=e.morphTargets;for(let h=0,p=r.length;h<p;h++){let g={};if(g.name=r[h].name,void 0!==r[h].vertices){g.vertices=[];for(let v=0,y=r[h].vertices.length;v<y;v++)g.vertices.push(r[h].vertices[v].clone())}if(void 0!==r[h].normals){g.normals=[];for(let v=0,y=r[h].normals.length;v<y;v++)g.normals.push(r[h].normals[v].clone())}this.morphTargets.push(g)}let o=e.morphNormals;for(let h=0,p=o.length;h<p;h++){let g={};if(void 0!==o[h].vertexNormals){g.vertexNormals=[];for(let v=0,y=o[h].vertexNormals.length;v<y;v++){let b=o[h].vertexNormals[v],P={};P.a=b.a.clone(),P.b=b.b.clone(),P.c=b.c.clone(),g.vertexNormals.push(P)}}if(void 0!==o[h].faceNormals){g.faceNormals=[];for(let v=0,y=o[h].faceNormals.length;v<y;v++)g.faceNormals.push(o[h].faceNormals[v].clone())}this.morphNormals.push(g)}let s=e.skinWeights;for(let h=0,p=s.length;h<p;h++)this.skinWeights.push(s[h].clone());let a=e.skinIndices;for(let h=0,p=a.length;h<p;h++)this.skinIndices.push(a[h].clone());let l=e.lineDistances;for(let h=0,p=l.length;h<p;h++)this.lineDistances.push(l[h]);let c=e.boundingBox;null!==c&&(this.boundingBox=c.clone());let d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=(new y4e).fromGeometry(this),t=new ii,n=new Float32Array(3*e.vertices.length);if(t.setAttribute("position",x2.call(new Mi(n,3),e.vertices)),e.normals.length>0){let i=new Float32Array(3*e.normals.length);t.setAttribute("normal",x2.call(new Mi(i,3),e.normals))}if(e.colors.length>0){let i=new Float32Array(3*e.colors.length);t.setAttribute("color",EY.call(new Mi(i,3),e.colors))}if(e.uvs.length>0){let i=new Float32Array(2*e.uvs.length);t.setAttribute("uv",DY.call(new Mi(i,2),e.uvs))}if(e.uvs2.length>0){let i=new Float32Array(2*e.uvs2.length);t.setAttribute("uv2",DY.call(new Mi(i,2),e.uvs2))}t.groups=e.groups;for(let i in e.morphTargets){let r=[],o=e.morphTargets[i];for(let s=0,a=o.length;s<a;s++){let l=o[s],c=new On(3*l.data.length,3);c.name=l.name,r.push(x2.call(c,l.data))}t.morphAttributes[i]=r}if(e.skinIndices.length>0){let i=new On(4*e.skinIndices.length,4);t.setAttribute("skinIndex",AY.call(i,e.skinIndices))}if(e.skinWeights.length>0){let i=new On(4*e.skinWeights.length,4);t.setAttribute("skinWeight",AY.call(i,e.skinWeights))}return null!==e.boundingSphere&&(t.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new ii,n=e.geometry;if(e.isPoints||e.isLine){let i=new On(3*n.vertices.length,3),r=new On(3*n.colors.length,3);if(t.setAttribute("position",x2.call(i,n.vertices)),t.setAttribute("color",EY.call(r,n.colors)),n.lineDistances&&n.lineDistances.length===n.vertices.length){let o=new On(n.lineDistances.length,1);t.setAttribute("lineDistance",b4e.call(o,n.lineDistances))}null!==n.boundingSphere&&(t.boundingSphere=n.boundingSphere.clone()),null!==n.boundingBox&&(t.boundingBox=n.boundingBox.clone())}else e.isMesh&&(t=n.toBufferGeometry());return t}};_2.prototype.isGeometry=!0;var y4e=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let n,i,r,t=[],o=e.faces;for(i=0;i<o.length;i++){let s=o[i];s.materialIndex!==r&&(r=s.materialIndex,void 0!==n&&(n.count=3*i-n.start,t.push(n)),n={start:3*i,materialIndex:r})}void 0!==n&&(n.count=3*i-n.start,t.push(n)),this.groups=t}fromGeometry(e){let l,t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,a=s.length;if(a>0){l=[];for(let b=0;b<a;b++)l[b]={name:s[b].name,data:[]};this.morphTargets.position=l}let h,c=e.morphNormals,d=c.length;if(d>0){h=[];for(let b=0;b<d;b++)h[b]={name:c[b].name,data:[]};this.morphTargets.normal=h}let p=e.skinIndices,g=e.skinWeights,v=p.length===n.length,y=g.length===n.length;n.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let b=0;b<t.length;b++){let P=t[b];this.vertices.push(n[P.a],n[P.b],n[P.c]);let O=P.vertexNormals;if(3===O.length)this.normals.push(O[0],O[1],O[2]);else{let A=P.normal;this.normals.push(A,A,A)}let S=P.vertexColors;if(3===S.length)this.colors.push(S[0],S[1],S[2]);else{let A=P.color;this.colors.push(A,A,A)}if(!0===r){let A=i[0][b];void 0!==A?this.uvs.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",b),this.uvs.push(new qe,new qe,new qe))}if(!0===o){let A=i[1][b];void 0!==A?this.uvs2.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",b),this.uvs2.push(new qe,new qe,new qe))}for(let A=0;A<a;A++){let H=s[A].vertices;l[A].data.push(H[P.a],H[P.b],H[P.c])}for(let A=0;A<d;A++){let H=c[A].vertexNormals[b];h[A].data.push(H.a,H.b,H.c)}v&&this.skinIndices.push(p[P.a],p[P.b],p[P.c]),y&&this.skinWeights.push(g[P.a],g[P.b],g[P.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}},Rk=class{constructor(e,t,n,i,r,o=0){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new ie,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new gi,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function b4e(e){return this.array.set(e),this}function EY(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new gi),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}function DY(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new qe),t[n++]=o.x,t[n++]=o.y}return this}function x2(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new ie),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}function AY(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new ki),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}var _4e=["a","b","c"];function x4e(e,t){switch(t){case"c":return e.c;case"b":return e.b;default:return e.a}}function Nk(e,t,n){let i=Math.min(e,t),r=Math.max(e,t);return n.get(i+"_"+r)}function Lk(e,t,n,i,r,o){let c,s=Math.min(e,t),a=Math.max(e,t),l=s+"_"+a;i.has(l)?c=i.get(l):(c={a:n[s],b:n[a],newEdge:null,faces:[]},i.set(l,c)),c.faces.push(r),o[e].edges.push(c),o[t].edges.push(c)}function w2(e,t,n,i,r){e.push(new Rk(t,n,i,void 0,void 0,r))}function W1(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function C2(e,t,n,i){e.push([t.clone(),n.clone(),i.clone()])}var ya=new ie,TY=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof xs?e.shape:new xs,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,spikes:i,cornerRadius:r,depth:o,extrudeBevelSize:s,extrudeBevelSegments:a}=e.parameters,l=e.shape,c=.5*t,d=.5*n,g=2*Math.PI/i;for(let y=0;y<i;y++){let b=g*y,P=0+Math.sin(b)*c,O=0+Math.cos(b)*d;l.addPoint(l.createPoint(P,O))}l.isClosed=!0;for(let y=0,b=l.points.length;y<b;y++)l.points[y].roundness=r;l.roundness=r,l.update();let v=d0.create({shape:l,parameters:{roundness:r,depth:o,extrudeBevelSize:s,extrudeBevelSegments:a}});return Object.assign(v,{userData:{...e,type:"PolygonGeometry"}})}};function lx(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function Fk(e,t,n,i,r,o){let s=t.clone().sub(e),a=n.clone().sub(e),l=s.angleTo(a);if(s.normalize(),a.normalize(),i===r){let c=s.add(a).normalize();o.copy(e).addScaledVector(c,i/Math.sin(l/2))}else{let c=s.angleTo(a);o.copy(e),o.addScaledVector(s,r/Math.sin(c)),o.addScaledVector(a,i/Math.sin(c))}}function O4e(e,t,n){let i=e.clone().sub(t),r=n.clone().sub(t);return i.projectOnVector(r),i.add(t)}var S4e=class extends ii{constructor(e=.5,t=1,n=4,i=1,r=!1,o=0,s=4){super(),n=Math.floor(Math.max(3,n)),i=Math.floor(i),s=Math.floor(s);let ae,a=[],l=[],c=[],d=[],h=0,p=t/2,g=Math.PI/n,v=e*Math.cos(Math.PI/n),y=2*Math.PI/n,b=(n-2)*Math.PI/n,P=Math.PI-b,O=new ie(0,-p,0),S=new ie(0,p,0),A=new qe(e,-p),H=new qe(v,-p),V=new qe(0,S.y).sub(H),Q=new qe(0,S.y).sub(A),Y=new qe(V.y,-V.x).normalize(),ee=new qe(Q.y,-Q.x).normalize(),ne=e*Math.cos(Math.PI/n)*Math.tan((Math.PI-V.angle())/2)-1e-8;o=Math.min(o,ne);{let _e=new ie(Y.x,Y.y,0),Be=new ie(Math.cos(y)*_e.x,_e.y,Math.sin(y)*_e.x);ae=_e.angleTo(Be)}let pe=o/Math.tan((Math.PI-V.angle())/2),fe=o/Math.tan((Math.PI-ae)/2),ge=new ie;if(!r){l.push(O.x,O.y,O.z),c.push(0,-1,0),d.push(0,0);let _e=h++,Be=[],We=A.clone(),Ve=pe/Math.cos(Math.PI/n);We.x-=Ve;for(let Ue=0;Ue<n;Ue++){let nt=Ue/n*Math.PI*2+g;lx(We,new qe(Math.sin(nt),Math.cos(nt)),ge),l.push(ge.x,ge.y,ge.z),c.push(0,-1,0),d.push(0,0),Be.push(h++)}for(let Ue=0;Ue<Be.length;Ue++)a.push(Be[Ue],_e,Be[(Ue+1)%Be.length])}let Se=[];{let _e=new ie,Be=new ie,We=new ie,Ve=new ie,Ue=new ie,nt=new ie;for(let He=0;He<n;He++){let tt=He/n*Math.PI*2+g,Xe=(He+.5)/n*Math.PI*2+g,xt=(He+1)/n*Math.PI*2+g,rt=new qe(Math.sin(tt),Math.cos(tt)),wt=new qe(Math.sin(Xe),Math.cos(Xe)),lt=new qe(Math.sin(xt),Math.cos(xt));lx(A,rt,Be),lx(A,lt,We),lx(Y,wt,_e),Fk(S,Be,We,fe,fe,Ve),l.push(Ve.x,Ve.y,Ve.z),Fk(Be,S,We,fe,pe,Ue),l.push(Ue.x,Ue.y,Ue.z),Fk(We,Be,S,pe,fe,nt),l.push(nt.x,nt.y,nt.z),c.push(_e.x,_e.y,_e.z),c.push(_e.x,_e.y,_e.z),c.push(_e.x,_e.y,_e.z),d.push(0,0),d.push(0,0),d.push(0,0);let Gt=h++,Nt=h++,At=h++;if(a.push(Gt,Nt,At),o>0){{let Sn=Be.clone().add(We).multiplyScalar(.5),Fn=S.clone().sub(Sn).normalize(),fn=O.clone().sub(Sn).normalize().add(Fn).normalize().multiplyScalar(-1);Oe(Sn,nt.clone().sub(Ue),fn,V.angle())}let wn,Cn;{let Sn=new ie;lx(ee,lt,Sn);let Fn=nt.clone().add(Ve).multiplyScalar(.5);Fn=O4e(Fn,We,S);let fn=nt.clone().sub(Ve);[wn,Cn]=Oe(Fn,fn,Sn,ae,Ve.y)}{let Sn=wn,Fn=Sn.clone().setY(0).normalize(),fn=new ie(0,-1,0),hn=Fn.clone().cross(fn);Ce(Sn,Fn,fn,hn)}Se.concat(Cn);{let Sn=V.angle(),Fn=Math.PI-Sn,fn=S.clone();fn.y-=o/Math.sin(Sn-Math.PI/2);let hn=new ie,Qn=[];for(let Fe=0;Fe<s;Fe++){let Pe=[],bt=Math.PI/2-Fn*Fe/s,en=Math.cos(bt),ye=Math.sin(bt),Rt=Xe;for(let Yn=0;Yn<=Fe;Yn++){let _n=Math.cos(Rt),$t=Math.sin(Rt);_e.x=en*$t,_e.y=ye,_e.z=en*_n,hn.copy(fn).addScaledVector(_e,o),l.push(hn.x,hn.y,hn.z),c.push(_e.x,_e.y,_e.z),d.push(0,0),Pe.push(h++),Rt+=2*Math.PI/Fe/n}Qn.push(Pe)}Cn.reverse(),Qn.push(Cn);let pi=Qn.length-1;for(let Fe=0;Fe<pi;Fe++){let Pe=Qn[Fe],bt=Qn[Fe+1],en=Pe.length-1;a.push(bt[1],Pe[0],bt[0]);for(let ye=1;ye<=en;ye++)a.push(Pe[ye],Pe[ye-1],bt[ye]),a.push(bt[ye+1],Pe[ye],bt[ye])}}}}}function Oe(_e,Be,We,Ve,Ue){let nt=-Ve/2,He=(Math.PI-Ve)/2,tt=Be.clone().normalize().cross(We);_e.addScaledVector(We,-o/Math.sin(He));let Xe=new ie,xt=new ie,wt=h,lt=[];for(let Gt=0;Gt<=s;Gt++){let Nt=nt+Gt/s*Ve;xt.set(0,0,0),xt.addScaledVector(tt,Math.sin(Nt)),xt.addScaledVector(We,Math.cos(Nt));for(let At=0;At<=1;At++){let wn=At/1-.5;if(Xe.copy(_e),Xe.addScaledVector(Be,wn),Xe.addScaledVector(xt,o),null!=Ue){let Cn=Math.max(0,Xe.y-Ue);Xe.addScaledVector(Be,-Cn/Be.y)}l.push(Xe.x,Xe.y,Xe.z),c.push(xt.x,xt.y,xt.z),d.push(0,0),0===At&&lt.push(h),h++}}for(let Gt=0;Gt<s;Gt++)for(let Nt=0;Nt<1;Nt++){let At=wt+Nt+2*Gt,wn=At+2,Cn=wn+1,Sn=At+1;a.push(At,wn,Sn),a.push(wn,Cn,Sn)}return[_e.clone().addScaledVector(Be,.5),lt]}function Ce(_e,Be,We,Ve){let Ue=Math.PI/2,nt=Q.angle()-Ue,He=[],tt=new ie,Xe=new ie;for(let rt=0;rt<=s;rt++){let wt=[],lt=rt/s;for(let Gt=0;Gt<=rt;Gt++){let Nt=((rt?Gt/rt:0)-.5)*P,At=Math.cos(Nt),wn=Math.sin(Nt),Sn=(Ue+Math.atan(Math.tan(nt)*At))*lt,Fn=Math.cos(Sn),fn=Math.sin(Sn);tt.set(0,0,0),tt.addScaledVector(Be,fn*At),tt.addScaledVector(We,Fn),tt.addScaledVector(Ve,fn*wn),Xe.copy(_e).addScaledVector(tt,o),l.push(Xe.x,Xe.y,Xe.z),c.push(tt.x,tt.y,tt.z),d.push(0,0),wt.push(h++)}He.push(wt)}let xt=He.length-1;for(let rt=0;rt<xt;rt++){let wt=He[rt],lt=He[rt+1],Gt=wt.length-1;a.push(wt[0],lt[1],lt[0]);for(let Nt=1;Nt<=Gt;Nt++)a.push(wt[Nt-1],wt[Nt],lt[Nt]),a.push(wt[Nt],lt[Nt+1],lt[Nt])}}this.setIndex(a),this.setAttribute("position",new On(l,3)),this.setAttribute("normal",new On(c,3)),this.setAttribute("uv",new On(d,2))}},Bk=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),i=Object.assign(t?.ui??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof xs?e.shape:new xs,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)}),ui:i}}static build(e){let t=e.shape,{width:n,height:i,cornerRadius:r,cornerType:o,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}=e.parameters,c={x:.5*n,y:.5*i},d={x:-c.x,y:-c.y},h={x:c.x,y:c.y};function p(A,H,V){return H>n&&V>i?Math.min(A*n/H,A*i/V):H>n?A*n/H:V>i?A*i/V:A}let g=[];g[0]=0===r[0]?0:p(r[0],r[0]+r[3],r[0]+r[1]),g[1]=0===r[1]?0:p(r[1],r[1]+r[2],r[1]+r[0]),g[2]=0===r[2]?0:p(r[2],r[2]+r[1],r[2]+r[3]),g[3]=0===r[3]?0:p(r[3],r[3]+r[0],r[3]+r[2]);let v=d.x,y=h.x,b=h.y,P=d.y;t.addPoint(t.createPoint(v,b)),t.addPoint(t.createPoint(y,b)),t.addPoint(t.createPoint(y,P)),t.addPoint(t.createPoint(v,P)),t.isClosed=!0;let O=!0;for(let A=0,H=t.points.length;A<H;A++)t.points[A].roundness=g[A],A>0&&g[A]!==g[A-1]&&(O=!1);O&&(t.roundness=g[0]),t.useCubicForRoundedCorners=1!==o,t.update();let S=d0.create({shape:t,parameters:{depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}});return Object.assign(S,{userData:{...e,type:"RectangleGeometry"}})}},T4e=class extends ii{constructor(e=1,t=1,n=1,i=90,r=10,o=24){super(),this.type="BackdropGeometry";let s=[],a=[],l=[],c=.001;0==r&&(o=1),o=Math.max(1,Math.floor(o)),r=Math.min(r,100),i=Math.min(180-c,i),i*=Math.PI/180;let d=[],h=Math.PI/2,p=(xt=0,rt=0,wt=0)=>new ie(xt,rt,wt),g=p(),v=p(),[y,b,P]=[t/2,e/2,n/2],O=-b,S=+b,[A,H,V]=[p(O,-y,+P),p(O,-y,-P),p(O,+y,-P)],Q=(xt,rt=!1)=>Math.sin(xt-Math.PI/(+rt+1)),Y=(xt,rt=!1)=>Math.cos(xt-Math.PI/(+rt+1));V.y=Math.sin(i)*t-y;let ee=Math.cos(i)*t-P,ne=A.z-c;i<=h?(V.z=Math.min(ee,ne),V.z==ne&&(V.y-=(ee-ne)/Math.tan(h-i))):H.z=Math.min(H.z-ee-P,A.z-c),g.subVectors(A,H),v.subVectors(V,H);let ae=Math.min(g.length(),v.length())*r/100,pe=ae*Math.tan(i/2),fe=ae/Math.cos(i/2),ge=g.clone().normalize().add(v.normalize()).setLength(fe).add(H);g.set(0,Q(i,!0),Y(i,!0)),d.push([V,g.clone()]);let Se=(Math.PI-i)/o;for(let xt=0;xt<=o;xt++){let rt=h+i+xt*Se;g.set(0,Math.sin(rt)*pe,Math.cos(rt)*pe),g.add(ge),v.set(0,Q(rt),Y(rt)),d.push([g.clone(),v.clone()])}d.push([A,p(0,1,0)]);let Oe=Math.sin(Se/2)*pe*2,Ce=d.length-1,_e=d[0][0].distanceTo(d[1][0]),We=_e+Oe*o+d[Ce-1][0].distanceTo(d[Ce][0]);d[0].push(1);for(let xt=0;xt<=o;xt++)d[xt+1].push(1-(_e+xt*Oe)/We);d[Ce].push(0);let He,tt,Xe,[Ve,Ue,nt]=d[0];for(let xt=1;xt<d.length;xt++)[He,tt,Xe]=d[xt],s.push(O,Ve.y,Ve.z,O,He.y,He.z,S,Ve.y,Ve.z,S,Ve.y,Ve.z,O,He.y,He.z,S,He.y,He.z),a.push(0,Ue.y,Ue.z,0,tt.y,tt.z,0,Ue.y,Ue.z,0,Ue.y,Ue.z,0,tt.y,tt.z,0,tt.y,tt.z),l.push(0,nt,0,Xe,1,nt,1,nt,0,Xe,1,Xe),[Ve,Ue,nt]=[He,tt,Xe];this.setAttribute("position",new On(s,3)),this.setAttribute("normal",new On(a,3)),this.setAttribute("uv",new On(l,2))}},IY=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof xs?e.shape:new xs,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,innerRadiusPercent:i,spikes:r,cornerRadius:o,angle:s,depth:a,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,d=e.shape,h=.5*t,p=.5*n,y=s*Math.PI/360/r,b=Math.PI/2*3*-1,P=h*i/100,O=p*i/100;if(3===r&&50===i){y=2*Math.PI/r;for(let A=0;A<r;A++){let H=y*A,V=0+Math.sin(H)*h,Q=0+Math.cos(H)*p;d.addPoint(d.createPoint(V,Q))}}else for(let A=0;A<r;A++){let H=0+Math.cos(b)*h,V=0+Math.sin(b)*p;d.addPoint(d.createPoint(H,V)),b+=y,H=0+Math.cos(b)*P,V=0+Math.sin(b)*O,d.addPoint(d.createPoint(H,V)),b+=y}d.isClosed=!0;for(let A=0,H=d.points.length;A<H;A++)d.points[A].roundness=o;d.roundness=o,d.update();let S=d0.create({shape:d,parameters:{roundness:o,depth:a,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(S,{userData:{...e,type:"StarGeometry"}})}},W4e_hexStringToRgb=function G4e(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,r,o,s)=>String(r+r+o+o+s+s));let n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},It=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+It.version}static addUnaryOp(e){return It.max_unop_len=Math.max(e.length,It.max_unop_len),It.unary_ops[e]=1,It}static addBinaryOp(e,t,n){return It.max_binop_len=Math.max(e.length,It.max_binop_len),It.binary_ops[e]=t,n?It.right_associative.add(e):It.right_associative.delete(e),It}static addIdentifierChar(e){return It.additional_identifier_chars.add(e),It}static addLiteral(e,t){return It.literals[e]=t,It}static removeUnaryOp(e){return delete It.unary_ops[e],e.length===It.max_unop_len&&(It.max_unop_len=It.getMaxKeyLen(It.unary_ops)),It}static removeAllUnaryOps(){return It.unary_ops={},It.max_unop_len=0,It}static removeIdentifierChar(e){return It.additional_identifier_chars.delete(e),It}static removeBinaryOp(e){return delete It.binary_ops[e],e.length===It.max_binop_len&&(It.max_binop_len=It.getMaxKeyLen(It.binary_ops)),It.right_associative.delete(e),It}static removeAllBinaryOps(){return It.binary_ops={},It.max_binop_len=0,It}static removeLiteral(e){return delete It.literals[e],It}static removeAllLiterals(){return It.literals={},It}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new It(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(t=>t.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return It.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!It.binary_ops[String.fromCharCode(e)]||It.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return It.isIdentifierStart(e)||It.isDecimalDigit(e)}throwError(e){let t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(It.hooks[e]){let n={context:this,node:t};return It.hooks.run(e,n),n.node}return t}searchHook(e){if(It.hooks[e]){let t={context:this};return It.hooks[e].find(function(n){return n.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===It.SPACE_CODE||e===It.TAB_CODE||e===It.LF_CODE||e===It.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let e=this.gobbleExpressions();return this.runHook("after-all",1===e.length?e[0]:{type:It.COMPOUND,body:e})}gobbleExpressions(e){let n,i,t=[];for(;this.index<this.expr.length;)if(n=this.code,n===It.SEMCOL_CODE||n===It.COMMA_CODE)this.index++;else if(i=this.gobbleExpression())t.push(i);else if(this.index<this.expr.length){if(n===e)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){let e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,It.max_binop_len),t=e.length;for(;t>0;){if(It.binary_ops.hasOwnProperty(e)&&(!It.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!It.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,n,i,r,o,s,a,l;if(o=this.gobbleToken(),!o||(t=this.gobbleBinaryOp(),!t))return o;for(r={value:t,prec:It.binaryPrecedence(t),right_a:It.right_associative.has(t)},s=this.gobbleToken(),s||this.throwError("Expected expression after "+t),i=[o,r,s];t=this.gobbleBinaryOp();){if(n=It.binaryPrecedence(t),0===n){this.index-=t.length;break}r={value:t,prec:n,right_a:It.right_associative.has(t)},l=t;let c=d=>r.right_a&&d.right_a?n>d.prec:n<=d.prec;for(;i.length>2&&c(i[i.length-2]);)s=i.pop(),t=i.pop().value,o=i.pop(),e={type:It.BINARY_EXP,operator:t,left:o,right:s},i.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+l),i.push(r,e)}for(a=i.length-1,e=i[a];a>1;)e={type:It.BINARY_EXP,operator:i[a-1].value,left:i[a-2],right:e},a-=2;return e}gobbleToken(){let e,t,n,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(e=this.code,It.isDecimalDigit(e)||e===It.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===It.SQUOTE_CODE||e===It.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(e===It.OBRACK_CODE)i=this.gobbleArray();else{for(t=this.expr.substr(this.index,It.max_unop_len),n=t.length;n>0;){if(It.unary_ops.hasOwnProperty(t)&&(!It.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!It.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=n;let r=this.gobbleToken();return r||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:It.UNARY_EXP,operator:t,argument:r,prefix:!0})}t=t.substr(0,--n)}It.isIdentifierStart(e)?(i=this.gobbleIdentifier(),It.literals.hasOwnProperty(i.name)?i={type:It.LITERAL,value:It.literals[i.name],raw:i.name}:i.name===It.this_str&&(i={type:It.THIS_EXP})):e===It.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===It.PERIOD_CODE||t===It.OBRACK_CODE||t===It.OPAREN_CODE||t===It.QUMARK_CODE;){let n;if(t===It.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==It.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===It.OBRACK_CODE?(e={type:It.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},this.gobbleSpaces(),t=this.code,t!==It.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===It.OPAREN_CODE?e={type:It.CALL_EXP,arguments:this.gobbleArguments(It.CPAREN_CODE),callee:e}:(t===It.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),e={type:It.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),n&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let t,n,e="";for(;It.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===It.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);It.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(t=this.char,"e"===t||"E"===t){for(e+=this.expr.charAt(this.index++),t=this.char,("+"===t||"-"===t)&&(e+=this.expr.charAt(this.index++));It.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);It.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return n=this.code,It.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(n===It.PERIOD_CODE||1===e.length&&e.charCodeAt(0)===It.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:It.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="",t=this.index,n=this.expr.charAt(this.index++),i=!1;for(;this.index<this.expr.length;){let r=this.expr.charAt(this.index++);if(r===n){i=!0;break}if("\\"===r)switch(r=this.expr.charAt(this.index++),r){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=r}else e+=r}return i||this.throwError('Unclosed quote after "'+e+'"'),{type:It.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(It.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,It.isIdentifierPart(e));)this.index++;return{type:It.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){let t=[],n=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let r=this.code;if(r===e){n=!0,this.index++,e===It.CPAREN_CODE&&i&&i>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}if(r===It.COMMA_CODE){if(this.index++,i++,i!==t.length)if(e===It.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===It.CBRACK_CODE)for(let o=t.length;o<i;o++)t.push(null)}else if(t.length!==i&&0!==i)this.throwError("Expected comma");else{let o=this.gobbleExpression();(!o||o.type===It.COMPOUND)&&this.throwError("Expected comma"),t.push(o)}}return n||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(It.CPAREN_CODE);if(this.code===It.CPAREN_CODE)return this.index++,1===e.length?e[0]:!!e.length&&{type:It.SEQUENCE_EXP,expressions:e};this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:It.ARRAY_EXP,elements:this.gobbleArguments(It.CBRACK_CODE)}}},X4e=new class{add(e,t,n){if("string"!=typeof arguments[0])for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],t&&this[i][n?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(n){n.call(t&&t.context?t.context:t,t)})}};Object.assign(It,{hooks:X4e,plugins:new class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if("object"!=typeof t||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}}(It),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"}),It.max_unop_len=It.getMaxKeyLen(It.unary_ops),It.max_binop_len=It.getMaxKeyLen(It.binary_ops);var q1=e=>new It(e).parse();Object.getOwnPropertyNames(It).forEach(e=>{void 0===q1[e]&&"prototype"!==e&&(q1[e]=It[e])}),q1.Jsep=It;var K4e={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let n=t.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let r=this.gobbleExpression();if(r||this.throwError("Expected expression"),t.node={type:"ConditionalExpression",test:n,consequent:i,alternate:r},n.operator&&e.binary_ops[n.operator]<=.9){let o=n;for(;o.right.operator&&e.binary_ops[o.right.operator]<=.9;)o=o.right;t.node.test=o.right,o.right=t.node,t.node=n}}else this.throwError("Expected :")}})}};function M2(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(r){r(n)}),(i=e.get("*"))&&i.slice().map(function(r){r(t,n)})}}}q1.plugins.register(K4e);var kY=class{constructor(e,t,n){var i=this;this.id=e,this.userAPI=t,this.result=void 0,this.error="null",this.isPrefetched=!1,this.isLoading=!1,this.isLoaded=!1,this.prefetchPromise=new Promise(r=>r()),this.emitter=M2(),this._innerCallUserAPI=function(){var r=(0,si.Z)(function*(o){i.emitter.emit("start",{userAPIId:i.id}),i.isLoading=!0,i.isLoading=!1;try{i.result=yield function nNe(e,t){return zk.apply(this,arguments)}(i.userAPI,o),i.error="null",i.emitter.emit("success",{userAPIId:i.id})}catch(s){let a=s.message?.split("_:_")?.[0]?.replace("status:","")??"null";i.error=a,i.result=null,i.emitter.emit("error",{userAPIId:i.id})}i.isLoading=!1,i.isPrefetched=!0,i.isLoaded=!0});return function(o){return r.apply(this,arguments)}}(),"OpenAI"===t?.integration?.type?this.result={content:""}:"GET"===t.method&&""!==t.url&&(this.prefetchPromise=this.prefetch(n)),this._debouncedCallUserAPI=this._innerCallUserAPI,this._updateDebouncedCallUserAPI(),this._debouncedPrefetch=k_(this.prefetch,1e3,{trailing:!0})}_updateDebouncedCallUserAPI(){this._debouncedCallUserAPI=void 0!==this.userAPI.debounce&&this.userAPI.debounce>0?k_(this._innerCallUserAPI,this.userAPI.debounce,{leading:!0,trailing:!0}):this._innerCallUserAPI}prefetch(e){var t=this;return(0,si.Z)(function*(){yield t.callUserAPI(e)})()}callUserAPI(e){var t=this;return(0,si.Z)(function*(){yield t._debouncedCallUserAPI(e)})()}update(e,t,n=!0){this.userAPI=e,this._updateDebouncedCallUserAPI(),""!==this.userAPI.url&&"GET"===this.userAPI.method&&n&&this._debouncedPrefetch(t)}retrieveValue(e){if(this.result)try{return va.zoom(this.result,e)}catch(t){console.error(t)}}retrieveZoomedKeyValues(e){if(this.result){let t=e&&e.length?va.zoom(this.result,e):this.result;if(function tNe(e){return"object"==typeof e&&null!==e}(t))return Object.entries(t);if(function eNe(e){return Array.isArray(e)}(t))return t.map((n,i)=>[i.toString(),n]);throw function J4e(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||null===e}(t)?new Error("This path points to a value, use retrieveValue() instead. "+e?.join(".")):new Error("Path error"+e?.join("."))}}dispose(){}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}get autostart(){return this.userAPI.autoStart}};function Z4e(e){let t=new Headers;return e.headers.forEach(n=>{""!==n.data.key&&t.append(n.data.key,n.data.value)}),t}function zk(){return zk=(0,si.Z)(function*(e,t,n=new AbortController){let i,r=e.url,o=e.proxy?.enabled??!1;if(o)r=`https://apis.spline.design/file/${e.proxy.fileId}/external-api/request?uuidexternalapi=${e.proxy.proxyId}`;else if("OpenAI"===e.integration?.type){let a=P2(""===e.integration.prompt?[]:JSON.parse(e.integration.prompt),t),l=""===e.integration.behavior?[]:P2(JSON.parse(e.integration.behavior),t);i=`{\n\t\t\t"model": "${e.integration.model}",\n\t\t\t"messages": [${e.integration.useBehavior?`\n\t\t\t{\n\t\t\t\t"role": "system",\n\t\t\t\t"content": "${l}"\n\t\t\t},`:""}\n\t\t\t{\n\t\t\t\t"role": "user",\n\t\t\t\t"content": "${a}"\n\t\t\t}\n\t\t\t]\n\t\t}`}else"POST"===e.method&&e.body&&(i=P2(JSON.parse(e.body),t));let s=yield fetch(r,{method:o?"GET":e.method,headers:o?void 0:Z4e(e),signal:n.signal,body:i});if(!s.ok)throw new Error("status:"+s.status+"_:_"+s.statusText);if("OpenAI"===e.integration?.type){let a=yield s.json();return o&&(a=a.response),{content:a.choices[0].message.content}}{let a=yield s.json();return o&&(a=a.response),a}}),zk.apply(this,arguments)}var RY=(e,t)=>{if("string"==typeof e){let n=t.getVariable(e);if(n)return RY(n,t)}return ol.isBoolean(e)?ol.getDisplayedValue(e).toLowerCase():ol.getDisplayedValue(e)},P2=(e,t)=>e.map((n,i)=>{if("text"in n)return n.text;if("type"in n){if("paragraph"===n.type)return(i>0?"\n":"")+P2(n.children,t);if("variable"===n.type){let r=t.getVariable(n.variableId);if(void 0!==r)return RY(r,t)}}return""}).join(""),iNe=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],rNe=["0","1","2","3","4","5","6","7","8","9","."],oNe=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function sNe(e){return"string"==typeof e&&!isNaN(e)&&!isNaN(parseFloat(e))}function NY(e,t,n="number"){let r,o,i="";for(let s=0;s<e.length;s++){let a=e[s];if("objType"in a&&"api"===a.objType){let l=JSON.parse(a.id),d=t.getUserAPI(l[0]);if(void 0!==d&&d instanceof kY){let h=d.retrieveValue(l.slice(1));void 0!==h&&(i+=h)}}else if("objType"in a&&"webhook"===a.objType){let l=JSON.parse(a.id),[c,d]=l,h=t.getUserWebhook(c);if(void 0!==h){let p=h.getParameterValue(d);void 0!==p&&(i+=p)}}else if("objType"in a&&"aiAssistant"===a.objType){let l=t.openAIRealtime;if("objId"in a&&void 0!==a.objId){let c;if(t.scene.data.objects.traverse((d,h)=>{let p=h.events?.find(g=>g.id===a.objId);p&&(c=p)}),void 0!==c&&"AIAssistantListener"===c.data.type){let d=l?.computeAnalysisForListenerEvent(c.data);if(void 0!==d){i+=d;continue}}}i+=l?.voice??0}else if("id"in a){if(s>0&&"id"in e[s-1])return void console.error("Two variables in a row",e);let c=t.getVariable(a.id),d=ol.getDisplayedValue(c);"number"===n&&ol.isTextValue(c)&&Array.isArray(c.textValue)&&1===c.textValue.length?d=parseFloat(d).toString():"boolean"===n&&ol.isBoolean(c)?d=c?"true":"false":"boolean"===n&&ol.isTextValue(c)&&!Array.isArray(c.textValue)&&(d='"'+d+'"'),i+=d}else"string"!==n?"and"!==a.name?"or"!==a.name?"True"!==a.name?"False"!==a.name?"boolean"!==n||sNe(a.name)||rNe.includes(a.name)||iNe.includes(a.name)||oNe.includes(a.name.replace(/\($/g,""))?i+=a.name:i+='"'+a.name+'"':i+="false":i+="true":i+="||":i+="&&":('"'!==a.name&&("+"!==a.name||a.escaped)&&(i+=a.name),"+"===a.name&&!a.escaped&&"\\"===i[i.length-1]&&(i=i.slice(0,-1)+a.name))}if("string"===n)return i;if(0===e.length){if("number"===n)return 0;if("boolean"===n)return!1}try{r=q1(i)}catch(s){return void console.error(i,s)}try{o=Vr(r)}catch(s){console.error(i,r,s)}return o}function Vr(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return Number(Vr(e.left)===Vr(e.right));case"!=":return Number(Vr(e.left)!==Vr(e.right));case">":return Number(Vr(e.left)>Vr(e.right));case">=":return Number(Vr(e.left)>=Vr(e.right));case"<":return Number(Vr(e.left)<Vr(e.right));case"<=":return Number(Vr(e.left)<=Vr(e.right));case"+":return Vr(e.left)+Vr(e.right);case"-":return Vr(e.left)-Vr(e.right);case"*":return Vr(e.left)*Vr(e.right);case"/":return Vr(e.left)/Vr(e.right);case"%":return Vr(e.left)%Vr(e.right);case"&&":return Vr(e.left)&&Vr(e.right);case"||":return Vr(e.left)||Vr(e.right);case"^":return Math.pow(Vr(e.left),Vr(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-Vr(e.argument);case"!":return Number(!Vr(e.argument));default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if("Identifier"===e.callee.type){if("random"===e.callee.name){let t=0,n=1;if(e.arguments.length>=1)try{t=Vr(e.arguments[0])}catch(i){console.warn(i)}if(e.arguments.length>=2)try{n=Vr(e.arguments[1])}catch(i){console.warn(i)}return t=Math.min(n,t),n=Math.max(n,t),t+Math.random()*(n-t)}return Math[e.callee.name].apply(null,e.arguments.map(Vr))}throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}q1.addBinaryOp("^",11,!0);var aNe=new Kt,lNe=new Kt,hNe=class extends ii{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&1===this.inputs.parameters.extrusion.depth}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&1===e.depth&&function F4e(e,t){let n=2*Math.PI;return(e%n+n)%n==(t%n+n)%n}(e.twist,0)&&e.startScale===e.endScale)}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:n,offset:i}=this.inputs.parameters.extrusion;n=Math.max(0,Math.min(n,1)),i=Math.max(0,Math.min(i,1));let r=this.inputs.path.isClosed?e.length:e.length-1,o=Math.floor(i*r),s=this.inputs.path.isClosed?Math.ceil((n+i)*r):Math.ceil(Math.min(1,n+i)*r),a=Math.min(Math.max(2,s-o+1),r+2),l=[],c=[];for(let Ce=0;Ce<a;Ce++){let _e=this.inputs.path.isClosed?(Ce+o)%e.length:Math.min(Ce+o,e.length-1);l.push(e[_e].clone()),c.push(t[_e].clone())}let d=(Ce,_e,Be)=>{l[Ce]=l[Ce].clone().lerp(l[_e],Be),c[Ce]=function cNe(e,t,n){let i=[new ie,new ie,new ie],r=[new ie,new ie,new ie];return e.extractBasis(i[0],i[1],i[2]),t.extractBasis(r[0],r[1],r[2]),i.forEach((o,s)=>{let a=r[s],l=Ln.lerp(o.length(),a.length(),n);o.lerp(a,n).setLength(l)}),(new Kt).makeBasis(i[0],i[1],i[2])}(c[Ce],c[_e],Be)},h=0,p=i*r%1;(!this.inputs.path.isClosed||n<=1)&&(p||0===i)&&(h=p,d(0,1,h));let g=0,v=(i+n)*r%1;if((this.inputs.path.isClosed&&n<=1||!this.inputs.path.isClosed&&i+n<1)&&v&&(g=v,d(l.length-1,l.length-2,1-g)),0===n){let Ce=l.length-1;l[Ce].copy(l[0]),c[Ce].copy(c[0])}this._applyPathModifiers(c,h,g);let{bevel:y,bevelSides:b}=this.inputs.parameters.extrusion,P=y>0?this.inputs.parameters.extrusion.capType:"flat",O=5;"Custom"===this.inputs.parameters.extrusion.shape.type&&(O="low"===this.inputs.parameters.extrusion.shape.shapeQuality?5:12);let Q,{regions:S,infos:A,vertices:H}=this._computeShapePoints(O),V=0;"round"===P&&(Q=new Ak(this.inputs.shapeData,2*y,y,O,b,void 0,!0),V=Q.getAttribute("position").count);let Y=0,ee=0;A.sort((Ce,_e)=>Ce.start-_e.start),A.forEach(Ce=>{Ce.verticesStart=Y,Ce.verticesCount=Ce.continuous.reduce((_e,Be,We)=>_e+(0!==We&&Be?1:2),0),ee+=Ce.verticesCount,Y=ee});let ae,ne=ee*a,pe=0;if(this._isOpenEnded()&&"flat"===P){try{ae=dm({windingRule:bo.ODD,elementType:Zs.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:S})}catch{ae=yY}pe=ae.vertexCount}let fe=ne+2*pe+2*V,ge=ne+2*pe,Se={positions:new Float32Array(3*fe),normals:new Float32Array(3*fe),uvs:new Float32Array(2*fe)},Oe=[];if(A.forEach(Ce=>{this._extrudeRegion(Ce,H,c,l,Se,Oe,this._isGeometryClosed()&&!this._isOpenEnded())}),ae&&(this._closeEnd(ae,ne,Oe,Se,c[0],l[0],!1),this._closeEnd(ae,ne+pe,Oe,Se,c[c.length-1],l[l.length-1],!0)),Q){Se.positions.set(Q.getAttribute("position").array,3*ge),Se.normals.set(Q.getAttribute("normal").array,3*ge),Se.uvs.set(Q.getAttribute("uv").array,2*ge);for(let We=ge;We<ge+V;We++)Se.uvs[2*We+1]=1e-4;let Ce=Oe.length;Oe.push(...Q.getIndex().array.map(We=>We+ge)),ge+=V,Se.positions.set(Q.getAttribute("position").array,3*ge),Se.normals.set(Q.getAttribute("normal").array,3*ge),Se.uvs.set(Q.getAttribute("uv").array,2*ge);let _e=Oe.length;Oe.push(...Q.getIndex().array.map(We=>We+ge)),this.setAttribute("position",new Mi(Se.positions,3)),this.setAttribute("normal",new Mi(Se.normals,3)),this.setAttribute("uv",new Mi(Se.uvs,2)),this.setIndex(Oe);let Be=aNe;Be.copy(c[c.length-1]).setPosition(l[l.length-1]),this.applyMatrix4OnRange(Be,ge,fe),Be.copy(c[0]).setPosition(l[0]).multiply(lNe.makeScale(1,1,-1)),this.applyMatrix4OnRange(Be,ge-V,ge),this.reverseIndicesOnRange(Ce,_e)}else this.setAttribute("position",new Mi(Se.positions,3)),this.setAttribute("normal",new Mi(Se.normals,3)),this.setAttribute("uv",new Mi(Se.uvs,2)),this.setIndex(Oe)}_extractPathPoints(){let e=Jq(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(n=>{t[t.length-1].distanceToSquared(n)>.001&&t.push(n)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],n=e.length,i=this.inputs.path.isClosed,r=new ie,o=new ie,s=new ie,a=new ie,l=new ie(0,1,0);for(let v=0;v<n;v++){let b,P,y=e[v];b=0===v?i?e[e.length-2]:y.clone().multiplyScalar(2).sub(e[1]):e[v-1],P=v===n-1?i?e[1]:y.clone().multiplyScalar(2).sub(e[v-1]):e[v+1];let O=y.clone().sub(b).normalize(),S=P.clone().sub(y).normalize(),A=O.clone().add(S).normalize();s.copy(A),0===v&&(A.equals(l)||A.clone().negate().equals(l))&&l.set(0,0,1);let H=l.clone().cross(A).normalize(),V=A.clone().cross(H).normalize();l.copy(V),a.copy(H),0===v&&(r.copy(V),o.copy(A));let Q=(new Kt).makeBasis(H,V,A);t.push(Q)}let c=i?o:s,d=i?r:new ie(0,1,0),h=c.clone().cross(a).normalize(),p=Math.acos(d.dot(h));if(isNaN(p))return t;let g=d.clone().cross(h);c.dot(g)>0&&(p*=-1);for(let v=1;v<t.length;v++){let y=(new Kt).makeRotationZ(p*v/t.length);t[v].multiply(y)}return t}_applyPathModifiers(e,t,n){let i=e.length,{angle:r,twist:o,startScale:s,endScale:a}=this.inputs.parameters.extrusion,l=new Kt,c=new Kt;return e.forEach((d,h)=>{let p=0===h?0:h===i-1?1:(h-t)/(i-(0===n?0:1)-(t+(1-n)));l.makeRotationZ(Ln.lerp(r,r+o,p)*Ln.DEG2RAD);let g=Ln.lerp(s,a,p);c.makeScale(g,g,g),d.multiply(l).multiply(c)}),e}_computeShapePoints(e=12,t=bo.ODD){let o,s,n=this.inputs.shapeData,i=n.extractShapePointsToFlatArray([],e),r=n.shapeHoles.map(g=>{let v=g.extractShapePointsToFlatArray([],e),y=[];for(let b=v.length-1;b>=1;b-=2)y.push(v[b-1],v[b-0]);return y});try{o=dm({windingRule:t,elementType:Zs.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[i]})}catch{o=Ek}try{s=dm({windingRule:bo.ODD,elementType:Zs.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...r]})}catch{s=vY}if(!o)throw new Error("error generating geometry");let a=o.elementCount;if(s){o.elementCount+=s.elementCount;for(let g=0;g<s.elements.length;g++)o.elements.push(s.elements[g]+(g%2==0?o.vertexCount:0));for(let g=0;g<s.vertexIndices.length;g++)o.vertexIndices.push(s.vertexIndices[g]+o.vertexCount);for(let g=0;g<s.vertices.length;g++)o.vertices.push(s.vertices[g])}let l=1/0,c=-1/0,d=1/0,h=-1/0;for(let g=0,v=o.vertexCount;g<v;g++){let y=2*g,b=o.vertices[y+0],P=o.vertices[y+1];b<l&&(l=b),b>c&&(c=b),P<d&&(d=P),P>h&&(h=P)}let p=[];for(let g=o.elementCount-1;g>=0;g--){let v=g>=a,y=2*g,b=o.elements[y+0],P=o.elements[y+1],O=b+P,S={start:b,count:P,normals:[],isHole:v,continuous:[],verticesStart:0,verticesCount:0};p.push(S);let A=b,H=O-1,V=b+1,Q=n.roundedCurves.length;do{let Y=A-b,ae=o.vertices[2*A+0],pe=o.vertices[2*A+1],fe=o.vertices[2*V+0],ge=o.vertices[2*V+1],Se=ae-o.vertices[2*H+0],Oe=pe-o.vertices[2*H+1],Ce=Math.sqrt(Se*Se+Oe*Oe);Se/=Ce,Oe/=Ce;let _e=ae-fe,Be=pe-ge,We=Math.sqrt(_e*_e+Be*Be);_e/=We,Be/=We,S.normals[2*Y+0]=-Be,S.normals[2*Y+1]=_e;let Ve=o.vertexIndices[A];if(Array.isArray(Ve))S.continuous[Y]=!1;else{let[Ue,nt]=n.getCurveIndexFromVertexId(Ve-1,!0);if(nt>0&&nt<1)S.continuous[Y]=!0;else{let He=1===nt?Ue+1:Ue-1;He=(He+Q)%Q;let tt=1===nt?0:1,Xe=n.roundedCurves[Ue].getTangent(nt),xt=n.roundedCurves[He].getTangent(tt);S.continuous[Y]=Xe.dot(xt)>.95}}v&&(S.normals[2*Y+0]*=-1,S.normals[2*Y+1]*=-1),[H,A,V]=[A,V,V+1],V>=O&&(V-=P)}while(V!==b+1)}return{regions:[i,...r],infos:p,vertices:o.vertices}}_insertVertex(e,t,n,i,r){let o=2*t,s=3*t;e.positions[s+0]=n.x,e.positions[s+1]=n.y,e.positions[s+2]=n.z,e.normals[s+0]=i.x,e.normals[s+1]=i.y,e.normals[s+2]=i.z,e.uvs[o+0]=r.x,e.uvs[o+1]=r.y}_extrudeRegion(e,t,n,i,r,o,s){let a=new ie,l=new ie,c=new ie,d=new ie,h=new qe;n.forEach((g,v)=>{let y=i[v],b=e.verticesStart*n.length+e.verticesCount*v;for(let P=0;P<e.count;P++){let O=2*(e.start+P);if(a.set(t[O+0],t[O+1],0),c.copy(a).applyMatrix4(g).add(y),e.continuous[P])d.set(e.normals[2*P+0],e.normals[2*P+1],0);else{let S=0===P?2*(e.start+e.count-1):O-2;l.set(t[S+0],t[S+1],0),d.copy(a).sub(l),d.set(-d.y,d.x,0),e.isHole||d.negate()}if(d.applyMatrix4(g).normalize(),h.set(0===P?1:P/e.count,v/(n.length-1)),this._insertVertex(r,b,c,d,h),b++,!e.continuous[P]||0===P){if(0===P)d.set(e.normals[2*P+0],e.normals[2*P+1],0),h.set(0,v/(n.length-1));else{let S=P===e.count-1?2*e.start:O+2;l.set(t[S+0],t[S+1],0),d.copy(l).sub(a),d.set(-d.y,d.x,0),e.isHole||d.negate()}d.applyMatrix4(g).normalize(),this._insertVertex(r,b,c,d,h),b++}}});let p=n.length-1;for(let g=0;g<p;g++){let v=e.verticesStart*n.length+e.verticesCount*g,y=e.verticesStart*n.length+e.verticesCount*(g+1),b=0;for(let P=0;P<e.count;P++){(!e.continuous[P]||0===P)&&b++;let O=P===e.count-1?0:b+1,S=v+b,A=v+O,H=y+O,V=y+b;e.isHole?o.push(S,H,A,S,V,H):o.push(S,A,H,S,H,V),b++}}}_closeEnd(e,t,n,i,r,o,s){let a=e.vertexCount,l=new ie(0,0,s?-1:1).applyMatrix4(r),c=new ie,d=new qe;for(let p=0;p<a;p++){let g=2*p;c.set(e.vertices[g+0],e.vertices[g+1],0).applyMatrix4(r).add(o),this._insertVertex(i,t+p,c,l,d)}let h=e.elements;for(let p=0;p<e.elementCount;p++){let g=3*p;n.push(h[g+0]+t,h[g+(s?1:2)]+t,h[g+(s?2:1)]+t)}}applyMatrix4OnRange(e,t,n){let o,s,a,l,i=e.elements,r=(new $s).getNormalMatrix(e).elements,c=this.attributes.position,d=this.attributes.normal;if(!c||!d)return;let h=c.array,p=d.array,g=c.itemSize;for(let v=t*g,y=n*g;v<y;v+=g)o=h[v+0],s=h[v+1],a=h[v+2],l=1/(i[3]*o+i[7]*s+i[11]*a+i[15]),h[v+0]=(i[0]*o+i[4]*s+i[8]*a+i[12])*l,h[v+1]=(i[1]*o+i[5]*s+i[9]*a+i[13])*l,h[v+2]=(i[2]*o+i[6]*s+i[10]*a+i[14])*l,o=p[v+0],s=p[v+1],a=p[v+2],p[v+0]=r[0]*o+r[3]*s+r[6]*a,p[v+1]=r[1]*o+r[4]*s+r[7]*a,p[v+2]=r[2]*o+r[5]*s+r[8]*a;c.needsUpdate=!0,d.needsUpdate=!0}reverseIndicesOnRange(e,t){let n=this.index;if(n){for(let i=e;i<t;i+=3){let r=n.getX(i),o=n.getX(i+1),s=n.getX(i+2);n.setXYZ(i,s,o,r)}n.needsUpdate=!0}}};function LY(){let e=new ii;return e.setAttribute("position",new Mi(new Float32Array([]),3)),e.setIndex(new Mi(new Uint16Array([]),1)),e}var FY,O2,uNe=LY().attributes,Uk=class extends ii{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,uNe),this.userData={parameters:e,type:"TextGeometry"};let n=t.getFont(e.font);n?.isLoaded?(this.font=n,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t?.requestRender()})}updateFont(e,t){var n=this;return(0,si.Z)(function*(){let i=t.getFont(e);i&&(n.font=i,yield i.loadingPromise)})()}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!t?.isLoaded)return void console.warn("Cannot update text because its font is not loaded");let{width:n,height:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s,text:a,textTransform:l}=e,c=ol.getDisplayedValue(a),h=function mNe(e,t,n){let i=[""],r="";for(let o of n)r+=o," "===o||"\n"===o?(i[i.length-1]+=r,r="","\n"===o&&i.push("")):t.getTextWidth(i[i.length-1]+r,e)>e.width&&(i[i.length-1].length&&i.push(""),t.getTextWidth(i[i.length-1]+r,e)>e.width&&(1===r.length?(i[i.length-1]+=r,r=""):(i[i.length-1]+=r.slice(0,-1),r=r[r.length-1],i.push(""))));return i[i.length-1]+=r,i}(e,t,2===l?c.toUpperCase():3===l?c.toLowerCase():c),{shapes:p,charWidths:g,charCoords:v}=t.generateShapes(h,e),y=.5*("number"==typeof n?n:1),b=.5*("number"==typeof i?i:1),P=p.map(A=>(new xs).fromShape(A,!0));this.vectorShapes=P;let O=P.map(A=>d0.create({shape:A,parameters:{depth:r,extrudeBevelSegments:s,extrudeBevelSize:o,windingRule:r<=0?bo.NONZERO:bo.ODD,subdivisions:this.isLowResolution&&r>0?1:12}})),S=O.length?o0(O):LY();S.translate(-y,b,0),this.dispose(),this.wrappedText=h,this.charCoords=v,this.charWidths=g,this.deleteAttribute("extrudeNormal"),Object.entries(S.attributes).forEach(([A,H])=>{this.setAttribute(A,H)}),this.setIndex(S.index),this.computeBoundingSphere()}clone(){let e=Ad(new ii,Uk.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,n])=>{this.setAttribute(t,n)}),this.setIndex(e.index),this.userData={parameters:{...e.userData.parameters},type:"TextGeometry"},this}setText(e){var t=this;return(0,si.Z)(function*(){t.font&&(yield t.font.loadingPromise),yield t.update({...t.userData.parameters,text:{textValue:e}})})()}get text(){return this.userData.parameters.text??""}},BY=new Promise(e=>{FY=e}),zY=!1;function gNe(){if(!zY)return O2||(O2=function e(){return t.apply(this,arguments)}(),O2);function t(){return(t=(0,si.Z)(function*(){let i=m.e(526).then(m.bind(m,526)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/modelling-wasm@1.9.39/build/process.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});FY(a),zY=!0})).apply(this,arguments)}}var vNe=["font"];function cx(e,t,n,i){let r,o,s;"PathGeometry"===e.type?(o=JSON.parse(JSON.stringify(e)),s=[[],["extrusion"]]):(o={...e},s=[[]]);for(let c of s){let d=o;for(let h of c)d=d[h];for(r in d){let h=d[r];JW(h)&&!vNe.includes(r)&&(d[r]=t.getVariable(h,[i.uuid,"geometry",...c,r]),JW(d[r])&&(d[r]=1))}}let l,a={parameters:o,type:o.type};if("PathGeometry"===o.type)a.path=o.path;else if("VectorGeometry"===o.type){let c=xs.createFromState(o.shape,o.width,o.height);a.shape=c}else if("NonParametricGeometry"===o.type){if(o.data.groups&&o.data.groups?.forEach(c=>c.materialIndex=Math.max(c.materialIndex??0,0)),a.geometry=(new gH).parse(o),0===a.geometry.groups.length){let c=a.geometry;c.addGroup(0,Math.max(c.getIndex()?.count??0,c.getAttribute("position").count),0)}}else{if("SubdivGeometry"===o.type){let c=new ql(o,n);return c.data=e,c}if("TextGeometry"===o.type)return new Uk(o,t);if("InputGeometry"===o.type)return new Uk(o,t);if("UIGeometry"===o.type)return Bk.create({parameters:{width:o.width,height:o.height,cornerRadius:o.cornerRadius,cornerType:o.cornerType}})}try{l=XY(a)}catch(c){console.error(c)}if(!l){let c=xs.createFromState(GP.defaultData(),100,100);a.shape=c,l=XY(a)}return l}var yNe=new Kt;function jk(e,t,n,i){let a,l,c,r=e.position.array,o=e.normal.array,s=yNe.makeScale(t,n,i).invert().elements;for(var d=0,h=r.length;d<h;d+=3)r[d]*=t,r[d+1]*=n,r[d+2]*=i,a=o[d],l=o[d+1],c=o[d+2],o[d]=s[0]*a+s[4]*l+s[8]*c,o[d+1]=s[1]*a+s[5]*l+s[9]*c,o[d+2]=s[2]*a+s[6]*l+s[10]*c;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var bi,S2=new As,Y1=new ie;BY.then(e=>{bi=e});var UY=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),jY=new Uint32Array([0,1,2,3]),VY=new Uint8Array([4]),ql=class extends ii{constructor(e,t){super(),this.data=e,this.flatShading=t,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(e,t){this.freeSubdivPointer();let i=$g.div(t,this.data.scaleBaked);this.subdividedGeometry&&jk(this.subdividedGeometry.attributes,...i),this.originalGeometry&&jk(this.originalGeometry.attributes,...i),this.data=e;let r=this.userData.parameters;this.userData.parameters={width:r.width*i[0],height:r.height*i[1],depth:r.depth*i[2]},this.originalGeometry.boundingSphere.center.multiply(Y1.fromArray(i));let o=Y1.set(r.width,r.height,r.depth).length();this.originalGeometry.boundingSphere.radius=o/2}ensureSubdivPointer(){return 0===this.subdivPointer&&this.rebuild(),this.subdivPointer}rebuild(){let e,t,n;try{({originalGeometry:e,subdividedGeometry:t,subdivPointer:n}=ql.build(this.data,void 0,!this.flatShading,void 0))}catch{e=new dh(100,100,100),n=0}this.subdivPointer=n,this.originalGeometry=e,this.subdividedGeometry=t??void 0,Object.assign(this,this.subdividedGeometry??this.originalGeometry),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(ql.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let e=this.originalGeometry;null===e.boundingSphere&&(e.boundingSphere=new gc,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let n=e.boundingSphere.center;S2.setFromBufferAttribute(e.attributes.position),S2.getCenter(n),e.boundingSphere.radius=n.distanceTo(S2.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),S2.getSize(Y1);let i={width:Y1.x,height:Y1.y,depth:Y1.z};return this.userData.parameters=i,i}static build(e,t,n,i){let r,o,s,a=e?.phongAngle??35;!1===n&&(a=-1),t&&(bi.free_bvh(t),bi.free_subdivision_surface(t));try{r=ql.allocate(e,i)}catch(l){console.error(l,e),r=ql.allocate({positionWASM:UY,indexWASM:jY,verticesPerFaceWASM:VY},i)}if(bi.set_destination_refinement_level(r,0),o=ql.buildLevel(r,!0,a),e.subdivisions>0)try{bi.set_destination_refinement_level(r,e.subdivisions),s=ql.buildLevel(r,!1,a)}catch{try{bi.set_destination_refinement_level(r,e.subdivisions-1),s=ql.buildLevel(r,!1,a)}catch{s=null}}else s=null;return{subdivPointer:r,originalGeometry:o,subdividedGeometry:s}}static primitiveToQuads(e,t,n){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),"DodecahedronGeometry"===e.type&&(e.detail=0);let r,o,s,a,l,c,i=void 0!==e.shape||void 0!==e.path?t.geometry:cx(e,n,!1);if(r="TorusGeometry"===e.type&&e.arc===2*Math.PI?i.getClosedTorusIndicesForBooleanOrSubdiv():i.getIndex(),({positions:o,triIndices:l}=E2(i.getAttribute("position"),r)),"CylinderGeometry"===e.type&&0===e.cornerRadius&&0===e.hollow&&!1===e.openEnded){let d=e.radialSegments*e.heightSegments*3*2;c=[d,d+3*e.radialSegments]}return({indices:s,verticesPerFace:a}=GY(o,l,i,c)),{positions:o,indices:s,verticesPerFace:a}}static allocate(e,t){let n,i,r,o=[],s=[];e.positionWASM&&e.positionWASM.length>0?(n=e.positionWASM,i=e.indexWASM,r=e.verticesPerFaceWASM):(n=UY,i=jY,r=VY);let O,a=n.length,l=i.length,c=r.length,d=n.length+o.length+s.length,h=i.length+r.length,p=d*Float32Array.BYTES_PER_ELEMENT+h*Uint32Array.BYTES_PER_ELEMENT,g=d*Float32Array.BYTES_PER_ELEMENT,y=(Uint32Array,bi._malloc(p)),b=new Float32Array(bi.HEAPF32.buffer,y,d),P=new Uint32Array(bi.HEAPU32.buffer,y+g,h);b.set(n,0),b.set(o,n.length),b.set(s,n.length+o.length),P.set(i,0),P.set(r,i.length),e?.scaleBaked?.some(A=>1!==A)&&(O=(new Kt).makeScale(...e.scaleBaked)),t&&(O?O.premultiply(t):O=t);let S=O?bi.alloc_subdivision_surface2(y,a,y+g,l,y+g+i.length*Uint32Array.BYTES_PER_ELEMENT,c,O.elements):bi.alloc_subdivision_surface(y,a,y+g,l,y+g+i.length*Uint32Array.BYTES_PER_ELEMENT,c);return bi._free(y),S}static buildLevel(e,t,n,i,r){let o=r?bi.get_mesh_data2(e,t?bi.Level.CONTROL:bi.Level.REFINED,n,r.elements):bi.get_mesh_data(e,t?bi.Level.CONTROL:bi.Level.REFINED,n),a=bi.HEAPU32.subarray(o>>2,8+(o>>2)),l=a.subarray(4,8),c=0,d=bi.HEAPU32[a[c]>>2],h=bi.HEAPF32.subarray(d>>2,(d>>2)+l[c]);c++;let p=bi.HEAPU32[a[c]>>2],g=bi.HEAPF32.subarray(p>>2,(p>>2)+l[c]);c++;let v=bi.HEAPU32[a[c]>>2],y=bi.HEAPU32.subarray(v>>2,(v>>2)+l[c]);c++;let b=bi.HEAPU32[a[c]>>2],P=bi.HEAPU32.subarray(b>>2,(b>>2)+l[c]);if(c++,void 0===i){let O=new ii;if(O.setIndex(new $v(P,1)),O.setAttribute("position",new On(h,3)),O.setAttribute("normal",new On(g,3)),t){O.setAttribute("faceMap",new $v(y,1));let S=new Float32Array(g.length/3*4).fill(0);O.setAttribute("color",new Mi(S,4))}return bi.free_mesh_data(o),O.userData.type="SubdivGeometry",O}i.getAttribute("position").copyArray(h),i.getAttribute("normal").copyArray(g),i.attributes.position.needsUpdate=!0,i.attributes.normal.needsUpdate=!0,bi.free_mesh_data(o)}static freeSubdivPointer(e){bi.free_bvh(e),bi.free_subdivision_surface(e)}static buildControlCageWireframe(e,t,n){let i=bi.get_wireframe_data_for_base_level(e),o=bi.HEAPU32.subarray(i>>2,4+(i>>2)),s=o.subarray(2,4),a=0,l=bi.HEAPU32[o[a]>>2],c=bi.HEAPF32.subarray(l>>2,(l>>2)+s[a]);a++;let d=bi.HEAPU32[o[a]>>2],h=bi.HEAPU32.subarray(d>>2,(d>>2)+s[a]);if(void 0===t){let p=new ii;p.setAttribute("position",new On(c,3));let g=new Float32Array(c.length);for(let v=0,y=c.length;v<y;)g[v++]=n.r,g[v++]=n.g,g[v++]=n.b;return p.setAttribute("color",new Mi(g,3)),p.setIndex(new $v(h,1)),bi.free_wireframe_data_for_base_level(i),p}t.getAttribute("position").copyArray(c),t.attributes.position.needsUpdate=!0,bi.free_wireframe_data_for_base_level(i)}static updateCollabMesh(e,t,n){let i=0===t;i||bi.set_destination_refinement_level(e,t);let r=n?bi.get_topological_data2(e,i?bi.Level.CONTROL:bi.Level.REFINED,n.elements):bi.get_topological_data(e,i?bi.Level.CONTROL:bi.Level.REFINED),s=bi.HEAPU32.subarray(r>>2,6+(r>>2)),a=s.subarray(3,6),l=0,c=bi.HEAPU32[s[l]>>2],d=new Float32Array(bi.HEAPF32.subarray(c>>2,(c>>2)+a[l]));l++;let h=bi.HEAPU32[s[l]>>2],p=new Uint32Array(bi.HEAPU32.subarray(h>>2,(h>>2)+a[l]));l++;let g=bi.HEAPU32[s[l]>>2],v=new Uint8Array(bi.HEAPU32.subarray(g>>2,(g>>2)+a[l]));return bi.free_topological_data(r),{positions:d,indices:p,verticesPerFace:v}}},HY=["getX","getY","getZ"];function E2(e,t){let n={},i=t?t.count:e.count,r=0,o=[],s=[];for(let c=0;c<i;c++){let d=t?t.getX(c):c,h="";for(let p=0;p<3;p++)h+=~~(1e4*e[HY[p]](d))+",";if(h in n)o.push(n[h]);else{for(let p=0;p<3;p++)s.push(e[HY[p]](d));n[h]=r,o.push(r),r++}}let l=[];for(let c=0;c<o.length;c+=3)o[c]===o[c+1]||o[c]===o[c+2]||o[c+1]===o[c+2]||l.push(o[c],o[c+1],o[c+2]);return{positions:s,triIndices:l}}var D2=new ie,Vk=new ie,Hk=new ie,Gk=new ie;function GY(e,t,n,i){let r=[],o=[];if(void 0!==n.userData.shape&&0===n.userData.parameters.depth&&0===n.userData.shape.shapeHoles.length){let l=n.userData.shape.extractShapePointsToFlatArray([]),c=n.userData.parameters.spikes;if("EllipseGeometry"===n.userData.type&&c<=24&&c%4==0&&n.userData.parameters.angle>=360){let p=l.length/2/c;l=l.filter((g,v)=>Math.floor(v/2)%p==0)}let d=0;for(let p=0;p<l.length;p+=2)d+=(l[p]-l[(0===p?l.length:p)-2])*(l[p+1]+l[(0===p?l.length:p)-1]);e.length=0;let h=0;if(d<0)for(let p=0;p<l.length;p+=2)e.push(l[p],l[p+1],0),r.push(h++);else for(let p=l.length-2;p>=0;p-=2)e.push(l[p],l[p+1],0),r.push(h++);return o.push(h),{indices:r,verticesPerFace:o}}let s=new Float32Array([n.userData.parameters.depth])[0],a=0;for(;a<t.length;){if(n.useNgonForTopBottomFaceDuringBake){let l=0;if((e[3*t[a]+2]===s||0===e[3*t[a]+2])&&l++,(e[3*t[a+1]+2]===s||0===e[3*t[a+1]+2])&&l++,(e[3*t[a+2]+2]===s||0===e[3*t[a+2]+2])&&l++,3===l)break}if(t[a+1]===t[a+3]&&t[a+2]===t[a+5]||t[a+0]===t[a+3]&&t[a+2]===t[a+4]){D2.set(e[3*t[a]],e[3*t[a]+1],e[3*t[a]+2]),Vk.set(e[3*t[a+1]],e[3*t[a+1]+1],e[3*t[a+1]+2]),Hk.set(e[3*t[a+4]],e[3*t[a+4]+1],e[3*t[a+4]+2]),Gk.set(e[3*t[a+5]],e[3*t[a+5]+1],e[3*t[a+5]+2]),Vk.sub(D2).normalize(),Hk.sub(D2).normalize(),Gk.sub(D2).normalize();let l=Vk.cross(Hk).dot(Gk);Math.abs(l)>.005||i&&i.some((c,d)=>d%2!=1&&a>=i[d]&&a<i[d+1])?(r.push(t[a],t[a+1],t[a+2]),o.push(3),a+=3):(r.push(t[a],t[a+1],t[a+4],t[a+5]),o.push(4),a+=6)}else r.push(t[a],t[a+1],t[a+2]),o.push(3),a+=3}if(n.useNgonForTopBottomFaceDuringBake){let l=[],c=[],d=0;for(let h=0,p=0;h<e.length;h+=3,p++)0===e[h+2]&&(l.push(p),d++),e[h+2]===s&&c.push(p);if(0===n.userData.parameters.extrudeBevelSize){let h=c[0];c[0]=c[1],c[1]=h}l.reverse(),r.push(...l,...c),o.push(d,d)}return{indices:r,verticesPerFace:o}}var Bp={};((e,t)=>{for(var n in t)aM(e,n,{get:t[n],enumerable:!0})})(Bp,{calcBoolean:()=>CNe,calcBooleanTopological:()=>wNe,freeMeshSet:()=>SNe,getMeshSet:()=>MNe,hasOpenEdges:()=>PNe,transformMeshSet:()=>ONe});var WY,A2,fr,X1,bNe=new Promise(e=>{WY=e});function _Ne(){if(A2)return A2;function t(){return(t=(0,si.Z)(function*(){let i=m.e(226).then(m.bind(m,6226)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/boolean-wasm@1.9.39/build/boolean.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});WY(a)})).apply(this,arguments)}return A2=function e(){return t.apply(this,arguments)}(),A2}function qY(e){let t=e.length,n=t*Uint32Array.BYTES_PER_ELEMENT,i=t*Float32Array.BYTES_PER_ELEMENT,r=Number.isInteger(e[0])?n:i,o=fr._malloc(r);return(Number.isInteger(e[0])?new Uint32Array(fr.HEAPU32.buffer,o,t):new Float32Array(fr.HEAPF32.buffer,o,t)).set(e,0),o}function YY(e){switch(e){case 0:return fr.OP.UNION;case 1:return fr.OP.INTERSECTION;case 2:return fr.OP.A_MINUS_B;case 3:return fr.OP.B_MINUS_A;case 4:return fr.OP.SYMMETRIC_DIFFERENCE;case 5:return fr.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function wNe(e,t){void 0===X1&&(X1=fr.init_csg());let n=qY(e),i=fr.csg_calc_topological(X1,n,e.length,YY(t));fr._free(n);let o=fr.HEAPU32.subarray(i>>2,6+(i>>2)),s=o.subarray(3,6),a=0,l=fr.HEAPU32[o[a]>>2],c=new Float32Array(fr.HEAPF32.subarray(l>>2,(l>>2)+s[a]));a++;let d=fr.HEAPU32[o[a]>>2],h=new Uint32Array(fr.HEAPU32.subarray(d>>2,(d>>2)+s[a]));a++;let p=fr.HEAPU32[o[a]>>2],g=new Uint8Array(fr.HEAPU32.subarray(p>>2,(p>>2)+s[a]));return fr.free_mesh_data(i),{positions:c,indices:h,verticesPerFace:g}}function CNe(e,t,n,i){void 0===X1&&(X1=fr.init_csg());let r=qY(e),o=fr.csg_calc(X1,r,e.length,i,YY(t));fr._free(r);let a=fr.HEAPU32.subarray(o>>2,5+(o>>2)),l=a.subarray(2,5),c=0,d=fr.HEAPU32[a[c]>>2],h=fr.HEAPF32.subarray(d>>2,(d>>2)+l[c]);c++;let p=fr.HEAPU32[a[c]>>2],g=fr.HEAPF32.subarray(p>>2,(p>>2)+l[c]);c++;let v=l[c];n.setAttribute("position",new On(h,3)),n.setAttribute("normal",new On(g,3));let y=fr.HEAPF32.subarray(5+(o>>2),5+(o>>2)+6);return null===n.boundingSphere&&(n.boundingSphere=new gc),n.boundingSphere.center.set(y[0],y[1],y[2]),n.boundingSphere.radius=(y[3]**2+y[4]**2+y[5]**2)**.5,n.userData.parameters={width:2*y[3],height:2*y[4],depth:2*y[5]},fr.free_mesh_data(o),v}function MNe(e,t,n){if(void 0===fr)return-1;let i,r,o;if(t&&void 0!==e.userData.positions){let P=e.userData;o=P.verticesPerFace.length,i=P.positions,r=Array(P.verticesPerFace.reduce((O,S)=>O+S,0)+o);for(let O=0,S=0,A=0;O<P.verticesPerFace.length;O++){r[A++]=P.verticesPerFace[O];for(let H=0;H<P.verticesPerFace[O];H++)r[A++]=P.indices[S++]}}else({positions:i,faceIndices:r,nFaces:o}=function xNe(e,t,n){let i,r;r="TorusGeometry"===e.userData.parameters.type&&e.userData.parameters.arc===2*Math.PI?e.getClosedTorusIndicesForBooleanOrSubdiv():e.getIndex();let a,{positions:o,triIndices:s}=E2(e.getAttribute("position"),r);if(t&&n){let{indices:l,verticesPerFace:c}=GY(o,s,e);a=c.length,i=[];for(let d=0,h=0;d<a;d++){i.push(c[d]);for(let p=0;p<c[d];p++)i.push(l[h++])}}else{let l=s.length;i=Array(l+l/3),a=0;for(let c=0,d=0;d<i.length;)i[d++]=3,a++,i[d++]=s[c++],i[d++]=s[c++],i[d++]=s[c++]}return{positions:o,faceIndices:i,nFaces:a}}(e,t,n));let s=i.length,a=r.length,l=i.length,c=r.length,d=l*Float32Array.BYTES_PER_ELEMENT+c*Uint32Array.BYTES_PER_ELEMENT,h=l*Float32Array.BYTES_PER_ELEMENT,g=(Uint32Array,fr._malloc(d)),v=new Float32Array(fr.HEAPF32.buffer,g,l),y=new Uint32Array(fr.HEAPU32.buffer,g+h,c);v.set(i,0),y.set(r,0);let b=fr.get_csg_mesh(g,s,g+h,a,o);return fr._free(g),b}function PNe(e){return fr.has_open_edges(e)}function ONe(e,t){fr.transform_csg_mesh(e,t.elements)}function SNe(e){fr.free_csg_mesh(e)}bNe.then(e=>fr=e);var ENe={ConeGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return n.thetaLength=Ln.clamp(n.thetaLength,0,360),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let p,{width:t,depth:n,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l,cornerRadiusTop:c,cornerRadiusBottom:d,cornerSegments:h}=e.parameters;return 0===l?(p=new ii,p.setAttribute("position",new On([],3))):p=c>0||d>0||l<360?new nY(0,t/2,i,r,o,s,a,l*Math.PI/180,c,d,h,0,!0):new l3(t/2,i,r,o,s),p.scale(1,1,n/t),Object.assign(p,{userData:{...e,type:"ConeGeometry"}})}},CubeGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let c,{width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:s,cornerRadius:a,cornerSegments:l}=e.parameters;return c=0===a?new dh(t,n,i,r,o,s):new LRe(t,n,i,r,o,s,a,l),Object.assign(c,{userData:{...e,type:"CubeGeometry"}})}},CylinderGeometry:eY,DodecahedronGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,detail:r,corner:o,cornerSides:s}=e.parameters,a=0===r&&0!==o?new iY(.5*t,o,s):new $V(.5*t,r);return a.scale(1,n/t,i/t),Object.assign(a,{userData:{...e,type:"DodecahedronGeometry"}})}},EllipseGeometry:Tk,HelixGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??i),o=Math.abs(n.depth??i),s=Math.abs(Math.min(i,o))/2;return{parameters:Object.assign(n,{width:i,height:r,depth:o,radius:s,segments:Math.round(n.segments),pathSegments:Math.round(n.pathSegments),cornerSegments:Math.round(n.cornerSegments)})}}static build(e){let{width:t,height:n,depth:i,radius:r,revolutions:o,segments:s,pathRadius:a,pathType:l,pathSegments:c,cornerRadius:d,cornerSegments:h}=e.parameters,p=new OY(!1,t,n,i,r,o,s,a,l,c,d,h);return Object.assign(p,{userData:{...e,type:"HelixGeometry"}})}},IcosahedronGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,detail:r,corner:o,cornerSides:s}=e.parameters,a=0===r&&0!==o?new SY(.5*t,o,s):new iH(.5*t,r);return a.scale(1,n/t,i/t),Object.assign(a,{userData:{...e,type:"IcosahedronGeometry"}})}},LatheGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){(e.parameters?.points??[]).forEach(i=>{Array.isArray(i)&&(i.x=i[0],i.y=i[1])});let n=Object.assign({},t?.parameters??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{points:t,segments:n,verticalSegments:i}=e.parameters,r=new GM;r.moveTo(t[0].x,t[0].y),r.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let o=new XV(r.extractPoints(i).shape,n);return o.rotateZ(Math.PI),Object.assign(o,{userData:{...e,type:"LatheGeometry"}})}},NonParametricGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i,n=e.geometry??t?.geometry??(new ii).copy(new dh(100,100,100));void 0===t?(n.computeBoundingBox(),n.boundingBox.getSize(ya),i={width:ya.x,height:ya.y,depth:ya.z,subdivisions:0}):i=t.parameters;let r={...i,...e.parameters};return{parameters:{width:Math.abs(r.width),height:Math.abs(r.height),depth:Math.abs(r.depth),subdivisions:Math.abs(r.subdivisions)},geometry:n}}static build(e){let{width:t,height:n,depth:i,subdivisions:r}=e.parameters,o=e.geometry??(new ii).copy(new dh(100,100,100)),s=o.userData.parameters;void 0===s?(o.computeBoundingBox(),o.boundingBox.getSize(ya)):ya.set(s.width,s.height,s.depth),(t!==ya.x||n!==ya.y||i!==ya.z)&&o.scale(0===ya.x?1:t/ya.x,0===ya.y?1:n/ya.y,0===ya.z?1:i/ya.z);let a=o.originalGeometry;try{r>0?(void 0===a||s?.subdivisions!==r)&&(void 0===a&&(a=o),o=new class{constructor(e=1){this.subdivisions=e}modify(e){(e=e instanceof ii?(new _2).fromBufferGeometry(e):e.clone()).mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let n,i,r,o,s,t=new ie,a=e.vertices,l=e.faces,c=e.faceVertexUvs[0],d=void 0!==c&&c.length>0,h=[],p=new Map;!function w4e(e,t,n,i){let r,o,s;for(r=0,o=e.length;r<o;r++)n[r]={edges:[]};for(r=0,o=t.length;r<o;r++)s=t[r],Lk(s.a,s.b,e,i,s,n),Lk(s.b,s.c,e,i,s,n),Lk(s.c,s.a,e,i,s,n)}(a,l,h,p);let v,y,b,P,O,S,A,g=[];for(let xt of Array.from(p.keys())){for(y=p.get(xt),b=new ie,O=3/8,S=1/8,A=y.faces.length,2!=A&&(O=.5,S=0),b.addVectors(y.a,y.b).multiplyScalar(O),t.set(0,0,0),o=0;o<A;o++){for(P=y.faces[o],s=0;s<3&&(v=a[x4e(P,_4e[s])],v===y.a||v===y.b);s++);v&&t.add(v)}t.multiplyScalar(S),b.add(t),y.newEdge=g.length,g.push(b)}let H,V,Q,Y,ee,ne,ae,pe=[];for(i=0,r=a.length;i<r;i++){for(ne=a[i],ee=h[i].edges,n=ee.length,3==n?H=3/16:n>3&&(H=3/(8*n)),V=1-n*Number(H),Q=H,n<=2&&2==n&&(V=3/4,Q=1/8),ae=ne.clone().multiplyScalar(V),t.set(0,0,0),o=0;o<n;o++)Y=ee[o],v=Y.a!==ne?Y.a:Y.b,t.add(v);t.multiplyScalar(Number(Q)),ae.add(t),pe.push(ae)}let Se,Oe,Ce,We,Ve,Ue,nt,fe=pe.concat(g),ge=pe.length,_e=[],Be=[],He=new qe,tt=new qe,Xe=new qe;for(i=0,r=l.length;i<r;i++)P=l[i],Se=Number(Nk(P.a,P.b,p).newEdge)+ge,Oe=Number(Nk(P.b,P.c,p).newEdge)+ge,Ce=Number(Nk(P.c,P.a,p).newEdge)+ge,w2(_e,Se,Oe,Ce,P.materialIndex),w2(_e,P.a,Se,Ce,P.materialIndex),w2(_e,P.b,Oe,Se,P.materialIndex),w2(_e,P.c,Ce,Oe,P.materialIndex),d&&(We=c[i],Ve=We[0],Ue=We[1],nt=We[2],He.set(W1(Ve.x,Ue.x),W1(Ve.y,Ue.y)),tt.set(W1(Ue.x,nt.x),W1(Ue.y,nt.y)),Xe.set(W1(Ve.x,nt.x),W1(Ve.y,nt.y)),C2(Be,He,tt,Xe),C2(Be,Ve,He,Xe),C2(Be,Ue,tt,He),C2(Be,nt,Xe,tt));e.vertices=fe,e.faces=_e,d&&(e.faceVertexUvs[0]=Be)}}(r).modify(a).toBufferGeometry()):(void 0!==a&&(o=a),a=void 0,void 0===o.getAttribute("normal")&&o.computeVertexNormals())}catch{void 0!==a&&(o=a),a=void 0,void 0===o.getAttribute("normal")&&o.computeVertexNormals()}return void 0!==a&&Object.assign(o,{originalGeometry:a}),delete e.geometry,Object.assign(o,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,n){new gH(n).load(e,i=>{let r=this.normalizeInputs({geometry:i});i.boundingBox.getSize(ya);let o=100/ya.x;Object.assign(r.parameters,{width:100,height:ya.y*o,depth:ya.z*o}),t(this.build(r))})}},PolygonGeometry:TY,PyramidGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,radialSegments:r,heightSegments:o,openEnded:s,cornerRadius:a,cornerSegments:l}=e.parameters,c=new S4e(.5*t,n,r,o,s,a,l);return c.scale(1,1,i/t),Object.assign(c,{userData:{...e,type:"PyramidGeometry"}})}},RectangleGeometry:Bk,SphereGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return n.thetaLength=Ln.clamp(n.thetaLength,0,180),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let d,{width:t=100,height:n=t,depth:i=t,widthSegments:r=64,heightSegments:o=64,phiStart:s,phiLength:a,thetaStart:l,thetaLength:c}=e.parameters;return 0===c?(d=new ii,d.setAttribute("position",new On([],3))):d=new l1(.5*t,r,o,s,a,l,c*Ln.DEG2RAD),d.scale(1,n/t,i/t),Object.assign(d,{userData:{...e,type:"SphereGeometry"}})}},PlaneGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:0})}}static build(e){let{width:t=100,height:n=t,widthSegments:i=8,heightSegments:r=8}=e.parameters,o=new Op(t,n,i,r);return o.scale(1,1,1),Object.assign(o,{userData:{...e,type:"PlaneGeometry"}})}},BackdropGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,angle:r,cornerRadius:o,cornerSegments:s}=e.parameters,a=new T4e(t,n,i,r,o,s);return Object.assign(a,{userData:{...e,type:"BackdropGeometry"}})}},StarGeometry:IY,TextFrameGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n}=e.parameters,i=new Op(t,n);return Object.assign(i,{userData:{...e,type:"TextFrameGeometry"}})}},TorusGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.round(Math.abs(n.depth??.25*n.width));return{parameters:Object.assign(n,{width:i,height:r,depth:o})}}static build(e){let{width:t,height:n,depth:i,radialSegments:r,tubularSegments:o,arc:s,cornerRadius:a,cornerSegments:l}=e.parameters,c=function R4e(e,t,n,i,r,o,s,a,l,c,d){[t,n]=[n,t],s=t/2;let h=Ln.clamp(r/360,0,1);if(0===h){let p=new ii;return p.setAttribute("position",new On([],3)),p}return 1===h&&(c=0),new OY(!0,e,t,n,i,h,o,s,a,l,c,d)}(t,n,i,.5*t,s,o,0,0,r,a,l);return c.scale(1,n/t,1),Object.assign(c,{userData:{...e,type:"TorusGeometry"}})}},TorusKnotGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),tube:n.tube??.125*n.width})}}static build(e){let{width:t,tube:n,tubularSegments:i,radialSegments:r,p:o,q:s}=e.parameters,a=.5*t;a!==n&&(a-=n);let l=new oH(a,n,i,r,o,s);return Object.assign(l,{userData:{...e,type:"TorusKnotGeometry"}})}},TriangleGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof xs?e.shape:new xs,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width*(n.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t=100,height:n,cornerRadius:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s,isRect:a}=e.parameters,l=e.shape,c=.5*t,d=.5*n;a?(l.addPoint(l.createPoint(-c,d)),l.addPoint(l.createPoint(c,-d)),l.addPoint(l.createPoint(-c,-d))):(l.addPoint(l.createPoint(0,d)),l.addPoint(l.createPoint(c,-d)),l.addPoint(l.createPoint(-c,-d))),l.isClosed=!0;for(let p=0,g=l.points.length;p<g;p++)l.points[p].roundness=i;l.roundness=i,l.update();let h=d0.create({shape:l,parameters:{roundness:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s}});return Object.assign(h,{userData:{...e,type:"TriangleGeometry"}})}},PathGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.abs(n.depth??0),s=t?.shapeData??Tk.create({parameters:dq}).userData.shape;return{path:e.path??WP.defaultData(),parameters:Object.assign(n,{width:i,height:r,depth:o,extrusion:{...hq,...n.extrusion}}),shapeData:s}}static build(e){if(e.path.points.length>=2){let t=new hNe(e);return Object.assign(t,{userData:{...e,type:"PathGeometry"}})}return Object.assign(new ii,{userData:{...e,type:"PathGeometry"}})}},VectorGeometry:d0},XY=e=>ENe[e.type].create(e);function $1(e){return null!==e&&"booleanOp"in e}var $Y=class extends(gk(hs)){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Kt}updateVisible(e){super.updateVisible(e),this.visible=!$1(this.parent)&&this.visible,$1(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){-1!==this.booleanMeshSetAddress&&(Bp.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),$1(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof $Y&&(e.freeBooleanPointer(),$1(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let n=super.updateTransformState(e,t);return n&&$1(this.parent)&&this.invalidateDownstreamBooleanData(!0),n}onVariableUpdate(e=!1){super.onVariableUpdate(e),$1(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},T2=new As;function Wk(e,t=0,n=e.count,i,r){let o=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,d=-1/0;for(let h=t;h<n;h++){let p=e.getX(h),g=e.getY(h),v=e.getZ(h);p<o&&(o=p),g<s&&(s=g),v<a&&(a=v),p>l&&(l=p),g>c&&(c=g),v>d&&(d=v)}T2.min.set(o,s,a),T2.max.set(l,c,d),T2.getCenter(i),T2.getSize(r).multiplyScalar(.5)}var DNe=new ii,ANe=new Pp,Yl=class extends $Y{constructor(e,t){super(DNe,ANe),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Wk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},hm=class{constructor(e){if(this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},null===hm.uuidContext)throw new Error("plz startContext");this.uuid=hm.uuidContext===hm.globalContext?"_gid"+hm.uuidContext.nodeContextUuid++:"_uid"+hm.uuidContext.nodeContextUuid++,this.type=e,this.name=""}static startContext(e){null===this.uuidContext||this.uuidContext===hm.globalContext?this.uuidContext=e:console.error("Can't start context twice")}static endContext(e){this.uuidContext!==e&&console.error("Can't end context twice"),this.uuidContext=null}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,n){return this.analyze(e,n=n??{}),this.flow(e,t,n)}flow(e,t,n){e.addFlow((n=n??{}).slot,n.cache,n.context);let i={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),i}build(e,t,n){t=t??this.getType(e,t);let i=e.getNodeData(n??this);return e.analyzing&&this.appendDepsNode(e,i,t),-1===e.nodes.indexOf(this)&&e.nodes.push(this),void 0!==this.updateFrame&&-1===e.updaters.indexOf(this)&&e.updaters.push(this),this.generate(e,t,n)}updateFrame(e){}generateReadonly(e,t,n,i,r,o){return""}generate(e,t,n,i,r){return""}parse(e,t,n,i){}appendDepsNode(e,t,n){t.deps=(t.deps||0)+1;let i=e.getTypeLength(n);(i>(t.outputMax||0)||this.getType(e,n))&&(t.outputMax=i,t.output=n)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return"sampler2D"===t||"samplerCube"===t?t:this.type}},ba=hm;ba.globalContext={nodeContextUuid:0},ba.uuidContext=hm.globalContext;var QY=class{constructor(e){this.name=(e=e??{}).name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},bc=new class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,n){this.keywords[e]={callback:t,cache:n=void 0===n||n}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return void 0!==this.nodes[e]}containsKeyword(e){return void 0!==this.keywords[e]}},_o=class extends ba{constructor(e,t){super(e),this.scope="",this.shared=void 0===(t=t??{}).shared||t.shared,this.unique=void 0!==t.unique&&t.unique}build(e,t,n,i){if(t=t??this.getType(e),this.getShared(e,t)){let r=this.getUnique(e,t);r&&void 0===this.uuid&&(this.uuid=Ln.generateUUID()),n=e.getUUID(n??this.getUUID(),!r);let o=e.getNodeData(n),s=o.output||this.getType(e);if(e.analyzing)return(o.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,o,t),this.generate(e,t,n)):super.build(e,t,n);if(r)return o.name=o.name||super.build(e,t,n),o.name;if(!this.getLabel()&&(!this.getShared(e,s)||e.context.ignoreCache||1===o.deps))return super.build(e,t,n);n=this.getUUID(!1);let a=this.getTemp(e,n);if(a)return e.format(a,s,t);{a=super.generate(e,t,n,o.output,i);let l=this.generate(e,s,n);return e.addNodeCode(a+" = "+l+";"),e.format(a,s,t)}}return super.build(e,t,n)}getShared(e,t){return"sampler2D"!==t&&"samplerCube"!==t&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return"string"==typeof this.scope&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let n=e.getVars()[t];return n?n.name:void 0}generate(e,t,n,i,r){return this.getShared(e,t)||console.error("TempNode is not shared"),e.getTempVar(n=n??this.uuid,i??this.getType(e),r,this.getLabel()).name}},_c=class extends _o{constructor(e,t){(t=t??{}).shared=void 0!==t.shared&&t.shared,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,n,i,r,o){n=e.getUUID(n??this.getUUID()),i=i??this.getType(e);let s=e.getNodeData(n);return this.getReadonly()&&void 0!==this.generateReadonly?this.generateReadonly(e,t,n,i,r,o):e.isShader("vertex")?(s.vertex||(s.vertex=e.createVertexUniform(i,this,r,o,this.getLabel())),e.format(s.vertex.name,i,t)):(s.fragment||(s.fragment=e.createFragmentUniform(i,this,r,o,this.getLabel())),e.format(s.fragment.name,i,t))}},sl=class extends _c{constructor(e=0,t){super("v2"),this.nodeType="Vector2",this.value=e instanceof qe?e:new qe(e,t)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}generateReadonly(e,t,n,i,r,o){return e.format("vec2("+this.value.x+", "+this.value.y+")",i,t)}},kd=class extends _c{constructor(e=0,t,n){super("v3"),this.nodeType="Vector3",this.value=e instanceof ie?e:new ie(e,t,n)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,n,i,r,o){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",i,t)}},al=class extends gi{constructor(e,t,n,i){super(e,t,n),this.isColorA=!0,this.a=i}setRGBA(e,t,n,i){super.setRGB(e,t,n),this.a=i}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}equals(e){return super.equals(e)&&this.a===e.a}setStyle(e,t="srgb"){let n;if("transparent"===e)return this.setRGBA(0,0,0,0),this;if(n=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a="rgba"===r?parseFloat(i[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a="hsla"===r?parseFloat(i[4]):1,super.setStyle(e,t)}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},zp=class extends _c{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof al?e:new al(e.r,e.g,e.b,e.a)}generateReadonly(e,t,n,i,r,o){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",i,t)}},INe=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,KY=/[a-z_0-9]+/gi,xn=class extends _o{constructor(e,t,n,i,r){super(r),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=void 0===r,this.isInterface=!1,this.parse(e,t,n,i)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,n,i,r){let o,s=0,a=this.src;if(this.includes)for(let c=0;c<this.includes.length;c++)e.include(this.includes[c],this);for(let c in this.extensions)e.extensions[c]=!0;let l=[];for(;o=KY.exec(this.src);)l.push(o);for(let c=0;c<l.length;c++){let d=l[c],h=d[0],p=!this.isMethod||!this.getInputByName(h),g=h;if(this.keywords[h]||this.useKeywords&&p&&bc.containsKeyword(h)){let v=this.keywords[h];if(!v){let y=bc.getKeywordData(h);y.cache&&(v=e.keywords[h]),v=v||bc.getKeyword(h,e),y.cache&&(e.keywords[h]=v)}g=v.build(e)}h!==g&&"."!==a[d.index+s-1]&&(a=a.substring(0,d.index+s)+g+a.substring(d.index+h.length+s),s+=g.length-h.length),void 0===this.getIncludeByName(g)&&bc.contains(g)&&e.include(bc.get(g))}return"source"===t?a:this.isMethod?(this.isInterface||e.include(this,void 0,a),this.name):e.format("( "+a+" )",this.getType(e),t)}parse(e,t,n,i){if(this.src=e||"",this.includes=t??[],this.extensions=n??{},this.keywords=i??{},this.isMethod){let r=INe.exec(this.src);if(this.inputs=[],r&&4==r.length){this.type=r[1],this.name=r[2];let o=r[3].match(KY);if(o){let s=0;for(;s<o.length;){let l,a=o[s++];"in"===a||"out"===a||"inout"===a?l=o[s++]:(l=a,a="");let c=o[s++];this.inputs.push({name:c,type:l,qualifier:a})}}this.isInterface=-1===this.src.indexOf("{")}else this.type="",this.name=""}}},kNe=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,ZY=class extends _o{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||ZY.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,n,i,r){this.src=e||"";let o,s,a="",l=kNe.exec(e);this.useDefine=r??"#"===this.src.charAt(0),l&&l.length>1?(s=l[1],o=l[2],a=l[3]):(o=this.src,s="f"),this.name=o,this.type=s,this.value=a}build(e,t){if("source"===t){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,n,i,r){return e.format(this.name,this.getType(e),t)}},xo=ZY;xo.PI="PI",xo.PI2="PI2",xo.RECIPROCAL_PI="RECIPROCAL_PI",xo.RECIPROCAL_PI2="RECIPROCAL_PI2",xo.LOG2="LOG2",xo.EPSILON="EPSILON";var RNe=new RegExp("^structs*([a-z_0-9]+)s*{s*((.|\n)*?)}","gim"),NNe=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),JY=class extends _o{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,n,i,r){return"source"===t?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=RNe.exec(e);if(t){let i,n=t[2];for(;i=NNe.exec(n);)this.inputs.push({type:i[1],name:i[2]});this.name=t[1]}else this.name="";this.type=this.name}},qk=class extends _o{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let n=this.index>0?this.index+1:"",i=e.isShader("vertex")?"uv"+n:"vUv"+n;return e.format(i,this.getType(e),t)}};bc.addKeyword("uv",function(){return new qk}),bc.addKeyword("uv2",function(){return new qk(1)});var Q1=class extends _o{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??Q1.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case sh:return["Linear"];case Zi:return["sRGB"];default:return[]}}generate(e,t){let n=this.input.build(e,"v4"),i=this.getType(e),r=Q1.Nodes[this.method],o=e.include(r);if(o===Q1.LINEAR_TO_LINEAR)return e.format(n,i,t);if(2===r.inputs?.length){let s=this.factor.build(e,"f");return e.format(o+"( "+n+", "+s+" )",i,t)}return e.format(o+"( "+n+" )",i,t)}fromEncoding(e){let t=Q1.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=Q1.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},Mu=Q1;Mu.Nodes={LinearToLinear:new xn(["vec4 LinearToLinear( in vec4 value ) {","\treturn value;","}"].join("\n")),sRGBToLinear:new xn(["vec4 sRGBToLinear( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join("\n")),LinearTosRGB:new xn(["vec4 LinearTosRGB( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join("\n"))},Mu.LINEAR_TO_LINEAR="LinearToLinear",Mu.SRGB_TO_LINEAR="sRGBToLinear",Mu.LINEAR_TO_SRGB="LinearTosRGB";var Ho=class extends xn{constructor(e="",t,n,i,r){super(e,r,i,n,t),this.nodeType="Expression"}},Up=class extends _c{constructor(e=new ds,t,n,i){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new qk,this.bias=n,this.project=void 0!==i&&i}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if("sampler2D"===t)return this.getTexture(e,t);let o,s,n=this.getTexture(e,t),i=this.uv.build(e,this.project?"v4":"v2"),r=this.bias?this.bias.build(e,"f"):void 0;void 0===r&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f")),o=this.project?"texture2DProj":r?"tex2DBias":"tex2D",s=r?o+"( "+n+", "+i+", "+r+" )":o+"( "+n+", "+i+" )";let a={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(a),this.colorSpace=this.colorSpace??new Mu(new Ho("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(s),s=this.colorSpace.build(e,l),e.removeContext(),e.format(s,l,t)}},Un=class extends _c{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,n,i,r,o){return e.format(this.value+(this.value%1?"":".0"),i,t)}},eX=class extends _o{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,n,i,r){i=this.getType(e);let o=this.value,s=o.build(e,t)+"( ",a=[];if(o.inputs){for(let l=0;l<o.inputs.length;l++){let c=o.inputs[l];a.push((this.inputs[l]||this.inputs[c.name]).build(e,e.getTypeByFormat(c.type)))}s+=a.join(", ")+" )"}return e.format(s,i,t)}},tX=class extends _o{constructor(e,t,n=tX.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=n}getType(e){let t=this.a.getType(e),n=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(n)>e.getTypeLength(t)?n:t}generate(e,t){let n=this.getType(e);this.type=n;let i=this.a.build(e,n),r=this.b.build(e,n);return e.format("( "+i+" "+this.op+" "+r+" )",n,t)}},xc=tX;xc.ADD="+",xc.SUB="-",xc.MUL="*",xc.DIV="/";var wo=class extends _o{constructor(e,t=wo.ABS,n,i){super(),this.nodeType="Math",this.a=e,"string"!=typeof t?this.b=t:i=t,"string"!=typeof n?this.c=n:i=n,this.method=i,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case wo.MIX:case wo.CLAMP:case wo.REFRACT:case wo.SMOOTHSTEP:case wo.FACEFORWARD:return 3;case wo.MIN:case wo.MAX:case wo.MOD:case wo.STEP:case wo.REFLECT:case wo.DISTANCE:case wo.DOT:case wo.CROSS:case wo.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),n=this.b?e.getTypeLength(this.b.getType(e)):0,i=this.c?e.getTypeLength(this.c.getType(e)):0;return t>n&&t>i?this.a.getType(e):n>i?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case wo.LENGTH:case wo.DISTANCE:case wo.DOT:return"f";case wo.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let n,i,r,o=this.a?e.getTypeLength(this.a.getType(e)):0,s=this.b?e.getTypeLength(this.b.getType(e)):0,a=this.c?e.getTypeLength(this.c.getType(e)):0,l=this.getInputType(e),c=this.getType(e);switch(this.type=c,this.method){case wo.NEGATE:return e.format("( -"+this.a.build(e,l)+" )",l,t);case wo.INVERT:return e.format("( 1.0 - "+this.a.build(e,l)+" )",l,t);case wo.CROSS:n=this.a.build(e,"v3"),i=this.b.build(e,"v3");break;case wo.STEP:n=this.a.build(e,1===o?"f":l),i=this.b.build(e,l);break;case wo.MIN:case wo.MAX:case wo.MOD:n=this.a.build(e,l),i=this.b.build(e,1===s?"f":l);break;case wo.REFRACT:n=this.a.build(e,l),i=this.b.build(e,l),r=this.c.build(e,"f");break;case wo.MIX:n=this.a.build(e,l),i=this.b.build(e,l),r=this.c.build(e,1===a?"f":l);break;default:n=this.a.build(e,l),this.b&&(i=this.b.build(e,l)),this.c&&(r=this.c.build(e,l))}let d=[];d.push(n),i&&d.push(i),r&&d.push(r);let h=this.getNumInputs(e);if(d.length!==h)throw Error(`Arguments not match used in "${this.method}". Require ${h}, currently ${d.length}.`);return e.format(this.method+"( "+d.join(", ")+" )",c,t)}},Qi=wo;Qi.RAD="radians",Qi.DEG="degrees",Qi.EXP="exp",Qi.EXP2="exp2",Qi.LOG="log",Qi.LOG2="log2",Qi.SQRT="sqrt",Qi.INV_SQRT="inversesqrt",Qi.FLOOR="floor",Qi.CEIL="ceil",Qi.NORMALIZE="normalize",Qi.FRACT="fract",Qi.SATURATE="saturate",Qi.SIN="sin",Qi.COS="cos",Qi.TAN="tan",Qi.ASIN="asin",Qi.ACOS="acos",Qi.ARCTAN="atan",Qi.ABS="abs",Qi.SIGN="sign",Qi.LENGTH="length",Qi.NEGATE="negate",Qi.INVERT="invert",Qi.MIN="min",Qi.MAX="max",Qi.MOD="mod",Qi.STEP="step",Qi.REFLECT="reflect",Qi.DISTANCE="distance",Qi.DOT="dot",Qi.CROSS="cross",Qi.POW="pow",Qi.MIX="mix",Qi.CLAMP="clamp",Qi.REFRACT="refract",Qi.SMOOTHSTEP="smoothstep",Qi.FACEFORWARD="faceforward";var dx=class extends _o{constructor(e,t,n){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=n}bilinearCubeUV(e,t,n,i){let r=new eX(dx.Nodes.bilinearCubeUV,[t,n,i]);this.colorSpaceTL=this.colorSpaceTL??new Mu(new Ho("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(r.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new Mu(new Ho("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(r.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new Mu(new Ho("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(r.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new Mu(new Ho("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(r.build(e)+".br");let o={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(o),this.colorSpaceTLExp=new Ho(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new Ho(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new Ho(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new Ho(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let s=new Ho("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return s.keywords.cubeUV_TL=this.colorSpaceTLExp,s.keywords.cubeUV_TR=this.colorSpaceTRExp,s.keywords.cubeUV_BL=this.colorSpaceBLExp,s.keywords.cubeUV_BR=this.colorSpaceBRExp,s.keywords.cubeUV=r,s}generate(e,t){if(e.isShader("fragment")){let n=this.uv,r=new eX(dx.Nodes.roughnessToMip,[this.bias||e.context.roughness]),o=new Qi(r,dx.Nodes.m0,dx.Nodes.cubeUV_maxMipLevel,Qi.CLAMP),s=new Qi(o,Qi.FLOOR),a=new Qi(o,Qi.FRACT),l=this.bilinearCubeUV(e,this.value,n,s),c=this.bilinearCubeUV(e,this.value,n,new xc(s,new Un(1).setReadonly(!0),xc.ADD)),d=new Qi(l,c,a,Qi.MIX);return e.format(d.build(e),"v4",t)}return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},Yk=dx;Yk.Nodes=function(){let e=new JY("struct TextureCubeUVData {\n\t\t\tvec4 tl;\n\t\t\tvec4 tr;\n\t\t\tvec4 br;\n\t\t\tvec4 bl;\n\t\t\tvec2 f;\n\t\t}"),t=new xo("float cubeUV_maxMipLevel 8.0",!0),n=new xo("float cubeUV_minMipLevel 4.0",!0),i=new xo("float cubeUV_maxTileSize 256.0",!0),r=new xo("float cubeUV_minTileSize 16.0",!0),o=new xn("float getFace(vec3 direction) {\n\t\t\t\tvec3 absDirection = abs(direction);\n\t\t\t\tfloat face = -1.0;\n\t\t\t\tif (absDirection.x > absDirection.z) {\n\t\t\t\t\tif (absDirection.x > absDirection.y)\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t} else {\n\t\t\t\t\tif (absDirection.z > absDirection.y)\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t}\n\t\t\t\treturn face;\n\t\t}");o.useKeywords=!1;let s=new xn("vec2 getUV(vec3 direction, float face) {\n\t\t\t\tvec2 uv;\n\t\t\t\tif (face == 0.0) {\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\n\t\t\t\t} else if (face == 1.0) {\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\n\t\t\t\t} else if (face == 2.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\n\t\t\t\t} else if (face == 3.0) {\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\n\t\t\t\t} else if (face == 4.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\n\t\t\t\t} else {\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\n\t\t\t\t}\n\t\t\t\treturn 0.5 * (uv + 1.0);\n\t\t}");s.useKeywords=!1;let a=new xn("TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n\t\t\tfloat face = getFace(direction);\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\n\t\t\tfloat faceSize = exp2(mipInt);\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\n\t\t\tvec2 f = fract(uv);\n\t\t\tuv += 0.5 - f;\n\t\t\tif (face > 2.0) {\n\t\t\t\tuv.y += faceSize;\n\t\t\t\tface -= 3.0;\n\t\t\t}\n\t\t\tuv.x += face * faceSize;\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t\t}\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n\t\t\tuv *= texelSize;\n\t\t\tvec4 tl = texture2D(envMap, uv);\n\t\t\tuv.x += texelSize;\n\t\t\tvec4 tr = texture2D(envMap, uv);\n\t\t\tuv.y += texelSize;\n\t\t\tvec4 br = texture2D(envMap, uv);\n\t\t\tuv.x -= texelSize;\n\t\t\tvec4 bl = texture2D(envMap, uv);\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\n\t\t}",[e,o,s,t,n,i,r]);a.useKeywords=!1;let l=new xo("float r0 1.0",!0),c=new xo("float v0 0.339",!0),d=new xo("float m0 -2.0",!0),h=new xo("float r1 0.8",!0),p=new xo("float v1 0.276",!0),g=new xo("float m1 -1.0",!0),v=new xo("float r4 0.4",!0),y=new xo("float v4 0.046",!0),b=new xo("float m4 2.0",!0),P=new xo("float r5 0.305",!0),O=new xo("float v5 0.016",!0),S=new xo("float m5 3.0",!0),A=new xo("float r6 0.21",!0),H=new xo("float v6 0.0038",!0),V=new xo("float m6 4.0",!0);return{bilinearCubeUV:a,roughnessToMip:new xn("float roughnessToMip(float roughness) {\n\t\t\tfloat mip = 0.0;\n\t\t\tif (roughness >= r1) {\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n\t\t\t} else if (roughness >= r4) {\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n\t\t\t} else if (roughness >= r5) {\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n\t\t\t} else if (roughness >= r6) {\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n\t\t\t} else {\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n\t\t\t}\n\t\t\treturn mip;\n\t\t}",[l,c,d,h,p,g,v,y,b,P,O,S,A,H,V]),m0:d,cubeUV_maxMipLevel:t}}();var K1=class extends _o{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??K1.VIEW}getShared(){return this.scope===K1.WORLD}build(e,t,n,i){let r=e.context[this.scope+"Normal"];return r?r.build(e,t,n,i):super.build(e,t,n)}generate(e,t,n,i,r){let o;switch(this.scope){case K1.VIEW:o=e.isShader("vertex")?"transformedNormal":"geometryNormal";break;case K1.LOCAL:e.isShader("vertex")?o="objectNormal":(e.requires.normal=!0,o="vObjectNormal");break;case K1.WORLD:e.isShader("vertex")?o="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,o="vWNormal")}return e.format(o,this.getType(e),t)}},wc=K1;wc.LOCAL="local",wc.WORLD="world",wc.VIEW="view",wc.NORMAL="normal",bc.addKeyword("viewNormal",function(){return new wc(wc.VIEW)}),bc.addKeyword("localNormal",function(){return new wc(wc.NORMAL)}),bc.addKeyword("worldNormal",function(){return new wc(wc.WORLD)});var jp=class extends _o{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??jp.LOCAL}getType(){return this.scope===jp.PROJECTION?"v4":this.type}getShader(){switch(this.scope){case jp.LOCAL:case jp.WORLD:return!1}return!0}generate(e,t,n,i,r){let o;switch(this.scope){case jp.LOCAL:e.isShader("vertex")?o="transformed":(e.requires.position=!0,o="vPosition");break;case jp.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,o="vWPosition";break;case jp.VIEW:o=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case jp.PROJECTION:o=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )"}return e.format(o,this.getType(),t)}},gh=jp;gh.LOCAL="local",gh.WORLD="world",gh.VIEW="view",gh.PROJECTION="projection",bc.addKeyword("position",function(){return new gh}),bc.addKeyword("worldPosition",function(){return new gh(gh.WORLD)}),bc.addKeyword("viewPosition",function(){return new gh(gh.VIEW)});var Pu=class extends _o{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??Pu.CUBE}getUnique(e){return!e.context.viewNormal}getType(){return this.scope===Pu.SPHERE?"v2":this.type}generate(e,t){let n=this.getUnique(e);if(e.isShader("fragment")){let i;switch(this.scope){case Pu.VECTOR:{let r=new wc(wc.VIEW),o=e.context.roughness,s=r.build(e,"v3"),a=new gh(gh.VIEW).build(e,"v3"),l=o?o.build(e,"f"):void 0,c=`reflect( -normalize( ${a} ), ${s} )`;l&&(c=`normalize( mix( ${c}, ${s}, ${l} * ${l} ) )`);let d=`inverseTransformDirection( ${c}, viewMatrix )`;n?(e.addNodeCode(`vec3 reflectVec = ${d};`),i="reflectVec"):i=d;break}case Pu.CUBE:{let r=new Pu(Pu.VECTOR).build(e,"v3"),o="vec3( -"+r+".x, "+r+".yz )";n?(e.addNodeCode(`vec3 reflectCubeVec = ${o};`),i="reflectCubeVec"):i=o;break}case Pu.SPHERE:{let r="normalize( ( viewMatrix * vec4( "+new Pu(Pu.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";n?(e.addNodeCode(`vec2 reflectSphereVec = ${r};`),i="reflectSphereVec"):i=r;break}}return e.format(i,this.getType(),t)}return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},Z1=Pu;Z1.CUBE="cube",Z1.SPHERE="sphere",Z1.VECTOR="vector";var LNe=class extends _o{constructor(e=new Up,t,n){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new Yk(this.value,t??new Z1(Z1.VECTOR),n),this.irradianceNode=new Yk(this.value,new wc(wc.WORLD),new Un(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),("irradiance"===e.slot?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},FNe=class extends _c{constructor(e=new HT,t,n){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new Z1,this.bias=n}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){if("samplerCube"===t)return this.getTexture(e,t);let o,n=this.getTexture(e,t),i=this.uv?.build(e,"v3"),r=this.bias?this.bias.build(e,"f"):void 0;void 0===r&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f")),o=r?"texCubeBias( "+n+", "+i+", "+r+" )":"texCube( "+n+", "+i+" )";let s={include:e.isShader("vertex"),ignoreCache:!0},a=this.getType(e);return e.addContext(s),this.colorSpace=this.colorSpace??new Mu(new Ho("",a)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(o),o=this.colorSpace.build(e,a),e.removeContext(),e.format(o,a,t)}},nX=["x","y","z","w"],GNe=["float","vec2","vec3","vec4"],WNe={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},qNe={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},iX=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,n){return t.deps.length-n.deps.length}return function(t,n){let i=this.getIncludes(t,n);if(!i)return"";let r="";i=i.sort(e);for(let o=0;o<i.length;o++)i[o].src&&(r+=i[o].src+"\n");return r}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCube(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif","\n\t\t\t// NOTE: Include Spline's blending modes. This could be part of BlendNode\n\t\t\t#define SPE_BLENDING_NORMAL 0\n\t\t\t#define SPE_BLENDING_MULTIPLY 1\n\t\t\t#define SPE_BLENDING_SCREEN 2\n\t\t\t#define SPE_BLENDING_OVERLAY 3\n\n\t\t\tvec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\treturn mix( a, b, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\treturn mix( a, a * b, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\tvec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );\n\t\t\t\treturn mix( a, tmp, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\tvec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );\n\t\t\t\treturn clamp( mix( a, tmp, alpha ), 0.0, 1.0 );\n\t\t\t}\n\n\t\t\tvec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {\n\t\t\t\tif ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );\n\t\t\t\treturn vec3( 1.0 );\n\t\t\t}\n\t\t\t","#include <packing>","#include <common>"].join("\n"),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join("\n"),fragment:["float accumAlpha = 0.0;","void accumulateAlpha(float alpha) {\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * alpha;\n\t\t\t\t}",""].join("\n")},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode("\nuniform int frameIndex;\nuniform vec2 resolution;\nuniform mat4 previousModelViewMatrix;\nuniform mat4 previousProjectionMatrix;\n\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n"),this.addFragmentParsCode("\nlayout(location = 1) out vec4 gVelocity;\n\nuniform int frameIndex;\nuniform vec2 resolution;\n\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n\nconst vec2 haltonSequence[16] = vec2[16](\nvec2( 0.000000,-0.333334),\nvec2(-0.500000, 0.333334),\nvec2( 0.500000,-0.777778),\nvec2(-0.750000,-0.111112),\nvec2( 0.250000, 0.555556),\nvec2(-0.250000,-0.555556),\nvec2( 0.750000, 0.111112),\nvec2(-0.875000, 0.777778),\nvec2(0.125000, -0.925926),\nvec2(-0.375000, -0.259260),\nvec2(0.625000, 0.407408),\nvec2(-0.625000, -0.703704),\nvec2(0.375000, -0.037038),\nvec2(-0.125000, 0.629630),\nvec2(0.875000, -0.481482),\nvec2(-0.937500, 0.185186));\n\nvec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {\n  const float goldenAngle = 2.399963f; // radians\n  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));\n  float theta = float(sampleIndex) * goldenAngle + angle;\n  float sine = sin(theta);\n  float cosine = cos(theta);\n  return vec2(cosine, sine) * r;\n}\n\n// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso\nfloat getNoiseInterleavedGradient(vec2 screenPos) {\n    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);\n    return fract(magic.z * fract(dot(screenPos, magic.xy)));\n}\n\n"),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let n=0;n<this.requires.uv.length;n++)if(this.requires.uv[n]){let i=n>0?n+1:"";this.addVaryCode("varying vec2 vUv"+i+";"),n>0&&this.addVertexParsCode("attribute vec2 uv"+i+";"),this.addVertexFinalCode("vUv"+i+" = uv"+i+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode("\n// TODO: This could be generated CPU side and passed to the shader every frame\nconst vec2 haltonSequence[16] = vec2[16](\nvec2( 0.000000,-0.333334),\nvec2(-0.500000, 0.333334),\nvec2( 0.500000,-0.777778),\nvec2(-0.750000,-0.111112),\nvec2( 0.250000, 0.555556),\nvec2(-0.250000,-0.555556),\nvec2( 0.750000, 0.111112),\nvec2(-0.875000, 0.777778),\nvec2(0.125000, -0.925926),\nvec2(-0.375000, -0.259260),\nvec2(0.625000, 0.407408),\nvec2(-0.625000, -0.703704),\nvec2(0.375000, -0.037038),\nvec2(-0.125000, 0.629630),\nvec2(0.875000, -0.481482),\nvec2(-0.937500, 0.185186));\n\n// TODO: Pass correct view size\nvec2 offset = haltonSequence[frameIndex];\noffset.x /= resolution.x;\noffset.y /= resolution.y;\n\nvec4 currentPosition = gl_Position;\nvec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);\n\n// We want to calculate the velocity with unjittered positions\n// so that things that are not moving get a velocity = 0\nvCurrentPosition = currentPosition;\nvPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);\n#ifdef OUTLINE_COMPENSATION\nvPreviousPosition.xy += OUTLINE_COMPENSATION;\n#endif\ngl_Position = currentPositionJittered;\n\n"),this.addFragmentFinalCode("\nvec2 oldPos = vPreviousPosition.xy;\n    oldPos /= vPreviousPosition.w;\n    oldPos.xy = (oldPos.xy+1.)/2.0;\n\nvec2 newPos = vCurrentPosition.xy;\n    newPos /= vCurrentPosition.w;\n    newPos.xy = (newPos.xy+1.)/2.0;\n\nvec2 velocity = (newPos - oldPos);\n\n// Discard fully transparent pixels \nif (gl_FragColor.a <= 0.0) discard;\n\ngVelocity = vec4(velocity, 0.0, 1.0);\n")),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,n){return this.addSlot(e).addCache(t).addContext(n)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){void 0===this.fragmentVariables[e]&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){void 0===this.fragmentParsVariables[e]&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){void 0===this.vertexParsVariables[e]&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+"\n"}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+"\n"}clearNodeCode(e){let t=this.nodeCode[e=e??this.shader];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+"\n"}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+"\n"}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return-1!==this.caches.indexOf(e)}isSlot(e){return-1!==this.slots.indexOf(e)}define(e,t){this.defines[e]=void 0===t?1:t}require(e){this.requires[e]=!0}isDefined(e){return void 0!==this.defines[e]}getVar(e,t,n,i="varying",r="V",o=""){let s=this.getVars(i),a=s[e];return a||(a={name:n||"node"+r+s.length+(o?"_"+o:""),type:t},s.push(a),s[e]=a),a}getTempVar(e,t,n,i){return this.getVar(e,t,n,this.shader,"T",i)}getAttribute(e,t){if(!this.attributes[e]){let n=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(n.name+" = "+e+";"),this.attributes[e]={varying:n,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join("\n")}getVarListCode(e,t){t=t??"";let n="";for(let i=0,r=e.length;i<r;++i){let o=e[i],a=o.name,l=o.size,c=this.getFormatByType(o.type);if(void 0===c)throw new Error("Node pars "+c+" not found.");c.includes("[]")?n+=t+" "+c.substring(0,c.length-2)+" "+a+`[${l}];\n`:n+=t+" "+c+" "+a+";\n"}return n}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof ba?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,n,i,r,o){if(t.includes("[]")){let s=this.inputs.arrayUniforms,l=new QY({type:t,size:n.size,name:i||"nodeUA"+s.list.length+(o?"_"+o:""),node:n,needsUpdate:r});return s.list.push(l),s[e].push(l),s[e][l.name]=l,this.uniforms[l.name]=l,l}{let s=this.inputs.uniforms,l=new QY({type:t,name:i||"nodeU"+s.list.length+(o?"_"+o:""),node:n,needsUpdate:r});return s.list.push(l),s[e].push(l),s[e][l.name]=l,this.uniforms[l.name]=l,l}}createVertexUniform(e,t,n,i,r){return this.createUniform("vertex",e,t,n,i,r)}createFragmentUniform(e,t,n,i,r){return this.createUniform("fragment",e,t,n,i,r)}include(e,t,n){let i;if(e="string"==typeof e?bc.get(e):e,!1===this.context.include)return e.name;e instanceof xn?i=this.includes.functions:e instanceof xo?i=this.includes.consts:e instanceof JY&&(i=this.includes.structs);let r=i[this.shader]=i[this.shader]||[];if(e){let o=r[e.name];if(o||(o=r[e.name]={node:e,deps:[]},r.push(o),o.src=e.build(this,"source")),e instanceof xn&&t&&r[t.name]&&-1===r[t.name].deps.indexOf(e)&&(r[t.name].deps.push(e),e.includes?.length)){let s=0;do{this.include(e.includes[s++],t)}while(s<e.includes.length)}return n&&(o.src=n),e.name}throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return GNe[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return"f"===e?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return 1===e?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(n?.isNode)return n}}resolve(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(void 0!==n){if(n.isNode)return n;if(n.isTexture)switch(n.mapping){case Ag:case Tg:return new FNe(n);case Jb:return new LNe(new Up(n));default:return new Up(n)}else{if(n.isVector2)return new sl(n);if(n.isVector3)return new kd(n);if(n.isVector4)return new zp(n)}}}}format(e,t,n){switch(this.colorToVector(n+" <- "+t)){case"f <- v2":case"f <- v3":case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":case"i <- v3":case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return WNe[e]||e}getFormatByType(e){return qNe[e]||e}getUUID(e,t){return(t=void 0===t||t)&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return nX[e]}getIndexByElement(e){return nX.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=sh,t===sh&&this.context.gamma&&(t=Zi),t}},ws=class extends _c{constructor(e=0,t,n,i){super("c"),this.nodeType="Color",this.value=e instanceof al?e:new al(e||0,t,n,i)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,n,i,r,o){n=e.getUUID(n??this.getUUID()),i=i??this.getType(e);let s=e.getNodeData(n),a=this.getReadonly()&&void 0!==this.generateReadonly;if(this.alpha){let l=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${l};`)}return a?this.generateReadonly(e,t,n,i,r,o):e.isShader("vertex")?(s.vertex||(s.vertex=e.createVertexUniform(i,this,r,o,this.getLabel())),e.format(s.vertex.name,i,t)):(s.fragment||(s.fragment=e.createFragmentUniform(i,this,r,o,this.getLabel())),e.format(s.fragment.name,i,t))}generateReadonly(e,t,n,i,r,o){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",i,t)}},ko=class extends _c{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,n,i,r,o){return e.format(this.value.toString(),i,t)}},Xl=class extends _c{constructor(e){super("b"),this.nodeType="Bool",this.value=e??!1}generateReadonly(e,t,n,i){return e.format(this.value?"true":"false",i,t)}},h0=class extends _c{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:"number"==typeof t?new Array(e).fill(t):new Array(e).fill(0)}},Xk=class extends _c{},YNe=class extends Xk{constructor(e){super("v3"),this.image=e,this._value=new ie}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},$k=class extends Xk{constructor(e,t,n=1008,i=1006){super("t"),this.image=e,this.wrap=t,this.minFilter=n,this.magFilter=i}get value(){return this.image.getTexture(this.wrap,this.minFilter,this.magFilter)}},rX=class extends _c{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new $s}generateReadonly(e,t,n,i,r,o){return e.format("mat3("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},Ou=class extends _c{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new Kt}generateReadonly(e,t,n,i,r,o){return e.format("mat4("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function oX(e,t,n,i=0){e.setUvTransform(n[0],n[1],t[0],t[1],0,0,0).premultiply((new $s).makeRotation(i*Ln.DEG2RAD))}var XNe=class extends rX{constructor(e,t,n=0){super(new $s),this.repeat=e,this.offset=t,this.rotation=n,oX(this.value,e,t,n)}updateMatrix(){oX(this.value,this.repeat,this.offset,this.rotation)}},u0=class extends _c{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof ki?new Array(e).fill(t):new Array(e).fill(new ki(0))}},sX=class extends _o{constructor(e,t,n,i){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=n,this.mode=i}generate(e,t){if(e.isShader("fragment")){let n=[];return n.push(this.a.build(e,"c")),n.push(this.b.build(e,"c")),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),e.format("spe_blend("+n.join(",")+")",this.getType(e),t)}return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},aX=class extends _o{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(aX.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.color.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Qk=aX;Qk.Nodes={customColor:new xn("vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {\n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\n\t\t\t\treturn color;\n\t\t\t}")};var lX=class extends _o{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(lX.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.cnormal.build(e,"v3")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},cX=lX;cX.Nodes={customNormal:new xn("vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {\n\t\t\t\tvec3 normal = packNormalToRGB( norm ).rgb;\n\t\t\t\tnormal *= step( vec3(0.5), cnormal );\n\n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\n\t\t\t\treturn normal;\n\t\t\t}")};var hx=class extends _o{constructor(e,t,n,i,r,o,s,a,l,c,d,h){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=n,this.projection=i,this.axis=r,this.side=o,this.size=s,this.blending=a,this.mat=l,this.isMask=h,this.alpha=c,this.mode=d,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let i,n=`g${this.uuid.toString().replace(/-/g,"")}`;switch(this.projection.value){case 3:i=e.include(hx.Nodes.cylindrical);break;case 2:i=e.include(hx.Nodes.spherical);break;case 1:let a=new xn(`\n\t\tvec3 ${n}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n\t\t\t\tvec2 projected = (1. + (position.${["zy","xz","xy"][this.axis.value]})) / 2.;\n\t\t\t\tvec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\t${2===this.side.value?"":`lalpha *= step(0.0, ${1===this.side.value?"-1.0 * ":""}dot(vObjectNormal, ${["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value]}));`}\n\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}`);i=e.include(a);break;case 4:i=e.include(hx.Nodes.triplanar);break;default:i=e.include(hx.Nodes.uv)}e.addFragmentVariable(this.calpha,"float");let r=[];if(r.push("normal"),r.push(this.texture.generate(e,"t")),r.push(this.textureSize.build(e,"v2")),r.push(this.crop.build(e,"f")),r.push(this.mat.build(e,"mat3")),r.push(this.size.build(e,"v2")),r.push(this.blending.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),4===this.projection.value){let o=`${n}_writeUvs`,s=o+"0",a=o+"1",l=o+"2",c=`${n}_triplanarWeights`;e.addFragmentVariable(s,"vec2"),e.addFragmentVariable(a,"vec2"),e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(c,"vec3"),r.push(s),r.push(a),r.push(l),r.push(c)}else{let o=`${n}_writeUvs`;e.addFragmentVariable(o,"vec2"),r.push(o)}return e.format(i+"("+r.join(",")+")",this.getType(e),t)}},Kk=hx;Kk.Nodes={cylindrical:new xn("\nvec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n                vec3 posN = normalize(position);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float scaledHeight = position.y / (size.y * 0.5);\n                float v =  (scaledHeight / 2.) + .5;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\t\t\t\t\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}\n"),spherical:new xn("\nvec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n                vec3 posN = normalize(vPosition);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float v = 0.5 + asin(posN.y) / 3.1415;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}\n"),uv:new xn("vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n\t\t\t\tvec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}"),triplanar:new xn("vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {\n\t\t\t\tvec3 p = position;\n\t\t\t\tvec2 uv0 = (1.0 + p.xy) / 2.0;     \n\t\t\t\tvec2 uv1 = (1.0 + p.zy) / 2.0;\t\t\n\t\t\t\tvec2 uv2 = (1.0 + p.xz) / 2.0;\t\t\n\t\n\t\t\t\tuv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\t\t\t\tuv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\t\t\t\tuv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\n\t\t\t\t// Range from 3 to 128 seems to be good\n\t\t\t\tfloat exponent = (1.0 - blending) * 125.0 + 3.0;\n\n\t\t\t\tvec3 n = vObjectNormal;\n\t\t\t\tvec3 weights = abs(normalize(n));\n\t\t\t\tweights = pow(weights, vec3(exponent));\n\t\t\t\tweights /= dot(weights, vec3(1.0));\n\n\t\t\t\t// Write out all sets of UVs that we generated\n\t\t\t\twriteUvs0 = uv0;\n\t\t\t\twriteUvs1 = uv1;\n\t\t\t\twriteUvs2 = uv2;\n\t\t\t\twriteWeights = weights;\n\n\t\t\t\t// Derivatives for LOD\n\t\t\t\tvec2 df0 = fwidth(uv0);\n\t\t\t\tvec2 df1 = fwidth(uv1);\n\t\t\t\tvec2 df2 = fwidth(uv2);\n\t\t\t\tif (df0.x > 0.5) df0.x = 0.0;\n\t\t\t\tif (df1.x > 0.5) df1.x = 0.0;\n\t\t\t\tif (df2.x > 0.5) df2.x = 0.0;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                \tvec4 tmp = \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;\n\t\t\t\t#else\n                \tvec4 tmp = \n\t\t\t\t\t\ttextureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + \n\t\t\t\t\t\ttextureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + \n\t\t\t\t\t\ttextureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\n\t\t\t\t// Apply cropping across all 3 planes\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;//n * 0.5 + 0.5;\n\t\t\t}\t\t\t\n\t\t\t")};var ux=class extends _o{constructor(e,t,n,i,r,o,s,a,l,c,d,h){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=n,this.far=i,this.isVector=r,this.isWorldSpace=o,this.origin=s,this.direction=a,this.colors=l,this.steps=c,this.isMask=h,this.alpha=d,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`,i=new xn(`vec3 ${n}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${n}_MAX_COLORS], float steps[${n}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {\n               vec4 color = colors[0];\n               #ifdef ${n}_IS_VECTOR\n                   #ifdef ${n}_LINEAR\n                       #ifdef ${n}_WORLDSPACE\n                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);\n                       #else\n                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);\n                       #endif\n                   #else\n                       #ifdef ${n}_WORLDSPACE\n                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);\n                       #else\n                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);\n                       #endif\n                   #endif\n               #else\n                   float dist = length(vWPosition - cameraPosition);\n\t\t\t       float depth = ( dist - near ) / ( far - near );\n               #endif\n\n\n              float p;\n              #ifdef ${n}_SMOOTH\n\t\t\t\tfor ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {\n\t\t\t\t\t\tp = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n              #else\n                for ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {\n                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);\n                   color = mix(color, colors[i], p);\n                 }\n              #endif\n\n               float lalpha = alpha * color.a * mask;\n               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t   \n               return color.rgb;\n\t\t\t}`,[ux.Nodes.vectorLinearWorldSpaceDepth,ux.Nodes.vectorLinearObjectSpaceDepth,ux.Nodes.vectorSphericalObjectSpaceDepth,ux.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${n}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${n}_SMOOTH`),this.isVector.value>.5&&e.define(`${n}_IS_VECTOR`),0===this.gradientType.value&&e.define(`${n}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${n}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let r=e.include(i),o=[];return o.push(this.near.build(e,"f")),o.push(this.far.build(e,"f")),o.push(this.origin.build(e,"v3")),o.push(this.direction.build(e,"v3")),o.push(this.colors.build(e,"v4[]")),o.push(this.steps.build(e,"f[]")),o.push(this.isMask.build(e,"b")),o.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),o.push(this.alpha.build(e,"f")),o.push(this.calpha),e.format(r+"("+o.join(",")+")",this.getType(e),t)}return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},dX=ux;dX.Nodes={vectorLinearWorldSpaceDepth:new xn("float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorLinearObjectSpaceDepth:new xn("float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalWorldSpaceDepth:new xn("float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(vWPosition - origin);\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalObjectSpaceDepth:new xn("float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(position - origin);\n               return ( dist - near ) / ( far - near );\n            }")};var $Ne=class extends _o{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=n,this.intensity=i,this.factor=r,this.isMask=a,this.alpha=o,this.mode=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=new xn("vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {\n\t\t\t\t\tfloat fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );\n\n\t\t\t\t\tfloat lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\t\treturn color;\n\t\t\t\t}"),i=e.include(n),r=[];return r.push(this.color.build(e,"c")),r.push(this.bias.build(e,"f")),r.push(this.scale.build(e,"f")),r.push(this.intensity.build(e,"f")),r.push(this.factor.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},hX=class extends _o{constructor(e,t,n,i,r,o,s,a,l){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=n,this.steps=i,this.offset=r,this.morph=o,this.angle=s,this.isMask=l,this.alpha=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(hX.Nodes.gradient),i=[];return i.push(this.gradientType.build(e,"i")),i.push(this.smooth.build(e,"b")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.offset.build(e,"v2")),i.push(this.morph.build(e,"v2")),i.push(this.angle.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},uX=hX;uX.Nodes={gradient:new xn("vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tvec2 m = morph / vUv.xy;\n\t\t\t\tvec2 rot = vec2( 0.5 + m.x, m.y );\n\t\t\t\tvec2 dt = vec2(\n\t\t\t\t\tcos( angle ) * rot.x - sin( angle ) * rot.y,\n\t\t\t\t\tsin( angle ) * rot.x + cos( angle ) * rot.y\n\t\t\t\t);\n\t\t\t\tvec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;\n\t\t\t\tfloat t = dot( pt, dt ) / dot( dt, dt );\n\t\t\t\tif ( gradientType == 1 ) {\n\t\t\t\t\tt = distance (\n\t\t\t\t\t\t( vUv + morph ) * 3.0,\n\t\t\t\t\t\t( vUv + offset ) + 1.0\n\t\t\t\t\t) + angle;\n\t\t\t\t} else if ( gradientType == 2 ) {\n\t\t\t\t\tfloat polar = atan(\n\t\t\t\t\t\tvUv.x + morph.x - 0.5 + offset.x,\n\t\t\t\t\t\tvUv.y + morph.y - 0.5 + offset.y\n\t\t\t\t\t) * -1.0;\n\t\t\t\t\tt = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );\n\t\t\t\t}\n\n\t\t\t\tfloat p;\n\t\t\t\tif (smoothed) {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], p);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t\t\n\t\t\t\treturn color.xyz;\n\t\t\t}")};var pX=class extends _o{constructor(e,t,n,i,r){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=i,this.alpha=t,this.mode=n,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`,this.rotation=r}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=e.include(pX.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let i=[];return i.push(this.texture.generate(e,"t")),i.push("normal"),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),i.push(this.rotation.build(e,"f")),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},fX=pX;fX.Nodes={matcap:new xn("vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha, float rotation) {\n\t\t\t\t\tvec3 viewDir = normalize( vViewPosition );\n\t\t\t\t\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\t\t\t\t\tvec3 y = cross( viewDir, x );\n\t\t\t\t\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) );\n\t\t\t\t\tuv = mat2( cos(rotation), sin(rotation), -sin(rotation), cos(rotation) ) * uv;\n\t\t\t\t\tuv = uv * 0.495 + 0.5;\n\t\t\t\t\tvec4 matcapColor = texture2D( matcapTex, uv );\n\n\t\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t\t\t\n\t\t\t\t\treturn matcapColor.rgb;\n            \t}")};var Zk=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))(Zk||{}),Cc=function(){let e=new xn("vec3 random3(vec3 c) {\n\t\t\tfloat j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n\t\t\tvec3 r;\n\t\t\tr.z = fract(512.0*j);\n\t\t\tj *= .125;\n\t\t\tr.x = fract(512.0*j);\n\t\t\tj *= .125;\n\t\t\tr.y = fract(512.0*j);\n\t\t\treturn r-0.5;\n\t\t}"),t=new xn("float simplex3d(vec3 p) {\n\t\t\t vec3 s = floor(p + dot(p, vec3(F3)));\n\t\t\t vec3 x = p - s + dot(s, vec3(G3));\n\t\t\t \n\t\t\t vec3 e = step(vec3(0.0), x - x.yzx);\n\t\t\t vec3 i1 = e*(1.0 - e.zxy);\n\t\t\t vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n\t\t\t\t\n\t\t\t vec3 x1 = x - i1 + G3;\n\t\t\t vec3 x2 = x - i2 + 2.0*G3;\n\t\t\t vec3 x3 = x - 1.0 + 3.0*G3;\n\t\t\t \n\t\t\t vec4 w, d;\n\t\t\t \n\t\t\t w.x = dot(x, x);\n\t\t\t w.y = dot(x1, x1);\n\t\t\t w.z = dot(x2, x2);\n\t\t\t w.w = dot(x3, x3);\n\t\t\t \n\t\t\t w = max(0.6 - w, 0.0);\n\t\t\t \n\t\t\t d.x = dot(random3(s), x);\n\t\t\t d.y = dot(random3(s + i1), x1);\n\t\t\t d.z = dot(random3(s + i2), x2);\n\t\t\t d.w = dot(random3(s + 1.0), x3);\n\t\t\t \n\t\t\t w *= w;\n\t\t\t w *= w;\n\t\t\t d *= w;\n\t\t\t \n\t\t\t return dot(d, vec4(52.0));\n\t\t}",[e]);t.keywords.F3=new xo("float F3 0.3333333"),t.keywords.G3=new xo("float G3 0.1666667");let n=new xn("float simplex3dFractal(vec3 m) {\n\t\t\tmat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);\n\t\t\tmat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);\n\t\t\tmat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);\n\t\t\treturn 0.5333333 * simplex3d(m * rot1)\n\t\t\t\t + 0.2666667 * simplex3d(2.0 * m * rot2)\n\t\t\t\t + 0.1333333 * simplex3d(4.0 * m * rot3)\n\t\t\t\t + 0.0666667 * simplex3d(8.0 * m);\n\t\t}",[t]),i=new xn("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),r=new xn("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),o=new xn("float simplexAshima(vec3 v) {\n\t\t  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n\t\t  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\t\t  vec3 i  = floor(v + dot(v, C.yyy) );\n\t\t  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\t\t  vec3 g = step(x0.yzx, x0.xyz);\n\t\t  vec3 l = 1.0 - g;\n\t\t  vec3 i1 = min( g.xyz, l.zxy );\n\t\t  vec3 i2 = max( g.xyz, l.zxy );\n\t\t  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n\t\t  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n\t\t  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\t\t  i = mod(i, 289.0 ); \n\t\t  vec4 p = permute( permute( permute( \n\t\t\t\t\t i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n\t\t\t\t   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n\t\t\t\t   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\t\t  float n_ = 1.0/7.0; // N=7\n\t\t  vec3  ns = n_ * D.wyz - D.xzx;\n\t\t  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\t\t  vec4 x_ = floor(j * ns.z);\n\t\t  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\t\t  vec4 x = x_ *ns.x + ns.yyyy;\n\t\t  vec4 y = y_ *ns.x + ns.yyyy;\n\t\t  vec4 h = 1.0 - abs(x) - abs(y);\n\t\t  vec4 b0 = vec4( x.xy, y.xy );\n\t\t  vec4 b1 = vec4( x.zw, y.zw );\n\t\t  vec4 s0 = floor(b0)*2.0 + 1.0;\n\t\t  vec4 s1 = floor(b1)*2.0 + 1.0;\n\t\t  vec4 sh = -step(h, vec4(0.0));\n\t\t  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n\t\t  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\t\t  vec3 p0 = vec3(a0.xy,h.x);\n\t\t  vec3 p1 = vec3(a0.zw,h.y);\n\t\t  vec3 p2 = vec3(a1.xy,h.z);\n\t\t  vec3 p3 = vec3(a1.zw,h.w);\n\t\t  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n\t\t  p0 *= norm.x;\n\t\t  p1 *= norm.y;\n\t\t  p2 *= norm.z;\n\t\t  p3 *= norm.w;\n\t\t  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n\t\t  m = m * m;\n\t\t  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n\t\t\t\t\t\t\t\t\t\tdot(p2,x2), dot(p3,x3) ) );\n\t\t}",[i,r]),s=new xn("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),a=new xn("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[s]),l=new xn("float noise(vec3 p){\n\t\t\tvec3 a = floor(p);\n\t\t\tvec3 d = p - a;\n\t\t\td = d * d * (3.0 - 2.0 * d);\n\t\t\tvec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n\t\t\tvec4 k1 = perm(b.xyxy);\n\t\t\tvec4 k2 = perm(k1.xyxy + b.zzww);\n\t\t\tvec4 c = k2 + a.zzzz;\n\t\t\tvec4 k3 = perm(c);\n\t\t\tvec4 k4 = perm(c + 1.0);\n\t\t\tvec4 o1 = fract(k3 * (1.0 / 41.0));\n\t\t\tvec4 o2 = fract(k4 * (1.0 / 41.0));\n\t\t\tvec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n\t\t\tvec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\t\t\treturn o4.y * d.y + o4.x * (1.0 - d.y);\n\t\t}",[a]),c=new xn("float fbm(vec3 x) {\n\t\t\tfloat v = 0.0;\n\t\t\tfloat a = 0.5;\n\t\t\tvec3 shift = vec3(100);\n\t\t\tfor (int i = 0; i < NUM_OCTAVES; ++i) {\n\t\t\t\tv += a * noise(x);\n\t\t\t\tx = x * 2.0 + shift;\n\t\t\t\ta *= 0.5;\n\t\t\t}\n\t\t\treturn v;\n\t\t}",[l]);c.keywords.NUM_OCTAVES=new xo("int NUM_OCTAVES 5");let d=new xn("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),h=new xn("float perlin(vec3 P){\n\t\t  vec3 Pi0 = floor(P);\n\t\t  vec3 Pi1 = Pi0 + vec3(1.0);\n\t\t  Pi0 = mod(Pi0, 289.0);\n\t\t  Pi1 = mod(Pi1, 289.0);\n\t\t  vec3 Pf0 = fract(P);\n\t\t  vec3 Pf1 = Pf0 - vec3(1.0);\n\t\t  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\t\t  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n\t\t  vec4 iz0 = Pi0.zzzz;\n\t\t  vec4 iz1 = Pi1.zzzz;\n\t\t  vec4 ixy = permute(permute(ix) + iy);\n\t\t  vec4 ixy0 = permute(ixy + iz0);\n\t\t  vec4 ixy1 = permute(ixy + iz1);\n\t\t  vec4 gx0 = ixy0 / 7.0;\n\t\t  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n\t\t  gx0 = fract(gx0);\n\t\t  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n\t\t  vec4 sz0 = step(gz0, vec4(0.0));\n\t\t  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n\t\t  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\t\t  vec4 gx1 = ixy1 / 7.0;\n\t\t  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n\t\t  gx1 = fract(gx1);\n\t\t  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n\t\t  vec4 sz1 = step(gz1, vec4(0.0));\n\t\t  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n\t\t  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\t\t  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n\t\t  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n\t\t  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n\t\t  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n\t\t  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n\t\t  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n\t\t  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n\t\t  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\t\t  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n\t\t  g000 *= norm0.x;\n\t\t  g010 *= norm0.y;\n\t\t  g100 *= norm0.z;\n\t\t  g110 *= norm0.w;\n\t\t  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n\t\t  g001 *= norm1.x;\n\t\t  g011 *= norm1.y;\n\t\t  g101 *= norm1.z;\n\t\t  g111 *= norm1.w;\n\t\t  float n000 = dot(g000, Pf0);\n\t\t  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n\t\t  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n\t\t  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\t\t  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\t\t  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n\t\t  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n\t\t  float n111 = dot(g111, Pf1);\n\t\t  vec3 fade_xyz = fade(Pf0);\n\t\t  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n\t\t  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n\t\t  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n\t\t  return 2.2 * n_xyz;\n\t\t}",[i,r,d]),p=new xn("float hashwithoutsine13(vec3 p3)\n\t\t{\n\t\t\tp3  = fract(p3 * .1031);\n\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t}"),g=new xn("vec3 hashwithoutsine33(vec3 p3)\n\t\t{\n\t\t\tp3 = fract(p3 * vec3(.1031, .1030, .0973));\n\t\t\tp3 += dot(p3, p3.yxz+33.33);\n\t\t\treturn fract((p3.xxy + p3.yxx)*p3.zyx);\n\t\t}"),v=new xn("float metric(in vec3 p)\n\t\t{\n\t\t\t// L2 \n\t\t\treturn length(p);\n\n\t\t\t// Chebyshev \n\t\t\t// vec3 a = abs(p);\n\t\t\t// return max(a.x, max(a.y, a.z));\n\t\t}"),y=new xn("float smin( float a, float b, float k )\n\t\t{\n\t\t\tfloat h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);\n\t\t\tfloat correction = k * h * (1.0 - h);\n\t\t\treturn mix(b, a, h) - correction;\n\t\t}"),b=new xn("float smax( float a, float b, float k )\n\t\t{\n\t\t\tfloat h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);\n\t\t\tfloat correction = k * h * (1.0 - h);\n\t\t\treturn mix(a, b, h) + correction;\n\t\t}"),P=new xn("float remap(float value, float input_min, float input_max, float output_min, float output_max) {\n\t\t\t// Compute width of each interval\n\t\t\tfloat input_width = input_max - input_min;\n\t\t\tfloat output_width = output_max - output_min;\n\t\t\n\t\t\t// Convert input range into a 0-1 range \n\t\t\tfloat scaled = (value - input_min) / input_width;\n\t\t\n\t\t\t// Convert the 0-1 range into a value in output range\n\t\t\treturn output_min + (scaled * output_width);\n\t\t}");return{simplex:t,simplexFractal:n,simplexAshima:o,fbm:c,perlin:h,voronoi:new xn('float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) \n\t\t{\n\t\t\t// Integer and fractional parts of this point\'s coordinates\n\t\t\tivec3 p = ivec3(floor(x));\n\t\t\tvec3 f = fract(x);\n\n\t\t\t// Different variables that we will use to construct noise:\n\t\t\t//\n\t\t\t// f1: distance to the closest feature point\n\t\t\t// f2: distance to the second closest feature point\n\t\t\t// e: distance to the closest edge (cell boundary)\n\t\t\t//\n\t\t\t// We also compute "smooth" versions of all of the above quantites, essentially\n\t\t\t// replacing "hard" minimums with "smooth" minimums (described by IQ)\n\t\t\tfloat f1_smooth = 8.0;\n\t\t\tfloat f1 = 8.0;\n\t\t\tfloat f2_smooth = 8.0;\n\t\t\tfloat f2 = 8.0;\n\t\t\tfloat e_smooth = 8.0;\n\t\t\tfloat e = 8.0;\n\n\t\t\t// Variables stored from closest cell\n\t\t\tivec3 mb;\n\t\t\tvec3 mr; \n\n\t\t\tint steps = quality;\n\t\t\t\n\t\t\tfor (int x = -steps; x <= steps; x++) \n\t\t\tfor (int y = -steps; y <= steps; y++)\n\t\t\tfor (int z = -steps; z <= steps; z++)\n\t\t\t{\n\t\t\t\tivec3 b = ivec3(x, y, z);\n\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\tfloat d = length(r);\n\t\t\t\t\n\t\t\t\tf1_smooth = smin(d, f1_smooth, smoothness);\n\n\t\t\t\t// Store un-smoothed distances too \n\t\t\t\tif (d < f1) \n\t\t\t\t{\n\t\t\t\t\tf2 = f1;\n\t\t\t\t\tf1 = d;\n\n\t\t\t\t\tmb = ivec3(x, y, z);\n\t\t\t\t\tmr = r;\n\t\t\t\t} \n\t\t\t\telse if (d < f2) \n\t\t\t\t{\n\t\t\t\t\tf2 = d;\n\t\t\t\t}\n\t\t\t}\t\n\t\t\t\n\t\t\tfloat id = hashwithoutsine13(vec3(p + mb) + seed);\n\n\t\t\t// Second pass for edge distance  \n\t\t\tfor (int x = -steps; x <= steps; x++) \n\t\t\tfor (int y = -steps; y <= steps; y++)\n\t\t\tfor (int z = -steps; z <= steps; z++)\n\t\t\t{\n\t\t\t\t// Start search at the cell that contains the closest point to "x" (found in 1st pass)\n\t\t\t\tivec3 b = mb + ivec3(x, y, z);\n\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\tfloat d1 = dot(0.5 * (mr + r), (r - mr)); \t\t\t\t// IQ normalizes "r - mr" but that breaks things for the smooth version?\n\t\t\t\tfloat d2 = dot(0.5 * (mr + r), normalize(r - mr));\n\n\t\t\t\te_smooth = smin(d1, e_smooth, smoothness);\n\n\t\t\t\te = min(e, d2);\n\n\t\t\t\t// Also compute a smooth version of F2 in this pass\n\t\t\t\t{\n\t\t\t\t\tivec3 b = ivec3(x, y, z);\n\t\t\t\t\tif (b != mb) \n\t\t\t\t\t{\n\t\t\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\t\t\tfloat d = length(r);\n\n\t\t\t\t\t\tf2_smooth = smin(d, f2_smooth, smoothness);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Different visualization modes \n\t\t\tif (style == 0) \n\t\t\t{\n\t\t\t\treturn f1_smooth;\n\t\t\t}\n\t\t\tif (style == 1) \n\t\t\t{\n\t\t\t\treturn f2_smooth;\n\t\t\t}\n\t\t\tif (style == 2) \n\t\t\t{\n\t\t\t\treturn f2_smooth - f1_smooth;\n\t\t\t\t\n\t\t\t\t// "Pebbles" also cool\n\t\t\t\t//return step(0.2, f2_smooth - f1_smooth);\n\t\t\t}\n\t\t\tif (style == 3) \n\t\t\t{\n\t\t\t\t// This one is really good for rock / stone effects\n\t\t\t\tfloat a = f1; \n\t\t\t\tfloat b = f2;\n\t\t\t\tfloat k = 3.0;\n\t\t\t\tfloat h = max(k - abs(a - b), 0.0) / k;\n\t\t\t\tfloat final = min(a, b) - h * h * k * (1.0 / 4.0);\n\t\t\t\treturn final;\n\t\t\t}\n\t\t\tif (style == 4) \n\t\t\t{\n\t\t\t\t// Some random adjustments to make this style stand out more \n\t\t\t\treturn exp(5.0 * e_smooth);\n\t\t\t}\n\t\t\tif (style == 5) \n\t\t\t{\n\t\t\t\treturn pow(f1_smooth, 3.0);\n\t\t\t}\n\t\t\tif (style == 6) \n\t\t\t{\t\t\t\t\n\t\t\t\tconst float eps = 0.0125;\n\n\t\t\t\t// Thicker lines as the user increases the smoothness slider\n\t\t\t\tfloat thickness = smoothness * 0.25 + eps;\n\n\t\t\t\t// Blurrier lines as the user increases the smoothness slider\n\t\t\t\tfloat blur = pow(smoothness, 3.0) * 0.25 + eps;\n\n\t\t\t\treturn smoothstep(\n\t\t\t\t\tthickness - thickness * blur, \n\t\t\t\t\tthickness + thickness * blur, \n\t\t\t\t\te\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (style == 7) \n\t\t\t{\n\t\t\t\treturn hashwithoutsine13(vec3(p + mb) + seed);\n\t\t\t}\n\t\t}\n\t',[p,g,v,y,b,P])}}(),mX=class extends _o{constructor(e,t,n,i,r,o,s,a,l,c,d,h,p,g,v,y,b,P,O){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=n,this.fA=i,this.fB=r,this.distortion=o,this.colorA=s,this.colorB=a,this.colorC=l,this.colorD=c,this.noiseType=h,this.voronoiStyle=g,this.highCut=v,this.lowCut=y,this.smoothness=b,this.seed=P,this.quality=O,this.isMask=p,this.alpha=d,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,n,i,r){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let o=Object.values(Zk)[this.noiseType.value],a=new xn(`vec3 ${o}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) \n\t\t\t{\n                // Prevent scale of zero \n\t\t\t\tscale = max(abs(scale), 0.001);\n\n\t\t\t\tvec3 st = position / size;\n\t\t\t\tst /= scale;\n\n\t\t\t\t${"voronoi"==o?`\n\t\tfloat v = ${o}(st + move, voronoiStyle, smoothness, seed, quality);\n\n\t\t// Apply clipping to colors\n\t\tv = remap(v, lowCut, highCut, 0.0, 1.0);\n\t\tv = smax(v, 0.0, smoothness * 0.25);\n\t\tv = smin(v, 1.0, smoothness * 0.25);\n\n\t\t// Note that the voronoi mode only uses colors "A" and "C" from the UI \n\t\tvec4 color = mix(colorA, colorC, v); \n\t\t`:`\n\t\tvec3 q = vec3(${o}(st),\n\t\t\t\t\t   ${o}(st + vec3(1.0)),\n\t\t\t\t\t   ${o}(st + vec3(1.0)));\n\t\tvec3 r = vec3(${o}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),\n\t\t\t\t\t  ${o}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), \n\t\t\t\t\t  ${o}(st * q));\n\t\tfloat f = ${o}(st + r);\n\t\tvec4 color;\n\t\tcolor = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));\n\t\tcolor = mix(color, colorC, clamp(length(q), 0.0, 1.0));\n\t\tcolor = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));\n\t\t`}\n\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t}`,[Cc.simplex,Cc.simplexFractal,Cc.simplexAshima,Cc.fbm,Cc.perlin,Cc.voronoi]),l=e.include(a),c=[];return c.push(this.scale.build(e,"f")),c.push(this.size.build(e,"v3")),c.push(this.move.build(e,"f")),c.push(this.fA.build(e,"v2")),c.push(this.fB.build(e,"v2")),c.push(this.distortion.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.colorC.build(e,"v4")),c.push(this.colorD.build(e,"v4")),c.push(this.voronoiStyle.build(e,"i")),c.push(this.highCut.build(e,"f")),c.push(this.lowCut.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.seed.build(e,"f")),c.push(this.quality.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}};mX.numOctaves=5;var gX=class extends _o{constructor(e,t,n,i,r,o,s,a,l,c,d,h,p,g,v,y){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=n,this.contourWidth=i,this.contourThreshold=r,this.outlineThreshold=o,this.contourFrequency=s,this.outlineSmoothing=a,this.contourDirection=l,this.positionalLines=c,this.compensation=d,this.resolution=h,this.normalMap=p,this.depthMap=g,this.pixelRatio=v,this.alpha=y,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${n}_offset`),this.firstTime){let i=this.outlineWidth.build(e,"f"),r=this.resolution.build(e,"v2"),o=this.compensation.build(e,"b"),s=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(i,"uniform float"),e.addVertexParsVariable(r,"uniform vec2"),e.addVertexParsVariable(o,"uniform bool"),e.addVertexParsVariable(s,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`\n                vID = randomColor.r;\n                vec2 ${n}_offset = vec2(0.0);\n                if (${o}) {\n                    vec4 ${n}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));\n                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the\n                    // normals face the camera directly. So we hackily fix this by offsetting the normal\n                    // by a tiny amount.\n                    vec3 ${n}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;\n                    ${n}_offset = normalize(${n}_clipNormal.xy) / ${r} * (${i} / 2.0) * ${n}_clipPosition.w * 2.0 * ${s};\n                    ${n}_clipPosition.xy += ${n}_offset;\n                    // TODO(MAX): To handle multiple outline layers, we only want to extrude\n                    // if this offset is the biggest of all the potential offsets\n                    gl_Position = ${n}_clipPosition;\n                }\n            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(gX.Nodes.outline),r=[];return r.push(this.outlineColor.build(e,"c")),r.push(this.contourColor.build(e,"c")),r.push(this.outlineWidth.build(e,"f")),r.push(this.contourWidth.build(e,"f")),r.push(this.contourThreshold.build(e,"f")),r.push(this.outlineThreshold.build(e,"f")),r.push(this.contourFrequency.build(e,"f")),r.push(this.outlineSmoothing.build(e,"f")),r.push(this.contourDirection.build(e,"v3")),r.push(this.positionalLines.build(e,"b")),r.push(this.resolution.build(e,"v2")),r.push(this.normalMap.getTexture(e,"t")),r.push(this.depthMap.getTexture(e,"t")),r.push(this.pixelRatio.build(e,"f")),r.push(this.compensation.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),this.firstTime=!this.firstTime,e.format(i+"("+r.join(",")+")",this.getType(e),t)}return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},vX=gX;vX.Nodes=function(){let e=new xn("\nfloat sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)\n{\n    vec2 halton = haltonSequence[frameIndex];\n    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n    float temporalAngle  = temporalOffset * PI2;\n\n    vec2 texelSize = (vec2(1.0) / resolution);\n    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;\n\n    vec2 uvSamples[9];\n    vec4 normalSamples[9];\n\n\tuvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);\n\tuvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);\n\tuvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);\n\tuvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);\n\tuvSamples[4] = uv;\n\tuvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);\n\tuvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);\n\tuvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);\n\tuvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);\n\n\n    normalSamples[0] = texture2D(t, uvSamples[0]);\n    normalSamples[1] = texture2D(t, uvSamples[1]);\n    normalSamples[2] = texture2D(t, uvSamples[2]);\n    normalSamples[3] = texture2D(t, uvSamples[3]);\n    normalSamples[4] = texture2D(t, uvSamples[4]);\n    normalSamples[5] = texture2D(t, uvSamples[5]);\n    normalSamples[6] = texture2D(t, uvSamples[6]);\n    normalSamples[7] = texture2D(t, uvSamples[7]);\n    normalSamples[8] = texture2D(t, uvSamples[8]);\n\n    float depthBias = 0.0001;\n    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!\n    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n\n    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);\n  \tvec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);\n\n    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));\n    return edgeNormal;\n}\n");return{outline:new xn("vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {\n                vec3 result = outlineColor;\n                float resultAlpha = 0.0;\n\n                vec3 N = normalize(vWNormal);\n                vec2 nuv = (gl_FragCoord.xy / resolution);\n                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);\n                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);\n\n                //resultAlpha = 1.0;\n                //result = vec3(sobelSample);\n\n                float t = 1.0 - contourThreshold;\n                if(positionalLines) {\n                    vec3 NDir = position * contourDirection;\n                    float NT = NDir.x + NDir.y + NDir.z;\n                    float f  = fract(NT * contourFrequency * 0.01);\n                    float df = fwidth(NT * contourFrequency);\n\n                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);\n                    if (g < 1.0 && resultAlpha == 0.0) {\n                        result = contourColor;\n                        resultAlpha = 1.0;\n                    }\n                 }\n                 else {\n                    vec3 NDir = N * contourDirection;\n                    float NT = NDir.x + NDir.y + NDir.z;\n                    float df = fwidth(NT * contourThreshold);\n                    float f = sin(NT * 1.0 * contourFrequency);\n                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);\n\n                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {\n                        result = contourColor;\n                        resultAlpha = 1.0 - g;\n                    }\n                 }\n\n                 float lalpha = alpha * resultAlpha * mask;\n                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\t\t\t\t \n                 return result;\n             }",[e])}}();var Vp=class extends _o{constructor(e,t,n,i,r,o,s,a,l,c,d,h,p,g,v,y,b,P){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=n,this.blending=i,this.offset=r,this.colorA=o,this.colorB=s,this.frequency=a,this.size=l,this.variation=c,this.smoothness=d,this.zigzag=h,this.rotation=p,this.vertical=g,this.horizontal=v,this.sides=y,this.isMask=P,this.alpha=b,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n;switch(e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float"),this.style.value){case 0:default:n="circle";break;case 1:n="ring";break;case 2:n="polygon";break;case 3:n="xcross";break;case 4:n="diamond";break;case 5:n="checkerboard";break;case 6:n="line";break;case 7:n="wave"}let i=`g${this.uuid.toString().replace(/-/g,"")}`,r=new xn("float hashwithoutsine12(vec2 p)\n\t\t\t\t{\n\t\t\t\t\tvec3 p3 = fract(vec3(p.xyx) * .1031);\n\t\t\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t\t\t}"),o=new xn("vec2 rotate_uv(in vec2 uv, float a, bool repeat) \n\t\t\t\t{\n\t\t\t\t\tconst float mid = 0.5;\n\t\t\t\t\tfloat radians = a * (PI / 180.0);\n\t\t\t\t\tvec2 rotated = vec2(\n\t\t\t\t\t\tcos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,\n\t\t\t\t\t\tcos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid\n\t\t\t\t\t);\n\t\t\t\t\treturn repeat ? fract(rotated): rotated;\n\t\t\t\t}"),s="";if(4===this.projection.value)s=`\n\t\t\t\tvec3 p = position;\n\t\t\t\tfloat factor = 0.0125;\n\t\t\t\tvec2 uv0 = fract(p.xy * factor);\n\t\t\t\tvec2 uv1 = fract(p.zy * factor);\n\t\t\t\tvec2 uv2 = fract(p.xz * factor);\n\t\t\t\t\n\t\t\t\tuv0 = rotate_uv(uv0 + offset, rotation, true);\n\t\t\t\tuv1 = rotate_uv(uv1 + offset, rotation, true);\n\t\t\t\tuv2 = rotate_uv(uv2 + offset, rotation, true);\n\t\n\t\t\t\tfloat d0 = ${2===this.style.value?`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\tfloat d1 = ${2===this.style.value?`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\tfloat d2 = ${2===this.style.value?`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\t\n\t\t\t\t// Range from 3 to 128 seems to be good\n\t\t\t\tfloat exponent = (1.0 - blending) * 125.0 + 3.0;\n\n\t\t\t\tvec3 n = vObjectNormal;\n\t\t\t\tvec3 weights = abs(normalize(n));\n\t\t\t\tweights = pow(weights, vec3(exponent));\n\t\t\t\tweights /= dot(weights, vec3(1.0));\n\t\t\t\td0 *= weights.z;\n\t\t\t\td1 *= weights.x;\n\t\t\t\td2 *= weights.y;\n\t\t\t\tfloat draw = d0 + d1 + d2;\n\t\n\t\t\t\tvec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;\n\t\t\t\t`;else{let d=2===this.style.value?`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,h="";h=0===this.axis.value?"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.y, p.z);\n\t\t\t\t\tfloat phi = acos(p.x / radius);":1===this.axis.value?"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.x, p.z);\n\t\t\t\t\tfloat phi = acos(p.y / radius);":"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.y, p.x);\n\t\t\t\t\tfloat phi = acos(p.z / radius);";let p="";switch(this.projection.value){case 0:p="custom_uv = vUv.st;";break;case 1:case 3:default:break;case 2:p=`\n\t\t\t\t\t\t\tvec3 p = position;\n\t\t\t\t\t\t\t${h}\n\t\t\t\t\t\t\tcustom_uv = vec2(theta, phi);\n\t\t\t\t\t\t\tcustom_uv /= PI;\n\t\t\t\t\t\t\t`}s=`\n\t\t\t\tvec2 custom_uv;\n\t\t\t\t${p}\n\t\n\t\t\t\tcustom_uv += offset;\n\t\t\t\tcustom_uv = fract(custom_uv);\n\t\t\t\tcustom_uv = rotate_uv(custom_uv, rotation, true);\n\t\n\t\t\t\tfloat draw = ${d};\n\t\t\t\t`}let a=new xn(`vec3 ${i}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\t\tconst float TWO_PI = PI * 2.0;\n\t\t\t\t\tfloat smoothness_remapped = pow(smoothness, 5.0);\t\n\n\t\t\t\t\t${s}\n\n\t\t\t\t\t// Construct final output color\n\t\t\t\t\tvec4 color = mix(colorA, colorB, draw);\n\t\t\t\t\tcolor.a = clamp(color.a, 0.0, 1.0);\n\n\t\t\t\t\t// Apply cuts\n\t\t\t\t\tcolor.a *= \n\t\t\t\t\t\tstep(vertical.x, custom_uv.y) * \n\t\t\t\t\t\tstep(custom_uv.y, vertical.y);\n\t\t\t\t\tcolor.a *= \n\t\t\t\t\t\tstep(horizontal.x, abs(custom_uv.x)) * \n\t\t\t\t\t\tstep(abs(custom_uv.x), horizontal.y);\n\n\t\t\t\t\t// Accumulate alpha \n\t\t\t\t\tfloat lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t\t}`,[o,r,Vp.DrawFunctions.circle,Vp.DrawFunctions.ring,Vp.DrawFunctions.polygon,Vp.DrawFunctions.cross,Vp.DrawFunctions.diamond,Vp.DrawFunctions.checkerboard,Vp.DrawFunctions.line,Vp.DrawFunctions.wave]),l=e.include(a),c=[];return c.push("normal"),c.push(this.blending.build(e,"f")),c.push(this.style.build(e,"i")),c.push(this.offset.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.frequency.build(e,"v2")),c.push(this.size.build(e,"f")),c.push(this.variation.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.zigzag.build(e,"f")),c.push(this.rotation.build(e,"f")),c.push(this.vertical.build(e,"v2")),c.push(this.horizontal.build(e,"v2")),c.push(this.sides.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},yX=Vp;yX.DrawFunctions=function(){let e=new xn("float hashwithoutsine12(vec2 p) {\n\t\t\t\tvec3 p3 = fract(vec3(p.xyx) * 0.1031);\n\t\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t\t}"),t=new xn("vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {\n                // Create tiles in UV-space\n                uv *= frequency;\n\n                // Integer coords\n                vec2 i = floor(uv);\n\n                // Offset every other row based on zigzag param, then compute fractional coords\n                float row_offset = mod(i.y, 2.0);\n                uv.x += row_offset * zigzag;\n                vec2 f = fract(uv);\n\n\t\t\t\t// Rotate the tile itself:\n\t\t\t\t// const float mid = 0.5;\n\t\t\t\t// f = vec2(\n\t\t\t\t// \tcos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,\n\t\t\t\t// \tcos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid\n\t\t\t\t// );\n\t\t\t\t// f = fract(f);\n\n                f = f * 2.0 - 1.0;\n\n\t\t\t\t// Recompute integer coords after shifting - then, random value per tile \n\t\t\t\ti = floor(uv);\n\t\t\t\tfloat rand = (hashwithoutsine12(i) * 5.0 + 1.0);\n\t\t\t\tfloat jitter = mix(1.0, rand, variation);\n\t\t\t\tf *= jitter;\n\n                return f;\n            }",[e]);return{tileAndCenter:t,circle:new xn("float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(\n                    -smoothness, \n                     smoothness, \n                     length(f) - size\n                );\n            }",[t]),ring:new xn("float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n\n\t\t\t\tfloat d = length(f);\n                const float inner_width = 0.5;\n\n                float outer = smoothstep(-smoothness, smoothness, d - size);\n                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);\n\t\t\t\treturn outer + (1.0 - inner);   \n            }",[t]),polygon:new xn("float sdf_ngon(in vec2 p, in float r, in int n) {\n                float an = (PI * 2.0) / float(n);\n                float he = r * tan(0.5 * an);\n                \n                // Rotate to first sector\n                p = -p.yx; \n                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);\n                vec2  cs = vec2(cos(bn), sin(bn));\n                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;\n            \n                // Side of polygon\n                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);\n            }\n            \n            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));\n            }",[t]),cross:new xn("float sdf_cross(in vec2 p, in vec2 b, float r ) {\n                p = abs(p); \n\t\t\t\tp = (p.y > p.x) ? p.yx : p.xy;\n                vec2  q = p - b;\n                float k = max(q.y, q.x);\n                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);\n                return sign(k) * length(max(w, 0.0)) + r;\n            }\n            \n            // Avoid namespace conflicts \n            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));\n            }",[t]),diamond:new xn("float ndot(vec2 a, vec2 b) { \n                return a.x*b.x - a.y*b.y; \n            }\n            \n            float sdf_diamond(in vec2 p, in vec2 b) {\n                p = abs(p);\n                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);\n                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));\n                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);\n            }\n\n            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n\t            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));\n            }",[t]),checkerboard:new xn("float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                uv *= frequency;\n                vec2 i = floor(uv);\n\n                float offset = mod(i.y, 2.0);\n\n                uv.x += offset + zigzag * offset;\n                float x = floor(uv.x);\n                \n                return mod(x, 2.0);\n            }"),line:new xn("float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);\n\t\t\t\t\n\t\t\t\t// Different approach for variation param here\n\t\t\t\tfloat row = floor(uv * frequency).y;\n\t\t\t\tfloat rand = hashwithoutsine12(vec2(row));\n\t\t\t\tfloat s = mix(size, size * rand, variation);\n\n\t\t\t\treturn smoothstep(\n\t\t\t\t\ts - smoothness, \n\t\t\t\t\ts + smoothness, \n\t\t\t\t\tabs(f.y)\n\t\t\t\t);\n            }",[t]),wave:new xn("// Uses bisection \n            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {\n                // Convert all data to a primitive cosine wave\n                p = c * (p - vec2(d, a));\n                \n                const float TWO_PI = PI * 2.0;\n\n                // Reduce to principal half cycle\n                p.x = mod(p.x, TWO_PI); \n                if (p.x > PI) {\n                    p.x = TWO_PI - p.x;\n                }\n            \n                // Find zero of derivative (minimize distance)\n                float xa = 0.0;\n                float xb = TWO_PI;\n\n                // 24 bit precision\n                for (int i = 0; i < 24; i++) {\n                    float x = 0.5 * (xa + xb);\n                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));\n                    if (y < 0.0) xa = x; \n                    else xb = x;\n                }\n                float x = 0.5 * (xa + xb);\n                \n                // Compute distance    \n                vec2 q = vec2(x, b * c * cos(x));\n                return length(p - q) / c;\n            }\n\n            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                float repeat = frequency.x;\n                uv *= repeat;\n                vec2 i = floor(uv);\n                float row_offset = mod(i.y, 2.0);\n                uv.x += row_offset * zigzag;\n                vec2 f = vec2(uv.x, fract(uv.y));\n\n                // Generalized cosine: y(x) = a + b * cos(cx + d)\n                const float amplitude = 0.125;\n                float wave_frequency = frequency.y * 0.1;\n                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);\n\n\t\t\t\t// Different approach for variation param here\n\t\t\t\tfloat rand = hashwithoutsine12(vec2(i.y));\n\t\t\t\tfloat s = mix(size, size * rand, variation);\n\n                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);\n            }")}}();var bX=class extends _o{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=n,this.noiseStrength=i,this.noiseScale=r,this.offset=o,this.isMask=a,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(bX.Nodes.rainbow),i=[];return i.push(this.filmThickness.build(e,"f")),i.push(this.movement.build(e,"f")),i.push(this.wavelengths.build(e,"v3")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.offset.build(e,"v3")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},_X=bX;_X.Nodes=function(){let e=new xn("vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {\n                 vec3 st = position / noiseScale;\n\t\t\t\t vec3 q = vec3(simplex3d(st),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)));\n\n\t\t\t\t vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st * q));\n\n                 float noise = simplex3d(st + r);\n\n                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);\n             }",[Cc.simplex]);return{rainbow:new xn("vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\tvec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);\n\n\t\t\t\tfloat rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);\n\n\t\t\t\tfloat lalpha = alpha * rainbowContribution * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn res;\n             }",[e])}}();var xX=class extends _o{constructor(e,t,n,i,r,o,s,a,l,c){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=n,this.source=i,this.isWorldSpace=r,this.noiseStrength=o,this.noiseScale=s,this.shadowColor=a,this.offset=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let n=e.include(xX.Nodes.toon),i=[];return i.push(this.positioning.build(e,"i")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.source.build(e,"v3")),i.push(this.isWorldSpace.build(e,"b")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.shadowColor.build(e,"v4")),i.push(this.offset.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},wX=xX;wX.Nodes=function(){let e=new xn("float rand(float n) {\n\t\t\t\treturn fract(sin(n) * 43758.5453123);\n\t\t\t}"),t=new xn("float hash1(float p) { \n\t\t\t\tp = fract(p * 0.011); \n\t\t\t\tp *= p + 7.5; \n\t\t\t\tp *= p + p; \n\t\t\t\treturn fract(p); \n\t\t\t}"),n=new xn("float valueNoise(vec3 x) {\n\t\t\t\tconst vec3 step = vec3(110, 241, 171);\n\t\t\t\n\t\t\t\tvec3 i = floor(x);\n\t\t\t\tvec3 f = fract(x);\n\t\t\t \n\t\t\t\t// For performance, compute the base input to a 1D hash from the integer part of the argument and the \n\t\t\t\t// incremental change to the 1D based on the 3D -> 1D wrapping\n\t\t\t\tfloat n = dot(i, step);\n\t\t\t\n\t\t\t\tvec3 u = f * f * (3.0 - 2.0 * f);\n\t\t\t\treturn mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),\n\t\t\t\t\t\t\t   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\n\t\t\t\t\t\t   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),\n\t\t\t\t\t\t\t   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\n\t\t\t}",[t]),i=new xn("vec3 hash3(vec3 x) {\n\t\t\t\tx = vec3(dot(x,vec3(127.1, 311.7, 74.7)),\n\t\t\t\t\t\t dot(x,vec3(269.5, 183.3, 246.1)),\n\t\t\t\t\t\t dot(x,vec3(113.5, 271.9, 124.6)));\n\t\t\t\n\t\t\t\treturn fract(sin(x)*43758.5453123);\n\t\t\t}"),r=new xn('vec3 voronoiNoise(in vec3 x)\n\t\t\t{\n\t\t\t\tvec3 p = floor(x);\n\t\t\t\tvec3 f = fract(x);\n\n\t\t\t\tfloat id = 0.0;\n\t\t\t\tvec2 res = vec2(100.0);\n\n\t\t\t\tfor(int k=-1; k<=1; k++)\n\t\t\t\tfor(int j=-1; j<=1; j++)\n\t\t\t\tfor(int i=-1; i<=1; i++)\n\t\t\t\t{\n\t\t\t\t\tvec3 b = vec3(float(i), float(j), float(k));\n\n\t\t\t\t\t// Comment out the "+ hash(p + b);" part below to get "square" cells\n\t\t\t\t\tvec3 r = vec3(b) - f + hash3(p + b);\n\t\t\t\t\tfloat d = dot(r, r);\n\n\t\t\t\t\tif (d < res.x)\n\t\t\t\t\t{\n\t\t\t\t\t\tid = dot(p + b, vec3(1.0, 57.0, 113.0));\n\t\t\t\t\t\tres = vec2(d, res.x);\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse if (d < res.y)\n\t\t\t\t\t{\n\t\t\t\t\t\tres.y = d;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn vec3(sqrt(res), abs(id));\n\t\t\t}\n\t\t\t',[i]);return{toon:new xn('vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {\n\t\t\t\tfloat t = 0.0;\n\t\t\t\tfloat shadow = 1.0;\n\n\t\t\t\tif (positioning == 0) {\n\n\t\t\t\t\t// Can\'t do this mode if lighting is "none"\n\t\t\t\t\t#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))\n\n\t\t\t\t\t\t// Algorithm from Chapter 10 of Graphics Shaders\n\t\t\t\t\t\tconst vec3 weights = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\t\t\tvec3 lpos;\n\t\t\t\t\t\tvec3 l;\n\t\t\t\t\t\tfloat dproduct;\n\n\t\t\t\t\t\t#if (NUM_POINT_LIGHTS > 0)\n\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tPointLightShadow pointLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_POINT_LIGHTS; i++) {\n\t\t\t\t\t\t\t\t// Light positions are in view-space for some reason?\n\t\t\t\t\t\t\t\tlpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;\n\t\t\t\t\t\t\t\tl = normalize(lpos - worldPosition);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// TODO: we want to use "intensity" but it isn\'t available in the shader code\n\t\t\t\t\t\t\t\t//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);\n\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tpointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getPointShadow( \n\t\t\t\t\t\t\t\t\t\t\tpointShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowRadius,\n\t\t\t\t\t\t\t\t\t\t\tvPointShadowCoord[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowCameraNear, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowCameraFar);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#if NUM_DIR_LIGHTS > 0 \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tDirectionalLightShadow directionalLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_DIR_LIGHTS; i++) {\n\t\t\t\t\t\t\t\t// Use the direction vector for directional lights instead\n\t\t\t\t\t\t\t\tl = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;\n\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tdirectionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getShadow( \n\t\t\t\t\t\t\t\t\t\tUNROLLED_LOOP_INDEX,\n\t\t\t\t\t\t\t\t\t\tdirectionalShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowRadius, \n\t\t\t\t\t\t\t\t\t\tvDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0 \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tSpotLightShadow spotLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_SPOT_LIGHTS; i++) {\n\t\t\t\t\t\t\t\tlpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;\n\t\t\t\t\t\t\t\tl = normalize(lpos - worldPosition);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tspotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getShadow(\n\t\t\t\t\t\t\t\t\t\tUNROLLED_LOOP_INDEX,\n\t\t\t\t\t\t\t\t\t\tspotShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowRadius, \n\t\t\t\t\t\t\t\t\t\tvSpotLightCoord[UNROLLED_LOOP_INDEX]);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\tt = clamp(t, 0.0, 1.0);\n\t\t\t\t\n\t\t\t\t\t#endif\n\n\t\t\t\t} else if (positioning == 1) {\n\t\t\t\t\t\n\t\t\t\t\tvec3 origin = mix(position, worldPosition, float(isWorldSpace));\n\t\t\t\t\tvec3 direction = normalize(source - origin);\n\t\t\t\t\tt = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;\t\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvec3 origin = worldPosition;\n\t\t\t\t\tvec3 source = cameraPosition - offset;\n\t\t\t\t\tvec3 direction = normalize(source - origin);\n\t\t\t\t\tt = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;\t\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\tif (noiseStrength > 0.0) {\n\t\t\t\t\t// Distort with noise\n\t\t\t\t\tvec3 st = position / noiseScale;\n\t\t\t\t\t\n\t\t\t\t\t// Voronoi "smooth" noise\n\t\t\t\t\tfloat noise = 1.0 - voronoiNoise(st).x;\n\n\t\t\t\t\t// Voronoi cellular noise\n\t\t\t\t\t//float noise = 1.0 - rand(voronoiNoise(st).z);\n\n\t\t\t\t\t// Position warp noise\n\t\t\t\t\t// vec3 offset = vec3(\n\t\t\t\t\t// \tsimplex3d(st),\n\t\t\t\t\t// \tsimplex3d(st + vec3(111.1, 143.89, 217.19)),\n\t\t\t\t\t// \tsimplex3d(st + vec3(171.1, 247.89, 117.23))\n\t\t\t\t\t// );\n\t\t\t\t\t// st += offset;\n\t\t\t\t\t// float noise = valueNoise(st);\n\n\t\t\t\t\tt += noise * noiseStrength;\n\t\t\t\t}\n\n\t\t\t\tt = clamp(t, 0.0, 1.0);\n\n\t\t\t\t// Compute ramp color\n\t\t\t\tfloat p;\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tfor (int i = 1; i < COLORS_MAX; i++) {\n\t\t\t\t\tp = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);\n\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t}\n\n\t\t\t\t// Incorporate custom shadow color\n\t\t\t\tif (positioning == 0) {\n\n\t\t\t\t\tvec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);\n\t\t\t\t\tcolor.rgb = mix(blendedShadow, color.rgb, shadow);\n\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// Accumulate alpha as usual\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\n\t\t\t\treturn color.xyz;\n\n            }',[Cc.simplex,e,n,r])}}();var QNe={textureBicubic:new xn("float w0( float a ) {\n            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n        }\n    \n        float w1( float a ) {\n            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n        }\n    \n        float w2( float a ){\n            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n        }\n    \n        float w3( float a ) {\n            return ( 1.0 / 6.0 ) * ( a * a * a );\n        }\n    \n        // g0 and g1 are the two amplitude functions\n        float g0( float a ) {\n            return w0( a ) + w1( a );\n        }\n    \n        float g1( float a ) {\n            return w2( a ) + w3( a );\n        }\n    \n        // h0 and h1 are the two offset functions\n        float h0( float a ) {\n            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n        }\n    \n        float h1( float a ) {\n            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n        }\n    \n        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n            uv = uv * texelSize.zw + 0.5;\n    \n            vec2 iuv = floor( uv );\n            vec2 fuv = fract( uv );\n    \n            float g0x = g0( fuv.x );\n            float g1x = g1( fuv.x );\n            float h0x = h0( fuv.x );\n            float h1x = h1( fuv.x );\n            float h0y = h0( fuv.y );\n            float h1y = h1( fuv.y );\n    \n            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    \n            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + \n                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n        }\n\n        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n            vec2 fLodSizeInv = 1.0 / fLodSize;\n            vec2 cLodSizeInv = 1.0 / cLodSize;\n            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n            return mix( fSample, cSample, fract( lod ) );\n        }")},CX=class extends _o{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=n,this.transmissionSamplerSize=i,this.transmissionSamplerMap=r,this.transmissionDepthMap=o,this.aspectRatio=s,this.alpha=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,_i.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let n=e.include(CX.Nodes.transmission),i=[];return i.push(this.thickness.build(e,"f")),i.push(this.ior.build(e,"f")),i.push(this.roughness.build(e,"f")),i.push(this.transmissionSamplerSize.build(e,"v2")),i.push(this.transmissionSamplerMap.getTexture(e,"t")),i.push(this.transmissionDepthMap.getTexture(e,"t")),i.push(this.aspectRatio.build(e,"v2")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},MX=CX;MX.Nodes=function(){let e=new xn("vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {\n                // Slightly modified version of this:\n                // https://www.shadertoy.com/view/ltScRG\n\n\t\t\t\t// Special case for blur == 0.0\n\t\t\t\tif (lod == 0.0) {\n\t\t\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\t\treturn texture2DLodEXT( sp, U, 0.0).rgb;\n\t\t\t\t\t#else\n\t\t\t\t\treturn textureLod( sp, U, 0.0).rgb;\n\t\t\t\t\t#endif\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec2 texelSize = vec2(1.0) / resolution;\n                vec2 halton = haltonSequence[frameIndex];\n                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n                float temporalAngle  = temporalOffset * PI2;\n\t\t\t\tvec3 res = vec3(0.0);\n                vec2 uv = vec2(0.0);\n                vec2 offset = vec2(0.0);\n                vec2 vogelSample = vec2(0.0);\n                for (int i = 0; i < NUM_SAMPLES; i++) {\n                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;\n                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20\n                    uv = U + offset;\n                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));\n                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {\n                        uv = unrefractedU;\n                        lod = lod > 4.0 ? lod : lod / 2.0;\n                    }\n                    res += textureLod(sp, uv, lod).rgb;\n                }\n                return res / float(NUM_SAMPLES);\n            }"),t=new xn("vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\t        // Direction of refracted light.\n\t\t        vec3 refractionVector = refract( -v,  n, 1.0 / ior );\n\t\t        \n\t\t\t\t// Compute rotation-independant scaling of the model matrix.\n\t\t        vec3 modelScale;\n\t\t        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\t        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\t        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\n\t\t        // The thickness is specified in local space\n\t\t        return normalize( refractionVector ) * thickness * modelScale;\n\t        }"),n=new xn("float applyIorToRoughness( float roughness, float ior ) {\n\t\t\t\t// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\n\t\t\t\t// an IOR of 1.5 results in the default amount of microfacet refraction.\n\t\t\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t\t\t}"),i=new xn('vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {\n\t\t\t\t// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see\n\t\t\t\t// also the code in convertTransmission.ts, which runs during export\n\t\t\t\t#ifdef IS_THREEJS_EXPORT\n\t\t\t\t\tfloat lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);\n\t\t\t\t\treturn textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;\n\t\t\t\t#else\n\t\t\t\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t\t\t\tfloat lod = applyIorToRoughness(roughness, ior);\n\t\t\t\t\treturn blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);\n\t\t\t\t#endif\n\t\t\t}',[QNe.textureBicubic,n,e]),r=new xn("vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\n\t\t\t\t// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\n\t\t\t\tvec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );\n\t\t\t\tvec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;\n\t\t\t\tunrefractedCoords += 1.0;\n\t\t\t\tunrefractedCoords /= 2.0;\n\n\t\t\t\t// Sample framebuffer to get pixel the refracted ray hits.\n\t\t\t\treturn getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );\n    \t\t}",[i,t]);return{transmission:new xn("vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {\n                vec3 v = vec3(0.);\n                if (isOrthographic) {\n                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n                } else {\n                    v = normalize(vWPosition - cameraPosition);\n                }\n                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );\n                \n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * alpha;\n\n\t\t\t\treturn transmission;\n            }",[r])}}();var Jk=(e=>(e.NOISE="noise",e.MAP="map",e))(Jk||{}),PX=class extends _o{constructor(e,t,n,i,r,o,s,a,l,c,d){super("v3"),this.displacementTypeIndex=new ko(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,"map"===Object.values(Jk)[this.displacementTypeIndex.value]&&(this.mat=new rX(this.movementOrTexture.value.matrix)),this.cropOrOffset=n,this.scale=c,this.noiseFunctionIndex=d,this.voronoiStyle=i,this.smoothness=r,this.seed=o,this.highCut=s,this.lowCut=a,this.quality=l}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let n,i=[];switch(i.push("displaced_position"),i.push("displaced_normal"),Object.values(Jk)[this.displacementTypeIndex.value]){case"map":n=e.include(PX.Nodes.map),i.push(this.movementOrTexture.getTexture(e,"t")),i.push("uv"),i.push(this.cropOrOffset.build(e,"f")),this.mat&&i.push(this.mat.build(e,"mat3"));break;case"noise":{let r=Object.values(Zk)[this.noiseFunctionIndex.value],o=new xn("vec3 orthogonal(vec3 v) {\n\t\t\t\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t\t\t\t}"),a=new xn(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {\n\t\t\t\t\t\t\t${"voronoi"==r?`\n\t\t\t\t\tfloat v = ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);\n\t\t\t\t\tv = remap(v, lowCut, highCut, 0.0, 1.0);\n\t\t\t\t\tv = smax(v, 0.0, smoothness * 0.25);\n\t\t\t\t\tv = smin(v, 1.0, smoothness * 0.25);\n\n\t\t\t\t\treturn p + n * v * intensity;\n\t\t\t\t\t`:`\n\t\t\t\t\treturn p + n * ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;\n\t\t\t\t\t`}\n\t\t\t\t\t\t}`,[Cc.simplex,Cc.simplexFractal,Cc.simplexAshima,Cc.fbm,Cc.perlin,Cc.voronoi]),l=new xn("vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {\n\t\t\t\t\t\t\tvec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tvec3 tangent1 = orthogonal(normal);\n\t\t\t\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\n                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.\n                            // This caused some small oval/circular visual artifacts in the lighting.\n                            // For now, simply using neighbors further away betters the problem,\n                            // but we should figure out the underlying cause when we have some time.\n                            // Maybe its related to how we calculate the tangent and bitangent?\n\t\t\t\t\t\t\tvec3 nearby1 = position + tangent1;\n\t\t\t\t\t\t\tvec3 nearby2 = position + tangent2;\n\t\t\t\t\t\t\tvec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tvec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\t\t\t\treturn displaced_position;\n\t\t\t\t\t\t}",[a,o]);n=e.include(l),i.push(this.scale.build(e,"f")),i.push(this.cropOrOffset.build(e,"v3")),i.push(this.movementOrTexture.build(e,"f")),i.push(this.voronoiStyle.build(e,"i")),i.push(this.smoothness.build(e,"f")),i.push(this.seed.build(e,"f")),i.push(this.highCut.build(e,"f")),i.push(this.lowCut.build(e,"f")),i.push(this.quality.build(e,"i"));break}}return i.push(this.intensity.build(e,"f")),i.push("displaced_normal"),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},OX=PX;OX.Nodes=function(){let e=new xn("vec3 orthogonal(vec3 v) {\n\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t}"),t=new xn("float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {\n\t\t\t\tvec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;\n\t\t\t\tvec4 tmp = texture2D(tex, uvs);\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tif (crop > 0.5) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\treturn 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn col.r;\n\t\t\t}");return{map:new xn("vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {\n\t\t\t\tvec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;\n\t\t\t\tvec3 tangent1 = normalize(orthogonal(normal));\n\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\t\t\t\tvec3 nearby1 = position + tangent1 * 0.1;\n\t\t\t\tvec3 nearby2 = position + tangent2 * 0.1;\n\t\t\t\tvec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tvec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\treturn displaced_position;\n\t\t\t}",[e,t])}}();var _i={normalRenderTarget:new Up,normalRenderTargetDepth:new Up,transmissionRenderTarget:new Up,aspectRatio:new sl,transmissionSize:new sl(2048,2048),transmissionRenderTargetDepth:new Up,aoRenderTarget:new Up,aoEnabled:new Xl,pixelRatioNode:new Un(1),resolution:new sl,penumbraSize:new h0(5,.5),frameIndex:new ko(0),transmissionLod:new ko(2)};for(let e of Object.values(_i))e.isRenderGlobal=!0;var tR,SX={skiaWasmUrl:"https://unpkg.com/@splinetool/ui-wasm@1.9.39/build/ui.wasm"},eR=class extends ba{constructor(){super("basic"),this.nodeType="Basic",this.color=new ws(Qc),this.shadingAlpha=new Un(1),this.shadingBlend=new ko(0),this.previousModelViewMatrix=new Ou,this.previouseProjectionMatrix=new Ou}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({resolution:_i.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Jv.merge([bn.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","#include <morphnormal_vertex>","\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","\tvNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{void 0===this.color&&(this.color=new ws(Qc)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let n=this.color.flow(e,"c",{slot:"color"}),i=this.alpha?this.alpha.flow(e,"f"):void 0,r=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=void 0!==i,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join("\n"));let s=["#include <normal_fragment_begin>",n.code];i&&s.push(i.code,"#ifdef ALPHATEST"," if ( "+i.result+" <= ALPHATEST ) discard;","#endif"),o?s.push(o.code,`vec3 outgoingLight = ${n.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`):s.push(`vec3 finalColor = ${n.result};`);let a="1.0";this.mask&&(this.mask.analyze(e),a=`luminance(${this.mask.flow(e,"v3").result})`),s.push(i?`gl_FragColor = vec4( finalColor, accumAlpha * ${i.result} * ${a} );`:"gl_FragColor = vec4("+n.result+", 1.0 );"),r&&s.push(`gl_FragColor.a *= ${r.result};`),s.push("#include <fog_fragment>","#include <dithering_fragment>"),t=s.join("\n")}return t}},ZNe=class extends ba{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new ws(Qc),this.emissive=new ws(0),this.emissiveIntensity=new Un(1),this.previousModelViewMatrix=new Ou,this.previouseProjectionMatrix=new Ou,this.shadingAlpha=new Un(1),this.shadingBlend=new ko(0),this.occlusion=new Xl(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({resolution:_i.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Jv.merge([bn.fog,bn.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","#include <morphnormal_vertex>","\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = objectNormal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\n\t\t\t\t\tvec3 diffuse = vec3( 1.0 );\n\t\t\t\t\tGeometricContext geometry;\n\t\t\t\t\tgeometry.position = mvPosition.xyz;\n\t\t\t\t\tgeometry.normal = normalize( transformedNormal );\n\t\t\t\t\tgeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\t\t\t\t"),i.push("\n\t\t\t\t\tGeometricContext backGeometry;\n\t\t\t\t\tbackGeometry.position = geometry.position;\n\t\t\t\t\tbackGeometry.normal = -geometry.normal;\n\t\t\t\t\tbackGeometry.viewDir = geometry.viewDir;\n\t\t\t\t\tvLightFront = vec3( 0.0 );\n\t\t\t\t\tvIndirectFront = vec3( 0.0 );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvLightBack = vec3( 0.0 );\n\t\t\t\t\t\tvIndirectBack = vec3( 0.0 );\n\t\t\t\t\t#endif\n\t\t\t\t\tIncidentLight directLight;\n\t\t\t\t\tfloat dotNL;\n\t\t\t\t\tvec3 directLightColor_Diffuse;\n\t\t\t\t\tvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\tvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\t\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_POINT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_DIR_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_HEMI_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:_i.penumbraSize}),e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({aoMap:_i.aoRenderTarget}),e.mergeUniform({aoEnabled:_i.aoEnabled}),void 0===this.color&&(this.color=new ws(Qc)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.emissive.flow(e,"c",{slot:"emissive"}),r=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),o=this.occlusion.flow(e,"b",{slot:"occlusion"}),s=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let h=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx, viewdy));\n\t\t\t\tbool isFrontFacing = (dot(normal, faceNormal) >= 0.0);\n\t\t\t\t","#include <clipping_planes_fragment>"];h.push(n.code,"vec3 diffuseColor = "+n.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),c&&h.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),h.push("#ifdef DOUBLE_SIDED","\treflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","\treflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","\treflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","\treflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),i&&h.push(i.code,"reflectedLight.directDiffuse += "+i.result+" * "+r.result+";"),h.push("vec3 ao = aoEnabled && "+o.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let p="1.0";this.mask&&(this.mask.analyze(e),p=`luminance(${this.mask.flow(e,"v3").result})`),h.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${p} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${p}, ${a.result} );\n\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),l&&h.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),h.push(c?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&h.push(`gl_FragColor.a *= ${d.result};`),h.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=h.join("\n")}return t}},J1={dHdxy:new xn("vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {\n\n            // Gradient of UVs w.r.t. X coordinate (in screen-space)\n            vec2 dSTdx = dFdx(bumpMapUv);\n\n            // Gradient of UVs w.r.t. Y coordinate (in screen-space)\n            vec2 dSTdy = dFdy(bumpMapUv);\n            \n            // Forward differencing\n            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);\n            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;\n            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;\n            \n            return vec2( dBx, dBy );\n        }"),perturbNormalArb:new xn("vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n            vec3 vSigmaX = dFdx( surf_pos.xyz );\n            vec3 vSigmaY = dFdy( surf_pos.xyz );\n            vec3 vN = surf_norm; // normalized\n            \n            vN = normalize(vN);\n\n            vec3 R1 = cross( vSigmaY, vN );\n            vec3 R2 = cross( vN, vSigmaX );\n\n            R1 = normalize(R1);\n            R2 = normalize(R2);\n    \n            float fDet = dot( vSigmaX, R1 ) * faceDirection;\n    \n            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n            return normalize( abs( fDet ) * vN - vGrad );\n        }")},JNe=class extends ba{constructor(){super("phong"),this.nodeType="Phong",this.color=new ws(Qc),this.specular=new ws(1118481),this.shininess=new Un(30),this.previousModelViewMatrix=new Ou,this.previouseProjectionMatrix=new Ou,this.shadingAlpha=new Un(1),this.shadingBlend=new ko(0),this.occlusion=new Xl(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({resolution:_i.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Jv.merge([bn.fog,bn.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","#include <morphnormal_vertex>","\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = objectNormal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:_i.penumbraSize}),e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({aoMap:_i.aoRenderTarget}),e.mergeUniform({aoEnabled:_i.aoEnabled}),void 0===this.color&&(this.color=new ws(Qc)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let n=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),r=this.specular.flow(e,"c"),o=this.shininess.flow(e,"f"),s=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let h=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tBlinnPhongMaterial material;"];if(this.bumpMap){e.include(J1.dHdxy),e.include(J1.perturbNormalArb);let g=this.bumpMap.texture.flow(e,"t"),v=this.bumpMap.flow(e,"v3"),y=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",b="";b=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${g.result}, uv0, ${y});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${g.result}, uv1, ${y});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${g.result}, uv2, ${y});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${g.result}, bumpMapCachedUv, ${y});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,h.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${v.result};\n\t\t\t\t\t${b}\n\t\t\t\t\t`)}h.push(i.code,"\tvec3 diffuseColor = "+i.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","\tvec3 totalEmissiveRadiance = emissive;",r.code,"\tvec3 specular = "+r.result+";",o.code,"\tfloat shininess = max( 0.0001, "+o.result+" );","\tfloat specularStrength = 1.0;"),c&&h.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),h.push("material.diffuseColor = diffuseColor;"),h.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),h.push("vec3 ao = aoEnabled && "+n.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let p="1.0";this.mask&&(this.mask.analyze(e),p=`luminance(${this.mask.flow(e,"v3").result})`),h.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${p} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${p}, ${a.result} );\n\t\t\t\t\t\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),l&&h.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),h.push(c?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result});`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&h.push(`gl_FragColor.a *= ${d.result};`),h.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=h.join("\n")}return t}},e5e=class extends ba{constructor(){super("standard"),this.nodeType="Standard",this.color=new ws(Qc),this.roughness=new Un(.3),this.metalness=new Un(0),this.reflectivity=new Un(.5),this.previousModelViewMatrix=new Ou,this.previouseProjectionMatrix=new Ou,this.shadingAlpha=new Un(1),this.shadingBlend=new ko(0),this.occlusion=new Xl(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({resolution:_i.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Jv.merge([bn.fog,bn.lights])),bn.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","#include <morphnormal_vertex>","\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = objectNormal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:_i.penumbraSize}),e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({aoMap:_i.aoRenderTarget}),e.mergeUniform({aoEnabled:_i.aoEnabled});let n={gamma:!0};void 0===this.color&&(this.color=new ws(Qc)),this.color.analyze(e,{slot:"color",context:n}),this.roughness.analyze(e),this.metalness.analyze(e);let i=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let r=this.color.flow(e,"c",{slot:"color",context:n}),o=this.roughness.flow(e,"f"),s=this.metalness.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,d=this.alpha?this.alpha.flow(e,"f"):void 0,h=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,p=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=void 0!==d,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join("\n"));let g=["#include <clipping_planes_fragment>","\t#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tPhysicalMaterial material;","\tmaterial.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(J1.dHdxy),e.include(J1.perturbNormalArb);let y=this.bumpMap.texture.flow(e,"t"),b=this.bumpMap.flow(e,"v3"),P=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",O="";O=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${y.result}, uv0, ${P});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${y.result}, uv1, ${P});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${y.result}, uv2, ${P});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${y.result}, bumpMapCachedUv, ${P});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,g.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${b.result};\n\t\t\t\t\t${O}\n\t\t\t\t\t`)}if(g.push(r.code,"\tvec3 diffuseColor = "+r.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",s.code,"\tfloat metalnessFactor = "+s.result+";"),this.roughnessMap){let y=this.roughnessMap.texture.flow(e,"t"),b=this.roughnessMap.flow(e,"v3"),P="";P=4===this.roughnessMap.projection.value?`\n\t\t\t\t\tfloat roughnessChange = 1.0;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tfloat r0 = luminance(texture(${y.result}, uv0).rgb) * roughnessScale;\n\t\t\t\t\t\tfloat r1 = luminance(texture(${y.result}, uv1).rgb) * roughnessScale;\n\t\t\t\t\t\tfloat r2 = luminance(texture(${y.result}, uv2).rgb) * roughnessScale;\n\n\t\t\t\t\t\troughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);\n\t\t\t\t\t}\n\t\t\t\t\tfloat roughnessFactor = roughnessChange * ${o.result};\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\n\t\t\t\t\tvec4 vals = texture(${y.result},  roughnessMapCachedUv);\n\t\t\t\t\tfloat roughnessFactor = luminance(vals.rgb) * ${o.result};\n\t\t\t\t\t`,g.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${b.result};\n\n\t\t\t\t\tconst float roughnessScale = 1.0;\n\n\t\t\t\t\t${P}\n\t\t\t\t`)}else g.push(o.code,"\tfloat roughnessFactor = "+o.result+";");d&&g.push(d.code,"#ifdef ALPHATEST","\tif ( "+d.result+" <= ALPHATEST ) discard;","#endif"),g.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),g.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),p?g.push(p.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+p.result+" ) ), diffuseColor, metalnessFactor );"):g.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),g.push("#include <lights_fragment_begin>"),g.push("#include <lights_fragment_end>"),g.push("vec3 ao = aoEnabled && "+i.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let v="1.0";this.mask&&(this.mask.analyze(e),v=`luminance(${this.mask.flow(e,"v3").result})`),g.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${v} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${v}, ${l.result} );\n\t\t\t\t\t\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),c&&g.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),g.push(d?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${d.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),h&&g.push(`gl_FragColor.a *= ${h.result};`),g.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=g.join("\n")}return t}},t5e=class extends ba{constructor(){super("toon"),this.nodeType="Toon",this.color=new ws(Qc),this.specular=new ws(1118481),this.shininess=new Un(30),this.previousModelViewMatrix=new Ou,this.previouseProjectionMatrix=new Ou,this.shadingAlpha=new Un(1),this.shadingBlend=new ko(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({resolution:_i.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Jv.merge([bn.fog,bn.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <morphtarget_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","#include <morphnormal_vertex>","\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = objectNormal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <morphtarget_vertex>","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <fog_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:_i.penumbraSize}),e.mergeUniform({frameIndex:_i.frameIndex}),e.mergeUniform({aoMap:_i.aoRenderTarget}),e.mergeUniform({aoEnabled:_i.aoEnabled}),void 0===this.color&&(this.color=new ws(Qc)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),r=this.shininess.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0,c=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==l,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>","\n\t\t\t\t\tvarying vec3 vViewPosition;\n\t\t\t\t\tstruct ToonMaterial {\n\t\t\t\t\t\tvec3\tdiffuseColor;\n\t\t\t\t\t\tvec3\tspecularColor;\n\t\t\t\t\t\tfloat\tspecularShininess;\n\t\t\t\t\t\tfloat\tspecularStrength;\n\t\t\t\t\t};\n\t\t\t\t\tvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t\t\t\n\t\t\t\t\t\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n\t\t\t\t\t}\n\t\t\t\t\tvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t}\n\t\t\t\t\t#define RE_Direct\t\t\t\tRE_Direct_Toon\n\t\t\t\t\t#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n\t\t\t\t\t#define Material_LightProbeLOD( material )\t(0)\n\t\t\t\t\t","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join("\n"));let d=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tToonMaterial material;"];if(this.bumpMap){e.include(J1.dHdxy),e.include(J1.perturbNormalArb);let p=this.bumpMap.texture.flow(e,"t"),g=this.bumpMap.flow(e,"v3"),v=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",y="";y=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${p.result}, uv0, ${v});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${p.result}, uv1, ${v});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${p.result}, uv2, ${v});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${p.result}, bumpMapCachedUv, ${v});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,d.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${g.result};\n\t\t\t\t\t${y}\n\t\t\t\t\t`)}d.push(n.code,"\tvec3 diffuseColor = "+n.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",i.code,"\tvec3 specular = "+i.result+";",r.code,"\tfloat shininess = max( 0.0001, "+r.result+" );","\tfloat specularStrength = 1.0;"),l&&d.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),d.push("material.diffuseColor = diffuseColor;"),d.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),d.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${h} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${h}, ${s.result} );\n\t\t\t\t}\n\t\t\t\t`),a&&d.push(a.code,`outgoingLight = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`),d.push(l?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),c&&d.push(`gl_FragColor.a *= ${c.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join("\n")}return t}},n5e=class{constructor(e=1e4){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){return this.cache.get(e)?.data}load(e){let t=Date.now(),n=this.cache.get(e);return void 0===n?(n={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,n)):(n.time=t,n.prev.next=n.next,n.next.prev=n.prev),n.prev=this.tail.prev,n.next=this.tail,this.tail.prev.next=n,this.tail.prev=n,this.scheduleCleanup(),n.data}},i5e=class extends n5e{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},o5e=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount-=1,0===this.refCount&&(this.cache.remove(this),this.dispose())}dispose(){}},s5e=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return void 0===t&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},EX=class extends o5e{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isBuffer=!1,this._cache={1e3:{},1001:{},1002:{}},this.isVideo="video"===e.type,this.isBuffer=!0===e.isWebGLRenderTarget,this.loadPromise=this.updateSrc(this.isBuffer?e:e.data)}updateSrc(e){var t=this;return(0,si.Z)(function*(){if(typeof document>"u")return;t.disposeTextures(),t.loaded=!1;let n=()=>{t.loaded=!0;for(let r of Object.values(t._cache))for(let o of Object.values(r))for(let s of Object.values(o))s&&(s.image=t.img,s.needsUpdate=!0);t.shared.requestRender()};if(t.isBuffer)t.img=e,t.loaded=!0;else if(t.isVideo){if(t.img=document.createElement("video"),t.img.preload="auto",t.img.playsInline=!0,t.img.currentTime=.01,"string"!=typeof e){var i=new FileReader;let r;i.readAsDataURL(new Blob([e],{type:"video/mp4"})),yield new Promise(o=>{i.onloadend=s=>{r=s.target?.result,o(null)}}),t.img.src=r}else t.img.src=e;t.img.onloadeddata=()=>{n()}}else t.img=new Image,t.img.src=function r5e(e){return"string"==typeof e?e:(tR||(tR=new i5e),tR.load(e))}(e),t.img.onload=n,yield new Promise(r=>{t.img.onload=()=>{n(),r(null)}})})()}getTexture(e,t=1008,n=1006){let i=this._cache[e]?.[t]?.[n];if(i)return i;{let r;return r=this.isBuffer?this.img.texture:this.isVideo?new DMe(this.img,void 0,e,e):new ds(this.img,void 0,e,e,n,t),this.loaded&&(r.needsUpdate=!0),void 0===this._cache[e]&&(this._cache[e]={}),void 0===this._cache[e][t]&&(this._cache[e][t]={}),this._cache[e][t][n]=r,r}}setNeedsUpdate(e){for(let t of Object.values(this._cache))for(let n of Object.values(t))for(let i of Object.values(n))i&&(i.needsUpdate=e)}disposeTextures(){for(let[e,t]of Object.entries(this._cache))for(let[n,i]of Object.entries(t))for(let[r,o]of Object.entries(i))o?.dispose(),void 0!==this._cache[e]&&void 0!==this._cache[e][n]&&(this._cache[e][n][r]=void 0)}dispose(){super.dispose(),this.disposeTextures()}},um=class extends EX{};var l5e={year:0,month:1,day:2,hour:3,minute:4,second:5},nR={};function DX(e,t,n,i,r,o,s){var a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(i,r,o,s),a}var AX=36e5,u5e=6e4,iR={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function TX(e,t,n){var i,r,o;if(!e||(i=iR.timezoneZ.exec(e)))return 0;if(i=iR.timezoneHH.exec(e))return IX(o=parseInt(i[1],10))?-o*AX:NaN;if(i=iR.timezoneHHMM.exec(e)){o=parseInt(i[1],10);var s=parseInt(i[2],10);return IX(o,s)?(r=Math.abs(o)*AX+s*u5e,o>0?-r:r):NaN}if(function m5e(e){if(kX[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),kX[e]=!0,!0}catch{return!1}}(e)){t=new Date(t||Date.now());var a=n?t:function p5e(e){return DX(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),l=rR(a,e),c=n?l:function f5e(e,t,n){var r=e.getTime()-t,o=rR(new Date(r),n);if(t===o)return t;r-=o-t;var s=rR(new Date(r),n);return o===s?o:Math.max(o,s)}(t,l,e);return-c}return NaN}function rR(e,t){var n=function a5e(e,t){var n=function h5e(e){if(!nR[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));nR[e]="06/25/2014, 00:00:00"===t||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===t?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return nR[e]}(t);return n.formatToParts?function c5e(e,t){try{for(var n=e.formatToParts(t),i=[],r=0;r<n.length;r++){var o=l5e[n[r].type];o>=0&&(i[o]=parseInt(n[r].value,10))}return i}catch(s){if(s instanceof RangeError)return[NaN];throw s}}(n,e):function d5e(e,t){var n=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[i[3],i[1],i[2],i[4],i[5],i[6]]}(n,e)}(e,t),i=DX(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=e.getTime(),o=r%1e3;return i-(r-(o>=0?o:1e3+o))}function IX(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var kX={},g5e=fp(gye(),1),RX=fp(vye(),1),oR=36e5,NX=6e4,b5e=2,$l={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function LX(e,t,n){t=t||0,n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var o=7*t+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+o),i}var P5e=[31,28,31,30,31,30,31,31,30,31,30,31],O5e=[31,29,31,30,31,30,31,31,30,31,30,31];function FX(e){return e%400==0||e%4==0&&e%100!=0}function BX(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var i=FX(e);if(i&&n>O5e[t]||!i&&n>P5e[t])return!1}return!0}function zX(e,t,n){return!(t<0||t>52||null!=n&&(n<0||n>6))}function sR(e,t,n){return!(null!=e&&(e<0||e>=25)||null!=t&&(t<0||t>=60)||null!=n&&(n<0||n>=60))}function Ql(e,t){return t.color(e)}function UX(e=new Date,t){let n=t.format,i=e.getSeconds(),r=e;t&&null!==t.timeZone&&(r=function E5e(e,t,n){var i=function _5e(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},i=null==n.additionalDigits?b5e:(0,g5e.default)(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r=function x5e(e){var i,t={},n=$l.dateTimePattern.exec(e);if(n?(t.date=n[1],i=n[3]):(n=$l.datePattern.exec(e))?(t.date=n[1],i=n[2]):(t.date=null,i=e),i){var r=$l.timeZone.exec(i);r?(t.time=i.replace(r[1],""),t.timeZone=r[1].trim()):t.time=i}return t}(e),o=function w5e(e,t){var r,n=$l.YYY[t],i=$l.YYYYY[t];if(r=$l.YYYY.exec(e)||i.exec(e)){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(r=$l.YY.exec(e)||n.exec(e)){var s=r[1];return{year:100*parseInt(s,10),restDateString:e.slice(s.length)}}return{year:null}}(r.date,i),l=function C5e(e,t){if(null===t)return null;var n,i,r,o;if(0===e.length)return(i=new Date(0)).setUTCFullYear(t),i;if(n=$l.MM.exec(e))return i=new Date(0),BX(t,r=parseInt(n[1],10)-1)?(i.setUTCFullYear(t,r),i):new Date(NaN);if(n=$l.DDD.exec(e)){i=new Date(0);var s=parseInt(n[1],10);return function S5e(e,t){if(t<1)return!1;var n=FX(e);return!(n&&t>366||!n&&t>365)}(t,s)?(i.setUTCFullYear(t,0,s),i):new Date(NaN)}if(n=$l.MMDD.exec(e)){i=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return BX(t,r,a)?(i.setUTCFullYear(t,r,a),i):new Date(NaN)}if(n=$l.Www.exec(e))return zX(0,o=parseInt(n[1],10)-1)?LX(t,o):new Date(NaN);if(n=$l.WwwD.exec(e)){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return zX(0,o,l)?LX(t,o,l):new Date(NaN)}return null}(o.restDateString,o.year);if(isNaN(l))return new Date(NaN);if(l){var h,c=l.getTime(),d=0;if(r.time&&(d=function M5e(e){var t,n,i;if(t=$l.HH.exec(e))return sR(n=parseFloat(t[1].replace(",",".")))?n%24*oR:NaN;if(t=$l.HHMM.exec(e))return sR(n=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")))?n%24*oR+i*NX:NaN;if(t=$l.HHMMSS.exec(e)){n=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return sR(n,i,r)?n%24*oR+i*NX+1e3*r:NaN}return null}(r.time),isNaN(d)))return new Date(NaN);if(r.timeZone||n.timeZone){if(h=TX(r.timeZone||n.timeZone,new Date(c+d)),isNaN(h))return new Date(NaN)}else h=(0,RX.default)(new Date(c+d)),h=(0,RX.default)(new Date(c+d+h));return new Date(c+d+h)}return new Date(NaN)}(e,n),r=TX(t,i,!0),o=new Date(i.getTime()-r),s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}(new Date,t.timeZone));let a,o=r.getHours(),s=r.getMinutes();"12ampm"===t.format12h24h&&(a=o>=12?"PM":"AM");let c,d,l=o;switch("24"!==t.format12h24h&&(l=o%12,0===l&&(l=12)),n){case"HH:mm:ss":c=[l,s,i];break;case"HH:mm":c=[l,s];break;case"HH":c=[l],a=void 0;break;case"mm":c=[s],a=void 0;break;case"ss":c=[i],a=void 0;break;case"year":d=r.getFullYear();break;case"month":d=r.getMonth()+1;break;case"dayOfYear":d=Math.floor((r.getTime()-new Date(r.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":d=r.getDate();break;case"secondOfDay":d=60*o*60+60*s+i;break;default:console.error("Unknown time format",n),d=0}return void 0!==c?{textValue:c,suffix:a}:d}function A5e(e){return{type:e.type}}function vh(e,t){let{alpha:n,mode:i,isMask:r}=e,o="string"==typeof n?(Number(t.getVariable(n))??100)/100:n;return{...A5e(e),alpha:o,mode:i,isMask:r}}var I2=class extends al{},V5e={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},H5e={depth:["colors"]};function G5e(e,t,n){if("isMask"===t)return!0;let i=V5e[e.type],r=H5e[e.type];if(void 0!==r){let o=e.color;if(r.includes(t)){let s=o[t]?.value?.length;if(void 0!==s&&s!==n.length)return!0}}return void 0!==i&&i.includes(t)}function jX(e,t,n){let i=n.uniforms[`f${n.id}_texture`];if(!i)return!1;let o=e;if("image"in o){let a=t.image(o.image),l=i;l.image instanceof um||l.image.deref(),l.image=a}if("video"in o){let a=t.video(o.video),l=i;l.image instanceof um||l.image.deref(),l.image=a}if("wrapping"in o&&(i.wrap=o.wrapping),"minFilter"in o&&(i.minFilter=o.minFilter),"magFilter"in o&&(i.magFilter=o.magFilter),"rotation"in o&&n.uniforms[`f${n.id}_rotation`])return n.uniforms[`f${n.id}_rotation`].value=(o.rotation??0)*Ln.DEG2RAD,!1;if("repeat"in o||"offset"in o||"rotation"in o){let a=n.uniforms[`f${n.id}_mat`];"repeat"in o&&(a.repeat=o.repeat),"offset"in o&&(a.offset=o.offset),"rotation"in o&&(a.rotation=o.rotation??0),a.updateMatrix()}return!1}var p0=(e,t,n)=>Math.max(0,Math.min(1,Number(t.getVariable("number"==typeof e?100*e:e,n)??100)/100))??1,px=class{constructor(e,t,n,i,r){this.id=e,this.uuid=t,this.data=n,this.uniforms={};for(let o in i)this.uniforms[`f${this.id}_${o}`]=i[o];for(let o in n)HX(o,this,n,r)}get type(){return this.data.type}static create(e,t,n,i){if("light"===n.type)return Su.createLigherLayer(e,t,n,i);if("texture"===n.type||"video"===n.type){let r="texture"===n.type?i.uiBuffer(n.texture.image)??i.image(n.texture.image):i.video(n.texture.video),o=new $k(r,n.texture.wrapping,n.texture.minFilter??1008,n.texture.magFilter??1006),s=new YNe(r),a=new XNe(n.texture.repeat,n.texture.offset,n.texture.rotation??0),l=new Un(n.crop?1:0),c=new ko(n.projection??0),d=new ko(["x","y","z"].indexOf(n.axis)??0),h=new ko(n.side??0),p=new sl(n.size?new qe(n.size[0],n.size[1]):new qe(100,100)),g=new Un(n.blending??0),v=new Un(p0(n.alpha,i)),y=new ko(n.mode??0),b=new Xl(n.isMask??!1),P=new Kk(o,s,l,c,d,h,p,g,a,v,y,b),O=new Ho(P.calpha,"f");return new Cs(e,t,n,{texture:o,textureSize:s,crop:l,projection:c,axis:d,side:h,size:p,blending:g,mat:a,alpha:v,mode:y,isMask:b},P,y,O,b,i)}if("matcap"===n.type){let r=i.image(n.texture.image),o=new $k(r,n.texture.wrapping,n.texture.minFilter??1008,n.texture.magFilter??1006),s=new Un(p0(n.alpha,i)),a=new ko(n.mode??0),l=new Xl(n.isMask??!1),c=new Un((n.texture.rotation??0)*Ln.DEG2RAD),d=new fX(o,s,a,l,c),h=new Ho(d.calpha,"f");return new Cs(e,t,n,{texture:o,alpha:s,mode:a,isMask:l,rotation:c},d,a,h,l,i)}if("displace"===n.type){if("noise"===n.displacementType){let r=new kd(new ie(...n.offset)),o=new Un(n.scale??10),s=new Un(n.intensity??8),a=new Un(n.movement??1),l=new ko(n.noiseType??0),c=new ko(n.voronoiStyle??0),d=new Un(n.smoothness??.5),h=new Un(n.seed??0),p=new Un(n.highCut??1),g=new Un(n.lowCut??0),v=new ko(n.quality??1),y=new OX(s,a,r,c,d,h,p,g,v,o,l);return new VX(e,t,n,{offset:r,scale:o,intensity:s,movement:a,noiseType:l,voronoiStyle:c,smoothness:d,seed:h,highCut:p,lowCut:g,quality:v},y,i)}throw new Error}return function X5e(e,t,n,i){let r=function D5e(e,t){switch(e.type){case"fresnel":return function I5e(e,t){let{bias:n,scale:i,intensity:r,factor:o,color:s}=e;return{...vh(e,t),color:Ql(s,t),bias:n,scale:i,intensity:r,factor:o}}(e,t);case"gradient":return function k5e(e,t){let{gradientType:n,smooth:i,colors:r,steps:o,angle:s,offset:a,morph:l}=e;return{...vh(e,t),gradientType:n,smooth:i,colors:r.map(c=>new ki(c[0],c[1],c[2],c[3])),num:r.length,steps:o,offset:new qe(...a),morph:new qe(...l),angle:s}}(e,t);case"depth":return function R5e(e,t){let{gradientType:n,near:i,far:r,isVector:o,isWorldSpace:s,origin:a,direction:l,colors:c,steps:d,smooth:h}=e;return{...vh(e,t),gradientType:n,near:i,far:r,isVector:o,isWorldSpace:s,origin:new ie(...a),direction:l?new ie(...l):new ie(1,0,0),colors:c.map(p=>void 0!==p?new ki(p[0],p[1],p[2],p[3]):new ki(0,0,0,0)),steps:d.slice(0,c.length),smooth:h}}(e,t);case"normal":return function N5e(e,t){let{cnormal:n}=e;return{...vh(e,t),cnormal:new ie(n[0],n[1],n[2])}}(e,t);case"noise":return function L5e(e,t){return{...vh(e,t),scale:e.scale,move:e.move,fA:new qe(...e.fA),fB:new qe(...e.fB),size:new ie(...e.size),distortion:new qe(...e.distortion),colorA:Ql(e.colorA,t),colorB:Ql(e.colorB,t),colorC:Ql(e.colorC,t),colorD:Ql(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality}}(e,t);case"rainbow":return function F5e(e,t){return{...vh(e,t),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new ie(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new ie(...e.offset)}}(e,t);case"toon":return function B5e(e,t){return{...vh(e,t),positioning:e.positioning,colors:e.colors.map(n=>new ki(n[0],n[1],n[2],n[3])),num:e.colors.length,steps:e.steps,source:new ie(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:Ql(e.shadowColor,t),offset:new ie(...e.offset)}}(e,t);case"outline":return function z5e(e,t){return{...vh(e,t),outlineColor:Ql(e.outlineColor,t),contourColor:Ql(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new ie(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation}}(e,t);case"transmission":return function U5e(e,t){return{...vh(e,t),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}(e,t);case"color":return function T5e(e,t){return{...vh(e,t),color:Ql(e.color,t)}}(e,t);case"pattern":return function j5e(e,t){return{...vh(e,t),style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new qe(...e.offset),colorA:Ql(e.colorA,t),colorB:Ql(e.colorB,t),frequency:new qe(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new qe(...e.vertical),horizontal:new qe(...e.horizontal),sides:e.sides}}(e,t)}}(n,i);return function Y5e(e,t,n,i,r){switch(e.type){case"color":{let o=new ws(i.color??Qc),s=Rd(i),a=new Qk(o,s.alpha),l=new Ho(a.calpha,"f");return new Cs(t,n,e,{color:o,...s},a,s.mode,l,s.isMask,r)}case"fresnel":{let o=new ws(i.color??16777215),s=new Un(i.bias??.1),a=new Un(i.scale??1),l=new Un(i.intensity??2),c=new Un(i.factor??1),d=Rd(i),h=new $Ne(o,s,a,l,c,d.alpha,d.mode,d.isMask),p=new Ho(h.calpha,"f");return new Cs(t,n,e,{color:o,bias:s,scale:a,intensity:l,factor:c,...d},h,d.mode,p,d.isMask,r)}case"rainbow":{let o=new Un(i.filmThickness??30),s=new Un(i.movement??0),a=new kd(i.wavelengths??new ie(0,0,0)),l=new Un(i.noiseStrength??0),c=new Un(i.noiseScale??1),d=new kd(i.offset??new ie(0,0,0)),h=Rd(i),p=new _X(o,s,a,l,c,d,h.alpha,h.isMask),g=new Ho(p.calpha,"f");return new Cs(t,n,e,{filmThickness:o,movement:s,wavelengths:a,noiseStrength:l,noiseScale:c,offset:d,...h},p,h.mode,g,h.isMask,r)}case"transmission":{let o=new Un(i.thickness??10),s=new Un(i.ior??1.5),a=new Un(i.roughness??.5),l=_i.transmissionSize,c=_i.transmissionRenderTarget,d=_i.transmissionRenderTargetDepth,h=window.innerWidth,p=window.innerHeight,g=h>=p?new sl(p/h,1):new sl(1,h/p),v=Rd(i),y=new MX(o,s,a,l,c,d,g,v.alpha),b=new Ho(y.calpha,"f");return new Cs(t,n,e,{thickness:o,ior:s,roughness:a,aspectRatio:g,...v},y,v.mode,b,v.isMask,r)}case"toon":{let s,a,o=new ko(i.positioning??0);i.colors?s=new u0(i.colors.length,i.colors):(s=new u0(10,new ki(0,0,0,1)),s.value[1]=new ki(1,1,1,1)),i.steps?a=new h0(i.steps.length,i.steps):(a=new h0(10,1),a.value[0]=0);let l=new kd(i.source??new ie(0,0,0)),c=new Xl(i.isWorldSpace??!0),d=new Un(i.noiseStrength??0),h=new Un(i.noiseScale??1),p=new zp(i.shadowColor),g=new kd(i.offset??new ie(0,0,0)),v=Rd(i),y=new wX(o,s,a,l,c,d,h,p,g,v.alpha),b=new Ho(y.calpha,"f");return new Cs(t,n,e,{positioning:o,colors:s,steps:a,source:l,isWorldSpace:c,noiseStrength:d,noiseScale:h,shadowColor:p,offset:g,...v},y,v.mode,b,v.isMask,r)}case"outline":{let o=new ws(i.outlineColor??16777215),s=new ws(i.contourColor??16777215),a=new Un(i.outlineWidth??.1),l=new Un(i.contourWidth??.1),c=new Un(i.outlineThreshold??.1),d=new Un(i.contourThreshold??.1),h=new Un(i.outlineSmoothing??.1),p=new Un(i.contourFrequency??.1),g=new kd(i.contourDirection??new ie(0,1,0)),v=new Xl(i.positionalLines??!1),y=new Xl(i.compensation??!0),b=_i.normalRenderTarget,P=_i.normalRenderTargetDepth,O=_i.pixelRatioNode,S=_i.resolution,A=Rd(i),H=new vX(o,s,a,l,c,d,h,p,g,v,y,S,b,P,O,A.alpha),V=new Ho(H.calpha,"f");return new Cs(t,n,e,{outlineColor:o,contourColor:s,outlineWidth:a,contourWidth:l,outlineThreshold:c,contourThreshold:d,outlineSmoothing:h,contourFrequency:p,contourDirection:g,positionalLines:v,compensation:y,...A},H,A.mode,V,A.isMask,r)}case"depth":{let g,v,o=new ko(i.gradientType??0),s=new Xl(i.smooth??!1),a=new Un(i.near??50),l=new Un(i.far??200),c=new Un(i.isVector??1),d=new Un(i.isWorldSpace??0),h=new kd(i.origin??new ie),p=new kd(i.direction??new ie);i.colors?g=new u0(i.colors.length,i.colors):(g=new u0(2,new ki(0,0,0,1)),g.value[1]=new ki(1,1,1,1)),i.steps?v=new h0(i.steps.length,i.steps):(v=new h0(2,1),v.value[0]=0);let y=Rd(i),b=new dX(o,s,a,l,c,d,h,p,g,v,y.alpha,y.isMask),P=new Ho(b.calpha,"f");return new Cs(t,n,e,{gradientType:o,smooth:s,near:a,far:l,isVector:c,isWorldSpace:d,origin:h,direction:p,colors:g,steps:v,...y},b,y.mode,P,y.isMask,r)}case"noise":{let o=new Un(i.scale??1),s=new kd(i.size??new ie(100,100,100)),a=new Un(i.move??1),l=new sl(i.fA??new qe(1.7,9.2)),c=new sl(i.fB??new qe(8.3,2.8)),d=new sl(i.distortion??new qe(1,1)),h=new zp(i.colorA),p=new zp(i.colorB),g=new zp(i.colorC),v=new zp(i.colorD),y=new ko(i.noiseType??0),b=new ko(i.voronoiStyle??0),P=new Un(i.highCut??1),O=new Un(i.lowCut??0),S=new Un(i.smoothness??.5),A=new Un(i.seed??.5),H=new ko(i.quality??1),V=Rd(i),Q=new mX(o,s,a,l,c,d,h,p,g,v,V.alpha,y,V.isMask,b,P,O,S,A,H),Y=new Ho(Q.calpha,"f");return new Cs(t,n,e,{scale:o,size:s,move:a,fA:l,fB:c,distortion:d,colorA:h,colorB:p,colorC:g,colorD:v,noiseType:y,...V,voronoiStyle:b,highCut:P,lowCut:O,smoothness:S,seed:A,quality:H},Q,V.mode,Y,V.isMask,r)}case"normal":{let o=new kd(i.cnormal??new ie(1,1,1)),s=Rd(i),a=new cX(o,s.alpha),l=new Ho(a.calpha,"f");return new Cs(t,n,e,{cnormal:o,...s},a,s.mode,l,s.isMask,r)}case"gradient":{let a,l,o=new ko(i.gradientType??0),s=new Xl(i.smooth??!1);i.colors?a=new u0(i.colors.length,i.colors):(a=new u0(10,new ki(0,0,0,1)),a.value[1]=new ki(1,1,1,1)),i.steps?l=new h0(i.steps.length,i.steps):(l=new h0(10,1),l.value[0]=0);let c=new sl(i.offset??new qe(0,0)),d=new sl(i.morph??new qe(0,0)),h=new Un(i.angle??0),p=Rd(i),g=new uX(o,s,a,l,c,d,h,p.alpha,p.isMask),v=new Ho(g.calpha,"f");return new Cs(t,n,e,{gradientType:o,smooth:s,colors:a,steps:l,offset:c,morph:d,angle:h,...p},g,p.mode,v,p.isMask,r)}case"pattern":{let o=new ko(i.style??0),s=new ko(i.projection??0),a=new ko(["x","y","z"].indexOf(i.axis)??0),l=new Un(i.blending??0),c=new sl(i.offset??new qe(0,0)),d=new zp(i.colorA),h=new zp(i.colorB),p=new sl(i.frequency??new qe(10,10)),g=new Un(i.size??.5),v=new Un(i.variation??0),y=new Un(i.smoothness??.5),b=new Un(i.zigzag??0),P=new Un(i.rotation??0),O=new sl(i.vertical??new qe(0,1)),S=new sl(i.horizontal??new qe(0,1)),A=new ko(i.sides??6),H=Rd(i),V=new yX(o,s,a,l,c,d,h,p,g,v,y,b,P,O,S,A,H.alpha,H.isMask),Q=new Ho(V.calpha,"f");return new Cs(t,n,e,{style:o,projection:s,axis:a,blending:l,offset:c,colorA:d,colorB:h,frequency:p,size:g,variation:v,smoothness:y,zigzag:b,rotation:P,vertical:O,horizontal:S,sides:A,...H},V,H.mode,Q,H.isMask,r)}default:{let o=new ws(1,0,0,1),s=Rd(i),a=new Qk(o,s.alpha),l=new Ho(a.calpha,"f");return new Cs(t,n,e,{color:o,...s},a,s.mode,l,s.isMask,r)}}}(n,e,t,r,i)}(e,t,n,i)}updateByOp(e,t,n){let i=e;if(void 0===i.path[0]){if(0===i.type)return"type"in i.props||"category"in i.props||"visible"in i.props?(n.scene.markNeedsUpdateRendererDirty(),!0):function W5e(e,t,n,i){let r=!1;for(let[o,s]of Object.entries(e)){if("bumpMap"===o||"roughnessMap"===o){r=!0;continue}if(!o||void 0===s)continue;if(HX(o,n,i,t)){"visible"===o&&"light"===n.type&&(r=!0);continue}n.visible=i.visible;let a=n.uniforms[`f${n.id}_${o}`];if(a&&!(a instanceof Xk))switch(r=r||G5e(n,o,s),a.constructor){case ws:if("string"==typeof s){let l=t.getColor(s);l&&(a.value=l);break}{let l=s;a.value instanceof I2?a.value=new al(l.r,l.g,l.b,l.a):a.setRGBA(l);break}case zp:if("string"==typeof s){let l=t.getColor(s);l&&(a.value=l);break}{let l=s;a.value instanceof I2?a.value=new al(l.r,l.g,l.b,l.a):a.value.setRGBA(l.r,l.g,l.b,l.a);break}case sl:{let l=s;a.value.setX(l[0]),a.value.setY(l[1]);break}case kd:{let l=s;a.value.setX(l[0]),a.value.setY(l[1]),a.value.setZ(l[2]);break}case Up:jX(s,t,n);break;case u0:a.value=s.map(l=>new ki(...l));break;default:a.value=s}}return r}(i.props,n.shared,this,t)}else if("texture"===i.path[0])return!("texture"in t)&&!("video"in t)||jX(i.props,n.shared,this);return!1}dispose(){if(function q5e(e){let t=e instanceof px?e.type:e;return"texture"===t||"video"===t||"displace_map"===t||"matcap"===t}(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;e.image instanceof um||e.image.deref()}}hasValueByKey(e){return void 0!==this.uniforms[e]}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let n=`f${this.id}_${e}`;this.hasValueByKey(n)&&void 0!==t&&(this.uniforms[n].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let n=this.getName(t);n&&e.push(n)}return e}},Cs=class extends px{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,l),this.params=i,this.color=r,this.mode=o,this.alpha=s,this.isMask=a}},VX=class extends px{constructor(e,t,n,i,r,o){super(e,t,n,i,o),this.position=r}},Su=class extends px{constructor(e,t,n,i,r,o){super(e,t,n,r,o),this.node=i}static createLigherLayer(e,t,n,i){let r,c,o=new Un(p0(n.alpha,i)),s=new ko(n.mode),a=new Un(n.bumpMapIntensity),l=new Un(p0(n.alphaOverride,i));if(n.visible)if("lambert"===n.category){r=new ZNe;let d=new ws(i.color(n.emissive)??0),h=new Xl(n.occlusion??!0);c={emissive:d,occlusion:h},r.emissive=d,r.occlusion=h}else if("toon"===n.category){r=new t5e;let d=new Un(n.shininess??30),h=new ws(i.color(n.specular)??1118481);c={shininess:d,specular:h},r.shininess=d,r.specular=h}else if("physical"===n.category){r=new e5e;let d=new Un(n.roughness??.3),h=new Un(n.metalness??0),p=new Un(n.reflectivity??.5),g=new Xl(n.occlusion??!0);c={roughness:d,metalness:h,reflectivity:p,occlusion:g},r.roughness=d,r.metalness=h,r.reflectivity=p,r.occlusion=g}else{r=new JNe;let d=new Un(n.shininess??30),h=new ws(void 0!==n.specular?i.color(n.specular)??1118481:1118481),p=new Xl(n.occlusion??!0);c={shininess:d,specular:h,occlusion:p},r.shininess=d,r.specular=h,r.occlusion=p}else r=new eR,c={};return r.alpha=new Un(1),r.shadingAlpha=o,r.shadingBlend=s,r.bumpMapIntensity=a,r.alphaOverride=l,c.alpha=r.shadingAlpha,c.mode=r.shadingBlend,c.bumpMapIntensity=r.bumpMapIntensity,c.alphaOverride=r.alphaOverride,new Su(e,t,n,r,c,i)}get category(){return this.node.category}};function Rd(e){return{alpha:new Un(e.alpha??1),mode:new ko(e.mode??0),isMask:new Xl(e.isMask??!1)}}function HX(e,t,n,i){if("displace"===n.type&&("intensity"===e||"visible"===e)){let r=t.uniforms[`f${t.id}_intensity`];return r?(r.value=n.intensity*(n.visible?1:0),r):void 0}if("displace"!==n.type&&("alpha"===e||"visible"===e)){let r=t.uniforms[`f${t.id}_alpha`];if(!r)return;if(r.value=p0(n.alpha,i)*(n.visible?1:0),"outline"===n.type&&"visible"===e){let o=t.uniforms[`f${t.id}_compensation`];o&&(o.value=n.compensation&&n.visible)}return r}}function ey(e,t){let n=0,i=e.layers.find(r=>"light"===r.data.type);if(i){let r=i.data,o=Number(t.getVariable(r.alphaOverride));if(("string"==typeof r.alphaOverride?o/100:r.alphaOverride)<1)return!0}for(let r of e.layers){if("displace"!==r.data.type&&r.data.isMask)return!0;if("displace"!==r.data.type&&"alpha"in r.data&&"light"!==r.data.type&&"fresnel"!==r.data.type&&"texture"!==r.data.type&&"matcap"!==r.data.type&&"rainbow"!==r.data.type&&"outline"!==r.data.type&&"pattern"!==r.data.type){let o=r.data.visible?r.data.alpha:0;if("string"==typeof o&&(o=Math.max(0,Math.min(1,Number(t.getVariable(o)??100)/100))),1===o&&"depth"===r.data.type||"gradient"===r.data.type){for(let s of r.data.colors)if(s[3]<1){o=s[3];break}}else if(1===o&&"noise"===r.data.type){let s=t.color(r.data.colorA).a,a=t.color(r.data.colorB).a,l=t.color(r.data.colorC).a,c=t.color(r.data.colorD).a,d=Math.min(s,Math.min(a,Math.min(l,c)));d<1&&(o=d)}n+=(1-n)*o}}return n<1}var pm=class extends Qr{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.nodeContextUuid=0,this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return""}},$5e=class extends pm{constructor(e,t,n,i){super(),this.flatShading=e,this.side=t,this.wireframe=n,this.root=i}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,n){return this.root.getFlavor(e,t,n)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,n){this.root.updateByOp(e,t,n)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},aR=class extends pm{constructor(e,t,n=!0){super(),this.data=e,this.allowVariableSaves=n,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.needsJitter=t.shared.needsJitter,ba.startContext(this),this.reset0(e,t),ba.endContext(this)}get nodeMaterial(){return this}getFlavor(e,t,n){let i=n?6:(e?3:0)+t;if(0===i)return this;void 0===this.flavors&&(this.flavors=[]),i-=1;let r=this.flavors[i];return void 0===r&&(r=new $5e(e,t,n,this),r.needsJitter=this.needsJitter,this.flavors[i]=r,r.flatShading=e,r.side=t,r.updateAfterBuild()),r}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){return this.lightLayer.getNode("occlusion")?.value??!1}reset(e,t,n=!1){ba.startContext(this),(this.data!==e||n)&&this.reset0(e,t),ba.endContext(this)}reset0(e,t){this.data=e;let n=e.layers??rl.defaultTwoLayerData("phong").layers;try{this.layers=n.map(i=>px.create(this.layerIdGen++,i.id,i.data,t.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=ey(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,n){if("alphaOverride"===e[0])this.transparent=ey(this.data,n.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if("layer"===e[0]){let i=e[1],r=e[2];if(i&&r){let o=this.layers.find(s=>s.uuid===i);o?.hasValue(r)&&("alpha"===r?(this.transparent=ey(this.data,n.shared),o.setValue(r,Math.max(0,Math.min(Number(t)/100,1)))):o.setValue(r,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(n=>"light"===n.data.type);t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(n=>{"alpha"in n.data&&"string"==typeof n.data.alpha&&e.shared.getVariable(n.data.alpha,["material",this.uuid,"layer",n.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.lightLayer=this.layers.find(t=>t instanceof Su),void 0===this.lightLayer&&(this.lightLayer=new Su(0,"",{...La.defaultData("light","phong"),visible:!1},new eR,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),this.build(),this.nodeContextUuid=0}applyTextureMaps(){let e=this.layers.find(r=>r instanceof Su);if(!e)return;let t=e.data,n=t.bumpMap,i=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let r=0;r<this.layers.length;++r){let o=this.layers[r];o instanceof Cs&&o.color instanceof Kk&&(o.uuid===n&&(e.node.bumpMap=o.color),o.uuid===i&&(e.node.roughnessMap=o.color))}}updateByOp(e,t,n){if(ba.startContext(this),void 0!==t?this.data=t:t=this.data,this.transparent=ey(t,n.shared),"layers"===e.path[0]){let i=n.shared,r=e.path[1];if(void 0===r)n.scene.markNeedsUpdateRendererDirty(),this.reset0(t,n);else{0===e.type&&void 0!==e.props.occlusion&&n.scene.markNeedsUpdateRendererDirty();let o=this.layers.find(s=>s.uuid===r);if(o){let a,s=t.layers.data(r);0===e.type&&("alpha"in e.props||"alphaOverride"in e.props)&&(a="alpha"in e.props?{...e.props,alpha:p0(e.props.alpha,i,["material",this.uuid,"layer",r,"alpha"])}:{...e.props,alphaOverride:p0(e.props.alphaOverride,i,["material",this.uuid,"alphaOverride"])}),o.updateByOp({...e,...a?{props:a}:{},path:e.path.slice(2)},s,n)&&this.reset0(t,n)}}}else this.reset0(t,n);ba.endContext(this)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof Cs?t.color.mask=void 0:t instanceof Su&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof Cs&&t.isMask.value&&t.data.visible&&e>0){let i=this.layers[e-1];i instanceof Su?i.node.mask=new xc(t.color,t.alpha,xc.MUL):i instanceof Cs&&(i.isMask.value||(i.color.mask=new xc(t.color,t.alpha,xc.MUL)))}}}blendColors(){let e=this.layers.findIndex(n=>n instanceof Cs),t=this.layers.findIndex(n=>n instanceof Su);if(-1!==e&&e<t){let n=this.layers[e].color;for(let i=e+1;i<t;++i){let r=this.layers[i];if(r instanceof Cs){if(r.isMask.value)continue;n=new sX(n,r.color,r.alpha,r.mode)}}this.fragment.color=n}else this.fragment.color=void 0}blendAfterColors(){let e=new Ho("outgoingLight","f"),t=this.layers.findIndex(n=>n instanceof Su);if(this.layers.length>t+1){for(let n=t+1;n<this.layers.length;++n){let i=this.layers[n];if(i instanceof Cs){if(i.isMask.value)continue;e=new sX(e,i.color,i.alpha,i.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof VX);if(e.length>0){let t=e[0].position;for(let n=1;n<e.length;++n)e[n]&&(t=new xc(t,e[n].position,xc.ADD),t=new xc(t,new Un(.5).setReadonly(!0),xc.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=!0===this.extensions.derivatives,e.extensionFragDepth=!0===this.extensions.fragDepth,e.extensionDrawBuffers=!0===this.extensions.drawBuffers,e.extensionShaderTextureLOD=!0===this.extensions.shaderTextureLOD}clampUniformsForPreview(e,t){let n=(i,r,o)=>Math.min(Math.max(i,r),o);for(let i of this.layers)if("displace"===i.type){let r=n(i.uniforms[`f${i.id}_intensity`].value,e,t);i.uniforms[`f${i.id}_intensity`].value=r}}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new iX;e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof Cs){let t=e.params.texture;if(t instanceof $k&&!t.image.loaded)return!1}return!0}};Object.defineProperties(pm.prototype,{properties:{get:function(){return this.fragment.properties}}});var lR=class extends aR{constructor(e,t,n){super(e,t,!1),this.uuid=n,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},GX=new Map;function Q5e(e){if("string"==typeof e)return e;let t=GX.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},GX.set(e,t)),t.url}var WX,k2,YX,K5e=new Promise(e=>{WX=e}),qX=!1;function Z5e(){if(!qX)return k2||(k2=function e(){return t.apply(this,arguments)}(),k2);function t(){return(t=(0,si.Z)(function*(){yield m.e(725).then(m.bind(m,7725)),WX(void 0!==window?window:global),qX=!0})).apply(this,arguments)}}function J5e(e){let t=!1;return e.scene.objects.traverse((n,i)=>{if(void 0===i.events||!1===Array.isArray(i.events))return!0;let r=[];i.events.forEach(o=>{"dragDropActions"in o.data?(r.push(...o.data.dragDropActions.drag),r.push(...o.data.dragDropActions.drop)):"inActions"in o.data?(r.push(...o.data.inActions),r.push(...o.data.outActions)):"gameActions"in o.data?(r.push(...o.data.gameActions.idle),r.push(...o.data.gameActions.move),r.push(...o.data.gameActions.jump),r.push(...o.data.gameActions.run)):"breakpoints"in o.data?o.data.breakpoints.forEach(s=>{r.push(...s.data.actions)}):"actions"in o.data&&r.push(...o.data.actions),t=t||r.some(s=>"Audio"===s.data.type)})}),t}K5e.then(e=>YX=e);var $X,R2,fx=class{constructor({src:e,volume:t,delay:n,loop:i}){let r;this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)},r="string"==typeof e?{src:e}:{src:Q5e(e),format:"wav"},this.sound=new YX.Howl(r),this.sound.on("end",this.onEnd),this.src=e,void 0!==t&&(this.volume=t),void 0!==n&&(this.delay=n),void 0!==i&&(this.loop=i)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,n){this.sound.on(e,t,n)}off(e,t,n){this.sound.off(e,t,n)}play(){"playing"===this._status||this.sound.playing()||("paused"===this._status?(0===this.sound.seek()?this.replay():this.sound.play(),this._status="playing"):"stopped"===this._status&&(this.replay(),this._status="playing"))}pause(){"playing"===this._status&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},XX=!1,QX=new Promise(e=>{$X=e}),KX=!1;function tLe(){if(XX=!0,!KX)return R2||(R2=function e(){return t.apply(this,arguments)}(),R2);function t(){return(t=(0,si.Z)(function*(){let n=yield m.e(990).then(m.bind(m,2990));$X(n),KX=!0})).apply(this,arguments)}}function cR(){return cR=(0,si.Z)(function*(e){return yield(yield fetch(e)).arrayBuffer()}),cR.apply(this,arguments)}var rLe=new class{load(e,t,n=(()=>{})){return(0,si.Z)(function*(){let{load:i}=yield QX;i(e,(r,o)=>{r||!o?n(r??"Something went wrong"):t(o)})})()}parse(e){return(0,si.Z)(function*(){let{parse:t,Bidi:n}=yield QX;try{let i=t(e),r=new n;return r.registerModifier("glyphIndex",null,s=>i.charToGlyphIndex(s.char)),r.applyFeatures(i,i.defaultRenderOptions.features),{font:i,bidi:r}}catch(i){console.error(i)}})()}};function ZX(e){return dR.apply(this,arguments)}function dR(){return dR=(0,si.Z)(function*(e){let t,n,i=!1;if(e.url?(t=yield function iLe(e){return cR.apply(this,arguments)}(e.url),n=e.url,i=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t){if(!XX)return{font:void 0,url:n,intercepted:i,arr:t,bidi:null};{let r=yield rLe.parse(t);if(r)return{font:r.font,url:n,intercepted:i,arr:t,bidi:r.bidi}}}}),dR.apply(this,arguments)}function oLe(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var lLe=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,n){let i=this.objects.get(e);return void 0===i?(i=this.createObject(e,t,n),this.objects.set(e,i)):i.isShared=!0,i}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let n=this.objects.get(e);if(n&&!0!==n.isShared)return this.objects.delete(e),this.objects.set(t,n),n}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){t===this.objects.get(e)&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}},JX=class extends lLe{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,n){let i=cx(e,t,this.flatShading,n);return i.computeBoundingSphere(),i}},cLe={markNeedsUpdateRendererDirty:()=>{}},pLe=globalThis.atob,fLe=globalThis.btoa,ty=class{static floatTo16BitPCM(e){let t=new ArrayBuffer(2*e.length),n=new DataView(t),i=0;for(let r=0;r<e.length;r++,i+=2){let o=Math.max(-1,Math.min(1,e[r]));n.setInt16(i,o<0?32768*o:32767*o,!0)}return t}static base64ToArrayBuffer(e){let t=pLe(e),n=t.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer}static arrayBufferToBase64(e){e instanceof Float32Array?e=this.floatTo16BitPCM(e):e instanceof Int16Array&&(e=e.buffer);let t="",n=new Uint8Array(e);for(let r=0;r<n.length;r+=32768){let o=n.subarray(r,r+32768);t+=String.fromCharCode.apply(null,o)}return fLe(t)}static mergeInt16Arrays(e,t){if(e instanceof ArrayBuffer&&(e=new Int16Array(e)),t instanceof ArrayBuffer&&(t=new Int16Array(t)),!(e instanceof Int16Array&&t instanceof Int16Array))throw new Error("Both items must be Int16Array");let n=new Int16Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n}static generateId(e,t=21){let n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return`${e}${Array(t-e.length).fill(0).map(r=>n[Math.floor(Math.random()*n.length)]).join("")}`}},mLe=e=>new Promise(t=>setTimeout(()=>t(),e)),n$=class{constructor(){this.eventHandlers={},this.nextEventHandlers={}}clearEventHandlers(){return this.eventHandlers={},this.nextEventHandlers={},!0}on(e,t){return this.eventHandlers[e]=this.eventHandlers[e]||[],this.eventHandlers[e].push(t),t}onNext(e,t){return this.nextEventHandlers[e]=this.nextEventHandlers[e]||[],this.nextEventHandlers[e].push(t),t}off(e,t){let n=this.eventHandlers[e]||[];if(t){let i=n.indexOf(t);if(-1===i)throw new Error(`Could not turn off specified event listener for "${e}": not found as a listener`);n.splice(i,1)}else delete this.eventHandlers[e];return!0}offNext(e,t){let n=this.nextEventHandlers[e]||[];if(t){let i=n.indexOf(t);if(-1===i)throw new Error(`Could not turn off specified next event listener for "${e}": not found as a listener`);n.splice(i,1)}else delete this.nextEventHandlers[e];return!0}waitForNext(e,t=null){var n=this;return(0,si.Z)(function*(){let r,i=Date.now();for(n.onNext(e,o=>r=o);!r;){if(t&&Date.now()-i>t)return null;yield mLe(1)}return r})()}dispatch(e,t){let n=[].concat(this.eventHandlers[e]||[]);for(let r of n)r(t);let i=[].concat(this.nextEventHandlers[e]||[]);for(let r of i)r(t);return delete this.nextEventHandlers[e],!0}},gLe=class extends n${constructor({url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:n,debug:i}={}){if(super(),this.defaultUrl="wss://api.openai.com/v1/realtime",this.url=e||this.defaultUrl,this.apiKey=t||null,this.debug=!!i,this.ws=null,globalThis.document&&this.apiKey&&!n)throw new Error('Can not provide API key in the browser without "dangerouslyAllowAPIKeyInBrowser" set to true')}isConnected(){return!!this.ws}log(...e){let t=[`[Websocket/${(new Date).toISOString()}]`].concat(e).map(n=>"object"==typeof n&&null!==n?JSON.stringify(n,null,2):n);return this.debug&&console.log(...t),!0}connect({model:e}={model:"gpt-4o-realtime-preview-2024-10-01"}){var t=this;return(0,si.Z)(function*(){if(!t.apiKey&&t.url===t.defaultUrl&&console.warn(`No apiKey provided for connection to "${t.url}"`),t.isConnected())throw new Error("Already connected");if(globalThis.document){t.apiKey&&console.warn("Warning: Connecting using API key in the browser, this is not recommended");let i=new(0,globalThis.WebSocket)(`${t.url}${e?`?model=${e}`:""}`,["realtime",`openai-insecure-api-key.${t.apiKey}`,"openai-beta.realtime-v1"]);return i.addEventListener("message",r=>{let o=JSON.parse(r.data);t.receive(o.type,o)}),new Promise((r,o)=>{let s=()=>{t.disconnect(i),o(new Error(`Could not connect to "${t.url}"`))};i.addEventListener("error",s),i.addEventListener("open",()=>{t.log(`Connected to "${t.url}"`),i.removeEventListener("error",s),i.addEventListener("error",()=>{t.disconnect(i),t.log(`Error, disconnected from "${t.url}"`),t.dispatch("close",{error:!0})}),i.addEventListener("close",()=>{t.disconnect(i),t.log(`Disconnected from "${t.url}"`),t.dispatch("close",{error:!1})}),t.ws=i,r(!0)})})}})()}disconnect(e){if(!e||this.ws===e)return this.ws&&this.ws.close(),this.ws=null,!0}receive(e,t){return this.log("received:",e,t),this.dispatch(`server.${e}`,t),this.dispatch("server.*",t),!0}send(e,t){if(!this.isConnected())throw new Error("RealtimeAPI is not connected");if("object"!=typeof(t=t||{}))throw new Error("data must be an object");let n={event_id:ty.generateId("evt_"),type:e,...t};return this.dispatch(`client.${e}`,n),this.dispatch("client.*",n),this.log("sent:",e,n),this.ws.send(JSON.stringify(n)),!0}},i$=class extends n${constructor({url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:n,debug:i}={}){super(),this.defaultSessionConfig={modalities:["text","audio"],instructions:"",voice:"alloy",input_audio_format:"pcm16",output_audio_format:"pcm16",input_audio_transcription:null,turn_detection:null,tools:[],tool_choice:"auto",temperature:.8,max_response_output_tokens:4096},this.sessionConfig={},this.transcriptionModels=[{model:"whisper-1"}],this.defaultServerVadConfig={type:"server_vad",threshold:.5,prefix_padding_ms:300,silence_duration_ms:200},this.realtime=new gLe({url:e,apiKey:t,dangerouslyAllowAPIKeyInBrowser:n,debug:i}),this.conversation=new class{constructor(){Eg(this,"defaultFrequency",24e3),Eg(this,"EventProcessors",{"conversation.item.created":e=>{let{item:t}=e,n=JSON.parse(JSON.stringify(t));if(this.itemLookup[n.id]||(this.itemLookup[n.id]=n,this.items.push(n)),n.formatted={},n.formatted.audio=new Int16Array(0),n.formatted.text="",n.formatted.transcript="",this.queuedSpeechItems[n.id]&&(n.formatted.audio=this.queuedSpeechItems[n.id].audio,delete this.queuedSpeechItems[n.id]),n.content){let i=n.content.filter(r=>["text","input_text"].includes(r.type));for(let r of i)n.formatted.text+=r.text}return this.queuedTranscriptItems[n.id]&&(n.formatted.transcript=this.queuedTranscriptItems.transcript,delete this.queuedTranscriptItems[n.id]),"message"===n.type?"user"===n.role?(n.status="completed",this.queuedInputAudio&&(n.formatted.audio=this.queuedInputAudio,this.queuedInputAudio=null)):n.status="in_progress":"function_call"===n.type?(n.formatted.tool={type:"function",name:n.name,call_id:n.call_id,arguments:""},n.status="in_progress"):"function_call_output"===n.type&&(n.status="completed",n.formatted.output=n.output),{item:n,delta:null}},"conversation.item.truncated":e=>{let{item_id:t,audio_end_ms:n}=e,i=this.itemLookup[t];if(!i)throw new Error(`item.truncated: Item "${t}" not found`);let r=Math.floor(n*this.defaultFrequency/1e3);return i.formatted.transcript="",i.formatted.audio=i.formatted.audio.slice(0,r),{item:i,delta:null}},"conversation.item.deleted":e=>{let{item_id:t}=e,n=this.itemLookup[t];if(!n)throw new Error(`item.deleted: Item "${t}" not found`);delete this.itemLookup[n.id];let i=this.items.indexOf(n);return i>-1&&this.items.splice(i,1),{item:n,delta:null}},"conversation.item.input_audio_transcription.completed":e=>{let{item_id:t,content_index:n,transcript:i}=e,r=this.itemLookup[t],o=i||" ";return r?(r.content[n].transcript=i,r.formatted.transcript=o,{item:r,delta:{transcript:i}}):(this.queuedTranscriptItems[t]={transcript:o},{item:null,delta:null})},"input_audio_buffer.speech_started":e=>{let{item_id:t,audio_start_ms:n}=e;return this.queuedSpeechItems[t]={audio_start_ms:n},{item:null,delta:null}},"input_audio_buffer.speech_stopped":(e,t)=>{let{item_id:n,audio_end_ms:i}=e;this.queuedSpeechItems[n]||(this.queuedSpeechItems[n]={audio_start_ms:i});let r=this.queuedSpeechItems[n];if(r.audio_end_ms=i,t){let o=Math.floor(r.audio_start_ms*this.defaultFrequency/1e3),s=Math.floor(r.audio_end_ms*this.defaultFrequency/1e3);r.audio=t.slice(o,s)}return{item:null,delta:null}},"response.created":e=>{let{response:t}=e;return this.responseLookup[t.id]||(this.responseLookup[t.id]=t,this.responses.push(t)),{item:null,delta:null}},"response.output_item.added":e=>{let{response_id:t,item:n}=e,i=this.responseLookup[t];if(!i)throw new Error(`response.output_item.added: Response "${t}" not found`);return i.output.push(n.id),{item:null,delta:null}},"response.output_item.done":e=>{let{item:t}=e;if(!t)throw new Error('response.output_item.done: Missing "item"');let n=this.itemLookup[t.id];if(!n)throw new Error(`response.output_item.done: Item "${t.id}" not found`);return n.status=t.status,{item:n,delta:null}},"response.content_part.added":e=>{let{item_id:t,part:n}=e,i=this.itemLookup[t];if(!i)throw new Error(`response.content_part.added: Item "${t}" not found`);return i.content.push(n),{item:i,delta:null}},"response.audio_transcript.delta":e=>{let{item_id:t,content_index:n,delta:i}=e,r=this.itemLookup[t];if(!r)throw new Error(`response.audio_transcript.delta: Item "${t}" not found`);return r.content[n].transcript+=i,r.formatted.transcript+=i,{item:r,delta:{transcript:i}}},"response.audio.delta":e=>{let{item_id:t,delta:i}=e,r=this.itemLookup[t];if(!r)throw new Error(`response.audio.delta: Item "${t}" not found`);let o=ty.base64ToArrayBuffer(i),s=new Int16Array(o);return r.formatted.audio=ty.mergeInt16Arrays(r.formatted.audio,s),{item:r,delta:{audio:s}}},"response.text.delta":e=>{let{item_id:t,content_index:n,delta:i}=e,r=this.itemLookup[t];if(!r)throw new Error(`response.text.delta: Item "${t}" not found`);return r.content[n].text+=i,r.formatted.text+=i,{item:r,delta:{text:i}}},"response.function_call_arguments.delta":e=>{let{item_id:t,delta:n}=e,i=this.itemLookup[t];if(!i)throw new Error(`response.function_call_arguments.delta: Item "${t}" not found`);return i.arguments+=n,i.formatted.tool.arguments+=n,{item:i,delta:{arguments:n}}}}),this.clear()}clear(){return this.itemLookup={},this.items=[],this.responseLookup={},this.responses=[],this.queuedSpeechItems={},this.queuedTranscriptItems={},this.queuedInputAudio=null,!0}queueInputAudio(e){return this.queuedInputAudio=e,e}processEvent(e,...t){if(!e.event_id)throw console.error(e),new Error('Missing "event_id" on event');if(!e.type)throw console.error(e),new Error('Missing "type" on event');let n=this.EventProcessors[e.type];if(!n)throw new Error(`Missing conversation event processor for "${e.type}"`);return n.call(this,e,...t)}getItem(e){return this.itemLookup[e]||null}getItems(){return this.items.slice()}},this._resetConfig(),this._addAPIEventHandlers()}_resetConfig(){return this.sessionCreated=!1,this.tools={},this.sessionConfig=JSON.parse(JSON.stringify(this.defaultSessionConfig)),this.inputAudioBuffer=new Int16Array(0),!0}_addAPIEventHandlers(){var e=this;this.realtime.on("client.*",r=>{let o={time:(new Date).toISOString(),source:"client",event:r};this.dispatch("realtime.event",o)}),this.realtime.on("server.*",r=>{let o={time:(new Date).toISOString(),source:"server",event:r};this.dispatch("realtime.event",o)}),this.realtime.on("server.session.created",()=>this.sessionCreated=!0);let t=(r,...o)=>{let{item:s,delta:a}=this.conversation.processEvent(r,...o);return{item:s,delta:a}},n=(r,...o)=>{let{item:s,delta:a}=t(r,...o);return s&&this.dispatch("conversation.updated",{item:s,delta:a}),{item:s,delta:a}},i=function(){var r=(0,si.Z)(function*(o){try{let s=JSON.parse(o.arguments),a=e.tools[o.name];if(!a)throw new Error(`Tool "${o.name}" has not been added`);let l=yield a.handler(s);e.realtime.send("conversation.item.create",{item:{type:"function_call_output",call_id:o.call_id,output:JSON.stringify(l)}})}catch(s){e.realtime.send("conversation.item.create",{item:{type:"function_call_output",call_id:o.call_id,output:JSON.stringify({error:s.message})}})}e.createResponse()});return function(s){return r.apply(this,arguments)}}();return this.realtime.on("server.response.created",t),this.realtime.on("server.response.output_item.added",t),this.realtime.on("server.response.content_part.added",t),this.realtime.on("server.input_audio_buffer.speech_started",r=>{t(r),this.dispatch("conversation.interrupted")}),this.realtime.on("server.input_audio_buffer.speech_stopped",r=>t(r,this.inputAudioBuffer)),this.realtime.on("server.conversation.item.created",r=>{let{item:o}=n(r);this.dispatch("conversation.item.appended",{item:o}),"completed"===o.status&&this.dispatch("conversation.item.completed",{item:o})}),this.realtime.on("server.conversation.item.truncated",n),this.realtime.on("server.conversation.item.deleted",n),this.realtime.on("server.conversation.item.input_audio_transcription.completed",n),this.realtime.on("server.response.audio_transcript.delta",n),this.realtime.on("server.response.audio.delta",n),this.realtime.on("server.response.text.delta",n),this.realtime.on("server.response.function_call_arguments.delta",n),this.realtime.on("server.response.output_item.done",function(){var r=(0,si.Z)(function*(o){let{item:s}=n(o);"completed"===s.status&&e.dispatch("conversation.item.completed",{item:s}),s.formatted.tool&&i(s.formatted.tool)});return function(o){return r.apply(this,arguments)}}()),!0}isConnected(){return this.realtime.isConnected()}reset(){return this.disconnect(),this.clearEventHandlers(),this.realtime.clearEventHandlers(),this._resetConfig(),this._addAPIEventHandlers(),!0}connect(){var e=this;return(0,si.Z)(function*(){if(e.isConnected())throw new Error("Already connected, use .disconnect() first");return yield e.realtime.connect(),e.updateSession(),!0})()}waitForSessionCreated(){var e=this;return(0,si.Z)(function*(){if(!e.isConnected())throw new Error("Not connected, use .connect() first");for(;!e.sessionCreated;)yield new Promise(t=>setTimeout(()=>t(),1));return!0})()}disconnect(){this.sessionCreated=!1,this.realtime.isConnected()&&this.realtime.disconnect(),this.conversation.clear()}getTurnDetectionType(){return this.sessionConfig.turn_detection?.type||null}addTool(e,t){if(!e?.name)throw new Error("Missing tool name in definition");let n=e?.name;if(this.tools[n])throw new Error(`Tool "${n}" already added. Please use .removeTool("${n}") before trying to add again.`);if("function"!=typeof t)throw new Error(`Tool "${n}" handler must be a function`);return this.tools[n]={definition:e,handler:t},this.updateSession(),this.tools[n]}removeTool(e){if(!this.tools[e])throw new Error(`Tool "${e}" does not exist, can not be removed.`);return delete this.tools[e],!0}deleteItem(e){return this.realtime.send("conversation.item.delete",{item_id:e}),!0}updateSession({modalities:e,instructions:t,voice:n,input_audio_format:i,output_audio_format:r,input_audio_transcription:o,turn_detection:s,tools:a,tool_choice:l,temperature:c,max_response_output_tokens:d}={}){void 0!==e&&(this.sessionConfig.modalities=e),void 0!==t&&(this.sessionConfig.instructions=t),void 0!==n&&(this.sessionConfig.voice=n),void 0!==i&&(this.sessionConfig.input_audio_format=i),void 0!==r&&(this.sessionConfig.output_audio_format=r),void 0!==o&&(this.sessionConfig.input_audio_transcription=o),void 0!==s&&(this.sessionConfig.turn_detection=s),void 0!==a&&(this.sessionConfig.tools=a),void 0!==l&&(this.sessionConfig.tool_choice=l),void 0!==c&&(this.sessionConfig.temperature=c),void 0!==d&&(this.sessionConfig.max_response_output_tokens=d);let h=[].concat((a||[]).map(g=>{let v={type:"function",...g};if(this.tools[v?.name])throw new Error(`Tool "${v?.name}" has already been defined`);return v}),Object.keys(this.tools).map(g=>({type:"function",...this.tools[g].definition}))),p={...this.sessionConfig};return p.tools=h,this.realtime.isConnected()&&this.realtime.send("session.update",{session:p}),!0}sendUserMessageContent(e=[]){if(e.length){for(let t of e)"input_audio"===t.type&&(t.audio instanceof ArrayBuffer||t.audio instanceof Int16Array)&&(t.audio=ty.arrayBufferToBase64(t.audio));this.realtime.send("conversation.item.create",{item:{type:"message",role:"user",content:e}})}return this.createResponse(),!0}appendInputAudio(e){return e.byteLength>0&&(this.realtime.send("input_audio_buffer.append",{audio:ty.arrayBufferToBase64(e)}),this.inputAudioBuffer=ty.mergeInt16Arrays(this.inputAudioBuffer,e)),!0}createResponse(){return null===this.getTurnDetectionType()&&this.inputAudioBuffer.byteLength>0&&(this.realtime.send("input_audio_buffer.commit"),this.conversation.queueInputAudio(this.inputAudioBuffer),this.inputAudioBuffer=new Int16Array(0)),this.realtime.send("response.create"),!0}cancelResponse(e,t=0){if(!e)return this.realtime.send("response.cancel"),{item:null};if(e){let n=this.conversation.getItem(e);if(!n)throw new Error(`Could not find item "${e}"`);if("message"!==n.type)throw new Error('Can only cancelResponse messages with type "message"');if("assistant"!==n.role)throw new Error('Can only cancelResponse messages with role "assistant"');this.realtime.send("response.cancel");let i=n.content.findIndex(r=>"audio"===r.type);if(-1===i)throw new Error("Could not find audio on item to cancel");return this.realtime.send("conversation.item.truncate",{item_id:e,content_index:i,audio_end_ms:Math.floor(t/this.conversation.defaultFrequency*1e3)}),{item:n}}}waitForNextItem(){var e=this;return(0,si.Z)(function*(){let t=yield e.waitForNext("conversation.item.appended"),{item:n}=t;return{item:n}})()}waitForNextCompletedItem(){var e=this;return(0,si.Z)(function*(){let t=yield e.waitForNext("conversation.item.completed"),{item:n}=t;return{item:n}})()}},bLe=new Blob(["\nclass AudioProcessor extends AudioWorkletProcessor {\n\n  constructor() {\n    super();\n    this.port.onmessage = this.receive.bind(this);\n    this.initialize();\n  }\n\n  initialize() {\n    this.foundAudio = false;\n    this.recording = false;\n    this.chunks = [];\n  }\n\n  /**\n   * Concatenates sampled chunks into channels\n   * Format is chunk[Left[], Right[]]\n   */\n  readChannelData(chunks, channel = -1, maxChannels = 9) {\n    let channelLimit;\n    if (channel !== -1) {\n      if (chunks[0] && chunks[0].length - 1 < channel) {\n        throw new Error(\n          `Channel ${channel} out of range: max ${chunks[0].length}`\n        );\n      }\n      channelLimit = channel + 1;\n    } else {\n      channel = 0;\n      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);\n    }\n    const channels = [];\n    for (let n = channel; n < channelLimit; n++) {\n      const length = chunks.reduce((sum, chunk) => {\n        return sum + chunk[n].length;\n      }, 0);\n      const buffers = chunks.map((chunk) => chunk[n]);\n      const result = new Float32Array(length);\n      let offset = 0;\n      for (let i = 0; i < buffers.length; i++) {\n        result.set(buffers[i], offset);\n        offset += buffers[i].length;\n      }\n      channels[n] = result;\n    }\n    return channels;\n  }\n\n  /**\n   * Combines parallel audio data into correct format,\n   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]\n   */\n  formatAudioData(channels) {\n    if (channels.length === 1) {\n      // Simple case is only one channel\n      const float32Array = channels[0].slice();\n      const meanValues = channels[0].slice();\n      return { float32Array, meanValues };\n    } else {\n      const float32Array = new Float32Array(\n        channels[0].length * channels.length\n      );\n      const meanValues = new Float32Array(channels[0].length);\n      for (let i = 0; i < channels[0].length; i++) {\n        const offset = i * channels.length;\n        let meanValue = 0;\n        for (let n = 0; n < channels.length; n++) {\n          float32Array[offset + n] = channels[n][i];\n          meanValue += channels[n][i];\n        }\n        meanValues[i] = meanValue / channels.length;\n      }\n      return { float32Array, meanValues };\n    }\n  }\n\n  /**\n   * Converts 32-bit float data to 16-bit integers\n   */\n  floatTo16BitPCM(float32Array) {\n    const buffer = new ArrayBuffer(float32Array.length * 2);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (let i = 0; i < float32Array.length; i++, offset += 2) {\n      let s = Math.max(-1, Math.min(1, float32Array[i]));\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n    return buffer;\n  }\n\n  /**\n   * Retrieves the most recent amplitude values from the audio stream\n   * @param {number} channel\n   */\n  getValues(channel = -1) {\n    const channels = this.readChannelData(this.chunks, channel);\n    const { meanValues } = this.formatAudioData(channels);\n    return { meanValues, channels };\n  }\n\n  /**\n   * Exports chunks as an audio/wav file\n   */\n  export() {\n    const channels = this.readChannelData(this.chunks);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const audioData = this.floatTo16BitPCM(float32Array);\n    return {\n      meanValues: meanValues,\n      audio: {\n        bitsPerSample: 16,\n        channels: channels,\n        data: audioData,\n      },\n    };\n  }\n\n  receive(e) {\n    const { event, id } = e.data;\n    let receiptData = {};\n    switch (event) {\n      case 'start':\n        this.recording = true;\n        break;\n      case 'stop':\n        this.recording = false;\n        break;\n      case 'clear':\n        this.initialize();\n        break;\n      case 'export':\n        receiptData = this.export();\n        break;\n      case 'read':\n        receiptData = this.getValues();\n        break;\n      default:\n        break;\n    }\n    // Always send back receipt\n    this.port.postMessage({ event: 'receipt', id, data: receiptData });\n  }\n\n  sendChunk(chunk) {\n    const channels = this.readChannelData([chunk]);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const rawAudioData = this.floatTo16BitPCM(float32Array);\n    const monoAudioData = this.floatTo16BitPCM(meanValues);\n    this.port.postMessage({\n      event: 'chunk',\n      data: {\n        mono: monoAudioData,\n        raw: rawAudioData,\n      },\n    });\n  }\n\n  process(inputList, outputList, parameters) {\n    // Copy input to output (e.g. speakers)\n    // Note that this creates choppy sounds with Mac products\n    const sourceLimit = Math.min(inputList.length, outputList.length);\n    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {\n      const input = inputList[inputNum];\n      const output = outputList[inputNum];\n      const channelCount = Math.min(input.length, output.length);\n      for (let channelNum = 0; channelNum < channelCount; channelNum++) {\n        input[channelNum].forEach((sample, i) => {\n          output[channelNum][i] = sample;\n        });\n      }\n    }\n    const inputs = inputList[0];\n    // There's latency at the beginning of a stream before recording starts\n    // Make sure we actually receive audio data before we start storing chunks\n    let sliceIndex = 0;\n    if (!this.foundAudio) {\n      for (const channel of inputs) {\n        sliceIndex = 0; // reset for each channel\n        if (this.foundAudio) {\n          break;\n        }\n        if (channel) {\n          for (const value of channel) {\n            if (value !== 0) {\n              // find only one non-zero entry in any channel\n              this.foundAudio = true;\n              break;\n            } else {\n              sliceIndex++;\n            }\n          }\n        }\n      }\n    }\n    if (inputs && inputs[0] && this.foundAudio && this.recording) {\n      // We need to copy the TypedArray, because the `process`\n      // internals will reuse the same buffer to hold each input\n      const chunk = inputs.map((input) => input.slice(sliceIndex));\n      this.chunks.push(chunk);\n      this.sendChunk(chunk);\n    }\n    return true;\n  }\n}\n\nregisterProcessor('audio_processor', AudioProcessor);\n"],{type:"application/javascript"}),xLe=URL.createObjectURL(bLe),r$=[4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13],wLe=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],fm=[],hR=[];for(let e=1;e<=8;e++)for(let t=0;t<r$.length;t++)fm.push(r$[t]/Math.pow(2,8-e)),hR.push(wLe[t]+e);var L2=[32,2e3],o$=fm.filter((e,t)=>fm[t]>L2[0]&&fm[t]<L2[1]),CLe=hR.filter((e,t)=>fm[t]>L2[0]&&fm[t]<L2[1]),uR=class{static getFrequencies(e,t,n,i="frequency",r=-100,o=-30){n||(n=new Float32Array(e.frequencyBinCount),e.getFloatFrequencyData(n));let l,c,d,a=1/n.length*(t/2);if("music"===i||"voice"===i){let p="voice"===i?o$:fm,g=Array(p.length).fill(r);for(let v=0;v<n.length;v++){let y=v*a,b=n[v];for(let P=p.length-1;P>=0;P--)if(y>p[P]){g[P]=Math.max(g[P],b);break}}l=g,c="voice"===i?o$:fm,d="voice"===i?CLe:hR}else l=Array.from(n),c=l.map((p,g)=>a*g),d=c.map(p=>`${p.toFixed(2)} Hz`);let h=l.map(p=>Math.max(0,Math.min((p-r)/(o-r),1)));return{values:new Float32Array(h),frequencies:c,labels:d}}constructor(e,t=null){if(this.fftResults=[],t){let{length:n,sampleRate:i}=t,r=new OfflineAudioContext({length:n,sampleRate:i}),o=r.createBufferSource();o.buffer=t;let s=r.createAnalyser();s.fftSize=8192,s.smoothingTimeConstant=.1,o.connect(s);let a=1/60,l=n/i,c=d=>{let h=a*d;h<l&&r.suspend(h).then(()=>{let p=new Float32Array(s.frequencyBinCount);s.getFloatFrequencyData(p),this.fftResults.push(p),c(d+1)}),1===d?r.startRendering():r.resume()};o.start(0),c(1),this.audio=e,this.context=r,this.analyser=s,this.sampleRate=i,this.audioBuffer=t}else{let n=new AudioContext,i=n.createMediaElementSource(e),r=n.createAnalyser();r.fftSize=8192,r.smoothingTimeConstant=.1,i.connect(r),r.connect(n.destination),this.audio=e,this.context=n,this.analyser=r,this.sampleRate=this.context.sampleRate,this.audioBuffer=null}}getFrequencies(e="frequency",t=-100,n=-30){let i=null;if(this.audioBuffer&&this.fftResults.length){let o=Math.min(this.audio.currentTime/this.audio.duration*this.fftResults.length|0,this.fftResults.length-1);i=this.fftResults[o]}return uR.getFrequencies(this.analyser,this.sampleRate,i,e,t,n)}resumeIfSuspended(){var e=this;return(0,si.Z)(function*(){return"suspended"===e.context.state&&(yield e.context.resume()),!0})()}},ny=class{static floatTo16BitPCM(e){let t=new ArrayBuffer(2*e.length),n=new DataView(t),i=0;for(let r=0;r<e.length;r++,i+=2){let o=Math.max(-1,Math.min(1,e[r]));n.setInt16(i,o<0?32768*o:32767*o,!0)}return t}static mergeBuffers(e,t){let n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}_packData(e,t){return[new Uint8Array([t,t>>8]),new Uint8Array([t,t>>8,t>>16,t>>24])][e]}pack(e,t){if(!t?.bitsPerSample)throw new Error('Missing "bitsPerSample"');if(!t?.channels)throw new Error('Missing "channels"');if(!t?.data)throw new Error('Missing "data"');let{bitsPerSample:n,channels:i,data:r}=t,o=["RIFF",this._packData(1,52),"WAVE","fmt ",this._packData(1,16),this._packData(0,1),this._packData(0,i.length),this._packData(1,e),this._packData(1,e*i.length*n/8),this._packData(0,i.length*n/8),this._packData(0,n),"data",this._packData(1,i[0].length*i.length*n/8),r],s=new Blob(o,{type:"audio/mpeg"});return{blob:s,url:URL.createObjectURL(s),channelCount:i.length,sampleRate:e,duration:r.byteLength/(i.length*e*2)}}},s$=class{constructor({sampleRate:e=44100,outputToSpeakers:t=!1,debug:n=!1}={}){this.scriptSrc=xLe,this.sampleRate=e,this.outputToSpeakers=t,this.debug=!!n,this._deviceChangeCallback=null,this._devices=[],this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}static decode(e,t=44100,n=-1){return(0,si.Z)(function*(){let r,o,i=new AudioContext({sampleRate:t});if(e instanceof Blob){if(-1!==n)throw new Error('Can not specify "fromSampleRate" when reading from Blob');o=e,r=yield o.arrayBuffer()}else if(e instanceof ArrayBuffer){if(-1!==n)throw new Error('Can not specify "fromSampleRate" when reading from ArrayBuffer');r=e,o=new Blob([r],{type:"audio/wav"})}else{let c,d;if(e instanceof Int16Array){d=e,c=new Float32Array(e.length);for(let p=0;p<e.length;p++)c[p]=e[p]/32768}else if(e instanceof Float32Array)c=e;else{if(!(e instanceof Array))throw new Error('"audioData" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>');c=new Float32Array(e)}if(-1===n)throw new Error('Must specify "fromSampleRate" when reading from Float32Array, In16Array or Array');if(n<3e3)throw new Error('Minimum "fromSampleRate" is 3000 (3kHz)');d||(d=ny.floatTo16BitPCM(c));let h={bitsPerSample:16,channels:[c],data:d};o=(new ny).pack(n,h).blob,r=yield o.arrayBuffer()}let s=yield i.decodeAudioData(r),a=s.getChannelData(0);return{blob:o,url:URL.createObjectURL(o),values:a,audioBuffer:s}})()}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}_event(e,t={},n=null){var i=this;return(0,si.Z)(function*(){if(!(n=n||i.processor))throw new Error("Can not send events without recording first");let r={event:e,id:i._lastEventId++,data:t};n.port.postMessage(r);let o=(new Date).valueOf();for(;!i.eventReceipts[r.id];){if((new Date).valueOf()-o>i.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);yield new Promise(a=>setTimeout(()=>a(!0),1))}let s=i.eventReceipts[r.id];return delete i.eventReceipts[r.id],s})()}listenForDeviceChange(e){var t=this;if(null===e&&this._deviceChangeCallback)navigator.mediaDevices.removeEventListener("devicechange",this._deviceChangeCallback),this._deviceChangeCallback=null;else if(null!==e){let n=0,i=[],r=s=>s.map(a=>a.deviceId).sort().join(","),o=function(){var s=(0,si.Z)(function*(){let a=++n,l=yield t.listDevices();a===n&&r(i)!==r(l)&&(i=l,e(l.slice()))});return function(){return s.apply(this,arguments)}}();navigator.mediaDevices.addEventListener("devicechange",o),o(),this._deviceChangeCallback=o}return!0}requestPermission(){return(0,si.Z)(function*(){let e=yield navigator.permissions.query({name:"microphone"});if("denied"===e.state)window.alert("You must grant microphone access to use this feature.");else if("prompt"===e.state)try{(yield navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(t=>t.stop())}catch{window.alert("You must grant microphone access to use this feature.")}return!0})()}listDevices(){var e=this;return(0,si.Z)(function*(){if(!navigator.mediaDevices||!("enumerateDevices"in navigator.mediaDevices))throw new Error("Could not request user devices");yield e.requestPermission();let t=(yield navigator.mediaDevices.enumerateDevices()).filter(r=>"audioinput"===r.kind),n=t.findIndex(r=>"default"===r.deviceId),i=[];if(-1!==n){let r=t.splice(n,1)[0],o=t.findIndex(s=>s.groupId===r.groupId);-1!==o&&(r=t.splice(o,1)[0]),r.default=!0,i.push(r)}return i.concat(t)})()}begin(e){var t=this;return(0,si.Z)(function*(){if(t.processor)throw new Error("Already connected: please call .end() to start a new session");if(!navigator.mediaDevices||!("getUserMedia"in navigator.mediaDevices))throw new Error("Could not request user media");try{let a={audio:!0};e&&(a.audio={deviceId:{exact:e}}),t.stream=yield navigator.mediaDevices.getUserMedia(a)}catch{throw new Error("Could not start media stream")}let n=new AudioContext({sampleRate:t.sampleRate}),i=n.createMediaStreamSource(t.stream);try{yield n.audioWorklet.addModule(t.scriptSrc)}catch(a){throw console.error(a),new Error(`Could not add audioWorklet module: ${t.scriptSrc}`)}let r=new AudioWorkletNode(n,"audio_processor");r.port.onmessage=a=>{let{event:l,id:c,data:d}=a.data;if("receipt"===l)t.eventReceipts[c]=d;else if("chunk"===l)if(t._chunkProcessorSize){let h=t._chunkProcessorBuffer;t._chunkProcessorBuffer={raw:ny.mergeBuffers(h.raw,d.raw),mono:ny.mergeBuffers(h.mono,d.mono)},t._chunkProcessorBuffer.mono.byteLength>=t._chunkProcessorSize&&(t._chunkProcessor(t._chunkProcessorBuffer),t._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else t._chunkProcessor(d)};let o=i.connect(r),s=n.createAnalyser();return s.fftSize=8192,s.smoothingTimeConstant=.1,o.connect(s),t.outputToSpeakers&&(console.warn("Warning: Output to speakers may affect sound quality,\nespecially due to system audio feedback preventative measures.\nuse only for debugging"),s.connect(n.destination)),t.source=i,t.node=o,t.analyser=s,t.processor=r,!0})()}getFrequencies(e="frequency",t=-100,n=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return uR.getFrequencies(this.analyser,this.sampleRate,null,e,t,n)}pause(){var e=this;return(0,si.Z)(function*(){if(!e.processor)throw new Error("Session ended: please call .begin() first");if(!e.recording)throw new Error("Already paused: please call .record() first");return e._chunkProcessorBuffer.raw.byteLength&&e._chunkProcessor(e._chunkProcessorBuffer),e.log("Pausing ..."),yield e._event("stop"),e.recording=!1,!0})()}record(e=(()=>{}),t=8192){var n=this;return(0,si.Z)(function*(){if(!n.processor)throw new Error("Session ended: please call .begin() first");if(n.recording)throw new Error("Already recording: please call .pause() first");if("function"!=typeof e)throw new Error("chunkProcessor must be a function");return n._chunkProcessor=e,n._chunkProcessorSize=t,n._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},n.log("Recording ..."),yield n._event("start"),n.recording=!0,!0})()}clear(){var e=this;return(0,si.Z)(function*(){if(!e.processor)throw new Error("Session ended: please call .begin() first");return yield e._event("clear"),!0})()}read(){var e=this;return(0,si.Z)(function*(){if(!e.processor)throw new Error("Session ended: please call .begin() first");return e.log("Reading ..."),yield e._event("read")})()}save(e=!1){var t=this;return(0,si.Z)(function*(){if(!t.processor)throw new Error("Session ended: please call .begin() first");if(!e&&t.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");t.log("Exporting ...");let n=yield t._event("export");return(new ny).pack(t.sampleRate,n.audio)})()}end(){var e=this;return(0,si.Z)(function*(){if(!e.processor)throw new Error("Session ended: please call .begin() first");let t=e.processor;e.log("Stopping ..."),yield e._event("stop"),e.recording=!1,e.stream.getTracks().forEach(i=>i.stop()),e.log("Exporting ...");let n=yield e._event("export",{},t);return e.processor.disconnect(),e.source.disconnect(),e.node.disconnect(),e.analyser.disconnect(),e.stream=null,e.processor=null,e.source=null,e.node=null,(new ny).pack(e.sampleRate,n.audio)})()}quit(){var e=this;return(0,si.Z)(function*(){return e.listenForDeviceChange(null),e.processor&&(yield e.end()),!0})()}},PLe=new Blob(["\nclass StreamProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.hasStarted = false;\n    this.hasInterrupted = false;\n    this.outputBuffers = [];\n    this.bufferLength = 128;\n    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };\n    this.writeOffset = 0;\n    this.trackSampleOffsets = {};\n    this.port.onmessage = (event) => {\n      if (event.data) {\n        const payload = event.data;\n        if (payload.event === 'write') {\n          const int16Array = payload.buffer;\n          const float32Array = new Float32Array(int16Array.length);\n          for (let i = 0; i < int16Array.length; i++) {\n            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32\n          }\n          this.writeData(float32Array, payload.trackId);\n        } else if (\n          payload.event === 'offset' ||\n          payload.event === 'interrupt'\n        ) {\n          const requestId = payload.requestId;\n          const trackId = this.write.trackId;\n          const offset = this.trackSampleOffsets[trackId] || 0;\n          this.port.postMessage({\n            event: 'offset',\n            requestId,\n            trackId,\n            offset,\n          });\n          if (payload.event === 'interrupt') {\n            this.hasInterrupted = true;\n          }\n        } else {\n          throw new Error(`Unhandled event \"${payload.event}\"`);\n        }\n      }\n    };\n  }\n\n  writeData(float32Array, trackId = null) {\n    let { buffer } = this.write;\n    let offset = this.writeOffset;\n    for (let i = 0; i < float32Array.length; i++) {\n      buffer[offset++] = float32Array[i];\n      if (offset >= buffer.length) {\n        this.outputBuffers.push(this.write);\n        this.write = { buffer: new Float32Array(this.bufferLength), trackId };\n        buffer = this.write.buffer;\n        offset = 0;\n      }\n    }\n    this.writeOffset = offset;\n    return true;\n  }\n\n  process(inputs, outputs, parameters) {\n    const output = outputs[0];\n    const outputChannelData = output[0];\n    const outputBuffers = this.outputBuffers;\n    if (this.hasInterrupted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else if (outputBuffers.length) {\n      this.hasStarted = true;\n      const { buffer, trackId } = outputBuffers.shift();\n      for (let i = 0; i < outputChannelData.length; i++) {\n        outputChannelData[i] = buffer[i] || 0;\n      }\n      if (trackId) {\n        this.trackSampleOffsets[trackId] =\n          this.trackSampleOffsets[trackId] || 0;\n        this.trackSampleOffsets[trackId] += buffer.length;\n      }\n      return true;\n    } else if (this.hasStarted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n\nregisterProcessor('stream_processor', StreamProcessor);\n"],{type:"application/javascript"}),SLe=URL.createObjectURL(PLe),l$=class{constructor(e,t,n){var i=this;this.data=e,this.id=t,this.shared=n,this.items=[],this.isConnected=!1,this.rafId=0,this.emitter=M2(),this.voice=0,this.frequencies=new Float32Array([0]),this.onRealTimeEvent=({source:o,event:s})=>{"server"===o&&"spline.ready"===s.type?this.onSessionCreated(s):"server"===o&&"session.created"===s.type&&(this.client.createResponse(),this.client.on("realtime.event",this.onRealTimeEvent))},this.onSessionCreated=function(){var r=(0,si.Z)(function*(o){let s=Object.values(i.client.tools).map(a=>({type:"function",...a.definition}));i.client.realtime.send("spline.tools",{tools:s}),i.client.realtime.send("spline.connect",{}),yield i.wavRecorder.record(a=>i.client.isConnected()&&i.client.appendInputAudio(a.mono))});return function(o){return r.apply(this,arguments)}}(),this.animate=()=>{if(this.rafId=requestAnimationFrame(this.animate),this.isConnected){let r=this.wavStreamPlayer.analyser?this.wavStreamPlayer.getFrequencies("voice"):{values:new Float32Array([0])},o=r.values.reduce((s,a)=>s+a,0)/r.values.length;this.voice=o,this.frequencies=r.values,this.emitter.emit("voice",{value:o,frequencies:r.values})}},this.client=new i$({url:"https://relayserver.spline.design/?uuidfile="+e.integration.hash}),this.wavRecorder=new s$({sampleRate:24e3}),this.wavStreamPlayer=new class{constructor({sampleRate:e=44100}={}){this.scriptSrc=SLe,this.sampleRate=e,this.context=null,this.stream=null,this.analyser=null,this.trackSampleOffsets={},this.interruptedTrackIds={}}connect(){var e=this;return(0,si.Z)(function*(){e.context=new AudioContext({sampleRate:e.sampleRate}),"suspended"===e.context.state&&(yield e.context.resume());try{yield e.context.audioWorklet.addModule(e.scriptSrc)}catch(n){throw console.error(n),new Error(`Could not add audioWorklet module: ${e.scriptSrc}`)}let t=e.context.createAnalyser();return t.fftSize=8192,t.smoothingTimeConstant=.1,e.analyser=t,!0})()}getFrequencies(e="frequency",t=-100,n=-30){if(!this.analyser)throw new Error("Not connected, please call .connect() first");return uR.getFrequencies(this.analyser,this.sampleRate,null,e,t,n)}_start(){let e=new AudioWorkletNode(this.context,"stream_processor");return e.connect(this.context.destination),e.port.onmessage=t=>{let{event:n}=t.data;if("stop"===n)e.disconnect(),this.stream=null;else if("offset"===n){let{requestId:i,trackId:r,offset:o}=t.data;this.trackSampleOffsets[i]={trackId:r,offset:o,currentTime:o/this.sampleRate}}},this.analyser.disconnect(),e.connect(this.analyser),this.stream=e,!0}add16BitPCM(e,t="default"){if("string"!=typeof t)throw new Error("trackId must be a string");if(this.interruptedTrackIds[t])return;let n;if(this.stream||this._start(),e instanceof Int16Array)n=e;else{if(!(e instanceof ArrayBuffer))throw new Error("argument must be Int16Array or ArrayBuffer");n=new Int16Array(e)}return this.stream.port.postMessage({event:"write",buffer:n,trackId:t}),n}getTrackSampleOffset(e=!1){var t=this;return(0,si.Z)(function*(){if(!t.stream)return null;let i,n=crypto.randomUUID();for(t.stream.port.postMessage({event:e?"interrupt":"offset",requestId:n});!i;)i=t.trackSampleOffsets[n],yield new Promise(o=>setTimeout(()=>o(),1));let{trackId:r}=i;return e&&r&&(t.interruptedTrackIds[r]=!0),i})()}interrupt(){var e=this;return(0,si.Z)(function*(){return e.getTrackSampleOffset(!0)})()}}({sampleRate:24e3})}update(e){this.data=e,this.client=new i$({url:"https://relayserver.spline.design/?uuidfile="+e.integration.hash})}setColorByName(e,t){let n=this.shared.getColorByName(e);if(n){let{id:i}=n,{r,g:o,b:s}=W4e_hexStringToRgb(t)??{r:0,g:0,b:0};this.shared.updateColor(i,{r:r/255,g:o/255,b:s/255})}}connect(){var e=this;if(this.isConnected)return;this.isConnected=!0,this.client.updateSession({turn_detection:{type:"server_vad"}}),this.client.addTool({name:"set_personality_color",description:"returns a color based on the voice personality of the ai assistant. This should be called by the voice assistant each time it is asks to speak differently. If a color cannot be associated to the personality, the color should be a neutral color.",parameters:{type:"object",properties:{color:{type:"string",description:"css hex color string, reflecting the personality"},personality:{type:"string",description:"the personality of the voice assistant"}},required:["color","personality"]}},({color:o})=>{this.setColorByName("Voice Assistant Color",o)});let t=this.shared.getVariablesNames().join(", ");this.client.addTool({name:"set_variable",description:"Sets a Spline variable value when asked by the user.",parameters:{type:"object",properties:{name:{type:"string",description:`The name of the variable that needs to be set. Here's a list of available variables: ${t}. It the variable does not exist, don't call the function and warn the user about it.`},value:{type:"string",description:"The new value for this variable, should always be a string even for number and boolean variables, assume that the value will be cast to the proper type afterwards."}},required:["name","value","type"]}},({name:o,value:s})=>{let a=this.shared.getVariableByName(o);if(a){let c,l=this.shared.getVariable(a.id);c="number"==typeof l?parseFloat(s):"boolean"==typeof l?"true"===s.toLowerCase():{textValue:s},this.shared.updateVariable(a.id,c)}});let n=this.shared.getColorNames().join(", ");this.client.addTool({name:"set_color",description:"Sets a Spline color asset value when asked by the user.",parameters:{type:"object",properties:{name:{type:"string",description:`The name of the color asset that needs to be set. Here's a list of available color assets: ${n}. It the color asset does not exist, don't call the function and warn the user about it.`},value:{type:"string",description:"css hex color string"}},required:["name","value"]}},({name:o,value:s})=>{this.setColorByName(o,s)});let r=[];this.shared.scene.traverseEntity(o=>{o.data.events.forEach(s=>{if("AIAssistantTrigger"===s.data.type){let{description:a}=s.data;r.push(a)}})}),this.client.addTool({name:"trigger_event",description:"Trigger an event by name, here are the available events, please match what the user is asking for to one of these if it applies, otherwise don't call the function and warn the user.",parameters:{type:"object",properties:{description:{type:"string",description:`The name of the event that needs to be triggered. Here's a list of available events: ${JSON.stringify(r)}.`},direction:{type:"string",description:"default is forward, but can be forward or backward. Always set to forward unless the user ask to reverse or cancel the event, then set to backward."}},required:["description","direction"]}},({description:o,direction:s})=>{this.emitter.emit("trigger_event",{description:o,direction:s})}),this.client.on("error",o=>console.error(o)),this.client.on("conversation.interrupted",(0,si.Z)(function*(){let o=yield e.wavStreamPlayer.interrupt();if(o?.trackId){let{trackId:s,offset:a}=o;yield e.client.cancelResponse(s,a)}})),this.client.on("conversation.updated",function(){var o=(0,si.Z)(function*({item:s,delta:a}){let l=e.client.conversation.getItems();if(a?.audio&&e.wavStreamPlayer.add16BitPCM(a.audio,s.id),"completed"===s.status&&s.formatted.audio?.length){let c=yield s$.decode(s.formatted.audio,24e3,24e3);s.formatted.file=c}e.items=l});return function(s){return o.apply(this,arguments)}}()),this.animate()}disconnect(){cancelAnimationFrame(this.rafId),this.voice=0,this.isConnected=!1}start(){var e=this;return(0,si.Z)(function*(){try{yield e.wavRecorder.end()}catch{}yield e.wavRecorder.begin(),e.client.on("realtime.event",e.onRealTimeEvent),yield e.wavStreamPlayer.connect(),yield e.client.connect()})()}stop(){var e=this;return(0,si.Z)(function*(){try{e.client.off("realtime.event",e.onRealTimeEvent)}catch(t){console.error(t)}e.client.disconnect(),yield e.wavRecorder.end(),yield e.wavStreamPlayer.interrupt()})()}computeAnalysisForListenerEvent(e){if("range"===e.analysis){let t=this.frequencies.slice(...e.analysisRange);return t.reduce((n,i)=>n+i,0)/t.length}return"single"===e.analysis?this.frequencies[e.analysisSingle]:this.voice}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}};function pR(e){return"variable_"+e}var DLe=class extends s5e{constructor(e){super(),this.shared=e}create(e){return new EX(e,this.shared)}},fR=class{constructor(e,t={},n=!0,i=!1){if(this.data=e,this.needsJitter=n,this.enableLocalStorageForPersistentVariables=i,this.geometryCache=new JX(!0),this.geometryCache2=new JX(!1),this.imageHolderCache=new DLe(this),this.thisContext={scene:cLe,shared:this},this.deletedMaterial=new lR(rl.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new um(XI.emptyImage,this),this.deletedVideo=new um(HP.defaultVideo,this),this.materials={},this.images={},this.uiBuffers={},this.videos={},this.colors={},this.audios={},this.particles={},this.fonts={},this.variables={},this.userAPIs={},this.userWebhooks={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[r,o]of Object.entries(t.images))this.addImage(r,o);if(t.videos)for(let[r,o]of Object.entries(t.videos))this.addVideo(r,o);if(t.audios)for(let[r,o]of Object.entries(t.audios))this.addAudio(r,o);if(t.particles)for(let[r,o]of Object.entries(t.particles))this.addParticle(r,o);this.reset(e)}setRequestRender(e){this._requestRender=e}getImageLoadPromises(){return Object.values(this.images).map(e=>e.loadPromise)}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.data=e,this.resetLib(e.lib);for(let{id:n,data:i}of e.variables)this.addVariableHolder(n,i),t&&this.updateVariableHolder(n,i);for(let[n,i]of Object.entries(e.userAPIs))this.addUserAPI(n,i);for(let[n,i]of Object.entries(e.userWebhooks))this.addUserWebhook(n,i);for(let[n,i]of Object.entries(e.images))this.addImage(n,i);for(let[n,i]of Object.entries(e.videos))this.addVideo(n,i);for(let[n,i]of Object.entries(e.colors))this.addColor(n,i);for(let[n,i]of Object.entries(e.materials))this.addMaterial(n,i);for(let[n,i]of Object.entries(e.audios))this.addAudio(n,i);for(let[n,i]of Object.entries(e.particles))this.addParticle(n,i);for(let[n,i]of Object.entries(e.fonts))this.addFont(n,i)}addMaterial(e,t){if(this.materials[e]){let n=this.materials[e];n.reset(t,this.thisContext),n.dispose()}else{let n=new lR(t,this.thisContext,e);this.materials[e]=n}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return"string"==typeof e?this.getMaterialOrDeletedPlaceholder(e):null==e?(console.error("material is undefined or null"),this.deletedMaterial):new aR(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new um(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return"string"==typeof e?this.getImage(e):this.imageHolderCache.load(e)}addUIBuffer(e,t){return this.uiBuffers[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.uiBuffers[e].updateSrc(t),!0):(this.uiBuffers[e]=new um(t,this),!1)}uiBuffer(e){return this.uiBuffers[e]}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new um(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return"string"==typeof e?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.colors[e].setRGBA(t.r,t.g,t.b,"a"in t?t.a:1),!0):(this.colors[e]=new I2(t.r,t.g,t.b,"a"in t?t.a:1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let n=this.colors[e];return this.colors[e].r=t.r??n.r,this.colors[e].g=t.g??n.g,this.colors[e].b=t.b??n.b,this.colors[e].a=t.a??n.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}getColorNames(){return Object.values(this.data.colors).map(e=>e.name)}getColorByName(e){for(let t in this.data.colors)if(this.data.colors[t].name===e)return{color:this.colors[t],id:t}}color(e){let t;if("string"!=typeof e)return new al(e.r,e.g,e.b,"a"in e?e.a:1);{let n=this.getColor(e);n?t=n:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new al(0,0,0,0))}return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof fx)return t;{let n=new fx({src:t.data});return this.audios[e]=n,n}}addParticle(e,t){this.particles[e]=t}getParticle(e){return this.particles[e]}deleteParticle(e){this.particles[e]&&delete this.particles[e]}deleteAudio(e){let t=this.audios[e];t&&(t instanceof fx&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=ZX(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=ZX(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,n){if(!this._bidi)return[];let i=this._bidi;i.getTextGlyphs(t);let r=i.tokenizer.tokens,o=[],s=0,a=n.length===r.length;for(let l=0;l<n.length;l++){let c=n[l].index,d=String.fromCharCode(n[l].unicode),h=r[s];if(oLe(c,h)||a)o.push({char:d,index:c,replacements:[h.state.glyphIndex],replacementChars:[h.char]}),s++;else{let p=h.char,g="",v=[h.state.glyphIndex],y=[],b=!1;for(;!b;)s++,g=t.charAt(s),p+=g,v.push(e.charToGlyphIndex(g)),y=e.stringToGlyphs(p),1===y.length&&y[0].index===c&&(b=!0),s>t.length&&(b=!0);o.push({char:d,index:c,replacements:v,replacementChars:Array.from(p)}),s++}}return o}generateShapes(e,t){if(!this._isLoaded)return;let y,n=this.font,i=t.fontSize/this.unitsPerEm,r=t.fontSize*t.lineHeight,o=e.map(P=>this.getTextWidth(P,t)),s=t.width,a=this.getCharWidth("\n",t),l=1===t.horizontalAlign?a:0,c=this.computeSpaceWidthForLine(e,0,t),d=this.getLineInitialOffsetX(o[0],s,t.horizontalAlign,e[0],a),h=this.getLineInitialOffsetY(r,e.length,t.height,i,t.verticalAlign),p=[],g=e.map(P=>[]),v=e.map(P=>[]);for(let P=0;P<e.length;P++){let O=e[P],S={features:{liga:!0}},A=[];try{A=n.stringToGlyphs(O,S)}catch(V){console.warn(V)}d=this.getLineInitialOffsetX(o[P],s,t.horizontalAlign,O,a);let H=[];try{H=this.reverseLigaturesTable(n,O,A)}catch(V){console.warn(V)}c=this.computeSpaceWidthForLine(e,P,t);for(let V=0;V<A.length;V++){let Q=A[V],Y=0===Q.index?"\n":Q.unicode?String.fromCharCode(Q.unicode):void 0,ee=H[V],ne=0,ae=0;0===V&&2===t.horizontalAlign&&void 0!==Q.leftSideBearing&&(ae=-Q.leftSideBearing*i),y&&(ne=n.getKerningValue(Q,y)*i),d+=ae+ne;let pe=0;if("\n"===Y)pe=l;else if(" "===Y)pe=c;else{let fe=this.createPath(Q,i,d,h,t);fe&&(pe=fe.offsetX-(ne+ae),p.push(fe.path))}if(1===ee.replacements.length)v[P].push([d,h]),g[P].push(pe);else{let fe=ee.replacements.map(Ce=>(n.glyphs.get(Ce).advanceWidth??0)*i),ge=fe.reduce((Ce,_e)=>Ce+_e,0),Se=fe.map(Ce=>Ce/ge),Oe=d;for(let Ce=0;Ce<Se.length;Ce++){let _e=pe*Se[Ce];v[P].push([Oe,h]),g[P].push(_e),Oe+=_e}}d+=pe,y=Q}h-=r}let b=[];for(let P=0,O=p.length;P<O;P++)b.push(...p[P].toShapes());return{shapes:b,charWidths:g,lineWidths:o,charCoords:v}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){return this.font?.ascender??0}get descender(){return this.font?.descender??0}get familyName(){return this.font?.names.fontFamily??""}get subfamilyName(){return this.font?.names.fontSubfamily??""}get unitsPerEm(){return this.font?.unitsPerEm??1}getLineInitialOffsetX(e,t,n,i,r){return(3===n||2===n)&&i.indexOf("\n")>=0&&(e-=r),3===n?.5*t-.5*e:2===n?t-e:0}getLineInitialOffsetY(e,t,n,i,r){let o=t*e,s=Math.abs(this.ascender-this.descender)*i,l=-this.ascender*i-(e-s)/2;return 3===r?-(n-o-l):2===r?-(.5*n-.5*o-l):l}createPath(e,t,n,i,r){let o=e.getPath(n,-i,r.fontSize,{kerning:!1,letterSpacing:r.letterSpacing});if(!o)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");let s=new class{constructor(){this.type="ShapePath",this.color=new gi,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new HM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath?.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath?.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,o){return this.currentPath?.bezierCurveTo(e,t,n,i,r,o),this}splineThru(e){return this.currentPath?.splineThru(e),this}toShapes(){let e={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:e.ORIGIN,t:0};function n(g,v,y,b){let P=g.x,O=v.x,S=y.x,A=b.x,H=g.y,V=v.y,Q=y.y,Y=b.y,ee=(A-S)*(H-Q)-(Y-Q)*(P-S),ae=(Y-Q)*(O-P)-(A-S)*(V-H),pe=ee/ae,fe=((O-P)*(H-Q)-(V-H)*(P-S))/ae;if(0===ae&&0!==ee||pe<=0||pe>=1||fe<0||fe>1)return null;if(0===ee&&0===ae){for(let ge=0;ge<2;ge++){if(i(0===ge?y:b,g,v),t.loc===e.ORIGIN){let Se=0===ge?y:b;return{x:Se.x,y:Se.y,t:t.t}}if(t.loc===e.BETWEEN)return{x:+(P+t.t*(O-P)).toPrecision(10),y:+(H+t.t*(V-H)).toPrecision(10),t:t.t}}return null}for(let Oe=0;Oe<2;Oe++)if(i(0===Oe?y:b,g,v),t.loc===e.ORIGIN){let Ce=0===Oe?y:b;return{x:Ce.x,y:Ce.y,t:t.t}}return{x:+(P+pe*(O-P)).toPrecision(10),y:+(H+pe*(V-H)).toPrecision(10),t:pe}}function i(g,v,y){let H,b=y.x-v.x,P=y.y-v.y,O=g.x-v.x,S=g.y-v.y,A=b*S-O*P;return g.x===v.x&&g.y===v.y?(t.loc=e.ORIGIN,void(t.t=0)):g.x===y.x&&g.y===y.y?(t.loc=e.DESTINATION,void(t.t=1)):void(A<-Number.EPSILON?t.loc=e.LEFT:A>Number.EPSILON?t.loc=e.RIGHT:b*O<0||P*S<0?t.loc=e.BEHIND:Math.sqrt(b*b+P*P)<Math.sqrt(O*O+S*S)?t.loc=e.BEYOND:(H=0!==b?O/b:S/P,t.loc=e.BETWEEN,t.t=H))}let a=0,l=999999999,c=-999999999,d=[];this.subPaths.forEach(g=>{let v=g.getPoints(),y=-999999999,b=999999999,P=-999999999,O=999999999;for(let S=0;S<v.length;S++){let A=v[S];A.y>y&&(y=A.y),A.y<b&&(b=A.y),A.x>P&&(P=A.x),A.x<O&&(O=A.x)}c<=P&&(c=P+1),l>=O&&(l=O-1),v.length&&d.push({curves:g.curves,points:v,isCW:eH.isClockWise(v),identifier:a++,boundingBox:new wH(new qe(O,b),new qe(P,y))})});let h=d.map(g=>function s(g,v,y,b,P){(null==P||""===P)&&(P="nonzero");let O=new qe;g.boundingBox.getCenter(O);let A=function o(g,v,y){let b=new qe;v.getCenter(b);let P=[];return y.forEach(O=>{O.boundingBox.containsPoint(b)&&function r(g,v){let y=[],b=[];for(let P=1;P<g.length;P++){let O=g[P-1],S=g[P];for(let A=1;A<v.length;A++){let Q=n(O,S,v[A-1],v[A]);null!==Q&&void 0===y.find(Y=>Y.t<=Q.t+Number.EPSILON&&Y.t>=Q.t-Number.EPSILON)&&(y.push(Q),b.push(new qe(Q.x,Q.y)))}}return b}(g,O.points).forEach(S=>{P.push({identifier:O.identifier,isCW:O.isCW,point:S})})}),P.sort((O,S)=>O.point.x-S.point.x),P}([new qe(y,O.y),new qe(b,O.y)],g.boundingBox,v);A.sort((ne,ae)=>ne.point.x-ae.point.x);let H=[],V=[];A.forEach(ne=>{ne.identifier===g.identifier?H.push(ne):V.push(ne)});let Q=H[0].point.x,Y=[],ee=0;for(;ee<V.length&&V[ee].point.x<Q;)Y.length>0&&Y[Y.length-1]===V[ee].identifier?Y.pop():Y.push(V[ee].identifier),ee++;if(Y.push(g.identifier),"evenodd"===P)return{identifier:g.identifier,isHole:Y.length%2==0,for:Y[Y.length-2]};if("nonzero"===P){let ne=!0,ae=null,pe=null;for(let fe=0;fe<Y.length;fe++){let ge=Y[fe];v[ge]&&(ne?(pe=v[ge].isCW,ne=!1,ae=ge):pe!==v[ge].isCW&&(pe=v[ge].isCW,ne=!0))}return{identifier:g.identifier,isHole:ne,for:ae}}console.warn('fill-rule: "'+P+'" is currently not implemented.')}(g,d,l,c,this.userData?.style.fillRule)),p=[];return d.forEach(g=>{let v=h[g.identifier];if(v&&!v.isHole){let y=new GM;y.curves=g.curves,h.filter(b=>b?.isHole&&b.for===g.identifier).forEach(b=>{if(b){let P=d[b.identifier],O=new HM;O.curves=P.curves,y.holes.push(O)}}),p.push(y)}}),p}},a=(e.advanceWidth??1)*t;if(e)for(let l of o.commands){let c=s.currentPath?.currentPoint;if(!c||"Z"===l.type||c.x!==l.x||-c.y!==l.y)switch(l.type){case"M":s.moveTo(l.x,-l.y);break;case"L":s.lineTo(l.x,-l.y);break;case"Q":s.quadraticCurveTo(l.x1,-l.y1,l.x,-l.y);break;case"C":s.bezierCurveTo(l.x1,-l.y1,l.x2,-l.y2,l.x,-l.y)}}return s.subPaths.forEach(l=>{let c=function aLe(e){if(e.length){let t=e[0];if(t instanceof uh)return t.v1;if(t instanceof hh||t instanceof Wf)return t.v0}}(l.curves);void 0!==c&&l.currentPoint.distanceTo(c)>0&&l.lineTo(c.x,c.y)}),{offsetX:a+r.fontSize*r.letterSpacing,path:s}}getCharWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}getTextWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}computeSpaceWidthForLine(e,t,n){let i=this.getCharWidth(" ",n),r=e[t];if(r){let o=this.countSpaces(r.trimEnd());if(4===n.horizontalAlign&&t<e.length-1&&o)return(n.width-(this.getTextWidth(r,n)-o*i))/o}return i}countSpaces(e){return(e.match(/ /g)||[]).length}}(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof fx&&e.dispose()}),this.audios={},this.particles={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){if(void 0===this.variables[e]){let n=t.value;if(this.enableLocalStorageForPersistentVariables&&t.persistent){let i=localStorage.getItem(pR(e));n=null!==i?JSON.parse(i):t.value}return this.variables[e]={value:n,locations:[],persistent:t.persistent},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0}return this.variables[e].value=t.value,!1}resetDynamicVariablePlayState(){for(let e in this.variables)void 0!==this.variables[e].dynamicVariablePlayState&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(void 0===this.variables[e])return!1;this.variables[e].value=t,this.enableLocalStorageForPersistentVariables&&this.variables[e].persistent&&localStorage.setItem(pR(e),JSON.stringify(t));let n=t;for(;"string"==typeof n;)n=this.variables[n].value;let i=this.entityOpContext.scene;for(let r=this.variables[e].locations.length-1;r>=0;r--){let o=this.variables[e].locations[r];if("material"===o[0]){let s=o[1],a=n,l={scene:i,shared:this},c=o.slice(2);i.traverseMaterial(h=>{let p=h.root??h;p.uuid===s&&p.onVariableUpdate(c,a,l)});let d=this.materials[s];d&&d.onVariableUpdate(c,a,l)}else{let s=i.find(o[0]);if(void 0===s){this.variables[e].locations.splice(r,1);continue}if("geometry"!==o[1]&&"particles"!==o[1]){for(let a=1;a<o.length-1;a++)s=s[o[a]];s[o[o.length-1]]="rotation"===o[1]?n*Ln.DEG2RAD:n}if(s=i.find(o[0]),"ParticleEmitter"===s.type&&s.updateVariableState(n,o),Dr.is(s))if("position"===o[1]||"rotation"===o[1]||"scale"===o[1])s.onVariableUpdate();else if("geometry"===o[1]){let a=s;s.component&&(a=s.component);let l=a.dataPatched;a.chooseGeoemtryCache(this).forceDelete(l.geometry),a.createGeometryDelayed(this.entityOpContext),a.onVariableUpdate(!0),a.invalidateDownstreamBooleanData(),a.instances.forEach(c=>{let d=c.dataPatched;c.chooseGeoemtryCache(this).forceDelete(d.geometry),c.createGeometryDelayed(this.entityOpContext),c.onVariableUpdate(!0),c.invalidateDownstreamBooleanData()})}else"morphTargetInfluences"===o[1]&&s.updateMorphInfluences(o[2],n)}}return this.requestRender(),!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){if(Array.isArray(e)){if("mouse"===e[0])return this.mouseProperty?.[e[1]]??0;if("raycast"===e[0])return this.raycastProperty?.[e[1]]??0;let n=this.entityOpContext.scene.find(e[0]);if("width"===e[1]||"height"===e[1]||"depth"===e[1])return n.geometry.userData.parameters[e[1]];for(let i=1;i<e.length;i++)n=n[e[i]];return"rotation"===e[1]&&(n*=Ln.RAD2DEG),n}for(let n in this.variables){if(void 0===t)break;let i=this.variables[n],r=i.locations?.findIndex(o=>va.equal(o,t));void 0!==r&&-1!==r&&i.locations.splice(r,1)}if("string"==typeof e){let n=e,i=e;do{if(i=n,void 0===this.variables[n])break;let r=this.variables[n].value;t&&void 0!==this.variables[i]&&this.variables[i].locations.push(t),n=r}while("string"==typeof n);return n}return e}getVariables(){return this.variables}getVariablesNames(){return this.data.variables.map(e=>e.data.name)}getVariableByName(e){for(let t of this.data.variables)if(t.data.name===e)return{variable:t.data,id:t.id}}getDynamicVariablePlayState(e){return this.variables[e]?.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){void 0!==this.variables[e]&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){return this.variables[e]?.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){void 0!==this.variables[e]&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,n]of Object.entries(e.images))this.addImage(t,n.asset);for(let[t,n]of Object.entries(e.audios))this.addAudio(t,n.asset);for(let[t,n]of Object.entries(e.particles))this.addParticle(t,n.asset);for(let[t,n]of Object.entries(e.colors))this.addColor(t,n.asset);for(let[t,n]of Object.entries(e.fonts))this.addFont(t,n.asset);for(let[t,n]of Object.entries(e.materials))this.addMaterial(t,n.asset);for(let[t,n]of Object.entries(e.videos))this.addVideo(t,n.asset);for(let[t,n]of Object.entries(e.variables))this.addVariableHolder(t,n.asset)}updateLibByOp(e,t){"images"===e.path[0]?1===e.path.length&&1===e.type?this.addImage(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteImage(e.id):"videos"===e.path[0]?1===e.path.length&&1===e.type?this.addVideo(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteVideo(e.id):"audios"===e.path[0]?1===e.path.length&&1===e.type?this.addAudio(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteAudio(e.id):"particles"===e.path[0]?1===e.path.length&&1===e.type?this.addParticle(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteParticle(e.id):"colors"===e.path[0]?1===e.path.length&&1===e.type?this.addColor(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteColor(e.id):"materials"===e.path[0]?1===e.path.length&&1===e.type?this.addMaterial(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteMaterial(e.id):"fonts"===e.path[0]?1===e.path.length&&1===e.type?this.addFont(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteFont(e.id):"variables"===e.path[0]?1===e.path.length&&1===e.type?this.addVariableHolder(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteVariable(e.id):"components"===e.path[0]&&t.updateByLibOp(e,this)}updateByOp(e,t,n){if(this.data=t,"images"===e.path[0])2===e.path.length&&0===e.type?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):1===e.path.length&&1===e.type?this.addImage(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteImage(e.id);else if("videos"===e.path[0])2===e.path.length&&0===e.type?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):1===e.path.length&&1===e.type?this.addVideo(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteVideo(e.id);else if("audios"===e.path[0])2===e.path.length&&0===e.type?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):1===e.path.length&&1===e.type?this.addAudio(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteAudio(e.id);else if("particles"===e.path[0])2===e.path.length&&0===e.type?e.props.data&&this.addParticle(e.path[1],t.particles[e.path[1]]):1===e.path.length&&1===e.type?this.addParticle(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteParticle(e.id);else if("colors"===e.path[0])2===e.path.length&&0===e.type?this.updateColor(e.path[1],e.props):1===e.path.length&&1===e.type?this.addColor(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteColor(e.id);else if("materials"===e.path[0])1===e.path.length&&1===e.type?this.addMaterial(e.id,e.data):1===e.path.length&&2===e.type?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(Ra.drop(e,2),t.materials[e.path[1]],{shared:this,scene:n});else if("fonts"===e.path[0])2===e.path.length&&0===e.type?this.updateFont(e.path[1],e,n):1===e.path.length&&1===e.type?this.addFont(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteFont(e.id);else if("variables"===e.path[0])2===e.path.length&&0===e.type?"value"in e.props?this.updateVariable(e.path[1],e.props.value):"persistent"in e.props&&(this.variables[e.path[1]].persistent=e.props.persistent):1===e.path.length&&4===e.type?this.addVariableHolder(e.id,e.data):1===e.path.length&&5===e.type&&this.deleteVariable(e.id);else if("userAPIs"===e.path[0]){if(1===e.path.length&&1===e.type)this.addUserAPI(e.id,e.data);else if(1===e.path.length&&2===e.type)this.deleteUserAPI(e.id);else if("string"==typeof e.path[1]){let i=t.userAPIs[e.path[1]];if(i){let r=0===e.type&&void 0===e.props.debounce,o=this.getUserAPI(e.path[1]);o instanceof l$?o.update(i):o?.update(i,this,r)}}}else if("userWebhooks"===e.path[0]){if(1===e.path.length&&1===e.type)this.addUserWebhook(e.id,e.data);else if(1===e.path.length&&2===e.type)this.deleteUserWebhook(e.id);else if("string"==typeof e.path[1]){let i=t.userWebhooks[e.path[1]];i&&this.getUserWebhook(e.path[1])?.update(i)}}else"lib"===e.path[0]&&this.updateLibByOp(Ra.drop(e,1),n)}updateFont(e,t,n){if(t.props.url){let i=this.getFont(e),r={...this.data.fonts[e],url:t.props.url};i.update(r),i.loadingPromise.then(()=>this.requestRender()),n.updateFont(e,this)}}addUserAPI(e,t){return this.userAPIs[e]?(this.userAPIs[e].update(t,this),!0):this.openAIRealtime?.id===e?(this.openAIRealtime.update(t),!0):"VoiceAssistant"===t.integration?.type?(this.openAIRealtime=new l$(t,e,this),!1):(this.userAPIs[e]=new kY(e,t,this),!1)}getUserAPI(e){return this.openAIRealtime?.id===e?this.openAIRealtime:this.userAPIs[e]}getUserAPIs(){return this.userAPIs}deleteUserAPI(e){let t=this.userAPIs[e];t&&(t.dispose(),delete this.userAPIs[e])}addUserWebhook(e,t){return this.userWebhooks[e]?(this.userWebhooks[e].update(t),!0):(this.userWebhooks[e]=new class{constructor(e,t){this.id=e,this.userWebhook=t,this.result=void 0,this._connected=!1,this.emitter=M2(),this.reconnectWaitFor=1e3,this._onError=n=>{this.eventSource?.removeEventListener("message",this._onMessage),this.eventSource?.removeEventListener("error",this._onError),this.eventSource?.removeEventListener("open",this._onConnected),this._scheduleReconnect()},this._onConnected=n=>{clearTimeout(this.scheduledReconnectHandle),this.reconnectWaitFor=1e3,this._connected=!0},this._onDisconnected=()=>{clearTimeout(this.scheduledReconnectHandle),this.reconnectWaitFor=1e3,this._connected=!1},this._onMessage=n=>{let r,i=n.data;try{r=JSON.parse(i)}catch(o){console.error("Error parsing webhook message",o)}if(r){let o=!1;this.userWebhook.parametersSchemas.forEach(({data:s})=>{void 0!==r[s.name]&&function dLe(e,t){let n=typeof e;return!!(("string"===t||"number"===t)&&n===t||"boolean"===t&&("true"===e||"false"===e||!0===e||!1===e)||"image"===t&&"string"===n&&e.startsWith("http"))}(r[s.name],s.type)&&(void 0===this.result&&(this.result={}),this.result[s.name]=r[s.name],o=!0)}),o&&this.emitter.emit("message",{userWebhookId:this.id})}}}connect(){clearTimeout(this.scheduledReconnectHandle),this.userWebhook.url&&(this.eventSource=new EventSource("https://hooks.spline.design/events?hashFile="+this.userWebhook.url),this.eventSource.addEventListener("message",this._onMessage),this.eventSource.addEventListener("error",this._onError),this.eventSource.addEventListener("open",this._onConnected))}disconnect(){this.eventSource?.removeEventListener("message",this._onMessage),this.eventSource?.removeEventListener("error",this._onError),this.eventSource?.removeEventListener("open",this._onConnected),this.eventSource?.close(),this._onDisconnected(),clearTimeout(this.scheduledReconnectHandle)}_scheduleReconnect(){this.reconnectWaitFor*=2,this.reconnectWaitFor>512e3&&(this.reconnectWaitFor=512e3),clearTimeout(this.scheduledReconnectHandle),this.scheduledReconnectHandle=setTimeout(()=>{this.scheduledReconnectHandle=void 0,this.connect()},this.reconnectWaitFor)}update(e){this.userWebhook=e}dispose(){this._connected&&this.disconnect()}get connected(){return this._connected}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}getParametersKeys(){return this.userWebhook.parametersSchemas.map(e=>e.data.name)}getParameterValue(e){if(this.getParametersKeys().includes(e)){if(this.result)return this.result?.[e];for(let t of this.userWebhook.parametersSchemas)if(t.data.name===e)return WI.defaultParameterValueByType(t.data.type)}}}(e,t),!1)}getUserWebhook(e){return this.userWebhooks[e]}getUserWebhooks(){return this.userWebhooks}deleteUserWebhook(e){let t=this.userWebhooks[e];t&&(t.dispose(),delete this.userWebhooks[e])}get scene(){return this.entityOpContext.scene}},iy=(new fR(Id.emptyData()),class extends Yl{updateByPatchedOp(e,t,n){if(super.updateByPatchedOp(e,t,n),null!==function FIe(e,t){let n=[];if(t.length!==e.length)return null;for(var i=0;i<e.length;){if("*"===t[i])n.push(e[i]);else if(e[i]!==t[i])return null;i+=1}return n}(e.path,["materials"])&&0===e.type&&Array.isArray(this.material))for(let[i,r]of Object.entries(e.props)){let o=n.shared.material(r);this.material[Number(i)]=o}else if(Io(e.path,["material"])&&this.material instanceof pm)"material"in t&&"string"!=typeof t.material&&this.material.updateByOp(Ra.drop(e,1),t.material,n);else if(Io(e.path,["materials","*"])&&Array.isArray(this.material)){let i=e.path[1];if("materials"in t&&i<this.material.length){let r=t.materials[i];"string"!=typeof r&&this.material[i].updateByOp(Ra.drop(e,2),r,n)}}}get needsAO(){return void 0!==this.material&&(Array.isArray(this.material)?this.material[0]:this.material).hasAO}updateState(e,t){super.updateState(e,t),void 0!==e.castShadow&&(this.castShadow=e.castShadow),void 0!==e.receiveShadow&&(this.receiveShadow=e.receiveShadow);let n=this.dataPatched;if("NonParametricGeometry"!==e.geometry?.type&&"material"in e&&void 0!==e.material&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe),t.scene.markNeedsUpdateRendererDirty()),("NonParametricGeometry"===e.geometry?.type||"materials"in e)&&("materials"in e&&void 0!==e.materials?(this.disposeMaterial(),this.material=e.materials.map(i=>t.shared.material(i).getFlavor(n.flatShading,n.side,n.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&void 0!==e.material&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe)],t.scene.markNeedsUpdateRendererDirty())),void 0!==e.flatShading||void 0!==e.wireframe||void 0!==e.side)if(Array.isArray(this.material))for(let i=0;i<this.material.length;i++)this.material[i]=this.material[i].getFlavor(n.flatShading,n.side,n.wireframe);else this.material=this.material.getFlavor(n.flatShading,n.side,n.wireframe)}disposeMaterial(){this.material&&XG(this.material).forEach(e=>{e instanceof pm&&(e instanceof lR||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}}),c$=new ie,d$=new ki,h$=new ki,ALe=new ie,u$=new Kt,Pl=class extends iy{constructor(e,t,n){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=(new Kt).fromArray(t.bindMatrix),this.bindMatrixInverse=new Kt)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof ii&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(void 0!==this.localGeometry)return this.localGeometry;if(this.geometryCreateDeleyed instanceof fR){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return qP.is2DParametricMesh(e.type)&&0===e.depth}get is2DType(){return qP.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return"NonParametricGeometry"===this.geometry.userData.type}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),Io(e.path,["geometry"])&&this.updateByPatchedOpGeometry(Ra.drop(e,1),t.geometry,n)}removeInteractionGeometry(e){this.localGeometry?.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){this.invalidateDownstreamBooleanData();let n=this.data.geometry.type;if("NonParametricGeometry"===n||"SubdivGeometry"===n){let r,o,s,i=e;if(void 0===this.localGeometry){let l={...this.data.geometry,...i};this.localGeometry=cx(l,t,this.data.flatShading,this)}i.scaleBaked?[r,o,s]=i.scaleBaked:({width:r,height:o,depth:s}=i);let a=this.localGeometry.userData;void 0!==a.sxPrev&&jk(this.localGeometry.attributes,r/a.sxPrev,o/a.syPrev,s/a.szPrev),a.sxPrev=r,a.syPrev=o,a.szPrev=s}else{let i={...this.data.geometry,...e};this.localGeometry?.dispose(),this.localGeometry=cx(i,t,this.data.flatShading,this)}}refreshAttachedClonersInteractions(){for(let e of this.attachedSurfaceCloners)e.update()}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,n){let i=!1;0===e.type&&0===e.path.length&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof ql&&this.chooseGeoemtryCache(n.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(i=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(n),this.refreshAttachedPaths(n)),i||(n.scene?.markGeometryCacheDirty(),this.createGeometryDelayed(n)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){void 0!==e.geometry&&this.updateGeometryOnStateUpdate(e.geometry,t);let n=e.morphTargetInfluences;if(n){this.updateMorphTargets(),this.geometry.morphTargetsRelative=!0;for(let{data:{name:i,value:r}}of n)this.updateMorphInfluences(i,t.shared.getVariable(r,[this.uuid,"morphTargetInfluences",i]))}super.updateState(e,t)}updateMorphInfluences(e,t){if(void 0===this.morphTargetDictionary)return;let n=this.morphTargetDictionary[e];void 0!==n&&(this.morphTargetInfluences[n]=t)}updateGeometryGroupsIfNeeded(){Array.isArray(this.material)&&0===this.geometry.groups.length&&this.geometry.addGroup(0,Math.max(this.geometry.getIndex()?.count??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;this.is2DType?e.set(0,0,.5*n.depth):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)):e.setScalar(0),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new ki,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){t.fromBufferAttribute(n,i);let o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),n.setXYZW(i,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let n=this.skeleton;if(void 0===n)return;let i=this.geometry;d$.fromBufferAttribute(i.attributes.skinIndex,e),h$.fromBufferAttribute(i.attributes.skinWeight,e),c$.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){let o=h$.getComponent(r);if(0!==o){let s=d$.getComponent(r);u$.multiplyMatrices(n.bones[s].matrixWorld,n.boneInverses[s]),t.addScaledVector(ALe.copy(c$).applyMatrix4(u$),o)}}return t.applyMatrix4(this.bindMatrixInverse)}};function mR(e){if(Array.isArray(e.material)){for(let t of e.material)if(0===t.getLayersOfType("outline").length)return}else if(!(e.material instanceof pm)||0===e.material.getLayersOfType("outline").length)return;e instanceof Pl&&e.is2DAndNoDepth?function ILe(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),i=new ie;for(let r=0;r<t.length;r+=3)i.set(t[r],t[r+1],t[r+2]).normalize(),n[r]=i.x,n[r+1]=i.y,n[r+2]=i.z;e.geometry.setAttribute("extrudeNormal",new On(n,3))}(e):function TLe(e){if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,n=e.geometry.attributes,i=n.position.array,r=n.normal.array,o=new Float32Array(i.length);for(let s=0;s<i.length;s+=3){let a=`${i[s]}_${i[s+1]}_${i[s+2]}`,l=new ie(r[s],r[s+1],r[s+2]);t.has(a)?t.get(a)?.normals.push(l):t.set(a,{normals:[l],result:new ie})}t.forEach((s,a)=>{for(let l of s.normals)s.result.add(l);s.result.divideScalar(s.normals.length)});for(let s=0;s<i.length;s+=3){let l=t.get(`${i[s]}_${i[s+1]}_${i[s+2]}`)?.result;l&&(o[s]=l.x,o[s+1]=l.y,o[s+2]=l.z)}e.geometry.setAttribute("extrudeNormal",new On(o,3))}(e)}function gR(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),i=parseInt(e.uuid.replace(/\D/g,"")),r=[Ln.seededRandom(i),Ln.seededRandom(i+1e4),Ln.seededRandom(i+2e4)];for(let o=0;o<t.length;o++)n[o]=r[o%3];e.geometry.setAttribute("randomColor",new Mi(n,3))}var Eu=new As,mx=new ie;function kLe(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"Mesh"===i.type&&"SubdivGeometry"===i.geometry.type&&(t=!0)}),t}var gx=class extends Pl{constructor(e,t,n){super(e,t,n),this.data=t,this.hiddenMatrixOld=new Kt,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return void 0!==this.localGeometry?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return void 0!==this.localGeometry?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}createGeometryByControls(e){if(!0===this.skipReactionUpdate)return;let t=this.localGeometry?.uuid,{originalGeometry:n,subdividedGeometry:i,subdivPointer:r}=ql.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=r,void 0!==n&&(this.originalGeometry?.dispose(),this.originalGeometry=n),void 0!==i&&(this.subdividedGeometry?.dispose(),this.subdividedGeometry=i??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,mR(this),gR(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),void 0!==e.flatShading){let n=this.material;this.material=Array.isArray(n)?n.map(i=>i.getFlavor(!1,i.side,i.wireframe)):n.getFlavor(!1,n.side,n.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){ql.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&ql.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=ql.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=ql.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let n=this.localGeometry;this.localGeometry=this.originalGeometryNew,Yl.prototype.raycast.call(this,e,t),this.localGeometry=n}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;null===e.boundingSphere&&(e.boundingSphere=new gc,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let n=e.boundingSphere.center;Eu.setFromBufferAttribute(e.attributes.position),Eu.getCenter(n),e.boundingSphere.radius=n.distanceTo(Eu.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Eu.getSize(mx),this.hasNonUniformScale&&mx.divide(this.scale);let i={width:mx.x,height:mx.y,depth:mx.z};return this.geometry.userData.parameters=i,i}updateBoundingSphere(e){let t=this.originalGeometry;Eu.min.set(e[0],e[2],e[4]),Eu.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(Eu.min.applyMatrix4(this.shearScaleInv),Eu.max.applyMatrix4(this.shearScaleInv)),null===t.boundingSphere&&(t.boundingSphere=new gc);let n=t.boundingSphere.center;Eu.getCenter(n),t.boundingSphere.radius=n.distanceTo(Eu.max)}freeSubdivPointer(){this.subdivPointer&&(ql.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,this.originalGeometry?.dispose(),this.subdividedGeometry?.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,n){super.updateByPatchedOpGeometry(e,t,n),this.localGeometry&&this.createGeometryByControls(t)}},NLe={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},LLe={polygon_center:0,edge:1,vertex:2},F2=(e,t)=>(n,i)=>t&&0!==n&&0!==e?e*i/100:0,Ji=(e,t)=>{let n=Math.abs(t),i=-1*n;return(e- -1)*(n-i)/2+i},BLe=new ie,B2=new ie,zLe=new ie,ULe=new ie;function ry(e,t){let n=zLe.fromArray(e),i=ULe.fromArray(t);B2.copy(i).sub(n);let r=B2.length();return B2.normalize().multiplyScalar(.5*r),BLe.copy(n).add(B2).toArray()}var Nd=new tl,z2=new ie,U2=new ie,f0=new ie,vR=e=>.5*(1-Math.cos(e*Math.PI)),f$=new ie,m$=new Kt,g$=new Gv;function v$(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"Mesh"===i.type&&("TextGeometry"===i.geometry.type||"InputGeometry"===i.geometry.type)&&(t=!0)}),t}var Du,y$,b$,_$,yR=class extends Pl{constructor(e,t,n){super(e,t,n),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){let e=this.dataPatched;return this.font?.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign)??0}get fontScale(){return this.font?this.dataPatched.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){return(this.font?.ascender??1)*this.fontScale}get descender(){return(this.font?.descender??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:n}=this;if(!isNaN(e.ray.origin.x)&&0!==this.scale.x&&0!==this.scale.y&&0!==this.scale.z&&(m$.copy(n).invert(),g$.copy(e.ray).applyMatrix4(m$),g$.intersectBox(this.singleBBox,f$))){let i=f$.applyMatrix4(n),r=e.ray.origin.distanceTo(i);t.push({distance:r,point:i.clone(),object:this})}}},Kl=1e-4,x$=new ie,w$=new ie;BY.then(e=>{y$=[(Du=e).get_face_center,Du.get_edge_midpoint,Du.get_vertex_position],b$=[Du.get_face_normal,Du.get_edge_normal,Du.get_vertex_normal],_$=[Du.face_count,Du.edge_count,Du.vertex_count]});var YLe=new Kt,XLe=new Kt,mm=new ie,j2=new ie,vx=new ie,bR=new ie,$Le=new ie,QLe=new ie,Hp=new class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,n=0){if(null==this.perlin){this.perlin=new Array(4096);for(let b=0;b<4096;b++)this.perlin[b]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),n<0&&(n=-n);let c,d,g,v,y,i=Math.floor(e),r=Math.floor(t),o=Math.floor(n),s=e-i,a=t-r,l=n-o,h=0,p=.5;for(let b=0;b<4;b++){let P=i+(r<<4)+(o<<8);c=vR(s),d=vR(a),g=this.perlin[4095&P],g+=c*(this.perlin[P+1&4095]-g),v=this.perlin[P+16&4095],v+=c*(this.perlin[P+16+1&4095]-v),g+=d*(v-g),P+=256,v=this.perlin[4095&P],v+=c*(this.perlin[P+1&4095]-v),y=this.perlin[P+16&4095],y+=c*(this.perlin[P+16+1&4095]-y),v+=d*(y-v),g+=vR(l)*(v-g),h+=g*p,p*=.5,i<<=1,s*=2,r<<=1,a*=2,o<<=1,l*=2,s>=1&&(i++,s--),a>=1&&(r++,a--),l>=1&&(o++,l--)}return h}noiseSeed(e){let t=(()=>{let n,i;return{setSeed(r){i=n=(r??4294967296*Math.random())>>>0},getSeed:()=>n,rand:()=>(i=(1664525*i+1013904223)%4294967296,i/4294967296)}})();t.setSeed(e),this.perlin=new Array(4096);for(let n=0;n<4096;n++)this.perlin[n]=t.rand()}},yh=class extends(hk(uo)){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(null===this.parent)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof Ml&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof Ml&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){"toObject"!==this.parameters.type&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(t=void 0!==e?e:"grid"===this.parameters.type?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,"toObject"===this.parameters.type&&!this.parameters.toObject.object&&(t=0),"toObject"===this.parameters.type&&this.objectForSample){for(let i=0,r=this.children.length;i<r;++i)this.remove(this.children[0]);let n=this.children;if(n.length===t)return;if(n.length<t)for(let i=0,r=t-n.length;i<r;++i){let o=new Ml(this.object);o.expand(),this.add(o)}else for(let i=0,r=n.length-t;i<r;++i)this.remove(n[i])}else{if(this.children.length===t)return;if(this.children.length<t)for(let n=0,i=t-this.children.length;n<i;++n){let r=new Ml(this.object);r.expand(),this.add(r)}else for(let n=0,i=this.children.length-t;n<i;++n)this.remove(this.children[0])}}_updateRadial(e){let s,t=e.radial,n=t.start*Ln.DEG2RAD,r=n-t.end*Ln.DEG2RAD,o=new fa(t.rotation[0],t.rotation[1],t.rotation[2]);switch(t.axis){case"z":s=new ie(0,0,1);break;case"y":s=new ie(0,1,0);break;default:s=new ie(1,0,0)}let a=e.randomnessObject??Jf.defaultData([1,1,1]).randomnessObject,l="perlin"===a.noiseType;Hp.noiseSeed(a.seed);let c=dk((0,tx.default)(a.seed)),d=F2(a.strength,this.parameters.randomness);for(let[h,p]of this.children.entries()){let g=h*(a.freqScale/10)+a.movement,v=l?Hp.noise(g):c(g,g),y=h+1;p.scale.x=t.scale[0]+d(y,Ji(v,a.scale[0]))||Kl,p.scale.y=t.scale[1]+d(y,Ji(v,a.scale[1]))||Kl,p.scale.z=t.scale[2]+d(y,Ji(v,a.scale[2]))||Kl,p.position.setScalar(0);let b=r/e.count*h-n;switch(t.axis){case"x":p.rotation.set(0,b,0);break;case"y":p.rotation.set(0,0,b);break;case"z":p.rotation.set(b,0,0)}p.translateOnAxis(s,t.radius),p.position.x+=t.position[0]+d(y,Ji(v,a.position[0])),p.position.y+=t.position[1]+d(y,Ji(v,a.position[1])),p.position.z+=t.position[2]+d(y,Ji(v,a.position[2]));let P=d(y,Ji(v,a.rotation[0])),O=d(y,Ji(v,a.rotation[1])),S=d(y,Ji(v,a.rotation[2]));!0===t.alignment?(p.rotation.x+=o.x+P,p.rotation.y+=o.y+O,p.rotation.z+=o.z+S):p.rotation.set(o.x+P,o.y+O,o.z+S)}}_updateLinear(e){if("linear"!==e.type)throw new Error;let t=e.linear,n=new fa(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??Jf.defaultData([1,1,1]).randomnessObject,r="perlin"===i.noiseType;Hp.noiseSeed(i.seed);let o=dk((0,tx.default)(i.seed)),s=F2(i.strength,this.parameters.randomness);for(let[a,l]of this.children.entries()){let c=a*(i.freqScale/10)+i.movement,d=r?Hp.noise(c):o(c,c),h=a+1,p=s(h,Ji(d,i.rotation[0])),g=s(h,Ji(d,i.rotation[1])),v=s(h,Ji(d,i.rotation[2]));l.scale.x=1+(t.scale[0]-1)*a+s(h,Ji(d,i.scale[0]))||Kl,l.scale.y=1+(t.scale[1]-1)*a+s(h,Ji(d,i.scale[1]))||Kl,l.scale.z=1+(t.scale[2]-1)*a+s(h,Ji(d,i.scale[2]))||Kl,l.rotation.x=n.x*a+p,l.rotation.y=n.y*a+g,l.rotation.z=n.z*a+v,l.position.x=t.position[0]*a+s(h,Ji(d,i.position[0])),l.position.y=t.position[1]*a+s(h,Ji(d,i.position[1])),l.position.z=t.position[2]*a+s(h,Ji(d,i.position[2]))}}_updateGrid(e){let t=0,n=e.grid,i=e.randomnessObject??Jf.defaultData([1,1,1]).randomnessObject,r=F2(i.strength,this.parameters.randomness),o="perlin"===i.noiseType;Hp.noiseSeed(i.seed);let s=function _Re(e=Math.random){let t=$q(e),n=new Float64Array(t).map(o=>ck[o%12*3]),i=new Float64Array(t).map(o=>ck[o%12*3+1]),r=new Float64Array(t).map(o=>ck[o%12*3+2]);return function(o,s,a){let l,c,d,h,Q,Y,ee,ne,ae,pe,p=.3333333333333333*(o+s+a),g=ix(o+p),v=ix(s+p),y=ix(a+p),b=(g+v+y)*wu,A=o-(g-b),H=s-(v-b),V=a-(y-b);A>=H?H>=V?(Q=1,Y=0,ee=0,ne=1,ae=1,pe=0):A>=V?(Q=1,Y=0,ee=0,ne=1,ae=0,pe=1):(Q=0,Y=0,ee=1,ne=1,ae=0,pe=1):H<V?(Q=0,Y=0,ee=1,ne=0,ae=1,pe=1):A<V?(Q=0,Y=1,ee=0,ne=0,ae=1,pe=1):(Q=0,Y=1,ee=0,ne=1,ae=1,pe=0);let fe=A-Q+wu,ge=H-Y+wu,Se=V-ee+wu,Oe=A-ne+2*wu,Ce=H-ae+2*wu,_e=V-pe+2*wu,Be=A-1+.5,We=H-1+.5,Ve=V-1+.5,Ue=255&g,nt=255&v,He=255&y,tt=.6-A*A-H*H-V*V;if(tt<0)l=0;else{let wt=Ue+t[nt+t[He]];tt*=tt,l=tt*tt*(n[wt]*A+i[wt]*H+r[wt]*V)}let Xe=.6-fe*fe-ge*ge-Se*Se;if(Xe<0)c=0;else{let wt=Ue+Q+t[nt+Y+t[He+ee]];Xe*=Xe,c=Xe*Xe*(n[wt]*fe+i[wt]*ge+r[wt]*Se)}let xt=.6-Oe*Oe-Ce*Ce-_e*_e;if(xt<0)d=0;else{let wt=Ue+ne+t[nt+ae+t[He+pe]];xt*=xt,d=xt*xt*(n[wt]*Oe+i[wt]*Ce+r[wt]*_e)}let rt=.6-Be*Be-We*We-Ve*Ve;if(rt<0)h=0;else{let wt=Ue+1+t[nt+1+t[He+1]];rt*=rt,h=rt*rt*(n[wt]*Be+i[wt]*We+r[wt]*Ve)}return 32*(l+c+d+h)}}((0,tx.default)(i.seed));if(!0===n.useCenter){let a={x:n.count[0]%2==0?2:1,y:n.count[1]%2==0?2:1,z:n.count[2]%2==0?2:1},l=new ie(n.size[0]*(n.count[0]-a.x)*.5,n.size[1]*(n.count[1]-a.y)*.5,n.size[2]*(n.count[2]-a.z)*.5);for(let c=0;c<n.count[0];c++)for(let d=0;d<n.count[1];d++)for(let h=0;h<n.count[2];h++){let p=[(c+1)*(i.freqScale/10)+i.movement,(d+1)*(i.freqScale/10)+i.movement,(h+1)*(i.freqScale/10)+i.movement],g=o?Hp.noise(...p):s(...p),v=this.children[t++];v.scale.x=1+r(t,Ji(g,i.scale[0]))||Kl,v.scale.y=1+r(t,Ji(g,i.scale[1]))||Kl,v.scale.z=1+r(t,Ji(g,i.scale[2]))||Kl;let y=r(t,Ji(g,i.rotation[0])),b=r(t,Ji(g,i.rotation[1])),P=r(t,Ji(g,i.rotation[2]));v.rotation.set(y,b,P),v.position.x=n.size[0]*c-l.x+r(t,Ji(g,i.position[0])),v.position.y=n.size[1]*d-l.y+r(t,Ji(g,i.position[1])),v.position.z=n.size[2]*h-l.z+r(t,Ji(g,i.position[2]))}}else for(let a=0;a<n.count[0];a++)for(let l=0;l<n.count[1];l++)for(let c=0;c<n.count[2];c++){let d=[(a+1)*(i.freqScale/10)+i.movement,(l+1)*(i.freqScale/10)+i.movement,(c+1)*(i.freqScale/10)+i.movement],h=o?Hp.noise(...d):s(...d),p=this.children[t++];p.scale.x=1+r(t,Ji(h,i.scale[0]))||Kl,p.scale.y=1+r(t,Ji(h,i.scale[1]))||Kl,p.scale.z=1+r(t,Ji(h,i.scale[2]))||Kl;let g=r(t,Ji(h,i.rotation[0])),v=r(t,Ji(h,i.rotation[1])),y=r(t,Ji(h,i.rotation[2]));p.rotation.set(g,v,y),p.position.x=n.size[0]*a+r(t,Ji(h,i.position[0])),p.position.y=-n.size[1]*l+r(t,Ji(h,i.position[1])),p.position.z=-n.size[2]*c+r(t,Ji(h,i.position[2]))}}_updateToObject(e){if("toObject"!==e.type)throw new Error;let{toObject:t}=e,n=new fa(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??Jf.defaultData([1,1,1]).randomnessObject,r="perlin"===i.noiseType;Hp.noiseSeed(i.seed);let o=dk((0,tx.default)(i.seed)),s=F2(i.strength,this.parameters.randomness);if(!t.object){for(let[,y]of this.children.entries())y.position.set(0,0,0),y.scale.setScalar(1),y.rotation.set(0,0,0);return void(this.objectForSample=void 0)}if(!this.objectForSample)return;if(this.objectForSample instanceof yR){if(!this.objectForSample.font?.isLoaded||void 0===this.objectForSample.geometry.attributes.position)return void(this._pendingMediaLoad=!0);this._pendingMediaLoad=!1}if(void 0===this.objectForSample.geometry&&this.objectForSample.isAncestorOf(this.object.uuid))return void console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);let a=this.getSubdivData(),l=[],c=y=>{let b=y.length;return[y.map(A=>A[0]).reduce((A,H)=>A+H,0)/b,y.map(A=>A[1]).reduce((A,H)=>A+H,0)/b,y.map(A=>A[2]).reduce((A,H)=>A+H,0)/b]},d=y=>Math.round(1e6*y)/1e6;a.forEach(y=>{let b=a.filter(P=>d(y.pos[0])===d(P.pos[0])&&d(y.pos[1])===d(P.pos[1])&&d(y.pos[2])===d(P.pos[2]));l.push(b.length>1?{pos:y.pos,norm:c(b.map(P=>P.norm))}:y)});let h=function FLe(e){let t=[],n={};for(var i=0,r=e.length;i<r;i++){var o=JSON.stringify(e[i].pos.map(s=>Math.round(1e4*s)/1e4));n[o]||(t.push(e[i]),n[o]=!0)}return t}(l);if(h.length>0){let y=Math.round(h.length*t.count/100);this._updateCount(y)}else{let y=this.objectForSample.geometry.getAttribute("position");if(!y||isNaN(y.count)||0===y.count)return void console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`)}this.objectForSample.updateMatrixWorld();let p=new class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||3!==t.attributes.position.itemSize)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let i=0;i<e.count;i+=3){let r=1;mh.a.fromBufferAttribute(e,i),mh.b.fromBufferAttribute(e,i+1),mh.c.fromBufferAttribute(e,i+2),r*=mh.getArea(),t[i/3]=r}this.distribution=new Float32Array(e.count/3);let n=0;for(let i=0;i<t.length;i++)n+=t[i],this.distribution[i]=n;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let n=this.distribution[this.distribution.length-1],i=this.binarySearch(this.randomFunction()*n);return this.sampleFace(i,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,n=0,i=t.length-1,r=-1;for(;n<=i;){let o=Math.ceil((n+i)/2);if(0===o||t[o-1]<=e&&t[o]>e){r=o;break}e<t[o]?i=o-1:n=o+1}return r}sampleFace(e,t,n){let i=this.randomFunction(),r=this.randomFunction();return i+r>1&&(i=1-i,r=1-r),mh.a.fromBufferAttribute(this.positionAttribute,3*e),mh.b.fromBufferAttribute(this.positionAttribute,3*e+1),mh.c.fromBufferAttribute(this.positionAttribute,3*e+2),t.set(0,0,0).addScaledVector(mh.a,i).addScaledVector(mh.b,r).addScaledVector(mh.c,1-(i+r)),mh.getNormal(n),this}}(this.objectForSample).build(),g=NLe[t.axis],v=this.children;p.setRandomGenerator((0,tx.default)(this.object.uuid+t.seed));for(let[y,b]of v.entries()){let P=y*(i.freqScale/10)+i.movement,O=r?Hp.noise(P):o(P,P),S=y+1,A=s(S,Ji(O,i.rotation[0])),H=s(S,Ji(O,i.rotation[1])),V=s(S,Ji(O,i.rotation[2]));"random"===t.spreadType?p.sample(vx,bR):(h.length&&(vx.fromArray(h[y].pos),bR.fromArray(h[y].norm)),this.objectForSample instanceof gx&&vx.applyMatrix4(YLe.copy(this.objectForSample.matrixWorld).invert())),vx.applyMatrix4(this.object.hiddenMatrix.clone().invert()),b.position.copy(vx),mm.fromArray(g);let Q="normal"===t.align?bR:this.object.getWorldDirection(QLe),Y=j2.fromArray(t.position);j2.x+=s(S,Ji(O,i.position[0])),j2.y+=s(S,Ji(O,i.position[1])),j2.z+=s(S,Ji(O,i.position[2]));let ee=Math.acos(Q.dot(mm)),ne=$Le.crossVectors(mm,Q).normalize(),ae=XLe.makeRotationAxis(ne,ee),pe=Q.clone().cross(this.object.up).normalize(),fe=pe.clone().cross(Q).normalize(),ge=(new Kt).makeBasis(pe,Q,fe),Se=new ie(mm.y,mm.z,mm.x).normalize(),Oe=Se.clone().cross(mm).normalize(),Ce=(new Kt).makeBasis(Se,mm,Oe).invert(),_e=(new Kt).multiplyMatrices(ge,Ce);b.rotation.setFromRotationMatrix(_e),Y.applyMatrix4(ae),b.position.add(Y),b.rotation.x=b.rotation.x+n.x+A,b.rotation.y=b.rotation.y+n.y+H,b.rotation.z=b.rotation.z+n.z+V,b.scale.setScalar(1),b.scale.x=b.scale.x+t.scale[0]+s(S,Ji(O,i.scale[0]))||Kl,b.scale.y=b.scale.y+t.scale[1]+s(S,Ji(O,i.scale[1]))||Kl,b.scale.z=b.scale.z+t.scale[2]+s(S,Ji(O,i.scale[2]))||Kl,b.scale.multiply(this.object.scale),b.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if("random"===e)return[];if(this.objectForSample instanceof gx){let t=this.objectForSample,n=LLe[e],r=y$[n],o=b$[n],s=[],a=(0,_$[n])(t.subdivPointerNew);for(let l=0;l<=a-1;l++){let c=r(t.subdivPointerNew,l),d=o(t.subdivPointerNew,l);x$.fromArray(c).applyMatrix4(t.matrixWorld),w$.fromArray(d),s.push({pos:x$.toArray(),norm:w$.toArray()})}return s}return(this.objectForSample.geometry.index?function jLe(e){let t=[];for(let n=0;n<=e.index.count;n++)if(z2.fromArray(e.index.array,3*n),Nd.setFromAttributeAndIndices(e.attributes.position,z2.x,z2.y,z2.z),Nd.getNormal(U2),Nd.getMidpoint(f0),!(isNaN(f0.x)||isNaN(f0.y)||isNaN(f0.z))){let{a:i,b:r,c:o}=Nd,s=i.toArray(),a=r.toArray(),l=o.toArray(),c=i.distanceTo(r),d=r.distanceTo(o),h=o.distanceTo(i),p=ry(s,a),g=ry(a,l),v=ry(l,s),y=[c,d,h],b=Math.max(...y),P=y.filter(A=>Math.round(A)===Math.round(b)).length>1,O=[],S=Nd.getMidpoint(f0).toArray();b===c&&!P&&(O=[g,v,v],S=p),b===d&&!P&&(O=[p,v,v],S=g),b===h&&!P&&(O=[p,g,g],S=v),P&&(O=[p,g,v]),t.push({vertices:[s,a,l],faceCenters:O,midpoint:S,norm:Nd.getNormal(U2).toArray()})}return t}(this.objectForSample.geometry):function VLe(e){let t=[],{position:n}=e.attributes;for(let i=0;i<n.count;i++){Nd.setFromAttributeAndIndices(n,3*i,3*i+1,3*i+2),Nd.getNormal(U2),Nd.getMidpoint(f0);let r=Nd.a.toArray(),o=Nd.b.toArray(),s=Nd.c.toArray();t.push({vertices:[r,o,s],faceCenters:[ry(r,o),ry(o,s),ry(s,r)],midpoint:f0.toArray(),norm:U2.toArray()})}return t}(this.objectForSample.geometry)).map((t,n)=>"polygon_center"===e?{pos:t.midpoint,norm:t.norm}:"vertex"===e?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:"edge"===e?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[]).flat()}updateState(e,t){if(this.parameters=vP(e),"toObject"!==this.parameters.type)(null===this.parent||this.parent!==this.object)&&(this.removeFromParent(),this.object.parent?.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(null===this.parent||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let n=t.find(this.parameters.toObject.object);this.objectForSample=n instanceof Yl?n:void 0,this.matrix=new Kt,this.hiddenMatrix=new Kt,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,n&&n.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},yx=e=>{var t;return(t=class extends e{}).geometryHelper=new dh(30,30,30),t},V2=new Gv,_R=new gc,C$=new Kt,bx=(e,t,n,i,r=!1,o=e)=>{let s=t,a=o.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),_R.copy(s.boundingSphere),_R.applyMatrix4(a),!1===n.ray.intersectsSphere(_R)||(C$.copy(a).invert(),V2.copy(n.ray).applyMatrix4(C$),null!==s.boundingBox&&!1===V2.intersectsBox(s.boundingBox)))return;let l,c,d,h,y,b,p=s.index,g=s.attributes.position,v=s.drawRange;if(!1===r){for(y=Math.max(0,v.start),b=Math.min(p.count,v.start+v.count);y<b;y+=3)if(c=p.getX(y),d=p.getX(y+1),h=p.getX(y+2),l=P(e,n,V2,g,c,d,h),l)return l.faceIndex=Math.floor(y/3),void i.push(l)}else{let O=s.attributes.position,S=new ie,A=new ie,H=new ie,V=new ie,Q=2,Y=1/((o.scale.x+o.scale.y+o.scale.z)/3),ee=Y*Y;for(let pe=Math.max(0,v.start),fe=Math.min(O.count,v.start+v.count)-1;pe<fe;pe+=Q){if(S.fromBufferAttribute(O,pe),A.fromBufferAttribute(O,pe+1),V2.distanceSqToSegment(S,A,V,H)>ee)continue;V.applyMatrix4(o.matrixWorld);let ge=n.ray.origin.distanceTo(V);ge<n.near||ge>n.far||i.push({distance:ge,point:H.clone().applyMatrix4(o.matrixWorld),object:e})}}function P(O,S,A,H,V,Q,Y){let ee=new ie,ne=new ie,ae=new ie,pe=new ie,fe=new ie;if(ee.fromBufferAttribute(H,V),ne.fromBufferAttribute(H,Q),ae.fromBufferAttribute(H,Y),null===A.intersectTriangle(ee,ne,ae,!1,pe))return null;fe.copy(pe),fe.applyMatrix4(O.matrixWorld);let ge=S.ray.origin.distanceTo(fe);return ge<S.near||ge>S.far?null:{faceIndex:1,distance:ge,point:fe.clone(),object:O}}},H2=new ie,Ld=new zg,KLe=class extends m_{constructor(e){let t=new ii,n=new Gf({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={},s=new gi(15711266),a=new gi(15711266),l=new gi(2857471);function c(h,p,g){d(h,g),d(p,g)}function d(h,p){i.push(0,0,0),r.push(p.r,p.g,p.b),void 0===o[h]&&(o[h]=[]),o[h].push(i.length/3-1)}c("n1","n2",s),c("n2","n4",s),c("n4","n3",s),c("n3","n1",s),c("f1","f2",s),c("f2","f4",s),c("f4","f3",s),c("f3","f1",s),c("n1","f1",s),c("n2","f2",s),c("n3","f3",s),c("n4","f4",s),c("p","n1",a),c("p","n2",a),c("p","n3",a),c("p","n4",a),c("u1","u2",l),c("u2","u3",l),c("u3","u1",l),t.setAttribute("position",new On(i,3)),t.setAttribute("color",new On(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){let e=this.geometry,t=this.pointMap;Ld.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let o=.8;bh("n1",t,e,Ld,-1,-1,o),bh("n2",t,e,Ld,1,-1,o),bh("n3",t,e,Ld,-1,1,o),bh("n4",t,e,Ld,1,1,o);let s=o;bh("f1",t,e,Ld,-1,-1,s),bh("f2",t,e,Ld,1,-1,s),bh("f3",t,e,Ld,-1,1,s),bh("f4",t,e,Ld,1,1,s),bh("u1",t,e,Ld,.35,1.1,.8),bh("u2",t,e,Ld,-.35,1.1,.8),bh("u3",t,e,Ld,0,1.55,.8),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function bh(e,t,n,i,r,o,s){H2.set(r,o,s).unproject(i);let a=t[e];if(void 0!==a){let l=n.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],H2.x,H2.y,H2.z)}}var xR,ZLe=class extends(yx(KLe)){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){bx(this.object,this.geometry,e,t,!0)}};(e=>{e.is=t=>"objectHelper"in t})(xR||(xR={}));var oy=(e,t)=>class extends(gk(e)){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(n,i){this.objectHelper.raycast(n,i)}showGizmos(){for(let n in this.gizmos){let i=this.gizmos[n];i instanceof iP&&(i.visible=!0)}}updateEntityBoxSize(n,i){this.objectHelper.visible&&this.geometryHelper instanceof dh?(n.setScalar(0),i.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(n,i)}hideGizmos(){for(let n in this.gizmos){let i=this.gizmos[n];i instanceof iP&&(i.visible=!1)}}},sy=new ie,wR=new ie,CR=new Ri,MR=new ie,_x=new ie,PR=new ie,Ol=class extends(oy(zg,ZLe)){constructor(e="",t={...V_.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=P1.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new Kt,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let n=this.width,i=this.height;this.orthoCamera=new kM(-.5*n,.5*n,.5*i,-.5*i,-5e4,1e4),this.perspCamera=new wl(45,n/i,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return"PerspectiveCamera"===this.cameraType}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){"PerspectiveCamera"===e?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&("PerspectiveCamera"===e?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){"PerspectiveCamera"===e?this.toPerspective():"OrthographicCamera"===e&&this.toOrthographic()}get near(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.near:this.orthoCamera.near}set near(e){"PerspectiveCamera"===this._cameraType?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&("PerspectiveCamera"===this._cameraType?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,n){"number"==typeof e&&(e=new ie(e,t,n)),super.lookAt(e),this.getWorldPosition(sy),this.targetOffset=sy.distanceTo(e)}getTarget(e=new ie){return this.getWorldDirection(wR),this.getWorldPosition(sy),wR.multiplyScalar(this.targetOffset),e.copy(sy).add(wR),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(sy),sy.distanceTo(e)}updateUp(){this.getWorldQuaternion(CR),MR.set(0,0,1).applyQuaternion(CR),_x.copy(uo.DEFAULT_UP),this.isUpVectorFlipped&&_x.negate(),_x.applyQuaternion(CR),PR.copy(uo.DEFAULT_UP).projectOnPlane(MR),this.angleOffsetFromUp=PR.angleTo(_x),this.angleOffsetFromUp*=PR.cross(_x).dot(MR)>=0?1:-1}updateTransformState(e,t){let n=super.updateTransformState(e,t);return void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),n}getViewFrontToObject(e){let t=e.getWorldPosition(new ie),n=e.getWorldDirection(new ie).multiplyScalar(this.targetOffset);return{position:t.clone().add(n),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new ie).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new ie;return e.getWorldPosition(t),this.getViewToTarget(t)}setViewplaneSize(e,t,n=!1){if(this.aspect=e/t,n){let i=e>t?this.aspect:1,r=e>t?1:this.aspect;this.left=-395*i,this.right=395*i,this.top=1/r*395,this.bottom=1/r*-395}else this.left=.5*-e,this.right=.5*e,this.top=.5*t,this.bottom=.5*-t;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,n,i,r,o){"PerspectiveCamera"===this._cameraType?this.perspCamera.setViewOffset(e,t,n,i,r,o):this.orthoCamera.setViewOffset(e,t,n,i,r,o)}clearViewOffset(){"PerspectiveCamera"===this._cameraType?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){"PerspectiveCamera"===this._cameraType?this.toPerspective():"OrthographicCamera"===this._cameraType&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=null===e.view?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return X3(t,e)}updateCameraSubtype(e,t){let n="perspective"===e?"PerspectiveCamera":"OrthographicCamera";void 0!==t.zoom&&this.setZoom(n,t.zoom),void 0!==t.near&&this.setNear(n,t.near),void 0!==t.fov&&"PerspectiveCamera"===n&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),void 0!==e.far&&(this.far=e.far),void 0!==e.orthographic&&this.updateCameraSubtype("orthographic",e.orthographic),void 0!==e.perspective&&this.updateCameraSubtype("perspective",e.perspective),void 0!==e.type&&(this.cameraType=e.type),void 0!==e.up&&this.up.fromArray(e.up),void 0!==e.targetOffset&&(this.targetOffset=e.targetOffset),void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),1===e.path.length&&0===e.type&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}},ay=new Kt,JLe=new Kt;function M$(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"BooleanGeometry"===i.geometry?.type&&(t=!0)}),t}var OR,m0=class extends iy{constructor(e,t,n){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new ii,this.onAfterRender=(i,r,o,s,a,l)=>{super.onAfterRender(i,r,o,s,a,l),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),1===e.path.length&&"geometry"===e.path[0]&&0===e.type&&void 0!==e.props.operation&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){if(-1!==this.booleanMeshSetAddress&&!e)return;for(let i=0;i<this.children.length;i++){let r=this.children[i];r instanceof m0&&!0===r.dataPatched.visible&&r.recomputeBoolean(!0===e,t)}this.meshSetAddresses=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof Yl&&!0===r.dataPatched.visible&&r.geometry.attributes.position?.count>0&&r.geometry.drawRange.count>0&&0!==r.booleanMeshSetAddress){ay.multiplyMatrices(r.hiddenMatrix,r.matrix);try{if(-1===r.booleanMeshSetAddress){if((r.geometry.index??r.geometry.getAttribute("position")).count/3<15e5&&(r.booleanMeshSetAddress=Bp.getMeshSet(r.geometry,!0===e,t)),-1===r.booleanMeshSetAddress)return;Bp.transformMeshSet(r.booleanMeshSetAddress,ay),r.booleanMatrixInvOld.copy(ay).invert(),r.booleanWasTransformed=!1}else r instanceof m0&&!0===r.needsTransformForDownstream?(Bp.transformMeshSet(r.booleanMeshSetAddress,ay),r.needsTransformForDownstream=!1):!0===r.booleanWasTransformed&&(Bp.transformMeshSet(r.booleanMeshSetAddress,JLe.multiplyMatrices(ay,r.booleanMatrixInvOld)),r.booleanMatrixInvOld.copy(ay).invert(),r.booleanWasTransformed=!1)}catch(o){console.error(o),r.booleanMeshSetAddress=0,r.geometry.userData.booleanOperationDidFail=!0;continue}!1===Bp.hasOpenEdges(r.booleanMeshSetAddress)||i===this.children.length-1&&2===this.booleanOp?(this.meshSetAddresses.push(r.booleanMeshSetAddress),r.geometry.userData.booleanOperationDidFail=!1):r.geometry.userData.booleanOperationDidFail="openEdges"}}if(0===this.meshSetAddresses.length)return this.geometry.setAttribute("position",new On([],0)),void this.geometry.setDrawRange(0,0);if(!0===e)return Bp.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let n=this.geometry;n.dispose(),this.geometry=new ii,this.geometry.userData=n.userData,this.geometry.boundingSphere=n.boundingSphere;try{this.booleanMeshSetAddress=Bp.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(i){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(i)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,mR(this),gR(this)}dispose(){super.dispose(),this.geometry.dispose()}};(e=>{e.is=function t(n){return Dr.is(n)&&n instanceof C_}})(OR||(OR={}));var SR=(e,t)=>class extends(oy(e,t)){updateState_Light(n,i){this.updateState_Entity(n,i),void 0!==n.color&&(this.color=i.shared.color(n.color)),void 0!==n.intensity&&(this.intensity=n.intensity),void 0!==n.depth&&(this.shadow.camera.far=n.depth,this.shadow.needsUpdate=!0),void 0!==n.shadows&&(this.castShadow=n.shadows)}},_h=e=>e instanceof Yl,Gp=e=>null!==e&&e instanceof m0,eFe=e=>e instanceof Ol,tFe=e=>OR.is(e),ER=e=>xR.is(e),nFe=new ie(1,1,1),P$=new ie,iFe=new ie,O$=new Ri,xx=class extends(yx(zPe)){constructor(e,t=15){super(t),this.object=e,this.dummy=new Sp,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=this.dummy.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){bx(this.object,xx.geometryHelper,e,t,!1,this.dummy)}update(){}updateMatrix(){}updateMatrixWorld(e){this.object.matrixWorld.decompose(P$,O$,iFe),this.matrix.compose(P$,O$,nFe),super.updateMatrixWorld(e)}updateWorldMatrix(e,t){}},ly=class extends(oy(Sp,xx)){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&1===Object.keys(e).length&&t.scene.reloadSplats()}},W2=class extends(oy(Sp,xx)){constructor(e,t,n){super(),this.super_Entity(e,t),this.context=n,this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t)}},wx="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",q2=class extends Qr{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new jt(null),kernel16:new jt(null),inputBuffer:new jt(null),cocBuffer:new jt(null),texelSize:new jt(new qe),scale:new jt(1)},blending:qs,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;uniform vec4 kernel64[32];varying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\n#else\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\n#else\nvec2 step=texelSize*CoC;\n#endif\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;}}",vertexShader:wx}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let t=new Float32Array(128),n=new Float32Array(32),i=0,r=0;for(let a=0;a<80;++a){let l=2.39996323*a,c=Math.sqrt(a)/Math.sqrt(80),d=c*Math.cos(l),h=c*Math.sin(l);a%5==0?(n[r++]=d,n[r++]=h):(t[i++]=d,t[i++]=h)}let o=[],s=[];for(let a=0;a<128;)o.push(new ki(t[a++],t[a++],t[a++],t[a++]));for(let a=0;a<32;)s.push(new ki(n[a++],n[a++],n[a++],n[a++]));this.uniforms.kernel64.value=o,this.uniforms.kernel16.value=s}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function E$(e,t,n){return e*(t-n)-t}function DR(e,t,n){return Math.min(Math.max((e+t)/(t-n),0),1)}var sFe=class extends Qr{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new jt(null),focusDistance:new jt(0),focusRange:new jt(0),cameraNear:new jt(.3),cameraFar:new jt(1e3)},blending:qs,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}void main(){float depth=readDepth(vUv);\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\n#else\nfloat linearDepth=depth;\n#endif\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}",vertexShader:wx}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=yp){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-E$(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=DR(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-E$(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=DR(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof wl?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},D$=class extends Qr{constructor(e=new qe){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new jt(null),texelSize:new jt(new qe),halfTexelSize:new jt(new qe),kernel:new jt(0),scale:new jt(1)},blending:qs,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}",vertexShader:"uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.halfTexelSize.value.copy(n.texelSize.value).multiplyScalar(.5)}},dFe=class extends Qr{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new jt(null),opacity:new jt(1)},blending:qs,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n}",vertexShader:wx}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},fFe=class extends Qr{constructor(e=new qe,t=2){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:Nv.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new jt(null),depthBuffer:new jt(null),predicationBuffer:new jt(null),texelSize:new jt(e)},blending:qs,depthWrite:!1,depthTest:!1,fragmentShader:"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=yp){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*e).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},xh={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},AR=class extends Qr{constructor(e,t,n,i,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Nv.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new jt(null),depthBuffer:new jt(null),resolution:new jt(new qe),texelSize:new jt(new qe),cameraNear:new jt(.3),cameraFar:new jt(1e3),aspect:new jt(1),time:new jt(0)},blending:qs,depthWrite:!1,depthTest:!1,dithering:r}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.adoptCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=yp){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(xh.FRAGMENT_HEAD,e.get(xh.FRAGMENT_HEAD)).replace(xh.FRAGMENT_MAIN_UV,e.get(xh.FRAGMENT_MAIN_UV)).replace(xh.FRAGMENT_MAIN_IMAGE,e.get(xh.FRAGMENT_MAIN_IMAGE)),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}".replace(xh.VERTEX_HEAD,e.get(xh.VERTEX_HEAD)).replace(xh.VERTEX_MAIN_SUPPORT,e.get(xh.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof wl?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return xh}},yFe=class extends Qr{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Nv.replace(/\D+/g,"")},uniforms:{inputBuffer:new jt(null),threshold:new jt(0),smoothing:new jt(1),range:new jt(null)},blending:qs,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:wx}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return void 0!==this.defines.COLOR}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return null!==this.luminanceRange}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},_Fe=class extends Qr{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new jt(e),inputBuffer:new jt(null),strength:new jt(1)},blending:qs,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef MASK_PRECISION_HIGH\nuniform mediump sampler2D maskTexture;\n#else\nuniform lowp sampler2D maskTexture;\n#endif\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nmask=step(mask,0.0);\n#else\nmask=1.0-step(mask,0.0);\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=1.0-mask;\n#endif\n#endif\n#if MASK_FUNCTION == 2\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#else\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#endif\n}",vertexShader:wx}),this.toneMapped=!1,this.setColorChannel(0),this.setMaskFunction(0)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==_l&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return void 0!==this.defines.INVERTED}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},CFe=class extends Qr{constructor(e=new qe,t=new qe){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new jt(null),searchTexture:new jt(null),areaTexture:new jt(null),resolution:new jt(t),texelSize:new jt(e)},blending:qs,depthWrite:!1,depthTest:!1,fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}",vertexShader:"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return void 0===this.defines.DISABLE_DIAG_DETECTION}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return void 0===this.defines.DISABLE_CORNER_DETECTION}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.resolution.value.set(e,t)}},MFe=new zg,gm=null,Zl=class{constructor(e="Pass",t=new lu,n=MFe){this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();null!==t&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;null!==t?t.material=e:(t=new hs(function PFe(){if(null===gm){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);void 0!==(gm=new ii).setAttribute?(gm.setAttribute("position",new Mi(e,3)),gm.setAttribute("uv",new Mi(t,2))):(gm.addAttribute("position",new Mi(e,3)),gm.addAttribute("uv",new Mi(t,2)))}return gm}(),e),t.frustumCulled=!1,null===this.scene&&(this.scene=new lu),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=yp){}render(e,t,n,i,r){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(null!==t&&"object"==typeof t&&"function"==typeof t.dispose){if(t instanceof lu||t===this.renderer)continue;this[e].dispose()}}}},TR=class extends Zl{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new dFe,this.needsSwap=!1,this.renderTarget=e,void 0===e&&(this.renderTarget=new Zr(1,1,{minFilter:nr,magFilter:nr,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTarget.texture.type=n,n!==_l?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===Zi&&(this.renderTarget.texture.encoding=Zi))}},OFe=class extends Zl{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,i,r){let o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},IR=new gi,kR=class extends Zl{constructor(e=!0,t=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,i,r){let o=this.overrideClearColor,s=this.overrideClearAlpha,a=e.getClearAlpha(),l=null!==o,c=s>=0;l?(IR.copy(e.getClearColor(IR)),e.setClearColor(o,c?s:a)):c&&e.setClearAlpha(s),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(IR,a):c&&e.setClearAlpha(a)}},Mc=class extends el{constructor(e,t=-1,n=-1,i=1){super(),this.resizable=e,this.base=new qe(1,1),this.preferred=new qe(t,n),this.target=this.preferred,this.s=i}get width(){let i,{base:e,preferred:t,scale:n}=this;return i=-1!==t.width?t.width:-1!==t.height?Math.round(t.height*(e.width/Math.max(e.height,1))):Math.round(e.width*n),i}set width(e){this.preferredWidth=e}get height(){let i,{base:e,preferred:t,scale:n}=this;return i=-1!==t.height?t.height:-1!==t.width?Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):Math.round(e.height*n),i}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(-1),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return-1}},RR=!1,T$=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let n;if(t.material.flatShading)switch(t.material.side){case bl:n=this.materialsFlatShadedDoubleSide;break;case Ta:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded}else switch(t.material.side){case bl:n=this.materialsDoubleSide;break;case Ta:n=this.materialsBackSide;break;default:n=this.materials}this.originalMaterials.set(t,t.material),t.material=t.isSkinnedMesh?n[2]:t.isInstancedMesh?n[1]:n[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,null!==e){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let n of t)n.uniforms=Object.assign({},e.uniforms),n.side=oh;t[2].skinning=!0,this.materialsBackSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=Ta,i}),this.materialsDoubleSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=bl,i}),this.materialsFlatShaded=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=Ta,i}),this.materialsFlatShadedDoubleSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=bl,i})}}render(e,t,n){let i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,RR){let r=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(let o of r)o[0].material=o[1];this.meshCount!==r.size&&r.clear()}else{let r=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=r}e.shadowMap.enabled=i}disposeMaterials(){if(null!==this.material){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return RR}static set workaroundEnabled(e){RR=e}},SFe=class extends Zl{constructor(e,t,n=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new kR,this.overrideMaterialManager=null===n?null:new T$(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return null!==e?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new T$(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,i,r){let o=this.scene,s=this.camera,a=this.selection,l=s.layers.mask,c=o.background,d=e.shadowMap.autoUpdate,h=this.renderToScreen?null:t;null!==a&&s.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(h),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,o,s):e.render(o,s),s.layers.mask=l,o.background=c,e.shadowMap.autoUpdate=d}},I$=class extends Zl{constructor(e,t,{resolutionScale:n=1,width:i=Mc.AUTO_SIZE,height:r=Mc.AUTO_SIZE,renderTarget:o}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new SFe(e,t,new kV({depthPacking:zj}));let s=this.renderPass;s.skipShadowMapUpdate=!0,s.ignoreBackground=!0;let a=s.getClearPass();a.overrideClearColor=new gi(16777215),a.overrideClearAlpha=1,this.renderTarget=o,void 0===this.renderTarget&&(this.renderTarget=new Zr(1,1,{minFilter:io,magFilter:io,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let l=this.resolution=new Mc(this,i,r,n);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){this.renderPass.render(e,this.renderToScreen?null:this.renderTarget)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},Rr=(new Float32Array([255/256/256**3,255/256/65536,255/256/256,255/256]),{SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18}),qFe=new Map([[Rr.SKIP,null],[Rr.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[Rr.ALPHA,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[Rr.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[Rr.COLOR_BURN,"float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Rr.COLOR_DODGE,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Rr.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[Rr.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[Rr.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[Rr.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[Rr.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[Rr.DIVIDE,"float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Rr.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[Rr.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[Rr.OVERLAY,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Rr.REFLECT,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Rr.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[Rr.SOFT_LIGHT,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Rr.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]),YFe=class extends el{constructor(e,t=1){super(),this.f=e,this.opacity=new jt(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return qFe.get(this.blendFunction)}},Au={NONE:0,DEPTH:1,CONVOLUTION:2},Tu=class extends el{constructor(e,t,{attributes:n=Au.NONE,blendFunction:i=Rr.SCREEN,defines:r=new Map,uniforms:o=new Map,extensions:s=null,vertexShader:a=null}={}){super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=a,this.defines=r,this.uniforms=o,this.extensions=s,this.blendMode=new YFe(i),this.blendMode.addEventListener("change",l=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=yp){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(null!==t&&"object"==typeof t&&"function"==typeof t.dispose){if(t instanceof lu||t===this.renderer)continue;this[e].dispose()}}}};function k$(e,t,n){for(let i of t){let r="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),o=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(let s of n.entries())null!==s[1]&&n.set(s[0],s[1].replace(o,r))}}function XFe(e,t,n,i,r,o,s){let a=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),l=void 0!==a.get("fragment")&&/mainImage/.test(a.get("fragment")),c=void 0!==a.get("fragment")&&/mainUv/.test(a.get("fragment")),d=[],h=[],p=!1,g=!1;if(void 0===a.get("fragment"))console.error("Missing fragment shader",t);else if(c&&s&Au.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(l||c){let v=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,y=AR.Section;if(c){let P=`\t${e}MainUv(UV);\n`;n.set(y.FRAGMENT_MAIN_UV,n.get(y.FRAGMENT_MAIN_UV)+P),p=!0}if(null!==a.get("vertex")&&/mainSupport/.test(a.get("vertex"))){let P=`\t${e}MainSupport(`;P+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(a.get("vertex"))?"vUv);\n":");\n",n.set(y.VERTEX_MAIN_SUPPORT,n.get(y.VERTEX_MAIN_SUPPORT)+P),d=d.concat([...a.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(O=>O[1])),h=h.concat(d).concat([...a.get("vertex").matchAll(v)].map(O=>O[1]))}h=h.concat([...a.get("fragment").matchAll(v)].map(P=>P[1])),h=h.concat([...t.defines.keys()].map(P=>P.replace(/\([\w\s,]*\)/g,""))),h=h.concat([...t.uniforms.keys()]),t.uniforms.forEach((P,O)=>o.set(e+O.charAt(0).toUpperCase()+O.slice(1),P)),t.defines.forEach((P,O)=>r.set(e+O.charAt(0).toUpperCase()+O.slice(1),P)),k$(e,h,r),k$(e,h,a);let b=t.blendMode;if(i.set(b.blendFunction,b),l){let O=`${e}MainImage(color0, UV, `;s&Au.DEPTH&&/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/.test(a.get("fragment"))&&(O+="depth, ",g=!0),O+="color1);\n\t";let S=e+"BlendOpacity";o.set(S,b.opacity),O+=`color0 = blend${b.blendFunction}(color0, color1, ${S});\n\n\t`,n.set(y.FRAGMENT_MAIN_IMAGE,n.get(y.FRAGMENT_MAIN_IMAGE)+O),O=`uniform float ${S};\n\n`,n.set(y.FRAGMENT_HEAD,n.get(y.FRAGMENT_HEAD)+O)}n.set(y.FRAGMENT_HEAD,n.get(y.FRAGMENT_HEAD)+a.get("fragment")+"\n"),null!==a.get("vertex")&&n.set(y.VERTEX_HEAD,n.get(y.VERTEX_HEAD)+a.get("vertex")+"\n")}else console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);return{varyings:d,transformedUv:p,readDepth:g}}var X2=class extends Zl{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new AR(null,null,null,e),this.effects=t.sort((n,i)=>i.attributes-n.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=AR.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),n=new Map,i=new Map,r=new Map,o=new Set,s=0,a=0,l=0,c=!1,d=!1;for(let p of this.effects)if(p.blendMode.blendFunction===Rr.SKIP)l|=p.getAttributes()&Au.DEPTH;else if(l&p.getAttributes()&Au.CONVOLUTION)console.error("Convolution effects cannot be merged",p);else{l|=p.getAttributes();let v=XFe("e"+s++,p,t,n,i,r,l);if(a+=v.varyings.length,c=c||v.transformedUv,d=d||v.readDepth,null!==p.extensions)for(let y of p.extensions)o.add(y)}let h=/\bblend\b/g;for(let p of n.values()){let g=p.getShaderCode().replace(h,`blend${p.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+g+"\n")}l&Au.DEPTH?(d&&t.set(e.FRAGMENT_MAIN_IMAGE,"float depth = readDepth(UV);\n\n\t"+t.get(e.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,c?(t.set(e.FRAGMENT_MAIN_UV,"vec2 transformedUv = vUv;\n"+t.get(e.FRAGMENT_MAIN_UV)),i.set("UV","transformedUv")):i.set("UV","vUv"),t.forEach((p,g,v)=>v.set(g,p.trim().replace(/^#/,"\n#"))),this.uniformCount=r.size,this.varyingCount=a,this.skipRendering=0===s,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(o).setUniforms(r).setDefines(i)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=yp){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,i,r){for(let o of this.effects)o.update(e,t,i);if(!this.skipRendering||this.renderToScreen){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,o.time+=i,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(let i of this.effects)i.initialize(e,t,n),i.addEventListener("change",r=>this.handleEvent(r));this.updateMaterial(),this.verifyResources(),void 0!==n&&n!==_l&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){"change"===e.type&&this.recompile()}},$Fe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],NR=class extends Zl{constructor({resolutionScale:e=.5,width:t=Mc.AUTO_SIZE,height:n=Mc.AUTO_SIZE,kernelSize:i=$2.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new Zr(1,1,{minFilter:nr,magFilter:nr,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let r=this.resolution=new Mc(this,t,n,e);r.addEventListener("change",o=>this.setSize(r.baseWidth,r.baseHeight)),this.blurMaterial=new D$,this.ditheredBlurMaterial=new D$,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=i}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){let p,g,o=this.scene,s=this.camera,a=this.renderTargetA,l=this.renderTargetB,c=$Fe[this.kernelSize],d=this.blurMaterial,h=t;for(this.fullscreenMaterial=d,p=0,g=c.length-1;p<g;++p){let v=1&p?l:a;d.kernel=c[p],d.inputBuffer=h.texture,e.setRenderTarget(v),e.render(o,s),h=v}this.dithering&&(d=this.ditheredBlurMaterial,this.fullscreenMaterial=d),d.kernel=c[p],d.inputBuffer=h.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(o,s)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(i,r),this.ditheredBlurMaterial.setSize(i,r)}initialize(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==_l?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===Zi&&(this.renderTargetA.texture.encoding=Zi,this.renderTargetB.texture.encoding=Zi))}static get AUTO_SIZE(){return Mc.AUTO_SIZE}},QFe=class extends Zl{constructor({width:e=Mc.AUTO_SIZE,height:t=Mc.AUTO_SIZE,renderTarget:n,luminanceRange:i,colorOutput:r}={}){super("LuminancePass"),this.fullscreenMaterial=new yFe(r,i),this.needsSwap=!1,this.renderTarget=n,void 0===this.renderTarget&&(this.renderTarget=new Zr(1,1,{minFilter:nr,magFilter:nr,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let o=this.resolution=new Mc(this,e,t);o.addEventListener("change",s=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}initialize(e,t,n){void 0!==n&&n!==_l&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},KFe=class extends Zl{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new kR(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,i,r){let o=e.getContext(),s=e.state.buffers,a=this.scene,l=this.camera,c=this.clearPass,d=this.inverted?0:1,h=1-d;s.color.setMask(!1),s.depth.setMask(!1),s.color.setLocked(!0),s.depth.setLocked(!0),s.stencil.setTest(!0),s.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.stencil.setFunc(o.ALWAYS,d,4294967295),s.stencil.setClear(h),s.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(a,l)):(e.setRenderTarget(t),e.render(a,l),e.setRenderTarget(n),e.render(a,l)),s.color.setLocked(!1),s.depth.setLocked(!1),s.stencil.setLocked(!1),s.stencil.setFunc(o.EQUAL,1,4294967295),s.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.stencil.setLocked(!0)}},Fd=class extends Zl{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,null!==this.fullscreenMaterial){let t=this.fullscreenMaterial.uniforms;void 0!==t&&void 0!==t[e]&&(this.inputBufferUniform=t[e])}}render(e,t,n,i,r){null!==this.inputBufferUniform&&null!==t&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}initialize(e,t,n){void 0!==n&&n!==_l&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},$2={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},tBe=class extends Tu{constructor({blendFunction:e=Rr.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:n=.025,resolutionScale:i=.5,intensity:r=1,width:o=Mc.AUTO_SIZE,height:s=Mc.AUTO_SIZE,kernelSize:a=$2.LARGE}={}){super("BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}",{blendFunction:e,uniforms:new Map([["map",new jt(null)],["intensity",new jt(r)]])}),this.renderTarget=new Zr(1,1,{minFilter:nr,magFilter:nr,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new QFe({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=n,this.blurPass=new NR({resolutionScale:i,width:o,height:s,kernelSize:a});let l=this.blurPass.getResolution();l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,n){let i=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,i),this.blurPass.render(e,i,i)):this.blurPass.render(e,t,i)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.luminancePass.resolution.copy(n)}initialize(e,t,n){this.blurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,e.outputEncoding===Zi&&(this.renderTarget.texture.encoding=Zi))}},iBe=class extends Tu{constructor({blendFunction:e=Rr.NORMAL,brightness:t=0,contrast:n=0}={}){super("BrightnessContrastEffect","uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["brightness",new jt(t)],["contrast",new jt(n)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},oBe=class extends Tu{constructor(e=Rr.NORMAL){super("ColorAverageEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",{blendFunction:e})}},lBe=class extends Tu{constructor({blendFunction:e=Rr.NORMAL,offset:t=new qe(.001,5e-4)}={}){super("ChromaticAberrationEffect","varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",{vertexShader:"uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",blendFunction:e,attributes:Au.CONVOLUTION,uniforms:new Map([["offset",new jt(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},dBe=class extends Tu{constructor(e,{blendFunction:t=Rr.NORMAL,worldFocusDistance:n,worldFocusRange:i,focusDistance:r=0,focalLength:o=.1,focusRange:s=o,bokehScale:a=1,width:l=Mc.AUTO_SIZE,height:c=Mc.AUTO_SIZE}={}){super("DepthOfFieldEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;\n#else\nuniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;\n#endif\nuniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}",{blendFunction:t,attributes:Au.DEPTH,uniforms:new Map([["nearColorBuffer",new jt(null)],["farColorBuffer",new jt(null)],["nearCoCBuffer",new jt(null)],["scale",new jt(1)]])}),this.camera=e,this.renderTarget=new Zr(1,1,{minFilter:nr,magFilter:nr,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Fd(new sFe(e));let d=this.cocMaterial;d.focusDistance=r,d.focusRange=s,void 0!==n&&(d.worldFocusDistance=n),void 0!==i&&(d.worldFocusRange=i),this.blurPass=new NR({kernelSize:$2.MEDIUM,width:l,height:c});let h=this.blurPass.getResolution();h.addEventListener("change",g=>this.setSize(h.getBaseWidth(),h.getBaseHeight())),this.maskPass=new Fd(new _Fe(this.renderTargetCoC.texture));let p=this.maskPass.fullscreenMaterial;p.maskFunction=1,p.colorChannel=1,this.bokehNearBasePass=new Fd(new q2(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Fd(new q2(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Fd(new q2(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Fd(new q2(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=a}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let n of t)n.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera;return DR(-t.position.distanceTo(e),t.near,t.far)}setDepthTexture(e,t=yp){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,n){let i=this.renderTarget,r=this.renderTargetCoC,o=this.renderTargetCoCBlurred,s=this.renderTargetMasked;if(null!==this.target){let a=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=a}this.cocPass.render(e,null,r),this.blurPass.render(e,r,o),this.maskPass.render(e,t,s),this.bokehFarBasePass.render(e,s,i),this.bokehFarFillPass.render(e,i,this.renderTargetFar),this.bokehNearBasePass.render(e,t,i),this.bokehNearFillPass.render(e,i,this.renderTargetNear)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let i=n.width,r=n.height,o=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];o.push(this.renderTargetCoC,this.renderTargetMasked),o.forEach(s=>s.setSize(e,t)),o=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],o.forEach(s=>s.setSize(i,r)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(s=>s.fullscreenMaterial.setSize(i,r))}initialize(e,t,n){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(i=>i.initialize(e,t,n)),this.blurPass.initialize(e,t,_l),void 0!==n&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,e.outputEncoding===Zi&&(this.renderTarget.texture.encoding=Zi,this.renderTargetNear.texture.encoding=Zi,this.renderTargetFar.texture.encoding=Zi,this.renderTargetMasked.texture.encoding=Zi))}},uBe=(new ie,new Kt,class extends Tu{constructor({blendFunction:e=Rr.NORMAL,hue:t=0,saturation:n=0}={}){super("HueSaturationEffect","uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["hue",new jt(new ie)],["saturation",new jt(n)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((3*e.x-1)/2)}set hue(e){let t=Math.sin(e),n=Math.cos(e);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}}),fBe=(new gi,class extends Tu{constructor({blendFunction:e=Rr.SCREEN,premultiply:t=!1}={}){super("NoiseEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\n#ifdef PREMULTIPLY\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\n#else\noutputColor=vec4(noise,inputColor.a);\n#endif\n}",{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}}),gBe=class extends Tu{constructor(e=30){super("PixelationEffect","uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",{uniforms:new Map([["active",new jt(!1)],["d",new jt(new qe)]])}),this.resolution=new qe,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}},R$=(Math,new ie,new ie,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC"),N$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",L$=class extends Tu{constructor({preset:e=1,edgeDetectionMode:t=2,predicationMode:n=0}={}){let i,r;super("SMAAEffect","uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",{vertexShader:"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",blendFunction:Rr.NORMAL,attributes:Au.CONVOLUTION|Au.DEPTH,uniforms:new Map([["weightMap",new jt(null)]])}),arguments.length>1&&(i=arguments[0],r=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new Zr(1,1,{minFilter:nr,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new kR(!0,!1,!1),this.clearPass.overrideClearColor=new gi(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new Fd(new fFe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=n,this.weightsPass=new Fd(new CFe);let o=new hH;o.onLoad=()=>{let s=new ds(i);s.name="SMAA.Search",s.magFilter=io,s.minFilter=io,s.generateMipmaps=!1,s.needsUpdate=!0,s.flipY=!0,this.weightsMaterial.searchTexture=s;let a=new ds(r);a.name="SMAA.Area",a.magFilter=nr,a.minFilter=nr,a.generateMipmaps=!1,a.needsUpdate=!0,a.flipY=!1,this.weightsMaterial.areaTexture=a,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),void 0!==i&&void 0!==r?(o.itemEnd("search"),o.itemEnd("area")):typeof Image<"u"&&(i=new Image,r=new Image,i.addEventListener("load",()=>o.itemEnd("search")),r.addEventListener("load",()=>o.itemEnd("area")),i.src=R$,r.src=N$),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(e){case 0:t.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 1:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 2:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case 3:t.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0}}setDepthTexture(e,t=yp){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,n){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;null!==e&&null!==t&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return R$}static get areaImageDataURL(){return N$}},_Be=class extends Tu{constructor({blendFunction:e=Rr.NORMAL,technique:t=0,eskil:n=!1,offset:i=.5,darkness:r=.5}={}){super("VignetteEffect","uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\n#if VIGNETTE_TECHNIQUE == 0\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\n#else\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\n#endif\noutputColor=vec4(color,inputColor.a);}",{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new jt(i)],["darkness",new jt(r)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return 1===this.technique}set eskil(e){this.technique=e?1:0}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}};function FR(e,t,n){return e+(t-e)*n}function Sl(e,t,n,i){let r=FR(e,t,.75),o=FR(n,i,.75);return FR(r,o,.875)}new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]),Sl(0,0,0,0),new Float32Array([0,0,0,0]),Sl(0,0,0,1),new Float32Array([0,0,0,1]),Sl(0,0,1,0),new Float32Array([0,0,1,0]),Sl(0,0,1,1),new Float32Array([0,0,1,1]),Sl(0,1,0,0),new Float32Array([0,1,0,0]),Sl(0,1,0,1),new Float32Array([0,1,0,1]),Sl(0,1,1,0),new Float32Array([0,1,1,0]),Sl(0,1,1,1),new Float32Array([0,1,1,1]),Sl(1,0,0,0),new Float32Array([1,0,0,0]),Sl(1,0,0,1),new Float32Array([1,0,0,1]),Sl(1,0,1,0),new Float32Array([1,0,1,0]),Sl(1,0,1,1),new Float32Array([1,0,1,1]),Sl(1,1,0,0),new Float32Array([1,1,0,0]),Sl(1,1,0,1),new Float32Array([1,1,0,1]),Sl(1,1,1,0),new Float32Array([1,1,1,0]),Sl(1,1,1,1),new Float32Array([1,1,1,1]);var Wp=class{constructor(e,t){this.enabled=!1,this.effect=new e(t),Object.defineProperty(this,"opacity",{enumerable:!0,set(n){this.effect.blendMode.opacity.value=n},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(n){this.effect.blendMode.setBlendFunction(Number(n))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=Rr.NORMAL}},xBe=class extends Wp{constructor(){super(tBe),this.blendFunction=Rr.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},wBe=class extends Wp{constructor(){super(iBe)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},CBe=class extends Wp{constructor(){super(lBe),this.effect.offset=new qe(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[1e3*this.effect.offset.x,1e3*this.effect.offset.y]}},MBe=class extends Wp{constructor(){super(oBe)}},PBe=class extends Wp{constructor(){super(uBe),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},OBe=class extends Wp{constructor(){super(fBe),this.blendFunction=Rr.OVERLAY}},SBe=class extends Wp{constructor(){super(_Be)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},EBe=class extends Wp{constructor(e){super(dBe)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e/2e3}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=this.isPerspectiveCamera?e/2e3:(e+992)/2e3}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}setCamera(e){let t=!1;(e.isPerspectiveCamera&&!1===this.isPerspectiveCamera||!e.isPerspectiveCamera&&!0===this.isPerspectiveCamera)&&(t=!0),e.isPerspectiveCamera?(this.effect.circleOfConfusionMaterial.adoptCameraSettings(e.perspCamera),this.isPerspectiveCamera=!0):(this.effect.circleOfConfusionMaterial.adoptCameraSettings(e),this.isPerspectiveCamera=!1),t&&this.effect.setChanged()}},DBe=class extends Wp{constructor(){super(gBe)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},BR=class extends Qr{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new jt(null)},blending:qs,depthWrite:!1,depthTest:!1,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}",fragmentShader:"#define GLSLIFY 1\nlayout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},RBe=class extends Zl{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new BR,this.resolutionVector=new qe,this.resolveMaterial=new Qr({name:"TAAResolveMaterial",uniforms:{inputBuffer:new jt(null),historyBuffer:new jt(null),velocityBuffer:new jt(null),depthBuffer:new jt(null),resolution:new jt(new qe)},blending:qs,depthWrite:!1,depthTest:!1,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:"#define GLSLIFY 1\n#include <common>\nvarying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;\n#define USE_YCOCG\n#define USE_CATMULL_ROM\nconst float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){\n#ifdef USE_YCOCG\nvec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);\n#else\nreturn texture(tex,uv);\n#endif\n}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){\n#ifdef CHOOSE_LONGEST_MOTION_VECTOR\nfloat longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;\n#else\nfloat closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;\n#endif\n}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);\n#ifdef USE_CATMULL_ROM\nvec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);\n#else\nvec4 previousColor=sample_color(historyBuffer,previousPixelPos);\n#endif\n#ifdef USE_YCOCG\npreviousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);\n#endif\nvec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);\n#ifdef USE_YCOCG\nvec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;\n#endif\nvec4 previousColorClipped=clamp(previousColor,cmin,cmax);\n#ifdef LUMINANCE_DIFFERENCES\n#ifdef USE_YCOCG\nfloat lum0=currentColor.r;float lum1=previousColorClipped.r;\n#else\nfloat lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);\n#endif\nfloat unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));\n#else\nconst float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);\n#endif\n#ifdef USE_YCOCG\ngl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);\n#else\ngl_FragColor=result;\n#endif\n}"}),this.historyRenderTarget=new Zr(1024,1024,{minFilter:nr,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new Zr(1024,1024,{minFilter:nr,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let n=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(n),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},NBe=class extends Zl{constructor(e,t,n){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new I$(e,t,{renderTarget:n.transmissionDepthTarget}),this.passThroughMaterial=new BR,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new BR,this.depthPass=new I$(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,n){let i=this.camera.layers.mask,r=e;r.setRenderTarget(r.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],r.clear(),r.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,n),r.shadowMap.needsUpdate=!1,r.shadowMap.autoUpdate=!1;let o=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(o),e.render(this.splineScene,this.camera),this.camera.layers.mask=i}},F$=new lu,LBe=new Qr({transparent:!0,vertexShader:"\n        void main() {\n            gl_Position = vec4(0.0);\n        }\n    ",fragmentShader:"\n        layout(location = 1) out vec4 gVelocity;\n\n        void main() {\n            gl_FragColor = vec4(0.0);\n\t\t\tgVelocity = vec4(0.0);\n        }\n    "}),zR=class extends Zl{constructor(e,t,n){super("OpaquePass",t??F$,n),this.MRTCompatible=!0,this.originalMaterials=[],this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.MRTCompatible=e}setCamera(e){this.camera=e}setScene(e){this.scene=e??F$}getScene(){return this.scene}render(e,t){this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.length=0,this.scene.traverse(i=>{i.layers.isEnabled(3)&&i instanceof Yl&&(this.originalMaterials.push([i,i.material]),i.material=LBe)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8),e.setRenderTarget(this.renderToScreen?null:t),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),e.render(this.scene,this.camera),this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach(i=>{i[0].material=i[1]})}},BBe=new Qr({name:"CombineMaterial",uniforms:{inputBufferA:new jt(null),inputBufferB:new jt(null)},blending:qs,depthWrite:!1,depthTest:!1,vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    gl_Position = vec4(position.xy, 1.0, 1.0);\n    vUv = position.xy * 0.5 + 0.5;\n}\n",fragmentShader:"\n    varying vec2 vUv;\n    uniform sampler2D inputBufferA;\n    uniform sampler2D inputBufferB;\n\n    // TODO: Why do we need these when postpro of framemode is enabled???\n    layout(location = 1) out vec4 gVelocity;\n\n    void main() {\n\tvec4 resA = texture2D(inputBufferA, vUv);\n\tvec4 resB = texture2D(inputBufferB, vUv);\n    float a = resA.a + resB.a * ( 1.0 - resA.a );\n\n\tvec4 res;\n\tres.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));\n\tres.a = resA.a + resB.a * (1.0 - resA.a);\n\tgl_FragColor = res;\n    gVelocity = vec4(0.0);\n    }\n"}),zBe=class extends Zl{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=BBe,this.helperPass=new zR(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new zR(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new L$({preset:0,edgeDetectionMode:2});this.effectPass=new X2(this.camera,t),this.rt=new Zr(10,10,{minFilter:nr,magFilter:nr,wrapS:Ko,wrapT:Ko,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,n){this.rt.depthTexture=t.depthTexture;let i=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,n),this.fullscreenMaterial.uniforms.inputBufferA.value=n.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(i),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},Cx=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],qBe=new Qr({vertexShader:"#define GLSLIFY 1\n#include <skinning_pars_vertex>\n#include <morphtarget_pars_vertex>\nout vec3 n;void main(){\n#include <beginnormal_vertex>\n#include <morphnormal_vertex>\n#include <skinbase_vertex>\n#include <skinnormal_vertex>\n#include <defaultnormal_vertex>\n#include <begin_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\nvec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}",fragmentShader:"#define GLSLIFY 1\nin vec3 n;void main(){gl_FragColor=vec4(n,1.0);}"}),cy=new Qr({vertexShader:"#define GLSLIFY 1\nout vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}",fragmentShader:"#define GLSLIFY 1\nin vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){\n#ifdef DEBUG\nfloat d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);\n#else\nvec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;\n#endif\n}",uniforms:{texture_ao_lrez:new jt(null),texture_depth_lrez:new jt(null),texture_depth_hrez:new jt(null),near:new jt(null),far:new jt(null)}}),YBe=class extends Zl{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let n=1024,i=1024;this.gBuffer=new Zr(n,i,{type:R_?vp:Ys,depthTexture:new s1(n,i),minFilter:nr,magFilter:nr}),this.depthBufferHighRes=new Zr(n,i,{depthTexture:new s1(n,i)}),this.aoBuffer=new Zr(n,i,{minFilter:nr,magFilter:nr}),this.splineScene=e,this.splineCamera=t;let r=new Float32Array(2*Cx.length);for(let s=0;s<Cx.length;s++){let a=2*s;r[a+0]=Cx[s][0],r[a+1]=Cx[s][1]}this.blueNoiseInDiskTexture=new Od(r,Cx.length,1,lM,Ys),this.blueNoiseInDiskTexture.wrapS=mp,this.blueNoiseInDiskTexture.wrapT=mp,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new Qr({vertexShader:"#define GLSLIFY 1\nout vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:"#define GLSLIFY 1\nin vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}\n#define USE_GBUFFER_NORMALS\nvoid main(){vec3 view_space_p=get_view_position(v_uv);\n#ifdef USE_GBUFFER_NORMALS\nvec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;\n#else\nvec3 view_space_n=-rebuild_normal(v_uv,view_space_p);\n#endif\nfloat radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}",uniforms:{near:new jt(null),far:new jt(null),fov:new jt(null),proj_info:new jt(new ki),is_ortho:new jt(!1),resolution:new jt(new qe),radius_of_influence:new jt(8),radius_in_screen_space:new jt(1),exponent:new jt(1),ao_color:new jt(new ie),bias:new jt(.5),texture_depth:new jt(null),texture_normals:new jt(null),texture_blue_noise:new jt(null),texture_blue_noise_in_disk:new jt(this.blueNoiseInDiskTexture),frame_index:new jt(0),fog_enabled:new jt(!1),fog_near:new jt(1),fog_far:new jt(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new Zr(n,i,{minFilter:nr,magFilter:nr,wrapS:Ko,wrapT:Ko,depthBuffer:!1,type:Ys});let o=new L$({preset:3,edgeDetectionMode:2});this.effectPass=new X2(this.camera,o)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let n=this._runHalfRes?.5:1,i=e*n,r=t*n;this.gBuffer.setSize(i,r),this.aoBuffer.setSize(i,r),this.hbaoMaterial.uniforms.resolution.value.set(i,r),this.aaBuffer.setSize(i,r),this.effectPass.setSize(i,r)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}setDepthTexture(e){this.depthBufferHighRes.depthTexture=e,cy.uniforms.texture_depth_hrez.value=e,cy.needsUpdate=!0}render(e,t,n){this.splineScene.overrideMaterial=qBe;let i=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=i,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let r=this.splineCamera.perspCamera.projectionMatrix.elements;this.hbaoMaterial.uniforms.proj_info.value.set(2/r[0],2/r[5],-(1-r[8])/r[0],-(1+r[9])/r[5]);let c=this.splineCamera.perspCamera.fov*(Math.PI/180),d=this.hbaoMaterial.uniforms.resolution.value.y/(2*Math.tan(.5*c));this.hbaoMaterial.uniforms.radius_in_screen_space.value=.5*this.hbaoMaterial.uniforms.radius_of_influence.value*d,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let r=this.splineCamera.orthoCamera.projectionMatrix.elements,s=2/r[5];this.hbaoMaterial.uniforms.proj_info.value.set(2/r[0],s,-(1+r[12])/r[0],-(1-r[13])/r[5]),this.hbaoMaterial.uniforms.radius_in_screen_space.value=this.hbaoMaterial.uniforms.radius_of_influence.value*(this.hbaoMaterial.uniforms.resolution.value.y/s*.5),this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=cy,cy.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,cy.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,cy.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},QBe=class extends Fd{constructor(){super(new Qr({vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D tInput;\nuniform sampler2D tMap;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform vec2 uResolution;\nuniform vec2 uCoords;\n\n// Draws a rectangle at center <st> with size <size>\nfloat rectangle(vec2 st, vec2 size) {\n    size = vec2(0.5) - size * 0.5;\n    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));\n    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));\n\n    return uv.x * uv.y;\n}\n\nuniform vec2 uSize;\nuniform float uScale;\nuniform float uDPR;\nuniform float uCurrent;\nuniform vec3 uSceneColor;\n\nvoid main() {\n    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n    screenUv *= 1.0 / uDPR;\n\n    vec2 center = vec2(0.5, -0.5);\n    vec2 outsideUv = screenUv;\n    outsideUv += center;\n    outsideUv -= uCoords.xy / uResolution.xy;\n    outsideUv = (outsideUv - 0.5) + 0.5;\n    outsideUv -= center;\n    vec2 s = (uSize / uResolution) * uScale;\n    float isOutside = 1.0 - rectangle(outsideUv, s);\n    \n    vec2 mid = vec2(0.5);\n    vec2 insideUv = (screenUv - mid + s * mid) / s;\n    vec4 background = texture2D(tInput, screenUv);\n    vec4 image = texture2D(tMap, insideUv);\n    gl_FragColor = mix(image, background, isOutside);\n}\n",uniforms:{tInput:new jt(null),tMap:new jt(null),uResolution:new jt(new qe),uSize:new jt(new qe),uCoords:new jt(new qe),uScale:new jt(1),uSceneColor:new jt(new gi(16711680)),uDPR:new jt(1),uCurrent:new jt(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},JBe=[],e6e=class extends Fd{constructor(){super(new Qr({vertexShader:"\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D toScene;\nuniform sampler2D fromScene;\nuniform vec2 resolution;\n\nuniform vec2 uResolution;\nuniform float uDPR;\n\nuniform float mixRatio;\nuniform sampler2D tMixTexture;\nuniform int useTexture;\nuniform float threshold;\n\nvoid main() {\n\tvec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n\tscreenUv *= 1.0 / uDPR;\n\n\tvec4 texel1 = texture2D( fromScene, screenUv );\n\tvec4 texel2 = texture2D( toScene, screenUv );\n\n\tif (useTexture==1) {\n\t\t\n\t\tvec4 transitionTexel = texture2D( tMixTexture, screenUv );\n\t\tfloat r = mixRatio * (1.0 + threshold * 2.0) - threshold;\n\t\tfloat mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);\n\t\t\n\t\tgl_FragColor = mix( texel1, texel2, mixf );\n\t} else {\n\t\t\n\t\tgl_FragColor = mix( texel1, texel2, mixRatio );\n\t\t\n\t}\n}\n",uniforms:{toScene:new jt(null),fromScene:new jt(null),uResolution:new jt(new qe),uDPR:new jt(1),mixRatio:new jt(0),threshold:new jt(.1),useTexture:new jt(0),tMixTexture:{value:JBe[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}},i6e=class extends Fd{constructor(){super(new Qr({vertexShader:"\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D inputBuffer;\nuniform sampler2D blurredInputBuffer;\nuniform sampler2D overlay;\nuniform float blurIntensity;\n\nuniform vec2 uResolution;\nuniform float uDPR;\n\nvoid main() {\n\tvec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n\tscreenUv *= 1.0 / uDPR;\n\n\tvec4 texel1 = texture2D( overlay, screenUv );\n\tvec4 texel2 = texture2D( inputBuffer, screenUv );\n\tvec4 texel3 = texture2D( blurredInputBuffer, screenUv );\n\n\tfloat blurMask2 = max(sign(texel1.a), 0.0) * blurIntensity;\n    gl_FragColor = mix( mix(texel2, texel3, blurMask2), texel1, texel1.a );\n}\n",uniforms:{inputBuffer:new jt(null),blurredInputBuffer:new jt(null),overlay:new jt(null),uResolution:new jt(new qe),uDPR:new jt(1),blurIntensity:new jt(0)}})),this._blurEnabled=!1,this.blurTarget=new Zr(1,1,{minFilter:nr,magFilter:nr,wrapS:Ko,wrapT:Ko}),this.blurPass=new NR({width:window.innerWidth,height:window.innerHeight,kernelSize:$2.HUGE,resolutionScale:.25}),this.blurPass.renderToScreen=!1,this.uniforms.blurredInputBuffer.value=this.blurTarget.texture}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.overlay.value}set texture(e){this.uniforms.overlay.value=e}setResolution(e,t,n=1){this.uniforms.uResolution.value.set(e,t),this.uniforms.uDPR.value=n,this.blurPass.setSize(e,t),this.blurTarget.setSize(e,t),this.blurPass.setSize(e,t)}get uiCanvas(){return this._uiCanvas}set uiCanvas(e){this._uiCanvas=e,e.texture&&(this.uniforms.overlay.value=e.texture);let t=e.frame;if(t){let n=t.data.backgroundBlur,i=n.radius;this._blurEnabled=n.enabled,this.uniforms.blurIntensity.value=this._blurEnabled?1:0,this.blurPass.scale=i/3}}render(e,t,n,i,r){this._blurEnabled&&(this.blurPass.setDepthTexture(this.getDepthTexture()),this.blurPass.render(e,t,this.blurTarget,i,r)),super.render(e,t,n,i,r)}},s6e=class extends Fd{constructor(){super(new Qr({vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D tInput;\nuniform sampler2D tOverlayImage;\nvarying vec2 vUv;\nuniform vec2 uResolution;\nuniform vec2 uRightBottom;\nuniform vec2 uImageSize;\nuniform float uScale;\nuniform float uDPR;\n\nvec3 blendNormal(vec3 base, vec3 blend) {\n\treturn blend;\n}\n\nvec3 blendNormal(vec3 base, vec3 blend, float opacity) {\n\treturn (blendNormal(base, blend) * opacity + base * (1.0 - opacity));\n}\n\nvec4 drawFixedSizeImage(sampler2D image, vec2 screenUV, vec2 imageSize, vec2 imageCoords, vec2 screenSize, float dpr) {\n\tvec2 uv = (screenUV * screenSize * dpr - imageCoords) / (imageSize * dpr);\n\tif (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) {\n\t\treturn vec4(0.0);\n\t}\n\treturn texture2D(image, uv);\n}\n\nvoid main() {\n    vec2 screenUV = gl_FragCoord.xy / (uResolution.xy * uDPR);\n\tvec2 imageCoords = vec2(uResolution.x * uDPR - uImageSize.x * uScale * uDPR - uRightBottom.x * uDPR, uRightBottom.y * uDPR);\n    vec4 background = texture2D(tInput, screenUV);\n    vec4 image = drawFixedSizeImage(tOverlayImage, screenUV, uImageSize * uScale, imageCoords, uResolution, uDPR);\n    gl_FragColor = vec4(blendNormal(background.rgb, image.rgb, image.a), max(background.a, image.a));\n}\n",uniforms:{tInput:new jt(null),tOverlayImage:new jt(null),uResolution:new jt(new qe),uImageSize:new jt(new qe),uRightBottom:new jt(new qe(20,20)),uScale:new jt(.25),uDPR:new jt(1)}}),"tInput")}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tOverlayImage.value}set texture(e){this.uniforms.tOverlayImage.value=e,this.uniforms.uImageSize.value.set(e.image.width,e.image.height)}};function B$(e,t){return t&&t.enabled&&e.push(t.effect),e}var a6e=e=>Object.values(Rr).includes(e)?e:Rr.NORMAL,l6e=class extends el{constructor(e,t){super(),this._needsDOFResize=t,this.postprocessingState=YP.defaultData,this._scene=new lu,this._camera=new Ol,this.effects=new Map,this.blueNoiseTexture=new Od,this._renderToScreen=!0,this._isUIOverlayEnabled=!1,this.clock=new class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=vH(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=vH();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},this.renderer=e,this.debug=!1,this.effects.set("bloom",new xBe),this.effects.set("chromaticAberration",new CBe),this.effects.set("vignette",new SBe),this.effects.set("noise",new OBe),this.effects.set("colorAverage",new MBe),this.effects.set("hueSaturation",new PBe),this.effects.set("brightnessContrast",new wBe),this.effects.set("depthOfField",new EBe),this.effects.set("pixelation",new DBe),this.effectComposer=new class{constructor(e,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:i=0,frameBufferType:r=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new TR,this.depthTexture=null,this.timer=new class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return.001*this.delta}getFixedDelta(){return.001*this.fixedDelta}setFixedDelta(e){return this.fixedDelta=1e3*e,this}getElapsed(){return.001*this.elapsed}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=void 0!==e?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,n,r,i,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,n,r,i,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,n,r,i,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,null!==e){let t=e.getSize(new qe),n=e.getContext().getContextAttributes()?.alpha??!1,i=this.inputBuffer.texture[0].type;i===_l&&e.outputEncoding===Zi&&(this.inputBuffer.texture[0].encoding=Zi,this.outputBuffer.texture[0].encoding=Zi,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(t.width,t.height,!1);for(let r of this.passes)r.initialize(e,n,i)}}replaceRenderer(e,t=!0){let n=this.renderer,i=n.domElement.parentNode;return this.setRenderer(e),t&&null!==i&&(i.removeChild(n.domElement),i.appendChild(e.domElement)),n}createDepthTexture(){let e=this.depthTexture=new s1(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.stencilBuffer?(e.format=Rg,e.type=Ig):e.type=gp,e}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,i,r,o){let c,s=this.renderer,a=null===s?new qe:s.getDrawingBufferSize(new qe),l={minFilter:nr,magFilter:nr,wrapS:Ko,wrapT:Ko,stencilBuffer:t,depthBuffer:e};return i>0?(c=new Zr(a.width,a.height,l),c.samples=i):(r?(c=new Abe(a.width,a.height,2,l),c.texture[1].type=vp):c=new Zr(a.width,a.height,l),c.depthTexture=new s1(2048,2048),c.depthTexture.type=Ys),n===_l&&null!==s&&s.outputEncoding===Zi&&(Array.isArray(c.texture)?c.texture.forEach(d=>d.encoding=Zi):c.texture.encoding=Zi),Array.isArray(c.texture)?c.texture.forEach((d,h)=>{d.name=`EffectComposer.Buffer ${r} ${h}`,d.generateMipmaps=!1}):(c.texture.name=`EffectComposer.Buffer ${r}`,c.texture.generateMipmaps=!1),c.name=o,c}addPass(e,t){let s,n=this.passes,i=this.renderer,r=i.getDrawingBufferSize(new qe),o=i.getContext().getContextAttributes()?.alpha??!1;if(e.MRTCompatible&&(s=this.inputBuffer.texture[0].type),e.MRTCompatible||(s=this.inputBuffer.texture.type),e.setRenderer(i),e.setSize(r.width,r.height),e.initialize(i,o,s),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){let a=this.createDepthTexture();for(e of n)e.setDepthTexture(a)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,n=t.indexOf(e);-1!==n&&t.splice(n,1).length>0&&(null!==this.depthTexture&&(t.reduce((r,o)=>r||o.needsDepthTexture,!1)||e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null)),this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0)))}removeAllPasses(){let e=this.passes;e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let l,c,d,h,t=this.renderer,n=this.copyPass,i=this.inputBuffer,r=this.outputBuffer,o=this.inputBufferSingle,s=this.outputBufferSingle,a=!1;void 0===e&&(e=this.timer.update().getDelta());for(let p of this.passes)p.enabled&&(p.MRTCompatible?p.render(t,i,r,e,a):p.render(t,o,s,e,a),p.needsSwap&&(a&&(n.renderToScreen=p.renderToScreen,l=t.getContext(),c=t.state.buffers.stencil,c.setFunc(l.NOTEQUAL,1,4294967295),n.render(t,i,r,e,a),c.setFunc(l.EQUAL,1,4294967295)),d=i,h=o,i=r,o=s,r=d,s=h),p instanceof KFe?a=!0:p instanceof OFe&&(a=!1))}setSize(e,t,n){let i=this.renderer;if(this._width=e,this._height=t,void 0===e||void 0===t){let o=i.getSize(new qe);e=o.width,t=o.height}i.setSize(e,t,n);let r=i.getDrawingBufferSize(new qe);this.inputBuffer.setSize(r.width,r.height),this.outputBuffer.setSize(r.width,r.height),this.inputBufferSingle.setSize(r.width,r.height),this.outputBufferSingle.setSize(r.width,r.height);for(let o of this.passes)o.setSize(r.width,r.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),null!==this.inputBufferSingle&&this.inputBufferSingle.dispose(),null!==this.outputBufferSingle&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}}(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new zR(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new NBe(this.scene,this.camera,this.renderer),this.aoPass=new YBe(this.scene,this.camera),this.taaPass=new RBe,this.taaPass.renderToScreen=!1,this.helperPass=new zBe(this.camera),this.helperPass.renderToScreen=!1,this.stylesOverlayPass=new QBe,this.stylesOverlayPass.enabled=!1,this.uiOverlayPass=new i6e,this.uiOverlayPass.enabled=!1,this.logoOverlayPass=new s6e,this.logoOverlayPass.enabled=!1,this.sceneTransitionPass=new e6e,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){void 0!==e?(this.stylesOverlayPass.texture=e,this.stylesOverlayPass.enabled=!0):this.stylesOverlayPass.enabled=!1}get overlayTexture(){return this.stylesOverlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){let t=this._camera!==e;this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),t&&this.transmissionPass.updatePasses(this.renderer),this.aoPass.setCamera(e),this.helperPass.setCamera(e),this.effects.get("depthOfField").setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let n=this.effectComposer.passes[t];!0!==n.enabled||e||!this._renderToScreen?n.renderToScreen=!1:(n.renderToScreen=!0,e=!0)}}get isUIOverlayEnabled(){return this._isUIOverlayEnabled}disableUIOverlay(){this._isUIOverlayEnabled=!1}enableUIOverlay(){this._isUIOverlayEnabled=!0}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new Od(e,128,128),this.blueNoiseTexture.wrapS=mp,this.blueNoiseTexture.wrapT=mp,this.blueNoiseTexture.minFilter=io,this.blueNoiseTexture.magFilter=io,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,n,i,r,o,s,a){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=n,this.aoPass.aoColor=i,this.aoPass.fogEnabled=r,this.aoPass.fogNear=o,this.aoPass.fogFar=s,this.aoPass.runHalfRes!==!a&&(this.aoPass.runHalfRes=!a)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){if(this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let e=[this.effects.get("pixelation")].reduce(B$,[]);e.length>0&&(this.uvEffectPass=new X2(this.camera,...e),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let t=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("depthOfField"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(B$,[]);if(t.length>0&&(this.effectPass=new X2(this.camera,...t),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass),this._needsDOFResize&&this.effects.get("depthOfField")?.enabled&&void 0!==window)){let n=this.renderer.viewportWidth,i=this.renderer.viewportHeight;this.renderer.setSize(n-1,i-1),this.renderer.setSize(n,i)}}this.effectComposer.addPass(this.stylesOverlayPass),this.effectComposer.addPass(this.uiOverlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass),this.effectComposer.addPass(this.logoOverlayPass)}_initCopyPass(){if(this._savePass)return;let e=new qe;this.renderer.getDrawingBufferSize(e),this._rt=new Zr(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:mp,wrapT:mp}),this._rt.samples=0,this._savePass=new TR(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new TR(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(!0===e?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(null!==e?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}setWatermark(e){this.logoOverlayPass.enabled=null!==e,e&&(this.logoOverlayPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let{enabled:t,...n}=e,i=!1;t!==this.postprocessingState.enabled&&(i=!0);for(let r of Object.entries(n)){let o=r[1],s=this.effects.get(r[0]);if(s){s.enabled!==o.enabled&&(i=!0),s.enabled=o.enabled;for(let[a,l]of Object.entries(o))"blendFunction"===a?s.blendFunction=a6e(l):s[a]=l}}this.postprocessingState=e,i&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,n,i){e instanceof ki?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,n,i),this.effectComposer.outputBuffer.scissor.set(e,t,n,i));let r=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(r),this.effectComposer.outputBuffer.scissor.multiplyScalar(r),this.renderer.setScissor(e,t,n,i)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,n,i){e instanceof ki?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,n,i),this.effectComposer.outputBuffer.viewport.set(e,t,n,i))}resize(e,t,n){if(this.effectComposer.setSize(e,t,n),this._rt){let i=this.renderer.getPixelRatio();this._rt.setSize(e*i,t*i)}}dispose(){this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.dispose()}},d6e=ir.lights_fragment_begin,h6e=ir.shadowmask_pars_fragment,z$=null,UR=new Qr({vertexShader:"\nattribute vec3 randomColor;\nvarying vec3 vNormal;\nflat out vec3 vColor;\n#include <skinning_pars_vertex>\n#include <morphtarget_pars_vertex>\n\t\nvoid main()\n{\n#include <beginnormal_vertex>\n#include <morphnormal_vertex>\n#include <skinbase_vertex>\n#include <skinnormal_vertex>\nvec3 transformed = vec3(position);\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n\nvNormal = normal;\nvColor = randomColor;\ngl_Position = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));\n}\n",fragmentShader:"\nuniform float depthContrast;\nvarying vec3 vNormal;\nflat in vec3 vColor;\nvoid main()\n{\nvec3 normal = (normalize(vNormal)).rgb;\n\nfloat contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;\n\nvec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);\ngl_FragColor = vec4(resultColor, vColor.r);\ngl_FragColor = vec4(resultColor, vColor.r);\n}\n",uniforms:{depthContrast:{value:1}}}),U$=new ds,j$=new qe,g6e=class extends RV{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new qe,this.dummyCamera=new Ol,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(r=!0,o=!0,s=!0)=>{let a=this.getContext(),l=0;r&&(l|=a.COLOR_BUFFER_BIT),o&&(l|=a.DEPTH_BUFFER_BIT),s&&(l|=a.STENCIL_BUFFER_BIT),a.clear(l),a.clearBufferfv(a.COLOR,1,[0,0,0,1])},this.pipeline=new l6e(this,e?.needsDOFResize??!1),this.autoClear=!1;let t=this.setPixelRatio.bind(this),n=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=rT,this.dummyCamera.matrixAutoUpdate=!1,this.domElement.removeAttribute("data-engine");let i=this.getContext();if(i&&"drawingBufferColorSpace"in i)try{i.drawingBufferColorSpace="display-p3"}catch(r){console.warn(r)}this.setPixelRatio=r=>{this._pixelRatio!==r&&(this._pixelRatio=r,t(r))},this.setSize=(r,o,s=!0)=>{(this.viewportWidth!==r||this.viewportHeight!==o)&&(this.viewportWidth=r,this.viewportHeight=o,n(r,o,s),this.normalRenderTarget?.setSize(r*this._pixelRatio,o*this._pixelRatio),this._resizeTransmission(r,o),this.transmissionDepthTarget?.setSize(r*this._pixelRatio/2,o*this._pixelRatio/2),this.pipeline.resize(r,o,s))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){void 0===this.aoRenderTarget&&(this.aoRenderTarget=new Zr(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:nr,magFilter:nr,wrapS:Ko,wrapT:Ko,depthBuffer:!1}))}_resizeTransmission(e,t){this.transmissionRenderTarget?.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),this.aoRenderTarget?.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return 1===_i.transmissionLod.value}set hdTransmission(e){_i.transmissionLod.value=!0===e?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){void 0===this.transmissionRenderTarget&&(this.transmissionRenderTarget=new Zr(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:Fv,magFilter:nr,wrapS:Ko,wrapT:Ko,depthBuffer:!1}),this.transmissionDepthTarget=new Zr(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:io,magFilter:io,depthBuffer:!1}))}createNormalRenderTarget(){void 0===this.normalRenderTarget&&(this.normalRenderTarget=new Zr(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:io,magFilter:io,type:Ys,depthTexture:new s1(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,n){this.normalRenderTarget&&(this.setClearColor(0),n.layers.enable(8),n.layers.disable(0),n.layers.disable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),UR.uniforms.depthContrast.value=n instanceof Ol?(n.far-n.near)/1e4:1,t.overrideMaterial=UR,this.render(t,n),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?c4:null,n.layers.enable(0),n.layers.enable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,n=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let i=t.height,r=t.width,o=this.viewportWidth/this.viewportHeight;r<i?r=i*o:i=r/o,this.dummyCamera.setViewplaneSize(r,i);for(let s=0;s<n;s++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:n=this.sceneHelpers,sceneHelpersOnTop:i=this.sceneHelpersOnTop,overrideTransmission:r,overrideNormal:o}={}){let s=e instanceof d4?e.activePage:e,a=s.visible;s.visible=!0;let l=s.scene;this.xr.enabled&&(!1===this.isXRCopyPassSet&&null!==this.getRenderTarget()&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(s.bgColor,s.bgColor.a),s.penumbraSizeArray.forEach((p,g)=>{_i.penumbraSize.value[g]=p}),_i.pixelRatioNode.value=this.getPixelRatio(),0!==this.resolution.x&&0!==this.resolution.y?_i.resolution.value.set(this.resolution.x,this.resolution.y):_i.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),void 0!==o?(_i.normalRenderTarget.value=o,_i.normalRenderTargetDepth.value=U$):l.needsNormal()&&(this.createNormalRenderTarget(),_i.normalRenderTarget.value=this.normalRenderTarget.texture,_i.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(l,s,t));let c=s.data.ao,d=c.occlusion;if(d&&(this.createAORenderTarget(),_i.aoRenderTarget.value=this.aoRenderTarget.texture),_i.aoEnabled.value=d,this.pipeline.setAmbientOcclusionParams(c.occlusion,c.radius,c.bias,s.aoColor,null!==s.fog,s.backupFog.near,s.backupFog.far,c.aoFullRes&&!R_),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture),this.pipeline.isUIOverlayEnabled&&s.uiCanvas?.enabled&&s.uiCanvas.texture&&s.uiCanvas.texture.image.width>0){let p=this.getSize(j$),g=this.getPixelRatio();(s.uiCanvas.width!==this.viewportWidth||s.uiCanvas.height!==this.viewportHeight||s.uiCanvas.dpr!==g)&&s.uiCanvas.applySize({width:this.viewportWidth,height:this.viewportHeight},g),s.uiCanvas.render(this),this.pipeline.uiOverlayPass.uiCanvas=s.uiCanvas,this.pipeline.uiOverlayPass.enabled=!0,this.pipeline.uiOverlayPass.setResolution(p.x,p.y,g),this.pipeline.updateRenderToScreen()}else this.pipeline.uiOverlayPass.enabled=!1,this.pipeline.updateRenderToScreen();if(this.pipeline.logoOverlayPass.enabled){let p=this.getSize(j$),g=this.getPixelRatio();this.pipeline.logoOverlayPass.uniforms.uResolution.value.set(p.x,p.y),this.pipeline.logoOverlayPass.uniforms.uDPR.value=g}let h=!1;if(void 0!==r)_i.transmissionRenderTarget.value=r,_i.transmissionRenderTargetDepth.value=U$,this.pipeline.setTransmissionPassEnabled(!1);else{let p=l.needsTransmission();p&&(void 0===this.transmissionRenderTarget&&(h=!0),this.createTransmissionRenderTarget(),_i.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,_i.aspectRatio.value=function KNe(e,t){return e>=t?new qe(t/e,1):new qe(1,e/t)}(this.viewportWidth,this.viewportHeight),_i.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(p)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=n,this.pipeline.sceneHelpersOnTop=i,this.pipeline.scene=s,this.pipeline.camera=t,h&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==s.postprocessing&&(this.pipeline.updatePostprocessing(s.postprocessing),!n&&!i&&this.pipeline.disableHelpers()),void 0!==this.clearAlphaOverride&&this.setClearAlpha(this.clearAlphaOverride),s.overrideMaterial=l.wireframeState?c4:null,this.pipeline.render(),_i.frameIndex.value=(_i.frameIndex.value+1)%16,t instanceof Ol&&t.copyHistory(),s.visible=a}renderFromSceneForSceneTransitionPass(e,t,n){this.pipeline.renderToScreen=!1,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=n,this.sceneTransitionTimeRemaining=n,this.pipeline.renderToScreen=!0;let i=this.pipeline.sceneTransitionPass.uniforms;i.uDPR.value=window.devicePixelRatio,i.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){this._superDispose(),this.pipeline.dispose(),this.aoRenderTarget?.dispose(),this.transmissionRenderTarget?.dispose(),this.transmissionDepthTarget?.dispose(),this.normalRenderTarget?.dispose(),this.normalRenderTarget?.depthTexture?.dispose()}},V$=class extends(yx(BPe)){constructor(e,t=15,n=10066329){super(e,t,n),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){bx(this.object,V$.geometryHelper,e,t)}},H$=class extends(yx(FPe)){constructor(e,t=15,n=6710886){super(e,t,n),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){bx(this.object,H$.geometryHelper,e,t)}},jR=class extends(yx(LPe)){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){bx(this.object,jR.geometryHelper,e,t)}update(){if(void 0!==this.object){let e=jR._vector,t=this.object.distance?this.object.distance:1e3,n=t*Math.tan(this.object.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let i=void 0!==this.color?this.color:this.light.color;if(this.cone.material instanceof Array)for(let r=0,o=this.cone.material.length;r<o;r++)this.cone.material[r].color.set(i);else this.cone.material.color.set(i)}}},G$=jR;G$._vector=new ie;var W$=class extends Sp{constructor(){super(),this.caretIndex=0,this._caretVisibleAlpha=1,this._selectionVisibleAlpha=.3,this.current={start:0,end:void 0},this.matrixAutoUpdate=!1,this.caretMesh=new hs(new Op(1,1),new Pp({transparent:!0,opacity:0,side:bl})),this.add(this.caretMesh),this.selectionMesh=new hs(new Op(1,1),new Pp({color:2857471,transparent:!0,depthTest:!1,depthWrite:!1,opacity:0,side:bl})),this.add(this.selectionMesh),this.hide()}get caretHeight(){return this.object?.AD??0}show(e){this.visible=!0,this.object=e,this.caretMesh.scale.set(1,this.caretHeight,1),this.caretMesh.position.y=.5*-this.caretHeight,this.setCaretPosition(this.caretIndex),this.update()}hide(){this.visible=!1}update(){if(void 0===this.object)return;this.updateHelperMatrix();let{depth:e}=this.object.geometry.userData.parameters;this.caretMesh.position.z=e,this.selectionMesh.position.z=e}updateHelperMatrix(){if(void 0===this.object)return;let e=this.object,t=e.parent;null!==t&&t.updateWorldMatrix(!0,!1),e.matrixAutoUpdate&&e.updateMatrix(),null!==t?(this.matrixWorld.multiplyMatrices(t.matrixWorld,e.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,e.matrix)):this.matrixWorld.multiplyMatrices(e.hiddenMatrix,e.matrix),this.matrix.copy(this.matrixWorld);for(let n of this.children)n.matrixWorld.copy(this.matrixWorld);e.updateWorldMatrix(!0,!0)}setCaretColor(e){let t=this.caretMesh.material;t.color.setRGB(e.r,e.g,e.b);let n=this._caretVisibleAlpha===t.opacity;this._caretVisibleAlpha=e.a,n&&(t.opacity=this._caretVisibleAlpha)}setSelectionColor(e){this.selectionMesh.material.color.setRGB(e.r,e.g,e.b)}setCaretPosition(e,t={}){if(void 0===this.object)return;this.caretIndex=e;let n=this.object.wrappedText,[i,r]=K2(n,e),[o,s]=e>0?K2(n,e-1):[null,null];"\n"===(e>0&&n.length?n[o].charAt(s):null)&&(i++,r=0),this.current.start=e,this.current.end=void 0;let[a,l]=VR(this.object,i,r),{AD:c,descender:d}=this.object,h=d+.5*c,{width:p,height:g,depth:v}=this.object.geometry.userData.parameters,y="string"==typeof p?0:p,b="string"==typeof g?0:g;this.caretMesh.scale.set(1,this.caretHeight,1),this.caretMesh.position.set(a-.5*y,l+h+.5*b,v),this.hideSelectionMesh(),this.showCaretMesh()}setSelection(e,t){if(void 0===this.object)return;let n=this.object.wrappedText;this.current.start=e,this.current.end=t;let i=[],r=[],o=function v6e(e,t,n){let[i,r]=K2(e,t),[o,s]=K2(e,n),a=[];r>=e[i].length&&(i++,r=0);for(let l=i;l<=o;l++)a.push([l,l===i?r:0,l===o?s:e[l].length]);return a}(n,e,t),{lineHeight:s,AD:a,descender:l}=this.object,c=l+.5*a-.5*s;for(let[b,P,O]of o)if(P!==O){let[S,A]=VR(this.object,b,P),[H,V]=VR(this.object,b,O);A+=c,V+=c,V+=s;let Q=i.length/3;i.push(S,A,0),i.push(H,A,0),i.push(H,V,0),i.push(S,V,0),r.push(Q+0,Q+1,Q+2),r.push(Q+2,Q+3,Q+0)}let d=new ii;d.setIndex(r),d.setAttribute("position",new On(i,3));let{width:h,height:p,depth:g}=this.object.geometry.userData.parameters,v="string"==typeof h?0:h,y="string"==typeof p?0:p;this.selectionMesh.geometry.dispose(),this.selectionMesh.geometry=d,this.selectionMesh.position.x=.5*-v,this.selectionMesh.position.y=.5*y,this.selectionMesh.position.z=g,this.showSelectionMesh(),this.hideCaretMesh()}getSelectionFromPosition(e,t,n="previous"){if(void 0===this.object||void 0===this.object.font)return;let i=this.object.wrappedText,r=i.length,o=this.object.lineHeight,s=r*o,{height:a,verticalAlign:l}=this.object.geometry.userData.parameters,c="string"==typeof a?0:a,d=0;3===l?d=c-s:2===l&&(d=.5*c-.5*s);let h=Math.min(Math.floor(Math.max(Math.min(-t-d,s),0)/o),r-1),p=this.object.charCoords[h],g=this.object.charWidths[h],v=0,y=!1;if("previous"===n){for(let b=0;b<p.length;b++)if(p[b][0]+.5*g[b]-e>0){v=b,y=!0;break}}else if("closest"===n){let b=1/0;for(let P=0;P<p.length;P++){let S=Math.abs(p[P][0]+.5*g[P]-e);S<b&&(b=S,v=P,y=!0)}}else for(let b=0;b<p.length;b++)if(e>=p[b][0]&&e<p[b][0]+g[b]){v=b,y=!0;break}return y||(v=p.length),{index:this.getGlobalIndexFromLineAndCharIndexes(i,h,v),lineIndex:h,characterIndex:v}}getGlobalIndexFromLineAndCharIndexes(e,t,n){return e.slice(0,t).reduce((i,r)=>i+r.length,0)+n}showSelectionMesh(){this.selectionMesh.material.opacity=this._selectionVisibleAlpha}hideSelectionMesh(){this.selectionMesh.material.opacity=0}showCaretMesh(){this.caretMesh.material.opacity=this._caretVisibleAlpha}hideCaretMesh(){this.caretMesh.material.opacity=0}};function VR(e,t,n){let{charCoords:i,charWidths:r,initialOffsetY:o,lineHeight:s}=e;if(i[t]&&0===i[t].length||0===i.length){let d=0,{horizontalAlign:h}=e.data.geometry,p=e.wrappedText,{width:g}=e.geometry.userData.parameters;return 1===p.length&&0===p[0].length&&(3===h?d=.5*g:2===h&&(d=g)),[d,o-s*t]}let a=i[t];if(void 0===a||0===a.length)return[0,0];let[l,c]=a[Math.min(n,a.length-1)];return n>=a.length&&(l+=r[t][n-1]),[l,c]}function K2(e,t){let n=0;for(let i=0;i<e.length;i++){let r=e[i],o=t-n;if(o<=r.length)return[i,o];n+=r.length}return[Math.max(0,e.length-1),e[e.length-1]?.length??0]}function b6e(e,t){return"string"==typeof e?t.data.colors[e]:e}function _6e(e){return e.colors[0]}var Hr,q$=class extends(SR(xPe,V$)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.top=1250,i.bottom=-1250,i.right=1250,i.left=-1250,i.near=-1e4,i.far=2500;let r=new nP(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof nP&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let n=void 0!==e.depth&&e.depth!==this.shadow.camera.far||void 0!==e.size&&e.size/2!==this.shadow.camera.right;void 0!==e.size&&function x6e(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}(this,e.size),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),void 0!==e.penumbraSize&&t.scene.markPenumbraSizeDirty(),n&&this.update()}},Y$=new ie,X$=new ie,$$=new Ri,Q$=class extends(SR(vPe,G$)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=2*Ln.RAD2DEG*this.angle,i.aspect=1,i.near=100,i.far=2500;let r=new nP(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof nP&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),X$.setFromMatrixPosition(this.matrixWorld),$$.setFromRotationMatrix(this.matrixWorld),Y$.copy(this.up).applyQuaternion($$).negate().multiplyScalar(this.distance),this.target.position.copy(X$).add(Y$),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.angle&&(this.angle=e.angle),void 0!==e.penumbra&&(this.penumbra=e.penumbra),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.penumbraSize&&t.scene.markPenumbraSizeDirty(),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}};function Z2(e,t){return[[e[0][0]*t[0][0]+e[0][1]*t[1][0],e[0][0]*t[0][1]+e[0][1]*t[1][1]],[e[1][0]*t[0][0]+e[1][1]*t[1][0],e[1][0]*t[0][1]+e[1][1]*t[1][1]]]}function K$(e){return[[e[0][0],e[1][0]],[e[0][1],e[1][1]]]}(e=>{function a(V){return[V[0],V[3],V[1],V[4],V[2],V[5]]}e.identity=function t(){return[1,0,0,0,1,0,0,0,1]},e.copy=function n(V,Q=e.identity()){for(let Y=0,ee=V.length;Y<ee;Y++)Q[Y]=V[Y];return Q},e.create=function i(V,Q,Y,ee,ne,ae){return e.setAbcdef(e.identity(),V,Q,Y,ee,ne,ae)},e.setAbcdef=function r(V,Q,Y,ee,ne,ae,pe){return V[0]=Q,V[1]=ee,V[2]=ae,V[3]=Y,V[4]=ne,V[5]=pe,V},e.append=function o(V,Q){let[Y,ee,ne,ae,pe,fe]=a(V),[ge,Se,Oe,Ce,_e,Be]=a(Q);return e.create(ge*Y+Se*ne,ge*ee+Se*ae,Oe*Y+Ce*ne,Oe*ee+Ce*ae,_e*Y+Be*ne+pe,_e*ee+Be*ae+fe)},e.prepend=function s(V,Q){let[Y,ee,ne,ae,pe,fe]=a(V),[ge,Se,Oe,Ce,_e,Be]=a(Q),We=Y,Ve=ee,Ue=ne,nt=ae;return(1!==ge||0!==Se||0!==Oe||1!==Ce)&&(We=Y*ge+ee*Oe,Ve=Y*Se+ee*Ce,Ue=ne*ge+ae*Oe,nt=ne*Se+ae*Ce),e.create(We,Ve,Ue,nt,pe*ge+fe*Oe+_e,pe*Se+fe*Ce+Be)},e.getAbcdef=a,e.invert=function l(V){let[Q,Y,ee,ne,ae,pe]=e.getAbcdef(V),fe=Q*ne-Y*ee;return e.create(ne/fe,-Y/fe,-ee/fe,Q/fe,(ee*pe-ne*ae)/fe,-(Q*pe-Y*ae)/fe)},e.apply=function c([V,Q],Y){let[ee,ne,ae,pe,fe,ge]=e.getAbcdef(Y);return[ee*V+ae*Q+fe,ne*V+pe*Q+ge]},e.applyInverse=function d(V,Q){let[Y,ee,ne,ae,pe,fe]=e.getAbcdef(Q),ge=1/(Y*ae+ne*-ee),[Se,Oe]=V;return[ae*ge*Se+-ne*ge*Oe+(fe*ne-pe*ae)*ge,Y*ge*Oe+-ee*ge*Se+(-fe*Y+pe*ee)*ge]},e.scale=function h(V,Q,Y=Q){let[ee,ne,ae,pe,fe,ge]=e.getAbcdef(V);return e.setAbcdef(V,ee*Q,ne*Y,ae*Q,pe*Y,fe*Q,ge*Y),V},e.rotate=function p(V,Q){let Y=Math.cos(Q),ee=Math.sin(Q),[ne,ae,pe,fe,ge,Se]=e.getAbcdef(V);return e.setAbcdef(V,ne*Y-ae*ee,ne*ee+ae*Y,pe*Y-fe*ee,pe*ee+fe*Y,ge*Y-Se*ee,ge*ee+Se*Y),V},e.rotateAround=function g(V,Q,Y){let[ee,ne]=Y,ae=e.translate(V,-ee,-ne);return ae=e.rotate(ae,Q),ae=e.translate(ae,ee,ne),ae},e.translate=function v(V,Q,Y){let[ee,ne,ae,pe,fe,ge]=e.getAbcdef(V);return e.setAbcdef(V,ee,ne,ae,pe,fe+Q,ge+Y),V},e.setTranslate=function y(V,Q,Y){let[ee,ne,ae,pe]=e.getAbcdef(V);return e.setAbcdef(V,ee,ne,ae,pe,Q,Y),V},e.setPosition=function b(V,Q,Y){let[ee,ne,ae,pe]=e.getAbcdef(V);return e.setAbcdef(V,ee,ne,ae,pe,Q,Y),V},e.getScale=function P(V){let[Q,Y,ee,ne]=e.getAbcdef(V);return[Math.sqrt(Q*Q+Y*Y),Math.sqrt(ee*ee+ne*ne)]},e.getPosition=function O(V){let[,,,,Q,Y]=e.getAbcdef(V);return[Q,Y]},e.getRotation=function S(V,Q){return e.decompose(V,Q).rotation},e.decompose=function A(V,Q){let[Y,ee,ne,ae,pe,fe]=e.getAbcdef(V),{rotation:ge,scale:Se,shear:Oe}=function C6e(e){let[t,n,i]=function w6e(e){let t=(e[0][0]+e[1][1])/2,n=(e[0][0]-e[1][1])/2,i=(e[1][0]+e[0][1])/2,r=(e[1][0]-e[0][1])/2,o=Math.sqrt(t*t+r*r),s=Math.sqrt(n*n+i*i),a=o+s,l=o-s,c=Math.atan2(i,n),d=Math.atan2(r,t),h=(d-c)/2,p=(d+c)/2,g=[[Math.cos(p),Math.sin(p)],[-Math.sin(p),Math.cos(p)]],v=[[a,0],[0,l]],y=[[Math.cos(h),Math.sin(h)],[-Math.sin(h),Math.cos(h)]];return g[0][0]*=-1,g[0][1]*=-1,y[0][0]*=-1,y[1][0]*=-1,[g,v,y]}(e),r=Z2(t,K$(i)),o=Z2(Z2(i,n),K$(i));return{rotation:Math.atan2(r[1][0],r[0][0]),scale:[o[0][0],o[1][1]],shear:[o[0][1]/o[1][1],o[1][0]/o[0][0]]}}([[Y,ne],[ee,ae]]);return{position:[pe+(Q[0]*Y+Q[1]*ne)-Q[0],fe+(Q[0]*ee+Q[1]*ae)-Q[1]],scale:Se,rotation:ge,shear:Oe,pivot:Q}},e.compose=function H(V,Q,Y,ee,ne=[0,0]){let[ae,pe]=V,[fe,ge]=ee,[Se,Oe,Ce,_e]=function M6e({rotation:e,scale:t,shear:n}){let i=Math.cos(e),r=Math.sin(e),a=Z2([[i,-r],[r,i]],[[t[0],n[0]*t[1]],[n[1]*t[0],t[1]]]);return[a[0][0],a[1][0],a[0][1],a[1][1]]}({rotation:Y,scale:Q,shear:ne});return e.create(Se,Oe,Ce,_e,ae-(fe*Se+ge*Ce)+fe,pe-(fe*Oe+ge*_e)+ge)}})(Hr||(Hr={}));var P6e=Math.PI/180;Math;var Ba=class{constructor(e,t,n){this.uuid=e,this.data=t,this.localMatrix=Hr.identity(),this.worldMatrix=Hr.identity(),this.ignoreCameraZoom=!1,this.visible=!0,this._singleBBox=new HR,this._recursiveBBox=new HR,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.stateSelection=null,this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this.name="",this.position=[0,0],this.scale=[1,1],this.rotation=0,this.shear=[0,0],this.emitter=M2(),this.dpr=n.dpr??1,this.dataPatched=t}project(e,t){let n=this.worldMatrix;return t&&(n=Hr.append(t.worldMatrix,n)),Hr.applyInverse(e,n)}intersects(e,t,n,i=!1){return this.visible&&!this.data.raycastLock&&this.intersectsInLocalSpace(...this.project([e,t],n),i)}intersectsInLocalSpace(e,t,n=!1){let{min:i,max:r}=n?this.recursiveBBox:this.singleBBox;return e>=i[0]&&e<=r[0]&&t>=i[1]&&t<=r[1]}applyTransforms(e){e.setTransform(this.worldMatrix,this.ignoreCameraZoom)}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges()),this._recursiveBBox}updateLocalMatrix(){this.localMatrix=Hr.compose(this.position,this.scale,function S6e(e){return e*P6e}(this.rotation),r0.getPivot(this.dataPatched),this.shear)}updateWorldMatrix(e,t,n){let i=this.parent;t&&null!=i&&i.updateWorldMatrix(e,!0,!1),e&&this.updateLocalMatrix(),this.worldMatrix=this.parent?Hr.append(this.parent.worldMatrix,this.localMatrix):Hr.copy(this.localMatrix),this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}get pivot(){return r0.getPivot(this.data)}getCenter(){return[0,0]}getHalfSize(){return[0,0]}get id(){return this.uuid}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(e=>{e.resetBBoxNeedsUpdateSelf()})}updateTransformState(e){let t=!1;void 0!==e.position&&(t=!0,this.position=e.position),void 0!==e.rotation&&(t=!0,this.rotation=e.rotation),void 0!==e.scale&&(t=!0,this.scale=e.scale),void 0!==e.shear&&(t=!0,this.shear=e.shear),t&&(this.updateWorldMatrix(!0,!1,!0),this.resetBBoxNeedsUpdate())}updateByOp(e,t,n){0===e.type&&void 0!==e.props.visible&&(this.visible=e.props.visible),this.data=t,this.data=t;let i=e,r=Io(e.path,["states","*"]);if(null!==r){if(0===e.type){let[o]=r;if(this?.stateSelection===o){let s={...e.props};if(delete s.name,Object.values(e.props).some(a=>void 0===a)){let a=this.data;if(void 0!==a){let l=va.zoom(a,e.path.slice(2));if(l)for(let c in e.props)void 0===e.props[c]&&c in l&&(s[c]=l[c])}}i={...e,props:s,path:e.path.slice(2)}}}}else if(0===e.type){let o=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(void 0!==o){if(void 0!==e.props.name&&o.name){let{name:a,...l}=o;o=l}let s=va.removeOverridden(e.path,e.props,o);i={...e,props:s}}}this.updateByPatchedOpBase(i,n0.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),n)}changeSelectedState(e,t,n=!1){if(0!==this.data.states.length||n){for(let i of this.data.states)n0.toOps(this.data,i.data).forEach(r=>{let o=AP.replaceProps(r,this.data);this.dataPatched=this.data,this.updateByPatchedOp(o,this.data,t)});if(null!==e){let i=this.data.states.data(e);i&&(this.dataPatched=n0.patch(this.data,i),n0.toOps(this.data,i).forEach(r=>{this.updateByPatchedOp(r,this.dataPatched,t)}))}n&&this.updateTransformState(this.dataPatched),this.stateSelection=e}}updateState(e,t){void 0!==e.name&&(this.name=e.name),void 0!==e.visible&&(this.visible=e.visible),this.updateTransformState(e)}updateByPatchedOpBase(e,t,n){this.dataPatched=t,this.updateByPatchedOp(e,t,n)}updateByPatchedOp(e,t,n){0===e.path.length&&0===e.type&&this.updateState(e.props,n),this.requestRender()}traverseFrameAncestors(e){this.traverseAncestors(t=>{"frame2d"===t.data.type&&e(t)})}traverseAncestors(e){let t=this.parent;for(;t;)e(t),t=t.parent}requestRender(){this.traverseFrameAncestors(e=>{e.requestRender()})}clone(e){let t=new Ba(this.uuid,this.data,e);return t.parent=void 0,t}addEventListener(e,t){this.emitter.on(e,t)}removeEventListener(e,t){this.emitter.off(e,t)}dispatchEvent(e){this.emitter.emit(e.type,{...e,target:e.target??this})}traverseSortNextHelper(){let e=this.parent;if(e){let t=e.children;if(t){let n=t.indexOf(this)+1;return t[n]?t[n]:e.traverseSortNextHelper()}}}sortNext(){let e=this.children;return e&&e.length>0&&e[0]?e[0]:this.traverseSortNextHelper()}isDescendantOf(e){e instanceof Ba&&(e=e.uuid);let t=this;for(;t.parent;){if(t.parent.uuid===e)return!0;t=t.parent}return!1}},wh=class extends Ba{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.context=n,this.children=[]}add(e){e.parent&&e.parent instanceof wh&&e.parent.remove(e),this.children.push(e),e.parent=this}remove(e){let t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.parent=void 0)}traverse(e){let t=e(this);if(!0!==t)for(let n of this.children)n instanceof wh?n.traverse(e):t=e(n)}intersectsChildrenHelper(e,t,n,i,r){for(let o of this.children)if(o.intersects(e,t,n,!1)&&(r.push(o),i)||o instanceof wh&&o.intersectsChildrenHelper(e,t,n,i,r))return!0;return!1}intersectsChildren(e,t,n,i=!1,r=[],o=!1){return this.intersectsChildrenHelper(e,t,n,i,r),r}intersectsChildrenHelperReverse(e,t,n,i,r){for(let o of this.children)if(o instanceof wh&&o.intersectsChildrenHelperReverse(e,t,n,i,r)||o.intersects(e,t,n,!1)&&(r.push(o),i))return!0;return!1}intersectsChildrenReverse(e,t,n,i=!1,r=[],o=!1){return this.intersectsChildrenHelperReverse(e,t,n,i,r),r}updateWorldMatrix(e,t,n){if(super.updateWorldMatrix(e,t,n),n&&this.children)for(let i of this.children)i.updateWorldMatrix(e,!1,!0)}find(e){let t;return this.traverse(n=>{n.uuid===e&&(t=n)}),t}innerDrawChildren(e){for(let t=this.children.length-1;t>=0;t--)this.children[t].draw(e)}resetBBoxNeedsUpdate(){super.resetBBoxNeedsUpdate(),this.traverse(e=>{e.resetBBoxNeedsUpdateSelf()})}clone(e){let t=new wh(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}},ym=class extends wh{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.updateState(t,n)}draw(e){!this.visible||(e.save(),this.applyTransforms(e),this.innerDrawChildren(e),e.restore())}clone(e){let t=new ym(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}};function E6e(e,t){let[[n,i],[r,o]]=e,[[s,a],[l,c]]=t,d=(n-r)*(a-c)-(i-o)*(s-l);if(0===d)return!1;let h=((n-s)*(a-c)-(i-a)*(s-l))/d,p=-((n-r)*(i-a)-(i-o)*(n-s))/d;return h>=0&&h<=1&&p>=0&&p<=1}var eQ,J2,ji,GR,Z$=[[-1,1],[-1,-1],[1,-1],[1,1]],J$=(e,t,n)=>{let i=e.getCenter(),r=e.getHalfSize(),o=Hr.append(t,e.worldMatrix);0===r[0]&&0===r[1]?n.push(Hr.apply(i,o)):Z$.forEach(s=>{n.push(Hr.apply([s[0]*r[0]+i[0],s[1]*r[1]+i[1]],o))})},HR=class{constructor(){this.matrix=Hr.identity(),this.min=[1/0,1/0],this.max=[-1/0,-1/0],this.vertices=[],this.edges=[]}setFromObjectSize(e,t=!1){e.updateWorldMatrix(),this.makeEmpty(),Hr.copy(e.worldMatrix,this.matrix);let n=Hr.invert(e.worldMatrix);this.expandByObjectSize(e,n,t)}expandByObjectSize(e,t,n=!1){let i=[];!0===n&&e instanceof wh?e.traverse(r=>{r.visible&&J$(r,t,i)}):J$(e,t,i),this.setFromPoints(i)}setFromSize(e,t,n){this.makeEmpty(),Hr.copy(n,this.matrix),this.expandBySize(e,t,n)}expandBySize(e,t,n){[Hr.apply([0,0],n),Hr.apply([0,t],n),Hr.apply([e,t],n),Hr.apply([e,0],n)].forEach(i=>this.expandByPoint(i))}getCenter(){let[e,t]=this.min,[n,i]=this.getHalfSize();return Hr.apply([e+n,t+i],this.matrix)}getSize(){return[this.max[0]-this.min[0],this.max[1]-this.min[1]]}getHalfSize(){return[.5*(this.max[0]-this.min[0]),.5*(this.max[1]-this.min[1])]}makeEmpty(){this.min=[1/0,1/0],this.max=[-1/0,-1/0]}setFromPoints(e){this.makeEmpty();for(let t of e)this.expandByPoint(t)}expandByPoint(e){this.min=[Math.min(this.min[0],e[0]),Math.min(this.min[1],e[1])],this.max=[Math.max(this.max[0],e[0]),Math.max(this.max[1],e[1])]}computeVertices(){let[e,t]=this.getHalfSize(),n=this.getCenter(),[i,r,o,s]=Hr.getAbcdef(this.matrix),a=Hr.create(i,r,o,s,n[0],n[1]);this.vertices=Z$.map(([l,c])=>Hr.apply([l*e,c*t],a))}computeEdges(){this.edges=[];for(let e=0,t=this.vertices.length;e<t;++e)this.edges.push([this.vertices[e],this.vertices[(e+1)%t]])}project(e,t){let n=this.matrix;return t&&(n=Hr.append(t.worldMatrix,n)),Hr.applyInverse(e,n)}intersects(e,t,n){return this.intersectsInLocalSpace(...this.project([e,t],n))}intersectsInLocalSpace(e,t){let{min:n,max:i}=this;return e>=n[0]&&e<=i[0]&&t>=n[1]&&t<=i[1]}containsPoint(e){let[t,n]=e,[i,r]=this.min,[o,s]=this.max;return t>=i&&t<=o&&n>=r&&n<=s}intersectsBBox2D(e){for(let t=0,n=this.edges.length;t<n;t++){let i=this.edges[t];for(let r=0,o=e.edges.length;r<o;r++)if(E6e(i,e.edges[r]))return!0}for(let t=0,n=e.vertices.length;t<n;t++)if(this.containsPoint(e.vertices[t]))return!0;return!1}ensureMinMax(){let e=this.min,t=this.max;this.min=[Math.min(e[0],t[0]),Math.min(e[1],t[1])],this.max=[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}copy(e){this.min=[...e.min],this.max=[...e.max],Hr.copy(e.matrix,this.matrix),this.computeVertices(),this.computeEdges()}clone(){let e=new HR;return e.copy(this),e}},D6e=new Promise(e=>{eQ=e}),tQ=!1;function A6e(){if(!tQ)return J2||(J2=function e(){return t.apply(this,arguments)}(),J2);function t(){return(t=(0,si.Z)(function*(){let n=yield m.e(952).then(m.bind(m,952));eQ(n.default??n),tQ=!0})).apply(this,arguments)}}function nQ(e){let t=!1;return e.scene.objects.traverse((n,i)=>{("Mesh"===i.type&&"UIGeometry"===i.geometry.type||"Page"===i.type&&void 0!==i.uiFrame)&&(t=!0)}),t}function WR(){return WR=(0,si.Z)(function*(e){let t=yield D6e;ji||(GR||(GR=t({locateFile:()=>e})),ji=yield GR)}),WR.apply(this,arguments)}var iQ=Hr.identity(),rQ=class{constructor(e,t=1){this.canvas=e,this._dpr=t,this._width=0,this._height=0,this._strokeMode="inside",this._layerBlur=0,this._backgroundBlur=0,this._dropShadowBlur=0,this._dropShadowOffsetX=0,this._dropShadowOffsetY=0,this._dropShadowColor=yo.transparent,this._innerShadowBlur=0,this._innerShadowOffsetX=0,this._innerShadowOffsetY=0,this._innerShadowSpread=0,this._innerShadowColor=yo.transparent,this._fonts=new Map,this._isSizeDirty=!1;try{let n=e.getBoundingClientRect();e.width=n.width*t,e.height=n.height*t}catch{console.log(e.width,t)}this._currentM3Transform=iQ,this._currentTransform=new Float32Array(iQ)}get dpr(){return this._dpr}set dpr(e){this._dpr=e,this._isSizeDirty=!0}init(){var e=this;return(0,si.Z)(function*(){if(!e.wasmURL)throw Error("Your must set the wasm binary url with renderer.wasmURL = ... before you can call renderer.init");yield function T6e(e){return WR.apply(this,arguments)}(e.wasmURL),e._surface=ji.MakeWebGLCanvasSurface(e.canvas),e.ctx=e._surface?.getCanvas(),e._paint=new ji.Paint,e._paint.setAntiAlias(!0),e._paintFill=e._paint.copy(),e._paintFill.setStyle(ji.PaintStyle.Fill),e._paintStroke=e._paint.copy(),e._paintStroke.setStyle(ji.PaintStyle.Stroke),e.ctx?.scale(e.dpr,e.dpr)})()}get currentTransform(){return this._currentM3Transform}get currentTransformBuffer(){return this._currentTransform}set currentTransform(e){this._currentM3Transform=e,this._currentTransform.set(e)}loadFont(e,t){var n=this;return(0,si.Z)(function*(){let i=yield(yield fetch(e)).arrayBuffer();n.registerFont(i,t)})()}registerFont(e,t){if(this._fonts.has(t))return;let n=ji.FontMgr.FromData(e);if(!n)throw new Error("Invalid font data for "+t);this._fonts.set(t,n)}get width(){return this._width}get height(){return this._height}set strokeColor(e){this._paintStroke&&this._paintStroke.setColor(eO(e),ji.ColorSpace.DISPLAY_P3)}set fillColor(e){this._paintFill&&this._paintFill.setColor(eO(e),ji.ColorSpace.DISPLAY_P3)}set lineWidth(e){this._paintStroke&&this._paintStroke.setStrokeWidth("center"===this._strokeMode?e:2*e)}set strokeMode(e){this._strokeMode=e}set dropShadowBlur(e){this._dropShadowBlur=e}set dropShadowColor(e){this._dropShadowColor=e}set dropShadowOffsetX(e){this._dropShadowOffsetX=e}set dropShadowOffsetY(e){this._dropShadowOffsetY=e}set innerShadowBlur(e){this._innerShadowBlur=e}set innerShadowColor(e){this._innerShadowColor=e}set innerShadowOffsetX(e){this._innerShadowOffsetX=e}set innerShadowOffsetY(e){this._innerShadowOffsetY=e}set innerShadowSpread(e){this._innerShadowSpread=e}set layerBlur(e){this._layerBlur=e}set backgroundBlur(e){this._backgroundBlur=e}clear(){this.ctx?.clear(ji.TRANSPARENT)}save(){this.ctx?.save()}restore(){this.ctx?.restore()}beginPath(){this._currentPath?.delete(),this._currentPath=new ji.Path}closePath(){let e=this._currentPath;if(e){if(e.isEmpty())return;let t=e.getBounds();(t[3]-t[1]||t[2]-t[0])&&e.close()}}fill(){this._paintInner(this._paintFill,!0)}stroke(){this._paintInner(this._paintStroke,!1)}clipRect(e,t,n,i,r=0,o=0,s=0,a=0){let l=ji.XYWHRect(e,t,n,i);if(0===r&&0===o&&0===a&&0===s)this.ctx?.clipRect(l,ji.ClipOp.Intersect,!0);else{let c=ji.RRectXY(l,r,r);c[4]=c[5]=r,c[6]=c[7]=o,c[8]=c[9]=s,c[10]=c[11]=a,this.ctx?.clipRRect(c,ji.ClipOp.Intersect,!0)}}_applyShadowOffsetMatrix(){if(this.ctx){let e=Hr.invert(this.currentTransform);this.ctx.concat(e);let t=Hr.translate(Hr.identity(),this._dropShadowOffsetX,this._dropShadowOffsetY);this.ctx.concat(t),this.ctx.concat(this._currentTransform)}}_applyEffectsToPaint(e,t,n=!0){if(this.ctx&&this._currentPath){let i,r=!1;if(n&&this._hasDropShadow()){let s,o=e.copy();o.setColor(eO(this._dropShadowColor)),this._dropShadowBlur>0&&(s=ji.MaskFilter.MakeBlur(ji.BlurStyle.Normal,this._dropShadowBlur*this.dpr*(this.camera?.scale??1),!1),o.setMaskFilter(s)),this.ctx.save(),this.ctx.clipPath(this._currentPath,ji.ClipOp.Difference,!0),this._applyShadowOffsetMatrix(),t(o),this.ctx.restore(),o.delete(),s?.delete()}if(this._backgroundBlur>0&&n){this.ctx.save(),this.ctx.clipPath(this._currentPath,ji.ClipOp.Intersect,!0);let o=ji.ImageFilter.MakeBlur(this._backgroundBlur,this._backgroundBlur,ji.TileMode.Clamp,null),s=e.copy();s.setImageFilter(o),s.setAlphaf(1);let a=this._currentPath.computeTightBounds();this.ctx.saveLayer(s,a,null,ji.SaveLayerInitWithPrevious),this.ctx.drawColor(e.getColor()),this.ctx.restore(),this.ctx.restore(),s.delete(),o.delete(),r=!0}if(this._layerBlur>0){let o=e.copy();i=ji.MaskFilter.MakeBlur(ji.BlurStyle.Normal,this._layerBlur*this.dpr*(this.camera?.scale??1),!1),o.setMaskFilter(i),t(o),o.delete(),i.delete(),r=!0}if(r||t(e),n&&this._hasInnerShadow()){let s,o=new ji.Paint;o.setAntiAlias(!0),o.setStyle(ji.PaintStyle.Fill),o.setColor(eO(this._innerShadowColor)),this._innerShadowBlur>0&&(s=ji.MaskFilter.MakeBlur(ji.BlurStyle.Normal,this._innerShadowBlur*this.dpr*(this.camera?.scale??1),!1),o.setMaskFilter(s));let a=this._currentPath.computeTightBounds(),[l,c,d,h]=a,p=d-l,g=h-c;this.ctx.save(),this.ctx.clipPath(this._currentPath,ji.ClipOp.Intersect,!0),this.ctx.saveLayer(o,a,null,ji.SaveLayerInitWithPrevious),this.ctx?.translate(this._innerShadowOffsetX,this._innerShadowOffsetY),this.ctx.drawRect(ji.XYWHRect(-1e3-this._innerShadowOffsetX,-1e3-this._innerShadowOffsetY,2e3+p+Math.abs(2*this._innerShadowOffsetX),2e3+g+Math.abs(2*this._innerShadowOffsetY)),o),o.setBlendMode(ji.BlendMode.Clear),this.ctx.drawPath(this._currentPath,o),this.ctx.restore(),this.ctx.restore(),o.delete(),s?.delete()}}}_paintInner(e,t=!0){if(this.ctx&&this._currentPath&&e){let n=this.ctx,i=this._currentPath;this._applyEffectsToPaint(e,r=>{let o=!1;!t&&"center"!==this._strokeMode&&(n.save(),n.clipPath(i,"outside"===this._strokeMode?ji.ClipOp.Difference:ji.ClipOp.Intersect,!0),o=!0),n.drawPath(i,r),o&&n.restore()},t)}}_hasDropShadow(){return this._dropShadowColor?.a>0}_hasInnerShadow(){return this._innerShadowColor?.a>0}path(e){this._currentPath?.addPath(ji.Path.MakeFromSVGString(e))}ellipse(e,t,n,i,r,o,s,a){if(!oQ([e,t,n,i])||!this._currentPath)return;if(n<0||i<0)throw Error("radii cannot be negative");let l=ji.XYWHRect(e-n,t-i,2*n,2*i);this._currentPath?.addOval(l)}rect(e,t,n,i,r=0,o=0,s=0,a=0){let l=ji.XYWHRect(e,t,n,i);if(oQ(l))if(0===r&&0===o&&0===a&&0===s)this._currentPath?.addRect(l);else{let c=ji.RRectXY(l,r,r);c[4]=c[5]=r,c[6]=c[7]=o,c[8]=c[9]=s,c[10]=c[11]=a,this._currentPath?.addRRect(c)}}getHorizontalAlign(e){switch(e){case 2:return ji.TextAlign.Right;case 3:return ji.TextAlign.Center;case 4:return ji.TextAlign.Justify;default:return ji.TextAlign.Left}}drawTextInner(e,t,n,[i,r,o,s],a,l,c=!0){let d=0,{ctx:h}=this;if(!h)return d;let p=l.copy(),g=l.copy();return g.setAlphaf(0),this._applyEffectsToPaint(p,v=>{t.pushPaintStyle(n,v,g),t.addText(e);let y=t.build();y.layout(o);let b=r;2===a?b+=(s-y.getHeight())/2:3===a&&(b+=s-y.getHeight()),h.drawParagraph(y,i,b),d=y.getHeight(),t.reset(),y.delete()},c),p.delete(),g.delete(),d}drawText(e,t){let n=0,i=this._fonts.get(t.font),{ctx:r,_paintFill:o,_paintStroke:s}=this;if(i&&r){let a=new ji.TextStyle({fontFamilies:[t.font],fontSize:t.fontSize,heightMultiplier:t.lineHeight,letterSpacing:t.letterSpacing}),l=new ji.ParagraphStyle({textStyle:a,textAlign:this.getHorizontalAlign(t.horizontalAlign)}),c=ji.XYWHRect(t.x,t.y,t.width,t.height),d=ji.ParagraphBuilder.Make(l,i);o&&(n=this.drawTextInner(e,d,a,c,t.verticalAlign,o,!0)),s&&(n=this.drawTextInner(e,d,a,c,t.verticalAlign,s,!1)),d.delete()}return{height:n}}render(){this._surface?.flush()}moveTo(e,t){this._currentPath?.moveTo(e,t)}lineTo(e,t){this._currentPath?.lineTo(e,t)}bezierCurveTo(e,t,n,i,r,o){this._currentPath?.cubicTo(e,t,n,i,r,o)}quadraticCurveTo(e,t,n,i){this._currentPath?.quadTo(e,t,n,i)}setTransform(e,t=!1){if(!this.ctx)return;let n=this.ctx.getTotalMatrix(),i=Hr.invert(n);if(i&&this.ctx.concat(i),this.ctx?.scale(this.dpr,this.dpr),this.camera?.enabled&&(this.ctx?.concat(this.camera.worldMatrix),t)){let r=Hr.getScale(this.camera.worldMatrix);this.ctx?.scale(1/r[0],1/r[1])}this.ctx?.concat(e),this.currentTransform=e}transform(e){this.ctx?.concat(e)}setSize(e,t){!this._isSizeDirty&&e===this._width&&t===this._height||(this._isSizeDirty=!1,this._width=e,this._height=t,this.canvas.style.width=e+"px",this.canvas.style.height=t+"px",this.canvas.width=e*this.dpr,this.canvas.height=t*this.dpr,this._surface&&(this._surface=ji.MakeWebGLCanvasSurface(this.canvas),this.ctx=this._surface?.getCanvas()))}};function oQ(e){for(let t=0;t<e.length;t++)if(void 0!==e[t]&&!Number.isFinite(e[t]))return!1;return!0}function eO({r:e,g:t,b:n,a:i}){return ji.Color4f(e,t,n,i)}var tO,XR,$R,sQ=class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=yo.transparent,this.blurRadius=0,this.offset=[0,0],this.spread=0,this.update(t)}update(e){void 0!==e.color&&(this.color=e.color),void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.blurRadius&&(this.blurRadius=e.blurRadius),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.spread&&(this.spread=e.spread)}},aQ=class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.radius=0,this.update(t)}update(e){void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.radius&&(this.radius=e.radius)}},za=class extends Ba{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.autoClose=!0,this.fill=new class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=yo.transparent,this.update(t)}update(e){void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.color&&(this.color=e.color)}}(e+"-fill",t.fill,n),this.stroke=new class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=yo.transparent,this.thickness=0,this.mode="inside",this.update(t)}update(e){void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.color&&(this.color=e.color),void 0!==e.thickness&&(this.thickness=e.thickness),void 0!==e.mode&&(this.mode=e.mode)}}(e+"-stroke",t.stroke,n),this.dropShadow=new sQ(e+"-dropShadow",t.dropShadow,n),this.innerShadow=new sQ(e+"-innerShadow",t.innerShadow,n),this.backgroundBlur=new aQ(e+"-backgroundBlur",t.backgroundBlur,n),this.layerBlur=new aQ(e+"-layerBlur",t.layerBlur,n)}applyFillStroke(e){e.fillColor=this.fill.enabled?this.fill.color:yo.transparent,e.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:yo.transparent,e.strokeMode=this.stroke.mode,e.lineWidth=this.stroke.thickness}applyFilters(e){e.layerBlur=this.layerBlur.enabled?5*this.layerBlur.radius:0,e.backgroundBlur=this.backgroundBlur.enabled?5*this.backgroundBlur.radius:0,this.dropShadow.enabled?(e.dropShadowBlur=5*this.dropShadow.blurRadius,e.dropShadowColor=this.dropShadow.color,e.dropShadowOffsetX=this.dropShadow.offset[0],e.dropShadowOffsetY=this.dropShadow.offset[1]):e.dropShadowColor=yo.transparent,this.innerShadow.enabled?(e.innerShadowSpread=this.innerShadow.spread,e.innerShadowBlur=5*this.innerShadow.blurRadius,e.innerShadowColor=this.innerShadow.color,e.innerShadowOffsetX=this.innerShadow.offset[0],e.innerShadowOffsetY=this.innerShadow.offset[1]):e.innerShadowColor=yo.transparent}innerDraw(e){}draw(e){!this.visible||(e.save(),this.applyTransforms(e),this.applyFilters(e),this.applyFillStroke(e),e.beginPath(),this.innerDraw(e),this.autoClose&&e.closePath(),this.fill.enabled&&e.fill(),this.stroke.enabled&&e.stroke(),e.restore())}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),0===e.type&&(Io(e.path,["fill"])?this.fill.update(e.props):Io(e.path,["stroke"])?this.stroke.update(e.props):Io(e.path,["dropShadow"])?this.dropShadow.update(e.props):Io(e.path,["innerShadow"])?this.innerShadow.update(e.props):Io(e.path,["layerBlur"])?this.layerBlur.update(e.props):Io(e.path,["backgroundBlur"])?this.backgroundBlur.update(e.props):this.resetBBoxNeedsUpdate())}updateState(e,t){super.updateState(e,t),void 0!==e.fill&&this.fill.update(e.fill),void 0!==e.stroke&&this.stroke.update(e.stroke),void 0!==e.dropShadow&&this.dropShadow.update(e.dropShadow),void 0!==e.innerShadow&&this.innerShadow.update(e.innerShadow),void 0!==e.layerBlur&&this.layerBlur.update(e.layerBlur),void 0!==e.backgroundBlur&&this.backgroundBlur.update(e.backgroundBlur)}clone(e){let t=new za(this.uuid,this.data,e);return t.parent=void 0,t}},qR=class extends za{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.width=0,this.height=0,this.updateState(t,n)}innerDraw(e){e.ellipse(.5*this.width,.5*this.height,.5*this.width,.5*this.height,0,0,2*Math.PI)}intersectsInLocalSpace(e,t){return function O6e(e,t,n,i,r,o){let s=e-n,a=t-i;return s*s/(r*r)+a*a/(o*o)<=1}(e,t,.5*this.width,.5*this.height,.5*this.width,.5*this.height)}getCenter(){return[.5*this.width,.5*this.height]}getHalfSize(){return[.5*this.width,.5*this.height]}updateSizeState(e){let t=!1;void 0!==e.width&&(this.width="number"==typeof e.width?e.width:this.width,t=!0),void 0!==e.height&&(this.height="number"==typeof e.height?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e)}clone(e){let t=new qR(this.uuid,this.data,e);return t.parent=void 0,t}},Mx=class extends za{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.width=0,this.height=0,this.cornerRadius=[0,0,0,0],this.updateState(t,n)}innerDraw(e){e.rect(0,0,this.width,this.height,...this.cornerRadius)}getCenter(){return[.5*this.width,.5*this.height]}getHalfSize(){return[.5*this.width,.5*this.height]}updateCornerState(e){void 0!==e.cornerRadius&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;void 0!==e.width&&(this.width="number"==typeof e.width?e.width:this.width,t=!0),void 0!==e.height&&(this.height="number"==typeof e.height?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e)}clone(e){let t=new Mx(this.uuid,this.data,e);return t.parent=void 0,t}},YR=class extends za{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this._textHeight=0,this._textHeightDirty=!0,this.width=0,this.height=0,this.updateState(t,n)}get textHeight(){return this._textHeight}applyFillStroke(e){e.fillColor=this.fill.enabled?this.fill.color:yo.transparent,e.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:yo.transparent,e.strokeMode="center",e.lineWidth=this.stroke.thickness}innerDraw(e){this._fontHolder?.arrayBuffer&&this._fontHolder.arrayBuffer.byteLength>1&&this.data.font&&e.registerFont(this._fontHolder.arrayBuffer,this.data.font);let t=this.data.textTransform,n=this.data.text.textValue.toString(),i=2===t?n.toUpperCase():3===t?n.toLowerCase():n,{height:r}=e.drawText(i,{x:0,y:0,width:this.width,height:this.height,fontSize:this.data.fontSize,lineHeight:this.data.lineHeight??1,letterSpacing:this.data.letterSpacing??0,horizontalAlign:this.data.horizontalAlign,verticalAlign:this.data.verticalAlign,font:this.data.font});this._textHeight=r}getCenter(){return[.5*this.width,.5*this.height]}getHalfSize(){return[.5*this.width,.5*this.height]}updateSizeState(e){let t=!1;void 0!==e.width&&(this.width="number"==typeof e.width?e.width:this.width,t=!0),void 0!==e.height&&(this.height="number"==typeof e.height?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateFontState(e,{shared:t}){void 0!==e.font&&(this._fontHolder=t.getFont(e.font),this._fontHolder&&!this._fontHolder.isLoaded&&this._fontHolder.loadingPromise.then(()=>{this.requestRender()}))}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateFontState(e,t)}clone(e){let t=new YR(this.uuid,this.data,e);return t.parent=void 0,t}},lQ=class extends za{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.curves=[],this.extremasBBox={min:[0,0],max:[0,0]},this.updateState(t,n)}computeExtremas(){0===this.curves.length&&this.computeCurves();let e=this.curves.map(i=>tO.extremas(i)),t=[1/0,1/0],n=[-1/0,-1/0];for(let i=0,r=e.length;i<r;i++){let o=e[i];o[0][0]<t[0]&&(t[0]=o[0][0]),o[0][1]<t[1]&&(t[1]=o[0][1]),o[1][0]>n[0]&&(n[0]=o[1][0]),o[1][1]>n[1]&&(n[1]=o[1][1])}return this.extremasBBox.min=[t[0],t[1]],this.extremasBBox.max=[n[0],n[1]],this.extremasBBox}computeCurves(){this.curves=[];for(let n=1,i=this.data.points.length;n<i;n++){let r=this.data.points[n].data,o=this.data.points[n-1].data;this.curves.push({start:o.position,cp1:o.controlNext.position,cp2:r.controlPrevious.position,end:r.position})}let e=this.data.points[0].data,t=this.data.points[this.data.points.length-1].data;this.data.isClosed&&this.curves.push({start:t.position,cp1:t.controlNext.position,cp2:e.controlPrevious.position,end:e.position})}getCenter(){let[e,t]=this.extremasBBox.min,[n,i]=this.getHalfSize();return[e+n,t+i]}getHalfSize(){let{min:e,max:t}=this.extremasBBox;return[.5*(t[0]-e[0]),.5*(t[1]-e[1])]}innerDraw(e){for(let i=0,r=this.data.points.length;i<r;i++){let o=this.data.points[i].data;if(0===i){let[s,a]=o.position;e.moveTo(s,a)}else{let s=this.data.points[i-1].data,[a,l]=s.controlNext.position,[c,d]=o.controlPrevious.position,[h,p]=o.position;tO.derive({start:s.position,cp1:s.controlNext.position,cp2:o.controlPrevious.position,end:o.position}),e.bezierCurveTo(a,l,c,d,h,p)}}let t=this.data.points[0].data,n=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let[i,r]=n.controlNext.position,[o,s]=t.controlPrevious.position,[a,l]=t.position;e.bezierCurveTo(i,r,o,s,a,l)}}updateState(e,t){super.updateState(e,t),this.computeExtremas()}clone(e){let t=new lQ(this.uuid,this.data,e);return t.parent=void 0,t}};(e=>{function n(s,a,l,c=!1){let d=s-2*a+l;if(0!==d){let h=-Math.sqrt(Math.abs(a*a-s*l)),p=-s+a;return[-(h+p)/d,-(-h+p)/d]}return a!==l&&0===d?[(2*a-l)/(2*(a-l))]:[]}e.derive=function t(s){let a=s.start,l=s.cp1,c=s.cp2,d=s.end,v={start:[3*(l[0]-a[0]),3*(l[1]-a[1])],cp:[3*(c[0]-l[0]),3*(c[1]-l[1])],end:[3*(d[0]-c[0]),3*(d[1]-c[1])]};return s.derivative=v,v.derivative=XR.derive(v),v},e.droot=function i(s){let a=s.derivative??e.derive(s),l=a.start,c=a.cp,d=a.end;return[n(l[0],c[0],d[0]),n(l[1],c[1],d[1])]},e.extremas=function r(s){let[a,l]=e.droot(s),c=[s.start[0],s.end[0]],d=[s.start[1],s.end[1]];for(let h of a)c.push(e.compute(s,Math.min(1,Math.max(0,h)))[0]);for(let h of l)d.push(e.compute(s,Math.min(1,Math.max(0,h)))[1]);return c.sort((h,p)=>h-p),d.sort((h,p)=>h-p),[[c[0],d[0]],[c[c.length-1],d[d.length-1]]]},e.compute=function o(s,a){if(0===a)return[...s.start];if(1===a)return[...s.end];let l=1-a,c=l*l,d=a*a,h=c*l,p=c*a*3,g=l*d*3,v=a*d;return[h*s.start[0]+p*s.cp1[0]+g*s.cp2[0]+v*s.end[0],h*s.start[1]+p*s.cp1[1]+g*s.cp2[1]+v*s.end[1]]}})(tO||(tO={})),(e=>{e.derive=function t(r){let o=r.start,s=r.cp,a=r.end,d={start:[2*(s[0]-o[0]),2*(s[1]-o[1])],end:[2*(a[0]-s[0]),2*(a[1]-s[1])]};return d.derivative=$R.derive(d),r.derivative=d,d},e.droot=function n(r){let o=r.derivative??e.derive(r),s=o.start,a=o.end;return[s[0]!==a[0]?s[0]/(s[0]-a[0]):0,s[1]!==a[1]?s[1]/(s[1]-a[1]):0]},e.compute=function i(r,o){if(0===o)return[...r.start];if(1===o)return[...r.end];let s=1-o,a=s*s,l=o*o,d=s*o*2;return[a*r.start[0]+d*r.cp[0]+l*r.end[0],a*r.start[1]+d*r.cp[1]+l*r.end[1]]}})(XR||(XR={})),(e=>{e.derive=function t(i){let r=i.start,o=i.end;return i.derivative=[o[0]-r[0],o[1]-r[1]],i.derivative},e.compute=function n(i,r){if(0===r)return[...i.start];if(1===r)return[...i.end];let o=i.start,s=i.end;return[o[0]+(s[0]-o[0])*r,o[1]+(s[1]-o[1])*r]}})($R||($R={}));var Iu=class extends wh{constructor(e,t,n){super(e,t,n),this.uuid=e,this.width=0,this.height=0,this.clipped=!0,this.background=new Mx(e+"-background",q_.defaultData,n),this.background.parent=this,this.updateState(t,n)}get fill(){return this.background.fill}get stroke(){return this.background.stroke}get backgroundBlur(){return this.background.backgroundBlur}get layerBlur(){return this.background.layerBlur}get dropShadow(){return this.background.dropShadow}get innerShadow(){return this.background.innerShadow}get cornerRadius(){return this.background.cornerRadius}set cornerRadius(e){this.background.cornerRadius=e}updateLocalMatrix(){super.updateLocalMatrix(),this.background?.updateLocalMatrix()}updateWorldMatrix(e,t,n){super.updateWorldMatrix(e,t,n),this.background?.updateWorldMatrix(e,t,n)}draw(e){if(!this.visible)return;e.save();let t=this.width,n=this.height;this.applyTransforms(e),this.background.width=t,this.background.height=n,this.background.draw(e),this.clipped&&e.clipRect(0,0,t,n,...this.cornerRadius),this.innerDrawChildren(e),e.restore()}getCenter(){return[.5*this.width,.5*this.height]}getHalfSize(){return[.5*this.width,.5*this.height]}updateCornerState(e){void 0!==e.cornerRadius&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;void 0!==e.width&&(this.width="number"==typeof e.width?e.width:this.width,t=!0),void 0!==e.height&&(this.height="number"==typeof e.height?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e),void 0!==e.fill&&this.fill.update(e.fill),void 0!==e.stroke&&this.stroke.update(e.stroke),void 0!==e.dropShadow&&this.dropShadow.update(e.dropShadow),void 0!==e.innerShadow&&this.innerShadow.update(e.innerShadow),void 0!==e.layerBlur&&this.layerBlur.update(e.layerBlur),void 0!==e.backgroundBlur&&this.backgroundBlur.update(e.backgroundBlur),void 0!==e.clipped&&(this.clipped=e.clipped)}requestRender(){super.requestRender(),this.dispatchEvent({type:"render"})}dispose(){this.removeEventListener("render")}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),0===e.type&&(Io(e.path,["fill"])?this.fill.update(e.props):Io(e.path,["stroke"])?this.stroke.update(e.props):Io(e.path,["dropShadow"])?this.dropShadow.update(e.props):Io(e.path,["innerShadow"])?this.innerShadow.update(e.props):Io(e.path,["layerBlur"])?this.layerBlur.update(e.props):Io(e.path,["backgroundBlur"])?this.backgroundBlur.update(e.props):this.resetBBoxNeedsUpdate())}clone(e){let t=new Iu(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}},R6e=fp(ej(),1),nO=class extends za{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this._pathBBox=new DOMRect,this.path="",this.updateState(t,n),this.autoClose=!1,this.computeSVGBBox()}computeSVGBBox(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");document.body.appendChild(e),t.setAttribute("d",this.path),e.appendChild(t),this._pathBBox=t.getBBox(),e.remove()}innerDraw(e){e.path(this.path)}intersectsInLocalSpace(e,t){return e>=this._pathBBox.x&&e<=this._pathBBox.x+this._pathBBox.width&&t>=this._pathBBox.y&&t<=this._pathBBox.y+this._pathBBox.height}getCenter(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}getHalfSize(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}updateState(e,t){super.updateState(e,t),void 0!==e.path&&(this.path=e.path,this.computeSVGBBox())}clone(e){let t=new nO(this.uuid,this.data,e);return t.parent=void 0,t}},cQ=class{constructor(e,t,n){this.uuid=e,this.data=t,this.group=new ym(cQ.GROUP_ID,{...n2.defaultData},n),this.createChildrenObjects(t.objects,this.group,n)}createObject(e,t,n,i,r,o){let s=function F6e(e,t,n){switch(t.type){case"ellipse2d":return new qR(e,t,n);case"rectangle2d":return new Mx(e,t,n);case"text2d":return new YR(e,t,n);case"vector2d":return new lQ(e,t,n);case"path2d":return new nO(e,t,n);case"frame2d":return new Iu(e,t,n);default:return new ym(e,t,n)}}(e,t,o);s&&(i.add(s),i.children.splice(r,0,i.children.pop()),s.updateWorldMatrix(),n.length>0&&(s instanceof ym||s instanceof Iu)&&this.createChildrenObjects(n,s,o))}createChildrenObjects(e,t,n){let i=0;for(let r of e)this.createObject(r.id,r.data,r.children,t,i,n),i+=1}draw(e){this.group.draw(e)}updateEntityByOp(e,t,n,i){let r=this.find(e);if(r)try{r.updateByOp(t,n,{shared:i})}catch(o){console.error(o)}}updateTreeByOp(e,t){if(0===e.path.length&&7===e.type){let n=null===e.parent?this.group:this.find(e.parent);void 0!==n&&n instanceof wh&&(this.createObject(e.id,e.data,e.children,n,e.localIndex,t),n.requestRender())}else if(0===e.path.length&&8===e.type){let n=this.find(e.id);if(void 0!==n&&void 0!==n.parent&&n.parent instanceof wh){let i=n.parent;n.resetBBoxNeedsUpdate(),i?.remove(n),i?.requestRender()}}else if(0===e.path.length&&9===e.type){let n=this.find(e.id);if(void 0!==n){let i=n.parent,r=null===e.parent?this:this.find(e.parent);(r instanceof wh||r===this)&&(r.add(n),r.children.splice(e.localIndex,0,r.children.pop()),n.updateWorldMatrix(!0,!1,!0),i?.requestRender(),n.requestRender()),n.resetBBoxNeedsUpdate()}}}add(e){this.group.add(e)}remove(e){this.group.remove(e)}traverse(e){this.group.traverse(t=>{t!==this.group&&e(t)})}intersectsChildren(e,t,n,i=!1,r=[]){return this.group.intersectsChildren(e,t,n,i,r,!0)}intersectsChildrenReverse(e,t,n,i=!1,r=[]){return this.group.intersectsChildrenReverse(e,t,n,i,r,!0)}find(e){return this.group.find(e)}get children(){return this.group.children}project(e,t){return this.group.project(e,t)}getWithSortKey(e){let t=this.find(e);if(void 0===t)return;let n=[],i=t;for(;i!==this.group;){let r=i;i=i.parent;let o=i.children.indexOf(r);n.splice(0,0,o)}return{entity:t,sortKey:n}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);void 0!==i&&t.push(i)}return t.sort((n,i)=>$G(n.sortKey,i.sortKey)),t.map(n=>n.entity)}},QR=cQ;function dQ({constraints:e,newParentWidth:t,newParentHeight:n,initialParentWidth:i,initialParentHeight:r,objectInitialWidth:o,objectInitialHeight:s,objectInitialPosition:a}){let{horizontalConstraint:l,verticalConstraint:c}=e,d=t-i,h=n-r,p=o,g=s,v=a[0],y=a[1];if(0!==l)if(1===l)v+=d;else if(3===l)v+=d/2;else if(2===l)p=Math.max(1,p+d);else if(4===l){let b=t/i;p*=b,v*=b}if(0!==c)if(1===c)y+=h;else if(3===c)y+=h/2;else if(2===c)g=Math.max(1,g+h);else if(4===c){let b=n/r;g*=b,y*=b}return{width:p,height:g,position:[v,y]}}QR.GROUP_ID="scene2d",fp(ej(),1);var U6e=new kM(-1,1,1,-1,0,1),V6e=new class extends(null){constructor(){super(),this.setAttribute("position",new On([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new On([0,2,0,0,2,0],2))}},hQ=new Qr({defines:{},uniforms:{tDiffuse:new jt(null)},vertexShader:null,fragmentShader:null}),G6e=new class{constructor(e){this._mesh=new hs(V6e,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,U6e)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}(hQ),KR=null,ZR=null,Y6e=Hr.identity(),uQ=class{constructor(e,t,n,i){this.uuid=e,this.width=t,this.height=n,this.context=i,this.enabled=!0,this.isScreenSpace=!1,this.dpr=window.devicePixelRatio,this.isFrameDirty=!1,this.onRenderRequestedDownstream=()=>{this.isFrameDirty=!0,this.context.shared.requestRender()},this._innerApplySize=()=>{let r=this.width,o=this.height;this.renderer.dpr=this.isScreenSpace?this.dpr:Math.floor(2048/Math.max(r,o)),this.renderer.setSize(r,o)},this.onFrameOverrideObjectEvent=r=>{if(void 0!==r.target?.uuid){let o=this.frameRoot?.find(r.target.uuid);o&&o.dispatchEvent({...r,target:o})}},this.scene2d=new QR(Ln.generateUUID(),ek.defaultData,{dpr:window.devicePixelRatio,shared:i.shared}),this.canvas=(null===KR&&(KR=document.createElement("canvas")),KR),this.renderer=(e=>(null===ZR&&(ZR=new rQ(this.canvas)),ZR))(),this.promise=this.init(),this.renderTarget=new Zr(1,1,{type:vp,stencilBuffer:!1,depthBuffer:!1}),i.shared.addUIBuffer(this.uuid,this.renderTarget),this.textureHolder=i.shared.uiBuffer(this.uuid)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new AMe(this.canvas)),this._canvasTexture}init(){var e=this;return(0,si.Z)(function*(){e.renderer instanceof rQ&&(e.renderer.wasmURL=SX.skiaWasmUrl),yield e.renderer.init()})()}render(e){if(this.isFrameDirty){this.isFrameDirty=!1,this._innerApplySize(),this.renderer.clear(),this.frameOverride?.draw(this.renderer),this.renderer.render(),hQ.uniforms.tDiffuse.value=this.canvasTexture,this.canvasTexture.needsUpdate=!0;let t=e.getRenderTarget();e.setRenderTarget(this.renderTarget),e.clear(),G6e.render(e),e.setRenderTarget(t),this.textureHolder?.setNeedsUpdate(!0)}}updateEntity2DByOp(e,t,n,i){this.scene2d.updateEntityByOp(e,t,n,i),this.applySize()}updateTreeByOp(e,t){this.scene2d.updateTreeByOp(e,t),this.applySize()}applyOverrides(e){if(this.frameOverride&&this.frameRoot){this.frameOverride.position=[0,0],this.frameOverride.rotation=0;let t=e?.width??this.width,n=e?.height??this.height;this.frameOverride.width=t,this.frameOverride.height=n,this.frameOverride.localMatrix=Y6e,this.isScreenSpace&&(this.frameOverride.fill.color=yo.from0to1([0,0,0,0])),this.frameOverride.data={...this.frameOverride.data,width:t,height:n},pQ({objectOverride:this.frameOverride,objectRoot:this.frameRoot,newParentWidth:this.frameOverride.width,newParentHeight:this.frameOverride.height,initialParentWidth:this.frameRoot.width,initialParentHeight:this.frameRoot.height}),this.frameOverride.updateWorldMatrix(!0,!1,!0)}}applySize(e,t=window.devicePixelRatio){let n=Math.max(1,e?.width??this.width),i=Math.max(1,e?.height??this.height);this.dpr=t,this.width=n,this.height=i,this._innerApplySize();let r=1;(n*t<512||i*t<512)&&(r=Math.max(512/(n*t),512/(i*t))),this.renderTarget.setSize(n*t*r,i*t*r),this._canvasTexture?.dispose(),this._canvasTexture=void 0,this.applyOverrides(e),this.frameOverride?.requestRender()}applyFrame(e){let t=this.context.scene.find2D(e);if(t&&t instanceof Iu)return this.disposeFrameOverride(),this.frameRoot=t,this.frameOverride=t.clone({dpr:this.renderer.dpr,shared:this.context.shared}),this.scene2d.add(this.frameOverride),this.applySize(),this.frame?.addEventListener("render",this.onRenderRequestedDownstream),this.frameOverride.traverse(n=>{n.addEventListener("beginState",this.onFrameOverrideObjectEvent)}),this.frameOverride.traverse(n=>{n.addEventListener("completeState",this.onFrameOverrideObjectEvent)}),this.frame?.requestRender(),t}get frame(){return this.frameOverride}get frameId(){return this.frame?.uuid}find(e){return this.scene2d.find(e)}get texture(){return this.textureHolder?.getTexture(1001)}disposeFrameOverride(){this.frameOverride?.removeEventListener("render",this.onRenderRequestedDownstream),this.frameOverride?.traverse(e=>{e.removeEventListener("beginStateChange",this.onFrameOverrideObjectEvent)}),this.frameOverride?.traverse(e=>{e.removeEventListener("completeState",this.onFrameOverrideObjectEvent)}),this.frameOverride&&this.scene2d.remove(this.frameOverride)}};function pQ({objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o}){if(e instanceof Iu&&t instanceof Iu||e instanceof ym&&t instanceof ym)for(let s=0,a=e.children.length;s<a;s++){let l=e.children[s],c=t.children[s];l&&c&&l.uuid===c.uuid&&$6e({objectOverride:l,objectRoot:c,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o})}}function $6e({objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o}){let[s,a]=function X6e(e){if(JR(e))return[e.width,e.height];if(e instanceof nO){let[t,n]=e.getHalfSize();return[2*t,2*n]}if(e instanceof ym){let[t,n]=e.recursiveBBox.getHalfSize();return[2*t,2*n]}return[0,0]}(t),{width:l,height:c,position:d}=dQ({constraints:e.data,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o,objectInitialWidth:s,objectInitialHeight:a,objectInitialPosition:t.position});if(e.position=d,e.data={...e.data,position:d},e.states)for(let h in e.states)Q6e({stateId:h,objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:i,initialParentWidth:r,initialParentHeight:o});JR(e)||e instanceof ym?(JR(e)&&(e.width=l,e.height=c,e.data={...e.data,width:l,height:c}),pQ({objectOverride:e,objectRoot:t,newParentWidth:l,newParentHeight:c,initialParentWidth:s,initialParentHeight:a})):e instanceof nO&&(e.path=function N6e(e,t=1,n=1){return t<=0||n<=0?e:function L6e(e){let n,t=["rx","ry","xAxisRotation","largeArc","sweep","x1","y1","x2","y2","x","y"];return e.map(i=>{let r=[];t.forEach(s=>{if(s in i){let a=1*i[s];r.length&&a>=0&&r.push(","),r.push(a)}});let o=(n===i.code?r[0]<0?"":",":i.code)+r.join("");return n=i.code,o}).join("")}((0,R6e.parseSVG)(e).map(r=>{let o={...r};return"x"in o&&(o.x=o.x*t),"y"in o&&(o.y=o.y*n),"x1"in o&&(o.x1=o.x1*t),"x2"in o&&(o.x2=o.x2*t),"y1"in o&&(o.y1=o.y1*n),"y2"in o&&(o.y2=o.y2*n),"rx"in o&&(o.rx=o.rx*t),"ry"in o&&(o.ry=o.ry*n),o}))}(t.path,0!==s?l/s:1,0!==a?c/a:1),e.data={...e.data,path:e.path})}function Q6e({stateId:e,objectOverride:t,objectRoot:n,newParentWidth:i,newParentHeight:r,initialParentWidth:o,initialParentHeight:s}){let a=t.states?.[e],l=n.states?.[e];if(a&&l){let{width:c,height:d,position:h}=dQ({constraints:t.data,newParentWidth:i,newParentHeight:r,initialParentWidth:o,initialParentHeight:s,objectInitialWidth:r0.isResizeable(l)?l.width:0,objectInitialHeight:r0.isResizeable(l)?l.height:0,objectInitialPosition:l.position});Object.assign(t.states[e],{position:h}),r0.isResizeable(a)&&Object.assign(t.states[e],{width:c,height:d})}}function JR(e){return e instanceof Mx||e instanceof Iu||e instanceof qR||e instanceof YR}var Ua=class extends(gk(lu)){constructor(e,t,n){super(),this.data=t,this.bgColor=new al(1,1,1,1),this.fog=null,this.backupFog=new NV(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new gi,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new Ol(C1,{...V_.defaultData,...t.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new mPe(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight),t.uiScene?this.uiScene=new QR((Array.isArray(e)?e[0]:e)+"-ui",t.uiScene,{dpr:window.devicePixelRatio,shared:n.shared}):t.uiFrame&&this.createUICanvas(t.uiFrame,n)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}get frameId(){return this.data.uiFrame}get frame(){return this.uiCanvas?.frame}createUICanvas(e,t){this.uiCanvas=new uQ(this.uuid+"-uiscreen",window.innerWidth,window.innerHeight,t),this.uiCanvas.isScreenSpace=!0,this.uiCanvas.promise.then(()=>{this.uiCanvas?.applyFrame(e),this.uiCanvas?.applySize()})}updateVisible(){}setBackgroundColor(e){this.bgColor=e,!0===this.fogUseBGColor&&(this.backupFog.color=e)}entityChildrenCount(){return this.uiScene?this.uiScene.children.length:super.entityChildrenCount()}updateAmbientLight(e,t){void 0!==e.color&&(this.ambientLight.color=Ql(e.color,t)),void 0!==e.intensity&&(this.ambientLight.intensity=e.intensity),void 0!==e.enabled&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity(t=>{t instanceof m0&&t.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(e=>{if(e instanceof iy)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()})}updateShadow(e){void 0!==e.softShadowQuality&&this.isActive&&((e="medium")=>{if(z$===e)return!1;z$=e;let t=(e=>{switch(e){case"low":return 8;case"medium":default:return 16;case"high":return 32}})(e);ir.shadowmap_pars_fragment=(e=>`\n\n// PCSS implementation based on:\n// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/\n// NOTE: This number affects how big the shadow blur can\n// possibly get. Bigger number == bigger blur, but less precise results\n\nconst float  gPenumbraFilterSize = 80.0;\nconst int   gPenumbraSamples = ${e};\nconst int gShadowSamples = ${e};\nconst float gShadowSamplesRpc = 1.0f / float(gShadowSamples);\n\n#ifdef USE_SHADOWMAP\n    #if NUM_DIR_LIGHT_SHADOWS > 0\n\n        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n        struct DirectionalLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n        };\n\n        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\n    #endif\n\n    #if NUM_SPOT_LIGHT_SHADOWS > 0\n\n        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n        struct SpotLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n        };\n\n        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\n    #endif\n\n    #if NUM_POINT_LIGHT_SHADOWS > 0\n\n        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n        struct PointLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n            float shadowCameraNear;\n            float shadowCameraFar;\n        };\n\n        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\n    #endif\n\n    /*\n    #if NUM_RECT_AREA_LIGHTS > 0\n\n        // TODO (abelnation): create uniforms for area light shadows\n\n    #endif\n    */\n\nfloat computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)\n{\n    float penumbra = 1.0;\n    float blockerDepthAvg = 0.0;\n    float blockerCount = 0.0;\n\n    #pragma unroll_loop_start\n    for(int i = 0; i < gPenumbraSamples; i ++)\n    {\n        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;\n        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );\n\n        if(depth < compare + 0.0001)\n        {\n            blockerDepthAvg += depth;\n            blockerCount++;\n        }\n    }\n    #pragma unroll_loop_end\n\n    if (blockerCount > 0.0)\n    {\n        blockerDepthAvg /= blockerCount;\n\n        // Compute penumbra\n        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);\n        penumbra *= penumbra;\n        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows\n\n        return clamp(penumbra, 0.00, 1.0);\n    }\n    return 0.0;\n}\n\nfloat vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)\n{\n    float shadow         = 0.0f;\n\n    // NOTE: When using TAA, we should use screen space interleaved gradient noise\n    vec2 halton = haltonSequence[frameIndex];\n    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n    float temporalAngle  = temporalOffset * PI2;\n\n    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);\n    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);\n    if (penumbra == -1.0) {\n        return 1.0;\n    }\n\n    #pragma unroll_loop_start\n    for (int i = 0; i < gShadowSamples; i++)\n    {\n        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n        // Overall blurring offset\n        vec2 offset = vogelSample * (shadowRadius * 2.);\n\n        // Penumbra offset\n        offset += vogelSample * (penumbra * texelScalar);\n\n        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );\n    }\n    #pragma unroll_loop_end\n\n    return shadow * gShadowSamplesRpc;\n}\n\n\n    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n    }\n\n    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\n        return unpackRGBATo2Half( texture2D( shadow, uv ) );\n\n    }\n\n    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\n        float occlusion = 1.0;\n\n        vec2 distribution = texture2DDistribution( shadow, uv );\n\n        float hard_shadow = step( compare , distribution.x ); // Hard Shadow\n\n        if (hard_shadow != 1.0 ) {\n\n            float distance = compare - distribution.x ;\n            float variance = max( 0.00000, distribution.y * distribution.y );\n            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality\n            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed\n            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\n        }\n        return occlusion;\n\n    }\n\n    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n        float shadow = 1.0;\n\n        shadowCoord.xyz /= shadowCoord.w;\n        shadowCoord.z += shadowBias;\n\n        // if ( something && something ) breaks ATI OpenGL shader compiler\n        // if ( all( something, something ) ) using this instead\n\n        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n        bool inFrustum = all( inFrustumVec );\n\n        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n        bool frustumTest = all( frustumTestVec );\n\n        if ( frustumTest ) {\n\n        #if defined( SHADOWMAP_TYPE_PCF )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n            float dx = texelSize.x;\n            float dy = texelSize.y;\n\n            vec2 uv = shadowCoord.xy;\n            vec2 f = fract( uv * shadowMapSize + 0.5 );\n            uv -= f * texelSize;\n\n            shadow = (\n                texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n                     f.x ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n                     f.x ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n                     f.y ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n                     f.y ) +\n                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n                          f.x ),\n                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n                          f.x ),\n                     f.y )\n            ) * ( 1.0 / 9.0 );\n\n        #elif defined( SHADOWMAP_TYPE_VSM )\n\n            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #else // no percentage-closer filtering:\n\n            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #endif\n\n        }\n\n        return shadow;\n\n    }\n\n    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n    // vector suitable for 2D texture mapping. This code uses the following layout for the\n    // 2D texture:\n    //\n    // xzXZ\n    //  y Y\n    //\n    // Y - Positive y direction\n    // y - Negative y direction\n    // X - Positive x direction\n    // x - Negative x direction\n    // Z - Positive z direction\n    // z - Negative z direction\n    //\n    // Source and test bed:\n    // https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n    vec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n        // Number of texels to avoid at the edge of each square\n\n        vec3 absV = abs( v );\n\n        // Intersect unit cube\n\n        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n        absV *= scaleToCube;\n\n        // Apply scale to avoid seams\n\n        // two texels less per square (one texel will do for NEAREST)\n        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n        // Unwrap\n\n        // space: -1 ... 1 range for each square\n        //\n        // #X##         dim    := ( 4 , 2 )\n        //  # #         center := ( 1 , 1 )\n\n        vec2 planar = v.xy;\n\n        float almostATexel = 1.5 * texelSizeY;\n        float almostOne = 1.0 - almostATexel;\n\n        if ( absV.z >= almostOne ) {\n\n            if ( v.z > 0.0 )\n                planar.x = 4.0 - v.x;\n\n        } else if ( absV.x >= almostOne ) {\n\n            float signX = sign( v.x );\n            planar.x = v.z * signX + 2.0 * signX;\n\n        } else if ( absV.y >= almostOne ) {\n\n            float signY = sign( v.y );\n            planar.x = v.x + 2.0 * signY + 2.0;\n            planar.y = v.z * signY - 2.0;\n\n        }\n\n        // Transform to UV space\n\n        // scale := 0.5 / dim\n        // translate := ( center + 0.5 ) / dim\n        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n    }\n\n    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n        float shadow = 1.0;\n        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n        // for point lights, the uniform @vShadowCoord is re-purposed to hold\n        // the vector from the light to the world-space position of the fragment.\n        vec3 lightToPosition = shadowCoord.xyz;\n\n        // dp = normalized distance from light to fragment position\n        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n        compare += shadowBias;\n\n        // bd3D = base direction 3D\n        vec3 bd3D = normalize( lightToPosition );\n\n        vec2 halton = haltonSequence[frameIndex];\n        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n        float temporalAngle  = temporalOffset * PI2;\n\n        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )\n            for (int i = 0; i < gShadowSamples; i++) {\n                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n\n                // Overall blurring offset\n                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);\n\n                // NOTE: Removed for now\n                // Penumbra offset\n                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);\n\n                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );\n\n            }\n            return shadow * gShadowSamplesRpc;\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n            for (int i = 0; i < 16; i++) {\n                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n\n                // Overall blurring offset\n                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);\n\n                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );\n\n            }\n            return shadow * (1.0 / 16.0);\n        #else // no percentage-closer filtering\n\n            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );\n\n        #endif\n\n    }\n\n#endif\n`)(t);let n=d6e.slice();n=n.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),n=n.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),ir.lights_fragment_begin=n;let i=h6e.slice();return i=i.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),ir.shadowmask_pars_fragment=i,!0})(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){this.fog=e.enabled?this.backupFog:null,this.isActive&&(this.scene.fog=this.fog),this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=Ql(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){void 0!==e.aoColor&&(this.aoColor=Ql(e.aoColor,t))}updateByOp(e,t,n,i){let r=this.data.uiFrame;super.updateByOp(e,t,n,i);let o=t;Io(e.path,["fog"])?this.updateFog(o.fog,n.shared):Io(e.path,["ao"])?this.updateAo(o.ao,n.shared):Io(e.path,["ambient"])?this.updateAmbientLight(o.ambient,n.shared):Io(e.path,["shadow"])?this.updateShadow(o.shadow):0===e.type&&0===e.path.length&&(void 0!==e.props.uiFrame||r!==o.uiFrame)&&this.updateUIFrame(e.props.uiFrame,n)}updateUIFrame(e,t){e?(this.uiCanvas||this.createUICanvas(e,t),this.uiCanvas.enabled=!0,this.uiCanvas.applyFrame(e)):this.uiCanvas&&(this.uiCanvas.enabled=!1)}updateState(e,t){this.updateState_Entity(e,t),void 0!==e.backgroundColor&&this.setBackgroundColor(Ql(e.backgroundColor,t.shared)),void 0!==e.fog&&this.updateFog(e.fog,t.shared),void 0!==e.ambient&&this.updateAmbientLight(e.ambient,t.shared),void 0!==e.ao&&this.updateAo(e.ao,t.shared),void 0!==e.shadow&&this.updateShadow(e.shadow)}createFrame(e,t){}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){return this.scene?.find(this.data.publish.playCamera)??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return null===this.penumbraSizeArrayCache&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity(n=>{if(!n.visible)return!0;n instanceof q$&&n.visible&&e<3&&(this.penumbraSizeArrayCache[e]=n.data.penumbraSize??.5,e+=1),n instanceof Q$&&n.visible&&e<2&&(this.penumbraSizeArrayCache[3+t]=n.data.penumbraSize??.5,t+=1)})}raycastWithClones(e){let t=[],n=i=>{for(let r of i.children){let o=r.cloner;Dr.is(r)&&(r.visible||o?.object.data.visible)&&((_h(r)||ER(r)&&this.scene.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),a4(r,e,t,!0)),n(r))}};return n(this),t}updateEntity2DByOp(e,t,n,i){this.uiCanvas?.updateEntity2DByOp(e,t,n,i)}},K6e=class extends(SR(bPe,H$)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=90,i.aspect=1,i.near=100,i.far=2500;let r=new ie(-i.far+this.position.x,-i.far+this.position.y,-i.far+this.position.z),o=new ie(i.far+this.position.x,i.far+this.position.y,i.far+this.position.z),s=new As(r,o),a=new iP(s,new gi(16755200));a.visible=!1,this.gizmos.shadowmap=a,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof iP){let n=this.shadow.camera,i=new ie(-n.far+this.position.x,-n.far+this.position.y,-n.far+this.position.z),r=new ie(n.far+this.position.x,n.far+this.position.y,n.far+this.position.z);t.box.set(i,r),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},Z6e=class extends Pl{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Wk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},e4=class extends Pl{constructor(e,t,n){super(e,t,n),this._shapeId=null,this._context=n}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){let t,e={...this.data.geometry.extrusion.shape};for(let i in e)"string"==typeof e[i]&&(e[i]=this._context.shared.getVariable(e[i],[this.uuid,"geometry","extrusion","shape",i]));if("Custom"===e.type){let i=e.shapeId;if(i!==this._shapeId&&this.detachShape(),i){this._shapeId=i;let r=this._context.scene.find(i);r?.data&&(r.attachedPaths.add(this),t=r.geometry.userData?.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let i;switch(e.type){case"Rectangle":i=Bk;break;case"Ellipse":i=Tk;break;case"Polygon":i=TY;break;case"Star":i=IY;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=i.create({parameters:e}).userData.shape}let n=this.geometry;t&&n.inputs&&(n.inputs.shapeData=t,n.build(),this.attachedSurfaceCloners.forEach(i=>i.update()))}detachShape(){null!==this._shapeId&&this._context.scene.find(this._shapeId)?.attachedPaths.delete(this)}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Wk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},t4=class extends yR{constructor(e,t,n){super(e,t,n),this.data=t}},dy=class extends(oy(Sp,xx)){constructor(e,t,n){super(),"Instance"===t.type&&"string"==typeof e&&(t=this.transformAssignData(t,n)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return"Component"===this.data.type&&"string"==typeof this.identity}get isInstanceRoot(){return"Instance"===this.data.type&&"string"==typeof this.identity}transformAssignData(e,t){let n=ZP.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(n){let i,r;for(let o of em.rootOverrideProps)void 0===e[o]?(void 0===i&&(i={...e}),i[o]=n.data[o]):(void 0===r&&(r={}),r[o]=e[o],void 0===i&&(i={...e}),i[o]=$f.apply(n.data[o],e[o]));return this.overrideData=r,i}return{...Fa.defaultData,...e,...pu(Fa.defaultData,em.rootOverrideProps)}}updateByOp(e,t,n,i){let r;if(this.isInstanceRoot&&!i)if(t=this.transformAssignData(t,n),0===e.type&&0===e.path.length&&this.component)for(let o of em.rootOverrideProps)o in e.props&&void 0===e.props[o]&&(void 0===r&&(r={...e,props:{...e.props}}),r.props[o]=this.component.data[o]);else if(0===e.type&&e.path.length>0&&em.rootOverrideProps.includes(e.path[0])){let o=e.path[0];void 0===r&&(r={...e,path:[],props:{[o]:t[o]}})}super.updateByOp(r??e,t,n,i)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(void 0===this.component){let n=e.scene.find(t.component)??null,i=!1;if(n!==this.oldComponent){if(this.oldComponent){let r=0;for(let o of this.children){if(!Dr.is(o))break;e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(o),n4(o),r+=1}this.children.splice(0,r)}i=!0}if(n){let r={};mQ(e,[this.uuid],t.overrides,this,n,n,0,i,r);for(let o of this.children)if(Dr.is(o)){let s=o.data;"Empty"===s.type&&s.animations&&o.traverseEntity(a=>{let l=a.dataPatched;if(a instanceof Pl&&l.bones&&l.boneInverses){let c=a.dataPatched;if(c.bones&&c.boneInverses){let d=c.bones.map(g=>e.scene.find(r[g])),h=c.boneInverses.map(g=>(new Kt).fromArray(g)),p=new JT(d,h);a.bind(p,a.bindMatrix)}}else a.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function n4(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let n of e.children)Dr.is(n)&&n4(n)}}function fQ(e,t,n,i){return e.component===t&&Y3(e.identity,i)?e.overrideData===n?2:1:0}function mQ(e,t,n,i,r,o,s,a,l){if(s>50)return!1;if(i.component!==r){if(i.component){let d=i.component.instances.indexOf(i);d>=0&&i.component.instances.splice(d,1)}r.instances.find(d=>d===i)||r.instances.push(i),i.component=r}r instanceof dy&&r.isInstanceRoot&&r.expandInstanceChildren(e);let c=0;for(let d of r.children)if(Dr.is(d)){let h=[...t,..."string"==typeof d.identity?[d.identity]:d.identity],p=XP.resolve(n,h,1);null!=p&&!(p instanceof Ks)&&(Object.setPrototypeOf(p,Ks.prototype),console.error("wrong prototype"));let v,g=null;if(!a){let y=i.children[c];if(g=Dr.is(y)?y:null,null!==g){let b=fQ(g,d,p,h);v=b>=1?g.stateSelection:void 0,2!==b&&(g=null)}if(null===g&&(g=e.scene.findInstance(h)??null,null!==g)){let b=fQ(g,d,p,h);if(v=b>=1?g.stateSelection:void 0,2!==b)g=null;else{let P=g.parent.children.indexOf(g);g.parent.children.splice(P,1),i.children.splice(c,0,g),g.parent===i?P<=c&&console.error("not possible"):(g.parent=i,g.matrixWorldNeedsUpdate=!0,g.resetBBoxNeedsUpdate(),g.updateVisible(),e.pendingDeletes.delete(g))}}}if(null===g){let y=p?$f.apply(d.data,p):d.data;Qg.is(y.type)&&(y={...y,type:"Empty"}),g=lm.createEntity(h,y,e),g.overrideData=p,i.add(g),i.children.splice(i.children.length-1,1),i.children.splice(c,0,g),g.updateState(g.data,e),v&&g.changeSelectedState(v,e),e.scene.registerInstanceAndSetUuid(g)}g.isBone&&(l[g.identity[g.identity.length-1]]=g.uuid),c+=1,mQ(e,t,n,g,d,o,s+1,a,l)}if(!a){let d=c;for(;;){let h=i.children[c];if(!Dr.is(h))break;e.pendingDeletes.add(h),c+=1}i.children.splice(d,c-d)}return!0}var J6e=class extends(oy(LV,xx)){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}},El=class extends Pl{constructor(e,t,n){super(e,t,n),this.onBeforeRender=i=>{this.uiCanvas.render(i)},this.uiCanvas=new uQ(e+"-canvas",t.geometry.width,t.geometry.height,n),this.uiCanvas.promise.then(()=>{this.applyFrame(this.dataPatched.geometry.frame,n.shared)})}updateByPatchedOpGeometry(e,t,n){super.updateByPatchedOpGeometry(e,t,n),0===e.type&&(void 0!==e.props.frame&&this.applyFrame(e.props.frame,n.shared),(void 0!==e.props.width||void 0!==e.props.height)&&this.applySize(e.props,n.shared))}applySize(e,t){this.uiCanvas.applySize({width:e?.width??this.dataPatched.geometry.width,height:e?.height??this.dataPatched.geometry.height}),this.applyGeometryParametersFromFrame(t)}applyFrame(e,t){this.uiCanvas.applyFrame(e),this.applyGeometryParametersFromFrame(t),this.applyMaterialParametersFromFrame({shared:t})}applyGeometryParametersFromFrame(e){let t=this.frame;t&&(Object.assign(this.data,{geometry:Object.assign(this.data.geometry,{cornerRadius:t.cornerRadius,cornerType:0})}),Object.assign(this.dataPatched,{geometry:Object.assign(this.dataPatched.geometry,{cornerRadius:t.cornerRadius,cornerType:0})}),this.localGeometry?.dispose(),this.localGeometry=cx(this.dataPatched.geometry,e,this.data.flatShading,this))}applyMaterialParametersFromFrame(e){let t=this.frame;if(t){let n=t.data.backgroundBlur;Object.assign(this.data.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.data.material.layers[1].data,{roughness:n.radius,alpha:n.enabled?1:0}),Object.assign(this.dataPatched.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.dataPatched.material.layers[1].data,{roughness:n.radius,alpha:n.enabled?1:0}),this.material.reset(this.dataPatched.material,e,!0)}}updateEntity2DByOp(e,t,n,i){this.uiCanvas.updateEntity2DByOp(e,t,n,i),e===this.frameId&&0===t.type&&(void 0!==t.props.cornerRadius?this.applyGeometryParametersFromFrame(i):Io(t.path,["backgroundBlur"])&&this.applyMaterialParametersFromFrame({shared:i}))}get frame(){return this.uiCanvas.frame}get frameId(){return this.frame?.uuid}removeInteractionGeometry(e){super.removeInteractionGeometry(e),this.applySize({},e)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.applySize({width:e.width,height:e.height},t)}},ll=new tl,iO=new ie;function gQ(e,t){let n=e,i=new Float32Array(4*t*t);for(let o=0;o<t*t;o++)i[4*o]=n[3*o],i[4*o+1]=n[3*o+1],i[4*o+2]=n[3*o+2],i[4*o+3]=0;let r=new Od(i,t,t,Ia,Ys);return r.needsUpdate=!0,r}var vQ="\n\n  // Linear Fade In\n  float linearFadeIn(float t) {\n    return t;\n  }\n\n\n  // linear fade out\n  float linearFadeOut(float t) {\n    return 1.0 - t;\n  }\n  \n  float linearInOut(float t) {\n    return t < 0.5 ? t :  (1.0 - t);  \n  }\n\n    // lerp\n    float lerp(float a, float b, float t) {\n      return a + (b - a) * t;\n    }\n\n  // Ease In Out Quart\n  float exponentialInOut(float t) {\n    return t < 0.4 ? lerp(0.0, 1.0, t / 0.4) :\n    t > 0.6 ? lerp(1.0, 0.0, (t - 0.6) / 0.4) :\n    1.0;\n   }\n\n  // constant\n  float constant(float t) {\n    return 1.0;\n  } \n",mze=`\n  uniform sampler2D uPosition;\n  uniform float uSize;\n  uniform float uSizeEnd;\n  uniform vec3 uWorldOffset;\n  uniform vec4 uWorldQuaternion;\n  // Billboard Behavior - Currently at Zero, but we can change that\n  uniform float uRotation;\n  uniform float uRotationEnd;\n  uniform vec2 center;\n\n  // Randomness\n  uniform float uRandScaleFactor;\n  uniform float uRandRotationFactor;\n\n  attribute vec2 ref;\n\n  varying float v_LifeLeft;    // normalized lifetime 1 to 0\n  varying vec2 vUv;\n  varying vec2 vRef;\n\n  \n\nfloat rand(vec3 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 applyQuaternionToVector( vec4 q, vec3 v ){\n  return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n}\n\nvec3 applyForce(vec3 force, float mass) {\n  vec3 acceleration = force / mass;\n    \n  return acceleration;\n}\n\n  ${vQ}\n`,vze="\n  uniform vec4 uColor;                // start color\n  uniform vec4 uColor2;               // end color\n  uniform sampler2D uTexture;         // texture\n  varying float v_LifeLeft;   // normalized lifetime 1 to 0\n  varying vec2 vUv;\n  varying vec2 vRef;\n\n  float random(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n  }\n  "+vQ+"  \n  \nvec3 rgb2xyz (in vec3 rgb) {\n    float r = rgb.r;\n\tfloat g = rgb.g;\n\tfloat b = rgb.b;\n\n\tr = r > 0.04045 ? pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tfloat x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tfloat y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tfloat z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n    \n    vec3 xyz = vec3(\n        (r * 0.4124) + (g * 0.3576) + (b * 0.1805) * 100.0,\n        (r * 0.2126) + (g * 0.7152) + (b * 0.0722) * 100.0,\n        (r * 0.0193) + (g * 0.1192) + (b * 0.9505) * 100.0\n    );\n    return(xyz);\n}\n\nvec3 xyz2lab (in vec3 xyz) {\n\tfloat x = xyz.x / 95.047;\n\tfloat y = xyz.y / 100.0;\n\tfloat z = xyz.z / 108.883;\n\n\tx = x > 0.008856 ? pow(x, 1.0 / 3.0) : (7.787 * x) + (16.0 / 116.0);\n\ty = y > 0.008856 ? pow(y, 1.0 / 3.0) : (7.787 * y) + (16.0 / 116.0);\n\tz = z > 0.008856 ? pow(z, 1.0 / 3.0) : (7.787 * z) + (16.0 / 116.0);\n\n    vec3 lab = vec3((116.0 * y) - 16.0, 500.0 * (x - y), 200.0 * (y - z));\n    return(lab);\n}\n\nvec3 rgb2lab(in vec3 rgb) {\n    vec3 xyz = rgb2xyz(rgb);\n    vec3 lab = xyz2lab(xyz);\n    return(lab);\n}\n\nvec3 xyz2rgb (in vec3 xyz) {\n\tfloat x = xyz.x / 100.0;\n\tfloat y = xyz.y / 100.0;\n\tfloat z = xyz.z / 100.0;\n\t\n    \n\tfloat r = (x *  3.2406) + (y * -1.5372) + (z * -0.4986);\n\tfloat g = (x * -0.9689) + (y *  1.8758) + (z *  0.0415);\n\tfloat b = (x *  0.0557) + (y * -0.2040) + (z *  1.0570);\n\n\tr = r > 0.0031308 ? ((1.055 * pow(r, 1.0 / 2.4)) - 0.055) : r * 12.92;\n\tg = g > 0.0031308 ? ((1.055 * pow(g, 1.0 / 2.4)) - 0.055) : g * 12.92;\n\tb = b > 0.0031308 ? ((1.055 * pow(b, 1.0 / 2.4)) - 0.055) : b * 12.92;\n\n\tr = min(max(0.0, r), 1.0);\n\tg = min(max(0.0, g), 1.0);\n\tb = min(max(0.0, b), 1.0);\n\n\treturn(vec3(r, g, b));\n}\n\nvec3 lab2xyz (in vec3 lab) {\n    float l = lab.x;\n\tfloat a = lab.y;\n\tfloat b = lab.z;\n\n  \tfloat y = (l + 16.0) / 116.0;\n\tfloat x = a / 500.0 + y;\n\tfloat z = y - b / 200.0;\n\n\tfloat y2 = pow(y, 3.0);\n\tfloat x2 = pow(x, 3.0);\n\tfloat z2 = pow(z, 3.0);\n\n  \ty = y2 > 0.008856 ? y2 : (y - 16.0 / 116.0) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16.0 / 116.0) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16.0 / 116.0) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100.0;\n\tz *= 108.883;\n\n\treturn(vec3(x, y, z));\n}\nvec3 lab2rgb (in vec3 lab) {\n    vec3 xyz = lab2xyz(lab);\n    vec3 rgb = xyz2rgb(xyz);\n    return(rgb);\n}\n\n\n\n",bze=class extends Qr{constructor(e,t){super(),this.needsJitter=!0,this.type="ParticleMaterial",this.easeOpacity="linearFadeIn",this.easeSize="linearFadeIn",this.useSizeEnd=!1,this.isColoringRandom=!1,this.init(e,t),this.context=t}reset(){}init(e,t){this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.easeOpacity=e.ease,this.easeSize=e.easeSize,this.layers=[],ba.startContext(ba.globalContext),this.lightLayer=new Su(0,"",{...La.defaultData("light","phong"),visible:!1},new eR,{},t.shared),ba.endContext(ba.globalContext),this.build()}updateState(e){void 0!==e.coloring&&(this.isColoringRandom="random"===e.coloring),void 0!==e.color&&(this.uniforms.uColor.value=e.color instanceof Array?e.color:this.context.shared.color(e.color)),void 0!==e.color2&&(this.uniforms.uColor2.value=e.color2 instanceof Array?e.color2:this.context.shared.color(e.color2)),void 0!==e.size&&(this.uniforms.uSize.value=e.size[0],this.uniforms.uSizeEnd.value=e.size[1],this.useSizeEnd=e.size[0]!==e.size[1]),void 0!==e.ease&&(this.easeOpacity=e.ease,this.build()),void 0!==e.easeSize&&(this.easeSize=e.easeSize,this.build()),this.needsUpdate=!0}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader}build(){let e=new iX;return e.needsJitter=this.needsJitter,e.addFragmentParsCode("\nlayout(location = 1) out vec4 gVelocity;\n"),e.buildShader("vertex",this.fragment),e.buildShader("fragment",this.fragment),e.addFragmentFinalCode("\n    // Discard fully transparent pixels \n    if (gl_FragColor.a <= 0.0) discard;\n\n    gVelocity = vec4(0.0, 0.0, 0.0, 1.0);\n"),this.isColoringRandom&&e.define("USE_RANDOM_COLORING"),this.useSizeEnd&&e.define("USE_SIZE_END"),e.addVertexParsCode(mze),e.addFragmentParsCode(vze),e.addVertexFinalCode((({easeSize:e="linearFadeOut"})=>`\n  vUv = uv;  \n  vRef = ref;\n  // Normalized LifeTime 1 to 0\n  float lifeLeft = texture2D(uPosition, ref).w;\n  v_LifeLeft = lifeLeft;\n  // Position From DataTexture Simulation\n  vec3 pos = texture2D(uPosition, ref).rgb - uWorldOffset;\n  // Apply World Quaternion\n  pos = applyQuaternionToVector(uWorldQuaternion, pos);  \n            \n  #ifdef  USE_SIZE_END\n    // Scaled Over Time\n    float t = 1. - lifeLeft;\n    float currentSize = mix(uSize, uSizeEnd, t); // Linearly interpolate between uSize and uSizeEnd\n    vec3 scaledPosition = position * vec3(currentSize);\n  #else\n    // Change Size Behavior over LifeTime\n    float easeSize = ${e}(1. - lifeLeft);\n    // Scaled Over Time\n    vec3 scaledPosition = position * vec3(uSize * easeSize);\n  #endif\n\n  // Billboard Behavior\n  vec2 scale;\n  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );    \n  // Randomness \n  float randRef = rand(ref);\n  scale *= (1.0 - (uRandScaleFactor * randRef));\n  // Rotation\n  float randRotation =  2.0 * PI * ( uRandRotationFactor * randRef);\n  float originalRotation = (1.0 - uRotation) * 2.0 * PI;\n  float originalRotationEnd = (1.0 - uRotationEnd) * 2.0 * PI;\n  // OverTime\n  float finalRotation = mix(originalRotation + randRotation, originalRotationEnd + randRotation, lifeLeft);\n\n  vec2 alignedPosition = ( scaledPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;\n  vec2 rotatedPosition;\n  rotatedPosition.x = cos( finalRotation ) * alignedPosition.x - sin( finalRotation ) * alignedPosition.y;\n  rotatedPosition.y = sin( finalRotation ) * alignedPosition.x + cos( finalRotation ) * alignedPosition.y;\n  \n  mat4 instanceMatrix = mat4(\n    vec4(1.0, 0.0, 0.0, 0.0),\n    vec4(0.0, 1.0, 0.0, 0.0),\n    vec4(0.0, 0.0, 1.0, 0.0),\n    vec4(pos.x, pos.y, pos.z, 1.0)\n  );  \n\n  mvPosition = modelViewMatrix * instanceMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n  mvPosition.xy += rotatedPosition;\n  gl_Position = projectionMatrix  * mvPosition;   \n`)({easeSize:this.easeSize})),e.addFragmentFinalCode((({easeOpacity:e="linearFadeOut"})=>`  \n  // if Particle is dead, hide it\n  if (v_LifeLeft <= 0.005 ) {\n    discard;\n  }\n\n  #ifdef USE_RANDOM_COLORING\n    float randVal = random(vRef); // Generate a random value based on the reference\n    vec4 color = mix(uColor, uColor2, randVal); // Interpolate between the two colors\n  #else\n    vec4 color = mix(uColor, uColor2, 1. - v_LifeLeft);\n  #endif\n\n  // Opacity over Life Time\n  float finalAlpha = ${e}(1. - v_LifeLeft);  \n  vec4 textureColor = texture2D(uTexture, vUv).rgba; \n  finalColor = textureColor.rgb * color.rgb;\n  finalAlpha = color.a * textureColor.a * finalAlpha;\n  \n  gl_FragColor = vec4(finalColor, finalAlpha);     \n\n`)({easeOpacity:this.easeOpacity})),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms={...e.uniforms,...this.uniforms},this.extensions=e.extensions,this}get nodeMaterial(){return this}get fragment(){return this.lightLayer.node}getDefines(){return this.defines}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose()}},i4=class{constructor(e,t,n,i){this.type="SphereEmitterShape",this.targetMesh=void 0,this.size=e,this.type=n,this.textureSize=function ize(e){let t=Math.ceil(Math.sqrt(e));return Math.max(t,1)}(t),this.targetMesh="Mesh"===i?.type&&i?i:this.getMesh(n,1);let{positions:o,dataTexture:s,dataTextureNormals:a}=this.createPositions(this.textureSize,this.targetMesh??this.getMesh(n,1));this.positionsTexture=s,this.positionsAttribute=o,this.directionsTexture=a}createPositions(e,t){let{positions:n,normals:i}=function rze(e,t){let n=new hs(e.geometry,e.material),i=[],r=[],o=new ie,s=new ie;null!==n.geometry.index&&(n.geometry=n.geometry.toNonIndexed());let a=new class{constructor(e){let t=e.geometry;if(!t.isBufferGeometry||3!==t.attributes.position.itemSize)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){let e=this.positionAttribute,t=this.weightAttribute,n=new Float32Array(e.count/3);for(let r=0;r<e.count;r+=3){let o=1;t&&(o=t.getX(r)+t.getX(r+1)+t.getX(r+2)),ll.a.fromBufferAttribute(e,r),ll.b.fromBufferAttribute(e,r+1),ll.c.fromBufferAttribute(e,r+2),o*=ll.getArea(),n[r/3]=o}this.distribution=new Float32Array(e.count/3);let i=0;for(let r=0;r<n.length;r++)i+=n[r],this.distribution[r]=i;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t,n){let i=this.distribution[this.distribution.length-1],r=this.binarySearch(this.randomFunction()*i);return this.sampleFace(r,e,t,n)}binarySearch(e){let t=this.distribution,n=0,i=t.length-1,r=-1;for(;n<=i;){let o=Math.ceil((n+i)/2);if(0===o||t[o-1]<=e&&t[o]>e){r=o;break}e<t[o]?i=o-1:n=o+1}return r}sampleFace(e,t,n,i){let r=this.randomFunction(),o=this.randomFunction();return r+o>1&&(r=1-r,o=1-o),ll.a.fromBufferAttribute(this.positionAttribute,3*e),ll.b.fromBufferAttribute(this.positionAttribute,3*e+1),ll.c.fromBufferAttribute(this.positionAttribute,3*e+2),t.set(0,0,0).addScaledVector(ll.a,r).addScaledVector(ll.b,o).addScaledVector(ll.c,1-(r+o)),void 0!==n&&ll.getNormal(n),void 0!==i&&void 0!==this.colorAttribute&&(ll.a.fromBufferAttribute(this.colorAttribute,3*e),ll.b.fromBufferAttribute(this.colorAttribute,3*e+1),ll.c.fromBufferAttribute(this.colorAttribute,3*e+2),iO.set(0,0,0).addScaledVector(ll.a,r).addScaledVector(ll.b,o).addScaledVector(ll.c,1-(r+o)),i.r=iO.x,i.g=iO.y,i.b=iO.z),this}}(n).build();for(let d=0;d<t;d++)a.sample(o,s),i.push(o.x,o.y,o.z),r.push(s.x,s.y,s.z);return{positions:new Float32Array(i),normals:new Float32Array(r)}}(t,e*e);return{dataTexture:gQ(n,e),positions:n,dataTextureNormals:gQ(i,e)}}getMesh(e,t){let n=null;switch(e){case"SphereEmitterShape":n=new l1(.5*t,32,32);break;case"TorusEmitterShape":n=new rH(.5*t,.3,15,40);break;case"ConeEmitterShape":n=new l3(t,t,15);break;case"BoxEmitterShape":n=new dh(t,t,t);break;case"PlaneEmitterShape":n=new Op(t,t),n.rotateX(-Math.PI/2);break;default:n=new l1(t,32,32)}return new hs(n,new Pp({color:16711680}))}applyToShader(e,t){this.size=(new ie).fromArray(t.size),e.uEmitterSize.value=this.size}dispose(){this.positionsTexture.dispose(),this.directionsTexture.dispose(),this.positionsAttribute=new Float32Array}};function hy(e){let t={...e},n=VP.defaultData;t.forceFieldObjectId&&(t.colliderEntityId=t.forceFieldObjectId);let i={...n.shape,...t.shape},r={...n.renderMaterial,...t.renderMaterial};return{...n,...t,shape:i,renderMaterial:r}}var xze=class extends uo{constructor(e,t){super(),this.type="ParticleEmitter",this.debugMode=!1,this.worldSpace=!0,this.rootObject=null,this.gpuCompute=null,this.positionSimRT=null,this.velocitySimRT=null,this.emissionRateSimRT=null,this.emitterShape=void 0,this.isEmitting=!1,this.hasBeenReset=!1,this.emittedParticlesAmount=0,this.lastEmitTime=0,this.globalTime=0,this.targetFPS=60,this.previousRatio=1,this.lerpFactor=.4,this.particlesAmount=0,this.noiseStrength=0,this.noiseScale=0,this.isBillboardBased=!0,this.simFeaturesDefinition={USE_COLLIDER:!1,USE_ATTRACTOR:!1,USE_VORTEX:!1,USE_SPHERE_COLLIDER:!1,USE_BOX_COLLIDER:!1,USE_FORCE_LOCAL_SPACE:!1,USE_NORMALS:!1,USE_CURL_NOISE:!0,USE_SIMPLEX_NOISE:!1,USE_FBM_NOISE:!1},this.textureLoader=new fPe,this.currentWorldPosition=new ie,this.systemQuaternion=new Ri,this.worldGravity=new ie(0,0,0),this.directionAxis=new ie(0,0,0),this.colliderV3=new ie(0,0,0),this.colliderQuaternion=new Ri(0,0,0,1),this.matrixAutoUpdate=!0,this.renderer=e,this.system=t,this.shared=t.context.shared;let n=t.data;this.material=new bze(n.renderMaterial,t.context),this.material.uniforms={uSize:{value:0},uSizeEnd:{value:0},uColor:{value:n.renderMaterial.color},uColor2:{value:n.renderMaterial.color2},uPosition:{value:new ie(0,0,0)},uEmissionData:{value:new ie(0,0,0)},uTexture:{value:this.defaultTexture},uWorldOffset:{value:new ie(0,0,0)},uWorldQuaternion:{value:new ki(0,0,0,1)},uRandScaleFactor:{value:n.randomScale??0},uRandRotationFactor:{value:n.randomRotation??0},uRotation:{value:n.renderMaterial.spriteRotation[0]??0},uRotationEnd:{value:n.renderMaterial.spriteRotation[1]??0}},this.setTexture(this.material.uniforms,n.renderMaterial.texture),this.init(n)}setTexture(e,t){let n=t.data;if("string"==typeof t){let i=this.shared.image(t),r=new ds(i.img);return r.needsUpdate=!0,void(e.uTexture.value=r)}if("string"!=typeof n){let i=new Image;i.onload=()=>{let s=new ds(i);s.needsUpdate=!0,e.uTexture.value=s};let r=new Blob([n],{type:"image/*"}),o=URL.createObjectURL(r);i.src=o}}updateGeometryAttributes(e,t){let n=function nze(e){let t=new Float32Array(e*e*2);for(let n=0;n<e;n++)for(let i=0;i<e;i++){let r=n*e+i;t[2*r+0]=n/(e-1),t[2*r+1]=i/(e-1)}return t}(t);!this.emitterShape?.positionsAttribute||e.geometry.setAttribute("ref",new p_(n,2))}applyWorldSpace(){if(!(this.system.started&&this.worldSpace&&this.positionSimRT&&this.velocitySimRT))return;let e=this.system;e.getWorldQuaternion(this.systemQuaternion),this.systemQuaternion.invert(),e.getWorldPosition(this.currentWorldPosition),this.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.positionSimRT.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.systemQuaternion.invert(),this.positionSimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.velocitySimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize())}update(e,t){if(!this.gpuCompute||!this.positionSimRT||!this.velocitySimRT||!this.emissionRateSimRT||this.hasBeenReset)return;if(this.checkIfAllParticlesAreDead()&&!this.hasBeenReset)return void this.reset();this.applyWorldSpace(),this.globalTime=e,this.positionSimRT.material.uniforms.uTime.value=e,this.emissionRateSimRT.material.uniforms.uTime.value=e;let r=this.previousRatio+(this.targetFPS/(1e3/t)-this.previousRatio)*this.lerpFactor;this.positionSimRT.material.uniforms.uFPSRatio.value=r,this.previousRatio=r;let o=this.isEmitting?this.GoEmitSomeParticles(e,this.system.data.birthRatePerSec):0;this.emissionRateSimRT.material.uniforms.uLastIndexEmitted.value=this.emittedParticlesAmount,this.emissionRateSimRT.material.uniforms.uParticlesToEmit.value=o,this.material.uniforms.uPosition.value=this.gpuCompute.getCurrentRenderTarget(this.positionSimRT)?.texture,this.system.colliderEntities.length>0&&this.renderColliders(),this.gpuCompute.compute()}renderColliders(){if(!this.velocitySimRT)return;let e=this.system.colliderEntities[0];e.destroyedInAction&&(this.simFeaturesDefinition.USE_COLLIDER||this.simFeaturesDefinition.USE_ATTRACTOR||this.simFeaturesDefinition.USE_VORTEX)&&this.init(hy({...this.system.data,colliderEntityId:null})),e&&!e.destroyedInAction&&(e.getWorldPosition(this.colliderV3),0===this.colliderV3.y&&(this.colliderV3.y=1e-4),this.velocitySimRT.material.uniforms.uColliderPos.value.copy(this.colliderV3),this.colliderV3.fromArray(e.data.size),this.velocitySimRT.material.uniforms.uColliderSize.value.copy(this.simFeaturesDefinition.USE_SPHERE_COLLIDER?this.colliderV3.multiplyScalar(.5):this.colliderV3),e.getWorldQuaternion(this.colliderQuaternion),this.velocitySimRT.material.uniforms.uColliderQuaternion.value.copy(this.colliderQuaternion.normalize()),this.velocitySimRT.material.uniforms.uColliderQuaternionInvert.value.copy(this.colliderQuaternion.normalize().invert()))}updateState(e){!this.velocitySimRT||!this.positionSimRT||(e.renderMaterial&&this.updateMaterialState(e.renderMaterial),this.updateParticleState(e))}updateVariableState(e,t){if(!this.velocitySimRT||!this.positionSimRT)return;"size"===t[2]&&this.material.updateState({size:[e,this.material.uniforms.uSizeEnd.value]}),"sizeEnd"===t[2]&&this.material.updateState({size:[this.material.uniforms.uSize.value,e]});let n=(i,r)=>{let o=[...this.system.data.shape.size];o[i]=r,this.updateParticleState({shape:{...this.system.data.shape,size:o}})};"shape_size_0"===t[2]&&n(0,e),"shape_size_1"===t[2]&&n(1,e),"shape_size_2"===t[2]&&n(2,e),"speed"===t[2]&&(this.velocitySimRT.material.uniforms.uSpeed.value=e/10),"gravity"===t[2]&&this.worldGravity.set(0,e/100,0),"noiseStrength"===t[2]&&(this.noiseStrength=e,this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),"noiseScale"===t[2]&&(this.noiseScale=e,this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),"direction_x"===t[2]&&(this.directionAxis=this.getDirectionAxis([Number(e),this.system.data.direction[1],this.system.data.direction[2]])),"direction_y"===t[2]&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],Number(e),this.system.data.direction[2]])),"direction_z"===t[2]&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],this.system.data.direction[1],Number(e)]))}updateMaterialState(e){this.material.updateState({...e,size:e.size?[Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","size"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","sizeEnd"]))]:[0,0]}),e.texture&&(this.setTexture(this.material.uniforms,e.texture),this.material.needsUpdate=!0)}updateParticleState(e){if(this.positionSimRT&&this.velocitySimRT){if(this.shouldReInitGPUCompute(e)&&this.init(hy(this.system.data)),void 0!==e.life&&(this.positionSimRT.material.uniforms.uMaxLifeTime.value=e.life),void 0!==e.speed&&(this.velocitySimRT.material.uniforms.uSpeed.value=Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/10),void 0!==e.collisionBounce&&(this.velocitySimRT.material.uniforms.uBounce.value=e.collisionBounce),void 0!==e.noiseStrength&&(this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),void 0!==e.noiseScale&&(this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"])),this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),void 0!==e.noiseSeed&&(this.velocitySimRT.material.uniforms.uNoiseSeed.value=e.noiseSeed),void 0!==e.randomMass&&(this.velocitySimRT.material.uniforms.uRandomMassFactor.value=e.randomMass),void 0!==e.renderMaterial?.size){let t=this.shared.getVariable(e.renderMaterial.size[0],[this.uuid,"particles","size"]);this.velocitySimRT.material.uniforms.particleSize.value=Number(t)}if(void 0!==e.renderMaterial?.spriteRotation&&(this.material.uniforms.uRotation.value=e.renderMaterial.spriteRotation[0],this.material.uniforms.uRotationEnd.value=e.renderMaterial.spriteRotation[1]),void 0!==e.shape){let t=e.shape.size??this.system.data.shape.size,n=[Number(this.shared.getVariable(t[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(t[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(t[2],[this.uuid,"particles","shape_size_2"]))],i={...hy(this.system.data).shape,size:n};this.emitterShape?.applyToShader(this.positionSimRT.material.uniforms,i)}if(void 0!==e.gravity&&(this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.velocitySimRT.material.uniforms.uGravity={value:this.worldGravity}),void 0!==e.direction){let t=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(t),this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis}void 0!==e.randomRotation&&(this.material.uniforms.uRandRotationFactor.value=e.randomRotation),void 0!==e.randomScale&&(this.material.uniforms.uRandScaleFactor.value=e.randomScale)}}updateForceFieldParameters(e){!this.velocitySimRT||(void 0!==e.forceIntensity&&(this.velocitySimRT.material.uniforms.uForceIntensity.value=e.forceIntensity),void 0!==e.forceDambing&&(this.velocitySimRT.material.uniforms.uForceDamping.value=e.forceDambing))}getDirectionAxis(e){let t=[Number(e[0])*Ln.DEG2RAD,Number(e[1])*Ln.DEG2RAD,Number(e[2])*Ln.DEG2RAD],n=new fa(t[0],t[1],t[2],"XYZ");return this.directionAxis.set(0,1,0).applyEuler(n).normalize(),this.velocitySimRT&&(this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis),this.directionAxis}shouldReInitGPUCompute(e){let{birthRatePerSec:t,rootObjectType:n,colliderEntityId:i,shape:r,emitTimeDuration:o,emitTimeCycle:s,life:a,directionMode:l,noiseType:c}=e;return void 0!==t||void 0!==n||i||null===i||void 0!==s||void 0!==r||void 0!==a||void 0!==o||void 0!==l||void 0!==c}init(e){this.dispose(),this.particlesAmount=this.getMaxParticlesAmount({birthRatePerSecond:e.birthRatePerSec,particleMaxLifeTime:e.life,loopDuration:"infinity"===e.emitTimeCycle?0:e.emitTimeDuration}),this.particlesAmount>1e5&&(console.warn("The maximum number of particles is limited to 100000."),this.particlesAmount=1e5),this.emitterShape=this.createShape(e.shape,this.particlesAmount);let t=setInterval(()=>{if(this.emitterShape){if(isNaN(this.emitterShape.positionsTexture.source.data.data[0]))return void this.init(e);clearInterval(t)}},100);if(!this.emitterShape)return;let n=new class{constructor(e,t,n){this.variables=[],this.currentTextureIndex=0;let i=Ys,r=new lu,o=new zg;o.position.z=1;let s={passThruTexture:{value:null}},a=d("uniform sampler2D passThruTexture;\n\nvoid main() {\n\n\tvec2 uv = gl_FragCoord.xy / resolution.xy;\n\n\tgl_FragColor = texture2D( passThruTexture, uv );\n\n}\n",s),l=new hs(new Op(2,2),a);function c(g){g.defines.resolution="vec2( "+e.toFixed(1)+", "+t.toFixed(1)+" )"}function d(g,v){let y=new Qr({uniforms:v=v||{},vertexShader:"void main()\t{\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n",fragmentShader:g});return c(y),y}r.add(l),this.setDataType=function(g){return i=g,this},this.addVariable=function(g,v,y){let P={name:g,initialValueTexture:y,material:this.createShaderMaterial(v),dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:io,magFilter:io};return this.variables.push(P),P},this.setVariableDependencies=function(g,v){g.dependencies=v},this.init=function(){if(!1===n.capabilities.isWebGL2&&!1===n.extensions.has("OES_texture_float"))return"No OES_texture_float support for float textures.";if(0===n.capabilities.maxVertexTextures)return"No support for vertex shader textures.";for(let g=0;g<this.variables.length;g++){let v=this.variables[g];v.renderTargets[0]=this.createRenderTarget(e,t,v.wrapS,v.wrapT,v.minFilter,v.magFilter),v.renderTargets[1]=this.createRenderTarget(e,t,v.wrapS,v.wrapT,v.minFilter,v.magFilter),this.renderTexture(v.initialValueTexture,v.renderTargets[0]),this.renderTexture(v.initialValueTexture,v.renderTargets[1]);let y=v.material,b=y.uniforms;if(null!==v.dependencies)for(let P=0;P<v.dependencies.length;P++){let O=v.dependencies[P];if(O.name!==v.name){let S=!1;for(let A=0;A<this.variables.length;A++)if(O.name===this.variables[A].name){S=!0;break}if(!S)return"Variable dependency not found. Variable="+v.name+", dependency="+O.name}b[O.name]={value:null},y.fragmentShader="\nuniform sampler2D "+O.name+";\n"+y.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){let g=this.currentTextureIndex,v=0===this.currentTextureIndex?1:0;for(let y=0,b=this.variables.length;y<b;y++){let P=this.variables[y];if(null!==P.dependencies){let O=P.material.uniforms;for(let S=0,A=P.dependencies.length;S<A;S++){let H=P.dependencies[S];O[H.name].value=H.renderTargets[g].texture}}this.doRenderTarget(P.material,P.renderTargets[v])}this.currentTextureIndex=v},this.getCurrentRenderTarget=function(g){return g.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(g){return g.renderTargets[0===this.currentTextureIndex?1:0]},this.dispose=function(){l.geometry.dispose(),l.material.dispose();let g=this.variables;for(let v=0;v<g.length;v++){let y=g[v];y.initialValueTexture&&y.initialValueTexture.dispose();let b=y.renderTargets;for(let P=0;P<b.length;P++)b[P].dispose()}},this.addResolutionDefine=c,this.createShaderMaterial=d,this.createRenderTarget=function(g,v,y,b,P,O){return new Zr(g=g||e,v=v||t,{wrapS:y=y||Ko,wrapT:b=b||Ko,minFilter:P=P||io,magFilter:O=O||io,format:Ia,type:i,depthBuffer:!1})},this.createTexture=function(){let g=new Float32Array(e*t*4),v=new Od(g,e,t,Ia,Ys);return v.needsUpdate=!0,v},this.renderTexture=function(g,v){s.passThruTexture.value=g,this.doRenderTarget(a,v),s.passThruTexture.value=null},this.doRenderTarget=function(g,v){let y=n.getRenderTarget(),b=n.xr.enabled,P=n.shadowMap.autoUpdate,O=n.outputEncoding,S=n.toneMapping;n.xr.enabled=!1,n.shadowMap.autoUpdate=!1,n.outputEncoding=sh,n.toneMapping=ou,l.material=g,n.setRenderTarget(v),n.render(r,o),l.material=a,n.xr.enabled=b,n.shadowMap.autoUpdate=P,n.outputEncoding=O,n.toneMapping=S,n.setRenderTarget(y)}}}(this.emitterShape.textureSize,this.emitterShape.textureSize,this.renderer),i=this.updateSimulationDefinition(e),r=n.addVariable("uCurrentPosition",i+"\n// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU\nuniform sampler2D uOriginalPosition;\nuniform float uTime;\nuniform float uSpeed;     // update speed of the particles\nuniform vec3 uWorldOffset;    \nuniform vec4 uWorldQuaternion;\nuniform float uMaxLifeTime;\nuniform vec3 uEmitterSize;\nuniform float uFPSRatio;     // 1  for 60 FPS\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy,\n        vec2(12.9898,78.233)))*\n        43758.5453123);\n}\nvec3 applyQuaternionToVector( vec4 q, vec3 v ){\n    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n}\n\nvec3 applyForce(vec3 force, float mass) {\n    vec3 acceleration = force / mass;\n    \n    return acceleration;\n  }\n  \n\nvoid main() {\n    vec2 vUv = gl_FragCoord.xy / resolution.xy;\n    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;\n    float currentLife = texture2D( uCurrentPosition, vUv ).w;   // from 1 to 0\n    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).r;        // 1. = spawning, 0. = not spawning\n    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;          // 1. = active, 0. = not active\n    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;         // timeStart in seconds when the particle was emitted\n    vec3 originalPosition = ((texture2D( uOriginalPosition, vUv ).xyz) * uEmitterSize);\n    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;\n    float collisionFlag = texture2D( uCurrentVelocity, vUv ).w;             // 1. = collided, 0. = not collided\n    float lifeTime = uMaxLifeTime;\n\n    // Calculate the position adjustment based on collision\n    //     if (collisionFlag > .5) {  \n    float isColliding = step(0.5, collisionFlag); // 1.0 if collisionFlag > 0.5, otherwise 0.0\n    float bounceOffset = 3.0 * isColliding; // Becomes 3.0 if colliding, 0.0 otherwise\n    vec3 collisionAdjustedVelocity = velocity * (1.0 + bounceOffset);\n\n    // Update position based on collision or normal movement\n    vec3 fpsVelocity = velocity * min(uFPSRatio, 5.0);\n    position += mix(fpsVelocity, collisionAdjustedVelocity, isColliding);\n\n    // EMISSION RATE - BIRTH\n    // if (isSpawning == 1.0) {\n    // Better Approach to avoid If statement\n    vec3 newPosition = applyQuaternionToVector(uWorldQuaternion, originalPosition) + uWorldOffset;\n    originalPosition = mix(originalPosition, newPosition, isSpawning);\n    position = mix(position, originalPosition, isSpawning);;\n    timeStart = mix(timeStart, uTime, isSpawning);\n\n    // Calculate timeLeft for life normalization\n    float timeLeft = max(lifeTime - (uTime - timeStart), 0.0);\n    float life_Normalize = timeLeft / lifeTime;\n\n    // Use isActive to blend between the calculated color and black\n    vec4 activeColor = vec4(position, life_Normalize);\n    // if (isActive == 1.0) {\n    gl_FragColor = mix(vec4(0.0), activeColor, isActive);\n\n}\n",this.emitterShape.positionsTexture),o=n.addVariable("uCurrentVelocity",i+"\n// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU\nuniform sampler2D uOriginalPosition;\nuniform sampler2D uDirections;     \nuniform vec3 uDirectionsAxis;\nuniform vec4 uWorldQuaternion;\nuniform vec3 uGravity;        \nuniform float uNoiseStrength;     // Variation of the noise\nuniform float uNoiseScale;        // Scale of the noise\nuniform float uNoiseSeed;         // Seed of the noise\nuniform float particleSize;\nuniform float uSpeed;     // update speed of the particles\nuniform float uRandomMassFactor;\n\n// COLLIDER\nuniform vec3 uColliderPos;                // Collider Position\nuniform vec3 uColliderSize;               // Collider Dimension\nuniform vec4 uColliderQuaternion;         // Collider Rotation\nuniform vec4 uColliderQuaternionInvert;   // Collider Rotation\nuniform float uBounce;                    // Bounce factor\nuniform float uForceDamping;\nuniform float uForceIntensity;\n\n\n\n\n    vec3 mod289(vec3 x) {\n      return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n    \n    vec4 mod289(vec4 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n    \n    vec4 permute(vec4 x) {\n        return mod289(((x*34.0)+1.0)*x);\n    }\n    \n    vec4 taylorInvSqrt(vec4 r)\n    {\n    return 1.79284291400159 - 0.85373472095314 * r;\n    }\n    \n    vec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n    float snoise(vec3 v)\n    {\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n    \n    // Permutations\n    i = mod289(i);\n    vec4 p = permute( permute( permute(\n                i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n              + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n              + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n    \n    // Gradients: 7x7 points over a square, mapped onto an octahedron.\n    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n    float n_ = 0.142857142857; // 1.0/7.0\n    vec3  ns = n_ * D.wyz - D.xzx;\n    \n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n    \n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n    \n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n    \n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n    \n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n    \n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n    \n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n    \n    //Normalise gradients\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n    \n    // Mix final noise value\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                  dot(p2,x2), dot(p3,x3) ) );\n    }\n    \n    vec3 snoiseVec3( vec3 x ){\n    \n      float s  = snoise(vec3( x ));\n      float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));\n      float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));\n      vec3 c = vec3( s , s1 , s2 );\n      return c;\n    \n    }\n    \n      \n    vec3 curlNoise( vec3 p, float seed){\n      p += seed;\n      const float e = .1;\n      vec3 dx = vec3( e   , 0.0 , 0.0 );\n      vec3 dy = vec3( 0.0 , e   , 0.0 );\n      vec3 dz = vec3( 0.0 , 0.0 , e   );\n    \n      vec3 p_x0 = snoiseVec3( p - dx );\n      vec3 p_x1 = snoiseVec3( p + dx );\n      vec3 p_y0 = snoiseVec3( p - dy );\n      vec3 p_y1 = snoiseVec3( p + dy );\n      vec3 p_z0 = snoiseVec3( p - dz );\n      vec3 p_z1 = snoiseVec3( p + dz );\n    \n      float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;\n      float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;\n      float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;\n    \n      const float divisor = 1.0 / ( 2.0 * e );\n      return normalize( vec3( x , y , z ) * divisor );\n    \n    }\n\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n  return 2.2 * n_xyz;\n}\n\n\nvec3 fbm_vec3(vec3 p, float frequency, float offset)\n{\n  return vec3(\n    cnoise((p+vec3(offset))*frequency),\n    cnoise((p+vec3(offset+20.0))*frequency),\n    cnoise((p+vec3(offset-30.0))*frequency)\n  );\n}\n\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\nvec3 applyQuaternionToVector( vec4 q, vec3 v ){\n    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n } \nvec3 applyForce(vec3 force, float mass) {\n  vec3 acceleration = force / mass;\n  \n  return acceleration;\n}\n\nvec4 conjugate(vec4 q) {\n  return vec4(q.w, -q.x, -q.y, -q.z);\n}\n\n// Function to compute the normal of the ellipsoid at a given point\nvec3 ellipsoidNormal(vec3 p, vec3 radii) {\n  return normalize(p / (radii * radii));\n}\n\nfloat friction = .3;\n\nvoid main() {\n    vec2 vUv = gl_FragCoord.xy / resolution.xy;\n    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;\n    vec3 originalPosition = texture2D( uOriginalPosition, vUv ).xyz;\n    float timeLeft = texture2D( uCurrentPosition, vUv ).w;\n    vec3 directions = texture2D( uDirections, vUv ).xyz;    \n    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;\n    float mass = rand(originalPosition.xy) * 0.5 + 0.5;\n    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).x;        // 1. = spawning, 0. = not spawning\n    float isActive = texture2D( uCurrentEmissionRate, vUv ).y;          // 1. = active, 0. = not active\n    float collisionFlag =texture2D( uCurrentVelocity, vUv ).w;          // Indicate collision\n\n    // Randomness Mass\n    mass = (1.0 - (uRandomMassFactor * mass));\n    \n    if (isActive == 1.0) {\n      // **************************************************************\n      // FORCES NOISES\n      // **************************************************************\n      #ifdef USE_CURL_NOISE\n        if (uNoiseScale > 0.0 ) {\n          velocity = curlNoise(position * uNoiseScale * .002, uNoiseSeed) * ( uNoiseStrength + 1.0) * .05 * uSpeed;\n        }\n        // Variation of the noise Over Time\n        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {\n          velocity += curlNoise( position, uNoiseSeed)  * uNoiseStrength * 0.05 * uSpeed;\n        }\n      #endif\n      // **************************************************************\n      #ifdef USE_SIMPLEX_NOISE\n        if (uNoiseScale > 0.0 ) {\n          velocity = vec3(snoise(position * uNoiseScale * .001) * ( uNoiseStrength + 1.0) * .1);\n          velocity *= uSpeed;\n        }\n        // Variation of the noise Over Time\n        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0) {\n          velocity += vec3(snoise(position * uNoiseStrength * .001) * .05 * uSpeed);\n        }\n      #endif\n      // ************************************************************** \n      #ifdef USE_FBM_NOISE\n        if (uNoiseScale > 0.0 ) {\n          velocity = fbm_vec3(position * uNoiseScale * .001, ( uNoiseStrength + 1.0), uNoiseSeed);\n          velocity *= uSpeed;\n        }\n        // Variation of the noise Over Time\n        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {      \n          velocity += fbm_vec3(position * uNoiseStrength * .001, ( uNoiseStrength + 1.0), uNoiseSeed) * .1 * uSpeed;\n        }\n      #endif\n\n      // COLLIDER\n      \n  #ifdef USE_COLLIDER\n    float restitution = max(uBounce * 2., .01); // Energy Loss\n    // SPHERE COLLIDER\n    // **************************************************************\n    #ifdef USE_SPHERE_COLLIDER       \n      // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)\n      vec3 radii = uColliderSize;\n      // Adjust position relative to collider\n      vec3 relPos = position - uColliderPos;\n      // Apply rotation of the collider to the relative position\n      relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            \n      // Scale relative position by radii (for ellipsoid collision detection)\n      vec3 scaledPos = relPos / radii;\n      // Calculate ellipsoidal distance\n      float dist = length(scaledPos); // Distance in terms of ellipsoid\n      \n      // Check for collision\n      if (dist <= 1. + particleSize / length(radii) && collisionFlag == 0.0) {\n          // Compute the normal at the collision point, accounting for particle size\n        vec3 adjustedPos = scaledPos * (1.0 + particleSize / length(radii));          \n        // Compute the normal at the collision point\n        vec3 normal = ellipsoidNormal(adjustedPos, radii);\n        // Rotate the normal back to world space\n        normal = applyQuaternionToVector(uColliderQuaternion, normal);\n        // Reflect the velocity vector off the normal\n        velocity = reflect(velocity, normal) * restitution;\n\n        collisionFlag = 1.0;\n      } else {\n        collisionFlag = 0.0;\n      }\n    #endif\n\n    // BOX COLLIDER or PLANE COLLIDER \n    // **************************************************************\n    #ifdef USE_BOX_COLLIDER\n      // Box dimensions and repulsion variables\n      vec3 boxHalfSize = uColliderSize / 2.0;\n      // Convert world position to box's local space\n      vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      \n      // Collision detection\n      vec3 localDistance = abs(localPos) - boxHalfSize;\n      float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));    \n\n      // Collision Detected\n      if (distToSurface <= particleSize * 0.5 && collisionFlag == 0.0) {      \n        // Find the nearest face normal for bounce direction\n        vec3 normal;\n        if (localDistance.x > localDistance.y && localDistance.x > localDistance.z) {\n            normal = vec3(sign(localPos.x), 0.0, 0.0);\n        } else if (localDistance.y > localDistance.z) {\n            normal = vec3(0.0, sign(localPos.y), 0.0);\n        } else {\n            normal = vec3(0.0, 0.0, sign(localPos.z));\n        }            \n        // Rotate normal back to world space\n        normal = applyQuaternionToVector(uColliderQuaternion, normal);      \n        // Reflect velocity and apply repulsion force\n        velocity = reflect(velocity, normal) * restitution;\n        \n        collisionFlag = 1.0;\n      } else {\n        collisionFlag = 0.0;\n      }\n    #endif      \n  #endif      \n  // END COLLIDER    \n\n      // ATTRACTION\n      \n  #ifdef USE_ATTRACTOR\n\n      #ifdef USE_SPHERE_COLLIDER      \n        // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)\n        vec3 radii = uColliderSize;\n        // Adjust position relative to collider\n        vec3 relPos = position - uColliderPos;\n        // Apply rotation of the collider to the relative position\n        relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            \n        // Scale relative position by radii (for ellipsoid collision detection)\n        vec3 scaledPos = relPos / radii;\n        // Calculate ellipsoidal distance\n        float distToSurface = length(scaledPos); // Distance in terms of ellipsoid\n        float insideCheck = 1.0;\n\n      #endif\n\n\n      #ifdef USE_BOX_COLLIDER\n        // Box dimensions\n        vec3 boxHalfSize = uColliderSize / 2.0;\n        // Convert world position to box's local space\n        vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      \n        vec3 localDistance = abs(localPos) - boxHalfSize;\n        float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));\n        float insideCheck = particleSize;\n      #endif      \n  \n      // Apply vortex force inside the Helper\n      #ifdef USE_FORCE_LOCAL_SPACE\n        if (distToSurface <= insideCheck ) {    \n            // Define parameters for the attractor field\n            #ifdef USE_SPHERE_COLLIDER      \n              float attractorStrength = (1.0 - distToSurface ) * uForceIntensity; // Adjust as needed\n            #endif\n\n            #ifdef USE_BOX_COLLIDER\n              float attractorStrength = max((1.0 - insideCheck / distToSurface), 0.) * uForceIntensity; // Adjust as needed\n              #endif\n\n            float attractorDamping = uForceDamping;  // Adjust as needed (higher values will attenuate velocity more)\n          \n            // Use the same radii calculation code as for the collider\n            vec3 attractorRadii = uColliderSize;\n            // Adjust position relative to attractor center\n            vec3 relPos = position - uColliderPos;\n            // Apply rotation of the collider to the relative position\n            relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            \n            // Scale relative position by radii (for ellipsoid attraction)\n            vec3 scaledPos = relPos / attractorRadii;\n\n            // Calculate ellipsoidal distance as attractor radius\n            float attractorRadius = length(scaledPos);\n            // Calculate the distance from the attractor center\n            vec3 relativePosition = position - uColliderPos;\n            // Calculate the force vector towards the attractor center\n            vec3 attractorForce = normalize(relativePosition) * attractorStrength;\n            // Apply the attractor force to the particle\n            velocity -= attractorForce;\n            // Attenuate the particle's velocity\n            velocity *= attractorDamping;\n        }\n      #else \n            // Calculate the distance from the attractor center\n            vec3 relativePosition = position - uColliderPos;\n            // Calculate the force vector towards the attractor center\n            vec3 attractorForce = normalize(relativePosition) * uForceIntensity;\n            // Apply the attractor force to the particle\n            velocity -= attractorForce;\n            // Attenuate the particle's velocity\n            velocity *= uForceDamping;\n      #endif    \n  #endif      \n  \n      // VORTEX\n      \n  #ifdef USE_VORTEX\n    // Box dimensions\n    vec3 boxHalfSize = uColliderSize / 2.0;\n    // Convert world position to box's local space\n    vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      \n    vec3 localDistance = abs(localPos) - boxHalfSize;\n    float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));\n\n    // Apply vortex force inside the box\n    if (distToSurface <= particleSize) {\n      float vortexStrength = uForceIntensity;\n      vec3 localTopCenter = vec3(0.0, 0., 0.0);\n\n      // Transform the local top center to the world space\n      vec3 vortexCenter = uColliderPos + applyQuaternionToVector(uColliderQuaternion, localTopCenter);\n      // Calculate the vector from particle to vortex center\n      vec3 vortexVector = vortexCenter - position;\n\n      // Calculate the rotation axis from the inverse of the collider's quaternion and the fixed up vector\n      // Note: important to add a tiny z component to the up vector to avoid instability\n      vec3 upVector = vec3(0.0, 1.0, 0.01);\n      vec3 rotationAxis = cross(upVector, applyQuaternionToVector(uColliderQuaternion, vortexVector));\n      rotationAxis = normalize(rotationAxis);\n\n      // Add rotational component to velocity\n      float rotationSpeed = length(vortexVector * vortexStrength * 3.0) ; \n\n      vec3 rotationVelocity = rotationAxis * rotationSpeed;\n      // velocity += rotationVelocity * 0.005 ;\n      velocity = rotationVelocity * 0.005 ;\n\n      // Calculate vortex force\n      // vec3 vortexForce = normalize(vortexVector) * uSpeed * .1 ;\n      // Apply the vortex force to the particle\n      vec3 originDirection = applyQuaternionToVector(uWorldQuaternion, directions);\n      velocity += applyForce( originDirection * uSpeed * (1. - uForceDamping) , mass * .5);\n    }\n  #endif      \n\n    } \n    // End isActive\n\n    // SPAWN BIRTH \n    // **************************************************************\n    // if (isSpawning == 1.)\n    #ifdef USE_NORMALS\n      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, directions) * uSpeed, isSpawning);\n    #else\n      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, uDirectionsAxis) * uSpeed, isSpawning);    \n    #endif\n    \n    // if (collisionFlag == 0.0)\n    velocity += applyForce(uGravity, mass * .5) * (1.0 - collisionFlag);\n\n    gl_FragColor = vec4(velocity, collisionFlag);\n}\n",this.emitterShape.directionsTexture),s=n.addVariable("uCurrentEmissionRate","\n// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU\n\nuniform sampler2D uIndex; // Texture with corresponding index\nuniform float uLastIndexEmitted; // Last emitted index\nuniform float uParticlesToEmit; // Number of particles to emit on that frame\nuniform float uTime;\n\nvoid main() {\n    vec2 vUv = gl_FragCoord.xy / resolution.xy;\n    float particleIndex = texture(uIndex, vUv).x;\n    float timeLeft = texture2D( uCurrentPosition, vUv ).w;\n    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;    // 1. = active, 0. = not active\n    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;\n\n\n    // ********** Detect Colision to Create a flag and use it in position **********\n    // We are doing this here, so\n\n    // ********** Emit Particles **********\n    // X = isSpawning 0.0 or 1.0\n    // Y = isActive 0.0 or 1.0\n    // Check if the vertex index is between the first value and the last value\n    // if (particleIndex >= uLastIndexEmitted && particleIndex < uLastIndexEmitted + uParticlesToEmit) {\n    //     // Emit a particle by writing 1 to the red channel of the color output\n    //     // r: 1. == emit the particle\n    //     // g: 1. == particle is now active\n    //     timeStart = uTime;\n    //     gl_FragColor = vec4(1.0, 1.0, timeStart, 1.0);\n    // } else {\n    //     // The Particle is either already emitted or not in the range of the particles to emit\n    //     // Do not emit a particle by writing 0 to the red channel of the color output        \n    //     gl_FragColor = vec4(0.0, isActive, timeStart, 1.0);\n    // }\n    // Determine if the particle is within the emission range\n    float emitLowerBound = step(uLastIndexEmitted, particleIndex);\n    float emitUpperBound = step(particleIndex, uLastIndexEmitted + uParticlesToEmit - 1.0);\n    float emitParticle = emitLowerBound * emitUpperBound; // 1.0 if in range, 0.0 otherwise\n\n    // Set timeStart and color\n    timeStart = mix(timeStart, uTime, emitParticle);\n    gl_FragColor = vec4(emitParticle, mix(isActive, 1.0, emitParticle), timeStart, 1.0);\n\n\n}\n",function sze(e){let t=new Float32Array(4*e*e);for(let i=0;i<e*e;i++)t[4*i]=0,t[4*i+1]=0,t[4*i+2]=0,t[4*i+3]=0;let n=new Od(t,e,e,Ia,Ys);return n.needsUpdate=!0,n}(this.emitterShape.textureSize));n.setVariableDependencies(r,[r,o,s]),n.setVariableDependencies(o,[r,o,s]),n.setVariableDependencies(s,[r,o,s]);let a=function oze({size:e}){let t=new Float32Array(4*e*e);for(let i=0;i<e*e;i++)t[4*i]=i,t[4*i+1]=0,t[4*i+2]=0,t[4*i+3]=0;let n=new Od(t,e,e,Ia,Ys);return n.needsUpdate=!0,n}({size:this.emitterShape.textureSize}),l={uOriginalPosition:{value:this.emitterShape.positionsTexture},uWorldOffset:{value:new ie(0,0,0)},uWorldQuaternion:{value:new ki(0,0,0,1)},uTime:{value:0},uFPSRatio:{value:1},uMaxLifeTime:{value:e.life},uEmitterSize:{value:new ie(Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"])))},particleSize:{value:0}};r.material.uniforms=l;let c=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(c),this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"]));let d=e.colliderEntityId&&this.system.getColliderData(e.colliderEntityId),h={uOriginalPosition:{value:this.emitterShape.positionsTexture},uDirections:{value:this.emitterShape.directionsTexture},uDirectionsAxis:{value:this.directionAxis},uWorldQuaternion:{value:new ki(0,0,0,1)},uColliderPos:{value:new ie(0,0,0)},uColliderSize:{value:new ie(0,0,0)},uForceIntensity:{value:d?d.forceIntensity:0},uForceDamping:{value:d?d.forceDambing:0},uColliderQuaternion:{value:new ki(0,0,0,1)},uColliderQuaternionInvert:{value:new ki(0,0,0,1)},particleSize:{value:0},uGravity:{value:this.worldGravity},uNoiseStrength:{value:this.noiseStrength},uNoiseScale:{value:this.noiseScale},uNoiseSeed:{value:e.noiseSeed},uRandomMassFactor:{value:e.randomMass},uBounce:{value:e.collisionBounce},uSpeed:{value:Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/10}};o.material.uniforms=h,s.material.uniforms={uIndex:{value:a},uTime:{value:0},uLastIndexEmitted:{value:0},uParticlesToEmit:{value:0}};let g=[Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"]))],v={...hy(this.system.data).shape,size:g};this.emitterShape.applyToShader(r.material.uniforms,v),n.init(),this.gpuCompute=n,this.positionSimRT=r,this.velocitySimRT=o,this.emissionRateSimRT=s,this.rootObject=this.createPrimaryEmitter(this.emitterShape.textureSize),this.add(this.rootObject),this.material.needsUpdate=!0}getDirectionFromVariable(e){return[Number(this.shared.getVariable(e[0],[this.uuid,"particles","direction_x"])),Number(this.shared.getVariable(e[1],[this.uuid,"particles","direction_y"])),Number(this.shared.getVariable(e[2],[this.uuid,"particles","direction_z"]))]}updateSimulationDefinition(e){if(this.simFeaturesDefinition.USE_COLLIDER=!1,this.simFeaturesDefinition.USE_ATTRACTOR=!1,this.simFeaturesDefinition.USE_VORTEX=!1,this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!1,this.simFeaturesDefinition.USE_BOX_COLLIDER=!1,this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!1,this.simFeaturesDefinition.USE_NORMALS=!1,this.simFeaturesDefinition.USE_CURL_NOISE=!1,this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!1,this.simFeaturesDefinition.USE_FBM_NOISE=!1,e.colliderEntityId&&this.system.colliderEntities.length>0){let n=this.system.getColliderData(e.colliderEntityId);switch(n?.forceType){case"attractor":this.simFeaturesDefinition.USE_ATTRACTOR=!0;break;case"collider":this.simFeaturesDefinition.USE_COLLIDER=!0;break;case"vortex":this.simFeaturesDefinition.USE_VORTEX=!0}let i=n?.colliderType;"sphere"===i&&(this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!0),"box"===i&&(this.simFeaturesDefinition.USE_BOX_COLLIDER=!0),"helper"===n?.forceRange&&(this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!0)}"normals"===e.directionMode&&(this.simFeaturesDefinition.USE_NORMALS=!0),"curl"===e.noiseType&&(this.simFeaturesDefinition.USE_CURL_NOISE=!0),"simplex"===e.noiseType&&(this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!0),"fbm"===e.noiseType&&(this.simFeaturesDefinition.USE_FBM_NOISE=!0);let t="";for(let[n,i]of Object.entries(this.simFeaturesDefinition))i&&(t+=`#define ${n}\n`);return t}createShape(e,t){this.emitterShape&&this.emitterShape.dispose();let n=new ie(Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.size[2],[this.uuid,"particles","shape_size_2"])));if("MeshEmitterShape"===e.type){let i=null;return this.system.context.scene.traverseEntity(r=>{r.uuid===e.fromMeshId&&(i=r)}),i?new i4(n,t,e.type,i):new i4(n,t,"SphereEmitterShape")}return new i4(n,t,e.type)}createPrimaryEmitter(e){let t,n=e*e;return t=new EMe(new Op(1,1,1),this.material,n),this.updateGeometryAttributes(t,e),this.material.needsUpdate=!0,t.onBeforeRender=()=>{this.applyWorldSpace()},t}getMaxParticlesAmount({birthRatePerSecond:e,particleMaxLifeTime:t,loopDuration:n=0}){return Math.ceil(e*(t+n))}dispose(){!this.gpuCompute||(this.rootObject?.parent?.remove(this.rootObject),this.gpuCompute.dispose(),this.material.nodeMaterialDispose(),this.emitterShape?.dispose())}GoEmitSomeParticles(e,t){let n=e-this.lastEmitTime,i=1/t;if(n>=i){let r=Math.max(1,Math.floor(n/i));return this.lastEmitTime=e,this.emittedParticlesAmount+r>this.particlesAmount&&(this.emittedParticlesAmount=0),this.emittedParticlesAmount+=r,r}return 0}checkIfAllParticlesAreDead(){return this.lastEmitTime+this.system.data.life+1<this.globalTime}reset(){this.hasBeenReset=!0,this.lastEmitTime=0,this.emittedParticlesAmount=0,this.gpuCompute&&this.init(hy(this.system.data))}startEmitting(e){this.isEmitting=!0,this.hasBeenReset=!1,this.lastEmitTime=e}stopEmitting(){this.isEmitting=!1}},rO=class extends Yl{constructor(e,t,n){super(e,t),this.type="ParticleSystem",this.geometry=new ii,this.actualTime=0,this.currentLoopTime=0,this.started=!1,this.stopped=!1,this.timeoutId=void 0,this.isFrozen=!1,this.isIdle=!0,this.emitter=null,this.colliderEntities=[],this.renderer=null,this.isPreWarm=!1,this._hasOnAfterRenderBeenCalled=!1,this.onAfterRender=i=>{this._hasOnAfterRenderBeenCalled||(this._hasOnAfterRenderBeenCalled=!0,this.init(i))},this.context=n,this.data={...t,...hy(t)},this.geometry.setAttribute("position",new On([],3)),this.material=new Pp({colorWrite:!1}),this.frustumCulled=!1}init(e){this.renderer=e,this.emitter=new xze(e,this),this.add(this.emitter),this.updateParticleState(this.data)}update(e){if(!this.isReady||!this.started||this.isFrozen||this.isIdle)return;this.actualTime+=e,this.stopped||(this.currentLoopTime+=e);let t="one_time"===this.data.emitTimeCycle;("loop"===this.data.emitTimeCycle||t)&&this.currentLoopTime>1e3*this.data.emitTimeDuration&&(this.stopped||(this.stop(),t||this.start(1e3*this.data.emitTimeDelay))),this.emitter&&this.started&&this.emitter.update(this.actualTime/1e3,e),this.scale.set(1,1,1),this.updateMatrix()}isReady(){return!!this.emitter}hasCollider(e){return this.colliderEntities.some(t=>t.identity===e)}getColliderData(e){let t=this.colliderEntities.find(n=>n.identity===e);return t?t.data:null}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),Io(e.path,["renderMaterial"])&&this.updateParticleState({renderMaterial:{...this.data.renderMaterial,...Ra.drop(e,1).props}}),Io(e.path,["shape"])&&this.updateParticleState({shape:{...this.data.shape,...Ra.drop(e,1).props}})}updateState(e,t){super.updateState(e,t),this.updateParticleState(e)}updateParticleState(e){if(this.emitter){if(null!=e.colliderEntityId){let t=this.context.scene.find(e.colliderEntityId);this.colliderEntities=t?[t]:[]}null===e.colliderEntityId&&(this.colliderEntities=[]),this.emitter.updateState(e),e.emitTimeCycle&&this.started&&this.start()}}updateFromColliderEntity(e){!this.emitter||(this.emitter.updateForceFieldParameters(e),this.stop(),this.start())}start(e=0){this.currentLoopTime=0,e?this.timeoutId=window.setTimeout(()=>{this.start(0)},e):(this.started=!0,this.stopped=!1,this.isFrozen=!1,this.emitter?.startEmitting(this.actualTime/1e3))}froze(){this.isFrozen=!0}unFroze(){this.isFrozen=!1}stop(){this.stopped=!0,this.currentLoopTime=0,this.emitter?.stopEmitting(),clearTimeout(this.timeoutId)}reset(){this.started=!1,this.stopped=!1,this.emitter?.reset()}wakeUp(){this.isIdle=!1}sleep(){this.isIdle=!0,this.reset()}},o4=function wze(){try{let e=window.location.href;if(e.includes("reducesubdiv=")){let t=e.indexOf("reducesubdiv=")+13;return parseInt(e.slice(t,t+1))}}catch{}}();function s4(e,t,n){return console.assert(void 0!==t.type),"Mesh"===t.type?function Cze(e,t,n){let i;return void 0!==o4&&(t?.geometry?.subdivisions??0)>o4&&(console.log("reducing subdivisions",t.name,t.geometry.subdivisions),t.geometry.subdivisions=o4),"TextGeometry"===t.geometry.type?new yR(e,t,n):"InputGeometry"===t.geometry.type?new t4(e,t,n):(i="SubdivGeometry"===t.geometry.type?new gx(e,t,n):"PathGeometry"===t.geometry.type?new e4(e,t,n):"VectorGeometry"===t.geometry.type?new Z6e(e,t,n):"BooleanGeometry"===t.geometry.type?new m0(e,t,n):"UIGeometry"===t.geometry.type?new El(e,t,n):new Pl(e,t,n),i)}(e,t,n):"Empty"===t.type?new ly(e,t):"Particle"===t.type?new rO(e,t,n):"ParticleCollider"===t.type?new W2(e,t,n):"Splat"===t.type?new ly(e,t):"Bone"===t.type?new J6e(e,t):"Page"===t.type?new Ua(e,t,n):"PointLight"===t.type?new K6e(e,t,n):"SpotLight"===t.type?new Q$(e,t,n):"DirectionalLight"===t.type?new q$(e,t,n):"Component"===t.type||"Instance"===t.type?new dy(e,t,n):Qg.is(t.type)?new Ol(e,t):(console.error(t),new ly(e,t))}function yQ(e,t){let n=!1,i=t.getLayersOfType("transmission"),r=t.getLayersOfType("outline");return r.length>0&&(e.layers.set(8),i.length>0&&e.layers.enable(3),n=!0,gR(e),mR(e)),0===i.length&&0===r.length&&e.layers.set(0),e instanceof iy&&e.needsAO&&e.layers.enable(5),n}function bQ(e,t){if(!t.layers)return!1;let n=!1,i=t.getLayersOfType("transmission").filter(o=>o.data.visible),r=t.getLayersOfType("outline").filter(o=>o.data.visible);return i.length>0&&(e.layers.set(3),r.length>0&&e.layers.enable(8),n=!0),0===i.length&&0===r.length&&e.layers.set(0),e.needsAO&&e.layers.enable(5),n}lm.createEntity=s4,lm.changeEntityProptotype=function Mze(e,t,n){let i=s4(e.identity,t,n),r=e.children,o=e.attachedPaths,s=e.parent,a=e.component,l=e.instances,c=e.overrideData,d=e.uuid,h=e.stateSelection;e.dispose();for(let p of Object.keys(e))delete e[p];Object.setPrototypeOf(e,Object.getPrototypeOf(i));for(let p of Object.keys(i))e[p]=i[p];e.children=[...e.children,...r],e.attachedPaths=o,e.parent=s,e.component=a,e.instances=l,e.uuid=d,e.overrideData=c,e.updateState(e.data,n),h&&e.changeSelectedState(h,n),e.resetBBoxNeedsUpdate()},lm.Cloner=yh;var Eze=new yH,Dze=new Kt,Aze=new Gv;function a4(e,t,n,i=!1){let r=e.cloner;if(r)for(let o of r.children){let s=Dze.copy(o.matrixWorld).invert(),a=Aze.copy(t.ray).applyMatrix4(s);a.applyMatrix4(e.matrixWorld);let c=Eze;c.set(a.origin,a.direction),c.near=t.near,c.far=t.far;let d=c.intersectObject(e,!1);d.length>0&&n.push({...d[0],object:i?o:e})}}var bm=class{};function kze(e){let t,n,i,r,o,s,a,l,c,d,h,p,g,v,y,b;function O(ae,pe,fe){let ge=new Float32Array(d,o,3*n);i=0;let Se=new Uint32Array(d,r,n);for(let Oe=0;Oe<fe.length-1;Oe++){let Ce=pe[Oe],_e=ae[Oe].elements,Be=Ce.filter(Ve=>Ve.enabled&&"Include"===Ve.mode).map(Ve=>"Box"===Ve.type?V(Ve):ee(Ve)),We=Ce.filter(Ve=>Ve.enabled&&"Exclude"===Ve.mode).map(Ve=>"Box"===Ve.type?V(Ve):ee(Ve));for(let Ve=fe[Oe];Ve<fe[Oe+1];Ve++){let Ue=g[3*Ve],nt=g[3*Ve+1],He=g[3*Ve+2];if((0===Be.length||A(Ue,nt,He,Be))&&(0===We.length||!A(Ue,nt,He,We))){let tt=1/(_e[3]*Ue+_e[7]*nt+_e[11]*He+_e[15]);ge[3*i]=(_e[0]*Ue+_e[4]*nt+_e[8]*He+_e[12])*tt,ge[3*i+1]=(_e[1]*Ue+_e[5]*nt+_e[9]*He+_e[13])*tt,ge[3*i+2]=(_e[2]*Ue+_e[6]*nt+_e[10]*He+_e[14])*tt,Se[i]=Ve,i++}}}}function A(ae,pe,fe,ge,Se){return ge["Intersect"===Se?"every":"some"](Oe=>{let Ce=function H(ae,pe,fe,ge,Se){let Oe=ae-Se[0],Ce=pe-Se[1],_e=fe-Se[2],Be=1/(ge[3]*Oe+ge[7]*Ce+ge[11]*_e+ge[15]);return{x:(ge[0]*Oe+ge[4]*Ce+ge[8]*_e+ge[12])*Be+Se[0],y:(ge[1]*Oe+ge[5]*Ce+ge[9]*_e+ge[13])*Be+Se[1],z:(ge[2]*Oe+ge[6]*Ce+ge[10]*_e+ge[14])*Be+Se[2]}}(ae,pe,fe,Oe.invRotationMatrix,Oe.cropCenter);return Array.isArray(Oe)?function Y(ae,pe,fe,ge){return ae>=ge[0]&&ae<=ge[3]&&pe>=ge[1]&&pe<=ge[4]&&fe>=ge[2]&&fe<=ge[5]}(Ce.x,Ce.y,Ce.z,Oe):function ne(ae,pe,fe,ge){let Se=(ae-ge.cropCenter[0])*ge.invRadiusX,Oe=(pe-ge.cropCenter[1])*ge.invRadiusY,Ce=(fe-ge.cropCenter[2])*ge.invRadiusZ;return Se*Se+Oe*Oe+Ce*Ce<=1}(Ce.x,Ce.y,Ce.z,Oe)})}function V(ae){let pe=ae.cropSize[0]/2,fe=ae.cropSize[1]/2,ge=ae.cropSize[2]/2,Se=[ae.cropCenter[0]-pe,ae.cropCenter[1]-fe,ae.cropCenter[2]-ge,ae.cropCenter[0]+pe,ae.cropCenter[1]+fe,ae.cropCenter[2]+ge],Oe=Q(ae.cropRotation);return Object.assign(Se,{invRotationMatrix:Oe,cropCenter:ae.cropCenter})}function Q(ae){let pe=[],fe=ae[0]*Math.PI/180,ge=ae[1]*Math.PI/180,Se=ae[2]*Math.PI/180,Oe=Math.cos(fe),Ce=Math.sin(fe),_e=Math.cos(ge),Be=Math.sin(ge),We=Math.cos(Se),Ve=Math.sin(Se),Ue=Oe*We,nt=Oe*Ve,He=Ce*We,tt=Ce*Ve;return pe[0]=_e*We,pe[1]=-_e*Ve,pe[2]=Be,pe[4]=nt+He*Be,pe[5]=Ue-tt*Be,pe[6]=-Ce*_e,pe[8]=tt-Ue*Be,pe[9]=He+nt*Be,pe[10]=Oe*_e,pe[12]=0,pe[13]=0,pe[14]=0,pe[3]=0,pe[7]=0,pe[11]=0,pe[15]=1,pe}function ee(ae){let pe=2/ae.cropSize[0],fe=2/ae.cropSize[1],ge=2/ae.cropSize[2],Se=Q(ae.cropRotation);return{invRadiusX:pe,invRadiusY:fe,invRadiusZ:ge,cropCenter:ae.cropCenter,invRotationMatrix:Se}}e.onmessage=ae=>{if(ae.data.getCroppedIndexes){let pe=new Uint32Array(function S(ae,pe){let fe=[],ge=pe.filter(Ce=>Ce.enabled&&"Include"===Ce.mode).map(Ce=>"Box"===Ce.type?V(Ce):ee(Ce)),Se=pe.filter(Ce=>Ce.enabled&&"Exclude"===Ce.mode).map(Ce=>"Box"===Ce.type?V(Ce):ee(Ce)),Oe=ae.length;for(let Ce=0;Ce<Oe;Ce+=3){let _e=ae[Ce],Be=ae[Ce+1],We=ae[Ce+2];(0===ge.length||A(_e,Be,We,ge))&&(0===Se.length||!A(_e,Be,We,Se))||fe.push(Ce/3)}return fe}(new Float32Array(ae.data.positions),ae.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:pe},[pe])}else if(ae.data.positions)h=ae.data.positions,g=new Float32Array(h),y=ae.data.meshMatrixWorlds,b=ae.data.cropsArray,v=ae.data.meshIndexIntervals,O(y,b,v),e.postMessage({sortSetupComplete:!0});else if(ae.data.sort||ae.data.newMatrixWorlds||ae.data.newCropsArray)(ae.data.newMatrixWorlds||ae.data.newCropsArray)&&(b=ae.data.newCropsArray||b,y=ae.data.newMatrixWorlds||y,O(y,b,v)),function P(ae){let fe,pe=new Float64Array(d,s,16);for(let ge=0;ge<16;ge++)pe[ge]=ae[ge];if(i>1){t.exports.sortIndexes(r,o,c,s,a,l,p.DepthMapRange,i);let ge=new Uint32Array(i);fe=ge.buffer,ge.set(new Uint32Array(d,l,i))}else if(1===i){let ge=new Uint32Array(i);ge[0]=new Uint32Array(d,r,n)[0],fe=ge.buffer}else fe=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:fe},[fe])}(ae.data.sort.view);else if(ae.data.init){p=ae.data.init.Constants,n=ae.data.init.splatCount;let pe=p.BytesPerInt,fe=3*p.BytesPerFloat,ge=new Uint8Array(ae.data.init.sorterWasmBytes),We=Math.floor((n*(pe+fe)+(n*p.BytesPerInt*2+p.DepthMapRange*p.BytesPerInt*2)+32*p.MemoryPageSize)/p.MemoryPageSize)+1,Ve={module:{},env:{memory:new WebAssembly.Memory({initial:2*We,maximum:3*We,shared:!0})}};WebAssembly.compile(ge).then(Ue=>WebAssembly.instantiate(Ue,Ve)).then(Ue=>{t=Ue,r=0,o=n*pe,s=o+n*fe,c=s+16*p.BytesPerFloat*2,a=c+n*p.BytesPerInt,l=a+p.DepthMapRange*p.BytesPerInt,d=Ve.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}Eg(bm,"DepthMapRange",65536),Eg(bm,"MemoryPageSize",65536),Eg(bm,"BytesPerFloat",4),Eg(bm,"BytesPerInt",4);var l4=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(n){return e[0]=n,t[0]}}(),Nze=function(e,t,n,i){return e+(t<<8)+(n<<16)+(i<<24)},oO=new qe;function _Q(e){let t=!1;return e.scene.objects.traverse((n,i)=>{if(!1===i.visible)return!0;"Splat"===i.type&&(t=!0)}),t}var xQ,aO,CQ,sO=class extends hs{constructor(e,t,n,i,r=!1,o=1,s,a){super(n,i),this.splatCount=t,this.meshIndexIntervals=s,this.meshMatrixWorlds=a,this.splatBuffers=e,this.geometry=n,this.material=i,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=r,this.devicePixelRatio=o,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,n=!1,i=1,r,o){let s=sO.buildGeomtery(t),a=sO.buildMaterial(r);return new sO(e,t,s,a,n,i,r,o)}static buildMaterial(e){let i={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new qe},viewport:{type:"v2",value:new qe},basisViewport:{type:"v2",value:new qe},debugColor:{type:"v3",value:new gi},covariancesTextureSize:{type:"v2",value:new qe(1024,1024)},centersColorsTextureSize:{type:"v2",value:new qe(1024,1024)},orthoZoom:{type:"f",value:-1}};return new Qr({uniforms:i,vertexShader:"\n            precision highp float;\n            #include <common>\n\n            attribute uint splatIndex;\n\n            uniform highp sampler2D covariancesTexture;\n            uniform highp usampler2D centersColorsTexture;\n            uniform vec2 focal;\n            uniform vec2 viewport;\n            uniform vec2 basisViewport;\n            uniform vec2 covariancesTextureSize;\n            uniform vec2 centersColorsTextureSize;\n\t\t\t\t\t\tuniform highp sampler2D meshMatrixWorldsTexture;\n\t\t\t\t\t\tuniform uint meshIndexIntervals[257];\n\t\t\t\t\t\tuniform float orthoZoom;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n\n            varying vec2 vPosition;\n\n            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);\n            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));\n            const uvec4 shift4 = uvec4(0, 8, 16, 24);\n            vec4 uintToRGBAVec (uint u) {\n               uvec4 urgba = mask4 & u;\n               urgba = urgba >> shift4;\n               vec4 rgba = vec4(urgba) * encodeNorm4;\n               return rgba;\n            }\n\n            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {\n                vec2 samplerUV = vec2(0.0, 0.0);\n                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;\n                samplerUV.y = float(floor(d)) / dimensions.y;\n                samplerUV.x = fract(d);\n                return samplerUV;\n            }\n\n            void main () {\n                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));\n                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));\n                vColor = uintToRGBAVec(sampledCenterColor.r);\n\n                vPosition = position.xy * 2.0;\n\n\t\t\t\t\t\t\t\tuint meshIndex;\n\t\t\t\t\t\t\t\tfor (int i = 1; i < 257; i++) {\n\t\t\t\t\t\t\t\t\tif (splatIndex < meshIndexIntervals[i]) {\n\t\t\t\t\t\t\t\t\t\tmeshIndex = uint(i - 1);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfloat strideMulmeshIndex = float(4u*meshIndex);\n\t\t\t\t\t\t\t\tfloat meshMatrixWorldsTextureLength = float(256*4);\n\n\t\t\t\t\t\t\t\tmat4 modelMat = mat4(\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmat4 modelViewMat = viewMatrix * modelMat;\n\t\t\t\t\t\t\t\tvec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); \n                vec4 clipCenter = projectionMatrix * viewCenter;\n\n                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;\n                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;\n                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;\n\n                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);\n                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);\n\n                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix\n                mat3 Vrk = mat3(\n                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,\n                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,\n                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z\n                );\n                float s = 1.0 / (viewCenter.z * viewCenter.z);\n\n                mat3 W = transpose(mat3(modelViewMat));\n                mat3 T = orthoZoom > 0.0 ? W : W * mat3(\n\t\t\t\t\t\t\t\t\tfocal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,\n\t\t\t\t\t\t\t\t\t0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,\n\t\t\t\t\t\t\t\t\t0., 0., 0.\n\t\t\t\t\t\t\t\t);\n                mat3 cov2Dm = transpose(T) * Vrk * T;\n                cov2Dm[0][0] += 0.3;\n                cov2Dm[1][1] += 0.3;\n\n                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because\n                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],\n                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't\n                // need cov2Dm[1][0] because it is a symetric matrix.\n                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);\n\n                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;\n\n                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix\n                // so that we can determine the 2D basis for the splat. This is done using the method described\n                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html\n                //\n                // This is a different approach than in the original work at INRIA. In that work they compute the\n                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle\n                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance\n                // matrix (called 'conic') to determine fragment opacity.\n                float a = cov2Dv.x;\n                float d = cov2Dv.z;\n                float b = cov2Dv.y;\n                float D = a * d - b * b;\n                float trace = a + d;\n                float traceOver2 = 0.5 * trace;\n                float term2 = sqrt(trace * trace / 4.0 - D);\n                float eigenValue1 = traceOver2 + term2;\n\t\t\t\t\t\t\t\tfloat eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value\n\n                const float maxSplatSize = 1024.0;\n                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));\n                // since the eigen vectors are orthogonal, we derive the second one from the first\n                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);\n                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);\n                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);\n\n                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;\n\n\t\t\t\t\t\t\t\tif (orthoZoom > 0.0) {\n\t\t\t\t\t\t\t\t\tndcOffset *= orthoZoom;\n\t\t\t\t\t\t\t\t}\n\n                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);\n            }",fragmentShader:"\n            precision highp float;\n            #include <common>\n\n            uniform vec3 debugColor;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n\n            varying vec2 vPosition;\n\t\t\t\t\t\tlayout(location = 1) out vec4 gVelocity; \n\n            void main () {\n                // compute the negative squared distance from the center of the splat to the\n                // current fragment in the splat's local space.\n                float A = -dot(vPosition, vPosition);\n                if (A < -4.0) discard;\n                vec3 color = vColor.rgb;\n                A = exp(A) * vColor.a;\n                gl_FragColor = vec4(color.rgb, A);\n\t\t\t\t\t\t\t\tgVelocity = vec4(0.0); // so it is ignored by TAA\n            }",transparent:!0,alphaTest:1,blending:Dg,depthTest:!0,depthWrite:!1,side:bl})}static buildGeomtery(e){let t=new ii;t.setIndex([0,1,2,0,2,3]);let n=new Float32Array(12),i=new Mi(n,3);t.setAttribute("position",i),i.setXYZ(0,-1,-1,0),i.setXYZ(1,-1,1,0),i.setXYZ(2,1,1,0),i.setXYZ(3,1,-1,0),i.needsUpdate=!0;let r=(new mH).copy(t),o=new Uint32Array(e),s=new p_(o,1,!1);return s.setUsage(35048),r.setAttribute("splatIndex",s),r.instanceCount=e,r}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(i=>i.buildPreComputedBuffers()),this.covariances=new Float32Array(6*this.splatCount),this.colors=new Uint8Array(4*this.splatCount),this.centers=new Float32Array(3*this.splatCount);let e=0,t=0,n=0;for(let i of this.splatBuffers){let r=i.nsplats;this.colors.subarray(e,e+4*r).set(i.colorsA),e+=4*r,this.centers.subarray(t,t+3*r).set(i.decoded.xyz.denormDequant().data),t+=3*r,this.covariances.subarray(n,n+6*r).set(new Float32Array(i.precomputedCovarianceBufferData)),n+=6*r}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new qe(4096,1024);for(;t.x*t.y*2<6*e;)t.y*=2;let i,r,n=new qe(4096,1024);for(;n.x*n.y*4<4*e;)n.y*=2;if(this.halfPrecisionCovariancesOnGPU){r=new Uint16Array(t.x*t.y*2);for(let d=0;d<this.covariances.length;d++)r[d]=HPe.toHalfFloat(this.covariances[d]);i=new Od(r,t.x,t.y,lM,vp)}else r=new Float32Array(t.x*t.y*2),r.set(this.covariances),i=new Od(r,t.x,t.y,lM,Ys);i.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=i,this.material.uniforms.covariancesTextureSize.value.copy(t);let o=new Uint32Array(n.x*n.y*4);for(let d=0;d<e;d++){let h=4*d,p=3*d,g=4*d;o[g]=Nze(this.colors[h],this.colors[h+1],this.colors[h+2],this.colors[h+3]),o[g+1]=l4(this.centers[p]),o[g+2]=l4(this.centers[p+1]),o[g+3]=l4(this.centers[p+2])}let s=new Od(o,n.x,n.y,pj,gp);s.internalFormat="RGBA32UI",s.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=s,this.material.uniforms.centersColorsTextureSize.value.copy(n);let l=new Float32Array(4096);for(let d=0;d<this.meshMatrixWorlds.length;d++)l.set(this.meshMatrixWorlds[d].elements,16*d);let c=new Od(l,1024,1,Ia,Ys);c.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=c,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:r,texture:i,size:t},centerColors:{data:o,texture:s,size:n},meshMatrixWorlds:{data:l,texture:c}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,n,i){this.splatCount>0&&(oO.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(oO),this.material.uniforms.basisViewport.value.set(2/oO.x,2/oO.y),this.material.uniforms.focal.value.set(t,n),this.material.uniforms.orthoZoom.value=i,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose()),this.removeFromParent()}},Lze=new Promise(e=>{xQ=e}),wQ=!1;function Fze(){if(!wQ)return aO||(aO=function e(){return t.apply(this,arguments)}(),aO);function t(){return(t=(0,si.Z)(function*(){let n=yield m.e(492).then(m.bind(m,7666));xQ(n),wQ=!0})).apply(this,arguments)}}Lze.then(e=>CQ=e);var c4=new Pp;c4.wireframe=!0;var MQ=new ie,d4=class extends lu{constructor(e,t){super(),this.data=e,this.sharedAssets=t,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new class{constructor(){this._constraints=new Map}setConstraint(e,t){null===t?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((n,i)=>{let r=[i,n],o=n;for(;this._constraints.has(o);){if(o=this._constraints.get(o),r.includes(o)){console.warn(`circular dependency detected: ${r.join(" -> ")}`);break}t.has(o)||r.push(o)}for(let s=r.length-2;s>=0;s--)if(!t.has(r[s])){let a=e.find(r[s]);a?a.applyPathSnapping(e):console.warn(`missing entity ${r[s]}`),t.add(r[s])}})}findDependency(e,t){let n=e;for(;this._constraints.has(n);)if(n=this._constraints.get(n),n===t)return!0;return!1}},this.invisibleObjects=new ly("jflkdsafjasdifjaslk",{...UI.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1,this.errorPage=new Ua("fdasfa",{...D1.defaultData,name:""},{shared:t,scene:this})}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=function Sze(e){let t=!1;return e.traverseEntity(n=>{if(n instanceof iy)if(Array.isArray(n.material))for(let i=0;i<n.material.length;i++)bQ(n,n.material[i])&&(t=!0);else bQ(n,n.material)&&(t=!0)}),t}(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=function Oze(e){let t=!1;return e.traverseEntity(n=>{if(n instanceof iy)if(Array.isArray(n.material))for(let i=0;i<n.material.length;i++)yQ(n,n.material[i])&&(t=!0);else yQ(n,n.material)&&(t=!0)}),t}(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),n=this.entityIdentityToEntity[t];n&&(e.uuid=n.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof Ua&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(void 0===t)return;let n=[],i=t;for(;i!==this;){let r=i;i=i.parent;let o=i.children.indexOf(r);n.splice(0,0,o)}return{entity:t,sortKey:n}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);void 0!==i&&t.push(i)}return t.sort((n,i)=>$G(n.sortKey,i.sortKey)),t.map(n=>n.entity)}nonExistOrDescendantOf(e,t){let n=this.find(e);if(void 0===n)return!0;for(;n;){if(n.uuid===t)return!0;n=n.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if("f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera"===e)return this.activePage.personalCamera;if(e===C1)return this.activePage.personalCamera}if(""===e||void 0===e)return;let t=this.entityByUuid[e];return void 0===t?this.getObjectByProperty("uuid",e):t}find2D(e){for(let t of this.children)if(t instanceof Ua&&t.uiScene){let n=t.uiScene.find(e);if(n)return n}}findScene2DfromObject2D(e){for(let t of this.children)if(t instanceof Ua&&t.uiScene&&t.uiScene.find(e))return t.uiScene}find2DInUIObjects(e){let t;return this.traverseEntity(n=>{void 0===t&&n instanceof El&&(t=n.uiCanvas.find(e))}),t}traverse2D(e){for(let t of this.children)t instanceof Ua&&t.uiScene&&t.uiScene.traverse(e)}debugEnsureEntity(e){let t=this.find(e);t?Array.isArray(t.identity)&&void 0===this.findInstance(t.identity)&&console.error("not found instance"):console.error("not found")}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{e.cloner?.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){1===e.path.length&&"components"===e.path[0]&&1===e.type&&this.createChildrenObjects([{...e.data.asset,id:e.id}],this.invisibleObjects,t)}updateTreeByOp(e,t){if(0===e.path.length&&7===e.type){let n=null===e.parent?this:this.find(e.parent);if(void 0===n)throw new Error("unexpected");let i=this.createObject(e.id,e.data,e.children,n,e.localIndex,t);i.updateVisible(this),i.resetBBoxNeedsUpdate(),_h(i)&&Gp(i.parent)&&(i.invalidateUpstreamBooleanData(),i.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(i),this.markToExpandCloner(i),this.markPenumbraSizeDirty(),i.updatePathSnapping()}else if(0===e.path.length&&8===e.type){let n=this.find(e.id);if(void 0===n)throw new Error("unexpected");this.markToExpandCloner(n),n.resetBBoxNeedsUpdate(),this.unregisterObject(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),this.markNeedsRecomputeInstancesForChildren(n),this.markPenumbraSizeDirty(),n.parent.remove(n),Gp(n.parent)&&(n.parent.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),_h(n)&&(n.freeBooleanPointer(),i instanceof m0&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n instanceof e4&&n.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),this.pathConstraints.removeDependencies(n.uuid),n.updatePathSnapping()}else if(0===e.path.length&&9===e.type){let n=this.find(e.id);if(void 0===n)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),n.cloner?.resetOnMove(),this.markToExpandCloner(n);let r=null===e.parent?this:this.find(e.parent);if(void 0===r)throw new Error("unexpected");r.add(n),this.markNeedsRecomputeInstancesForAncessors(r),this.markToExpandCloner(n),n.invalidateClonerTransform(n),n.updateVisible(this),n.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty(),r.children.splice(e.localIndex,0,r.children.pop()),_h(n)&&(n.invalidateUpstreamBooleanData(),Gp(n.parent)?n.parent.invalidateDownstreamBooleanData().recomputeBoolean():i instanceof m0&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let t of this.children)t instanceof Ua&&(t.visible=t.uuid===e,t.visible&&(this.activePage=t,this.activePage.onActive(this)));this.activePage!==this.splatViewer?.activePage&&this.reloadSplats()}updateEntityByOp(e,t,n,i){if(0===t.type){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:o}=t.props;t={...t,props:o},this.markNeedsRecomputeInstances()}"pathSnapping"===t.path[0]&&void 0!==t.props.pathId&&this.pathConstraints.setConstraint(e,t.props.pathId)}let r=this.find(e);if(r)try{(function Pze(e,t,n,i){e.updateByOp(t,n,i,!1)})(r,t,n,{scene:this,shared:i}),r instanceof Pl&&r.updateGeometryGroupsIfNeeded()}catch(o){console.error(o)}}updateEntity2DByOp(e,t,n,i,r,o=[]){e.updateEntityByOp(t,n,i,r),this.traverseEntity(s=>{(s instanceof El||s instanceof Ua)&&(o.includes(s.frameId??"")||s.frameId===t)&&s.updateEntity2DByOp(t,n,i,r)})}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let n=Object.entries(t.data.lib.components).map((i,r)=>({data:i[1].asset.data,children:i[1].asset.children,id:i[0],fi:r}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(n,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(i=>{i instanceof Ol&&i.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{("Component"===t.data.type||"Instance"===t.data.type)&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){Dr.is(e)&&("Component"===e.data.type&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{Dr.is(t)&&"Component"===t.data.type&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,n,i,r,o,s){if(e){let a=i.find(e);a&&a!==i&&r.forInstancesRec(l=>{l.data=z_(l.data,c=>{let d=c.events.data(s.id),h=l.goUp(o);if(h){let p=[...XG(h.identity),e].join("-"),g=this.entityIdentityToEntity[p];if(g){let v=g.uuid;va.zoom(d,t)[n]=v}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,n,i,r,o){e.forEach(s=>{"Transition"===s.data.type||"Animation"===s.data.type?this.relativeizeInner(s.data.object,[...t,s.id],"object",n,i,r,o):"Conditional"===s.data.type&&(this.rewriteActions(s.data.ifActions,[...t,s.id,"ifActions"],n,i,r,o),this.rewriteActions(s.data.elseActions,[...t,s.id,"elseActions"],n,i,r,o))})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof dy&&"string"==typeof e.identity&&"Component"===e.data.type)return e.traverseEntity((t,n)=>{t.data.events.forEach(i=>{if("GameControl"===i.data.type){let r=!1;if(t.forInstancesRec(o=>{o.data=z_(o.data,s=>{o.isInstanceRoot||(s.events.delete(i.id),r=!0)}).data}),!1===r)for(let o of QP.list)this.rewriteActions(i.data.gameActions[o],["gameActions",o],e,t,n,i)}else"Conditional"===i.data.type?("Distance"===i.data.condition.type?(this.relativeizeInner(i.data.condition.fromObject,["condition"],"fromObject",e,t,n,i),this.relativeizeInner(i.data.condition.toObject,["condition"],"toObject",e,t,n,i)):"State"===i.data.condition.type?this.relativeizeInner(i.data.condition.object,["condition"],"object",e,t,n,i):"Comparison"===i.data.condition.type&&("Property"===i.data.condition.lOperand.type&&this.relativeizeInner(i.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,n,i),"Property"===i.data.condition.rOperand.type&&this.relativeizeInner(i.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,n,i)),this.rewriteActions(i.data.inActions,["inActions"],e,t,n,i),this.rewriteActions(i.data.outActions,["outActions"],e,t,n,i)):"actions"in i.data&&this.rewriteActions(i.data.actions,["actions"],e,t,n,i)})}),!0})}expandInstances(e,t,n){let i=new Set;this.traverseEntity(r=>{if(r instanceof dy&&r.isInstanceRoot)return r.expandInstanceChildren({scene:this,shared:e,pendingDeletes:i}),t||r.resetBBoxNeedsUpdate(),n&&r.traverseEntity(o=>{n.addClip(o)}),!0});for(let r of i)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(r),n4(r)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(n=>{n instanceof dy&&n.isInstanceRoot&&(n.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let n="string"==typeof t.identity?t.identity:t.identity.join("-");this.entityIdentityToEntity[n]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[n]),t.dispose()})}clearScene(){for(let e of this.children)Dr.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let n=[],i=r=>{for(let o of r.children){let s=o.cloner;if(Dr.is(o)&&!o.raycastLock&&(o.visible||s?.object.data.visible))if(!0===t&&o.isInstanceRoot){let a=[];if(e.intersectObject(o,!0,a),a.length){let l=a[0];l.object=o,l.point.applyMatrix4(l.object.matrixWorld);let c=o.matrixWorld.clone().invert();l.point.applyMatrix4(c),n.push(l)}}else(_h(o)||ER(o)&&this.enableHelpers&&o.objectHelper.visible)&&(e.intersectObject(o,!1,n),a4(o,e,n)),i(o)}};return i(this.activePage),n}raycastWithClones(e){let t=[],n=i=>{for(let r of i.children){let o=r.cloner;Dr.is(r)&&(r.visible||o?.object.data.visible)&&((_h(r)||ER(r)&&this.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),a4(r,e,t,!0)),n(r))}};return n(this),t}forEachEntity(e){for(let t of this.children)Dr.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)Dr.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)Dr.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(n=>{if(n instanceof Pl&&"Mesh"===n.data.type&&("TextGeometry"===n.data.geometry.type||"InputGeometry"===n.data.geometry.type)&&n.data.geometry.font===e){let i=n.geometry,r=n.data.geometry;i.updateFont(e,t).then(()=>{i.update(r);let o=n.invalidateDownstreamBooleanData();Gp(o)&&o.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)rx.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)Dr.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,n){let i=0;for(let r of e)this.createObject(r.id,r.data,r.children,t,i,n),i+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,n,i,r,o){let s={scene:this,shared:o},a=s4(e,t,s);return a&&(this.entityByUuid[e]=a,i.add(a),i.children.splice(r,0,i.children.pop()),n.length>0&&(a.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(n,a,o)),a.updateState(t,s),a instanceof Pl&&a.updateGeometryGroupsIfNeeded(),a.updateVisible(this),a.cloner&&this.toExpandCloner.add(a),t.pathSnapping?.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),"Empty"===t.type&&t.animations&&a.traverseEntity(l=>{let c=l.dataPatched;if(l instanceof Pl&&c.bones&&c.boneInverses){let d=c.bones.map(g=>this.find(g)),h=c.boneInverses.map(g=>(new Kt).fromArray(g)),p=new JT(d,h);l.bind(p,l.bindMatrix)}else l.matrixAutoUpdate=!0}),a}getCenter(e){let t=[];for(let i=0,r=e.length;i<r;++i){let{id:o,recursive:s}=e[i],a=this.find(o);t.push(...(s?a.recursiveBBox:a.singleBBox).vertices)}let n=new As;return n.setFromPoints(t),n.getCenter(MQ),MQ}copyMatrixWorld(e,t){if(null===e)return void t.identity();let n=this.find(e);n?t.copy(n.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){if(null===e)return void t.identity();let n=this.find(e)?.parent;n?t.copy(n.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof Yl)if(Array.isArray(t.material))for(let n=0;n<t.material.length;n++)t.material[n]instanceof pm&&e(t.material[n]);else t.material instanceof pm&&e(t.material)})}updateViewPlaneSize(e,t,n=!1){this.traverseConcreteEntity(i=>{i instanceof Ol&&i.setViewplaneSize(e,t,n)})}initializeSplatViewer(){this.splatViewer=new class{constructor(e={}){Eg(this,"updateView",function(){let t=new Kt,n=[],i=new ie(0,0,-1),r=new ie(0,0,-1),o=new ie,s=new ie;return function(a=!1,l){let c=this.updateMatrixWorldsInWorkerIfNeeded(),d=this.cropsChanged();if(!a){r.set(0,0,-1).applyQuaternion(l.quaternion);let p=!1,g=!1;if(r.dot(i)<=.95&&(p=!0),s.copy(l.position).sub(o).length()>=1&&(g=!0),!(p||g||c||d||this.needsInitialRender))return}this.needsInitialRender=!1,o.copy(l.position),i.copy(r),t.copy(l.matrixWorld).invert(),t.premultiply(this.dummyPerspectiveMatrix),n[0]=l.position.x,n[1]=l.position.y,n[2]=l.position.z;let h={sort:{view:t.elements,cameraPosition:n,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...c?{newMatrixWorlds:this.meshMatrixWorlds}:{},...d?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=h:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(h))}}()),this.scene=e.scene,this.currentPage=null,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null,this.needsInitialRender=!0,this.dummyPerspectiveMatrix=(new Kt).makePerspective(-1,1,-1,1,.1,1e3)}updateSplatMeshUniforms(e,t){let n=new qe;null!==this.splatMesh&&this.splatMesh.getSplatCount()>0&&(e.getSize(n),this.cameraFocalLengthX=t.projectionMatrix.elements[0]*this.devicePixelRatio*n.x*.45,this.cameraFocalLengthY=t.projectionMatrix.elements[5]*this.devicePixelRatio*n.y*.45,this.splatMesh.updateUniforms(n,this.cameraFocalLengthX,this.cameraFocalLengthY,t.isPerspectiveCamera?-1:t.zoom*this.devicePixelRatio))}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=(new ie).fromArray(e.position)),e.orientation&&(e.orientation=(new Ri).fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseVisibleEntity(o=>{"Splat"===o.data.type&&t.push(o)}),this.splatMesh&&this.splatMesh.dispose(),0===t.length)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(o=>o.matrixWorld),this.meshMatrixWorldsOld=t.map(o=>o.matrixWorld.clone()),this.cropsArray=t.map(o=>o.data.crops.map(s=>s.data));let n=t.map(o=>new CQ.GSplineBuffer(new Uint8Array(o.data.buffer).buffer)),i=0,r=[0];for(let o of n)i+=o.getSplatCount(),r.push(i);return this.setupSplatMesh(n,i,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,r,this.meshMatrixWorlds),this.setupSortWorker(i),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,16*t);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,!this.meshMatrixWorlds.every((t,n)=>t.equals(this.meshMatrixWorldsOld[n]))&&(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,n)=>{t.data.crops.forEach((i,r)=>{void 0===this.cropsArray[n][r]?(e=!0,this.cropsArray[n][r]=i.data):Object.entries(i.data).forEach(([o,s])=>{(Array.isArray(s)&&s.some((a,l)=>a!==this.cropsArray[n][r][o][l])||s!==this.cropsArray[n][r]?.[o])&&(e=!0,this.cropsArray[n][r][o]=s)})}),t.data.crops.length!==this.cropsArray[n]?.length&&(this.cropsArray[n].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,n=new ie,i=new Ri,r=!1,o=1,s,a){this.splatMesh=sO.buildMesh(e,t,r,o,s,a),this.splatMesh.position.copy(n),this.splatMesh.quaternion.copy(i),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=99999,this.splatRenderCount=t,this.splatMesh.onBeforeRender=(l,c,d)=>this.update(l,d)}setupSortWorker(e){this.sortWorker=function Rze(e){let t=new Worker(URL.createObjectURL(new Blob(["(",kze.toString(),")(self)"],{type:"application/javascript"}))),n=atob("AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL"),i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return t.postMessage({init:{sorterWasmBytes:i.buffer,splatCount:e,Constants:{BytesPerFloat:bm.BytesPerFloat,BytesPerInt:bm.BytesPerInt,DepthMapRange:bm.DepthMapRange,MemoryPageSize:bm.MemoryPageSize}}}),t}(e),this.sortWorker.onmessage=t=>{t.data.sortDone?(this.sortRunning=!1,this.splatMesh?.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.scene.activePage.add(this.splatMesh),this.needsInitialRender=!0)}}update(e,t){null!==this.splatMesh&&(this.updateSplatMeshUniforms(e,t),this.updateView(!1,t))}getSplatMesh(){return this.splatMesh}}({scene:this}),this.reloadSplats()}reloadSplats(){this.splatViewer?.loadSplat()}},lO=(e,t)=>{let n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},h4=e=>e*(Math.PI/180),u4=new Map,PQ=e=>{u4.has(e)&&clearTimeout(u4.get(e)),u4.set(e,setTimeout(e,100))},cO=(e,t,n)=>{let r,i=t.split(/[ ,]+/g);for(let o=0;o<i.length;o+=1)r=i[o],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent&&e.attachEvent(r,n)},OQ=(e,t,n)=>{let r,i=t.split(/[ ,]+/g);for(let o=0;o<i.length;o+=1)r=i[o],e.removeEventListener?e.removeEventListener(r,n):e.detachEvent&&e.detachEvent(r,n)},SQ=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),EQ=()=>{if(!(typeof window>"u"))return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},p4=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},f4=(e,t,n)=>{let i=DQ(e);for(let r in i)if(i.hasOwnProperty(r))if("string"==typeof t)i[r]=t+" "+n;else{let o="";for(let s=0,a=t.length;s<a;s+=1)o+=t[s]+" "+n+", ";i[r]=o.slice(0,-2)}return i},DQ=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(n){t[n+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},m4=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},g4=(e,t)=>{if(e.length)for(let n=0,i=e.length;n<i;n+=1)t(e[n]);else t(e)};typeof window<"u"&&(AQ="ontouchstart"in window,TQ=!!window.PointerEvent,IQ=!!window.MSPointerEvent);var AQ,TQ,IQ,uy,Px_mouse={start:"mousedown",move:"mousemove",end:"mouseup"},Ox={};function v0(){}TQ?uy={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:IQ?uy={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:AQ?(uy={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},Ox=Px_mouse):uy=Px_mouse,v0.prototype.on=function(e,t){var r,n=this,i=e.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var o=0;o<i.length;o+=1)n._handlers_[r=i[o]]=n._handlers_[r]||[],n._handlers_[r].push(t);return n},v0.prototype.off=function(e,t){var n=this;return n._handlers_=n._handlers_||{},void 0===e?n._handlers_={}:void 0===t?n._handlers_[e]=null:n._handlers_[e]&&n._handlers_[e].indexOf(t)>=0&&n._handlers_[e].splice(n._handlers_[e].indexOf(t),1),n},v0.prototype.trigger=function(e,t){var r,n=this,i=e.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var o=0;o<i.length;o+=1)n._handlers_[r=i[o]]&&n._handlers_[r].length&&n._handlers_[r].forEach(function(s){s.call(n,{type:r,target:n},t)})},v0.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=((e,t)=>{let n={};for(let i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)?n[i]=t[i]:e.hasOwnProperty(i)&&(n[i]=e[i]);return n})(t.options,e))},v0.prototype.bindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[t]=function(){"function"==typeof n["on"+t]?n["on"+t].apply(n,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},cO(e,uy[t],n._domHandlers_[t]),Ox[t]&&cO(e,Ox[t],n._domHandlers_[t]),n},v0.prototype.unbindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},OQ(e,uy[t],n._domHandlers_[t]),Ox[t]&&OQ(e,Ox[t],n._domHandlers_[t]),delete n._domHandlers_[t],this};var v4=v0;function _a(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=_a.id,_a.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}_a.prototype=new v4,_a.constructor=_a,_a.id=0,_a.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},_a.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=((e,t)=>{let n=DQ("borderRadius");for(let i in n)n.hasOwnProperty(i)&&(n[i]="50%");return n})(),n=f4("transition","opacity",e),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},m4(i.el,n),"circle"===this.options.shape&&m4(i.back,t),m4(i.front,t),this.applyStyles(i),this},_a.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var n in e[t])this.ui[t].style[n]=e[t][n];return this},_a.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},_a.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},_a.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},_a.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),"function"==typeof e&&e.call(this)},t.options.fadeTime)),t},_a.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){t.ui.el.style.display="dynamic"===t.options.mode?"none":"block","function"==typeof e&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let n=t.options.restJoystick,i={};i.x=!0===n||!1!==n.x?0:t.instance.frontPosition.x,i.y=!0===n||!1!==n.y?0:t.instance.frontPosition.y,t.setPosition(e,i)}return t},_a.prototype.setPosition=function(e,t){var n=this;n.frontPosition={x:t.x,y:t.y};var r={};r.front=f4("transition",["top","left"],n.options.fadeTime+"ms");var o={front:{}};o.front={left:n.frontPosition.x+"px",top:n.frontPosition.y+"px"},n.applyStyles(r),n.applyStyles(o),n.restTimeout=setTimeout(function(){"function"==typeof e&&e.call(n),n.restCallback()},n.options.fadeTime)},_a.prototype.restCallback=function(){var e=this,t={};t.front=f4("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)},_a.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},_a.prototype.computeDirection=function(e){var r,o,s,t=e.angle.radian,n=Math.PI/4,i=Math.PI/2;if(t>n&&t<3*n&&!e.lockX?r="up":t>-n&&t<=n&&!e.lockY?r="left":t>3*-n&&t<=-n&&!e.lockX?r="down":e.lockY||(r="right"),e.lockY||(o=t>-i&&t<i?"left":"right"),e.lockX||(s=t>0?"up":"down"),e.force>this.options.threshold){var l,a={};for(l in this.direction)this.direction.hasOwnProperty(l)&&(a[l]=this.direction[l]);var c={};for(l in this.direction={x:o,y:s,angle:r},e.direction=this.direction,a)a[l]===this.direction[l]&&(c[l]=!0);if(c.x&&c.y&&c.angle)return e;(!c.x||!c.y)&&this.trigger("plain",e),c.x||this.trigger("plain:"+o,e),c.y||this.trigger("plain:"+s,e),c.angle||this.trigger("dir dir:"+r,e)}else this.resetDirection();return e};var qze=_a;function Rs(e,t){var n=this;n.nipples=[],n.idles=[],n.actives=[],n.ids=[],n.pressureIntervals={},n.manager=e,n.id=Rs.id,Rs.id+=1,n.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},n.config(t),("static"===n.options.mode||"semi"===n.options.mode)&&(n.options.multitouch=!1),n.options.multitouch||(n.options.maxNumberOfNipples=1);let i=getComputedStyle(n.options.zone.parentElement);return i&&"flex"===i.display&&(n.parentIsFlex=!0),n.updateBox(),n.prepareNipples(),n.bindings(),n.begin(),n.nipples}Rs.prototype=new v4,Rs.constructor=Rs,Rs.id=0,Rs.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(n){if(void 0===n)return t[0];for(var i=0,r=t.length;i<r;i+=1)if(t[i].identifier===n)return t[i];return!1}},Rs.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"},Rs.prototype.begin=function(){var e=this,t=e.options;if("static"===t.mode){var n=e.createNipple(t.position,e.manager.getIdentifier());n.add(),e.idles.push(n)}},Rs.prototype.createNipple=function(e,t){var n=this,i=n.manager.scroll,r={},o=n.options;if(e.x&&e.y)r={x:e.x-(n.parentIsFlex?i.x:i.x+n.box.left),y:e.y-(n.parentIsFlex?i.y:i.y+n.box.top)};else if(e.top||e.right||e.bottom||e.left){var a=document.createElement("DIV");a.style.display="hidden",a.style.top=e.top,a.style.right=e.right,a.style.bottom=e.bottom,a.style.left=e.left,a.style.position="absolute",o.zone.appendChild(a);var l=a.getBoundingClientRect();o.zone.removeChild(a),r=e,e={x:l.left+i.x,y:l.top+i.y}}var c=new qze(n,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:t,position:e,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(p4(c.ui.el,r),p4(c.ui.front,c.frontPosition)),n.nipples.push(c),n.trigger("added "+c.identifier+":added",c),n.manager.trigger("added "+c.identifier+":added",c),n.bindNipple(c),c},Rs.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},Rs.prototype.bindNipple=function(e){var t=this,i=function(r,o){t.trigger(r.type+" "+o.id+":"+r.type,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},Rs.prototype.pressureFn=function(e,t,n){var i=this,r=0;clearInterval(i.pressureIntervals[n]),i.pressureIntervals[n]=setInterval(function(){var o=e.force||e.pressure||e.webkitForce||0;o!==r&&(t.trigger("pressure",o),i.trigger("pressure "+t.identifier+":pressure",o),r=o)}.bind(i),100)},Rs.prototype.onstart=function(e){var t=this,n=t.options,i=e;return e=SQ(e),t.updateBox(),g4(e,function(o){t.actives.length<n.maxNumberOfNipples?t.processOnStart(o):i.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(s){if(Object.values(i.touches).findIndex(function(l){return l.identifier===s})<0){var a=[e[0]];a.identifier=s,t.processOnEnd(a)}}),t.actives.length<n.maxNumberOfNipples&&t.processOnStart(o))}),t.manager.bindDocument(),!1},Rs.prototype.processOnStart=function(e){var i,t=this,n=t.options,r=t.manager.getIdentifier(e),o=e.force||e.pressure||e.webkitForce||0,s={x:e.pageX,y:e.pageY},a=t.getOrCreate(r,s);a.identifier!==r&&t.manager.removeIdentifier(a.identifier),a.identifier=r;var l=function(d){d.trigger("start",d),t.trigger("start "+d.id+":start",d),d.show(),o>0&&t.pressureFn(e,d,d.identifier),t.processOnMove(e)};if((i=t.idles.indexOf(a))>=0&&t.idles.splice(i,1),t.actives.push(a),t.ids.push(a.identifier),"semi"!==n.mode)l(a);else{if(!(lO(s,a.position)<=n.catchDistance))return a.destroy(),void t.processOnStart(e);l(a)}return a},Rs.prototype.getOrCreate=function(e,t){var r,n=this,i=n.options;return/(semi|static)/.test(i.mode)?(r=n.idles[0])?(n.idles.splice(0,1),r):"semi"===i.mode?n.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1):r=n.createNipple(t,e)},Rs.prototype.processOnMove=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.scroll;if((e=>isNaN(e.buttons)?0!==e.pressure:0!==e.buttons)(e)){if(!r)return console.error("Found zombie joystick with ID "+i),void t.manager.removeIdentifier(i);if(n.dynamicPage){var s=r.el.getBoundingClientRect();r.position={x:o.x+s.left,y:o.y+s.top}}r.identifier=i;var a=r.options.size/2,l={x:e.pageX,y:e.pageY};n.lockX&&(l.y=r.position.y),n.lockY&&(l.x=r.position.x);var v,y,c=lO(l,r.position),d=((e,t)=>(e=>e*(180/Math.PI))(Math.atan2(t.y-e.y,t.x-e.x)))(l,r.position),h=h4(d),p=c/a,g={distance:c,position:l};if("circle"===r.options.shape?(v=Math.min(c,a),y=((e,t,n)=>{let i={x:0,y:0};return n=h4(n),i.x=e.x-t*Math.cos(n),i.y=e.y-t*Math.sin(n),i})(r.position,v,d)):(y=((e,t,n)=>({x:Math.min(Math.max(e.x,t.x-n),t.x+n),y:Math.min(Math.max(e.y,t.y-n),t.y+n)}))(l,r.position,a),v=lO(y,r.position)),n.follow){if(c>a){let A=l.y-y.y;r.position.x+=l.x-y.x,r.position.y+=A,r.el.style.top=r.position.y-(t.box.top+o.y)+"px",r.el.style.left=r.position.x-(t.box.left+o.x)+"px",c=lO(l,r.position)}}else l=y,c=v;var b=l.x-r.position.x,P=l.y-r.position.y;r.frontPosition={x:b,y:P},n.dataOnly||p4(r.ui.front,r.frontPosition);var O={identifier:r.identifier,position:l,force:p,pressure:e.force||e.pressure||e.webkitForce||0,distance:c,angle:{radian:h,degree:d},vector:{x:b/a,y:-P/a},raw:g,instance:r,lockX:n.lockX,lockY:n.lockY};(O=r.computeDirection(O)).angle={radian:h4(180-d),degree:180-d},r.trigger("move",O),t.trigger("move "+r.id+":move",O)}else this.processOnEnd(e)},Rs.prototype.processOnEnd=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.removeIdentifier(r.identifier);!r||(n.dataOnly||r.hide(function(){"dynamic"===n.mode&&(r.trigger("removed",r),t.trigger("removed "+r.id+":removed",r),t.manager.trigger("removed "+r.id+":removed",r),r.destroy())}),clearInterval(t.pressureIntervals[r.identifier]),r.resetDirection(),r.trigger("end",r),t.trigger("end "+r.id+":end",r),t.ids.indexOf(r.identifier)>=0&&t.ids.splice(t.ids.indexOf(r.identifier),1),t.actives.indexOf(r)>=0&&t.actives.splice(t.actives.indexOf(r),1),/(semi|static)/.test(n.mode)?t.idles.push(r):t.nipples.indexOf(r)>=0&&t.nipples.splice(t.nipples.indexOf(r),1),t.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(t.manager.ids[o.id]=o.identifier))},Rs.prototype.onDestroyed=function(e,t){var n=this;n.nipples.indexOf(t)>=0&&n.nipples.splice(n.nipples.indexOf(t),1),n.actives.indexOf(t)>=0&&n.actives.splice(n.actives.indexOf(t),1),n.idles.indexOf(t)>=0&&n.idles.splice(n.idles.indexOf(t),1),n.ids.indexOf(t.identifier)>=0&&n.ids.splice(n.ids.indexOf(t.identifier),1),n.manager.removeIdentifier(t.identifier),n.manager.unbindDocument()},Rs.prototype.destroy=function(){var e=this;for(var t in e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(n){n.destroy()}),e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var Yze=Rs;function ja(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=EQ(),t.config(e),t.prepareCollections();var n=function(){var r;t.collections.forEach(function(o){o.forEach(function(s){r=s.el.getBoundingClientRect(),s.position={x:t.scroll.x+r.left,y:t.scroll.y+r.top}})})};if(typeof window>"u")return t.collections;cO(window,"resize",function(){PQ(n)});var i=function(){t.scroll=EQ()};return cO(window,"scroll",function(){PQ(i)}),t.collections}ja.prototype=new v4,ja.constructor=ja,ja.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var n;return e.collections.every(function(i){return!(n=i.get(t))}),n}},ja.prototype.create=function(e){return this.createCollection(e)},ja.prototype.createCollection=function(e){var t=this,n=new Yze(t,e);return t.bindCollection(n),t.collections.push(n),n},ja.prototype.bindCollection=function(e){var t=this,i=function(r,o){t.trigger(r.type+" "+o.id+":"+r.type,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},ja.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)},ja.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||!0===e)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)},ja.prototype.getIdentifier=function(e){var t;return e?void 0===(t=void 0===e.identifier?e.pointerId:e.identifier)&&(t=this.latest||0):t=this.index,void 0===this.ids[t]&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},ja.prototype.removeIdentifier=function(e){var t={};for(var n in this.ids)if(this.ids[n]===e){t.id=n,t.identifier=this.ids[n],delete this.ids[n];break}return t},ja.prototype.onmove=function(e){return this.onAny("move",e),!1},ja.prototype.onend=function(e){return this.onAny("end",e),!1},ja.prototype.oncancel=function(e){return this.onAny("end",e),!1},ja.prototype.onAny=function(e,t){var i,n=this,r="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=SQ(t);var o=function(a,l,c){c.ids.indexOf(l)>=0&&(c[r](a),a._found_=!0)};return g4(t,function(a){i=n.getIdentifier(a),g4(n.collections,o.bind(null,a,i)),a._found_||n.removeIdentifier(i)}),!1},ja.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()},ja.prototype.onDestroyed=function(e,t){var n=this;if(n.collections.indexOf(t)<0)return!1;n.collections.splice(n.collections.indexOf(t),1)};var kQ=new ja,RQ=new Map,Sx=new Map,y0=class{constructor(e,t,n,i){this.data=t;let{audio:r,volume:o,delay:s,loop:a}=t;if(!r)throw new Error("Missing property");let l="string"==typeof r?i.getAudio(r).src:r.data;this.audioPlayer=new fx({src:l,volume:o,delay:s,loop:a}),Sx.has(n.uuid)?Sx.get(n.uuid).push(this):Sx.set(n.uuid,[this]),RQ.set(e,this)}playByToggle(){"stop"===this.data.toggle?"playing"===this.audioPlayer.status?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):"pause"===this.data.toggle?"playing"===this.audioPlayer.status?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},y4=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=RQ.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=Sx.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(n=>n.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(n=>n.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...Sx.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(n=>{n.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(n=>{n.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},NQ=class{constructor(e,t,n,i,r){if(this.data=t,this.shared=i,this.condition=r,"play"===t.interaction)this.interaction=new y0(e,t,n,i);else{if("pause"!==t.interaction&&"stop"!==t.interaction)throw new Error("Missing property");this.interaction=new y4(t)}}dispatchBasic(){if(!1===Go(this.shared,this.condition))return!1;this.interaction instanceof y0?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(!1===Go(this.shared,this.condition))return!1;this.interaction instanceof y0?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(!1===Go(this.shared,this.condition))return!1;this.interaction instanceof y0&&("start"===e?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},LQ=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.delay=0,this.emission=e.emission,void 0!==e.delay&&(this.delay=e.delay),this.particleSystem=this.page.scene.find(this.data.emitterObjectId)}toggleEmitting(){this.particleSystem.started&&!this.particleSystem.stopped?this.stop(this.delay):this.start(this.delay)}toggleFroze(){this.particleSystem.started&&!this.particleSystem.isFrozen?this.freeze(this.delay):this.unFreeze(this.delay)}start(e=0){e?this.delayTimerId=window.setTimeout(()=>{this.start(0),this.clearDelay()},e):this.particleSystem.start()}stop(e=0){e?this.delayTimerId=window.setTimeout(()=>{this.stop(0),this.clearDelay()},e):this.particleSystem.stop()}freeze(e=0){e?this.delayTimerId=window.setTimeout(()=>{this.freeze(0),this.clearDelay()},e):this.particleSystem.froze()}unFreeze(e=0){e?this.delayTimerId=window.setTimeout(()=>{this.unFreeze(0),this.clearDelay()},e):this.particleSystem.unFroze()}reset(e=0){e?this.delayTimerId=window.setTimeout(()=>{this.reset(0),this.clearDelay()},e):this.particleSystem.reset()}reverseFromCurrent(){switch(this.emission){case"emitToggle":this.toggleEmitting();break;case"pauseToggle":this.toggleFroze()}}dispatchBasic(){if(!1===Go(this.shared,this.condition)||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"emitToggle":this.toggleEmitting();break;case"pause":this.freeze(this.delay);break;case"pauseToggle":this.toggleFroze();break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay)}}dispatchConditional(){if(!1===Go(this.shared,this.condition)||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay)}}dispatchGameControl(e){if(!1===Go(this.shared,this.condition)||!this.particleSystem)return!1;"start"===e?this.start(this.delay):this.stop(this.delay)}dispose(){!this.particleSystem||(this.particleSystem.reset(),this.clearDelay())}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}},FQ=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),e8e=class{constructor({url:e,context:t},n,i,r){if(this.controlsManager=n,this.shared=i,this.condition=r,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:function Jze(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return((e,{stripHash:t})=>{let n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:i,data:r,hash:o}=n.groups,s=i.split(";");o=t?"":o;let a=!1;"base64"===s[s.length-1]&&(s.pop(),a=!0);let l=(s.shift()||"").toLowerCase(),c=[...s.map(d=>{let[h,p=""]=d.split("=").map(g=>g.trim());return"charset"===h&&(p=p.toLowerCase(),"us-ascii"===p)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return a&&c.push("base64"),(c.length>0||l&&"text/plain"!==l)&&c.unshift(l),`data:${c.join(";")},${a?r.trim():r}${o?`#${o}`:""}`})(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===i.protocol&&(i.protocol="http:"),t.forceHttps&&"http:"===i.protocol&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,s=0,a="";for(;;){let c=o.exec(i.pathname);if(!c)break;let d=c[0],h=c.index;a+=i.pathname.slice(s,h).replace(/\/{2,}/g,"/"),a+=d,s=h+d.length}a+=i.pathname.slice(s,i.pathname.length).replace(/\/{2,}/g,"/"),i.pathname=a}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/");FQ(o[o.length-1],t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...i.searchParams.keys()])FQ(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(!0===t.removeQueryParameters&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let r=e;return e=i.toString(),!t.removeSingleSlash&&"/"===i.pathname&&!r.endsWith("/")&&""===i.hash&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===i.pathname)&&""===i.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}(e,{removeTrailingSlash:!1,removeSingleSlash:!1,stripWWW:!1}),this.context=t??"tab"}dispatch(){if(!1===Go(this.shared,this.condition))return!1;R_?window.location.assign(this.url):("tab"===this.context||qG&&"none"===this.context?window.open(this.url,"_blank"):"window"===this.context?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),this.controlsManager.orbitControls?.onPointerUp(wi[0]),function bIe(){wi.splice(0,wi.length)}())}},BQ=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.controlsManager=n,this.shared=i,this.condition=r,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=o=>{this.timeoutIdQueue.shift();let s=this.page.scene.find(o);if(void 0===s)return;let a=this.controlsManager.sharedGameControlGlobals.rapierWorld,l=!a||s.dataPatched.physics?.fusedBody;if(s.cloner){for(let c of s.cloner.children)l?(c.playModeVisible=!1,c.rigidBody&&"positioned"===s.dataPatched.physics?.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),a.removeRigidBody(c.rigidBody),c.rigidBody=void 0),c.bvhGeometry&&(c.bvhGeometry=void 0)):void 0===this.clone||this.clone===c?(c.playModeVisible=!1,c.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),a.removeRigidBody(c.rigidBody),c.rigidBody=void 0)):void 0===c.playModeVisible&&(c.playModeVisible=!0);(l||void 0===this.clone||!1===this.clone)&&(s.visible=!1,s.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(s.rigidBody.collider(0).handle),a.removeRigidBody(s.rigidBody),s.rigidBody=void 0),s.bvhGeometry&&(s.bvhGeometry=void 0))}else s.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(s.rigidBody.collider(0).handle),a.removeRigidBody(s.rigidBody),s.rigidBody=void 0),s.bvhGeometry&&(s.bvhGeometry=void 0),s.visible=!1;this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(void 0===a?c=>void 0!==c.bvhGeometry:c=>void 0!==c.rigidBody),s.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(!1===Go(this.shared,this.condition))return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay)):this.dispatchInner()}dispatchFromStart(){if(!1===Go(this.shared,this.condition))return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},zQ=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.shared=n,this.eventManager=i,this.condition=r,this.shared=n}dispatch(){if(!1===Go(this.shared,this.condition))return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{this.shared.reset(this.shared.data,!0),k4(this.page,this.shared,!0),this.eventManager.reset(),this.eventManager.controlsManager.gameControl?.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},1e3*(this.data.delay??0))}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},UQ={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},b4={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},t8e=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],dO={CSS:{},springs:{}};function Ch(e,t,n){return Math.min(Math.max(e,t),n)}function Ex(e,t){return e.indexOf(t)>-1}function _4(e,t){return e.apply(null,t)}var Oi={arr:function(e){return Array.isArray(e)},obj:function(e){return Ex(Object.prototype.toString.call(e),"Object")},pth:function(e){return Oi.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||Oi.svg(e))},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return Oi.hex(e)||Oi.rgb(e)||Oi.hsl(e)},key:function(e){return!UQ.hasOwnProperty(e)&&!b4.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function jQ(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function VQ(e,t){var n=jQ(e),i=Ch(Oi.und(n[0])?1:n[0],.1,100),r=Ch(Oi.und(n[1])?100:n[1],.1,100),o=Ch(Oi.und(n[2])?10:n[2],.1,100),s=Ch(Oi.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),l=o/(2*Math.sqrt(r*i)),c=l<1?a*Math.sqrt(1-l*l):0,d=1,h=l<1?(l*a-s)/c:-s+a;function p(v){var y=t?t*v/1e3:v;return y=l<1?Math.exp(-y*l*a)*(d*Math.cos(c*y)+h*Math.sin(c*y)):(d+h*y)*Math.exp(-y*a),0===v||1===v?v:1-y}return t?p:function g(){var v=dO.springs[e];if(v)return v;for(var y=1/6,b=0,P=0;;)if(1===p(b+=y)){if(++P>=16)break}else P=0;var O=b*y*1e3;return dO.springs[e]=O,O}}function n8e(e){return void 0===e&&(e=10),function(t){return Math.ceil(Ch(t,1e-6,1)*e)*(1/e)}}var i8e=function(){var e=11,t=1/(e-1);function n(d,h){return 1-3*h+3*d}function i(d,h){return 3*h-6*d}function r(d){return 3*d}function o(d,h,p){return((n(h,p)*d+i(h,p))*d+r(h))*d}function s(d,h,p){return 3*n(h,p)*d*d+2*i(h,p)*d+r(h)}return function c(d,h,p,g){if(0<=d&&d<=1&&0<=p&&p<=1){var v=new Float32Array(e);if(d!==h||p!==g)for(var y=0;y<e;++y)v[y]=o(y*t,d,p);return function(P){return d===h&&p===g||0===P||1===P?P:o(function b(P){for(var O=0,S=1,A=e-1;S!==A&&v[S]<=P;++S)O+=t;--S;var V=O+(P-v[S])/(v[S+1]-v[S])*t,Q=s(V,d,p);return Q>=.001?function l(d,h,p,g){for(var v=0;v<4;++v){var y=s(h,p,g);if(0===y)return h;h-=(o(h,p,g)-d)/y}return h}(P,V,d,p):0===Q?V:function a(d,h,p,g,v){var y,b,P=0;do{(y=o(b=h+(p-h)/2,g,v)-d)>0?p=b:h=b}while(Math.abs(y)>1e-7&&++P<10);return b}(P,O,O+t,d,p)}(P),h,g)}}}}(),HQ=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,o=4;i<((r=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((3*r-2)/22-i,2)}},Elastic:function(i,r){void 0===i&&(i=1),void 0===r&&(r=.5);var o=Ch(i,1,10),s=Ch(r,.1,2);return function(a){return 0===a||1===a?a:-o*Math.pow(2,10*(a-1))*Math.sin((a-1-s/(2*Math.PI)*Math.asin(1/o))*(2*Math.PI)/s)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach(function(i,r){t[i]=function(){return function(o){return Math.pow(o,r+2)}}}),Object.keys(t).forEach(function(i){var r=t[i];e["easeIn"+i]=r,e["easeOut"+i]=function(o,s){return function(a){return 1-r(o,s)(1-a)}},e["easeInOut"+i]=function(o,s){return function(a){return a<.5?r(o,s)(2*a)/2:1-r(o,s)(-2*a+2)/2}}}),e}();function x4(e,t){if(Oi.fnc(e))return e;var n=e.split("(")[0],i=HQ[n],r=jQ(e);switch(n){case"spring":return VQ(e,t);case"cubicBezier":return _4(i8e,r);case"steps":return _4(n8e,r);default:return _4(i,r)}}function GQ(e){try{return document.querySelectorAll(e)}catch{return}}function hO(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&r.push(s)}return r}function uO(e){return e.reduce(function(t,n){return t.concat(Oi.arr(n)?uO(n):n)},[])}function WQ(e){return Oi.arr(e)?e:(Oi.str(e)&&(e=GQ(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function w4(e,t){return e.some(function(n){return n===t})}function C4(e){var t={};for(var n in e)t[n]=e[n];return t}function M4(e,t){var n=C4(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function pO(e,t){var n=C4(e);for(var i in t)n[i]=Oi.und(e[i])?t[i]:e[i];return n}function qp(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function P4(e,t){return Oi.fnc(e)?e(t.target,t.id,t.total):e}function ku(e,t){return e.getAttribute(t)}function O4(e,t,n){if(w4([n,"deg","rad","turn"],qp(t)))return t;var r=dO.CSS[t+n];if(!Oi.und(r))return r;var s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=100+n;var l=100/s.offsetWidth;a.removeChild(s);var c=l*parseFloat(t);return dO.CSS[t+n]=c,c}function qQ(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?O4(e,r,n):r}}function S4(e,t){return Oi.dom(e)&&!Oi.inp(e)&&(ku(e,t)||Oi.svg(e)&&e[t])?"attribute":Oi.dom(e)&&w4(t8e,t)?"transform":Oi.dom(e)&&"transform"!==t&&qQ(e,t)?"css":null!=e[t]?"object":void 0}function YQ(e){if(Oi.dom(e)){for(var r,t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map;r=n.exec(t);)i.set(r[1],r[2]);return i}}function E4(e,t,n,i){switch(S4(e,t)){case"transform":return function c8e(e,t,n,i){var r=Ex(t,"scale")?1:0+function l8e(e){return Ex(e,"translate")||"perspective"===e?"px":Ex(e,"rotate")||Ex(e,"skew")?"deg":void 0}(t),o=YQ(e).get(t)||r;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),i?O4(e,o,i):o}(e,t,i,n);case"css":return qQ(e,t,n);case"attribute":return ku(e,t);default:return e[t]||0}}function D4(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=qp(e)||0,r=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function XQ(e,t){if(Oi.col(e))return function a8e(e){return Oi.rgb(e)?function r8e(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}(e):Oi.hex(e)?function o8e(e){var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,l,c,d){return l+l+c+c+d+d}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"}(e):Oi.hsl(e)?function s8e(e){var a,l,c,t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100,o=t[4]||1;function s(p,g,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+6*(g-p)*v:v<.5?g:v<2/3?p+(g-p)*(2/3-v)*6:p}if(0==i)a=l=c=r;else{var d=r<.5?r*(1+i):r+i-r*i,h=2*r-d;a=s(h,d,n+1/3),l=s(h,d,n),c=s(h,d,n-1/3)}return"rgba("+255*a+","+255*l+","+255*c+","+o+")"}(e):void 0}(e);if(/\s/g.test(e))return e;var n=qp(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function A4(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $Q(e){for(var i,t=e.points,n=0,r=0;r<t.numberOfItems;r++){var o=t.getItem(r);r>0&&(n+=A4(i,o)),i=o}return n}function QQ(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function d8e(e){return 2*Math.PI*ku(e,"r")}(e);case"rect":return function h8e(e){return 2*ku(e,"width")+2*ku(e,"height")}(e);case"line":return function u8e(e){return A4({x:ku(e,"x1"),y:ku(e,"y1")},{x:ku(e,"x2"),y:ku(e,"y2")})}(e);case"polyline":return $Q(e);case"polygon":return function p8e(e){var t=e.points;return $Q(e)+A4(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function KQ(e,t){var n=t||{},i=n.el||function m8e(e){for(var t=e.parentNode;Oi.svg(t)&&Oi.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),o=ku(i,"viewBox"),s=r.width,a=r.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:s/l[2],h:a/l[3]}}function v8e(e,t){function n(a){return void 0===a&&(a=0),e.el.getPointAtLength(t+a>=1?t+a:0)}var i=KQ(e.el,e.svg),r=n(),o=n(-1),s=n(1);switch(e.property){case"x":return(r.x-i.x)*i.w;case"y":return(r.y-i.y)*i.h;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function ZQ(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=XQ(Oi.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:Oi.str(e)||t?i.split(n):[]}}function JQ(e){return hO(e?uO(Oi.arr(e)?e.map(WQ):WQ(e)):[],function(n,i,r){return r.indexOf(n)===i})}function eK(e){var t=JQ(e);return t.map(function(n,i){return{target:n,id:i,total:t.length,transforms:{list:YQ(n)}}})}function y8e(e,t){var n=C4(t);if(/^spring/.test(n.easing)&&(n.duration=VQ(n.easing)),Oi.arr(e)){var i=e.length;2!==i||Oi.obj(e[0])?Oi.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var o=Oi.arr(e)?e:[e];return o.map(function(s,a){var l=Oi.obj(s)&&!Oi.pth(s)?s:{value:s};return Oi.und(l.delay)&&(l.delay=a?0:t.delay),Oi.und(l.endDelay)&&(l.endDelay=a===o.length-1?t.endDelay:0),l}).map(function(s){return pO(s,n)})}var tK={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var o="";i.list.forEach(function(s,a){o+=a+"("+s+") "}),e.style.transform=o}}};function nK(e,t){eK(e).forEach(function(i){for(var r in t){var o=P4(t[r],i),s=i.target,a=qp(o),l=E4(s,r,a,i),d=D4(XQ(o,a||qp(l)),l),h=S4(s,r);tK[h](s,r,d,i.transforms,!0)}})}function M8e(e,t){return hO(uO(e.map(function(n){return t.map(function(i){return function C8e(e,t){var n=S4(e.target,t.name);if(n){var i=function w8e(e,t){var n;return e.tweens.map(function(i){var r=function x8e(e,t){var n={};for(var i in e){var r=P4(e[i],t);Oi.arr(r)&&1===(r=r.map(function(o){return P4(o,t)})).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),o=r.value,s=Oi.arr(o)?o[1]:o,a=qp(s),l=E4(t.target,e.name,a,t),c=n?n.to.original:l,d=Oi.arr(o)?o[0]:c,h=qp(d)||qp(l),p=a||h;return Oi.und(s)&&(s=c),r.from=ZQ(d,p),r.to=ZQ(D4(s,d),p),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=x4(r.easing,r.duration),r.isPath=Oi.pth(o),r.isColor=Oi.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(n,i)})})),function(n){return!Oi.und(n)})}function iK(e,t){var n=e.length,i=function(o){return o.timelineOffset?o.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0,l=o.pingPongEndDelayCorrection??0;return i(o)+s+a+l+o.duration*(o.loop??1)})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0;return i(o)+s+a+o.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0,l=o.pingPongEndDelayCorrection??0;return i(o)+s+a+o.duration*(o.loop??1)-o.endDelay-l})):t.endDelay,r}var fO,rK=0,Bd=[],oK=[],O8e=function(){function e(){fO=requestAnimationFrame(t)}function t(n){var i=Bd.length;if(i){for(var r=0;r<i;){var o=Bd[r];o.paused?(Bd.splice(r,1),i-=1):(o.tick(n),r++)}e()}else fO=cancelAnimationFrame(fO)}return e}();function Ns(e){void 0===e&&(e={});var r,o,t=0,n=0,i=0,s=0,a=null;function l(Q){var Y=window.Promise&&new Promise(function(ee){return a=ee});return Q.finished=Y,Y}var c=function P8e(e){var t=M4(UQ,e),n=M4(b4,e),i=function _8e(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=pO(function b8e(e){for(var t=hO(uO(e.map(function(o){return Object.keys(o)})),function(o){return Oi.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},i=function(o){var s=t[o];n[s]=e.map(function(a){var l={};for(var c in a)Oi.key(c)?c==s&&(l.value=a[c]):l[c]=a[c];return l})},r=0;r<t.length;r++)i(r);return n}(i),t)),t)Oi.key(r)&&n.push({name:r,tweens:y8e(t[r],e)});return n}(n,e),r=eK(e.targets),o=M8e(r,i),s=iK(o,n),a=rK;return rK++,pO(t,{id:a,children:[],animatables:r,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay,startOnceDelay:n.startOnceDelay,pingPongDelayCorrection:n.pingPongDelayCorrection,pingPongEndDelayCorrection:n.pingPongEndDelayCorrection})}(e);function h(){var Q=c.direction;"alternate"!==Q&&(c.direction="normal"!==Q?"normal":"reverse"),c.reversed=!c.reversed,o.forEach(function(Y){(1===Y.loop||Y.loop%2==0)&&(Y.reversed=c.reversed)})}function g(Q){return c.reversed?c.duration-Q:Q}function y(Q,Y,ee=!1){Y&&Y.seek(c.reversed?Y.duration*Y.loop-(Q-Y.timelineOffset-Y.pingPongDelayCorrection):Q-Y.timelineOffset-Y.startOnceDelay-Y.pingPongDelayCorrection,ee)}function P(Q){var Y=0,ee=c.animations,ne=ee.length;for("alternate"!==c.direction&&"alternate"===c.parent?.direction?!1===c.parent?.rewind&&!0===c.reversePlayback&&!1===c.rewind&&(Q=c.parent?.reversed&&"alternate"===c.direction?c.duration-c.delay+c.endDelay-Q:c.duration+c.delay-c.endDelay-Q):H(!1,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)&&(Q=c.parent?.reversed&&"alternate"===c.direction?c.duration-c.delay+c.endDelay-Q:c.duration+c.delay-c.endDelay-Q);Y<ne;){var ae=ee[Y],pe=ae.animatable,fe=ae.tweens,ge=fe.length-1,Se=fe[ge];let wt;ge&&(Se=hO(fe,function(lt){return Q<lt.end})[0]||Se),wt=c.parent?.reversed&&"alternate"===c.direction?Ch(Q-Se.start-Se.endDelay,0,Se.duration)/Se.duration:Ch(Q-Se.start-Se.delay,0,Se.duration)/Se.duration;for(var Oe=isNaN(wt)?1:Se.easing(wt),Ce=Se.to.strings,_e=Se.round,Be=[],We=Se.to.numbers.length,Ve=void 0,Ue=0;Ue<We;Ue++){var nt=void 0;let lt,Gt;"alternate"!==c.direction?!1===c.parent?.rewind&&!0===c.reversePlayback&&!1===c.rewind?(lt=Se.to.numbers[Ue],Gt=Se.from.numbers[Ue]||0):(Gt=Se.to.numbers[Ue],lt=Se.from.numbers[Ue]||0):H(!0,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)?(lt=Se.to.numbers[Ue],Gt=Se.from.numbers[Ue]||0):(Gt=Se.to.numbers[Ue],lt=Se.from.numbers[Ue]||0),nt=Se.isPath?v8e(Se.value,Oe*Gt):lt+Oe*(Gt-lt),_e&&(Se.isColor&&Ue>2||(nt=Math.round(nt*_e)/_e)),Be.push(nt)}var He=Ce.length;if(He){Ve=Ce[0];for(var tt=0;tt<He;tt++){var xt=Ce[tt+1],rt=Be[tt];isNaN(rt)||(Ve+=xt?rt+xt:rt+" ")}}else Ve=Be[0];tK[ae.type](pe.target,ae.property,Ve,pe.transforms),ae.currentValue=Ve,Y++}}function O(Q){c[Q]&&!c.passThrough&&c[Q](c)}l(c);let A={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function H(Q,Y,ee,ne,ae){return A[Q<<4|Y<<3|ee<<2|ne<<1|ae]}function V(Q,Y=!1){var ee=c.duration;let ne=c.delay,ae=ee-c.endDelay;c.parent?.reversed&&"alternate"===c.direction&&(ne=c.endDelay,ae=ee-c.delay);var pe=g(Q);if(c.progress=Ch(pe/ee*100,0,100),Y||(c.reversePlayback=pe<c.currentTime),s&&function b(Q,Y=!1){if(c.reversed)for(var ee=s;ee--;)y(Q,o[ee],Y);else for(var ne=0;ne<s;ne++)y(Q,o[ne],Y)}(pe,Y),!c.began&&c.currentTime>=0&&(c.began=!0,O("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,O("loopBegin")),(c.reversed||pe>=0)&&pe<=ne&&0!==c.currentTime&&(P(0),O("change")),(pe>=ae&&c.currentTime!==ee+c.pingPongDelayCorrection||!ee)&&(P(ee),O("change")),pe>ne&&pe<ae?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,O("changeBegin")),P(pe),O("change")):c.changeBegan?(c.changeCompleted=!0,c.changeBegan=!1,O("change"),s&&O("timelineChangeComplete")):c.began&&pe>ae&&O("changeComplete"),c.currentTime=Ch(pe,0,ee+c.pingPongDelayCorrection),c.began&&O("update"),Q>=ee)if(function S(){c.remaining&&!0!==c.remaining&&c.remaining--}(),c.remaining){t+=s?c.duration/Ns.speed:c.duration;for(let fe of o)fe.setStartTime(0),fe.remaining=fe.loop;O("loopComplete"),c.loopBegan=!1,"alternate"===c.direction?h():s&&function p(){c.direction="normal",c.reversed=!1,o.forEach(function(Q){return Q.reversed=!1})}()}else c.paused=!0,c.completed||(c.completed=!0,O("loopComplete"),O("complete"),!c.passThrough&&"Promise"in window&&(a(),l(c)))}return c.reset=function(){var Q=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===Q,c.remaining=c.loop;for(var Y=s=(o=c.children).length;Y--;)c.children[Y].reset();P(c.reversed?c.duration:0)},c.setStartTime=function(Q){t=Q},c.set=function(Q,Y){return nK(Q,Y),c},c.tick=function(Q){i=Q,t||(t=i),V((i+(n-t))*Ns.speed)},c.seek=function(Q,Y=!1){V(Q-t,Y)},c.pause=function(Q){c.paused=!0,s&&(r=Q??performance.now())},c.play=function(Q){!c.paused||(c.completed&&c.reset(),c.paused=!1,Bd.push(c),s&&void 0!==r&&(t+=(Q??performance.now())-r),fO||O8e())},c.reverse=function(){h(),c.completed=!c.reversed,function v(){t=0,n=g(c.currentTime)*(1/Ns.speed)}()},c.restart=function(){c.reset(),c.play()},c.reset(),c.autoplay&&c.play(),c}function sK(e,t){for(var n=t.length;n--;)w4(e,t[n].animatable.target)&&t.splice(n,1)}typeof document<"u"&&document.addEventListener("visibilitychange",function S8e(e){document.hidden?(Bd.forEach(function(t){return t.pause(e.timeStamp)}),oK=Bd.slice(0),Ns.running=Bd=[]):oK.forEach(function(t){return t.play(e.timeStamp)})}),Ns.version="3.2.0",Ns.speed=1,Ns.running=Bd,Ns.remove=function E8e(e){for(var t=JQ(e),n=Bd.length;n--;){var i=Bd[n],r=i.animations,o=i.children;sK(t,r);for(var s=o.length;s--;){var a=o[s],l=a.animations;sK(t,l),!l.length&&!a.children.length&&o.splice(s,1)}!r.length&&!o.length&&i.pause()}},Ns.get=E4,Ns.set=nK,Ns.convertPx=O4,Ns.path=function g8e(e,t){var n=Oi.str(e)?GQ(e)[0]:e,i=t||100;return function(r){return{property:r,el:n,svg:KQ(n),totalLength:QQ(n)*(i/100)}}},Ns.setDashoffset=function f8e(e){var t=QQ(e);return e.setAttribute("stroke-dasharray",t),t},Ns.stagger=function D8e(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?x4(t.easing):null,r=t.grid,o=t.axis,s=t.from||0,a="first"===s,l="center"===s,c="last"===s,d=Oi.arr(e),h=parseFloat(d?e[0]:e),p=d?parseFloat(e[1]):0,g=qp(d?e[1]:e)||0,v=t.start||0+(d?h:0),y=[],b=0;return function(P,O,S){if(a&&(s=0),l&&(s=(S-1)/2),c&&(s=S-1),!y.length){for(var A=0;A<S;A++){if(r){var H=l?(r[0]-1)/2:s%r[0],V=l?(r[1]-1)/2:Math.floor(s/r[0]),ee=H-A%r[0],ne=V-Math.floor(A/r[0]),ae=Math.sqrt(ee*ee+ne*ne);"x"===o&&(ae=-ee),"y"===o&&(ae=-ne),y.push(ae)}else y.push(Math.abs(s-A));b=Math.max.apply(Math,y)}i&&(y=y.map(function(fe){return i(fe/b)*b})),"reverse"===n&&(y=y.map(function(fe){return o?fe<0?-1*fe:-fe:Math.abs(b-fe)}))}return v+(d?(p-h)/b:h)*(Math.round(100*y[O])/100)+g}},Ns.timeline=function A8e(e){void 0===e&&(e={});var t=Ns(e);return t.duration=0,t.add=function(n,i){var r=Bd.indexOf(t),o=t.children;function s(p){p.passThrough=!0}r>-1&&Bd.splice(r,1);for(var a=0;a<o.length;a++)s(o[a]);var l=pO(n,M4(b4,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.timelineOffset=Oi.und(i)?c:D4(i,c),s(t);var d=Ns(l);s(d),o.push(d),d.parent=t;var h=iK(o,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,!0===d.loop&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Ns.easing=x4,Ns.penner=HQ,Ns.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var aK=Ns,lK=new ie,cK=new ie,dK=new Ri;function cl(e,t,n,i,r,o){let s=void 0!==n[e]?n[e]:void 0,a=i[e];if(null==a)return;let l=null!=s?"string"==typeof s?Number(r.getVariable(s)??0):s:t[e],c="string"==typeof a?Number(r.getVariable(a)??0):a;return l!==c?{update:d=>{let h=Ln.lerp(l,c,d);t[e]=o?Math.trunc(h):h},start:()=>{t[e]=l},end:()=>{t[e]=c}}:void 0}function T4(e,t,n,i,r,o){let a=i[e];if(!a)return;let c=[...(n[e]?n[e]:void 0)??t[e]].map(h=>"string"==typeof h?Number(r.getVariable(h)??0):h),d=[...a].map(h=>"string"==typeof h?Number(r.getVariable(h)??0):h);return c.length!==d.length||Y3(c,d)?void 0:{update:h=>{c.forEach((p,g)=>{let v=Ln.lerp(p,d[g],h);t[e][g]=o?Math.trunc(v):v})},start:()=>{Object.assign(t[e],c)},end:()=>{Object.assign(t[e],d)}}}function mO(e,t,n){return t.forEach((i,r)=>{e.setComponent(r,"string"==typeof i?Number(n.getVariable(i)??0):i)}),e}function hK(e,t,n,i,r){let o=n[e]?n[e]:void 0,s=i[e];if(!s)return;let a=t[e],l=o?mO(new ie,o,r):a.clone(),c=mO(new ie,s,r);return l.equals(c)?void 0:{update:d=>{a.lerpVectors(l,c,d)},start:()=>{a.copy(l)},end:()=>{a.copy(c)}}}function uK(e,t,n){return t.forEach((i,r)=>{e.setComponent(r,"string"==typeof i?Number(n.getVariable(i)??0):i)}),e}function gO(e,t,n,i,r){let o=n[e]?n[e]:void 0,s=i[e];if(!s)return;let a=t[e],l=!(a instanceof qe),c=a instanceof qe?a:(new qe).fromArray(a),d=o?uK(new qe,o,r):c.clone(),h=uK(new qe,s,r);return d.equals(h)?void 0:{update:p=>{c.lerpVectors(d,h,p),l&&(t[e]=c.toArray())},start:()=>{c.copy(d),l&&(t[e]=c.toArray())},end:()=>{c.copy(h),l&&(t[e]=c.toArray())}}}function vO(e,t,n,i,r){let o=n[e]?n[e]:void 0,s=i[e];if(!s)return;let a=t[e],l=new al(a.r,a.g,a.b,a.a),c=o?"string"==typeof o?r.getColor(o).clone():new al(o.r,o.g,o.b,o.a):l.clone(),d="string"==typeof s?r.getColor(s).clone():new al(s.r,s.g,s.b,s.a);return c.equals(d)?void 0:{update:h=>{l.lerpColors(c,d,h);let p=Ln.lerp(c.a,d.a,h);l.a=p,t[e]={r:l.r,g:l.g,b:l.b,a:l.a}},start:()=>{l.copy(c)},end:()=>{l.copy(d)}}}function _m(e,t,n,i,r){return"number"==typeof t[e]?cl(e,t,n??{},i,r):Array.isArray(t[e])?T4(e,t,n??{},i,r):void 0}function pK(e,t,n,i){let r=[],o=ey(n,i)||!!t.layers&&ey(t,i);r.push(function X8e(e,t){return{update:()=>{e.transparent=t}}}(e,o));for(let s of e.layers){let a=t.layers?.data(s.uuid),l=n.layers.data(s.uuid);if(!l||"light"!==s.type&&(!(s.visible??1)||!(l.visible??1)))continue;let c=s.getNames().filter(d=>!cq.some(h=>d.includes(h)));for(let d of c)try{let p,h=s.getValue(d);if("colors"===d)p=q8e(s,a,l,d);else if(Array.isArray(h))"steps"===d&&(p=W8e(s,a,l,d));else if("number"==typeof h)p=U8e(s,a,l,d,i);else{if("boolean"==typeof h)continue;h instanceof qe?p=j8e(s,a,l,d):h instanceof ie?p=V8e(s,a,l,d,i):h instanceof al?p=G8e(s,a,l,d,i):h instanceof gi?p=H8e(s,a,l,d,i):"isTexture"in h&&(p=Y8e(s,a,l,d))}p&&(Array.isArray(p)?r.push(...p):r.push(p))}catch(h){console.error(`lerpMaterial: unexpected material layer for ${d}`,h)}}return r}function U8e(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:e.getValue(i),s=n[i],a="string"==typeof o?Number(r.getVariable(o)??0):o,l="string"==typeof s?Number(r.getVariable(s)??0):s;return a!==l?{update:c=>{e.setValue(i,Ln.lerp(a,l,c))},start:()=>{e.setValue(i,a)},end:()=>{e.setValue(i,l)}}:void 0}function j8e(e,t,n,i){if(!e.hasValue(i)||!(i in n))return;let r=e.getValue(i),o=t?(new qe).fromArray(t[i]):r.clone(),s=(new qe).fromArray(n[i]);return o.equals(s)?void 0:{update:a=>{r.lerpVectors(o,s,a)},start:()=>{r.copy(o)},end:()=>{r.copy(s)}}}function V8e(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=e.getValue(i),s=t?t[i]:void 0,a=n[i],l=s?mO(new ie,s,r):o.clone(),c=mO(new ie,a,r);return l.equals(c)?void 0:{update:d=>{o.lerpVectors(l,c,d)},start:()=>{o.copy(l)},end:()=>{o.copy(c)}}}function H8e(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:void 0,s=n[i],a=e.getValue(i),l=o?"string"==typeof o?r.getColor(o).clone():(new gi).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():(new gi).setRGB(s.r,s.g,s.b);if(l.equals(c))return;let d=a.clone();return{update:h=>{e.getValue(i)!==d&&e.setValue(i,d),d.lerpColors(l,c,h)},start:()=>{d.copy(l)},end:()=>{d.copy(c)}}}function G8e(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:void 0,s=n[i],a=e.getValue(i),l=o?"string"==typeof o?r.getColor(o).clone():(new gi).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():new al(s.r,s.g,s.b,s.a);if(l.equals(c))return;let d=a.clone();return{update:h=>{e.getValue(i)!==d&&e.setValue(i,d),d.lerpColors(l,c,h)},start:()=>{d.copy(l)},end:()=>{d.copy(c)}}}function W8e(e,t,n,i="steps"){if(!e.hasValue(i)||!(i in n))return;let r=[],o=e.getValue(i),s=t?t[i]:o,a=n[i];return Y3(s,a)||r.push({update:l=>{let c=[...o];for(let d=0;d<o.length;++d)c[d]=Ln.lerp(s[d],a[d],l);e.setValue(i,c)},start:()=>{e.setValue(i,s)},end:()=>{e.setValue(i,a)}}),r.length?r:void 0}function q8e(e,t,n,i="colors"){if(!e.hasValue(i)||!(i in n))return;let r=[],o=e.getValue(i),s=t?t[i]:o.map(l=>l.toArray()),a=n[i];for(let l=0;l<o.length;++l){let c=[...s[l]],d=[...a[l]];jP.isEqual(c,d)||r.push({update:h=>{o[l].fromArray(jP.lerp(c,d,h))},start:()=>{o[l].fromArray(c)},end:()=>{o[l].fromArray(d)}})}return r.length?r:void 0}function Y8e(e,t,n,i="texture"){if(!e.hasValue(i)||!(i in n))return;let r=e.getNode("rotation"),o=t?.[i]?.rotation??0,s=n[i]?.rotation??0;if(r&&o!==s)return{update:b=>{r.value=Ln.lerp(o,s,b)*Ln.DEG2RAD},start:()=>{r.value=o*Ln.DEG2RAD},end:()=>{r.value=s*Ln.DEG2RAD}};let a=e.getNode("mat");if(!a)return;let l=t?t[i]:a,c=n[i],d=[...l.repeat],h=[...l.offset],p=[...c.repeat],g=[...c.offset],v=l.rotation??0,y=c.rotation??0;return Ip.isEqual(d,p)&&Ip.isEqual(h,g)&&v===y?void 0:{update:b=>{a.repeat=Ip.lerp(d,p,b),a.offset=Ip.lerp(h,g,b),a.rotation=Ln.lerp(v,y,b),a.updateMatrix()},start:()=>{a.repeat=[...d],a.offset=[...h],a.rotation=v,a.updateMatrix()},end:()=>{a.repeat=[...p],a.offset=[...g],a.rotation=y,a.updateMatrix()}}}var I4=new ie,fK=new fa;function mK(e,t,n,i,r){let o=[];return e.data.visible&&o.push(...function $8e(e,t,n,i,r){let s,a,l,c,d,h,p,g,o=[];if(e instanceof Ba?(s=gO("position",e,t,n,r),s&&o.push(s),l=cl("rotation",e,t,n,r),l&&o.push(l),c=gO("shear",e,t,n,r),c&&o.push(c)):(g={slide:t.pathSnapping?.slide??e.updatedPathSnapping?.slide??e.dataPatched.pathSnapping?.slide??0,offset:t.pathSnapping?.offset??e.updatedPathSnapping?.offset??e.dataPatched.pathSnapping?.offset??0},h=cl("slide",g,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,r),h&&o.push(h),p=cl("offset",g,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,r),p&&o.push(p),!h&&!p&&(s=hK("position",e,t,n,r),s&&o.push(s),a=hK("scale",e,t,n,r),a&&o.push(a),l=function Q8e(e,t,n,i,r){let o=t?.rotation?t.rotation.map(d=>("string"==typeof d?Number(r.getVariable(d)??0):d)*Ln.DEG2RAD):void 0,s=n.rotation?.map(d=>("string"==typeof d?Number(r.getVariable(d)??0):d)*Ln.DEG2RAD);if(!s)return;let a=o?(new ie).fromArray(o):(new ie).setFromEuler(e.rotation),l=(new ie).fromArray(s);if(a.equals(l))return;let c=I4.subVectors(l,a);if(i&&c.toArray().every(d=>Math.abs(d)<2*Math.PI)){let d=(new Ri).setFromEuler(fK.setFromVector3(a)),h=(new Ri).setFromEuler(fK.setFromVector3(l));return{update:p=>{!function T8e(e,t,n,i){if(0===i)return n.copy(e);if(1===i)return n.copy(t);let r=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(r>=1)return n.copy(e);let o=1-r*r;if(o<=Number.EPSILON){let d=1-i;return n.w=d*e.w+i*t.w,n.x=d*e.x+i*t.x,n.y=d*e.y+i*t.y,n.z=d*e.z+i*t.z,n.normalize(),n}let s=Math.sqrt(o),a=Math.atan2(s,r),l=Math.sin((1-i)*a)/s,c=Math.sin(i*a)/s;n.w=e.w*l+t.w*c,n.x=e.x*l+t.x*c,n.y=e.y*l+t.y*c,n.z=e.z*l+t.z*c}(d,h,e.quaternion,p)},start:()=>{e.rotation.setFromVector3(a)},end:()=>{e.rotation.setFromVector3(l)}}}return{update:d=>{I4.lerpVectors(a,l,d),e.rotation.setFromVector3(I4)},start:()=>{e.rotation.setFromVector3(a)},end:()=>{e.rotation.setFromVector3(l)}}}(e,t,n,i,r),l&&o.push(l),d=function I8e(e,t,n,i){let r=n[e]?n[e]:void 0,o=i[e];if(!o)return;let s=t[e],a=r?(new Kt).fromArray(r):s.clone(),l=new ie,c=new Ri,d=new ie;a.decompose(l,c,d);let h=(new Kt).fromArray(o),p=new ie,g=new Ri,v=new ie;return h.decompose(p,g,v),a.equals(h)?void 0:{update:y=>{dK.slerpQuaternions(c,g,y),lK.lerpVectors(l,p,y),cK.lerpVectors(d,v,y),s.compose(lK,dK,cK)},start:()=>{s.compose(l,c,d)},end:()=>{s.compose(p,g,v)}}}("hiddenMatrix",e,t,n),d&&o.push(d))),s||a||l||d||h||p){let v=e instanceof Ba?()=>{e.updateWorldMatrix(!0)}:()=>{e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),e.parent?.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),_h(e)&&Gp(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,g))};o.push({update:v,start:v,end:v})}return o}(e,t,n,r,i)),e instanceof Ba?o.push(...function c9e(e,t,n,i,r){let s,a,l,c,d,h,p,g,v,y,b,P,O,S,A,o=[];if("width"in e&&(s=cl("width",e,t,n,r),s&&o.push(s)),"height"in e&&(a=cl("height",e,t,n,r),a&&o.push(a)),e instanceof za||e instanceof Iu){let H={...t.fill},V={...n.fill};void 0!==H.enabled&&H.enabled!==V.enabled&&(o.push(function i9e(e,t){return{update:()=>{e instanceof za&&(e.fill.enabled=t)}}}(e,!0)),H.enabled||Object.assign(H,{enabled:!0,color:{...H.color,a:0}}),V.enabled||Object.assign(V,{enabled:!0,color:{...V.color,a:0}})),l=vO("color",e.fill,H,V,r),l&&o.push(l)}if(e instanceof za){let H={...t.stroke},V={...n.stroke};(H.enabled||V.enabled)&&(o.push(function r9e(e,t){return{update:()=>{e instanceof za&&(e.stroke.enabled=t)}}}(e,!0)),H.enabled||Object.assign(H,{enabled:!0,color:{...H.color,a:0}}),V.enabled||Object.assign(V,{enabled:!0,color:{...V.color,a:0}})),c=vO("color",e.stroke,H,V,r),c&&o.push(c),d=cl("thickness",e.stroke,H,V,r),d&&o.push(d)}if(e instanceof za){let H={...t.dropShadow},V={...n.dropShadow};(H.enabled||V.enabled)&&(o.push(function o9e(e,t){return{update:()=>{e instanceof za&&(e.dropShadow.enabled=t)}}}(e,!0)),H.enabled||Object.assign(H,{enabled:!0,color:{...H.color,a:0}}),V.enabled||Object.assign(V,{enabled:!0,color:{...V.color,a:0}})),h=vO("color",e.dropShadow,H,V,r),h&&o.push(h),p=cl("blurRadius",e.dropShadow,H,V,r),p&&o.push(p),v=cl("spread",e.dropShadow,H,V,r),v&&o.push(v),g=gO("offset",e.dropShadow,H,V,r),g&&o.push(g)}if(e instanceof za){let H={...t.innerShadow},V={...n.innerShadow};(H.enabled||V.enabled)&&(o.push(function s9e(e,t){return{update:()=>{e instanceof za&&(e.innerShadow.enabled=t)}}}(e,!0)),H.enabled||Object.assign(H,{enabled:!0,color:{...H.color,a:0}}),V.enabled||Object.assign(V,{enabled:!0,color:{...V.color,a:0}})),y=vO("color",e.innerShadow,H,V,r),y&&o.push(y),b=cl("blurRadius",e.innerShadow,H,V,r),b&&o.push(b),O=cl("spread",e.innerShadow,H,V,r),O&&o.push(O),P=gO("offset",e.innerShadow,H,V,r),P&&o.push(P)}if(e instanceof za||e instanceof Iu){let H={...t.backgroundBlur},V={...n.backgroundBlur};(H.enabled||V.enabled)&&(o.push(function a9e(e,t){return{update:()=>{e instanceof za&&(e.backgroundBlur.enabled=t)}}}(e,!0)),H.enabled||Object.assign(H,{enabled:!0,radius:0}),V.enabled||Object.assign(V,{enabled:!0,radius:0})),S=cl("radius",e.backgroundBlur,H,V,r),S&&o.push(S)}if(e instanceof za){let H={...t.layerBlur},V={...n.layerBlur};(H.enabled||V.enabled)&&(o.push(function l9e(e,t){return{update:()=>{e instanceof za&&(e.layerBlur.enabled=t)}}}(e,!0)),H.enabled||Object.assign(H,{enabled:!0,radius:0}),V.enabled||Object.assign(V,{enabled:!0,radius:0})),A=cl("radius",e.layerBlur,H,V,r),A&&o.push(A)}if(e instanceof Iu||e instanceof Mx){let H=T4("cornerRadius",e,t,n,r);H&&o.push(H)}return o}(e,t,n,0,i)):(e.data.visible&&o.push(...function K8e(e,t,n,i){let r=[];if(!("cloner"in n)||!e.cloner)return r;let o=e.cloner,s="cloner"in t?t.cloner:{},a=n.cloner;eq.forEach(g=>{let v;v="count"===g?cl("count",o.parameters,s,a,i,!0):_m(g,o.parameters,s??{},a,i),v&&r.push(v)});let l=function Z8e(e,t,n,i){if("radial"!==e.parameters.type)return;let r=t.radial,o=n.radial;if(!o)return;let s=e.parameters.radial,a=[];return tq.forEach(l=>{let c=_m(l,s,r??{},o,i);c&&a.push(c)}),a}(o,s,a,i);l?.length&&r.push(...l);let c=function J8e(e,t,n,i){if("linear"!==e.parameters.type)return;let r=t.linear,o=n.linear;if(!o)return;let s=[],a=e.parameters.linear;return nq.forEach(l=>{let c=_m(l,a,r??{},o,i);c&&s.push(c)}),s}(o,s,a,i);c?.length&&r.push(...c);let d=function e9e(e,t,n,i){if("grid"!==e.parameters.type)return;let r=t.grid,o=n.grid;if(!o)return;let s=[],a=e.parameters.grid;return iq.forEach(l=>{let c;c="count"===l?T4(l,a,r??{},o,i,!0):_m(l,a,r??{},o,i),c&&s.push(c)}),s}(o,s,a,i);d?.length&&r.push(...d);let h=function t9e(e,t,n,i){if("toObject"!==e.parameters.type)return;let r=t.toObject,o=n.toObject;if(!o)return;let s=[],a=e.parameters.toObject;return rq.forEach(l=>{let c;c="count"===l?cl(l,a,r??{},o,i,!0):_m(l,a,r??{},o,i),c&&s.push(c)}),s}(o,s,a,i);h?.length&&r.push(...h);let p=function n9e(e,t,n,i){if(!e.parameters.randomness)return;let r=t.randomnessObject,o=n.randomnessObject;if(!o)return;let s=[],a=e.parameters.randomnessObject;return oq.forEach(l=>{let c=_m(l,a,r??{},o,i);c&&s.push(c)}),s}(o,s,a,i);return p?.length&&r.push(...p),r.length&&r.push({update:()=>{o.update()}}),r}(e,t,n,i)),_h(e)?(e instanceof Pl&&e.data.visible&&o.push(...function F8e(e,t,n,i){let r=[];if(!("geometry"in n))return r;let o=e.geometry.userData.parameters,s="geometry"in t?t.geometry:{},a=n.geometry;if(e instanceof gx){let l=function N8e(e,t,n,i){if(void 0===n.scaleBaked)return;let r=(t.scaleBaked??e.data.geometry.scaleBaked).map(a=>"string"==typeof a?Number(i.getVariable(a)??0):a),o=n.scaleBaked.map(a=>"string"==typeof a?Number(i.getVariable(a)??0):a);if($g.isEqual(r,o))return;let s=[];return s.push({update:a=>{e.updateGeometryInteractions({scaleBaked:[Ln.lerp(r[0],o[0],a),Ln.lerp(r[1],o[1],a),Ln.lerp(r[2],o[2],a)]},i),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()},start:()=>{e.updateGeometryInteractions({scaleBaked:r},i),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()},end:()=>{e.updateGeometryInteractions({scaleBaked:o},i),e.invalidateDownstreamBooleanData(),e.refreshAttachedClonersInteractions()}}),s}(e,s,a,i);l&&r.push(...l)}else{let l={};if(Object.assign(l,pu(o,II),pu(s,II)),II.forEach(c=>{let d=_m(c,l,s,a,i);d&&r.push(d)}),e instanceof e4){Object.assign(l,{extrusion:{...o.extrusion}});let c=function L8e(e,t,n,i){if(!n.extrusion)return;let r=e.extrusion,o=t.extrusion??{},s=n.extrusion,a=[];return uq.forEach(l=>{let c=_m(l,r,o,s,i);c&&a.push(c)}),a}(l,s,a,i);c&&r.push(...c)}r.length&&r.push({update:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()},start:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()},end:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded(),e.refreshAttachedClonersInteractions()}})}return r}(e,t,n,i)),e.data.visible&&o.push(...function z8e(e,t,n,i){let r=[];if(Array.isArray(e.material)){if(!("materials"in n)||!n.materials)return r;let o="materials"in t&&t.materials?t.materials:[],s=n.materials;e.material.forEach((a,l)=>{if(!s[l])return;let c=o[l]??{},d=s[l];"string"==typeof c||"string"==typeof d||r.push(...pK(a,c,d,i))})}else{if(!("material"in n)||!n.material)return r;let o="material"in t&&t.material?t.material:{},s=n.material;if("string"==typeof o||"string"==typeof s)return r;r.push(...pK(e.material,o,s,i))}return r}(e,t,n,i))):tFe(e)?e.data.visible&&o.push(...function B8e(e,t,n,i){let r=[];if(void 0!==n.intensity){let o=cl("intensity",e,t,n,i);o&&r.push(o)}if(void 0!==n.color){let o=function k8e(e,t,n,i,r){let o=n[e]?n[e]:void 0,s=i[e];if(!s)return;let a=t[e],l=o?"string"==typeof o?r.getColor(o).clone():(new gi).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():(new gi).setRGB(s.r,s.g,s.b);if(l.equals(c))return;let d=a.clone();return{update:h=>{d.lerpColors(l,c,h),t[e]?.copy?.(d)},start:()=>{d.copy(l)},end:()=>{d.copy(c)}}}("color",e,t,n,i);o&&r.push(o)}return r}(e,t,n,i)):eFe(e)&&o.push(...function R8e(e,t,n,i){let r=[],s="OrthographicCamera"===e.cameraType?n.orthographic?.zoom:n.perspective?.zoom;if(void 0!==s){let a=("OrthographicCamera"===e.cameraType?t.orthographic?.zoom:t.perspective?.zoom)??e.zoom,l=s;a!==l&&r.push({update:c=>{e.zoom=Ln.lerp(a,l,c),e.updateProjectionMatrix()},start:()=>{e.zoom=a,e.updateProjectionMatrix()},end:()=>{e.zoom=l,e.updateProjectionMatrix()}})}if(void 0!==n.targetOffset){let a=cl("targetOffset",e,t,n,i);a&&r.push(a)}return r}(e,t,n,i))),o.length?{update:s=>{o.forEach(a=>a.update(s))},start:s=>{o.forEach(a=>a.start?.(s))},end:s=>{o.forEach(a=>a.end?.(s))}}:void 0}var gK=new ie;function k4(e,t,n=!1){let i=[],r=o=>{let s=o.data;delete o.states,o.currentState=null,o.reversibleToState=null,o.currentTransitionEvent=null;for(let a of s.states){let l={...a.data};o.states||(o.states={}),o.states[a.id]=n0.patch(s,l)}yK(e.scene,o,null,t,void 0!==s.events.find(a=>"Follow"===a.data.type||"LookAt"===a.data.type)),vK(e)};e.scene.traverse2D(r),e.traverseChildren(o=>{if(n&&(o.rigidBody?.setTranslation(o.position0,!0),o.rigidBody?.setRotation(o.rotation0,!0),o.rigidBody?.setLinvel(gK,!0),o.rigidBody?.setAngvel(gK,!0)),!Dr.is(o))return;let s=o.uuid,a=o.data;if(delete o.states,o.uuid===C1)return;let l=!1;i.some(c=>e.scene.find(s)?.isDescendantOf(c))?l=!0:!0===a.physics?.fusedBody&&"dynamic"===a.physics.rigidBody&&i.push(s),o.data=a,o.currentState=null,o.reversibleToState=null,o.currentTransitionEvent=null;for(let c of a.states){let d={...c.data};!0===e.data.globalPhysics.usePhysics&&a.physics&&("dynamic"===a.physics.rigidBody||l)&&(void 0!==c.data.position&&delete d.position,void 0!==c.data.rotation&&delete d.rotation,void 0!==c.data.hiddenMatrix&&delete d.hiddenMatrix),o.states||(o.states={}),o.states[c.id]=Jg.patch(a,d)}yK(e.scene,o,null,t,void 0!==a.events.find(c=>"Follow"===c.data.type||"LookAt"===c.data.type)),o instanceof El&&o.frame&&(o.frame.traverse(c=>r(c)),o.uiCanvas?.applySize())}),vK(e),e.frame&&(e.frame.traverse(o=>r(o)),e.uiCanvas?.applySize())}function vK(e){e.traverseEntity(t=>{for(let n of t.data.events){let i=[];switch(n.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":i.push(...n.data.actions);break;case"GameControl":for(let r of Object.values(n.data.gameActions))i.push(...r);break;case"DragDrop":i.push(...n.data.dragDropActions.drag,...n.data.dragDropActions.drop);break;case"Conditional":i.push(...n.data.inActions,...n.data.outActions)}for(let r of i)if("Create"===r.data.type&&"Yes"===r.data.hideBase){let o=e.scene.find(r.data.object);o&&(o.visible=!1)}}})}function yK(e,t,n,i,r=!1){if(t instanceof Pl&&t.removeInteractionGeometry(i),t.changeSelectedState(n,t instanceof Ba?{shared:i}:{scene:e,shared:i},r),t instanceof Pl&&t.updateGeometryGroupsIfNeeded(),t instanceof Ol&&t.updateCameraState(t.dataPatched,{scene:e,shared:i}),!(t instanceof Ba)){if(t.cloner)for(let o of t.cloner.children)o.playModeVisible=void 0;t.updateVisible()}}function bK(e){let t;if(5===e.easing){let{control1:n,control2:i}=e;t=`cubicBezier(\n\t\t\t${n[0]}, ${n[1]}, ${i[0]}, ${i[1]}\n\t\t)`}else if(6===e.easing){let{mass:n,stiffness:i,damping:r,velocity:o}=e;t=`spring( ${n}, ${i}, ${r}, ${o} )`}else{let n;switch(e.easing){case 0:default:n=Zf.linear;break;case 1:n=Zf.ease;break;case 2:n=Zf.easeIn;break;case 3:n=Zf.easeOut;break;case 4:n=Zf.easeInOut}let[i,r,o,s]=n;t=`cubicBezier( ${i}, ${r}, ${o}, ${s} )`}return{duration:Math.max(e.duration,1e-4),easing:t}}function R4(e){let t={delay:0,loop:-1===e.repeat||e.repeat+1};if(0===e.repeat)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay}return"alternate"===t.direction&&(t.delay/=2,t.endDelay/=2,"start"===e.delayDirection?(t.pingPongDelayCorrection=t.delay,"number"==typeof t.loop&&t.loop%2==0&&(t.pingPongEndDelayCorrection=t.delay)):"end"===e.delayDirection?"number"==typeof t.loop&&t.loop%2!=0&&(t.pingPongEndDelayCorrection=t.endDelay):"start-end"===e.delayDirection&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var d9e={type:"beginState"},h9e={type:"completeState",isfromEntity:!1},_K=class{constructor(e,t,n,i,r,o){if(this.object=e,this.data=i,this.sharedAssets=r,this.allowSlerp=o,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.requestRender()),0===this.targets.t||1===this.targets.t?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let s=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=s,this.object.dispatchEvent({type:"beginState",state:s}),this.object instanceof Ba||this.object.traverseEntity(a=>{a!==this.object&&a instanceof Ol&&a.dispatchEvent(d9e)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let s=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=s,this.object.dispatchEvent({type:"completeState",state:s}),this.object instanceof Ba||this.object.traverseEntity(a=>{a!==this.object&&a instanceof Ol&&a.dispatchEvent(h9e)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=mK(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},void 0===t){let s=yO(this.object,this.object.currentState===n?this.object.prevState:this.object.currentState);if(!s)throw new Error("Missing property");this.from=s}else{let s=yO(this.object,t);if(!s)throw new Error("Missing property");this.from=s}if(void 0===n)throw new Error("Missing property");{let s=yO(this.object,n);if(!s)throw new Error("Missing property");this.to=s}this.useCurrentState=void 0===t||void 0===n,this.params={targets:this.targets,t:1,autoplay:!1,...R4(i),...bK(i),change:this.onChange},this.callback=mK(this.object,void 0===t?{}:this.from.data,void 0===n?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},xK=class extends el{constructor(e,t,n,i,r){if(super(),this.eventType=e,this.data=t,this.page=n,this.shared=i,this.condition=r,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.hasPlayedOnce=!1,this.onTimelineChangeComplete=()=>{"normal"!==this.data.tweens[0].data.direction&&(this.toggleIsForward=!this.toggleIsForward),!1!==this.timelineNeedsRebuild&&(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!t.object)throw new Error("Missing property");let o=this.page.scene.find(t.object)??this.page.uiCanvas?.find(t.object)??this.page.scene.find2DInUIObjects(t.object);if(!o)throw new Error("Missing property");if(!o.states)throw new Error("Missing property");if(this.object=o,t.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay="start-once"===t.tweens[0].data.delayDirection?t.tweens[0].data.delay:0,this.init()}get playing(){return!1===this.timeline?.paused}get changeBegan(){return this.tweens.some(e=>e.changeBegan)??!1}init(){this.initialCurrentState=yO(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return"Toggle"===this.data.runMode&&LW(this.eventType)?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:n=!1}={}){try{let i=R4(this.data.tweens[0].data);n&&"number"==typeof i.loop&&i.loop--,this.timeline?.pause(),this.timeline=aK.timeline({autoplay:!1,...i,...!0===i.loop||i.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let r=this.tweens.findIndex(o=>o?.changeBegan);if(!0===t&&(this.timelineNeedsRebuild=!0),e){let o=-1===r?0:r;for(let s=o;s<this.data.tweens.length-1;s++){let c,a=this.data.tweens[s],l=this.data.tweens[s+1];s!==o||!0!==this.object.wasMovedByUser&&!0!==this.object.previousAction?.changeBegan?c=void 0===a.data.state?this.currentState:a.data.state:(c=void 0,this.object instanceof Ol&&(this.object.wasMovedByUser=!1));let d=new _K(this.object,c,void 0===l.data.state?this.currentState:l.data.state,l.data,this.shared,this.data.allowSlerp??!1);-1!==r&&s===o&&Object.assign(d.params,{startOnceDelay:0}),this.tweens[s]=d,this.timeline.add(d.params,this.timeline.duration+(s===o?i.delay:0))}this.timeline.duration+=i.endDelay}else{let o=-1===r?this.data.tweens.length-1:r+1;for(let s=o;s>0;s--){let c,a=this.data.tweens[s],l=this.data.tweens[s-1];s!==o||!0!==this.object.wasMovedByUser&&!0!==this.object.previousAction?.changeBegan?c=void 0===a.data.state?this.currentState:a.data.state:(c=void 0,this.object instanceof Ol&&(this.object.wasMovedByUser=!1));let d=new _K(this.object,c,void 0===l.data.state?this.currentState:l.data.state,a.data,this.shared,this.data.allowSlerp??!1);-1!==r&&s===o&&Object.assign(d.params,{startOnceDelay:0}),this.tweens[s-1]=d,this.timeline.add(d.params,this.timeline.duration+(s===o?i.endDelay:0))}this.timeline.duration+=i.delay}}catch(i){i instanceof Error&&console.error(i.message)}!0===this.object.previousAction?.playing&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(!1===Go(this.shared,this.condition)||LW(this.eventType)&&"Once"===this.data.runMode&&this.hasPlayedOnce||(this.hasPlayedOnce=!0,this.playing))return!1;clearTimeout(this.timeoutId);let e=R4(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){this.timeline?.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=void 0===this.data.tweens[0].data.state?this.initialCurrentState:this.data.tweens[0].data.state;this.object.changeSelectedState(e,this.object instanceof Ba?{shared:this.shared}:{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){if(!1===Go(this.shared,this.condition))return!1;void 0===this.timeline&&this.buildTimeline(),this.timeline?.seek(e*this.timeline.duration,!0)}toggle(e){if(!1===Go(this.shared,this.condition))return!1;clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function yO(e,t){let n,i;if("string"==typeof t?(n=t,i=e.states?.[n]):null===t&&(n=null,i=e.data),void 0!==n&&void 0!==i)return{id:n,data:i}}var u9e={type:"beginState"},wK={type:"completeState",isfromEntity:!1},CK={type:"requestRender"},MK=class extends el{constructor(e,t,n,i){super(),this.data=e,this.page=t,this.shared=n,this.condition=i,this.toggleIsForward=!1,this.posStart=new ie,this.posEnd=new ie,this.qStart=new Ri,this.qEnd=new Ri,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let n={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=aK({targets:n,t:1,...bK(this.data),update:()=>{0===n.t&&("Toggle"!==this.data.runMode||this.toggleIsForward?(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)):this.fromCamera&&(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)),this.page.activeCamera.dispatchEvent(u9e));let i=this.page.activeCamera;i.position.lerpVectors(this.posStart,this.posEnd,n.t),i.quaternion.slerpQuaternions(this.qStart,this.qEnd,n.t),i.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*n.t,i.wasMovedBySwitchCameraAction=!0,i.updateMatrix(),i.updateMatrixWorld(),i.updateProjectionMatrix(),i.dispatchEvent(CK),1===n.t&&i.dispatchEvent(wK)}})}switchCamera(e){let t=this.page.activeCamera,n=this.page.scene.find(e);if(!n||!n.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(n),t.dispatchEvent({type:"cameraChange",camera:n})}play(){if(!1===Go(this.shared,this.condition))return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{delete this.timeoutId,this.data.animate?(this.buildAnimation(),this.animation?.play()):this.switchCamera(this.data.targetCamera)},1e3*this.data.delay)}catch{}}pause(){this.animation?.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){if(!1===Go(this.shared,this.condition))return!1;if(window.clearTimeout(this.timeoutId),delete this.timeoutId,e!==this.toggleIsForward)try{this.playing?(this.animation?.pause(),this.toggleIsForward=e??!this.toggleIsForward,this.buildAnimation(!0),this.animation?.play()):this.timeoutId=window.setTimeout(()=>{this.toggleIsForward=e??!this.toggleIsForward,this.data.animate?(this.animation?.pause(),this.buildAnimation(),this.animation?.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.fromCamera&&this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(wK),this.page.activeCamera.dispatchEvent(CK))},1e3*this.data.delay)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}};function PK(e){let t=e?.tracks.filter(n=>"vector"===n.ValueTypeName||"quaternion"===n.ValueTypeName).map(n=>n.times.length);if(t?.length){let n=H3e(t);return n&&n>2?n:2}return 2}var OK=class extends el{constructor(e,t,n,i,r){super(),this.data=e,this.page=t,this.animationControls=n,this.shared=i,this.condition=r,this.startOnceDelay=0,this.toggleIsForward=!1;let o=e.object,s=t.scene.find(e.object);s&&Array.isArray(s.identity)&&(o=s.identity[0]),this.data={...e,object:o};let a=this.animationControls.clipIdToAction[e.clipId+"/"+o];if(this.duration=a?.getClip()?.duration??1,this.data.crop2){let l=PK(a?.getClip());this.leftFrameTime=this.data.crop2[0]/(l-1)*this.duration,this.rightFrameTime=this.data.crop2[1]/(l-1)*this.duration}else{let l=a?.getClip()?.tracks[0]?.times.length;l&&l>1?(this.leftFrameTime=this.data.crop[0]/l*this.duration,this.rightFrameTime=this.data.crop[1]/l*this.duration):(this.leftFrameTime=0,this.rightFrameTime=this.duration)}this.startOnceDelay=e.delay}get playing(){return this.threeAnimAction?.isRunning()??!1}play(e=!1){if(!1===Go(this.shared,this.condition))return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([n,i])=>{let r=n.split("/")[1];this.threeAnimAction!==i&&r===t&&i.isRunning()&&(e?i.fadeOut(.2):i.stop())}),e&&this.threeAnimAction?.fadeIn(.2)},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){this.threeAnimAction?.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=Ln.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(!1===Go(this.shared,this.condition))return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let n=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([i,r])=>{let o=i.split("/")[1];this.threeAnimAction!==r&&o===n&&r.isRunning()&&(t?r.fadeOut(.2):r.stop())}),t&&this.threeAnimAction?.fadeIn(.2)}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){let e=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object]?.getClip();e&&(e.duration=this.duration),this.pause()}},SK=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.eventManager=n,this.shared=i,this.condition=r,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(!1===Go(this.shared,this.condition))return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},1e3*this.data.delay))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target||t.data.uiScene))return;"fade"===this.data.transition&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,1e3*this.data.duration),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.traverseVisibleEntity(t=>{"ParticleSystem"===t.type&&(t.sleep(),t.wakeUp(),t.data.autoPlay?t.start():t.stop())}),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),k4(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},EK=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=Go(this.shared,this.condition)}dispatch(){if(!1===this.evaluatedCondition)return!1;let e=this.shared.getVariable(this.data.variableId),t=NY(this.data.expression,this.shared,ol.typeOfVariable(e));void 0!==t&&this.shared.updateVariable(this.data.variableId,"string"==typeof t?{textValue:t}:t)}dispose(){}},DK=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.timeoutId=null}dispatchInner(){if(!1===Go(this.shared,this.condition))return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if("PlayPause"===this.data.mode)void 0===this.shared.getDynamicVariableToggleIsForward(this.data.variableId)&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"===e?"Paused":"Playing");else if("Play"===this.data.mode&&"Playing"!==e)void 0===this.shared.getDynamicVariableToggleIsForward(this.data.variableId)&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if("Stop"===this.data.mode&&"Stopped"!==e)this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if("Pause"===this.data.mode&&"Paused"!==e)this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if("Restart"===this.data.mode)this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if("Toggle"===this.data.mode){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);"Playing"===e?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,void 0!==t&&!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);"PlayPause"===this.data.mode&&"Playing"===t&&(e=this.data.pauseDelay),0!==e?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}},p9e=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i}dispatch(){if(!1===Go(this.shared,this.condition))return!1;("single"===this.data.target?this.data.variableId?[this.data.variableId]:[]:Object.keys(this.shared.getVariables())).forEach(e=>{this.shared.getVariable(e);let t=this.shared.data.variables.data(e)?.value;void 0!==t&&this.shared.updateVariable(e,t),this.shared.enableLocalStorageForPersistentVariables&&localStorage.removeItem(pR(e))})}dispose(){}},f9e=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i}dispatch(){if(!1===Go(this.shared,this.condition))return!1;this.data.userAPIId&&this.shared.getUserAPI(this.data.userAPIId)?.callUserAPI(this.shared)}dispose(){}};function Go(e,t){if(void 0===t)return!0;if(0===t.expression.length)return!1;let n=NY(t.expression,e,"boolean");return t.negate?!n:!!n}function Js(e,t,n,i,r,o){let s={Audio:[],Video:[],Particles:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[],ClearLocalStorage:[],UserAPI:[]},a=l=>({id:c,data:d})=>{try{"Audio"===d.type?Cl[e.type].includes("Audio")&&s.Audio.push(new NQ(c,d,o,i,l)):"Video"!==d.type||o instanceof Ba?"Particles"===d.type?Cl[e.type].includes("Particles")&&s.Particles.push(new LQ(d,n,i,l)):"Link"===d.type?Cl[e.type].includes("Link")&&s.Link.push(new e8e(d,r.controlsManager,i,l)):"Create"===d.type?Cl[e.type].includes("Create")&&s.Create.push(new NK(d,n,r.controlsManager,i,l)):"Destroy"===d.type?Cl[e.type].includes("Destroy")&&s.Destroy.push(new BQ(d,n,r.controlsManager,i,l)):"Reset"===d.type?Cl[e.type].includes("Reset")&&s.Reset.push(new zQ(d,n,i,r,l)):"Transition"===d.type?Cl[e.type].includes("Transition")&&s.Transition.push(new xK(e.type,d,n,i,l)):"SwitchCamera"===d.type?Cl[e.type].includes("SwitchCamera")&&s.SwitchCamera.push(new MK(d,n,i,l)):"SceneTransition"===d.type?Cl[e.type].includes("SceneTransition")&&s.SceneTransition.push(new SK(d,n,r,i,l)):"Animation"===d.type?Cl[e.type].includes("Animation")&&s.Animation.push(new OK(d,n,r.animationControls,i,l)):"SetVariable"===d.type?Cl[e.type].includes("SetVariable")&&s.SetVariable.push(new EK(d,n,i,l)):"DynamicVariablePlay"===d.type?Cl[e.type].includes("DynamicVariablePlay")&&s.DynamicVariablePlay.push(new DK(d,n,i,l)):"Conditional"===d.type?Cl[e.type].includes("Conditional")&&(d.ifActions.forEach(a({expression:d.condition,negate:!1})),d.elseActions.forEach(a({expression:d.condition,negate:!0}))):"ClearLocalStorage"===d.type?Cl[e.type].includes("ClearLocalStorage")&&s.ClearLocalStorage.push(new p9e(d,n,i,l)):"UserAPI"===d.type&&Cl[e.type].includes("UserAPI")&&s.UserAPI.push(new f9e(d,n,i,l)):Cl[e.type].includes("Video")&&s.Video.push(new TK(c,d,o,i,l))}catch{}};return t.forEach(a()),s}function Va(e){Object.values(e).forEach(t=>{t.forEach(n=>{(n instanceof NQ||n instanceof TK||n instanceof LQ||n instanceof OK||n instanceof xK||n instanceof NK||n instanceof BQ||n instanceof MK||n instanceof SK||n instanceof zQ||n instanceof EK||n instanceof DK)&&n.dispose()})})}var AK=new Map,Dx=new Map,py=class{constructor(e,t,n){this.data=t,this.delay=0,this.status="stopped";let{layerId:i,loop:r,volume:o,delay:s}=t;if(this.object=n,void 0===i)throw new Error("Missing property");let a=function m9e(e,t){let n;if("material"in e&&(n=Array.isArray(e.material)?e.material[0].layers.find(r=>r.uuid===t):e.material.layers.find(r=>r.uuid===t)),n)return n.color.texture.image.img instanceof HTMLVideoElement?n.color.texture.image.img:void 0}(n,i);a&&(this.videoElement=a,this.videoElement.loop=r===1/0,R_&&(this.videoElement.autoplay=!0),void 0!==o&&(this.videoElement.volume=o)),void 0!==s&&(this.delay=s),Dx.has(n.uuid)?Dx.get(n.uuid).push(this):Dx.set(n.uuid,[this]),AK.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let n=this.videoElement.play();void 0!==n&&n.then(i=>{}).catch(i=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){"stop"===this.data.toggle?"playing"===this.status?this.stop():(this.stop(),this.play()):"pause"===this.data.toggle?"playing"===this.status?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},N4=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=AK.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=Dx.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(n=>n[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(n=>n[this.data.interaction]()))}pauseAllVideos(){let e=[...Dx.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(n=>{n[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(n=>{n[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},TK=class{constructor(e,t,n,i,r){if(this.data=t,this.shared=i,this.condition=r,"play"===t.interaction)this.interaction=new py(e,t,n);else{if("pause"!==t.interaction&&"stop"!==t.interaction)throw new Error("Missing property");this.interaction=new N4(t)}}dispatchBasic(){if(!1===Go(this.shared,this.condition))return!1;this.interaction instanceof py?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(!1===Go(this.shared,this.condition))return!1;this.interaction instanceof py?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},IK=(()=>{let e,t,n,i;function r(a){!e&&!kK()&&t?.sharedGameControlGlobals.createdObjects.length>0&&(e=requestAnimationFrame(o)),a&&(t=a,i=a.requestRender)}function o(a){let l=n?a-n:0,c=t.sharedGameControlGlobals.createdObjects,d=t.sharedGameControlGlobals.nCreatedPerAction,h=c.length,p=0;for(;p<h;){let g=c[p];void 0===g.userData.createdTime&&(g.userData.createdTime=a),void 0===g.userData.lifetime&&void 0===g.userData.quantity||g.userData.lifetime&&a-g.userData.createdTime<g.userData.lifetime||g.userData.quantity&&d[g.userData.actionId]<=g.userData.quantity?(g.userData.velocity&&(g.position.addScaledVector(g.userData.velocity,l/1e3),g.updateMatrix(),i()),p++):(d[g.userData.actionId]>g.userData.quantity&&d[g.userData.actionId]--,c.splice(p,1),g.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&g.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(g.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(g.rigidBody)):(g.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(v=>void 0!==v.bvhGeometry)),h--,i())}e=p>0?requestAnimationFrame(o):void 0,n=p>0?a:void 0}return typeof document<"u"&&document.addEventListener("visibilitychange",function s(){kK()?e&&(cancelAnimationFrame(e),e=void 0,n=void 0):r()}),r})();function kK(){return!!document&&document.hidden}var RK=new Ri,g9e=new ie,v9e=new ie,NK=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.controlsManager=n,this.shared=i,this.condition=r,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=Ln.generateUUID(),this.dispatch=()=>{if(!1===Go(this.shared,this.condition))return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay)):this.dispatchInner()},this.dispatchFromStart=()=>{if(!1===Go(this.shared,this.condition))return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay))},this.dispatchThrottled=function sIe(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return fh(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),k_(e,t,{leading:i,maxWait:t,trailing:r})}(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{null===this.intervalId&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{null!==this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let s=new Ml(this.object);if(s.playModeVisible=!0,s.expand(),"world"!==this.data.coordinateSystem){let c=this.page.scene.find(this.data.coordinateSystem);c&&(c.updateMatrixWorldSVD(),s.hiddenMatrix.copy(c.matrixWorldRigid))}s.scale.copy(this.object.scale),s.position.fromArray(this.data.position),s.rotation.fromArray(this.data.rotation),s.updateMatrix(),this.page.add(s);let a=this.controlsManager.sharedGameControlGlobals;a.createdObjects.push(s),void 0===a.nCreatedPerAction[this.uniqueId]?a.nCreatedPerAction[this.uniqueId]=1:a.nCreatedPerAction[this.uniqueId]++,s.updateWorldMatrix(!0,!0),s.traverseObject(this.traverseObjectCB),IK(),this.controlsManager.requestRender()},this.traverseObjectCB=s=>{let a;if(s.hasNonUniformScale&&s.updateMatrixWorldSVD(),this.controlsManager.sharedGameControlGlobals.rapierWorld){if(s instanceof yh){if(!s.objectForSample)return!0===s.object.dataPatched.physics.fusedBody&&"dynamic"===s.object.dataPatched.physics.rigidBody||void 0;if(s.objectForSample.dataPatched.physics.fusedBody)return;a=s.object}else if(s instanceof Ml)a=s.object;else if(a=s,a.dataPatched.cloner?.hideBase)return!0}else{if(s instanceof yh)return;a=s instanceof Ml?s.object:s}"Time"===this.data.destroy?s.userData.lifetime=1e3*this.data.lifetime:"Quantity"===this.data.destroy&&(s.userData.quantity=this.data.destroyAfterQuantity,s.userData.actionId=this.uniqueId);let l=(new ie).fromArray(this.data.velocity),c=a.dataPatched;if(!("visibility"===c.physics.enabled?!c.visible:!c.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(s,a,{fromCreate:!0,dynamic:this.data.dynamic}),"Collision"===this.data.destroy&&(s.rigidBody?.collider(0).setActiveEvents(1),s.userData.hasCollisionDestroy=!0),s.matrixWorld.decompose(g9e,RK,v9e),l.applyQuaternion(RK),this.data.velocity.some(d=>0!==d)&&this.data.dynamic&&s.rigidBody?.setLinvel(l.divideScalar(this.controlsManager.pixelsPerMeter),!0)):("geometry"in s.object&&this.controlsManager.addBoundsTree(s),this.data.velocity.some(d=>0!==d)&&this.data.dynamic&&(s.userData.velocity=l)),!0===a.dataPatched.physics?.fusedBody))return!0};let o=this.page.scene.find(this.data.object);if(!o)throw new Error("Missing Property");if(this.object=o,"world"!==this.data.coordinateSystem&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");IK(n)}dispose(){null!==this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},FK=(new ie,new ie),BK=new ie,b9e=new ie,Jl=new ie,Pc=new ie,xm=new ie,B4=new Kt,zK=new Kt,_9e=new Kt,Mh=(new Kt,new Ri),Yp=new Ri,Ru=new fa(0,0,0,"YXZ"),x9e=new ie(1,0,0),Ph=new ie(0,1,0),w9e=new ie(0,0,1),UK=new ie(1,1,1),Ha=(new gc,new Sd),zd=new As,S9e={type:"requestRender"},E9e={type:"updateMatrix"},VK=Math.PI/6,z4=class extends el{constructor(e,t,n,i,r,o,s,a,l){super(),this.object=e,this.domElement=t,this.data=n,this.gloabalPhysics=i,this.controlsManager=r,this.cameraFollow=o,this.camera=s,this.page=a,this.sharedAssets=l,this.enableDamping=!0,this.hiddenMatrix0=new Kt,this.target0=new ie,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=200,this.euler0=new fa(0,0,0,"YXZ"),this.position0Cam=new ie,this.quat0Cam=new Ri,this.scale0Cam=new ie,this.hiddenMatrix0Cam=new Kt,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new Sd(new ie(0,-40,0),new ie(0,40,0)),matrix:new Kt,position:new ie,rotation:new Ri},this.euler=new fa(0,0,0,"YXZ"),this.eulerDelta=new ie,this.lastPosition=new ie,this.lastCameraQuaternion=new Ri,this.lastCameraPosition=new ie,this.PI_2=Math.PI/2,this.prevMouse=new qe,this.velocityTarget=new ie,this.velocity=new ie,this.directionXZ=new ie,this.rotVelocityStick=new ie,this.rotVelocityTarget=new ie,this.rotVelocity=new ie,this.rotDirection=new ie,this.nonColliderRotOffset=new Kt,this.nonColliderPosOffset=new Kt,this.firstPointerId=-1,this.rot=new ie,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Kt,this.objectToTarget=new ie,this.objectToTarget0=new ie,this.objectToCamXZ=new ie,this.objectToCamXZ0=new ie,this.targetToCamera=new ie,this.targetToCamera0=new ie,this.cameraPolarAxis0=new ie,this.targetPos=new ie,this.targetQuat=new Ri,this.lerpFactorPos=(new ie).setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new Ri,this.objXZQuatInv=new Ri,this.objXZRotMat=new Kt,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new ie,this.pushedVelocity=new ie,this.groundYRotation=0,this.objectRealQuat=new Ri,this.colliderWorldQuat=new Ri,this.groundNormal=new ie,this.groundTilt=new Ri,this.groundTiltInv=new Ri,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new ie,this.quaternion=new Ri,this.scale=new ie,this.initialAction=!0,this.onPointerDown=v=>{!(v.target===this.domElement||v.target instanceof HTMLElement&&"SPLINE-VIEWER"===v.target.tagName&&v.target.shadowRoot?.contains(this.domElement))||-1!==this.firstPointerId||(this.firstPointerId=v.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),"keys"!==this.rotBy&&!Xc&&!YG&&this.domElement.requestPointerLock(),this.prevMouse.set(v.clientX,v.clientY))},this.onPointerUp=v=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),"mouse"===v.pointerType&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=v=>{if(v.pointerId!==this.firstPointerId)return;let y=v.clientX-this.prevMouse.x,b=v.clientY-this.prevMouse.y;this.prevMouse.set(v.clientX,v.clientY),"mouse"===v.pointerType&&"keys"!==this.rotBy&&(YG&&vIe<15.5&&!Xc?(this.eulerDelta.y=-y*this.mouseOrbitSensitivity,this.eulerDelta.x=-b*this.mouseOrbitSensitivity):(this.eulerDelta.y=-v.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-v.movementY*this.mouseOrbitSensitivity)),"mouse"!==v.pointerType&&"drag"===this.rotByTouch&&(this.eulerDelta.y=-y*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-b*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=v=>{z4.isLocked=this.domElement.ownerDocument.pointerLockElement===this.domElement},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document?.hidden)for(let v in this.movementState)this.movementState[v]=0},this.onKeyDown=v=>{!(v.target instanceof HTMLInputElement)&&("ArrowLeft"===v.code||"ArrowUp"===v.code||"ArrowRight"===v.code||"ArrowDown"===v.code||"Space"===v.code)&&v.preventDefault();for(let y of this.keyAssignments)if(v.key.toUpperCase()===y[1]||v.key===y[1]){this.movementState[y[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=v=>{for(let y of this.keyAssignments)if(v.key.toUpperCase()===y[1]||v.key===y[1]||v.code.slice(3,v.code.length).toUpperCase()===y[1]){this.movementState[y[0]]=0;break}},this.copyVRGamePadValues=(v,y)=>{for(let b=2;b<4;b++){let P=v.axes[b];0===y?2===b?this.movementState.movePosX=P:this.movementState.movePosZ=P:(this.movementState.jump=v.buttons[3].pressed?1:0,2===b?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(P)>=.3&&(this.vrEulerYOffset+=P<0?1:-1),this.movementState.rotPosY=P):"fly"===this.moveMode&&(this.movementState.moveNegY=P))}},this.sharedGameControlGlobals=r.sharedGameControlGlobals,e===s&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let c=this.euler0.clone(),d=c.y;if(this.objectRealQuat.copy(this.quaternion),c.y=0,this.quaternion.setFromEuler(c),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),c.set(0,d,0),this.quaternion.setFromEuler(c),this.rot.setFromEuler(c),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||!0===this.cameraFollow)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),!0===this.cameraFollow){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy(this.camera?.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let b,P,v=new ie(0,0,-1).applyQuaternion(this.camera.quaternion),y=(new ie).subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(y),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ),Math.abs(v.y)<1e-6?(y.y=0,v.y=0,P=y.projectOnVector(v)):P=v.multiplyScalar(y.y/v.y>0?y.y/v.y:y.length()),this.targetToCamera0.copy(P).negate(),b=this.camera.position.clone().add(P),this.objectToTarget0.subVectors(b,this.position);let O=(new fa).setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-O.x,O.x=0,O.z=0,O.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(O)}if(this.object instanceof Ol&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=n.rotByTouch??"joystick",this.rotBy=n.rotBy??"keys",this.rotationMode=n.rotationMode??"normal",this.moveMode=n.moveMode??"walk",this.collisionEnabled=n.collisionEnabled,this.speedTranslate=1*(n.speedTranslate??250),this.speedOrbit=.025*(n.speedRotate??100),this.mouseOrbitSensitivity=16e-6*(n.speedRotate??100),this.keyAssignments=n.keyAssignments.map(v=>{let y=[v[0],v[1]];return"\u25b2"===y[1]?y[1]="ArrowUp":"\u25c0"===y[1]?y[1]="ArrowLeft":"\u25bc"===y[1]?y[1]="ArrowDown":"\u25b6"===y[1]?y[1]="ArrowRight":"\u21e7"===y[1]?y[1]="Shift":"\u21b5"===y[1]?y[1]="Enter":"Space"===y[1]?y[1]=" ":"\u2318"===y[1]?y[1]="Meta":"Ctrl"===y[1]?y[1]="Control":"Esc"===y[1]&&(y[1]="Escape"),y}),"mouse"===n.rotBy){let v;v=this.keyAssignments.findIndex(y=>"rotNegX"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotPosX"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotPosY"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotNegY"===y[0]),-1!==v&&(this.keyAssignments[v][1]="")}this.lerpFactorPosStart=1-.02**(1/(60*(n.delayPos[0]??.3))),this.lerpFactorPosEnd=1-.02**(1/(60*(n.delayPos[1]??.3))),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/(60*(n.delayRot[0]??.3))),this.lerpFactorRotEnd=1-.02**(1/(60*(n.delayRot[1]??.3))),this.lerpFactorPosCamera=1-.02**(1/(60*(n.delayPosCamera??.3))),this.lerpFactorRotCamera=1-.02**(1/(60*(n.delayRotCamera??.3))),this.gravity=12*(this.gloabalPhysics.gravity??S1.defaultData.gravity),this.usePhysics=this.gloabalPhysics.usePhysics??S1.defaultData.usePhysics,this.jumpPower=20*n.jumpPower,this.resetYPosition=this.position.y+Math.abs(n.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=n.alignToGround??!1,this.orientMode=n.autoOrientMove?n.orientMode:"none",this.orientWith=n.orientWith??KP.defaultDataThirdPerson.orientWith,this.slopeThresh=65*Math.PI/180,"capsule"===n.collider.type?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=n.collider.height/2-n.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=.02*n.collider.height/this.pixelsPerMeter,this.stepThresh=.3*n.collider.height/this.pixelsPerMeter,this.colliderHeight=n.collider.height):"sphere"===n.collider.type?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*n.collider.radius*.02/this.pixelsPerMeter,this.stepThresh=2*n.collider.radius*.3/this.pixelsPerMeter,this.colliderHeight=2*n.collider.radius):(this.offset=.02*n.collider.height/this.pixelsPerMeter,this.stepThresh=.3*n.collider.height/this.pixelsPerMeter,this.colliderHeight=n.collider.height),this.collider.type=n.collider.type;let h=(new ie).fromArray(n.collider.position),p=(new Ri).setFromEuler((new fa).fromArray([...n.collider.rotation,"XYZ"]));this.collider.position.copy(h).multiply(this.scale),this.collider.rotation.copy(p),this.collider.matrix.compose(h,p,UK),void 0!==n.cameraXAxis&&(this.cameraXAxis=n.cameraXAxis,this.cameraYAxis=n.cameraYAxis,this.minPolarAngle=n.cameraRotXLimits[0],this.maxPolarAngle=n.cameraRotXLimits[1],this.minAzimuthAngleRel=n.cameraRotYLimits[0],this.maxAzimuthAngleRel=n.cameraRotYLimits[1]),this.forwardDir=n.forwardDirection??"-z",this.isFirstPerson&&(this.forwardDir="-z"),this.runMultiplier=n.runMultiplier??2;let g=2*n.navmesh.destinationHelperRadius;if(g>0){let v=new Jn;v.push({fi:0,data:{...La.defaultData("light","phong"),alpha:0},id:"layer1"}),v.push({fi:0,data:{...La.defaultData("color"),color:n.navmesh.destinationHelperColor,alpha:n.navmesh.destinationHelperColor.a},id:"layer2"});let y=new aR({layers:v},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new hs(eY.create({parameters:{width:g,height:g/10,hollow:.7}}),y),this.navMeshPathDest.material.userData.opacity0=n.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=(new fa).setFromQuaternion(this.quaternion,"YXZ"),n=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,n,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof Ol?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();!0===this.cameraFollow&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){this.deactivate(),this.navMeshPathDest?.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;void 0!==e.gameActions&&(this.actions={},QP.list.forEach(n=>{this.actions[n]=Js({...e,disabled:!1,type:"GameControl"},e.gameActions[n],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),Va(this.actions.idle),Va(this.actions.move),Va(this.actions.run),Va(this.actions.jump)}dispatchStartEvent(e){void 0!==this.actions[e]&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(!1===this.initialAction)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")}),this.actions[e].Particles.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){void 0!==this.actions[e]&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),null!==t.object.currentState&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")}),this.actions[e].Particles.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return Jl.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,n){if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let i=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let r=60*i,o=!1;if(this.usePhysics&&this.collisionEnabled){let a=Pc.set(0,(0===this.velocity.y?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/120,1)*(this.gravity>0?1:-1):this.velocity.y)*i,0).divideScalar(this.pixelsPerMeter),l=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,a,this.object.rigidBody?.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(l){this.onObject=!0,this.groundNormal.set(l.normal2.x,l.normal2.y,l.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(o=!0),0===l.collider.parent()?.bodyType()&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let c=l.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let d of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(d.rigidBody===c&&d.userData.isFollowingObj!==this.object.uuid){(d.hasNonUniformScale?d.matrixWorldRigid:d.matrixWorld).decompose(Jl,Yp,Pc),this.groundVelocity.subVectors(Jl,d.prevT),this.object.getWorldPosition(Pc).add(this.collider.position).sub(Jl),this.groundYRotation=Ru.setFromQuaternion(Yp).y-d.prevR.y,xm.copy(Pc).applyAxisAngle(Ph,this.groundYRotation),this.groundVelocity.add(xm.sub(Pc)).divideScalar(i);break}}else this.onObject=!1}if("walk"===this.moveMode&&this.collisionEnabled&&(1===this.movementState.jump&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*r),"fly"===this.moveMode&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,"+z"===this.forwardDir&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let a=this.navMeshPathDest.material;if("walk"===this.moveMode&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let l=Jl.subVectors(this.path[1],this.position),c=Pc.subVectors(this.path[1],this.path[0]);l.dot(c)<0?this.path.shift():(this.directionXZ.x=c.x,this.directionXZ.z=c.z),a.opacity=a.userData.opacity0}else a.opacity-=.05*a.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.moveForce=this.movementState.run?this.runMultiplier:1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,("walk"===this.moveMode?this.velocityTarget.x+this.velocityTarget.z===0:0===this.velocityTarget.manhattanLength())?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),"walk"===this.moveMode&&(this.lerpFactorPos.y=1),!1===this.didHit&&0===this.pushedVelocity.manhattanLength()||!1===this.usePhysics?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**r),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**r),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**r)):this.velocity.copy(this.velocityTarget),("walk"===this.moveMode?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let s=b9e.copy(this.velocity);if("none"!==this.orientMode&&!1===this.isFirstPerson){let a=Pc.copy(s);a.y=0,s.set(0,s.y,a.length()*("+z"===this.forwardDir?1:-1))}if(this.directionXZ.manhattanLength()>0&&"none"!==this.orientMode&&!1===this.isFirstPerson)if("camera"===this.orientWith&&this.path.length<=1){let a=Jl;this.camera.getWorldDirection(a);let l=xm.copy(Ph).multiplyScalar(a.dot(Ph));a.sub(l);let c=Pc.copy(this.directionXZ);c.x*=-1,this.rot.y=a.angleTo(c)*(a.cross(c).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*("+z"===this.forwardDir?1:-1);if(Ru.setFromVector3(this.rot),"walk"===this.moveMode&&(Ru.x=0),s.applyEuler(Ru),o&&(Yp.setFromUnitVectors(Ph,this.groundNormal),s.applyQuaternion(Yp)),n){let a=Ru.set(0,this.vrEulerYOffset*VK,0);n.applyEuler(a),s.x+=n.x,s.z+=n.z,this.nonColliderPosOffset.elements[13]+=n.y*i}if(!0===this.usePhysics){let a=Pc;this.pushedVelocity.set(0,0,0);for(let l of this.sharedGameControlGlobals.entitiesWithTransformAnim){let c=xm.setFromMatrixPosition(l.matrixWorld).sub(l.prevT).divideScalar(i).divideScalar(this.pixelsPerMeter),d=l.rigidBody.collider(0).castCollider(c,this.object.rigidBody.collider(0),Jl.copy(s).divideScalar(this.pixelsPerMeter),i,!1);c.multiplyScalar(this.pixelsPerMeter);let h=Dr.is(l)?l:l.object;if(null!==d&&this.lastHitObj!==h){let p;l instanceof Ml&&(p=l);let g=this.sharedGameControlGlobals.entityToCollisionEvents[h.uuid];if(g)for(let v of g)"character"===v.data.target&&(v.dispatch(p),h.dispatchEvent(eN));this.lastHitObj=h}if(null!==d){this.pushedVelocity.copy(c),a.copy(d.normal1).applyQuaternion(l.quaternion);break}}if(0!==this.pushedVelocity.manhattanLength()){let l=a.dot(s);l<0&&s.addScaledVector(a,-l),s.add(this.pushedVelocity)}else s.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotVelocityStick.x="normal"===this.rotationMode&&(this.movementState.rotPosX||this.movementState.rotNegX)||"steer"===this.rotationMode&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||"walk"===this.moveMode)?-this.rotDirection.x*this.speedOrbit*this.rotForce:0,this.rotVelocityStick.y="normal"===this.rotationMode&&(this.movementState.rotPosY||this.movementState.rotNegY)||"steer"===this.rotationMode&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?-this.rotDirection.y*this.speedOrbit*this.rotForce:0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(i),this.rotVelocityStick),0===this.rotVelocityTarget.manhattanLength()?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**r):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**r),this.euler.x+=this.rotVelocity.x*i,this.euler.y+=this.rotVelocity.y*i+this.groundYRotation,0===this.rotVelocityTarget.y&&0===this.directionXZ.manhattanLength()?this.rotationAccumWhenOrientWithCamera=0:(!1===this.cameraFollow||"Locked"===this.cameraYAxis)&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*i),!1===this.isFirstPerson&&"none"!==this.orientMode&&this.directionXZ.manhattanLength()>0){if("radial"===this.orientMode){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(Ph,this.euler.y-this.euler0.y);let a=Pc.copy(this.objectToCamXZ).normalize(),l=xm.copy(s).multiplyScalar(i);l.y=0;let c=l.sub(Jl.copy(a).multiplyScalar(l.dot(a))).cross(a).y;this.euler.y-=Math.atan2(c,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*i+this.groundYRotation,0!==this.rotVelocityTarget.y&&(!1===this.cameraFollow||"Locked"===this.cameraYAxis)&&(this.euler.y=this.rot.y);if(!0===this.cameraFollow&&("walk"===this.moveMode?this.euler.x="Limit"===this.cameraXAxis?Ln.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):Ln.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):"Limit"===this.cameraXAxis&&(this.euler.x=Ln.clamp(this.euler.x,-this.PI_2,this.PI_2))),"fly"===this.moveMode?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(Ru.copy(t),Ru.y=0):(Ru.copy(this.euler),Ru.y=0),this.nonColliderRotOffset.makeRotationFromEuler(Ru)),t&&("walk"===this.moveMode?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*VK),Mh.setFromAxisAngle(x9e,this.rot.x),Yp.setFromAxisAngle(Ph,this.rot.y),Yp.multiply(Mh),Mh.setFromAxisAngle(w9e,this.rot.z),Yp.multiply(Mh),this.quaternion.copy(Yp),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let a=Pc.copy(s).multiplyScalar(i/this.pixelsPerMeter),l=null;this.didHit=!1;let c=new ie;for(let d=0;d<5;d++){let h=a.length(),p=xm.copy(a).normalize();if(l=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(c),this.colliderWorldQuat,p,this.object.rigidBody?.collider(0).shape,h,!1,24,void 0,void 0,this.object.rigidBody),null===l){0===d&&0!==this.directionXZ.manhattanLength()&&(this.lastHitObj=null),c.add(a);break}{this.didHit=!0;let g=this.sharedGameControlGlobals.colliderToEntity.get(l.collider.handle);if(g!==this.lastHitObj&&0===d){this.lastHitObj=g;let P=this.sharedGameControlGlobals.entityToCollisionEvents[g?.uuid];if(P)for(let O of P)if("character"===O.data.target){let A,S=this.sharedGameControlGlobals.rapierWorld?.getCollider(l.collider.handle)._parent;if(g.cloner)for(let H of g.cloner.children)if(H.rigidBody===S){A=H;break}O.dispatch(A),g.dispatchEvent(eN)}}let v=FK.set(l.normal2.x,l.normal2.y,l.normal2.z).applyQuaternion(this.colliderWorldQuat),y=BK.copy(p).multiplyScalar(l.toi).dot(v),b=l.toi;if(0===b&&(this.position.y+=this.offset*this.pixelsPerMeter),y>this.offset&&(b=l.toi*(y-this.offset)/y,c.addScaledVector(p,b)),a.copy(p).multiplyScalar(h-b),Math.acos(-v.y)>this.slopeThresh){let P=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(c),O=xm.copy(l.witness2).applyQuaternion(this.colliderWorldQuat);O.y=0;let S=P.add(O);S.y+=this.stepThresh;let A=this.sharedGameControlGlobals.rapierWorld.castShape(S,this.colliderWorldQuat,a,this.object.rigidBody?.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);null!==A&&0===A.toi&&(v.y=0,v.normalize())}a.addScaledVector(v,-a.dot(v))}}this.position.addScaledVector(c,this.pixelsPerMeter),this.object.rigidBody?.setTranslation(Jl.copy(this.position).divideScalar(this.pixelsPerMeter),!0),this.object.rigidBody?.setRotation(Mh.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let a=this.onObject?1:5,l=s.multiplyScalar(i/a);for(let c=0;c<a;c++)this.position.add(l),this.collisionAdjustment(i/a)}else this.position.addScaledVector(s,i);if("walk"===this.moveMode&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),!0===this.cameraFollow){this.updateFollowArms();let a=this.objectToTarget.add(this.position),l=this.targetToCamera.add(a);B4.lookAt(l,a,Ph).setPosition(l),B4.decompose(this.targetPos,this.targetQuat,Jl),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**r),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**r),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),"Limit"===this.cameraYAxis&&"cartesian"===this.orientMode&&(this.euler.y=Ln.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=Ln.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(E9e),!(this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(void 0===this.camera||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&("fly"===this.moveMode||!0===this.onObject||!1===this.collisionEnabled)&&(null===this.navMeshPathDest||this.navMeshPathDest.material.opacity<-.04*this.navMeshPathDest?.material?.userData.opacity0)||(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(S9e),0))}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let t,e=Mh.setFromAxisAngle(Ph,"Limit"===this.cameraYAxis&&"radial"!==this.orientMode?Ln.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);("Locked"!==this.cameraYAxis||"radial"===this.orientMode)&&this.objectToTarget.applyQuaternion(e),t="Limit"===this.cameraXAxis?Ln.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):Ln.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let n=Jl.copy(this.cameraPolarAxis0);("Locked"!==this.cameraYAxis||"radial"===this.orientMode)&&n.applyQuaternion(e);let i=Yp.setFromAxisAngle(n,t);"Locked"!==this.cameraYAxis&&this.targetToCamera.applyQuaternion(e),"Locked"!==this.cameraXAxis&&this.targetToCamera.applyQuaternion(i)}groundTiltAdjustment(e){180*Ph.angleTo(e)/Math.PI<15||180*Ph.angleTo(e)/Math.PI>85?Mh.identity():Mh.setFromUnitVectors(Ph,e),this.groundTilt.slerp(Mh,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){let t=BK.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let n=B4.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(Jl,Mh,Pc).compose(Jl,Mh,UK);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(r=>{if(r===this.object||r.isDescendantOf(this.object))return;zd.makeEmpty(),r.updateMatrixWorldSVD();let o=r.matrixWorldRigid,s=zK.copy(o).invert(),a=_9e.copy(zK).multiply(n);Ha.copy(this.collider.segment),Ha.start.applyMatrix4(a),Ha.end.applyMatrix4(a);let l=FK.copy(this.position).applyMatrix4(s);zd.expandByPoint(Ha.start),zd.expandByPoint(Ha.end),zd.min.addScalar(-this.collider.radius),zd.max.addScalar(this.collider.radius),r.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder:c=>c.distanceToPoint(Ha.end),intersectsBounds:c=>c.intersectsBox(zd),intersectsTriangle:c=>{let d=Jl,h=Pc,p=c.closestPointToSegment(Ha,d,h);if(p<this.collider.radius){let g=this.collider.radius-p,v=h.sub(d).normalize(),y=xm.copy(l);y.addScaledVector(v,g);let b=y.applyMatrix4(o).sub(this.position);t.add(b),Ha.start.addScaledVector(v,g),Ha.end.addScaledVector(v,g)}}})}),zd.makeEmpty(),Ha.copy(this.collider.segment),Ha.start.applyMatrix4(n),Ha.end.applyMatrix4(n),zd.expandByPoint(Ha.start),zd.expandByPoint(Ha.end),zd.min.addScalar(-this.collider.radius),zd.max.addScalar(this.collider.radius),this.sharedGameControlGlobals.staticMeshBVH?.shapecast({traverseBoundsOrder:r=>r.distanceToPoint(Ha.end),intersectsBounds:r=>r.intersectsBox(zd),intersectsTriangle:r=>{let o=Jl,s=Pc,a=r.closestPointToSegment(Ha,o,s);if(a<this.collider.radius){let l=this.collider.radius-a,c=s.sub(o).normalize();this.alignToGround&&this.groundTiltAdjustment(c),t.addScaledVector(c,l),Ha.start.addScaledVector(c,l),Ha.end.addScaledVector(c,l)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let i=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(i),this.position.add(t)}},HK=z4;HK.isLocked=!1;var D9e=fp(J7());function Xp(e,t){let n=new ii;if(t){let o=t.elements,p=1e-8;if(o[0]**2+o[1]**2+o[2]**2<p||o[4]**2+o[5]**2+o[6]**2<p||o[8]**2+o[9]**2+o[10]**2<p||o[0]**2+o[4]**2+o[8]**2<p||o[1]**2+o[5]**2+o[9]**2<p||o[2]**2+o[6]**2+o[10]**2<p)return n.setAttribute("position",new On([],3)),n.setIndex([]),n}if(!e.getAttribute("position"))return n.setAttribute("position",new On([],3)),n.setIndex([]),n;let{positions:i,triIndices:r}=E2(e.getAttribute("position"),e.getIndex());return n.setAttribute("position",new On(i,3)),n.setIndex(r),t&&n.applyMatrix4(t),n}var A9e=new Kt,T9e=new Kt,Nu=[[0,0,0],[0,0,0],[0,0,0]];function GK(e){let t=e.elements;Nu[0][0]=t[0],Nu[0][1]=t[4],Nu[0][2]=t[8],Nu[1][0]=t[1],Nu[1][1]=t[5],Nu[1][2]=t[9],Nu[2][0]=t[2],Nu[2][1]=t[6],Nu[2][2]=t[10];let{u:n,v:i}=(0,D9e.SVD)(Nu),r=A9e.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),o=T9e.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1);return r.multiply(o.transpose())}var I9e=class extends yH{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,n=[]){return e.forEach(i=>{i.visible&&this.intersectObject(i,t,n)}),n}createRaycastLineHelper(){let e=new Gf({color:65280,linewidth:10}),t=new ie(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),n=new ie(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),i=this.camera.far-this.camera.near,r=(new ie).addVectors(t,n.multiplyScalar(i)),o=new ii;return o.setFromPoints([t,r]),new zM(o,e)}},WK=e=>e instanceof ly||e instanceof dy;function k9e(e,t){return e.distance-t.distance}function qK(e,t,n){if(Fp(t)&&t.visible){_h(t)&&t.raycast(e,n);for(let i of t.children)qK(e,i,n)}}function bO(e,t,n,i=!1){if(!i&&!n.some(o=>void 0!==_O(e,o)))return[];let r=[];return t.children.forEach(o=>qK(e,o,r)),r.sort(k9e),r}function U4(e){let t=[];if(e.length){let n=e[0].object;Fp(n)&&t.push(n);let i=n.parent;for(;i;)WK(i)&&t.push(i),i=i.parent}return t}function $p(e,t,n,i){let r=e.frame;if(r){let o=t[0]*r.width,s=(1-t[1])*r.height;for(let a of n){let l=a===r.uuid?r:r.find(a);if(l?.intersects(o,s))return i(l),!0}}return!1}function _O(e,t){if(_h(t)){if(t.visible){let n=[];return t.raycast(e,n),n.length?n[0]:void 0}}else if(WK(t))return YK(e,t)}function YK(e,t){if(Fp(t)&&t.visible){if(_h(t)){let n=[];if(t.raycast(e,n),n.length)return n[0]}for(let n of t.children){let i=YK(e,n);if(i)return i}}}var Dl=class{constructor(e){this.eventContext=e,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},j4=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],XK=e=>j4.find(([t,n])=>n===e)?.[0],Ax=e=>j4.find(([t])=>t===e)?.[1],F9e=(e,t)=>{let n=XK(e);if(n){let i=new CustomEvent(n,{bubbles:!0});return Object.defineProperty(i,"target",{writable:!1,value:t}),i}},B9e=class extends Dl{constructor(){super(...arguments),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=e=>{if(!e.eventName||!e.target||"Scroll"===e.eventName)return;let t=this.splineEvents[XK(e.eventName)]?.[e.target.uuid];if(!t)return;"Scroll"===e.eventName&&void 0!==e.deltaY&&Object.assign(t,{deltaY:e.deltaY});let{domElement:n}=this.eventContext;n.dispatchEvent(t)}}connect(){let{page:e}=this.eventContext;e.traverseEntity(t=>{if(t.data?.events.length)for(let[n,i]of j4)if(t.data.events.some(r=>r.data.type===i&&!r.data.disabled)){this.objectsPerEvents.has(n)?this.objectsPerEvents.get(n)?.push(t):this.objectsPerEvents.set(n,[t]);let o=F9e(i,{id:t.uuid,name:t.name}),s=this.splineEvents[n];s?s[t.uuid]=o:this.splineEvents[n]={[t.uuid]:o}}}),this.objectsPerEvents.forEach(t=>{t.forEach(n=>{n.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},z9e=class{constructor(e,t,n,i,r,o){if(this.id=e,this.data=t,this.object=n,this.entered=!1,("KeyDown"===t.type||"KeyUp"===t.type||"KeyPress"===t.type)&&!t.key)throw new Error("Missing property");this.actions=Js(t,t.actions,i,r,o,n)}disconnect(){Va(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),"MousePress"===this.data.type||"KeyPress"===this.data.type?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing&&"Toggle"!==t.data.runMode)||this.actions.Transition.forEach(t=>{"Toggle"===t.data.runMode?t.toggle():t.play()}),this.actions.SwitchCamera.some(t=>t.playing&&"Toggle"!==t.data.runMode)||this.actions.SwitchCamera.forEach(t=>{"Toggle"===t.data.runMode?t.toggle():t.play()}),this.actions.Animation.forEach(t=>{"Toggle"===t.data.runMode?t.toggle():t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),!1===e&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Particles.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},U9e=class extends Dl{constructor(e,t,n){super(e),this.eventManager=t,this.useForRaycastProperty=n,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=i=>{if(!0===this.useForRaycastProperty&&null===this.sceneInterects){this.eventContext.updateRaycaster(i);let{raycaster:r,page:o}=this.eventContext,s=bO(r,o,[],!0);this.sceneInterects=s,s.length&&(this.eventContext.sharedAssets.raycastProperty={x:s[0].point.x,y:s[0].point.y,z:s[0].point.z,objX:s[0].object.matrixWorld.elements[12],objY:s[0].object.matrixWorld.elements[13],objZ:s[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=i=>{(i.target===this.eventContext.domElement||"SPLINE-VIEWER"===i.target.tagName)&&this.canvasMouseEvents.forEach(r=>{("MouseDown"===r.data.type||"MousePress"===r.data.type)&&(this.onCanvasRaycast(i),r.dispatch())})},this.onCanvasMouseUp=i=>{(i.target===this.eventContext.domElement||"SPLINE-VIEWER"===i.target.tagName)&&this.canvasMouseEvents.forEach(r=>{"MouseUp"===r.data.type?(this.onCanvasRaycast(i),r.dispatch()):"MousePress"===r.data.type&&r.dispatchRelease()})},this.onMouseDown=i=>{wi.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseEvent("MouseDown"))},this.onMouseUp=i=>{wi.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=i=>{wi.length>1||(this.eventContext.updateRaycaster(i),this.handleMousePressEvent())},this.onMousePressRelease=i=>{wi.length>1||(this.eventContext.updateRaycaster(i),this.handleMousePressEvent(!0))},this.onKeyDown=i=>{this.heldKeys[i.key]||(this.handleKeyEvent(i,"KeyDown"),this.handleKeyEventHeld(i,"KeyDown",!0)),this.heldKeys[i.key]=!0},this.onKeyUp=i=>{this.handleKeyEvent(i,"KeyUp"),this.handleKeyEventHeld(i,"KeyUp",!0)},this.onKeyPressDown=i=>{this.heldKeysPress[i.key]?this.handleKeyEventHeld(i,"KeyPress"):(this.handleKeyEvent(i,"KeyPress"),this.handleKeyEventHeld(i,"KeyPress",!0)),this.heldKeysPress[i.key]=!0},this.onKeyPressUp=i=>{this.handleKeyEvent(i,"KeyPress",!0)},this.releaseHeldKey=i=>{delete this.heldKeys[i.key]},this.releaseHeldKeyPress=i=>{delete this.heldKeysPress[i.key]},this._onUserEvent=({eventName:i,target:r,reverse:o})=>{if(!i||!r)return;let s=Ax(i);s&&("MouseDown"===s||"MouseUp"===s||"MousePress"===s?(r.dispatchEvent({type:"beginEvent",eventName:s}),this.eventsPerObjects[s]?.[r.uuid]?.forEach(a=>{a.dispatchUserEvent(o)})):("KeyDown"===s||"KeyUp"===s||"KeyPress"===s)&&(r.dispatchEvent({type:"beginEvent",eventName:s}),this.eventsPerObjects[s]?.[r.uuid]?.forEach(a=>{a.dispatchUserEvent()})))}}connect(){let{page:e,sharedAssets:t,domElement:n}=this.eventContext,i=(r,o)=>{if(!r.data?.events.length)return;let s=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let a of s){let l=this.eventsPerObjects[a];r.data.events.filter(({data:c})=>c.type===a&&!0!==c.disabled).forEach(({id:c,data:d})=>{try{let h=new z9e(c,d,r,e,t,this.eventManager);h.actions.Video.length&&(this.hasVideoAction=!0),"MouseDown"!==d.type&&"MouseUp"!==d.type&&"MousePress"!==d.type||"Canvas"!==d.mode&&"Window"!==d.mode?l[r.uuid]?l[r.uuid].some(p=>p.id===h.id)||l[r.uuid].push(h):l[r.uuid]=[h]:this.canvasMouseEvents.push(h)}catch{}}),l[r.uuid]?.length&&this.objectsPerTypes[a].push(r instanceof Ba&&("MouseDown"===a||"MouseUp"===a||"MousePress"===a)?o:r)}};e.traverseEntity(r=>{(r instanceof El||r instanceof Ua)&&r.frame?.traverse(o=>{i(o,r)}),i(r)}),this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),n.addEventListener("pointerdown",this.onCanvasMouseDown),n.addEventListener("pointerup",this.onCanvasMouseUp),(this.objectsPerTypes.MouseDown?.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),n.addEventListener("pointerdown",this.onMouseDown)),this.objectsPerTypes.MouseUp?.length&&(this.domEventsNeeded.add("pointerup"),n.addEventListener("pointerup",this.onMouseUp)),this.objectsPerTypes.MousePress?.length&&(this.domEventsNeeded.add("pointerdown"),n.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),n.addEventListener("pointerup",this.onMousePressRelease)),this.objectsPerTypes.KeyDown?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),this.objectsPerTypes.KeyUp?.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),this.objectsPerTypes.KeyPress?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([r,o])=>{o.forEach(s=>{s.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(n=>{n.forEach(i=>{i.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,n])=>{n.forEach(i=>{i.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){let{stopRaycast:t,raycaster:n,page:i,pointerScreen:r}=this.eventContext,o=this.objectsPerTypes[e],s=o.filter(a=>!(a instanceof Ba));if((o.length||this.useForRaycastProperty)&&(!i.uiCanvas||!$p(i,[r.x,r.y],Object.keys(this.eventsPerObjects[e]),a=>{this.handleObjectMouseEventDispatch(a,e)}))){if(t||this.useForRaycastProperty){let a;if(null===this.sceneInterects?a=bO(n,i,s,this.useForRaycastProperty):(a=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&a.length&&(this.eventContext.sharedAssets.raycastProperty={x:a[0].point.x,y:a[0].point.y,z:a[0].point.z,objX:a[0].object.matrixWorld.elements[12],objY:a[0].object.matrixWorld.elements[13],objZ:a[0].object.matrixWorld.elements[14]}),t){let l=[a[0]?.uv?.x??0,a[0]?.uv?.y??0];U4(a).forEach(c=>{c instanceof El&&$p(c,l,Object.keys(this.eventsPerObjects[e]),d=>{this.handleObjectMouseEventDispatch(d,e)}),this.eventsPerObjects[e][c.uuid]&&this.handleObjectMouseEventDispatch(c,e)})}}t||s.forEach(a=>{let l=_O(n,a);l&&(this.handleObjectMouseEventDispatch(a,e),a instanceof El&&$p(a,[l?.uv?.x??0,l?.uv?.y??0],Object.keys(this.eventsPerObjects[e]),c=>{this.handleObjectMouseEventDispatch(c,e)}))})}}handleMousePressEvent(e=!1){let t="MousePress",n=this.objectsPerTypes[t],i=n.filter(o=>!(o instanceof Ba)),r=[];if(n.length){if(!e){let{stopRaycast:o,raycaster:s,page:a,pointerScreen:l}=this.eventContext,c=!1;if(a.uiCanvas&&(c=$p(a,[l.x,l.y],Object.keys(this.eventsPerObjects[t]),d=>{r.push(d)})),o&&!c){let d=bO(s,a,i);r=U4(d),d.forEach(h=>{h.object instanceof El&&$p(h.object,[h?.uv?.x??0,h?.uv?.y??0],Object.keys(this.eventsPerObjects[t]),p=>{r.push(p)})})}else i.forEach(d=>{let h=_O(s,d);h&&(r.push(d),d instanceof El&&$p(d,[h?.uv?.x??0,h?.uv?.y??0],Object.keys(this.eventsPerObjects[t]),p=>{r.push(p)}))})}this._prevObjects.length&&this._prevObjects.forEach(o=>{r.includes(o)||this.handleObjectMouseEventDispatchRelease(o,t)}),r.length&&r.forEach(o=>{this.handleObjectMouseEventDispatch(o,t)}),this._prevObjects=r}}handleObjectMouseEventDispatch(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach(n=>{n.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach(n=>{n.dispatchRelease()})}handleKeyEvent(e,t,n=!1){this.objectsPerTypes[t].forEach(i=>{let r=this.eventsPerObjects[t][i.uuid];r.some(({data:o})=>"key"in o&&o.key===e.key)&&i.dispatchEvent({type:"beginEvent",eventName:t}),r.forEach(o=>{"key"in o.data&&o.data.key===e.key&&(n?o.dispatchRelease():o.dispatch(!0))})})}handleKeyEventHeld(e,t,n=!1){this.objectsPerTypes[t].forEach(i=>{this.eventsPerObjects[t][i.uuid].forEach(r=>{"key"in r.data&&r.data.key===e.key&&r.dispatchHeld(n)})})}},j9e=new ie,V9e=new ie,$K=class{constructor(e,t,n,i,r){this.actionsIn=Js(e,e.inActions,n,i,r,t),this.actionsOut=Js(e,e.outActions,n,i,r,t)}disconnect(){Va(this.actionsIn),Va(this.actionsOut)}},H9e=class extends $K{constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.id=e,this.data=t,this.object=n,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let p of this.objects)if(!p.visible)return;let c=j9e.setFromMatrixPosition(this.objects[0].matrixWorld),d=V9e.setFromMatrixPosition(this.objects[1].matrixWorld),h=c.distanceTo(d)<=this.distance?"in":"out";if(this.stage!==h){this.stage=h;let p="in"===h?this.actionsIn:this.actionsOut;p.Audio.forEach(g=>g.dispatchConditional()),p.Particles.forEach(g=>g.dispatchConditional()),p.Video.forEach(g=>g.dispatchConditional()),p.Link.forEach(g=>g.dispatch()),p.Create.forEach(g=>g.dispatch()),p.Destroy.forEach(g=>g.dispatch()),p.Reset.forEach(g=>g.dispatch()),p.Transition.forEach(g=>{g.object.currentTransitionEvent!==this&&(g.object.currentTransitionEvent=this),g.init()}),p.Transition.forEach(g=>g.play()),p.Animation.forEach(g=>g.play()),p.SwitchCamera.forEach(g=>g.play()),p.SceneTransition.forEach(g=>g.dispatch()),p.SetVariable.forEach(g=>g.checkConditions()),p.SetVariable.forEach(g=>g.dispatch()),p.DynamicVariablePlay.forEach(g=>g.dispatch()),p.ClearLocalStorage.forEach(g=>g.dispatch()),p.UserAPI.forEach(g=>g.dispatch())}};let{distance:s,fromObject:a,toObject:l}=t.condition;this.distance=s;for(let c of[a,l]){if(!c)throw new Error("Missing property");let d=i.find(c);if(!d)throw new Error("Missing property");this.objects.push(d)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},G9e=class extends $K{constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.id=e,this.data=t,this.object=n,this.onBegin=({state:c})=>{this.toState!==c&&(this.actionsOut.Audio.forEach(d=>d.dispatchConditional()),this.actionsOut.Particles.forEach(d=>d.dispatchConditional()),this.actionsOut.Video.forEach(d=>d.dispatchConditional()),this.actionsOut.Link.forEach(d=>d.dispatch()),this.actionsOut.Create.forEach(d=>d.dispatch()),this.actionsOut.Destroy.forEach(d=>d.dispatch()),this.actionsOut.Reset.forEach(d=>d.dispatch()),this.actionsIn.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(d=>d.play()),this.actionsOut.Animation.forEach(d=>d.play()),this.actionsIn.SwitchCamera.forEach(d=>d.pause()),this.actionsOut.SwitchCamera.forEach(d=>d.play()),this.actionsOut.SceneTransition.forEach(d=>d.dispatch()),this.actionsOut.SetVariable.forEach(d=>d.checkConditions()),this.actionsOut.SetVariable.forEach(d=>d.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(d=>d.dispatch()),this.actionsOut.ClearLocalStorage.forEach(d=>d.dispatch()),this.actionsOut.UserAPI.forEach(d=>d.dispatch()))},this.onComplete=({state:c})=>{this.toState===c&&(this.actionsIn.Audio.forEach(d=>d.dispatchConditional()),this.actionsIn.Particles.forEach(d=>d.dispatchConditional()),this.actionsIn.Video.forEach(d=>d.dispatchConditional()),this.actionsIn.Link.forEach(d=>d.dispatch()),this.actionsIn.Create.forEach(d=>d.dispatch()),this.actionsIn.Destroy.forEach(d=>d.dispatch()),this.actionsIn.Reset.forEach(d=>d.dispatch()),this.actionsOut.Transition.forEach(d=>d.pause()),this.actionsOut.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(d=>d.play()),this.actionsIn.Animation.forEach(d=>d.play()),this.actionsOut.SwitchCamera.forEach(d=>d.pause()),this.actionsIn.SwitchCamera.forEach(d=>d.play()),this.actionsIn.SceneTransition.forEach(d=>d.dispatch()),this.actionsIn.SetVariable.forEach(d=>d.checkConditions()),this.actionsIn.SetVariable.forEach(d=>d.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(d=>d.dispatch()),this.actionsOut.ClearLocalStorage.forEach(d=>d.dispatch()),this.actionsOut.UserAPI.forEach(d=>d.dispatch()))};let{condition:s}=t;if(!s.object)throw new Error("Missing property");let a=i.find(s.object)??i.scene.find2D(s.object);if(!a)throw new Error("Missing property");if(this.toObject=a,s.state&&!this.toObject.states?.[s.state])throw new Error("Missing property");this.toState=s.state}connect(){qg(this.actionsOut).forEach(e=>{this.actionsOut[e]?.length&&this.toObject.addEventListener("beginState",this.onBegin)}),qg(this.actionsIn).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),qg(this.actionsOut).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),qg(this.actionsIn).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},W9e=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1}connect(){super.connect();let{page:e,sharedAssets:t}=this.eventContext;e.traverseEntity(n=>{if(n.data?.events.length)for(let{id:i,data:r}of n.data.events)if(!r.disabled&&"Conditional"===r.type)try{let o;"Comparison"===r.condition.type||("Distance"===r.condition.type?o=new H9e(i,r,n,e,t,this.eventManager):"State"===r.condition.type&&(o=new G9e(i,r,n,e,t,this.eventManager))),o&&(this.eventsPerConditions[r.condition.type].push(o),(o.actionsIn.Video.length||o.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}}),Object.values(this.eventsPerConditions).forEach(n=>n.forEach(i=>i.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},Tx=new ie,wm=new ie,b0=new ie,QK=new vc,ro=new ie,xa=new ie,KK=new ie,_0=new Ri,V4=new fa,Y9e=new Kt,H4=new $s,fy=new ie,Lu=new ie;function G4(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var X9e=function(){let e=new Kt;return(t,n,i)=>{let r=t.obj;e.copy(r.hiddenMatrix),null!==r.parent&&e.premultiply(r.parent.matrixWorld),e.invert(),r.position.copy(n),"global"===t.reference&&G4(r.position,t.limits),r.position.applyMatrix4(e),"parent"===t.reference?G4(r.position,t.limits):"local"===t.reference&&(_0.copy(t.quat0).invert(),r.position.sub(t.position0),r.position.applyQuaternion(_0),G4(r.position,t.limits),_0.invert(),r.position.applyQuaternion(_0),r.position.add(t.position0)),e.multiply(i??r.matrixWorld).decompose(ro,r.quaternion,xa),r.updateMatrix(),r.hasNonUniformScale&&(r.updateMatrixWorld(),r.updateMatrixWorldSVD()),r instanceof Yl&&Gp(r.parent)&&r.invalidateDownstreamBooleanData(!0)}}(),Q9e=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=n=>{if(wi.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:i,page:r}=this.eventContext,o=r.raycastWithClones(i);if(this.lastDropDestination=null,0!==o.length){for(let s of this.events){let a=0;for(let{obj:l,pointEnd:c,pointStart:d}of s.dragItems){if(l===o[0].object||l===o[0].object.object||Dr.is(l)&&l.isAncestorOf(o[0].object.uuid)){if(s.activeIdx=a,s.activeDragItem.reset=!1,s.activeDragItem.currentDampingFactor=s.data.dampingFactor,s.activeDragItem.snapped=!1,"hand"===s.data.cursor&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){s.activeDragItem.obj.rigidBody&&s.activeDragItem.obj.rigidBody.setBodyType(2,!0);let h=s.activeDragItem.obj;l.hasNonUniformScale&&l.updateMatrixWorldSVD(),(h.hasNonUniformScale?h.matrixWorldRigid:h.matrixWorld).decompose(ro,_0,xa),V4.setFromQuaternion(_0),void 0===h.prevR?(h.prevR=V4.clone(),h.prevT=ro.clone()):(h.prevR.copy(V4),h.prevT.copy(ro)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(s.activeDragItem.obj)}return this.calcPlaneIntersectPos(l,d,s.data.plane,s.data.referenceFrame),c.copy(d),(this.eventManager.controlsManager.usePhysics&&"dynamic"===l.data.physics?.rigidBody||!1===s.data.drop||!1===s.data.resetOnSnapFail)&&s.activeDragItem.fromPosition.setFromMatrixPosition(s.activeDragItem.obj.matrixWorld),this.activeEvent=s,void(this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1))}a++}}this.activeEvent=null}else this.activeEvent=null},this.onPointerMove=n=>{if(wi.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:i,page:r}=this.eventContext,o=r.raycastWithClones(i);if(0!==wi.length){if(this.activeEvent&&this.activeEvent.activeDragItem){let a,s=this.activeEvent.activeDragItem;if(s.snapped=!1,this.activeEvent.data.drop&&(a=o.filter(l=>s.obj!==l.object&&!s.obj.isAncestorOf(l.object.uuid)&&!(l.object instanceof ly)&&("all"===this.activeEvent.data.dropOn||this.activeEvent.dropDestIds.some(c=>c===l.object.uuid||r.scene.find(c).isAncestorOf(l.object.uuid))))[0]),a){let l=KK.copy(a.face.normal).applyMatrix3(H4.getNormalMatrix(a.object.matrixWorld));if("center"===this.activeEvent.data.snapTo)s.fromPosition.setFromMatrixPosition(a.object.matrixWorld);else if("surface"===this.activeEvent.data.snapTo){if(s.fromPosition.copy(a.point),"bbox"===this.activeEvent.data.snapSurfaceMode){ro.copy(l).applyMatrix3(H4.setFromMatrix4(s.obj.matrixWorld).transpose());let c=s.obj;ro.x>.2?xa.x=-c.recursiveBBox.min.x:ro.x<-.2&&(xa.x=-c.recursiveBBox.max.x),ro.y>.2?xa.y=-c.recursiveBBox.min.y:ro.y<-.2&&(xa.y=-c.recursiveBBox.max.y),ro.z>.2?xa.z=-c.recursiveBBox.min.z:ro.z<-.2&&(xa.z=-c.recursiveBBox.max.z),xa.applyMatrix3(H4.invert())}else xa.copy(l).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);s.fromPosition.add(xa)}this.activeEvent.data.autoOrient&&(ro.set(0,1,0).cross(l),ro.length()<1e-4&&ro.set(-1,0,0).cross(l),xa.crossVectors(KK,ro),s.orientationMatrix.makeBasis(ro,xa,l)),s.pointStart.copy(s.fromPosition),s.pointEnd.copy(s.pointStart),s.currentDampingFactor=this.activeEvent.snapDampingFactor,s.snapped=!0,this.lastDropDestination!==a.object&&(this.lastDropDestination=a.object,this.activeEvent.actionsDrop.Transition.forEach(c=>{c.play()}),this.activeEvent.actionsDrop.Animation.forEach(c=>{c.play()}),this.activeEvent.actionsDrop.Audio.forEach(c=>{c.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Particles.forEach(c=>{c.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(c=>{c.dispatchThrottled()}))}else s.orientationMatrix.makeRotationFromQuaternion(s.quat0),this.lastDropDestination=null,s.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(s.obj,s.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(l=>{l.stop(),null!==l.object.currentState&&l.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(l=>{l.stop()}),this.activeEvent.actionsDrop.Audio.forEach(l=>{l.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.Particles.forEach(l=>{l.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(l=>{l.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(l=>l.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(l=>l.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(l=>l.dispatch()),this.activeEvent.actionsDrag.ClearLocalStorage.forEach(l=>l.dispatch()),this.activeEvent.actionsDrag.UserAPI.forEach(l=>l.dispatch()),!1===this.activeEvent.wasDragEventTriggered&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(l=>{l.play()}),this.activeEvent.actionsDrag.Animation.forEach(l=>{l.play()}),this.activeEvent.actionsDrag.Audio.forEach(l=>{l.dispatchGameControl("start")}),this.activeEvent.actionsDrag.Particles.forEach(l=>{l.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(l=>{l.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(l=>{l.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(l=>{l.stop(),null!==l.object.currentState&&l.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(l=>{l.stop()}))},500),this.updateDragItem(s),s.obj.dispatchEvent({type:"requestRender"})}}else{let s=!1;for(let a of this.events){for(let{obj:l}of a.dragItems)if(l===o[0]?.object||l===o[0]?.object?.object||Dr.is(l)&&l.isAncestorOf(o[0]?.object.uuid)){switch(s=!0,a.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move")}break}if(s)break}s||this.setCursor("default")}},this.onPointerUp=n=>{if(this.activeEvent&&this.activeEvent.activeDragItem){"hand"===this.activeEvent.data.cursor&&this.setCursor("grab");let i="dynamic"===this.activeEvent.activeDragItem.obj.data.physics?.rigidBody;!1===this.activeEvent.activeDragItem.snapped&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(!1===this.eventManager.controlsManager.usePhysics||!i)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&i&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),!0===this.activeEvent.wasDragEventTriggered&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(r=>{r.stop(),null!==r.object.currentState&&r.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(r=>{r.stop()}),this.activeEvent.actionsDrag.Audio.forEach(r=>{r.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(r=>{r.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(r=>r.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(r=>r.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(r=>r.dispatch()),this.activeEvent.actionsDrop.ClearLocalStorage.forEach(r=>r.dispatch()),this.activeEvent.actionsDrop.UserAPI.forEach(r=>r.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}}}connect(){let e={};if(this.eventContext.page.traverseEntity(n=>{n.component&&(e[n.component.uuid]?e[n.component.uuid].push(n.uuid):e[n.component.uuid]=[n.uuid])}),this.eventContext.page.traverseEntity(n=>{n.data?.events.filter(i=>"DragDrop"===i.data.type&&!i.data.disabled).forEach(i=>{this.events.push(new class{constructor(e,t,n,i,r,o,s){this.object=e,this.id=t,this.data=n,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=0===this.data.resetSpeed?1:8/this.data.resetSpeed+1,this.snapDampingFactor=0===this.data.snapSpeed?1:8/this.data.snapSpeed+1,this.actionsDrag=Js(n,n.dragDropActions.drag,i,r,o,this.object),this.actionsDrop=Js(n,n.dragDropActions.drop,i,r,o,this.object);let a=[];this.data.objects.forEach(l=>{let c=i.find(l);!c||!1!==c.data.visible&&(a.push(c),s[c.uuid]&&s[c.uuid].forEach(d=>{let h=i.find(d);!h||!1!==h.data.visible&&a.push(h)}))}),this.data.dropDestinations.forEach(l=>{let c=i.find(l);!c||!1!==c.data.visible&&(this.dropDestIds.push(c.uuid),s[c.uuid]&&s[c.uuid].forEach(d=>{let h=i.find(d);!h||!1!==h.data.visible&&this.dropDestIds.push(h.uuid)}))}),this.dragItems=a.map(l=>("locked"===this.data.planeMode&&(l.userData.lockedPlane=!0),l.userData.worldPosition0=(new ie).setFromMatrixPosition(l.matrixWorld),{obj:l,fromPosition:(new ie).setFromMatrixPosition(l.matrixWorld),pointStart:new ie,pointEnd:new ie,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:(new ie).copy(l.position),quat0:(new Ri).copy(l.quaternion),snapped:!1,orientationMatrix:new Kt,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return null!==this.activeIdx?this.dragItems[this.activeIdx]:null}dispose(){Va(this.actionsDrag),Va(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}}(n,i.id,i.data,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager,e))})}),!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let t=this.eventContext.domElement;t.addEventListener("pointerdown",this.onPointerDown),t.addEventListener("pointermove",this.onPointerMove),t.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,n,i){let{getCamera:r,raycaster:o}=this.eventContext;r().getWorldDirection(wm),wm.negate();let s=_0.identity();switch("parent"===i?Y9e.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(ro,s,xa):"local"===i&&e.matrixWorld.decompose(ro,s,xa),n){case"x":ro.set(1,0,0).applyQuaternion(s),fy.copy(wm).cross(ro),Lu.copy(ro).cross(fy);break;case"y":ro.set(0,1,0).applyQuaternion(s),fy.copy(wm).cross(ro),Lu.copy(ro).cross(fy);break;case"z":ro.set(0,0,1).applyQuaternion(s),fy.copy(wm).cross(ro),Lu.copy(ro).cross(fy);break;case"xy":Lu.set(0,0,1).applyQuaternion(s);break;case"yz":Lu.set(1,0,0).applyQuaternion(s);break;case"xz":Lu.set(0,1,0).applyQuaternion(s);break;case"adaptive":wm.angleTo(xa.set(0,1,0))>Math.PI/6?(ro.crossVectors(xa.set(0,1,0),wm),Lu.crossVectors(ro,xa)):Lu.set(0,1,0);break;default:Lu.copy(wm)}b0.setFromMatrixPosition(e.matrixWorld);let a=e.userData.lockedPlane?e.userData.worldPosition0:b0;if(QK.setFromNormalAndCoplanarPoint(Lu,a),o.ray.intersectPlane(QK,t)&&("x"===n||"y"===n||"z"===n)){let l=xa.subVectors(t,a).dot(ro);t.copy(a).addScaledVector(ro,l)}}updateDragItem(e,t=!1){b0.setFromMatrixPosition(e.obj.matrixWorld),"current"===e.reset?Tx.subVectors(e.fromPosition,b0).divideScalar(e.currentDampingFactor):"original"===e.reset?(Tx.subVectors(e.obj.userData.worldPosition0,b0).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):Tx.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(b0).divideScalar(e.currentDampingFactor),e.paused=!(e.currentDampingFactor>1)||Tx.length()<.01,(this.activeEvent&&1===this.activeEvent.data.dampingFactor||t)&&X9e(e,Tx.add(b0),this.activeEvent?.data.drop&&this.activeEvent?.data.autoOrient?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},gy=new ie,W4=new ie,Qp=new ie,Kp=new ie,ZK=new vc,Z9e={type:"requestRender"},J9e=function(){let e=new ie,t=new ie;return(n,i,r)=>r>0?(e.subVectors(n,i),e.length()<=r?n:t.copy(i).add(e.normalize().multiplyScalar(r))):i}(),JK=function(){let e=new Kt;return(t,n)=>{t.position.copy(n),null!==t.parent&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof Yl&&Gp(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),tUe=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.pairOfEventListeners=[],this.onMouseMove=n=>{if(!(wi.length>1)){this.eventContext.updateRaycaster(n);for(let i of this.events)void 0===i.target&&this.updateSingleEvent(i)}},this.onMouseEnter=n=>{for(let i of this.events)void 0===i.target&&(i.isReset=!1,i.currentDampingFactor=i.data.dampingFactor)},this.onMouseLeave=n=>{for(let i of this.events)void 0===i.target&&(i.data.resetOnPointerLeave&&(i.isReset=!0,i.currentDampingFactor=i.resetDampingFactor),this.updateSingleEvent(i))},this.onTargetChange=n=>()=>{this.updateSingleEvent(n)}}connect(){let{page:e}=this.eventContext;if(e.traverseEntity(i=>{let r=i.data?.events.find(o=>"Follow"===o.data.type&&!o.data.disabled);r&&(!e.data.globalPhysics.usePhysics||"dynamic"!==i.dataPatched.physics?.rigidBody)&&this.events.push(new class{constructor(e,t,n,i,r,o){this.data=e,this.id=t,this.object=n,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new ie,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...bI.defaultData,...e,...void 0===e.resetOnPointerLeave&&{resetOnPointerLeave:!1}},void 0===e.target||"cursor"===e.target||(this.target=i.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=Js(e,e.actions,i,r,o,n)}}(r.data,r.id,i,e,this.eventContext.sharedAssets,this.eventManager))}),!this.events.length)return;let{domElement:t,eventElement:n}=this.eventContext;this.domEventsNeeded.clear(),Xc&&(this.domEventsNeeded.add("pointerdown"),t.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),n.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(t.addEventListener("pointerenter",this.onMouseEnter),t.addEventListener("pointerleave",this.onMouseLeave));for(let i of this.events)if(void 0!==i.target){let r=i.target,o=this.onTargetChange(i);this.pairOfEventListeners.push([r,o]),r.addEventListener("requestRender",o)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),Xc&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[n,i]of this.pairOfEventListeners)n.removeEventListener("requestRender",i);for(let n of this.events)n.paused=!0,n.isReset=!1,Va(n.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){this.events.forEach(s=>{s.actions.Create.forEach(a=>{a.dispatchThrottled()})});let{plane:n,limitDistance:i,limitDistanceEnabled:r}=e.data;if(e.object.getWorldPosition(Qp),e.isReset)Kp.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Kp);else{let{getCamera:s,raycaster:a}=this.eventContext;if("custom"===n?(s().getWorldDirection(W4),W4.negate(),gy.copy(W4)):"xy"===n?gy.set(0,0,1):"xz"===n?gy.set(0,1,0):"yz"===n&&gy.set(1,0,0),ZK.setFromNormalAndCoplanarPoint(gy,Qp),!a.ray.intersectPlane(ZK,Kp))return}if(!e.isReset)if(Kp.distanceTo(e.worldPosition0)>i&&r&&e.target){if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&null!==e.timeoutId&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,!e.data.resetAfterDistanceLimit)return;Kp.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor}else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},1e3*e.data.snapDelay)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),!1===e.delayFinished)return;!1===e.data.enabledTranslation[0]&&(Kp.x=Qp.x),!1===e.data.enabledTranslation[1]&&(Kp.y=Qp.y),!1===e.data.enabledTranslation[2]&&(Kp.z=Qp.z);let o=J9e(Qp,Kp,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let s=gy.subVectors(o,Qp).divideScalar(e.currentDampingFactor);Qp.add(s),t&&JK(e.object,Qp),e.paused=s.length()<.01}else JK(e.object,o),e.paused=!0;e.object?.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(Z9e)}},Ix=new ie,xO=new ie,kx=new Kt,vy=new Ri,Cm=new Ri,Rx=new ie,Nx=new ie,x0=new ie,Zp=new ie,q4=new vc,iUe={type:"requestRender"},rUe={type:"changeRotation"},eZ=function(){let e=new Kt;return function(t,n){null!==t.parent?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),n.premultiply(GK(e).invert()),t.rotation.setFromRotationMatrix(n),t.updateMatrix(),t instanceof Yl&&Gp(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),sUe=class extends Dl{constructor(){super(...arguments),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=e=>{if(!(wi.length>1)){this._lastMouseEvent=e,this.eventContext.updateRaycaster(e);for(let t of this.events)void 0===t.target&&this.updateSingleEvent(t)}},this.onMouseEnter=e=>{for(let t of this.events)void 0===t.target&&(t.isReset=!1,t.currentDampingFactor=t.data.dampingFactor)},this.onMouseLeave=e=>{for(let t of this.events)void 0===t.target&&(t.data.resetOnPointerLeave&&(t.isReset=!0,t.currentDampingFactor=t.resetDampingFactor),this.updateSingleEvent(t))},this.onScroll=e=>{if(this._lastMouseEvent){let t=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(t)}},this.onTargetChange=e=>()=>{this.updateSingleEvent(e)},this.createUserEventListener=e=>({eventName:t,target:n})=>{if(!t||!n)return;let i=Ax(t);i&&"LookAt"===i&&this.updateSingleEvent(e)}}connect(){let{page:e}=this.eventContext;if(e.traverseEntity(i=>{let r=i.data?.events.find(o=>"LookAt"===o.data.type&&!o.data.disabled);r&&(!e.data.globalPhysics.usePhysics||"dynamic"!==i.dataPatched.physics?.rigidBody)&&this.events.push(new class{constructor(e,t,n,i){this.id=t,this.object=n,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new Ri,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={..._I.defaultData,...e,...void 0===e.resetOnPointerLeave&&{resetOnPointerLeave:!1}},void 0===e.target||"cursor"===e.target||(this.target=i.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}}(r.data,r.id,i,e))}),!this.events.length)return;let{domElement:t,eventElement:n}=this.eventContext;this.domEventsNeeded.clear(),Xc&&(this.domEventsNeeded.add("pointerdown"),t.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),n.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?n.addEventListener("scroll",this.onScroll):(t.addEventListener("pointerenter",this.onMouseEnter),t.addEventListener("pointerleave",this.onMouseLeave));for(let i of this.events){if(void 0!==i.target){let s=this.onTargetChange(i),a=i.target;this.pairOfEventListeners.push([a,s]),a.addEventListener("requestRender",s)}let r=this.createUserEventListener(i),o=i.object;this.pairOfUserEventListeners.push([o,r]),o.addEventListener("userEvent",r)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),Xc&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[n,i]of this.pairOfEventListeners)n.removeEventListener("requestRender",i);for(let[n,i]of this.pairOfUserEventListeners)n.removeEventListener("userEvent",i);for(let n of this.events)n.paused=!0,n.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){let{tilt:t,axis:n,distance:i,plane:r,limitDistance:o,enabledRotation:s,limitDistanceEnabled:a}=e.data,{getCamera:l,raycaster:c}=this.eventContext,{object:d,target:h}=e;if(d.getWorldPosition(Rx),!e.isReset)if(e.target)e.target.getWorldPosition(Nx);else{if("custom"===r?(l().getWorldDirection(xO),xO.negate(),q4.setFromNormalAndCoplanarPoint(xO,Rx)):("xy"===r?Ix.set(0,0,1):"xz"===r?Ix.set(0,1,0):"yz"===r&&Ix.set(1,0,0),q4.setFromNormalAndCoplanarPoint(Ix,Rx)),!c.ray.intersectPlane(q4,Nx))return;i>0&&("custom"===r||void 0===r)&&Nx.addScaledVector(xO,i)}if(e.isReset||(h?"target"===t?x0.copy(h.up).applyMatrix4(kx.extractRotation(h.matrixWorld)).normalize():s.some(p=>!1===p)?("x"===n?(Zp.set(0,0,1),!1===s[2]&&Zp.set(0,1,0)):"y"===n?(Zp.set(1,0,0),!1===s[0]&&Zp.set(0,0,1)):(Zp.set(0,1,0),!1===s[1]&&Zp.set(1,0,0)),x0.copy(Zp).applyQuaternion(e.worldQuaternion0).normalize()):x0.set(0,1,0):"custom"===r?x0.set(0,1,0):x0.copy(Ix)),e.isReset)Cm.copy(e.worldQuaternion0);else if(Rx.distanceTo(Nx)>o&&a&&h){if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&null!==e.timeoutId&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,!e.data.resetAfterDistanceLimit)return;Cm.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor}else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},1e3*e.data.snapDelay)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),!1===e.delayFinished)return;(function aUe(e,t,n,i,r,o){let s=e.elements;Ls.subVectors(t,n),0===Ls.lengthSq()&&(Ls.z=1),Ls.normalize(),wa.crossVectors(i,Ls),0===wa.lengthSq()&&(1===Math.abs(i.z)?Ls.x+=1e-4:Ls.z+=1e-4,Ls.normalize(),wa.crossVectors(i,Ls)),wa.normalize(),Ud.crossVectors(Ls,wa),"x"===r?1===o.z?[wa,Ud,Ls]=[Ls,wa,Ud]:(wa.negate(),[wa,Ls]=[Ls,wa]):"y"===r?1===o.x?[wa,Ud,Ls]=[Ud,Ls,wa]:(wa.negate(),[Ud,Ls]=[Ls,Ud]):1===o.x&&(wa.negate(),[wa,Ud]=[Ud,wa]),s[0]=wa.x,s[4]=Ud.x,s[8]=Ls.x,s[1]=wa.y,s[5]=Ud.y,s[9]=Ls.y,s[2]=wa.z,s[6]=Ud.z,s[10]=Ls.z})(kx,Nx,Rx,x0,n,Zp),Cm.setFromRotationMatrix(kx),vy.setFromUnitVectors(Zp.applyQuaternion(Cm),x0),s.some(p=>!1===p)&&"target"!==t&&Cm.premultiply(vy).normalize()}e.currentDampingFactor>1?(d.updateWorldMatrix(!0,!1),vy.setFromRotationMatrix(GK(d.matrixWorld)),vy.slerp(Cm,1/e.currentDampingFactor),eZ(d,kx.makeRotationFromQuaternion(vy)),e.paused=8*(1-vy.dot(Cm))<1e-6):(eZ(d,kx.makeRotationFromQuaternion(Cm)),e.paused=!0),e.object?.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),d.dispatchEvent(iUe),d.dispatchEvent(rUe)}},Ud=new ie,wa=new ie,Ls=new ie,lUe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.entered=!1,this.actions=Js(t,t.actions,i,r,o,n)}disconnect(){Va(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatchStart()),this.actions.Particles.forEach(e=>e.dispatchBasic()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Create.forEach(e=>e.dispatchStop()),this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Particles.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Particles.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Particles.forEach(t=>t.dispatchBasic()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},cUe=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObjects={},this.objects=[],this.objects2D=[],this._prevObjects=[],this.onMouseDown=n=>{wi.length>1||(this.eventContext.updateRaycaster(n),this.handleMouseHoverEvent())},this.onMouseUp=n=>{wi.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=n=>{wi.length>1||(this.eventContext.updateRaycaster(n),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:n,target:i,reverse:r})=>{if(!n||!i)return;let o=Ax(n);o&&"MouseHover"===o&&(i.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[i.uuid]?.forEach(s=>s.dispatchUserEvent(r)))}}connect(){let{page:e,sharedAssets:t}=this.eventContext,n=(r,o)=>{if(r.visible&&r.data?.events.length){for(let{id:s,data:a}of r.data.events)if(!a.disabled&&"MouseHover"===a.type)try{let l=new lUe(s,a,r,e,t,this.eventManager);this.eventsPerObjects[r.uuid]?this.eventsPerObjects[r.uuid].push(l):this.eventsPerObjects[r.uuid]=[l]}catch{}this.eventsPerObjects[r.uuid]?.length&&this.objects.push(r instanceof Ba?o:r)}};if(e.traverseEntity(r=>{(r instanceof El||r instanceof Ua)&&r.frame?.traverse(o=>{n(o,r)}),n(r)}),!this.objects.length)return;let{domElement:i}=this.eventContext;this.domEventsNeeded.clear(),Xc&&(this.domEventsNeeded.add("pointerdown"),i.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),i.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),i.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(r=>{r.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),Xc&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(n=>{n.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:n,raycaster:i,page:r,pointerScreen:o}=this.eventContext,s=!1;if(r.uiCanvas&&(s=$p(r,[o.x,o.y],Object.keys(this.eventsPerObjects),a=>{t.push(a)})),n&&!s){let a=bO(i,r,this.objects);t=U4(a),a.forEach(l=>{l.object instanceof El&&$p(l.object,[l?.uv?.x??0,l?.uv?.y??0],Object.keys(this.eventsPerObjects),c=>{t.push(c)})})}else this.objects.forEach(a=>{let l=_O(i,a);l&&(t.push(a),a instanceof El&&$p(a,[l?.uv?.x??0,l?.uv?.y??0],Object.keys(this.eventsPerObjects),c=>{t.push(c)}))})}this._prevObjects.length&&this._prevObjects.forEach(n=>{t.includes(n)||(n.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[n.uuid]?.forEach(i=>i.dispatchLeave()))}),t.length&&t.forEach(n=>{n.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[n.uuid]?.forEach(i=>i.dispatchEnter())}),this._prevObjects=t}},dUe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.scrollCounter=0,this.actions=Js(t,t.actions,i,r,o,n)}connect(){this.scrollCounter=0}disconnect(){Va(this.actions)}dispatch(e){this.actions.Transition.forEach(i=>{i.object.currentTransitionEvent!==this&&(i.object.currentTransitionEvent=this,i.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let n=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(i=>i.seek(n)),this.actions.Animation.forEach(i=>i.seek(t)),this.actions.Create.forEach(i=>i.dispatchThrottled()),this.actions.SetVariable.forEach(i=>i.checkConditions()),this.actions.SetVariable.forEach(i=>i.dispatch()),this.actions.DynamicVariablePlay.forEach(i=>i.dispatch()),this.actions.ClearLocalStorage.forEach(i=>i.dispatch()),this.actions.UserAPI.forEach(i=>i.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},hUe=class{constructor(e,t,n,i,r,o,s){this.id=e,this.data=t,this.object=n,this.domElement=o,this.eventManager=s,this.scrollStart=0,this.scrollEnd=0,this.actions=Js(t,t.actions,i,r,s,n)}getStickyParentElement(){let e=this.domElement;for(;e;){if("sticky"===window.getComputedStyle(e).position)return e;e=e.parentElement}return null}computeScrollBounds(){let e=this.getStickyParentElement(),t=e?.parentElement,n=this.domElement.getBoundingClientRect(),i={top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.width,height:n.height};if(t){let c=t.getBoundingClientRect(),d=window.getComputedStyle(e),h=parseFloat(d.marginTop)+parseFloat(d.marginBottom),p=parseFloat(d.top),g=parseFloat(d.bottom),v=c.height-h;if(isNaN(p)){if(!isNaN(g)){let y=document.body.clientHeight??window.innerHeight,b=window.innerWidth-(document.documentElement.clientWidth??window.innerWidth);n.bottom===y-g?(i.top+=c.top-n.height+g+b,i.bottom+=c.top-n.height+g+b):n.bottom<y-g&&(i.top-=v-n.height,i.bottom-=v-n.height)}}else n.top===p?(i.top+=c.top-p,i.bottom+=c.top-p):n.top<0&&(i.top-=v-n.height,i.bottom-=v-n.height)}let r=document.body,o=document.documentElement,s=window.pageYOffset||o.scrollTop||r.scrollTop,l=Math.round(i.top+s-(o.clientTop||r.clientTop||0));if("enter"===this.data.startFrom){let c=window.innerHeight,d=i.height,h=this.data.enterAnchor;this.scrollStart=l-("top"===h?c:"bottom"===h?c-d:c-.5*d)}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=i,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){Va(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return void 0===this.box||0===this.box.width&&0===this.box.height&&0===this.box.top&&0===this.box.bottom}computeScroll({y:t}){this.actions.Transition.forEach(r=>{r.object.currentTransitionEvent!==this&&(r.object.currentTransitionEvent=this,r.init())});let i=Math.min(1,Math.max(0,(t-this.scrollStart)/(this.scrollEnd-this.scrollStart)));this.actions.Transition.forEach(r=>r.seek(i)),this.actions.Animation.forEach(r=>r.seek(i)),this.actions.Create.forEach(r=>r.dispatchThrottled()),this.actions.SetVariable.forEach(r=>r.checkConditions()),this.actions.SetVariable.forEach(r=>r.dispatch()),this.actions.DynamicVariablePlay.forEach(r=>r.dispatch()),this.actions.ClearLocalStorage.forEach(r=>r.dispatch()),this.actions.UserAPI.forEach(r=>r.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch())}},uUe=class extends Dl{constructor(e,t){super(e),this.managers=t,this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([n,i])=>{i.forEach(r=>r.handleResize())})},this.onScroll=n=>{if(!this.isInview)return;let i={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([r,o])=>{r.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:i}),o.forEach(s=>s.dispatch(i))})},this.onWheel=n=>{!this.isInview||n.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([i,r])=>{i.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:n.deltaY}),r.forEach(o=>o.dispatch(n.deltaY))})},this.onUserEvent=({eventName:n,target:i,reverse:r})=>{if(!n||!i)return;let o=Ax(n);o&&"Scroll"===o&&(i.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),this.wheelEventsPerObject.get(i)?.forEach(s=>{s.dispatchUserEvent(r)}))}}connect(){let{page:e,sharedAssets:t,domElement:n,isExport:i}=this.eventContext,r=o=>{if(o.data?.events.length)for(let{id:s,data:a}of o.data.events)if(!a.disabled&&"Scroll"===a.type)if("load"!==a.trigger&&i){let l=new hUe(s,a,o,e,t,n,this.managers);this.scrollEventsPerObject.has(o)?this.scrollEventsPerObject.get(o)?.push(l):this.scrollEventsPerObject.set(o,[l])}else{let l=new dUe(s,a,o,e,t,this.managers);this.wheelEventsPerObject.has(o)?this.wheelEventsPerObject.get(o)?.push(l):this.wheelEventsPerObject.set(o,[l])}};e.traverseEntity(o=>{(o instanceof El||o instanceof Ua)&&o.frame?.traverse(s=>{r(s)}),r(o)}),this.intersectionObserver=new IntersectionObserver(o=>{let s=o[0];s&&(this.isInview=s.isIntersecting)},{root:null}),this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([o,s])=>{s.forEach(a=>a.connect()),o.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([o,s])=>{s.forEach(a=>a.connect()),o.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(o=>o.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(o=>o.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},pUe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=Js(t,t.actions,i,r,o,n)}disconnect(){Va(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof y0?t.interaction.audioPlayer.play():t.interaction instanceof y4&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{let n=t.interaction.data.triggerAfter??"autoplay";n===e&&(t.interaction instanceof py?t.interaction.play("autoplay"===n):t.interaction instanceof N4&&t.interaction.dispatch())}),this.actions.Particles.forEach(t=>{(t.data.triggerAfter??"any")===e&&t.dispatchBasic()})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof y0?t.interaction.audioPlayer.play():t.interaction instanceof y4&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof py?t.interaction.play():t.interaction instanceof N4&&t.interaction.dispatch()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()})}},fUe=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:n,isExport:i}=this.eventContext,r=i?document:n;r.removeEventListener("pointerdown",this.onAny),r.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([o,s])=>{o.dispatchEvent({type:"beginEvent",eventName:"Start"}),s.forEach(a=>{a.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.actions.Audio.forEach(o=>{o.interaction instanceof y0&&o.interaction.audioPlayer.play()}),r.actions.Video.forEach(o=>{o.interaction instanceof py&&o.interaction.play("autoplay"===(o.interaction.data.triggerAfter??"autoplay"))}),r.actions.Particles.forEach(o=>{o.dispatchBasic()})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:n,target:i,reverse:r})=>{if(!n||!i)return;let o=Ax(n);o&&"Start"===o&&(i instanceof Ba||i.dispatchEvent({type:"beginEvent",eventName:"Start"}),this.eventsPerObject.get(i)?.forEach(s=>{s.dispatchUserEvent(r)}),this.eventsAfterPerObject.get(i)?.forEach(s=>{s.dispatchUserEvent(r)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext,n=i=>{if(i.data?.events.length)for(let{id:r,data:o}of i.data.events){if(o.disabled||"Start"!==o.type)continue;let s=new pUe(r,o,i,t,e,this.eventManager);(s.actions.Transition.length||s.actions.Animation.length||s.actions.SwitchCamera.length||s.actions.Create.length||s.actions.Destroy.length||s.actions.SceneTransition.length||s.actions.Reset.length||s.actions.SetVariable.length||s.actions.DynamicVariablePlay.length||s.actions.ClearLocalStorage.length||s.actions.UserAPI.length)&&(this.eventsPerObject.has(i)?this.eventsPerObject.get(i)?.push(s):this.eventsPerObject.set(i,[s])),s.actions.Audio.length&&(this.eventsAfterPerObject.has(i)?this.eventsAfterPerObject.get(i)?.push(s):this.eventsAfterPerObject.set(i,[s])),s.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(i)?this.eventsAfterPerObject.get(i)?.push(s):this.eventsAfterPerObject.set(i,[s])),s.actions.Particles.length&&(this.eventsAfterPerObject.has(i)?this.eventsAfterPerObject.get(i)?.push(s):this.eventsAfterPerObject.set(i,[s]))}};if(t.traverseEntity(i=>{(i instanceof El||i instanceof Ua)&&i.frame?.traverse(r=>{n(r)}),n(i)}),[...this.eventsAfterPerObject.values()].some(i=>i.length)){if(0===this.eventManager.activateCount){let{domElement:i,isExport:r}=this.eventContext,o=r?document:i;o.addEventListener("pointerdown",this.onMouseDown,{once:!0}),o.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),o.addEventListener("pointerdown",this.onAny),o.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([s,a])=>{s.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([i,r])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),r.forEach(o=>o.dispatch()),i.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,n=t?document:e;n.removeEventListener("pointerdown",this.onMouseDown),n.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),n.removeEventListener("pointerdown",this.onAny),n.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([i,r])=>{i.removeEventListener("userEvent",this.onUserEvent),r.forEach(o=>o.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(n=>n.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},mUe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.initialDisabled=!1,this.actions=Js(t,t.actions,i,r,o,n),this.target=t.target}disconnect(){Va(this.actions)}dispatch(e){this.initialDisabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.actions.Transition.forEach(t=>{"Toggle"===t.data.runMode?t.toggle():t.play()}),this.actions.Animation.forEach(t=>{"Toggle"===t.data.runMode?t.toggle():t.play()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e??!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Particles.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.ClearLocalStorage.forEach(t=>t.dispatch()),this.actions.UserAPI.forEach(t=>t.dispatch()))}},gUe=class extends Dl{constructor(e,t,n,i,r){super(e),this.sharedVariables=t,this.eventManager=n,this.needsMouse=i,this.needsRaycast=r,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.isOutOfFocus=!1,this.events=[],this.onFrame=o=>{let s=this.eventContext.sharedAssets;if(this.rafId=window.requestAnimationFrame(this.onFrame),this.isOutOfFocus)return;let a=new Date,l=[],c=[];for(let p=0;p<this.propertiesToWatch.length;p++){let{objectId:g,property:v,prevValue:y}=this.propertiesToWatch[p],b=this.eventContext.scene.find(g),P=wI.propertyPaths[v];if("width"===P[0]||"height"===P[0]||"depth"===P[0])b=b.geometry.userData.parameters[P[0]];else for(let O=0;O<P.length;O++)b=b[P[O]];null===y?this.propertiesToWatch[p].prevValue=b instanceof ie?b.clone():b:(b instanceof ie?!b.equals(y):y!==b)&&(c.push({objId:g,property:v}),b instanceof ie?this.propertiesToWatch[p].prevValue.copy(b):this.propertiesToWatch[p].prevValue=b)}for(let p=0;p<this.variablesToWatch.length;p++){let{id:g,prevValue:v}=this.variablesToWatch[p],y=s.getVariable(g);y!==v&&(l.push(g),this.variablesToWatch[p].prevValue=y)}for(let p=0;p<this.dynamicVars.length;p++){let{id:g,expectedTime:v,last:y,data:b,timerSeconds:P,startValue:O}=this.dynamicVars[p],S=1e3;if("timer"!==b.dynamicVariableType&&"stopwatch"!==b.dynamicVariableType||"number3decimal"!==b.format?"counter"===b.dynamicVariableType?S=b.updateInterval:"random"===b.dynamicVariableType&&(S=b.isStatic?1/0:b.updateInterval):S=1,-1!==v){if("Stopped"!==s.getDynamicVariablePlayState(g)&&"Restarted"!==s.getDynamicVariablePlayState(g)||(this.dynamicVars[p].last=o,this.dynamicVars[p].expectedTime=o+S,"counter"===b.dynamicVariableType&&s.getVariable(g)!==O&&(s.updateVariable(g,O),this.eventManager.requestRender()),("timer"===b.dynamicVariableType||"stopwatch"===b.dynamicVariableType)&&this.dynamicVars[p].timerSeconds!==O&&(this.dynamicVars[p].timerSeconds=O,s.updateVariable(g,Id.getFormattedTimerTime(O,b)),this.eventManager.requestRender()),"Restarted"===s.getDynamicVariablePlayState(g)&&s.setDynamicVariablePlayState(g,"Playing"),"Stopped"!==s.getDynamicVariablePlayState(g))){if("Paused"===s.getDynamicVariablePlayState(g)){void 0===this.dynamicVars[p].deltaToExpectedTime&&(this.dynamicVars[p].deltaToExpectedTime=Math.max(this.dynamicVars[p].expectedTime-o,0)),this.dynamicVars[p].last=o-(S-this.dynamicVars[p].deltaToExpectedTime),this.dynamicVars[p].expectedTime=o+this.dynamicVars[p].deltaToExpectedTime;continue}if(this.dynamicVars[p].deltaToExpectedTime=void 0,o>=v)if(this.dynamicVars[p].last=o,this.dynamicVars[p].expectedTime+=S,"random"===b.dynamicVariableType){let A=b.min+Math.random()*(b.max-b.min),H=b.decimals;A=Math.round(A*Math.pow(10,H))/Math.pow(10,H),s.updateVariable(g,A),l.push(g),this.eventManager.requestRender()}else if("counter"===b.dynamicVariableType){let A=s.getVariable(g),H=s.getDynamicVariableToggleIsForward(g)??!0,V=s.getVariable(g)+b.increment*(H?1:-1);b.hasEnd&&(V=b.increment>0?Ln.clamp(V,O,b.endValue):Ln.clamp(V,b.endValue,O),V===O&&s.setDynamicVariableToggleIsForward(g,void 0),b.repeat?V===b.endValue&&(V=O):(V===O||V===b.endValue)&&s.setDynamicVariablePlayState(g,"Paused")),V!==A&&(l.push(g),s.updateVariable(g,V),this.eventManager.requestRender())}else if("time"===b.dynamicVariableType){let A=s.getVariable(g),H=UX(a,b);if("object"==typeof A&&"textValue"in A&&"object"==typeof H&&"textValue"in H){if(Array.isArray(A.textValue)&&Array.isArray(H.textValue)){if(A.textValue.every((V,Q)=>V===H.textValue[Q]))continue}else if(A.textValue===H.textValue)continue}else if(A===H)continue;s.updateVariable(g,H),l.push(g),this.eventManager.requestRender()}else{let A=ol.isTextValue(b.endValue)?tZ(b.endValue.textValue):b.endValue,H=s.getDynamicVariableToggleIsForward(g)??!0,V=P+(o-y)/1e3*("timer"===b.dynamicVariableType?-1:1)*(H?1:-1);V=Math.max(V,0),b.hasEnd&&(V="stopwatch"===b.dynamicVariableType?Ln.clamp(V,O,A):Ln.clamp(V,A,O),V===O&&s.setDynamicVariableToggleIsForward(g,void 0),b.repeat?Math.abs(V-A)<("number3decimal"===b.format?1e-4:.1)&&(V=O):(Math.abs(V-O)<("number3decimal"===b.format?1e-4:.1)||Math.abs(V-A)<("number3decimal"===b.format?1e-4:.1))&&s.setDynamicVariablePlayState(g,"Paused")),V!==P&&(l.push(g),this.dynamicVars[p].timerSeconds=V,s.updateVariable(g,Id.getFormattedTimerTime(V,b)),this.eventManager.requestRender())}}}else this.dynamicVars[p].last=o,this.dynamicVars[p].expectedTime=o+S}let d=!1;s.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=s.mouseProperty,d=!0);let h=!1;s.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=s.raycastProperty,h=!0),this.events.forEach(p=>{(l.includes(p.data.variableId)||c.find(g=>g.objId===p.data.objectId&&g.property===p.data.property)||"mouseProperty"===p.data.variableId&&d||"raycastProperty"===p.data.variableId&&h)&&(p.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()}}pause(){this.isOutOfFocus||(this.isOutOfFocus=!0,this.pauseTime=Date.now())}resume(){if(!this.isOutOfFocus)return;this.isOutOfFocus=!1;let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.eventContext.page.traverseEntity(t=>{t.data?.events.filter(n=>"VariableChange"===n.data.type&&!n.data.disabled).forEach(n=>{this.events.push(new vUe(n.id,n.data,t,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.propertiesToWatch=this.events.filter(t=>"objectProperty"===t.data.variableId&&null!==t.data.objectId).map(t=>({objectId:t.data.objectId,property:t.data.property,prevValue:null}));let e=this.eventContext.sharedAssets;this.sharedVariables.forEach(({id:t,data:n})=>{if(!("dynamicVariableType"in n))return void(this.events.find(r=>r.data.variableId===t)&&this.variablesToWatch.push({id:t,prevValue:e.getVariable(t)}));let i;if("timer"===n.dynamicVariableType||"stopwatch"===n.dynamicVariableType){let r;if(ol.isTextValue(n.value)&&Array.isArray(n.value.textValue)){let o=n.value.textValue;r=3===o.length?o[2]+60*o[1]+3600*o[0]:o[1]+60*o[0]}else r=n.value;i=r,this.dynamicVars.push({id:t,last:-1,expectedTime:-1,data:n,timerSeconds:r,startValue:i})}else"time"===n.dynamicVariableType&&e.updateVariable(t,UX(new Date,n)),"counter"===n.dynamicVariableType&&(i=ol.isTextValue(n.value)?tZ(n.value.textValue):n.value),this.dynamicVars.push({id:t,last:-1,expectedTime:-1,data:n,startValue:i})}),this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},vUe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=Js(t,t.actions,i,r,o,n)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}dispose(){Va(this.actions)}};function tZ(e){return 3===e.length?e[2]+60*e[1]+3600*e[0]:e[1]+60*e[0]}var iZ,wr,dl,CUe={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1};wIe.then(e=>{iZ=e,wr=new e.Vec3,dl=new e.Vec3});var MUe=new ie;function SUe(e){let t=!1;return e.scene.objects.forEach(n=>{"Page"===n.data.type&&!t&&n.data.publish.gameControlObject&&H_.traverseModuleInstances(e,n.id,(i,r,o)=>{for(let s of o)"GameControl"===s.data.type&&s.data.navmesh.enabled&&(t=!0)})}),t}var EUe={type:"change"},rZ={type:"changeZoom"},DUe={type:"changePan"},w0={type:"start"},C0={type:"end",changed:!0},AUe={type:"end",changed:!1},Y4=new Ri,oZ=new qe,TUe=2*Math.PI,X4=new ie,wO=new qe,$4=new ie,CO=new Ri,sZ=new Kt,RUe={type:"requestRender"},aZ=class extends el{constructor(e,t,n={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=n,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,3,1],this.offset=new ie,this.eye=new ie,this.lastPosition=new ie,this.lastQuaternion=new Ri,this.current=new qe,this.overShoot=new qe,this.overRatio=new qe,this.spherical=new _H,this.sphericalDelta=new _H,this.panOffset=new ie,this.panLeftV=new ie,this.panUpV=new ie,this.panV=new ie,this.rotateStart=new qe,this.rotateEnd=new qe,this.rotateDelta=new qe,this.panStart=new qe,this.panEnd=new qe,this.panDelta=new qe,this.dollyStart=new qe,this.dollyEnd=new qe,this.dollyDelta=new qe,this.rotationRangeFactor=new qe,this.panRangeFactor=new qe,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=i=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=i.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose($4,CO,X4),this.offset.copy($4).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&-1===this.state&&this.rotateLeft((!0===this.autoRotateClockwise?1:-1)*this.getAutoRotationAngle()),0!==this.rotationLimitsMode&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),2!==this.rotationLimitsMode&&(this.spherical.phi+=this.sphericalDelta.phi),(1!==this.rotationLimitsMode||!0===this.autoRotate)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&this.object.isPerspectiveCamera&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),0!==this.panLimitsMode&&(this.target.applyQuaternion(Y4.copy(CO).invert()),this.panOffset.applyQuaternion(Y4),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(CO),this.panOffset.applyQuaternion(CO)),2===this.panLimitsMode&&(this.panOffset.y=0),1===this.panLimitsMode&&(this.panOffset.x=0),-1!==this.state||this.gesture?(this.target.add(this.panOffset),this.panOffset.set(0,0,0)):(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)),this.offset.setFromSpherical(this.spherical),$4.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(sZ.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(sZ));let i=this.spherical.phi%TUe;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(uo.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),i>0&&i>Math.PI||i<0&&i>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),-1===this.state||!0===this.enableDamping){let r=1===this.hoverRotatePanMode?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-r,this.sphericalDelta.phi*=1-r}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>.01||8*(1-this.lastQuaternion.dot(this.object.quaternion))>1e-8?(this.dispatchEvent(EUe),this.object.dispatchEvent(RUe),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=i=>{!1!==this.enabled&&("touch"===i.pointerType||"pen"===i.pointerType&&Xc?this.onPointerDownTouch(i):this.onPointerDownMouse(i),-1!==this.state&&(this.isPointerDown=!0,this.dispatchEvent(w0),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),i.stopPropagation(),"touch"===i.pointerType||"pen"===i.pointerType&&Xc||this.domElement.setPointerCapture(i.pointerId)))},this.onPointerLeave=i=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(1===this.hoverRotatePanMode?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,X4.subVectors(this.position0,this.target0),this.spherical.setFromVector3(X4),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):2===this.hoverRotatePanMode&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=i},this.onPointerEnter=i=>{this.resetHoverEffectOnPointerLeave||void 0===this.pointerLeaveEvent?wO.set(i.clientX-this.domElement.clientWidth/2,i.clientY-this.domElement.clientHeight/2):wO.set(i.clientX-this.pointerLeaveEvent.clientX,i.clientY-this.pointerLeaveEvent.clientY),1===this.hoverRotatePanMode?(this.rotateDelta.copy(wO).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(oZ,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(i.clientX,i.clientY)):2===this.hoverRotatePanMode&&(this.panDelta.copy(wO).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(i.clientX,i.clientY)),this.update()},this.onPointerMove=i=>{!1!==this.enabled&&(this.checkRaycastLock()||("touch"===i.pointerType||"pen"===i.pointerType&&Xc?this.onPointerMoveTouch(i):this.onPointerMoveMouse(i),i.stopPropagation()))},this.onPointerUp=i=>{this.isPointerDown=!1,0===wi.length&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),wi.length>1&&i.preventDefault(),this.dispatchEvent(this.hasChange?C0:AUe),this.state=-1,i&&(i.stopPropagation(),"touch"===i.pointerType||"pen"===i.pointerType&&Xc||this.domElement.releasePointerCapture(i.pointerId))},this.onPointerDownMouse=i=>{let r;switch(r=this.useKeyEvents?this.mouseButtons[i.button]:this.mouseButtonsPlay[i.button],r){case 0:if(!0!==i.altKey||i.shiftKey||xP(i)){if(" "===this.key){if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}}else{if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}break;case 4:if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2;break;case 3:if(xP(i)||i.shiftKey){if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}else{if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}break;case 5:if(xP(i)||i.shiftKey){if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}else{if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=i=>{switch(this.state){case 0:if(!1===this.enableRotate)return;this.handleMouseMoveRotate(i);break;case 1:if(!1===this.enableZoom)return;this.handleMouseMoveDolly(i);break;case 2:if(!1===this.enablePan)return;this.handleMouseMovePan(i)}this.object.wasMovedByUser=!0},this.onPointerDownTouch=i=>{switch(wi.length>1&&i.preventDefault(),this.touches[wi.length-1]){case 0:if(!1===this.enableRotate)return void(this.state=-1);this.handleTouchStartRotate(),this.state=3;break;case 1:if(!1===this.enablePan)return void(this.state=-1);this.handleTouchStartPan(),this.state=4;break;case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this.handleTouchStartDollyPan(),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=i=>{switch(wi.length>1&&i.preventDefault(),this.state){case 3:if(!1===this.enableRotate)return;this.handleTouchMoveRotate(i),this.update();break;case 4:if(!1===this.enablePan)return;this.handleTouchMovePan(i),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this.handleTouchMoveDollyPan(i),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this.handleTouchMoveDollyRotate(i),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=k_(()=>this.dispatchEvent(C0),33),this.onMouseWheel=i=>{!1===this.enabled||!1===this.enableZoom&&!1===this.enablePan||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&i.preventDefault(),this.dispatchEvent(w0),this.handleMouseWheel(i),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=i=>{if(i.preventDefault(),!1!==this.enabled&&!this.checkRaycastLock()&&!R_)if("gesturechange"===i.type){if(!1===this.enableZoom||!1===this.isTouchZoom)return;this.dispatchEvent(w0),i.scale>this.prevScale?this.dollyIn(this.getZoomScale()):i.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=i.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(C0)},this.onContextMenu=i=>{i.preventDefault()},this.onTouchEnd=i=>{i.preventDefault()},this.onKeyDown=i=>{!1!==this.enabled&&(this.key=i.key," "===i.key&&this.dispatchEvent(w0))},this.onKeyUp=i=>{!1!==this.enabled&&(this.key=void 0,-1!==this.state&&"Alt"===i.key&&this.onPointerUp(wi[0])," "===i.key&&this.dispatchEvent(C0))},this.onPointerHover=i=>{"mouse"!==i.pointerType||!1===this.enabled||-1!==this.state||2===this.hoverRotatePanMode&&this.isPanOverShoot||1===this.hoverRotatePanMode&&this.isRotateOverShoot||(this.isPointerDown=!0,2===this.hoverRotatePanMode?this.handleMouseMovePan(i,this.hoverRotatePanStrength):1===this.hoverRotatePanMode&&this.handleMouseMoveRotate(i,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=i=>{i.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.initialSphericalRadius=this.spherical.radius,this.addEventListenersToCamera()}dispatchEvent(e){this.hasChange="start"!==e.type,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,0!==this.hoverRotatePanMode&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),0!==this.hoverRotatePanMode&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents="window"===t,0!==this.hoverRotatePanMode&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.hoverRotatePanStrength=(e.hoverRotatePanStrength/100)**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let i=this.object.getTarget().applyQuaternion(Y4.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+i.y,this.maxV=e.panVerticalOffset.max+i.y,this.minH=-e.panHorizontalOffset.min+i.x,this.maxH=e.panHorizontalOffset.max+i.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Fu(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=Fu(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=Fu(Fu(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=Fu(Fu(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,1===e.orbitTouches&&(this.touches[0]=0),1===e.panTouches&&(this.touches[0]=1),2===e.orbitTouches&&(this.touches[1]=3),2===e.panTouches&&(this.touches[1]=2),3===e.orbitTouches&&(this.touches[2]=0),3===e.panTouches&&(this.touches[2]=1),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),0!==this.hoverRotatePanMode&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,n,i,r,o,s,a){let l,c,d;this.overShoot.set(0,0),e instanceof ie?(l=e.x,c=e.y,this.current.set(this.target.x,this.target.y),d=!0):(l=e.theta,c=e.phi,this.current.set(Fu(this.spherical.theta),Fu(this.spherical.phi)),d=!1),0===n&&(this.current.x+=l,this.current.y+=c),(3===t||2===t)&&(!d&&this.isThetaFlipped?this.current.x>i&&this.current.x<0?this.overShoot.x=i-this.current.x:this.current.x<r&&this.current.x>0&&(this.overShoot.x=r-this.current.x):this.current.x>i?this.overShoot.x=i-this.current.x:this.current.x<r&&(this.overShoot.x=r-this.current.x)),(3===t||1===t)&&(this.current.y>o?this.overShoot.y=o-this.current.y:this.current.y<s&&(this.overShoot.y=s-this.current.y)),d||(this.overShoot.x=Fu(this.overShoot.x),this.overShoot.y=Fu(this.overShoot.y)),0!==n?(this.overRatio.copy(this.overShoot).divide(a),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),1===n&&(this.overRatio.x=lZ(Math.abs(this.overRatio.x)),this.overRatio.y=lZ(Math.abs(this.overRatio.y))),this.isPointerDown||1===n?2===n&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(l*this.overShoot.x<0&&!this.thetaIsFree&&(l*=1-this.overRatio.x),c*this.overShoot.y<0&&!this.phiIsFree&&(c*=1-this.overRatio.y)):2===n&&(!d&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||d&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(l=.05*this.overShoot.x),this.phiIsFree||(c=.05*this.overShoot.y),d?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):d?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(l+=this.overShoot.x,c+=this.overShoot.y),e instanceof ie?(e.x=l,e.y=c):(this.thetaIsFree||(e.theta=l),this.phiIsFree||(e.phi=c))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=!0===e?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let n=this.domElement;if(n&&this.object.isPerspectiveCamera){this.panV.copy(this.object.position).sub(this.target);let r=this.panV.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*r/n.clientHeight,this.object.matrixWorld),this.panUp(2*t*r/n.clientHeight,this.object.matrixWorld)}else n&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrixWorld));this.dispatchEvent(DUe)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(rZ)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(rZ)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(w0),this.dollyOut(e),this.dispatchEvent(C0)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(w0),this.dollyIn(e),this.dispatchEvent(C0)}setZoom(e){this.dispatchEvent(w0),this.object.isPerspectiveCamera?this.scale=this.initialSphericalRadius/e/this.spherical.radius:this.object.isOrthographicCamera&&(this.object.zoom=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(C0)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){void 0!==e.movementX?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(oZ,-this.object.angleOffsetFromUp);let i=this.useWindowEvents?window.innerHeight:this.domElement.clientHeight,r=2*Math.PI*this.rotateDelta.x/i,o=2*Math.PI*this.rotateDelta.y/i;this.rotateLeft(r),this.rotateUp(o),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){void 0!==e.movementX?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(!1===gIe&&!1===xP(e)&&!0===function yIe(e){return 0===e.wheelDeltaY||0===e.deltaY?!(_P&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120)&&(e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:0===e.deltaMode):e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:0===e.deltaMode}(e)){if(!1===this.enablePan)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):this.pan(this.panDelta.x,e.shiftKey?0:this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(!1===this.enableZoom||this.gesture)return;0===e.deltaY?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){2===wi.length?this.rotateStart.set(.5*(wi[0].pageX+wi[1].pageX),.5*(wi[0].pageY+wi[1].pageY)):this.rotateStart.set(wi[0].pageX,wi[0].pageY)}handleTouchStartPan(){2===wi.length?this.panStart.set(.5*(wi[0].pageX+wi[1].pageX),.5*(wi[0].pageY+wi[1].pageY)):this.panStart.set(wi[0].pageX,wi[0].pageY)}handleTouchStartDolly(){let e=wi[0].pageX-wi[1].pageX,t=wi[0].pageY-wi[1].pageY,n=Math.sqrt(e*e+t*t);this.dollyStart.set(0,n)}handleTouchStartDollyPan(){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(2===wi.length){let n=$3(e);this.rotateEnd.set(.5*(e.pageX+n.x),.5*(e.pageY+n.y))}else{if(e.pointerId!==wi[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(2===wi.length){let t=$3(e);this.panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}else{if(e.pointerId!==wi[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=$3(e),n=e.pageX-t.x,i=e.pageY-t.y,r=Math.sqrt(n*n+i*i);this.dollyEnd.set(0,r),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let e=this.options?.showCameraLock;return e&&e(),!0}}return!1}};function Fu(e){let t=2*Math.PI;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function lZ(e){return 1-Math.pow(1-e,4)}var Nr,cZ=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.page=i,this.currentIntersectedObjects=[],this.actions=Js(t,t.actions,i,r,o,n),this.target=t.target,this.triggeringObjects=[];for(let s of t.triggeringObjects){let a=i.scene.find(s);a&&this.triggeringObjects.push(a)}}isValidTriggeringObject(e){return"all"===this.target||this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){Va(this.actions)}dispatch(){this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.actions.Transition.forEach(e=>{"Toggle"===e.data.runMode?e.toggle():e.play()}),this.actions.SwitchCamera.forEach(e=>{"Toggle"===e.data.runMode?e.toggle():e.play()}),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Particles.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch()))}};MIe.then(e=>Nr=e);var ea=new ie,Oh=new Ri,Mm=new ie,Q4=new fa(0,0,0,"YXZ"),dZ=new fa(0,0,0,"XYZ"),Sh=new ie,K4=new ie,Z4=new ie(1,1,1),yy=new Ri,MO=new Kt,hZ=new Kt,NUe={type:"updateMatrix"},uZ=new Ri,J4=new gc,eN={type:"beginEvent",eventName:"Collision"},LUe={type:"beginEvent",eventName:"Trigger"},PO=e=>e.states.some(t=>void 0!==t.data.position||void 0!==t.data.rotation||void 0!==t.data.hiddenMatrix||void 0!==t.data.cloner||void 0!==t.data.pathSnapping);function zUe(e){let t=this._clip.duration,n=this._clip.start??0,i=this.loop,r=this.time+e,o=this._loopCount,s=i===mT;if(0===e)return-1===o?r:s&&1==(1&o)?t-(r-n):r;if(i===Fj){-1===o&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===o&&(e>=0?(o=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),r>=t||r<n){let a=Math.floor((r-n)/(t-n));r-=(t-n)*a,o+=Math.abs(a);let l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s||(r=e>0?t:n,1===this.repetitions&&(r=t)),this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===l){let c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(s&&1==(1&o))return t-(r-n)}return r}var Pm,pZ=!1,tN=new WeakMap,jUe=class extends w_{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){let r=new p3(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{this.decodeDracoFile(o,t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){return this.decodeGeometry(e,{attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n}).then(t)}decodeGeometry(e,t){let n=JSON.stringify(t);if(tN.has(e)){let a=tN.get(e);if(a.key===n)return a.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i,r=this.workerNextTaskID++,s=this._getWorker(r,e.byteLength).then(a=>(i=a,new Promise((l,c)=>{i._callbacks[r]={resolve:l,reject:c},i.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(a=>this._createGeometry(a.geometry));return s.catch(()=>!0).then(()=>{i&&r&&this._releaseTask(i,r)}),tN.set(e,{key:n,promise:s}),s}_createGeometry(e){let t=new ii;e.index&&t.setIndex(new Mi(e.index.array,1));for(let n=0;n<e.attributes.length;n++){let i=e.attributes[n];t.setAttribute(i.name,new Mi(i.array,i.itemSize))}return t}_loadLibrary(e,t){let n=new p3(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,r)=>{n.load(e,i,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{let i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);let r=VUe.toString(),o=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(r){let o=r.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,r){return i._taskLoad>r._taskLoad?-1:1});let n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}};function VUe(){let e,t;function r(s,a,l,c,d,h){let p=h.num_components(),g=l.num_points()*p,v=g*d.BYTES_PER_ELEMENT,y=function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}(s,d),b=s._malloc(v);a.GetAttributeDataArrayForAllPoints(l,h,y,v,b);let P=new d(s.HEAPF32.buffer,b,g).slice();return s._free(b),{name:c,array:P,itemSize:p}}onmessage=function(s){let a=s.data;switch(a.type){case"init":e=a.decoderConfig,t=new Promise(function(d){e.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(e)});break;case"decode":let l=a.buffer,c=a.taskConfig;t.then(d=>{let h=d.draco,p=new h.Decoder,g=new h.DecoderBuffer;g.Init(new Int8Array(l),l.byteLength);try{let v=function n(s,a,l,c){let p,g,d=c.attributeIDs,h=c.attributeTypes,v=a.GetEncodedGeometryType(l);if(v===s.TRIANGULAR_MESH)p=new s.Mesh,g=a.DecodeBufferToMesh(l,p);else{if(v!==s.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");p=new s.PointCloud,g=a.DecodeBufferToPointCloud(l,p)}if(!g.ok()||0===p.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());let y={index:null,attributes:[]};for(let b in d){let O,S,P=self[h[b]];if(c.useUniqueIDs)S=d[b],O=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,s[d[b]]),-1===S)continue;O=a.GetAttribute(p,S)}y.attributes.push(r(s,a,p,b,P,O))}return v===s.TRIANGULAR_MESH&&(y.index=function i(s,a,l){let c=3*l.num_faces(),d=4*c,h=s._malloc(d);a.GetTrianglesUInt32Array(l,d,h);let p=new Uint32Array(s.HEAPF32.buffer,h,c).slice();return s._free(h),{array:p,itemSize:1}}(s,a,p)),s.destroy(p),y}(h,p,g,c),y=v.attributes.map(b=>b.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{h.destroy(g),h.destroy(p)}})}}}function GUe(e){return nN.apply(this,arguments)}function nN(){return nN=(0,si.Z)(function*(e){if(Pm){let n,t={attributeIDs:Pm.defaultAttributeIDs,attributeTypes:Pm.defaultAttributeTypes,useUniqueIDs:!1};try{n=yield Pm.decodeGeometry(new Int8Array(e).buffer,t)}catch(i){console.error(i)}if(n)return{index:n.index?{array:n.index.array}:void 0,attributes:Object.entries(n.attributes).map(([i,r])=>({name:i,itemSize:r.itemSize,array:r.array}))}}return null}),nN.apply(this,arguments)}function iN(){return iN=(0,si.Z)(function*(e,t){let[n,i]=lW(vI.deserialize(new Uint8Array(e)));return kq(n),t&&t(n),i.result().data}),iN.apply(this,arguments)}function rN(){return rN=(0,si.Z)(function*(e){for(let t of e){let n=yield GUe(t.geometry.data.draco);if(n){let i=t.geometry.data;n.index&&(i.index={array:n.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let r={};n.attributes.forEach(({name:o,array:s,itemSize:a})=>{r[o]={array:s,itemSize:a,type:"Float32Array",normalized:!1}}),i.attributes=r,i.draco=void 0}}}),rN.apply(this,arguments)}var $Ue=class{constructor(e,t,n,i,r,o,s,a){this.eventId=e,this.id=t,this.data=n,this.dataEvent=i,this.object=r,this.stage=!1,this.actions=Js(i,n.actions,o,s,a,r)}disconnect(){Va(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Particles.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.ClearLocalStorage.forEach(e=>e.dispatch()),this.actions.UserAPI.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},QUe=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(n,i)=>{this.breakpoints.forEach(r=>{let a,o=xI.deviceToSize(r.data.size),s="horizontal"===r.dataEvent.orientation?n:i;switch(r.data.operator){case"<":a=s<o[0];break;case">":a=s>o[0];break;case"<>":a=s>o[0]&&s<o[1]}r.stage!==a&&(r.stage=a,r.stage?r.dispatchIn():r.dispatchOut())})},this.onResizeObserver=new ResizeObserver(n=>{for(let i of n){let{width:r,height:o}=i.contentRect;this.resize(r,o)}})}connect(){let{page:e,sharedAssets:t,domElement:n}=this.eventContext;this.onResizeObserver.observe(n);let i=r=>{if(r.visible&&r.data?.events.length)for(let{data:o,id:s}of r.data.events)o.disabled||"Resize"===o.type&&o.breakpoints.forEach(({data:a,id:l})=>{try{let c=new $Ue(s,l,a,o,r,e,t,this.eventManager);this.breakpoints.push(c)}catch{}})};e.traverseEntity(r=>{(r instanceof El||r instanceof Ua)&&r.frame?.traverse(o=>{i(o)}),i(r)})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}},KUe=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.userAPIs={},this.events=[],this.onSuccess=({userAPIId:n})=>{this.events.forEach(i=>{i.data.userAPIId===n&&i.dispatchSuccess()})},this.onError=({userAPIId:n})=>{this.events.forEach(i=>{i.data.userAPIId===n&&i.dispatchError()})},this.userAPIs=e.sharedAssets.getUserAPIs()}connect(){this.eventContext.page.traverseEntity(e=>{e.data?.events.filter(t=>"API"===t.data.type&&!t.data.disabled).forEach(t=>{this.events.push(new ZUe(t.id,t.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),Object.entries(this.userAPIs).forEach(([e,t])=>{t.on("success",this.onSuccess),t.on("error",this.onError),t.autostart&&t.callUserAPI(this.eventContext.sharedAssets)})}disconnect(){Object.entries(this.userAPIs).forEach(([e,t])=>{t.off("success",this.onSuccess),t.off("error",this.onError)})}},ZUe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.successActions=Js(t,t.successActions,i,r,o,n),this.errorActions=Js(t,t.errorActions,i,r,o,n)}dispatchSuccess(){this.dispatchActions(this.successActions)}dispatchError(){this.dispatchActions(this.errorActions)}dispatchActions(e){e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}},JUe=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.userWebhooks={},this.events=[],this.onMessage=({userWebhookId:n})=>{this.events.forEach(i=>{i.data.userWebhookId===n&&i.dispatch()})},this.userWebhooks=e.sharedAssets.getUserWebhooks()}connect(){this.eventContext.page.traverseEntity(e=>{e.data?.events.filter(t=>"WEBHOOK"===t.data.type&&!t.data.disabled).forEach(t=>{this.events.push(new e7e(t.id,t.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),Object.entries(this.userWebhooks).forEach(([e,t])=>{t.connect(),t.on("message",this.onMessage)})}disconnect(){Object.entries(this.userWebhooks).forEach(([e,t])=>{t.off("message",this.onMessage),t.disconnect()})}},e7e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=Js(t,t.actions,i,r,o,n)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}},n7e=new ie(0,0,1),fZ=new ie,mZ=new ie,gZ=new $s,vZ=(e,t)=>{if("string"==typeof e){let n=t.data(e);if(n)return vZ(n.value,t)}return ol.getDisplayedValue(e)};function yZ(e,t){let n=e.text,i="";if("string"==typeof n){let r=t.variables.data(i);r&&(i=vZ(r.value,t.variables))}else i=n.textValue.toString();return i}var o7e=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this._textInputs=[],this.sceneHelpers=new lu,this.helper=new W$,this._onMouseDownFocusIn=n=>{if(wi.length>1)return;this.eventContext.updateRaycaster(n);let i=null;if(this.eventContext.raycaster)for(let r of this._textInputs)if(this.eventContext.raycaster.intersectObject(r,!0).length>0){i=r;break}this.focusOnTextInput(i),this._onCaretUpdate(),this._onMouseUp(),this.textInputManager.doubleClickHandler.start(this.eventContext.domElement),this.textInputManager.doubleClickHandler._onMouseDown(n),this._onMouseDown(n)},this.onExit=()=>{let{virtualInput:n}=this.textInputManager;if(null===n)return;let i=this.textInputManager.htmlInput;this.helper.hide(),i?.setSelectionRange(i.value.length,i.value.length),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0);let{domElement:r}=this.eventContext;r.removeEventListener("pointerdown",this._onMouseDown,!1),r.removeEventListener("pointerup",this._onMouseUp,!1),r.removeEventListener("pointermove",this._onMouseMove,!1),window.removeEventListener("keydown",this._onKeyPress),this.textInputManager.doubleClickHandler.reset(),r.addEventListener("pointerdown",this._onMouseDownFocusIn),this.eventContext.renderer.sceneHelpersOnTop=void 0,this.eventContext.renderer.pipeline.disableHelpers()},this._onMouseDown=n=>{this.eventContext.updateRaycaster(n),this.textInputManager.handleMouseDown(),this.textInputManager.virtualInput&&this.eventContext.raycaster.intersectObject(this.textInputManager.virtualInput,!0).length>0&&this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1)},this._onMouseUp=()=>{this.textInputManager.handleMouseUp(),this.eventManager.controlsManager.orbitControls&&!this.eventManager.controlsManager.orbitControls.enabled&&(this.eventManager.controlsManager.orbitControls.enabled=!0)},this._onMouseMove=n=>{this.eventContext.updateRaycaster(n),this.textInputManager.handleMouseMove()},this._onTextEdit=n=>{let{htmlInput:i,virtualInput:r,helper:o}=this.textInputManager;if(!i||!r)return;let s=i.value;r.textGeometry.setText(s).then(()=>{this.eventContext.requestRender()});let a=r.data;o.update();let l=a.geometry.text;"string"==typeof l&&this.eventContext.sharedAssets.updateVariable(l,{textValue:s}),this.textInputManager.updateTextInputStyles(),this._onCaretUpdate()},this._onCaretUpdate=n=>{this.textInputManager.handleCaretUpdate(n)},this._onKeyPress=n=>{"Escape"===n.key&&this.onExit()},this.textInputManager=new class{constructor(e,t,n,i,r){this.containerScene=e,this.raycaster=t,this.sharedAssets=n,this.requestRender=i,this.onExit=r,this.htmlInput=null,this.virtualInput=null,this.helper=new W$,this.doubleClickHandler=new class{constructor(){this._clickCount=0,this._lastTime=0,this._lastPosition=[0,0],this._delay=500,this._distance=2,this._onMouseDown=e=>{let t=[e.clientX,e.clientY],n=(new Date).getTime();if(this._clickCount>0){let i=t[0]-this._lastPosition[0],r=t[1]-this._lastPosition[1];Math.sqrt(i*i+r*r)>this._distance&&(this._clickCount=0)}this._lastPosition=t,this._clickCount=n-this._lastTime>this._delay?1:this._clickCount+1,this._lastTime=n},this._onMouseUp=e=>{}}start(e,t=500,n=2){this._target&&this.stop(),this.reset(),this._delay=t,this._distance=n,this._target=e,this._target.addEventListener("pointerdown",this._onMouseDown,!1),this._target.addEventListener("pointerup",this._onMouseUp,!1)}stop(){this._target&&(this._target.removeEventListener("pointerdown",this._onMouseDown,!1),this._target.removeEventListener("pointerup",this._onMouseUp,!1),this._target=void 0)}get clickCount(){return this._clickCount}reset(){this._clickCount=0,this._lastTime=0,this._lastPosition=[0,0]}},this.isDragging=!1,this.plane=new vc,this.caretInterval=0,this.planeIntersection=new ie,this.projected=new qe,this._lastIndex=0,this._isFirstDragMove=!1,this.selectionOnDragStart=0,this.onTextMaterialChanged=()=>{let o=this.virtualInput?.data;if(void 0!==this.virtualInput&&o){let s=o.material,l=function y6e(e,t){let n=il.fromHex(3223857),i=.8;for(let r of e.layers){if("light"===r.data.type||"displace"===r.data.type||"fresnel"===r.data.type||"matcap"===r.data.type||"texture"===r.data.type||"toon"===r.data.type||"outline"===r.data.type||"transmission"===r.data.type||"noise"===r.data.type)continue;let o="string"==typeof r.data.alpha?Number(t.getVariable(r.data.alpha)):r.data.alpha;if("color"===r.data.type&&o>.3){n=b6e(r.data.color,t),i=o;break}if(("depth"===r.data.type||"gradient"===r.data.type)&&o>.3){let s=_6e(r.data);n={r:s[0],g:s[1],b:s[2]},i="string"==typeof r.data.alpha?1:r.data.alpha;break}}return{...n,a:i}}("string"==typeof s?this.sharedAssets.data.materials[s]:s,this.sharedAssets);this.helper.setCaretColor(l)}},this.stopAnimateTextCursor=()=>{clearInterval(this.caretInterval),this.helper&&(this.helper.caretMesh.visible=!1)},this.startAnimateTextCursor=()=>{this.stopAnimateTextCursor(),this.helper&&(this.helper.caretMesh.visible=!0,this.caretInterval=setInterval(()=>{this.helper&&(this.helper.caretMesh.visible=!this.helper.caretMesh.visible),this.requestRender()},600))},this.handleCaretUpdate=o=>{if(!this.htmlInput||!this.virtualInput)return;let s=this.helper;this.htmlInput.selectionStart===this.htmlInput.selectionEnd?(s.setCaretPosition(this.htmlInput.selectionStart,{horizontalKeyMove:"ArrowLeft"===o?.key||"ArrowRight"===o?.key,verticalKeyMove:"ArrowUp"===o?.key||"ArrowDown"===o?.key}),this.startAnimateTextCursor()):s.setSelection(this.htmlInput.selectionStart,this.htmlInput.selectionEnd),this.requestRender()},this.containerScene.add(this.helper)}createInput(){return this.htmlInput=function t7e(){let e=document.createElement("textarea");return e.style.position="fixed",e.style.top="200px",e.style.left="400px",e.style.zIndex="-1",e.style.border="1px solid rgba(255,0,0,0.5)",e.style.width="10px",e.style.height="500px",e.style.color="white",e.style.opacity="0.5",e.style.background="transparent",e.style.display="none",e.style.margin="0px",e.style.padding="0px",e.style.boxSizing="content-box",e.style.pointerEvents="none",e}(),this.htmlInput}connect(){}disconnect(){this.stopAnimateTextCursor(),this.helper.hide(),this.htmlInput?.remove(),this.doubleClickHandler.stop()}handleMouseDown(){if(!this.htmlInput||!this.virtualInput)return!0;this.getPointOnPlane();let e=this.doubleClickHandler.clickCount,{index:t,lineIndex:n,characterIndex:i}=this.helper.getSelectionFromPosition(this.projected.x,this.projected.y,e>1?"inside":"previous")??{index:0,lineIndex:0,characterIndex:0};this.virtualInput?.wrappedText?.length&&"\n"===this.virtualInput.wrappedText[n][Math.max(0,i-1)]&&(t--,i--),this._lastIndex=t,this._isFirstDragMove=!0;let r=this.checkClickedObject();if(1===e){if(null===r)return this.onExit(this.virtualInput),!0;this.selectionOnDragStart=t,this.isDragging=!0,this.setInputSelection(t)}else r===this.virtualInput&&(2===e?this.selectClosestWord(n,i):e>2&&(this.setInputSelection(0,this.htmlInput.value.length),this.doubleClickHandler.reset()))}handleMouseUp(){this.applyRangeToTextInput(),this.isDragging=!1,this._isFirstDragMove=!1}handleMouseMove(){!this.virtualInput||(this._isFirstDragMove&&this.doubleClickHandler.clickCount>1&&(this.selectionOnDragStart=this._lastIndex,this.isDragging=!0,this.setInputSelection(this._lastIndex)),this._isFirstDragMove=!1,this.getPointOnPlane(),this.applyRangeToTextInput())}focus(e){if(this.virtualInput=e,this.updateTextInputStyles(),this.htmlInput)if(e){let t=this.data?.geometry.text;this.htmlInput.value="string"==typeof t?"":t?.textValue.toString()??""}else this.htmlInput.value=""}blur(){}get data(){let{virtualInput:e}=this;if(e)return e.dataPatched}applyRangeToTextInput(){if(!this.isDragging||!this.virtualInput||!this.htmlInput)return;let e=this.selectionOnDragStart,{index:t,lineIndex:n,characterIndex:i}=this.helper.getSelectionFromPosition(this.projected.x,this.projected.y,this.doubleClickHandler.clickCount>2?"inside":"previous")??{index:0};void 0!==n&&void 0!==i&&"\n"===this.virtualInput?.wrappedText[n][i-1]&&t--,this.htmlInput.setSelectionRange(Math.min(e,t),Math.max(e,t))}checkClickedObject(){if(this.virtualInput){let e=this.raycaster.intersectObject(this.virtualInput,!1);if(e.length>0){let t=e[0];if(t.object instanceof t4)return t.object}}return null}selectClosestWord(e,t){if(!this.virtualInput)return;let n=this.virtualInput.wrappedText,i=n[e],r=t+1,o=t;" "!==i[t]&&(r=this.findNextCharOccurence(i,t,"forward"," "),o=this.findNextCharOccurence(i,t,"backward"," "),o>0&&o++,r>=i.length-1&&e===n.length-1&&r++);let s=this.helper,a=s.getGlobalIndexFromLineAndCharIndexes(n,e,o),l=s.getGlobalIndexFromLineAndCharIndexes(n,e,r);this.setInputSelection(a,l)}findNextCharOccurence(e,t,n,i=" "){let r=Math.max(0,e.length-1),o="forward"===n?r:0,s="forward"===n?1:-1,a=Math.max(Math.min(t,r),0);for(;a!==o;)if(a+=s,e.charAt(a)===i)return a;return o}getPointOnPlane(){let e=this.virtualInput?.data;if(this.virtualInput&&e&&this.raycaster.ray.intersectsPlane(this.plane)){null===this.planeIntersection&&(this.planeIntersection=new ie);let t=this.raycaster.ray.intersectPlane(this.plane,this.planeIntersection);t&&(this.planeIntersection.copy(this.virtualInput.worldToLocal(t)),this.projected.set(t.x+.5*("number"==typeof e.geometry.width?e.geometry.width:1),t.y-.5*("number"==typeof e.geometry.height?e.geometry.height:1)))}}updatePlane(){let e=this.virtualInput?.data;this.virtualInput&&e&&(gZ.getNormalMatrix(this.virtualInput.matrixWorld),fZ.copy(n7e).applyMatrix3(gZ).normalize(),this.virtualInput.localToWorld(mZ.set(0,0,e.geometry.depth)),this.plane.setFromNormalAndCoplanarPoint(fZ,mZ))}setInputSelection(e,t=e){this.htmlInput?.setSelectionRange(e,t),setTimeout(()=>{this.htmlInput?.focus()})}updateTextInputStyles(){let e=this.virtualInput?.data;this.virtualInput&&e&&this.htmlInput&&(this.htmlInput.style.fontSize=e.geometry.fontSize+"px",this.htmlInput.style.letterSpacing=e.geometry.letterSpacing*e.geometry.fontSize+"px",this.htmlInput.style.lineHeight=e.geometry.fontSize*e.geometry.lineHeight+"px",this.htmlInput.style.width=e.geometry.width+"px",this.htmlInput.style.height=e.geometry.height+"px",this.htmlInput.style.textAlign=function r7e(e){return 4===e?"justify":2===e?"right":3===e?"center":"left"}(e.geometry.horizontalAlign))}}(this.sceneHelpers,e.raycaster,e.sharedAssets,e.requestRender,this.onExit)}connect(){let e=[];if(this.eventContext.scene.traverseEntity(i=>{i instanceof t4&&e.push(i)}),this._textInputs=e,0===e.length)return;let{domElement:t}=this.eventContext;t.addEventListener("pointerdown",this._onMouseDownFocusIn),this.textInputManager.connect();let n=this.textInputManager.createInput();document.body.appendChild(n),n.style.display="none",n.addEventListener("keyup",this._onCaretUpdate),n.addEventListener("keydown",this._onCaretUpdate),n.addEventListener("beforeinput",this._onCaretUpdate),n.addEventListener("paste",this._onCaretUpdate),n.addEventListener("cut",this._onCaretUpdate),n.addEventListener("select",this._onCaretUpdate),n.addEventListener("selectstart",this._onCaretUpdate)}disconnect(){let e=this.textInputManager.htmlInput,{domElement:t}=this.eventContext;t.removeEventListener("pointerdown",this._onMouseDownFocusIn),e?.removeEventListener("keyup",this._onCaretUpdate),e?.removeEventListener("keydown",this._onCaretUpdate),e?.removeEventListener("beforeinput",this._onCaretUpdate),e?.removeEventListener("paste",this._onCaretUpdate),e?.removeEventListener("cut",this._onCaretUpdate),e?.removeEventListener("select",this._onCaretUpdate),e?.removeEventListener("selectstart",this._onCaretUpdate),this._textInputs.forEach(n=>{let i=yZ(n.data.geometry,this.eventContext.sharedAssets.data);n.textGeometry.setText(i)}),t.removeEventListener("pointerdown",this._onMouseDown,!1),t.removeEventListener("pointerup",this._onMouseUp,!1),t.removeEventListener("pointermove",this._onMouseMove,!1),window.addEventListener("keydown",this._onKeyPress),this.eventContext.renderer.sceneHelpersOnTop=void 0,this.eventContext.renderer.pipeline.disableHelpers(),this.textInputManager.disconnect()}focusOnTextInput(e){this.textInputManager.focus(e),this.textInputManager.onTextMaterialChanged();let t=this.textInputManager.htmlInput;if(!t||null===e)return;this.textInputManager.updateTextInputStyles(),this.eventContext.renderer.sceneHelpersOnTop=this.sceneHelpers,this.eventContext.renderer.pipeline.enableHelpers(),this.textInputManager.isDragging=!1;let n=yZ(e.textGeometry.userData.parameters,this.eventContext.sharedAssets.data);t.value=n,t.setSelectionRange(0,0),this.textInputManager.helper.show(e),t.style.display="block",t.addEventListener("input",this._onTextEdit),this.textInputManager.updatePlane();let{domElement:i}=this.eventContext;i.removeEventListener("pointerdown",this._onMouseDownFocusIn),i.addEventListener("pointerdown",this._onMouseDown,!1),i.addEventListener("pointerup",this._onMouseUp,!1),i.addEventListener("pointermove",this._onMouseMove,!1),window.addEventListener("keydown",this._onKeyPress)}},s7e=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.onVoice=({})=>{this.events.forEach(r=>{r.dispatch()})}}connect(){this.openAIRealtime=this.eventContext.sharedAssets.openAIRealtime,this.openAIRealtime&&(this.eventContext.page.traverseEntity(e=>{e.data?.events.filter(t=>"AIAssistantListener"===t.data.type&&!t.data.disabled).forEach(t=>{this.events.push(new a7e(t.id,t.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.openAIRealtime.on("voice",this.onVoice))}disconnect(){this.openAIRealtime?.off("voice",this.onVoice)}},a7e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=Js(t,t.actions,i,r,o,n)}dispatch(){this.dispatchActions(this.actions)}dispatchActions(e){e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}},l7e=class extends Dl{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.onTriggerEvent=({description:n,direction:i})=>{let r=this.events.find(o=>o.data.description===n);r&&("backward"===i?r.dispatchReverse():r.dispatch())}}connect(){this.openAIRealtime=this.eventContext.sharedAssets.openAIRealtime,this.openAIRealtime&&(this.eventContext.page.traverseEntity(e=>{e.data?.events.filter(t=>"AIAssistantTrigger"===t.data.type&&!t.data.disabled).forEach(t=>{this.events.push(new c7e(t.id,t.data,e,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.openAIRealtime.on("trigger_event",this.onTriggerEvent))}disconnect(){this.openAIRealtime?.off("trigger_event",this.onTriggerEvent)}},c7e=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=Js(t,t.actions,i,r,o,n)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Particles.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch()),e.ClearLocalStorage.forEach(t=>t.dispatch()),e.UserAPI.forEach(t=>t.dispatch())}dispatchReverse(){let e=this.actions;e.Transition.forEach(t=>t.reverseFromCurrent()),e.Particles.forEach(t=>t.reverseFromCurrent()),e.Animation.forEach(t=>t.reverseFromCurrent()),e.SwitchCamera.forEach(t=>t.reverseFromCurrent()),e.Create.forEach(t=>t.dispatchStop())}};function m7e(e){let t;if(e.index)for(let n=0;n<e.index.array.length;n+=3)t=e.index.array[n],e.index.array[n]=e.index.array[n+2],e.index.array[n+2]=t}function Lx(e){return e instanceof gx?"SubdivObject":"NonParametricGeometry"===e.geometry.type?"NonParametric":"Mesh"}var b7e=fp(bye(),1),_7e=new qe;const C7e=["myVideo"];function M7e(e,t){if(1&e){const n=kr();x(0,"div",159)(1,"div",160)(2,"a",161)(3,"img",162),dt("mouseenter",function(){const o=zn(n).index;return Vn(ht().onMouseEnter(o))})("mouseleave",function(){return zn(n),Vn(ht().onMouseLeave())}),C(),x(4,"div",163)(5,"p",164),D(6),C(),x(7,"p",165),ce(8,"span",166),C()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=ht();se(2),lc("href",n.link,Ee),se(1),Xh("galleryimg",i,""),cc("src","",r.imagepath,"",n.image,"",Ee),se(3),aa(n.name),se(2),Qe("innerHTML",n.desc,Nc)}}function P7e(e,t){if(1&e&&(x(0,"a",168),ce(1,"img",169),x(2,"div",163)(3,"p",164),D(4),C(),x(5,"p",165),ce(6,"span",166),C()()()),2&e){const n=ht().$implicit,i=ht();lc("href",n.link,Ee),se(1),cc("src","",i.imagepath,"",n.project_images[0],"",Ee),se(3),aa(n.name),se(2),Qe("innerHTML",n.desc,Nc)}}function O7e(e,t){if(1&e&&(gs(0),st(1,P7e,7,5,"ng-template",167),vs()),2&e){const n=t.$implicit,i=t.index;se(1),Qe("id",n+i)}}function S7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/dnour.svg",Ee)}}function E7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/crystal.svg",Ee)}}function D7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/miniaar.svg",Ee)}}function A7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/bni.svg",Ee)}}function T7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/angle.svg",Ee)}}function I7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/pakhis.svg",Ee)}}function k7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/drminnie.svg",Ee)}}function R7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/veddentta.svg",Ee)}}function N7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",Ee)}}function L7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/fractal.svg",Ee)}}function F7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/aetrio.svg",Ee)}}function B7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/wrae.svg",Ee)}}function z7e(e,t){if(1&e&&(x(0,"div",170)(1,"a",171),ce(2,"img",172),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/img/home/logos/beyou.svg",Ee)}}function U7e(e,t){1&e&&(x(0,"div",182)(1,"div"),D(2," Name is required. "),C()())}function j7e(e,t){if(1&e&&(x(0,"div",182)(1,"div"),D(2),C()()),2&e){const n=ht(2);se(2),Do(" ",n.hasEmailError("email","required")," ")}}function V7e(e,t){if(1&e){const n=kr();x(0,"div",135)(1,"h5",173),D(2),C(),x(3,"button",137),dt("click",function(){return Vn(zn(n).$implicit.dismiss("Cross click"))}),x(4,"span",138),D(5," \xd7 "),C()()(),x(6,"div",139)(7,"div",174)(8,"div",1)(9,"div",2)(10,"div",115)(11,"div",175)(12,"form",176),dt("ngSubmit",function(){return zn(n),Vn(ht().submitPayment())}),x(13,"div",177)(14,"div",142),ce(15,"input",178),x(16,"label",144),D(17,"What's your name?"),C(),st(18,U7e,3,0,"div",179),C(),x(19,"div",142),ce(20,"input",180),x(21,"label",144),D(22,"What\u2019s your e-mail?"),C(),st(23,j7e,3,1,"div",179),C(),x(24,"div",151)(25,"div",152),ce(26,"input",181),C(),x(27,"div",154)(28,"button",155),dt("click",function(){return zn(n),Vn(ht().closePopUp())}),D(29,"Cancel"),C()()()()()()()()()()()}if(2&e){const n=ht();se(2),Do(" Complete Your Payment - ",n.paymentData.name," "),se(10),Qe("formGroup",n.paymentForm),se(6),Qe("ngIf",n.submitted&&n.hasError("name","required")),se(5),Qe("ngIf",n.submitted&&n.hasEmailError("email","required"))}}function H7e(e,t){1&e&&(x(0,"div",183),D(1," Email is required. "),C())}function G7e(e,t){1&e&&(x(0,"div",183),D(1," R-Email is required. "),C())}function W7e(e,t){if(1&e&&(x(0,"div",184),D(1),C()),2&e){const n=ht();se(1),Do(" ",n.successMessage," ")}}function q7e(e,t){if(1&e&&(x(0,"div",185),D(1),C()),2&e){const n=ht();se(1),Do(" ",n.errorMessage," ")}}function Y7e(e,t){1&e&&(x(0,"div",186),D(1," Sending your message, please wait... "),C())}const X7e=function(e){return{width:e}};let $7e=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10)}constructor(i,r,o,s,a,l,c,d,h,p,g,v,y){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=d,this.http=h,this.projectservice=p,this.modalService=g,this.activeModal=v,this.payementservice=y,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.formData={name:"",email:"",contact:"",rname:"",remail:"",rcontact:""},this.successMessage="",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,this.tabTitle="Start your eCommerce",this.hasError=(b,P)=>this.paymentForm.controls[b].hasError(P),this.hasEmailError=(b,P)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(P),this.baseUrl=Ft_baseUrl+"/assets",this.imagepath=Ft_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",pc.required],email:["",pc.required]}),setTimeout(()=>{const i=document.getElementById("canvas");this.spline=new class{constructor(e,{renderOnDemand:t,renderMode:n="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=i=>{this.time=i,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,this._perfs?.start(),!this._renderer||!this._isPaused&&("manual"===this.renderMode&&!this._renderRequested||"auto"===this.renderMode&&this._skipRender)||(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&(this._eventManager.handlers?.Start.hasVideoAction||this._eventManager.handlers?.Basic.hasVideoAction||this._eventManager.handlers?.Conditional.hasVideoAction)&&(this._skipRender=!1),this._animationControls?.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,this._scene?.traverseVisibleEntity(r=>{"ParticleSystem"===r.type&&(r.update(this.dt),this._skipRender=!1)}),this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),this._eventManager?.isEnabled&&(this._eventManager.handlers?.Follow.onAnimationFrameDamping(),this._eventManager.handlers?.LookAt.onAnimationFrameDamping(),this._eventManager.handlers?.DragDrop.onAnimationFrameDamping()),this._scene&&this._camera&&(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0?(this._renderer.sceneTransitionTimeRemaining-=this.dt,this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration,this._skipRender=!1):this._renderer.pipeline.sceneTransitionFromTexture=null,this._renderer.renderSplineScene(this._scene,this._camera)),this.canvas.dispatchEvent(this._renderedEvent)),this._perfs?.end()},this._resize=i=>{if(this._renderer){if(1===this._viewportMode&&this._frameView&&(this._frameView.frameSize=_7e.set(this._viewportWidth,this._viewportHeight)),i){let r=this._viewportWidth,o=this._viewportHeight;this._renderer.setSize(r-1,o-1,!1),this._renderer.setSize(r,o,!1)}else this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1);if(this._camera=this._scene?.activeCamera,this._scene?.updateViewPlaneSize(this._frameView?.frameSize?.x??this._viewportWidth,this._frameView?.frameSize?.y??this._viewportHeight,this._frameView?.enableResponsive??!1),this._camera){let r=Object.values(this._data?.frames??{})[0].preset??"fullscreen";this._frameView?.setCamera(this._camera),this._frameView?.updateCamera("fullscreen"!==r),"PerspectiveCamera"===this._camera.cameraType&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=k_(this._resize,10),this._onScroll=i=>{this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect())},this.canvas=e,this.renderMode=t?"auto":n,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new class{constructor({x:e=10,y:t=10}){this._startTime=0;let n=document.getElementById("spe-perfs");n?this.element=n:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){this.element.parentElement?.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}}({x:10,y:10})),function _Ie(e){e.addEventListener("pointerdown",QG,!0),e.addEventListener("pointerdown",MP,!0),e.addEventListener("pointermove",MP,!0),e.addEventListener("pointerup",b1,!0),e.addEventListener("pointercancel",b1,!0),e.addEventListener("pointerleave",b1,!0),window.addEventListener("keydown",KG,!0),window.addEventListener("keyup",ZG,!0)}(e)}load(e,t,n){var i=this;return(0,si.Z)(function*(){(function x7e(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)})(e),i.disposed=!1;let r=yield(yield fetch(e,n)).arrayBuffer();yield i.start(r,{variables:t})})()}start(e,{interactive:t=!0,variables:n}={}){var i=this;return(0,si.Z)(function*(){if(i.disposed)return;let r=yield function WUe(e,t){return iN.apply(this,arguments)}(e);i._data=r;let o=function qUe(e){let t=[];return e.scene.objects.traverse((n,i)=>{"Mesh"===i.type&&"NonParametricGeometry"===i.geometry.type&&void 0!==i.geometry.data.draco&&t.push(i)}),t}(r);r.version&&(0,b7e.default)(r.version,"1.9.39")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),yield Promise.all([o.length&&(Pm||(Pm=new jUe).setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload(),Pm.decoderPending),M$(r)&&_Ne(),kLe(r)&&gNe(),H_.physicsEnabled(r.scene.objects)&&PIe(),v$(r)&&tLe(),_Q(r)&&Fze(),J5e(r)&&Z5e(),nQ(r)&&A6e(),SUe(r)&&CIe()].filter(Boolean)),o.length&&(yield function YUe(e){return rN.apply(this,arguments)}(o)),i._eventManager?.deactivate(),i._controls?.deactivate(),i._scene?.dispose();let s=new class{get sharedAssets(){return this.shared}constructor(e,t={},n=!0){this.shared=new fR(e.shared,t,!0,n),this.scene=new d4(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof Ua&&!e.uiScene&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof Pl&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}}(r);if(s.resetPersonalCameraFromDocumentData(),i._scene=s.scene,i._sharedAssetsManager=s.sharedAssets,i._camera=i._scene.activeCamera,window.location.search.includes("merge-geometries")){let c=performance.now();!function y7e(e,t){let n=function g7e(e,t){let n={};return e.traverseEntity(i=>{if(!i.visible||!(i instanceof Yl)||"Mesh"!==i.type||Array.isArray(i.material)||i.states&&Object.keys(i.states).length)return;let r=i.parent;for(;r;){if(r instanceof Yl&&i.states&&Object.keys(i.states).length)return;r=r.parent}let o=i.material.uuid,s=t.shared.materials[o];if(s){if(!rl.isMergable(s))return}else{let l=t.scene.objects.get(i.uuid)?.data;if(l&&"material"in l&&"string"!=typeof l.material){if(!rl.isMergable(l.material))return;o=rl.getHash(l.material)}}n[o]||(n[o]={});let a=n[o][Lx(i)];if(a){if(a.push(i),i.cloner)for(let l of i.cloner.children)a.push(l)}else if(n[o][Lx(i)]=[i],i.cloner)for(let l of i.cloner.children)n[o][Lx(i)].push(l)}),n}(t,e),i=function v7e(e){let t=0;return Object.values(e).forEach(n=>{Object.values(n).forEach(i=>{let r=i.length;r>t&&(t=r)})}),t}(n),r=new Array(i),o=0,s=new Array(i),a=0,l=new Array(i),c=0,d=new Array(i),h=0;for(let[p,g]of Object.entries(n))for(let v of Object.values(g)){if(a=0,c=0,v.forEach(b=>{b instanceof Yl&&(s[a++]=b.geometry.clone(),l[c++]=b)}),c<2)continue;for(let b=0;b<c;b++)l[b].updateWorldMatrix(!0,!1),s[b].applyMatrix4(l[b].matrixWorld),l[b].matrixWorld.determinant()<0&&m7e(s[b]);let y=o0(s.slice(0,a),!1);if(y){let b;"SubdivObject"===p?(console.warn("Turning subdiv object into mesh"),b=new hs(y,l[0].material)):b=new hs(y,l[0].material),b.castShadow=l[0].castShadow,b.receiveShadow=l[0].receiveShadow,t.add(b);let P=O=>{h=0;for(let S of O)S.children&&P(S.children),S instanceof Yl&&(Array.isArray(S.material)||n[S.material.uuid]&&n[S.material.uuid][Lx(S)]&&n[S.material.uuid][Lx(S)].length>1||(d[h++]=S));for(let S=0;S<h;S++)t.attach(d[S])};for(let O=0;O<c;O++){let S=l[O];P(S.children),r[o++]=S}}}for(let p=0;p<o;p++)r[p].removeFromParent()}(r,s.scene);let d=performance.now();console.log("Merged geometries in ",d-c," ms")}M$(r)&&i._scene.traverse(c=>{Gp(c)&&c.recomputeBoolean()}),i._sharedAssetsManager.setRequestRender(()=>{i._requestRenderAutoMode(),i._scene?.traverse(c=>{c instanceof yh&&c.pendingMediaLoad&&c.update()})}),i._scene?.traverse(c=>{"ParticleSystem"===c.type&&(c.wakeUp(),c.data.autoPlay?c.start():c.stop())});let a=Object.keys(r.shared.fonts).map(c=>i._sharedAssetsManager.getFont(c).loadingPromise);if(Promise.all(a).then(()=>{s.scene.markNeedsUpdateRendererDirty(),i._requestRenderAutoMode()}),v$(r)&&function FUe(e){if(H_.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((n,i)=>{if(i.events)if(Array.isArray(i.events)){for(let r of i.events)if(!0!==r.data.disabled&&"GameControl"===r.data.type&&r.data.collisionEnabled){t=!0;break}}else for(let r of Object.values(i.events))if(!0!==r.disabled&&"GameControl"===r.type&&r.collisionEnabled){t=!0;break}}),t}(r)&&(yield Promise.all(a)),nQ(r)){let c=[];i._scene.traverseEntity(d=>{(d instanceof El||d instanceof Ua)&&d.uiCanvas&&c.push(d.uiCanvas)}),yield Promise.all(c.map(d=>d.promise))}if(i._scene.rewriteEventsBeforeGoToPlayMode(),k4(i._scene.activePage,i._sharedAssetsManager),!i._renderer&&(i._renderer=new g6e({canvas:i.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),i._renderer.hdTransmission=!0===r.scene.publish.hdTransmission,i._renderer.setPixelRatio(window.devicePixelRatio),i._renderer.pipeline.enableUIOverlay(),i._renderer.pipeline.addEventListener("smaaloaded",i._requestRenderAutoMode),r.shared.images.SplineWatermark)){let c=i._sharedAssetsManager.getImage("SplineWatermark");yield c.loadPromise;let d=c.getTexture(1001);i._renderer.pipeline.setWatermark(d)}_Q(r)&&i._scene.initializeSplatViewer(),void 0!==r.scene.blueNoiseTextureData&&i._renderer.pipeline.updateBlueNoiseTexture(r.scene.blueNoiseTextureData);let l=Object.values(r.frames)[0];if(i._frameView?i._frameView.setCamera(i._camera):("fullscreen"===l.preset?(i._viewportMode=1,i.canvas.style.display="block",i.canvas.parentElement&&(i._viewportWidth=i.canvas.parentElement.clientWidth||300,i.canvas.style.width="100%"),i.canvas.parentElement&&(i._viewportHeight=i.canvas.parentElement.clientHeight||150,i.canvas.style.height="100%")):(i._viewportMode=2,i._viewportWidth=l.size[0],i._viewportHeight=l.size[1],i.canvas.style.width=`${i._viewportWidth}px`,i.canvas.style.height=`${i._viewportHeight}px`),i._renderer.setSize(i._viewportWidth,i._viewportHeight,!1),i._frameView=new class{constructor(e,t,n,i,r){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=(new qe).copy(n),this._editorSize=(new qe).copy(i),this._aspect=t.aspect,this._fov=r??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||"PerspectiveCamera"!==this._camera.cameraType)return;let e=this._frameSize.x,t=this._frameSize.y,n=this._editorSize.y;this._aspect=e/t,t<=n&&(this._camera.zoom*=n/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if("PerspectiveCamera"===this._camera.cameraType){let t=this._frameSize.y,n=this._editorSize.y,i=this._fov;if(e&&t>n){let r=function u7e(e,t,n,i,r){return(e-t)/(n-t)*(r-i)+i}(t,1080,2160,1,15)/100;i*=t/n,i*=1-r}this._camera.aspect=this._aspect,this._camera.fov=i,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}}(i._renderer,i._camera,new qe(i._viewportWidth,i._viewportHeight),new qe(window.innerWidth,window.innerHeight)),i._frameView.enableResponsive=(l.allowResponsive??!1)&&"fullscreen"===l.preset),t){let c=new class{constructor(e,t,n,i,r,o,s,a){this.renderer=e,this.publish=t,this.scene=n,this.getCamera=i,this.sharedAssets=r,this.requestRender=o,this.isExport=s,this.frame=a,this.raycaster=new I9e,this._useWindowEvents=!1,this.pointerWorld={x:0,y:0},this.pointerScreen={x:0,y:0},this._useWindowEvents="window"===t.mouseEventTarget,this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}get domRect(){return this._domRect}updateRaycaster(e){let{pageX:t,pageY:n}=e.touches?.length>0?e.touches[0]:e;this.pointerWorld=function R9e(e,t,n){return{x:(e-(n.left+window.scrollX))/n.width*2-1,y:-(t-(n.top+window.scrollY))/n.height*2+1}}(t,n,this._domRect),this.pointerScreen=function N9e(e,t,n){return{x:(e-(n.left+window.scrollX))/n.width,y:1-(t-(n.top+window.scrollY))/n.height}}(t,n,this._domRect),this.raycaster.setFromCamera(this.pointerWorld,this.getCamera())}}(i._renderer,i.data.scene.publish,i._scene,()=>i._scene.activeCamera,i._sharedAssetsManager,i._requestRenderAutoMode,!0,l);i._scene.updateMatrixWorld(!0),i._controls=new class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==Nr.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[n,i,r]=this.rigidBodyToMesh.get(t.handle);if(ea.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),Oh.copy(t.rotation()),n.matrixWorld.compose(ea,Oh,i),n.hasNonUniformScale&&n.matrixWorld.multiply(n.shearScale),n.dispatchEvent(NUe),r){let o=n.cloner;if(o&&void 0===o.objectForSample){o.matrixWorld.copy(n.matrixWorld);for(let s of o.children)s.updateMatrixWorld(!0)}for(let s of n.children)s.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,n,i)=>{if(!1===i)return;let r,o;if(this.sensorToTriggerEvent[t]?(r=this.sensorToTriggerEvent[t],o=this.sharedGameControlGlobals.colliderToEntity.get(n)):this.sensorToTriggerEvent[n]&&(r=this.sensorToTriggerEvent[n],o=this.sharedGameControlGlobals.colliderToEntity.get(t)),r&&o&&r.isValidTriggeringObject(o))r.dispatch();else{for(let s=this.sharedGameControlGlobals.createdObjects.length-1;s>=0;s--){let a=this.sharedGameControlGlobals.createdObjects[s];if(a.userData.hasCollisionDestroy&&(a.rigidBody?.collider(0).handle===t||a.rigidBody?.collider(0).handle===n)){this.sharedGameControlGlobals.createdObjects.splice(s,1),a.removeFromParent(),requestAnimationFrame(()=>this.sharedGameControlGlobals.rapierWorld?.removeRigidBody(a.rigidBody));break}}if(void 0!==this.gameControl?.object&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(t)){let s=this.sharedGameControlGlobals.colliderToEntity.get(n),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0===a)return;for(let l of a)"character"===l.data.target&&this.dispatchCollisionEvent(l,s,n)}else if(void 0!==this.gameControl?.object&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(n)){let s=this.sharedGameControlGlobals.colliderToEntity.get(t),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0===a)return;for(let l of a)"character"===l.data.target&&this.dispatchCollisionEvent(l,s,t)}else{let s=this.sharedGameControlGlobals.colliderToEntity.get(t),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0!==a)for(let d of a)"scene"===d.data.target&&this.dispatchCollisionEvent(d,s,t);let l=this.sharedGameControlGlobals.colliderToEntity.get(n),c=this.sharedGameControlGlobals.entityToCollisionEvents[l?.uuid];if(void 0!==c)for(let d of c)"scene"===d.data.target&&this.dispatchCollisionEvent(d,l,n)}}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=200,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",n=>{"gamepad"in n.data&&"axes"in n.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(n.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let n of t.events){if(!0===n.data.disabled)continue;let i=n.data.actions?.find(r=>"Destroy"===r.data.type)?.data;if(i)for(let r of i.objects){let o=this.page.scene.find(r);o&&(o.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let n of t.events)if(!0!==n.data.disabled&&"DragDrop"===n.data.type)for(let i of n.data.objects){let r=this.page.scene.find(i);r&&(r.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{let n;if(t instanceof yh||t instanceof W2||t instanceof rO)return;n=t instanceof Ml?t.object:t;let o=n.dataPatched;if("visibility"===o.physics?.enabled?!o.visible:!o.physics?.enabled)return!0;let s=t.geometry,a=!0===n.userData.hasDestroy,l=!0===n.userData.hasDrag;if(PO(o)||a||l||n.dataPatched.events.some(c=>!0!==c.data.disabled&&("GameControl"===c.data.type||"Follow"===c.data.type)))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;s&&e.push(Xp(s,t.matrixWorld))}),e.length>0){let t=o0(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new ex(t)}}addRigidBody(e,t,n){let i=[],r="geometry"in e?e.geometry:void 0,o=t.dataPatched;if(void 0!==r?.getAttribute("position")&&i.push(Xp(r,e.shearScale)),o.physics.fusedBody){let s=this.gatherChildrenGeom(e,i);e.traverseObject(s),e.children.forEach(l=>l.updateMatrixWorld(!0));let a=e.cloner;a&&void 0===a.objectForSample&&"dynamic"===o.physics.rigidBody&&(a.traverseObject(s),a.children.forEach(l=>l.updateMatrixWorld(!0)))}if(i.length>0){let s,a=!n.fromCreate&&"dynamic"===o.physics.rigidBody||n.fromCreate&&n.dynamic;a?(s=Nr.RigidBodyDesc.dynamic(),s.setLinearDamping(o.physics.damping).setAngularDamping(o.physics.damping).setAdditionalMass(1e-9).setGravityScale(o.physics.gravityScale).enabledRotations(...o.physics.enabledRotation).enabledTranslations(...o.physics.enabledTranslation)):(n.hasTransformAnim||n.hasFollow||n.hasDrag)&&!n.fromCreate?(s=Nr.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):s=Nr.RigidBodyDesc.fixed();let l=o0(i);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(ea,Oh,Mm),e.position0=ea.clone().divideScalar(this.pixelsPerMeter),e.rotation0=Oh.clone(),ea.divideScalar(this.pixelsPerMeter),s.setTranslation(ea.x,ea.y,ea.z).setRotation(Oh),r?l?.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):l?.scale(Mm.x/this.pixelsPerMeter,Mm.y/this.pixelsPerMeter,Mm.z/this.pixelsPerMeter);let c=this.sharedGameControlGlobals.rapierWorld.createRigidBody(s);a&&this.rigidBodyToMesh.set(c.handle,[e,Mm.clone(),o.physics.fusedBody]);let d=!(void 0===o.geometry||"SubdivGeometry"===o.geometry.type||"NonParametricGeometry"===o.geometry.type||"BooleanGeometry"===o.geometry.type||"VectorGeometry"===o.geometry.type||"StarGeometry"===o.geometry.type||"RectangleGeometry"===o.geometry.type||"EllipseGeometry"===o.geometry.type||"TriangleGeometry"===o.geometry.type||"TorusGeometry"===o.geometry.type||"HelixGeometry"===o.geometry.type);try{this.addCollider(c,o.physics,l,t,d)}catch{try{this.addCollider(c,o.physics,l,t,!1)}catch(h){console.error(h)}}e.rigidBody=c}}addBoundsTree(e){let t=[];if(void 0!==e.geometry?.getAttribute("position")&&e.geometry?.getAttribute("position").count>0&&t.push(Xp(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(n=>n.updateMatrixWorld(!0)),t.length>0){let n=o0(t,!1);e.bvhGeometry=n,n.getAttribute("position").count>0&&(e.bvhGeometry.boundsTree=new ex(n),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e))}}addCollider(e,t,n,i,r=!0){if(0===n?.getAttribute("position").count||0===n?.getIndex()?.count)return;let o;n&&(o="trimesh"===t.colliderType?Nr.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array):Nr.ColliderDesc.convexMesh(n.getAttribute("position").array,r?n.getIndex().array:void 0)),o.setFrictionCombineRule(Nr.CoefficientCombineRule.Average).setRestitutionCombineRule(Nr.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let s=this.sharedGameControlGlobals.rapierWorld.createCollider(o,e);this.sharedGameControlGlobals.colliderToEntity.set(s.handle,i),this.sharedGameControlGlobals.entityToCollisionEvents[i.uuid]?.some(a=>"scene"===a.target)&&s.setActiveEvents(Nr.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(n,i)=>{if(0===i)return;let r;if(n instanceof yh){if(!n.objectForSample)return!0===n.object.dataPatched.physics.fusedBody&&"dynamic"===n.object.dataPatched.physics.rigidBody||void 0;if(n.objectForSample.dataPatched.physics.fusedBody)return;r=n.object}else if(n instanceof Ml)r=n.object;else if(r=n,r.dataPatched.cloner?.hideBase)return!0;let o=r.dataPatched;if("visibility"===o.physics.enabled?!o.visible:!o.physics.enabled)return!0;1===i?e.hasNonUniformScale?n.matrixWorld.multiplyMatrices(e.shearScale,n.hiddenMatrix):n.matrixWorld.copy(n.hiddenMatrix):n.matrixWorld.multiplyMatrices(n.parent.matrixWorld,n.hiddenMatrix),n.matrixWorld.multiply(n.matrix);let s=n.geometry;void 0!==s?.getAttribute("position")&&t.push(Xp(s,n.matrixWorld))}}activate(e){if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,n=!1,i=5,r=8,o=9,s="drag",a=this.page.data.publish.gameControlObject,l=null!==a?this.page.find(a):null,c=null;if(l)for(let p of l.data.events){if(p.data.disabled||"GameControl"!==p.data.type)continue;let g=l;for(;this.usePhysics&&null!==(g=g.parent)?.parent;);p.data.collisionEnabled&&(this.needsCollisionDetection=!0),null===c&&(c=p.data)}if(this.page.traverseEntity(p=>{for(let g of p.dataPatched.events)if(!1===g.data.disabled&&"Trigger"===g.data.type)return this.needsCollisionDetection=!0,!0}),l&&c&&(!0===l.data.visible||!0===l.data.physics.enabled)){n=n||c.camera===t.uuid||l.uuid===t.uuid;let p=new HK(l,this.renderer.domElement,c,this.eventContext.page.data.globalPhysics,this,l.uuid!==t.uuid&&c.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=p,i=c.joystickPosLoc,r=c.joystickRotLoc,o=c.jumpTouchButtonLoc,s=c.rotByTouch,Xc&&c.touchControl&&(this.joystickToGameControls[i]="pos","walk"===c.moveMode&&(this.joystickToGameControls[o]="jmp"),"joystick"===s&&(this.joystickToGameControls[r]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let p=this.gameControl.data;if(!this.navigationMeshWrapper){let g;this.navigationMeshWrapper=new class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=n=>{if(1!==wi.length)return;let{raycaster:i,page:r}=this.eventContext;this.eventContext.updateRaycaster(n);let o=r.raycastWithClones(i);if(0!==o.length){if(this.gameControl){let s=MUe.copy(this.gameControl.colliderWorldPosition);s.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(s,o[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(n,i)=>r=>{let o;if(r instanceof yh){if(!r.objectForSample)return!0===r.object.dataPatched.physics.fusedBody&&"dynamic"===r.object.dataPatched.physics.rigidBody||void 0;if(r.objectForSample.dataPatched.physics.fusedBody)return;o=r.object}else if(r instanceof Ml)o=r.object;else if(o=r,!1===o.dataPatched.cloner?.disabled&&o.dataPatched.cloner?.hideBase&&!0!==o.dataPatched.physics?.fusedBody)return!0;if(i&&!o.userData.navmesh)return;let s=o.dataPatched;if(!s.visible&&!0!==s.physics?.enabled)return!0;r.updateMatrixWorldSVD();let a=PO(s),l=o.userData.hasDestroy,c=o.userData.hasDrag,d=!1,h=!1;for(let p of s.events)!0!==p.data.disabled&&("GameControl"===p.data.type?d=!0:"Follow"===p.data.type&&(h=!0));if(d||a||h||l||c)return!0;if(this.usePhysics&&"dynamic"===s.physics?.rigidBody){if(this.usePhysics&&s.physics?.fusedBody)return!0}else if("geometry"in r&&r.geometry&&n.push(Xp(r.geometry,r.matrixWorld)),this.usePhysics&&s.physics?.fusedBody)return r.traverseObject((p,g)=>{if(0===g)return;let v;if(p instanceof yh){if(!p.objectForSample)return!0===p.object.dataPatched.physics.fusedBody&&"dynamic"===p.object.dataPatched.physics.rigidBody||void 0;if(p.objectForSample.dataPatched.physics.fusedBody)return;v=p.object}else if(p instanceof Ml)v=p.object;else if(v=p,p.dataPatched.cloner?.hideBase)return!0;let y=v.dataPatched;if(!y.visible&&!0!==y.physics?.enabled)return!0;"geometry"in p&&p.geometry&&n.push(Xp(p.geometry,p.matrixWorld))}),!0},this.traverseNoPhysics=(n,i)=>r=>{let o;if(r instanceof yh)return;o=r instanceof Ml?r.object:r;let s=o.dataPatched;if("visibility"===s.physics.enabled?!s.visible:!s.physics.enabled)return!0;if(i&&!o.userData.navmesh)return;let a=r.geometry,l=!0===o.userData.hasDestroy,c=!0===o.userData.hasDrag;if(PO(s)||l||c||o.dataPatched.events.some(d=>!0!==d.data.disabled&&"GameControl"===d.data.type))return!0;a&&n.push(Xp(a,r.matrixWorld))},this.navmeshWasm=iZ,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?"\n(async function() {\n\tconst [wasmImport, wasmBinary] = await Promise.all([\n\t\timport('https://unpkg.com/@splinetool/runtime@1.9.39/build/' + 'navmesh.js'),\n\t\tfetch('https://unpkg.com/@splinetool/navmesh-wasm@1.9.39/build/' + 'navmesh.wasm').then((res) => res.arrayBuffer()),\n\t]);\n\tconst wasmModule = wasmImport.default;\n\tself.module = await wasmModule({ wasmBinary });\n\tpostMessage('ready');\n})();\n":"\n(async function() {\n\tconst [wasmImport, wasmBinary] = await Promise.all([\n\t\timport(self.location.origin + '/_libraries/navmesh.js'),\n\t\tfetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),\n\t]);\n\tconst wasmModule = wasmImport.default;\n\tself.module = await wasmModule({ wasmBinary });\n\tpostMessage('ready');\n})();\n")+"\n\nonmessage = function(messageEvent) {\n\tconst meshData = messageEvent.data;\n\tconst positions = meshData[0];\n\tconst offset = meshData[1];\n\tconst indices = meshData[2];\n\tconst indicesLength = meshData[3];\n\tconst parameters = meshData[4];\n\n\tconst module = self.module;\n\tconst rc = new module.rcConfig();\n\trc.cs = parameters.cs;\n\trc.ch = parameters.ch;\n\trc.borderSize = parameters.borderSize ? parameters.borderSize : 0;\n\trc.tileSize = parameters.tileSize ? parameters.tileSize : 0;\n\trc.walkableSlopeAngle = parameters.walkableSlopeAngle;\n\trc.walkableHeight = parameters.walkableHeight;\n\trc.walkableClimb = parameters.walkableClimb;\n\trc.walkableRadius = parameters.walkableRadius;\n\trc.maxEdgeLen = parameters.maxEdgeLen;\n\trc.maxSimplificationError = parameters.maxSimplificationError;\n\trc.minRegionArea = parameters.minRegionArea;\n\trc.mergeRegionArea = parameters.mergeRegionArea;\n\trc.maxVertsPerPoly = parameters.maxVertsPerPoly;\n\trc.detailSampleDist = parameters.detailSampleDist;\n\trc.detailSampleMaxError = parameters.detailSampleMaxError;\n\n\tif (!self.navMesh) {\n\t\tself.navMesh = new module.NavMesh();\n\t}\n\tself.navMesh.build(positions, offset, indices, indicesLength, rc);\n\n\tconst navmeshData = navMesh.getNavmeshData();\n\tconst arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);\n\tconst ret = new Uint8Array(navmeshData.size);\n\tret.set(arrView);\n\tnavMesh.freeNavmeshData(navmeshData);\n\n\tpostMessage(ret);\n}\n"])),this._worker=new Worker(this._workerURL)}init(e,t,n){this.gameControl=t,this.eventContext=n,this.setDefaultQueryExtent((new ie).setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(n.page,e,i=>{this.buildFromNavmeshData(i.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,n){t.objects.forEach(l=>{let c=e.scene.find(l);c.traverseEntity(d=>{d.userData.navmesh=!0}),c.cloner?.traverseObject(d=>{d.userData.navmesh=!0})});let i=[],r=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(i,"custom"===t.zones);if(e.traverseChildren(r),t.objects.forEach(l=>{let c=e.scene.find(l);c.traverseEntity(d=>{d.userData.navmesh=void 0}),c.cloner?.traverseObject(d=>{d.userData.navmesh=void 0})}),0===i.length)return!1;let o=o0(i),{positions:s,triIndices:a}=E2(o.getAttribute("position"),o.getIndex());return this._worker.postMessage([s,s.length/3,a,a.length,{...CUe,...t}]),this._worker.onmessage=n,!0}createDebugNavGeometry(){let e,t,n=this.navMesh.getDebugNavMesh(),i=n.getTriangleCount(),r=new Uint32Array(3*i),o=new Float32Array(3*i*3);for(e=0;e<3*i;e++)r[e]=e;for(e=0;e<i;e++)for(t=0;t<3;t++){let a=n.getTriangle(e).getPoint(t);o[9*e+3*t+0]=a.x,o[9*e+3*t+1]=a.y,o[9*e+3*t+2]=a.z}let s=new ii;return s.setIndex(new Mi(r,1)),s.setAttribute("position",new Mi(o,3)),s}getClosestPoint(e){return wr.x=e.x,wr.y=e.y,wr.z=e.z,this.navMesh.getClosestPoint(wr)}getClosestPointToRef(e,t){wr.x=e.x,wr.y=e.y,wr.z=e.z;let n=this.navMesh.getClosestPoint(wr);t.set(n.x,n.y,n.z)}getRandomPointAround(e,t){return wr.x=e.x,wr.y=e.y,wr.z=e.z,this.navMesh.getRandomPointAround(wr,t)}getRandomPointAroundToRef(e,t,n){wr.x=e.x,wr.y=e.y,wr.z=e.z;let i=this.navMesh.getRandomPointAround(wr,t);n.set(i.x,i.y,i.z)}moveAlong(e,t){return wr.x=e.x,wr.y=e.y,wr.z=e.z,dl.x=t.x,dl.y=t.y,dl.z=t.z,this.navMesh.moveAlong(wr,dl)}moveAlongToRef(e,t,n){return wr.x=e.x,wr.y=e.y,wr.z=e.z,dl.x=t.x,dl.y=t.y,dl.z=t.z,this.navMesh.moveAlong(wr,dl)}computePath(e,t){let n=this.getClosestPoint(t);if(dl.x=n.x,dl.y=n.y,dl.z=n.z,Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)+Math.pow(t.z-n.z,2))>this.getDefaultQueryExtent().y)return[];this.getClosestPoint(e);let i=this.navMesh.computePath(wr,dl),r=i.getPointCount(),o=[];for(let s=0;s<r;s++){let a=i.getPoint(s);o.push(new ie(a.x,a.y,a.z))}return o}createCrowd(e,t){return new class{constructor(e,t,n){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,n,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,n){let i=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;i.radius=t.radius,i.height=t.height,i.maxAcceleration=t.maxAcceleration,i.maxSpeed=t.maxSpeed,i.collisionQueryRange=t.collisionQueryRange,i.pathOptimizationRange=t.pathOptimizationRange,i.separationWeight=t.separationWeight,i.updateFlags=7,i.obstacleAvoidanceType=0,i.queryFilterType=0,i.userData=0;let r=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),i);return this.transforms.push(n),this.agents.push(r),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new ie(0,0,0)),r}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let n=this.crowd.getAgentPosition(e);t.set(n.x,n.y,n.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let n=this.crowd.getAgentVelocity(e);t.set(n.x,n.y,n.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let n=this.crowd.getAgentNextTargetPath(e);t.set(n.x,n.y,n.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let n=this.agents.indexOf(e);n>-1&&(this._agentDestinationArmed[n]=!0,this._agentDestination[n].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let n=this.crowd.getAgentParameters(e);void 0!==t.radius&&(n.radius=t.radius),void 0!==t.height&&(n.height=t.height),void 0!==t.maxAcceleration&&(n.maxAcceleration=t.maxAcceleration),void 0!==t.maxSpeed&&(n.maxSpeed=t.maxSpeed),void 0!==t.collisionQueryRange&&(n.collisionQueryRange=t.collisionQueryRange),void 0!==t.pathOptimizationRange&&(n.pathOptimizationRange=t.pathOptimizationRange),void 0!==t.separationWeight&&(n.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,n)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),!(e<=.001)){{let i=Math.floor(e/.016666666666666666);i>10&&(i=10),i<1&&(i=1);let r=e/i;for(let o=0;o<i;o++)this.crowd.update(r)}for(let i=0;i<this.agents.length;i++){let r=this.agents[i],o=this.getAgentPosition(r);if(this.transforms[i].copy(o),this._agentDestinationArmed[i]){let s=o.x-this._agentDestination[i].x,a=o.z-this._agentDestination[i].z,l=this.reachRadii[i];o.y>this._agentDestination[i].y-this.reachRadii[i]&&o.y<this._agentDestination[i].y+this.reachRadii[i]&&s*s+a*a<l*l&&(this.onReachTarget(r,this._agentDestination[i]),this._agentDestinationArmed[i]=!1)}}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,n=this.crowd.getCorners(e),i=n.getPointCount(),r=[];for(t=0;t<i;t++){let o=n.getPoint(t);r.push(new ie(o.x,o.y,o.z))}return r}dispose(){this.crowd.destroy()}}(this,e,t)}setDefaultQueryExtent(e){wr.x=e.x,wr.y=e.y,wr.z=e.z,this.navMesh.setDefaultQueryExtent(wr)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,n=this.navmeshWasm._malloc(t),i=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,n,t);i.set(e);let r=new this.navmeshWasm.NavmeshData;r.dataPointer=i.byteOffset,r.size=e.length,this.navMesh.buildFromNavmeshData(r),this.navmeshWasm._free(i.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),n=new Uint8Array(e.size);return n.set(t),this.navMesh.freeNavmeshData(e),n}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),this.eventContext?.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,n){return wr.x=e.x,wr.y=e.y,wr.z=e.z,this.navMesh.addCylinderObstacle(wr,t,n)}addBoxObstacle(e,t,n){return wr.x=e.x,wr.y=e.y,wr.z=e.z,dl.x=t.x,dl.y=t.y,dl.z=t.z,this.navMesh.addBoxObstacle(wr,dl,n)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return void 0!==this.navmeshWasm}}(this.usePhysics,this.isExport),g="sphere"===p.collider.type?2*p.collider.radius:p.collider.height,g=Math.floor(g/p.navmesh.ch-1),this.navigationMeshWrapper.init({...p.navmesh,walkableHeight:g},this.gameControl,this.eventContext)}}if(!1===n){let{enableRotate:p,enablePan:g,enableZoom:v,autoRotate:y,hoverRotatePanMode:b}=this.eventManager.publish.orbitControls;(p||g||v||y||0!==b)&&(this.orbitControls=new aZ(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let d=this.renderer.domElement.width/this.renderer.getPixelRatio(),h=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((p,g)=>{let v=document.body.appendChild(document.createElement("div")),[y,b,P]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[g],O=(d-5*y)/4+y,S={},A="jmp"===p,H=A?0:y;g<10?(g<5?S.top=H/2:S.bottom=H/2,S.left=H/2+g%5*O):10===g?(S.left=H/2,S.top=h/2):(S.right=H/2,S.top=h/2),S.top?S.top-=b[1]:S.bottom+=b[1],S.left?S.left+=b[0]:S.right-=b[0];for(let Y in S)S[Y]+="px";if(A){let Y=v.appendChild(document.createElement("div"));return Object.assign(Y.style,S,{position:"absolute",width:y+"px",height:y+"px",backgroundColor:`rgba(255,255,255,${"show"===P?.4:0})`,zIndex:"9999",borderRadius:y+"px",border:"show"===P?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"}),"show"===P&&(Y.innerHTML=`\n\t\t\t\t\t\t<svg width="${y/16*16*.4}" height="${.4*y}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t`),Y.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),Y.addEventListener("touchend",ne=>ne.preventDefault()),void(this.joysticks[g]=[void 0,v])}let V={zone:v,mode:"static",position:S,size:y};"hide"===P&&(V.restOpacity=0);let Q=function(e){return kQ.create(e)}(V);Q.on("move",(Y,ee)=>{let ne=this.gameControl;"pos"===p?ee.force<.2?ne.moveForce=0:(ne.movementState.movePosZ=Math.sin(-ee.angle.radian),ne.movementState.movePosX=Math.cos(-ee.angle.radian),ne.movementState.run=ee.force>1.2?1:0,ne.moveForce=ee.force<.3?(ee.force-.2)/.1:1):"rot"===p&&(ee.force<.2?ne.rotForce=0:(ne.movementState.rotPosX=ee.vector.y,ne.movementState.rotPosY=-ee.vector.x,ne.rotForce=ee.force<.3?(ee.force-.2)/.1:1)),this.requestRender()}),Q.on("end",(Y,ee)=>{let ne=this.gameControl;"pos"===p?(ne.movementState.movePosZ=0,ne.movementState.movePosX=0,ne.moveForce=1):"rot"===p&&(ne.movementState.rotPosX=0,ne.movementState.rotPosY=0,ne.rotForce=1)}),this.joysticks[g]=[Q,v]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(p=>p.initialDisabled=!1)},80)}initPhysics(){this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=new Nr.World(new Nr.Vector3(0,this.gravity,0)),this.events=new Nr.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(s=>{let a;if(s instanceof yh){if(!s.objectForSample)return!0===s.object.dataPatched.physics.fusedBody&&"dynamic"===s.object.dataPatched.physics.rigidBody||void 0;if(s.objectForSample.dataPatched.physics.fusedBody)return;a=s.object}else if(s instanceof Ml)a=s.object;else{if(s instanceof rO||s instanceof W2)return;if(a=s,!1===a.dataPatched.cloner?.disabled&&a.dataPatched.cloner?.hideBase&&!0!==a.dataPatched.physics?.fusedBody)return!0}let c,l=a.dataPatched;for(let b of l.events)!0!==b.data.disabled&&"GameControl"===b.data.type&&(c=b.data);if(!l.physics||("visibility"===l.physics.enabled?!l.visible:!l.physics.enabled))return!0;s.updateMatrixWorldSVD();let d=PO(l),h=!1,p=a.userData.hasDestroy,g=a.userData.hasDrag,v=!1;for(let b of l.events)if(!0!==b.data.disabled)if("Collision"===b.data.type){h=!0;let P=new mUe(b.id,b.data,a,this.page,this.sharedAssets,this.eventManager);P.initialDisabled=!0,this.collisionEvents.push(P),this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].every(O=>O.id!==b.id)?this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].push(P):this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]=[P]}else if("Follow"===b.data.type){v=!0;let P=b.data.target;s.traverseVisible(O=>{O.userData.isFollowingObj=P})}"dynamic"===l.physics.rigidBody&&!1===l.physics.fusedBody&&(s.matrixWorldFusedFalse=s.matrixWorld.clone());let y=s.geometry;if(void 0!==c){let b=Nr.RigidBodyDesc.kinematicPositionBased();(s.hasNonUniformScale?s.matrixWorldRigid:s.matrixWorld).decompose(ea,Oh,Mm),s.position0=ea.clone().divideScalar(this.pixelsPerMeter),s.rotation0=Oh.clone(),ea.divideScalar(this.pixelsPerMeter),b.setTranslation(ea.x,ea.y,ea.z).setRotation(Oh);let O,P=this.sharedGameControlGlobals.rapierWorld.createRigidBody(b);s.rigidBody=P,O="sphere"===c.collider.type?Nr.ColliderDesc.ball(c.collider.radius/this.pixelsPerMeter):"capsule"===c.collider.type?Nr.ColliderDesc.capsule((c.collider.height/2-c.collider.radius)/this.pixelsPerMeter,c.collider.radius/this.pixelsPerMeter):Nr.ColliderDesc.cuboid(c.collider.width/this.pixelsPerMeter/2,c.collider.height/this.pixelsPerMeter/2,c.collider.depth/this.pixelsPerMeter/2),O.setFrictionCombineRule(Nr.CoefficientCombineRule.Average).setRestitutionCombineRule(Nr.CoefficientCombineRule.Average).setDensity(l.physics.density).setFriction(l.physics.friction).setRestitution(l.physics.restitution);let S=this.sharedGameControlGlobals.rapierWorld.createCollider(O,P);this.sharedGameControlGlobals.colliderToEntity.set(S.handle,a),ea.fromArray(c.collider.position).multiply(Mm.setFromMatrixScale(a.matrixWorld)).divideScalar(this.pixelsPerMeter),S.setTranslationWrtParent(ea);let A=(new Ri).setFromEuler((new fa).setFromVector3((new ie).fromArray(c.collider.rotation)));S.setRotationWrtParent(A),S.setActiveEvents(Nr.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(a,!0)}else"dynamic"===l.physics.rigidBody||d||v||p||g||h?(this.addRigidBody(s,a,{hasFollow:v,hasTransformAnim:d,hasDrag:g}),this.generateSensorColliderDescs(a,l.physics.fusedBody)):(y&&e.push(Xp(y,s.matrixWorld)),l.physics.fusedBody&&s.traverseObject((b,P)=>{if(0===P)return;let O;if(b instanceof yh){if(!b.objectForSample)return!0===b.object.dataPatched.physics.fusedBody&&"dynamic"===b.object.dataPatched.physics.rigidBody||void 0;if(b.objectForSample.dataPatched.physics.fusedBody)return;O=b.object}else{if(b instanceof rO||b instanceof W2)return;if(b instanceof Ml)O=b.object;else if(O=b,O.dataPatched.cloner?.hideBase)return!0}let S=O.dataPatched;if("visibility"===S.physics.enabled?!S.visible:!S.physics.enabled)return!0;let A=b.geometry;void 0!==A?.getAttribute("position")&&e.push(Xp(A,b.matrixWorld))}),this.generateSensorColliderDescs(a,l.physics.fusedBody,t));return!(!0!==l.physics?.fusedBody&&!c)||void 0}),0===e.length)return;let n=o0(e);n.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let i=Nr.RigidBodyDesc.fixed(),r=this.sharedGameControlGlobals.rapierWorld.createRigidBody(i),o=Nr.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array).setFrictionCombineRule(Nr.CoefficientCombineRule.Multiply).setRestitutionCombineRule(Nr.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(o,r);for(let[s,a]of t){let l=this.sharedGameControlGlobals.rapierWorld.createCollider(s,r);this.sensorToTriggerEvent[l.handle]=a}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if("Trigger"===t.data.type&&!0!==t.data.disabled){let n=new cZ(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),i=(new Kt).compose(Sh.fromArray(t.data.position),yy.setFromEuler(dZ.fromArray(t.data.rotation)),Z4);if("box"===t.data.triggerZone){let r=new As;r.min.fromArray(t.data.size).multiplyScalar(-.5),r.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([r,i,e,n])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,i,e,n])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){if(this.isEnabled){this.isEnabled=!1,this.page.traverse(e=>{let t=e;t.matrixWorldFusedFalse&&(t.matrixWorldFusedFalse=void 0),t.rigidBody&&(t.rigidBody=void 0),t.position0&&(t.position0=void 0),t.rotation0&&(t.rotation0=void 0)}),this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),this.gameControl?.reset(),this.gameControl?.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([e,t])=>{e?.destroy(),t.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),this.navigationMeshWrapper?.dispose(),this.navigationMeshWrapper=void 0;for(let e of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))e.forEach(t=>t.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,n){if(!this.isEnabled)return!0;let i=!0;if(void 0!==this.orbitControls&&this.orbitControls.needsUpdate&&(i=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,i=!1):2===this.initializationCounter&&this.gameControl&&(i=!this.gameControl.update(e,t,n)&&i),!1===this.usePhysics&&this.checkTrigger(),this.usePhysics){let r=.016666666666666666;if(0===e)i=this.stepPhysics()&&i;else{let o=e/1e3;o<r&&o>.55*r&&(o=r),this.accumulator+=o;let s=performance.now(),a=0,l=6;for(;this.accumulator>=r&&a<l&&(i=this.stepPhysics()&&i,this.accumulator-=r,a++,!(performance.now()-s>1e3*r)););this.accumulator=this.accumulator%r}}return i}stepPhysics(){for(let e of this.sharedGameControlGlobals.entitiesWithTransformAnim){(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(ea,Oh,Mm),Q4.setFromQuaternion(Oh);let t=e;void 0===t.prevR?(t.prevR=Q4.clone(),t.prevT=ea.clone()):(t.prevR.copy(Q4),t.prevT.copy(ea)),e.rigidBody&&(e.rigidBody.setNextKinematicTranslation(ea.divideScalar(this.pixelsPerMeter)),e.rigidBody.setNextKinematicRotation(Oh))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),this.events?.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,n){let r,i=this.sharedGameControlGlobals.rapierWorld?.getCollider(n)._parent;if(t.cloner)for(let o of t.cloner.children)if(o.rigidBody===i){r=o;break}e.dispatch(r),t.dispatchEvent(eN)}updateUseWindowEvents(e){this.orbitControls?.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,n){let i=hZ.copy(e.matrixWorld).invert();e.traverseEntity((r,o)=>{if(!1===t&&1===o)return!0;for(let s of r.dataPatched.events)if("Trigger"===s.data.type&&!0!==s.data.disabled){let l,a=new cZ(s.id,s.data,r,this.page,this.sharedAssets,this.eventManager);if(l="box"===s.data.triggerZone?Nr.ColliderDesc.cuboid(...s.data.size.map(c=>c/(2*this.pixelsPerMeter))):Nr.ColliderDesc.ball(s.data.radius/this.pixelsPerMeter),l.setDensity(0).setSensor(!0).setActiveEvents(Nr.ActiveEvents.COLLISION_EVENTS),Sh.fromArray(s.data.position),yy.setFromEuler(dZ.fromArray(s.data.rotation)),MO.compose(Sh,yy,Z4).premultiply(r.matrixWorld),n?(MO.decompose(Sh,yy,K4),l.setActiveCollisionTypes(Nr.ActiveCollisionTypes.KINEMATIC_FIXED|Nr.ActiveCollisionTypes.DYNAMIC_FIXED)):(MO.premultiply(i).decompose(Sh,yy,K4),e.rigidBody.bodyType()===Nr.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===Nr.RigidBodyType.Fixed?l.setActiveCollisionTypes(Nr.ActiveCollisionTypes.KINEMATIC_FIXED|Nr.ActiveCollisionTypes.DYNAMIC_FIXED):l.setActiveCollisionTypes(Nr.ActiveCollisionTypes.KINEMATIC_KINEMATIC|Nr.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),Sh.divideScalar(this.pixelsPerMeter),l.setTranslation(Sh.x,Sh.y,Sh.z),l.setRotation(yy),n)n.push([l,a]);else{let c=this.sharedGameControlGlobals.rapierWorld.createCollider(l,e.rigidBody);this.sensorToTriggerEvent[c.handle]=a}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[n,i,r,o]=this.sharedGameControlGlobals.triggers[t];for(let s=0;s<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;s++){let a=this.sharedGameControlGlobals.entitiesWithTransformAnim[s];if(r===a||!1===o.isValidTriggeringObject(Dr.is(a)?a:a.object))continue;let l=hZ.copy(r.matrixWorld).decompose(Sh,uZ,K4).compose(Sh,uZ,Z4).multiply(i),c=MO.copy(a.matrixWorld).invert().multiply(l);n instanceof As?e=a.bvhGeometry.boundsTree.intersectsBox(n,c):(J4.radius=n,J4.center.setFromMatrixPosition(c),e=a.bvhGeometry.boundsTree.intersectsSphere(J4)),e?-1===o.currentIntersectedObjects.indexOf(a)&&(o.currentIntersectedObjects.push(a),o.dispatch(),r.dispatchEvent(LUe)):o.currentIntersectedObjects=o.currentIntersectedObjects.filter(d=>d!==a)}}}}(c),i._animationControls=new class{constructor(e,t,n,i){this.scene=e,this.requestRender=t,this.updateDisplayProgress=n,this.animationInspectorState=i,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=r=>{"Empty"===r.data.type&&r.data.animations&&r.data.animations.forEach((o,s)=>{let a=o[0]+"/";if(Array.isArray(r.identity)?a+=r.identity[0]:a+=r.uuid,this.clipIdToAction[a])return;let l=u3.parse(JSON.parse(o[2]));r.animations[s]=l;let c=this.mixer.clipAction(l,r);!1===pZ&&(Object.getPrototypeOf(c)._updateTime=zUe,pZ=!0),c.clampWhenFinished=!0,this.clipIdToAction[a]=c})},this.mixer=new NPe(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let n=this.scene.find(t);if(!n)return;let i=n.animations.find(o=>o.uuid===e);if(!i)return;let r=this.clipIdToAction[e];!r||(r.stop(),this.mixer.uncacheClip(i),delete this.clipIdToAction[e],n.animations=n.animations.filter(o=>o.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=2201}),this.mixer.stopAllAction(),this.requestRender()}play(e){let n=this.clipIdToAction[e.clipId+"/"+e.object];if(n)return e&&(e.repeat>=0&&(n.repetitions=e.repeat+1),"pingpong"===e.direction&&0!==e.repeat&&(n.loop=mT)),n.play(),n.paused=!1,this.requestRender(),n}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){if(this.needsUpdate)this.needsUpdate=!1;else if(!1===this.isPlaying||this.animationInspectorState?.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*(this.maxFrames-1)%(this.maxFrames-1))),this.requestRender()}get maxFrames(){return PK(this.activeClip??void 0)}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let n=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(e/(this.maxFrames-1),.9999)*this.activeClip.duration),this.requestRender(),n&&(this.clipIdToAction[t].paused=!0)}}(i._scene,i._requestRenderAutoMode),i._eventManager=new class{constructor(e,t,n,i,r){this.publish=e,this.controlsManager=t,this.animationControls=n,this.eventContext=i,this.sharedVariables=r,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=o=>{let s=window.parent!==window,a=document.documentElement.scrollHeight>document.documentElement.clientHeight||document.documentElement.scrollWidth>document.documentElement.clientWidth;(o.touches.length>1||this.preventTouchScroll||!1===s&&!1===a)&&o.preventDefault()},this.onMouseWheelPreventScroll=o=>{this.preventScroll&&o.preventDefault()},this.onMouseMove=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:o.buttons>0}},this.onMouseDown=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!0}},this.onMouseUp=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!1}},this.getMousePosition=o=>{let{domRect:s}=this.eventContext,{pageX:a,pageY:l}=o.touches?.length>0?o.touches[0]:o;return{x:a-(s.left+window.scrollX),y:l-(s.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=i.requestRender}activate(e=!1){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new B9e(this.eventContext),VariableChange:new gUe(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),API:new KUe(this.eventContext,this),WEBHOOK:new JUe(this.eventContext,this),AIAssistantListener:new s7e(this.eventContext,this),AIAssistantTrigger:new l7e(this.eventContext,this),Conditional:new W9e(this.eventContext,this),Start:new fUe(this.eventContext,this),Basic:new U9e(this.eventContext,this,this.needsRaycast),MouseHover:new cUe(this.eventContext,this),Scroll:new uUe(this.eventContext,this),Follow:new tUe(this.eventContext,this),DragDrop:new Q9e(this.eventContext,this),LookAt:new sUe(this.eventContext),Resize:new QUe(this.eventContext,this),Textfields:new o7e(this.eventContext,this)};let{page:t,domElement:n}=this.eventContext;this.hideCursor&&(n.style.cursor="none"),t.traverseEntity(i=>{i.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(i=>i.connect()),n.addEventListener("wheel",this.onMouseWheelPreventScroll),n.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++,e||(this.eventContext.sharedAssets.openAIRealtime?.connect(),this.eventContext.sharedAssets.openAIRealtime?.start())}deactivate(e=!1){if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:t,domElement:n}=this.eventContext;if(n.style.cursor="",Object.values(this.handlers).forEach(i=>i.disconnect()),this.controlsManager.gameControl?.disposeActions(),this.controlsManager.disconnectEvents(),t.traverseEntity(i=>{i.removeEventListener("requestRender",this.requestRender),i.destroyedInAction=!1}),n.removeEventListener("touchmove",this.onTouchMovePreventScroll),n.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode(),!e){let i=this.eventContext.sharedAssets.openAIRealtime;i?.disconnect(),i?.stop().then(()=>{i?.disconnect()})}}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(!0),this.activate(!0),this.controlsManager.deactivate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=n=>{if("Conditional"===n.data.type&&(n.data.ifActions.forEach(t),n.data.elseActions.forEach(t)),"Conditional"===n.data.type||"SetVariable"===n.data.type)for(let i of"Conditional"===n.data.type?n.data.condition:n.data.expression)"id"in i&&Array.isArray(i.id)&&("mouse"===i.id[0]&&(this.needsMouse=!0),"raycast"===i.id[0]&&(this.needsRaycast=!0));"DynamicVariablePlay"===n.data.type&&""!==n.data.variableId&&("Play"===n.data.mode||"PlayPause"===n.data.mode||"Toggle"===n.data.mode)&&e.setDynamicVariablePlayState(n.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(n=>{if(n.data?.events.length)for(let i of n.data.events)if("VariableChange"===i.data.type&&("mouseProperty"===i.data.variableId&&(this.needsMouse=!0),"raycastProperty"===i.data.variableId&&(this.needsRaycast=!0)),"Conditional"===i.data.type)for(let r of["inActions","outActions"])i.data[r].forEach(t);else if("DragDrop"===i.data.type)for(let r of["drag","drop"])i.data.dragDropActions[r].forEach(t);else if("GameControl"===i.data.type)for(let r of["idle","move","jump","run"])i.data.gameActions[r].forEach(t);else if("Resize"===i.data.type)for(let r of i.data.breakpoints)r.data.actions.forEach(t);else"LookAt"===i.data.type||"API"===i.data.type||i.data.actions.forEach(t)})}}(r.scene.publish,i._controls,i._animationControls,c,r.shared.variables),i._eventManager.activate(),i._controls.activate(i._eventManager)}i._resize(),i._scene.activePage.data.postprocessing.depthOfField.enabled&&Promise.all(i._sharedAssetsManager.getImageLoadPromises()).then(()=>{i._resize(!0)}),void 0!==n&&i.setVariables(n),0===i.dt&&(i.render(performance.now()),setTimeout(()=>{i._renderer?.setAnimationLoop(i.render)},0)),i._resizeObserverTimeout=setTimeout(()=>{!i._resizeObserver&&i.canvas.parentElement&&(i._resizeObserver=new ResizeObserver(()=>{i._viewportWidth=i.canvas.clientWidth,i._viewportHeight=i.canvas.clientHeight,i._debouncedResize()}),i._resizeObserver.observe(i.canvas.parentElement))},300),document.addEventListener("scroll",i._onScroll)})()}setVariables(e){if(void 0!==this._data){let t=Object.entries(e);for(let[n,i]of t)this.setVariable(n,i)}}setVariable(e,t){let n=this._getVariableByName(e);if(n&&!("dynamicVariableType"in n.data)){let i=t;"number"==typeof n.data.value?i="number"==typeof t?t:"boolean"==typeof t?!0===t?1:0:parseFloat(t):"boolean"==typeof n.data.value?i="number"==typeof t?!!t:"boolean"==typeof t?t:"false"!==t.toLocaleLowerCase()&&!!t:"string"!=typeof n.data.value&&void 0!==n.data.value.textValue&&(i=t.toString()),this._sharedAssetsManager?.updateVariable(n.id,"string"==typeof i?{textValue:i}:i),this.requestRender(),this._requestRenderAutoMode()}else void 0===n?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in n.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{void 0===e[t.data.name]&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let n=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(n)}}_getVariableValue(e){return"string"!=typeof e&&ol.isTextValue(e)?ol.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(n=>n.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){let t=this._scene?.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){let t=this._scene?.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){let e=[];return this._scene?.traverseEntity(t=>{if(!(t.uuid===C1||this._scene.isInvisibleObjects(t)||t instanceof Ua)){let n=this._createProxyObject(t);n&&e.push(n)}}),e}getSplineEvents(){return this._eventManager?.handlers?.Spline.splineEvents}emitEvent(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEvent(e)}emitEventReverse(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){this._controls?.orbitControls instanceof aZ&&this._controls?.orbitControls.setZoom(e)}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){let{r:t,g:n,b:i,a:r}={r:0,g:0,b:0,a:1},o=new al(t,n,i,r);try{o.setStyle(e)}catch{console.error("This is not a valid css color",e)}this._scene?.activePage.setBackgroundColor(o),this._requestRenderAutoMode()}dispose(){this.disposed=!0,this._eventManager?.deactivate(),this._scene?.dispose(),this._sharedAssetsManager?.dispose(),this._proxyObjectCache.forEach(e=>{BH.unsubscribe(e)}),this._variablesCache.clear(),this._renderer?.setAnimationLoop(null),this._renderer?.dispose(),this._renderer=void 0,this._sharedAssetsManager?.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),void 0!==this._resizeObserverTimeout&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),this._controls?.deactivate(),this.dt=0,function xIe(e){e.removeEventListener("pointerdown",QG,!0),e.removeEventListener("pointerdown",MP,!0),e.removeEventListener("pointermove",MP,!0),e.removeEventListener("pointerup",b1,!0),e.removeEventListener("pointercancel",b1,!0),e.removeEventListener("pointerleave",b1,!0),window.removeEventListener("keydown",KG,!0),window.removeEventListener("keyup",ZG,!0)}(this.canvas),document.removeEventListener("scroll",this._onScroll)}get isStopped(){return this._isPaused}stop(){this._isPaused||(this._renderer?.setAnimationLoop(null),this._isPaused=!0,this._eventManager?.pause(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){!this._isPaused||(this._isPaused=!1,this._eventManager?.resume(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!0),this._renderer?.setAnimationLoop(this.render))}setGlobalEvents(e){this._eventManager?.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){if(null==e)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(r=>{r instanceof Ua&&(t=r.name)});let i=BH({name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof Ua||e instanceof d4?void 0:e.parent?.uuid,emitEvent(r){e.dispatchEvent({type:"userEvent",eventName:r})},emitEventReverse(r){e.dispatchEvent({type:"userEvent",eventName:r,reverse:!0})}},(r,o)=>{"object"!=typeof e[r]&&Object.getOwnPropertyDescriptor(e,r)?.writable&&(e[r]=o),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,i),i}setUIWasmUrl(e){SX.skiaWasmUrl=e}}(i),this.spline.load("https://prod.spline.design/ETc1NgtkFiSuPoFT/scene.splinecode")},500)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===jl.ESC?"by pressing ESC":i===jl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}changeTabTitle(i){this.tabTitle=i}getStripPayemts(i,r,o){this.paymentData={name:i,amount:r},this.modalReference=this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(a=>{this.closeResult=`Closed with: ${a}`},a=>{this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Ft_baseUrl,this.payementservice.stripePayments(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(i.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}openModal(){const i=document.getElementById("contactModal");this.renderer.addClass(i,"show"),this.renderer.setStyle(i,"display","block"),this.renderer.setStyle(i,"backgroundColor","rgba(0,0,0,0.5)"),document.body.classList.add("modal-open")}closeModal(){const i=document.getElementById("contactModal");this.renderer.removeClass(i,"show"),this.renderer.setStyle(i,"display","none"),document.body.classList.remove("modal-open")}onSubmit(i){this.isSubmitting||(this.isSubmitting=!0,this.isLoading=!0,this.formData.email&&this.formData.remail?this.projectservice.sendContactForm(this.formData).subscribe(r=>{console.log("Email sent successfully",r),this.successMessage="Your message has been sent successfully!",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,i.reset(),setTimeout(()=>{this.successMessage="",this.closeModal()},5e3)},r=>{console.error("Error sending email",r),this.errorMessage="Failed to send your message. Please try again later.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},5e3)}):(this.errorMessage="Please fill in all required fields.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},3e3)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Vs),De(ud),De(Mg),De(xd),De(hc),De(uc),De(kv),De(ug),De(fc),De(Pg),De(Cg),De(up),De(Sg))},t.\u0275cmp=Li({type:t,selectors:[["app-ecommerce"]],viewQuery:function(r,o){if(1&r&&$h(C7e,5),2&r){let s;co(s=ho())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&dt("scroll",function(a){return o.onScroll(a)},0,uf)("fullscreenchange",function(a){return o.onFullscreenChange(a)},!1,Ym)},decls:494,vars:30,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["id","canvas",1,"img-globe","floatimg"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"container-fluid"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand","mrem55"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor2"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto","m-auto"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","mt-md-5","mt-sm-4","mt-4"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","bg1","backgroundbg"],[1,"logos"],[1,"fontsize12","mb-0","semibold"],["carouselSlide",""],[1,"section","packages","pt-0","backgroundbg"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section","mbrem5"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-lg-11","col-md-10","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-xxl-5","col-xl-5","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1","pulse"],[1,"circle2"],[1,"size16"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"size16","textcolor3"],[1,"d-block"],[1,"box"],[1,"cstbtn",3,"click"],[1,"col-xxl-7","col-xl-7","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","shadow",2,"max-width","600px"],[1,"text-start","py-3","weight500","medium","size53"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active","weight500",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link","weight500",3,"click"],["alt","",3,"src"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link","weight500",3,"click"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-12"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"list-group-item","d-flex","justify-content-start","align-items-center"],[1,"fa","fa-check"],[1,"ms-2"],[1,"cstprng-table-cta","position-relative","mtrem3","started"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-underline"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],[1,"cstprng-table-cta","position-relative","mtrem8","started"],["routerLink","/contact",1,"text-decoration-none"],["style","z-index: 0;"],["payments",""],["id","contactModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3",3,"ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autocomplete","off","placeholder","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput",1,"mt-0"],["type","email","name","email","autocomplete","off","id","email","placeholder","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","contact","autocomplete","off","id","contact","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","rname","name","rname","autocomplete","off","placeholder","R-name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","remail","autocomplete","off","id","remail","placeholder","R-email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rcontact","autocomplete","off","id","rcontact","placeholder","R-Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Submit",1,"submit",3,"disabled"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","alert alert-info mt-3","role","alert",4,"ngIf"],[1,"col-md-6"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["carouselSlide","",3,"id"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],["id","modal-basic-title",1,"modal-title"],["id","content"],[1,""],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"error"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],["role","alert",1,"alert","alert-info","mt-3"]],template:function(r,o){if(1&r){const s=kr();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"canvas",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),D(9,"Sell Globally with "),C(),x(10,"h1",8),D(11,"Custom"),x(12,"span",9),D(13," eCommerce"),C()()()()(),x(14,"div",10)(15,"ul",11)(16,"li")(17,"a",12),ce(18,"img",13),C()(),x(19,"li")(20,"a",14),ce(21,"img",15),C()(),x(22,"li")(23,"a",16),ce(24,"img",13),C()(),x(25,"li")(26,"a",17),ce(27,"img",18),C()()(),x(28,"div",19)(29,"p"),D(30,"We know what it takes to make "),C(),x(31,"p"),D(32,"A successful eCommerce Store"),C()()()()(),x(33,"div",20)(34,"p")(35,"a",21)(36,"span",22),D(37," Know About Branding"),C(),x(38,"span",23),ce(39,"i",24),C()()()()()(),ce(40,"div",25),x(41,"section",26)(42,"div",27)(43,"div",2)(44,"div",28)(45,"div",29)(46,"video",30,31),dt("click",function(){return o.playInFullscreenWithAudio()}),ce(48,"source",32)(49,"source",33),D(50," Your browser does not support the video tag. "),C()()()()()(),x(51,"section",34)(52,"div",1)(53,"div",2)(54,"div",35)(55,"div",36)(56,"h2",37)(57,"span",38),D(58,"A beautiful online store isn\u2019t enough "),C(),x(59,"span",39),D(60," \u2014you need one that converts. "),C(),D(61,", "),x(62,"span",38),D(63,"Whether it\u2019s Magento, Shopify, or Node.js, "),C(),x(64,"span",39),D(65,"we create custom "),x(66,"span",40),D(67," eCommerce"),C(),D(68,". platforms that perform, scale, and grow with you."),C()()()()()()(),x(69,"section",41)(70,"div",42)(71,"div",2)(72,"div",35)(73,"div",43)(74,"h1",44),ce(75,"div",45),D(76," Recent Works "),C()()(),x(77,"div",46)(78,"div",2),st(79,M7e,9,8,"div",47),C()()()(),x(80,"div",48)(81,"div",49)(82,"div",43)(83,"h1",44),ce(84,"div",45),D(85," Recent Works "),C()()(),x(86,"owl-carousel-o",50),st(87,O7e,2,1,"ng-container",51),C()(),x(88,"div",52)(89,"div",2)(90,"div",53)(91,"div",54)(92,"div",55)(93,"div",56)(94,"p")(95,"a",57)(96,"span",58),D(97,"Book A Consultation"),C(),x(98,"span",23),ce(99,"i",24),C()()()()()()()()()(),x(100,"section",59)(101,"div",1)(102,"div",2)(103,"div",35)(104,"div",60)(105,"p",61)(106,"span",62),D(107,"Why Choose Pixtar?"),C()(),x(108,"div",63)(109,"div",2)(110,"div",64)(111,"div",65),ce(112,"img",66),x(113,"p",67),D(114,"Crafted With The Golden Ratio"),C(),x(115,"p",68),D(116,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),C()()(),x(117,"div",69)(118,"div",65),ce(119,"img",66),x(120,"p",67),D(121,"Custom Solutions. No Templates. Ever."),C(),x(122,"p",68),D(123,"Every brand is unique, and so is our approach. We build from scratch, ensuring your business is reflected in every detail."),C()()(),x(124,"div",64)(125,"div",65),ce(126,"img",66),x(127,"p",67),D(128,"Beyond The Limits, Always Transparent"),C(),x(129,"p",68),D(130,"We don\u2019t just deliver; we partner with you, going above and beyond with 100% transparency at every step of the way."),C()()()()()()()()()(),x(131,"section",70)(132,"div",1)(133,"div",2)(134,"div",35)(135,"div",71)(136,"h6",72),D(137,"OUR CLIENTS INCLUDE\u2026"),C(),x(138,"owl-carousel-o",50),gs(139),st(140,S7e,3,1,"ng-template",73),st(141,E7e,3,1,"ng-template",73),st(142,D7e,3,1,"ng-template",73),st(143,A7e,3,1,"ng-template",73),st(144,T7e,3,1,"ng-template",73),st(145,I7e,3,1,"ng-template",73),st(146,k7e,3,1,"ng-template",73),st(147,R7e,3,1,"ng-template",73),st(148,N7e,3,1,"ng-template",73),st(149,L7e,3,1,"ng-template",73),st(150,F7e,3,1,"ng-template",73),st(151,B7e,3,1,"ng-template",73),st(152,z7e,3,1,"ng-template",73),vs(),C()()()()()(),x(153,"section",74)(154,"div",1)(155,"div",2)(156,"div",75)(157,"div",76)(158,"h2",77)(159,"span",62),D(160,"What\u2019s Included in Our Branding Packages?"),C()(),x(161,"p",78),D(162,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),C()()(),x(163,"div",79)(164,"div",80)(165,"div",81)(166,"div",82)(167,"div",83)(168,"div",84)(169,"div",85)(170,"div",86),ce(171,"div",87)(172,"div",88),C(),x(173,"div",22)(174,"p",89),D(175,"Slots available"),C()()()(),x(176,"h1",90),D(177,"Join "),C(),x(178,"h1",91),D(179,"Pixtar"),C(),x(180,"div",92)(181,"h4",93),D(182,"Book a 15-min intro Call"),C(),x(183,"p",94),D(184,"Learn more about how Pixtar "),x(185,"span",95),D(186," works and how it can help you."),C()()(),x(187,"div",96)(188,"h4",93),D(189,"Refer a friend & earn"),C(),x(190,"p",94),D(191,"Earn 5% monthly recurring "),x(192,"span",95),D(193," commission for each referral. "),C(),x(194,"a",97),dt("click",function(){return o.openModal()}),x(195,"span",22),D(196," Get Started"),C(),x(197,"span",23),ce(198,"i",24),C()()()()()()(),x(199,"div",98)(200,"div",99)(201,"h2",100),D(202),C(),x(203,"nav")(204,"div",101)(205,"button",102),dt("click",function(){return o.changeTabTitle("Start your eCommerce")}),D(206," Shopify "),C(),x(207,"button",103),dt("click",function(){return o.changeTabTitle("Grow eCommerce Globally")}),ce(208,"img",104),D(209," Magento "),C(),x(210,"button",105),dt("click",function(){return o.changeTabTitle("Premium eCommerce")}),D(211," Custom Commerce "),C()()(),x(212,"div",106)(213,"div",107)(214,"div",108)(215,"div",109)(216,"h4",110),D(217,"AED 14,995"),C(),x(218,"h5",111),D(219,"Perfect for startups."),C()(),ce(220,"div",112),x(221,"div",113)(222,"h5",114),D(223,"What\u2019s included"),C(),x(224,"div",2)(225,"div",115)(226,"ul",116)(227,"li",117)(228,"div",118)(229,"div",119),D(230,"Tailored Ui/Ux Designing"),C()()(),x(231,"li",120),ce(232,"i",121),x(233,"span",122),D(234,"Custom Website Design 1 Theme Option"),C()(),x(235,"li",117)(236,"div",118)(237,"div",119),D(238,"Development"),C()()(),x(239,"li",120),ce(240,"i",121),x(241,"span",122),D(242,"Customized Front-End Development"),C()(),x(243,"li",120),ce(244,"i",121),x(245,"span",122),D(246,"Mobile, Tablet, & Desktop Responsive Design"),C()(),x(247,"li",120),ce(248,"i",121),x(249,"span",122),D(250,"Unlimited Products Listing"),C()(),x(251,"li",120),ce(252,"i",121),x(253,"span",122),D(254,"Ability for Future Enhancements"),C()(),x(255,"li",120),ce(256,"i",121),x(257,"span",122),D(258,"Hosting Support"),C()(),x(259,"li",117)(260,"div",118)(261,"div",119),D(262,"Standout features"),C()()(),x(263,"li",120),ce(264,"i",121),x(265,"span",122),D(266,"Contact us Email Integration"),C()(),x(267,"li",120),ce(268,"i",121),x(269,"span",122),D(270,"Payment Gateway Integration"),C()()()()()(),x(271,"div",123)(272,"div",20)(273,"p")(274,"a",97),dt("click",function(){zn(s);const l=vo(446);return Vn(o.getStripPayemts("Shopify",14995,l))}),x(275,"span",22),D(276," Get Started"),C(),x(277,"span",23),ce(278,"i",24),C()()()(),x(279,"p",124),D(280,"Or "),x(281,"a",125),D(282,"book a call"),C()()()()(),x(283,"div",126)(284,"div",108)(285,"div",109)(286,"h4",110),D(287,"AED 24,995"),C(),x(288,"h5",111),D(289,"A full brand identity suite."),C()(),ce(290,"div",112),x(291,"div",113)(292,"h5",114),D(293,"What\u2019s included"),C(),x(294,"div",2)(295,"div",115)(296,"ul",116)(297,"li",117)(298,"div",118)(299,"div",119),D(300,"Tailored Ui/Ux Designing"),C()()(),x(301,"li",120),ce(302,"i",121),x(303,"span",122),D(304,"Custom Website Design upto 3 Theme Option"),C()(),x(305,"li",117)(306,"div",118)(307,"div",119),D(308,"Development"),C()()(),x(309,"li",120),ce(310,"i",121),x(311,"span",122),D(312,"Custom Front-End Development"),C()(),x(313,"li",120),ce(314,"i",121),x(315,"span",122),D(316,"Mobile, Tablet, and Desktop Responsive Design"),C()(),x(317,"li",120),ce(318,"i",121),x(319,"span",122),D(320,"Up to 20 Pages (Based on Final Requirements)"),C()(),x(321,"li",120),ce(322,"i",121),x(323,"span",122),D(324,"Ability for Future Enhancements"),C()(),x(325,"li",120),ce(326,"i",121),x(327,"span",122),D(328,"Hosting Support"),C()(),x(329,"li",117)(330,"div",118)(331,"div",119),D(332,"Standout features"),C()()(),x(333,"li",120),ce(334,"i",121),x(335,"span",122),D(336,"Admin Panel and User Management"),C()(),x(337,"li",120),ce(338,"i",121),x(339,"span",122),D(340,"SEO-Optimized Development"),C()(),x(341,"li",120),ce(342,"i",121),x(343,"span",122),D(344,"Google My Business Setup"),C()(),x(345,"li",120),ce(346,"i",121),x(347,"span",122),D(348,"Appointment Booking Integration"),C()(),x(349,"li",120),ce(350,"i",121),x(351,"span",122),D(352,"Contact Us Email Integration"),C()(),x(353,"li",120),ce(354,"i",121),x(355,"span",122),D(356,"Google Maps Integration"),C()()()()()(),x(357,"div",123)(358,"div",20)(359,"p")(360,"a",97),dt("click",function(){zn(s);const l=vo(446);return Vn(o.getStripPayemts("Magento",24995,l))}),x(361,"span",22),D(362," Get Started"),C(),x(363,"span",23),ce(364,"i",24),C()()()(),x(365,"p",124),D(366,"Or "),x(367,"a",125),D(368,"book a call"),C()()()()(),x(369,"div",127)(370,"div",108)(371,"div",109)(372,"h4",110),D(373,"AED 59,995"),C(),x(374,"h5",111),D(375,"The ultimate package with unlimited requests."),C()(),ce(376,"div",112),x(377,"div",113)(378,"h5",114),D(379,"What\u2019s included"),C(),x(380,"div",2)(381,"div",115)(382,"ul",116)(383,"li",117)(384,"div",118)(385,"div",119),D(386,"Tailored Ui/Ux Designing"),C()()(),x(387,"li",120),ce(388,"i",121),x(389,"span",122),D(390,"Custom Website Design Upto 5 Theme Options"),C()(),x(391,"li",117)(392,"div",118)(393,"div",119),D(394,"Development & Standout Features"),C()()(),x(395,"li",120),ce(396,"i",121),x(397,"span",122),D(398,"Website Integration with CRM"),C()(),x(399,"li",120),ce(400,"i",121),x(401,"span",122),D(402,"Integration with other websites"),C()(),x(403,"li",120),ce(404,"i",121),x(405,"span",122),D(406,"Access to your Partners & Distributers to Create and Manage thier Account"),C()(),x(407,"li",120),ce(408,"i",121),x(409,"span",122),D(410,"User Pro\ufb01le Management"),C()(),x(411,"li",120),ce(412,"i",121),x(413,"span",122),D(414,"Unlimited Brochures Download options"),C()(),x(415,"li",120),ce(416,"i",121),x(417,"span",122),D(418,"WhatsApp Integration"),C()(),x(419,"li",120),ce(420,"i",121),x(421,"span",122),D(422,"Live Chat Integration"),C()(),x(423,"li",120),ce(424,"i",121),x(425,"span",122),D(426,"Google Reviews Integration"),C()(),x(427,"li",120),ce(428,"i",121),x(429,"span",122),D(430,"Social Media Live Updates Integration"),C()()()()()(),x(431,"div",128)(432,"div",20)(433,"p")(434,"a",97),dt("click",function(){zn(s);const l=vo(446);return Vn(o.getStripPayemts("Custom Commerce",59995,l))}),x(435,"span",22),D(436," Get Started"),C(),x(437,"span",23),ce(438,"i",24),C()()()(),x(439,"p",124),D(440,"Or "),x(441,"a",129),D(442,"book a call"),C()()()()()()()()()()()()(),ce(443,"app-testimonial")(444,"app-faq-component"),st(445,V7e,30,4,"ng-template",130,131,Fc),x(447,"div",132)(448,"div",133)(449,"div",134)(450,"div",135)(451,"h5",136),D(452,"Refer a friend & earn"),C(),x(453,"button",137),dt("click",function(){return o.closeModal()}),x(454,"span",138),D(455," \xd7 "),C()()(),x(456,"div",139)(457,"form",140,141),dt("ngSubmit",function(){zn(s);const l=vo(458);return Vn(o.onSubmit(l))}),x(459,"div",142)(460,"input",143),dt("ngModelChange",function(l){return o.formData.name=l}),C(),x(461,"label",144),D(462,"Name"),C()(),x(463,"div",142)(464,"input",145),dt("ngModelChange",function(l){return o.formData.email=l}),C(),x(465,"label",144),D(466,"Email"),C(),st(467,H7e,2,0,"div",146),C(),x(468,"div",142)(469,"input",147),dt("ngModelChange",function(l){return o.formData.contact=l}),C(),x(470,"label",144),D(471,"Contact"),C()(),x(472,"div",142)(473,"input",148),dt("ngModelChange",function(l){return o.formData.rname=l}),C(),x(474,"label",144),D(475,"Referrer-Name"),C()(),x(476,"div",142)(477,"input",149),dt("ngModelChange",function(l){return o.formData.remail=l}),C(),x(478,"label",144),D(479,"Referrer-Email"),C(),st(480,G7e,2,0,"div",146),C(),x(481,"div",142)(482,"input",150),dt("ngModelChange",function(l){return o.formData.rcontact=l}),C(),x(483,"label",144),D(484,"Referrer-Contact"),C()(),x(485,"div",151)(486,"div",152),ce(487,"input",153),C(),x(488,"div",154)(489,"button",155),dt("click",function(){return o.closeModal()}),D(490,"Cancel"),C()()()(),st(491,W7e,2,1,"div",156),st(492,q7e,2,1,"div",157),st(493,Y7e,2,0,"div",158),C()()()()}if(2&r){const s=vo(458);se(18),Ie("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/whatsapp.svg",Ee),se(17),Qe("ngStyle",Ea(28,X7e,o.sectionWidth+"%")),se(4),Ie("src","",o.baseUrl,"/pixtar logo animation 6.MP4",Ee),se(1),Ie("src","",o.baseUrl,"/pixtar logo animation 6.MP4",Ee),se(30),Qe("ngForOf",o.allprojects),se(7),Qe("options",o.recentoptions),se(1),Qe("ngForOf",o.allprojects),se(25),Ie("src","",o.baseUrl,"/img/home/art-icons/craft.svg",Ee),se(7),Ie("src","",o.baseUrl,"/img/home/art-icons/solution.svg",Ee),se(7),Ie("src","",o.baseUrl,"/img/home/art-icons/beyond.svg",Ee),se(12),Qe("options",o.clientslider),se(64),aa(o.tabTitle),se(6),Ie("src","",o.baseUrl,"/img/services/shock.png",Ee),se(252),Qe("ngModel",o.formData.name),se(4),Qe("ngModel",o.formData.email),se(3),Qe("ngIf",!o.formData.email&&s.submitted),se(2),Qe("ngModel",o.formData.contact),se(4),Qe("ngModel",o.formData.rname),se(4),Qe("ngModel",o.formData.remail),se(3),Qe("ngIf",!o.formData.remail&&s.submitted),se(2),Qe("ngModel",o.formData.rcontact),se(5),Qe("disabled",o.isSubmitting),se(4),Qe("ngIf",o.successMessage),se(1),Qe("ngIf",o.errorMessage),se(1),Qe("ngIf",o.isLoading)}},dependencies:[ca,Da,ng,_d,fv,Mf,dv,hv,Df,pv,cg,Ef,dg,Lf,tu,Rv,Og],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-19rem;top:30%;width:500px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-6rem;width:400px;top:28%}}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;top:33%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:290px;top:30%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:404px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:0 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:40px 10px 50px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:170px}@media (max-width: 480px){.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:140px}}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px;width:100%;height:auto}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 15px;border-radius:20px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 0}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #da9777;background-color:#da9777;color:#fff;border-radius:33px;position:relative;display:inline-block;padding:13px 16px;margin-bottom:20px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#000;border:1px solid #000}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]{justify-content:end;align-items:end;position:relative;top:-7px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:60px;height:60px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;width:100%;border-radius:50px;margin-bottom:0;height:100%;padding:20px 40px}@media (max-width: 1440px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 30px}}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 10px;border-radius:20px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:none}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:6px 5px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 5px}}@media (max-width: 330px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 3px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:4rem;bottom:10px}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:3.5rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:0}}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:42%!important}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90px;z-index:3}@media (max-width: 480px){.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75px}}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;color:#fff;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center;margin-top:-40px!important}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}.pulse[_ngcontent-%COMP%]{margin:100px;display:block;width:22px;height:22px;border-radius:50%;background:#cca92c;cursor:pointer;box-shadow:0 0 #5b5b5f;animation:_ngcontent-%COMP%_pulse 2s infinite}.pulse[_ngcontent-%COMP%]:hover{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #5b5b5f}70%{box-shadow:0 0 0 10px #cca92c00}to{box-shadow:0 0 #cca92c00}}']}),e})();const Q7e=["myVideo"];function K7e(e,t){if(1&e){const n=kr();x(0,"div",115)(1,"div",201)(2,"a",202)(3,"img",203),dt("mouseenter",function(){const o=zn(n).index;return Vn(ht().onMouseEnter(o))})("mouseleave",function(){return zn(n),Vn(ht().onMouseLeave())}),C(),x(4,"div",204)(5,"p",205),D(6),C(),x(7,"p",206),ce(8,"span",207),C()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=ht();se(2),lc("href",n.link,Ee),se(1),Xh("galleryimg",i,""),cc("src","",r.imagepath,"",n.image,"",Ee),se(3),aa(n.name),se(2),Qe("innerHTML",n.desc,Nc)}}function Z7e(e,t){if(1&e&&(x(0,"a",209),ce(1,"img",210),x(2,"div",204)(3,"p",205),D(4),C(),x(5,"p",206),ce(6,"span",207),C()()()),2&e){const n=ht().$implicit,i=ht();lc("href",n.link,Ee),se(1),cc("src","",i.imagepath,"",n.project_images[0],"",Ee),se(3),aa(n.name),se(2),Qe("innerHTML",n.desc,Nc)}}function J7e(e,t){if(1&e&&(gs(0),st(1,Z7e,7,5,"ng-template",208),vs()),2&e){const n=t.$implicit,i=t.index;se(1),Qe("id",n+i)}}function eje(e,t){1&e&&(x(0,"div",220)(1,"div"),D(2," Name is required. "),C()())}function tje(e,t){if(1&e&&(x(0,"div",220)(1,"div"),D(2),C()()),2&e){const n=ht(2);se(2),Do(" ",n.hasEmailError("email","required")," ")}}function nje(e,t){if(1&e){const n=kr();x(0,"div",177)(1,"h5",211),D(2),C(),x(3,"button",179),dt("click",function(){return Vn(zn(n).$implicit.dismiss("Cross click"))}),x(4,"span",180),D(5," \xd7 "),C()()(),x(6,"div",181)(7,"div",212)(8,"div",1)(9,"div",2)(10,"div",213)(11,"div",130)(12,"form",214),dt("ngSubmit",function(){return zn(n),Vn(ht().submitPayment())}),x(13,"div",215)(14,"div",184),ce(15,"input",216),x(16,"label",186),D(17,"What's your name?"),C(),st(18,eje,3,0,"div",217),C(),x(19,"div",184),ce(20,"input",218),x(21,"label",186),D(22,"What\u2019s your e-mail?"),C(),st(23,tje,3,1,"div",217),C(),x(24,"div",193)(25,"div",194),ce(26,"input",219),C(),x(27,"div",196)(28,"button",197),dt("click",function(){return zn(n),Vn(ht().closePopUp())}),D(29,"Cancel"),C()()()()()()()()()()()}if(2&e){const n=ht();se(2),Do(" Complete Your Payment - ",n.paymentData.name," "),se(10),Qe("formGroup",n.paymentForm),se(6),Qe("ngIf",n.submitted&&n.hasError("name","required")),se(5),Qe("ngIf",n.submitted&&n.hasEmailError("email","required"))}}function ije(e,t){1&e&&(x(0,"div",221),D(1," Email is required. "),C())}function rje(e,t){1&e&&(x(0,"div",221),D(1," R-Email is required. "),C())}function oje(e,t){if(1&e&&(x(0,"div",222),D(1),C()),2&e){const n=ht();se(1),Do(" ",n.successMessage," ")}}function sje(e,t){if(1&e&&(x(0,"div",223),D(1),C()),2&e){const n=ht();se(1),Do(" ",n.errorMessage," ")}}function aje(e,t){1&e&&(x(0,"div",224),D(1," Sending your message, please wait... "),C())}const lje=function(e){return{width:e}};let cje=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10)}constructor(i,r,o,s,a,l,c,d,h,p,g,v,y){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=d,this.http=h,this.projectservice=p,this.modalService=g,this.activeModal=v,this.payementservice=y,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:3},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.formData={name:"",email:"",contact:"",rname:"",remail:"",rcontact:""},this.successMessage="",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,this.tabTitle="For Startups",this.hasError=(b,P)=>this.paymentForm.controls[b].hasError(P),this.hasEmailError=(b,P)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(P),this.baseUrl=Ft_baseUrl+"/assets",this.imagepath=Ft_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",pc.required],email:["",pc.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}changeTabTitle(i){this.tabTitle=i}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===jl.ESC?"by pressing ESC":i===jl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}getStripPayemts(i,r,o,s){this.paymentData={name:i,amount:r,price_id:s},this.modalReference=this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(l=>{this.closeResult=`Closed with: ${l}`},l=>{this.closeResult=`Dismissed ${this.getDismissReason(l)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Ft_baseUrl,this.payementservice.stripeSubscribe(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(i.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}openModal(){const i=document.getElementById("contactModal");this.renderer.addClass(i,"show"),this.renderer.setStyle(i,"display","block"),this.renderer.setStyle(i,"backgroundColor","rgba(0,0,0,0.5)"),document.body.classList.add("modal-open")}closeModal(){const i=document.getElementById("contactModal");this.renderer.removeClass(i,"show"),this.renderer.setStyle(i,"display","none"),document.body.classList.remove("modal-open")}onSubmit(i){this.isSubmitting||(this.isSubmitting=!0,this.isLoading=!0,this.formData.email&&this.formData.remail?this.projectservice.sendContactForm(this.formData).subscribe(r=>{console.log("Email sent successfully",r),this.successMessage="Your message has been sent successfully!",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,i.reset(),setTimeout(()=>{this.successMessage="",this.closeModal()},5e3)},r=>{console.error("Error sending email",r),this.errorMessage="Failed to send your message. Please try again later.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},5e3)}):(this.errorMessage="Please fill in all required fields.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},3e3)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Vs),De(ud),De(Mg),De(xd),De(hc),De(uc),De(kv),De(ug),De(fc),De(Pg),De(Cg),De(up),De(Sg))},t.\u0275cmp=Li({type:t,selectors:[["app-graphics"]],viewQuery:function(r,o){if(1&r&&$h(Q7e,5),2&r){let s;co(s=ho())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&dt("scroll",function(a){return o.onScroll(a)},0,uf)("fullscreenchange",function(a){return o.onFullscreenChange(a)},!1,Ym)},decls:516,vars:30,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow","bnrstart"],["href","graphics#package",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"container-fluid"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor1"],[1,"textcolor2"],[1,"barcy","text-color"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","container"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"mbrem8"],[1,"head-section","pt-xxl-3","pt-xl-0"],[1,"wght500","text-center","mb-3","mt-0"],[1,"textcolor1","size53"],[1,"size24","textcolor2","text-center"],[1,"postion-relative","mtrem5","mbrem5"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"h1","weight300","text-center","para"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","packages","pt-0","backeeedf0"],[1,"packages-section","mbrem5","mtrem5"],["id","package",1,"col-lg-11","col-md-10","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-xxl-5","col-xl-5","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1","pulse"],[1,"circle2"],[1,"size16","textcolor3"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"d-block"],[1,"box"],[1,"cstbtn",3,"click"],[1,"col-xxl-7","col-xl-7","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","shadow",2,"max-width","600px"],[1,"text-start","py-3","medium","size53"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link",3,"click"],["alt","",3,"src"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link",3,"click"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-6"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-center","border-0","p-0","mb-2"],[1,"fa","fa-check","me-2"],[1,"cstprng-table-cta","position-relative","mtrem3","started"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-none"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],[1,"col-lg-5","col-md-7","col-sm-11","col-11","mx-auto"],[1,"subscription-section","mtrem5"],[1,"section","bannerdrk","faqsection"],[1,"col-md-10","col-sm-11","col-11","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,""],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed","brdtp"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingFour","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFive",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingFive","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingSix","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSeven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingSeven","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingEight",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEight","aria-expanded","false","aria-controls","collapseEight",1,"accordion-button","collapsed","brdbtm"],["id","collapseEight","aria-labelledby","headingEight","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingNine",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseNine","aria-expanded","false","aria-controls","collapseNine",1,"accordion-button","collapsed","brdbtm"],["id","collapseNine","aria-labelledby","headingNine","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingTen",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTen","aria-expanded","false","aria-controls","collapseTen",1,"accordion-button","collapsed","brdbtm"],["id","collapseTen","aria-labelledby","headingTen","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingEleven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEleven","aria-expanded","false","aria-controls","collapseEleven",1,"accordion-button","collapsed","brdbtm"],["id","collapseEleven","aria-labelledby","headingEleven","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingTweleve",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTweleve","aria-expanded","false","aria-controls","collapseTweleve",1,"accordion-button","collapsed","brdbtm"],["id","collapseTweleve","aria-labelledby","headingTweleve","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["style","z-index: 0;"],["payments",""],["id","contactModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3",3,"ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autocomplete","off","placeholder","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput",1,"mt-0"],["type","email","name","email","autocomplete","off","id","email","placeholder","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","contact","autocomplete","off","id","contact","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","rname","name","rname","autocomplete","off","placeholder","R-name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","remail","autocomplete","off","id","remail","placeholder","R-email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rcontact","autocomplete","off","id","rcontact","placeholder","R-Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Submit",1,"submit",3,"disabled"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","alert alert-info mt-3","role","alert",4,"ngIf"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["carouselSlide","",3,"id"],["target","_self",3,"href"],[3,"src"],["id","modal-basic-title",1,"modal-title"],["id","content"],[1,"col-md-12"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"error"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],["role","alert",1,"alert","alert-info","mt-3"]],template:function(r,o){if(1&r){const s=kr();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8)(9,"span",9),D(10,"Graphic "),C(),D(11,"Designs on Demand."),C(),x(12,"h1",8),D(13,"Your Way, Every Day."),C()()()()()(),x(14,"div",10)(15,"ul",11)(16,"li")(17,"a",12),ce(18,"img",13),C()(),x(19,"li")(20,"a",14),ce(21,"img",15),C()(),x(22,"li")(23,"a",16),ce(24,"img",13),C()(),x(25,"li")(26,"a",17),ce(27,"img",18),C()()(),x(28,"div",19)(29,"p"),D(30,"Design subscriptions for everyone."),C(),x(31,"p"),D(32,"Pause or cancel anytime."),C()()(),x(33,"div",20)(34,"p")(35,"a",21)(36,"span",22),D(37," Know About Branding"),C(),x(38,"span",23),ce(39,"i",24),C()()()()()(),ce(40,"div",25),x(41,"section",26)(42,"div",27)(43,"div",2)(44,"div",28)(45,"div",29)(46,"video",30,31),dt("click",function(){return o.playInFullscreenWithAudio()}),ce(48,"source",32)(49,"source",33),D(50," Your browser does not support the video tag. "),C()()()()()(),x(51,"section",34)(52,"div",1)(53,"div",2)(54,"div",35)(55,"div",36)(56,"h2",37)(57,"span",38),D(58," Imagine never having to search for a designer again."),C(),x(59,"span",39),D(60,"With Pixtar\u2019s "),C(),x(61,"span",40),D(62," Graphic design "),C(),x(63,"span",39),D(64,"subscription,"),C(),x(65,"span",38),D(66," you get premium designs on demand"),C(),x(67,"span",39),D(68," \u2014crafted with care, precision, and zero templates."),C()()()()()()(),x(69,"section",41)(70,"div",42)(71,"div",2)(72,"div",43)(73,"div",44)(74,"h1",45),ce(75,"div",46),D(76," Recent Works "),C()()(),x(77,"div",43)(78,"div",2),st(79,K7e,9,8,"div",47),C()()()(),x(80,"div",48)(81,"div",49)(82,"div",44)(83,"h1",45),ce(84,"div",46),D(85," Recent Works "),C()()(),x(86,"owl-carousel-o",50),st(87,J7e,2,1,"ng-container",51),C()(),x(88,"div",52)(89,"div",2)(90,"div",53)(91,"div",54)(92,"div",55)(93,"div",56)(94,"p")(95,"a",57)(96,"span",58),D(97,"Book A Consultation"),C(),x(98,"span",23),ce(99,"i",24),C()()()()()()()()()(),x(100,"section",59)(101,"div",1)(102,"div",2)(103,"div",35)(104,"div",60)(105,"div",61)(106,"div",62)(107,"div",63)(108,"h2",64)(109,"span",65),D(110,"A Simple, Stress-Free Design Process"),C()(),x(111,"p",66),D(112,"Say goodbye to hourly rates and unreliable freelancers. With Pixtar\u2019s subscription, you get unlimited, high-quality graphic design\u2014crafted from scratch, no templates, no limits."),C()(),x(113,"div",67)(114,"div",68)(115,"p")(116,"a",69)(117,"span",22),D(118," Subscribe Now"),C(),x(119,"span",23),ce(120,"i",24),C()()()()()()(),x(121,"p",70)(122,"span",65),D(123,"What Makes Us Different?"),C()(),x(124,"div",71)(125,"div",2)(126,"div",72)(127,"div",73),ce(128,"img",74),x(129,"p",75),D(130,"Subscribe To Pixtar"),C(),x(131,"p",76),D(132,"Pick a plan that fits your needs. The more credits, the more flexibility."),C()()(),x(133,"div",77)(134,"div",73),ce(135,"img",74),x(136,"p",75),D(137,"Request A Design"),C(),x(138,"p",76),D(139,"Got a project in mind? Send your request and we\u2019ll start crafting."),C()()(),x(140,"div",72)(141,"div",73),ce(142,"img",74),x(143,"p",75),D(144,"We Design, You Relax"),C(),x(145,"p",76),D(146,"We\u2019ll fine-tune the designs until you love them."),C()()()()()()()()()(),x(147,"section",78)(148,"div",1)(149,"div",2)(150,"div",61)(151,"div",79)(152,"h2",64)(153,"span",65),D(154,"Plans Designed to Fit Every Need"),C()(),x(155,"p",66),D(156,"Whether you\u2019re a startup, a growing business, or an enterprise, we\u2019ve got a plan for you. Each credit gives you access to premium design services\u2014crafted to perfection using the golden ratio"),C()()(),x(157,"div",80)(158,"div",81)(159,"div",82)(160,"div",83)(161,"div",84)(162,"div",85)(163,"div",86)(164,"div",87),ce(165,"div",88)(166,"div",89),C(),x(167,"div",22)(168,"p",90),D(169,"Slots available"),C()()()(),x(170,"h1",91),D(171,"Join "),C(),x(172,"h1",92),D(173,"Pixtar"),C(),x(174,"div",93)(175,"h4",94),D(176,"Book a 15-min intro Call"),C(),x(177,"p",90),D(178,"Learn more about how Pixtar "),x(179,"span",95),D(180," works and how it can help you."),C()()(),x(181,"div",96)(182,"h4",94),D(183,"Refer a friend & earn"),C(),x(184,"p",90),D(185,"Earn 5% monthly recurring "),x(186,"span",95),D(187," commission for each referral."),C(),x(188,"a",97),dt("click",function(){return o.openModal()}),x(189,"span",22),D(190," Get Started"),C(),x(191,"span",23),ce(192,"i",24),C()()()()()()(),x(193,"div",98)(194,"div",99)(195,"h2",100),D(196),C(),x(197,"nav")(198,"div",101)(199,"button",102),dt("click",function(){return o.changeTabTitle("For Starups")}),D(200," Explorer "),C(),x(201,"button",103),dt("click",function(){return o.changeTabTitle("For Growing Businesses.")}),ce(202,"img",104),D(203," Pro "),C(),x(204,"button",105),dt("click",function(){return o.changeTabTitle("For Agencies & Large Teams")}),D(205," Enterprise "),C()()(),x(206,"div",106)(207,"div",107)(208,"div",108)(209,"div",109)(210,"h4",110),D(211,"AED 6,995"),C(),x(212,"h5",111),D(213,"One request at a time, Pause or cancel anytime."),C()(),ce(214,"div",112),x(215,"div",113)(216,"h5",114),D(217,"What\u2019s included"),C(),x(218,"div",2)(219,"div",115)(220,"ul",116)(221,"li",117),ce(222,"i",118),D(223,"One requests at a time "),C(),x(224,"li",117),ce(225,"i",118),D(226,"Average 48 hour delivery "),C(),x(227,"li",117),ce(228,"i",118),D(229,"Unlimited brands "),C()()(),x(230,"div",115)(231,"ul",116)(232,"li",117),ce(233,"i",118),D(234,"Adobe .Ai .Ps .Xd "),C(),x(235,"li",117),ce(236,"i",118),D(237,"Dedicated Account Manager "),C(),x(238,"li",117),ce(239,"i",118),D(240,"Pause or cancel anytime "),C()()()()(),x(241,"div",119)(242,"div",68)(243,"p")(244,"a",97),dt("click",function(){zn(s);const l=vo(468);return Vn(o.getStripPayemts("Explorer",6995,l,"price_1QKFksE1meeZaYUdjH9OLyfv"))}),x(245,"span",22),D(246," Get Started"),C(),x(247,"span",23),ce(248,"i",24),C()()()(),x(249,"p",120),D(250,"Or "),x(251,"a",121),D(252,"book a call"),C()()()()(),x(253,"div",122)(254,"div",108)(255,"div",109)(256,"h4",110),D(257,"AED 11,995"),C(),x(258,"h5",111),D(259,"Double the requests. Pause or cancel anytime."),C()(),ce(260,"div",112),x(261,"div",113)(262,"h5",114),D(263,"What\u2019s included"),C(),x(264,"div",2)(265,"div",115)(266,"ul",116)(267,"li",117),ce(268,"i",118),D(269,"Two requests at a time "),C(),x(270,"li",117),ce(271,"i",118),D(272,"Average 48 hour delivery "),C(),x(273,"li",117),ce(274,"i",118),D(275,"Unlimited brands "),C(),x(276,"li",117),ce(277,"i",118),D(278,"XD UI design "),C()()(),x(279,"div",115)(280,"ul",116)(281,"li",117),ce(282,"i",118),D(283,"15 stock photos "),C(),x(284,"li",117),ce(285,"i",118),D(286,"Unlimited users "),C(),x(287,"li",117),ce(288,"i",118),D(289,"Dedicated Account Manager "),C(),x(290,"li",117),ce(291,"i",118),D(292,"Pause or cancel anytime "),C()()()()(),x(293,"div",119)(294,"div",68)(295,"p")(296,"a",97),dt("click",function(){zn(s);const l=vo(468);return Vn(o.getStripPayemts("Pro",11995,l,"price_1QKFm1E1meeZaYUdeb4XrOTb"))}),x(297,"span",22),D(298," Get Started"),C(),x(299,"span",23),ce(300,"i",24),C()()()(),x(301,"p",120),D(302,"Or "),x(303,"a",121),D(304,"book a call"),C()()()()(),x(305,"div",123)(306,"div",108)(307,"div",109)(308,"h4",110),D(309,"AED 24,995"),C(),x(310,"h5",111),D(311,"For Agencies and Large Teams."),C()(),ce(312,"div",112),x(313,"div",113)(314,"h5",114),D(315,"What\u2019s included"),C(),x(316,"div",2)(317,"div",115)(318,"ul",116)(319,"li",117),ce(320,"i",118),D(321,"10 requests at a time "),C(),x(322,"li",117),ce(323,"i",118),D(324,"Same-day turnaround "),C(),x(325,"li",117),ce(326,"i",118),D(327,"Unlimited brands "),C(),x(328,"li",117),ce(329,"i",118),D(330,"XD UI design "),C()()(),x(331,"div",115)(332,"ul",116)(333,"li",117),ce(334,"i",118),D(335,"Unlimited stock photos "),C(),x(336,"li",117),ce(337,"i",118),D(338,"Unlimited users "),C(),x(339,"li",117),ce(340,"i",118),D(341,"Dedicated Creative Director & Slack Support. "),C(),x(342,"li",117),ce(343,"i",118),D(344,"Pause or cancel anytime "),C()()()()(),x(345,"div",119)(346,"div",68)(347,"p")(348,"a",97),dt("click",function(){zn(s);const l=vo(468);return Vn(o.getStripPayemts("Enterprise",24995,l,"price_1QKFo9E1meeZaYUdXTwBkfqo"))}),x(349,"span",22),D(350," Get Started"),C(),x(351,"span",23),ce(352,"i",24),C()()()(),x(353,"p",120),D(354,"Or "),x(355,"a",121),D(356,"book a call"),C()()()()()()()()()(),x(357,"div",124)(358,"div",125)(359,"h2",64)(360,"span",65),D(361,"Your Subscription, Your Way"),C()(),x(362,"p",66),D(363," Got a busy month and need more credits? No problem. You can top-up anytime or upgrade your plan on the fly "),C()()()()()(),ce(364,"app-testimonial"),x(365,"section",126)(366,"div",1)(367,"div",2)(368,"div",127)(369,"div",2)(370,"div",128)(371,"div",129)(372,"h1",130),D(373," Frequently "),ce(374,"br"),D(375," Asked "),ce(376,"br"),D(377," Questions\u2026 "),ce(378,"br"),C()()(),x(379,"div",131)(380,"div",95)(381,"div",132)(382,"div",133)(383,"div",134)(384,"h2",135)(385,"button",136),D(386," Why not just hire a full-time designer? "),C()(),x(387,"div",137)(388,"div",138),D(389," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),C()()(),x(390,"div",134)(391,"h2",139)(392,"button",140),D(393," Is there a limit to my design requests? "),C()(),x(394,"div",141)(395,"div",138),D(396," Nope! Once you\u2019re subscribed, feel free to add as many design requests to your queue as you need\u2014they\u2019ll be delivered one at a time. "),C()()(),x(397,"div",134)(398,"h2",142)(399,"button",143),D(400," How fast can I expect my designs? "),C()(),x(401,"div",144)(402,"div",138),D(403," Most requests are turned around within 48 hours. Typical requests like banners, brochures, flyers, event themes, and social templates usually take about two days, though bigger projects may take a little longer. If your request is on the larger side, you can expect steady progress every 24 hours until it\u2019s complete. "),C()()(),x(404,"div",134)(405,"h2",145)(406,"button",146),D(407," Who\u2019s doing the design work? "),C()(),x(408,"div",147)(409,"div",138),D(410," Surprise! Pixtar is a tight-knit team of nine, and our founder is hands-on with every project. This means you\u2019ll work directly with Pixtar\u2019s founder. For specialized requests, like animations or custom illustrations, we collaborate with our trusted partner designers. "),C()()(),x(411,"div",134)(412,"h2",148)(413,"button",149),D(414," How does the pause feature work? "),C()(),x(415,"div",150)(416,"div",138),D(417," We get it\u2014sometimes you don\u2019t have a full month\u2019s worth of design needs. With the pause feature, you can stop your subscription anytime. Here\u2019s how it works: Billing runs on a 31-day cycle. Let\u2019s say you\u2019ve used the service for 21 days, then decide to pause. This leaves you with 10 days of service, which you can pick up anytime in the future. "),C()()(),x(418,"div",134)(419,"h2",151)(420,"button",152),D(421," What about larger projects? "),C()(),x(422,"div",153)(423,"div",138),D(424," No problem! Larger requests, like full website or app designs, are delivered in parts. We break them down on our end and deliver portions every 24\u201348 hours until everything\u2019s complete. "),C()()(),x(425,"div",134)(426,"h2",154)(427,"button",155),D(428," Which design tools do you use? "),C()(),x(429,"div",156)(430,"div",138),D(431," We work primarily with Adobe Illustrator, Photoshop, and XD to create your designs. "),C()()(),x(432,"div",134)(433,"h2",157)(434,"button",158),D(435," How do I send design requests? "),C()(),x(436,"div",159)(437,"div",138),D(438," We make it easy! You can request designs in Trello by adding a card, sharing Google Docs or wireframes, or even by sending a quick Loom video (perfect if you\u2019d rather talk through your ideas than write them out). If it can be shared or linked in Trello, it\u2019s fair game. "),C()()(),x(439,"div",134)(440,"h2",160)(441,"button",161),D(442," What if the design isn\u2019t quite right? "),C()(),x(443,"div",162)(444,"div",138),D(445," No problem! We\u2019ll work with you to revise the design until it\u2019s exactly what you\u2019re looking for. "),C()()(),x(446,"div",134)(447,"h2",163)(448,"button",164),D(449," Are there any types of design you don\u2019t cover? "),C()(),x(450,"div",165)(451,"div",138),D(452," Yes, there are a few: 3D modeling, animated graphics (like GIFs), document design (medical forms, for example), complex packaging, extensive print designs (such as magazines or books), and Adobe InDesign documents aren\u2019t included in our offerings. "),C()()(),x(453,"div",134)(454,"h2",166)(455,"button",167),D(456," What if I only need a single design? "),C()(),x(457,"div",168)(458,"div",138),D(459," That\u2019s totally fine! You can pause your subscription whenever you\u2019re done and resume when you have new design needs\u2014no wasted time. "),C()()(),x(460,"div",134)(461,"h2",169)(462,"button",170),D(463," Are refunds available if I\u2019m not satisfied with the service? "),C()(),x(464,"div",171)(465,"div",138),D(466," Due to the high-quality nature of the work, we don\u2019t offer refunds. "),C()()()()()()()()()()()(),st(467,nje,30,4,"ng-template",172,173,Fc),x(469,"div",174)(470,"div",175)(471,"div",176)(472,"div",177)(473,"h5",178),D(474,"Refer a friend & earn"),C(),x(475,"button",179),dt("click",function(){return o.closeModal()}),x(476,"span",180),D(477," \xd7 "),C()()(),x(478,"div",181)(479,"form",182,183),dt("ngSubmit",function(){zn(s);const l=vo(480);return Vn(o.onSubmit(l))}),x(481,"div",184)(482,"input",185),dt("ngModelChange",function(l){return o.formData.name=l}),C(),x(483,"label",186),D(484,"Name"),C()(),x(485,"div",184)(486,"input",187),dt("ngModelChange",function(l){return o.formData.email=l}),C(),x(487,"label",186),D(488,"Email"),C(),st(489,ije,2,0,"div",188),C(),x(490,"div",184)(491,"input",189),dt("ngModelChange",function(l){return o.formData.contact=l}),C(),x(492,"label",186),D(493,"Contact"),C()(),x(494,"div",184)(495,"input",190),dt("ngModelChange",function(l){return o.formData.rname=l}),C(),x(496,"label",186),D(497,"Referrer-Name"),C()(),x(498,"div",184)(499,"input",191),dt("ngModelChange",function(l){return o.formData.remail=l}),C(),x(500,"label",186),D(501,"Referrer-Email"),C(),st(502,rje,2,0,"div",188),C(),x(503,"div",184)(504,"input",192),dt("ngModelChange",function(l){return o.formData.rcontact=l}),C(),x(505,"label",186),D(506,"Referrer-Contact"),C()(),x(507,"div",193)(508,"div",194),ce(509,"input",195),C(),x(510,"div",196)(511,"button",197),dt("click",function(){return o.closeModal()}),D(512,"Cancel"),C()()()(),st(513,oje,2,1,"div",198),st(514,sje,2,1,"div",199),st(515,aje,2,0,"div",200),C()()()()}if(2&r){const s=vo(480);se(4),Ie("src","",o.baseUrl,"/img/three-d-objects/graphic.png",Ee),se(14),Ie("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ee),se(3),Ie("src","",o.baseUrl,"/img/home/whatsapp.svg",Ee),se(17),Qe("ngStyle",Ea(28,lje,o.sectionWidth+"%")),se(4),Ie("src","",o.baseUrl,"/videos/graphic-page-video.mp4",Ee),se(1),Ie("src","",o.baseUrl,"/videos/graphic-page-video.mp4",Ee),se(30),Qe("ngForOf",o.allprojects),se(7),Qe("options",o.recentoptions),se(1),Qe("ngForOf",o.allprojects),se(41),Ie("src","",o.baseUrl,"/img/home/art-icons/craft.svg",Ee),se(7),Ie("src","",o.baseUrl,"/img/home/art-icons/solution.svg",Ee),se(7),Ie("src","",o.baseUrl,"/img/home/art-icons/beyond.svg",Ee),se(54),aa(o.tabTitle),se(6),Ie("src","",o.baseUrl,"/img/services/shock.png",Ee),se(280),Qe("ngModel",o.formData.name),se(4),Qe("ngModel",o.formData.email),se(3),Qe("ngIf",!o.formData.email&&s.submitted),se(2),Qe("ngModel",o.formData.contact),se(4),Qe("ngModel",o.formData.rname),se(4),Qe("ngModel",o.formData.remail),se(3),Qe("ngIf",!o.formData.remail&&s.submitted),se(2),Qe("ngModel",o.formData.rcontact),se(5),Qe("disabled",o.isSubmitting),se(4),Qe("ngIf",o.successMessage),se(1),Qe("ngIf",o.errorMessage),se(1),Qe("ngIf",o.isLoading)}},dependencies:[ca,Da,ng,_d,fv,Mf,dv,hv,Df,pv,cg,Ef,dg,Lf,tu,Og],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-19rem;top:30%;width:500px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-6rem;width:400px;top:28%}}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;top:33%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:290px;top:30%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:404px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:0 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:40px 10px 50px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:116px;z-index:2}@media (max-width: 480px){.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:140px}}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.choosesection[_ngcontent-%COMP%]   .head-section[_ngcontent-%COMP%]{margin-bottom:80px}.choosesection[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{padding-top:80px}.subscription-section[_ngcontent-%COMP%]{background-color:transparent!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]{padding-bottom:90px!important}@media (max-width: 991px){.packages[_ngcontent-%COMP%]{padding-bottom:50px!important}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px;width:100%;height:auto}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 15px;border-radius:20px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 0}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #da9777;background-color:#da9777;color:#fff;border-radius:33px;position:relative;display:inline-block;padding:13px 16px;margin-bottom:20px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#000;border:1px solid #000}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]{justify-content:end;align-items:end;position:relative;top:-7px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:60px;height:60px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;width:100%;border-radius:50px;margin-bottom:0;height:100%;padding:20px 40px}@media (max-width: 1440px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 30px}}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 10px;border-radius:20px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:none}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]   .cstprng-table-cta[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:2}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:6px 5px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 5px}}@media (max-width: 330px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 3px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:4rem;bottom:10px}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:3.5rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:0}}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:42%!important}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90px;z-index:3}@media (max-width: 480px){.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75px}}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;color:#fff;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center;margin-top:-40px!important}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}.pulse[_ngcontent-%COMP%]{margin:100px;display:block;width:22px;height:22px;border-radius:50%;background:#cca92c;cursor:pointer;box-shadow:0 0 #5b5b5f;animation:_ngcontent-%COMP%_pulse 2s infinite}.pulse[_ngcontent-%COMP%]:hover{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #5b5b5f}70%{box-shadow:0 0 0 10px #cca92c00}to{box-shadow:0 0 #cca92c00}}']}),e})();const dje=["targetSection"],hje=["lastSection"];let uje=(()=>{const t=class{onScroll(i){const r=document.getElementById("section3"),o=document.getElementById("sixth");r?.getBoundingClientRect(),o?.getBoundingClientRect(),window}constructor(i,r,o,s,a,l,c,d,h,p,g,v){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=d,this.http=h,this.projectservice=p,this.modalService=g,this.activeModal=v,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:15e3,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.baseUrl=Ft_baseUrl+"/assets",this.imagepath=Ft_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){setTimeout(()=>{window.scroll(0,0)},500)}ngAfterViewInit(){new IntersectionObserver(o=>{o.forEach(s=>{s.isIntersecting&&setTimeout(()=>{$("#section3").addClass("sticky")},200)})},{threshold:.1}).observe(this.targetSection.nativeElement),new IntersectionObserver(o=>{o.forEach(s=>{s.isIntersecting&&setTimeout(()=>{$("#section3").removeClass("sticky")},200)})},{threshold:.1}).observe(this.lastSection.nativeElement)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Vs),De(ud),De(Mg),De(xd),De(hc),De(uc),De(kv),De(ug),De(fc),De(Pg),De(Cg),De(up))},t.\u0275cmp=Li({type:t,selectors:[["app-studio"]],viewQuery:function(r,o){if(1&r&&($h(dje,5),$h(hje,5)),2&r){let s;co(s=ho())&&(o.targetSection=s.first),co(s=ho())&&(o.lastSection=s.first)}},hostBindings:function(r,o){1&r&&dt("scroll",function(a){return o.onScroll(a)},0,uf)},decls:188,vars:9,consts:[[1,"cbanner"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90","textcolor3"],[1,"h1","size90","textcolor1"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"p3","semibold","textcolor1"],[1,"aboutbrand","mtrem5"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand","mrem55"],[1,"size53","weight300"],[1,"textcolor3"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"care-section"],[1,"care"],[1,"fontsize12"],[1,"size32","mb30","textcolor1"],["alt","",1,"mb30","w-100",3,"src"],[1,"col-md-4","col-sm-6"],[1,"box"],[1,"size18","textcolor1","semibold"],[1,"size18","textcolor1"],[1,"lufgasemibold"],[1,"deserve-section","mrem55"],[1,"deserve","text-center"],[1,"textcolor1","weight500","size53","mb30"],[1,"textcolor1","size18"],["id","section3",1,"things-section","bannerdrk","position-relative"],[1,"header","text-center"],[1,"text-white","weight500","size53","mb30"],["id","oneth",1,"things"],["targetSection",""],[1,"scroll-track"],[1,"track-item","pt-0"],[1,"number-wrapper"],["alt","",3,"src"],[1,"text-wrapper"],[1,"size32","text-white","mb-3"],[1,"text-white"],[1,"track-item"],["id","sixth","id","last-section",1,"track-item"],["lastSection",""],[1,"business","position-relative"],[1,"wrapper","position-relative"],[1,"imgbox"],["alt","",1,"img-fluid",3,"src"],[1,"box1"],[1,"textcolor1","mb-5","size32","lufgalight"],[1,"d-block"],[1,"textcolor1","size32","weight700"],[1,"textcolor1","mt-0","size18","weight700"],[1,"bottomtext","d-flex","justify-content-center","position-relative"],[1,"size53","textcolor1","mt-0"],[1,"action","position-relative","mbrem5","mtrem3"],[1,"position-absolute","start-50","translate-middle"],["href","#",1,"cstbtn","cstbtn128","ftr1"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),D(9,"When your vision needs "),C(),x(10,"h1",9),D(11,"a team by your side."),C()()()(),x(12,"div",10)(13,"div",11)(14,"p"),D(15,"If you\u2019re looking for a detail obsessed,"),C(),x(16,"p"),D(17,"marketing-savvy design team"),C(),x(18,"p"),D(19,"that elevate your brand and business\u2026"),C(),x(20,"p",12),D(21,"Then you\u2019re in the right place!"),C()()()()()()(),x(22,"section",13)(23,"div",1)(24,"div",2)(25,"div",14)(26,"div",15)(27,"h2",16)(28,"span",17),D(29,"At Pixtar, we believe "),C(),x(30,"span",18),D(31," design isn\u2019t just about "),x(32,"span",19),D(33," Aesthetics"),C(),D(34," \u2014it\u2019s about creating harmony, inspiring trust, and building connections."),C(),x(35,"span",17),D(36," We\u2019re a team of"),C(),x(37,"span",18),D(38," creators, thinkers, and dreamers, rooted in Dubai-UAE "),C(),x(39,"span",17),D(40," but designing for a global audience."),C()()()()()()(),x(41,"section",20)(42,"div",1)(43,"div",2)(44,"div",14)(45,"div",21)(46,"h6",22),D(47,"WHAT DRIVES OUR DESIGN"),C(),x(48,"p",23),D(49,"We Care About\u2026"),C(),ce(50,"img",24),C(),x(51,"div",2)(52,"div",25)(53,"div",26)(54,"h5",27),D(55,"You"),C(),x(56,"p",28),D(57,"We\u2019re here to make your life easier and to bring excitement to "),x(58,"span",29),D(59,"launching your brand or website."),C(),D(60," From the first design concept to a smooth launch, we handle every detail, so you can "),x(61,"span",29),D(62,"focus on what matters most."),C()()()(),x(63,"div",25)(64,"div",26)(65,"h5",27),D(66,"Your Audience"),C(),x(67,"p",28),D(68,"Our designs don\u2019t just look good "),x(69,"span",29),D(70,"\u2014they connect."),C(),D(71," We create engaging, easy-to-navigate experiences that leave a lasting impression,"),x(72,"span",29),D(73," making sure your audience feels right at home on every page."),C()()()(),x(74,"div",25)(75,"div",26)(76,"h5",27),D(77,"Your Business Goals"),C(),x(78,"p",28)(79,"span",29),D(80,"Great design solves problems,"),C(),D(81," from building brand loyalty to driving conversions. We\u2019re here to help you "),x(82,"span",29),D(83," grow, boost your impact, and reach more people "),C(),D(84,"through design that works as hard as you do."),C()()()()()()()(),x(85,"section",30)(86,"div",1)(87,"div",2)(88,"div",14)(89,"div",31)(90,"h2",32),D(91,"You Deserve The Best Team By Your Side. "),ce(92,"br"),D(93," So We Built One For You."),C(),x(94,"p",33),D(95,"Large Enough To Tackle Any Project. Small Enough To Keep It Personal."),C()()()()()(),x(96,"section",34)(97,"div",1)(98,"div",2)(99,"div",14)(100,"div",35)(101,"h2",36),D(102,"Six Things You Should Know "),ce(103,"br"),D(104,"About Pixtar"),C()(),x(105,"div",37,38)(107,"div",39)(108,"div",40)(109,"div",41),ce(110,"img",42),C(),x(111,"div",43)(112,"p",44),D(113,"We Looove What We Do"),C(),x(114,"p",45),D(115," We\u2019re not just designers; we\u2019re creators who live and breathe design. The kind of team that sparks with new ideas even during a weekend coffee run. Your project isn\u2019t just work\u2014it\u2019s what we love to do. "),C()()(),x(116,"div",46)(117,"div",41),ce(118,"img",42),C(),x(119,"div",43)(120,"p",44),D(121,"Conversion-Focused Design"),C(),x(122,"p",45),D(123,"Beautiful design that goes beyond aesthetics. We craft visuals that captivate, influence, and drive action, helping you connect with customers and achieve real results. "),C()()(),x(124,"div",46)(125,"div",41),ce(126,"img",42),C(),x(127,"div",43)(128,"p",44),D(129,"People First, Always"),C(),x(130,"p",45),D(131," Every project we take on starts with people. We believe that respect, care, and collaboration make great design possible. When we work together, creativity flourishes. "),C()()(),x(132,"div",46)(133,"div",41),ce(134,"img",42),C(),x(135,"div",43)(136,"p",44),D(137,"A Team Of Superpowers"),C(),x(138,"p",45),D(139,"Individually, we each have our own strengths. Together, we bring them all to the table\u2014design, strategy, and development\u2014to create powerful, custom solutions that stand out. "),C()()(),x(140,"div",46)(141,"div",41),ce(142,"img",42),C(),x(143,"div",43)(144,"p",44),D(145,"Details That Matter"),C(),x(146,"p",45),D(147,"Our commitment to detail means peace of mind for you. From concept to launch, we meticulously refine every aspect of your brand or website, ensuring everything is intentional and perfectly crafted. "),C()()(),x(148,"div",47,48)(150,"div",41),ce(151,"img",42),C(),x(152,"div",43)(153,"p",44),D(154,"Here For The Journey"),C(),x(155,"p",45),D(156," We\u2019re all about building designs that stand the test of time. Think of us as your long-term creative partner\u2014ready to grow with you, committed to your success, and always here to help bring your vision to life. "),C()()()()()()()()(),x(157,"section",49)(158,"div",1)(159,"div",2)(160,"div",14)(161,"div",50)(162,"div",51),ce(163,"img",52),C(),x(164,"div",53)(165,"p",54),D(166," \u201cIf you want a partner who gets you, knows your business, and is on "),x(167,"span",55),D(168," your side 100%\u2014look no further.\u201d"),C()(),x(169,"h2",56),D(170,"KBN "),C(),x(171,"h4",57),D(172,"CEO & Creative Director"),C()(),x(173,"div",58)(174,"h2",59),D(175,"We\u2019ll be your partner "),ce(176,"br"),D(177," in your journey"),C()()()()()()(),x(178,"div",60)(179,"div",61)(180,"p")(181,"a",62)(182,"span",63),D(183," Let\u2019s Begin"),C(),x(184,"span",64),ce(185,"i",65),C()()()()(),ce(186,"app-testimonial")(187,"app-faq-component")),2&r&&(se(4),Ie("src","",o.baseUrl,"/img/home/studio-image.png",Ee),se(46),Ie("src","",o.baseUrl,"/img/about-us/careimg.jpg",Ee),se(60),Ie("src","",o.baseUrl,"/img/about-us/zero1.png",Ee),se(8),Ie("src","",o.baseUrl,"/img/about-us/zero2.png",Ee),se(8),Ie("src","",o.baseUrl,"/img/about-us/zero3.png",Ee),se(8),Ie("src","",o.baseUrl,"/img/about-us/zero4.png",Ee),se(8),Ie("src","",o.baseUrl,"/img/about-us/zero5.png",Ee),se(9),Ie("src","",o.baseUrl,"/img/about-us/zero6.png",Ee),se(12),Ie("src","",o.baseUrl,"/img/about-us/kbn.png",Ee))},dependencies:[Rv,Og],styles:['@font-face{font-family:lufga-light;src:url(LufgaLight.d75803ba24fabf82.ttf) format("truetype")}@font-face{font-family:lufga-regular;src:url(LufgaRegular.2286c86967c2d7de.ttf) format("truetype")}@font-face{font-family:lufga-medium;src:url(LufgaMedium.20363385cf20657c.ttf) format("truetype")}@font-face{font-family:lufga-semibild;src:url(LufgaSemiBold.13c6156ab43a2d33.ttf) format("truetype")}@font-face{font-family:lufga-bold;src:url(LufgaBold.a4c85edd49fd93b8.ttf) format("truetype")}.lufgasemibold[_ngcontent-%COMP%]{font-family:lufga-semibild}.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1068px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:360px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .p3[_ngcontent-%COMP%]{margin-top:30px}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:5%!important;bottom:9rem!important}}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:1%!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-23%;top:35%;width:450px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-18%;top:30%}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;right:-8%;top:32%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-2%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-10%;width:230px;top:37%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.things-section[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1D1D1F 85%,#1D1D1F 100%);min-height:100vh;height:100vh;overflow:scroll;z-index:0}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]{min-height:75vh;height:75vh}}.things-section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:9997;padding-top:100px;padding-bottom:65px;background:linear-gradient(180deg,rgb(26,26,26) 85%,rgba(26,26,26,0) 100%)}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:30px}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]{max-width:780px;margin-left:auto;margin-right:auto}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:100px;padding-bottom:100px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgb(26,26,26) 20%,rgb(26,26,26) 80%,rgba(26,26,26,0) 100%)}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{padding-top:80px;padding-bottom:80px;display:block;text-align:center}}@media (max-width: 768px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{max-width:100%}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]{color:#6e6e73}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{position:relative;margin-left:-61px}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{margin-left:0}}.business[_ngcontent-%COMP%]{min-height:710px}@media (max-width: 1366px){.business[_ngcontent-%COMP%]{min-height:650px}}@media (max-width: 767px){.business[_ngcontent-%COMP%]{min-height:570px}}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{position:relative}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;z-index:0;width:65%;float:right;right:0}@media (max-width: 767px){.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bottomtext[_ngcontent-%COMP%]{margin-top:11rem}@media (max-width: 1440px){.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bottomtext[_ngcontent-%COMP%]{margin-top:7rem}}@media (max-width: 1366px){.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bottomtext[_ngcontent-%COMP%]{margin-top:5rem}}.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{position:relative;z-index:1;width:52%;padding-top:5rem;display:flex;flex-direction:column;justify-content:center}@media (max-width: 1199px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:4rem}}@media (max-width: 767px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:15rem;width:80%}}@media (max-width: 480px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:12rem;width:100%}}@media (max-width: 380px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:10rem}.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]   .d-block[_ngcontent-%COMP%]{display:inline!important}}div.action[_ngcontent-%COMP%]{padding-bottom:50px}div.action[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:88px}.bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-top:1px dashed #6e6e73;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center;color:#fff}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#fff}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff!important;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdbtm[_ngcontent-%COMP%]{border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-bottom:30px}.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){margin-bottom:20px}@media (max-width: 1366px){.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){margin-bottom:15px}}.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:15px 0 30px}.things-section.sticky[_ngcontent-%COMP%]{position:sticky!important;top:0;z-index:10}.mtrem3[_ngcontent-%COMP%]{margin-top:3rem}@media (max-width: 767px){.mtrem3[_ngcontent-%COMP%]{margin-top:1rem}}']}),e})(),bZ=(()=>{const t=class{constructor(i,r,o){this.payementservice=i,this.routes=r,this.route=o;let s=localStorage.getItem("stripe-payment-user");this.paramData=this.route.snapshot.queryParams.ispayament,s&&(this.paymentData=JSON.parse(s))}ngOnInit(){this.submitPayment()}submitPayment(){this.paymentData&&(this.paymentData.payment_gateway="Stripe",this.paymentData.payment_method="Card",this.paymentData.status="Success",this.payementservice.savePaymentSuccess(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",""),setTimeout(()=>{this.routes.navigate(["/"])},3e3))}))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Sg),De(cs),De(mc))},t.\u0275cmp=Li({type:t,selectors:[["app-payment-success"]],decls:17,vars:0,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),D(9,"Your Payment is Successfull "),C(),ce(10,"div",9),C(),x(11,"h1",10),D(12,"Your Payment is "),C(),x(13,"h1",11),D(14," Successfull"),C()()(),x(15,"p",12),D(16," We do it real "),C()()()()()())},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})(),pje=(()=>{const t=class{constructor(i,r,o){this.payementservice=i,this.routes=r,this.route=o;let s=localStorage.getItem("stripe-payment-user");this.paramData=this.route.snapshot.queryParams.ispayament,s&&(this.paymentData=JSON.parse(s))}ngOnInit(){this.submitPayment()}submitPayment(){this.paymentData&&(this.paymentData.payment_gateway="Stripe",this.paymentData.payment_method="Card",this.paymentData.status="Failed",this.payementservice.savePaymentSuccess(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",""),setTimeout(()=>{this.routes.navigate(["/"])},3e3))}))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Sg),De(cs),De(mc))},t.\u0275cmp=Li({type:t,selectors:[["app-payment-failed"]],decls:17,vars:0,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),D(9,"Your Payment is Failed "),C(),ce(10,"div",9),C(),x(11,"h1",10),D(12,"Your Payment is "),C(),x(13,"h1",11),D(14," Failed"),C()()(),x(15,"p",12),D(16," We do it real "),C()()()()()())},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})();var fje=m(5226),oN=m.n(fje);let sN=(()=>{const t=class{constructor(i,r,o,s){this.route=i,this.router=r,this.paymentservice=o,this.location=s,this.subscriber_id=this.route.snapshot.paramMap.get("subscriberID");var a=this.location.path();this.subscriber_id&&a.includes("cancel")?(this.type="cancel",oN().fire({title:"Are you sure?",text:"You want be Unsubscribe from Pixtar Service!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#878787",cancelButtonColor:"#d33",confirmButtonText:"Yes, Unsubscribe!"}).then(l=>{l.isConfirmed&&this.cancelSubscription()})):this.subscriber_id&&a.includes("pause")?(this.type="pause",oN().fire({title:"Are you sure?",text:"You want be Pause from Pixtar Service!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#878787",cancelButtonColor:"#d33",confirmButtonText:"Yes, Pause!"}).then(l=>{l.isConfirmed&&this.pauseSubscription()})):this.subscriber_id&&a.includes("resume")&&(this.type="resume",oN().fire({title:"Are you sure?",text:"You want be Resume Pixtar Service!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#878787",cancelButtonColor:"#d33",confirmButtonText:"Yes, Resume!"}).then(l=>{l.isConfirmed&&this.resumeSubscription()}))}ngOnInit(){}cancelSubscription(){if(this.subscriber_id){let i={};i.subscriptionId=this.subscriber_id,this.paymentservice.stripeSubscribeCancel(i).subscribe(r=>{200==r.body.code&&setTimeout(()=>{this.router.navigate(["/"])},3e3)})}}pauseSubscription(){if(this.subscriber_id){let i={};i.subscriptionId=this.subscriber_id,this.paymentservice.stripeSubscribePause(i).subscribe(r=>{200==r.body.code&&setTimeout(()=>{this.router.navigate(["/"])},3e3)})}}resumeSubscription(){if(this.subscriber_id){let i={};i.subscriptionId=this.subscriber_id,this.paymentservice.stripeSubscribeResume(i).subscribe(r=>{200==r.body.code&&setTimeout(()=>{this.router.navigate(["/"])},3e3)})}}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(mc),De(cs),De(Sg),De(_f))},t.\u0275cmp=Li({type:t,selectors:[["app-unsubscription"]],decls:2,vars:0,template:function(r,o){1&r&&(x(0,"p"),D(1,"unsubscription works!"),C())}}),e})();const mje=[{path:"",component:iT},{path:"home",component:iT},{path:"process",component:Lve},{path:"about",component:Pfe},{path:"services",component:r1e},{path:"branding",component:T1e},{path:"website",component:rye},{path:"ecommerce",component:$7e},{path:"graphics",component:cje},{path:"studio",component:uje},{path:"projects",component:Vve},{path:"contact",component:zU},{path:"contact/:id",component:zU},{path:"businesscard",component:Efe},{path:"businesscard/view/:id",component:Rfe},{path:"p/kbn",component:Ife},{path:"p/kbn2",component:kfe},{path:"p/js",component:Tfe},{path:"p/io",component:Afe},{path:"p/godly",component:Dfe},{path:"project-details/dnour",component:$fe},{path:"project-details/pakhis",component:Hve},{path:"project-details/beyou",component:Jve},{path:"project-details/autokoorosh",component:e1e},{path:"project-details/vendetta",component:t1e},{path:"project-details/spacex",component:n1e},{path:"payment-success",component:bZ},{path:"payment-success/:ispayament",component:bZ},{path:"payment-failed",component:pje},{path:"unsubscription/cancel/:subscriberID",component:sN},{path:"unsubscription/pause/:subscriberID",component:sN},{path:"unsubscription/resume/:subscriberID",component:sN},{path:"**",component:iT}];let gje=(()=>{const t=class{};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=zi({type:t}),t.\u0275inj=Bn({imports:[EU.forRoot(mje,{initialNavigation:"enabledBlocking"}),EU]}),e})();m(811);var vje=m(7123);function yje(e,t){1&e&&ce(0,"img",47),2&e&&Ie("src","",ht().baseUrl,"/img/logos/pixtar-main-logo.svg",Ee)}function bje(e,t){1&e&&ce(0,"img",47),2&e&&Ie("src","",ht().baseUrl,"/img/logos/pixtar-main-logo-white.svg",Ee)}function _je(e,t){1&e&&ce(0,"img",48),2&e&&Ie("src","",ht().baseUrl,"/img/logos/pixtar-black-logo.svg",Ee)}function xje(e,t){1&e&&ce(0,"img",48),2&e&&Ie("src","",ht().baseUrl,"/img/logos/pixtar_white.svg",Ee)}function wje(e,t){if(1&e){const n=kr();x(0,"img",49),dt("mouseenter",function(){return zn(n),Vn(ht().func())})("mouseleave",function(){return zn(n),Vn(ht().func2())}),C()}2&e&&Ie("src","",ht().baseUrl,"/img/home/home.png",Ee)}function Cje(e,t){if(1&e){const n=kr();x(0,"img",49),dt("mouseenter",function(){return zn(n),Vn(ht().func())})("mouseleave",function(){return zn(n),Vn(ht().func3())}),C()}2&e&&Ie("src","",ht().baseUrl,"/img/home/homewhite.png",Ee)}function Mje(e,t){1&e&&(x(0,"h3",50),D(1,"Close"),C())}function Pje(e,t){1&e&&(x(0,"h3",51),D(1,"Close"),C())}function Oje(e,t){1&e&&(x(0,"h3",52),D(1,"Menu"),C())}function Sje(e,t){1&e&&(x(0,"h3",53),D(1,"Menu"),C())}function Eje(e,t){if(1&e){const n=kr();x(0,"img",54),dt("click",function(){return zn(n),Vn(ht().selectLink("/"))}),C()}2&e&&Ie("src","",ht().baseUrl,"/img/logos/pixtar-black-logo.svg",Ee)}function Dje(e,t){if(1&e){const n=kr();x(0,"img",54),dt("click",function(){return zn(n),Vn(ht().selectLink("/"))}),C()}2&e&&Ie("src","",ht().baseUrl,"/img/logos/pixtar_white.svg",Ee)}function Aje(e,t){if(1&e){const n=kr();x(0,"img",55),dt("mouseenter",function(){return zn(n),Vn(ht().func4())})("mouseleave",function(){return zn(n),Vn(ht().func5())}),C()}2&e&&Ie("src","",ht().baseUrl,"/img/home/home.png",Ee)}function Tje(e,t){if(1&e){const n=kr();x(0,"img",55),dt("mouseenter",function(){return zn(n),Vn(ht().func4())})("mouseleave",function(){return zn(n),Vn(ht().func6())}),C()}2&e&&Ie("src","",ht().baseUrl,"/img/home/homewhite.png",Ee)}function Ije(e,t){if(1&e&&(x(0,"p",56)(1,"a",57),ce(2,"img",58),C(),x(3,"a",59),ce(4,"img",58),C(),x(5,"a",60),ce(6,"img",58),C(),x(7,"a",61),ce(8,"img",62),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/images/instagram.svg",Ee),se(2),Ie("src","",n.baseUrl,"/images/facebook.svg",Ee),se(2),Ie("src","",n.baseUrl,"/images/linkedin.svg",Ee),se(2),Ie("src","",n.baseUrl,"/img/home/whatsapp.svg",Ee)}}function kje(e,t){if(1&e&&(x(0,"p",56)(1,"a",57),ce(2,"img",58),C(),x(3,"a",59),ce(4,"img",58),C(),x(5,"a",60),ce(6,"img",58),C(),x(7,"a",61),ce(8,"img",63),C()()),2&e){const n=ht();se(2),Ie("src","",n.baseUrl,"/images/instagram-white.svg",Ee),se(2),Ie("src","",n.baseUrl,"/images/facebook-white.svg",Ee),se(2),Ie("src","",n.baseUrl,"/images/linkedin-white.svg",Ee),se(2),Ie("src","",n.baseUrl,"/img/home/whatsapp-white.svg",Ee)}}let Rje=(()=>{const t=class{constructor(i,r,o){this.location=i,this.element=r,this.route=o,this.isNavbar=!1,this.ifwhitebar=!1,this.ifblackbar=!0,this.isMenuActive=!1,this.ifbarcliked=!1,this.sidebarVisible=!1,this.imagepath=Ft_baseUrl+"/public/",this.baseUrl=Ft_baseUrl+"/assets"}ngOnInit(){this.ifblackbar=!1,Ii("#navMenus").on("click","li",function(){Ii(".menu-nav-item").removeClass("active"),Ii(this).addClass("active")}),this.isHomemenu()}sidebarOpen(){const i=this.toggleButton,r=document.getElementsByTagName("html")[0];setTimeout(function(){i.classList.add("toggled")},500),r.classList.add("nav-open"),this.sidebarVisible=!0}sidebarClose(){const i=document.getElementsByTagName("html")[0];this.sidebarVisible=!1,i.classList.remove("nav-open")}sidebarToggle(){!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose()}isHome(){var i=this.location.prepareExternalUrl(this.location.path());return"#"===i.charAt(0)&&(i=i.slice(1)),"/home"===i}isDocumentation(){var i=this.location.prepareExternalUrl(this.location.path());return"#"===i.charAt(0)&&(i=i.slice(1)),"/documentation"===i}selectLink(i){"process"==i&&(this.ifbarcliked=!1),Ii("#burger-toggle").prop("checked",!1),this.route.navigateByUrl(i),Ii(".showcls").removeClass("active"),Ii(".showcls2").removeClass("active")}showBlackbars(){var i=this.location.path();return"process"!=(i=i.split("/")[1])||this.ifbarcliked?(this.ifblackbar=!0,this.ifwhitebar=!1,Ii(".navbar").removeClass("noblack")):(this.ifblackbar=!1,this.ifwhitebar=!0,Ii(".navbar").addClass("noblack")),this.isHomemenu(),!0}onclicchange(){var i=this.location.path();i=i.split("/")[1],this.ifbarcliked="process"==i&&!this.ifbarcliked}func(){Ii(".home-icon").attr("src",this.baseUrl+"/img/home/homehover.png")}func2(){Ii(".home-icon").attr("src",this.baseUrl+"/img/home/home.png")}func3(){Ii(".home-icon").attr("src",this.baseUrl+"/img/home/homewhite.png")}func4(){Ii(".menuhome").attr("src",this.baseUrl+"/img/home/homehover.png")}func5(){Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")}func6(){Ii(".menuhome").attr("src",this.baseUrl+"/img/home/homewhite.png")}isHomemenu(){Ii("#home").removeClass("active"),Ii("#projects").removeClass("active"),Ii("#about").removeClass("active"),Ii("#process").removeClass("active"),Ii("#contact").removeClass("active"),Ii("#ecommerce").removeClass("active"),Ii("#graphics").removeClass("active"),Ii("#services").removeClass("active"),Ii("#studio").removeClass("active"),Ii("#website").removeClass("active");let i=this.baseUrl;var r=this.location.path();"home"==(r=r.split("/")[1])||"#"==r?(Ii("#home").addClass("active"),Ii(".menuhome").attr("src",i+"/img/home/homehover.png")):"projects"==r?(Ii("#projects").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"about"==r?(Ii("#about").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"process"==r?(Ii("#process").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/homewhite.png")):"ecommerce"==r?(Ii("#ecommerce").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"graphics"==r?(Ii("#graphics").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"services"==r?(Ii("#services").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"studio"==r?(Ii("#studio").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"website"==r?(Ii("#website").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"contact"==r&&(Ii("#contact").addClass("active"),Ii(".menuhome").attr("src",this.baseUrl+"/img/home/home.png"))}labelchange(){Ii(".showcls").toggleClass("active"),Ii(".showcls2").toggleClass("active")}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(_f),De(ao),De(cs))},t.\u0275cmp=Li({type:t,selectors:[["app-navbar"]],decls:98,vars:17,consts:[["color-on-scroll","500",1,"navbar","navbar-expand-lg","fixed-top","navbar-transparent"],[1,"container-fluid"],[1,"w-100"],[1,"col-lg-10","offset-lg-1"],[1,"menu-container",2,"width","100%"],[1,"d-flex","justify-content-between","menu-block"],[1,"brand"],["href","/"],["alt","","width","160","class","logo1",3,"src",4,"ngIf"],["alt","pixtar","width","40","class","logo2",3,"src",4,"ngIf"],[1,"menu-list"],["alt","homeicon","class","home-icon",3,"src","mouseenter","mouseleave",4,"ngIf"],["type","checkbox","id","burger-toggle"],["for","burger-toggle",1,"burger-menu",3,"click"],[1,"line"],[1,"labelmenu"],["class","cstmenu showcls",4,"ngIf"],["class","cstmenu text-white showcls",4,"ngIf"],["class","d-none d-sm-none d-md-none d-lg-block cstmenu showcls2",4,"ngIf"],["class","d-none d-sm-none d-md-none d-lg-block cstmenu text-white showcls2",4,"ngIf"],["id","menu",1,"menu"],["class","logo","alt","pixtar","width","40",3,"src","click",4,"ngIf"],[1,"menu-inner"],["id","navMenus",1,"menu-nav"],["id","home",1,"menu-nav-item"],[1,"menu-nav-link",3,"click"],["alt","homeicon","class","menuhome",3,"src","mouseenter","mouseleave",4,"ngIf"],["id","services",1,"menu-nav-item"],[1,"list1"],[1,"d-flex","sub-service","ps-0"],["id","branding",1,"menu-nav-item"],[1,"menu-nav-link","hover-underline-animation",3,"click"],["id","graphics",1,"menu-nav-item"],["id","website",1,"menu-nav-item"],["id","ecommerce",1,"menu-nav-item"],["id","studio",1,"menu-nav-item"],["id","projects",1,"menu-nav-item"],["id","process",1,"menu-nav-item"],["id","blog",1,"menu-nav-item"],["target","_blank","href","/blog",1,"menu-nav-link",3,"click"],["id","contact",1,"menu-nav-item"],[1,"menu-nav-link","lastanch",3,"click"],[1,"d-flex","flex-row"],["alt","","width","30",1,"arrowimg",3,"src"],[1,"gallery"],[1,"position-absolute","menu-left-content"],["class","mt-2",4,"ngIf"],["alt","","width","160",1,"logo1",3,"src"],["alt","pixtar","width","40",1,"logo2",3,"src"],["alt","homeicon",1,"home-icon",3,"src","mouseenter","mouseleave"],[1,"cstmenu","showcls"],[1,"cstmenu","text-white","showcls"],[1,"d-none","d-sm-none","d-md-none","d-lg-block","cstmenu","showcls2"],[1,"d-none","d-sm-none","d-md-none","d-lg-block","cstmenu","text-white","showcls2"],["alt","pixtar","width","40",1,"logo",3,"src","click"],["alt","homeicon",1,"menuhome",3,"src","mouseenter","mouseleave"],[1,"mt-2"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,"me-2"],["alt","","width","30",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,"me-2"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,"me-2"],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","30",3,"src"],["alt","whatsapp",3,"src"]],template:function(r,o){1&r&&(x(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),st(8,yje,1,1,"img",8),st(9,bje,1,1,"img",8),st(10,_je,1,1,"img",9),st(11,xje,1,1,"img",9),C()(),x(12,"div",10)(13,"a",7),st(14,wje,1,1,"img",11),st(15,Cje,1,1,"img",11),C(),ce(16,"input",12),x(17,"label",13),dt("click",function(){return o.labelchange()}),ce(18,"div",14)(19,"div",14)(20,"div",14),C(),x(21,"div",15),st(22,Mje,2,0,"h3",16),st(23,Pje,2,0,"h3",17),st(24,Oje,2,0,"h3",18),st(25,Sje,2,0,"h3",19),C(),x(26,"div",20),st(27,Eje,1,1,"img",21),st(28,Dje,1,1,"img",21),x(29,"div",22)(30,"ul",23)(31,"li",24)(32,"a",25),dt("click",function(){return o.selectLink("/")}),x(33,"span")(34,"div"),st(35,Aje,1,1,"img",26),st(36,Tje,1,1,"img",26),C()()()(),x(37,"li",27)(38,"span",28)(39,"a",25),dt("click",function(){return o.selectLink("services")}),x(40,"span")(41,"div"),D(42,"Services"),C()()()(),x(43,"ul",29)(44,"li",30)(45,"a",31),dt("click",function(){return o.selectLink("branding")}),x(46,"span")(47,"div"),D(48,"Branding"),C()()()(),x(49,"li",32)(50,"a",31),dt("click",function(){return o.selectLink("graphics")}),x(51,"span")(52,"div"),D(53,"Graphics"),C()()()(),x(54,"li",33)(55,"a",31),dt("click",function(){return o.selectLink("website")}),x(56,"span")(57,"div"),D(58,"Website"),C()()()(),x(59,"li",34)(60,"a",31),dt("click",function(){return o.selectLink("ecommerce")}),x(61,"span")(62,"div"),D(63,"Ecommerce"),C()()()()()(),x(64,"li",35)(65,"a",25),dt("click",function(){return o.selectLink("studio")}),x(66,"span")(67,"div"),D(68,"Studio"),C()()()(),x(69,"li",36)(70,"a",25),dt("click",function(){return o.selectLink("projects")}),x(71,"span")(72,"div"),D(73,"Projects"),C()()()(),x(74,"li",37)(75,"a",25),dt("click",function(){return o.selectLink("process")}),x(76,"span")(77,"div"),D(78,"Process"),C()()()(),x(79,"li",38)(80,"a",39),dt("click",function(){return o.selectLink("blog")}),x(81,"span")(82,"div"),D(83,"Blogs"),C()()()(),x(84,"li",40)(85,"a",41),dt("click",function(){return o.selectLink("contact")}),x(86,"span")(87,"div",42),D(88,"Contact "),ce(89,"img",43),C()()()()(),x(90,"div",44)(91,"div",45)(92,"p"),D(93,"Creative agency based in Dubai, "),C(),x(94,"p"),D(95,"United Arab Emirates"),C(),st(96,Ije,9,4,"p",46),st(97,kje,9,4,"p",46),C()()()()()()()()()()()),2&r&&(se(8),Qe("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifwhitebar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifwhitebar),se(3),Qe("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifwhitebar),se(7),Qe("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifwhitebar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifwhitebar),se(2),Qe("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifwhitebar),se(7),Qe("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifwhitebar),se(53),Ie("src","",o.baseUrl,"/img/home/contactarrow.svg",Ee),se(7),Qe("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),Qe("ngIf",o.showBlackbars()&&o.ifwhitebar))},dependencies:[Da,JA],styles:['.navbar[_ngcontent-%COMP%]{background-color:#fff!important;box-shadow:none}.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:20px 0;align-items:center}@media (max-width: 1366px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0}}@media (max-width: 575px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0 10px 15px}}@media (max-width: 380px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0}}.navbar[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]{margin-top:0;display:none!important}.navbar[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]   .ptext[_ngcontent-%COMP%]{position:relative;top:5px}.navbar[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{margin-top:0;display:block!important;margin-left:1px}@media (max-width: 575px){.navbar[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{width:35px}}.navbar[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.navbar[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;margin-top:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .4s ease;opacity:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:500;cursor:pointer;font-size:1.75rem}@media (max-width: 1366px){.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.8rem}}@media (max-width: 380px){.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.6rem}}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:visited   i[_ngcontent-%COMP%]{color:#de9b7a;opacity:1;transform:rotate(60deg)}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:visited   a[_ngcontent-%COMP%]{color:#de9b7a}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.menu-nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#de9b7a}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.menu-nav-item.active[_ngcontent-%COMP%]   .lastanch[_ngcontent-%COMP%]{color:#000!important}.navbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif!important;font-weight:700;color:#000}.noblack.navbar-transparent[_ngcontent-%COMP%]{background-color:transparent!important}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{background-color:#000;background-image:url(pixtar-splitlogo-black.8d5f4727f3a5141b.svg)}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#de9b7a}.noblack[_ngcontent-%COMP%]   .sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.noblack[_ngcontent-%COMP%]   .sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#de9b7a}.navbar.navbar-transparent[_ngcontent-%COMP%]{border-bottom:none;box-shadow:none;padding-top:0}.navbar.navbar-transparent[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]{display:block!important}.navbar.navbar-transparent[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{display:none!important}p[_ngcontent-%COMP%]{margin:0}.cstmenu[_ngcontent-%COMP%]{font-weight:600}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(1)   img[_ngcontent-%COMP%]{transition-delay:.18s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(2)   img[_ngcontent-%COMP%]{transition-delay:.26s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(3)   img[_ngcontent-%COMP%]{transition-delay:.34s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(4)   img[_ngcontent-%COMP%]{transition-delay:.42s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{transform:translate(0)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(calc(var(--burger-menu-radius) / 5)) rotate(45deg)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){transform:scaleX(0)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(calc(var(--burger-menu-radius) / -5)) rotate(-45deg)}#burger-toggle[_ngcontent-%COMP%]{position:absolute;appearance:none;opacity:0;display:none}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]{opacity:1;visibility:visible}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], #burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], #burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transform:translateY(0);transition:1.2s .1s cubic-bezier(.35,0,.07,1)}.burger-menu[_ngcontent-%COMP%]{--burger-menu-radius: 4em;position:relative;top:0;right:0;z-index:100;display:block;width:var(--burger-menu-radius);height:var(--burger-menu-radius);outline:none;cursor:pointer;width:55px}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;left:25%;width:50%;height:2px;background:#000;border-radius:10px;overflow:hidden;transition:.5s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){top:30%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){top:50%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){top:70%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:var(--primary-color-darker);transform:translate(-100%);transition:.25s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2):after{transition-delay:.1s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3):after{transition-delay:.2s}@media (max-width: 380px){.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{left:45%}}.burger-menu[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]:after{transform:translate(0)}.noblack[_ngcontent-%COMP%]   .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background:#fff}.menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;display:flex;justify-content:flex-start;align-items:center;background-color:#fff;opacity:0;overflow-x:hidden;visibility:hidden;transition:.3s;padding:0 9vw;min-height:100vh;height:100%;background-image:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 107%;background-size:23%}@media (max-width: 767px){.menu[_ngcontent-%COMP%]{background-size:60%}}.menu-nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0;padding:0;text-align:center;list-style-type:none}@media screen and (max-width: 750px){.menu-nav[_ngcontent-%COMP%]{flex-direction:column}}.menu-nav-item[_ngcontent-%COMP%]{flex:1;margin:15px 0}@media (max-width: 1366px){.menu-nav-item[_ngcontent-%COMP%]{margin:15px 0;line-height:normal}}@media (max-width: 380px){.menu-nav-item[_ngcontent-%COMP%]{margin:10px 0}}.menu-nav-link[_ngcontent-%COMP%]{position:relative;display:inline-flex;font-size:2rem;color:#fff;text-decoration:none}.menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden}.menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform:translateY(102%)}.menu-nav-link[_ngcontent-%COMP%]:after{position:absolute;content:"";top:100%;left:0;width:100%;height:3px;background:var(--primary-color);transform:scaleX(0);transform-origin:right;transition:transform .5s}.menu-nav-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:left}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{margin-top:60px;text-align:center}.menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;color:#fff;overflow:hidden}.menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;letter-spacing:2px;text-transform:uppercase;transform:translateY(102%)}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{margin-top:36px;display:flex;flex-wrap:wrap}@media screen and (max-width: 750px){.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{justify-content:center}}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]{width:15vw;margin:0 12px;overflow:hidden}@media screen and (max-width: 750px){.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]{width:40vw;margin:0 12px 12px 0}}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;transition:.6s}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]:before{position:absolute;content:attr(data-label);top:0;left:0;z-index:1;display:flex;justify-content:center;align-items:center;width:100%;height:100%;color:#fff;background:rgba(0,0,0,.6);opacity:0;transition:.4s}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.2)}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]:before{opacity:1}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;transform:translateY(102%)}.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;position:fixed;top:1.3vw}@media (max-width: 1440px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:2vw}}@media (max-width: 1366px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:1vw;left:9.5vw}}@media (max-width: 1024px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:1.5vw}}@media (max-width: 991px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{left:2vw;top:1.5vw}}@media (max-width: 600px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:4vw;left:3vw}}@media (max-width: 575px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:4vw;left:8vw;width:35px}}@media (max-width: 380px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:5vw;left:4.8vw}}.menu[_ngcontent-%COMP%]   .menu-inner[_ngcontent-%COMP%]{display:flex;width:50%;justify-content:center;align-items:center}@media (max-width: 600px){.menu[_ngcontent-%COMP%]   .menu-inner[_ngcontent-%COMP%]{width:50%}}.lastanch[_ngcontent-%COMP%]{font-weight:700!important;color:#de9b7a!important}.lastanch[_ngcontent-%COMP%]:hover{color:#000!important}.lastanch[_ngcontent-%COMP%]:focus{color:#000!important}.lastanch[_ngcontent-%COMP%]   .arrowimg[_ngcontent-%COMP%]{position:relative;top:-6px;margin-left:10px}.noblack[_ngcontent-%COMP%]   .lastanch[_ngcontent-%COMP%]:hover{color:#fff!important}.menu-left-content[_ngcontent-%COMP%]{left:5%;bottom:3%;text-align:left}.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal;font-size:18px}@media (max-width: 1199px){.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.menu-left-content[_ngcontent-%COMP%]   .text-color[_ngcontent-%COMP%]{color:#de9b7a}.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){font-weight:600}.home-icon[_ngcontent-%COMP%]{height:23px;position:relative;right:1rem}@media (max-width: 575px){.home-icon[_ngcontent-%COMP%]{right:.5rem;height:20px}}.menuhome[_ngcontent-%COMP%]{height:40px}@media (max-width: 575px){.menuhome[_ngcontent-%COMP%]{height:30px}}.showcls[_ngcontent-%COMP%]{display:none}.showcls.active[_ngcontent-%COMP%]{position:relative;z-index:1;display:block;animation:fadeIn 1s}@media (max-width: 991px){.showcls.active[_ngcontent-%COMP%]{display:none}}.showcls2[_ngcontent-%COMP%]{display:block;animation:fadeIn 1s}.showcls2.active[_ngcontent-%COMP%]{display:none!important}.labelmenu[_ngcontent-%COMP%]{display:block;position:relative;width:76.19px}.labelmenu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:absolute;top:-1rem}@media (max-width: 991px){.labelmenu[_ngcontent-%COMP%]{display:none}}.sub-service[_ngcontent-%COMP%]{position:absolute;margin-top:2px;margin-left:15px}@media (max-width: 380px){.sub-service[_ngcontent-%COMP%]{margin-top:-1px}}.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0}.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px;font-size:16px;color:#000}@media (max-width: 480px){.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 380px){.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .sub-service[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a}.sub-service[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:88%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#de9b7a;transform-origin:bottom right;transition:transform .25s ease-out;background-image:none!important}.sub-service[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}']}),e})(),Nje=(()=>{const t=class{constructor(i){this.location=i,this.test=new Date,this.isfooterBlack=!1,this.imagepath=Ft_baseUrl+"/public/",this.baseUrl=Ft_baseUrl+"/assets"}ngOnInit(){}removeFooter(){this.isfooterBlack=!1;var i=this.location.path();return("projects"==(i=i.split("/")[1])||"about"==i)&&(this.isfooterBlack=!0,!0)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(_f))},t.\u0275cmp=Li({type:t,selectors:[["app-footer"]],decls:51,vars:5,consts:[[1,"footer"],[1,"container"],[1,"row"],[1,"col-md-12","col-sm-11","col-11","mx-auto"],[1,"desb","pb-0"],[1,"text-center"],[1,"footer-nav","desb"],[1,"position-absolute","start-50","translate-middle"],["routerLink","/contact",1,"cstbtn","cstbtn128","ftr1"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"d-flex","justify-content-between","align-items-center","footer-block"],[1,"d-flex1"],["alt","","width","160",1,"logo1",3,"src"],[1,"d-flex2"],[1,"mb-0"],["routerLink","/services"],["routerLink","/studio"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/contact",1,"cstbtn","cstbtn128","ftr2"],["aria-hidden","true",1,"fa","fa-chevron-right","opacity-0"],[1,"credits","ml-auto"],[1,"copyright"]],template:function(r,o){1&r&&(x(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),D(6,"READY TO TRANSFORM YOUR BRAND? "),ce(7,"br"),D(8," GET IN TOUCH WITH US TODAY."),C()(),x(9,"nav",6)(10,"div",7)(11,"p")(12,"a",8)(13,"span",9),D(14," Let\u2019s Talk"),C(),x(15,"span",10),ce(16,"i",11),C()()()(),x(17,"div",12)(18,"div",13),ce(19,"img",14),x(20,"p"),D(21,"Pixtar Branding Services LLC."),C(),x(22,"p"),D(23,"Dubai United Arab Emirates"),C(),x(24,"p"),D(25,"+971527930781"),C()(),x(26,"div",15)(27,"ul",16)(28,"li")(29,"a",17),D(30,"Services"),C()(),x(31,"li")(32,"a",18),D(33,"Studio"),C()(),x(34,"li")(35,"a",19),D(36,"Work"),C()(),x(37,"li")(38,"a",20),D(39,"Contact"),C()(),x(40,"li")(41,"p")(42,"a",21)(43,"span",9),D(44," Ask for a Quote"),C(),x(45,"span",10),ce(46,"i",22),C()()()()()()()()(),x(47,"div",23)(48,"span",24),D(49),iE(50,"date"),C()()()()()),2&r&&(se(19),Ie("src","",o.baseUrl,"/img/logos/pixtar-main-logo.svg",Ee),se(30),Do(" \xa9 ",function oB(e,t,n,i){const r=e+to,o=Ht(),s=no(o,r);return Zy(o,r)?tB(o,Oo(),t,s.transform,n,i,s):s.transform(n,i)}(50,2,o.test,"yyyy"),", All Rights Reserved Pixtar "))},dependencies:[_d,I6],styles:[".footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none}.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px;height:38px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:80px 0}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:30px 0}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:32px}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:150px}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:130px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:80px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]{padding-top:20px}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]{padding-top:10px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:barcelony,sans-serif;font-size:78px;color:#000;line-height:1}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 1280px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:90px;text-transform:uppercase;font-weight:700;line-height:1}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 1280px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]{padding-top:50px}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:14px;line-height:normal;margin-bottom:0;position:relative;left:54px}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]{text-align:center}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{left:0}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;align-items:center}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}}@media (max-width: 320px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 3px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#7a7a7a;font-size:14px;font-weight:600}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#dd9a7a}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#dd9a7a}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]{margin-top:15px;display:flex;align-items:center}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]{flex-direction:column;justify-content:center!important;align-items:center!important}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{display:block;margin:0}}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;text-decoration:none;font-weight:600}.footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-nav[_ngcontent-%COMP%]{line-height:normal}.footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{margin:15px 0}.footerBlk[_ngcontent-%COMP%]{background:#000}.footerBlk[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.footerBlk[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important;font-size:18px}.footerBlk[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#dd9a7a!important}.whatsapp-icon[_ngcontent-%COMP%]{position:fixed;width:34px;text-align:center;text-decoration:none;bottom:4%;right:2%;z-index:9;cursor:pointer}@media (max-width: 1440px){.whatsapp-icon[_ngcontent-%COMP%]{bottom:3%}}@media (max-width: 480px){.whatsapp-icon[_ngcontent-%COMP%]{bottom:2%;right:4%;width:28px}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d1d1f}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:52%!important}}@media (max-width: 1024px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:53%!important}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:54%!important}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{margin:.5rem auto}}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:59%!important}}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:end;align-items:center;text-decoration:none!important}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:35px;width:35px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:25px;width:25px}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:115px;position:relative;right:4px;font-size:14px}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:107px}}.cstbtn.ftr1[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:77px}"]}),e})();function Lje(e,t){1&e&&ce(0,"app-navbar")}function Fje(e,t){1&e&&ce(0,"app-footer")}let Bje=(()=>{const t=class{constructor(i,r,o){this.renderer=i,this.location=r,this.metaTagService=o}ngOnInit(){vje.init(),this.metaTagService.addTags([{name:"keywords",content:"pixtar.ae, pixtar"},{name:"robots",content:"index, follow"},{name:"author",content:"Ipcs"},{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},{name:"date",content:"2022-10-1",scheme:"YYYY-MM-DD"},{charset:"UTF-8"}]),window.scroll({top:0,left:0,behavior:"smooth"})}removeFooter(){var i=this.location.prepareExternalUrl(this.location.path());return!("/signup"===(i=i.slice(1))||"/nucleoicons"===i||i.includes("contact")||"p/kbn"===i||"p/kbn2"===i||"p/js"===i||"p/io"===i||"p/godly"===i)}removeHeader(){var i=this.location.prepareExternalUrl(this.location.path());return"p/kbn"!==(i=i.slice(1))&&"p/kbn2"!==i&&"p/js"!==i&&"p/io"!==i&&"p/godly"!==i||($("#botpenguin-launcher-12").hasClass("botpenguin-right")&&$(".BotPenguin-chat").addClass("d-none"),!1)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(De(Vs),De(_f),De(hc))},t.\u0275cmp=Li({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"]],template:function(r,o){1&r&&(st(0,Lje,1,0,"app-navbar",0),ce(1,"router-outlet"),st(2,Fje,1,0,"app-footer",0)),2&r&&(Qe("ngIf",o.removeHeader()),se(2),Qe("ngIf",o.removeFooter()))},dependencies:[Da,mA,Rje,Nje]}),e})(),zje=(()=>{const t=class{};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=zi({type:t,bootstrap:[Bje]}),t.\u0275inj=Bn({providers:[up],imports:[oz.withServerTransition({appId:"serverApp"}),gje,_he,Jce,t9,Kde,mfe,Cfe.forRoot(),Ave]}),e})();function _Z(){Wae().bootstrapModule(zje).catch(e=>console.error(e))}"complete"===document.readyState?_Z():document.addEventListener("DOMContentLoaded",_Z)},7123:function(u){u.exports=function(f){function m(w){if(_[w])return _[w].exports;var E=_[w]={exports:{},id:w,loaded:!1};return f[w].call(E.exports,E,E.exports,m),E.loaded=!0,E.exports}var _={};return m.m=f,m.c=_,m.p="dist/",m(0)}([function(f,m,_){"use strict";function w(ct){return ct&&ct.__esModule?ct:{default:ct}}var E=Object.assign||function(ct){for(var Mt=1;Mt<arguments.length;Mt++){var qt=arguments[Mt];for(var an in qt)Object.prototype.hasOwnProperty.call(qt,an)&&(ct[an]=qt[an])}return ct},F=(w(_(1)),_(6)),U=w(F),T=w(_(7)),R=w(_(8)),L=w(_(9)),k=w(_(10)),oe=w(_(11)),we=w(_(14)),Re=[],Ze=!1,Ge={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},Ke=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Ze=!0),Ze)return Re=(0,oe.default)(Re,Ge),(0,k.default)(Re,Ge.once),Re},yt=function(){Re=(0,we.default)(),Ke()};f.exports={init:function(ct){Ge=E(Ge,ct),Re=(0,we.default)();var Mt=document.all&&!window.atob;return function(ct){return!0===ct||"mobile"===ct&&L.default.mobile()||"phone"===ct&&L.default.phone()||"tablet"===ct&&L.default.tablet()||"function"==typeof ct&&!0===ct()}(Ge.disable)||Mt?void Re.forEach(function(ct,Mt){ct.node.removeAttribute("data-aos"),ct.node.removeAttribute("data-aos-easing"),ct.node.removeAttribute("data-aos-duration"),ct.node.removeAttribute("data-aos-delay")}):(Ge.disableMutationObserver||R.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Ge.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Ge.easing),document.querySelector("body").setAttribute("data-aos-duration",Ge.duration),document.querySelector("body").setAttribute("data-aos-delay",Ge.delay),"DOMContentLoaded"===Ge.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?Ke(!0):"load"===Ge.startEvent?window.addEventListener(Ge.startEvent,function(){Ke(!0)}):document.addEventListener(Ge.startEvent,function(){Ke(!0)}),window.addEventListener("resize",(0,T.default)(Ke,Ge.debounceDelay,!0)),window.addEventListener("orientationchange",(0,T.default)(Ke,Ge.debounceDelay,!0)),window.addEventListener("scroll",(0,U.default)(function(){(0,k.default)(Re,Ge.once)},Ge.throttleDelay)),Ge.disableMutationObserver||R.default.ready("[data-aos]",yt),Re)},refresh:Ke,refreshHard:yt}},function(f,m){},,,,,function(f,m){(function(_){"use strict";function w(Te,pt,ct){function Mt(Zt){var Vi=un,hi=mn;return un=mn=void 0,Dt=Zt,Rn=Te.apply(hi,Vi)}function vt(Zt){var Vi=Zt-$n;return void 0===$n||Vi>=pt||Vi<0||Bn&&Zt-Dt>=Wt}function ze(){var Zt=j();return vt(Zt)?mt(Zt):void(Nn=setTimeout(ze,function an(Zt){var lr=pt-(Zt-$n);return Bn?yt(lr,Wt-(Zt-Dt)):lr}(Zt)))}function mt(Zt){return Nn=void 0,ri&&un?Mt(Zt):(un=mn=void 0,Rn)}function Mn(){var Zt=j(),Vi=vt(Zt);if(un=arguments,mn=this,$n=Zt,Vi){if(void 0===Nn)return function qt(Zt){return Dt=Zt,Nn=setTimeout(ze,pt),Mr?Mt(Zt):Rn}($n);if(Bn)return Nn=setTimeout(ze,pt),Mt($n)}return void 0===Nn&&(Nn=setTimeout(ze,pt)),Rn}var un,mn,Wt,Rn,Nn,$n,Dt=0,Mr=!1,Bn=!1,ri=!0;if("function"!=typeof Te)throw new TypeError(B);return pt=X(pt)||0,G(ct)&&(Mr=!!ct.leading,Wt=(Bn="maxWait"in ct)?Ke(X(ct.maxWait)||0,pt):Wt,ri="trailing"in ct?!!ct.trailing:ri),Mn.cancel=function Jt(){void 0!==Nn&&clearTimeout(Nn),Dt=0,un=$n=mn=Nn=void 0},Mn.flush=function Dn(){return void 0===Nn?Rn:mt(j())},Mn}function G(Te){var pt=typeof Te>"u"?"undefined":T(Te);return!!Te&&("object"==pt||"function"==pt)}function U(Te){return"symbol"==(typeof Te>"u"?"undefined":T(Te))||function F(Te){return!!Te&&"object"==(typeof Te>"u"?"undefined":T(Te))}(Te)&&Ge.call(Te)==N}function X(Te){if("number"==typeof Te)return Te;if(U(Te))return R;if(G(Te)){var pt="function"==typeof Te.valueOf?Te.valueOf():Te;Te=G(pt)?pt+"":pt}if("string"!=typeof Te)return 0===Te?Te:+Te;Te=Te.replace(L,"");var ct=k.test(Te);return ct||K.test(Te)?oe(Te.slice(2),ct?2:8):W.test(Te)?R:+Te}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Te){return typeof Te}:function(Te){return Te&&"function"==typeof Symbol&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te},B="Expected a function",R=NaN,N="[object Symbol]",L=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,K=/^0o[0-7]+$/i,oe=parseInt,le="object"==(typeof _>"u"?"undefined":T(_))&&_&&_.Object===Object&&_,we="object"==(typeof self>"u"?"undefined":T(self))&&self&&self.Object===Object&&self,Re=le||we||Function("return this")(),Ge=Object.prototype.toString,Ke=Math.max,yt=Math.min,j=function(){return Re.Date.now()};f.exports=function E(Te,pt,ct){var Mt=!0,qt=!0;if("function"!=typeof Te)throw new TypeError(B);return G(ct)&&(Mt="leading"in ct?!!ct.leading:Mt,qt="trailing"in ct?!!ct.trailing:qt),w(Te,pt,{leading:Mt,maxWait:pt,trailing:qt})}}).call(m,function(){return this}())},function(f,m){(function(_){"use strict";function E(j){var Te=typeof j>"u"?"undefined":X(j);return!!j&&("object"==Te||"function"==Te)}function F(j){return"symbol"==(typeof j>"u"?"undefined":X(j))||function G(j){return!!j&&"object"==(typeof j>"u"?"undefined":X(j))}(j)&&Ze.call(j)==R}function U(j){if("number"==typeof j)return j;if(F(j))return B;if(E(j)){var Te="function"==typeof j.valueOf?j.valueOf():j;j=E(Te)?Te+"":Te}if("string"!=typeof j)return 0===j?j:+j;j=j.replace(N,"");var pt=W.test(j);return pt||k.test(j)?K(j.slice(2),pt?2:8):L.test(j)?B:+j}var X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},T="Expected a function",B=NaN,R="[object Symbol]",N=/^\s+|\s+$/g,L=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,k=/^0o[0-7]+$/i,K=parseInt,oe="object"==(typeof _>"u"?"undefined":X(_))&&_&&_.Object===Object&&_,le="object"==(typeof self>"u"?"undefined":X(self))&&self&&self.Object===Object&&self,we=oe||le||Function("return this")(),Ze=Object.prototype.toString,Ge=Math.max,Ke=Math.min,yt=function(){return we.Date.now()};f.exports=function w(j,Te,pt){function ct(ri){var Zt=Mn,Vi=un;return Mn=un=void 0,$n=ri,Wt=j.apply(Vi,Zt)}function an(ri){var Zt=ri-Nn;return void 0===Nn||Zt>=Te||Zt<0||Mr&&ri-$n>=mn}function vt(){var ri=yt();return an(ri)?ze(ri):void(Rn=setTimeout(vt,function qt(ri){var hi=Te-(ri-Nn);return Mr?Ke(hi,mn-(ri-$n)):hi}(ri)))}function ze(ri){return Rn=void 0,Bn&&Mn?ct(ri):(Mn=un=void 0,Wt)}function Dn(){var ri=yt(),Zt=an(ri);if(Mn=arguments,un=this,Nn=ri,Zt){if(void 0===Rn)return function Mt(ri){return $n=ri,Rn=setTimeout(vt,Te),Dt?ct(ri):Wt}(Nn);if(Mr)return Rn=setTimeout(vt,Te),ct(Nn)}return void 0===Rn&&(Rn=setTimeout(vt,Te)),Wt}var Mn,un,mn,Wt,Rn,Nn,$n=0,Dt=!1,Mr=!1,Bn=!0;if("function"!=typeof j)throw new TypeError(T);return Te=U(Te)||0,E(pt)&&(Dt=!!pt.leading,mn=(Mr="maxWait"in pt)?Ge(U(pt.maxWait)||0,Te):mn,Bn="trailing"in pt?!!pt.trailing:Bn),Dn.cancel=function mt(){void 0!==Rn&&clearTimeout(Rn),$n=0,Mn=Nn=un=Rn=void 0},Dn.flush=function Jt(){return void 0===Rn?Wt:ze(yt())},Dn}}).call(m,function(){return this}())},function(f,m){"use strict";function _(X){var T=void 0,B=void 0;for(T=0;T<X.length;T+=1)if((B=X[T]).dataset&&B.dataset.aos||B.children&&_(B.children))return!0;return!1}function w(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function F(X){X&&X.forEach(function(T){var B=Array.prototype.slice.call(T.addedNodes),R=Array.prototype.slice.call(T.removedNodes);if(_(B.concat(R)))return U()})}Object.defineProperty(m,"__esModule",{value:!0});var U=function(){};m.default={isSupported:function E(){return!!w()},ready:function G(X,T){var B=window.document,N=new(w())(F);U=T,N.observe(B.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(f,m){"use strict";function w(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(m,"__esModule",{value:!0});var E=function(){function B(R,N){for(var L=0;L<N.length;L++){var W=N[L];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(R,W.key,W)}}return function(R,N,L){return N&&B(R.prototype,N),L&&B(R,L),R}}(),G=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,F=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,U=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,X=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,T=function(){function B(){!function _(B,R){if(!(B instanceof R))throw new TypeError("Cannot call a class as a function")}(this,B)}return E(B,[{key:"phone",value:function(){var R=w();return!(!G.test(R)&&!F.test(R.substr(0,4)))}},{key:"mobile",value:function(){var R=w();return!(!U.test(R)&&!X.test(R.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),B}();m.default=new T},function(f,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.default=function(E,G){var F=window.pageYOffset,U=window.innerHeight;E.forEach(function(X,T){!function(E,G,F){var U=E.node.getAttribute("data-aos-once");G>E.position?E.node.classList.add("aos-animate"):typeof U<"u"&&("false"===U||!F&&"true"!==U)&&E.node.classList.remove("aos-animate")}(X,U+F,G)})}},function(f,m,_){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var G=function w(U){return U&&U.__esModule?U:{default:U}}(_(12));m.default=function(U,X){return U.forEach(function(T,B){T.node.classList.add("aos-init"),T.position=(0,G.default)(T.node,X.offset)}),U}},function(f,m,_){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var G=function w(U){return U&&U.__esModule?U:{default:U}}(_(13));m.default=function(U,X){var T=0,B=0,R=window.innerHeight,N={offset:U.getAttribute("data-aos-offset"),anchor:U.getAttribute("data-aos-anchor"),anchorPlacement:U.getAttribute("data-aos-anchor-placement")};switch(N.offset&&!isNaN(N.offset)&&(B=parseInt(N.offset)),N.anchor&&document.querySelectorAll(N.anchor)&&(U=document.querySelectorAll(N.anchor)[0]),T=(0,G.default)(U).top,N.anchorPlacement){case"top-bottom":break;case"center-bottom":T+=U.offsetHeight/2;break;case"bottom-bottom":T+=U.offsetHeight;break;case"top-center":T+=R/2;break;case"bottom-center":T+=R/2+U.offsetHeight;break;case"center-center":T+=R/2+U.offsetHeight/2;break;case"top-top":T+=R;break;case"bottom-top":T+=U.offsetHeight+R;break;case"center-top":T+=U.offsetHeight/2+R}return N.anchorPlacement||N.offset||isNaN(X)||(B=X),T+B}},function(f,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(w){for(var E=0,G=0;w&&!isNaN(w.offsetLeft)&&!isNaN(w.offsetTop);)E+=w.offsetLeft-("BODY"!=w.tagName?w.scrollLeft:0),G+=w.offsetTop-("BODY"!=w.tagName?w.scrollTop:0),w=w.offsetParent;return{top:G,left:E}}},function(f,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(w){return w=w||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(w,function(E){return{node:E}})}}])},8259:function(u,f){var _;!function(w,E){"use strict";"object"==typeof u.exports?u.exports=w.document?E(w,!0):function(G){if(!G.document)throw new Error("jQuery requires a window with a document");return E(G)}:E(w)}(typeof window<"u"?window:this,function(w,E){"use strict";var G=[],F=Object.getPrototypeOf,U=G.slice,X=G.flat?function(M){return G.flat.call(M)}:function(M){return G.concat.apply([],M)},T=G.push,B=G.indexOf,R={},N=R.toString,L=R.hasOwnProperty,W=L.toString,k=W.call(Object),K={},oe=function(I){return"function"==typeof I&&"number"!=typeof I.nodeType&&"function"!=typeof I.item},le=function(I){return null!=I&&I===I.window},we=w.document,Re={type:!0,src:!0,nonce:!0,noModule:!0};function Ze(M,I,Z){var re,he,ue=(Z=Z||we).createElement("script");if(ue.text=M,I)for(re in Re)(he=I[re]||I.getAttribute&&I.getAttribute(re))&&ue.setAttribute(re,he);Z.head.appendChild(ue).parentNode.removeChild(ue)}function Ge(M){return null==M?M+"":"object"==typeof M||"function"==typeof M?R[N.call(M)]||"object":typeof M}var yt=/HTML$/i,j=function(M,I){return new j.fn.init(M,I)};function Te(M){var I=!!M&&"length"in M&&M.length,Z=Ge(M);return!oe(M)&&!le(M)&&("array"===Z||0===I||"number"==typeof I&&I>0&&I-1 in M)}function pt(M,I){return M.nodeName&&M.nodeName.toLowerCase()===I.toLowerCase()}j.fn=j.prototype={jquery:"3.7.1",constructor:j,length:0,toArray:function(){return U.call(this)},get:function(M){return null==M?U.call(this):M<0?this[M+this.length]:this[M]},pushStack:function(M){var I=j.merge(this.constructor(),M);return I.prevObject=this,I},each:function(M){return j.each(this,M)},map:function(M){return this.pushStack(j.map(this,function(I,Z){return M.call(I,Z,I)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(j.grep(this,function(M,I){return(I+1)%2}))},odd:function(){return this.pushStack(j.grep(this,function(M,I){return I%2}))},eq:function(M){var I=this.length,Z=+M+(M<0?I:0);return this.pushStack(Z>=0&&Z<I?[this[Z]]:[])},end:function(){return this.prevObject||this.constructor()},push:T,sort:G.sort,splice:G.splice},j.extend=j.fn.extend=function(){var M,I,Z,re,he,ue,ve=arguments[0]||{},Ye=1,je=arguments.length,et=!1;for("boolean"==typeof ve&&(et=ve,ve=arguments[Ye]||{},Ye++),"object"!=typeof ve&&!oe(ve)&&(ve={}),Ye===je&&(ve=this,Ye--);Ye<je;Ye++)if(null!=(M=arguments[Ye]))for(I in M)re=M[I],"__proto__"!==I&&ve!==re&&(et&&re&&(j.isPlainObject(re)||(he=Array.isArray(re)))?(Z=ve[I],ue=he&&!Array.isArray(Z)?[]:he||j.isPlainObject(Z)?Z:{},he=!1,ve[I]=j.extend(et,ue,re)):void 0!==re&&(ve[I]=re));return ve},j.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(M){throw new Error(M)},noop:function(){},isPlainObject:function(M){var I,Z;return!(!M||"[object Object]"!==N.call(M)||(I=F(M))&&("function"!=typeof(Z=L.call(I,"constructor")&&I.constructor)||W.call(Z)!==k))},isEmptyObject:function(M){var I;for(I in M)return!1;return!0},globalEval:function(M,I,Z){Ze(M,{nonce:I&&I.nonce},Z)},each:function(M,I){var Z,re=0;if(Te(M))for(Z=M.length;re<Z&&!1!==I.call(M[re],re,M[re]);re++);else for(re in M)if(!1===I.call(M[re],re,M[re]))break;return M},text:function(M){var I,Z="",re=0,he=M.nodeType;if(!he)for(;I=M[re++];)Z+=j.text(I);return 1===he||11===he?M.textContent:9===he?M.documentElement.textContent:3===he||4===he?M.nodeValue:Z},makeArray:function(M,I){var Z=I||[];return null!=M&&(Te(Object(M))?j.merge(Z,"string"==typeof M?[M]:M):T.call(Z,M)),Z},inArray:function(M,I,Z){return null==I?-1:B.call(I,M,Z)},isXMLDoc:function(M){var Z=M&&(M.ownerDocument||M).documentElement;return!yt.test(M&&M.namespaceURI||Z&&Z.nodeName||"HTML")},merge:function(M,I){for(var Z=+I.length,re=0,he=M.length;re<Z;re++)M[he++]=I[re];return M.length=he,M},grep:function(M,I,Z){for(var he=[],ue=0,ve=M.length,Ye=!Z;ue<ve;ue++)!I(M[ue],ue)!==Ye&&he.push(M[ue]);return he},map:function(M,I,Z){var re,he,ue=0,ve=[];if(Te(M))for(re=M.length;ue<re;ue++)null!=(he=I(M[ue],ue,Z))&&ve.push(he);else for(ue in M)null!=(he=I(M[ue],ue,Z))&&ve.push(he);return X(ve)},guid:1,support:K}),"function"==typeof Symbol&&(j.fn[Symbol.iterator]=G[Symbol.iterator]),j.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(M,I){R["[object "+I+"]"]=I.toLowerCase()});var ct=G.pop,Mt=G.sort,qt=G.splice,an="[\\x20\\t\\r\\n\\f]",vt=new RegExp("^"+an+"+|((?:^|[^\\\\])(?:\\\\.)*)"+an+"+$","g");j.contains=function(M,I){var Z=I&&I.parentNode;return M===Z||!(!Z||1!==Z.nodeType||!(M.contains?M.contains(Z):M.compareDocumentPosition&&16&M.compareDocumentPosition(Z)))};var ze=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function mt(M,I){return I?"\0"===M?"\ufffd":M.slice(0,-1)+"\\"+M.charCodeAt(M.length-1).toString(16)+" ":"\\"+M}j.escapeSelector=function(M){return(M+"").replace(ze,mt)};var Jt=we,Dn=T;!function(){var M,I,Z,re,he,ve,Ye,je,et,St,ue=Dn,zt=j.expando,ut=0,rn=0,li=od(),mi=od(),Ai=od(),$o=od(),no=function(ke,Je){return ke===Je&&(he=!0),0},Yr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Xa="(?:\\\\[\\da-fA-F]{1,6}"+an+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ti="\\["+an+"*("+Xa+")(?:"+an+"*([*^$|!~]?=)"+an+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Xa+"))|)"+an+"*\\]",Ic=":("+Xa+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ti+")*)|.*)\\)|)",Xi=new RegExp(an+"+","g"),go=new RegExp("^"+an+"*,"+an+"*"),ic=new RegExp("^"+an+"*([>+~]|"+an+")"+an+"*"),xi=new RegExp(an+"|>"),ia=new RegExp(Ic),Lh=new RegExp("^"+Xa+"$"),hl={ID:new RegExp("^#("+Xa+")"),CLASS:new RegExp("^\\.("+Xa+")"),TAG:new RegExp("^("+Xa+"|[*])"),ATTR:new RegExp("^"+Ti),PSEUDO:new RegExp("^"+Ic),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+an+"*(even|odd|(([+-]|)(\\d*)n|)"+an+"*(?:([+-]|)"+an+"*(\\d+)|))"+an+"*\\)|)","i"),bool:new RegExp("^(?:"+Yr+")$","i"),needsContext:new RegExp("^"+an+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+an+"*((?:-\\d)?\\d*)"+an+"*\\)|)(?=[^-]|$)","i")},rc=/^(?:input|select|textarea|button)$/i,oc=/^h\d$/i,js=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qu=/[+~]/,ul=new RegExp("\\\\[\\da-fA-F]{1,6}"+an+"?|\\\\([^\\r\\n\\f])","g"),Ht=function(ke,Je){var gt="0x"+ke.slice(1)-65536;return Je||(gt<0?String.fromCharCode(gt+65536):String.fromCharCode(gt>>10|55296,1023&gt|56320))},hr=function(){Oo()},zn=ra(function(ke){return!0===ke.disabled&&pt(ke,"fieldset")},{dir:"parentNode",next:"legend"});try{ue.apply(G=U.call(Jt.childNodes),Jt.childNodes)}catch{ue={apply:function(Je,gt){Dn.apply(Je,U.call(gt))},call:function(Je){Dn.apply(Je,U.call(arguments,1))}}}function Ei(ke,Je,gt,Ot){var Bt,pn,An,qn,In,or,be,z=Je&&Je.ownerDocument,te=Je?Je.nodeType:9;if(gt=gt||[],"string"!=typeof ke||!ke||1!==te&&9!==te&&11!==te)return gt;if(!Ot&&(Oo(Je),Je=Je||ve,je)){if(11!==te&&(In=js.exec(ke)))if(Bt=In[1]){if(9===te){if(!(An=Je.getElementById(Bt)))return gt;if(An.id===Bt)return ue.call(gt,An),gt}else if(z&&(An=z.getElementById(Bt))&&Ei.contains(Je,An)&&An.id===Bt)return ue.call(gt,An),gt}else{if(In[2])return ue.apply(gt,Je.getElementsByTagName(ke)),gt;if((Bt=In[3])&&Je.getElementsByClassName)return ue.apply(gt,Je.getElementsByClassName(Bt)),gt}if(!($o[ke+" "]||et&&et.test(ke))){if(be=ke,z=Je,1===te&&(xi.test(ke)||ic.test(ke))){for(((z=qu.test(ke)&&Gd(Je.parentNode)||Je)!=Je||!K.scope)&&((qn=Je.getAttribute("id"))?qn=j.escapeSelector(qn):Je.setAttribute("id",qn=zt)),pn=(or=ad(ke)).length;pn--;)or[pn]=(qn?"#"+qn:":scope")+" "+Rl(or[pn]);be=or.join(",")}try{return ue.apply(gt,z.querySelectorAll(be)),gt}catch{$o(ke,!0)}finally{qn===zt&&Je.removeAttribute("id")}}}return qd(ke.replace(vt,"$1"),Je,gt,Ot)}function od(){var ke=[];return function Je(gt,Ot){return ke.push(gt+" ")>I.cacheLength&&delete Je[ke.shift()],Je[gt+" "]=Ot}}function Ms(ke){return ke[zt]=!0,ke}function Fo(ke){var Je=ve.createElement("fieldset");try{return!!ke(Je)}catch{return!1}finally{Je.parentNode&&Je.parentNode.removeChild(Je),Je=null}}function Yu(ke){return function(Je){return pt(Je,"input")&&Je.type===ke}}function Xu(ke){return function(Je){return(pt(Je,"input")||pt(Je,"button"))&&Je.type===ke}}function cf(ke){return function(Je){return"form"in Je?Je.parentNode&&!1===Je.disabled?"label"in Je?"label"in Je.parentNode?Je.parentNode.disabled===ke:Je.disabled===ke:Je.isDisabled===ke||Je.isDisabled!==!ke&&zn(Je)===ke:Je.disabled===ke:"label"in Je&&Je.disabled===ke}}function sd(ke){return Ms(function(Je){return Je=+Je,Ms(function(gt,Ot){for(var Bt,pn=ke([],gt.length,Je),An=pn.length;An--;)gt[Bt=pn[An]]&&(gt[Bt]=!(Ot[Bt]=gt[Bt]))})})}function Gd(ke){return ke&&typeof ke.getElementsByTagName<"u"&&ke}function Oo(ke){var Je,gt=ke?ke.ownerDocument||ke:Jt;return gt==ve||9!==gt.nodeType||!gt.documentElement||(Ye=(ve=gt).documentElement,je=!j.isXMLDoc(ve),St=Ye.matches||Ye.webkitMatchesSelector||Ye.msMatchesSelector,Ye.msMatchesSelector&&Jt!=ve&&(Je=ve.defaultView)&&Je.top!==Je&&Je.addEventListener("unload",hr),K.getById=Fo(function(Ot){return Ye.appendChild(Ot).id=j.expando,!ve.getElementsByName||!ve.getElementsByName(j.expando).length}),K.disconnectedMatch=Fo(function(Ot){return St.call(Ot,"*")}),K.scope=Fo(function(){return ve.querySelectorAll(":scope")}),K.cssHas=Fo(function(){try{return ve.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),K.getById?(I.filter.ID=function(Ot){var Bt=Ot.replace(ul,Ht);return function(pn){return pn.getAttribute("id")===Bt}},I.find.ID=function(Ot,Bt){if(typeof Bt.getElementById<"u"&&je){var pn=Bt.getElementById(Ot);return pn?[pn]:[]}}):(I.filter.ID=function(Ot){var Bt=Ot.replace(ul,Ht);return function(pn){var An=typeof pn.getAttributeNode<"u"&&pn.getAttributeNode("id");return An&&An.value===Bt}},I.find.ID=function(Ot,Bt){if(typeof Bt.getElementById<"u"&&je){var pn,An,qn,In=Bt.getElementById(Ot);if(In){if((pn=In.getAttributeNode("id"))&&pn.value===Ot)return[In];for(qn=Bt.getElementsByName(Ot),An=0;In=qn[An++];)if((pn=In.getAttributeNode("id"))&&pn.value===Ot)return[In]}return[]}}),I.find.TAG=function(Ot,Bt){return typeof Bt.getElementsByTagName<"u"?Bt.getElementsByTagName(Ot):Bt.querySelectorAll(Ot)},I.find.CLASS=function(Ot,Bt){if(typeof Bt.getElementsByClassName<"u"&&je)return Bt.getElementsByClassName(Ot)},et=[],Fo(function(Ot){var Bt;Ye.appendChild(Ot).innerHTML="<a id='"+zt+"' href='' disabled='disabled'></a><select id='"+zt+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ot.querySelectorAll("[selected]").length||et.push("\\["+an+"*(?:value|"+Yr+")"),Ot.querySelectorAll("[id~="+zt+"-]").length||et.push("~="),Ot.querySelectorAll("a#"+zt+"+*").length||et.push(".#.+[+~]"),Ot.querySelectorAll(":checked").length||et.push(":checked"),(Bt=ve.createElement("input")).setAttribute("type","hidden"),Ot.appendChild(Bt).setAttribute("name","D"),Ye.appendChild(Ot).disabled=!0,2!==Ot.querySelectorAll(":disabled").length&&et.push(":enabled",":disabled"),(Bt=ve.createElement("input")).setAttribute("name",""),Ot.appendChild(Bt),Ot.querySelectorAll("[name='']").length||et.push("\\["+an+"*name"+an+"*="+an+"*(?:''|\"\")")}),K.cssHas||et.push(":has"),et=et.length&&new RegExp(et.join("|")),no=function(Ot,Bt){if(Ot===Bt)return he=!0,0;var pn=!Ot.compareDocumentPosition-!Bt.compareDocumentPosition;return pn||(1&(pn=(Ot.ownerDocument||Ot)==(Bt.ownerDocument||Bt)?Ot.compareDocumentPosition(Bt):1)||!K.sortDetached&&Bt.compareDocumentPosition(Ot)===pn?Ot===ve||Ot.ownerDocument==Jt&&Ei.contains(Jt,Ot)?-1:Bt===ve||Bt.ownerDocument==Jt&&Ei.contains(Jt,Bt)?1:re?B.call(re,Ot)-B.call(re,Bt):0:4&pn?-1:1)}),ve}for(M in Ei.matches=function(ke,Je){return Ei(ke,null,null,Je)},Ei.matchesSelector=function(ke,Je){if(Oo(ke),je&&!$o[Je+" "]&&(!et||!et.test(Je)))try{var gt=St.call(ke,Je);if(gt||K.disconnectedMatch||ke.document&&11!==ke.document.nodeType)return gt}catch{$o(Je,!0)}return Ei(Je,ve,null,[ke]).length>0},Ei.contains=function(ke,Je){return(ke.ownerDocument||ke)!=ve&&Oo(ke),j.contains(ke,Je)},Ei.attr=function(ke,Je){(ke.ownerDocument||ke)!=ve&&Oo(ke);var gt=I.attrHandle[Je.toLowerCase()],Ot=gt&&L.call(I.attrHandle,Je.toLowerCase())?gt(ke,Je,!je):void 0;return void 0!==Ot?Ot:ke.getAttribute(Je)},Ei.error=function(ke){throw new Error("Syntax error, unrecognized expression: "+ke)},j.uniqueSort=function(ke){var Je,gt=[],Ot=0,Bt=0;if(he=!K.sortStable,re=!K.sortStable&&U.call(ke,0),Mt.call(ke,no),he){for(;Je=ke[Bt++];)Je===ke[Bt]&&(Ot=gt.push(Bt));for(;Ot--;)qt.call(ke,gt[Ot],1)}return re=null,ke},j.fn.uniqueSort=function(){return this.pushStack(j.uniqueSort(U.apply(this)))},(I=j.expr={cacheLength:50,createPseudo:Ms,match:hl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ke){return ke[1]=ke[1].replace(ul,Ht),ke[3]=(ke[3]||ke[4]||ke[5]||"").replace(ul,Ht),"~="===ke[2]&&(ke[3]=" "+ke[3]+" "),ke.slice(0,4)},CHILD:function(ke){return ke[1]=ke[1].toLowerCase(),"nth"===ke[1].slice(0,3)?(ke[3]||Ei.error(ke[0]),ke[4]=+(ke[4]?ke[5]+(ke[6]||1):2*("even"===ke[3]||"odd"===ke[3])),ke[5]=+(ke[7]+ke[8]||"odd"===ke[3])):ke[3]&&Ei.error(ke[0]),ke},PSEUDO:function(ke){var Je,gt=!ke[6]&&ke[2];return hl.CHILD.test(ke[0])?null:(ke[3]?ke[2]=ke[4]||ke[5]||"":gt&&ia.test(gt)&&(Je=ad(gt,!0))&&(Je=gt.indexOf(")",gt.length-Je)-gt.length)&&(ke[0]=ke[0].slice(0,Je),ke[2]=gt.slice(0,Je)),ke.slice(0,3))}},filter:{TAG:function(ke){var Je=ke.replace(ul,Ht).toLowerCase();return"*"===ke?function(){return!0}:function(gt){return pt(gt,Je)}},CLASS:function(ke){var Je=li[ke+" "];return Je||(Je=new RegExp("(^|"+an+")"+ke+"("+an+"|$)"))&&li(ke,function(gt){return Je.test("string"==typeof gt.className&&gt.className||typeof gt.getAttribute<"u"&&gt.getAttribute("class")||"")})},ATTR:function(ke,Je,gt){return function(Ot){var Bt=Ei.attr(Ot,ke);return null==Bt?"!="===Je:!Je||(Bt+="","="===Je?Bt===gt:"!="===Je?Bt!==gt:"^="===Je?gt&&0===Bt.indexOf(gt):"*="===Je?gt&&Bt.indexOf(gt)>-1:"$="===Je?gt&&Bt.slice(-gt.length)===gt:"~="===Je?(" "+Bt.replace(Xi," ")+" ").indexOf(gt)>-1:"|="===Je&&(Bt===gt||Bt.slice(0,gt.length+1)===gt+"-"))}},CHILD:function(ke,Je,gt,Ot,Bt){var pn="nth"!==ke.slice(0,3),An="last"!==ke.slice(-4),qn="of-type"===Je;return 1===Ot&&0===Bt?function(In){return!!In.parentNode}:function(In,or,be){var z,te,xe,it,Xt,Pn=pn!==An?"nextSibling":"previousSibling",Fi=In.parentNode,jr=qn&&In.nodeName.toLowerCase(),Ps=!be&&!qn,So=!1;if(Fi){if(pn){for(;Pn;){for(xe=In;xe=xe[Pn];)if(qn?pt(xe,jr):1===xe.nodeType)return!1;Xt=Pn="only"===ke&&!Xt&&"nextSibling"}return!0}if(Xt=[An?Fi.firstChild:Fi.lastChild],An&&Ps){for(So=(it=(z=(te=Fi[zt]||(Fi[zt]={}))[ke]||[])[0]===ut&&z[1])&&z[2],xe=it&&Fi.childNodes[it];xe=++it&&xe&&xe[Pn]||(So=it=0)||Xt.pop();)if(1===xe.nodeType&&++So&&xe===In){te[ke]=[ut,it,So];break}}else if(Ps&&(So=it=(z=(te=In[zt]||(In[zt]={}))[ke]||[])[0]===ut&&z[1]),!1===So)for(;(xe=++it&&xe&&xe[Pn]||(So=it=0)||Xt.pop())&&(!(qn?pt(xe,jr):1===xe.nodeType)||!++So||(Ps&&((te=xe[zt]||(xe[zt]={}))[ke]=[ut,So]),xe!==In)););return(So-=Bt)===Ot||So%Ot==0&&So/Ot>=0}}},PSEUDO:function(ke,Je){var gt,Ot=I.pseudos[ke]||I.setFilters[ke.toLowerCase()]||Ei.error("unsupported pseudo: "+ke);return Ot[zt]?Ot(Je):Ot.length>1?(gt=[ke,ke,"",Je],I.setFilters.hasOwnProperty(ke.toLowerCase())?Ms(function(Bt,pn){for(var An,qn=Ot(Bt,Je),In=qn.length;In--;)Bt[An=B.call(Bt,qn[In])]=!(pn[An]=qn[In])}):function(Bt){return Ot(Bt,0,gt)}):Ot}},pseudos:{not:Ms(function(ke){var Je=[],gt=[],Ot=zh(ke.replace(vt,"$1"));return Ot[zt]?Ms(function(Bt,pn,An,qn){for(var In,or=Ot(Bt,null,qn,[]),be=Bt.length;be--;)(In=or[be])&&(Bt[be]=!(pn[be]=In))}):function(Bt,pn,An){return Je[0]=Bt,Ot(Je,null,An,gt),Je[0]=null,!gt.pop()}}),has:Ms(function(ke){return function(Je){return Ei(ke,Je).length>0}}),contains:Ms(function(ke){return ke=ke.replace(ul,Ht),function(Je){return(Je.textContent||j.text(Je)).indexOf(ke)>-1}}),lang:Ms(function(ke){return Lh.test(ke||"")||Ei.error("unsupported lang: "+ke),ke=ke.replace(ul,Ht).toLowerCase(),function(Je){var gt;do{if(gt=je?Je.lang:Je.getAttribute("xml:lang")||Je.getAttribute("lang"))return(gt=gt.toLowerCase())===ke||0===gt.indexOf(ke+"-")}while((Je=Je.parentNode)&&1===Je.nodeType);return!1}}),target:function(ke){var Je=w.location&&w.location.hash;return Je&&Je.slice(1)===ke.id},root:function(ke){return ke===Ye},focus:function(ke){return ke===function Vn(){try{return ve.activeElement}catch{}}()&&ve.hasFocus()&&!!(ke.type||ke.href||~ke.tabIndex)},enabled:cf(!1),disabled:cf(!0),checked:function(ke){return pt(ke,"input")&&!!ke.checked||pt(ke,"option")&&!!ke.selected},selected:function(ke){return!0===ke.selected},empty:function(ke){for(ke=ke.firstChild;ke;ke=ke.nextSibling)if(ke.nodeType<6)return!1;return!0},parent:function(ke){return!I.pseudos.empty(ke)},header:function(ke){return oc.test(ke.nodeName)},input:function(ke){return rc.test(ke.nodeName)},button:function(ke){return pt(ke,"input")&&"button"===ke.type||pt(ke,"button")},text:function(ke){var Je;return pt(ke,"input")&&"text"===ke.type&&(null==(Je=ke.getAttribute("type"))||"text"===Je.toLowerCase())},first:sd(function(){return[0]}),last:sd(function(ke,Je){return[Je-1]}),eq:sd(function(ke,Je,gt){return[gt<0?gt+Je:gt]}),even:sd(function(ke,Je){for(var gt=0;gt<Je;gt+=2)ke.push(gt);return ke}),odd:sd(function(ke,Je){for(var gt=1;gt<Je;gt+=2)ke.push(gt);return ke}),lt:sd(function(ke,Je,gt){var Ot;for(Ot=gt<0?gt+Je:gt>Je?Je:gt;--Ot>=0;)ke.push(Ot);return ke}),gt:sd(function(ke,Je,gt){for(var Ot=gt<0?gt+Je:gt;++Ot<Je;)ke.push(Ot);return ke})}}).pseudos.nth=I.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[M]=Yu(M);for(M in{submit:!0,reset:!0})I.pseudos[M]=Xu(M);function pl(){}function ad(ke,Je){var gt,Ot,Bt,pn,An,qn,In,or=mi[ke+" "];if(or)return Je?0:or.slice(0);for(An=ke,qn=[],In=I.preFilter;An;){for(pn in(!gt||(Ot=go.exec(An)))&&(Ot&&(An=An.slice(Ot[0].length)||An),qn.push(Bt=[])),gt=!1,(Ot=ic.exec(An))&&(gt=Ot.shift(),Bt.push({value:gt,type:Ot[0].replace(vt," ")}),An=An.slice(gt.length)),I.filter)(Ot=hl[pn].exec(An))&&(!In[pn]||(Ot=In[pn](Ot)))&&(gt=Ot.shift(),Bt.push({value:gt,type:pn,matches:Ot}),An=An.slice(gt.length));if(!gt)break}return Je?An.length:An?Ei.error(ke):mi(ke,qn).slice(0)}function Rl(ke){for(var Je=0,gt=ke.length,Ot="";Je<gt;Je++)Ot+=ke[Je].value;return Ot}function ra(ke,Je,gt){var Ot=Je.dir,Bt=Je.next,pn=Bt||Ot,An=gt&&"parentNode"===pn,qn=rn++;return Je.first?function(In,or,be){for(;In=In[Ot];)if(1===In.nodeType||An)return ke(In,or,be);return!1}:function(In,or,be){var z,te,xe=[ut,qn];if(be){for(;In=In[Ot];)if((1===In.nodeType||An)&&ke(In,or,be))return!0}else for(;In=In[Ot];)if(1===In.nodeType||An)if(te=In[zt]||(In[zt]={}),Bt&&pt(In,Bt))In=In[Ot]||In;else{if((z=te[pn])&&z[0]===ut&&z[1]===qn)return xe[2]=z[2];if(te[pn]=xe,xe[2]=ke(In,or,be))return!0}return!1}}function Fh(ke){return ke.length>1?function(Je,gt,Ot){for(var Bt=ke.length;Bt--;)if(!ke[Bt](Je,gt,Ot))return!1;return!0}:ke[0]}function Bh(ke,Je,gt,Ot,Bt){for(var pn,An=[],qn=0,In=ke.length,or=null!=Je;qn<In;qn++)(pn=ke[qn])&&(!gt||gt(pn,Ot,Bt))&&(An.push(pn),or&&Je.push(qn));return An}function $u(ke,Je,gt,Ot,Bt,pn){return Ot&&!Ot[zt]&&(Ot=$u(Ot)),Bt&&!Bt[zt]&&(Bt=$u(Bt,pn)),Ms(function(An,qn,In,or){var be,z,te,xe,it=[],Xt=[],Pn=qn.length,Fi=An||function df(ke,Je,gt){for(var Ot=0,Bt=Je.length;Ot<Bt;Ot++)Ei(ke,Je[Ot],gt);return gt}(Je||"*",In.nodeType?[In]:In,[]),jr=!ke||!An&&Je?Fi:Bh(Fi,it,ke,In,or);if(gt?gt(jr,xe=Bt||(An?ke:Pn||Ot)?[]:qn,In,or):xe=jr,Ot)for(be=Bh(xe,Xt),Ot(be,[],In,or),z=be.length;z--;)(te=be[z])&&(xe[Xt[z]]=!(jr[Xt[z]]=te));if(An){if(Bt||ke){if(Bt){for(be=[],z=xe.length;z--;)(te=xe[z])&&be.push(jr[z]=te);Bt(null,xe=[],be,or)}for(z=xe.length;z--;)(te=xe[z])&&(be=Bt?B.call(An,te):it[z])>-1&&(An[be]=!(qn[be]=te))}}else xe=Bh(xe===qn?xe.splice(Pn,xe.length):xe),Bt?Bt(null,qn,xe,or):ue.apply(qn,xe)})}function ld(ke){for(var Je,gt,Ot,Bt=ke.length,pn=I.relative[ke[0].type],An=pn||I.relative[" "],qn=pn?1:0,In=ra(function(z){return z===Je},An,!0),or=ra(function(z){return B.call(Je,z)>-1},An,!0),be=[function(z,te,xe){var it=!pn&&(xe||te!=Z)||((Je=te).nodeType?In(z,te,xe):or(z,te,xe));return Je=null,it}];qn<Bt;qn++)if(gt=I.relative[ke[qn].type])be=[ra(Fh(be),gt)];else{if((gt=I.filter[ke[qn].type].apply(null,ke[qn].matches))[zt]){for(Ot=++qn;Ot<Bt&&!I.relative[ke[Ot].type];Ot++);return $u(qn>1&&Fh(be),qn>1&&Rl(ke.slice(0,qn-1).concat({value:" "===ke[qn-2].type?"*":""})).replace(vt,"$1"),gt,qn<Ot&&ld(ke.slice(qn,Ot)),Ot<Bt&&ld(ke=ke.slice(Ot)),Ot<Bt&&Rl(ke))}be.push(gt)}return Fh(be)}function zh(ke,Je){var gt,Ot=[],Bt=[],pn=Ai[ke+" "];if(!pn){for(Je||(Je=ad(ke)),gt=Je.length;gt--;)(pn=ld(Je[gt]))[zt]?Ot.push(pn):Bt.push(pn);pn=Ai(ke,function Wd(ke,Je){var gt=Je.length>0,Ot=ke.length>0,Bt=function(pn,An,qn,In,or){var be,z,te,xe=0,it="0",Xt=pn&&[],Pn=[],Fi=Z,jr=pn||Ot&&I.find.TAG("*",or),Ps=ut+=null==Fi?1:Math.random()||.1,So=jr.length;for(or&&(Z=An==ve||An||or);it!==So&&null!=(be=jr[it]);it++){if(Ot&&be){for(z=0,!An&&be.ownerDocument!=ve&&(Oo(be),qn=!je);te=ke[z++];)if(te(be,An||ve,qn)){ue.call(In,be);break}or&&(ut=Ps)}gt&&((be=!te&&be)&&xe--,pn&&Xt.push(be))}if(xe+=it,gt&&it!==xe){for(z=0;te=Je[z++];)te(Xt,Pn,An,qn);if(pn){if(xe>0)for(;it--;)Xt[it]||Pn[it]||(Pn[it]=ct.call(In));Pn=Bh(Pn)}ue.apply(In,Pn),or&&!pn&&Pn.length>0&&xe+Je.length>1&&j.uniqueSort(In)}return or&&(ut=Ps,Z=Fi),Xt};return gt?Ms(Bt):Bt}(Bt,Ot)),pn.selector=ke}return pn}function qd(ke,Je,gt,Ot){var Bt,pn,An,qn,In,or="function"==typeof ke&&ke,be=!Ot&&ad(ke=or.selector||ke);if(gt=gt||[],1===be.length){if((pn=be[0]=be[0].slice(0)).length>2&&"ID"===(An=pn[0]).type&&9===Je.nodeType&&je&&I.relative[pn[1].type]){if(!(Je=(I.find.ID(An.matches[0].replace(ul,Ht),Je)||[])[0]))return gt;or&&(Je=Je.parentNode),ke=ke.slice(pn.shift().value.length)}for(Bt=hl.needsContext.test(ke)?0:pn.length;Bt--&&!I.relative[qn=(An=pn[Bt]).type];)if((In=I.find[qn])&&(Ot=In(An.matches[0].replace(ul,Ht),qu.test(pn[0].type)&&Gd(Je.parentNode)||Je))){if(pn.splice(Bt,1),!(ke=Ot.length&&Rl(pn)))return ue.apply(gt,Ot),gt;break}}return(or||zh(ke,be))(Ot,Je,!je,gt,!Je||qu.test(ke)&&Gd(Je.parentNode)||Je),gt}pl.prototype=I.filters=I.pseudos,I.setFilters=new pl,K.sortStable=zt.split("").sort(no).join("")===zt,Oo(),K.sortDetached=Fo(function(ke){return 1&ke.compareDocumentPosition(ve.createElement("fieldset"))}),j.find=Ei,j.expr[":"]=j.expr.pseudos,j.unique=j.uniqueSort,Ei.compile=zh,Ei.select=qd,Ei.setDocument=Oo,Ei.tokenize=ad,Ei.escape=j.escapeSelector,Ei.getText=j.text,Ei.isXML=j.isXMLDoc,Ei.selectors=j.expr,Ei.support=j.support,Ei.uniqueSort=j.uniqueSort}();var Mn=function(M,I,Z){for(var re=[],he=void 0!==Z;(M=M[I])&&9!==M.nodeType;)if(1===M.nodeType){if(he&&j(M).is(Z))break;re.push(M)}return re},un=function(M,I){for(var Z=[];M;M=M.nextSibling)1===M.nodeType&&M!==I&&Z.push(M);return Z},mn=j.expr.match.needsContext,Wt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Rn(M,I,Z){return oe(I)?j.grep(M,function(re,he){return!!I.call(re,he,re)!==Z}):I.nodeType?j.grep(M,function(re){return re===I!==Z}):"string"!=typeof I?j.grep(M,function(re){return B.call(I,re)>-1!==Z}):j.filter(I,M,Z)}j.filter=function(M,I,Z){var re=I[0];return Z&&(M=":not("+M+")"),1===I.length&&1===re.nodeType?j.find.matchesSelector(re,M)?[re]:[]:j.find.matches(M,j.grep(I,function(he){return 1===he.nodeType}))},j.fn.extend({find:function(M){var I,Z,re=this.length,he=this;if("string"!=typeof M)return this.pushStack(j(M).filter(function(){for(I=0;I<re;I++)if(j.contains(he[I],this))return!0}));for(Z=this.pushStack([]),I=0;I<re;I++)j.find(M,he[I],Z);return re>1?j.uniqueSort(Z):Z},filter:function(M){return this.pushStack(Rn(this,M||[],!1))},not:function(M){return this.pushStack(Rn(this,M||[],!0))},is:function(M){return!!Rn(this,"string"==typeof M&&mn.test(M)?j(M):M||[],!1).length}});var Nn,$n=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Dt=j.fn.init=function(M,I,Z){var re,he;if(!M)return this;if(Z=Z||Nn,"string"==typeof M){if(!(re="<"===M[0]&&">"===M[M.length-1]&&M.length>=3?[null,M,null]:$n.exec(M))||!re[1]&&I)return!I||I.jquery?(I||Z).find(M):this.constructor(I).find(M);if(re[1]){if(j.merge(this,j.parseHTML(re[1],(I=I instanceof j?I[0]:I)&&I.nodeType?I.ownerDocument||I:we,!0)),Wt.test(re[1])&&j.isPlainObject(I))for(re in I)oe(this[re])?this[re](I[re]):this.attr(re,I[re]);return this}return(he=we.getElementById(re[2]))&&(this[0]=he,this.length=1),this}return M.nodeType?(this[0]=M,this.length=1,this):oe(M)?void 0!==Z.ready?Z.ready(M):M(j):j.makeArray(M,this)};Dt.prototype=j.fn,Nn=j(we);var Mr=/^(?:parents|prev(?:Until|All))/,Bn={children:!0,contents:!0,next:!0,prev:!0};function ri(M,I){for(;(M=M[I])&&1!==M.nodeType;);return M}j.fn.extend({has:function(M){var I=j(M,this),Z=I.length;return this.filter(function(){for(var re=0;re<Z;re++)if(j.contains(this,I[re]))return!0})},closest:function(M,I){var Z,re=0,he=this.length,ue=[],ve="string"!=typeof M&&j(M);if(!mn.test(M))for(;re<he;re++)for(Z=this[re];Z&&Z!==I;Z=Z.parentNode)if(Z.nodeType<11&&(ve?ve.index(Z)>-1:1===Z.nodeType&&j.find.matchesSelector(Z,M))){ue.push(Z);break}return this.pushStack(ue.length>1?j.uniqueSort(ue):ue)},index:function(M){return M?"string"==typeof M?B.call(j(M),this[0]):B.call(this,M.jquery?M[0]:M):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(M,I){return this.pushStack(j.uniqueSort(j.merge(this.get(),j(M,I))))},addBack:function(M){return this.add(null==M?this.prevObject:this.prevObject.filter(M))}}),j.each({parent:function(M){var I=M.parentNode;return I&&11!==I.nodeType?I:null},parents:function(M){return Mn(M,"parentNode")},parentsUntil:function(M,I,Z){return Mn(M,"parentNode",Z)},next:function(M){return ri(M,"nextSibling")},prev:function(M){return ri(M,"previousSibling")},nextAll:function(M){return Mn(M,"nextSibling")},prevAll:function(M){return Mn(M,"previousSibling")},nextUntil:function(M,I,Z){return Mn(M,"nextSibling",Z)},prevUntil:function(M,I,Z){return Mn(M,"previousSibling",Z)},siblings:function(M){return un((M.parentNode||{}).firstChild,M)},children:function(M){return un(M.firstChild)},contents:function(M){return null!=M.contentDocument&&F(M.contentDocument)?M.contentDocument:(pt(M,"template")&&(M=M.content||M),j.merge([],M.childNodes))}},function(M,I){j.fn[M]=function(Z,re){var he=j.map(this,I,Z);return"Until"!==M.slice(-5)&&(re=Z),re&&"string"==typeof re&&(he=j.filter(re,he)),this.length>1&&(Bn[M]||j.uniqueSort(he),Mr.test(M)&&he.reverse()),this.pushStack(he)}});var Zt=/[^\x20\t\r\n\f]+/g;function hi(M){return M}function lr(M){throw M}function fo(M,I,Z,re){var he;try{M&&oe(he=M.promise)?he.call(M).done(I).fail(Z):M&&oe(he=M.then)?he.call(M,I,Z):I.apply(void 0,[M].slice(re))}catch(ue){Z.apply(void 0,[ue])}}j.Callbacks=function(M){M="string"==typeof M?function Vi(M){var I={};return j.each(M.match(Zt)||[],function(Z,re){I[re]=!0}),I}(M):j.extend({},M);var I,Z,re,he,ue=[],ve=[],Ye=-1,je=function(){for(he=he||M.once,re=I=!0;ve.length;Ye=-1)for(Z=ve.shift();++Ye<ue.length;)!1===ue[Ye].apply(Z[0],Z[1])&&M.stopOnFalse&&(Ye=ue.length,Z=!1);M.memory||(Z=!1),I=!1,he&&(ue=Z?[]:"")},et={add:function(){return ue&&(Z&&!I&&(Ye=ue.length-1,ve.push(Z)),function St(zt){j.each(zt,function(ut,rn){oe(rn)?(!M.unique||!et.has(rn))&&ue.push(rn):rn&&rn.length&&"string"!==Ge(rn)&&St(rn)})}(arguments),Z&&!I&&je()),this},remove:function(){return j.each(arguments,function(St,zt){for(var ut;(ut=j.inArray(zt,ue,ut))>-1;)ue.splice(ut,1),ut<=Ye&&Ye--}),this},has:function(St){return St?j.inArray(St,ue)>-1:ue.length>0},empty:function(){return ue&&(ue=[]),this},disable:function(){return he=ve=[],ue=Z="",this},disabled:function(){return!ue},lock:function(){return he=ve=[],!Z&&!I&&(ue=Z=""),this},locked:function(){return!!he},fireWith:function(St,zt){return he||(zt=[St,(zt=zt||[]).slice?zt.slice():zt],ve.push(zt),I||je()),this},fire:function(){return et.fireWith(this,arguments),this},fired:function(){return!!re}};return et},j.extend({Deferred:function(M){var I=[["notify","progress",j.Callbacks("memory"),j.Callbacks("memory"),2],["resolve","done",j.Callbacks("once memory"),j.Callbacks("once memory"),0,"resolved"],["reject","fail",j.Callbacks("once memory"),j.Callbacks("once memory"),1,"rejected"]],Z="pending",re={state:function(){return Z},always:function(){return he.done(arguments).fail(arguments),this},catch:function(ue){return re.then(null,ue)},pipe:function(){var ue=arguments;return j.Deferred(function(ve){j.each(I,function(Ye,je){var et=oe(ue[je[4]])&&ue[je[4]];he[je[1]](function(){var St=et&&et.apply(this,arguments);St&&oe(St.promise)?St.promise().progress(ve.notify).done(ve.resolve).fail(ve.reject):ve[je[0]+"With"](this,et?[St]:arguments)})}),ue=null}).promise()},then:function(ue,ve,Ye){var je=0;function et(St,zt,ut,rn){return function(){var li=this,mi=arguments,Ai=function(){var no,Yr;if(!(St<je)){if((no=ut.apply(li,mi))===zt.promise())throw new TypeError("Thenable self-resolution");oe(Yr=no&&("object"==typeof no||"function"==typeof no)&&no.then)?rn?Yr.call(no,et(je,zt,hi,rn),et(je,zt,lr,rn)):(je++,Yr.call(no,et(je,zt,hi,rn),et(je,zt,lr,rn),et(je,zt,hi,zt.notifyWith))):(ut!==hi&&(li=void 0,mi=[no]),(rn||zt.resolveWith)(li,mi))}},$o=rn?Ai:function(){try{Ai()}catch(no){j.Deferred.exceptionHook&&j.Deferred.exceptionHook(no,$o.error),St+1>=je&&(ut!==lr&&(li=void 0,mi=[no]),zt.rejectWith(li,mi))}};St?$o():(j.Deferred.getErrorHook?$o.error=j.Deferred.getErrorHook():j.Deferred.getStackHook&&($o.error=j.Deferred.getStackHook()),w.setTimeout($o))}}return j.Deferred(function(St){I[0][3].add(et(0,St,oe(Ye)?Ye:hi,St.notifyWith)),I[1][3].add(et(0,St,oe(ue)?ue:hi)),I[2][3].add(et(0,St,oe(ve)?ve:lr))}).promise()},promise:function(ue){return null!=ue?j.extend(ue,re):re}},he={};return j.each(I,function(ue,ve){var Ye=ve[2],je=ve[5];re[ve[1]]=Ye.add,je&&Ye.add(function(){Z=je},I[3-ue][2].disable,I[3-ue][3].disable,I[0][2].lock,I[0][3].lock),Ye.add(ve[3].fire),he[ve[0]]=function(){return he[ve[0]+"With"](this===he?void 0:this,arguments),this},he[ve[0]+"With"]=Ye.fireWith}),re.promise(he),M&&M.call(he,he),he},when:function(M){var I=arguments.length,Z=I,re=Array(Z),he=U.call(arguments),ue=j.Deferred(),ve=function(Ye){return function(je){re[Ye]=this,he[Ye]=arguments.length>1?U.call(arguments):je,--I||ue.resolveWith(re,he)}};if(I<=1&&(fo(M,ue.done(ve(Z)).resolve,ue.reject,!I),"pending"===ue.state()||oe(he[Z]&&he[Z].then)))return ue.then();for(;Z--;)fo(he[Z],ve(Z),ue.reject);return ue.promise()}});var cr=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;j.Deferred.exceptionHook=function(M,I){w.console&&w.console.warn&&M&&cr.test(M.name)&&w.console.warn("jQuery.Deferred exception: "+M.message,M.stack,I)},j.readyException=function(M){w.setTimeout(function(){throw M})};var Wr=j.Deferred();function Or(){we.removeEventListener("DOMContentLoaded",Or),w.removeEventListener("load",Or),j.ready()}j.fn.ready=function(M){return Wr.then(M).catch(function(I){j.readyException(I)}),this},j.extend({isReady:!1,readyWait:1,ready:function(M){(!0===M?--j.readyWait:j.isReady)||(j.isReady=!0,!(!0!==M&&--j.readyWait>0)&&Wr.resolveWith(we,[j]))}}),j.ready.then=Wr.then,"complete"===we.readyState||"loading"!==we.readyState&&!we.documentElement.doScroll?w.setTimeout(j.ready):(we.addEventListener("DOMContentLoaded",Or),w.addEventListener("load",Or));var ln=function(M,I,Z,re,he,ue,ve){var Ye=0,je=M.length,et=null==Z;if("object"===Ge(Z))for(Ye in he=!0,Z)ln(M,I,Ye,Z[Ye],!0,ue,ve);else if(void 0!==re&&(he=!0,oe(re)||(ve=!0),et&&(ve?(I.call(M,re),I=null):(et=I,I=function(St,zt,ut){return et.call(j(St),ut)})),I))for(;Ye<je;Ye++)I(M[Ye],Z,ve?re:re.call(M[Ye],Ye,I(M[Ye],Z)));return he?M:et?I.call(M):je?I(M[0],Z):ue},ai=/^-ms-/,pr=/-([a-z])/g;function qi(M,I){return I.toUpperCase()}function Yi(M){return M.replace(ai,"ms-").replace(pr,qi)}var dr=function(M){return 1===M.nodeType||9===M.nodeType||!+M.nodeType};function ei(){this.expando=j.expando+ei.uid++}ei.uid=1,ei.prototype={cache:function(M){var I=M[this.expando];return I||(I={},dr(M)&&(M.nodeType?M[this.expando]=I:Object.defineProperty(M,this.expando,{value:I,configurable:!0}))),I},set:function(M,I,Z){var re,he=this.cache(M);if("string"==typeof I)he[Yi(I)]=Z;else for(re in I)he[Yi(re)]=I[re];return he},get:function(M,I){return void 0===I?this.cache(M):M[this.expando]&&M[this.expando][Yi(I)]},access:function(M,I,Z){return void 0===I||I&&"string"==typeof I&&void 0===Z?this.get(M,I):(this.set(M,I,Z),void 0!==Z?Z:I)},remove:function(M,I){var Z,re=M[this.expando];if(void 0!==re){if(void 0!==I)for((Z=(I=Array.isArray(I)?I.map(Yi):(I=Yi(I))in re?[I]:I.match(Zt)||[]).length);Z--;)delete re[I[Z]];(void 0===I||j.isEmptyObject(re))&&(M.nodeType?M[this.expando]=void 0:delete M[this.expando])}},hasData:function(M){var I=M[this.expando];return void 0!==I&&!j.isEmptyObject(I)}};var En=new ei,Fr=new ei,Bs=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,yr=/[A-Z]/g;function ti(M,I,Z){var re;if(void 0===Z&&1===M.nodeType)if(re="data-"+I.replace(yr,"-$&").toLowerCase(),"string"==typeof(Z=M.getAttribute(re))){try{Z=function gn(M){return"true"===M||"false"!==M&&("null"===M?null:M===+M+""?+M:Bs.test(M)?JSON.parse(M):M)}(Z)}catch{}Fr.set(M,I,Z)}else Z=void 0;return Z}j.extend({hasData:function(M){return Fr.hasData(M)||En.hasData(M)},data:function(M,I,Z){return Fr.access(M,I,Z)},removeData:function(M,I){Fr.remove(M,I)},_data:function(M,I,Z){return En.access(M,I,Z)},_removeData:function(M,I){En.remove(M,I)}}),j.fn.extend({data:function(M,I){var Z,re,he,ue=this[0],ve=ue&&ue.attributes;if(void 0===M){if(this.length&&(he=Fr.get(ue),1===ue.nodeType&&!En.get(ue,"hasDataAttrs"))){for(Z=ve.length;Z--;)ve[Z]&&0===(re=ve[Z].name).indexOf("data-")&&(re=Yi(re.slice(5)),ti(ue,re,he[re]));En.set(ue,"hasDataAttrs",!0)}return he}return"object"==typeof M?this.each(function(){Fr.set(this,M)}):ln(this,function(Ye){var je;if(ue&&void 0===Ye)return void 0!==(je=Fr.get(ue,M))||void 0!==(je=ti(ue,M))?je:void 0;this.each(function(){Fr.set(this,M,Ye)})},null,I,arguments.length>1,null,!0)},removeData:function(M){return this.each(function(){Fr.remove(this,M)})}}),j.extend({queue:function(M,I,Z){var re;if(M)return re=En.get(M,I=(I||"fx")+"queue"),Z&&(!re||Array.isArray(Z)?re=En.access(M,I,j.makeArray(Z)):re.push(Z)),re||[]},dequeue:function(M,I){var Z=j.queue(M,I=I||"fx"),re=Z.length,he=Z.shift(),ue=j._queueHooks(M,I);"inprogress"===he&&(he=Z.shift(),re--),he&&("fx"===I&&Z.unshift("inprogress"),delete ue.stop,he.call(M,function(){j.dequeue(M,I)},ue)),!re&&ue&&ue.empty.fire()},_queueHooks:function(M,I){var Z=I+"queueHooks";return En.get(M,Z)||En.access(M,Z,{empty:j.Callbacks("once memory").add(function(){En.remove(M,[I+"queue",Z])})})}}),j.fn.extend({queue:function(M,I){var Z=2;return"string"!=typeof M&&(I=M,M="fx",Z--),arguments.length<Z?j.queue(this[0],M):void 0===I?this:this.each(function(){var re=j.queue(this,M,I);j._queueHooks(this,M),"fx"===M&&"inprogress"!==re[0]&&j.dequeue(this,M)})},dequeue:function(M){return this.each(function(){j.dequeue(this,M)})},clearQueue:function(M){return this.queue(M||"fx",[])},promise:function(M,I){var Z,re=1,he=j.Deferred(),ue=this,ve=this.length,Ye=function(){--re||he.resolveWith(ue,[ue])};for("string"!=typeof M&&(I=M,M=void 0),M=M||"fx";ve--;)(Z=En.get(ue[ve],M+"queueHooks"))&&Z.empty&&(re++,Z.empty.add(Ye));return Ye(),he.promise(I)}});var br=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tr=new RegExp("^(?:([+-])=|)("+br+")([a-z%]*)$","i"),Br=["Top","Right","Bottom","Left"],zr=we.documentElement,eo=function(M){return j.contains(M.ownerDocument,M)},qo={composed:!0};zr.getRootNode&&(eo=function(M){return j.contains(M.ownerDocument,M)||M.getRootNode(qo)===M.ownerDocument});var Po=function(M,I){return"none"===(M=I||M).style.display||""===M.style.display&&eo(M)&&"none"===j.css(M,"display")};function Lt(M,I,Z,re){var he,ue,ve=20,Ye=re?function(){return re.cur()}:function(){return j.css(M,I,"")},je=Ye(),et=Z&&Z[3]||(j.cssNumber[I]?"":"px"),St=M.nodeType&&(j.cssNumber[I]||"px"!==et&&+je)&&Tr.exec(j.css(M,I));if(St&&St[3]!==et){for(et=et||St[3],St=+(je/=2)||1;ve--;)j.style(M,I,St+et),(1-ue)*(1-(ue=Ye()/je||.5))<=0&&(ve=0),St/=ue;j.style(M,I,(St*=2)+et),Z=Z||[]}return Z&&(St=+St||+je||0,he=Z[1]?St+(Z[1]+1)*Z[2]:+Z[2],re&&(re.unit=et,re.start=St,re.end=he)),he}var ta={};function fi(M){var I,Z=M.ownerDocument,re=M.nodeName,he=ta[re];return he||(I=Z.body.appendChild(Z.createElement(re)),he=j.css(I,"display"),I.parentNode.removeChild(I),"none"===he&&(he="block"),ta[re]=he,he)}function oo(M,I){for(var Z,re,he=[],ue=0,ve=M.length;ue<ve;ue++)(re=M[ue]).style&&(Z=re.style.display,I?("none"===Z&&(he[ue]=En.get(re,"display")||null,he[ue]||(re.style.display="")),""===re.style.display&&Po(re)&&(he[ue]=fi(re))):"none"!==Z&&(he[ue]="none",En.set(re,"display",Z)));for(ue=0;ue<ve;ue++)null!=he[ue]&&(M[ue].style.display=he[ue]);return M}j.fn.extend({show:function(){return oo(this,!0)},hide:function(){return oo(this)},toggle:function(M){return"boolean"==typeof M?M?this.show():this.hide():this.each(function(){Po(this)?j(this).show():j(this).hide()})}});var I,Z,on=/^(?:checkbox|radio)$/i,Tt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Qt=/^$|^module$|\/(?:java|ecma)script/i;I=we.createDocumentFragment().appendChild(we.createElement("div")),(Z=we.createElement("input")).setAttribute("type","radio"),Z.setAttribute("checked","checked"),Z.setAttribute("name","t"),I.appendChild(Z),K.checkClone=I.cloneNode(!0).cloneNode(!0).lastChild.checked,I.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!I.cloneNode(!0).lastChild.defaultValue,I.innerHTML="<option></option>",K.option=!!I.lastChild;var nn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dn(M,I){var Z;return Z=typeof M.getElementsByTagName<"u"?M.getElementsByTagName(I||"*"):typeof M.querySelectorAll<"u"?M.querySelectorAll(I||"*"):[],void 0===I||I&&pt(M,I)?j.merge([M],Z):Z}function Gn(M,I){for(var Z=0,re=M.length;Z<re;Z++)En.set(M[Z],"globalEval",!I||En.get(I[Z],"globalEval"))}nn.tbody=nn.tfoot=nn.colgroup=nn.caption=nn.thead,nn.th=nn.td,K.option||(nn.optgroup=nn.option=[1,"<select multiple='multiple'>","</select>"]);var rr=/<|&#?\w+;/;function oi(M,I,Z,re,he){for(var ue,ve,Ye,je,et,St,zt=I.createDocumentFragment(),ut=[],rn=0,li=M.length;rn<li;rn++)if((ue=M[rn])||0===ue)if("object"===Ge(ue))j.merge(ut,ue.nodeType?[ue]:ue);else if(rr.test(ue)){for(ve=ve||zt.appendChild(I.createElement("div")),Ye=(Tt.exec(ue)||["",""])[1].toLowerCase(),ve.innerHTML=(je=nn[Ye]||nn._default)[1]+j.htmlPrefilter(ue)+je[2],St=je[0];St--;)ve=ve.lastChild;j.merge(ut,ve.childNodes),(ve=zt.firstChild).textContent=""}else ut.push(I.createTextNode(ue));for(zt.textContent="",rn=0;ue=ut[rn++];)if(re&&j.inArray(ue,re)>-1)he&&he.push(ue);else if(et=eo(ue),ve=dn(zt.appendChild(ue),"script"),et&&Gn(ve),Z)for(St=0;ue=ve[St++];)Qt.test(ue.type||"")&&Z.push(ue);return zt}var Sr=/^([^.]*)(?:\.(.+)|)/;function Wn(){return!0}function Er(){return!1}function Wa(M,I,Z,re,he,ue){var ve,Ye;if("object"==typeof I){for(Ye in"string"!=typeof Z&&(re=re||Z,Z=void 0),I)Wa(M,Ye,Z,re,I[Ye],ue);return M}if(null==re&&null==he?(he=Z,re=Z=void 0):null==he&&("string"==typeof Z?(he=re,re=void 0):(he=re,re=Z,Z=void 0)),!1===he)he=Er;else if(!he)return M;return 1===ue&&(ve=he,he=function(je){return j().off(je),ve.apply(this,arguments)},he.guid=ve.guid||(ve.guid=j.guid++)),M.each(function(){j.event.add(this,I,he,re,Z)})}function Zc(M,I,Z){Z?(En.set(M,I,!1),j.event.add(M,I,{namespace:!1,handler:function(re){var he,ue=En.get(this,I);if(1&re.isTrigger&&this[I]){if(ue)(j.event.special[I]||{}).delegateType&&re.stopPropagation();else if(ue=U.call(arguments),En.set(this,I,ue),this[I](),he=En.get(this,I),En.set(this,I,!1),ue!==he)return re.stopImmediatePropagation(),re.preventDefault(),he}else ue&&(En.set(this,I,j.event.trigger(ue[0],ue.slice(1),this)),re.stopPropagation(),re.isImmediatePropagationStopped=Wn)}})):void 0===En.get(M,I)&&j.event.add(M,I,Wn)}j.event={global:{},add:function(M,I,Z,re,he){var ue,ve,Ye,je,et,St,zt,ut,rn,li,mi,Ai=En.get(M);if(dr(M))for(Z.handler&&(Z=(ue=Z).handler,he=ue.selector),he&&j.find.matchesSelector(zr,he),Z.guid||(Z.guid=j.guid++),(je=Ai.events)||(je=Ai.events=Object.create(null)),(ve=Ai.handle)||(ve=Ai.handle=function($o){return typeof j<"u"&&j.event.triggered!==$o.type?j.event.dispatch.apply(M,arguments):void 0}),et=(I=(I||"").match(Zt)||[""]).length;et--;)rn=mi=(Ye=Sr.exec(I[et])||[])[1],li=(Ye[2]||"").split(".").sort(),rn&&(zt=j.event.special[rn]||{},zt=j.event.special[rn=(he?zt.delegateType:zt.bindType)||rn]||{},St=j.extend({type:rn,origType:mi,data:re,handler:Z,guid:Z.guid,selector:he,needsContext:he&&j.expr.match.needsContext.test(he),namespace:li.join(".")},ue),(ut=je[rn])||((ut=je[rn]=[]).delegateCount=0,(!zt.setup||!1===zt.setup.call(M,re,li,ve))&&M.addEventListener&&M.addEventListener(rn,ve)),zt.add&&(zt.add.call(M,St),St.handler.guid||(St.handler.guid=Z.guid)),he?ut.splice(ut.delegateCount++,0,St):ut.push(St),j.event.global[rn]=!0)},remove:function(M,I,Z,re,he){var ue,ve,Ye,je,et,St,zt,ut,rn,li,mi,Ai=En.hasData(M)&&En.get(M);if(Ai&&(je=Ai.events)){for(et=(I=(I||"").match(Zt)||[""]).length;et--;)if(rn=mi=(Ye=Sr.exec(I[et])||[])[1],li=(Ye[2]||"").split(".").sort(),rn){for(zt=j.event.special[rn]||{},ut=je[rn=(re?zt.delegateType:zt.bindType)||rn]||[],Ye=Ye[2]&&new RegExp("(^|\\.)"+li.join("\\.(?:.*\\.|)")+"(\\.|$)"),ve=ue=ut.length;ue--;)St=ut[ue],(he||mi===St.origType)&&(!Z||Z.guid===St.guid)&&(!Ye||Ye.test(St.namespace))&&(!re||re===St.selector||"**"===re&&St.selector)&&(ut.splice(ue,1),St.selector&&ut.delegateCount--,zt.remove&&zt.remove.call(M,St));ve&&!ut.length&&((!zt.teardown||!1===zt.teardown.call(M,li,Ai.handle))&&j.removeEvent(M,rn,Ai.handle),delete je[rn])}else for(rn in je)j.event.remove(M,rn+I[et],Z,re,!0);j.isEmptyObject(je)&&En.remove(M,"handle events")}},dispatch:function(M){var I,Z,re,he,ue,ve,Ye=new Array(arguments.length),je=j.event.fix(M),et=(En.get(this,"events")||Object.create(null))[je.type]||[],St=j.event.special[je.type]||{};for(Ye[0]=je,I=1;I<arguments.length;I++)Ye[I]=arguments[I];if(je.delegateTarget=this,!St.preDispatch||!1!==St.preDispatch.call(this,je)){for(ve=j.event.handlers.call(this,je,et),I=0;(he=ve[I++])&&!je.isPropagationStopped();)for(je.currentTarget=he.elem,Z=0;(ue=he.handlers[Z++])&&!je.isImmediatePropagationStopped();)(!je.rnamespace||!1===ue.namespace||je.rnamespace.test(ue.namespace))&&(je.handleObj=ue,je.data=ue.data,void 0!==(re=((j.event.special[ue.origType]||{}).handle||ue.handler).apply(he.elem,Ye))&&!1===(je.result=re)&&(je.preventDefault(),je.stopPropagation()));return St.postDispatch&&St.postDispatch.call(this,je),je.result}},handlers:function(M,I){var Z,re,he,ue,ve,Ye=[],je=I.delegateCount,et=M.target;if(je&&et.nodeType&&!("click"===M.type&&M.button>=1))for(;et!==this;et=et.parentNode||this)if(1===et.nodeType&&("click"!==M.type||!0!==et.disabled)){for(ue=[],ve={},Z=0;Z<je;Z++)void 0===ve[he=(re=I[Z]).selector+" "]&&(ve[he]=re.needsContext?j(he,this).index(et)>-1:j.find(he,this,null,[et]).length),ve[he]&&ue.push(re);ue.length&&Ye.push({elem:et,handlers:ue})}return et=this,je<I.length&&Ye.push({elem:et,handlers:I.slice(je)}),Ye},addProp:function(M,I){Object.defineProperty(j.Event.prototype,M,{enumerable:!0,configurable:!0,get:oe(I)?function(){if(this.originalEvent)return I(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[M]},set:function(Z){Object.defineProperty(this,M,{enumerable:!0,configurable:!0,writable:!0,value:Z})}})},fix:function(M){return M[j.expando]?M:new j.Event(M)},special:{load:{noBubble:!0},click:{setup:function(M){var I=this||M;return on.test(I.type)&&I.click&&pt(I,"input")&&Zc(I,"click",!0),!1},trigger:function(M){var I=this||M;return on.test(I.type)&&I.click&&pt(I,"input")&&Zc(I,"click"),!0},_default:function(M){var I=M.target;return on.test(I.type)&&I.click&&pt(I,"input")&&En.get(I,"click")||pt(I,"a")}},beforeunload:{postDispatch:function(M){void 0!==M.result&&M.originalEvent&&(M.originalEvent.returnValue=M.result)}}}},j.removeEvent=function(M,I,Z){M.removeEventListener&&M.removeEventListener(I,Z)},j.Event=function(M,I){if(!(this instanceof j.Event))return new j.Event(M,I);M&&M.type?(this.originalEvent=M,this.type=M.type,this.isDefaultPrevented=M.defaultPrevented||void 0===M.defaultPrevented&&!1===M.returnValue?Wn:Er,this.target=M.target&&3===M.target.nodeType?M.target.parentNode:M.target,this.currentTarget=M.currentTarget,this.relatedTarget=M.relatedTarget):this.type=M,I&&j.extend(this,I),this.timeStamp=M&&M.timeStamp||Date.now(),this[j.expando]=!0},j.Event.prototype={constructor:j.Event,isDefaultPrevented:Er,isPropagationStopped:Er,isImmediatePropagationStopped:Er,isSimulated:!1,preventDefault:function(){var M=this.originalEvent;this.isDefaultPrevented=Wn,M&&!this.isSimulated&&M.preventDefault()},stopPropagation:function(){var M=this.originalEvent;this.isPropagationStopped=Wn,M&&!this.isSimulated&&M.stopPropagation()},stopImmediatePropagation:function(){var M=this.originalEvent;this.isImmediatePropagationStopped=Wn,M&&!this.isSimulated&&M.stopImmediatePropagation(),this.stopPropagation()}},j.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},j.event.addProp),j.each({focus:"focusin",blur:"focusout"},function(M,I){function Z(re){if(we.documentMode){var he=En.get(this,"handle"),ue=j.event.fix(re);ue.type="focusin"===re.type?"focus":"blur",ue.isSimulated=!0,he(re),ue.target===ue.currentTarget&&he(ue)}else j.event.simulate(I,re.target,j.event.fix(re))}j.event.special[M]={setup:function(){var re;if(Zc(this,M,!0),!we.documentMode)return!1;(re=En.get(this,I))||this.addEventListener(I,Z),En.set(this,I,(re||0)+1)},trigger:function(){return Zc(this,M),!0},teardown:function(){var re;if(!we.documentMode)return!1;(re=En.get(this,I)-1)?En.set(this,I,re):(this.removeEventListener(I,Z),En.remove(this,I))},_default:function(re){return En.get(re.target,M)},delegateType:I},j.event.special[I]={setup:function(){var re=this.ownerDocument||this.document||this,he=we.documentMode?this:re,ue=En.get(he,I);ue||(we.documentMode?this.addEventListener(I,Z):re.addEventListener(M,Z,!0)),En.set(he,I,(ue||0)+1)},teardown:function(){var re=this.ownerDocument||this.document||this,he=we.documentMode?this:re,ue=En.get(he,I)-1;ue?En.set(he,I,ue):(we.documentMode?this.removeEventListener(I,Z):re.removeEventListener(M,Z,!0),En.remove(he,I))}}}),j.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(M,I){j.event.special[M]={delegateType:I,bindType:I,handle:function(Z){var re,ue=Z.relatedTarget,ve=Z.handleObj;return(!ue||ue!==this&&!j.contains(this,ue))&&(Z.type=ve.origType,re=ve.handler.apply(this,arguments),Z.type=I),re}}}),j.fn.extend({on:function(M,I,Z,re){return Wa(this,M,I,Z,re)},one:function(M,I,Z,re){return Wa(this,M,I,Z,re,1)},off:function(M,I,Z){var re,he;if(M&&M.preventDefault&&M.handleObj)return re=M.handleObj,j(M.delegateTarget).off(re.namespace?re.origType+"."+re.namespace:re.origType,re.selector,re.handler),this;if("object"==typeof M){for(he in M)this.off(he,I,M[he]);return this}return(!1===I||"function"==typeof I)&&(Z=I,I=void 0),!1===Z&&(Z=Er),this.each(function(){j.event.remove(this,M,Z,I)})}});var Ur=/<script|<style|<link/i,Al=/checked\s*(?:[^=]|=\s*.checked.)/i,jd=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ef(M,I){return pt(M,"table")&&pt(11!==I.nodeType?I:I.firstChild,"tr")&&j(M).children("tbody")[0]||M}function Li(M){return M.type=(null!==M.getAttribute("type"))+"/"+M.type,M}function Sm(M){return"true/"===(M.type||"").slice(0,5)?M.type=M.type.slice(5):M.removeAttribute("type"),M}function tf(M,I){var Z,re,he,ve,Ye,je;if(1===I.nodeType){if(En.hasData(M)&&(je=En.get(M).events))for(he in En.remove(I,"handle events"),je)for(Z=0,re=je[he].length;Z<re;Z++)j.event.add(I,he,je[he][Z]);Fr.hasData(M)&&(ve=Fr.access(M),Ye=j.extend({},ve),Fr.set(I,Ye))}}function Vu(M,I){var Z=I.nodeName.toLowerCase();"input"===Z&&on.test(M.type)?I.checked=M.checked:("input"===Z||"textarea"===Z)&&(I.defaultValue=M.defaultValue)}function zi(M,I,Z,re){I=X(I);var he,ue,ve,Ye,je,et,St=0,zt=M.length,ut=zt-1,rn=I[0],li=oe(rn);if(li||zt>1&&"string"==typeof rn&&!K.checkClone&&Al.test(rn))return M.each(function(mi){var Ai=M.eq(mi);li&&(I[0]=rn.call(this,mi,Ai.html())),zi(Ai,I,Z,re)});if(zt&&(ue=(he=oi(I,M[0].ownerDocument,!1,M,re)).firstChild,1===he.childNodes.length&&(he=ue),ue||re)){for(Ye=(ve=j.map(dn(he,"script"),Li)).length;St<zt;St++)je=he,St!==ut&&(je=j.clone(je,!0,!0),Ye&&j.merge(ve,dn(je,"script"))),Z.call(M[St],je,St);if(Ye)for(et=ve[ve.length-1].ownerDocument,j.map(ve,Sm),St=0;St<Ye;St++)Qt.test((je=ve[St]).type||"")&&!En.access(je,"globalEval")&&j.contains(et,je)&&(je.src&&"module"!==(je.type||"").toLowerCase()?j._evalUrl&&!je.noModule&&j._evalUrl(je.src,{nonce:je.nonce||je.getAttribute("nonce")},et):Ze(je.textContent.replace(jd,""),je,et))}return M}function Hu(M,I,Z){for(var re,he=I?j.filter(I,M):M,ue=0;null!=(re=he[ue]);ue++)!Z&&1===re.nodeType&&j.cleanData(dn(re)),re.parentNode&&(Z&&eo(re)&&Gn(dn(re,"script")),re.parentNode.removeChild(re));return M}j.extend({htmlPrefilter:function(M){return M},clone:function(M,I,Z){var re,he,ue,ve,Ye=M.cloneNode(!0),je=eo(M);if(!(K.noCloneChecked||1!==M.nodeType&&11!==M.nodeType||j.isXMLDoc(M)))for(ve=dn(Ye),re=0,he=(ue=dn(M)).length;re<he;re++)Vu(ue[re],ve[re]);if(I)if(Z)for(ue=ue||dn(M),ve=ve||dn(Ye),re=0,he=ue.length;re<he;re++)tf(ue[re],ve[re]);else tf(M,Ye);return(ve=dn(Ye,"script")).length>0&&Gn(ve,!je&&dn(M,"script")),Ye},cleanData:function(M){for(var I,Z,re,he=j.event.special,ue=0;void 0!==(Z=M[ue]);ue++)if(dr(Z)){if(I=Z[En.expando]){if(I.events)for(re in I.events)he[re]?j.event.remove(Z,re):j.removeEvent(Z,re,I.handle);Z[En.expando]=void 0}Z[Fr.expando]&&(Z[Fr.expando]=void 0)}}}),j.fn.extend({detach:function(M){return Hu(this,M,!0)},remove:function(M){return Hu(this,M)},text:function(M){return ln(this,function(I){return void 0===I?j.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=I)})},null,M,arguments.length)},append:function(){return zi(this,arguments,function(M){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ef(this,M).appendChild(M)})},prepend:function(){return zi(this,arguments,function(M){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var I=ef(this,M);I.insertBefore(M,I.firstChild)}})},before:function(){return zi(this,arguments,function(M){this.parentNode&&this.parentNode.insertBefore(M,this)})},after:function(){return zi(this,arguments,function(M){this.parentNode&&this.parentNode.insertBefore(M,this.nextSibling)})},empty:function(){for(var M,I=0;null!=(M=this[I]);I++)1===M.nodeType&&(j.cleanData(dn(M,!1)),M.textContent="");return this},clone:function(M,I){return M=M??!1,I=I??M,this.map(function(){return j.clone(this,M,I)})},html:function(M){return ln(this,function(I){var Z=this[0]||{},re=0,he=this.length;if(void 0===I&&1===Z.nodeType)return Z.innerHTML;if("string"==typeof I&&!Ur.test(I)&&!nn[(Tt.exec(I)||["",""])[1].toLowerCase()]){I=j.htmlPrefilter(I);try{for(;re<he;re++)1===(Z=this[re]||{}).nodeType&&(j.cleanData(dn(Z,!1)),Z.innerHTML=I);Z=0}catch{}}Z&&this.empty().append(I)},null,M,arguments.length)},replaceWith:function(){var M=[];return zi(this,arguments,function(I){var Z=this.parentNode;j.inArray(this,M)<0&&(j.cleanData(dn(this)),Z&&Z.replaceChild(I,this))},M)}}),j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(M,I){j.fn[M]=function(Z){for(var re,he=[],ue=j(Z),ve=ue.length-1,Ye=0;Ye<=ve;Ye++)re=Ye===ve?this:this.clone(!0),j(ue[Ye])[I](re),T.apply(he,re.get());return this.pushStack(he)}});var Oc=new RegExp("^("+br+")(?!px)[a-z%]+$","i"),tn=/^--/,is=function(M){var I=M.ownerDocument.defaultView;return(!I||!I.opener)&&(I=w),I.getComputedStyle(M)},_r=function(M,I,Z){var re,he,ue={};for(he in I)ue[he]=M.style[he],M.style[he]=I[he];for(he in re=Z.call(M),I)M.style[he]=ue[he];return re},ps=new RegExp(Br.join("|"),"i");function Yo(M,I,Z){var re,he,ue,ve,Ye=tn.test(I),je=M.style;return(Z=Z||is(M))&&(ve=Z.getPropertyValue(I)||Z[I],Ye&&ve&&(ve=ve.replace(vt,"$1")||void 0),""===ve&&!eo(M)&&(ve=j.style(M,I)),!K.pixelBoxStyles()&&Oc.test(ve)&&ps.test(I)&&(re=je.width,he=je.minWidth,ue=je.maxWidth,je.minWidth=je.maxWidth=je.width=ve,ve=Z.width,je.width=re,je.minWidth=he,je.maxWidth=ue)),void 0!==ve?ve+"":ve}function Sc(M,I){return{get:function(){if(!M())return(this.get=I).apply(this,arguments);delete this.get}}}!function(){function M(){if(et){je.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",et.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",zr.appendChild(je).appendChild(et);var St=w.getComputedStyle(et);Z="1%"!==St.top,Ye=12===I(St.marginLeft),et.style.right="60%",ue=36===I(St.right),re=36===I(St.width),et.style.position="absolute",he=12===I(et.offsetWidth/3),zr.removeChild(je),et=null}}function I(St){return Math.round(parseFloat(St))}var Z,re,he,ue,ve,Ye,je=we.createElement("div"),et=we.createElement("div");et.style&&(et.style.backgroundClip="content-box",et.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===et.style.backgroundClip,j.extend(K,{boxSizingReliable:function(){return M(),re},pixelBoxStyles:function(){return M(),ue},pixelPosition:function(){return M(),Z},reliableMarginLeft:function(){return M(),Ye},scrollboxSize:function(){return M(),he},reliableTrDimensions:function(){var St,zt,ut,rn;return null==ve&&(St=we.createElement("table"),zt=we.createElement("tr"),ut=we.createElement("div"),St.style.cssText="position:absolute;left:-11111px;border-collapse:separate",zt.style.cssText="box-sizing:content-box;border:1px solid",zt.style.height="1px",ut.style.height="9px",ut.style.display="block",zr.appendChild(St).appendChild(zt).appendChild(ut),rn=w.getComputedStyle(zt),ve=parseInt(rn.height,10)+parseInt(rn.borderTopWidth,10)+parseInt(rn.borderBottomWidth,10)===zt.offsetHeight,zr.removeChild(St)),ve}}))}();var fs=["Webkit","Moz","ms"],Gu=we.createElement("div").style,Dh={};function Pa(M){return j.cssProps[M]||Dh[M]||(M in Gu?M:Dh[M]=function Ah(M){for(var I=M[0].toUpperCase()+M.slice(1),Z=fs.length;Z--;)if((M=fs[Z]+I)in Gu)return M}(M)||M)}var Tn=/^(none|table(?!-c[ea]).+)/,Hi={position:"absolute",visibility:"hidden",display:"block"},mo={letterSpacing:"0",fontWeight:"400"};function Oa(M,I,Z){var re=Tr.exec(I);return re?Math.max(0,re[2]-(Z||0))+(re[3]||"px"):I}function Tl(M,I,Z,re,he,ue){var ve="width"===I?1:0,Ye=0,je=0,et=0;if(Z===(re?"border":"content"))return 0;for(;ve<4;ve+=2)"margin"===Z&&(et+=j.css(M,Z+Br[ve],!0,he)),re?("content"===Z&&(je-=j.css(M,"padding"+Br[ve],!0,he)),"margin"!==Z&&(je-=j.css(M,"border"+Br[ve]+"Width",!0,he))):(je+=j.css(M,"padding"+Br[ve],!0,he),"padding"!==Z?je+=j.css(M,"border"+Br[ve]+"Width",!0,he):Ye+=j.css(M,"border"+Br[ve]+"Width",!0,he));return!re&&ue>=0&&(je+=Math.max(0,Math.ceil(M["offset"+I[0].toUpperCase()+I.slice(1)]-ue-je-Ye-.5))||0),je+et}function rs(M,I,Z){var re=is(M),ue=(!K.boxSizingReliable()||Z)&&"border-box"===j.css(M,"boxSizing",!1,re),ve=ue,Ye=Yo(M,I,re),je="offset"+I[0].toUpperCase()+I.slice(1);if(Oc.test(Ye)){if(!Z)return Ye;Ye="auto"}return(!K.boxSizingReliable()&&ue||!K.reliableTrDimensions()&&pt(M,"tr")||"auto"===Ye||!parseFloat(Ye)&&"inline"===j.css(M,"display",!1,re))&&M.getClientRects().length&&(ue="border-box"===j.css(M,"boxSizing",!1,re),(ve=je in M)&&(Ye=M[je])),(Ye=parseFloat(Ye)||0)+Tl(M,I,Z||(ue?"border":"content"),ve,re,Ye)+"px"}function so(M,I,Z,re,he){return new so.prototype.init(M,I,Z,re,he)}j.extend({cssHooks:{opacity:{get:function(M,I){if(I){var Z=Yo(M,"opacity");return""===Z?"1":Z}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(M,I,Z,re){if(M&&3!==M.nodeType&&8!==M.nodeType&&M.style){var he,ue,ve,Ye=Yi(I),je=tn.test(I),et=M.style;if(je||(I=Pa(Ye)),ve=j.cssHooks[I]||j.cssHooks[Ye],void 0===Z)return ve&&"get"in ve&&void 0!==(he=ve.get(M,!1,re))?he:et[I];if("string"==(ue=typeof Z)&&(he=Tr.exec(Z))&&he[1]&&(Z=Lt(M,I,he),ue="number"),null==Z||Z!=Z)return;"number"===ue&&!je&&(Z+=he&&he[3]||(j.cssNumber[Ye]?"":"px")),!K.clearCloneStyle&&""===Z&&0===I.indexOf("background")&&(et[I]="inherit"),(!ve||!("set"in ve)||void 0!==(Z=ve.set(M,Z,re)))&&(je?et.setProperty(I,Z):et[I]=Z)}},css:function(M,I,Z,re){var he,ue,ve,Ye=Yi(I);return tn.test(I)||(I=Pa(Ye)),(ve=j.cssHooks[I]||j.cssHooks[Ye])&&"get"in ve&&(he=ve.get(M,!0,Z)),void 0===he&&(he=Yo(M,I,re)),"normal"===he&&I in mo&&(he=mo[I]),""===Z||Z?(ue=parseFloat(he),!0===Z||isFinite(ue)?ue||0:he):he}}),j.each(["height","width"],function(M,I){j.cssHooks[I]={get:function(Z,re,he){if(re)return!Tn.test(j.css(Z,"display"))||Z.getClientRects().length&&Z.getBoundingClientRect().width?rs(Z,I,he):_r(Z,Hi,function(){return rs(Z,I,he)})},set:function(Z,re,he){var ue,ve=is(Z),Ye=!K.scrollboxSize()&&"absolute"===ve.position,et=(Ye||he)&&"border-box"===j.css(Z,"boxSizing",!1,ve),St=he?Tl(Z,I,he,et,ve):0;return et&&Ye&&(St-=Math.ceil(Z["offset"+I[0].toUpperCase()+I.slice(1)]-parseFloat(ve[I])-Tl(Z,I,"border",!1,ve)-.5)),St&&(ue=Tr.exec(re))&&"px"!==(ue[3]||"px")&&(Z.style[I]=re,re=j.css(Z,I)),Oa(0,re,St)}}}),j.cssHooks.marginLeft=Sc(K.reliableMarginLeft,function(M,I){if(I)return(parseFloat(Yo(M,"marginLeft"))||M.getBoundingClientRect().left-_r(M,{marginLeft:0},function(){return M.getBoundingClientRect().left}))+"px"}),j.each({margin:"",padding:"",border:"Width"},function(M,I){j.cssHooks[M+I]={expand:function(Z){for(var re=0,he={},ue="string"==typeof Z?Z.split(" "):[Z];re<4;re++)he[M+Br[re]+I]=ue[re]||ue[re-2]||ue[0];return he}},"margin"!==M&&(j.cssHooks[M+I].set=Oa)}),j.fn.extend({css:function(M,I){return ln(this,function(Z,re,he){var ue,ve,Ye={},je=0;if(Array.isArray(re)){for(ue=is(Z),ve=re.length;je<ve;je++)Ye[re[je]]=j.css(Z,re[je],!1,ue);return Ye}return void 0!==he?j.style(Z,re,he):j.css(Z,re)},M,I,arguments.length>1)}}),j.Tween=so,so.prototype={constructor:so,init:function(M,I,Z,re,he,ue){this.elem=M,this.prop=Z,this.easing=he||j.easing._default,this.options=I,this.start=this.now=this.cur(),this.end=re,this.unit=ue||(j.cssNumber[Z]?"":"px")},cur:function(){var M=so.propHooks[this.prop];return M&&M.get?M.get(this):so.propHooks._default.get(this)},run:function(M){var I,Z=so.propHooks[this.prop];return this.pos=I=this.options.duration?j.easing[this.easing](M,this.options.duration*M,0,1,this.options.duration):M,this.now=(this.end-this.start)*I+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Z&&Z.set?Z.set(this):so.propHooks._default.set(this),this}},so.prototype.init.prototype=so.prototype,so.propHooks={_default:{get:function(M){var I;return 1!==M.elem.nodeType||null!=M.elem[M.prop]&&null==M.elem.style[M.prop]?M.elem[M.prop]:(I=j.css(M.elem,M.prop,""))&&"auto"!==I?I:0},set:function(M){j.fx.step[M.prop]?j.fx.step[M.prop](M):1!==M.elem.nodeType||!j.cssHooks[M.prop]&&null==M.elem.style[Pa(M.prop)]?M.elem[M.prop]=M.now:j.style(M.elem,M.prop,M.now+M.unit)}}},so.propHooks.scrollTop=so.propHooks.scrollLeft={set:function(M){M.elem.nodeType&&M.elem.parentNode&&(M.elem[M.prop]=M.now)}},j.easing={linear:function(M){return M},swing:function(M){return.5-Math.cos(M*Math.PI)/2},_default:"swing"},j.fx=so.prototype.init,j.fx.step={};var qr,Ec,Th=/^(?:toggle|show|hide)$/,Gi=/queueHooks$/;function Vd(){Ec&&(!1===we.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(Vd):w.setTimeout(Vd,j.fx.interval),j.fx.tick())}function qa(){return w.setTimeout(function(){qr=void 0}),qr=Date.now()}function Jc(M,I){var Z,re=0,he={height:M};for(I=I?1:0;re<4;re+=2-I)he["margin"+(Z=Br[re])]=he["padding"+Z]=M;return I&&(he.opacity=he.width=M),he}function Dc(M,I,Z){for(var re,he=(ms.tweeners[I]||[]).concat(ms.tweeners["*"]),ue=0,ve=he.length;ue<ve;ue++)if(re=he[ue].call(Z,I,M))return re}function ms(M,I,Z){var re,he,ue=0,ve=ms.prefilters.length,Ye=j.Deferred().always(function(){delete je.elem}),je=function(){if(he)return!1;for(var zt=qr||qa(),ut=Math.max(0,et.startTime+et.duration-zt),li=1-(ut/et.duration||0),mi=0,Ai=et.tweens.length;mi<Ai;mi++)et.tweens[mi].run(li);return Ye.notifyWith(M,[et,li,ut]),li<1&&Ai?ut:(Ai||Ye.notifyWith(M,[et,1,0]),Ye.resolveWith(M,[et]),!1)},et=Ye.promise({elem:M,props:j.extend({},I),opts:j.extend(!0,{specialEasing:{},easing:j.easing._default},Z),originalProperties:I,originalOptions:Z,startTime:qr||qa(),duration:Z.duration,tweens:[],createTween:function(zt,ut){var rn=j.Tween(M,et.opts,zt,ut,et.opts.specialEasing[zt]||et.opts.easing);return et.tweens.push(rn),rn},stop:function(zt){var ut=0,rn=zt?et.tweens.length:0;if(he)return this;for(he=!0;ut<rn;ut++)et.tweens[ut].run(1);return zt?(Ye.notifyWith(M,[et,1,0]),Ye.resolveWith(M,[et,zt])):Ye.rejectWith(M,[et,zt]),this}}),St=et.props;for(function ed(M,I){var Z,re,he,ue,ve;for(Z in M)if(he=I[re=Yi(Z)],ue=M[Z],Array.isArray(ue)&&(he=ue[1],ue=M[Z]=ue[0]),Z!==re&&(M[re]=ue,delete M[Z]),(ve=j.cssHooks[re])&&"expand"in ve)for(Z in ue=ve.expand(ue),delete M[re],ue)Z in M||(M[Z]=ue[Z],I[Z]=he);else I[re]=he}(St,et.opts.specialEasing);ue<ve;ue++)if(re=ms.prefilters[ue].call(et,M,St,et.opts))return oe(re.stop)&&(j._queueHooks(et.elem,et.opts.queue).stop=re.stop.bind(re)),re;return j.map(St,Dc,et),oe(et.opts.start)&&et.opts.start.call(M,et),et.progress(et.opts.progress).done(et.opts.done,et.opts.complete).fail(et.opts.fail).always(et.opts.always),j.fx.timer(j.extend(je,{elem:M,anim:et,queue:et.opts.queue})),et}j.Animation=j.extend(ms,{tweeners:{"*":[function(M,I){var Z=this.createTween(M,I);return Lt(Z.elem,M,Tr.exec(I),Z),Z}]},tweener:function(M,I){oe(M)?(I=M,M=["*"]):M=M.match(Zt);for(var Z,re=0,he=M.length;re<he;re++)(ms.tweeners[Z=M[re]]=ms.tweeners[Z]||[]).unshift(I)},prefilters:[function es(M,I,Z){var re,he,ue,ve,Ye,je,et,St,zt="width"in I||"height"in I,ut=this,rn={},li=M.style,mi=M.nodeType&&Po(M),Ai=En.get(M,"fxshow");for(re in Z.queue||(null==(ve=j._queueHooks(M,"fx")).unqueued&&(ve.unqueued=0,Ye=ve.empty.fire,ve.empty.fire=function(){ve.unqueued||Ye()}),ve.unqueued++,ut.always(function(){ut.always(function(){ve.unqueued--,j.queue(M,"fx").length||ve.empty.fire()})})),I)if(Th.test(he=I[re])){if(delete I[re],ue=ue||"toggle"===he,he===(mi?"hide":"show")){if("show"!==he||!Ai||void 0===Ai[re])continue;mi=!0}rn[re]=Ai&&Ai[re]||j.style(M,re)}if((je=!j.isEmptyObject(I))||!j.isEmptyObject(rn))for(re in zt&&1===M.nodeType&&(Z.overflow=[li.overflow,li.overflowX,li.overflowY],null==(et=Ai&&Ai.display)&&(et=En.get(M,"display")),"none"===(St=j.css(M,"display"))&&(et?St=et:(oo([M],!0),et=M.style.display||et,St=j.css(M,"display"),oo([M]))),("inline"===St||"inline-block"===St&&null!=et)&&"none"===j.css(M,"float")&&(je||(ut.done(function(){li.display=et}),null==et&&(et="none"===(St=li.display)?"":St)),li.display="inline-block")),Z.overflow&&(li.overflow="hidden",ut.always(function(){li.overflow=Z.overflow[0],li.overflowX=Z.overflow[1],li.overflowY=Z.overflow[2]})),je=!1,rn)je||(Ai?"hidden"in Ai&&(mi=Ai.hidden):Ai=En.access(M,"fxshow",{display:et}),ue&&(Ai.hidden=!mi),mi&&oo([M],!0),ut.done(function(){for(re in mi||oo([M]),En.remove(M,"fxshow"),rn)j.style(M,re,rn[re])})),je=Dc(mi?Ai[re]:0,re,ut),re in Ai||(Ai[re]=je.start,mi&&(je.end=je.start,je.start=0))}],prefilter:function(M,I){I?ms.prefilters.unshift(M):ms.prefilters.push(M)}}),j.speed=function(M,I,Z){var re=M&&"object"==typeof M?j.extend({},M):{complete:Z||!Z&&I||oe(M)&&M,duration:M,easing:Z&&I||I&&!oe(I)&&I};return j.fx.off?re.duration=0:"number"!=typeof re.duration&&(re.duration=re.duration in j.fx.speeds?j.fx.speeds[re.duration]:j.fx.speeds._default),(null==re.queue||!0===re.queue)&&(re.queue="fx"),re.old=re.complete,re.complete=function(){oe(re.old)&&re.old.call(this),re.queue&&j.dequeue(this,re.queue)},re},j.fn.extend({fadeTo:function(M,I,Z,re){return this.filter(Po).css("opacity",0).show().end().animate({opacity:I},M,Z,re)},animate:function(M,I,Z,re){var he=j.isEmptyObject(M),ue=j.speed(I,Z,re),ve=function(){var Ye=ms(this,j.extend({},M),ue);(he||En.get(this,"finish"))&&Ye.stop(!0)};return ve.finish=ve,he||!1===ue.queue?this.each(ve):this.queue(ue.queue,ve)},stop:function(M,I,Z){var re=function(he){var ue=he.stop;delete he.stop,ue(Z)};return"string"!=typeof M&&(Z=I,I=M,M=void 0),I&&this.queue(M||"fx",[]),this.each(function(){var he=!0,ue=null!=M&&M+"queueHooks",ve=j.timers,Ye=En.get(this);if(ue)Ye[ue]&&Ye[ue].stop&&re(Ye[ue]);else for(ue in Ye)Ye[ue]&&Ye[ue].stop&&Gi.test(ue)&&re(Ye[ue]);for(ue=ve.length;ue--;)ve[ue].elem===this&&(null==M||ve[ue].queue===M)&&(ve[ue].anim.stop(Z),he=!1,ve.splice(ue,1));(he||!Z)&&j.dequeue(this,M)})},finish:function(M){return!1!==M&&(M=M||"fx"),this.each(function(){var I,Z=En.get(this),re=Z[M+"queue"],he=Z[M+"queueHooks"],ue=j.timers,ve=re?re.length:0;for(Z.finish=!0,j.queue(this,M,[]),he&&he.stop&&he.stop.call(this,!0),I=ue.length;I--;)ue[I].elem===this&&ue[I].queue===M&&(ue[I].anim.stop(!0),ue.splice(I,1));for(I=0;I<ve;I++)re[I]&&re[I].finish&&re[I].finish.call(this);delete Z.finish})}}),j.each(["toggle","show","hide"],function(M,I){var Z=j.fn[I];j.fn[I]=function(re,he,ue){return null==re||"boolean"==typeof re?Z.apply(this,arguments):this.animate(Jc(I,!0),re,he,ue)}}),j.each({slideDown:Jc("show"),slideUp:Jc("hide"),slideToggle:Jc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(M,I){j.fn[M]=function(Z,re,he){return this.animate(I,Z,re,he)}}),j.timers=[],j.fx.tick=function(){var M,I=0,Z=j.timers;for(qr=Date.now();I<Z.length;I++)!(M=Z[I])()&&Z[I]===M&&Z.splice(I--,1);Z.length||j.fx.stop(),qr=void 0},j.fx.timer=function(M){j.timers.push(M),j.fx.start()},j.fx.interval=13,j.fx.start=function(){Ec||(Ec=!0,Vd())},j.fx.stop=function(){Ec=null},j.fx.speeds={slow:600,fast:200,_default:400},j.fn.delay=function(M,I){return M=j.fx&&j.fx.speeds[M]||M,this.queue(I=I||"fx",function(Z,re){var he=w.setTimeout(Z,M);re.stop=function(){w.clearTimeout(he)}})},function(){var M=we.createElement("input"),Z=we.createElement("select").appendChild(we.createElement("option"));M.type="checkbox",K.checkOn=""!==M.value,K.optSelected=Z.selected,(M=we.createElement("input")).value="t",M.type="radio",K.radioValue="t"===M.value}();var Ya,Xo=j.expr.attrHandle;j.fn.extend({attr:function(M,I){return ln(this,j.attr,M,I,arguments.length>1)},removeAttr:function(M){return this.each(function(){j.removeAttr(this,M)})}}),j.extend({attr:function(M,I,Z){var re,he,ue=M.nodeType;if(3!==ue&&8!==ue&&2!==ue)return typeof M.getAttribute>"u"?j.prop(M,I,Z):((1!==ue||!j.isXMLDoc(M))&&(he=j.attrHooks[I.toLowerCase()]||(j.expr.match.bool.test(I)?Ya:void 0)),void 0!==Z?null===Z?void j.removeAttr(M,I):he&&"set"in he&&void 0!==(re=he.set(M,Z,I))?re:(M.setAttribute(I,Z+""),Z):he&&"get"in he&&null!==(re=he.get(M,I))?re:(re=j.find.attr(M,I))??void 0)},attrHooks:{type:{set:function(M,I){if(!K.radioValue&&"radio"===I&&pt(M,"input")){var Z=M.value;return M.setAttribute("type",I),Z&&(M.value=Z),I}}}},removeAttr:function(M,I){var Z,re=0,he=I&&I.match(Zt);if(he&&1===M.nodeType)for(;Z=he[re++];)M.removeAttribute(Z)}}),Ya={set:function(M,I,Z){return!1===I?j.removeAttr(M,Z):M.setAttribute(Z,Z),Z}},j.each(j.expr.match.bool.source.match(/\w+/g),function(M,I){var Z=Xo[I]||j.find.attr;Xo[I]=function(re,he,ue){var ve,Ye,je=he.toLowerCase();return ue||(Ye=Xo[je],Xo[je]=ve,ve=null!=Z(re,he,ue)?je:null,Xo[je]=Ye),ve}});var nf=/^(?:input|select|textarea|button)$/i,to=/^(?:a|area)$/i;function td(M){return(M.match(Zt)||[]).join(" ")}function zs(M){return M.getAttribute&&M.getAttribute("class")||""}function Ih(M){return Array.isArray(M)?M:"string"==typeof M&&M.match(Zt)||[]}j.fn.extend({prop:function(M,I){return ln(this,j.prop,M,I,arguments.length>1)},removeProp:function(M){return this.each(function(){delete this[j.propFix[M]||M]})}}),j.extend({prop:function(M,I,Z){var re,he,ue=M.nodeType;if(3!==ue&&8!==ue&&2!==ue)return(1!==ue||!j.isXMLDoc(M))&&(he=j.propHooks[I=j.propFix[I]||I]),void 0!==Z?he&&"set"in he&&void 0!==(re=he.set(M,Z,I))?re:M[I]=Z:he&&"get"in he&&null!==(re=he.get(M,I))?re:M[I]},propHooks:{tabIndex:{get:function(M){var I=j.find.attr(M,"tabindex");return I?parseInt(I,10):nf.test(M.nodeName)||to.test(M.nodeName)&&M.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),K.optSelected||(j.propHooks.selected={get:function(M){return null},set:function(M){}}),j.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){j.propFix[this.toLowerCase()]=this}),j.fn.extend({addClass:function(M){var I,Z,re,he,ue,ve;return oe(M)?this.each(function(Ye){j(this).addClass(M.call(this,Ye,zs(this)))}):(I=Ih(M)).length?this.each(function(){if(re=zs(this),Z=1===this.nodeType&&" "+td(re)+" "){for(ue=0;ue<I.length;ue++)Z.indexOf(" "+(he=I[ue])+" ")<0&&(Z+=he+" ");ve=td(Z),re!==ve&&this.setAttribute("class",ve)}}):this},removeClass:function(M){var I,Z,re,he,ue,ve;return oe(M)?this.each(function(Ye){j(this).removeClass(M.call(this,Ye,zs(this)))}):arguments.length?(I=Ih(M)).length?this.each(function(){if(re=zs(this),Z=1===this.nodeType&&" "+td(re)+" "){for(ue=0;ue<I.length;ue++)for(he=I[ue];Z.indexOf(" "+he+" ")>-1;)Z=Z.replace(" "+he+" "," ");ve=td(Z),re!==ve&&this.setAttribute("class",ve)}}):this:this.attr("class","")},toggleClass:function(M,I){var Z,re,he,ue,ve=typeof M,Ye="string"===ve||Array.isArray(M);return oe(M)?this.each(function(je){j(this).toggleClass(M.call(this,je,zs(this),I),I)}):"boolean"==typeof I&&Ye?I?this.addClass(M):this.removeClass(M):(Z=Ih(M),this.each(function(){if(Ye)for(ue=j(this),he=0;he<Z.length;he++)ue.hasClass(re=Z[he])?ue.removeClass(re):ue.addClass(re);else(void 0===M||"boolean"===ve)&&((re=zs(this))&&En.set(this,"__className__",re),this.setAttribute&&this.setAttribute("class",re||!1===M?"":En.get(this,"__className__")||""))}))},hasClass:function(M){var I,Z,re=0;for(I=" "+M+" ";Z=this[re++];)if(1===Z.nodeType&&(" "+td(zs(Z))+" ").indexOf(I)>-1)return!0;return!1}});var nd=/\r/g;j.fn.extend({val:function(M){var I,Z,re,he=this[0];return arguments.length?(re=oe(M),this.each(function(ue){var ve;1===this.nodeType&&(null==(ve=re?M.call(this,ue,j(this).val()):M)?ve="":"number"==typeof ve?ve+="":Array.isArray(ve)&&(ve=j.map(ve,function(Ye){return null==Ye?"":Ye+""})),(!(I=j.valHooks[this.type]||j.valHooks[this.nodeName.toLowerCase()])||!("set"in I)||void 0===I.set(this,ve,"value"))&&(this.value=ve))})):he?(I=j.valHooks[he.type]||j.valHooks[he.nodeName.toLowerCase()])&&"get"in I&&void 0!==(Z=I.get(he,"value"))?Z:"string"==typeof(Z=he.value)?Z.replace(nd,""):Z??"":void 0}}),j.extend({valHooks:{option:{get:function(M){return j.find.attr(M,"value")??td(j.text(M))}},select:{get:function(M){var I,Z,re,he=M.options,ue=M.selectedIndex,ve="select-one"===M.type,Ye=ve?null:[],je=ve?ue+1:he.length;for(re=ue<0?je:ve?ue:0;re<je;re++)if(((Z=he[re]).selected||re===ue)&&!Z.disabled&&(!Z.parentNode.disabled||!pt(Z.parentNode,"optgroup"))){if(I=j(Z).val(),ve)return I;Ye.push(I)}return Ye},set:function(M,I){for(var Z,re,he=M.options,ue=j.makeArray(I),ve=he.length;ve--;)((re=he[ve]).selected=j.inArray(j.valHooks.option.get(re),ue)>-1)&&(Z=!0);return Z||(M.selectedIndex=-1),ue}}}}),j.each(["radio","checkbox"],function(){j.valHooks[this]={set:function(M,I){if(Array.isArray(I))return M.checked=j.inArray(j(M).val(),I)>-1}},K.checkOn||(j.valHooks[this].get=function(M){return null===M.getAttribute("value")?"on":M.value})});var Il=w.location,Ac={guid:Date.now()},os=/\?/;j.parseXML=function(M){var I,Z;if(!M||"string"!=typeof M)return null;try{I=(new w.DOMParser).parseFromString(M,"text/xml")}catch{}return Z=I&&I.getElementsByTagName("parsererror")[0],(!I||Z)&&j.error("Invalid XML: "+(Z?j.map(Z.childNodes,function(re){return re.textContent}).join("\n"):M)),I};var Em=/^(?:focusinfocus|focusoutblur)$/,Us=function(M){M.stopPropagation()};j.extend(j.event,{trigger:function(M,I,Z,re){var he,ue,ve,Ye,je,et,St,zt,ut=[Z||we],rn=L.call(M,"type")?M.type:M,li=L.call(M,"namespace")?M.namespace.split("."):[];if(ue=zt=ve=Z=Z||we,3!==Z.nodeType&&8!==Z.nodeType&&!Em.test(rn+j.event.triggered)&&(rn.indexOf(".")>-1&&(li=rn.split("."),rn=li.shift(),li.sort()),je=rn.indexOf(":")<0&&"on"+rn,(M=M[j.expando]?M:new j.Event(rn,"object"==typeof M&&M)).isTrigger=re?2:3,M.namespace=li.join("."),M.rnamespace=M.namespace?new RegExp("(^|\\.)"+li.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,M.result=void 0,M.target||(M.target=Z),I=null==I?[M]:j.makeArray(I,[M]),St=j.event.special[rn]||{},re||!St.trigger||!1!==St.trigger.apply(Z,I))){if(!re&&!St.noBubble&&!le(Z)){for(Em.test((Ye=St.delegateType||rn)+rn)||(ue=ue.parentNode);ue;ue=ue.parentNode)ut.push(ue),ve=ue;ve===(Z.ownerDocument||we)&&ut.push(ve.defaultView||ve.parentWindow||w)}for(he=0;(ue=ut[he++])&&!M.isPropagationStopped();)zt=ue,M.type=he>1?Ye:St.bindType||rn,(et=(En.get(ue,"events")||Object.create(null))[M.type]&&En.get(ue,"handle"))&&et.apply(ue,I),(et=je&&ue[je])&&et.apply&&dr(ue)&&(M.result=et.apply(ue,I),!1===M.result&&M.preventDefault());return M.type=rn,!re&&!M.isDefaultPrevented()&&(!St._default||!1===St._default.apply(ut.pop(),I))&&dr(Z)&&je&&oe(Z[rn])&&!le(Z)&&((ve=Z[je])&&(Z[je]=null),j.event.triggered=rn,M.isPropagationStopped()&&zt.addEventListener(rn,Us),Z[rn](),M.isPropagationStopped()&&zt.removeEventListener(rn,Us),j.event.triggered=void 0,ve&&(Z[je]=ve)),M.result}},simulate:function(M,I,Z){var re=j.extend(new j.Event,Z,{type:M,isSimulated:!0});j.event.trigger(re,null,I)}}),j.fn.extend({trigger:function(M,I){return this.each(function(){j.event.trigger(M,I,this)})},triggerHandler:function(M,I){var Z=this[0];if(Z)return j.event.trigger(M,I,Z,!0)}});var Sa=/\[\]$/,kh=/\r?\n/g,Hd=/^(?:submit|button|image|reset|file)$/i,kl=/^(?:input|select|textarea|keygen)/i;function na(M,I,Z,re){var he;if(Array.isArray(I))j.each(I,function(ue,ve){Z||Sa.test(M)?re(M,ve):na(M+"["+("object"==typeof ve&&null!=ve?ue:"")+"]",ve,Z,re)});else if(Z||"object"!==Ge(I))re(M,I);else for(he in I)na(M+"["+he+"]",I[he],Z,re)}j.param=function(M,I){var Z,re=[],he=function(ue,ve){var Ye=oe(ve)?ve():ve;re[re.length]=encodeURIComponent(ue)+"="+encodeURIComponent(Ye??"")};if(null==M)return"";if(Array.isArray(M)||M.jquery&&!j.isPlainObject(M))j.each(M,function(){he(this.name,this.value)});else for(Z in M)na(Z,M[Z],I,he);return re.join("&")},j.fn.extend({serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var M=j.prop(this,"elements");return M?j.makeArray(M):this}).filter(function(){var M=this.type;return this.name&&!j(this).is(":disabled")&&kl.test(this.nodeName)&&!Hd.test(M)&&(this.checked||!on.test(M))}).map(function(M,I){var Z=j(this).val();return null==Z?null:Array.isArray(Z)?j.map(Z,function(re){return{name:I.name,value:re.replace(kh,"\r\n")}}):{name:I.name,value:Z.replace(kh,"\r\n")}}).get()}});var Dm=/%20/g,Am=/#.*$/,Tm=/([?&])_=[^&]*/,nc=/^(.*?):[ \t]*([^\r\n]*)$/gm,Im=/^(?:GET|HEAD)$/,Rh=/^\/\//,km={},rf={},Rm="*/".concat("*"),Wu=we.createElement("a");function id(M){return function(I,Z){"string"!=typeof I&&(Z=I,I="*");var re,he=0,ue=I.toLowerCase().match(Zt)||[];if(oe(Z))for(;re=ue[he++];)"+"===re[0]?(re=re.slice(1)||"*",(M[re]=M[re]||[]).unshift(Z)):(M[re]=M[re]||[]).push(Z)}}function Nm(M,I,Z,re){var he={},ue=M===rf;function ve(Ye){var je;return he[Ye]=!0,j.each(M[Ye]||[],function(et,St){var zt=St(I,Z,re);return"string"!=typeof zt||ue||he[zt]?ue?!(je=zt):void 0:(I.dataTypes.unshift(zt),ve(zt),!1)}),je}return ve(I.dataTypes[0])||!he["*"]&&ve("*")}function sf(M,I){var Z,re,he=j.ajaxSettings.flatOptions||{};for(Z in I)void 0!==I[Z]&&((he[Z]?M:re||(re={}))[Z]=I[Z]);return re&&j.extend(!0,M,re),M}Wu.href=Il.href,j.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Il.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Il.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rm,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":j.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(M,I){return I?sf(sf(M,j.ajaxSettings),I):sf(j.ajaxSettings,M)},ajaxPrefilter:id(km),ajaxTransport:id(rf),ajax:function(M,I){"object"==typeof M&&(I=M,M=void 0);var Z,re,he,ue,ve,Ye,je,et,St,zt,ut=j.ajaxSetup({},I=I||{}),rn=ut.context||ut,li=ut.context&&(rn.nodeType||rn.jquery)?j(rn):j.event,mi=j.Deferred(),Ai=j.Callbacks("once memory"),$o=ut.statusCode||{},no={},Yr={},Xa="canceled",Ti={readyState:0,getResponseHeader:function(Xi){var go;if(je){if(!ue)for(ue={};go=nc.exec(he);)ue[go[1].toLowerCase()+" "]=(ue[go[1].toLowerCase()+" "]||[]).concat(go[2]);go=ue[Xi.toLowerCase()+" "]}return null==go?null:go.join(", ")},getAllResponseHeaders:function(){return je?he:null},setRequestHeader:function(Xi,go){return null==je&&(Xi=Yr[Xi.toLowerCase()]=Yr[Xi.toLowerCase()]||Xi,no[Xi]=go),this},overrideMimeType:function(Xi){return null==je&&(ut.mimeType=Xi),this},statusCode:function(Xi){var go;if(Xi)if(je)Ti.always(Xi[Ti.status]);else for(go in Xi)$o[go]=[$o[go],Xi[go]];return this},abort:function(Xi){var go=Xi||Xa;return Z&&Z.abort(go),Ic(0,go),this}};if(mi.promise(Ti),ut.url=((M||ut.url||Il.href)+"").replace(Rh,Il.protocol+"//"),ut.type=I.method||I.type||ut.method||ut.type,ut.dataTypes=(ut.dataType||"*").toLowerCase().match(Zt)||[""],null==ut.crossDomain){Ye=we.createElement("a");try{Ye.href=ut.url,Ye.href=Ye.href,ut.crossDomain=Wu.protocol+"//"+Wu.host!=Ye.protocol+"//"+Ye.host}catch{ut.crossDomain=!0}}if(ut.data&&ut.processData&&"string"!=typeof ut.data&&(ut.data=j.param(ut.data,ut.traditional)),Nm(km,ut,I,Ti),je)return Ti;for(St in(et=j.event&&ut.global)&&0==j.active++&&j.event.trigger("ajaxStart"),ut.type=ut.type.toUpperCase(),ut.hasContent=!Im.test(ut.type),re=ut.url.replace(Am,""),ut.hasContent?ut.data&&ut.processData&&0===(ut.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ut.data=ut.data.replace(Dm,"+")):(zt=ut.url.slice(re.length),ut.data&&(ut.processData||"string"==typeof ut.data)&&(re+=(os.test(re)?"&":"?")+ut.data,delete ut.data),!1===ut.cache&&(re=re.replace(Tm,"$1"),zt=(os.test(re)?"&":"?")+"_="+Ac.guid+++zt),ut.url=re+zt),ut.ifModified&&(j.lastModified[re]&&Ti.setRequestHeader("If-Modified-Since",j.lastModified[re]),j.etag[re]&&Ti.setRequestHeader("If-None-Match",j.etag[re])),(ut.data&&ut.hasContent&&!1!==ut.contentType||I.contentType)&&Ti.setRequestHeader("Content-Type",ut.contentType),Ti.setRequestHeader("Accept",ut.dataTypes[0]&&ut.accepts[ut.dataTypes[0]]?ut.accepts[ut.dataTypes[0]]+("*"!==ut.dataTypes[0]?", "+Rm+"; q=0.01":""):ut.accepts["*"]),ut.headers)Ti.setRequestHeader(St,ut.headers[St]);if(ut.beforeSend&&(!1===ut.beforeSend.call(rn,Ti,ut)||je))return Ti.abort();if(Xa="abort",Ai.add(ut.complete),Ti.done(ut.success),Ti.fail(ut.error),Z=Nm(rf,ut,I,Ti)){if(Ti.readyState=1,et&&li.trigger("ajaxSend",[Ti,ut]),je)return Ti;ut.async&&ut.timeout>0&&(ve=w.setTimeout(function(){Ti.abort("timeout")},ut.timeout));try{je=!1,Z.send(no,Ic)}catch(Xi){if(je)throw Xi;Ic(-1,Xi)}}else Ic(-1,"No Transport");function Ic(Xi,go,ic,xi){var ia,Lh,hl,rc,oc,js=go;je||(je=!0,ve&&w.clearTimeout(ve),Z=void 0,he=xi||"",Ti.readyState=Xi>0?4:0,ia=Xi>=200&&Xi<300||304===Xi,ic&&(rc=function Lm(M,I,Z){for(var re,he,ue,ve,Ye=M.contents,je=M.dataTypes;"*"===je[0];)je.shift(),void 0===re&&(re=M.mimeType||I.getResponseHeader("Content-Type"));if(re)for(he in Ye)if(Ye[he]&&Ye[he].test(re)){je.unshift(he);break}if(je[0]in Z)ue=je[0];else{for(he in Z){if(!je[0]||M.converters[he+" "+je[0]]){ue=he;break}ve||(ve=he)}ue=ue||ve}if(ue)return ue!==je[0]&&je.unshift(ue),Z[ue]}(ut,Ti,ic)),!ia&&j.inArray("script",ut.dataTypes)>-1&&j.inArray("json",ut.dataTypes)<0&&(ut.converters["text script"]=function(){}),rc=function S0(M,I,Z,re){var he,ue,ve,Ye,je,et={},St=M.dataTypes.slice();if(St[1])for(ve in M.converters)et[ve.toLowerCase()]=M.converters[ve];for(ue=St.shift();ue;)if(M.responseFields[ue]&&(Z[M.responseFields[ue]]=I),!je&&re&&M.dataFilter&&(I=M.dataFilter(I,M.dataType)),je=ue,ue=St.shift())if("*"===ue)ue=je;else if("*"!==je&&je!==ue){if(!(ve=et[je+" "+ue]||et["* "+ue]))for(he in et)if((Ye=he.split(" "))[1]===ue&&(ve=et[je+" "+Ye[0]]||et["* "+Ye[0]])){!0===ve?ve=et[he]:!0!==et[he]&&(ue=Ye[0],St.unshift(Ye[1]));break}if(!0!==ve)if(ve&&M.throws)I=ve(I);else try{I=ve(I)}catch(zt){return{state:"parsererror",error:ve?zt:"No conversion from "+je+" to "+ue}}}return{state:"success",data:I}}(ut,rc,Ti,ia),ia?(ut.ifModified&&((oc=Ti.getResponseHeader("Last-Modified"))&&(j.lastModified[re]=oc),(oc=Ti.getResponseHeader("etag"))&&(j.etag[re]=oc)),204===Xi||"HEAD"===ut.type?js="nocontent":304===Xi?js="notmodified":(js=rc.state,Lh=rc.data,ia=!(hl=rc.error))):(hl=js,(Xi||!js)&&(js="error",Xi<0&&(Xi=0))),Ti.status=Xi,Ti.statusText=(go||js)+"",ia?mi.resolveWith(rn,[Lh,js,Ti]):mi.rejectWith(rn,[Ti,js,hl]),Ti.statusCode($o),$o=void 0,et&&li.trigger(ia?"ajaxSuccess":"ajaxError",[Ti,ut,ia?Lh:hl]),Ai.fireWith(rn,[Ti,js]),et&&(li.trigger("ajaxComplete",[Ti,ut]),--j.active||j.event.trigger("ajaxStop")))}return Ti},getJSON:function(M,I,Z){return j.get(M,I,Z,"json")},getScript:function(M,I){return j.get(M,void 0,I,"script")}}),j.each(["get","post"],function(M,I){j[I]=function(Z,re,he,ue){return oe(re)&&(ue=ue||he,he=re,re=void 0),j.ajax(j.extend({url:Z,type:I,dataType:ue,data:re,success:he},j.isPlainObject(Z)&&Z))}}),j.ajaxPrefilter(function(M){var I;for(I in M.headers)"content-type"===I.toLowerCase()&&(M.contentType=M.headers[I]||"")}),j._evalUrl=function(M,I,Z){return j.ajax({url:M,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(re){j.globalEval(re,I,Z)}})},j.fn.extend({wrapAll:function(M){var I;return this[0]&&(oe(M)&&(M=M.call(this[0])),I=j(M,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&I.insertBefore(this[0]),I.map(function(){for(var Z=this;Z.firstElementChild;)Z=Z.firstElementChild;return Z}).append(this)),this},wrapInner:function(M){return oe(M)?this.each(function(I){j(this).wrapInner(M.call(this,I))}):this.each(function(){var I=j(this),Z=I.contents();Z.length?Z.wrapAll(M):I.append(M)})},wrap:function(M){var I=oe(M);return this.each(function(Z){j(this).wrapAll(I?M.call(this,Z):M)})},unwrap:function(M){return this.parent(M).not("body").each(function(){j(this).replaceWith(this.childNodes)}),this}}),j.expr.pseudos.hidden=function(M){return!j.expr.pseudos.visible(M)},j.expr.pseudos.visible=function(M){return!!(M.offsetWidth||M.offsetHeight||M.getClientRects().length)},j.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch{}};var af={0:200,1223:204},rd=j.ajaxSettings.xhr();K.cors=!!rd&&"withCredentials"in rd,K.ajax=rd=!!rd,j.ajaxTransport(function(M){var I,Z;if(K.cors||rd&&!M.crossDomain)return{send:function(re,he){var ue,ve=M.xhr();if(ve.open(M.type,M.url,M.async,M.username,M.password),M.xhrFields)for(ue in M.xhrFields)ve[ue]=M.xhrFields[ue];for(ue in M.mimeType&&ve.overrideMimeType&&ve.overrideMimeType(M.mimeType),!M.crossDomain&&!re["X-Requested-With"]&&(re["X-Requested-With"]="XMLHttpRequest"),re)ve.setRequestHeader(ue,re[ue]);I=function(Ye){return function(){I&&(I=Z=ve.onload=ve.onerror=ve.onabort=ve.ontimeout=ve.onreadystatechange=null,"abort"===Ye?ve.abort():"error"===Ye?"number"!=typeof ve.status?he(0,"error"):he(ve.status,ve.statusText):he(af[ve.status]||ve.status,ve.statusText,"text"!==(ve.responseType||"text")||"string"!=typeof ve.responseText?{binary:ve.response}:{text:ve.responseText},ve.getAllResponseHeaders()))}},ve.onload=I(),Z=ve.onerror=ve.ontimeout=I("error"),void 0!==ve.onabort?ve.onabort=Z:ve.onreadystatechange=function(){4===ve.readyState&&w.setTimeout(function(){I&&Z()})},I=I("abort");try{ve.send(M.hasContent&&M.data||null)}catch(Ye){if(I)throw Ye}},abort:function(){I&&I()}}}),j.ajaxPrefilter(function(M){M.crossDomain&&(M.contents.script=!1)}),j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(M){return j.globalEval(M),M}}}),j.ajaxPrefilter("script",function(M){void 0===M.cache&&(M.cache=!1),M.crossDomain&&(M.type="GET")}),j.ajaxTransport("script",function(M){var I,Z;if(M.crossDomain||M.scriptAttrs)return{send:function(re,he){I=j("<script>").attr(M.scriptAttrs||{}).prop({charset:M.scriptCharset,src:M.url}).on("load error",Z=function(ue){I.remove(),Z=null,ue&&he("error"===ue.type?404:200,ue.type)}),we.head.appendChild(I[0])},abort:function(){Z&&Z()}}});var M,Fm=[],lf=/(=)\?(?=&|$)|\?\?/;j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var M=Fm.pop()||j.expando+"_"+Ac.guid++;return this[M]=!0,M}}),j.ajaxPrefilter("json jsonp",function(M,I,Z){var re,he,ue,ve=!1!==M.jsonp&&(lf.test(M.url)?"url":"string"==typeof M.data&&0===(M.contentType||"").indexOf("application/x-www-form-urlencoded")&&lf.test(M.data)&&"data");if(ve||"jsonp"===M.dataTypes[0])return re=M.jsonpCallback=oe(M.jsonpCallback)?M.jsonpCallback():M.jsonpCallback,ve?M[ve]=M[ve].replace(lf,"$1"+re):!1!==M.jsonp&&(M.url+=(os.test(M.url)?"&":"?")+M.jsonp+"="+re),M.converters["script json"]=function(){return ue||j.error(re+" was not called"),ue[0]},M.dataTypes[0]="json",he=w[re],w[re]=function(){ue=arguments},Z.always(function(){void 0===he?j(w).removeProp(re):w[re]=he,M[re]&&(M.jsonpCallback=I.jsonpCallback,Fm.push(re)),ue&&oe(he)&&he(ue[0]),ue=he=void 0}),"script"}),K.createHTMLDocument=((M=we.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===M.childNodes.length),j.parseHTML=function(M,I,Z){return"string"!=typeof M?[]:("boolean"==typeof I&&(Z=I,I=!1),I||(K.createHTMLDocument?((re=(I=we.implementation.createHTMLDocument("")).createElement("base")).href=we.location.href,I.head.appendChild(re)):I=we),ue=!Z&&[],(he=Wt.exec(M))?[I.createElement(he[1])]:(he=oi([M],I,ue),ue&&ue.length&&j(ue).remove(),j.merge([],he.childNodes)));var re,he,ue},j.fn.load=function(M,I,Z){var re,he,ue,ve=this,Ye=M.indexOf(" ");return Ye>-1&&(re=td(M.slice(Ye)),M=M.slice(0,Ye)),oe(I)?(Z=I,I=void 0):I&&"object"==typeof I&&(he="POST"),ve.length>0&&j.ajax({url:M,type:he||"GET",dataType:"html",data:I}).done(function(je){ue=arguments,ve.html(re?j("<div>").append(j.parseHTML(je)).find(re):je)}).always(Z&&function(je,et){ve.each(function(){Z.apply(this,ue||[je.responseText,et,je])})}),this},j.expr.pseudos.animated=function(M){return j.grep(j.timers,function(I){return M===I.elem}).length},j.offset={setOffset:function(M,I,Z){var re,he,ue,ve,Ye,je,St=j.css(M,"position"),zt=j(M),ut={};"static"===St&&(M.style.position="relative"),Ye=zt.offset(),ue=j.css(M,"top"),je=j.css(M,"left"),("absolute"===St||"fixed"===St)&&(ue+je).indexOf("auto")>-1?(ve=(re=zt.position()).top,he=re.left):(ve=parseFloat(ue)||0,he=parseFloat(je)||0),oe(I)&&(I=I.call(M,Z,j.extend({},Ye))),null!=I.top&&(ut.top=I.top-Ye.top+ve),null!=I.left&&(ut.left=I.left-Ye.left+he),"using"in I?I.using.call(M,ut):zt.css(ut)}},j.fn.extend({offset:function(M){if(arguments.length)return void 0===M?this:this.each(function(he){j.offset.setOffset(this,M,he)});var I,Z,re=this[0];return re?re.getClientRects().length?{top:(I=re.getBoundingClientRect()).top+(Z=re.ownerDocument.defaultView).pageYOffset,left:I.left+Z.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var M,I,Z,re=this[0],he={top:0,left:0};if("fixed"===j.css(re,"position"))I=re.getBoundingClientRect();else{for(I=this.offset(),Z=re.ownerDocument,M=re.offsetParent||Z.documentElement;M&&(M===Z.body||M===Z.documentElement)&&"static"===j.css(M,"position");)M=M.parentNode;M&&M!==re&&1===M.nodeType&&((he=j(M).offset()).top+=j.css(M,"borderTopWidth",!0),he.left+=j.css(M,"borderLeftWidth",!0))}return{top:I.top-he.top-j.css(re,"marginTop",!0),left:I.left-he.left-j.css(re,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var M=this.offsetParent;M&&"static"===j.css(M,"position");)M=M.offsetParent;return M||zr})}}),j.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(M,I){var Z="pageYOffset"===I;j.fn[M]=function(re){return ln(this,function(he,ue,ve){var Ye;if(le(he)?Ye=he:9===he.nodeType&&(Ye=he.defaultView),void 0===ve)return Ye?Ye[I]:he[ue];Ye?Ye.scrollTo(Z?Ye.pageXOffset:ve,Z?ve:Ye.pageYOffset):he[ue]=ve},M,re,arguments.length)}}),j.each(["top","left"],function(M,I){j.cssHooks[I]=Sc(K.pixelPosition,function(Z,re){if(re)return re=Yo(Z,I),Oc.test(re)?j(Z).position()[I]+"px":re})}),j.each({Height:"height",Width:"width"},function(M,I){j.each({padding:"inner"+M,content:I,"":"outer"+M},function(Z,re){j.fn[re]=function(he,ue){var ve=arguments.length&&(Z||"boolean"!=typeof he),Ye=Z||(!0===he||!0===ue?"margin":"border");return ln(this,function(je,et,St){var zt;return le(je)?0===re.indexOf("outer")?je["inner"+M]:je.document.documentElement["client"+M]:9===je.nodeType?(zt=je.documentElement,Math.max(je.body["scroll"+M],zt["scroll"+M],je.body["offset"+M],zt["offset"+M],zt["client"+M])):void 0===St?j.css(je,et,Ye):j.style(je,et,St,Ye)},I,ve?he:void 0,ve)}})}),j.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(M,I){j.fn[I]=function(Z){return this.on(I,Z)}}),j.fn.extend({bind:function(M,I,Z){return this.on(M,null,I,Z)},unbind:function(M,I){return this.off(M,null,I)},delegate:function(M,I,Z,re){return this.on(I,M,Z,re)},undelegate:function(M,I,Z){return 1===arguments.length?this.off(M,"**"):this.off(I,M||"**",Z)},hover:function(M,I){return this.on("mouseenter",M).on("mouseleave",I||M)}}),j.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(M,I){j.fn[I]=function(Z,re){return arguments.length>0?this.on(I,null,Z,re):this.trigger(I)}});var E0=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;j.proxy=function(M,I){var Z,re,he;if("string"==typeof I&&(Z=M[I],I=M,M=Z),oe(M))return re=U.call(arguments,2),he=function(){return M.apply(I||this,re.concat(U.call(arguments)))},he.guid=M.guid=M.guid||j.guid++,he},j.holdReady=function(M){M?j.readyWait++:j.ready(!0)},j.isArray=Array.isArray,j.parseJSON=JSON.parse,j.nodeName=pt,j.isFunction=oe,j.isWindow=le,j.camelCase=Yi,j.type=Ge,j.now=Date.now,j.isNumeric=function(M){var I=j.type(M);return("number"===I||"string"===I)&&!isNaN(M-parseFloat(M))},j.trim=function(M){return null==M?"":(M+"").replace(E0,"$1")},void 0!==(_=function(){return j}.apply(f,[]))&&(u.exports=_);var Tc=w.jQuery,Nh=w.$;return j.noConflict=function(M){return w.$===j&&(w.$=Nh),M&&w.jQuery===j&&(w.jQuery=Tc),j},typeof E>"u"&&(w.jQuery=w.$=j),j})},8548:u=>{var f,_;_=function(m,_,w){"use strict";var E,G;if(function(){var ze,mt={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(ze in G=m.lazySizesConfig||m.lazysizesConfig||{},mt)ze in G||(G[ze]=mt[ze])}(),!_||!_.getElementsByClassName)return{init:function(){},cfg:G,noSupport:!0};var ze,mt,Jt,Dn,Mn,un,mn,F=_.documentElement,U=m.HTMLPictureElement,X="addEventListener",T="getAttribute",B=m[X].bind(m),R=m.setTimeout,N=m.requestAnimationFrame||R,L=m.requestIdleCallback,W=/^picture$/i,k=["load","error","lazyincluded","_lazyloaded"],K={},oe=Array.prototype.forEach,le=function(ze,mt){return K[mt]||(K[mt]=new RegExp("(\\s|^)"+mt+"(\\s|$)")),K[mt].test(ze[T]("class")||"")&&K[mt]},we=function(ze,mt){le(ze,mt)||ze.setAttribute("class",(ze[T]("class")||"").trim()+" "+mt)},Re=function(ze,mt){var Jt;(Jt=le(ze,mt))&&ze.setAttribute("class",(ze[T]("class")||"").replace(Jt," "))},Ze=function(ze,mt,Jt){var Dn=Jt?X:"removeEventListener";Jt&&Ze(ze,mt),k.forEach(function(Mn){ze[Dn](Mn,mt)})},Ge=function(ze,mt,Jt,Dn,Mn){var un=_.createEvent("Event");return Jt||(Jt={}),Jt.instance=E,un.initEvent(mt,!Dn,!Mn),un.detail=Jt,ze.dispatchEvent(un),un},Ke=function(ze,mt){var Jt;!U&&(Jt=m.picturefill||G.pf)?(mt&&mt.src&&!ze[T]("srcset")&&ze.setAttribute("srcset",mt.src),Jt({reevaluate:!0,elements:[ze]})):mt&&mt.src&&(ze.src=mt.src)},yt=function(ze,mt){return(getComputedStyle(ze,null)||{})[mt]},j=function(ze,mt,Jt){for(Jt=Jt||ze.offsetWidth;Jt<G.minSize&&mt&&!ze._lazysizesWidth;)Jt=mt.offsetWidth,mt=mt.parentNode;return Jt},Te=(Dn=[],Mn=Jt=[],mn=function(Wt,Rn){ze&&!Rn?Wt.apply(this,arguments):(Mn.push(Wt),mt||(mt=!0,(_.hidden?R:N)(un)))},mn._lsFlush=un=function(){var Wt=Mn;for(Mn=Jt.length?Dn:Jt,ze=!0,mt=!1;Wt.length;)Wt.shift()();ze=!1},mn),pt=function(ze,mt){return mt?function(){Te(ze)}:function(){var Jt=this,Dn=arguments;Te(function(){ze.apply(Jt,Dn)})}},Mt=function(ze){var mt,Jt,Mn=function(){mt=null,ze()},un=function(){var mn=w.now()-Jt;mn<99?R(un,99-mn):(L||Mn)(Mn)};return function(){Jt=w.now(),mt||(mt=R(un,99))}},qt=function(){var ze,mt,Jt,Dn,Mn,un,mn,Wt,Rn,Nn,$n,Dt,Mr=/^img$/i,Bn=/^iframe$/i,ri="onscroll"in m&&!/(gle|ing)bot/.test(navigator.userAgent),Vi=0,hi=0,lr=-1,fo=function(gn){hi--,(!gn||hi<0||!gn.target)&&(hi=0)},cr=function(gn){return null==Dt&&(Dt="hidden"==yt(_.body,"visibility")),Dt||!("hidden"==yt(gn.parentNode,"visibility")&&"hidden"==yt(gn,"visibility"))},Wr=function(gn,ti){var br,Tr=gn,Br=cr(gn);for(Wt-=ti,$n+=ti,Rn-=ti,Nn+=ti;Br&&(Tr=Tr.offsetParent)&&Tr!=_.body&&Tr!=F;)(Br=(yt(Tr,"opacity")||1)>0)&&"visible"!=yt(Tr,"overflow")&&(br=Tr.getBoundingClientRect(),Br=Nn>br.left&&Rn<br.right&&$n>br.top-1&&Wt<br.bottom+1);return Br},Or=function(){var gn,ti,br,Tr,Br,zr,eo,qo,Po,Lt,ta,fi,oo=E.elements;if((Dn=G.loadMode)&&hi<8&&(gn=oo.length)){for(ti=0,lr++;ti<gn;ti++)if(oo[ti]&&!oo[ti]._lazyRace){if(!ri||E.prematureUnveil&&E.prematureUnveil(oo[ti])){En(oo[ti]);continue}if((!(qo=oo[ti][T]("data-expand"))||!(zr=1*qo))&&(zr=Vi),Lt||(E._defEx=Lt=!G.expand||G.expand<1?F.clientHeight>500&&F.clientWidth>500?500:370:G.expand,fi=G.hFac,Dt=null,Vi<(ta=Lt*G.expFactor)&&hi<1&&lr>2&&Dn>2&&!_.hidden?(Vi=ta,lr=0):Vi=Dn>1&&lr>1&&hi<6?Lt:0),Po!==zr&&(un=innerWidth+zr*fi,mn=innerHeight+zr,eo=-1*zr,Po=zr),br=oo[ti].getBoundingClientRect(),($n=br.bottom)>=eo&&(Wt=br.top)<=mn&&(Nn=br.right)>=eo*fi&&(Rn=br.left)<=un&&($n||Nn||Rn||Wt)&&(G.loadHidden||cr(oo[ti]))&&(mt&&hi<3&&!qo&&(Dn<3||lr<4)||Wr(oo[ti],zr))){if(En(oo[ti]),Br=!0,hi>9)break}else!Br&&mt&&!Tr&&hi<4&&lr<4&&Dn>2&&(ze[0]||G.preloadAfterLoad)&&(ze[0]||!qo&&($n||Nn||Rn||Wt||"auto"!=oo[ti][T](G.sizesAttr)))&&(Tr=ze[0]||oo[ti])}Tr&&!Br&&En(Tr)}},ln=function(ze){var mt,Jt=0,Dn=G.throttleDelay,Mn=G.ricTimeout,un=function(){mt=!1,Jt=w.now(),ze()},mn=L&&Mn>49?function(){L(un,{timeout:Mn}),Mn!==G.ricTimeout&&(Mn=G.ricTimeout)}:pt(function(){R(un)},!0);return function(Wt){var Rn;(Wt=!0===Wt)&&(Mn=33),!mt&&(mt=!0,(Rn=Dn-(w.now()-Jt))<0&&(Rn=0),Wt||Rn<9?mn():R(mn,Rn))}}(Or),ai=function(gn){var ti=gn.target;ti._lazyCache?delete ti._lazyCache:(fo(gn),we(ti,G.loadedClass),Re(ti,G.loadingClass),Ze(ti,qi),Ge(ti,"lazyloaded"))},pr=pt(ai),qi=function(gn){pr({target:gn.target})},dr=function(gn){var ti,br=gn[T](G.srcsetAttr);(ti=G.customMedia[gn[T]("data-media")||gn[T]("media")])&&gn.setAttribute("media",ti),br&&gn.setAttribute("srcset",br)},ei=pt(function(gn,ti,br,Tr,Br){var zr,eo,qo,Po,Lt,ta;(Lt=Ge(gn,"lazybeforeunveil",ti)).defaultPrevented||(Tr&&(br?we(gn,G.autosizesClass):gn.setAttribute("sizes",Tr)),eo=gn[T](G.srcsetAttr),zr=gn[T](G.srcAttr),Br&&(Po=(qo=gn.parentNode)&&W.test(qo.nodeName||"")),ta=ti.firesLoad||"src"in gn&&(eo||zr||Po),Lt={target:gn},we(gn,G.loadingClass),ta&&(clearTimeout(Jt),Jt=R(fo,2500),Ze(gn,qi,!0)),Po&&oe.call(qo.getElementsByTagName("source"),dr),eo?gn.setAttribute("srcset",eo):zr&&!Po&&(Bn.test(gn.nodeName)?function(gn,ti){var br=gn.getAttribute("data-load-mode")||G.iframeLoadMode;0==br?gn.contentWindow.location.replace(ti):1==br&&(gn.src=ti)}(gn,zr):gn.src=zr),Br&&(eo||Po)&&Ke(gn,{src:zr})),gn._lazyRace&&delete gn._lazyRace,Re(gn,G.lazyClass),Te(function(){var fi=gn.complete&&gn.naturalWidth>1;(!ta||fi)&&(fi&&we(gn,G.fastLoadedClass),ai(Lt),gn._lazyCache=!0,R(function(){"_lazyCache"in gn&&delete gn._lazyCache},9)),"lazy"==gn.loading&&hi--},!0)}),En=function(gn){if(!gn._lazyRace){var ti,br=Mr.test(gn.nodeName),Tr=br&&(gn[T](G.sizesAttr)||gn[T]("sizes")),Br="auto"==Tr;(Br||!mt)&&br&&(gn[T]("src")||gn.srcset)&&!gn.complete&&!le(gn,G.errorClass)&&le(gn,G.lazyClass)||(ti=Ge(gn,"lazyunveilread").detail,Br&&an.updateElem(gn,!0,gn.offsetWidth),gn._lazyRace=!0,hi++,ei(gn,ti,Br,Tr,br))}},Fr=Mt(function(){G.loadMode=3,ln()}),Bs=function(){3==G.loadMode&&(G.loadMode=2),Fr()},yr=function(){if(!mt){if(w.now()-Mn<999)return void R(yr,999);mt=!0,G.loadMode=3,ln(),B("scroll",Bs,!0)}};return{_:function(){Mn=w.now(),E.elements=_.getElementsByClassName(G.lazyClass),ze=_.getElementsByClassName(G.lazyClass+" "+G.preloadClass),B("scroll",ln,!0),B("resize",ln,!0),B("pageshow",function(gn){if(gn.persisted){var ti=_.querySelectorAll("."+G.loadingClass);ti.length&&ti.forEach&&N(function(){ti.forEach(function(br){br.complete&&En(br)})})}}),m.MutationObserver?new MutationObserver(ln).observe(F,{childList:!0,subtree:!0,attributes:!0}):(F[X]("DOMNodeInserted",ln,!0),F[X]("DOMAttrModified",ln,!0),setInterval(ln,999)),B("hashchange",ln,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(gn){_[X](gn,ln,!0)}),/d$|^c/.test(_.readyState)?yr():(B("load",yr),_[X]("DOMContentLoaded",ln),R(yr,2e4)),E.elements.length?(Or(),Te._lsFlush()):ln()},checkElems:ln,unveil:En,_aLSL:Bs}}(),an=function(){var ze,mt=pt(function(un,mn,Wt,Rn){var Nn,$n,Dt;if(un._lazysizesWidth=Rn,un.setAttribute("sizes",Rn+="px"),W.test(mn.nodeName||""))for($n=0,Dt=(Nn=mn.getElementsByTagName("source")).length;$n<Dt;$n++)Nn[$n].setAttribute("sizes",Rn);Wt.detail.dataAttr||Ke(un,Wt.detail)}),Jt=function(un,mn,Wt){var Rn,Nn=un.parentNode;Nn&&(Wt=j(un,Nn,Wt),(Rn=Ge(un,"lazybeforesizes",{width:Wt,dataAttr:!!mn})).defaultPrevented||(Wt=Rn.detail.width)&&Wt!==un._lazysizesWidth&&mt(un,Nn,Rn,Wt))},Mn=Mt(function(){var un,mn=ze.length;if(mn)for(un=0;un<mn;un++)Jt(ze[un])});return{_:function(){ze=_.getElementsByClassName(G.autosizesClass),B("resize",Mn)},checkElems:Mn,updateElem:Jt}}(),vt=function(){!vt.i&&_.getElementsByClassName&&(vt.i=!0,an._(),qt._())};return R(function(){G.init&&vt()}),E={cfg:G,autoSizer:an,loader:qt,init:vt,uP:Ke,aC:we,rC:Re,hC:le,fire:Ge,gW:j,rAF:Te}}(f=typeof window<"u"?window:{},f.document,Date),f.lazySizes=_,u.exports&&(u.exports=_)},2181:(u,f,m)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var _=m(5186),w=m(1973);_.Observable.prototype.filter=w.filter},1973:(u,f,m)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var _=m(8732);f.filter=function w(E,G){return _.filter(E,G)(this)}},5186:(u,f,m)=>{"use strict";m.r(f),m.d(f,{ArgumentOutOfRangeError:()=>Mt.W,AsyncSubject:()=>T.c,BehaviorSubject:()=>U.X,ConnectableObservable:()=>w.c,EMPTY:()=>Vi.E,EmptyError:()=>qt.K,GroupedObservable:()=>E.T,NEVER:()=>ei.C,Notification:()=>yt.P,NotificationKind:()=>yt.W,ObjectUnsubscribedError:()=>an.N,Observable:()=>_.y,ReplaySubject:()=>X.t,Scheduler:()=>Ze.b,Subject:()=>F.xQ,Subscriber:()=>Ke.L,Subscription:()=>Ge.w,TimeoutError:()=>ze.W,UnsubscriptionError:()=>vt.B,VirtualAction:()=>Re,VirtualTimeScheduler:()=>we,animationFrame:()=>le,animationFrameScheduler:()=>oe,asap:()=>B.e,asapScheduler:()=>B.E,async:()=>R.P,asyncScheduler:()=>R.z,bindCallback:()=>un,bindNodeCallback:()=>Nn,combineLatest:()=>Bn.aj,concat:()=>ri.z,config:()=>oo.v,defer:()=>Zt.P,empty:()=>Vi.c,forkJoin:()=>hi.D,from:()=>lr.D,fromEvent:()=>fo.R,fromEventPattern:()=>Wr,generate:()=>Or,identity:()=>pt.y,iif:()=>ai,interval:()=>qi,isObservable:()=>ct,merge:()=>dr.T,never:()=>ei.F,noop:()=>Te.Z,observable:()=>G.L,of:()=>En.of,onErrorResumeNext:()=>Fr,pairs:()=>Bs,partition:()=>Tr,pipe:()=>j.z,queue:()=>N.c,queueScheduler:()=>N.N,race:()=>Br.S3,range:()=>zr,scheduled:()=>fi.x,throwError:()=>qo._,timer:()=>Po.H,using:()=>Lt,zip:()=>ta.$R});var _=m(4202),w=m(1762),E=m(4002),G=m(3821),F=m(8929),U=m(591),X=m(839),T=m(2185),B=m(8139),R=m(353),N=m(341),L=m(6686),k=m(198);const oe=new class K extends k.v{flush(Tt){this.active=!0,this.scheduled=void 0;const{actions:Qt}=this;let nn,dn=-1,Gn=Qt.length;Tt=Tt||Qt.shift();do{if(nn=Tt.execute(Tt.state,Tt.delay))break}while(++dn<Gn&&(Tt=Qt.shift()));if(this.active=!1,nn){for(;++dn<Gn&&(Tt=Qt.shift());)Tt.unsubscribe();throw nn}}}(class W extends L.o{constructor(Tt,Qt){super(Tt,Qt),this.scheduler=Tt,this.work=Qt}requestAsyncId(Tt,Qt,nn=0){return null!==nn&&nn>0?super.requestAsyncId(Tt,Qt,nn):(Tt.actions.push(this),Tt.scheduled||(Tt.scheduled=requestAnimationFrame(()=>Tt.flush(null))))}recycleAsyncId(Tt,Qt,nn=0){if(null!==nn&&nn>0||null===nn&&this.delay>0)return super.recycleAsyncId(Tt,Qt,nn);0===Tt.actions.length&&(cancelAnimationFrame(Qt),Tt.scheduled=void 0)}}),le=oe;let we=(()=>{class on extends k.v{constructor(Qt=Re,nn=Number.POSITIVE_INFINITY){super(Qt,()=>this.frame),this.maxFrames=nn,this.frame=0,this.index=-1}flush(){const{actions:Qt,maxFrames:nn}=this;let dn,Gn;for(;(Gn=Qt[0])&&Gn.delay<=nn&&(Qt.shift(),this.frame=Gn.delay,!(dn=Gn.execute(Gn.state,Gn.delay))););if(dn){for(;Gn=Qt.shift();)Gn.unsubscribe();throw dn}}}return on.frameTimeFactor=10,on})();class Re extends L.o{constructor(Tt,Qt,nn=(Tt.index+=1)){super(Tt,Qt),this.scheduler=Tt,this.work=Qt,this.index=nn,this.active=!0,this.index=Tt.index=nn}schedule(Tt,Qt=0){if(!this.id)return super.schedule(Tt,Qt);this.active=!1;const nn=new Re(this.scheduler,this.work);return this.add(nn),nn.schedule(Tt,Qt)}requestAsyncId(Tt,Qt,nn=0){this.delay=Tt.frame+nn;const{actions:dn}=Tt;return dn.push(this),dn.sort(Re.sortActions),!0}recycleAsyncId(Tt,Qt,nn=0){}_execute(Tt,Qt){if(!0===this.active)return super._execute(Tt,Qt)}static sortActions(Tt,Qt){return Tt.delay===Qt.delay?Tt.index===Qt.index?0:Tt.index>Qt.index?1:-1:Tt.delay>Qt.delay?1:-1}}var Ze=m(2221),Ge=m(4096),Ke=m(3489),yt=m(9312),j=m(4843),Te=m(7876),pt=m(5379);function ct(on){return!!on&&(on instanceof _.y||"function"==typeof on.lift&&"function"==typeof on.subscribe)}var Mt=m(4231),qt=m(4450),an=m(5279),vt=m(7964),ze=m(854),mt=m(4850),Jt=m(9476),Dn=m(6688),Mn=m(2866);function un(on,Tt,Qt){if(Tt){if(!(0,Mn.K)(Tt))return(...nn)=>un(on,Qt)(...nn).pipe((0,mt.U)(dn=>(0,Dn.k)(dn)?Tt(...dn):Tt(dn)));Qt=Tt}return function(...nn){const dn=this;let Gn;const rr={context:dn,subject:Gn,callbackFunc:on,scheduler:Qt};return new _.y(oi=>{if(Qt)return Qt.schedule(mn,0,{args:nn,subscriber:oi,params:rr});if(!Gn){Gn=new T.c;const Sr=(...Wn)=>{Gn.next(Wn.length<=1?Wn[0]:Wn),Gn.complete()};try{on.apply(dn,[...nn,Sr])}catch(Wn){(0,Jt._)(Gn)?Gn.error(Wn):console.warn(Wn)}}return Gn.subscribe(oi)})}}function mn(on){const{args:Qt,subscriber:nn,params:dn}=on,{callbackFunc:Gn,context:rr,scheduler:oi}=dn;let{subject:Sr}=dn;if(!Sr){Sr=dn.subject=new T.c;const Wn=(...Er)=>{this.add(oi.schedule(Wt,0,{value:Er.length<=1?Er[0]:Er,subject:Sr}))};try{Gn.apply(rr,[...Qt,Wn])}catch(Er){Sr.error(Er)}}this.add(Sr.subscribe(nn))}function Wt(on){const{value:Tt,subject:Qt}=on;Qt.next(Tt),Qt.complete()}function Nn(on,Tt,Qt){if(Tt){if(!(0,Mn.K)(Tt))return(...nn)=>Nn(on,Qt)(...nn).pipe((0,mt.U)(dn=>(0,Dn.k)(dn)?Tt(...dn):Tt(dn)));Qt=Tt}return function(...nn){const dn={subject:void 0,args:nn,callbackFunc:on,scheduler:Qt,context:this};return new _.y(Gn=>{const{context:rr}=dn;let{subject:oi}=dn;if(Qt)return Qt.schedule($n,0,{params:dn,subscriber:Gn,context:rr});if(!oi){oi=dn.subject=new T.c;const Sr=(...Wn)=>{const Er=Wn.shift();Er?oi.error(Er):(oi.next(Wn.length<=1?Wn[0]:Wn),oi.complete())};try{on.apply(rr,[...nn,Sr])}catch(Wn){(0,Jt._)(oi)?oi.error(Wn):console.warn(Wn)}}return oi.subscribe(Gn)})}}function $n(on){const{params:Tt,subscriber:Qt,context:nn}=on,{callbackFunc:dn,args:Gn,scheduler:rr}=Tt;let oi=Tt.subject;if(!oi){oi=Tt.subject=new T.c;const Sr=(...Wn)=>{const Er=Wn.shift();this.add(Er?rr.schedule(Mr,0,{err:Er,subject:oi}):rr.schedule(Dt,0,{value:Wn.length<=1?Wn[0]:Wn,subject:oi}))};try{dn.apply(nn,[...Gn,Sr])}catch(Wn){this.add(rr.schedule(Mr,0,{err:Wn,subject:oi}))}}this.add(oi.subscribe(Qt))}function Dt(on){const{value:Tt,subject:Qt}=on;Qt.next(Tt),Qt.complete()}function Mr(on){const{err:Tt,subject:Qt}=on;Qt.error(Tt)}var Bn=m(6053),ri=m(1961),Zt=m(8514),Vi=m(8896),hi=m(567),lr=m(3527),fo=m(3753),cr=m(7043);function Wr(on,Tt,Qt){return Qt?Wr(on,Tt).pipe((0,mt.U)(nn=>(0,Dn.k)(nn)?Qt(...nn):Qt(nn))):new _.y(nn=>{const dn=(...rr)=>nn.next(1===rr.length?rr[0]:rr);let Gn;try{Gn=on(dn)}catch(rr){return void nn.error(rr)}if((0,cr.m)(Tt))return()=>Tt(dn,Gn)})}function Or(on,Tt,Qt,nn,dn){let Gn,rr;return 1==arguments.length?(rr=on.initialState,Tt=on.condition,Qt=on.iterate,Gn=on.resultSelector||pt.y,dn=on.scheduler):void 0===nn||(0,Mn.K)(nn)?(rr=on,Gn=pt.y,dn=nn):(rr=on,Gn=nn),new _.y(oi=>{let Sr=rr;if(dn)return dn.schedule(ln,0,{subscriber:oi,iterate:Qt,condition:Tt,resultSelector:Gn,state:Sr});for(;;){if(Tt){let Er;try{Er=Tt(Sr)}catch(Wa){return void oi.error(Wa)}if(!Er){oi.complete();break}}let Wn;try{Wn=Gn(Sr)}catch(Er){return void oi.error(Er)}if(oi.next(Wn),oi.closed)break;try{Sr=Qt(Sr)}catch(Er){return void oi.error(Er)}}})}function ln(on){const{subscriber:Tt,condition:Qt}=on;if(Tt.closed)return;if(on.needIterate)try{on.state=on.iterate(on.state)}catch(dn){return void Tt.error(dn)}else on.needIterate=!0;if(Qt){let dn;try{dn=Qt(on.state)}catch(Gn){return void Tt.error(Gn)}if(!dn)return void Tt.complete();if(Tt.closed)return}let nn;try{nn=on.resultSelector(on.state)}catch(dn){return void Tt.error(dn)}return Tt.closed||(Tt.next(nn),Tt.closed)?void 0:this.schedule(on)}function ai(on,Tt=Vi.E,Qt=Vi.E){return(0,Zt.P)(()=>on()?Tt:Qt)}var pr=m(4241);function qi(on=0,Tt=R.P){return(!(0,pr.k)(on)||on<0)&&(on=0),(!Tt||"function"!=typeof Tt.schedule)&&(Tt=R.P),new _.y(Qt=>(Qt.add(Tt.schedule(Yi,on,{subscriber:Qt,counter:0,period:on})),Qt))}function Yi(on){const{subscriber:Tt,counter:Qt,period:nn}=on;Tt.next(Qt),this.schedule({subscriber:Tt,counter:Qt+1,period:nn},nn)}var dr=m(6787),ei=m(7274),En=m(1086);function Fr(...on){if(0===on.length)return Vi.E;const[Tt,...Qt]=on;return 1===on.length&&(0,Dn.k)(Tt)?Fr(...Tt):new _.y(nn=>{const dn=()=>nn.add(Fr(...Qt).subscribe(nn));return(0,lr.D)(Tt).subscribe({next(Gn){nn.next(Gn)},error:dn,complete:dn})})}function Bs(on,Tt){return new _.y(Tt?Qt=>{const nn=Object.keys(on),dn=new Ge.w;return dn.add(Tt.schedule(yr,0,{keys:nn,index:0,subscriber:Qt,subscription:dn,obj:on})),dn}:Qt=>{const nn=Object.keys(on);for(let dn=0;dn<nn.length&&!Qt.closed;dn++){const Gn=nn[dn];on.hasOwnProperty(Gn)&&Qt.next([Gn,on[Gn]])}Qt.complete()})}function yr(on){const{keys:Tt,index:Qt,subscriber:nn,subscription:dn,obj:Gn}=on;if(!nn.closed)if(Qt<Tt.length){const rr=Tt[Qt];nn.next([rr,Gn[rr]]),dn.add(this.schedule({keys:Tt,index:Qt+1,subscriber:nn,subscription:dn,obj:Gn}))}else nn.complete()}var gn=m(5884),ti=m(9249),br=m(2198);function Tr(on,Tt,Qt){return[(0,br.h)(Tt,Qt)(new _.y((0,ti.s)(on))),(0,br.h)((0,gn.f)(Tt,Qt))(new _.y((0,ti.s)(on)))]}var Br=m(1946);function zr(on=0,Tt,Qt){return new _.y(nn=>{void 0===Tt&&(Tt=on,on=0);let dn=0,Gn=on;if(Qt)return Qt.schedule(eo,0,{index:dn,count:Tt,start:on,subscriber:nn});for(;;){if(dn++>=Tt){nn.complete();break}if(nn.next(Gn++),nn.closed)break}})}function eo(on){const{start:Tt,index:Qt,count:nn,subscriber:dn}=on;Qt>=nn?dn.complete():(dn.next(Tt),!dn.closed&&(on.index=Qt+1,on.start=Tt+1,this.schedule(on)))}var qo=m(1737),Po=m(8723);function Lt(on,Tt){return new _.y(Qt=>{let nn,dn;try{nn=on()}catch(oi){return void Qt.error(oi)}try{dn=Tt(nn)}catch(oi){return void Qt.error(oi)}const rr=(dn?(0,lr.D)(dn):Vi.E).subscribe(Qt);return()=>{rr.unsubscribe(),nn&&nn.unsubscribe()}})}var ta=m(1746),fi=m(3998),oo=m(2830)},2185:(u,f,m)=>{"use strict";m.d(f,{c:()=>E});var _=m(8929),w=m(4096);class E extends _.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(F){return this.hasError?(F.error(this.thrownError),w.w.EMPTY):this.hasCompleted&&this.hasNext?(F.next(this.value),F.complete(),w.w.EMPTY):super._subscribe(F)}next(F){this.hasCompleted||(this.value=F,this.hasNext=!0)}error(F){this.hasCompleted||super.error(F)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},591:(u,f,m)=>{"use strict";m.d(f,{X:()=>E});var _=m(8929),w=m(5279);class E extends _.xQ{constructor(F){super(),this._value=F}get value(){return this.getValue()}_subscribe(F){const U=super._subscribe(F);return U&&!U.closed&&F.next(this._value),U}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w.N;return this._value}next(F){super.next(this._value=F)}}},9312:(u,f,m)=>{"use strict";m.d(f,{P:()=>F,W:()=>G});var _=m(8896),w=m(1086),E=m(1737),G=(()=>{return(U=G||(G={})).NEXT="N",U.ERROR="E",U.COMPLETE="C",G;var U})();class F{constructor(X,T,B){this.kind=X,this.value=T,this.error=B,this.hasValue="N"===X}observe(X){switch(this.kind){case"N":return X.next&&X.next(this.value);case"E":return X.error&&X.error(this.error);case"C":return X.complete&&X.complete()}}do(X,T,B){switch(this.kind){case"N":return X&&X(this.value);case"E":return T&&T(this.error);case"C":return B&&B()}}accept(X,T,B){return X&&"function"==typeof X.next?this.observe(X):this.do(X,T,B)}toObservable(){switch(this.kind){case"N":return(0,w.of)(this.value);case"E":return(0,E._)(this.error);case"C":return(0,_.c)()}throw new Error("unexpected notification kind value")}static createNext(X){return typeof X<"u"?new F("N",X):F.undefinedValueNotification}static createError(X){return new F("E",void 0,X)}static createComplete(){return F.completeNotification}}F.completeNotification=new F("C"),F.undefinedValueNotification=new F("N",void 0)},4202:(u,f,m)=>{"use strict";m.d(f,{y:()=>B});var _=m(9476),w=m(3489),E=m(7668),G=m(3292),U=m(3821),X=m(4843),T=m(2830);let B=(()=>{class N{constructor(W){this._isScalar=!1,W&&(this._subscribe=W)}lift(W){const k=new N;return k.source=this,k.operator=W,k}subscribe(W,k,K){const{operator:oe}=this,le=function F(N,L,W){if(N){if(N instanceof w.L)return N;if(N[E.b])return N[E.b]()}return N||L||W?new w.L(N,L,W):new w.L(G.c)}(W,k,K);if(le.add(oe?oe.call(le,this.source):this.source||T.v.useDeprecatedSynchronousErrorHandling&&!le.syncErrorThrowable?this._subscribe(le):this._trySubscribe(le)),T.v.useDeprecatedSynchronousErrorHandling&&le.syncErrorThrowable&&(le.syncErrorThrowable=!1,le.syncErrorThrown))throw le.syncErrorValue;return le}_trySubscribe(W){try{return this._subscribe(W)}catch(k){T.v.useDeprecatedSynchronousErrorHandling&&(W.syncErrorThrown=!0,W.syncErrorValue=k),(0,_._)(W)?W.error(k):console.warn(k)}}forEach(W,k){return new(k=R(k))((K,oe)=>{let le;le=this.subscribe(we=>{try{W(we)}catch(Re){oe(Re),le&&le.unsubscribe()}},oe,K)})}_subscribe(W){const{source:k}=this;return k&&k.subscribe(W)}[U.L](){return this}pipe(...W){return 0===W.length?this:(0,X.U)(W)(this)}toPromise(W){return new(W=R(W))((k,K)=>{let oe;this.subscribe(le=>oe=le,le=>K(le),()=>k(oe))})}}return N.create=L=>new N(L),N})();function R(N){if(N||(N=T.v.Promise||Promise),!N)throw new Error("no Promise impl found");return N}},3292:(u,f,m)=>{"use strict";m.d(f,{c:()=>E});var _=m(2830),w=m(2782);const E={closed:!0,next(G){},error(G){if(_.v.useDeprecatedSynchronousErrorHandling)throw G;(0,w.z)(G)},complete(){}}},826:(u,f,m)=>{"use strict";m.d(f,{L:()=>w});var _=m(3489);class w extends _.L{notifyNext(G,F,U,X,T){this.destination.next(F)}notifyError(G,F){this.destination.error(G)}notifyComplete(G){this.destination.complete()}}},839:(u,f,m)=>{"use strict";m.d(f,{t:()=>X});var _=m(8929),w=m(341),E=m(4096),G=m(7770),F=m(5279),U=m(5283);class X extends _.xQ{constructor(R=Number.POSITIVE_INFINITY,N=Number.POSITIVE_INFINITY,L){super(),this.scheduler=L,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=R<1?1:R,this._windowTime=N<1?1:N,N===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(R){if(!this.isStopped){const N=this._events;N.push(R),N.length>this._bufferSize&&N.shift()}super.next(R)}nextTimeWindow(R){this.isStopped||(this._events.push(new T(this._getNow(),R)),this._trimBufferThenGetEvents()),super.next(R)}_subscribe(R){const N=this._infiniteTimeWindow,L=N?this._events:this._trimBufferThenGetEvents(),W=this.scheduler,k=L.length;let K;if(this.closed)throw new F.N;if(this.isStopped||this.hasError?K=E.w.EMPTY:(this.observers.push(R),K=new U.W(this,R)),W&&R.add(R=new G.ht(R,W)),N)for(let oe=0;oe<k&&!R.closed;oe++)R.next(L[oe]);else for(let oe=0;oe<k&&!R.closed;oe++)R.next(L[oe].value);return this.hasError?R.error(this.thrownError):this.isStopped&&R.complete(),K}_getNow(){return(this.scheduler||w.c).now()}_trimBufferThenGetEvents(){const R=this._getNow(),N=this._bufferSize,L=this._windowTime,W=this._events,k=W.length;let K=0;for(;K<k&&!(R-W[K].time<L);)K++;return k>N&&(K=Math.max(K,k-N)),K>0&&W.splice(0,K),W}}class T{constructor(R,N){this.time=R,this.value=N}}},2221:(u,f,m)=>{"use strict";m.d(f,{b:()=>_});let _=(()=>{class w{constructor(G,F=w.now){this.SchedulerAction=G,this.now=F}schedule(G,F=0,U){return new this.SchedulerAction(this,G).schedule(U,F)}}return w.now=()=>Date.now(),w})()},8929:(u,f,m)=>{"use strict";m.d(f,{Yc:()=>X,xQ:()=>T});var _=m(4202),w=m(3489),E=m(4096),G=m(5279),F=m(5283),U=m(7668);class X extends w.L{constructor(N){super(N),this.destination=N}}let T=(()=>{class R extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[U.b](){return new X(this)}lift(L){const W=new B(this,this);return W.operator=L,W}next(L){if(this.closed)throw new G.N;if(!this.isStopped){const{observers:W}=this,k=W.length,K=W.slice();for(let oe=0;oe<k;oe++)K[oe].next(L)}}error(L){if(this.closed)throw new G.N;this.hasError=!0,this.thrownError=L,this.isStopped=!0;const{observers:W}=this,k=W.length,K=W.slice();for(let oe=0;oe<k;oe++)K[oe].error(L);this.observers.length=0}complete(){if(this.closed)throw new G.N;this.isStopped=!0;const{observers:L}=this,W=L.length,k=L.slice();for(let K=0;K<W;K++)k[K].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(L){if(this.closed)throw new G.N;return super._trySubscribe(L)}_subscribe(L){if(this.closed)throw new G.N;return this.hasError?(L.error(this.thrownError),E.w.EMPTY):this.isStopped?(L.complete(),E.w.EMPTY):(this.observers.push(L),new F.W(this,L))}asObservable(){const L=new _.y;return L.source=this,L}}return R.create=(N,L)=>new B(N,L),R})();class B extends T{constructor(N,L){super(),this.destination=N,this.source=L}next(N){const{destination:L}=this;L&&L.next&&L.next(N)}error(N){const{destination:L}=this;L&&L.error&&this.destination.error(N)}complete(){const{destination:N}=this;N&&N.complete&&this.destination.complete()}_subscribe(N){const{source:L}=this;return L?this.source.subscribe(N):E.w.EMPTY}}},5283:(u,f,m)=>{"use strict";m.d(f,{W:()=>w});var _=m(4096);class w extends _.w{constructor(G,F){super(),this.subject=G,this.subscriber=F,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const G=this.subject,F=G.observers;if(this.subject=null,!F||0===F.length||G.isStopped||G.closed)return;const U=F.indexOf(this.subscriber);-1!==U&&F.splice(U,1)}}},3489:(u,f,m)=>{"use strict";m.d(f,{L:()=>X});var _=m(7043),w=m(3292),E=m(4096),G=m(7668),F=m(2830),U=m(2782);class X extends E.w{constructor(R,N,L){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=w.c;break;case 1:if(!R){this.destination=w.c;break}if("object"==typeof R){R instanceof X?(this.syncErrorThrowable=R.syncErrorThrowable,this.destination=R,R.add(this)):(this.syncErrorThrowable=!0,this.destination=new T(this,R));break}default:this.syncErrorThrowable=!0,this.destination=new T(this,R,N,L)}}[G.b](){return this}static create(R,N,L){const W=new X(R,N,L);return W.syncErrorThrowable=!1,W}next(R){this.isStopped||this._next(R)}error(R){this.isStopped||(this.isStopped=!0,this._error(R))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(R){this.destination.next(R)}_error(R){this.destination.error(R),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:R}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=R,this}}class T extends X{constructor(R,N,L,W){super(),this._parentSubscriber=R;let k,K=this;(0,_.m)(N)?k=N:N&&(k=N.next,L=N.error,W=N.complete,N!==w.c&&(K=Object.create(N),(0,_.m)(K.unsubscribe)&&this.add(K.unsubscribe.bind(K)),K.unsubscribe=this.unsubscribe.bind(this))),this._context=K,this._next=k,this._error=L,this._complete=W}next(R){if(!this.isStopped&&this._next){const{_parentSubscriber:N}=this;F.v.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable?this.__tryOrSetError(N,this._next,R)&&this.unsubscribe():this.__tryOrUnsub(this._next,R)}}error(R){if(!this.isStopped){const{_parentSubscriber:N}=this,{useDeprecatedSynchronousErrorHandling:L}=F.v;if(this._error)L&&N.syncErrorThrowable?(this.__tryOrSetError(N,this._error,R),this.unsubscribe()):(this.__tryOrUnsub(this._error,R),this.unsubscribe());else if(N.syncErrorThrowable)L?(N.syncErrorValue=R,N.syncErrorThrown=!0):(0,U.z)(R),this.unsubscribe();else{if(this.unsubscribe(),L)throw R;(0,U.z)(R)}}}complete(){if(!this.isStopped){const{_parentSubscriber:R}=this;if(this._complete){const N=()=>this._complete.call(this._context);F.v.useDeprecatedSynchronousErrorHandling&&R.syncErrorThrowable?(this.__tryOrSetError(R,N),this.unsubscribe()):(this.__tryOrUnsub(N),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(R,N){try{R.call(this._context,N)}catch(L){if(this.unsubscribe(),F.v.useDeprecatedSynchronousErrorHandling)throw L;(0,U.z)(L)}}__tryOrSetError(R,N,L){if(!F.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{N.call(this._context,L)}catch(W){return F.v.useDeprecatedSynchronousErrorHandling?(R.syncErrorValue=W,R.syncErrorThrown=!0,!0):((0,U.z)(W),!0)}return!1}_unsubscribe(){const{_parentSubscriber:R}=this;this._context=null,this._parentSubscriber=null,R.unsubscribe()}}},4096:(u,f,m)=>{"use strict";m.d(f,{w:()=>F});var X,_=m(6688),w=m(7830),E=m(7043),G=m(7964);class F{constructor(T){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,T&&(this._ctorUnsubscribe=!0,this._unsubscribe=T)}unsubscribe(){let T;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:R,_unsubscribe:N,_subscriptions:L}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof F)B.remove(this);else if(null!==B)for(let W=0;W<B.length;++W)B[W].remove(this);if((0,E.m)(N)){R&&(this._unsubscribe=void 0);try{N.call(this)}catch(W){T=W instanceof G.B?U(W.errors):[W]}}if((0,_.k)(L)){let W=-1,k=L.length;for(;++W<k;){const K=L[W];if((0,w.K)(K))try{K.unsubscribe()}catch(oe){T=T||[],oe instanceof G.B?T=T.concat(U(oe.errors)):T.push(oe)}}}if(T)throw new G.B(T)}add(T){let B=T;if(!T)return F.EMPTY;switch(typeof T){case"function":B=new F(T);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof F)){const L=B;B=new F,B._subscriptions=[L]}break;default:throw new Error("unrecognized teardown "+T+" added to Subscription.")}let{_parentOrParents:R}=B;if(null===R)B._parentOrParents=this;else if(R instanceof F){if(R===this)return B;B._parentOrParents=[R,this]}else{if(-1!==R.indexOf(this))return B;R.push(this)}const N=this._subscriptions;return null===N?this._subscriptions=[B]:N.push(B),B}remove(T){const B=this._subscriptions;if(B){const R=B.indexOf(T);-1!==R&&B.splice(R,1)}}}function U(X){return X.reduce((T,B)=>T.concat(B instanceof G.B?B.errors:B),[])}F.EMPTY=((X=new F).closed=!0,X)},2830:(u,f,m)=>{"use strict";m.d(f,{v:()=>w});let _=!1;const w={Promise:void 0,set useDeprecatedSynchronousErrorHandling(E){if(E){const G=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+G.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=E},get useDeprecatedSynchronousErrorHandling(){return _}}},1177:(u,f,m)=>{"use strict";m.d(f,{Ds:()=>U,IY:()=>G,ft:()=>T});var _=m(3489),w=m(4202),E=m(9249);class G extends _.L{constructor(R){super(),this.parent=R}_next(R){this.parent.notifyNext(R)}_error(R){this.parent.notifyError(R),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class U extends _.L{notifyNext(R){this.destination.next(R)}notifyError(R){this.destination.error(R)}notifyComplete(){this.destination.complete()}}function T(B,R){if(R.closed)return;if(B instanceof w.y)return B.subscribe(R);let N;try{N=(0,E.s)(B)(R)}catch(L){R.error(L)}return N}},1762:(u,f,m)=>{"use strict";m.d(f,{N:()=>U,c:()=>F});var _=m(8929),w=m(4202),E=m(4096),G=m(4327);class F extends w.y{constructor(N,L){super(),this.source=N,this.subjectFactory=L,this._refCount=0,this._isComplete=!1}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let N=this._connection;return N||(this._isComplete=!1,N=this._connection=new E.w,N.add(this.source.subscribe(new X(this.getSubject(),this))),N.closed&&(this._connection=null,N=E.w.EMPTY)),N}refCount(){return(0,G.x)()(this)}}const U=(()=>{const R=F.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:R._subscribe},_isComplete:{value:R._isComplete,writable:!0},getSubject:{value:R.getSubject},connect:{value:R.connect},refCount:{value:R.refCount}}})();class X extends _.Yc{constructor(N,L){super(N),this.connectable=L}_error(N){this._unsubscribe(),super._error(N)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const N=this.connectable;if(N){this.connectable=null;const L=N._connection;N._refCount=0,N._subject=null,N._connection=null,L&&L.unsubscribe()}}}},6053:(u,f,m)=>{"use strict";m.d(f,{Ms:()=>T,aj:()=>X});var _=m(2866),w=m(6688),E=m(826),G=m(448),F=m(3009);const U={};function X(...R){let N,L;return(0,_.K)(R[R.length-1])&&(L=R.pop()),"function"==typeof R[R.length-1]&&(N=R.pop()),1===R.length&&(0,w.k)(R[0])&&(R=R[0]),(0,F.n)(R,L).lift(new T(N))}class T{constructor(N){this.resultSelector=N}call(N,L){return L.subscribe(new B(N,this.resultSelector))}}class B extends E.L{constructor(N,L){super(N),this.resultSelector=L,this.active=0,this.values=[],this.observables=[]}_next(N){this.values.push(U),this.observables.push(N)}_complete(){const N=this.observables,L=N.length;if(0===L)this.destination.complete();else{this.active=L,this.toRespond=L;for(let W=0;W<L;W++)this.add((0,G.D)(this,N[W],void 0,W))}}notifyComplete(N){0==(this.active-=1)&&this.destination.complete()}notifyNext(N,L,W){const k=this.values,oe=this.toRespond?k[W]===U?--this.toRespond:this.toRespond:0;k[W]=L,0===oe&&(this.resultSelector?this._tryResultSelector(k):this.destination.next(k.slice()))}_tryResultSelector(N){let L;try{L=this.resultSelector.apply(this,N)}catch(W){return void this.destination.error(W)}this.destination.next(L)}}},1961:(u,f,m)=>{"use strict";m.d(f,{z:()=>E});var _=m(1086),w=m(534);function E(...G){return(0,w.u)()((0,_.of)(...G))}},8514:(u,f,m)=>{"use strict";m.d(f,{P:()=>G});var _=m(4202),w=m(3527),E=m(8896);function G(F){return new _.y(U=>{let X;try{X=F()}catch(B){return void U.error(B)}return(X?(0,w.D)(X):(0,E.c)()).subscribe(U)})}},8896:(u,f,m)=>{"use strict";m.d(f,{E:()=>w,c:()=>E});var _=m(4202);const w=new _.y(F=>F.complete());function E(F){return F?function G(F){return new _.y(U=>F.schedule(()=>U.complete()))}(F):w}},567:(u,f,m)=>{"use strict";m.d(f,{D:()=>U});var _=m(4202),w=m(6688),E=m(4850),G=m(7830),F=m(3527);function U(...T){if(1===T.length){const B=T[0];if((0,w.k)(B))return X(B,null);if((0,G.K)(B)&&Object.getPrototypeOf(B)===Object.prototype){const R=Object.keys(B);return X(R.map(N=>B[N]),R)}}if("function"==typeof T[T.length-1]){const B=T.pop();return X(T=1===T.length&&(0,w.k)(T[0])?T[0]:T,null).pipe((0,E.U)(R=>B(...R)))}return X(T,null)}function X(T,B){return new _.y(R=>{const N=T.length;if(0===N)return void R.complete();const L=new Array(N);let W=0,k=0;for(let K=0;K<N;K++){const oe=(0,F.D)(T[K]);let le=!1;R.add(oe.subscribe({next:we=>{le||(le=!0,k++),L[K]=we},error:we=>R.error(we),complete:()=>{W++,(W===N||!le)&&(k===N&&R.next(B?B.reduce((we,Re,Ze)=>(we[Re]=L[Ze],we),{}):L),R.complete())}}))}})}},3527:(u,f,m)=>{"use strict";m.d(f,{D:()=>G});var _=m(4202),w=m(9249),E=m(3998);function G(F,U){return U?(0,E.x)(F,U):F instanceof _.y?F:new _.y((0,w.s)(F))}},3009:(u,f,m)=>{"use strict";m.d(f,{n:()=>G});var _=m(4202),w=m(3650),E=m(6454);function G(F,U){return U?(0,E.r)(F,U):new _.y((0,w.V)(F))}},3753:(u,f,m)=>{"use strict";m.d(f,{R:()=>U});var _=m(4202),w=m(6688),E=m(7043),G=m(4850);function U(N,L,W,k){return(0,E.m)(W)&&(k=W,W=void 0),k?U(N,L,W).pipe((0,G.U)(K=>(0,w.k)(K)?k(...K):k(K))):new _.y(K=>{X(N,L,function oe(le){K.next(arguments.length>1?Array.prototype.slice.call(arguments):le)},K,W)})}function X(N,L,W,k,K){let oe;if(function R(N){return N&&"function"==typeof N.addEventListener&&"function"==typeof N.removeEventListener}(N)){const le=N;N.addEventListener(L,W,K),oe=()=>le.removeEventListener(L,W,K)}else if(function B(N){return N&&"function"==typeof N.on&&"function"==typeof N.off}(N)){const le=N;N.on(L,W),oe=()=>le.off(L,W)}else if(function T(N){return N&&"function"==typeof N.addListener&&"function"==typeof N.removeListener}(N)){const le=N;N.addListener(L,W),oe=()=>le.removeListener(L,W)}else{if(!N||!N.length)throw new TypeError("Invalid event target");for(let le=0,we=N.length;le<we;le++)X(N[le],L,W,k,K)}k.add(oe)}},6787:(u,f,m)=>{"use strict";m.d(f,{T:()=>F});var _=m(4202),w=m(2866),E=m(9146),G=m(3009);function F(...U){let X=Number.POSITIVE_INFINITY,T=null,B=U[U.length-1];return(0,w.K)(B)?(T=U.pop(),U.length>1&&"number"==typeof U[U.length-1]&&(X=U.pop())):"number"==typeof B&&(X=U.pop()),null===T&&1===U.length&&U[0]instanceof _.y?U[0]:(0,E.J)(X)((0,G.n)(U,T))}},7274:(u,f,m)=>{"use strict";m.d(f,{C:()=>E,F:()=>G});var _=m(4202),w=m(7876);const E=new _.y(w.Z);function G(){return E}},1086:(u,f,m)=>{"use strict";m.d(f,{of:()=>G});var _=m(2866),w=m(3009),E=m(6454);function G(...F){let U=F[F.length-1];return(0,_.K)(U)?(F.pop(),(0,E.r)(F,U)):(0,w.n)(F)}},1946:(u,f,m)=>{"use strict";m.d(f,{S3:()=>F});var _=m(6688),w=m(3009),E=m(826),G=m(448);function F(...T){if(1===T.length){if(!(0,_.k)(T[0]))return T[0];T=T[0]}return(0,w.n)(T,void 0).lift(new U)}class U{call(B,R){return R.subscribe(new X(B))}}class X extends E.L{constructor(B){super(B),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(B){this.observables.push(B)}_complete(){const B=this.observables,R=B.length;if(0===R)this.destination.complete();else{for(let N=0;N<R&&!this.hasFirst;N++){const W=(0,G.D)(this,B[N],void 0,N);this.subscriptions&&this.subscriptions.push(W),this.add(W)}this.observables=null}}notifyNext(B,R,N){if(!this.hasFirst){this.hasFirst=!0;for(let L=0;L<this.subscriptions.length;L++)if(L!==N){let W=this.subscriptions[L];W.unsubscribe(),this.remove(W)}this.subscriptions=null}this.destination.next(R)}}},1737:(u,f,m)=>{"use strict";m.d(f,{_:()=>w});var _=m(4202);function w(G,F){return new _.y(F?U=>F.schedule(E,0,{error:G,subscriber:U}):U=>U.error(G))}function E({error:G,subscriber:F}){F.error(G)}},8723:(u,f,m)=>{"use strict";m.d(f,{H:()=>F});var _=m(4202),w=m(353),E=m(4241),G=m(2866);function F(X=0,T,B){let R=-1;return(0,E.k)(T)?R=Number(T)<1?1:Number(T):(0,G.K)(T)&&(B=T),(0,G.K)(B)||(B=w.P),new _.y(N=>{const L=(0,E.k)(X)?X:+X-B.now();return B.schedule(U,L,{index:0,period:R,subscriber:N})})}function U(X){const{index:T,period:B,subscriber:R}=X;if(R.next(T),!R.closed){if(-1===B)return R.complete();X.index=T+1,this.schedule(X,B)}}},1746:(u,f,m)=>{"use strict";m.d(f,{$R:()=>U,mx:()=>X});var _=m(3009),w=m(6688),E=m(3489),G=m(5430),F=m(1177);function U(...L){const W=L[L.length-1];return"function"==typeof W&&L.pop(),(0,_.n)(L,void 0).lift(new X(W))}class X{constructor(W){this.resultSelector=W}call(W,k){return k.subscribe(new T(W,this.resultSelector))}}class T extends E.L{constructor(W,k,K=Object.create(null)){super(W),this.resultSelector=k,this.iterators=[],this.active=0,this.resultSelector="function"==typeof k?k:void 0}_next(W){const k=this.iterators;(0,w.k)(W)?k.push(new R(W)):k.push("function"==typeof W[G.hZ]?new B(W[G.hZ]()):new N(this.destination,this,W))}_complete(){const W=this.iterators,k=W.length;if(this.unsubscribe(),0!==k){this.active=k;for(let K=0;K<k;K++){let oe=W[K];oe.stillUnsubscribed?this.destination.add(oe.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const W=this.iterators,k=W.length,K=this.destination;for(let we=0;we<k;we++){let Re=W[we];if("function"==typeof Re.hasValue&&!Re.hasValue())return}let oe=!1;const le=[];for(let we=0;we<k;we++){let Re=W[we],Ze=Re.next();if(Re.hasCompleted()&&(oe=!0),Ze.done)return void K.complete();le.push(Ze.value)}this.resultSelector?this._tryresultSelector(le):K.next(le),oe&&K.complete()}_tryresultSelector(W){let k;try{k=this.resultSelector.apply(this,W)}catch(K){return void this.destination.error(K)}this.destination.next(k)}}class B{constructor(W){this.iterator=W,this.nextResult=W.next()}hasValue(){return!0}next(){const W=this.nextResult;return this.nextResult=this.iterator.next(),W}hasCompleted(){const W=this.nextResult;return Boolean(W&&W.done)}}class R{constructor(W){this.array=W,this.index=0,this.length=0,this.length=W.length}[G.hZ](){return this}next(W){const k=this.index++;return k<this.length?{value:this.array[k],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class N extends F.Ds{constructor(W,k,K){super(W),this.parent=k,this.observable=K,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[G.hZ](){return this}next(){const W=this.buffer;return 0===W.length&&this.isComplete?{value:null,done:!0}:{value:W.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(W){this.buffer.push(W),this.parent.checkIterators()}subscribe(){return(0,F.ft)(this.observable,new F.IY(this))}}},7221:(u,f,m)=>{"use strict";m.d(f,{K:()=>w});var _=m(1177);function w(F){return function(X){const T=new E(F),B=X.lift(T);return T.caught=B}}class E{constructor(U){this.selector=U}call(U,X){return X.subscribe(new G(U,this.selector,this.caught))}}class G extends _.Ds{constructor(U,X,T){super(U),this.selector=X,this.caught=T}error(U){if(!this.isStopped){let X;try{X=this.selector(U,this.caught)}catch(R){return void super.error(R)}this._unsubscribeAndRecycle();const T=new _.IY(this);this.add(T);const B=(0,_.ft)(X,T);B!==T&&this.add(B)}}}},534:(u,f,m)=>{"use strict";m.d(f,{u:()=>w});var _=m(9146);function w(){return(0,_.J)(1)}},1406:(u,f,m)=>{"use strict";m.d(f,{b:()=>w});var _=m(1709);function w(E,G){return(0,_.zg)(E,G,1)}},7314:(u,f,m)=>{"use strict";m.d(f,{d:()=>w});var _=m(3489);function w(F=null){return U=>U.lift(new E(F))}class E{constructor(U){this.defaultValue=U}call(U,X){return X.subscribe(new G(U,this.defaultValue))}}class G extends _.L{constructor(U,X){super(U),this.defaultValue=X,this.isEmpty=!0}_next(U){this.isEmpty=!1,this.destination.next(U)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},943:(u,f,m)=>{"use strict";m.d(f,{g:()=>F});var _=m(353),w=m(2697),E=m(3489),G=m(9312);function F(B,R=_.P){const L=(0,w.J)(B)?+B-R.now():Math.abs(B);return W=>W.lift(new U(L,R))}class U{constructor(R,N){this.delay=R,this.scheduler=N}call(R,N){return N.subscribe(new X(R,this.delay,this.scheduler))}}class X extends E.L{constructor(R,N,L){super(R),this.delay=N,this.scheduler=L,this.queue=[],this.active=!1,this.errored=!1}static dispatch(R){const N=R.source,L=N.queue,W=R.scheduler,k=R.destination;for(;L.length>0&&L[0].time-W.now()<=0;)L.shift().notification.observe(k);if(L.length>0){const K=Math.max(0,L[0].time-W.now());this.schedule(R,K)}else this.unsubscribe(),N.active=!1}_schedule(R){this.active=!0,this.destination.add(R.schedule(X.dispatch,this.delay,{source:this,destination:this.destination,scheduler:R}))}scheduleNotification(R){if(!0===this.errored)return;const N=this.scheduler,L=new T(N.now()+this.delay,R);this.queue.push(L),!1===this.active&&this._schedule(N)}_next(R){this.scheduleNotification(G.P.createNext(R))}_error(R){this.errored=!0,this.queue=[],this.destination.error(R),this.unsubscribe()}_complete(){this.scheduleNotification(G.P.createComplete()),this.unsubscribe()}}class T{constructor(R,N){this.time=R,this.notification=N}}},5778:(u,f,m)=>{"use strict";m.d(f,{x:()=>w});var _=m(3489);function w(F,U){return X=>X.lift(new E(F,U))}class E{constructor(U,X){this.compare=U,this.keySelector=X}call(U,X){return X.subscribe(new G(U,this.compare,this.keySelector))}}class G extends _.L{constructor(U,X,T){super(U),this.keySelector=T,this.hasKey=!1,"function"==typeof X&&(this.compare=X)}compare(U,X){return U===X}_next(U){let X;try{const{keySelector:B}=this;X=B?B(U):U}catch(B){return this.destination.error(B)}let T=!1;if(this.hasKey)try{const{compare:B}=this;T=B(this.key,X)}catch(B){return this.destination.error(B)}else this.hasKey=!0;T||(this.key=X,this.destination.next(U))}}},2334:(u,f,m)=>{"use strict";m.d(f,{l:()=>E});var _=m(1961),w=m(1086);function E(...G){return F=>(0,_.z)(F,(0,w.of)(...G))}},2198:(u,f,m)=>{"use strict";m.d(f,{h:()=>w});var _=m(3489);function w(F,U){return function(T){return T.lift(new E(F,U))}}class E{constructor(U,X){this.predicate=U,this.thisArg=X}call(U,X){return X.subscribe(new G(U,this.predicate,this.thisArg))}}class G extends _.L{constructor(U,X,T){super(U),this.predicate=X,this.thisArg=T,this.count=0}_next(U){let X;try{X=this.predicate.call(this.thisArg,U,this.count++)}catch(T){return void this.destination.error(T)}X&&this.destination.next(U)}}},537:(u,f,m)=>{"use strict";m.d(f,{x:()=>E});var _=m(3489),w=m(4096);function E(U){return X=>X.lift(new G(U))}class G{constructor(X){this.callback=X}call(X,T){return T.subscribe(new F(X,this.callback))}}class F extends _.L{constructor(X,T){super(X),this.add(new w.w(T))}}},7224:(u,f,m)=>{"use strict";m.d(f,{P:()=>X});var _=m(4450),w=m(2198),E=m(2986),G=m(7314),F=m(4907),U=m(5379);function X(T,B){const R=arguments.length>=2;return N=>N.pipe(T?(0,w.h)((L,W)=>T(L,W,N)):U.y,(0,E.q)(1),R?(0,G.d)(B):(0,F.T)(()=>new _.K))}},4002:(u,f,m)=>{"use strict";m.d(f,{T:()=>B,v:()=>F});var _=m(3489),w=m(4096),E=m(4202),G=m(8929);function F(N,L,W,k){return K=>K.lift(new U(N,L,W,k))}class U{constructor(L,W,k,K){this.keySelector=L,this.elementSelector=W,this.durationSelector=k,this.subjectSelector=K}call(L,W){return W.subscribe(new X(L,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class X extends _.L{constructor(L,W,k,K,oe){super(L),this.keySelector=W,this.elementSelector=k,this.durationSelector=K,this.subjectSelector=oe,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(L){let W;try{W=this.keySelector(L)}catch(k){return void this.error(k)}this._group(L,W)}_group(L,W){let k=this.groups;k||(k=this.groups=new Map);let oe,K=k.get(W);if(this.elementSelector)try{oe=this.elementSelector(L)}catch(le){this.error(le)}else oe=L;if(!K){K=this.subjectSelector?this.subjectSelector():new G.xQ,k.set(W,K);const le=new B(W,K,this);if(this.destination.next(le),this.durationSelector){let we;try{we=this.durationSelector(new B(W,K))}catch(Re){return void this.error(Re)}this.add(we.subscribe(new T(W,K,this)))}}K.closed||K.next(oe)}_error(L){const W=this.groups;W&&(W.forEach((k,K)=>{k.error(L)}),W.clear()),this.destination.error(L)}_complete(){const L=this.groups;L&&(L.forEach((W,k)=>{W.complete()}),L.clear()),this.destination.complete()}removeGroup(L){this.groups.delete(L)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class T extends _.L{constructor(L,W,k){super(W),this.key=L,this.group=W,this.parent=k}_next(L){this.complete()}_unsubscribe(){const{parent:L,key:W}=this;this.key=this.parent=null,L&&L.removeGroup(W)}}class B extends E.y{constructor(L,W,k){super(),this.key=L,this.groupSubject=W,this.refCountSubscription=k}_subscribe(L){const W=new w.w,{refCountSubscription:k,groupSubject:K}=this;return k&&!k.closed&&W.add(new R(k)),W.add(K.subscribe(L)),W}}class R extends w.w{constructor(L){super(),this.parent=L,L.count++}unsubscribe(){const L=this.parent;!L.closed&&!this.closed&&(super.unsubscribe(),L.count-=1,0===L.count&&L.attemptedToUnsubscribe&&L.unsubscribe())}}},8127:(u,f,m)=>{"use strict";m.d(f,{Z:()=>X});var _=m(4450),w=m(2198),E=m(2821),G=m(4907),F=m(7314),U=m(5379);function X(T,B){const R=arguments.length>=2;return N=>N.pipe(T?(0,w.h)((L,W)=>T(L,W,N)):U.y,(0,E.h)(1),R?(0,F.d)(B):(0,G.T)(()=>new _.K))}},4850:(u,f,m)=>{"use strict";m.d(f,{U:()=>w});var _=m(3489);function w(F,U){return function(T){if("function"!=typeof F)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return T.lift(new E(F,U))}}class E{constructor(U,X){this.project=U,this.thisArg=X}call(U,X){return X.subscribe(new G(U,this.project,this.thisArg))}}class G extends _.L{constructor(U,X,T){super(U),this.project=X,this.count=0,this.thisArg=T||this}_next(U){let X;try{X=this.project.call(this.thisArg,U,this.count++)}catch(T){return void this.destination.error(T)}this.destination.next(X)}}},7604:(u,f,m)=>{"use strict";m.d(f,{h:()=>w});var _=m(3489);function w(F){return U=>U.lift(new E(F))}class E{constructor(U){this.value=U}call(U,X){return X.subscribe(new G(U,this.value))}}class G extends _.L{constructor(U,X){super(U),this.value=X}_next(U){this.destination.next(this.value)}}},9146:(u,f,m)=>{"use strict";m.d(f,{J:()=>E});var _=m(1709),w=m(5379);function E(G=Number.POSITIVE_INFINITY){return(0,_.zg)(w.y,G)}},1709:(u,f,m)=>{"use strict";m.d(f,{VS:()=>X,zg:()=>G});var _=m(4850),w=m(3527),E=m(1177);function G(T,B,R=Number.POSITIVE_INFINITY){return"function"==typeof B?N=>N.pipe(G((L,W)=>(0,w.D)(T(L,W)).pipe((0,_.U)((k,K)=>B(L,k,W,K))),R)):("number"==typeof B&&(R=B),N=>N.lift(new F(T,R)))}class F{constructor(B,R=Number.POSITIVE_INFINITY){this.project=B,this.concurrent=R}call(B,R){return R.subscribe(new U(B,this.project,this.concurrent))}}class U extends E.Ds{constructor(B,R,N=Number.POSITIVE_INFINITY){super(B),this.project=R,this.concurrent=N,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(B){this.active<this.concurrent?this._tryNext(B):this.buffer.push(B)}_tryNext(B){let R;const N=this.index++;try{R=this.project(B,N)}catch(L){return void this.destination.error(L)}this.active++,this._innerSub(R)}_innerSub(B){const R=new E.IY(this),N=this.destination;N.add(R);const L=(0,E.ft)(B,R);L!==R&&N.add(L)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(B){this.destination.next(B)}notifyComplete(){const B=this.buffer;this.active--,B.length>0?this._next(B.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const X=G},2536:(u,f,m)=>{"use strict";m.d(f,{O:()=>w});var _=m(1762);function w(G,F){return function(X){let T;if(T="function"==typeof G?G:function(){return G},"function"==typeof F)return X.lift(new E(T,F));const B=Object.create(X,_.N);return B.source=X,B.subjectFactory=T,B}}class E{constructor(F,U){this.subjectFactory=F,this.selector=U}call(F,U){const{selector:X}=this,T=this.subjectFactory(),B=X(T).subscribe(F);return B.add(U.subscribe(T)),B}}},7770:(u,f,m)=>{"use strict";m.d(f,{QV:()=>E,ht:()=>F});var _=m(3489),w=m(9312);function E(X,T=0){return function(R){return R.lift(new G(X,T))}}class G{constructor(T,B=0){this.scheduler=T,this.delay=B}call(T,B){return B.subscribe(new F(T,this.scheduler,this.delay))}}class F extends _.L{constructor(T,B,R=0){super(T),this.scheduler=B,this.delay=R}static dispatch(T){const{notification:B,destination:R}=T;B.observe(R),this.unsubscribe()}scheduleMessage(T){this.destination.add(this.scheduler.schedule(F.dispatch,this.delay,new U(T,this.destination)))}_next(T){this.scheduleMessage(w.P.createNext(T))}_error(T){this.scheduleMessage(w.P.createError(T)),this.unsubscribe()}_complete(){this.scheduleMessage(w.P.createComplete()),this.unsubscribe()}}class U{constructor(T,B){this.notification=T,this.destination=B}}},8077:(u,f,m)=>{"use strict";m.d(f,{u:()=>F});var _=m(2014),w=m(2821),E=m(7314),G=m(4843);function F(U,X){return arguments.length>=2?function(B){return(0,G.z)((0,_.R)(U,X),(0,w.h)(1),(0,E.d)(X))(B)}:function(B){return(0,G.z)((0,_.R)((R,N,L)=>U(R,N,L+1)),(0,w.h)(1))(B)}}},4327:(u,f,m)=>{"use strict";m.d(f,{x:()=>w});var _=m(3489);function w(){return function(U){return U.lift(new E(U))}}class E{constructor(U){this.connectable=U}call(U,X){const{connectable:T}=this;T._refCount++;const B=new G(U,T),R=X.subscribe(B);return B.closed||(B.connection=T.connect()),R}}class G extends _.L{constructor(U,X){super(U),this.connectable=X}_unsubscribe(){const{connectable:U}=this;if(!U)return void(this.connection=null);this.connectable=null;const X=U._refCount;if(X<=0)return void(this.connection=null);if(U._refCount=X-1,X>1)return void(this.connection=null);const{connection:T}=this,B=U._connection;this.connection=null,B&&(!T||B===T)&&B.unsubscribe()}}},2014:(u,f,m)=>{"use strict";m.d(f,{R:()=>w});var _=m(3489);function w(F,U){let X=!1;return arguments.length>=2&&(X=!0),function(B){return B.lift(new E(F,U,X))}}class E{constructor(U,X,T=!1){this.accumulator=U,this.seed=X,this.hasSeed=T}call(U,X){return X.subscribe(new G(U,this.accumulator,this.seed,this.hasSeed))}}class G extends _.L{constructor(U,X,T,B){super(U),this.accumulator=X,this._seed=T,this.hasSeed=B,this.index=0}get seed(){return this._seed}set seed(U){this.hasSeed=!0,this._seed=U}_next(U){if(this.hasSeed)return this._tryNext(U);this.seed=U,this.destination.next(U)}_tryNext(U){const X=this.index++;let T;try{T=this.accumulator(this.seed,U,X)}catch(B){this.destination.error(B)}this.seed=T,this.destination.next(T)}}},8117:(u,f,m)=>{"use strict";m.d(f,{B:()=>F});var _=m(2536),w=m(4327),E=m(8929);function G(){return new E.xQ}function F(){return U=>(0,w.x)()((0,_.O)(G)(U))}},1307:(u,f,m)=>{"use strict";m.d(f,{T:()=>w});var _=m(3489);function w(F){return U=>U.lift(new E(F))}class E{constructor(U){this.total=U}call(U,X){return X.subscribe(new G(U,this.total))}}class G extends _.L{constructor(U,X){super(U),this.total=X,this.count=0}_next(U){++this.count>this.total&&this.destination.next(U)}}},1059:(u,f,m)=>{"use strict";m.d(f,{O:()=>E});var _=m(1961),w=m(2866);function E(...G){const F=G[G.length-1];return(0,w.K)(F)?(G.pop(),U=>(0,_.z)(G,U,F)):U=>(0,_.z)(G,U)}},7545:(u,f,m)=>{"use strict";m.d(f,{w:()=>G});var _=m(4850),w=m(3527),E=m(1177);function G(X,T){return"function"==typeof T?B=>B.pipe(G((R,N)=>(0,w.D)(X(R,N)).pipe((0,_.U)((L,W)=>T(R,L,N,W))))):B=>B.lift(new F(X))}class F{constructor(T){this.project=T}call(T,B){return B.subscribe(new U(T,this.project))}}class U extends E.Ds{constructor(T,B){super(T),this.project=B,this.index=0}_next(T){let B;const R=this.index++;try{B=this.project(T,R)}catch(N){return void this.destination.error(N)}this._innerSub(B)}_innerSub(T){const B=this.innerSubscription;B&&B.unsubscribe();const R=new E.IY(this),N=this.destination;N.add(R),this.innerSubscription=(0,E.ft)(T,R),this.innerSubscription!==R&&N.add(this.innerSubscription)}_complete(){const{innerSubscription:T}=this;(!T||T.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(T){this.destination.next(T)}}},2986:(u,f,m)=>{"use strict";m.d(f,{q:()=>G});var _=m(3489),w=m(4231),E=m(8896);function G(X){return T=>0===X?(0,E.c)():T.lift(new F(X))}class F{constructor(T){if(this.total=T,this.total<0)throw new w.W}call(T,B){return B.subscribe(new U(T,this.total))}}class U extends _.L{constructor(T,B){super(T),this.total=B,this.count=0}_next(T){const B=this.total,R=++this.count;R<=B&&(this.destination.next(T),R===B&&(this.destination.complete(),this.unsubscribe()))}}},2821:(u,f,m)=>{"use strict";m.d(f,{h:()=>G});var _=m(3489),w=m(4231),E=m(8896);function G(X){return function(B){return 0===X?(0,E.c)():B.lift(new F(X))}}class F{constructor(T){if(this.total=T,this.total<0)throw new w.W}call(T,B){return B.subscribe(new U(T,this.total))}}class U extends _.L{constructor(T,B){super(T),this.total=B,this.ring=new Array,this.count=0}_next(T){const B=this.ring,R=this.total,N=this.count++;B.length<R?B.push(T):B[N%R]=T}_complete(){const T=this.destination;let B=this.count;if(B>0){const R=this.count>=this.total?this.total:this.count,N=this.ring;for(let L=0;L<R;L++){const W=B++%R;T.next(N[W])}}T.complete()}}},7625:(u,f,m)=>{"use strict";m.d(f,{R:()=>w});var _=m(1177);function w(F){return U=>U.lift(new E(F))}class E{constructor(U){this.notifier=U}call(U,X){const T=new G(U),B=(0,_.ft)(this.notifier,new _.IY(T));return B&&!T.seenValue?(T.add(B),X.subscribe(T)):T}}class G extends _.Ds{constructor(U){super(U),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4290:(u,f,m)=>{"use strict";m.d(f,{o:()=>w});var _=m(3489);function w(F,U=!1){return X=>X.lift(new E(F,U))}class E{constructor(U,X){this.predicate=U,this.inclusive=X}call(U,X){return X.subscribe(new G(U,this.predicate,this.inclusive))}}class G extends _.L{constructor(U,X,T){super(U),this.predicate=X,this.inclusive=T,this.index=0}_next(U){const X=this.destination;let T;try{T=this.predicate(U,this.index++)}catch(B){return void X.error(B)}this.nextOrComplete(U,T)}nextOrComplete(U,X){const T=this.destination;Boolean(X)?T.next(U):(this.inclusive&&T.next(U),T.complete())}}},2994:(u,f,m)=>{"use strict";m.d(f,{b:()=>G});var _=m(3489),w=m(7876),E=m(7043);function G(X,T,B){return function(N){return N.lift(new F(X,T,B))}}class F{constructor(T,B,R){this.nextOrObserver=T,this.error=B,this.complete=R}call(T,B){return B.subscribe(new U(T,this.nextOrObserver,this.error,this.complete))}}class U extends _.L{constructor(T,B,R,N){super(T),this._tapNext=w.Z,this._tapError=w.Z,this._tapComplete=w.Z,this._tapError=R||w.Z,this._tapComplete=N||w.Z,(0,E.m)(B)?(this._context=this,this._tapNext=B):B&&(this._context=B,this._tapNext=B.next||w.Z,this._tapError=B.error||w.Z,this._tapComplete=B.complete||w.Z)}_next(T){try{this._tapNext.call(this._context,T)}catch(B){return void this.destination.error(B)}this.destination.next(T)}_error(T){try{this._tapError.call(this._context,T)}catch(B){return void this.destination.error(B)}this.destination.error(T)}_complete(){try{this._tapComplete.call(this._context)}catch(T){return void this.destination.error(T)}return this.destination.complete()}}},4907:(u,f,m)=>{"use strict";m.d(f,{T:()=>E});var _=m(4450),w=m(3489);function E(X=U){return T=>T.lift(new G(X))}class G{constructor(T){this.errorFactory=T}call(T,B){return B.subscribe(new F(T,this.errorFactory))}}class F extends w.L{constructor(T,B){super(T),this.errorFactory=B,this.hasValue=!1}_next(T){this.hasValue=!0,this.destination.next(T)}_complete(){if(this.hasValue)return this.destination.complete();{let T;try{T=this.errorFactory()}catch(B){T=B}this.destination.error(T)}}}function U(){return new _.K}},864:(u,f,m)=>{"use strict";m.d(f,{q:()=>E});var _=m(8077);function w(G,F,U){return 0===U?[F]:(G.push(F),G)}function E(){return(0,_.u)(w,[])}},7168:(u,f,m)=>{"use strict";m.d(f,{M:()=>E});var _=m(826),w=m(448);function E(...U){return X=>{let T;return"function"==typeof U[U.length-1]&&(T=U.pop()),X.lift(new G(U,T))}}class G{constructor(X,T){this.observables=X,this.project=T}call(X,T){return T.subscribe(new F(X,this.observables,this.project))}}class F extends _.L{constructor(X,T,B){super(X),this.observables=T,this.project=B,this.toRespond=[];const R=T.length;this.values=new Array(R);for(let N=0;N<R;N++)this.toRespond.push(N);for(let N=0;N<R;N++)this.add((0,w.D)(this,T[N],void 0,N))}notifyNext(X,T,B){this.values[B]=T;const R=this.toRespond;if(R.length>0){const N=R.indexOf(B);-1!==N&&R.splice(N,1)}}notifyComplete(){}_next(X){if(0===this.toRespond.length){const T=[X,...this.values];this.project?this._tryProject(T):this.destination.next(T)}}_tryProject(X){let T;try{T=this.project.apply(this,X)}catch(B){return void this.destination.error(B)}this.destination.next(T)}}},6454:(u,f,m)=>{"use strict";m.d(f,{r:()=>E});var _=m(4202),w=m(4096);function E(G,F){return new _.y(U=>{const X=new w.w;let T=0;return X.add(F.schedule(function(){T!==G.length?(U.next(G[T++]),U.closed||X.add(this.schedule())):U.complete()})),X})}},3998:(u,f,m)=>{"use strict";m.d(f,{x:()=>W});var _=m(4202),w=m(4096),E=m(3821),U=m(6454),X=m(5430),R=m(8955),N=m(8515);function W(k,K){if(null!=k){if(function B(k){return k&&"function"==typeof k[E.L]}(k))return function G(k,K){return new _.y(oe=>{const le=new w.w;return le.add(K.schedule(()=>{const we=k[E.L]();le.add(we.subscribe({next(Re){le.add(K.schedule(()=>oe.next(Re)))},error(Re){le.add(K.schedule(()=>oe.error(Re)))},complete(){le.add(K.schedule(()=>oe.complete()))}}))})),le})}(k,K);if((0,R.t)(k))return function F(k,K){return new _.y(oe=>{const le=new w.w;return le.add(K.schedule(()=>k.then(we=>{le.add(K.schedule(()=>{oe.next(we),le.add(K.schedule(()=>oe.complete()))}))},we=>{le.add(K.schedule(()=>oe.error(we)))}))),le})}(k,K);if((0,N.z)(k))return(0,U.r)(k,K);if(function L(k){return k&&"function"==typeof k[X.hZ]}(k)||"string"==typeof k)return function T(k,K){if(!k)throw new Error("Iterable cannot be null");return new _.y(oe=>{const le=new w.w;let we;return le.add(()=>{we&&"function"==typeof we.return&&we.return()}),le.add(K.schedule(()=>{we=k[X.hZ](),le.add(K.schedule(function(){if(oe.closed)return;let Re,Ze;try{const Ge=we.next();Re=Ge.value,Ze=Ge.done}catch(Ge){return void oe.error(Ge)}Ze?oe.complete():(oe.next(Re),this.schedule())}))})),le})}(k,K)}throw new TypeError((null!==k&&typeof k||k)+" is not observable")}},6686:(u,f,m)=>{"use strict";m.d(f,{o:()=>E});var _=m(4096);class w extends _.w{constructor(F,U){super()}schedule(F,U=0){return this}}class E extends w{constructor(F,U){super(F,U),this.scheduler=F,this.work=U,this.pending=!1}schedule(F,U=0){if(this.closed)return this;this.state=F;const X=this.id,T=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(T,X,U)),this.pending=!0,this.delay=U,this.id=this.id||this.requestAsyncId(T,this.id,U),this}requestAsyncId(F,U,X=0){return setInterval(F.flush.bind(F,this),X)}recycleAsyncId(F,U,X=0){if(null!==X&&this.delay===X&&!1===this.pending)return U;clearInterval(U)}execute(F,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(F,U);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(F,U){let T,X=!1;try{this.work(F)}catch(B){X=!0,T=!!B&&B||new Error(B)}if(X)return this.unsubscribe(),T}_unsubscribe(){const F=this.id,U=this.scheduler,X=U.actions,T=X.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==T&&X.splice(T,1),null!=F&&(this.id=this.recycleAsyncId(U,F,null)),this.delay=null}}},198:(u,f,m)=>{"use strict";m.d(f,{v:()=>w});var _=m(2221);class w extends _.b{constructor(G,F=_.b.now){super(G,()=>w.delegate&&w.delegate!==this?w.delegate.now():F()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(G,F=0,U){return w.delegate&&w.delegate!==this?w.delegate.schedule(G,F,U):super.schedule(G,F,U)}flush(G){const{actions:F}=this;if(this.active)return void F.push(G);let U;this.active=!0;do{if(U=G.execute(G.state,G.delay))break}while(G=F.shift());if(this.active=!1,U){for(;G=F.shift();)G.unsubscribe();throw U}}}},8139:(u,f,m)=>{"use strict";m.d(f,{e:()=>L,E:()=>N});let _=1;const w=Promise.resolve(),E={};function G(W){return W in E&&(delete E[W],!0)}const F={setImmediate(W){const k=_++;return E[k]=!0,w.then(()=>G(k)&&W()),k},clearImmediate(W){G(W)}};var X=m(6686),B=m(198);const N=new class R extends B.v{flush(k){this.active=!0,this.scheduled=void 0;const{actions:K}=this;let oe,le=-1,we=K.length;k=k||K.shift();do{if(oe=k.execute(k.state,k.delay))break}while(++le<we&&(k=K.shift()));if(this.active=!1,oe){for(;++le<we&&(k=K.shift());)k.unsubscribe();throw oe}}}(class T extends X.o{constructor(k,K){super(k,K),this.scheduler=k,this.work=K}requestAsyncId(k,K,oe=0){return null!==oe&&oe>0?super.requestAsyncId(k,K,oe):(k.actions.push(this),k.scheduled||(k.scheduled=F.setImmediate(k.flush.bind(k,null))))}recycleAsyncId(k,K,oe=0){if(null!==oe&&oe>0||null===oe&&this.delay>0)return super.recycleAsyncId(k,K,oe);0===k.actions.length&&(F.clearImmediate(K),k.scheduled=void 0)}}),L=N},353:(u,f,m)=>{"use strict";m.d(f,{P:()=>G,z:()=>E});var _=m(6686);const E=new(m(198).v)(_.o),G=E},341:(u,f,m)=>{"use strict";m.d(f,{c:()=>U,N:()=>F});var _=m(6686),E=m(198);const F=new class G extends E.v{}(class w extends _.o{constructor(T,B){super(T,B),this.scheduler=T,this.work=B}schedule(T,B=0){return B>0?super.schedule(T,B):(this.delay=B,this.state=T,this.scheduler.flush(this),this)}execute(T,B){return B>0||this.closed?super.execute(T,B):this._execute(T,B)}requestAsyncId(T,B,R=0){return null!==R&&R>0||null===R&&this.delay>0?super.requestAsyncId(T,B,R):T.flush(this)}}),U=F},5430:(u,f,m)=>{"use strict";m.d(f,{hZ:()=>w});const w=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(u,f,m)=>{"use strict";m.d(f,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(u,f,m)=>{"use strict";m.d(f,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(u,f,m)=>{"use strict";m.d(f,{W:()=>w});const w=(()=>{function E(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return E.prototype=Object.create(Error.prototype),E})()},4450:(u,f,m)=>{"use strict";m.d(f,{K:()=>w});const w=(()=>{function E(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return E.prototype=Object.create(Error.prototype),E})()},5279:(u,f,m)=>{"use strict";m.d(f,{N:()=>w});const w=(()=>{function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return E.prototype=Object.create(Error.prototype),E})()},854:(u,f,m)=>{"use strict";m.d(f,{W:()=>w});const w=(()=>{function E(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return E.prototype=Object.create(Error.prototype),E})()},7964:(u,f,m)=>{"use strict";m.d(f,{B:()=>w});const w=(()=>{function E(G){return Error.call(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((F,U)=>`${U+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G,this}return E.prototype=Object.create(Error.prototype),E})()},9476:(u,f,m)=>{"use strict";m.d(f,{_:()=>w});var _=m(3489);function w(E){for(;E;){const{closed:G,destination:F,isStopped:U}=E;if(G||U)return!1;E=F&&F instanceof _.L?F:null}return!0}},2782:(u,f,m)=>{"use strict";function _(w){setTimeout(()=>{throw w},0)}m.d(f,{z:()=>_})},5379:(u,f,m)=>{"use strict";function _(w){return w}m.d(f,{y:()=>_})},6688:(u,f,m)=>{"use strict";m.d(f,{k:()=>_});const _=Array.isArray||(w=>w&&"number"==typeof w.length)},8515:(u,f,m)=>{"use strict";m.d(f,{z:()=>_});const _=w=>w&&"number"==typeof w.length&&"function"!=typeof w},2697:(u,f,m)=>{"use strict";function _(w){return w instanceof Date&&!isNaN(+w)}m.d(f,{J:()=>_})},7043:(u,f,m)=>{"use strict";function _(w){return"function"==typeof w}m.d(f,{m:()=>_})},4241:(u,f,m)=>{"use strict";m.d(f,{k:()=>w});var _=m(6688);function w(E){return!(0,_.k)(E)&&E-parseFloat(E)+1>=0}},7830:(u,f,m)=>{"use strict";function _(w){return null!==w&&"object"==typeof w}m.d(f,{K:()=>_})},8955:(u,f,m)=>{"use strict";function _(w){return!!w&&"function"!=typeof w.subscribe&&"function"==typeof w.then}m.d(f,{t:()=>_})},2866:(u,f,m)=>{"use strict";function _(w){return w&&"function"==typeof w.schedule}m.d(f,{K:()=>_})},7876:(u,f,m)=>{"use strict";function _(){}m.d(f,{Z:()=>_})},5884:(u,f,m)=>{"use strict";function _(w,E){function G(){return!G.pred.apply(G.thisArg,arguments)}return G.pred=w,G.thisArg=E,G}m.d(f,{f:()=>_})},4843:(u,f,m)=>{"use strict";m.d(f,{U:()=>E,z:()=>w});var _=m(5379);function w(...G){return E(G)}function E(G){return 0===G.length?_.y:1===G.length?G[0]:function(U){return G.reduce((X,T)=>T(X),U)}}},9249:(u,f,m)=>{"use strict";m.d(f,{s:()=>N});var _=m(3650),w=m(2782),G=m(5430),U=m(3821),T=m(8515),B=m(8955),R=m(7830);const N=L=>{if(L&&"function"==typeof L[U.L])return(L=>W=>{const k=L[U.L]();if("function"!=typeof k.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return k.subscribe(W)})(L);if((0,T.z)(L))return(0,_.V)(L);if((0,B.t)(L))return(L=>W=>(L.then(k=>{W.closed||(W.next(k),W.complete())},k=>W.error(k)).then(null,w.z),W))(L);if(L&&"function"==typeof L[G.hZ])return(L=>W=>{const k=L[G.hZ]();for(;;){let K;try{K=k.next()}catch(oe){return W.error(oe),W}if(K.done){W.complete();break}if(W.next(K.value),W.closed)break}return"function"==typeof k.return&&W.add(()=>{k.return&&k.return()}),W})(L);{const k=`You provided ${(0,R.K)(L)?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(k)}}},3650:(u,f,m)=>{"use strict";m.d(f,{V:()=>_});const _=w=>E=>{for(let G=0,F=w.length;G<F&&!E.closed;G++)E.next(w[G]);E.complete()}},448:(u,f,m)=>{"use strict";m.d(f,{D:()=>F});var _=m(3489);class w extends _.L{constructor(X,T,B){super(),this.parent=X,this.outerValue=T,this.outerIndex=B,this.index=0}_next(X){this.parent.notifyNext(this.outerValue,X,this.outerIndex,this.index++,this)}_error(X){this.parent.notifyError(X,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var E=m(9249),G=m(4202);function F(U,X,T,B,R=new w(U,T,B)){if(!R.closed)return X instanceof G.y?X.subscribe(R):(0,E.s)(X)(R)}},8732:(u,f,m)=>{"use strict";m.r(f),m.d(f,{audit:()=>w,auditTime:()=>X,buffer:()=>T,bufferCount:()=>L,bufferTime:()=>le,bufferToggle:()=>ct,bufferWhen:()=>an,catchError:()=>mt.K,combineAll:()=>Dn,combineLatest:()=>Wt,concat:()=>Nn,concatAll:()=>$n.u,concatMap:()=>Dt.b,concatMapTo:()=>Mr,count:()=>Bn,debounce:()=>Vi,debounceTime:()=>fo,defaultIfEmpty:()=>ln.d,delay:()=>ai.g,delayWhen:()=>qi,dematerialize:()=>Fr,distinct:()=>gn,distinctUntilChanged:()=>Tr.x,distinctUntilKeyChanged:()=>Br,elementAt:()=>Lt,endWith:()=>ta.l,every:()=>fi,exhaust:()=>Tt,exhaustMap:()=>Gn,expand:()=>Sr,filter:()=>eo.h,finalize:()=>Wa.x,find:()=>Zc,findIndex:()=>jd,first:()=>ef.P,flatMap:()=>Tn.VS,groupBy:()=>Li.v,ignoreElements:()=>Sm,isEmpty:()=>zi,last:()=>tn.Z,map:()=>dn.U,mapTo:()=>is.h,materialize:()=>ps,max:()=>Gu,merge:()=>Ah,mergeAll:()=>Pa.J,mergeMap:()=>Tn.zg,mergeMapTo:()=>Hi,mergeScan:()=>mo,min:()=>rs,multicast:()=>so.O,observeOn:()=>qr.QV,onErrorResumeNext:()=>Ec,pairwise:()=>qa,partition:()=>ed,pluck:()=>ms,publish:()=>nf,publishBehavior:()=>td,publishLast:()=>Ih,publishReplay:()=>Il,race:()=>os,reduce:()=>fs.u,refCount:()=>Rh.x,repeat:()=>Us,repeatWhen:()=>Hd,retry:()=>Dm,retryWhen:()=>nc,sample:()=>km,sampleTime:()=>Wu,scan:()=>Lm.R,sequenceEqual:()=>S0,share:()=>lf.B,shareReplay:()=>E0,single:()=>M,skip:()=>re.T,skipLast:()=>he,skipUntil:()=>Ye,skipWhile:()=>St,startWith:()=>rn.O,subscribeOn:()=>$o,switchAll:()=>Ti,switchMap:()=>Yr.w,switchMapTo:()=>Ic,take:()=>Po.q,takeLast:()=>Xi.h,takeUntil:()=>go.R,takeWhile:()=>ic.o,tap:()=>xi.b,throttle:()=>Lh,throttleTime:()=>oc,throwIfEmpty:()=>qo.T,timeInterval:()=>hr,timeout:()=>Xu,timeoutWith:()=>od,timestamp:()=>cf,toArray:()=>Gd.q,window:()=>Oo,windowCount:()=>Rl,windowTime:()=>df,windowToggle:()=>ke,windowWhen:()=>Ot,withLatestFrom:()=>An.M,zip:()=>In,zipAll:()=>or});var _=m(1177);function w(be){return function(te){return te.lift(new E(be))}}class E{constructor(z){this.durationSelector=z}call(z,te){return te.subscribe(new G(z,this.durationSelector))}}class G extends _.Ds{constructor(z,te){super(z),this.durationSelector=te,this.hasValue=!1}_next(z){if(this.value=z,this.hasValue=!0,!this.throttled){let te;try{const{durationSelector:it}=this;te=it(z)}catch(it){return this.destination.error(it)}const xe=(0,_.ft)(te,new _.IY(this));!xe||xe.closed?this.clearThrottle():this.add(this.throttled=xe)}}clearThrottle(){const{value:z,hasValue:te,throttled:xe}=this;xe&&(this.remove(xe),this.throttled=void 0,xe.unsubscribe()),te&&(this.value=void 0,this.hasValue=!1,this.destination.next(z))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var F=m(353),U=m(8723);function X(be,z=F.P){return w(()=>(0,U.H)(be,z))}function T(be){return function(te){return te.lift(new B(be))}}class B{constructor(z){this.closingNotifier=z}call(z,te){return te.subscribe(new R(z,this.closingNotifier))}}class R extends _.Ds{constructor(z,te){super(z),this.buffer=[],this.add((0,_.ft)(te,new _.IY(this)))}_next(z){this.buffer.push(z)}notifyNext(){const z=this.buffer;this.buffer=[],this.destination.next(z)}}var N=m(3489);function L(be,z=null){return function(xe){return xe.lift(new W(be,z))}}class W{constructor(z,te){this.bufferSize=z,this.startBufferEvery=te,this.subscriberClass=te&&z!==te?K:k}call(z,te){return te.subscribe(new this.subscriberClass(z,this.bufferSize,this.startBufferEvery))}}class k extends N.L{constructor(z,te){super(z),this.bufferSize=te,this.buffer=[]}_next(z){const te=this.buffer;te.push(z),te.length==this.bufferSize&&(this.destination.next(te),this.buffer=[])}_complete(){const z=this.buffer;z.length>0&&this.destination.next(z),super._complete()}}class K extends N.L{constructor(z,te,xe){super(z),this.bufferSize=te,this.startBufferEvery=xe,this.buffers=[],this.count=0}_next(z){const{bufferSize:te,startBufferEvery:xe,buffers:it,count:Xt}=this;this.count++,Xt%xe==0&&it.push([]);for(let Pn=it.length;Pn--;){const Fi=it[Pn];Fi.push(z),Fi.length===te&&(it.splice(Pn,1),this.destination.next(Fi))}}_complete(){const{buffers:z,destination:te}=this;for(;z.length>0;){let xe=z.shift();xe.length>0&&te.next(xe)}super._complete()}}var oe=m(2866);function le(be){let z=arguments.length,te=F.P;(0,oe.K)(arguments[arguments.length-1])&&(te=arguments[arguments.length-1],z--);let xe=null;z>=2&&(xe=arguments[1]);let it=Number.POSITIVE_INFINITY;return z>=3&&(it=arguments[2]),function(Pn){return Pn.lift(new we(be,xe,it,te))}}class we{constructor(z,te,xe,it){this.bufferTimeSpan=z,this.bufferCreationInterval=te,this.maxBufferSize=xe,this.scheduler=it}call(z,te){return te.subscribe(new Ze(z,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class Re{constructor(){this.buffer=[]}}class Ze extends N.L{constructor(z,te,xe,it,Xt){super(z),this.bufferTimeSpan=te,this.bufferCreationInterval=xe,this.maxBufferSize=it,this.scheduler=Xt,this.contexts=[];const Pn=this.openContext();if(this.timespanOnly=null==xe||xe<0,this.timespanOnly)this.add(Pn.closeAction=Xt.schedule(Ge,te,{subscriber:this,context:Pn,bufferTimeSpan:te}));else{const jr={bufferTimeSpan:te,bufferCreationInterval:xe,subscriber:this,scheduler:Xt};this.add(Pn.closeAction=Xt.schedule(yt,te,{subscriber:this,context:Pn})),this.add(Xt.schedule(Ke,xe,jr))}}_next(z){const te=this.contexts,xe=te.length;let it;for(let Xt=0;Xt<xe;Xt++){const Pn=te[Xt],Fi=Pn.buffer;Fi.push(z),Fi.length==this.maxBufferSize&&(it=Pn)}it&&this.onBufferFull(it)}_error(z){this.contexts.length=0,super._error(z)}_complete(){const{contexts:z,destination:te}=this;for(;z.length>0;){const xe=z.shift();te.next(xe.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(z){this.closeContext(z);const te=z.closeAction;if(te.unsubscribe(),this.remove(te),!this.closed&&this.timespanOnly){z=this.openContext();const xe=this.bufferTimeSpan;this.add(z.closeAction=this.scheduler.schedule(Ge,xe,{subscriber:this,context:z,bufferTimeSpan:xe}))}}openContext(){const z=new Re;return this.contexts.push(z),z}closeContext(z){this.destination.next(z.buffer);const te=this.contexts;(te?te.indexOf(z):-1)>=0&&te.splice(te.indexOf(z),1)}}function Ge(be){const z=be.subscriber,te=be.context;te&&z.closeContext(te),z.closed||(be.context=z.openContext(),be.context.closeAction=this.schedule(be,be.bufferTimeSpan))}function Ke(be){const{bufferCreationInterval:z,bufferTimeSpan:te,subscriber:xe,scheduler:it}=be,Xt=xe.openContext();xe.closed||(xe.add(Xt.closeAction=it.schedule(yt,te,{subscriber:xe,context:Xt})),this.schedule(be,z))}function yt(be){const{subscriber:z,context:te}=be;z.closeContext(te)}var j=m(4096),Te=m(448),pt=m(826);function ct(be,z){return function(xe){return xe.lift(new Mt(be,z))}}class Mt{constructor(z,te){this.openings=z,this.closingSelector=te}call(z,te){return te.subscribe(new qt(z,this.openings,this.closingSelector))}}class qt extends pt.L{constructor(z,te,xe){super(z),this.closingSelector=xe,this.contexts=[],this.add((0,Te.D)(this,te))}_next(z){const te=this.contexts,xe=te.length;for(let it=0;it<xe;it++)te[it].buffer.push(z)}_error(z){const te=this.contexts;for(;te.length>0;){const xe=te.shift();xe.subscription.unsubscribe(),xe.buffer=null,xe.subscription=null}this.contexts=null,super._error(z)}_complete(){const z=this.contexts;for(;z.length>0;){const te=z.shift();this.destination.next(te.buffer),te.subscription.unsubscribe(),te.buffer=null,te.subscription=null}this.contexts=null,super._complete()}notifyNext(z,te){z?this.closeBuffer(z):this.openBuffer(te)}notifyComplete(z){this.closeBuffer(z.context)}openBuffer(z){try{const xe=this.closingSelector.call(this,z);xe&&this.trySubscribe(xe)}catch(te){this._error(te)}}closeBuffer(z){const te=this.contexts;if(te&&z){const{buffer:xe,subscription:it}=z;this.destination.next(xe),te.splice(te.indexOf(z),1),this.remove(it),it.unsubscribe()}}trySubscribe(z){const te=this.contexts,it=new j.w,Xt={buffer:[],subscription:it};te.push(Xt);const Pn=(0,Te.D)(this,z,Xt);!Pn||Pn.closed?this.closeBuffer(Xt):(Pn.context=Xt,this.add(Pn),it.add(Pn))}}function an(be){return function(z){return z.lift(new vt(be))}}class vt{constructor(z){this.closingSelector=z}call(z,te){return te.subscribe(new ze(z,this.closingSelector))}}class ze extends _.Ds{constructor(z,te){super(z),this.closingSelector=te,this.subscribing=!1,this.openBuffer()}_next(z){this.buffer.push(z)}_complete(){const z=this.buffer;z&&this.destination.next(z),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let xe,{closingSubscription:z}=this;z&&(this.remove(z),z.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:it}=this;xe=it()}catch(it){return this.error(it)}z=new j.w,this.closingSubscription=z,this.add(z),this.subscribing=!0,z.add((0,_.ft)(xe,new _.IY(this))),this.subscribing=!1}}var mt=m(7221),Jt=m(6053);function Dn(be){return z=>z.lift(new Jt.Ms(be))}var Mn=m(6688),un=m(3527);function Wt(...be){let z=null;return"function"==typeof be[be.length-1]&&(z=be.pop()),1===be.length&&(0,Mn.k)(be[0])&&(be=be[0].slice()),te=>te.lift.call((0,un.D)([te,...be]),new Jt.Ms(z))}var Rn=m(1961);function Nn(...be){return z=>z.lift.call((0,Rn.z)(z,...be))}var $n=m(534),Dt=m(1406);function Mr(be,z){return(0,Dt.b)(()=>be,z)}function Bn(be){return z=>z.lift(new ri(be,z))}class ri{constructor(z,te){this.predicate=z,this.source=te}call(z,te){return te.subscribe(new Zt(z,this.predicate,this.source))}}class Zt extends N.L{constructor(z,te,xe){super(z),this.predicate=te,this.source=xe,this.count=0,this.index=0}_next(z){this.predicate?this._tryPredicate(z):this.count++}_tryPredicate(z){let te;try{te=this.predicate(z,this.index++,this.source)}catch(xe){return void this.destination.error(xe)}te&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Vi(be){return z=>z.lift(new hi(be))}class hi{constructor(z){this.durationSelector=z}call(z,te){return te.subscribe(new lr(z,this.durationSelector))}}class lr extends _.Ds{constructor(z,te){super(z),this.durationSelector=te,this.hasValue=!1}_next(z){try{const te=this.durationSelector.call(this,z);te&&this._tryNext(z,te)}catch(te){this.destination.error(te)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(z,te){let xe=this.durationSubscription;this.value=z,this.hasValue=!0,xe&&(xe.unsubscribe(),this.remove(xe)),xe=(0,_.ft)(te,new _.IY(this)),xe&&!xe.closed&&this.add(this.durationSubscription=xe)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const z=this.value,te=this.durationSubscription;te&&(this.durationSubscription=void 0,te.unsubscribe(),this.remove(te)),this.value=void 0,this.hasValue=!1,super._next(z)}}}function fo(be,z=F.P){return te=>te.lift(new cr(be,z))}class cr{constructor(z,te){this.dueTime=z,this.scheduler=te}call(z,te){return te.subscribe(new Wr(z,this.dueTime,this.scheduler))}}class Wr extends N.L{constructor(z,te,xe){super(z),this.dueTime=te,this.scheduler=xe,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(z){this.clearDebounce(),this.lastValue=z,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Or,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:z}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(z)}}clearDebounce(){const z=this.debouncedSubscription;null!==z&&(this.remove(z),z.unsubscribe(),this.debouncedSubscription=null)}}function Or(be){be.debouncedNext()}var ln=m(7314),ai=m(943),pr=m(4202);function qi(be,z){return z?te=>new ei(te,z).lift(new Yi(be)):te=>te.lift(new Yi(be))}class Yi{constructor(z){this.delayDurationSelector=z}call(z,te){return te.subscribe(new dr(z,this.delayDurationSelector))}}class dr extends pt.L{constructor(z,te){super(z),this.delayDurationSelector=te,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(z,te,xe,it,Xt){this.destination.next(z),this.removeSubscription(Xt),this.tryComplete()}notifyError(z,te){this._error(z)}notifyComplete(z){const te=this.removeSubscription(z);te&&this.destination.next(te),this.tryComplete()}_next(z){const te=this.index++;try{const xe=this.delayDurationSelector(z,te);xe&&this.tryDelay(xe,z)}catch(xe){this.destination.error(xe)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(z){z.unsubscribe();const te=this.delayNotifierSubscriptions.indexOf(z);return-1!==te&&this.delayNotifierSubscriptions.splice(te,1),z.outerValue}tryDelay(z,te){const xe=(0,Te.D)(this,z,te);xe&&!xe.closed&&(this.destination.add(xe),this.delayNotifierSubscriptions.push(xe))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class ei extends pr.y{constructor(z,te){super(),this.source=z,this.subscriptionDelay=te}_subscribe(z){this.subscriptionDelay.subscribe(new En(z,this.source))}}class En extends N.L{constructor(z,te){super(),this.parent=z,this.source=te,this.sourceSubscribed=!1}_next(z){this.subscribeToSource()}_error(z){this.unsubscribe(),this.parent.error(z)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function Fr(){return function(z){return z.lift(new Bs)}}class Bs{call(z,te){return te.subscribe(new yr(z))}}class yr extends N.L{constructor(z){super(z)}_next(z){z.observe(this.destination)}}function gn(be,z){return te=>te.lift(new ti(be,z))}class ti{constructor(z,te){this.keySelector=z,this.flushes=te}call(z,te){return te.subscribe(new br(z,this.keySelector,this.flushes))}}class br extends _.Ds{constructor(z,te,xe){super(z),this.keySelector=te,this.values=new Set,xe&&this.add((0,_.ft)(xe,new _.IY(this)))}notifyNext(){this.values.clear()}notifyError(z){this._error(z)}_next(z){this.keySelector?this._useKeySelector(z):this._finalizeNext(z,z)}_useKeySelector(z){let te;const{destination:xe}=this;try{te=this.keySelector(z)}catch(it){return void xe.error(it)}this._finalizeNext(te,z)}_finalizeNext(z,te){const{values:xe}=this;xe.has(z)||(xe.add(z),this.destination.next(te))}}var Tr=m(5778);function Br(be,z){return(0,Tr.x)((te,xe)=>z?z(te[be],xe[be]):te[be]===xe[be])}var zr=m(4231),eo=m(2198),qo=m(4907),Po=m(2986);function Lt(be,z){if(be<0)throw new zr.W;const te=arguments.length>=2;return xe=>xe.pipe((0,eo.h)((it,Xt)=>Xt===be),(0,Po.q)(1),te?(0,ln.d)(z):(0,qo.T)(()=>new zr.W))}var ta=m(2334);function fi(be,z){return te=>te.lift(new oo(be,z,te))}class oo{constructor(z,te,xe){this.predicate=z,this.thisArg=te,this.source=xe}call(z,te){return te.subscribe(new on(z,this.predicate,this.thisArg,this.source))}}class on extends N.L{constructor(z,te,xe,it){super(z),this.predicate=te,this.thisArg=xe,this.source=it,this.index=0,this.thisArg=xe||this}notifyComplete(z){this.destination.next(z),this.destination.complete()}_next(z){let te=!1;try{te=this.predicate.call(this.thisArg,z,this.index++,this.source)}catch(xe){return void this.destination.error(xe)}te||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Tt(){return be=>be.lift(new Qt)}class Qt{call(z,te){return te.subscribe(new nn(z))}}class nn extends _.Ds{constructor(z){super(z),this.hasCompleted=!1,this.hasSubscription=!1}_next(z){this.hasSubscription||(this.hasSubscription=!0,this.add((0,_.ft)(z,new _.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var dn=m(4850);function Gn(be,z){return z?te=>te.pipe(Gn((xe,it)=>(0,un.D)(be(xe,it)).pipe((0,dn.U)((Xt,Pn)=>z(xe,Xt,it,Pn))))):te=>te.lift(new rr(be))}class rr{constructor(z){this.project=z}call(z,te){return te.subscribe(new oi(z,this.project))}}class oi extends _.Ds{constructor(z,te){super(z),this.project=te,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(z){this.hasSubscription||this.tryNext(z)}tryNext(z){let te;const xe=this.index++;try{te=this.project(z,xe)}catch(it){return void this.destination.error(it)}this.hasSubscription=!0,this._innerSub(te)}_innerSub(z){const te=new _.IY(this),xe=this.destination;xe.add(te);const it=(0,_.ft)(z,te);it!==te&&xe.add(it)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyError(z){this.destination.error(z)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Sr(be,z=Number.POSITIVE_INFINITY,te){return z=(z||0)<1?Number.POSITIVE_INFINITY:z,xe=>xe.lift(new Wn(be,z,te))}class Wn{constructor(z,te,xe){this.project=z,this.concurrent=te,this.scheduler=xe}call(z,te){return te.subscribe(new Er(z,this.project,this.concurrent,this.scheduler))}}class Er extends _.Ds{constructor(z,te,xe,it){super(z),this.project=te,this.concurrent=xe,this.scheduler=it,this.index=0,this.active=0,this.hasCompleted=!1,xe<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(z){const{subscriber:te,result:xe,value:it,index:Xt}=z;te.subscribeToProjection(xe,it,Xt)}_next(z){const te=this.destination;if(te.closed)return void this._complete();const xe=this.index++;if(this.active<this.concurrent){te.next(z);try{const{project:it}=this,Xt=it(z,xe);this.scheduler?this.destination.add(this.scheduler.schedule(Er.dispatch,0,{subscriber:this,result:Xt,value:z,index:xe})):this.subscribeToProjection(Xt,z,xe)}catch(it){te.error(it)}}else this.buffer.push(z)}subscribeToProjection(z,te,xe){this.active++,this.destination.add((0,_.ft)(z,new _.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this._next(z)}notifyComplete(){const z=this.buffer;this.active--,z&&z.length>0&&this._next(z.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Wa=m(537);function Zc(be,z){if("function"!=typeof be)throw new TypeError("predicate is not a function");return te=>te.lift(new Ur(be,te,!1,z))}class Ur{constructor(z,te,xe,it){this.predicate=z,this.source=te,this.yieldIndex=xe,this.thisArg=it}call(z,te){return te.subscribe(new Al(z,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Al extends N.L{constructor(z,te,xe,it,Xt){super(z),this.predicate=te,this.source=xe,this.yieldIndex=it,this.thisArg=Xt,this.index=0}notifyComplete(z){const te=this.destination;te.next(z),te.complete(),this.unsubscribe()}_next(z){const{predicate:te,thisArg:xe}=this,it=this.index++;try{te.call(xe||this,z,it,this.source)&&this.notifyComplete(this.yieldIndex?it:z)}catch(Xt){this.destination.error(Xt)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function jd(be,z){return te=>te.lift(new Ur(be,te,!0,z))}var ef=m(7224),Li=m(4002);function Sm(){return function(z){return z.lift(new tf)}}class tf{call(z,te){return te.subscribe(new Vu(z))}}class Vu extends N.L{_next(z){}}function zi(){return be=>be.lift(new Hu)}class Hu{call(z,te){return te.subscribe(new Oc(z))}}class Oc extends N.L{constructor(z){super(z)}notifyComplete(z){const te=this.destination;te.next(z),te.complete()}_next(z){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var tn=m(8127),is=m(7604),_r=m(9312);function ps(){return function(z){return z.lift(new Yo)}}class Yo{call(z,te){return te.subscribe(new Sc(z))}}class Sc extends N.L{constructor(z){super(z)}_next(z){this.destination.next(_r.P.createNext(z))}_error(z){const te=this.destination;te.next(_r.P.createError(z)),te.complete()}_complete(){const z=this.destination;z.next(_r.P.createComplete()),z.complete()}}var fs=m(8077);function Gu(be){return(0,fs.u)("function"==typeof be?(te,xe)=>be(te,xe)>0?te:xe:(te,xe)=>te>xe?te:xe)}var Dh=m(6787);function Ah(...be){return z=>z.lift.call((0,Dh.T)(z,...be))}var Pa=m(9146),Tn=m(1709);function Hi(be,z,te=Number.POSITIVE_INFINITY){return"function"==typeof z?(0,Tn.zg)(()=>be,z,te):("number"==typeof z&&(te=z),(0,Tn.zg)(()=>be,te))}function mo(be,z,te=Number.POSITIVE_INFINITY){return xe=>xe.lift(new Oa(be,z,te))}class Oa{constructor(z,te,xe){this.accumulator=z,this.seed=te,this.concurrent=xe}call(z,te){return te.subscribe(new Tl(z,this.accumulator,this.seed,this.concurrent))}}class Tl extends _.Ds{constructor(z,te,xe,it){super(z),this.accumulator=te,this.acc=xe,this.concurrent=it,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){if(this.active<this.concurrent){const te=this.index++,xe=this.destination;let it;try{const{accumulator:Xt}=this;it=Xt(this.acc,z,te)}catch(Xt){return xe.error(Xt)}this.active++,this._innerSub(it)}else this.buffer.push(z)}_innerSub(z){const te=new _.IY(this),xe=this.destination;xe.add(te);const it=(0,_.ft)(z,te);it!==te&&xe.add(it)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(z){const{destination:te}=this;this.acc=z,this.hasValue=!0,te.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function rs(be){return(0,fs.u)("function"==typeof be?(te,xe)=>be(te,xe)<0?te:xe:(te,xe)=>te<xe?te:xe)}var so=m(2536),qr=m(7770);function Ec(...be){return 1===be.length&&(0,Mn.k)(be[0])&&(be=be[0]),z=>z.lift(new Gi(be))}class Gi{constructor(z){this.nextSources=z}call(z,te){return te.subscribe(new Vd(z,this.nextSources))}}class Vd extends _.Ds{constructor(z,te){super(z),this.destination=z,this.nextSources=te}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(z){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const z=this.nextSources.shift();if(z){const te=new _.IY(this),xe=this.destination;xe.add(te);const it=(0,_.ft)(z,te);it!==te&&xe.add(it)}else this.destination.complete()}}function qa(){return be=>be.lift(new Jc)}class Jc{call(z,te){return te.subscribe(new Dc(z))}}class Dc extends N.L{constructor(z){super(z),this.hasPrev=!1}_next(z){let te;this.hasPrev?te=[this.prev,z]:this.hasPrev=!0,this.prev=z,te&&this.destination.next(te)}}var es=m(5884);function ed(be,z){return te=>[(0,eo.h)(be,z)(te),(0,eo.h)((0,es.f)(be,z))(te)]}function ms(...be){const z=be.length;if(0===z)throw new Error("list of properties cannot be empty.");return te=>(0,dn.U)(function Ya(be,z){return xe=>{let it=xe;for(let Xt=0;Xt<z;Xt++){const Pn=it?.[be[Xt]];if(void 0===Pn)return;it=Pn}return it}}(be,z))(te)}var Xo=m(8929);function nf(be){return be?(0,so.O)(()=>new Xo.xQ,be):(0,so.O)(new Xo.xQ)}var to=m(591);function td(be){return z=>(0,so.O)(new to.X(be))(z)}var zs=m(2185);function Ih(){return be=>(0,so.O)(new zs.c)(be)}var nd=m(839);function Il(be,z,te,xe){te&&"function"!=typeof te&&(xe=te);const it="function"==typeof te?te:void 0,Xt=new nd.t(be,z,xe);return Pn=>(0,so.O)(()=>Xt,it)(Pn)}var Ac=m(1946);function os(...be){return function(te){return 1===be.length&&(0,Mn.k)(be[0])&&(be=be[0]),te.lift.call((0,Ac.S3)(te,...be))}}var Em=m(8896);function Us(be=-1){return z=>0===be?(0,Em.c)():z.lift(new Sa(be<0?-1:be-1,z))}class Sa{constructor(z,te){this.count=z,this.source=te}call(z,te){return te.subscribe(new kh(z,this.count,this.source))}}class kh extends N.L{constructor(z,te,xe){super(z),this.count=te,this.source=xe}complete(){if(!this.isStopped){const{source:z,count:te}=this;if(0===te)return super.complete();te>-1&&(this.count=te-1),z.subscribe(this._unsubscribeAndRecycle())}}}function Hd(be){return z=>z.lift(new kl(be))}class kl{constructor(z){this.notifier=z}call(z,te){return te.subscribe(new na(z,this.notifier,te))}}class na extends _.Ds{constructor(z,te,xe){super(z),this.notifier=te,this.source=xe,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:z,retriesSubscription:te}=this;z&&(z.unsubscribe(),this.notifications=void 0),te&&(te.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:z}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=z,this}subscribeToRetries(){let z;this.notifications=new Xo.xQ;try{const{notifier:te}=this;z=te(this.notifications)}catch{return super.complete()}this.retries=z,this.retriesSubscription=(0,_.ft)(z,new _.IY(this))}}function Dm(be=-1){return z=>z.lift(new Am(be,z))}class Am{constructor(z,te){this.count=z,this.source=te}call(z,te){return te.subscribe(new Tm(z,this.count,this.source))}}class Tm extends N.L{constructor(z,te,xe){super(z),this.count=te,this.source=xe}error(z){if(!this.isStopped){const{source:te,count:xe}=this;if(0===xe)return super.error(z);xe>-1&&(this.count=xe-1),te.subscribe(this._unsubscribeAndRecycle())}}}function nc(be){return z=>z.lift(new O0(be,z))}class O0{constructor(z,te){this.notifier=z,this.source=te}call(z,te){return te.subscribe(new Im(z,this.notifier,this.source))}}class Im extends _.Ds{constructor(z,te,xe){super(z),this.notifier=te,this.source=xe}error(z){if(!this.isStopped){let te=this.errors,xe=this.retries,it=this.retriesSubscription;if(xe)this.errors=void 0,this.retriesSubscription=void 0;else{te=new Xo.xQ;try{const{notifier:Xt}=this;xe=Xt(te)}catch(Xt){return super.error(Xt)}it=(0,_.ft)(xe,new _.IY(this))}this._unsubscribeAndRecycle(),this.errors=te,this.retries=xe,this.retriesSubscription=it,te.next(z)}}_unsubscribe(){const{errors:z,retriesSubscription:te}=this;z&&(z.unsubscribe(),this.errors=void 0),te&&(te.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:z}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=z,this.source.subscribe(this)}}var Rh=m(4327);function km(be){return z=>z.lift(new rf(be))}class rf{constructor(z){this.notifier=z}call(z,te){const xe=new Rm(z),it=te.subscribe(xe);return it.add((0,_.ft)(this.notifier,new _.IY(xe))),it}}class Rm extends _.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(z){this.value=z,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Wu(be,z=F.P){return te=>te.lift(new id(be,z))}class id{constructor(z,te){this.period=z,this.scheduler=te}call(z,te){return te.subscribe(new Nm(z,this.period,this.scheduler))}}class Nm extends N.L{constructor(z,te,xe){super(z),this.period=te,this.scheduler=xe,this.hasValue=!1,this.add(xe.schedule(sf,te,{subscriber:this,period:te}))}_next(z){this.lastValue=z,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function sf(be){let{subscriber:z,period:te}=be;z.notifyNext(),this.schedule(be,te)}var Lm=m(2014);function S0(be,z){return te=>te.lift(new af(be,z))}class af{constructor(z,te){this.compareTo=z,this.comparator=te}call(z,te){return te.subscribe(new rd(z,this.compareTo,this.comparator))}}class rd extends N.L{constructor(z,te,xe){super(z),this.compareTo=te,this.comparator=xe,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(te.subscribe(new Fm(z,this)))}_next(z){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(z),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:z,_b:te,comparator:xe}=this;for(;z.length>0&&te.length>0;){let it=z.shift(),Xt=te.shift(),Pn=!1;try{Pn=xe?xe(it,Xt):it===Xt}catch(Fi){this.destination.error(Fi)}Pn||this.emit(!1)}}emit(z){const{destination:te}=this;te.next(z),te.complete()}nextB(z){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(z),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Fm extends N.L{constructor(z,te){super(z),this.parent=te}_next(z){this.parent.nextB(z)}_error(z){this.parent.error(z),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var lf=m(8117);function E0(be,z,te){let xe;return xe=be&&"object"==typeof be?be:{bufferSize:be,windowTime:z,refCount:!1,scheduler:te},it=>it.lift(function Tc({bufferSize:be=Number.POSITIVE_INFINITY,windowTime:z=Number.POSITIVE_INFINITY,refCount:te,scheduler:xe}){let it,Pn,Xt=0,Fi=!1,jr=!1;return function(So){let Nl;Xt++,!it||Fi?(Fi=!1,it=new nd.t(be,z,xe),Nl=it.subscribe(this),Pn=So.subscribe({next(Qu){it.next(Qu)},error(Qu){Fi=!0,it.error(Qu)},complete(){jr=!0,Pn=void 0,it.complete()}}),jr&&(Pn=void 0)):Nl=it.subscribe(this),this.add(()=>{Xt--,Nl.unsubscribe(),Nl=void 0,Pn&&!jr&&te&&0===Xt&&(Pn.unsubscribe(),Pn=void 0,it=void 0)})}}(xe))}var Nh=m(4450);function M(be){return z=>z.lift(new I(be,z))}class I{constructor(z,te){this.predicate=z,this.source=te}call(z,te){return te.subscribe(new Z(z,this.predicate,this.source))}}class Z extends N.L{constructor(z,te,xe){super(z),this.predicate=te,this.source=xe,this.seenValue=!1,this.index=0}applySingleValue(z){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=z)}_next(z){const te=this.index++;this.predicate?this.tryNext(z,te):this.applySingleValue(z)}tryNext(z,te){try{this.predicate(z,te,this.source)&&this.applySingleValue(z)}catch(xe){this.destination.error(xe)}}_complete(){const z=this.destination;this.index>0?(z.next(this.seenValue?this.singleValue:void 0),z.complete()):z.error(new Nh.K)}}var re=m(1307);function he(be){return z=>z.lift(new ue(be))}class ue{constructor(z){if(this._skipCount=z,this._skipCount<0)throw new zr.W}call(z,te){return te.subscribe(0===this._skipCount?new N.L(z):new ve(z,this._skipCount))}}class ve extends N.L{constructor(z,te){super(z),this._skipCount=te,this._count=0,this._ring=new Array(te)}_next(z){const te=this._skipCount,xe=this._count++;if(xe<te)this._ring[xe]=z;else{const it=xe%te,Xt=this._ring,Pn=Xt[it];Xt[it]=z,this.destination.next(Pn)}}}function Ye(be){return z=>z.lift(new je(be))}class je{constructor(z){this.notifier=z}call(z,te){return te.subscribe(new et(z,this.notifier))}}class et extends _.Ds{constructor(z,te){super(z),this.hasValue=!1;const xe=new _.IY(this);this.add(xe),this.innerSubscription=xe;const it=(0,_.ft)(te,xe);it!==xe&&(this.add(it),this.innerSubscription=it)}_next(z){this.hasValue&&super._next(z)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function St(be){return z=>z.lift(new zt(be))}class zt{constructor(z){this.predicate=z}call(z,te){return te.subscribe(new ut(z,this.predicate))}}class ut extends N.L{constructor(z,te){super(z),this.predicate=te,this.skipping=!0,this.index=0}_next(z){const te=this.destination;this.skipping&&this.tryCallPredicate(z),this.skipping||te.next(z)}tryCallPredicate(z){try{const te=this.predicate(z,this.index++);this.skipping=Boolean(te)}catch(te){this.destination.error(te)}}}var rn=m(1059),li=m(8139),mi=m(4241);class Ai extends pr.y{constructor(z,te=0,xe=li.e){super(),this.source=z,this.delayTime=te,this.scheduler=xe,(!(0,mi.k)(te)||te<0)&&(this.delayTime=0),(!xe||"function"!=typeof xe.schedule)&&(this.scheduler=li.e)}static create(z,te=0,xe=li.e){return new Ai(z,te,xe)}static dispatch(z){const{source:te,subscriber:xe}=z;return this.add(te.subscribe(xe))}_subscribe(z){return this.scheduler.schedule(Ai.dispatch,this.delayTime,{source:this.source,subscriber:z})}}function $o(be,z=0){return function(xe){return xe.lift(new no(be,z))}}class no{constructor(z,te){this.scheduler=z,this.delay=te}call(z,te){return new Ai(te,this.delay,this.scheduler).subscribe(z)}}var Yr=m(7545),Xa=m(5379);function Ti(){return(0,Yr.w)(Xa.y)}function Ic(be,z){return z?(0,Yr.w)(()=>be,z):(0,Yr.w)(()=>be)}var Xi=m(2821),go=m(7625),ic=m(4290),xi=m(2994);const ia={leading:!0,trailing:!1};function Lh(be,z=ia){return te=>te.lift(new hl(be,!!z.leading,!!z.trailing))}class hl{constructor(z,te,xe){this.durationSelector=z,this.leading=te,this.trailing=xe}call(z,te){return te.subscribe(new rc(z,this.durationSelector,this.leading,this.trailing))}}class rc extends _.Ds{constructor(z,te,xe,it){super(z),this.destination=z,this.durationSelector=te,this._leading=xe,this._trailing=it,this._hasValue=!1}_next(z){this._hasValue=!0,this._sendValue=z,this._throttled||(this._leading?this.send():this.throttle(z))}send(){const{_hasValue:z,_sendValue:te}=this;z&&(this.destination.next(te),this.throttle(te)),this._hasValue=!1,this._sendValue=void 0}throttle(z){const te=this.tryDurationSelector(z);te&&this.add(this._throttled=(0,_.ft)(te,new _.IY(this)))}tryDurationSelector(z){try{return this.durationSelector(z)}catch(te){return this.destination.error(te),null}}throttlingDone(){const{_throttled:z,_trailing:te}=this;z&&z.unsubscribe(),this._throttled=void 0,te&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function oc(be,z=F.P,te=ia){return xe=>xe.lift(new js(be,z,te.leading,te.trailing))}class js{constructor(z,te,xe,it){this.duration=z,this.scheduler=te,this.leading=xe,this.trailing=it}call(z,te){return te.subscribe(new qu(z,this.duration,this.scheduler,this.leading,this.trailing))}}class qu extends N.L{constructor(z,te,xe,it,Xt){super(z),this.duration=te,this.scheduler=xe,this.leading=it,this.trailing=Xt,this._hasTrailingValue=!1,this._trailingValue=null}_next(z){this.throttled?this.trailing&&(this._trailingValue=z,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ul,this.duration,{subscriber:this})),this.leading?this.destination.next(z):this.trailing&&(this._trailingValue=z,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const z=this.throttled;z&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),z.unsubscribe(),this.remove(z),this.throttled=null)}}function ul(be){const{subscriber:z}=be;z.clearThrottle()}var Ht=m(8514);function hr(be=F.P){return z=>(0,Ht.P)(()=>z.pipe((0,Lm.R)(({current:te},xe)=>({value:xe,current:be.now(),last:te}),{current:be.now(),value:void 0,last:void 0}),(0,dn.U)(({current:te,last:xe,value:it})=>new zn(it,te-xe))))}class zn{constructor(z,te){this.value=z,this.interval=te}}var Vn=m(854),Ei=m(2697);function od(be,z,te=F.P){return xe=>{let it=(0,Ei.J)(be),Xt=it?+be-te.now():Math.abs(be);return xe.lift(new Ms(Xt,it,z,te))}}class Ms{constructor(z,te,xe,it){this.waitFor=z,this.absoluteTimeout=te,this.withObservable=xe,this.scheduler=it}call(z,te){return te.subscribe(new Fo(z,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Fo extends _.Ds{constructor(z,te,xe,it,Xt){super(z),this.absoluteTimeout=te,this.waitFor=xe,this.withObservable=it,this.scheduler=Xt,this.scheduleTimeout()}static dispatchTimeout(z){const{withObservable:te}=z;z._unsubscribeAndRecycle(),z.add((0,_.ft)(te,new _.IY(z)))}scheduleTimeout(){const{action:z}=this;z?this.action=z.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Fo.dispatchTimeout,this.waitFor,this))}_next(z){this.absoluteTimeout||this.scheduleTimeout(),super._next(z)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Yu=m(1737);function Xu(be,z=F.P){return od(be,(0,Yu._)(new Vn.W),z)}function cf(be=F.P){return(0,dn.U)(z=>new sd(z,be.now()))}class sd{constructor(z,te){this.value=z,this.timestamp=te}}var Gd=m(864);function Oo(be){return function(te){return te.lift(new pl(be))}}class pl{constructor(z){this.windowBoundaries=z}call(z,te){const xe=new ad(z),it=te.subscribe(xe);return it.closed||xe.add((0,_.ft)(this.windowBoundaries,new _.IY(xe))),it}}class ad extends _.Ds{constructor(z){super(z),this.window=new Xo.xQ,z.next(this.window)}notifyNext(){this.openWindow()}notifyError(z){this._error(z)}notifyComplete(){this._complete()}_next(z){this.window.next(z)}_error(z){this.window.error(z),this.destination.error(z)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const z=this.window;z&&z.complete();const te=this.destination,xe=this.window=new Xo.xQ;te.next(xe)}}function Rl(be,z=0){return function(xe){return xe.lift(new ra(be,z))}}class ra{constructor(z,te){this.windowSize=z,this.startWindowEvery=te}call(z,te){return te.subscribe(new Fh(z,this.windowSize,this.startWindowEvery))}}class Fh extends N.L{constructor(z,te,xe){super(z),this.destination=z,this.windowSize=te,this.startWindowEvery=xe,this.windows=[new Xo.xQ],this.count=0,z.next(this.windows[0])}_next(z){const te=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,xe=this.destination,it=this.windowSize,Xt=this.windows,Pn=Xt.length;for(let jr=0;jr<Pn&&!this.closed;jr++)Xt[jr].next(z);const Fi=this.count-it+1;if(Fi>=0&&Fi%te==0&&!this.closed&&Xt.shift().complete(),++this.count%te==0&&!this.closed){const jr=new Xo.xQ;Xt.push(jr),xe.next(jr)}}_error(z){const te=this.windows;if(te)for(;te.length>0&&!this.closed;)te.shift().error(z);this.destination.error(z)}_complete(){const z=this.windows;if(z)for(;z.length>0&&!this.closed;)z.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function df(be){let z=F.P,te=null,xe=Number.POSITIVE_INFINITY;return(0,oe.K)(arguments[3])&&(z=arguments[3]),(0,oe.K)(arguments[2])?z=arguments[2]:(0,mi.k)(arguments[2])&&(xe=Number(arguments[2])),(0,oe.K)(arguments[1])?z=arguments[1]:(0,mi.k)(arguments[1])&&(te=Number(arguments[1])),function(Xt){return Xt.lift(new Bh(be,te,xe,z))}}class Bh{constructor(z,te,xe,it){this.windowTimeSpan=z,this.windowCreationInterval=te,this.maxWindowSize=xe,this.scheduler=it}call(z,te){return te.subscribe(new ld(z,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class $u extends Xo.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(z){this._numberOfNextedValues++,super.next(z)}get numberOfNextedValues(){return this._numberOfNextedValues}}class ld extends N.L{constructor(z,te,xe,it,Xt){super(z),this.destination=z,this.windowTimeSpan=te,this.windowCreationInterval=xe,this.maxWindowSize=it,this.scheduler=Xt,this.windows=[];const Pn=this.openWindow();if(null!==xe&&xe>=0){const jr={windowTimeSpan:te,windowCreationInterval:xe,subscriber:this,scheduler:Xt};this.add(Xt.schedule(qd,te,{subscriber:this,window:Pn,context:null})),this.add(Xt.schedule(zh,xe,jr))}else this.add(Xt.schedule(Wd,te,{subscriber:this,window:Pn,windowTimeSpan:te}))}_next(z){const te=this.windows,xe=te.length;for(let it=0;it<xe;it++){const Xt=te[it];Xt.closed||(Xt.next(z),Xt.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(Xt))}}_error(z){const te=this.windows;for(;te.length>0;)te.shift().error(z);this.destination.error(z)}_complete(){const z=this.windows;for(;z.length>0;){const te=z.shift();te.closed||te.complete()}this.destination.complete()}openWindow(){const z=new $u;return this.windows.push(z),this.destination.next(z),z}closeWindow(z){z.complete();const te=this.windows;te.splice(te.indexOf(z),1)}}function Wd(be){const{subscriber:z,windowTimeSpan:te,window:xe}=be;xe&&z.closeWindow(xe),be.window=z.openWindow(),this.schedule(be,te)}function zh(be){const{windowTimeSpan:z,subscriber:te,scheduler:xe,windowCreationInterval:it}=be,Xt=te.openWindow();let Fi={action:this,subscription:null};Fi.subscription=xe.schedule(qd,z,{subscriber:te,window:Xt,context:Fi}),this.add(Fi.subscription),this.schedule(be,it)}function qd(be){const{subscriber:z,window:te,context:xe}=be;xe&&xe.action&&xe.subscription&&xe.action.remove(xe.subscription),z.closeWindow(te)}function ke(be,z){return te=>te.lift(new Je(be,z))}class Je{constructor(z,te){this.openings=z,this.closingSelector=te}call(z,te){return te.subscribe(new gt(z,this.openings,this.closingSelector))}}class gt extends pt.L{constructor(z,te,xe){super(z),this.openings=te,this.closingSelector=xe,this.contexts=[],this.add(this.openSubscription=(0,Te.D)(this,te,te))}_next(z){const{contexts:te}=this;if(te){const xe=te.length;for(let it=0;it<xe;it++)te[it].window.next(z)}}_error(z){const{contexts:te}=this;if(this.contexts=null,te){const xe=te.length;let it=-1;for(;++it<xe;){const Xt=te[it];Xt.window.error(z),Xt.subscription.unsubscribe()}}super._error(z)}_complete(){const{contexts:z}=this;if(this.contexts=null,z){const te=z.length;let xe=-1;for(;++xe<te;){const it=z[xe];it.window.complete(),it.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:z}=this;if(this.contexts=null,z){const te=z.length;let xe=-1;for(;++xe<te;){const it=z[xe];it.window.unsubscribe(),it.subscription.unsubscribe()}}}notifyNext(z,te,xe,it,Xt){if(z===this.openings){let Pn;try{const{closingSelector:Nl}=this;Pn=Nl(te)}catch(Nl){return this.error(Nl)}const Fi=new Xo.xQ,jr=new j.w,Ps={window:Fi,subscription:jr};this.contexts.push(Ps);const So=(0,Te.D)(this,Pn,Ps);So.closed?this.closeWindow(this.contexts.length-1):(So.context=Ps,jr.add(So)),this.destination.next(Fi)}else this.closeWindow(this.contexts.indexOf(z))}notifyError(z){this.error(z)}notifyComplete(z){z!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(z.context))}closeWindow(z){if(-1===z)return;const{contexts:te}=this,xe=te[z],{window:it,subscription:Xt}=xe;te.splice(z,1),it.complete(),Xt.unsubscribe()}}function Ot(be){return function(te){return te.lift(new Bt(be))}}class Bt{constructor(z){this.closingSelector=z}call(z,te){return te.subscribe(new pn(z,this.closingSelector))}}class pn extends pt.L{constructor(z,te){super(z),this.destination=z,this.closingSelector=te,this.openWindow()}notifyNext(z,te,xe,it,Xt){this.openWindow(Xt)}notifyError(z){this._error(z)}notifyComplete(z){this.openWindow(z)}_next(z){this.window.next(z)}_error(z){this.window.error(z),this.destination.error(z),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(z=null){z&&(this.remove(z),z.unsubscribe());const te=this.window;te&&te.complete();const xe=this.window=new Xo.xQ;let it;this.destination.next(xe);try{const{closingSelector:Xt}=this;it=Xt()}catch(Xt){return this.destination.error(Xt),void this.window.error(Xt)}this.add(this.closingNotification=(0,Te.D)(this,it))}}var An=m(7168),qn=m(1746);function In(...be){return function(te){return te.lift.call((0,qn.$R)(te,...be))}}function or(be){return z=>z.lift(new qn.mx(be))}},811:(u,f,m)=>{"use strict";m(2181)},5226:function(u){u.exports=function(){"use strict";function f(q,J,de){if("function"==typeof q?q===J:q.has(J))return arguments.length<3?J:de;throw new TypeError("Private element is not present on this object")}function _(q,J){return q.get(f(q,J))}function w(q,J,de){(function m(q,J){if(J.has(q))throw new TypeError("Cannot initialize the same private elements twice on an object")})(q,J),J.set(q,de)}const F={},X=q=>new Promise(J=>{if(!q)return J();const de=window.scrollX,Ne=window.scrollY;F.restoreFocusTimeout=setTimeout(()=>{F.previousActiveElement instanceof HTMLElement?(F.previousActiveElement.focus(),F.previousActiveElement=null):document.body&&document.body.focus(),J()},100),window.scrollTo(de,Ne)}),T="swal2-",R=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((q,J)=>(q[J]=T+J,q),{}),L=["success","warning","info","question","error"].reduce((q,J)=>(q[J]=T+J,q),{}),W="SweetAlert2:",k=q=>q.charAt(0).toUpperCase()+q.slice(1),K=q=>{console.warn(`${W} ${"object"==typeof q?q.join(" "):q}`)},oe=q=>{console.error(`${W} ${q}`)},le=[],we=q=>{le.includes(q)||(le.push(q),K(q))},Re=function(q){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;we(`"${q}" is deprecated and will be removed in the next major release.${J?` Use "${J}" instead.`:""}`)},Ze=q=>"function"==typeof q?q():q,Ge=q=>q&&"function"==typeof q.toPromise,Ke=q=>Ge(q)?q.toPromise():Promise.resolve(q),yt=q=>q&&Promise.resolve(q)===q,j=()=>document.body.querySelector(`.${R.container}`),Te=q=>{const J=j();return J?J.querySelector(q):null},pt=q=>Te(`.${q}`),ct=()=>pt(R.popup),Mt=()=>pt(R.icon),an=()=>pt(R.title),vt=()=>pt(R["html-container"]),ze=()=>pt(R.image),mt=()=>pt(R["progress-steps"]),Jt=()=>pt(R["validation-message"]),Dn=()=>Te(`.${R.actions} .${R.confirm}`),Mn=()=>Te(`.${R.actions} .${R.cancel}`),un=()=>Te(`.${R.actions} .${R.deny}`),Wt=()=>Te(`.${R.loader}`),Rn=()=>pt(R.actions),Nn=()=>pt(R.footer),$n=()=>pt(R["timer-progress-bar"]),Dt=()=>pt(R.close),Bn=()=>{const q=ct();if(!q)return[];const J=q.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),de=Array.from(J).sort((kn,Ki)=>{const Ir=parseInt(kn.getAttribute("tabindex")||"0"),Bo=parseInt(Ki.getAttribute("tabindex")||"0");return Ir>Bo?1:Ir<Bo?-1:0}),Ne=q.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),Ct=Array.from(Ne).filter(kn=>"-1"!==kn.getAttribute("tabindex"));return[...new Set(de.concat(Ct))].filter(kn=>yr(kn))},ri=()=>lr(document.body,R.shown)&&!lr(document.body,R["toast-shown"])&&!lr(document.body,R["no-backdrop"]),Zt=()=>{const q=ct();return!!q&&lr(q,R.toast)},hi=(q,J)=>{if(q.textContent="",J){const Ne=(new DOMParser).parseFromString(J,"text/html"),Ct=Ne.querySelector("head");Ct&&Array.from(Ct.childNodes).forEach(Ki=>{q.appendChild(Ki)});const kn=Ne.querySelector("body");kn&&Array.from(kn.childNodes).forEach(Ki=>{Ki instanceof HTMLVideoElement||Ki instanceof HTMLAudioElement?q.appendChild(Ki.cloneNode(!0)):q.appendChild(Ki)})}},lr=(q,J)=>{if(!J)return!1;const de=J.split(/\s+/);for(let Ne=0;Ne<de.length;Ne++)if(!q.classList.contains(de[Ne]))return!1;return!0},cr=(q,J,de)=>{if(((q,J)=>{Array.from(q.classList).forEach(de=>{!Object.values(R).includes(de)&&!Object.values(L).includes(de)&&!Object.values(J.showClass||{}).includes(de)&&q.classList.remove(de)})})(q,J),!J.customClass)return;const Ne=J.customClass[de];if(Ne){if("string"!=typeof Ne&&!Ne.forEach)return void K(`Invalid type of customClass.${de}! Expected string or iterable object, got "${typeof Ne}"`);ai(q,Ne)}},Wr=(q,J)=>{if(!J)return null;switch(J){case"select":case"textarea":case"file":return q.querySelector(`.${R.popup} > .${R[J]}`);case"checkbox":return q.querySelector(`.${R.popup} > .${R.checkbox} input`);case"radio":return q.querySelector(`.${R.popup} > .${R.radio} input:checked`)||q.querySelector(`.${R.popup} > .${R.radio} input:first-child`);case"range":return q.querySelector(`.${R.popup} > .${R.range} input`);default:return q.querySelector(`.${R.popup} > .${R.input}`)}},Or=q=>{if(q.focus(),"file"!==q.type){const J=q.value;q.value="",q.value=J}},ln=(q,J,de)=>{!q||!J||("string"==typeof J&&(J=J.split(/\s+/).filter(Boolean)),J.forEach(Ne=>{Array.isArray(q)?q.forEach(Ct=>{de?Ct.classList.add(Ne):Ct.classList.remove(Ne)}):de?q.classList.add(Ne):q.classList.remove(Ne)}))},ai=(q,J)=>{ln(q,J,!0)},pr=(q,J)=>{ln(q,J,!1)},qi=(q,J)=>{const de=Array.from(q.children);for(let Ne=0;Ne<de.length;Ne++){const Ct=de[Ne];if(Ct instanceof HTMLElement&&lr(Ct,J))return Ct}},Yi=(q,J,de)=>{de===`${parseInt(de)}`&&(de=parseInt(de)),de||0===parseInt(de)?q.style.setProperty(J,"number"==typeof de?`${de}px`:de):q.style.removeProperty(J)},dr=function(q){q&&(q.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},ei=q=>{q&&(q.style.display="none")},En=function(q){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";q&&new MutationObserver(()=>{Bs(q,q.innerHTML,J)}).observe(q,{childList:!0,subtree:!0})},Fr=(q,J,de,Ne)=>{const Ct=q.querySelector(J);Ct&&Ct.style.setProperty(de,Ne)},Bs=function(q,J){J?dr(q,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ei(q)},yr=q=>!(!q||!(q.offsetWidth||q.offsetHeight||q.getClientRects().length)),ti=q=>q.scrollHeight>q.clientHeight,br=q=>{const J=window.getComputedStyle(q),de=parseFloat(J.getPropertyValue("animation-duration")||"0"),Ne=parseFloat(J.getPropertyValue("transition-duration")||"0");return de>0||Ne>0},Tr=function(q){let J=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const de=$n();de&&yr(de)&&(J&&(de.style.transition="none",de.style.width="100%"),setTimeout(()=>{de.style.transition=`width ${q/1e3}s linear`,de.style.width="0%"},10))},eo=`\n <div aria-labelledby="${R.title}" aria-describedby="${R["html-container"]}" class="${R.popup}" tabindex="-1">\n   <button type="button" class="${R.close}"></button>\n   <ul class="${R["progress-steps"]}"></ul>\n   <div class="${R.icon}"></div>\n   <img class="${R.image}" />\n   <h2 class="${R.title}" id="${R.title}"></h2>\n   <div class="${R["html-container"]}" id="${R["html-container"]}"></div>\n   <input class="${R.input}" id="${R.input}" />\n   <input type="file" class="${R.file}" />\n   <div class="${R.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${R.select}" id="${R.select}"></select>\n   <div class="${R.radio}"></div>\n   <label class="${R.checkbox}">\n     <input type="checkbox" id="${R.checkbox}" />\n     <span class="${R.label}"></span>\n   </label>\n   <textarea class="${R.textarea}" id="${R.textarea}"></textarea>\n   <div class="${R["validation-message"]}" id="${R["validation-message"]}"></div>\n   <div class="${R.actions}">\n     <div class="${R.loader}"></div>\n     <button type="button" class="${R.confirm}"></button>\n     <button type="button" class="${R.deny}"></button>\n     <button type="button" class="${R.cancel}"></button>\n   </div>\n   <div class="${R.footer}"></div>\n   <div class="${R["timer-progress-bar-container"]}">\n     <div class="${R["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Po=()=>{F.currentInstance.resetValidationMessage()},on=q=>{const J=(()=>{const q=j();return!!q&&(q.remove(),pr([document.documentElement,document.body],[R["no-backdrop"],R["toast-shown"],R["has-column"]]),!0)})();if(typeof window>"u"||typeof document>"u")return void oe("SweetAlert2 requires document to initialize");const de=document.createElement("div");de.className=R.container,J&&ai(de,R["no-transition"]),hi(de,eo);const Ne=(q=>"string"==typeof q?document.querySelector(q):q)(q.target);Ne.appendChild(de),(q=>{const J=ct();J.setAttribute("role",q.toast?"alert":"dialog"),J.setAttribute("aria-live",q.toast?"polite":"assertive"),q.toast||J.setAttribute("aria-modal","true")})(q),(q=>{"rtl"===window.getComputedStyle(q).direction&&ai(j(),R.rtl)})(Ne),(()=>{const q=ct(),J=qi(q,R.input),de=qi(q,R.file),Ne=q.querySelector(`.${R.range} input`),Ct=q.querySelector(`.${R.range} output`),kn=qi(q,R.select),Ki=q.querySelector(`.${R.checkbox} input`),Ir=qi(q,R.textarea);J.oninput=Po,de.onchange=Po,kn.onchange=Po,Ki.onchange=Po,Ir.oninput=Po,Ne.oninput=()=>{Po(),Ct.value=Ne.value},Ne.onchange=()=>{Po(),Ct.value=Ne.value}})()},Tt=(q,J)=>{q instanceof HTMLElement?J.appendChild(q):"object"==typeof q?Qt(q,J):q&&hi(J,q)},Qt=(q,J)=>{q.jquery?nn(J,q):hi(J,q.toString())},nn=(q,J)=>{if(q.textContent="",0 in J)for(let de=0;de in J;de++)q.appendChild(J[de].cloneNode(!0));else q.appendChild(J.cloneNode(!0))},dn=(q,J)=>{const de=Rn(),Ne=Wt();!de||!Ne||(J.showConfirmButton||J.showDenyButton||J.showCancelButton?dr(de):ei(de),cr(de,J,"actions"),function Gn(q,J,de){const Ne=Dn(),Ct=un(),kn=Mn();!Ne||!Ct||!kn||(oi(Ne,"confirm",de),oi(Ct,"deny",de),oi(kn,"cancel",de),function rr(q,J,de,Ne){Ne.buttonsStyling?(ai([q,J,de],R.styled),Ne.confirmButtonColor&&(q.style.backgroundColor=Ne.confirmButtonColor,ai(q,R["default-outline"])),Ne.denyButtonColor&&(J.style.backgroundColor=Ne.denyButtonColor,ai(J,R["default-outline"])),Ne.cancelButtonColor&&(de.style.backgroundColor=Ne.cancelButtonColor,ai(de,R["default-outline"]))):pr([q,J,de],R.styled)}(Ne,Ct,kn,de),de.reverseButtons&&(de.toast?(q.insertBefore(kn,Ne),q.insertBefore(Ct,Ne)):(q.insertBefore(kn,J),q.insertBefore(Ct,J),q.insertBefore(Ne,J))))}(de,Ne,J),hi(Ne,J.loaderHtml||""),cr(Ne,J,"loader"))};function oi(q,J,de){const Ne=k(J);Bs(q,de[`show${Ne}Button`],"inline-block"),hi(q,de[`${J}ButtonText`]||""),q.setAttribute("aria-label",de[`${J}ButtonAriaLabel`]||""),q.className=R[J],cr(q,de,`${J}Button`)}const Wn=(q,J)=>{const de=j();de&&(function Er(q,J){"string"==typeof J?q.style.background=J:J||ai([document.documentElement,document.body],R["no-backdrop"])}(de,J.backdrop),function Wa(q,J){J&&(J in R?ai(q,R[J]):(K('The "position" parameter is not valid, defaulting to "center"'),ai(q,R.center)))}(de,J.position),function Zc(q,J){J&&ai(q,R[`grow-${J}`])}(de,J.grow),cr(de,J,"container"))};var Ur={innerParams:new WeakMap,domCache:new WeakMap};const Al=["input","file","range","select","radio","checkbox","textarea"],ef=q=>{if(!q.input)return;if(!tn[q.input])return void oe(`Unexpected type of input! Expected ${Object.keys(tn).join(" | ")}, got "${q.input}"`);const J=Hu(q.input);if(!J)return;const de=tn[q.input](J,q);dr(J),q.inputAutoFocus&&setTimeout(()=>{Or(de)})},Sm=(q,J)=>{const de=ct();if(!de)return;const Ne=Wr(de,q);if(Ne){(q=>{for(let J=0;J<q.attributes.length;J++){const de=q.attributes[J].name;["id","type","value","style"].includes(de)||q.removeAttribute(de)}})(Ne);for(const Ct in J)Ne.setAttribute(Ct,J[Ct])}},tf=q=>{if(!q.input)return;const J=Hu(q.input);J&&cr(J,q,"input")},Vu=(q,J)=>{!q.placeholder&&J.inputPlaceholder&&(q.placeholder=J.inputPlaceholder)},zi=(q,J,de)=>{if(de.inputLabel){const Ne=document.createElement("label"),Ct=R["input-label"];Ne.setAttribute("for",q.id),Ne.className=Ct,"object"==typeof de.customClass&&ai(Ne,de.customClass.inputLabel),Ne.innerText=de.inputLabel,J.insertAdjacentElement("beforebegin",Ne)}},Hu=q=>{const J=ct();if(J)return qi(J,R[q]||R.input)},Oc=(q,J)=>{["string","number"].includes(typeof J)?q.value=`${J}`:yt(J)||K(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof J}"`)},tn={};tn.text=tn.email=tn.password=tn.number=tn.tel=tn.url=tn.search=tn.date=tn["datetime-local"]=tn.time=tn.week=tn.month=(q,J)=>(Oc(q,J.inputValue),zi(q,q,J),Vu(q,J),q.type=J.input,q),tn.file=(q,J)=>(zi(q,q,J),Vu(q,J),q),tn.range=(q,J)=>{const de=q.querySelector("input"),Ne=q.querySelector("output");return Oc(de,J.inputValue),de.type=J.input,Oc(Ne,J.inputValue),zi(de,q,J),q},tn.select=(q,J)=>{if(q.textContent="",J.inputPlaceholder){const de=document.createElement("option");hi(de,J.inputPlaceholder),de.value="",de.disabled=!0,de.selected=!0,q.appendChild(de)}return zi(q,q,J),q},tn.radio=q=>(q.textContent="",q),tn.checkbox=(q,J)=>{const de=Wr(ct(),"checkbox");de.value="1",de.checked=Boolean(J.inputValue);const Ne=q.querySelector("span");return hi(Ne,J.inputPlaceholder||J.inputLabel),de},tn.textarea=(q,J)=>{Oc(q,J.inputValue),Vu(q,J),zi(q,q,J);return setTimeout(()=>{if("MutationObserver"in window){const Ne=parseInt(window.getComputedStyle(ct()).width);new MutationObserver(()=>{if(!document.body.contains(q))return;const kn=q.offsetWidth+(Ne=>parseInt(window.getComputedStyle(Ne).marginLeft)+parseInt(window.getComputedStyle(Ne).marginRight))(q);kn>Ne?ct().style.width=`${kn}px`:Yi(ct(),"width",J.width)}).observe(q,{attributes:!0,attributeFilter:["style"]})}}),q};const is=(q,J)=>{const de=vt();de&&(En(de),cr(de,J,"htmlContainer"),J.html?(Tt(J.html,de),dr(de,"block")):J.text?(de.textContent=J.text,dr(de,"block")):ei(de),((q,J)=>{const de=ct();if(!de)return;const Ne=Ur.innerParams.get(q),Ct=!Ne||J.input!==Ne.input;Al.forEach(kn=>{const Ki=qi(de,R[kn]);Ki&&(Sm(kn,J.inputAttributes),Ki.className=R[kn],Ct&&ei(Ki))}),J.input&&(Ct&&ef(J),tf(J))})(q,J))},Yo=(q,J)=>{for(const[de,Ne]of Object.entries(L))J.icon!==de&&pr(q,Ne);ai(q,J.icon&&L[J.icon]),Ah(q,J),Sc(),cr(q,J,"icon")},Sc=()=>{const q=ct();if(!q)return;const J=window.getComputedStyle(q).getPropertyValue("background-color"),de=q.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ne=0;Ne<de.length;Ne++)de[Ne].style.backgroundColor=J},Dh=(q,J)=>{if(!J.icon&&!J.iconHtml)return;let de=q.innerHTML,Ne="";J.iconHtml?Ne=Pa(J.iconHtml):"success"===J.icon?(Ne='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',de=de.replace(/ style=".*?"/g,"")):"error"===J.icon?Ne='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':J.icon&&(Ne=Pa({question:"?",warning:"!",info:"i"}[J.icon])),de.trim()!==Ne.trim()&&hi(q,Ne)},Ah=(q,J)=>{if(J.iconColor){q.style.color=J.iconColor,q.style.borderColor=J.iconColor;for(const de of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Fr(q,de,"background-color",J.iconColor);Fr(q,".swal2-success-ring","border-color",J.iconColor)}},Pa=q=>`<div class="${R["icon-content"]}">${q}</div>`,mo=(q,J)=>{const de=J.showClass||{};q.className=`${R.popup} ${yr(q)?de.popup:""}`,J.toast?(ai([document.documentElement,document.body],R["toast-shown"]),ai(q,R.toast)):ai(q,R.modal),cr(q,J,"popup"),"string"==typeof J.customClass&&ai(q,J.customClass),J.icon&&ai(q,R[`icon-${J.icon}`])},Tl=q=>{const J=document.createElement("li");return ai(J,R["progress-step"]),hi(J,q),J},rs=q=>{const J=document.createElement("li");return ai(J,R["progress-step-line"]),q.progressStepsDistance&&Yi(J,"width",q.progressStepsDistance),J},qr=(q,J)=>{((q,J)=>{const de=j(),Ne=ct();if(de&&Ne){if(J.toast){Yi(de,"width",J.width),Ne.style.width="100%";const Ct=Wt();Ct&&Ne.insertBefore(Ct,Mt())}else Yi(Ne,"width",J.width);Yi(Ne,"padding",J.padding),J.color&&(Ne.style.color=J.color),J.background&&(Ne.style.background=J.background),ei(Jt()),mo(Ne,J)}})(0,J),Wn(0,J),((q,J)=>{const de=mt();if(!de)return;const{progressSteps:Ne,currentProgressStep:Ct}=J;Ne&&0!==Ne.length&&void 0!==Ct?(dr(de),de.textContent="",Ct>=Ne.length&&K("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Ne.forEach((kn,Ki)=>{const Ir=Tl(kn);if(de.appendChild(Ir),Ki===Ct&&ai(Ir,R["active-progress-step"]),Ki!==Ne.length-1){const Bo=rs(J);de.appendChild(Bo)}})):ei(de)})(0,J),((q,J)=>{const de=Ur.innerParams.get(q),Ne=Mt();if(Ne){if(de&&J.icon===de.icon)return Dh(Ne,J),void Yo(Ne,J);if(!J.icon&&!J.iconHtml)return void ei(Ne);if(J.icon&&-1===Object.keys(L).indexOf(J.icon))return oe(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${J.icon}"`),void ei(Ne);dr(Ne),Dh(Ne,J),Yo(Ne,J),ai(Ne,J.showClass&&J.showClass.icon)}})(q,J),((q,J)=>{const de=ze();if(de){if(!J.imageUrl)return void ei(de);dr(de,""),de.setAttribute("src",J.imageUrl),de.setAttribute("alt",J.imageAlt||""),Yi(de,"width",J.imageWidth),Yi(de,"height",J.imageHeight),de.className=R.image,cr(de,J,"image")}})(0,J),((q,J)=>{const de=an();de&&(En(de),Bs(de,J.title||J.titleText,"block"),J.title&&Tt(J.title,de),J.titleText&&(de.innerText=J.titleText),cr(de,J,"title"))})(0,J),((q,J)=>{const de=Dt();de&&(hi(de,J.closeButtonHtml||""),cr(de,J,"closeButton"),Bs(de,J.showCloseButton),de.setAttribute("aria-label",J.closeButtonAriaLabel||""))})(0,J),is(q,J),dn(0,J),((q,J)=>{const de=Nn();de&&(En(de),Bs(de,J.footer,"block"),J.footer&&Tt(J.footer,de),cr(de,J,"footer"))})(0,J);const de=ct();"function"==typeof J.didRender&&de&&J.didRender(de),F.eventEmitter.emit("didRender",de)},Th=()=>{var q;return null===(q=Dn())||void 0===q?void 0:q.click()},qa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Jc=q=>{q.keydownTarget&&q.keydownHandlerAdded&&(q.keydownTarget.removeEventListener("keydown",q.keydownHandler,{capture:q.keydownListenerCapture}),q.keydownHandlerAdded=!1)},es=(q,J)=>{var de;const Ne=Bn();if(Ne.length)return(q+=J)===Ne.length?q=0:-1===q&&(q=Ne.length-1),void Ne[q].focus();null===(de=ct())||void 0===de||de.focus()},ed=["ArrowRight","ArrowDown"],ms=["ArrowLeft","ArrowUp"],Ya=(q,J,de)=>{q&&(J.isComposing||229===J.keyCode||(q.stopKeydownPropagation&&J.stopPropagation(),"Enter"===J.key?Xo(J,q):"Tab"===J.key?nf(J):[...ed,...ms].includes(J.key)?to(J.key):"Escape"===J.key&&td(J,q,de)))},Xo=(q,J)=>{if(!Ze(J.allowEnterKey))return;const de=Wr(ct(),J.input);if(q.target&&de&&q.target instanceof HTMLElement&&q.target.outerHTML===de.outerHTML){if(["textarea","file"].includes(J.input))return;Th(),q.preventDefault()}},nf=q=>{const J=q.target,de=Bn();let Ne=-1;for(let Ct=0;Ct<de.length;Ct++)if(J===de[Ct]){Ne=Ct;break}es(Ne,q.shiftKey?-1:1),q.stopPropagation(),q.preventDefault()},to=q=>{const J=Rn(),de=Dn(),Ne=un(),Ct=Mn();if(!(J&&de&&Ne&&Ct))return;if(document.activeElement instanceof HTMLElement&&![de,Ne,Ct].includes(document.activeElement))return;const Ki=ed.includes(q)?"nextElementSibling":"previousElementSibling";let Ir=document.activeElement;if(Ir){for(let Bo=0;Bo<J.children.length;Bo++){if(Ir=Ir[Ki],!Ir)return;if(Ir instanceof HTMLButtonElement&&yr(Ir))break}Ir instanceof HTMLButtonElement&&Ir.focus()}},td=(q,J,de)=>{Ze(J.allowEscapeKey)&&(q.preventDefault(),de(qa.esc))};var zs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const nd=()=>{Array.from(document.body.children).forEach(J=>{J.hasAttribute("data-previous-aria-hidden")?(J.setAttribute("aria-hidden",J.getAttribute("data-previous-aria-hidden")||""),J.removeAttribute("data-previous-aria-hidden")):J.removeAttribute("aria-hidden")})},Il=typeof window<"u"&&!!window.GestureEvent,os=()=>{const q=j();if(!q)return;let J;q.ontouchstart=de=>{J=Em(de)},q.ontouchmove=de=>{J&&(de.preventDefault(),de.stopPropagation())}},Em=q=>{const J=q.target,de=j(),Ne=vt();return!(!de||!Ne||Us(q)||Sa(q)||J!==de&&(ti(de)||!(J instanceof HTMLElement)||"INPUT"===J.tagName||"TEXTAREA"===J.tagName||ti(Ne)&&Ne.contains(J)))},Us=q=>q.touches&&q.touches.length&&"stylus"===q.touches[0].touchType,Sa=q=>q.touches&&q.touches.length>1,kh=()=>{if(lr(document.body,R.iosfix)){const q=parseInt(document.body.style.top,10);pr(document.body,R.iosfix),document.body.style.top="",document.body.scrollTop=-1*q}};let kl=null;const na=q=>{null===kl&&(document.body.scrollHeight>window.innerHeight||"scroll"===q)&&(kl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${kl+(()=>{const q=document.createElement("div");q.className=R["scrollbar-measure"],document.body.appendChild(q);const J=q.getBoundingClientRect().width-q.clientWidth;return document.body.removeChild(q),J})()}px`)},Dm=()=>{null!==kl&&(document.body.style.paddingRight=`${kl}px`,kl=null)};function Am(q,J,de,Ne){Zt()?Wu(q,Ne):(X(de).then(()=>Wu(q,Ne)),Jc(F)),Il?(J.setAttribute("style","display:none !important"),J.removeAttribute("class"),J.innerHTML=""):J.remove(),ri()&&(Dm(),kh(),nd()),function Tm(){pr([document.documentElement,document.body],[R.shown,R["height-auto"],R["no-backdrop"],R["toast-shown"]])}()}function nc(q){q=km(q);const J=zs.swalPromiseResolve.get(this),de=O0(this);this.isAwaitingPromise?q.isDismissed||(Rh(this),J(q)):de&&J(q)}const O0=q=>{const J=ct();if(!J)return!1;const de=Ur.innerParams.get(q);if(!de||lr(J,de.hideClass.popup))return!1;pr(J,de.showClass.popup),ai(J,de.hideClass.popup);const Ne=j();return pr(Ne,de.showClass.backdrop),ai(Ne,de.hideClass.backdrop),rf(q,J,de),!0};function Im(q){const J=zs.swalPromiseReject.get(this);Rh(this),J&&J(q)}const Rh=q=>{q.isAwaitingPromise&&(delete q.isAwaitingPromise,Ur.innerParams.get(q)||q._destroy())},km=q=>typeof q>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},q),rf=(q,J,de)=>{var Ne;const Ct=j(),kn=br(J);"function"==typeof de.willClose&&de.willClose(J),null===(Ne=F.eventEmitter)||void 0===Ne||Ne.emit("willClose",J),kn?Rm(q,J,Ct,de.returnFocus,de.didClose):Am(q,Ct,de.returnFocus,de.didClose)},Rm=(q,J,de,Ne,Ct)=>{F.swalCloseEventFinishedCallback=Am.bind(null,q,de,Ne,Ct);const kn=function(Ki){var Ir;Ki.target===J&&(null===(Ir=F.swalCloseEventFinishedCallback)||void 0===Ir||Ir.call(F),delete F.swalCloseEventFinishedCallback,J.removeEventListener("animationend",kn),J.removeEventListener("transitionend",kn))};J.addEventListener("animationend",kn),J.addEventListener("transitionend",kn)},Wu=(q,J)=>{setTimeout(()=>{var de;"function"==typeof J&&J.bind(q.params)(),null===(de=F.eventEmitter)||void 0===de||de.emit("didClose"),q._destroy&&q._destroy()})},id=q=>{let J=ct();if(J||new Uh,J=ct(),!J)return;const de=Wt();Zt()?ei(Mt()):Nm(J,q),dr(de),J.setAttribute("data-loading","true"),J.setAttribute("aria-busy","true"),J.focus()},Nm=(q,J)=>{const de=Rn(),Ne=Wt();!de||!Ne||(!J&&yr(Dn())&&(J=Dn()),dr(de),J&&(ei(J),Ne.setAttribute("data-button-to-replace",J.className),de.insertBefore(Ne,J)),ai([q,de],R.loading))},S0=q=>q.checked?1:0,af=q=>q.checked?q.value:null,rd=q=>q.files&&q.files.length?null!==q.getAttribute("multiple")?q.files:q.files[0]:null,Fm=(q,J)=>{const de=ct();if(!de)return;const Ne=Ct=>{"select"===J.input?function E0(q,J,de){const Ne=qi(q,R.select);if(!Ne)return;const Ct=(kn,Ki,Ir)=>{const Bo=document.createElement("option");Bo.value=Ir,hi(Bo,Ki),Bo.selected=M(Ir,de.inputValue),kn.appendChild(Bo)};J.forEach(kn=>{const Ki=kn[0],Ir=kn[1];if(Array.isArray(Ir)){const Bo=document.createElement("optgroup");Bo.label=Ki,Bo.disabled=!1,Ne.appendChild(Bo),Ir.forEach(Ku=>Ct(Bo,Ku[1],Ku[0]))}else Ct(Ne,Ir,Ki)}),Ne.focus()}(de,Nh(Ct),J):"radio"===J.input&&function Tc(q,J,de){const Ne=qi(q,R.radio);if(!Ne)return;J.forEach(kn=>{const Ki=kn[0],Ir=kn[1],Bo=document.createElement("input"),Ku=document.createElement("label");Bo.type="radio",Bo.name=R.radio,Bo.value=Ki,M(Ki,de.inputValue)&&(Bo.checked=!0);const Oy=document.createElement("span");hi(Oy,Ir),Oy.className=R.label,Ku.appendChild(Bo),Ku.appendChild(Oy),Ne.appendChild(Ku)});const Ct=Ne.querySelectorAll("input");Ct.length&&Ct[0].focus()}(de,Nh(Ct),J)};Ge(J.inputOptions)||yt(J.inputOptions)?(id(Dn()),Ke(J.inputOptions).then(Ct=>{q.hideLoading(),Ne(Ct)})):"object"==typeof J.inputOptions?Ne(J.inputOptions):oe("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof J.inputOptions)},lf=(q,J)=>{const de=q.getInput();de&&(ei(de),Ke(J.inputValue).then(Ne=>{de.value="number"===J.input?`${parseFloat(Ne)||0}`:`${Ne}`,dr(de),de.focus(),q.hideLoading()}).catch(Ne=>{oe(`Error in inputValue promise: ${Ne}`),de.value="",dr(de),de.focus(),q.hideLoading()}))};const Nh=q=>{const J=[];return q instanceof Map?q.forEach((de,Ne)=>{let Ct=de;"object"==typeof Ct&&(Ct=Nh(Ct)),J.push([Ne,Ct])}):Object.keys(q).forEach(de=>{let Ne=q[de];"object"==typeof Ne&&(Ne=Nh(Ne)),J.push([de,Ne])}),J},M=(q,J)=>!!J&&J.toString()===q.toString(),he=(q,J)=>{const de=Ur.innerParams.get(q);if(!de.input)return void oe(`The "input" parameter is needed to be set when using returnInputValueOn${k(J)}`);const Ne=q.getInput(),Ct=((q,J)=>{const de=q.getInput();if(!de)return null;switch(J.input){case"checkbox":return S0(de);case"radio":return af(de);case"file":return rd(de);default:return J.inputAutoTrim?de.value.trim():de.value}})(q,de);de.inputValidator?ue(q,Ct,J):Ne&&!Ne.checkValidity()?(q.enableButtons(),q.showValidationMessage(de.validationMessage||Ne.validationMessage)):"deny"===J?ve(q,Ct):et(q,Ct)},ue=(q,J,de)=>{const Ne=Ur.innerParams.get(q);q.disableInput(),Promise.resolve().then(()=>Ke(Ne.inputValidator(J,Ne.validationMessage))).then(kn=>{q.enableButtons(),q.enableInput(),kn?q.showValidationMessage(kn):"deny"===de?ve(q,J):et(q,J)})},ve=(q,J)=>{const de=Ur.innerParams.get(q||void 0);de.showLoaderOnDeny&&id(un()),de.preDeny?(q.isAwaitingPromise=!0,Promise.resolve().then(()=>Ke(de.preDeny(J,de.validationMessage))).then(Ct=>{!1===Ct?(q.hideLoading(),Rh(q)):q.close({isDenied:!0,value:typeof Ct>"u"?J:Ct})}).catch(Ct=>je(q||void 0,Ct))):q.close({isDenied:!0,value:J})},Ye=(q,J)=>{q.close({isConfirmed:!0,value:J})},je=(q,J)=>{q.rejectPromise(J)},et=(q,J)=>{const de=Ur.innerParams.get(q||void 0);de.showLoaderOnConfirm&&id(),de.preConfirm?(q.resetValidationMessage(),q.isAwaitingPromise=!0,Promise.resolve().then(()=>Ke(de.preConfirm(J,de.validationMessage))).then(Ct=>{yr(Jt())||!1===Ct?(q.hideLoading(),Rh(q)):Ye(q,typeof Ct>"u"?J:Ct)}).catch(Ct=>je(q||void 0,Ct))):Ye(q,J)};function St(){const q=Ur.innerParams.get(this);if(!q)return;const J=Ur.domCache.get(this);ei(J.loader),Zt()?q.icon&&dr(Mt()):zt(J),pr([J.popup,J.actions],R.loading),J.popup.removeAttribute("aria-busy"),J.popup.removeAttribute("data-loading"),J.confirmButton.disabled=!1,J.denyButton.disabled=!1,J.cancelButton.disabled=!1}const zt=q=>{const J=q.popup.getElementsByClassName(q.loader.getAttribute("data-button-to-replace"));J.length?dr(J[0],"inline-block"):!yr(Dn())&&!yr(un())&&!yr(Mn())&&ei(q.actions)};function ut(){const q=Ur.innerParams.get(this),J=Ur.domCache.get(this);return J?Wr(J.popup,q.input):null}function rn(q,J,de){const Ne=Ur.domCache.get(q);J.forEach(Ct=>{Ne[Ct].disabled=de})}function li(q,J){const de=ct();if(de&&q)if("radio"===q.type){const Ne=de.querySelectorAll(`[name="${R.radio}"]`);for(let Ct=0;Ct<Ne.length;Ct++)Ne[Ct].disabled=J}else q.disabled=J}function mi(){rn(this,["confirmButton","denyButton","cancelButton"],!1)}function Ai(){rn(this,["confirmButton","denyButton","cancelButton"],!0)}function $o(){li(this.getInput(),!1)}function no(){li(this.getInput(),!0)}function Yr(q){const J=Ur.domCache.get(this),de=Ur.innerParams.get(this);hi(J.validationMessage,q),J.validationMessage.className=R["validation-message"],de.customClass&&de.customClass.validationMessage&&ai(J.validationMessage,de.customClass.validationMessage),dr(J.validationMessage);const Ne=this.getInput();Ne&&(Ne.setAttribute("aria-invalid","true"),Ne.setAttribute("aria-describedby",R["validation-message"]),Or(Ne),ai(Ne,R.inputerror))}function Xa(){const q=Ur.domCache.get(this);q.validationMessage&&ei(q.validationMessage);const J=this.getInput();J&&(J.removeAttribute("aria-invalid"),J.removeAttribute("aria-describedby"),pr(J,R.inputerror))}const Ti={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ic=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Xi={allowEnterKey:void 0},go=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ic=q=>Object.prototype.hasOwnProperty.call(Ti,q),xi=q=>-1!==Ic.indexOf(q),ia=q=>Xi[q],Lh=q=>{ic(q)||K(`Unknown parameter "${q}"`)},hl=q=>{go.includes(q)&&K(`The parameter "${q}" is incompatible with toasts`)},rc=q=>{const J=ia(q);J&&Re(q,J)};function js(q){const J=ct(),de=Ur.innerParams.get(this);if(!J||lr(J,de.hideClass.popup))return void K("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ne=qu(q),Ct=Object.assign({},de,Ne);qr(this,Ct),Ur.innerParams.set(this,Ct),Object.defineProperties(this,{params:{value:Object.assign({},this.params,q),writable:!1,enumerable:!0}})}const qu=q=>{const J={};return Object.keys(q).forEach(de=>{xi(de)?J[de]=q[de]:K(`Invalid parameter to update: ${de}`)}),J};function ul(){const q=Ur.domCache.get(this),J=Ur.innerParams.get(this);J?(q.popup&&F.swalCloseEventFinishedCallback&&(F.swalCloseEventFinishedCallback(),delete F.swalCloseEventFinishedCallback),"function"==typeof J.didDestroy&&J.didDestroy(),F.eventEmitter.emit("didDestroy"),Ht(this)):hr(this)}const Ht=q=>{hr(q),delete q.params,delete F.keydownHandler,delete F.keydownTarget,delete F.currentInstance},hr=q=>{q.isAwaitingPromise?(zn(Ur,q),q.isAwaitingPromise=!0):(zn(zs,q),zn(Ur,q),delete q.isAwaitingPromise,delete q.disableButtons,delete q.enableButtons,delete q.getInput,delete q.disableInput,delete q.enableInput,delete q.hideLoading,delete q.disableLoading,delete q.showValidationMessage,delete q.resetValidationMessage,delete q.close,delete q.closePopup,delete q.closeModal,delete q.closeToast,delete q.rejectPromise,delete q.update,delete q._destroy)},zn=(q,J)=>{for(const de in q)q[de].delete(J)};var Vn=Object.freeze({__proto__:null,_destroy:ul,close:nc,closeModal:nc,closePopup:nc,closeToast:nc,disableButtons:Ai,disableInput:no,disableLoading:St,enableButtons:mi,enableInput:$o,getInput:ut,handleAwaitingPromise:Rh,hideLoading:St,rejectPromise:Im,resetValidationMessage:Xa,showValidationMessage:Yr,update:js});const od=(q,J,de)=>{J.popup.onclick=()=>{q&&(Ms(q)||q.timer||q.input)||de(qa.close)}},Ms=q=>!!(q.showConfirmButton||q.showDenyButton||q.showCancelButton||q.showCloseButton);let Fo=!1;const Yu=q=>{q.popup.onmousedown=()=>{q.container.onmouseup=function(J){q.container.onmouseup=()=>{},J.target===q.container&&(Fo=!0)}}},Xu=q=>{q.container.onmousedown=J=>{J.target===q.container&&J.preventDefault(),q.popup.onmouseup=function(de){q.popup.onmouseup=()=>{},(de.target===q.popup||de.target instanceof HTMLElement&&q.popup.contains(de.target))&&(Fo=!0)}}},cf=(q,J,de)=>{J.container.onclick=Ne=>{Fo?Fo=!1:Ne.target===J.container&&Ze(q.allowOutsideClick)&&de(qa.backdrop)}},Gd=q=>q instanceof Element||(q=>"object"==typeof q&&q.jquery)(q);const ra=()=>{if(F.timeout)return(()=>{const q=$n();if(!q)return;const J=parseInt(window.getComputedStyle(q).width);q.style.removeProperty("transition"),q.style.width="100%";const de=parseInt(window.getComputedStyle(q).width);q.style.width=J/de*100+"%"})(),F.timeout.stop()},Fh=()=>{if(F.timeout){const q=F.timeout.start();return Tr(q),q}};let ld=!1;const Wd={};const qd=q=>{for(let J=q.target;J&&J!==document;J=J.parentNode)for(const de in Wd){const Ne=J.getAttribute(de);if(Ne)return void Wd[de].fire({template:Ne})}};F.eventEmitter=new class ke{constructor(){this.events={}}_getHandlersByEventName(J){return typeof this.events[J]>"u"&&(this.events[J]=[]),this.events[J]}on(J,de){const Ne=this._getHandlersByEventName(J);Ne.includes(de)||Ne.push(de)}once(J,de){var Ne=this;const Ct=function(){Ne.removeListener(J,Ct);for(var kn=arguments.length,Ki=new Array(kn),Ir=0;Ir<kn;Ir++)Ki[Ir]=arguments[Ir];de.apply(Ne,Ki)};this.on(J,Ct)}emit(J){for(var de=arguments.length,Ne=new Array(de>1?de-1:0),Ct=1;Ct<de;Ct++)Ne[Ct-1]=arguments[Ct];this._getHandlersByEventName(J).forEach(kn=>{try{kn.apply(this,Ne)}catch(Ki){console.error(Ki)}})}removeListener(J,de){const Ne=this._getHandlersByEventName(J),Ct=Ne.indexOf(de);Ct>-1&&Ne.splice(Ct,1)}removeAllListeners(J){void 0!==this.events[J]&&(this.events[J].length=0)}reset(){this.events={}}};var Bt=Object.freeze({__proto__:null,argsToParams:q=>{const J={};return"object"!=typeof q[0]||Gd(q[0])?["title","html","icon"].forEach((de,Ne)=>{const Ct=q[Ne];"string"==typeof Ct||Gd(Ct)?J[de]=Ct:void 0!==Ct&&oe(`Unexpected type of ${de}! Expected "string" or "Element", got ${typeof Ct}`)}):Object.assign(J,q[0]),J},bindClickHandler:function zh(){Wd[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ld||(document.body.addEventListener("click",qd),ld=!0)},clickCancel:()=>{var q;return null===(q=Mn())||void 0===q?void 0:q.click()},clickConfirm:Th,clickDeny:()=>{var q;return null===(q=un())||void 0===q?void 0:q.click()},enableLoading:id,fire:function pl(){for(var q=arguments.length,J=new Array(q),de=0;de<q;de++)J[de]=arguments[de];return new this(...J)},getActions:Rn,getCancelButton:Mn,getCloseButton:Dt,getConfirmButton:Dn,getContainer:j,getDenyButton:un,getFocusableElements:Bn,getFooter:Nn,getHtmlContainer:vt,getIcon:Mt,getIconContent:()=>pt(R["icon-content"]),getImage:ze,getInputLabel:()=>pt(R["input-label"]),getLoader:Wt,getPopup:ct,getProgressSteps:mt,getTimerLeft:()=>F.timeout&&F.timeout.getTimerLeft(),getTimerProgressBar:$n,getTitle:an,getValidationMessage:Jt,increaseTimer:q=>{if(F.timeout){const J=F.timeout.increase(q);return Tr(J,!0),J}},isDeprecatedParameter:ia,isLoading:()=>{const q=ct();return!!q&&q.hasAttribute("data-loading")},isTimerRunning:()=>!(!F.timeout||!F.timeout.isRunning()),isUpdatableParameter:xi,isValidParameter:ic,isVisible:()=>yr(ct()),mixin:function ad(q){return class J extends(this){_main(Ne,Ct){return super._main(Ne,Object.assign({},q,Ct))}}},off:(q,J)=>{q?J?F.eventEmitter.removeListener(q,J):F.eventEmitter.removeAllListeners(q):F.eventEmitter.reset()},on:(q,J)=>{F.eventEmitter.on(q,J)},once:(q,J)=>{F.eventEmitter.once(q,J)},resumeTimer:Fh,showLoading:id,stopTimer:ra,toggleTimer:()=>{const q=F.timeout;return q&&(q.running?ra():Fh())}});class pn{constructor(J,de){this.callback=J,this.remaining=de,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(J){const de=this.running;return de&&this.stop(),this.remaining+=J,de&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const An=["swal-title","swal-html","swal-footer"],In=q=>{const J={};return Array.from(q.querySelectorAll("swal-param")).forEach(Ne=>{Pn(Ne,["name","value"]);const Ct=Ne.getAttribute("name"),kn=Ne.getAttribute("value");!Ct||!kn||(J[Ct]="boolean"==typeof Ti[Ct]?"false"!==kn:"object"==typeof Ti[Ct]?JSON.parse(kn):kn)}),J},or=q=>{const J={};return Array.from(q.querySelectorAll("swal-function-param")).forEach(Ne=>{const Ct=Ne.getAttribute("name"),kn=Ne.getAttribute("value");!Ct||!kn||(J[Ct]=new Function(`return ${kn}`)())}),J},be=q=>{const J={};return Array.from(q.querySelectorAll("swal-button")).forEach(Ne=>{Pn(Ne,["type","color","aria-label"]);const Ct=Ne.getAttribute("type");!Ct||!["confirm","cancel","deny"].includes(Ct)||(J[`${Ct}ButtonText`]=Ne.innerHTML,J[`show${k(Ct)}Button`]=!0,Ne.hasAttribute("color")&&(J[`${Ct}ButtonColor`]=Ne.getAttribute("color")),Ne.hasAttribute("aria-label")&&(J[`${Ct}ButtonAriaLabel`]=Ne.getAttribute("aria-label")))}),J},z=q=>{const J={},de=q.querySelector("swal-image");return de&&(Pn(de,["src","width","height","alt"]),de.hasAttribute("src")&&(J.imageUrl=de.getAttribute("src")||void 0),de.hasAttribute("width")&&(J.imageWidth=de.getAttribute("width")||void 0),de.hasAttribute("height")&&(J.imageHeight=de.getAttribute("height")||void 0),de.hasAttribute("alt")&&(J.imageAlt=de.getAttribute("alt")||void 0)),J},te=q=>{const J={},de=q.querySelector("swal-icon");return de&&(Pn(de,["type","color"]),de.hasAttribute("type")&&(J.icon=de.getAttribute("type")),de.hasAttribute("color")&&(J.iconColor=de.getAttribute("color")),J.iconHtml=de.innerHTML),J},xe=q=>{const J={},de=q.querySelector("swal-input");de&&(Pn(de,["type","label","placeholder","value"]),J.input=de.getAttribute("type")||"text",de.hasAttribute("label")&&(J.inputLabel=de.getAttribute("label")),de.hasAttribute("placeholder")&&(J.inputPlaceholder=de.getAttribute("placeholder")),de.hasAttribute("value")&&(J.inputValue=de.getAttribute("value")));const Ne=Array.from(q.querySelectorAll("swal-input-option"));return Ne.length&&(J.inputOptions={},Ne.forEach(Ct=>{Pn(Ct,["value"]);const kn=Ct.getAttribute("value");kn&&(J.inputOptions[kn]=Ct.innerHTML)})),J},it=(q,J)=>{const de={};for(const Ne in J){const Ct=J[Ne],kn=q.querySelector(Ct);kn&&(Pn(kn,[]),de[Ct.replace(/^swal-/,"")]=kn.innerHTML.trim())}return de},Xt=q=>{const J=An.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(q.children).forEach(de=>{const Ne=de.tagName.toLowerCase();J.includes(Ne)||K(`Unrecognized element <${Ne}>`)})},Pn=(q,J)=>{Array.from(q.attributes).forEach(de=>{-1===J.indexOf(de.name)&&K([`Unrecognized attribute "${de.name}" on <${q.tagName.toLowerCase()}>.`,J.length?`Allowed attributes are: ${J.join(", ")}`:"To set the value, use HTML within the element."])})},jr=q=>{const J=j(),de=ct();"function"==typeof q.willOpen&&q.willOpen(de),F.eventEmitter.emit("willOpen",de);const Ct=window.getComputedStyle(document.body).overflowY;Qu(J,de,q),setTimeout(()=>{So(J,de)},10),ri()&&(Nl(J,q.scrollbarPadding,Ct),(()=>{const q=j();Array.from(document.body.children).forEach(de=>{de.contains(q)||(de.hasAttribute("aria-hidden")&&de.setAttribute("data-previous-aria-hidden",de.getAttribute("aria-hidden")||""),de.setAttribute("aria-hidden","true"))})})()),!Zt()&&!F.previousActiveElement&&(F.previousActiveElement=document.activeElement),"function"==typeof q.didOpen&&setTimeout(()=>q.didOpen(de)),F.eventEmitter.emit("didOpen",de),pr(J,R["no-transition"])},Ps=q=>{const J=ct();if(q.target!==J)return;const de=j();J.removeEventListener("animationend",Ps),J.removeEventListener("transitionend",Ps),de.style.overflowY="auto"},So=(q,J)=>{br(J)?(q.style.overflowY="hidden",J.addEventListener("animationend",Ps),J.addEventListener("transitionend",Ps)):q.style.overflowY="auto"},Nl=(q,J,de)=>{(()=>{if(Il&&!lr(document.body,R.iosfix)){const q=document.body.scrollTop;document.body.style.top=-1*q+"px",ai(document.body,R.iosfix),os()}})(),J&&"hidden"!==de&&na(de),setTimeout(()=>{q.scrollTop=0})},Qu=(q,J,de)=>{ai(q,de.showClass.backdrop),de.animation?(J.style.setProperty("opacity","0","important"),dr(J,"grid"),setTimeout(()=>{ai(J,de.showClass.popup),J.style.removeProperty("opacity")},10)):dr(J,"grid"),ai([document.documentElement,document.body],R.shown),de.heightAuto&&de.backdrop&&!de.toast&&ai([document.documentElement,document.body],R["height-auto"])};var Cy={email:(q,J)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(q)?Promise.resolve():Promise.resolve(J||"Invalid email address"),url:(q,J)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(q)?Promise.resolve():Promise.resolve(J||"Invalid URL")};function Bm(q){(function AO(q){q.inputValidator||("email"===q.input&&(q.inputValidator=Cy.email),"url"===q.input&&(q.inputValidator=Cy.url))})(q),q.showLoaderOnConfirm&&!q.preConfirm&&K("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function hf(q){(!q.target||"string"==typeof q.target&&!document.querySelector(q.target)||"string"!=typeof q.target&&!q.target.appendChild)&&(K('Target parameter is not valid, defaulting to "body"'),q.target="body")}(q),"string"==typeof q.title&&(q.title=q.title.split("\n").join("<br />")),on(q)}let cd;var My=new WeakMap;class Qo{constructor(){if(w(this,My,void 0),typeof window>"u")return;cd=this;for(var J=arguments.length,de=new Array(J),Ne=0;Ne<J;Ne++)de[Ne]=arguments[Ne];const Ct=Object.freeze(this.constructor.argsToParams(de));this.params=Ct,this.isAwaitingPromise=!1,function E(q,J,de){return q.set(f(q,J),de),de}(My,this,this._main(cd.params))}_main(J){let de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((q=>{!1===q.backdrop&&q.allowOutsideClick&&K('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const J in q)Lh(J),q.toast&&hl(J),rc(J)})(Object.assign({},de,J)),F.currentInstance){const kn=zs.swalPromiseResolve.get(F.currentInstance),{isAwaitingPromise:Ki}=F.currentInstance;F.currentInstance._destroy(),Ki||kn({isDismissed:!0}),ri()&&nd()}F.currentInstance=cd;const Ne=TO(J,de);Bm(Ne),Object.freeze(Ne),F.timeout&&(F.timeout.stop(),delete F.timeout),clearTimeout(F.restoreFocusTimeout);const Ct=IO(cd);return qr(cd,Ne),Ur.innerParams.set(cd,Ne),pN(cd,Ct,Ne)}then(J){return _(My,this).then(J)}finally(J){return _(My,this).finally(J)}}const pN=(q,J,de)=>new Promise((Ne,Ct)=>{const kn=Ki=>{q.close({isDismissed:!0,dismiss:Ki})};zs.swalPromiseResolve.set(q,Ne),zs.swalPromiseReject.set(q,Ct),J.confirmButton.onclick=()=>{(q=>{const J=Ur.innerParams.get(q);q.disableButtons(),J.input?he(q,"confirm"):et(q,!0)})(q)},J.denyButton.onclick=()=>{(q=>{const J=Ur.innerParams.get(q);q.disableButtons(),J.returnInputValueOnDeny?he(q,"deny"):ve(q,!1)})(q)},J.cancelButton.onclick=()=>{((q,J)=>{q.disableButtons(),J(qa.cancel)})(q,kn)},J.closeButton.onclick=()=>{kn(qa.close)},((q,J,de)=>{q.toast?od(q,J,de):(Yu(J),Xu(J),cf(q,J,de))})(de,J,kn),((q,J,de)=>{Jc(q),J.toast||(q.keydownHandler=Ne=>Ya(J,Ne,de),q.keydownTarget=J.keydownListenerCapture?window:ct(),q.keydownListenerCapture=J.keydownListenerCapture,q.keydownTarget.addEventListener("keydown",q.keydownHandler,{capture:q.keydownListenerCapture}),q.keydownHandlerAdded=!0)})(F,de,kn),((q,J)=>{"select"===J.input||"radio"===J.input?Fm(q,J):["text","email","number","tel","textarea"].some(de=>de===J.input)&&(Ge(J.inputValue)||yt(J.inputValue))&&(id(Dn()),lf(q,J))})(q,de),jr(de),fN(F,de,kn),mN(J,de),setTimeout(()=>{J.container.scrollTop=0})}),TO=(q,J)=>{const de=(q=>{const J="string"==typeof q.template?document.querySelector(q.template):q.template;if(!J)return{};const de=J.content;return Xt(de),Object.assign(In(de),or(de),be(de),z(de),te(de),xe(de),it(de,An))})(q),Ne=Object.assign({},Ti,J,de,q);return Ne.showClass=Object.assign({},Ti.showClass,Ne.showClass),Ne.hideClass=Object.assign({},Ti.hideClass,Ne.hideClass),!1===Ne.animation&&(Ne.showClass={backdrop:"swal2-noanimation"},Ne.hideClass={}),Ne},IO=q=>{const J={popup:ct(),container:j(),actions:Rn(),confirmButton:Dn(),denyButton:un(),cancelButton:Mn(),loader:Wt(),closeButton:Dt(),validationMessage:Jt(),progressSteps:mt()};return Ur.domCache.set(q,J),J},fN=(q,J,de)=>{const Ne=$n();ei(Ne),J.timer&&(q.timeout=new pn(()=>{de("timer"),delete q.timeout},J.timer),J.timerProgressBar&&(dr(Ne),cr(Ne,J,"timerProgressBar"),setTimeout(()=>{q.timeout&&q.timeout.running&&Tr(J.timer)})))},mN=(q,J)=>{if(!J.toast){if(!Ze(J.allowEnterKey))return Re("allowEnterKey"),void Bx();Py(q)||Fx(q,J)||es(-1,1)}},Py=q=>{const J=Array.from(q.popup.querySelectorAll("[autofocus]"));for(const de of J)if(de instanceof HTMLElement&&yr(de))return de.focus(),!0;return!1},Fx=(q,J)=>J.focusDeny&&yr(q.denyButton)?(q.denyButton.focus(),!0):J.focusCancel&&yr(q.cancelButton)?(q.cancelButton.focus(),!0):!(!J.focusConfirm||!yr(q.confirmButton)||(q.confirmButton.focus(),0)),Bx=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const q=new Date,J=localStorage.getItem("swal-initiation");J?(q.getTime()-Date.parse(J))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const de=document.createElement("audio");de.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",de.loop=!0,document.body.appendChild(de),setTimeout(()=>{de.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${q}`)}Qo.prototype.disableButtons=Ai,Qo.prototype.enableButtons=mi,Qo.prototype.getInput=ut,Qo.prototype.disableInput=no,Qo.prototype.enableInput=$o,Qo.prototype.hideLoading=St,Qo.prototype.disableLoading=St,Qo.prototype.showValidationMessage=Yr,Qo.prototype.resetValidationMessage=Xa,Qo.prototype.close=nc,Qo.prototype.closePopup=nc,Qo.prototype.closeModal=nc,Qo.prototype.closeToast=nc,Qo.prototype.rejectPromise=Im,Qo.prototype.update=js,Qo.prototype._destroy=ul,Object.assign(Qo,Bt),Object.keys(Vn).forEach(q=>{Qo[q]=function(){return cd&&cd[q]?cd[q](...arguments):null}}),Qo.DismissReason=qa,Qo.version="11.14.5";const Uh=Qo;return Uh.default=Uh,Uh}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(f,m){var _=f.createElement("style");if(f.getElementsByTagName("head")[0].appendChild(_),_.styleSheet)_.styleSheet.disabled||(_.styleSheet.cssText=m);else try{_.innerHTML=m}catch{_.innerText=m}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4942:function(module,exports,__webpack_require__){var f;typeof navigator<"u"&&(f=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(u){_useWebWorker=!!u},getWebWorker=function(){return _useWebWorker},setLocationHref=function(u){locationHref=u},getLocationHref=function(){return locationHref};function createTag(u){return document.createElement(u)}function extendPrototype(u,f){var m,_,w=u.length;for(m=0;m<w;m+=1)for(var E in _=u[m].prototype)Object.prototype.hasOwnProperty.call(_,E)&&(f.prototype[E]=_[E])}function getDescriptor(u,f){return Object.getOwnPropertyDescriptor(u,f)}function createProxyFunction(u){function f(){}return f.prototype=u,f}var audioControllerFactory=function(){function u(f){this.audios=[],this.audioFactory=f,this._volume=1,this._isMuted=!1}return u.prototype={addAudio:function(f){this.audios.push(f)},pause:function(){var f,m=this.audios.length;for(f=0;f<m;f+=1)this.audios[f].pause()},resume:function(){var f,m=this.audios.length;for(f=0;f<m;f+=1)this.audios[f].resume()},setRate:function(f){var m,_=this.audios.length;for(m=0;m<_;m+=1)this.audios[m].setRate(f)},createAudio:function(f){return this.audioFactory?this.audioFactory(f):window.Howl?new window.Howl({src:[f]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(f){this.audioFactory=f},setVolume:function(f){this._volume=f,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var f,m=this.audios.length;for(f=0;f<m;f+=1)this.audios[f].volume(this._volume*(this._isMuted?0:1))}},function(){return new u}}(),createTypedArray=function(){function u(f,m){var _,w=0,E=[];switch(f){case"int16":case"uint8c":_=1;break;default:_=1.1}for(w=0;w<m;w+=1)E.push(_);return E}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(f,m){return"float32"===f?new Float32Array(m):"int16"===f?new Int16Array(m):"uint8c"===f?new Uint8ClampedArray(m):u(f,m)}:u}();function createSizedArray(u){return Array.apply(null,{length:u})}function _typeof$6(u){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}(function(){var u,f=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],m=f.length;for(u=0;u<m;u+=1)BMMath[f[u]]=Math[f[u]]})(),BMMath.random=Math.random,BMMath.abs=function(u){if("object"===_typeof$6(u)&&u.length){var f,m=createSizedArray(u.length),_=u.length;for(f=0;f<_;f+=1)m[f]=Math.abs(u[f]);return m}return Math.abs(u)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(u){_shouldRoundValues=!!u}function bmRnd(u){return _shouldRoundValues?Math.round(u):u}function styleDiv(u){u.style.position="absolute",u.style.top=0,u.style.left=0,u.style.display="block",u.style.transformOrigin="0 0",u.style.webkitTransformOrigin="0 0",u.style.backfaceVisibility="visible",u.style.webkitBackfaceVisibility="visible",u.style.transformStyle="preserve-3d",u.style.webkitTransformStyle="preserve-3d",u.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(u,f,m,_){this.type=u,this.currentTime=f,this.totalTime=m,this.direction=_<0?-1:1}function BMCompleteEvent(u,f){this.type=u,this.direction=f<0?-1:1}function BMCompleteLoopEvent(u,f,m,_){this.type=u,this.currentLoop=m,this.totalLoops=f,this.direction=_<0?-1:1}function BMSegmentStartEvent(u,f,m){this.type=u,this.firstFrame=f,this.totalFrames=m}function BMDestroyEvent(u,f){this.type=u,this.target=f}function BMRenderFrameErrorEvent(u,f){this.type="renderFrameError",this.nativeError=u,this.currentTime=f}function BMConfigErrorEvent(u){this.type="configError",this.nativeError=u}function BMAnimationConfigErrorEvent(u,f){this.type=u,this.nativeError=f}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(u,f,m){var _,w,E,G,F,U,X,T;switch(U=m*(1-f),X=m*(1-(F=6*u-(G=Math.floor(6*u)))*f),T=m*(1-(1-F)*f),G%6){case 0:_=m,w=T,E=U;break;case 1:_=X,w=m,E=U;break;case 2:_=U,w=m,E=T;break;case 3:_=U,w=X,E=m;break;case 4:_=T,w=U,E=m;break;case 5:_=m,w=U,E=X}return[_,w,E]}function RGBtoHSV(u,f,m){var _,w=Math.max(u,f,m),E=Math.min(u,f,m),G=w-E,F=0===w?0:G/w,U=w/255;switch(w){case E:_=0;break;case u:_=f-m+G*(f<m?6:0),_/=6*G;break;case f:_=m-u+2*G,_/=6*G;break;case m:_=u-f+4*G,_/=6*G}return[_,F,U]}function addSaturationToRGB(u,f){var m=RGBtoHSV(255*u[0],255*u[1],255*u[2]);return m[1]+=f,m[1]>1?m[1]=1:m[1]<=0&&(m[1]=0),HSVtoRGB(m[0],m[1],m[2])}function addBrightnessToRGB(u,f){var m=RGBtoHSV(255*u[0],255*u[1],255*u[2]);return m[2]+=f,m[2]>1?m[2]=1:m[2]<0&&(m[2]=0),HSVtoRGB(m[0],m[1],m[2])}function addHueToRGB(u,f){var m=RGBtoHSV(255*u[0],255*u[1],255*u[2]);return m[0]+=f/360,m[0]>1?m[0]-=1:m[0]<0&&(m[0]+=1),HSVtoRGB(m[0],m[1],m[2])}var rgbToHex=function(){var u,f,m=[];for(u=0;u<256;u+=1)f=u.toString(16),m[u]=1===f.length?"0"+f:f;return function(_,w,E){return _<0&&(_=0),w<0&&(w=0),E<0&&(E=0),"#"+m[_]+m[w]+m[E]}}(),setSubframeEnabled=function(u){subframeEnabled=!!u},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(u){expressionsPlugin=u},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(u){defaultCurveSegments=u},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(u){idPrefix$1=u},getIdPrefix=function(){return idPrefix$1};function createNS(u){return document.createElementNS(svgNS,u)}function _typeof$5(u){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}var dataManager=function(){var u,f,m=1,_=[],w={onmessage:function(){},postMessage:function(U){u({data:U})}},E={postMessage:function(U){w.onmessage({data:U})}};function G(){f||((f=function(U){if(window.Worker&&window.Blob&&getWebWorker()){var X=new Blob(["var _workerSelf = self; self.onmessage = ",U.toString()],{type:"text/javascript"}),T=URL.createObjectURL(X);return new Worker(T)}return u=U,w}(function(U){if(E.dataManager||(E.dataManager=function(){function T(Ge,Ke){var yt,j,Te,pt,ct,Mt,qt=Ge.length;for(j=0;j<qt;j+=1)if("ks"in(yt=Ge[j])&&!yt.completed){if(yt.completed=!0,yt.tt&&(Ge[j-1].td=yt.tt),yt.hasMask){var an=yt.masksProperties;for(pt=an.length,Te=0;Te<pt;Te+=1)if(an[Te].pt.k.i)N(an[Te].pt.k);else for(Mt=an[Te].pt.k.length,ct=0;ct<Mt;ct+=1)an[Te].pt.k[ct].s&&N(an[Te].pt.k[ct].s[0]),an[Te].pt.k[ct].e&&N(an[Te].pt.k[ct].e[0])}0===yt.ty?(yt.layers=B(yt.refId,Ke),T(yt.layers,Ke)):4===yt.ty&&R(yt.shapes)}}function B(Ge,Ke){var yt=function(j,Te){for(var pt=0,ct=Te.length;pt<ct;){if(Te[pt].id===j)return Te[pt];pt+=1}return null}(Ge,Ke);return yt?yt.layers.__used?JSON.parse(JSON.stringify(yt.layers)):(yt.layers.__used=!0,yt.layers):null}function R(Ge){var Ke,yt,j;for(Ke=Ge.length-1;Ke>=0;Ke-=1)if("sh"===Ge[Ke].ty)if(Ge[Ke].ks.k.i)N(Ge[Ke].ks.k);else for(j=Ge[Ke].ks.k.length,yt=0;yt<j;yt+=1)Ge[Ke].ks.k[yt].s&&N(Ge[Ke].ks.k[yt].s[0]),Ge[Ke].ks.k[yt].e&&N(Ge[Ke].ks.k[yt].e[0]);else"gr"===Ge[Ke].ty&&R(Ge[Ke].it)}function N(Ge){var Ke,yt=Ge.i.length;for(Ke=0;Ke<yt;Ke+=1)Ge.i[Ke][0]+=Ge.v[Ke][0],Ge.i[Ke][1]+=Ge.v[Ke][1],Ge.o[Ke][0]+=Ge.v[Ke][0],Ge.o[Ke][1]+=Ge.v[Ke][1]}function L(Ge,Ke){var yt=Ke?Ke.split("."):[100,100,100];return Ge[0]>yt[0]||!(yt[0]>Ge[0])&&(Ge[1]>yt[1]||!(yt[1]>Ge[1])&&(Ge[2]>yt[2]||!(yt[2]>Ge[2])&&null))}var W,k=function(){var Ge=[4,4,14];function Ke(yt){var j,Te,pt,ct=yt.length;for(j=0;j<ct;j+=1)5===yt[j].ty&&(pt=(Te=yt[j]).t.d,Te.t.d={k:[{s:pt,t:0}]})}return function(yt){if(L(Ge,yt.v)&&(Ke(yt.layers),yt.assets)){var j,Te=yt.assets.length;for(j=0;j<Te;j+=1)yt.assets[j].layers&&Ke(yt.assets[j].layers)}}}(),K=(W=[4,7,99],function(Ge){if(Ge.chars&&!L(W,Ge.v)){var Ke,yt=Ge.chars.length;for(Ke=0;Ke<yt;Ke+=1){var j=Ge.chars[Ke];j.data&&j.data.shapes&&(R(j.data.shapes),j.data.ip=0,j.data.op=99999,j.data.st=0,j.data.sr=1,j.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ge.chars[Ke].t||(j.data.shapes.push({ty:"no"}),j.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),oe=function(){var Ge=[5,7,15];function Ke(yt){var j,Te,pt=yt.length;for(j=0;j<pt;j+=1)5===yt[j].ty&&(Te=void 0,"number"==typeof(Te=yt[j].t.p).a&&(Te.a={a:0,k:Te.a}),"number"==typeof Te.p&&(Te.p={a:0,k:Te.p}),"number"==typeof Te.r&&(Te.r={a:0,k:Te.r}))}return function(yt){if(L(Ge,yt.v)&&(Ke(yt.layers),yt.assets)){var j,Te=yt.assets.length;for(j=0;j<Te;j+=1)yt.assets[j].layers&&Ke(yt.assets[j].layers)}}}(),le=function(){var Ge=[4,1,9];function Ke(j){var Te,pt,ct,Mt=j.length;for(Te=0;Te<Mt;Te+=1)if("gr"===j[Te].ty)Ke(j[Te].it);else if("fl"===j[Te].ty||"st"===j[Te].ty)if(j[Te].c.k&&j[Te].c.k[0].i)for(ct=j[Te].c.k.length,pt=0;pt<ct;pt+=1)j[Te].c.k[pt].s&&(j[Te].c.k[pt].s[0]/=255,j[Te].c.k[pt].s[1]/=255,j[Te].c.k[pt].s[2]/=255,j[Te].c.k[pt].s[3]/=255),j[Te].c.k[pt].e&&(j[Te].c.k[pt].e[0]/=255,j[Te].c.k[pt].e[1]/=255,j[Te].c.k[pt].e[2]/=255,j[Te].c.k[pt].e[3]/=255);else j[Te].c.k[0]/=255,j[Te].c.k[1]/=255,j[Te].c.k[2]/=255,j[Te].c.k[3]/=255}function yt(j){var Te,pt=j.length;for(Te=0;Te<pt;Te+=1)4===j[Te].ty&&Ke(j[Te].shapes)}return function(j){if(L(Ge,j.v)&&(yt(j.layers),j.assets)){var Te,pt=j.assets.length;for(Te=0;Te<pt;Te+=1)j.assets[Te].layers&&yt(j.assets[Te].layers)}}}(),we=function(){var Ge=[4,4,18];function Ke(j){var Te,pt,ct;for(Te=j.length-1;Te>=0;Te-=1)if("sh"===j[Te].ty)if(j[Te].ks.k.i)j[Te].ks.k.c=j[Te].closed;else for(ct=j[Te].ks.k.length,pt=0;pt<ct;pt+=1)j[Te].ks.k[pt].s&&(j[Te].ks.k[pt].s[0].c=j[Te].closed),j[Te].ks.k[pt].e&&(j[Te].ks.k[pt].e[0].c=j[Te].closed);else"gr"===j[Te].ty&&Ke(j[Te].it)}function yt(j){var Te,pt,ct,Mt,qt,an,vt=j.length;for(pt=0;pt<vt;pt+=1){if((Te=j[pt]).hasMask){var ze=Te.masksProperties;for(Mt=ze.length,ct=0;ct<Mt;ct+=1)if(ze[ct].pt.k.i)ze[ct].pt.k.c=ze[ct].cl;else for(an=ze[ct].pt.k.length,qt=0;qt<an;qt+=1)ze[ct].pt.k[qt].s&&(ze[ct].pt.k[qt].s[0].c=ze[ct].cl),ze[ct].pt.k[qt].e&&(ze[ct].pt.k[qt].e[0].c=ze[ct].cl)}4===Te.ty&&Ke(Te.shapes)}}return function(j){if(L(Ge,j.v)&&(yt(j.layers),j.assets)){var Te,pt=j.assets.length;for(Te=0;Te<pt;Te+=1)j.assets[Te].layers&&yt(j.assets[Te].layers)}}}(),Ze={completeData:function(Ge){Ge.__complete||(le(Ge),k(Ge),K(Ge),oe(Ge),we(Ge),T(Ge.layers,Ge.assets),function(Ke,yt){if(Ke){var j=0,Te=Ke.length;for(j=0;j<Te;j+=1)1===Ke[j].t&&(Ke[j].data.layers=B(Ke[j].data.refId,yt),T(Ke[j].data.layers,yt))}}(Ge.chars,Ge.assets),Ge.__complete=!0)}};return Ze.checkColors=le,Ze.checkChars=K,Ze.checkPathProperties=oe,Ze.checkShapes=we,Ze.completeLayers=T,Ze}()),E.assetLoader||(E.assetLoader=function(){function T(B){var R=B.getResponseHeader("content-type");return R&&"json"===B.responseType&&-1!==R.indexOf("json")||B.response&&"object"===_typeof$5(B.response)?B.response:B.response&&"string"==typeof B.response?JSON.parse(B.response):B.responseText?JSON.parse(B.responseText):null}return{load:function(B,R,N,L){var W,k=new XMLHttpRequest;try{k.responseType="json"}catch{}k.onreadystatechange=function(){if(4===k.readyState)if(200===k.status)W=T(k),N(W);else try{W=T(k),N(W)}catch(K){L&&L(K)}};try{k.open("GET",B,!0)}catch{k.open("GET",R+"/"+B,!0)}k.send()}}}()),"loadAnimation"===U.data.type)E.assetLoader.load(U.data.path,U.data.fullPath,function(T){E.dataManager.completeData(T),E.postMessage({id:U.data.id,payload:T,status:"success"})},function(){E.postMessage({id:U.data.id,status:"error"})});else if("complete"===U.data.type){var X=U.data.animation;E.dataManager.completeData(X),E.postMessage({id:U.data.id,payload:X,status:"success"})}else"loadData"===U.data.type&&E.assetLoader.load(U.data.path,U.data.fullPath,function(T){E.postMessage({id:U.data.id,payload:T,status:"success"})},function(){E.postMessage({id:U.data.id,status:"error"})})})).onmessage=function(U){var X=U.data,T=X.id,B=_[T];_[T]=null,"success"===X.status?B.onComplete(X.payload):B.onError&&B.onError()})}function F(U,X){var T="processId_"+(m+=1);return _[T]={onComplete:U,onError:X},T}return{loadAnimation:function(U,X,T){G();var B=F(X,T);f.postMessage({type:"loadAnimation",path:U,fullPath:window.location.origin+window.location.pathname,id:B})},loadData:function(U,X,T){G();var B=F(X,T);f.postMessage({type:"loadData",path:U,fullPath:window.location.origin+window.location.pathname,id:B})},completeAnimation:function(U,X,T){G();var B=F(X,T);f.postMessage({type:"complete",animation:U,id:B})}}}(),ImagePreloader=function(){var u=function(){var F=createTag("canvas");F.width=1,F.height=1;var U=F.getContext("2d");return U.fillStyle="rgba(0,0,0,0)",U.fillRect(0,0,1,1),F}();function f(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function m(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _(F,U,X){var T="";if(F.e)T=F.p;else if(U){var B=F.p;-1!==B.indexOf("images/")&&(B=B.split("/")[1]),T=U+B}else T=X,T+=F.u?F.u:"",T+=F.p;return T}function w(F){var U=0,X=setInterval(function(){(F.getBBox().width||U>500)&&(this._imageLoaded(),clearInterval(X)),U+=1}.bind(this),50)}function E(F){var U={assetData:F},X=_(F,this.assetsPath,this.path);return dataManager.loadData(X,function(T){U.img=T,this._footageLoaded()}.bind(this),function(){U.img={},this._footageLoaded()}.bind(this)),U}function G(){this._imageLoaded=f.bind(this),this._footageLoaded=m.bind(this),this.testImageLoaded=w.bind(this),this.createFootageData=E.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return G.prototype={loadAssets:function(F,U){var X;this.imagesLoadedCb=U;var T=F.length;for(X=0;X<T;X+=1)F[X].layers||(F[X].t&&"seq"!==F[X].t?3===F[X].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(F[X]))):(this.totalImages+=1,this.images.push(this._createImageData(F[X]))))},setAssetsPath:function(F){this.assetsPath=F||""},setPath:function(F){this.path=F||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(F){for(var U=0,X=this.images.length;U<X;){if(this.images[U].assetData===F)return this.images[U].img;U+=1}return null},createImgData:function(F){var U=_(F,this.assetsPath,this.path),X=createTag("img");X.crossOrigin="anonymous",X.addEventListener("load",this._imageLoaded,!1),X.addEventListener("error",function(){T.img=u,this._imageLoaded()}.bind(this),!1),X.src=U;var T={img:X,assetData:F};return T},createImageData:function(F){var U=_(F,this.assetsPath,this.path),X=createNS("image");isSafari?this.testImageLoaded(X):X.addEventListener("load",this._imageLoaded,!1),X.addEventListener("error",function(){T.img=u,this._imageLoaded()}.bind(this),!1),X.setAttributeNS("http://www.w3.org/1999/xlink","href",U),this._elementHelper.append?this._elementHelper.append(X):this._elementHelper.appendChild(X);var T={img:X,assetData:F};return T},imageLoaded:f,footageLoaded:m,setCacheType:function(F,U){"svg"===F?(this._elementHelper=U,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},G}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(u,f){if(this._cbs[u])for(var m=this._cbs[u],_=0;_<m.length;_+=1)m[_](f)},addEventListener:function(u,f){return this._cbs[u]||(this._cbs[u]=[]),this._cbs[u].push(f),function(){this.removeEventListener(u,f)}.bind(this)},removeEventListener:function(u,f){if(f){if(this._cbs[u]){for(var m=0,_=this._cbs[u].length;m<_;)this._cbs[u][m]===f&&(this._cbs[u].splice(m,1),m-=1,_-=1),m+=1;this._cbs[u].length||(this._cbs[u]=null)}}else this._cbs[u]=null}};var markerParser=function(){function u(f){for(var m,_=f.split("\r\n"),w={},E=0,G=0;G<_.length;G+=1)2===(m=_[G].split(":")).length&&(w[m[0]]=m[1].trim(),E+=1);if(0===E)throw new Error;return w}return function(f){for(var m=[],_=0;_<f.length;_+=1){var w=f[_],E={time:w.tm,duration:w.dr};try{E.payload=JSON.parse(f[_].cm)}catch{try{E.payload=u(f[_].cm)}catch{E.payload={name:f[_].cm}}}m.push(E)}return m}}(),ProjectInterface=function(){function u(f){this.compositions.push(f)}return function(){function f(m){for(var _=0,w=this.compositions.length;_<w;){if(this.compositions[_].data&&this.compositions[_].data.nm===m)return this.compositions[_].prepareFrame&&this.compositions[_].data.xt&&this.compositions[_].prepareFrame(this.currentFrame),this.compositions[_].compInterface;_+=1}return null}return f.compositions=[],f.currentFrame=0,f.registerComposition=u,f}}(),renderers={},registerRenderer=function(u,f){renderers[u]=f};function getRenderer(u){return renderers[u]}function _typeof$4(u){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(u){(u.wrapper||u.container)&&(this.wrapper=u.wrapper||u.container);var f="svg";u.animType?f=u.animType:u.renderer&&(f=u.renderer);var m=getRenderer(f);this.renderer=new m(this,u.rendererSettings),this.imagePreloader.setCacheType(f,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=f,this.loop=""===u.loop||null==u.loop||!0===u.loop||!1!==u.loop&&parseInt(u.loop,10),this.autoplay=!("autoplay"in u)||u.autoplay,this.name=u.name?u.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(u,"autoloadSegments")||u.autoloadSegments,this.assetsPath=u.assetsPath,this.initialSegment=u.initialSegment,u.audioFactory&&this.audioController.setAudioFactory(u.audioFactory),u.animationData?this.setupAnimation(u.animationData):u.path&&(this.path=-1!==u.path.lastIndexOf("\\")?u.path.substr(0,u.path.lastIndexOf("\\")+1):u.path.substr(0,u.path.lastIndexOf("/")+1),this.fileName=u.path.substr(u.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(u.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(u){dataManager.completeAnimation(u,this.configAnimation)},AnimationItem.prototype.setData=function(u,f){f&&"object"!==_typeof$4(f)&&(f=JSON.parse(f));var m={wrapper:u,animationData:f},_=u.attributes;m.path=_.getNamedItem("data-animation-path")?_.getNamedItem("data-animation-path").value:_.getNamedItem("data-bm-path")?_.getNamedItem("data-bm-path").value:_.getNamedItem("bm-path")?_.getNamedItem("bm-path").value:"",m.animType=_.getNamedItem("data-anim-type")?_.getNamedItem("data-anim-type").value:_.getNamedItem("data-bm-type")?_.getNamedItem("data-bm-type").value:_.getNamedItem("bm-type")?_.getNamedItem("bm-type").value:_.getNamedItem("data-bm-renderer")?_.getNamedItem("data-bm-renderer").value:_.getNamedItem("bm-renderer")?_.getNamedItem("bm-renderer").value:"canvas";var w=_.getNamedItem("data-anim-loop")?_.getNamedItem("data-anim-loop").value:_.getNamedItem("data-bm-loop")?_.getNamedItem("data-bm-loop").value:_.getNamedItem("bm-loop")?_.getNamedItem("bm-loop").value:"";"false"===w?m.loop=!1:"true"===w?m.loop=!0:""!==w&&(m.loop=parseInt(w,10));var E=_.getNamedItem("data-anim-autoplay")?_.getNamedItem("data-anim-autoplay").value:_.getNamedItem("data-bm-autoplay")?_.getNamedItem("data-bm-autoplay").value:!_.getNamedItem("bm-autoplay")||_.getNamedItem("bm-autoplay").value;m.autoplay="false"!==E,m.name=_.getNamedItem("data-name")?_.getNamedItem("data-name").value:_.getNamedItem("data-bm-name")?_.getNamedItem("data-bm-name").value:_.getNamedItem("bm-name")?_.getNamedItem("bm-name").value:"","false"===(_.getNamedItem("data-anim-prerender")?_.getNamedItem("data-anim-prerender").value:_.getNamedItem("data-bm-prerender")?_.getNamedItem("data-bm-prerender").value:_.getNamedItem("bm-prerender")?_.getNamedItem("bm-prerender").value:"")&&(m.prerender=!1),this.setParams(m)},AnimationItem.prototype.includeLayers=function(u){u.op>this.animationData.op&&(this.animationData.op=u.op,this.totalFrames=Math.floor(u.op-this.animationData.ip));var f,m,_=this.animationData.layers,w=_.length,E=u.layers,G=E.length;for(m=0;m<G;m+=1)for(f=0;f<w;){if(_[f].id===E[m].id){_[f]=E[m];break}f+=1}if((u.chars||u.fonts)&&(this.renderer.globalData.fontManager.addChars(u.chars),this.renderer.globalData.fontManager.addFonts(u.fonts,this.renderer.globalData.defs)),u.assets)for(w=u.assets.length,f=0;f<w;f+=1)this.animationData.assets.push(u.assets[f]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(u){this.animationData=u;var f=getExpressionsPlugin();f&&f.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var u=this.animationData.segments;if(!u||0===u.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var f=u.shift();this.timeCompleted=f.time*this.frameRate;var m=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(m,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(u){if(this.renderer)try{this.animationData=u,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(u),u.assets||(u.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(u.assets),this.markers=markerParser(u.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(f){this.triggerConfigError(f)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var u=getExpressionsPlugin();u&&u.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(u){this.isSubframeEnabled=!!u},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(u){this.triggerRenderFrameError(u)}},AnimationItem.prototype.play=function(u){u&&this.name!==u||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(u){u&&this.name!==u||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(u){u&&this.name!==u||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(u){u&&this.name!==u||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(u){for(var f,m=0;m<this.markers.length;m+=1)if((f=this.markers[m]).payload&&f.payload.name===u)return f;return null},AnimationItem.prototype.goToAndStop=function(u,f,m){if(!m||this.name===m){var _=Number(u);if(isNaN(_)){var w=this.getMarkerData(u);w&&this.goToAndStop(w.time,!0)}else this.setCurrentRawFrameValue(f?u:u*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(u,f,m){if(!m||this.name===m){var _=Number(u);if(isNaN(_)){var w=this.getMarkerData(u);w&&(w.duration?this.playSegments([w.time,w.time+w.duration],!0):this.goToAndStop(w.time,!0))}else this.goToAndStop(_,f,m);this.play()}},AnimationItem.prototype.advanceTime=function(u){if(!0!==this.isPaused&&!1!==this.isLoaded){var f=this.currentRawFrame+u*this.frameModifier,m=!1;f>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?f>=this.totalFrames?(this.playCount+=1,this.checkSegments(f%this.totalFrames)||(this.setCurrentRawFrameValue(f%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(f):this.checkSegments(f>this.totalFrames?f%this.totalFrames:0)||(m=!0,f=this.totalFrames-1):f<0?this.checkSegments(f%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(m=!0,f=0):(this.setCurrentRawFrameValue(this.totalFrames+f%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(f),m&&(this.setCurrentRawFrameValue(f),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(u,f){this.playCount=0,u[1]<u[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=u[0]-u[1],this.timeCompleted=this.totalFrames,this.firstFrame=u[1],this.setCurrentRawFrameValue(this.totalFrames-.001-f)):u[1]>u[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=u[1]-u[0],this.timeCompleted=this.totalFrames,this.firstFrame=u[0],this.setCurrentRawFrameValue(.001+f)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(u,f){var m=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<u?m=u:this.currentRawFrame+this.firstFrame>f&&(m=f-u)),this.firstFrame=u,this.totalFrames=f-u,this.timeCompleted=this.totalFrames,-1!==m&&this.goToAndStop(m,!0)},AnimationItem.prototype.playSegments=function(u,f){if(f&&(this.segments.length=0),"object"===_typeof$4(u[0])){var m,_=u.length;for(m=0;m<_;m+=1)this.segments.push(u[m])}else this.segments.push(u);this.segments.length&&f&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(u){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),u&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(u){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),u),!0)},AnimationItem.prototype.destroy=function(u){u&&this.name!==u||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(u){this.currentRawFrame=u,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(u){this.playSpeed=u,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(u){this.playDirection=u<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(u,f){f&&this.name!==f||this.audioController.setVolume(u)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(u){u&&this.name!==u||this.audioController.mute()},AnimationItem.prototype.unmute=function(u){u&&this.name!==u||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(u){var f="";if(u.e)f=u.p;else if(this.assetsPath){var m=u.p;-1!==m.indexOf("images/")&&(m=m.split("/")[1]),f=this.assetsPath+m}else f=this.path,f+=u.u?u.u:"",f+=u.p;return f},AnimationItem.prototype.getAssetData=function(u){for(var f=0,m=this.assets.length;f<m;){if(u===this.assets[f].id)return this.assets[f];f+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(u){return u?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(u,f,m){try{this.renderer.getElementByPath(u).updateDocumentData(f,m)}catch{}},AnimationItem.prototype.trigger=function(u){if(this._cbs&&this._cbs[u])switch(u){case"enterFrame":this.triggerEvent(u,new BMEnterFrameEvent(u,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(u,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(u,new BMCompleteLoopEvent(u,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(u,new BMCompleteEvent(u,this.frameMult));break;case"segmentStart":this.triggerEvent(u,new BMSegmentStartEvent(u,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(u,new BMDestroyEvent(u,this));break;default:this.triggerEvent(u)}"enterFrame"===u&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(u,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===u&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(u,this.loop,this.playCount,this.frameMult)),"complete"===u&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(u,this.frameMult)),"segmentStart"===u&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(u,this.firstFrame,this.totalFrames)),"destroy"===u&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(u,this))},AnimationItem.prototype.triggerRenderFrameError=function(u){var f=new BMRenderFrameErrorEvent(u,this.currentFrame);this.triggerEvent("error",f),this.onError&&this.onError.call(this,f)},AnimationItem.prototype.triggerConfigError=function(u){var f=new BMConfigErrorEvent(u,this.currentFrame);this.triggerEvent("error",f),this.onError&&this.onError.call(this,f)};var animationManager=function(){var u={},f=[],m=0,_=0,w=0,E=!0,G=!1;function F(W){for(var k=0,K=W.target;k<_;)f[k].animation===K&&(f.splice(k,1),k-=1,_-=1,K.isPaused||T()),k+=1}function U(W,k){if(!W)return null;for(var K=0;K<_;){if(f[K].elem===W&&null!==f[K].elem)return f[K].animation;K+=1}var oe=new AnimationItem;return B(oe,W),oe.setData(W,k),oe}function X(){w+=1,L()}function T(){w-=1}function B(W,k){W.addEventListener("destroy",F),W.addEventListener("_active",X),W.addEventListener("_idle",T),f.push({elem:k,animation:W}),_+=1}function R(W){var k,K=W-m;for(k=0;k<_;k+=1)f[k].animation.advanceTime(K);m=W,w&&!G?window.requestAnimationFrame(R):E=!0}function N(W){m=W,window.requestAnimationFrame(R)}function L(){!G&&w&&E&&(window.requestAnimationFrame(N),E=!1)}return u.registerAnimation=U,u.loadAnimation=function(W){var k=new AnimationItem;return B(k,null),k.setParams(W),k},u.setSpeed=function(W,k){var K;for(K=0;K<_;K+=1)f[K].animation.setSpeed(W,k)},u.setDirection=function(W,k){var K;for(K=0;K<_;K+=1)f[K].animation.setDirection(W,k)},u.play=function(W){var k;for(k=0;k<_;k+=1)f[k].animation.play(W)},u.pause=function(W){var k;for(k=0;k<_;k+=1)f[k].animation.pause(W)},u.stop=function(W){var k;for(k=0;k<_;k+=1)f[k].animation.stop(W)},u.togglePause=function(W){var k;for(k=0;k<_;k+=1)f[k].animation.togglePause(W)},u.searchAnimations=function(W,k,K){var oe,le=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),we=le.length;for(oe=0;oe<we;oe+=1)K&&le[oe].setAttribute("data-bm-type",K),U(le[oe],W);if(k&&0===we){K||(K="svg");var Re=document.getElementsByTagName("body")[0];Re.innerText="";var Ze=createTag("div");Ze.style.width="100%",Ze.style.height="100%",Ze.setAttribute("data-bm-type",K),Re.appendChild(Ze),U(Ze,W)}},u.resize=function(){var W;for(W=0;W<_;W+=1)f[W].animation.resize()},u.goToAndStop=function(W,k,K){var oe;for(oe=0;oe<_;oe+=1)f[oe].animation.goToAndStop(W,k,K)},u.destroy=function(W){var k;for(k=_-1;k>=0;k-=1)f[k].animation.destroy(W)},u.freeze=function(){G=!0},u.unfreeze=function(){G=!1,L()},u.setVolume=function(W,k){var K;for(K=0;K<_;K+=1)f[K].animation.setVolume(W,k)},u.mute=function(W){var k;for(k=0;k<_;k+=1)f[k].animation.mute(W)},u.unmute=function(W){var k;for(k=0;k<_;k+=1)f[k].animation.unmute(W)},u.getRegisteredAnimations=function(){var W,k=f.length,K=[];for(W=0;W<k;W+=1)K.push(f[W].animation);return K},u}(),BezierFactory=function(){var u={getBezierEasing:function(T,B,R,N,L){var W=L||("bez_"+T+"_"+B+"_"+R+"_"+N).replace(/\./g,"p");if(f[W])return f[W];var k=new X([T,B,R,N]);return f[W]=k,k}},f={},m=.1,_="function"==typeof Float32Array;function w(T,B){return 1-3*B+3*T}function E(T,B){return 3*B-6*T}function G(T){return 3*T}function F(T,B,R){return((w(B,R)*T+E(B,R))*T+G(B))*T}function U(T,B,R){return 3*w(B,R)*T*T+2*E(B,R)*T+G(B)}function X(T){this._p=T,this._mSampleValues=_?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return X.prototype={get:function(T){var B=this._p[0],R=this._p[1],N=this._p[2],L=this._p[3];return this._precomputed||this._precompute(),B===R&&N===L?T:0===T?0:1===T?1:F(this._getTForX(T),R,L)},_precompute:function(){var T=this._p[0],B=this._p[1],R=this._p[2],N=this._p[3];this._precomputed=!0,T===B&&R===N||this._calcSampleValues()},_calcSampleValues:function(){for(var T=this._p[0],B=this._p[2],R=0;R<11;++R)this._mSampleValues[R]=F(R*m,T,B)},_getTForX:function(T){for(var B=this._p[0],R=this._p[2],N=this._mSampleValues,L=0,W=1;10!==W&&N[W]<=T;++W)L+=m;var k=L+(T-N[--W])/(N[W+1]-N[W])*m,K=U(k,B,R);return K>=.001?function(oe,le,we,Re){for(var Ze=0;Ze<4;++Ze){var Ge=U(le,we,Re);if(0===Ge)return le;le-=(F(le,we,Re)-oe)/Ge}return le}(T,k,B,R):0===K?k:function(oe,le,we,Re,Ze){var Ge,Ke,yt=0;do{(Ge=F(Ke=le+(we-le)/2,Re,Ze)-oe)>0?we=Ke:le=Ke}while(Math.abs(Ge)>1e-7&&++yt<10);return Ke}(T,L,L+m,B,R)}},u}(),pooling={double:function(u){return u.concat(createSizedArray(u.length))}},poolFactory=function(u,f,m){var _=0,w=u,E=createSizedArray(w);return{newElement:function(){return _?E[_-=1]:f()},release:function(G){_===w&&(E=pooling.double(E),w*=2),m&&m(G),E[_]=G,_+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(u){var f,m=u.lengths.length;for(f=0;f<m;f+=1)bezierLengthPool.release(u.lengths[f]);u.lengths.length=0});function bezFunction(){var u=Math;function f(X,T,B,R,N,L){var W=X*R+T*N+B*L-N*R-L*X-B*T;return W>-.001&&W<.001}var m=function(X,T,B,R){var N,L,W,k,K,oe,le=getDefaultCurveSegments(),we=0,Re=[],Ze=[],Ge=bezierLengthPool.newElement();for(W=B.length,N=0;N<le;N+=1){for(K=N/(le-1),oe=0,L=0;L<W;L+=1)k=bmPow(1-K,3)*X[L]+3*bmPow(1-K,2)*K*B[L]+3*(1-K)*bmPow(K,2)*R[L]+bmPow(K,3)*T[L],Re[L]=k,null!==Ze[L]&&(oe+=bmPow(Re[L]-Ze[L],2)),Ze[L]=Re[L];oe&&(we+=oe=bmSqrt(oe)),Ge.percents[N]=K,Ge.lengths[N]=we}return Ge.addedLength=we,Ge};function _(X){this.segmentLength=0,this.points=new Array(X)}function w(X,T){this.partialLength=X,this.point=T}var E,G=(E={},function(X,T,B,R){var N=(X[0]+"_"+X[1]+"_"+T[0]+"_"+T[1]+"_"+B[0]+"_"+B[1]+"_"+R[0]+"_"+R[1]).replace(/\./g,"p");if(!E[N]){var L,W,k,K,oe,le,we,Re=getDefaultCurveSegments(),Ze=0,Ge=null;2===X.length&&(X[0]!==T[0]||X[1]!==T[1])&&f(X[0],X[1],T[0],T[1],X[0]+B[0],X[1]+B[1])&&f(X[0],X[1],T[0],T[1],T[0]+R[0],T[1]+R[1])&&(Re=2);var Ke=new _(Re);for(k=B.length,L=0;L<Re;L+=1){for(we=createSizedArray(k),oe=L/(Re-1),le=0,W=0;W<k;W+=1)K=bmPow(1-oe,3)*X[W]+3*bmPow(1-oe,2)*oe*(X[W]+B[W])+3*(1-oe)*bmPow(oe,2)*(T[W]+R[W])+bmPow(oe,3)*T[W],we[W]=K,null!==Ge&&(le+=bmPow(we[W]-Ge[W],2));Ze+=le=bmSqrt(le),Ke.points[L]=new w(le,we),Ge=we}Ke.segmentLength=Ze,E[N]=Ke}return E[N]});function F(X,T){var B=T.percents,R=T.lengths,N=B.length,L=bmFloor((N-1)*X),W=X*T.addedLength,k=0;if(L===N-1||0===L||W===R[L])return B[L];for(var K=R[L]>W?-1:1,oe=!0;oe;)if(R[L]<=W&&R[L+1]>W?(k=(W-R[L])/(R[L+1]-R[L]),oe=!1):L+=K,L<0||L>=N-1){if(L===N-1)return B[L];oe=!1}return B[L]+(B[L+1]-B[L])*k}var U=createTypedArray("float32",8);return{getSegmentsLength:function(X){var T,B=segmentsLengthPool.newElement(),R=X.c,N=X.v,L=X.o,W=X.i,k=X._length,K=B.lengths,oe=0;for(T=0;T<k-1;T+=1)K[T]=m(N[T],N[T+1],L[T],W[T+1]),oe+=K[T].addedLength;return R&&k&&(K[T]=m(N[T],N[0],L[T],W[0]),oe+=K[T].addedLength),B.totalLength=oe,B},getNewSegment:function(X,T,B,R,N,L,W){N<0?N=0:N>1&&(N=1);var k,K=F(N,W),oe=F(L=L>1?1:L,W),le=X.length,we=1-K,Re=1-oe,Ze=we*we*we,Ge=K*we*we*3,Ke=K*K*we*3,yt=K*K*K,j=we*we*Re,Te=K*we*Re+we*K*Re+we*we*oe,pt=K*K*Re+we*K*oe+K*we*oe,ct=K*K*oe,Mt=we*Re*Re,qt=K*Re*Re+we*oe*Re+we*Re*oe,an=K*oe*Re+we*oe*oe+K*Re*oe,vt=K*oe*oe,ze=Re*Re*Re,mt=oe*Re*Re+Re*oe*Re+Re*Re*oe,Jt=oe*oe*Re+Re*oe*oe+oe*Re*oe,Dn=oe*oe*oe;for(k=0;k<le;k+=1)U[4*k]=u.round(1e3*(Ze*X[k]+Ge*B[k]+Ke*R[k]+yt*T[k]))/1e3,U[4*k+1]=u.round(1e3*(j*X[k]+Te*B[k]+pt*R[k]+ct*T[k]))/1e3,U[4*k+2]=u.round(1e3*(Mt*X[k]+qt*B[k]+an*R[k]+vt*T[k]))/1e3,U[4*k+3]=u.round(1e3*(ze*X[k]+mt*B[k]+Jt*R[k]+Dn*T[k]))/1e3;return U},getPointInSegment:function(X,T,B,R,N,L){var W=F(N,L),k=1-W;return[u.round(1e3*(k*k*k*X[0]+(W*k*k+k*W*k+k*k*W)*B[0]+(W*W*k+k*W*W+W*k*W)*R[0]+W*W*W*T[0]))/1e3,u.round(1e3*(k*k*k*X[1]+(W*k*k+k*W*k+k*k*W)*B[1]+(W*W*k+k*W*W+W*k*W)*R[1]+W*W*W*T[1]))/1e3]},buildBezierData:G,pointOnLine2D:f,pointOnLine3D:function(X,T,B,R,N,L,W,k,K){if(0===B&&0===L&&0===K)return f(X,T,R,N,W,k);var oe,le=u.sqrt(u.pow(R-X,2)+u.pow(N-T,2)+u.pow(L-B,2)),we=u.sqrt(u.pow(W-X,2)+u.pow(k-T,2)+u.pow(K-B,2)),Re=u.sqrt(u.pow(W-R,2)+u.pow(k-N,2)+u.pow(K-L,2));return(oe=le>we?le>Re?le-we-Re:Re-we-le:Re>we?Re-we-le:we-le-Re)>-1e-4&&oe<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var u=initialDefaultFrame,f=Math.abs;function m(R,N){var L,W=this.offsetTime;"multidimensional"===this.propType&&(L=createTypedArray("float32",this.pv.length));for(var k,K,oe,le,we,Re,Ze,Ge,Ke,yt=N.lastIndex,j=yt,Te=this.keyframes.length-1,pt=!0;pt;){if(k=this.keyframes[j],K=this.keyframes[j+1],j===Te-1&&R>=K.t-W){k.h&&(k=K),yt=0;break}if(K.t-W>R){yt=j;break}j<Te-1?j+=1:(yt=0,pt=!1)}oe=this.keyframesMetadata[j]||{};var ct,Mt,qt,an,vt,ze,mt,Jt,Dn,Mn,fo,cr,Wr,Or,ln,ai,pr,qi,Yi,dr,ei,En,Fr,Bs,yr,gn,ti,un=K.t-W,mn=k.t-W;if(k.to){oe.bezierData||(oe.bezierData=bez.buildBezierData(k.s,K.s||k.e,k.to,k.ti));var Wt=oe.bezierData;if(R>=un||R<mn){var Rn=R>=un?Wt.points.length-1:0;for(we=Wt.points[Rn].point.length,le=0;le<we;le+=1)L[le]=Wt.points[Rn].point[le]}else{oe.__fnct?Ke=oe.__fnct:(Ke=BezierFactory.getBezierEasing(k.o.x,k.o.y,k.i.x,k.i.y,k.n).get,oe.__fnct=Ke),Re=Ke((R-mn)/(un-mn));var Nn,$n=Wt.segmentLength*Re,Dt=N.lastFrame<R&&N._lastKeyframeIndex===j?N._lastAddedLength:0;for(Ge=N.lastFrame<R&&N._lastKeyframeIndex===j?N._lastPoint:0,pt=!0,Ze=Wt.points.length;pt;){if(Dt+=Wt.points[Ge].partialLength,0===$n||0===Re||Ge===Wt.points.length-1){for(we=Wt.points[Ge].point.length,le=0;le<we;le+=1)L[le]=Wt.points[Ge].point[le];break}if($n>=Dt&&$n<Dt+Wt.points[Ge+1].partialLength){for(Nn=($n-Dt)/Wt.points[Ge+1].partialLength,we=Wt.points[Ge].point.length,le=0;le<we;le+=1)L[le]=Wt.points[Ge].point[le]+(Wt.points[Ge+1].point[le]-Wt.points[Ge].point[le])*Nn;break}Ge<Ze-1?Ge+=1:pt=!1}N._lastPoint=Ge,N._lastAddedLength=Dt-Wt.points[Ge].partialLength,N._lastKeyframeIndex=j}}else{var Vi;if(Te=k.s.length,ct=K.s||k.e,this.sh&&1!==k.h)if(R>=un)L[0]=ct[0],L[1]=ct[1],L[2]=ct[2];else if(R<=mn)L[0]=k.s[0],L[1]=k.s[1],L[2]=k.s[2];else{var hi=_(k.s),lr=_(ct);Mt=L,Wr=(R-mn)/(un-mn),Yi=[],(ln=(dr=(fo=hi)[0])*(Bs=(cr=lr)[0])+(ei=fo[1])*(yr=cr[1])+(En=fo[2])*(gn=cr[2])+(Fr=fo[3])*(ti=cr[3]))<0&&(ln=-ln,Bs=-Bs,yr=-yr,gn=-gn,ti=-ti),1-ln>1e-6?(Or=Math.acos(ln),ai=Math.sin(Or),pr=Math.sin((1-Wr)*Or)/ai,qi=Math.sin(Wr*Or)/ai):(pr=1-Wr,qi=Wr),Yi[0]=pr*dr+qi*Bs,Yi[1]=pr*ei+qi*yr,Yi[2]=pr*En+qi*gn,Yi[3]=pr*Fr+qi*ti,an=(qt=Yi)[0],vt=qt[1],ze=qt[2],mt=qt[3],Jt=Math.atan2(2*vt*mt-2*an*ze,1-2*vt*vt-2*ze*ze),Dn=Math.asin(2*an*vt+2*ze*mt),Mn=Math.atan2(2*an*mt-2*vt*ze,1-2*an*an-2*ze*ze),Mt[0]=Jt/degToRads,Mt[1]=Dn/degToRads,Mt[2]=Mn/degToRads}else for(j=0;j<Te;j+=1)1!==k.h&&(R>=un?Re=1:R<mn?Re=0:(k.o.x.constructor===Array?(oe.__fnct||(oe.__fnct=[]),oe.__fnct[j]?Ke=oe.__fnct[j]:(Ke=BezierFactory.getBezierEasing(void 0===k.o.x[j]?k.o.x[0]:k.o.x[j],void 0===k.o.y[j]?k.o.y[0]:k.o.y[j],void 0===k.i.x[j]?k.i.x[0]:k.i.x[j],void 0===k.i.y[j]?k.i.y[0]:k.i.y[j]).get,oe.__fnct[j]=Ke)):oe.__fnct?Ke=oe.__fnct:(Ke=BezierFactory.getBezierEasing(k.o.x,k.o.y,k.i.x,k.i.y).get,k.keyframeMetadata=Ke),Re=Ke((R-mn)/(un-mn)))),ct=K.s||k.e,Vi=1===k.h?k.s[j]:k.s[j]+(ct[j]-k.s[j])*Re,"multidimensional"===this.propType?L[j]=Vi:L=Vi}return N.lastIndex=yt,L}function _(R){var N=R[0]*degToRads,L=R[1]*degToRads,W=R[2]*degToRads,k=Math.cos(N/2),K=Math.cos(L/2),oe=Math.cos(W/2),le=Math.sin(N/2),we=Math.sin(L/2),Re=Math.sin(W/2);return[le*we*oe+k*K*Re,le*K*oe+k*we*Re,k*we*oe-le*K*Re,k*K*oe-le*we*Re]}function w(){var R=this.comp.renderedFrame-this.offsetTime,N=this.keyframes[0].t-this.offsetTime,L=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(R===this._caching.lastFrame||this._caching.lastFrame!==u&&(this._caching.lastFrame>=L&&R>=L||this._caching.lastFrame<N&&R<N))){this._caching.lastFrame>=R&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var W=this.interpolateValue(R,this._caching);this.pv=W}return this._caching.lastFrame=R,this.pv}function E(R){var N;if("unidimensional"===this.propType)f(this.v-(N=R*this.mult))>1e-5&&(this.v=N,this._mdf=!0);else for(var L=0,W=this.v.length;L<W;)f(this.v[L]-(N=R[L]*this.mult))>1e-5&&(this.v[L]=N,this._mdf=!0),L+=1}function G(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var R;this.lock=!0,this._mdf=this._isFirstFrame;var N=this.effectsSequence.length,L=this.kf?this.pv:this.data.k;for(R=0;R<N;R+=1)L=this.effectsSequence[R](L);this.setVValue(L),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function F(R){this.effectsSequence.push(R),this.container.addDynamicProperty(this)}function U(R,N,L,W){this.propType="unidimensional",this.mult=L||1,this.data=N,this.v=L?N.k*L:N.k,this.pv=N.k,this._mdf=!1,this.elem=R,this.container=W,this.comp=R.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=G,this.setVValue=E,this.addEffect=F}function X(R,N,L,W){var k;this.propType="multidimensional",this.mult=L||1,this.data=N,this._mdf=!1,this.elem=R,this.container=W,this.comp=R.comp,this.k=!1,this.kf=!1,this.frameId=-1;var K=N.k.length;for(this.v=createTypedArray("float32",K),this.pv=createTypedArray("float32",K),this.vel=createTypedArray("float32",K),k=0;k<K;k+=1)this.v[k]=N.k[k]*this.mult,this.pv[k]=N.k[k];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=G,this.setVValue=E,this.addEffect=F}function T(R,N,L,W){this.propType="unidimensional",this.keyframes=N.k,this.keyframesMetadata=[],this.offsetTime=R.data.st,this.frameId=-1,this._caching={lastFrame:u,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=N,this.mult=L||1,this.elem=R,this.container=W,this.comp=R.comp,this.v=u,this.pv=u,this._isFirstFrame=!0,this.getValue=G,this.setVValue=E,this.interpolateValue=m,this.effectsSequence=[w.bind(this)],this.addEffect=F}function B(R,N,L,W){var k;this.propType="multidimensional";var K,oe,le,we,Re=N.k.length;for(k=0;k<Re-1;k+=1)N.k[k].to&&N.k[k].s&&N.k[k+1]&&N.k[k+1].s&&(oe=N.k[k+1].s,le=N.k[k].to,we=N.k[k].ti,(2===(K=N.k[k].s).length&&(K[0]!==oe[0]||K[1]!==oe[1])&&bez.pointOnLine2D(K[0],K[1],oe[0],oe[1],K[0]+le[0],K[1]+le[1])&&bez.pointOnLine2D(K[0],K[1],oe[0],oe[1],oe[0]+we[0],oe[1]+we[1])||3===K.length&&(K[0]!==oe[0]||K[1]!==oe[1]||K[2]!==oe[2])&&bez.pointOnLine3D(K[0],K[1],K[2],oe[0],oe[1],oe[2],K[0]+le[0],K[1]+le[1],K[2]+le[2])&&bez.pointOnLine3D(K[0],K[1],K[2],oe[0],oe[1],oe[2],oe[0]+we[0],oe[1]+we[1],oe[2]+we[2]))&&(N.k[k].to=null,N.k[k].ti=null),K[0]===oe[0]&&K[1]===oe[1]&&0===le[0]&&0===le[1]&&0===we[0]&&0===we[1]&&(2===K.length||K[2]===oe[2]&&0===le[2]&&0===we[2])&&(N.k[k].to=null,N.k[k].ti=null));this.effectsSequence=[w.bind(this)],this.data=N,this.keyframes=N.k,this.keyframesMetadata=[],this.offsetTime=R.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=L||1,this.elem=R,this.container=W,this.comp=R.comp,this.getValue=G,this.setVValue=E,this.interpolateValue=m,this.frameId=-1;var Ze=N.k[0].s.length;for(this.v=createTypedArray("float32",Ze),this.pv=createTypedArray("float32",Ze),k=0;k<Ze;k+=1)this.v[k]=u,this.pv[k]=u;this._caching={lastFrame:u,lastIndex:0,value:createTypedArray("float32",Ze)},this.addEffect=F}return{getProp:function(R,N,L,W,k){var K;if(N.k.length)if("number"==typeof N.k[0])K=new X(R,N,W,k);else switch(L){case 0:K=new T(R,N,W,k);break;case 1:K=new B(R,N,W,k)}else K=new U(R,N,W,k);return K.effectsSequence.length&&k.addDynamicProperty(K),K}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(u){-1===this.dynamicProperties.indexOf(u)&&(this.dynamicProperties.push(u),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var u;this._mdf=!1;var f=this.dynamicProperties.length;for(u=0;u<f;u+=1)this.dynamicProperties[u].getValue(),this.dynamicProperties[u]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(u){this.container=u,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(u,f){this.c=u,this.setLength(f);for(var m=0;m<f;)this.v[m]=pointPool.newElement(),this.o[m]=pointPool.newElement(),this.i[m]=pointPool.newElement(),m+=1},ShapePath.prototype.setLength=function(u){for(;this._maxLength<u;)this.doubleArrayLength();this._length=u},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(u,f,m,_,w){var E;switch(this._length=Math.max(this._length,_+1),this._length>=this._maxLength&&this.doubleArrayLength(),m){case"v":E=this.v;break;case"i":E=this.i;break;case"o":E=this.o;break;default:E=[]}(!E[_]||E[_]&&!w)&&(E[_]=pointPool.newElement()),E[_][0]=u,E[_][1]=f},ShapePath.prototype.setTripleAt=function(u,f,m,_,w,E,G,F){this.setXYAt(u,f,"v",G,F),this.setXYAt(m,_,"o",G,F),this.setXYAt(w,E,"i",G,F)},ShapePath.prototype.reverse=function(){var u=new ShapePath;u.setPathData(this.c,this._length);var f=this.v,m=this.o,_=this.i,w=0;this.c&&(u.setTripleAt(f[0][0],f[0][1],_[0][0],_[0][1],m[0][0],m[0][1],0,!1),w=1);var E,G=this._length-1,F=this._length;for(E=w;E<F;E+=1)u.setTripleAt(f[G][0],f[G][1],_[G][0],_[G][1],m[G][0],m[G][1],E,!1),G-=1;return u};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(u){var f,m=u._length;for(f=0;f<m;f+=1)pointPool.release(u.v[f]),pointPool.release(u.i[f]),pointPool.release(u.o[f]),u.v[f]=null,u.i[f]=null,u.o[f]=null;u._length=0,u.c=!1}),factory.clone=function(u){var f,m=factory.newElement(),_=void 0===u._length?u.v.length:u._length;for(m.setLength(_),m.c=u.c,f=0;f<_;f+=1)m.setTripleAt(u.v[f][0],u.v[f][1],u.o[f][0],u.o[f][1],u.i[f][0],u.i[f][1],f);return m},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(u){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=u,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var u;for(u=0;u<this._length;u+=1)shapePool.release(this.shapes[u]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(u){var f,m=u._length;for(f=0;f<m;f+=1)shapePool.release(u.shapes[f]);u._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=u,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var u=-999999;function f(N,L,W){var k,K,oe,le,we,Re,Ze,Ge,yt=W.lastIndex,j=this.keyframes;if(N<j[0].t-this.offsetTime)k=j[0].s[0],oe=!0,yt=0;else if(N>=j[j.length-1].t-this.offsetTime)k=j[j.length-1].s?j[j.length-1].s[0]:j[j.length-2].e[0],oe=!0;else{for(var Te,pt,ct,Mt=yt,qt=j.length-1,an=!0;an&&(Te=j[Mt],!((pt=j[Mt+1]).t-this.offsetTime>N));)Mt<qt-1?Mt+=1:an=!1;if(ct=this.keyframesMetadata[Mt]||{},yt=Mt,!(oe=1===Te.h)){if(N>=pt.t-this.offsetTime)Ge=1;else if(N<Te.t-this.offsetTime)Ge=0;else{var vt;ct.__fnct?vt=ct.__fnct:(vt=BezierFactory.getBezierEasing(Te.o.x,Te.o.y,Te.i.x,Te.i.y).get,ct.__fnct=vt),Ge=vt((N-(Te.t-this.offsetTime))/(pt.t-this.offsetTime-(Te.t-this.offsetTime)))}K=pt.s?pt.s[0]:Te.e[0]}k=Te.s[0]}for(Re=L._length,Ze=k.i[0].length,W.lastIndex=yt,le=0;le<Re;le+=1)for(we=0;we<Ze;we+=1)L.i[le][we]=oe?k.i[le][we]:k.i[le][we]+(K.i[le][we]-k.i[le][we])*Ge,L.o[le][we]=oe?k.o[le][we]:k.o[le][we]+(K.o[le][we]-k.o[le][we])*Ge,L.v[le][we]=oe?k.v[le][we]:k.v[le][we]+(K.v[le][we]-k.v[le][we])*Ge}function m(){var N=this.comp.renderedFrame-this.offsetTime,L=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime,k=this._caching.lastFrame;return k!==u&&(k<L&&N<L||k>W&&N>W)||(this._caching.lastIndex=k<N?this._caching.lastIndex:0,this.interpolateShape(N,this.pv,this._caching)),this._caching.lastFrame=N,this.pv}function _(){this.paths=this.localShapeCollection}function w(N){(function(L,W){if(L._length!==W._length||L.c!==W.c)return!1;var k,K=L._length;for(k=0;k<K;k+=1)if(L.v[k][0]!==W.v[k][0]||L.v[k][1]!==W.v[k][1]||L.o[k][0]!==W.o[k][0]||L.o[k][1]!==W.o[k][1]||L.i[k][0]!==W.i[k][0]||L.i[k][1]!==W.i[k][1])return!1;return!0})(this.v,N)||(this.v=shapePool.clone(N),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function E(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var N,L;this.lock=!0,this._mdf=!1,N=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var W=this.effectsSequence.length;for(L=0;L<W;L+=1)N=this.effectsSequence[L](N);this.setVValue(N),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function G(N,L,W){this.propType="shape",this.comp=N.comp,this.container=N,this.elem=N,this.data=L,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===W?L.pt.k:L.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=_,this.effectsSequence=[]}function F(N){this.effectsSequence.push(N),this.container.addDynamicProperty(this)}function U(N,L,W){this.propType="shape",this.comp=N.comp,this.elem=N,this.container=N,this.offsetTime=N.data.st,this.keyframes=3===W?L.pt.k:L.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var k=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=u,this.reset=_,this._caching={lastFrame:u,lastIndex:0},this.effectsSequence=[m.bind(this)]}G.prototype.interpolateShape=f,G.prototype.getValue=E,G.prototype.setVValue=w,G.prototype.addEffect=F,U.prototype.getValue=E,U.prototype.interpolateShape=f,U.prototype.setVValue=w,U.prototype.addEffect=F;var X=function(){var N=roundCorner;function L(W,k){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=k.d,this.elem=W,this.comp=W.comp,this.frameId=-1,this.initDynamicPropertyContainer(W),this.p=PropertyFactory.getProp(W,k.p,1,0,this),this.s=PropertyFactory.getProp(W,k.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return L.prototype={reset:_,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var W=this.p.v[0],k=this.p.v[1],K=this.s.v[0]/2,oe=this.s.v[1]/2,le=3!==this.d,we=this.v;we.v[0][0]=W,we.v[0][1]=k-oe,we.v[1][0]=le?W+K:W-K,we.v[1][1]=k,we.v[2][0]=W,we.v[2][1]=k+oe,we.v[3][0]=le?W-K:W+K,we.v[3][1]=k,we.i[0][0]=le?W-K*N:W+K*N,we.i[0][1]=k-oe,we.i[1][0]=le?W+K:W-K,we.i[1][1]=k-oe*N,we.i[2][0]=le?W+K*N:W-K*N,we.i[2][1]=k+oe,we.i[3][0]=le?W-K:W+K,we.i[3][1]=k+oe*N,we.o[0][0]=le?W+K*N:W-K*N,we.o[0][1]=k-oe,we.o[1][0]=le?W+K:W-K,we.o[1][1]=k+oe*N,we.o[2][0]=le?W-K*N:W+K*N,we.o[2][1]=k+oe,we.o[3][0]=le?W-K:W+K,we.o[3][1]=k-oe*N}},extendPrototype([DynamicPropertyContainer],L),L}(),T=function(){function N(L,W){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=L,this.comp=L.comp,this.data=W,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(L),1===W.sy?(this.ir=PropertyFactory.getProp(L,W.ir,0,0,this),this.is=PropertyFactory.getProp(L,W.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(L,W.pt,0,0,this),this.p=PropertyFactory.getProp(L,W.p,1,0,this),this.r=PropertyFactory.getProp(L,W.r,0,degToRads,this),this.or=PropertyFactory.getProp(L,W.or,0,0,this),this.os=PropertyFactory.getProp(L,W.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return N.prototype={reset:_,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var L,W,k,K,oe=2*Math.floor(this.pt.v),le=2*Math.PI/oe,we=!0,Re=this.or.v,Ze=this.ir.v,Ge=this.os.v,Ke=this.is.v,yt=2*Math.PI*Re/(2*oe),j=2*Math.PI*Ze/(2*oe),Te=-Math.PI/2;Te+=this.r.v;var pt=3===this.data.d?-1:1;for(this.v._length=0,L=0;L<oe;L+=1){k=we?Ge:Ke,K=we?yt:j;var ct=(W=we?Re:Ze)*Math.cos(Te),Mt=W*Math.sin(Te),qt=0===ct&&0===Mt?0:Mt/Math.sqrt(ct*ct+Mt*Mt),an=0===ct&&0===Mt?0:-ct/Math.sqrt(ct*ct+Mt*Mt);this.v.setTripleAt(ct+=+this.p.v[0],Mt+=+this.p.v[1],ct-qt*K*k*pt,Mt-an*K*k*pt,ct+qt*K*k*pt,Mt+an*K*k*pt,L,!0),we=!we,Te+=le*pt}},convertPolygonToPath:function(){var L,W=Math.floor(this.pt.v),k=2*Math.PI/W,K=this.or.v,oe=this.os.v,le=2*Math.PI*K/(4*W),we=.5*-Math.PI,Re=3===this.data.d?-1:1;for(we+=this.r.v,this.v._length=0,L=0;L<W;L+=1){var Ze=K*Math.cos(we),Ge=K*Math.sin(we),Ke=0===Ze&&0===Ge?0:Ge/Math.sqrt(Ze*Ze+Ge*Ge),yt=0===Ze&&0===Ge?0:-Ze/Math.sqrt(Ze*Ze+Ge*Ge);this.v.setTripleAt(Ze+=+this.p.v[0],Ge+=+this.p.v[1],Ze-Ke*le*oe*Re,Ge-yt*le*oe*Re,Ze+Ke*le*oe*Re,Ge+yt*le*oe*Re,L,!0),we+=k*Re}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],N),N}(),B=function(){function N(L,W){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=L,this.comp=L.comp,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(L),this.p=PropertyFactory.getProp(L,W.p,1,0,this),this.s=PropertyFactory.getProp(L,W.s,1,0,this),this.r=PropertyFactory.getProp(L,W.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return N.prototype={convertRectToPath:function(){var L=this.p.v[0],W=this.p.v[1],k=this.s.v[0]/2,K=this.s.v[1]/2,oe=bmMin(k,K,this.r.v),le=oe*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(L+k,W-K+oe,L+k,W-K+oe,L+k,W-K+le,0,!0),this.v.setTripleAt(L+k,W+K-oe,L+k,W+K-le,L+k,W+K-oe,1,!0),0!==oe?(this.v.setTripleAt(L+k-oe,W+K,L+k-oe,W+K,L+k-le,W+K,2,!0),this.v.setTripleAt(L-k+oe,W+K,L-k+le,W+K,L-k+oe,W+K,3,!0),this.v.setTripleAt(L-k,W+K-oe,L-k,W+K-oe,L-k,W+K-le,4,!0),this.v.setTripleAt(L-k,W-K+oe,L-k,W-K+le,L-k,W-K+oe,5,!0),this.v.setTripleAt(L-k+oe,W-K,L-k+oe,W-K,L-k+le,W-K,6,!0),this.v.setTripleAt(L+k-oe,W-K,L+k-le,W-K,L+k-oe,W-K,7,!0)):(this.v.setTripleAt(L-k,W+K,L-k+le,W+K,L-k,W+K,2),this.v.setTripleAt(L-k,W-K,L-k,W-K+le,L-k,W-K,3))):(this.v.setTripleAt(L+k,W-K+oe,L+k,W-K+le,L+k,W-K+oe,0,!0),0!==oe?(this.v.setTripleAt(L+k-oe,W-K,L+k-oe,W-K,L+k-le,W-K,1,!0),this.v.setTripleAt(L-k+oe,W-K,L-k+le,W-K,L-k+oe,W-K,2,!0),this.v.setTripleAt(L-k,W-K+oe,L-k,W-K+oe,L-k,W-K+le,3,!0),this.v.setTripleAt(L-k,W+K-oe,L-k,W+K-le,L-k,W+K-oe,4,!0),this.v.setTripleAt(L-k+oe,W+K,L-k+oe,W+K,L-k+le,W+K,5,!0),this.v.setTripleAt(L+k-oe,W+K,L+k-le,W+K,L+k-oe,W+K,6,!0),this.v.setTripleAt(L+k,W+K-oe,L+k,W+K-oe,L+k,W+K-le,7,!0)):(this.v.setTripleAt(L-k,W-K,L-k+le,W-K,L-k,W-K,1,!0),this.v.setTripleAt(L-k,W+K,L-k,W+K-le,L-k,W+K,2,!0),this.v.setTripleAt(L+k,W+K,L+k-le,W+K,L+k,W+K,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:_},extendPrototype([DynamicPropertyContainer],N),N}();return{getShapeProp:function(N,L,W){var k;return 3===W||4===W?k=(3===W?L.pt:L.ks).k.length?new U(N,L,W):new G(N,L,W):5===W?k=new B(N,L):6===W?k=new X(N,L):7===W&&(k=new T(N,L)),k.k&&N.addDynamicProperty(k),k},getConstructorFunction:function(){return G},getKeyframedConstructorFunction:function(){return U}}}(),Matrix=function(){var u=Math.cos,f=Math.sin,m=Math.tan,_=Math.round;function w(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function E(vt){if(0===vt)return this;var ze=u(vt),mt=f(vt);return this._t(ze,-mt,0,0,mt,ze,0,0,0,0,1,0,0,0,0,1)}function G(vt){if(0===vt)return this;var ze=u(vt),mt=f(vt);return this._t(1,0,0,0,0,ze,-mt,0,0,mt,ze,0,0,0,0,1)}function F(vt){if(0===vt)return this;var ze=u(vt),mt=f(vt);return this._t(ze,0,mt,0,0,1,0,0,-mt,0,ze,0,0,0,0,1)}function U(vt){if(0===vt)return this;var ze=u(vt),mt=f(vt);return this._t(ze,-mt,0,0,mt,ze,0,0,0,0,1,0,0,0,0,1)}function X(vt,ze){return this._t(1,ze,vt,1,0,0)}function T(vt,ze){return this.shear(m(vt),m(ze))}function B(vt,ze){var mt=u(ze),Jt=f(ze);return this._t(mt,Jt,0,0,-Jt,mt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,m(vt),1,0,0,0,0,1,0,0,0,0,1)._t(mt,-Jt,0,0,Jt,mt,0,0,0,0,1,0,0,0,0,1)}function R(vt,ze,mt){return mt||0===mt||(mt=1),1===vt&&1===ze&&1===mt?this:this._t(vt,0,0,0,0,ze,0,0,0,0,mt,0,0,0,0,1)}function N(vt,ze,mt,Jt,Dn,Mn,un,mn,Wt,Rn,Nn,$n,Dt,Mr,Bn,ri){return this.props[0]=vt,this.props[1]=ze,this.props[2]=mt,this.props[3]=Jt,this.props[4]=Dn,this.props[5]=Mn,this.props[6]=un,this.props[7]=mn,this.props[8]=Wt,this.props[9]=Rn,this.props[10]=Nn,this.props[11]=$n,this.props[12]=Dt,this.props[13]=Mr,this.props[14]=Bn,this.props[15]=ri,this}function L(vt,ze,mt){return mt=mt||0,0!==vt||0!==ze||0!==mt?this._t(1,0,0,0,0,1,0,0,0,0,1,0,vt,ze,mt,1):this}function W(vt,ze,mt,Jt,Dn,Mn,un,mn,Wt,Rn,Nn,$n,Dt,Mr,Bn,ri){var Zt=this.props;if(1===vt&&0===ze&&0===mt&&0===Jt&&0===Dn&&1===Mn&&0===un&&0===mn&&0===Wt&&0===Rn&&1===Nn&&0===$n)return Zt[12]=Zt[12]*vt+Zt[15]*Dt,Zt[13]=Zt[13]*Mn+Zt[15]*Mr,Zt[14]=Zt[14]*Nn+Zt[15]*Bn,Zt[15]*=ri,this._identityCalculated=!1,this;var Vi=Zt[0],hi=Zt[1],lr=Zt[2],fo=Zt[3],cr=Zt[4],Wr=Zt[5],Or=Zt[6],ln=Zt[7],ai=Zt[8],pr=Zt[9],qi=Zt[10],Yi=Zt[11],dr=Zt[12],ei=Zt[13],En=Zt[14],Fr=Zt[15];return Zt[0]=Vi*vt+hi*Dn+lr*Wt+fo*Dt,Zt[1]=Vi*ze+hi*Mn+lr*Rn+fo*Mr,Zt[2]=Vi*mt+hi*un+lr*Nn+fo*Bn,Zt[3]=Vi*Jt+hi*mn+lr*$n+fo*ri,Zt[4]=cr*vt+Wr*Dn+Or*Wt+ln*Dt,Zt[5]=cr*ze+Wr*Mn+Or*Rn+ln*Mr,Zt[6]=cr*mt+Wr*un+Or*Nn+ln*Bn,Zt[7]=cr*Jt+Wr*mn+Or*$n+ln*ri,Zt[8]=ai*vt+pr*Dn+qi*Wt+Yi*Dt,Zt[9]=ai*ze+pr*Mn+qi*Rn+Yi*Mr,Zt[10]=ai*mt+pr*un+qi*Nn+Yi*Bn,Zt[11]=ai*Jt+pr*mn+qi*$n+Yi*ri,Zt[12]=dr*vt+ei*Dn+En*Wt+Fr*Dt,Zt[13]=dr*ze+ei*Mn+En*Rn+Fr*Mr,Zt[14]=dr*mt+ei*un+En*Nn+Fr*Bn,Zt[15]=dr*Jt+ei*mn+En*$n+Fr*ri,this._identityCalculated=!1,this}function k(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function K(vt){for(var ze=0;ze<16;){if(vt.props[ze]!==this.props[ze])return!1;ze+=1}return!0}function oe(vt){var ze;for(ze=0;ze<16;ze+=1)vt.props[ze]=this.props[ze];return vt}function le(vt){var ze;for(ze=0;ze<16;ze+=1)this.props[ze]=vt[ze]}function we(vt,ze,mt){return{x:vt*this.props[0]+ze*this.props[4]+mt*this.props[8]+this.props[12],y:vt*this.props[1]+ze*this.props[5]+mt*this.props[9]+this.props[13],z:vt*this.props[2]+ze*this.props[6]+mt*this.props[10]+this.props[14]}}function Re(vt,ze,mt){return vt*this.props[0]+ze*this.props[4]+mt*this.props[8]+this.props[12]}function Ze(vt,ze,mt){return vt*this.props[1]+ze*this.props[5]+mt*this.props[9]+this.props[13]}function Ge(vt,ze,mt){return vt*this.props[2]+ze*this.props[6]+mt*this.props[10]+this.props[14]}function Ke(){var vt=this.props[0]*this.props[5]-this.props[1]*this.props[4],ze=this.props[5]/vt,mt=-this.props[1]/vt,Jt=-this.props[4]/vt,Dn=this.props[0]/vt,Mn=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/vt,un=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/vt,mn=new Matrix;return mn.props[0]=ze,mn.props[1]=mt,mn.props[4]=Jt,mn.props[5]=Dn,mn.props[12]=Mn,mn.props[13]=un,mn}function yt(vt){return this.getInverseMatrix().applyToPointArray(vt[0],vt[1],vt[2]||0)}function j(vt){var ze,mt=vt.length,Jt=[];for(ze=0;ze<mt;ze+=1)Jt[ze]=yt(vt[ze]);return Jt}function Te(vt,ze,mt){var Jt=createTypedArray("float32",6);if(this.isIdentity())Jt[0]=vt[0],Jt[1]=vt[1],Jt[2]=ze[0],Jt[3]=ze[1],Jt[4]=mt[0],Jt[5]=mt[1];else{var Dn=this.props[0],Mn=this.props[1],un=this.props[4],mn=this.props[5],Wt=this.props[12],Rn=this.props[13];Jt[0]=vt[0]*Dn+vt[1]*un+Wt,Jt[1]=vt[0]*Mn+vt[1]*mn+Rn,Jt[2]=ze[0]*Dn+ze[1]*un+Wt,Jt[3]=ze[0]*Mn+ze[1]*mn+Rn,Jt[4]=mt[0]*Dn+mt[1]*un+Wt,Jt[5]=mt[0]*Mn+mt[1]*mn+Rn}return Jt}function pt(vt,ze,mt){return this.isIdentity()?[vt,ze,mt]:[vt*this.props[0]+ze*this.props[4]+mt*this.props[8]+this.props[12],vt*this.props[1]+ze*this.props[5]+mt*this.props[9]+this.props[13],vt*this.props[2]+ze*this.props[6]+mt*this.props[10]+this.props[14]]}function ct(vt,ze){if(this.isIdentity())return vt+","+ze;var mt=this.props;return Math.round(100*(vt*mt[0]+ze*mt[4]+mt[12]))/100+","+Math.round(100*(vt*mt[1]+ze*mt[5]+mt[13]))/100}function Mt(){for(var vt=0,ze=this.props,mt="matrix3d(";vt<16;)mt+=_(1e4*ze[vt])/1e4,mt+=15===vt?")":",",vt+=1;return mt}function qt(vt){return vt<1e-6&&vt>0||vt>-1e-6&&vt<0?_(1e4*vt)/1e4:vt}function an(){var vt=this.props;return"matrix("+qt(vt[0])+","+qt(vt[1])+","+qt(vt[4])+","+qt(vt[5])+","+qt(vt[12])+","+qt(vt[13])+")"}return function(){this.reset=w,this.rotate=E,this.rotateX=G,this.rotateY=F,this.rotateZ=U,this.skew=T,this.skewFromAxis=B,this.shear=X,this.scale=R,this.setTransform=N,this.translate=L,this.transform=W,this.applyToPoint=we,this.applyToX=Re,this.applyToY=Ze,this.applyToZ=Ge,this.applyToPointArray=pt,this.applyToTriplePoints=Te,this.applyToPointStringified=ct,this.toCSS=Mt,this.to2dCSS=an,this.clone=oe,this.cloneFromProps=le,this.equals=K,this.inversePoints=j,this.inversePoint=yt,this.getInverseMatrix=Ke,this._t=this.transform,this.isIdentity=k,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(u){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(u){setLocationHref(u)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(u){setSubframeEnabled(u)}function setPrefix(u){setIdPrefix(u)}function loadAnimation(u){return!0===standalone&&(u.animationData=JSON.parse(animationData)),animationManager.loadAnimation(u)}function setQuality(u){if("string"==typeof u)switch(u){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(u)&&u>1&&setDefaultCurveSegments(u);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(u,f){"expressions"===u&&setExpressionsPlugin(f)}function getFactory(u){switch(u){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(u){for(var f=queryString.split("&"),m=0;m<f.length;m+=1){var _=f[m].split("=");if(decodeURIComponent(_[0])==u)return decodeURIComponent(_[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(u){}var ShapeModifiers=(u={},f={},u.registerModifier=function(m,_){f[m]||(f[m]=_)},u.getModifier=function(m,_,w){return new f[m](_,w)},u),u,f;function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(u){if(!this.closed){u.sh.container.addDynamicProperty(u.sh);var f={shape:u.sh,data:u,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(f),this.addShapeToModifier(f),this._isAnimated&&u.setAsAnimated()}},ShapeModifier.prototype.init=function(u,f){this.shapes=[],this.elem=u,this.initDynamicPropertyContainer(u),this.initModifierProperties(u,f),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(u,f){this.s=PropertyFactory.getProp(u,f.s,0,.01,this),this.e=PropertyFactory.getProp(u,f.e,0,.01,this),this.o=PropertyFactory.getProp(u,f.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=f.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(u){u.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(u,f,m,_,w){var E=[];f<=1?E.push({s:u,e:f}):u>=1?E.push({s:u-1,e:f-1}):(E.push({s:u,e:1}),E.push({s:0,e:f-1}));var G,F,U=[],X=E.length;for(G=0;G<X;G+=1)(F=E[G]).e*w<_||F.s*w>_+m||U.push([F.s*w<=_?0:(F.s*w-_)/m,F.e*w>=_+m?1:(F.e*w-_)/m]);return U.length||U.push([0,0]),U},TrimModifier.prototype.releasePathsData=function(u){var f,m=u.length;for(f=0;f<m;f+=1)segmentsLengthPool.release(u[f]);return u.length=0,u},TrimModifier.prototype.processShapes=function(u){var f,m,_,w;if(this._mdf||u){var E=this.o.v%360/360;if(E<0&&(E+=1),(f=this.s.v>1?1+E:this.s.v<0?0+E:this.s.v+E)>(m=this.e.v>1?1+E:this.e.v<0?0+E:this.e.v+E)){var G=f;f=m,m=G}f=1e-4*Math.round(1e4*f),m=1e-4*Math.round(1e4*m),this.sValue=f,this.eValue=m}else f=this.sValue,m=this.eValue;var F,U,X,T,B,R=this.shapes.length,N=0;if(m===f)for(w=0;w<R;w+=1)this.shapes[w].localShapeCollection.releaseShapes(),this.shapes[w].shape._mdf=!0,this.shapes[w].shape.paths=this.shapes[w].localShapeCollection,this._mdf&&(this.shapes[w].pathsData.length=0);else if(1===m&&0===f||0===m&&1===f){if(this._mdf)for(w=0;w<R;w+=1)this.shapes[w].pathsData.length=0,this.shapes[w].shape._mdf=!0}else{var L,W,k=[];for(w=0;w<R;w+=1)if((L=this.shapes[w]).shape._mdf||this._mdf||u||2===this.m){if(U=(_=L.shape.paths)._length,B=0,!L.shape._mdf&&L.pathsData.length)B=L.totalShapeLength;else{for(X=this.releasePathsData(L.pathsData),F=0;F<U;F+=1)T=bez.getSegmentsLength(_.shapes[F]),X.push(T),B+=T.totalLength;L.totalShapeLength=B,L.pathsData=X}N+=B,L.shape._mdf=!0}else L.shape.paths=L.localShapeCollection;var K,oe=f,le=m,we=0;for(w=R-1;w>=0;w-=1)if((L=this.shapes[w]).shape._mdf){for((W=L.localShapeCollection).releaseShapes(),2===this.m&&R>1?(K=this.calculateShapeEdges(f,m,L.totalShapeLength,we,N),we+=L.totalShapeLength):K=[[oe,le]],U=K.length,F=0;F<U;F+=1){oe=K[F][0],le=K[F][1],k.length=0,le<=1?k.push({s:L.totalShapeLength*oe,e:L.totalShapeLength*le}):oe>=1?k.push({s:L.totalShapeLength*(oe-1),e:L.totalShapeLength*(le-1)}):(k.push({s:L.totalShapeLength*oe,e:L.totalShapeLength}),k.push({s:0,e:L.totalShapeLength*(le-1)}));var Re=this.addShapes(L,k[0]);if(k[0].s!==k[0].e){if(k.length>1)if(L.shape.paths.shapes[L.shape.paths._length-1].c){var Ze=Re.pop();this.addPaths(Re,W),Re=this.addShapes(L,k[1],Ze)}else this.addPaths(Re,W),Re=this.addShapes(L,k[1]);this.addPaths(Re,W)}}L.shape.paths=W}}},TrimModifier.prototype.addPaths=function(u,f){var m,_=u.length;for(m=0;m<_;m+=1)f.addShape(u[m])},TrimModifier.prototype.addSegment=function(u,f,m,_,w,E,G){w.setXYAt(f[0],f[1],"o",E),w.setXYAt(m[0],m[1],"i",E+1),G&&w.setXYAt(u[0],u[1],"v",E),w.setXYAt(_[0],_[1],"v",E+1)},TrimModifier.prototype.addSegmentFromArray=function(u,f,m,_){f.setXYAt(u[1],u[5],"o",m),f.setXYAt(u[2],u[6],"i",m+1),_&&f.setXYAt(u[0],u[4],"v",m),f.setXYAt(u[3],u[7],"v",m+1)},TrimModifier.prototype.addShapes=function(u,f,m){var _,w,E,G,F,U,X,T,B=u.pathsData,R=u.shape.paths.shapes,N=u.shape.paths._length,L=0,W=[],k=!0;for(m?(F=m._length,T=m._length):(m=shapePool.newElement(),F=0,T=0),W.push(m),_=0;_<N;_+=1){for(U=B[_].lengths,m.c=R[_].c,E=R[_].c?U.length:U.length+1,w=1;w<E;w+=1)if(L+(G=U[w-1]).addedLength<f.s)L+=G.addedLength,m.c=!1;else{if(L>f.e){m.c=!1;break}f.s<=L&&f.e>=L+G.addedLength?(this.addSegment(R[_].v[w-1],R[_].o[w-1],R[_].i[w],R[_].v[w],m,F,k),k=!1):(X=bez.getNewSegment(R[_].v[w-1],R[_].v[w],R[_].o[w-1],R[_].i[w],(f.s-L)/G.addedLength,(f.e-L)/G.addedLength,U[w-1]),this.addSegmentFromArray(X,m,F,k),k=!1,m.c=!1),L+=G.addedLength,F+=1}if(R[_].c&&U.length){if(G=U[w-1],L<=f.e){var K=U[w-1].addedLength;f.s<=L&&f.e>=L+K?(this.addSegment(R[_].v[w-1],R[_].o[w-1],R[_].i[0],R[_].v[0],m,F,k),k=!1):(X=bez.getNewSegment(R[_].v[w-1],R[_].v[0],R[_].o[w-1],R[_].i[0],(f.s-L)/K,(f.e-L)/K,U[w-1]),this.addSegmentFromArray(X,m,F,k),k=!1,m.c=!1)}else m.c=!1;L+=G.addedLength,F+=1}if(m._length&&(m.setXYAt(m.v[T][0],m.v[T][1],"i",T),m.setXYAt(m.v[m._length-1][0],m.v[m._length-1][1],"o",m._length-1)),L>f.e)break;_<N-1&&(m=shapePool.newElement(),k=!0,W.push(m),F=0)}return W},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(u,f){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(u,f.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(u,f){var m=f/100,_=[0,0],w=u._length,E=0;for(E=0;E<w;E+=1)_[0]+=u.v[E][0],_[1]+=u.v[E][1];_[0]/=w,_[1]/=w;var R=shapePool.newElement();for(R.c=u.c,E=0;E<w;E+=1)R.setTripleAt(u.v[E][0]+(_[0]-u.v[E][0])*m,u.v[E][1]+(_[1]-u.v[E][1])*m,u.o[E][0]+(_[0]-u.o[E][0])*-m,u.o[E][1]+(_[1]-u.o[E][1])*-m,u.i[E][0]+(_[0]-u.i[E][0])*-m,u.i[E][1]+(_[1]-u.i[E][1])*-m,E);return R},PuckerAndBloatModifier.prototype.processShapes=function(u){var f,m,_,w,E,G,F=this.shapes.length,U=this.amount.v;if(0!==U)for(m=0;m<F;m+=1){if(G=(E=this.shapes[m]).localShapeCollection,E.shape._mdf||this._mdf||u)for(G.releaseShapes(),E.shape._mdf=!0,f=E.shape.paths.shapes,w=E.shape.paths._length,_=0;_<w;_+=1)G.addShape(this.processPath(f[_],U));E.shape.paths=E.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var u=[0,0];function f(m,_,w){if(this.elem=m,this.frameId=-1,this.propType="transform",this.data=_,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(w||m),_.p&&_.p.s?(this.px=PropertyFactory.getProp(m,_.p.x,0,0,this),this.py=PropertyFactory.getProp(m,_.p.y,0,0,this),_.p.z&&(this.pz=PropertyFactory.getProp(m,_.p.z,0,0,this))):this.p=PropertyFactory.getProp(m,_.p||{k:[0,0,0]},1,0,this),_.rx){if(this.rx=PropertyFactory.getProp(m,_.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(m,_.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(m,_.rz,0,degToRads,this),_.or.k[0].ti){var E,G=_.or.k.length;for(E=0;E<G;E+=1)_.or.k[E].to=null,_.or.k[E].ti=null}this.or=PropertyFactory.getProp(m,_.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(m,_.r||{k:0},0,degToRads,this);_.sk&&(this.sk=PropertyFactory.getProp(m,_.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(m,_.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(m,_.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(m,_.s||{k:[100,100,100]},1,.01,this),this.o=_.o?PropertyFactory.getProp(m,_.o,0,.01,m):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return f.prototype={applyToMatrix:function(m){var _=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||_,this.a&&m.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&m.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&m.skewFromAxis(-this.sk.v,this.sa.v),this.r?m.rotate(-this.r.v):m.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?m.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):m.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(m){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||m){var _;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var w,E;if(_=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(w=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/_,0),E=this.p.getValueAtTime(this.p.keyframes[0].t/_,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(w=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/_,0),E=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/_,0)):(w=this.p.pv,E=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/_,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){w=[],E=[];var G=this.px,F=this.py;G._caching.lastFrame+G.offsetTime<=G.keyframes[0].t?(w[0]=G.getValueAtTime((G.keyframes[0].t+.01)/_,0),w[1]=F.getValueAtTime((F.keyframes[0].t+.01)/_,0),E[0]=G.getValueAtTime(G.keyframes[0].t/_,0),E[1]=F.getValueAtTime(F.keyframes[0].t/_,0)):G._caching.lastFrame+G.offsetTime>=G.keyframes[G.keyframes.length-1].t?(w[0]=G.getValueAtTime(G.keyframes[G.keyframes.length-1].t/_,0),w[1]=F.getValueAtTime(F.keyframes[F.keyframes.length-1].t/_,0),E[0]=G.getValueAtTime((G.keyframes[G.keyframes.length-1].t-.01)/_,0),E[1]=F.getValueAtTime((F.keyframes[F.keyframes.length-1].t-.01)/_,0)):(w=[G.pv,F.pv],E[0]=G.getValueAtTime((G._caching.lastFrame+G.offsetTime-.01)/_,G.offsetTime),E[1]=F.getValueAtTime((F._caching.lastFrame+F.offsetTime-.01)/_,F.offsetTime))}else w=E=u;this.v.rotate(-Math.atan2(w[1]-E[1],w[0]-E[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],f),f.prototype.addDynamicProperty=function(m){this._addDynamicProperty(m),this.elem.addDynamicProperty(m),this._isDirty=!0},f.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(m,_,w){return new f(m,_,w)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(u){for(var f=u.fStyle?u.fStyle.split(" "):[],m="normal",_="normal",w=f.length,E=0;E<w;E+=1)switch(f[E].toLowerCase()){case"italic":_="italic";break;case"bold":m="700";break;case"black":m="900";break;case"medium":m="500";break;case"regular":case"normal":m="400";break;case"light":case"thin":m="200"}return{style:_,weight:u.fWeight||m}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(u,f){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(u,f.c,0,null,this),this.o=PropertyFactory.getProp(u,f.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(u,f.tr,this),this.so=PropertyFactory.getProp(u,f.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(u,f.tr.eo,0,.01,this),this.data=f,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(u,f,m,_,w,E){var G=E?-1:1,F=_.s.v[0]+(1-_.s.v[0])*(1-w),U=_.s.v[1]+(1-_.s.v[1])*(1-w);u.translate(_.p.v[0]*G*w,_.p.v[1]*G*w,_.p.v[2]),f.translate(-_.a.v[0],-_.a.v[1],_.a.v[2]),f.rotate(-_.r.v*G*w),f.translate(_.a.v[0],_.a.v[1],_.a.v[2]),m.translate(-_.a.v[0],-_.a.v[1],_.a.v[2]),m.scale(E?1/F:F,E?1/U:U),m.translate(_.a.v[0],_.a.v[1],_.a.v[2])},RepeaterModifier.prototype.init=function(u,f,m,_){for(this.elem=u,this.arr=f,this.pos=m,this.elemsData=_,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(u),this.initModifierProperties(u,f[m]);m>0;)this._elements.unshift(f[m-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(u){var f,m=u.length;for(f=0;f<m;f+=1)u[f]._processed=!1,"gr"===u[f].ty&&this.resetElements(u[f].it)},RepeaterModifier.prototype.cloneElements=function(u){var f=JSON.parse(JSON.stringify(u));return this.resetElements(f),f},RepeaterModifier.prototype.changeGroupRender=function(u,f){var m,_=u.length;for(m=0;m<_;m+=1)u[m]._render=f,"gr"===u[m].ty&&this.changeGroupRender(u[m].it,f)},RepeaterModifier.prototype.processShapes=function(u){var f,m,_,w,E,G=!1;if(this._mdf||u){var F,U=Math.ceil(this.c.v);if(this._groups.length<U){for(;this._groups.length<U;){var X={it:this.cloneElements(this._elements),ty:"gr"};X.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,X),this._groups.splice(0,0,X),this._currentCopies+=1}this.elem.reloadShapes(),G=!0}for(E=0,_=0;_<=this._groups.length-1;_+=1){if(this._groups[_]._render=F=E<U,this.changeGroupRender(this._groups[_].it,F),!F){var T=this.elemsData[_].it,B=T[T.length-1];0!==B.transform.op.v?(B.transform.op._mdf=!0,B.transform.op.v=0):B.transform.op._mdf=!1}E+=1}this._currentCopies=U;var R=this.o.v,N=R%1,L=R>0?Math.floor(R):Math.ceil(R),W=this.pMatrix.props,k=this.rMatrix.props,K=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var oe,le,we=0;if(R>0){for(;we<L;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),we+=1;N&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,N,!1),we+=N)}else if(R<0){for(;we>L;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),we-=1;N&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-N,!0),we-=N)}for(_=1===this.data.m?0:this._currentCopies-1,w=1===this.data.m?1:-1,E=this._currentCopies;E;){if(le=(m=(f=this.elemsData[_].it)[f.length-1].transform.mProps.v.props).length,f[f.length-1].transform.mProps._mdf=!0,f[f.length-1].transform.op._mdf=!0,f[f.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+_/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==we){for((0!==_&&1===w||_!==this._currentCopies-1&&-1===w)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15]),this.matrix.transform(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9],K[10],K[11],K[12],K[13],K[14],K[15]),this.matrix.transform(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15]),oe=0;oe<le;oe+=1)m[oe]=this.matrix.props[oe];this.matrix.reset()}else for(this.matrix.reset(),oe=0;oe<le;oe+=1)m[oe]=this.matrix.props[oe];we+=1,E-=1,_+=w}}else for(E=this._currentCopies,_=0,w=1;E;)m=(f=this.elemsData[_].it)[f.length-1].transform.mProps.v.props,f[f.length-1].transform.mProps._mdf=!1,f[f.length-1].transform.op._mdf=!1,E-=1,_+=w;return G},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(u,f){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(u,f.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(u,f){var m,_=shapePool.newElement();_.c=u.c;var w,E,G,F,U,X,T,B,R,N,L,W,k=u._length,K=0;for(m=0;m<k;m+=1)E=u.i[m],(w=u.v[m])[0]===(G=u.o[m])[0]&&w[1]===G[1]&&w[0]===E[0]&&w[1]===E[1]?0!==m&&m!==k-1||u.c?(F=0===m?u.v[k-1]:u.v[m-1],X=(U=Math.sqrt(Math.pow(w[0]-F[0],2)+Math.pow(w[1]-F[1],2)))?Math.min(U/2,f)/U:0,T=L=w[0]+(F[0]-w[0])*X,B=W=w[1]-(w[1]-F[1])*X,_.setTripleAt(T,B,T-(T-w[0])*roundCorner,B-(B-w[1])*roundCorner,L,W,K),K+=1,F=m===k-1?u.v[0]:u.v[m+1],X=(U=Math.sqrt(Math.pow(w[0]-F[0],2)+Math.pow(w[1]-F[1],2)))?Math.min(U/2,f)/U:0,T=R=w[0]+(F[0]-w[0])*X,B=N=w[1]+(F[1]-w[1])*X,_.setTripleAt(T,B,R,N,L=T-(T-w[0])*roundCorner,W=B-(B-w[1])*roundCorner,K),K+=1):(_.setTripleAt(w[0],w[1],G[0],G[1],E[0],E[1],K),K+=1):(_.setTripleAt(u.v[m][0],u.v[m][1],u.o[m][0],u.o[m][1],u.i[m][0],u.i[m][1],K),K+=1);return _},RoundCornersModifier.prototype.processShapes=function(u){var f,m,_,w,E,G,F=this.shapes.length,U=this.rd.v;if(0!==U)for(m=0;m<F;m+=1){if(G=(E=this.shapes[m]).localShapeCollection,E.shape._mdf||this._mdf||u)for(G.releaseShapes(),E.shape._mdf=!0,f=E.shape.paths.shapes,w=E.shape.paths._length,_=0;_<w;_+=1)G.addShape(this.processPath(f[_],U));E.shape.paths=E.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var u={w:0,size:0,shapes:[],data:{shapes:[]}},f=[];f=f.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var m=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],_=[65039,8205];function w(U,X){var T=createTag("span");T.setAttribute("aria-hidden",!0),T.style.fontFamily=X;var B=createTag("span");B.innerText="giItT1WQy@!-/#",T.style.position="absolute",T.style.left="-10000px",T.style.top="-10000px",T.style.fontSize="300px",T.style.fontVariant="normal",T.style.fontStyle="normal",T.style.fontWeight="normal",T.style.letterSpacing="0",T.appendChild(B),document.body.appendChild(T);var R=B.offsetWidth;return B.style.fontFamily=function(N){var L,W=N.split(","),k=W.length,K=[];for(L=0;L<k;L+=1)"sans-serif"!==W[L]&&"monospace"!==W[L]&&K.push(W[L]);return K.join(",")}(U)+", "+X,{node:B,w:R,parent:T}}function E(U,X){var T,B=document.body&&X?"svg":"canvas",R=getFontProperties(U);if("svg"===B){var N=createNS("text");N.style.fontSize="100px",N.setAttribute("font-family",U.fFamily),N.setAttribute("font-style",R.style),N.setAttribute("font-weight",R.weight),N.textContent="1",U.fClass?(N.style.fontFamily="inherit",N.setAttribute("class",U.fClass)):N.style.fontFamily=U.fFamily,X.appendChild(N),T=N}else{var L=new OffscreenCanvas(500,500).getContext("2d");L.font=R.style+" "+R.weight+" 100px "+U.fFamily,T=L}return{measureText:function(W){return"svg"===B?(T.textContent=W,T.getComputedTextLength()):T.measureText(W).width}}}var G=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return G.isModifier=function(U,X){var T=U.toString(16)+X.toString(16);return-1!==m.indexOf(T)},G.isZeroWidthJoiner=function(U,X){return X?U===_[0]&&X===_[1]:U===_[1]},G.isCombinedCharacter=function(U){return-1!==f.indexOf(U)},G.prototype={addChars:function(U){if(U){var X;this.chars||(this.chars=[]);var T,B,R=U.length,N=this.chars.length;for(X=0;X<R;X+=1){for(T=0,B=!1;T<N;)this.chars[T].style===U[X].style&&this.chars[T].fFamily===U[X].fFamily&&this.chars[T].ch===U[X].ch&&(B=!0),T+=1;B||(this.chars.push(U[X]),N+=1)}}},addFonts:function(U,X){if(U){if(this.chars)return this.isLoaded=!0,void(this.fonts=U.list);if(!document.body)return this.isLoaded=!0,U.list.forEach(function(we){we.helper=E(we),we.cache={}}),void(this.fonts=U.list);var T,B=U.list,R=B.length,N=R;for(T=0;T<R;T+=1){var L,W,k=!0;if(B[T].loaded=!1,B[T].monoCase=w(B[T].fFamily,"monospace"),B[T].sansCase=w(B[T].fFamily,"sans-serif"),B[T].fPath){if("p"===B[T].fOrigin||3===B[T].origin){if((L=document.querySelectorAll('style[f-forigin="p"][f-family="'+B[T].fFamily+'"], style[f-origin="3"][f-family="'+B[T].fFamily+'"]')).length>0&&(k=!1),k){var K=createTag("style");K.setAttribute("f-forigin",B[T].fOrigin),K.setAttribute("f-origin",B[T].origin),K.setAttribute("f-family",B[T].fFamily),K.type="text/css",K.innerText="@font-face {font-family: "+B[T].fFamily+"; font-style: normal; src: url('"+B[T].fPath+"');}",X.appendChild(K)}}else if("g"===B[T].fOrigin||1===B[T].origin){for(L=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),W=0;W<L.length;W+=1)-1!==L[W].href.indexOf(B[T].fPath)&&(k=!1);if(k){var oe=createTag("link");oe.setAttribute("f-forigin",B[T].fOrigin),oe.setAttribute("f-origin",B[T].origin),oe.type="text/css",oe.rel="stylesheet",oe.href=B[T].fPath,document.body.appendChild(oe)}}else if("t"===B[T].fOrigin||2===B[T].origin){for(L=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),W=0;W<L.length;W+=1)B[T].fPath===L[W].src&&(k=!1);if(k){var le=createTag("link");le.setAttribute("f-forigin",B[T].fOrigin),le.setAttribute("f-origin",B[T].origin),le.setAttribute("rel","stylesheet"),le.setAttribute("href",B[T].fPath),X.appendChild(le)}}}else B[T].loaded=!0,N-=1;B[T].helper=E(B[T],X),B[T].cache={},this.fonts.push(B[T])}0===N?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(U,X,T){for(var B=0,R=this.chars.length;B<R;){if(this.chars[B].ch===U&&this.chars[B].style===X&&this.chars[B].fFamily===T)return this.chars[B];B+=1}return("string"==typeof U&&13!==U.charCodeAt(0)||!U)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",U,X,T)),u},getFontByName:function(U){for(var X=0,T=this.fonts.length;X<T;){if(this.fonts[X].fName===U)return this.fonts[X];X+=1}return this.fonts[0]},measureText:function(U,X,T){var B=this.getFontByName(X),R=U.charCodeAt(0);if(!B.cache[R+1]){var N=B.helper;if(" "===U){var L=N.measureText("|"+U+"|"),W=N.measureText("||");B.cache[R+1]=(L-W)/100}else B.cache[R+1]=N.measureText(U)/100}return B.cache[R+1]*T},checkLoadedFonts:function(){var U,B=this.fonts.length,R=B;for(U=0;U<B;U+=1)this.fonts[U].loaded?R-=1:"n"===this.fonts[U].fOrigin||0===this.fonts[U].origin?this.fonts[U].loaded=!0:((this.fonts[U].monoCase.node.offsetWidth!==this.fonts[U].monoCase.w||this.fonts[U].sansCase.node.offsetWidth!==this.fonts[U].sansCase.w)&&(R-=1,this.fonts[U].loaded=!0),this.fonts[U].loaded&&(this.fonts[U].sansCase.parent.parentNode.removeChild(this.fonts[U].sansCase.parent),this.fonts[U].monoCase.parent.parentNode.removeChild(this.fonts[U].monoCase.parent)));0!==R&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},G}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(u){-1===this.renderableComponents.indexOf(u)&&this.renderableComponents.push(u)},removeRenderableComponent:function(u){-1!==this.renderableComponents.indexOf(u)&&this.renderableComponents.splice(this.renderableComponents.indexOf(u),1)},prepareRenderableFrame:function(u){this.checkLayerLimits(u)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(u){this.data.ip-this.data.st<=u&&this.data.op-this.data.st>u?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var u,f=this.renderableComponents.length;for(u=0;u<f;u+=1)this.renderableComponents[u].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function u(f,m){this._mask=f,this._data=m}return Object.defineProperty(u.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(u.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(f){var m,_=createSizedArray(f.viewData.length),w=f.viewData.length;for(m=0;m<w;m+=1)_[m]=new u(f.viewData[m],f.masksProperties[m]);return function(E){for(m=0;m<w;){if(f.masksProperties[m].nm===E)return _[m];m+=1}return null}}}(),ExpressionPropertyInterface=function(){var u={pv:0,v:0,mult:1},f={pv:[0,0,0],v:[0,0,0],mult:1};function m(w,E,G){Object.defineProperty(w,"velocity",{get:function(){return E.getVelocityAtTime(E.comp.currentFrame)}}),w.numKeys=E.keyframes?E.keyframes.length:0,w.key=function(F){if(!w.numKeys)return 0;var U;U="s"in E.keyframes[F-1]?E.keyframes[F-1].s:"e"in E.keyframes[F-2]?E.keyframes[F-2].e:E.keyframes[F-2].s;var X="unidimensional"===G?new Number(U):Object.assign({},U);return X.time=E.keyframes[F-1].t/E.elem.comp.globalData.frameRate,X.value="unidimensional"===G?U[0]:U,X},w.valueAtTime=E.getValueAtTime,w.speedAtTime=E.getSpeedAtTime,w.velocityAtTime=E.getVelocityAtTime,w.propertyGroup=E.propertyGroup}function _(){return u}return function(w){return w?"unidimensional"===w.propType?function(E){E&&"pv"in E||(E=u);var G=1/E.mult,F=E.pv*G,U=new Number(F);return U.value=F,m(U,E,"unidimensional"),function(){return E.k&&E.getValue(),U.value!==(F=E.v*G)&&((U=new Number(F)).value=F,m(U,E,"unidimensional")),U}}(w):function(E){E&&"pv"in E||(E=f);var G=1/E.mult,F=E.data&&E.data.l||E.pv.length,U=createTypedArray("float32",F),X=createTypedArray("float32",F);return U.value=X,m(U,E,"multidimensional"),function(){E.k&&E.getValue();for(var T=0;T<F;T+=1)X[T]=E.v[T]*G,U[T]=X[T];return U}}(w):_}}(),TransformExpressionInterface=function(u){function f(G){switch(G){case"scale":case"Scale":case"ADBE Scale":case 6:return f.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return f.rotation;case"ADBE Rotate X":return f.xRotation;case"ADBE Rotate Y":return f.yRotation;case"position":case"Position":case"ADBE Position":case 2:return f.position;case"ADBE Position_0":return f.xPosition;case"ADBE Position_1":return f.yPosition;case"ADBE Position_2":return f.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return f.anchorPoint;case"opacity":case"Opacity":case 11:return f.opacity;default:return null}}var m,_,w,E;return Object.defineProperty(f,"rotation",{get:ExpressionPropertyInterface(u.r||u.rz)}),Object.defineProperty(f,"zRotation",{get:ExpressionPropertyInterface(u.rz||u.r)}),Object.defineProperty(f,"xRotation",{get:ExpressionPropertyInterface(u.rx)}),Object.defineProperty(f,"yRotation",{get:ExpressionPropertyInterface(u.ry)}),Object.defineProperty(f,"scale",{get:ExpressionPropertyInterface(u.s)}),u.p?E=ExpressionPropertyInterface(u.p):(m=ExpressionPropertyInterface(u.px),_=ExpressionPropertyInterface(u.py),u.pz&&(w=ExpressionPropertyInterface(u.pz))),Object.defineProperty(f,"position",{get:function(){return u.p?E():[m(),_(),w?w():0]}}),Object.defineProperty(f,"xPosition",{get:ExpressionPropertyInterface(u.px)}),Object.defineProperty(f,"yPosition",{get:ExpressionPropertyInterface(u.py)}),Object.defineProperty(f,"zPosition",{get:ExpressionPropertyInterface(u.pz)}),Object.defineProperty(f,"anchorPoint",{get:ExpressionPropertyInterface(u.a)}),Object.defineProperty(f,"opacity",{get:ExpressionPropertyInterface(u.o)}),Object.defineProperty(f,"skew",{get:ExpressionPropertyInterface(u.sk)}),Object.defineProperty(f,"skewAxis",{get:ExpressionPropertyInterface(u.sa)}),Object.defineProperty(f,"orientation",{get:ExpressionPropertyInterface(u.or)}),f},LayerExpressionInterface=function(){function u(X){var T=new Matrix;return void 0!==X?this._elem.finalTransform.mProp.getValueAtTime(X).clone(T):this._elem.finalTransform.mProp.applyToMatrix(T),T}function f(X,T){var B=this.getMatrix(T);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.applyPoint(B,X)}function m(X,T){var B=this.getMatrix(T);return this.applyPoint(B,X)}function _(X,T){var B=this.getMatrix(T);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.invertPoint(B,X)}function w(X,T){var B=this.getMatrix(T);return this.invertPoint(B,X)}function E(X,T){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,R=this._elem.hierarchy.length;for(B=0;B<R;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(X)}return X.applyToPointArray(T[0],T[1],T[2]||0)}function G(X,T){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,R=this._elem.hierarchy.length;for(B=0;B<R;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(X)}return X.inversePoint(T)}function F(X){var T=new Matrix;if(T.reset(),this._elem.finalTransform.mProp.applyToMatrix(T),this._elem.hierarchy&&this._elem.hierarchy.length){var B,R=this._elem.hierarchy.length;for(B=0;B<R;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(T);return T.inversePoint(X)}return T.inversePoint(X)}function U(){return[1,1,1,1]}return function(X){var T;function B(N){switch(N){case"ADBE Root Vectors Group":case"Contents":case 2:return B.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return T;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return B.effect;case"ADBE Text Properties":return B.textInterface;default:return null}}B.getMatrix=u,B.invertPoint=G,B.applyPoint=E,B.toWorld=m,B.toWorldVec=f,B.fromWorld=w,B.fromWorldVec=_,B.toComp=m,B.fromComp=F,B.sampleImage=U,B.sourceRectAtTime=X.sourceRectAtTime.bind(X),B._elem=X;var R=getDescriptor(T=TransformExpressionInterface(X.finalTransform.mProp),"anchorPoint");return Object.defineProperties(B,{hasParent:{get:function(){return X.hierarchy.length}},parent:{get:function(){return X.hierarchy[0].layerInterface}},rotation:getDescriptor(T,"rotation"),scale:getDescriptor(T,"scale"),position:getDescriptor(T,"position"),opacity:getDescriptor(T,"opacity"),anchorPoint:R,anchor_point:R,transform:{get:function(){return T}},active:{get:function(){return X.isInRange}}}),B.startTime=X.data.st,B.index=X.data.ind,B.source=X.data.refId,B.height=0===X.data.ty?X.data.h:100,B.width=0===X.data.ty?X.data.w:100,B.inPoint=X.data.ip/X.comp.globalData.frameRate,B.outPoint=X.data.op/X.comp.globalData.frameRate,B._name=X.data.nm,B.registerMaskInterface=function(N){B.mask=new MaskManagerInterface(N,X)},B.registerEffectsInterface=function(N){B.effect=N},B}}(),propertyGroupFactory=function(u,f){return function(m){return(m=void 0===m?1:m)<=0?u:f(m-1)}},PropertyInterface=function(u,f){var m={_name:u};return function(_){return(_=void 0===_?1:_)<=0?m:f(_-1)}},EffectsExpressionInterface=function(){function u(m,_,w,E){function G(B){for(var R=m.ef,N=0,L=R.length;N<L;){if(B===R[N].nm||B===R[N].mn||B===R[N].ix)return 5===R[N].ty?X[N]:X[N]();N+=1}throw new Error}var F,U=propertyGroupFactory(G,w),X=[],T=m.ef.length;for(F=0;F<T;F+=1)X.push(5===m.ef[F].ty?u(m.ef[F],_.effectElements[F],_.effectElements[F].propertyGroup,E):f(_.effectElements[F],m.ef[F].ty,E,U));return"ADBE Color Control"===m.mn&&Object.defineProperty(G,"color",{get:function(){return X[0]()}}),Object.defineProperties(G,{numProperties:{get:function(){return m.np}},_name:{value:m.nm},propertyGroup:{value:U}}),G.active=G.enabled=0!==m.en,G}function f(m,_,w,E){var G=ExpressionPropertyInterface(m.p);return m.p.setGroupProperty&&m.p.setGroupProperty(PropertyInterface("",E)),function(){return 10===_?w.comp.compInterface(m.p.v):G()}}return{createEffectsInterface:function(m,_){if(m.effectsManager){var w,E=[],G=m.data.ef,F=m.effectsManager.effectElements.length;for(w=0;w<F;w+=1)E.push(u(G[w],m.effectsManager.effectElements[w],_,m));var U=m.data.ef||[],X=function(T){for(w=0,F=U.length;w<F;){if(T===U[w].nm||T===U[w].mn||T===U[w].ix)return E[w];w+=1}return null};return Object.defineProperty(X,"numProperties",{get:function(){return U.length}}),X}return null}}}(),CompExpressionInterface=function(u){function f(m){for(var _=0,w=u.layers.length;_<w;){if(u.layers[_].nm===m||u.layers[_].ind===m)return u.elements[_].layerInterface;_+=1}return null}return Object.defineProperty(f,"_name",{value:u.data.nm}),f.layer=f,f.pixelAspect=1,f.height=u.data.h||u.globalData.compSize.h,f.width=u.data.w||u.globalData.compSize.w,f.pixelAspect=1,f.frameDuration=1/u.globalData.frameRate,f.displayStartTime=0,f.numLayers=u.layers.length,f},ShapePathInterface=function(u,f,m){var _=f.sh;function w(G){return"Shape"===G||"shape"===G||"Path"===G||"path"===G||"ADBE Vector Shape"===G||2===G?w.path:null}var E=propertyGroupFactory(w,m);return _.setGroupProperty(PropertyInterface("Path",E)),Object.defineProperties(w,{path:{get:function(){return _.k&&_.getValue(),_}},shape:{get:function(){return _.k&&_.getValue(),_}},_name:{value:u.nm},ix:{value:u.ix},propertyIndex:{value:u.ix},mn:{value:u.mn},propertyGroup:{value:m}}),w},ShapeExpressionInterface=function(){function u(N,L,W){var k,K=[],oe=N?N.length:0;for(k=0;k<oe;k+=1)"gr"===N[k].ty?K.push(f(N[k],L[k],W)):"fl"===N[k].ty?K.push(m(N[k],L[k],W)):"st"===N[k].ty?K.push(E(N[k],L[k],W)):"tm"===N[k].ty?K.push(G(N[k],L[k],W)):"tr"===N[k].ty||K.push("el"===N[k].ty?U(N[k],L[k],W):"sr"===N[k].ty?X(N[k],L[k],W):"sh"===N[k].ty?ShapePathInterface(N[k],L[k],W):"rc"===N[k].ty?T(N[k],L[k],W):"rd"===N[k].ty?B(N[k],L[k],W):"rp"===N[k].ty?R(N[k],L[k],W):"gf"===N[k].ty?_(N[k],L[k],W):function(){return null});return K}function f(N,L,W){var k=function(le){switch(le){case"ADBE Vectors Group":case"Contents":case 2:return k.content;default:return k.transform}};k.propertyGroup=propertyGroupFactory(k,W);var K=function(le,we,Re){var Ze,Ge=function(yt){for(var j=0,Te=Ze.length;j<Te;){if(Ze[j]._name===yt||Ze[j].mn===yt||Ze[j].propertyIndex===yt||Ze[j].ix===yt||Ze[j].ind===yt)return Ze[j];j+=1}return"number"==typeof yt?Ze[yt-1]:null};Ge.propertyGroup=propertyGroupFactory(Ge,Re),Ze=u(le.it,we.it,Ge.propertyGroup),Ge.numProperties=Ze.length;var Ke=F(le.it[le.it.length-1],we.it[we.it.length-1],Ge.propertyGroup);return Ge.transform=Ke,Ge.propertyIndex=le.cix,Ge._name=le.nm,Ge}(N,L,k.propertyGroup),oe=F(N.it[N.it.length-1],L.it[L.it.length-1],k.propertyGroup);return k.content=K,k.transform=oe,Object.defineProperty(k,"_name",{get:function(){return N.nm}}),k.numProperties=N.np,k.propertyIndex=N.ix,k.nm=N.nm,k.mn=N.mn,k}function m(N,L,W){function k(K){return"Color"===K||"color"===K?k.color:"Opacity"===K||"opacity"===K?k.opacity:null}return Object.defineProperties(k,{color:{get:ExpressionPropertyInterface(L.c)},opacity:{get:ExpressionPropertyInterface(L.o)},_name:{value:N.nm},mn:{value:N.mn}}),L.c.setGroupProperty(PropertyInterface("Color",W)),L.o.setGroupProperty(PropertyInterface("Opacity",W)),k}function _(N,L,W){function k(K){return"Start Point"===K||"start point"===K?k.startPoint:"End Point"===K||"end point"===K?k.endPoint:"Opacity"===K||"opacity"===K?k.opacity:null}return Object.defineProperties(k,{startPoint:{get:ExpressionPropertyInterface(L.s)},endPoint:{get:ExpressionPropertyInterface(L.e)},opacity:{get:ExpressionPropertyInterface(L.o)},type:{get:function(){return"a"}},_name:{value:N.nm},mn:{value:N.mn}}),L.s.setGroupProperty(PropertyInterface("Start Point",W)),L.e.setGroupProperty(PropertyInterface("End Point",W)),L.o.setGroupProperty(PropertyInterface("Opacity",W)),k}function E(N,L,W){var k,Ge,K=propertyGroupFactory(Ze,W),oe=propertyGroupFactory(Re,K),we=N.d?N.d.length:0,Re={};for(k=0;k<we;k+=1)Ge=k,Object.defineProperty(Re,N.d[Ge].nm,{get:ExpressionPropertyInterface(L.d.dataProps[Ge].p)}),L.d.dataProps[k].p.setGroupProperty(oe);function Ze(Ge){return"Color"===Ge||"color"===Ge?Ze.color:"Opacity"===Ge||"opacity"===Ge?Ze.opacity:"Stroke Width"===Ge||"stroke width"===Ge?Ze.strokeWidth:null}return Object.defineProperties(Ze,{color:{get:ExpressionPropertyInterface(L.c)},opacity:{get:ExpressionPropertyInterface(L.o)},strokeWidth:{get:ExpressionPropertyInterface(L.w)},dash:{get:function(){return Re}},_name:{value:N.nm},mn:{value:N.mn}}),L.c.setGroupProperty(PropertyInterface("Color",K)),L.o.setGroupProperty(PropertyInterface("Opacity",K)),L.w.setGroupProperty(PropertyInterface("Stroke Width",K)),Ze}function G(N,L,W){function k(oe){return oe===N.e.ix||"End"===oe||"end"===oe?k.end:oe===N.s.ix?k.start:oe===N.o.ix?k.offset:null}var K=propertyGroupFactory(k,W);return k.propertyIndex=N.ix,L.s.setGroupProperty(PropertyInterface("Start",K)),L.e.setGroupProperty(PropertyInterface("End",K)),L.o.setGroupProperty(PropertyInterface("Offset",K)),k.propertyIndex=N.ix,k.propertyGroup=W,Object.defineProperties(k,{start:{get:ExpressionPropertyInterface(L.s)},end:{get:ExpressionPropertyInterface(L.e)},offset:{get:ExpressionPropertyInterface(L.o)},_name:{value:N.nm}}),k.mn=N.mn,k}function F(N,L,W){function k(oe){return N.a.ix===oe||"Anchor Point"===oe?k.anchorPoint:N.o.ix===oe||"Opacity"===oe?k.opacity:N.p.ix===oe||"Position"===oe?k.position:N.r.ix===oe||"Rotation"===oe||"ADBE Vector Rotation"===oe?k.rotation:N.s.ix===oe||"Scale"===oe?k.scale:N.sk&&N.sk.ix===oe||"Skew"===oe?k.skew:N.sa&&N.sa.ix===oe||"Skew Axis"===oe?k.skewAxis:null}var K=propertyGroupFactory(k,W);return L.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",K)),L.transform.mProps.p.setGroupProperty(PropertyInterface("Position",K)),L.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",K)),L.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",K)),L.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",K)),L.transform.mProps.sk&&(L.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",K)),L.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",K))),L.transform.op.setGroupProperty(PropertyInterface("Opacity",K)),Object.defineProperties(k,{opacity:{get:ExpressionPropertyInterface(L.transform.mProps.o)},position:{get:ExpressionPropertyInterface(L.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(L.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(L.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(L.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(L.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(L.transform.mProps.sa)},_name:{value:N.nm}}),k.ty="tr",k.mn=N.mn,k.propertyGroup=W,k}function U(N,L,W){function k(le){return N.p.ix===le?k.position:N.s.ix===le?k.size:null}var K=propertyGroupFactory(k,W);k.propertyIndex=N.ix;var oe="tm"===L.sh.ty?L.sh.prop:L.sh;return oe.s.setGroupProperty(PropertyInterface("Size",K)),oe.p.setGroupProperty(PropertyInterface("Position",K)),Object.defineProperties(k,{size:{get:ExpressionPropertyInterface(oe.s)},position:{get:ExpressionPropertyInterface(oe.p)},_name:{value:N.nm}}),k.mn=N.mn,k}function X(N,L,W){function k(le){return N.p.ix===le?k.position:N.r.ix===le?k.rotation:N.pt.ix===le?k.points:N.or.ix===le||"ADBE Vector Star Outer Radius"===le?k.outerRadius:N.os.ix===le?k.outerRoundness:!N.ir||N.ir.ix!==le&&"ADBE Vector Star Inner Radius"!==le?N.is&&N.is.ix===le?k.innerRoundness:null:k.innerRadius}var K=propertyGroupFactory(k,W),oe="tm"===L.sh.ty?L.sh.prop:L.sh;return k.propertyIndex=N.ix,oe.or.setGroupProperty(PropertyInterface("Outer Radius",K)),oe.os.setGroupProperty(PropertyInterface("Outer Roundness",K)),oe.pt.setGroupProperty(PropertyInterface("Points",K)),oe.p.setGroupProperty(PropertyInterface("Position",K)),oe.r.setGroupProperty(PropertyInterface("Rotation",K)),N.ir&&(oe.ir.setGroupProperty(PropertyInterface("Inner Radius",K)),oe.is.setGroupProperty(PropertyInterface("Inner Roundness",K))),Object.defineProperties(k,{position:{get:ExpressionPropertyInterface(oe.p)},rotation:{get:ExpressionPropertyInterface(oe.r)},points:{get:ExpressionPropertyInterface(oe.pt)},outerRadius:{get:ExpressionPropertyInterface(oe.or)},outerRoundness:{get:ExpressionPropertyInterface(oe.os)},innerRadius:{get:ExpressionPropertyInterface(oe.ir)},innerRoundness:{get:ExpressionPropertyInterface(oe.is)},_name:{value:N.nm}}),k.mn=N.mn,k}function T(N,L,W){function k(le){return N.p.ix===le?k.position:N.r.ix===le?k.roundness:N.s.ix===le||"Size"===le||"ADBE Vector Rect Size"===le?k.size:null}var K=propertyGroupFactory(k,W),oe="tm"===L.sh.ty?L.sh.prop:L.sh;return k.propertyIndex=N.ix,oe.p.setGroupProperty(PropertyInterface("Position",K)),oe.s.setGroupProperty(PropertyInterface("Size",K)),oe.r.setGroupProperty(PropertyInterface("Rotation",K)),Object.defineProperties(k,{position:{get:ExpressionPropertyInterface(oe.p)},roundness:{get:ExpressionPropertyInterface(oe.r)},size:{get:ExpressionPropertyInterface(oe.s)},_name:{value:N.nm}}),k.mn=N.mn,k}function B(N,L,W){function k(le){return N.r.ix===le||"Round Corners 1"===le?k.radius:null}var K=propertyGroupFactory(k,W),oe=L;return k.propertyIndex=N.ix,oe.rd.setGroupProperty(PropertyInterface("Radius",K)),Object.defineProperties(k,{radius:{get:ExpressionPropertyInterface(oe.rd)},_name:{value:N.nm}}),k.mn=N.mn,k}function R(N,L,W){function k(le){return N.c.ix===le||"Copies"===le?k.copies:N.o.ix===le||"Offset"===le?k.offset:null}var K=propertyGroupFactory(k,W),oe=L;return k.propertyIndex=N.ix,oe.c.setGroupProperty(PropertyInterface("Copies",K)),oe.o.setGroupProperty(PropertyInterface("Offset",K)),Object.defineProperties(k,{copies:{get:ExpressionPropertyInterface(oe.c)},offset:{get:ExpressionPropertyInterface(oe.o)},_name:{value:N.nm}}),k.mn=N.mn,k}return function(N,L,W){var k;function K(oe){if("number"==typeof oe)return 0===(oe=void 0===oe?1:oe)?W:k[oe-1];for(var le=0,we=k.length;le<we;){if(k[le]._name===oe)return k[le];le+=1}return null}return K.propertyGroup=propertyGroupFactory(K,function(){return W}),k=u(N,L,K.propertyGroup),K.numProperties=k.length,K._name="Contents",K}}(),TextExpressionInterface=function(u){var f,m;function _(w){return"ADBE Text Document"===w?_.sourceText:null}return Object.defineProperty(_,"sourceText",{get:function(){u.textProperty.getValue();var w=u.textProperty.currentData.t;return w!==f&&(u.textProperty.currentData.t=f,(m=new String(w)).value=w||new String(w)),m}}),_},getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(u){return blendModeEnums[u]||""}),blendModeEnums;function SliderEffect(u,f,m){this.p=PropertyFactory.getProp(f,u.v,0,0,m)}function AngleEffect(u,f,m){this.p=PropertyFactory.getProp(f,u.v,0,0,m)}function ColorEffect(u,f,m){this.p=PropertyFactory.getProp(f,u.v,1,0,m)}function PointEffect(u,f,m){this.p=PropertyFactory.getProp(f,u.v,1,0,m)}function LayerIndexEffect(u,f,m){this.p=PropertyFactory.getProp(f,u.v,0,0,m)}function MaskIndexEffect(u,f,m){this.p=PropertyFactory.getProp(f,u.v,0,0,m)}function CheckboxEffect(u,f,m){this.p=PropertyFactory.getProp(f,u.v,0,0,m)}function NoValueEffect(){this.p={}}function EffectsManager(u,f){var m,_=u.ef||[];this.effectElements=[];var w,E=_.length;for(m=0;m<E;m+=1)w=new GroupEffect(_[m],f),this.effectElements.push(w)}function GroupEffect(u,f){this.init(u,f)}function BaseElement(){}function FrameElement(){}function _typeof$2(u){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof$2(u)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(u,f){var m;this.data=u,this.effectElements=[],this.initDynamicPropertyContainer(f);var _,w=this.data.ef.length,E=this.data.ef;for(m=0;m<w;m+=1){switch(_=null,E[m].ty){case 0:_=new SliderEffect(E[m],f,this);break;case 1:_=new AngleEffect(E[m],f,this);break;case 2:_=new ColorEffect(E[m],f,this);break;case 3:_=new PointEffect(E[m],f,this);break;case 4:case 7:_=new CheckboxEffect(E[m],f,this);break;case 10:_=new LayerIndexEffect(E[m],f,this);break;case 11:_=new MaskIndexEffect(E[m],f,this);break;case 5:_=new EffectsManager(E[m],f,this);break;default:_=new NoValueEffect(E[m],f,this)}_&&this.effectElements.push(_)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var u=0,f=this.data.masksProperties.length;u<f;){if("n"!==this.data.masksProperties[u].mode&&!1!==this.data.masksProperties[u].cl)return!0;u+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var u=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(u),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var u=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=u},initBaseData:function(u,f,m){this.globalData=f,this.comp=m,this.data=u,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(u,f){var m,_=this.dynamicProperties.length;for(m=0;m<_;m+=1)(f||this._isParent&&"transform"===this.dynamicProperties[m].propType)&&(this.dynamicProperties[m].getValue(),this.dynamicProperties[m]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(u){-1===this.dynamicProperties.indexOf(u)&&this.dynamicProperties.push(u)}};var FootageInterface=(dataInterfaceFactory=function(u){function f(m){return"Outline"===m?f.outlineInterface():null}return f._name="Outline",f.outlineInterface=function(m){var _="",w=m.getFootageData();function E(G){if(w[G])return _=G,"object"===_typeof$2(w=w[G])?E:w;var F=G.indexOf(_);if(-1!==F){var U=parseInt(G.substr(F+_.length),10);return"object"===_typeof$2(w=w[U])?E:w}return""}return function(){return _="",w=m.getFootageData(),E}}(u),f},function(u){function f(m){return"Data"===m?f.dataInterface:null}return f._name="Data",f.dataInterface=dataInterfaceFactory(u),f}),dataInterfaceFactory;function FootageElement(u,f,m){this.initFrame(),this.initRenderable(),this.assetData=f.getAssetData(u.refId),this.footageData=f.imageLoader.getAsset(this.assetData),this.initBaseData(u,f,m)}function AudioElement(u,f,m){this.initFrame(),this.initRenderable(),this.assetData=f.getAssetData(u.refId),this.initBaseData(u,f,m),this._isPlaying=!1,this._canPlay=!1;var _=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(_),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=u.tm?PropertyFactory.getProp(this,u.tm,0,f.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,u.au&&u.au.lv?u.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(u,f,m){this.data=u,this.element=f,this.globalData=m,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var _,w,E=this.globalData.defs,G=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(G),this.solidPath="";var F,U,X,T,B,R,N=this.masksProperties,L=0,W=[],k=createElementID(),K="clipPath",oe="clip-path";for(_=0;_<G;_+=1)if(("a"!==N[_].mode&&"n"!==N[_].mode||N[_].inv||100!==N[_].o.k||N[_].o.x)&&(K="mask",oe="mask"),"s"!==N[_].mode&&"i"!==N[_].mode||0!==L?X=null:((X=createNS("rect")).setAttribute("fill","#ffffff"),X.setAttribute("width",this.element.comp.data.w||0),X.setAttribute("height",this.element.comp.data.h||0),W.push(X)),w=createNS("path"),"n"===N[_].mode)this.viewData[_]={op:PropertyFactory.getProp(this.element,N[_].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,N[_],3),elem:w,lastPath:""},E.appendChild(w);else{var le;if(L+=1,w.setAttribute("fill","s"===N[_].mode?"#000000":"#ffffff"),w.setAttribute("clip-rule","nonzero"),0!==N[_].x.k?(K="mask",oe="mask",R=PropertyFactory.getProp(this.element,N[_].x,0,null,this.element),le=createElementID(),(T=createNS("filter")).setAttribute("id",le),(B=createNS("feMorphology")).setAttribute("operator","erode"),B.setAttribute("in","SourceGraphic"),B.setAttribute("radius","0"),T.appendChild(B),E.appendChild(T),w.setAttribute("stroke","s"===N[_].mode?"#000000":"#ffffff")):(B=null,R=null),this.storedData[_]={elem:w,x:R,expan:B,lastPath:"",lastOperator:"",filterId:le,lastRadius:0},"i"===N[_].mode){U=W.length;var we=createNS("g");for(F=0;F<U;F+=1)we.appendChild(W[F]);var Re=createNS("mask");Re.setAttribute("mask-type","alpha"),Re.setAttribute("id",k+"_"+L),Re.appendChild(w),E.appendChild(Re),we.setAttribute("mask","url("+getLocationHref()+"#"+k+"_"+L+")"),W.length=0,W.push(we)}else W.push(w);N[_].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[_]={elem:w,lastPath:"",op:PropertyFactory.getProp(this.element,N[_].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,N[_],3),invRect:X},this.viewData[_].prop.k||this.drawPath(N[_],this.viewData[_].prop.v,this.viewData[_])}for(this.maskElement=createNS(K),G=W.length,_=0;_<G;_+=1)this.maskElement.appendChild(W[_]);L>0&&(this.maskElement.setAttribute("id",k),this.element.maskedElement.setAttribute(oe,"url("+getLocationHref()+"#"+k+")"),E.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(u){this.prepareRenderableFrame(u,!0),this.prepareProperties(u,!0),this._currentTime=this.tm._placeholder?u/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var m=this._volume*this._volumeMultiplier;this._previousVolume!==m&&(this._previousVolume=m,this.audio.volume(m))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(u){this.audio.rate(u)},AudioElement.prototype.volume=function(u){this._volumeMultiplier=u,this._previousVolume=u*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(u){var f,m,_=this.layers.length;for(this.completeLayers=!0,f=_-1;f>=0;f-=1)this.elements[f]||(m=this.layers[f]).ip-m.st<=u-this.layers[f].st&&m.op-m.st>u-this.layers[f].st&&this.buildItem(f),this.completeLayers=!!this.elements[f]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(u){switch(u.ty){case 2:return this.createImage(u);case 0:return this.createComp(u);case 1:return this.createSolid(u);case 3:default:return this.createNull(u);case 4:return this.createShape(u);case 5:return this.createText(u);case 6:return this.createAudio(u);case 13:return this.createCamera(u);case 15:return this.createFootage(u)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(u){return new AudioElement(u,this.globalData,this)},BaseRenderer.prototype.createFootage=function(u){return new FootageElement(u,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var u,f=this.layers.length;for(u=0;u<f;u+=1)this.buildItem(u);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(u){var f;this.completeLayers=!1;var m,_=u.length,w=this.layers.length;for(f=0;f<_;f+=1)for(m=0;m<w;){if(this.layers[m].id===u[f].id){this.layers[m]=u[f];break}m+=1}},BaseRenderer.prototype.setProjectInterface=function(u){this.globalData.projectInterface=u},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(u,f,m){for(var _=this.elements,w=this.layers,E=0,G=w.length;E<G;)w[E].ind==f&&(_[E]&&!0!==_[E]?(m.push(_[E]),_[E].setAsParent(),void 0!==w[E].parent?this.buildElementParenting(u,w[E].parent,m):u.setHierarchy(m)):(this.buildItem(E),this.addPendingElement(u))),E+=1},BaseRenderer.prototype.addPendingElement=function(u){this.pendingElements.push(u)},BaseRenderer.prototype.searchExtraCompositions=function(u){var f,m=u.length;for(f=0;f<m;f+=1)if(u[f].xt){var _=this.createComp(u[f]);_.initExpressions(),this.globalData.projectInterface.registerComposition(_)}},BaseRenderer.prototype.getElementByPath=function(u){var f,m=u.shift();if("number"==typeof m)f=this.elements[m];else{var _,w=this.elements.length;for(_=0;_<w;_+=1)if(this.elements[_].data.nm===m){f=this.elements[_];break}}return 0===u.length?f:f.getElementByPath(u)},BaseRenderer.prototype.setupGlobalData=function(u,f){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(u.chars),this.globalData.fontManager.addFonts(u.fonts,f),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=u.fr,this.globalData.nm=u.nm,this.globalData.compSize={w:u.w,h:u.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var u,f=this.finalTransform.mat,m=0,_=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;m<_;){if(this.hierarchy[m].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}m+=1}if(this.finalTransform._matMdf)for(f.cloneFromProps(u=this.finalTransform.mProp.v.props),m=0;m<_;m+=1)f.transform((u=this.hierarchy[m].finalTransform.mProp.v.props)[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])}},globalToLocal:function(u){var f=[];f.push(this.finalTransform);for(var m,_=!0,w=this.comp;_;)w.finalTransform?(w.data.hasMask&&f.splice(0,0,w.finalTransform),w=w.comp):_=!1;var E,G=f.length;for(m=0;m<G;m+=1)E=f[m].mat.applyToPointArray(0,0,0),u=[u[0]-E[0],u[1]-E[1],0];return u},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(u){return this.viewData[u].prop},MaskElement.prototype.renderFrame=function(u){var f,m=this.element.finalTransform.mat,_=this.masksProperties.length;for(f=0;f<_;f+=1)if((this.viewData[f].prop._mdf||u)&&this.drawPath(this.masksProperties[f],this.viewData[f].prop.v,this.viewData[f]),(this.viewData[f].op._mdf||u)&&this.viewData[f].elem.setAttribute("fill-opacity",this.viewData[f].op.v),"n"!==this.masksProperties[f].mode&&(this.viewData[f].invRect&&(this.element.finalTransform.mProp._mdf||u)&&this.viewData[f].invRect.setAttribute("transform",m.getInverseMatrix().to2dCSS()),this.storedData[f].x&&(this.storedData[f].x._mdf||u))){var w=this.storedData[f].expan;this.storedData[f].x.v<0?("erode"!==this.storedData[f].lastOperator&&(this.storedData[f].lastOperator="erode",this.storedData[f].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[f].filterId+")")),w.setAttribute("radius",-this.storedData[f].x.v)):("dilate"!==this.storedData[f].lastOperator&&(this.storedData[f].lastOperator="dilate",this.storedData[f].elem.setAttribute("filter",null)),this.storedData[f].elem.setAttribute("stroke-width",2*this.storedData[f].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var u="M0,0 ";return u+=" h"+this.globalData.compSize.w,u+=" v"+this.globalData.compSize.h,(u+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(u,f,m){var _,w,E=" M"+f.v[0][0]+","+f.v[0][1];for(w=f._length,_=1;_<w;_+=1)E+=" C"+f.o[_-1][0]+","+f.o[_-1][1]+" "+f.i[_][0]+","+f.i[_][1]+" "+f.v[_][0]+","+f.v[_][1];if(f.c&&w>1&&(E+=" C"+f.o[_-1][0]+","+f.o[_-1][1]+" "+f.i[0][0]+","+f.i[0][1]+" "+f.v[0][0]+","+f.v[0][1]),m.lastPath!==E){var G="";m.elem&&(f.c&&(G=u.inv?this.solidPath+E:E),m.elem.setAttribute("d",G)),m.lastPath=E}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var u={createFilter:function(f,m){var _=createNS("filter");return _.setAttribute("id",f),!0!==m&&(_.setAttribute("filterUnits","objectBoundingBox"),_.setAttribute("x","0%"),_.setAttribute("y","0%"),_.setAttribute("width","100%"),_.setAttribute("height","100%")),_},createAlphaToLuminanceFilter:function(){var f=createNS("feColorMatrix");return f.setAttribute("type","matrix"),f.setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),f}};return u}(),featureSupport=function(){var u={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(u.maskType=!1),u}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(u){var f,m,_="SourceGraphic",w=u.data.ef?u.data.ef.length:0,E=createElementID(),G=filtersFactory.createFilter(E,!0),F=0;for(this.filters=[],f=0;f<w;f+=1){m=null;var U=u.data.ef[f].ty;registeredEffects[U]&&(m=new registeredEffects[U].effect(G,u.effectsManager.effectElements[f],u,idPrefix+F,_),_=idPrefix+F,registeredEffects[U].countsAsEffect&&(F+=1)),m&&this.filters.push(m)}F&&(u.globalData.defs.appendChild(G),u.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+E+")")),this.filters.length&&u.addRenderableComponent(this)}function registerEffect(u,f,m){registeredEffects[u]={effect:f,countsAsEffect:m}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(u,f,m){this.assetData=f.getAssetData(u.refId),this.initElement(u,f,m),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(u,f){this.elem=u,this.pos=f}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(u){var f,m=this.filters.length;for(f=0;f<m;f+=1)this.filters[f].renderFrame(u)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var u,f,m,_=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var w=createNS("mask");w.setAttribute("id",this.layerId),w.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),w.appendChild(this.layerElement),_=w,this.globalData.defs.appendChild(w),featureSupport.maskType||1!=this.data.td||(w.setAttribute("mask-type","luminance"),u=createElementID(),f=filtersFactory.createFilter(u),this.globalData.defs.appendChild(f),f.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(m=createNS("g")).appendChild(this.layerElement),_=m,w.appendChild(m),m.setAttribute("filter","url("+getLocationHref()+"#"+u+")"))}else if(2==this.data.td){var E=createNS("mask");E.setAttribute("id",this.layerId),E.setAttribute("mask-type","alpha");var G=createNS("g");E.appendChild(G),u=createElementID(),f=filtersFactory.createFilter(u);var F=createNS("feComponentTransfer");F.setAttribute("in","SourceGraphic"),f.appendChild(F);var U=createNS("feFuncA");U.setAttribute("type","table"),U.setAttribute("tableValues","1.0 0.0"),F.appendChild(U),this.globalData.defs.appendChild(f);var X=createNS("rect");X.setAttribute("width",this.comp.data.w),X.setAttribute("height",this.comp.data.h),X.setAttribute("x","0"),X.setAttribute("y","0"),X.setAttribute("fill","#ffffff"),X.setAttribute("opacity","0"),G.setAttribute("filter","url("+getLocationHref()+"#"+u+")"),G.appendChild(X),G.appendChild(this.layerElement),_=G,featureSupport.maskType||(E.setAttribute("mask-type","luminance"),f.appendChild(filtersFactory.createAlphaToLuminanceFilter()),m=createNS("g"),G.appendChild(X),m.appendChild(this.layerElement),_=m,G.appendChild(m)),this.globalData.defs.appendChild(E)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),_=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var T=createNS("clipPath"),B=createNS("path");B.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var R=createElementID();if(T.setAttribute("id",R),T.appendChild(B),this.globalData.defs.appendChild(T),this.checkMasks()){var N=createNS("g");N.setAttribute("clip-path","url("+getLocationHref()+"#"+R+")"),N.appendChild(this.layerElement),this.transformedElement=N,_?_.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+R+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(u){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+u+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(u){this.hierarchy=u},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(u,f,m){this.initFrame(),this.initBaseData(u,f,m),this.initTransform(u,f,m),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(u){this._mdf=!1,this.prepareRenderableFrame(u),this.prepareProperties(u,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var u=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",u),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(u){var f,m=this.shapeModifiers.length;for(f=0;f<m;f+=1)this.shapeModifiers[f].addShape(u)},isShapeInAnimatedModifiers:function(u){for(var f=this.shapeModifiers.length;0<f;)if(this.shapeModifiers[0].isAnimatedWithShape(u))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var u,f=this.shapes.length;for(u=0;u<f;u+=1)this.shapes[u].sh.reset();for(u=(f=this.shapeModifiers.length)-1;u>=0&&!this.shapeModifiers[u].processShapes(this._isFirstFrame);u-=1);}},searchProcessedElement:function(u){for(var f=this.processedElements,m=0,_=f.length;m<_;){if(f[m].elem===u)return f[m].pos;m+=1}return 0},addProcessedElement:function(u,f){for(var m=this.processedElements,_=m.length;_;)if(m[_-=1].elem===u)return void(m[_].pos=f);m.push(new ProcessedElement(u,f))},prepareFrame:function(u){this.prepareRenderableFrame(u),this.prepareProperties(u,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(u,f,m){this.caches=[],this.styles=[],this.transformers=u,this.lStr="",this.sh=m,this.lvl=f,this._isAnimated=!!m.k;for(var _=0,w=u.length;_<w;){if(u[_].mProps.dynamicProperties.length){this._isAnimated=!0;break}_+=1}}function SVGStyleData(u,f){this.data=u,this.type=u.ty,this.d="",this.lvl=f,this._mdf=!1,this.closed=!0===u.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(u,f,m,_){var w;this.elem=u,this.frameId=-1,this.dataProps=createSizedArray(f.length),this.renderer=m,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",f.length?f.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(_);var E,G=f.length||0;for(w=0;w<G;w+=1)E=PropertyFactory.getProp(u,f[w].v,0,0,this),this.k=E.k||this.k,this.dataProps[w]={n:f[w].n,p:E};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(u,f,m){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(u,f.o,0,.01,this),this.w=PropertyFactory.getProp(u,f.w,0,null,this),this.d=new DashProperty(u,f.d||{},"svg",this),this.c=PropertyFactory.getProp(u,f.c,1,255,this),this.style=m,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(u,f,m){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(u,f.o,0,.01,this),this.c=PropertyFactory.getProp(u,f.c,1,255,this),this.style=m}function SVGNoStyleData(u,f,m){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.style=m}function GradientProperty(u,f,m){this.data=f,this.c=createTypedArray("uint8c",4*f.p);var _=f.k.k[0].s?f.k.k[0].s.length-4*f.p:f.k.k.length-4*f.p;this.o=createTypedArray("float32",_),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=_,this.initDynamicPropertyContainer(m),this.prop=PropertyFactory.getProp(u,f.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(u,f,m){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.initGradientData(u,f,m)}function SVGGradientStrokeStyleData(u,f,m){this.initDynamicPropertyContainer(u),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(u,f.w,0,null,this),this.d=new DashProperty(u,f.d||{},"svg",this),this.initGradientData(u,f,m),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(u,f,m){this.transform={mProps:u,op:f,container:m},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(u){if((this.elem.globalData.frameId!==this.frameId||u)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||u,this._mdf)){var f=0,m=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),f=0;f<m;f+=1)"o"!==this.dataProps[f].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[f].p.v:this.dashArray[f]=this.dataProps[f].p.v:this.dashoffset[0]=this.dataProps[f].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(u,f){for(var m=0,_=this.o.length/2;m<_;){if(Math.abs(u[4*m]-u[4*f+2*m])>.01)return!1;m+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var u=0,f=this.data.k.k.length;u<f;){if(!this.comparePoints(this.data.k.k[u].s,this.data.p))return!1;u+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(u){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||u){var f,m,_,w=4*this.data.p;for(f=0;f<w;f+=1)m=f%4==0?100:255,_=Math.round(this.prop.v[f]*m),this.c[f]!==_&&(this.c[f]=_,this._cmdf=!u);if(this.o.length)for(w=this.prop.v.length,f=4*this.data.p;f<w;f+=1)m=f%2==0?100:1,_=f%2==0?Math.round(100*this.prop.v[f]):this.prop.v[f],this.o[f-4*this.data.p]!==_&&(this.o[f-4*this.data.p]=_,this._omdf=!u);this._mdf=!u}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(u,f,m){this.o=PropertyFactory.getProp(u,f.o,0,.01,this),this.s=PropertyFactory.getProp(u,f.s,1,null,this),this.e=PropertyFactory.getProp(u,f.e,1,null,this),this.h=PropertyFactory.getProp(u,f.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(u,f.a||{k:0},0,degToRads,this),this.g=new GradientProperty(u,f.g,this),this.style=m,this.stops=[],this.setGradientData(m.pElem,f),this.setGradientOpacity(f,m),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(u,f){var m=createElementID(),_=createNS(1===f.t?"linearGradient":"radialGradient");_.setAttribute("id",m),_.setAttribute("spreadMethod","pad"),_.setAttribute("gradientUnits","userSpaceOnUse");var w,E,G,F=[];for(G=4*f.g.p,E=0;E<G;E+=4)w=createNS("stop"),_.appendChild(w),F.push(w);u.setAttribute("gf"===f.ty?"fill":"stroke","url("+getLocationHref()+"#"+m+")"),this.gf=_,this.cst=F},SVGGradientFillStyleData.prototype.setGradientOpacity=function(u,f){if(this.g._hasOpacity&&!this.g._collapsable){var m,_,w,E=createNS("mask"),G=createNS("path");E.appendChild(G);var F=createElementID(),U=createElementID();E.setAttribute("id",U);var X=createNS(1===u.t?"linearGradient":"radialGradient");X.setAttribute("id",F),X.setAttribute("spreadMethod","pad"),X.setAttribute("gradientUnits","userSpaceOnUse"),w=u.g.k.k[0].s?u.g.k.k[0].s.length:u.g.k.k.length;var T=this.stops;for(_=4*u.g.p;_<w;_+=2)(m=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),X.appendChild(m),T.push(m);G.setAttribute("gf"===u.ty?"fill":"stroke","url("+getLocationHref()+"#"+F+")"),"gs"===u.ty&&(G.setAttribute("stroke-linecap",lineCapEnum[u.lc||2]),G.setAttribute("stroke-linejoin",lineJoinEnum[u.lj||2]),1===u.lj&&G.setAttribute("stroke-miterlimit",u.ml)),this.of=X,this.ms=E,this.ost=T,this.maskId=U,f.msElem=G}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(u,f,m,_){if(0===f)return"";var w,E=u.o,G=u.i,F=u.v,U=" M"+_.applyToPointStringified(F[0][0],F[0][1]);for(w=1;w<f;w+=1)U+=" C"+_.applyToPointStringified(E[w-1][0],E[w-1][1])+" "+_.applyToPointStringified(G[w][0],G[w][1])+" "+_.applyToPointStringified(F[w][0],F[w][1]);return m&&f&&(U+=" C"+_.applyToPointStringified(E[w-1][0],E[w-1][1])+" "+_.applyToPointStringified(G[0][0],G[0][1])+" "+_.applyToPointStringified(F[0][0],F[0][1]),U+="z"),U},SVGElementsRenderer=function(){var u=new Matrix,f=new Matrix;function m(X,T,B){(B||T.transform.op._mdf)&&T.transform.container.setAttribute("opacity",T.transform.op.v),(B||T.transform.mProps._mdf)&&T.transform.container.setAttribute("transform",T.transform.mProps.v.to2dCSS())}function _(){}function w(X,T,B){var R,N,L,W,k,K,oe,le,we,Re,Ze,Ge=T.styles.length,Ke=T.lvl;for(K=0;K<Ge;K+=1){if(W=T.sh._mdf||B,T.styles[K].lvl<Ke){for(le=f.reset(),Re=Ke-T.styles[K].lvl,Ze=T.transformers.length-1;!W&&Re>0;)W=T.transformers[Ze].mProps._mdf||W,Re-=1,Ze-=1;if(W)for(Re=Ke-T.styles[K].lvl,Ze=T.transformers.length-1;Re>0;)le.transform((we=T.transformers[Ze].mProps.v.props)[0],we[1],we[2],we[3],we[4],we[5],we[6],we[7],we[8],we[9],we[10],we[11],we[12],we[13],we[14],we[15]),Re-=1,Ze-=1}else le=u;if(N=(oe=T.sh.paths)._length,W){for(L="",R=0;R<N;R+=1)(k=oe.shapes[R])&&k._length&&(L+=buildShapeString(k,k._length,k.c,le));T.caches[K]=L}else L=T.caches[K];T.styles[K].d+=!0===X.hd?"":L,T.styles[K]._mdf=W||T.styles[K]._mdf}}function E(X,T,B){var R=T.style;(T.c._mdf||B)&&R.pElem.setAttribute("fill","rgb("+bmFloor(T.c.v[0])+","+bmFloor(T.c.v[1])+","+bmFloor(T.c.v[2])+")"),(T.o._mdf||B)&&R.pElem.setAttribute("fill-opacity",T.o.v)}function G(X,T,B){F(X,T,B),U(0,T,B)}function F(X,T,B){var R,N,L,W,k,K=T.gf,oe=T.g._hasOpacity,le=T.s.v,we=T.e.v;if((T.o._mdf||B)&&T.style.pElem.setAttribute("gf"===X.ty?"fill-opacity":"stroke-opacity",T.o.v),T.s._mdf||B){var Ze=1===X.t?"x1":"cx",Ge="x1"===Ze?"y1":"cy";K.setAttribute(Ze,le[0]),K.setAttribute(Ge,le[1]),oe&&!T.g._collapsable&&(T.of.setAttribute(Ze,le[0]),T.of.setAttribute(Ge,le[1]))}if(T.g._cmdf||B){var Ke=T.g.c;for(L=(R=T.cst).length,N=0;N<L;N+=1)(W=R[N]).setAttribute("offset",Ke[4*N]+"%"),W.setAttribute("stop-color","rgb("+Ke[4*N+1]+","+Ke[4*N+2]+","+Ke[4*N+3]+")")}if(oe&&(T.g._omdf||B)){var yt=T.g.o;for(L=(R=T.g._collapsable?T.cst:T.ost).length,N=0;N<L;N+=1)W=R[N],T.g._collapsable||W.setAttribute("offset",yt[2*N]+"%"),W.setAttribute("stop-opacity",yt[2*N+1])}if(1===X.t)(T.e._mdf||B)&&(K.setAttribute("x2",we[0]),K.setAttribute("y2",we[1]),oe&&!T.g._collapsable&&(T.of.setAttribute("x2",we[0]),T.of.setAttribute("y2",we[1])));else if((T.s._mdf||T.e._mdf||B)&&(k=Math.sqrt(Math.pow(le[0]-we[0],2)+Math.pow(le[1]-we[1],2)),K.setAttribute("r",k),oe&&!T.g._collapsable&&T.of.setAttribute("r",k)),T.e._mdf||T.h._mdf||T.a._mdf||B){k||(k=Math.sqrt(Math.pow(le[0]-we[0],2)+Math.pow(le[1]-we[1],2)));var j=Math.atan2(we[1]-le[1],we[0]-le[0]),Te=T.h.v;Te>=1?Te=.99:Te<=-1&&(Te=-.99);var pt=k*Te,ct=Math.cos(j+T.a.v)*pt+le[0],Mt=Math.sin(j+T.a.v)*pt+le[1];K.setAttribute("fx",ct),K.setAttribute("fy",Mt),oe&&!T.g._collapsable&&(T.of.setAttribute("fx",ct),T.of.setAttribute("fy",Mt))}}function U(X,T,B){var R=T.style,N=T.d;N&&(N._mdf||B)&&N.dashStr&&(R.pElem.setAttribute("stroke-dasharray",N.dashStr),R.pElem.setAttribute("stroke-dashoffset",N.dashoffset[0])),T.c&&(T.c._mdf||B)&&R.pElem.setAttribute("stroke","rgb("+bmFloor(T.c.v[0])+","+bmFloor(T.c.v[1])+","+bmFloor(T.c.v[2])+")"),(T.o._mdf||B)&&R.pElem.setAttribute("stroke-opacity",T.o.v),(T.w._mdf||B)&&(R.pElem.setAttribute("stroke-width",T.w.v),R.msElem&&R.msElem.setAttribute("stroke-width",T.w.v))}return{createRenderFunction:function(X){switch(X.ty){case"fl":return E;case"gf":return F;case"gs":return G;case"st":return U;case"sh":case"el":case"rc":case"sr":return w;case"tr":return m;case"no":return _;default:return null}}}}();function SVGShapeElement(u,f,m){this.shapes=[],this.shapesData=u.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(u,f,m),this.prevViewData=[]}function LetterProps(u,f,m,_,w,E){this.o=u,this.sw=f,this.sc=m,this.fc=_,this.m=w,this.p=E,this._mdf={o:!0,sw:!!f,sc:!!m,fc:!!_,m:!0,p:!0}}function TextProperty(u,f){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=f,this.elem=u,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var u,f,m,_,w=this.shapes.length,E=this.stylesList.length,G=[],F=!1;for(m=0;m<E;m+=1){for(_=this.stylesList[m],F=!1,G.length=0,u=0;u<w;u+=1)-1!==(f=this.shapes[u]).styles.indexOf(_)&&(G.push(f),F=f._isAnimated||F);G.length>1&&F&&this.setShapesAsAnimated(G)}},SVGShapeElement.prototype.setShapesAsAnimated=function(u){var f,m=u.length;for(f=0;f<m;f+=1)u[f].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(u,f){var m,_=new SVGStyleData(u,f),w=_.pElem;return"st"===u.ty?m=new SVGStrokeStyleData(this,u,_):"fl"===u.ty?m=new SVGFillStyleData(this,u,_):"gf"===u.ty||"gs"===u.ty?(m=new("gf"===u.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,u,_),this.globalData.defs.appendChild(m.gf),m.maskId&&(this.globalData.defs.appendChild(m.ms),this.globalData.defs.appendChild(m.of),w.setAttribute("mask","url("+getLocationHref()+"#"+m.maskId+")"))):"no"===u.ty&&(m=new SVGNoStyleData(this,u,_)),"st"!==u.ty&&"gs"!==u.ty||(w.setAttribute("stroke-linecap",lineCapEnum[u.lc||2]),w.setAttribute("stroke-linejoin",lineJoinEnum[u.lj||2]),w.setAttribute("fill-opacity","0"),1===u.lj&&w.setAttribute("stroke-miterlimit",u.ml)),2===u.r&&w.setAttribute("fill-rule","evenodd"),u.ln&&w.setAttribute("id",u.ln),u.cl&&w.setAttribute("class",u.cl),u.bm&&(w.style["mix-blend-mode"]=getBlendMode(u.bm)),this.stylesList.push(_),this.addToAnimatedContents(u,m),m},SVGShapeElement.prototype.createGroupElement=function(u){var f=new ShapeGroupData;return u.ln&&f.gr.setAttribute("id",u.ln),u.cl&&f.gr.setAttribute("class",u.cl),u.bm&&(f.gr.style["mix-blend-mode"]=getBlendMode(u.bm)),f},SVGShapeElement.prototype.createTransformElement=function(u,f){var m=TransformPropertyFactory.getTransformProperty(this,u,this),_=new SVGTransformData(m,m.o,f);return this.addToAnimatedContents(u,_),_},SVGShapeElement.prototype.createShapeElement=function(u,f,m){var _=4;"rc"===u.ty?_=5:"el"===u.ty?_=6:"sr"===u.ty&&(_=7);var w=new SVGShapeData(f,m,ShapePropertyFactory.getShapeProp(this,u,_,this));return this.shapes.push(w),this.addShapeToModifiers(w),this.addToAnimatedContents(u,w),w},SVGShapeElement.prototype.addToAnimatedContents=function(u,f){for(var m=0,_=this.animatedContents.length;m<_;){if(this.animatedContents[m].element===f)return;m+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(u),element:f,data:u})},SVGShapeElement.prototype.setElementStyles=function(u){var f,m=u.styles,_=this.stylesList.length;for(f=0;f<_;f+=1)this.stylesList[f].closed||m.push(this.stylesList[f])},SVGShapeElement.prototype.reloadShapes=function(){var u;this._isFirstFrame=!0;var f=this.itemsData.length;for(u=0;u<f;u+=1)this.prevViewData[u]=this.itemsData[u];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),f=this.dynamicProperties.length,u=0;u<f;u+=1)this.dynamicProperties[u].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(u,f,m,_,w,E,G){var F,U,X,B,R,N=[].concat(E),L=u.length-1,W=[],k=[];for(F=L;F>=0;F-=1){if((R=this.searchProcessedElement(u[F]))?f[F]=m[R-1]:u[F]._render=G,"fl"===u[F].ty||"st"===u[F].ty||"gf"===u[F].ty||"gs"===u[F].ty||"no"===u[F].ty)R?f[F].style.closed=!1:f[F]=this.createStyleElement(u[F],w),u[F]._render&&f[F].style.pElem.parentNode!==_&&_.appendChild(f[F].style.pElem),W.push(f[F].style);else if("gr"===u[F].ty){if(R)for(X=f[F].it.length,U=0;U<X;U+=1)f[F].prevViewData[U]=f[F].it[U];else f[F]=this.createGroupElement(u[F]);this.searchShapes(u[F].it,f[F].it,f[F].prevViewData,f[F].gr,w+1,N,G),u[F]._render&&f[F].gr.parentNode!==_&&_.appendChild(f[F].gr)}else"tr"===u[F].ty?(R||(f[F]=this.createTransformElement(u[F],_)),N.push(f[F].transform)):"sh"===u[F].ty||"rc"===u[F].ty||"el"===u[F].ty||"sr"===u[F].ty?(R||(f[F]=this.createShapeElement(u[F],N,w)),this.setElementStyles(f[F])):"tm"===u[F].ty||"rd"===u[F].ty||"ms"===u[F].ty||"pb"===u[F].ty?(R?(B=f[F]).closed=!1:((B=ShapeModifiers.getModifier(u[F].ty)).init(this,u[F]),f[F]=B,this.shapeModifiers.push(B)),k.push(B)):"rp"===u[F].ty&&(R?(B=f[F]).closed=!0:(B=ShapeModifiers.getModifier(u[F].ty),f[F]=B,B.init(this,u,F,f),this.shapeModifiers.push(B),G=!1),k.push(B));this.addProcessedElement(u[F],F+1)}for(L=W.length,F=0;F<L;F+=1)W[F].closed=!0;for(L=k.length,F=0;F<L;F+=1)k[F].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var u;this.renderModifiers();var f=this.stylesList.length;for(u=0;u<f;u+=1)this.stylesList[u].reset();for(this.renderShape(),u=0;u<f;u+=1)(this.stylesList[u]._mdf||this._isFirstFrame)&&(this.stylesList[u].msElem&&(this.stylesList[u].msElem.setAttribute("d",this.stylesList[u].d),this.stylesList[u].d="M0 0"+this.stylesList[u].d),this.stylesList[u].pElem.setAttribute("d",this.stylesList[u].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var u,f,m=this.animatedContents.length;for(u=0;u<m;u+=1)f=this.animatedContents[u],(this._isFirstFrame||f.element._isAnimated)&&!0!==f.data&&f.fn(f.data,f.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(u,f,m,_,w,E){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var G=!1;return this.o!==u&&(this.o=u,this._mdf.o=!0,G=!0),this.sw!==f&&(this.sw=f,this._mdf.sw=!0,G=!0),this.sc!==m&&(this.sc=m,this._mdf.sc=!0,G=!0),this.fc!==_&&(this.fc=_,this._mdf.fc=!0,G=!0),this.m!==w&&(this.m=w,this._mdf.m=!0,G=!0),!E.length||this.p[0]===E[0]&&this.p[1]===E[1]&&this.p[4]===E[4]&&this.p[5]===E[5]&&this.p[12]===E[12]&&this.p[13]===E[13]||(this.p=E,this._mdf.p=!0,G=!0),G},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(u,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m]);return u},TextProperty.prototype.setCurrentData=function(u){u.__complete||this.completeTextData(u),this.currentData=u,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(u){this.effectsSequence.push(u),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(u){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||u){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var f=this.currentData,m=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var _;this.lock=!0,this._mdf=!1;var w=this.effectsSequence.length,E=u||this.data.d.k[this.keysIndex].s;for(_=0;_<w;_+=1)E=this.effectsSequence[_](m!==this.keysIndex?E:this.currentData,E.t);f!==E&&this.setCurrentData(E),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var u=this.data.d.k,f=this.elem.comp.renderedFrame,m=0,_=u.length;m<=_-1&&!(m===_-1||u[m+1].t>f);)m+=1;return this.keysIndex!==m&&(this.keysIndex=m),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(u){for(var f,m,_=[],w=0,E=u.length,G=!1;w<E;)f=u.charCodeAt(w),FontManager.isCombinedCharacter(f)?_[_.length-1]+=u.charAt(w):f>=55296&&f<=56319?(m=u.charCodeAt(w+1))>=56320&&m<=57343?(G||FontManager.isModifier(f,m)?(_[_.length-1]+=u.substr(w,2),G=!1):_.push(u.substr(w,2)),w+=1):_.push(u.charAt(w)):f>56319?(m=u.charCodeAt(w+1),FontManager.isZeroWidthJoiner(f,m)?(G=!0,_[_.length-1]+=u.substr(w,2),w+=1):_.push(u.charAt(w))):FontManager.isZeroWidthJoiner(f)?(_[_.length-1]+=u.charAt(w),G=!0):_.push(u.charAt(w)),w+=1;return _},TextProperty.prototype.completeTextData=function(u){u.__complete=!0;var f,m,_,w,E,G,F,U=this.elem.globalData.fontManager,X=this.data,T=[],B=0,R=X.m.g,N=0,L=0,W=0,k=[],K=0,oe=0,le=U.getFontByName(u.f),we=0,Re=getFontProperties(le);u.fWeight=Re.weight,u.fStyle=Re.style,u.finalSize=u.s,u.finalText=this.buildFinalText(u.t),m=u.finalText.length,u.finalLineHeight=u.lh;var Ze,Ge=u.tr/1e3*u.finalSize;if(u.sz)for(var Ke,yt,j=!0,Te=u.sz[0],pt=u.sz[1];j;){Ke=0,K=0,m=(yt=this.buildFinalText(u.t)).length,Ge=u.tr/1e3*u.finalSize;var ct=-1;for(f=0;f<m;f+=1)Ze=yt[f].charCodeAt(0),_=!1," "===yt[f]?ct=f:13!==Ze&&3!==Ze||(K=0,_=!0,Ke+=u.finalLineHeight||1.2*u.finalSize),U.chars?(F=U.getCharData(yt[f],le.fStyle,le.fFamily),we=_?0:F.w*u.finalSize/100):we=U.measureText(yt[f],u.f,u.finalSize),K+we>Te&&" "!==yt[f]?(-1===ct?m+=1:f=ct,Ke+=u.finalLineHeight||1.2*u.finalSize,yt.splice(f,ct===f?1:0,"\r"),ct=-1,K=0):(K+=we,K+=Ge);Ke+=le.ascent*u.finalSize/100,this.canResize&&u.finalSize>this.minimumFontSize&&pt<Ke?(u.finalSize-=1,u.finalLineHeight=u.finalSize*u.lh/u.s):(u.finalText=yt,m=u.finalText.length,j=!1)}K=-Ge,we=0;var Mt,qt=0;for(f=0;f<m;f+=1)if(_=!1,13===(Ze=(Mt=u.finalText[f]).charCodeAt(0))||3===Ze?(qt=0,k.push(K),oe=K>oe?K:oe,K=-2*Ge,w="",_=!0,W+=1):w=Mt,U.chars?(F=U.getCharData(Mt,le.fStyle,U.getFontByName(u.f).fFamily),we=_?0:F.w*u.finalSize/100):we=U.measureText(w,u.f,u.finalSize)," "===Mt?qt+=we+Ge:(K+=we+Ge+qt,qt=0),T.push({l:we,an:we,add:N,n:_,anIndexes:[],val:w,line:W,animatorJustifyOffset:0}),2==R){if(N+=we,""===w||" "===w||f===m-1){for(""!==w&&" "!==w||(N-=we);L<=f;)T[L].an=N,T[L].ind=B,T[L].extra=we,L+=1;B+=1,N=0}}else if(3==R){if(N+=we,""===w||f===m-1){for(""===w&&(N-=we);L<=f;)T[L].an=N,T[L].ind=B,T[L].extra=we,L+=1;N=0,B+=1}}else T[B].ind=B,T[B].extra=0,B+=1;if(u.l=T,oe=K>oe?K:oe,k.push(K),u.sz)u.boxWidth=u.sz[0],u.justifyOffset=0;else switch(u.boxWidth=oe,u.j){case 1:u.justifyOffset=-u.boxWidth;break;case 2:u.justifyOffset=-u.boxWidth/2;break;default:u.justifyOffset=0}u.lineWidths=k;var an,vt,ze,mt,Jt=X.a;G=Jt.length;var Dn=[];for(E=0;E<G;E+=1){for((an=Jt[E]).a.sc&&(u.strokeColorAnim=!0),an.a.sw&&(u.strokeWidthAnim=!0),(an.a.fc||an.a.fh||an.a.fs||an.a.fb)&&(u.fillColorAnim=!0),mt=0,ze=an.s.b,f=0;f<m;f+=1)(vt=T[f]).anIndexes[E]=mt,(1==ze&&""!==vt.val||2==ze&&""!==vt.val&&" "!==vt.val||3==ze&&(vt.n||" "==vt.val||f==m-1)||4==ze&&(vt.n||f==m-1))&&(1===an.s.rn&&Dn.push(mt),mt+=1);X.a[E].s.totalChars=mt;var Mn,un=-1;if(1===an.s.rn)for(f=0;f<m;f+=1)un!=(vt=T[f]).anIndexes[E]&&(un=vt.anIndexes[E],Mn=Dn.splice(Math.floor(Math.random()*Dn.length),1)[0]),vt.anIndexes[E]=Mn}u.yOffset=u.finalLineHeight||1.2*u.finalSize,u.ls=u.ls||0,u.ascent=le.ascent*u.finalSize/100},TextProperty.prototype.updateDocumentData=function(u,f){var m=this.copyData({},this.data.d.k[f=void 0===f?this.keysIndex:f].s);m=this.copyData(m,u),this.data.d.k[f].s=m,this.recalculate(f),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(u){var f=this.data.d.k[u].s;f.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(f)},TextProperty.prototype.canResizeFont=function(u){this.canResize=u,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(u){this.minimumFontSize=Math.floor(u)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var u=Math.max,f=Math.min,m=Math.floor;function _(w,E){this._currentTextLength=-1,this.k=!1,this.data=E,this.elem=w,this.comp=w.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(w),this.s=PropertyFactory.getProp(w,E.s||{k:0},0,0,this),this.e="e"in E?PropertyFactory.getProp(w,E.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(w,E.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(w,E.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(w,E.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(w,E.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(w,E.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return _.prototype={getMult:function(w){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var E=0,G=0,F=1,U=1;this.ne.v>0?E=this.ne.v/100:G=-this.ne.v/100,this.xe.v>0?F=1-this.xe.v/100:U=1+this.xe.v/100;var X=BezierFactory.getBezierEasing(E,G,F,U).get,T=0,B=this.finalS,R=this.finalE,N=this.data.sh;if(2===N)T=X(T=R===B?w>=R?1:0:u(0,f(.5/(R-B)+(w-B)/(R-B),1)));else if(3===N)T=X(T=R===B?w>=R?0:1:1-u(0,f(.5/(R-B)+(w-B)/(R-B),1)));else if(4===N)R===B?T=0:(T=u(0,f(.5/(R-B)+(w-B)/(R-B),1)))<.5?T*=2:T=1-2*(T-.5),T=X(T);else if(5===N){if(R===B)T=0;else{var L=R-B,W=-L/2+(w=f(u(0,w+.5-B),R-B)),k=L/2;T=Math.sqrt(1-W*W/(k*k))}T=X(T)}else 6===N?(R===B?T=0:(w=f(u(0,w+.5-B),R-B),T=(1+Math.cos(Math.PI+2*Math.PI*w/(R-B)))/2),T=X(T)):(w>=m(B)&&(T=u(0,f(w-B<0?f(R,1)-(B-w):R-w,1))),T=X(T));if(100!==this.sm.v){var K=.01*this.sm.v;0===K&&(K=1e-8);var oe=.5-.5*K;T<oe?T=0:(T=(T-oe)/K)>1&&(T=1)}return T*this.a.v},getValue:function(w){this.iterateDynamicProperties(),this._mdf=w||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,w&&2===this.data.r&&(this.e.v=this._currentTextLength);var E=2===this.data.r?1:100/this.data.totalChars,G=this.o.v/E,F=this.s.v/E+G,U=this.e.v/E+G;if(F>U){var X=F;F=U,U=X}this.finalS=F,this.finalE=U}},extendPrototype([DynamicPropertyContainer],_),{getTextSelectorProp:function(w,E,G){return new _(w,E,G)}}}();function TextAnimatorDataProperty(u,f,m){var _={propType:!1},w=PropertyFactory.getProp,E=f.a;this.a={r:E.r?w(u,E.r,0,degToRads,m):_,rx:E.rx?w(u,E.rx,0,degToRads,m):_,ry:E.ry?w(u,E.ry,0,degToRads,m):_,sk:E.sk?w(u,E.sk,0,degToRads,m):_,sa:E.sa?w(u,E.sa,0,degToRads,m):_,s:E.s?w(u,E.s,1,.01,m):_,a:E.a?w(u,E.a,1,0,m):_,o:E.o?w(u,E.o,0,.01,m):_,p:E.p?w(u,E.p,1,0,m):_,sw:E.sw?w(u,E.sw,0,0,m):_,sc:E.sc?w(u,E.sc,1,0,m):_,fc:E.fc?w(u,E.fc,1,0,m):_,fh:E.fh?w(u,E.fh,0,0,m):_,fs:E.fs?w(u,E.fs,0,.01,m):_,fb:E.fb?w(u,E.fb,0,.01,m):_,t:E.t?w(u,E.t,0,0,m):_},this.s=TextSelectorProp.getTextSelectorProp(u,f.s,m),this.s.t=f.s.t}function TextAnimatorProperty(u,f,m){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=u,this._renderType=f,this._elem=m,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(m)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var u,m=this._textData.a.length,_=PropertyFactory.getProp;for(u=0;u<m;u+=1)this._animatorsData[u]=new TextAnimatorDataProperty(this._elem,this._textData.a[u],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:_(this._elem,this._textData.p.a,0,0,this),f:_(this._elem,this._textData.p.f,0,0,this),l:_(this._elem,this._textData.p.l,0,0,this),r:_(this._elem,this._textData.p.r,0,0,this),p:_(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=_(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(u,f){if(this.lettersChangedFlag=f,this._mdf||this._isFirstFrame||f||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var m,_,w,E,G,F,U,X,T,B,R,N,L,W,k,K,oe,we,Re=this._moreOptions.alignment.v,Ze=this._animatorsData,Ge=this._textData,Ke=this.mHelper,yt=this._renderType,j=this.renderedLetters.length,Te=u.l;if(this._hasMaskedPath){if(we=this._pathData.m,!this._pathData.n||this._pathData._mdf){var pt,ct=we.v;for(this._pathData.r.v&&(ct=ct.reverse()),G={tLength:0,segments:[]},E=ct._length-1,K=0,w=0;w<E;w+=1)pt=bez.buildBezierData(ct.v[w],ct.v[w+1],[ct.o[w][0]-ct.v[w][0],ct.o[w][1]-ct.v[w][1]],[ct.i[w+1][0]-ct.v[w+1][0],ct.i[w+1][1]-ct.v[w+1][1]]),G.tLength+=pt.segmentLength,G.segments.push(pt),K+=pt.segmentLength;w=E,we.v.c&&(pt=bez.buildBezierData(ct.v[w],ct.v[0],[ct.o[w][0]-ct.v[w][0],ct.o[w][1]-ct.v[w][1]],[ct.i[0][0]-ct.v[0][0],ct.i[0][1]-ct.v[0][1]]),G.tLength+=pt.segmentLength,G.segments.push(pt),K+=pt.segmentLength),this._pathData.pi=G}if(R=0,B=1,X=0,T=!0,W=(G=this._pathData.pi).segments,(F=this._pathData.f.v)<0&&we.v.c)for(G.tLength<Math.abs(F)&&(F=-Math.abs(F)%G.tLength),B=(L=W[R=W.length-1].points).length-1;F<0;)F+=L[B].partialLength,(B-=1)<0&&(B=(L=W[R-=1].points).length-1);N=(L=W[R].points)[B-1],k=(U=L[B]).partialLength}E=Te.length,m=0,_=0;var Mt,qt,an,vt,ze,mt=1.2*u.finalSize*.714,Jt=!0;an=Ze.length;var Dn,Mn,un,mn,Wt,Rn,Nn,$n,Dt,Mr,Bn,ri,Zt=-1,Vi=F,hi=R,lr=B,fo=-1,cr="",Wr=this.defaultPropsArray;if(2===u.j||1===u.j){var Or=0,ln=0,ai=2===u.j?-.5:-1,pr=0,qi=!0;for(w=0;w<E;w+=1)if(Te[w].n){for(Or&&(Or+=ln);pr<w;)Te[pr].animatorJustifyOffset=Or,pr+=1;Or=0,qi=!0}else{for(qt=0;qt<an;qt+=1)(Mt=Ze[qt].a).t.propType&&(qi&&2===u.j&&(ln+=Mt.t.v*ai),(ze=Ze[qt].s.getMult(Te[w].anIndexes[qt],Ge.a[qt].s.totalChars)).length?Or+=Mt.t.v*ze[0]*ai:Or+=Mt.t.v*ze*ai);qi=!1}for(Or&&(Or+=ln);pr<w;)Te[pr].animatorJustifyOffset=Or,pr+=1}for(w=0;w<E;w+=1){if(Ke.reset(),mn=1,Te[w].n)m=0,_+=u.yOffset,_+=Jt?1:0,F=Vi,Jt=!1,this._hasMaskedPath&&(N=(L=W[R=hi].points)[(B=lr)-1],k=(U=L[B]).partialLength,X=0),cr="",Bn="",Dt="",ri="",Wr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(fo!==Te[w].line){switch(u.j){case 1:F+=K-u.lineWidths[Te[w].line];break;case 2:F+=(K-u.lineWidths[Te[w].line])/2}fo=Te[w].line}Zt!==Te[w].ind&&(Te[Zt]&&(F+=Te[Zt].extra),F+=Te[w].an/2,Zt=Te[w].ind),F+=Re[0]*Te[w].an*.005;var Yi=0;for(qt=0;qt<an;qt+=1)(Mt=Ze[qt].a).p.propType&&((ze=Ze[qt].s.getMult(Te[w].anIndexes[qt],Ge.a[qt].s.totalChars)).length?Yi+=Mt.p.v[0]*ze[0]:Yi+=Mt.p.v[0]*ze),Mt.a.propType&&((ze=Ze[qt].s.getMult(Te[w].anIndexes[qt],Ge.a[qt].s.totalChars)).length?Yi+=Mt.a.v[0]*ze[0]:Yi+=Mt.a.v[0]*ze);for(T=!0,this._pathData.a.v&&(F=.5*Te[0].an+(K-this._pathData.f.v-.5*Te[0].an-.5*Te[Te.length-1].an)*Zt/(E-1),F+=this._pathData.f.v);T;)X+k>=F+Yi||!L?(Mn=N.point[0]+(U.point[0]-N.point[0])*(oe=(F+Yi-X)/U.partialLength),un=N.point[1]+(U.point[1]-N.point[1])*oe,Ke.translate(-Re[0]*Te[w].an*.005,-Re[1]*mt*.01),T=!1):L&&(X+=U.partialLength,(B+=1)>=L.length&&(B=0,W[R+=1]?L=W[R].points:we.v.c?(B=0,L=W[R=0].points):(X-=U.partialLength,L=null)),L&&(N=U,k=(U=L[B]).partialLength));Ke.translate(-(Dn=Te[w].an/2-Te[w].add),0,0)}else Ke.translate(-(Dn=Te[w].an/2-Te[w].add),0,0),Ke.translate(-Re[0]*Te[w].an*.005,-Re[1]*mt*.01,0);for(qt=0;qt<an;qt+=1)(Mt=Ze[qt].a).t.propType&&(ze=Ze[qt].s.getMult(Te[w].anIndexes[qt],Ge.a[qt].s.totalChars),0===m&&0===u.j||(this._hasMaskedPath?F+=ze.length?Mt.t.v*ze[0]:Mt.t.v*ze:m+=ze.length?Mt.t.v*ze[0]:Mt.t.v*ze));for(u.strokeWidthAnim&&(Rn=u.sw||0),u.strokeColorAnim&&(Wt=u.sc?[u.sc[0],u.sc[1],u.sc[2]]:[0,0,0]),u.fillColorAnim&&u.fc&&(Nn=[u.fc[0],u.fc[1],u.fc[2]]),qt=0;qt<an;qt+=1)(Mt=Ze[qt].a).a.propType&&((ze=Ze[qt].s.getMult(Te[w].anIndexes[qt],Ge.a[qt].s.totalChars)).length?Ke.translate(-Mt.a.v[0]*ze[0],-Mt.a.v[1]*ze[1],Mt.a.v[2]*ze[2]):Ke.translate(-Mt.a.v[0]*ze,-Mt.a.v[1]*ze,Mt.a.v[2]*ze));for(qt=0;qt<an;qt+=1)(Mt=Ze[qt].a).s.propType&&((ze=Ze[qt].s.getMult(Te[w].anIndexes[qt],Ge.a[qt].s.totalChars)).length?Ke.scale(1+(Mt.s.v[0]-1)*ze[0],1+(Mt.s.v[1]-1)*ze[1],1):Ke.scale(1+(Mt.s.v[0]-1)*ze,1+(Mt.s.v[1]-1)*ze,1));for(qt=0;qt<an;qt+=1){if(Mt=Ze[qt].a,ze=Ze[qt].s.getMult(Te[w].anIndexes[qt],Ge.a[qt].s.totalChars),Mt.sk.propType&&(ze.length?Ke.skewFromAxis(-Mt.sk.v*ze[0],Mt.sa.v*ze[1]):Ke.skewFromAxis(-Mt.sk.v*ze,Mt.sa.v*ze)),Mt.r.propType&&Ke.rotateZ(ze.length?-Mt.r.v*ze[2]:-Mt.r.v*ze),Mt.ry.propType&&Ke.rotateY(ze.length?Mt.ry.v*ze[1]:Mt.ry.v*ze),Mt.rx.propType&&Ke.rotateX(ze.length?Mt.rx.v*ze[0]:Mt.rx.v*ze),Mt.o.propType&&(mn+=ze.length?(Mt.o.v*ze[0]-mn)*ze[0]:(Mt.o.v*ze-mn)*ze),u.strokeWidthAnim&&Mt.sw.propType&&(Rn+=ze.length?Mt.sw.v*ze[0]:Mt.sw.v*ze),u.strokeColorAnim&&Mt.sc.propType)for($n=0;$n<3;$n+=1)Wt[$n]+=ze.length?(Mt.sc.v[$n]-Wt[$n])*ze[0]:(Mt.sc.v[$n]-Wt[$n])*ze;if(u.fillColorAnim&&u.fc){if(Mt.fc.propType)for($n=0;$n<3;$n+=1)Nn[$n]+=ze.length?(Mt.fc.v[$n]-Nn[$n])*ze[0]:(Mt.fc.v[$n]-Nn[$n])*ze;Mt.fh.propType&&(Nn=addHueToRGB(Nn,ze.length?Mt.fh.v*ze[0]:Mt.fh.v*ze)),Mt.fs.propType&&(Nn=addSaturationToRGB(Nn,ze.length?Mt.fs.v*ze[0]:Mt.fs.v*ze)),Mt.fb.propType&&(Nn=addBrightnessToRGB(Nn,ze.length?Mt.fb.v*ze[0]:Mt.fb.v*ze))}}for(qt=0;qt<an;qt+=1)(Mt=Ze[qt].a).p.propType&&(ze=Ze[qt].s.getMult(Te[w].anIndexes[qt],Ge.a[qt].s.totalChars),this._hasMaskedPath?ze.length?Ke.translate(0,Mt.p.v[1]*ze[0],-Mt.p.v[2]*ze[1]):Ke.translate(0,Mt.p.v[1]*ze,-Mt.p.v[2]*ze):ze.length?Ke.translate(Mt.p.v[0]*ze[0],Mt.p.v[1]*ze[1],-Mt.p.v[2]*ze[2]):Ke.translate(Mt.p.v[0]*ze,Mt.p.v[1]*ze,-Mt.p.v[2]*ze));if(u.strokeWidthAnim&&(Dt=Rn<0?0:Rn),u.strokeColorAnim&&(Mr="rgb("+Math.round(255*Wt[0])+","+Math.round(255*Wt[1])+","+Math.round(255*Wt[2])+")"),u.fillColorAnim&&u.fc&&(Bn="rgb("+Math.round(255*Nn[0])+","+Math.round(255*Nn[1])+","+Math.round(255*Nn[2])+")"),this._hasMaskedPath){if(Ke.translate(0,-u.ls),Ke.translate(0,Re[1]*mt*.01+_,0),this._pathData.p.v){var dr=180*Math.atan((U.point[1]-N.point[1])/(U.point[0]-N.point[0]))/Math.PI;U.point[0]<N.point[0]&&(dr+=180),Ke.rotate(-dr*Math.PI/180)}Ke.translate(Mn,un,0),F-=Re[0]*Te[w].an*.005,Te[w+1]&&Zt!==Te[w+1].ind&&(F+=Te[w].an/2,F+=.001*u.tr*u.finalSize)}else{switch(Ke.translate(m,_,0),u.ps&&Ke.translate(u.ps[0],u.ps[1]+u.ascent,0),u.j){case 1:Ke.translate(Te[w].animatorJustifyOffset+u.justifyOffset+(u.boxWidth-u.lineWidths[Te[w].line]),0,0);break;case 2:Ke.translate(Te[w].animatorJustifyOffset+u.justifyOffset+(u.boxWidth-u.lineWidths[Te[w].line])/2,0,0)}Ke.translate(0,-u.ls),Ke.translate(Dn,0,0),Ke.translate(Re[0]*Te[w].an*.005,Re[1]*mt*.01,0),m+=Te[w].l+.001*u.tr*u.finalSize}"html"===yt?cr=Ke.toCSS():"svg"===yt?cr=Ke.to2dCSS():Wr=[Ke.props[0],Ke.props[1],Ke.props[2],Ke.props[3],Ke.props[4],Ke.props[5],Ke.props[6],Ke.props[7],Ke.props[8],Ke.props[9],Ke.props[10],Ke.props[11],Ke.props[12],Ke.props[13],Ke.props[14],Ke.props[15]],ri=mn}j<=w?(vt=new LetterProps(ri,Dt,Mr,Bn,cr,Wr),this.renderedLetters.push(vt),j+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(vt=this.renderedLetters[w]).update(ri,Dt,Mr,Bn,cr,Wr)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(u,f,m){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(u,f,m),this.textProperty=new TextProperty(this,u.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(u.t,this.renderType,this),this.initTransform(u,f,m),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(u){this._mdf=!1,this.prepareRenderableFrame(u),this.prepareProperties(u,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(u,f){var m,_,w=f.length,E="";for(m=0;m<w;m+=1)"sh"===f[m].ty&&(E+=buildShapeString(_=f[m].ks.k,_.i.length,!0,u));return E},ITextElement.prototype.updateDocumentData=function(u,f){this.textProperty.updateDocumentData(u,f)},ITextElement.prototype.canResizeFont=function(u){this.textProperty.canResizeFont(u)},ITextElement.prototype.setMinimumFontSize=function(u){this.textProperty.setMinimumFontSize(u)},ITextElement.prototype.applyTextPropertiesToMatrix=function(u,f,m,_,w){switch(u.ps&&f.translate(u.ps[0],u.ps[1]+u.ascent,0),f.translate(0,-u.ls,0),u.j){case 1:f.translate(u.justifyOffset+(u.boxWidth-u.lineWidths[m]),0,0);break;case 2:f.translate(u.justifyOffset+(u.boxWidth-u.lineWidths[m])/2,0,0)}f.translate(_,w,0)},ITextElement.prototype.buildColor=function(u){return"rgb("+Math.round(255*u[0])+","+Math.round(255*u[1])+","+Math.round(255*u[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(u,f,m){this.textSpans=[],this.renderType="svg",this.initElement(u,f,m)}function ISolidElement(u,f,m){this.initElement(u,f,m)}function NullElement(u,f,m){this.initFrame(),this.initBaseData(u,f,m),this.initFrame(),this.initTransform(u,f,m),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(u,f,m){this.layers=u.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(u,f,m),this.tm=u.tm?PropertyFactory.getProp(this,u.tm,0,f.frameRate,this):{_placeholder:!0}}function SVGRenderer(u,f){this.animationItem=u,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var m="";if(f&&f.title){var _=createNS("title"),w=createElementID();_.setAttribute("id",w),_.textContent=f.title,this.svgElement.appendChild(_),m+=w}if(f&&f.description){var E=createNS("desc"),G=createElementID();E.setAttribute("id",G),E.textContent=f.description,this.svgElement.appendChild(E),m+=" "+G}m&&this.svgElement.setAttribute("aria-labelledby",m);var F=createNS("defs");this.svgElement.appendChild(F);var U=createNS("g");this.svgElement.appendChild(U),this.layerElement=U,this.renderConfig={preserveAspectRatio:f&&f.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:f&&f.contentVisibility||"visible",progressiveLoad:f&&f.progressiveLoad||!1,hideOnTransparent:!(f&&!1===f.hideOnTransparent),viewBoxOnly:f&&f.viewBoxOnly||!1,viewBoxSize:f&&f.viewBoxSize||!1,className:f&&f.className||"",id:f&&f.id||"",focusable:f&&f.focusable,filterSize:{width:f&&f.filterSize&&f.filterSize.width||"100%",height:f&&f.filterSize&&f.filterSize.height||"100%",x:f&&f.filterSize&&f.filterSize.x||"0%",y:f&&f.filterSize&&f.filterSize.y||"0%"},width:f&&f.width,height:f&&f.height},this.globalData={_mdf:!1,frameNum:-1,defs:F,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var u;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),u=0;u<15;u+=1)this.saved[u]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(u,f){var m;this.data=u,this.element=f,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var _=this.masksProperties.length,w=!1;for(m=0;m<_;m+=1)"n"!==this.masksProperties[m].mode&&(w=!0),this.viewData[m]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[m],3);this.hasMasks=w,w&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(u,f,m,_){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var w,E=4;"rc"===f.ty?E=5:"el"===f.ty?E=6:"sr"===f.ty&&(E=7),this.sh=ShapePropertyFactory.getShapeProp(u,f,E,u);var G,F=m.length;for(w=0;w<F;w+=1)m[w].closed||(G={transforms:_.addTransformSequence(m[w].transforms),trNodes:[]},this.styledShapes.push(G),m[w].elements.push(G))}function CVShapeElement(u,f,m){this.shapes=[],this.shapesData=u.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(u,f,m)}function CVTextElement(u,f,m){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(u,f,m)}function CVImageElement(u,f,m){this.assetData=f.getAssetData(u.refId),this.img=f.imageLoader.getAsset(this.assetData),this.initElement(u,f,m)}function CVSolidElement(u,f,m){this.initElement(u,f,m)}function CanvasRendererBase(u,f){this.animationItem=u,this.renderConfig={clearCanvas:!f||void 0===f.clearCanvas||f.clearCanvas,context:f&&f.context||null,progressiveLoad:f&&f.progressiveLoad||!1,preserveAspectRatio:f&&f.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:f&&f.contentVisibility||"visible",className:f&&f.className||"",id:f&&f.id||""},this.renderConfig.dpr=f&&f.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=f&&f.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(u,f,m){this.completeLayers=!1,this.layers=u.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(u,f,m),this.tm=u.tm?PropertyFactory.getProp(this,u.tm,0,f.frameRate,this):{_placeholder:!0}}function CanvasRenderer(u,f){this.animationItem=u,this.renderConfig={clearCanvas:!f||void 0===f.clearCanvas||f.clearCanvas,context:f&&f.context||null,progressiveLoad:f&&f.progressiveLoad||!1,preserveAspectRatio:f&&f.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:f&&f.contentVisibility||"visible",className:f&&f.className||"",id:f&&f.id||""},this.renderConfig.dpr=f&&f.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=f&&f.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(u,f,m){this.initElement(u,f,m)}function HShapeElement(u,f,m){this.shapes=[],this.shapesData=u.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(u,f,m),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(u,f,m){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(u,f,m)}function HCameraElement(u,f,m){this.initFrame(),this.initBaseData(u,f,m),this.initHierarchy();var _=PropertyFactory.getProp;if(this.pe=_(this,u.pe,0,0,this),u.ks.p.s?(this.px=_(this,u.ks.p.x,1,0,this),this.py=_(this,u.ks.p.y,1,0,this),this.pz=_(this,u.ks.p.z,1,0,this)):this.p=_(this,u.ks.p,1,0,this),u.ks.a&&(this.a=_(this,u.ks.a,1,0,this)),u.ks.or.k.length&&u.ks.or.k[0].to){var w,E=u.ks.or.k.length;for(w=0;w<E;w+=1)u.ks.or.k[w].to=null,u.ks.or.k[w].ti=null}this.or=_(this,u.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=_(this,u.ks.rx,0,degToRads,this),this.ry=_(this,u.ks.ry,0,degToRads,this),this.rz=_(this,u.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(u,f,m){this.assetData=f.getAssetData(u.refId),this.initElement(u,f,m)}function HybridRendererBase(u,f){this.animationItem=u,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:f&&f.className||"",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(f&&!1===f.hideOnTransparent),filterSize:{width:f&&f.filterSize&&f.filterSize.width||"400%",height:f&&f.filterSize&&f.filterSize.height||"400%",x:f&&f.filterSize&&f.filterSize.x||"-100%",y:f&&f.filterSize&&f.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(u,f,m){this.layers=u.layers,this.supports3d=!u.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(u,f,m),this.tm=u.tm?PropertyFactory.getProp(this,u.tm,0,f.frameRate,this):{_placeholder:!0}}function HybridRenderer(u,f){this.animationItem=u,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:f&&f.className||"",imagePreserveAspectRatio:f&&f.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(f&&!1===f.hideOnTransparent),filterSize:{width:f&&f.filterSize&&f.filterSize.width||"400%",height:f&&f.filterSize&&f.filterSize.height||"400%",x:f&&f.filterSize&&f.filterSize.x||"-100%",y:f&&f.filterSize&&f.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(u){for(var f=0,m=u.length,_=[],w="";f<m;)u[f]===String.fromCharCode(13)||u[f]===String.fromCharCode(3)?(_.push(w),w=""):w+=u[f],f+=1;return _.push(w),_},SVGTextLottieElement.prototype.buildShapeData=function(u,f){if(u.shapes&&u.shapes.length){var m=u.shapes[0];if(m.it){var _=m.it[m.it.length-1];_.s&&(_.s.k[0]=f,_.s.k[1]=f)}}return u},SVGTextLottieElement.prototype.buildNewText=function(){var u,f;this.addDynamicProperty(this);var m=this.textProperty.currentData;this.renderedLetters=createSizedArray(m?m.l.length:0),this.layerElement.setAttribute("fill",m.fc?this.buildColor(m.fc):"rgba(0,0,0,0)"),m.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(m.sc)),this.layerElement.setAttribute("stroke-width",m.sw)),this.layerElement.setAttribute("font-size",m.finalSize);var _=this.globalData.fontManager.getFontByName(m.f);if(_.fClass)this.layerElement.setAttribute("class",_.fClass);else{this.layerElement.setAttribute("font-family",_.fFamily);var w=m.fWeight;this.layerElement.setAttribute("font-style",m.fStyle),this.layerElement.setAttribute("font-weight",w)}this.layerElement.setAttribute("aria-label",m.t);var G,F=m.l||[],U=!!this.globalData.fontManager.chars;f=F.length;var X=this.mHelper,T=this.data.singleShape,B=0,R=0,N=!0,L=.001*m.tr*m.finalSize;if(!T||U||m.sz){var W,k=this.textSpans.length;for(u=0;u<f;u+=1){if(this.textSpans[u]||(this.textSpans[u]={span:null,childSpan:null,glyph:null}),!U||!T||0===u){if(G=k>u?this.textSpans[u].span:createNS(U?"g":"text"),k<=u){if(G.setAttribute("stroke-linecap","butt"),G.setAttribute("stroke-linejoin","round"),G.setAttribute("stroke-miterlimit","4"),this.textSpans[u].span=G,U){var K=createNS("g");G.appendChild(K),this.textSpans[u].childSpan=K}this.textSpans[u].span=G,this.layerElement.appendChild(G)}G.style.display="inherit"}if(X.reset(),T&&(F[u].n&&(B=-L,R+=m.yOffset,R+=N?1:0,N=!1),this.applyTextPropertiesToMatrix(m,X,F[u].line,B,R),B+=F[u].l||0,B+=L),U){var oe;if(1===(W=this.globalData.fontManager.getCharData(m.finalText[u],_.fStyle,this.globalData.fontManager.getFontByName(m.f).fFamily)).t)oe=new SVGCompElement(W.data,this.globalData,this);else{var le=emptyShapeData;W.data&&W.data.shapes&&(le=this.buildShapeData(W.data,m.finalSize)),oe=new SVGShapeElement(le,this.globalData,this)}if(this.textSpans[u].glyph){var we=this.textSpans[u].glyph;this.textSpans[u].childSpan.removeChild(we.layerElement),we.destroy()}this.textSpans[u].glyph=oe,oe._debug=!0,oe.prepareFrame(0),oe.renderFrame(),this.textSpans[u].childSpan.appendChild(oe.layerElement),1===W.t&&this.textSpans[u].childSpan.setAttribute("transform","scale("+m.finalSize/100+","+m.finalSize/100+")")}else T&&G.setAttribute("transform","translate("+X.props[12]+","+X.props[13]+")"),G.textContent=F[u].val,G.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}T&&G&&G.setAttribute("d","")}else{var Re=this.textContainer,Ze="start";switch(m.j){case 1:Ze="end";break;case 2:Ze="middle";break;default:Ze="start"}Re.setAttribute("text-anchor",Ze),Re.setAttribute("letter-spacing",L);var Ge=this.buildTextContents(m.finalText);for(f=Ge.length,R=m.ps?m.ps[1]+m.ascent:0,u=0;u<f;u+=1)(G=this.textSpans[u].span||createNS("tspan")).textContent=Ge[u],G.setAttribute("x",0),G.setAttribute("y",R),G.style.display="inherit",Re.appendChild(G),this.textSpans[u]||(this.textSpans[u]={span:null,glyph:null}),this.textSpans[u].span=G,R+=m.finalLineHeight;this.layerElement.appendChild(Re)}for(;u<this.textSpans.length;)this.textSpans[u].span.style.display="none",u+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var u=this.layerElement.getBBox();this.bbox={top:u.y,left:u.x,width:u.width,height:u.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var u,f,m=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,u=0;u<m;u+=1)(f=this.textSpans[u].glyph)&&(f.prepareFrame(this.comp.renderedFrame-this.data.st),f._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var u,f;this._sizeChanged=!0;var m,_,w,E=this.textAnimator.renderedLetters,G=this.textProperty.currentData.l;for(f=G.length,u=0;u<f;u+=1)G[u].n||(m=E[u],_=this.textSpans[u].span,(w=this.textSpans[u].glyph)&&w.renderFrame(),m._mdf.m&&_.setAttribute("transform",m.m),m._mdf.o&&_.setAttribute("opacity",m.o),m._mdf.sw&&_.setAttribute("stroke-width",m.sw),m._mdf.sc&&_.setAttribute("stroke",m.sc),m._mdf.fc&&_.setAttribute("fill",m.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var u=createNS("rect");u.setAttribute("width",this.data.sw),u.setAttribute("height",this.data.sh),u.setAttribute("fill",this.data.sc),this.layerElement.appendChild(u)},NullElement.prototype.prepareFrame=function(u){this.prepareProperties(u,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(u){return new NullElement(u,this.globalData,this)},SVGRendererBase.prototype.createShape=function(u){return new SVGShapeElement(u,this.globalData,this)},SVGRendererBase.prototype.createText=function(u){return new SVGTextLottieElement(u,this.globalData,this)},SVGRendererBase.prototype.createImage=function(u){return new IImageElement(u,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(u){return new ISolidElement(u,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(u){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+u.w+" "+u.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",u.w),this.svgElement.setAttribute("height",u.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var f=this.globalData.defs;this.setupGlobalData(u,f),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=u;var m=createNS("clipPath"),_=createNS("rect");_.setAttribute("width",u.w),_.setAttribute("height",u.h),_.setAttribute("x",0),_.setAttribute("y",0);var w=createElementID();m.setAttribute("id",w),m.appendChild(_),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+w+")"),f.appendChild(m),this.layers=u.layers,this.elements=createSizedArray(u.layers.length)},SVGRendererBase.prototype.destroy=function(){var u;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var f=this.layers?this.layers.length:0;for(u=0;u<f;u+=1)this.elements[u]&&this.elements[u].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(u){var f=this.elements;if(!f[u]&&99!==this.layers[u].ty){f[u]=!0;var m=this.createItem(this.layers[u]);f[u]=m,getExpressionsPlugin()&&(0===this.layers[u].ty&&this.globalData.projectInterface.registerComposition(m),m.initExpressions()),this.appendElementInPos(m,u),this.layers[u].tt&&(this.elements[u-1]&&!0!==this.elements[u-1]?m.setMatte(f[u-1].layerId):(this.buildItem(u-1),this.addPendingElement(m)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var u=this.pendingElements.pop();if(u.checkParenting(),u.data.tt)for(var f=0,m=this.elements.length;f<m;){if(this.elements[f]===u){u.setMatte(this.elements[f-1].layerId);break}f+=1}}},SVGRendererBase.prototype.renderFrame=function(u){if(this.renderedFrame!==u&&!this.destroyed){var f;null===u?u=this.renderedFrame:this.renderedFrame=u,this.globalData.frameNum=u,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=u,this.globalData._mdf=!1;var m=this.layers.length;for(this.completeLayers||this.checkLayers(u),f=m-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&this.elements[f].prepareFrame(u-this.layers[f].st);if(this.globalData._mdf)for(f=0;f<m;f+=1)(this.completeLayers||this.elements[f])&&this.elements[f].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(u,f){var m=u.getBaseElement();if(m){for(var _,w=0;w<f;)this.elements[w]&&!0!==this.elements[w]&&this.elements[w].getBaseElement()&&(_=this.elements[w].getBaseElement()),w+=1;_?this.layerElement.insertBefore(m,_):this.layerElement.appendChild(m)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(u,f,m){this.initFrame(),this.initBaseData(u,f,m),this.initTransform(u,f,m),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&f.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(u){if(this._mdf=!1,this.prepareRenderableFrame(u),this.prepareProperties(u,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=u/this.data.sr;else{var f=this.tm.v;f===this.data.op&&(f=this.data.op-1),this.renderedFrame=f}var m,_=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),m=_-1;m>=0;m-=1)(this.completeLayers||this.elements[m])&&(this.elements[m].prepareFrame(this.renderedFrame-this.layers[m].st),this.elements[m]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var u,f=this.layers.length;for(u=0;u<f;u+=1)(this.completeLayers||this.elements[u])&&this.elements[u].renderFrame()},ICompElement.prototype.setElements=function(u){this.elements=u},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var u,f=this.layers.length;for(u=0;u<f;u+=1)this.elements[u]&&this.elements[u].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(u){return new SVGCompElement(u,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(u){return new SVGCompElement(u,this.globalData,this)},CVContextData.prototype.duplicate=function(){var u=2*this._length,f=this.savedOp;this.savedOp=createTypedArray("float32",u),this.savedOp.set(f);var m=0;for(m=this._length;m<u;m+=1)this.saved[m]=createTypedArray("float32",16);this._length=u},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(u){var f,m=u.length,_="_";for(f=0;f<m;f+=1)_+=u[f].transform.key+"_";var w=this.sequences[_];return w||(w={transforms:[].concat(u),finalTransform:new Matrix,_mdf:!1},this.sequences[_]=w,this.sequenceList.push(w)),w},processSequence:function(u,f){for(var m,_=0,w=u.transforms.length,E=f;_<w&&!f;){if(u.transforms[_].transform.mProps._mdf){E=!0;break}_+=1}if(E)for(u.finalTransform.reset(),_=w-1;_>=0;_-=1)u.finalTransform.transform((m=u.transforms[_].transform.mProps.v.props)[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]);u._mdf=E},processSequences:function(u){var f,m=this.sequenceList.length;for(f=0;f<m;f+=1)this.processSequence(this.sequenceList[f],u)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var u,f,m,_,w=this.element.finalTransform.mat,E=this.element.canvasContext,G=this.masksProperties.length;for(E.beginPath(),u=0;u<G;u+=1)if("n"!==this.masksProperties[u].mode){var F;this.masksProperties[u].inv&&(E.moveTo(0,0),E.lineTo(this.element.globalData.compSize.w,0),E.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),E.lineTo(0,this.element.globalData.compSize.h),E.lineTo(0,0)),f=w.applyToPointArray((_=this.viewData[u].v).v[0][0],_.v[0][1],0),E.moveTo(f[0],f[1]);var U=_._length;for(F=1;F<U;F+=1)m=w.applyToTriplePoints(_.o[F-1],_.i[F],_.v[F]),E.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5]);m=w.applyToTriplePoints(_.o[F-1],_.i[0],_.v[0]),E.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5])}this.element.globalData.renderer.save(!0),E.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var u=this.globalData;if(u.blendMode!==this.data.bm){u.blendMode=this.data.bm;var f=getBlendMode(this.data.bm);u.canvasContext.globalCompositeOperation=f}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var u=0===this.data.ty;this.globalData.renderer.save(u),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(u),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(u,f){var m={data:u,type:u.ty,preTransforms:this.transformsManager.addTransformSequence(f),transforms:[],elements:[],closed:!0===u.hd},_={};if("fl"===u.ty||"st"===u.ty?(_.c=PropertyFactory.getProp(this,u.c,1,255,this),_.c.k||(m.co="rgb("+bmFloor(_.c.v[0])+","+bmFloor(_.c.v[1])+","+bmFloor(_.c.v[2])+")")):"gf"!==u.ty&&"gs"!==u.ty||(_.s=PropertyFactory.getProp(this,u.s,1,null,this),_.e=PropertyFactory.getProp(this,u.e,1,null,this),_.h=PropertyFactory.getProp(this,u.h||{k:0},0,.01,this),_.a=PropertyFactory.getProp(this,u.a||{k:0},0,degToRads,this),_.g=new GradientProperty(this,u.g,this)),_.o=PropertyFactory.getProp(this,u.o,0,.01,this),"st"===u.ty||"gs"===u.ty){if(m.lc=lineCapEnum[u.lc||2],m.lj=lineJoinEnum[u.lj||2],1==u.lj&&(m.ml=u.ml),_.w=PropertyFactory.getProp(this,u.w,0,null,this),_.w.k||(m.wi=_.w.v),u.d){var w=new DashProperty(this,u.d,"canvas",this);_.d=w,_.d.k||(m.da=_.d.dashArray,m.do=_.d.dashoffset[0])}}else m.r=2===u.r?"evenodd":"nonzero";return this.stylesList.push(m),_.style=m,_},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(u){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,u.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,u,this)}}},CVShapeElement.prototype.createShapeElement=function(u){var f=new CVShapeData(this,u,this.stylesList,this.transformsManager);return this.shapes.push(f),this.addShapeToModifiers(f),f},CVShapeElement.prototype.reloadShapes=function(){var u;this._isFirstFrame=!0;var f=this.itemsData.length;for(u=0;u<f;u+=1)this.prevViewData[u]=this.itemsData[u];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),f=this.dynamicProperties.length,u=0;u<f;u+=1)this.dynamicProperties[u].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(u){var f,m=this.stylesList.length;for(f=0;f<m;f+=1)this.stylesList[f].closed||this.stylesList[f].transforms.push(u)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var u,f=this.stylesList.length;for(u=0;u<f;u+=1)this.stylesList[u].closed||this.stylesList[u].transforms.pop()},CVShapeElement.prototype.closeStyles=function(u){var f,m=u.length;for(f=0;f<m;f+=1)u[f].closed=!0},CVShapeElement.prototype.searchShapes=function(u,f,m,_,w){var E,G,F,U,X,T,B=u.length-1,R=[],N=[],L=[].concat(w);for(E=B;E>=0;E-=1){if((U=this.searchProcessedElement(u[E]))?f[E]=m[U-1]:u[E]._shouldRender=_,"fl"===u[E].ty||"st"===u[E].ty||"gf"===u[E].ty||"gs"===u[E].ty)U?f[E].style.closed=!1:f[E]=this.createStyleElement(u[E],L),R.push(f[E].style);else if("gr"===u[E].ty){if(U)for(F=f[E].it.length,G=0;G<F;G+=1)f[E].prevViewData[G]=f[E].it[G];else f[E]=this.createGroupElement(u[E]);this.searchShapes(u[E].it,f[E].it,f[E].prevViewData,_,L)}else"tr"===u[E].ty?(U||(T=this.createTransformElement(u[E]),f[E]=T),L.push(f[E]),this.addTransformToStyleList(f[E])):"sh"===u[E].ty||"rc"===u[E].ty||"el"===u[E].ty||"sr"===u[E].ty?U||(f[E]=this.createShapeElement(u[E])):"tm"===u[E].ty||"rd"===u[E].ty||"pb"===u[E].ty?(U?(X=f[E]).closed=!1:((X=ShapeModifiers.getModifier(u[E].ty)).init(this,u[E]),f[E]=X,this.shapeModifiers.push(X)),N.push(X)):"rp"===u[E].ty&&(U?(X=f[E]).closed=!0:(X=ShapeModifiers.getModifier(u[E].ty),f[E]=X,X.init(this,u,E,f),this.shapeModifiers.push(X),_=!1),N.push(X));this.addProcessedElement(u[E],E+1)}for(this.removeTransformFromStyleList(),this.closeStyles(R),B=N.length,E=0;E<B;E+=1)N[E].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(u,f){(u._opMdf||f.op._mdf||this._isFirstFrame)&&(f.opacity=u.opacity,f.opacity*=f.op.v,f._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var u,f,m,_,w,E,G,F,U,X=this.stylesList.length,T=this.globalData.renderer,B=this.globalData.canvasContext;for(u=0;u<X;u+=1)if(("st"!==(F=(U=this.stylesList[u]).type)&&"gs"!==F||0!==U.wi)&&U.data._shouldRender&&0!==U.coOp&&0!==this.globalData.currentGlobalAlpha){for(T.save(),E=U.elements,"st"===F||"gs"===F?(B.strokeStyle="st"===F?U.co:U.grd,B.lineWidth=U.wi,B.lineCap=U.lc,B.lineJoin=U.lj,B.miterLimit=U.ml||0):B.fillStyle="fl"===F?U.co:U.grd,T.ctxOpacity(U.coOp),"st"!==F&&"gs"!==F&&B.beginPath(),T.ctxTransform(U.preTransforms.finalTransform.props),m=E.length,f=0;f<m;f+=1){for("st"!==F&&"gs"!==F||(B.beginPath(),U.da&&(B.setLineDash(U.da),B.lineDashOffset=U.do)),w=(G=E[f].trNodes).length,_=0;_<w;_+=1)"m"===G[_].t?B.moveTo(G[_].p[0],G[_].p[1]):"c"===G[_].t?B.bezierCurveTo(G[_].pts[0],G[_].pts[1],G[_].pts[2],G[_].pts[3],G[_].pts[4],G[_].pts[5]):B.closePath();"st"!==F&&"gs"!==F||(B.stroke(),U.da&&B.setLineDash(this.dashResetter))}"st"!==F&&"gs"!==F&&B.fill(U.r),T.restore()}},CVShapeElement.prototype.renderShape=function(u,f,m,_){var w,E;for(E=u,w=f.length-1;w>=0;w-=1)"tr"===f[w].ty?this.renderShapeTransform(u,E=m[w].transform):"sh"===f[w].ty||"el"===f[w].ty||"rc"===f[w].ty||"sr"===f[w].ty?this.renderPath(f[w],m[w]):"fl"===f[w].ty?this.renderFill(f[w],m[w],E):"st"===f[w].ty?this.renderStroke(f[w],m[w],E):"gf"===f[w].ty||"gs"===f[w].ty?this.renderGradientFill(f[w],m[w],E):"gr"===f[w].ty&&this.renderShape(E,f[w].it,m[w].it);_&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(u,f){if(this._isFirstFrame||f._mdf||u.transforms._mdf){var m,_,w,E=u.trNodes,G=f.paths,F=G._length;E.length=0;var U=u.transforms.finalTransform;for(w=0;w<F;w+=1){var X=G.shapes[w];if(X&&X.v){for(_=X._length,m=1;m<_;m+=1)1===m&&E.push({t:"m",p:U.applyToPointArray(X.v[0][0],X.v[0][1],0)}),E.push({t:"c",pts:U.applyToTriplePoints(X.o[m-1],X.i[m],X.v[m])});1===_&&E.push({t:"m",p:U.applyToPointArray(X.v[0][0],X.v[0][1],0)}),X.c&&_&&(E.push({t:"c",pts:U.applyToTriplePoints(X.o[m-1],X.i[0],X.v[0])}),E.push({t:"z"}))}}u.trNodes=E}},CVShapeElement.prototype.renderPath=function(u,f){if(!0!==u.hd&&u._shouldRender){var m,_=f.styledShapes.length;for(m=0;m<_;m+=1)this.renderStyledShape(f.styledShapes[m],f.sh)}},CVShapeElement.prototype.renderFill=function(u,f,m){var _=f.style;(f.c._mdf||this._isFirstFrame)&&(_.co="rgb("+bmFloor(f.c.v[0])+","+bmFloor(f.c.v[1])+","+bmFloor(f.c.v[2])+")"),(f.o._mdf||m._opMdf||this._isFirstFrame)&&(_.coOp=f.o.v*m.opacity)},CVShapeElement.prototype.renderGradientFill=function(u,f,m){var _,w=f.style;if(!w.grd||f.g._mdf||f.s._mdf||f.e._mdf||1!==u.t&&(f.h._mdf||f.a._mdf)){var E,G=this.globalData.canvasContext,F=f.s.v,U=f.e.v;if(1===u.t)_=G.createLinearGradient(F[0],F[1],U[0],U[1]);else{var X=Math.sqrt(Math.pow(F[0]-U[0],2)+Math.pow(F[1]-U[1],2)),T=Math.atan2(U[1]-F[1],U[0]-F[0]),B=f.h.v;B>=1?B=.99:B<=-1&&(B=-.99);var R=X*B,N=Math.cos(T+f.a.v)*R+F[0],L=Math.sin(T+f.a.v)*R+F[1];_=G.createRadialGradient(N,L,0,F[0],F[1],X)}var W=u.g.p,k=f.g.c,K=1;for(E=0;E<W;E+=1)f.g._hasOpacity&&f.g._collapsable&&(K=f.g.o[2*E+1]),_.addColorStop(k[4*E]/100,"rgba("+k[4*E+1]+","+k[4*E+2]+","+k[4*E+3]+","+K+")");w.grd=_}w.coOp=f.o.v*m.opacity},CVShapeElement.prototype.renderStroke=function(u,f,m){var _=f.style,w=f.d;w&&(w._mdf||this._isFirstFrame)&&(_.da=w.dashArray,_.do=w.dashoffset[0]),(f.c._mdf||this._isFirstFrame)&&(_.co="rgb("+bmFloor(f.c.v[0])+","+bmFloor(f.c.v[1])+","+bmFloor(f.c.v[2])+")"),(f.o._mdf||m._opMdf||this._isFirstFrame)&&(_.coOp=f.o.v*m.opacity),(f.w._mdf||this._isFirstFrame)&&(_.wi=f.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var u=this.textProperty.currentData;this.renderedLetters=createSizedArray(u.l?u.l.length:0);var f=!1;u.fc?(f=!0,this.values.fill=this.buildColor(u.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=f;var m=!1;u.sc&&(m=!0,this.values.stroke=this.buildColor(u.sc),this.values.sWidth=u.sw);var _,w,E,G,F,U,X,T,B,R,N,L,W=this.globalData.fontManager.getFontByName(u.f),k=u.l,K=this.mHelper;this.stroke=m,this.values.fValue=u.finalSize+"px "+this.globalData.fontManager.getFontByName(u.f).fFamily,w=u.finalText.length;var oe=this.data.singleShape,le=.001*u.tr*u.finalSize,we=0,Re=0,Ze=!0,Ge=0;for(_=0;_<w;_+=1){G=(E=this.globalData.fontManager.getCharData(u.finalText[_],W.fStyle,this.globalData.fontManager.getFontByName(u.f).fFamily))&&E.data||{},K.reset(),oe&&k[_].n&&(we=-le,Re+=u.yOffset,Re+=Ze?1:0,Ze=!1),B=(X=G.shapes?G.shapes[0].it:[]).length,K.scale(u.finalSize/100,u.finalSize/100),oe&&this.applyTextPropertiesToMatrix(u,K,k[_].line,we,Re),N=createSizedArray(B-1);var Ke=0;for(T=0;T<B;T+=1)if("sh"===X[T].ty){for(U=X[T].ks.k.i.length,R=X[T].ks.k,L=[],F=1;F<U;F+=1)1===F&&L.push(K.applyToX(R.v[0][0],R.v[0][1],0),K.applyToY(R.v[0][0],R.v[0][1],0)),L.push(K.applyToX(R.o[F-1][0],R.o[F-1][1],0),K.applyToY(R.o[F-1][0],R.o[F-1][1],0),K.applyToX(R.i[F][0],R.i[F][1],0),K.applyToY(R.i[F][0],R.i[F][1],0),K.applyToX(R.v[F][0],R.v[F][1],0),K.applyToY(R.v[F][0],R.v[F][1],0));L.push(K.applyToX(R.o[F-1][0],R.o[F-1][1],0),K.applyToY(R.o[F-1][0],R.o[F-1][1],0),K.applyToX(R.i[0][0],R.i[0][1],0),K.applyToY(R.i[0][0],R.i[0][1],0),K.applyToX(R.v[0][0],R.v[0][1],0),K.applyToY(R.v[0][0],R.v[0][1],0)),N[Ke]=L,Ke+=1}oe&&(we+=k[_].l,we+=le),this.textSpans[Ge]?this.textSpans[Ge].elem=N:this.textSpans[Ge]={elem:N},Ge+=1}},CVTextElement.prototype.renderInnerContent=function(){var u,f,m,_,w,E,G=this.canvasContext;G.font=this.values.fValue,G.lineCap="butt",G.lineJoin="miter",G.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var F,U=this.textAnimator.renderedLetters,X=this.textProperty.currentData.l;f=X.length;var T,B,R=null,N=null,L=null;for(u=0;u<f;u+=1)if(!X[u].n){if((F=U[u])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(F.p),this.globalData.renderer.ctxOpacity(F.o)),this.fill){for(F&&F.fc?R!==F.fc&&(R=F.fc,G.fillStyle=F.fc):R!==this.values.fill&&(R=this.values.fill,G.fillStyle=this.values.fill),_=(T=this.textSpans[u].elem).length,this.globalData.canvasContext.beginPath(),m=0;m<_;m+=1)for(E=(B=T[m]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),w=2;w<E;w+=6)this.globalData.canvasContext.bezierCurveTo(B[w],B[w+1],B[w+2],B[w+3],B[w+4],B[w+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(F&&F.sw?L!==F.sw&&(L=F.sw,G.lineWidth=F.sw):L!==this.values.sWidth&&(L=this.values.sWidth,G.lineWidth=this.values.sWidth),F&&F.sc?N!==F.sc&&(N=F.sc,G.strokeStyle=F.sc):N!==this.values.stroke&&(N=this.values.stroke,G.strokeStyle=this.values.stroke),_=(T=this.textSpans[u].elem).length,this.globalData.canvasContext.beginPath(),m=0;m<_;m+=1)for(E=(B=T[m]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),w=2;w<E;w+=6)this.globalData.canvasContext.bezierCurveTo(B[w],B[w+1],B[w+2],B[w+3],B[w+4],B[w+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}F&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var u=createTag("canvas");u.width=this.assetData.w,u.height=this.assetData.h;var f,m,_=u.getContext("2d"),w=this.img.width,E=this.img.height,G=w/E,F=this.assetData.w/this.assetData.h,U=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;G>F&&"xMidYMid slice"===U||G<F&&"xMidYMid slice"!==U?f=(m=E)*F:m=(f=w)/F,_.drawImage(this.img,(w-f)/2,(E-m)/2,f,m,0,0,this.assetData.w,this.assetData.h),this.img=u}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var u=this.canvasContext;u.fillStyle=this.data.sc,u.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(u){return new CVShapeElement(u,this.globalData,this)},CanvasRendererBase.prototype.createText=function(u){return new CVTextElement(u,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(u){return new CVImageElement(u,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(u){return new CVSolidElement(u,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(u){if(1!==u[0]||0!==u[1]||0!==u[4]||1!==u[5]||0!==u[12]||0!==u[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(u);var f=this.contextData.cTr.props;this.transformMat.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var m=this.contextData.cTr.props;this.canvasContext.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}else this.canvasContext.transform(u[0],u[1],u[4],u[5],u[12],u[13])},CanvasRendererBase.prototype.ctxOpacity=function(u){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=u<0?0:u,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=u<0?0:u,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(u){if(this.renderConfig.clearCanvas){u&&this.canvasContext.save();var f,m=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var _=this.contextData.saved[this.contextData.cArrPos];for(f=0;f<16;f+=1)_[f]=m[f];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(u){if(this.renderConfig.clearCanvas){u&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var f,m=this.contextData.saved[this.contextData.cArrPos],_=this.contextData.cTr.props;for(f=0;f<16;f+=1)_[f]=m[f];this.canvasContext.setTransform(m[0],m[1],m[4],m[5],m[12],m[13]),this.contextData.cO=m=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==m&&(this.canvasContext.globalAlpha=m,this.globalData.currentGlobalAlpha=m)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(u){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var f=this.animationItem.container.style;f.width="100%",f.height="100%";var m="0px 0px 0px";f.transformOrigin=m,f.mozTransformOrigin=m,f.webkitTransformOrigin=m,f["-webkit-transform"]=m,f.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=u,this.layers=u.layers,this.transformCanvas={w:u.w,h:u.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(u,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(u.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){var u,f,m,_;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(f=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(u=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",f*this.renderConfig.dpr)):(u=this.canvasContext.canvas.width*this.renderConfig.dpr,f=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var w=this.renderConfig.preserveAspectRatio.split(" "),E=w[1]||"meet",G=w[0]||"xMidYMid",F=G.substr(0,4),U=G.substr(4);(_=this.transformCanvas.w/this.transformCanvas.h)>(m=u/f)&&"meet"===E||_<m&&"slice"===E?(this.transformCanvas.sx=u/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=u/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=f/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=f/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===F&&(_<m&&"meet"===E||_>m&&"slice"===E)?(u-this.transformCanvas.w*(f/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===F&&(_<m&&"meet"===E||_>m&&"slice"===E)?(u-this.transformCanvas.w*(f/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===U&&(_>m&&"meet"===E||_<m&&"slice"===E)?(f-this.transformCanvas.h*(u/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===U&&(_>m&&"meet"===E||_<m&&"slice"===E)?(f-this.transformCanvas.h*(u/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=u/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=f/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var u;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),u=(this.layers?this.layers.length:0)-1;u>=0;u-=1)this.elements[u]&&this.elements[u].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(u,f){if((this.renderedFrame!==u||!0!==this.renderConfig.clearCanvas||f)&&!this.destroyed&&-1!==u){var m;this.renderedFrame=u,this.globalData.frameNum=u-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||f,this.globalData.projectInterface.currentFrame=u;var _=this.layers.length;for(this.completeLayers||this.checkLayers(u),m=0;m<_;m+=1)(this.completeLayers||this.elements[m])&&this.elements[m].prepareFrame(u-this.layers[m].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),m=_-1;m>=0;m-=1)(this.completeLayers||this.elements[m])&&this.elements[m].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(u){var f=this.elements;if(!f[u]&&99!==this.layers[u].ty){var m=this.createItem(this.layers[u],this,this.globalData);f[u]=m,m.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var u,f=this.canvasContext;for(f.beginPath(),f.moveTo(0,0),f.lineTo(this.data.w,0),f.lineTo(this.data.w,this.data.h),f.lineTo(0,this.data.h),f.lineTo(0,0),f.clip(),u=this.layers.length-1;u>=0;u-=1)(this.completeLayers||this.elements[u])&&this.elements[u].renderFrame()},CVCompElement.prototype.destroy=function(){var u;for(u=this.layers.length-1;u>=0;u-=1)this.elements[u]&&this.elements[u].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(u){return new CVCompElement(u,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(u){return new CVCompElement(u,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var u=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var f=this.finalTransform.mat.toCSS();u.transform=f,u.webkitTransform=f}this.finalTransform._opMdf&&(u.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var u;this.data.hasMask?((u=createNS("rect")).setAttribute("width",this.data.sw),u.setAttribute("height",this.data.sh),u.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((u=createTag("div")).style.width=this.data.sw+"px",u.style.height=this.data.sh+"px",u.style.backgroundColor=this.data.sc),this.layerElement.appendChild(u)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var u;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),u=this.svgElement;else{u=createNS("svg");var f=this.comp.data?this.comp.data:this.globalData.compSize;u.setAttribute("width",f.w),u.setAttribute("height",f.h),u.appendChild(this.shapesContainer),this.layerElement.appendChild(u)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=u},HShapeElement.prototype.getTransformedPoint=function(u,f){var m,_=u.length;for(m=0;m<_;m+=1)f=u[m].mProps.v.applyToPointArray(f[0],f[1],0);return f},HShapeElement.prototype.calculateShapeBoundingBox=function(u,f){var m,_,w,E,G,F=u.sh.v,U=u.transformers,X=F._length;if(!(X<=1)){for(m=0;m<X-1;m+=1)_=this.getTransformedPoint(U,F.v[m]),w=this.getTransformedPoint(U,F.o[m]),E=this.getTransformedPoint(U,F.i[m+1]),G=this.getTransformedPoint(U,F.v[m+1]),this.checkBounds(_,w,E,G,f);F.c&&(_=this.getTransformedPoint(U,F.v[m]),w=this.getTransformedPoint(U,F.o[m]),E=this.getTransformedPoint(U,F.i[0]),G=this.getTransformedPoint(U,F.v[0]),this.checkBounds(_,w,E,G,f))}},HShapeElement.prototype.checkBounds=function(u,f,m,_,w){this.getBoundsOfCurve(u,f,m,_);var E=this.shapeBoundingBox;w.x=bmMin(E.left,w.x),w.xMax=bmMax(E.right,w.xMax),w.y=bmMin(E.top,w.y),w.yMax=bmMax(E.bottom,w.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(u,f,m,_){for(var w,E,G,F,U,X,T,B=[[u[0],_[0]],[u[1],_[1]]],R=0;R<2;++R)E=6*u[R]-12*f[R]+6*m[R],w=-3*u[R]+9*f[R]-9*m[R]+3*_[R],G=3*f[R]-3*u[R],E|=0,G|=0,0==(w|=0)&&0===E||(0===w?(F=-G/E)>0&&F<1&&B[R].push(this.calculateF(F,u,f,m,_,R)):(U=E*E-4*G*w)>=0&&((X=(-E+bmSqrt(U))/(2*w))>0&&X<1&&B[R].push(this.calculateF(X,u,f,m,_,R)),(T=(-E-bmSqrt(U))/(2*w))>0&&T<1&&B[R].push(this.calculateF(T,u,f,m,_,R))));this.shapeBoundingBox.left=bmMin.apply(null,B[0]),this.shapeBoundingBox.top=bmMin.apply(null,B[1]),this.shapeBoundingBox.right=bmMax.apply(null,B[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,B[1])},HShapeElement.prototype.calculateF=function(u,f,m,_,w,E){return bmPow(1-u,3)*f[E]+3*bmPow(1-u,2)*u*m[E]+3*(1-u)*bmPow(u,2)*_[E]+bmPow(u,3)*w[E]},HShapeElement.prototype.calculateBoundingBox=function(u,f){var m,_=u.length;for(m=0;m<_;m+=1)u[m]&&u[m].sh?this.calculateShapeBoundingBox(u[m],f):u[m]&&u[m].it?this.calculateBoundingBox(u[m].it,f):u[m]&&u[m].style&&u[m].w&&this.expandStrokeBoundingBox(u[m].w,f)},HShapeElement.prototype.expandStrokeBoundingBox=function(u,f){var m=0;if(u.keyframes){for(var _=0;_<u.keyframes.length;_+=1){var w=u.keyframes[_].s;w>m&&(m=w)}m*=u.mult}else m=u.v*u.mult;f.x-=m,f.xMax+=m,f.y-=m,f.yMax+=m},HShapeElement.prototype.currentBoxContains=function(u){return this.currentBBox.x<=u.x&&this.currentBBox.y<=u.y&&this.currentBBox.width+this.currentBBox.x>=u.x+u.width&&this.currentBBox.height+this.currentBBox.y>=u.y+u.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.tempBoundingBox,f=999999;if(u.x=f,u.xMax=-f,u.y=f,u.yMax=-f,this.calculateBoundingBox(this.itemsData,u),u.width=u.xMax<u.x?0:u.xMax-u.x,u.height=u.yMax<u.y?0:u.yMax-u.y,this.currentBoxContains(u))return;var m=!1;if(this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.shapeCont.setAttribute("width",u.width),m=!0),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.shapeCont.setAttribute("height",u.height),m=!0),m||this.currentBBox.x!==u.x||this.currentBBox.y!==u.y){this.currentBBox.w=u.width,this.currentBBox.h=u.height,this.currentBBox.x=u.x,this.currentBBox.y=u.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var _=this.shapeCont.style,w="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_.transform=w,_.webkitTransform=w}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var u=createNS("g");this.maskedElement.appendChild(u),this.innerElem=u}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var u=this.textProperty.currentData;this.renderedLetters=createSizedArray(u.l?u.l.length:0);var f=this.innerElem.style,m=u.fc?this.buildColor(u.fc):"rgba(0,0,0,0)";f.fill=m,f.color=m,u.sc&&(f.stroke=this.buildColor(u.sc),f.strokeWidth=u.sw+"px");var _,w,E=this.globalData.fontManager.getFontByName(u.f);if(!this.globalData.fontManager.chars)if(f.fontSize=u.finalSize+"px",f.lineHeight=u.finalSize+"px",E.fClass)this.innerElem.className=E.fClass;else{f.fontFamily=E.fFamily;var G=u.fWeight;f.fontStyle=u.fStyle,f.fontWeight=G}var U,X,T,B=u.l;w=B.length;var R,N=this.mHelper,L="",W=0;for(_=0;_<w;_+=1){if(this.globalData.fontManager.chars?(this.textPaths[W]?U=this.textPaths[W]:((U=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),U.setAttribute("stroke-linejoin",lineJoinEnum[2]),U.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[W]?T=(X=this.textSpans[W]).children[0]:((X=createTag("div")).style.lineHeight=0,(T=createNS("svg")).appendChild(U),styleDiv(X)))):this.isMasked?U=this.textPaths[W]?this.textPaths[W]:createNS("text"):this.textSpans[W]?(X=this.textSpans[W],U=this.textPaths[W]):(styleDiv(X=createTag("span")),styleDiv(U=createTag("span")),X.appendChild(U)),this.globalData.fontManager.chars){var k,K=this.globalData.fontManager.getCharData(u.finalText[_],E.fStyle,this.globalData.fontManager.getFontByName(u.f).fFamily);if(k=K?K.data:null,N.reset(),k&&k.shapes&&k.shapes.length&&(R=k.shapes[0].it,N.scale(u.finalSize/100,u.finalSize/100),L=this.createPathShape(N,R),U.setAttribute("d",L)),this.isMasked)this.innerElem.appendChild(U);else{if(this.innerElem.appendChild(X),k&&k.shapes){document.body.appendChild(T);var oe=T.getBBox();T.setAttribute("width",oe.width+2),T.setAttribute("height",oe.height+2),T.setAttribute("viewBox",oe.x-1+" "+(oe.y-1)+" "+(oe.width+2)+" "+(oe.height+2));var le=T.style,we="translate("+(oe.x-1)+"px,"+(oe.y-1)+"px)";le.transform=we,le.webkitTransform=we,B[_].yOffset=oe.y-1}else T.setAttribute("width",1),T.setAttribute("height",1);X.appendChild(T)}}else if(U.textContent=B[_].val,U.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(U);else{this.innerElem.appendChild(X);var Re=U.style,Ze="translate3d(0,"+-u.finalSize/1.2+"px,0)";Re.transform=Ze,Re.webkitTransform=Ze}this.textSpans[W]=this.isMasked?U:X,this.textSpans[W].style.display="block",this.textPaths[W]=U,W+=1}for(;W<this.textSpans.length;)this.textSpans[W].style.display="none",W+=1},HTextElement.prototype.renderInnerContent=function(){var u;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var f="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(u=this.svgElement.style).transform=f,u.webkitTransform=f}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var m,_,w,E,G,F=0,U=this.textAnimator.renderedLetters,X=this.textProperty.currentData.l;for(_=X.length,m=0;m<_;m+=1)X[m].n?F+=1:(E=this.textSpans[m],G=this.textPaths[m],w=U[F],F+=1,w._mdf.m&&(this.isMasked?E.setAttribute("transform",w.m):(E.style.webkitTransform=w.m,E.style.transform=w.m)),E.style.opacity=w.o,w.sw&&w._mdf.sw&&G.setAttribute("stroke-width",w.sw),w.sc&&w._mdf.sc&&G.setAttribute("stroke",w.sc),w.fc&&w._mdf.fc&&(G.setAttribute("fill",w.fc),G.style.color=w.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var T=this.innerElem.getBBox();if(this.currentBBox.w!==T.width&&(this.currentBBox.w=T.width,this.svgElement.setAttribute("width",T.width)),this.currentBBox.h!==T.height&&(this.currentBBox.h=T.height,this.svgElement.setAttribute("height",T.height)),this.currentBBox.w!==T.width+2||this.currentBBox.h!==T.height+2||this.currentBBox.x!==T.x-1||this.currentBBox.y!==T.y-1){this.currentBBox.w=T.width+2,this.currentBBox.h=T.height+2,this.currentBBox.x=T.x-1,this.currentBBox.y=T.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var B="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(u=this.svgElement.style).transform=B,u.webkitTransform=B}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var u,f,m,_,w=this.comp.threeDElements.length;for(u=0;u<w;u+=1)if("3d"===(f=this.comp.threeDElements[u]).type){_=f.container.style;var E=this.pe.v+"px",G="0px 0px 0px",F="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(m=f.perspectiveElem.style).perspective=E,m.webkitPerspective=E,_.transformOrigin=G,_.mozTransformOrigin=G,_.webkitTransformOrigin=G,m.transform=F,m.webkitTransform=F}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var u,f,m=this._isFirstFrame;if(this.hierarchy)for(f=this.hierarchy.length,u=0;u<f;u+=1)m=this.hierarchy[u].finalTransform.mProp._mdf||m;if(m||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(u=f=this.hierarchy.length-1;u>=0;u-=1){var _=this.hierarchy[u].finalTransform.mProp;this.mat.translate(-_.p.v[0],-_.p.v[1],_.p.v[2]),this.mat.rotateX(-_.or.v[0]).rotateY(-_.or.v[1]).rotateZ(_.or.v[2]),this.mat.rotateX(-_.rx.v).rotateY(-_.ry.v).rotateZ(_.rz.v),this.mat.scale(1/_.s.v[0],1/_.s.v[1],1/_.s.v[2]),this.mat.translate(_.a.v[0],_.a.v[1],_.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var w;w=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var E=Math.sqrt(Math.pow(w[0],2)+Math.pow(w[1],2)+Math.pow(w[2],2)),G=[w[0]/E,w[1]/E,w[2]/E],F=Math.sqrt(G[2]*G[2]+G[0]*G[0]),U=Math.atan2(G[1],F),X=Math.atan2(G[0],-G[2]);this.mat.rotateY(X).rotateX(-U)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var T=!this._prevMat.equals(this.mat);if((T||this.pe._mdf)&&this.comp.threeDElements){var B,R,N;for(f=this.comp.threeDElements.length,u=0;u<f;u+=1)if("3d"===(B=this.comp.threeDElements[u]).type){if(T){var L=this.mat.toCSS();(N=B.container.style).transform=L,N.webkitTransform=L}this.pe._mdf&&((R=B.perspectiveElem.style).perspective=this.pe.v+"px",R.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(u){this.prepareProperties(u,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var u=this.globalData.getAssetsPath(this.assetData),f=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",u),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(f),f.crossOrigin="anonymous",f.src=u,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(u,f){var m=u.getBaseElement();if(m){var _=this.layers[f];if(_.ddd&&this.supports3d)this.addTo3dContainer(m,f);else if(this.threeDElements)this.addTo3dContainer(m,f);else{for(var w,E,G=0;G<f;)this.elements[G]&&!0!==this.elements[G]&&this.elements[G].getBaseElement&&(E=this.elements[G],w=(this.layers[G].ddd?this.getThreeDContainerByPos(G):E.getBaseElement())||w),G+=1;w?_.ddd&&this.supports3d||this.layerElement.insertBefore(m,w):_.ddd&&this.supports3d||this.layerElement.appendChild(m)}}},HybridRendererBase.prototype.createShape=function(u){return this.supports3d?new HShapeElement(u,this.globalData,this):new SVGShapeElement(u,this.globalData,this)},HybridRendererBase.prototype.createText=function(u){return this.supports3d?new HTextElement(u,this.globalData,this):new SVGTextLottieElement(u,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(u){return this.camera=new HCameraElement(u,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(u){return this.supports3d?new HImageElement(u,this.globalData,this):new IImageElement(u,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(u){return this.supports3d?new HSolidElement(u,this.globalData,this):new ISolidElement(u,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(u){for(var f=0,m=this.threeDElements.length;f<m;){if(this.threeDElements[f].startPos<=u&&this.threeDElements[f].endPos>=u)return this.threeDElements[f].perspectiveElem;f+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(u,f){var m,_,w=createTag("div");styleDiv(w);var E=createTag("div");if(styleDiv(E),"3d"===f){(m=w.style).width=this.globalData.compSize.w+"px",m.height=this.globalData.compSize.h+"px";var G="50% 50%";m.webkitTransformOrigin=G,m.mozTransformOrigin=G,m.transformOrigin=G;var F="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(_=E.style).transform=F,_.webkitTransform=F}w.appendChild(E);var U={container:E,perspectiveElem:w,startPos:u,endPos:u,type:f};return this.threeDElements.push(U),U},HybridRendererBase.prototype.build3dContainers=function(){var u,f,m=this.layers.length,_="";for(u=0;u<m;u+=1)this.layers[u].ddd&&3!==this.layers[u].ty?("3d"!==_&&(_="3d",f=this.createThreeDContainer(u,"3d")),f.endPos=Math.max(f.endPos,u)):("2d"!==_&&(_="2d",f=this.createThreeDContainer(u,"2d")),f.endPos=Math.max(f.endPos,u));for(u=(m=this.threeDElements.length)-1;u>=0;u-=1)this.resizerElem.appendChild(this.threeDElements[u].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(u,f){for(var m=0,_=this.threeDElements.length;m<_;){if(f<=this.threeDElements[m].endPos){for(var w,E=this.threeDElements[m].startPos;E<f;)this.elements[E]&&this.elements[E].getBaseElement&&(w=this.elements[E].getBaseElement()),E+=1;w?this.threeDElements[m].container.insertBefore(u,w):this.threeDElements[m].container.appendChild(u);break}m+=1}},HybridRendererBase.prototype.configAnimation=function(u){var f=createTag("div"),m=this.animationItem.wrapper,_=f.style;_.width=u.w+"px",_.height=u.h+"px",this.resizerElem=f,styleDiv(f),_.transformStyle="flat",_.mozTransformStyle="flat",_.webkitTransformStyle="flat",this.renderConfig.className&&f.setAttribute("class",this.renderConfig.className),m.appendChild(f),_.overflow="hidden";var w=createNS("svg");w.setAttribute("width","1"),w.setAttribute("height","1"),styleDiv(w),this.resizerElem.appendChild(w);var E=createNS("defs");w.appendChild(E),this.data=u,this.setupGlobalData(u,w),this.globalData.defs=E,this.layers=u.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var u;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var f=this.layers?this.layers.length:0;for(u=0;u<f;u+=1)this.elements[u].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var u,f,m,_,w=this.animationItem.wrapper.offsetWidth,E=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>w/E?(u=w/this.globalData.compSize.w,f=w/this.globalData.compSize.w,m=0,_=(E-this.globalData.compSize.h*(w/this.globalData.compSize.w))/2):(u=E/this.globalData.compSize.h,f=E/this.globalData.compSize.h,m=(w-this.globalData.compSize.w*(E/this.globalData.compSize.h))/2,_=0);var F=this.resizerElem.style;F.webkitTransform="matrix3d("+u+",0,0,0,0,"+f+",0,0,0,0,1,0,"+m+","+_+",0,1)",F.transform=F.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var u,f=this.globalData.compSize.w,m=this.globalData.compSize.h,_=this.threeDElements.length;for(u=0;u<_;u+=1){var w=this.threeDElements[u].perspectiveElem.style;w.webkitPerspective=Math.sqrt(Math.pow(f,2)+Math.pow(m,2))+"px",w.perspective=w.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(u){var f,m=u.length,_=createTag("div");for(f=0;f<m;f+=1)if(u[f].xt){var w=this.createComp(u[f],_,this.globalData.comp,null);w.initExpressions(),this.globalData.projectInterface.registerComposition(w)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(u,f){for(var m,_=0;_<f;)this.elements[_]&&this.elements[_].getBaseElement&&(m=this.elements[_].getBaseElement()),_+=1;m?this.layerElement.insertBefore(u,m):this.layerElement.appendChild(u)},HCompElement.prototype.createComp=function(u){return this.supports3d?new HCompElement(u,this.globalData,this):new SVGCompElement(u,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(u){return this.supports3d?new HCompElement(u,this.globalData,this):new SVGCompElement(u,this.globalData,this)};var Expressions=function(){var u={initExpressions:function(f){var m=0,_=[];f.renderer.compInterface=CompExpressionInterface(f.renderer),f.renderer.globalData.projectInterface.registerComposition(f.renderer),f.renderer.globalData.pushExpression=function(){m+=1},f.renderer.globalData.popExpression=function(){0==(m-=1)&&function(){var w,E=_.length;for(w=0;w<E;w+=1)_[w].release();_.length=0}()},f.renderer.globalData.registerExpressionProperty=function(w){-1===_.indexOf(w)&&_.push(w)}}};return u}();function _typeof$1(u){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof$1(u)}function seedRandom(u,f){var _=this,w=256,E=f.pow(w,6),G=f.pow(2,52),F=2*G,U=255;function X(L){var W,k=L.length,K=this,oe=0,le=K.i=K.j=0,we=K.S=[];for(k||(L=[k++]);oe<w;)we[oe]=oe++;for(oe=0;oe<w;oe++)we[oe]=we[le=U&le+L[oe%k]+(W=we[oe])],we[le]=W;K.g=function(Re){for(var Ze,Ge=0,Ke=K.i,yt=K.j,j=K.S;Re--;)Ze=j[Ke=U&Ke+1],Ge=Ge*w+j[U&(j[Ke]=j[yt=U&yt+Ze])+(j[yt]=Ze)];return K.i=Ke,K.j=yt,Ge}}function T(L,W){return W.i=L.i,W.j=L.j,W.S=L.S.slice(),W}function B(L,W){var k,K=[],oe=_typeof$1(L);if(W&&"object"==oe)for(k in L)try{K.push(B(L[k],W-1))}catch{}return K.length?K:"string"==oe?L:L+"\0"}function R(L,W){for(var k,K=L+"",oe=0;oe<K.length;)W[U&oe]=U&(k^=19*W[U&oe])+K.charCodeAt(oe++);return N(W)}function N(L){return String.fromCharCode.apply(0,L)}f.seedrandom=function(L,W,k){var K=[],oe=R(B((W=!0===W?{entropy:!0}:W||{}).entropy?[L,N(u)]:null===L?function(){try{var Re=new Uint8Array(w);return(_.crypto||_.msCrypto).getRandomValues(Re),N(Re)}catch{var Ze=_.navigator,Ge=Ze&&Ze.plugins;return[+new Date,_,Ge,_.screen,N(u)]}}():L,3),K),le=new X(K),we=function(){for(var Re=le.g(6),Ze=E,Ge=0;Re<G;)Re=(Re+Ge)*w,Ze*=w,Ge=le.g(1);for(;Re>=F;)Re/=2,Ze/=2,Ge>>>=1;return(Re+Ge)/Ze};return we.int32=function(){return 0|le.g(4)},we.quick=function(){return le.g(4)/4294967296},we.double=we,R(N(le.S),u),(W.pass||k||function(Re,Ze,Ge,Ke){return Ke&&(Ke.S&&T(Ke,le),Re.state=function(){return T(le,{})}),Ge?(f.random=Re,Ze):Re})(we,oe,"global"in W?W.global:this==f,W.state)},R(f.random(),u)}function initialize$2(u){seedRandom([],u)}var propTypes={SHAPE:"shape"};function _typeof(u){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof(u)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(u){return u.constructor===Array||u.constructor===Float32Array}function isNumerable(u,f){return"number"===u||"boolean"===u||"string"===u||f instanceof Number}function $bm_neg(u){var f=_typeof(u);if("number"===f||"boolean"===f||u instanceof Number)return-u;if($bm_isInstanceOfArray(u)){var m,_=u.length,w=[];for(m=0;m<_;m+=1)w[m]=-u[m];return w}return u.propType?u.v:-u}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(u,f){var m=_typeof(u),_=_typeof(f);if("string"===m||"string"===_||isNumerable(m,u)&&isNumerable(_,f))return u+f;if($bm_isInstanceOfArray(u)&&isNumerable(_,f))return(u=u.slice(0))[0]+=f,u;if(isNumerable(m,u)&&$bm_isInstanceOfArray(f))return(f=f.slice(0))[0]=u+f[0],f;if($bm_isInstanceOfArray(u)&&$bm_isInstanceOfArray(f)){for(var w=0,E=u.length,G=f.length,F=[];w<E||w<G;)F[w]=("number"==typeof u[w]||u[w]instanceof Number)&&("number"==typeof f[w]||f[w]instanceof Number)?u[w]+f[w]:void 0===f[w]?u[w]:u[w]||f[w],w+=1;return F}return 0}var add=sum;function sub(u,f){var m=_typeof(u),_=_typeof(f);if(isNumerable(m,u)&&isNumerable(_,f))return"string"===m&&(u=parseInt(u,10)),"string"===_&&(f=parseInt(f,10)),u-f;if($bm_isInstanceOfArray(u)&&isNumerable(_,f))return(u=u.slice(0))[0]-=f,u;if(isNumerable(m,u)&&$bm_isInstanceOfArray(f))return(f=f.slice(0))[0]=u-f[0],f;if($bm_isInstanceOfArray(u)&&$bm_isInstanceOfArray(f)){for(var w=0,E=u.length,G=f.length,F=[];w<E||w<G;)F[w]=("number"==typeof u[w]||u[w]instanceof Number)&&("number"==typeof f[w]||f[w]instanceof Number)?u[w]-f[w]:void 0===f[w]?u[w]:u[w]||f[w],w+=1;return F}return 0}function mul(u,f){var m,_,w,E=_typeof(u),G=_typeof(f);if(isNumerable(E,u)&&isNumerable(G,f))return u*f;if($bm_isInstanceOfArray(u)&&isNumerable(G,f)){for(m=createTypedArray("float32",w=u.length),_=0;_<w;_+=1)m[_]=u[_]*f;return m}if(isNumerable(E,u)&&$bm_isInstanceOfArray(f)){for(m=createTypedArray("float32",w=f.length),_=0;_<w;_+=1)m[_]=u*f[_];return m}return 0}function div(u,f){var m,_,w,E=_typeof(u),G=_typeof(f);if(isNumerable(E,u)&&isNumerable(G,f))return u/f;if($bm_isInstanceOfArray(u)&&isNumerable(G,f)){for(m=createTypedArray("float32",w=u.length),_=0;_<w;_+=1)m[_]=u[_]/f;return m}if(isNumerable(E,u)&&$bm_isInstanceOfArray(f)){for(m=createTypedArray("float32",w=f.length),_=0;_<w;_+=1)m[_]=u/f[_];return m}return 0}function mod(u,f){return"string"==typeof u&&(u=parseInt(u,10)),"string"==typeof f&&(f=parseInt(f,10)),u%f}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(u,f,m){if(f>m){var _=m;m=f,f=_}return Math.min(Math.max(u,f),m)}function radiansToDegrees(u){return u/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(u){return u*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(u,f){if("number"==typeof u||u instanceof Number)return Math.abs(u-(f=f||0));var m;f||(f=helperLengthArray);var _=Math.min(u.length,f.length),w=0;for(m=0;m<_;m+=1)w+=Math.pow(f[m]-u[m],2);return Math.sqrt(w)}function normalize(u){return div(u,length(u))}function rgbToHsl(u){var f,m,_=u[0],w=u[1],E=u[2],G=Math.max(_,w,E),F=Math.min(_,w,E),U=(G+F)/2;if(G===F)f=0,m=0;else{var X=G-F;switch(m=U>.5?X/(2-G-F):X/(G+F),G){case _:f=(w-E)/X+(w<E?6:0);break;case w:f=(E-_)/X+2;break;case E:f=(_-w)/X+4}f/=6}return[f,m,U,u[3]]}function hue2rgb(u,f,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?u+6*(f-u)*m:m<.5?f:m<2/3?u+(f-u)*(2/3-m)*6:u}function hslToRgb(u){var f,m,_,w=u[0],E=u[1],G=u[2];if(0===E)f=G,_=G,m=G;else{var F=G<.5?G*(1+E):G+E-G*E,U=2*G-F;f=hue2rgb(U,F,w+1/3),m=hue2rgb(U,F,w),_=hue2rgb(U,F,w-1/3)}return[f,m,_,u[3]]}function linear(u,f,m,_,w){if(void 0!==_&&void 0!==w||(_=f,w=m,f=0,m=1),m<f){var E=m;m=f,f=E}if(u<=f)return _;if(u>=m)return w;var G,F=m===f?0:(u-f)/(m-f);if(!_.length)return _+(w-_)*F;var U=_.length,X=createTypedArray("float32",U);for(G=0;G<U;G+=1)X[G]=_[G]+(w[G]-_[G])*F;return X}function random(u,f){if(void 0===f&&(void 0===u?(u=0,f=1):(f=u,u=void 0)),f.length){var m,_=f.length;u||(u=createTypedArray("float32",_));var w=createTypedArray("float32",_),E=BMMath.random();for(m=0;m<_;m+=1)w[m]=u[m]+E*(f[m]-u[m]);return w}return void 0===u&&(u=0),u+BMMath.random()*(f-u)}function createPath(u,f,m,_){var w,E=u.length,G=shapePool.newElement();G.setPathData(!!_,E);var F,U,X=[0,0];for(w=0;w<E;w+=1)G.setTripleAt(u[w][0],u[w][1],(U=m&&m[w]?m[w]:X)[0]+u[w][0],U[1]+u[w][1],(F=f&&f[w]?f[w]:X)[0]+u[w][0],F[1]+u[w][1],w,!0);return G}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(u,f){var m,_,w=this.pv.length?this.pv.length:1,E=createTypedArray("float32",w),G=Math.floor(5*time);for(m=0,_=0;m<G;){for(_=0;_<w;_+=1)E[_]+=-f+2*f*BMMath.random();m+=1}var F=5*time,U=F-Math.floor(F),X=createTypedArray("float32",w);if(w>1){for(_=0;_<w;_+=1)X[_]=this.pv[_]+E[_]+(-f+2*f*BMMath.random())*U;return X}return this.pv+E[0]+(-f+2*f*BMMath.random())*U}.bind(this);function loopInDuration(u,f){return loopIn(u,f,!0)}function loopOutDuration(u,f){return loopOut(u,f,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(u,f){var m=[f[0]-u[0],f[1]-u[1],f[2]-u[2]],_=Math.atan2(m[0],Math.sqrt(m[1]*m[1]+m[2]*m[2]))/degToRads;return[-Math.atan2(m[1],m[2])/degToRads,_,0]}function easeOut(u,f,m,_,w){return applyEase(easeOutBez,u,f,m,_,w)}function easeIn(u,f,m,_,w){return applyEase(easeInBez,u,f,m,_,w)}function ease(u,f,m,_,w){return applyEase(easeInOutBez,u,f,m,_,w)}function applyEase(u,f,m,_,w,E){void 0===w?(w=m,E=_):f=(f-m)/(_-m),f>1?f=1:f<0&&(f=0);var G=u(f);if($bm_isInstanceOfArray(w)){var F,U=w.length,X=createTypedArray("float32",U);for(F=0;F<U;F+=1)X[F]=(E[F]-w[F])*G+w[F];return X}return(E-w)*G+w}function nearestKey(u){var f,m,_,w=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(m=-1,(u*=elem.comp.globalData.frameRate)<data.k[0].t)m=1,_=data.k[0].t;else{for(f=0;f<w-1;f+=1){if(u===data.k[f].t){m=f+1,_=data.k[f].t;break}if(u>data.k[f].t&&u<data.k[f+1].t){u-data.k[f].t>data.k[f+1].t-u?(m=f+2,_=data.k[f+1].t):(m=f+1,_=data.k[f].t);break}}-1===m&&(m=f+1,_=data.k[f].t)}else m=0,_=0;var E={};return E.index=m,E.time=_/elem.comp.globalData.frameRate,E}function key(u){var f,m,_;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+u);f={time:data.k[u-=1].t/elem.comp.globalData.frameRate,value:[]};var w=Object.prototype.hasOwnProperty.call(data.k[u],"s")?data.k[u].s:data.k[u-1].e;for(_=w.length,m=0;m<_;m+=1)f[m]=w[m],f.value[m]=w[m];return f}function framesToTime(u,f){return f||(f=elem.comp.globalData.frameRate),u/f}function timeToFrames(u,f){return u||0===u||(u=time),f||(f=elem.comp.globalData.frameRate),u*f}function seedRandom(u){BMMath.seedrandom(randSeed+u)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(u,f){return"string"==typeof value?void 0===f?value.substring(u):value.substring(u,f):""}function substr(u,f){return"string"==typeof value?void 0===f?value.substr(u):value.substr(u,f):""}function posterizeTime(u){time=0===u?0:Math.floor(time*u)/u,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(u){return value=u,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(u,f,m){f.x&&(m.k=!0,m.x=!0,m.initiateExpression=ExpressionManager.initiateExpression,m.effectsSequence.push(m.initiateExpression(u,f,m).bind(m)))},getSpeedAtTime:function(u){var f=this.getValueAtTime(u),m=this.getValueAtTime(u+-.01),_=0;if(f.length){var w;for(w=0;w<f.length;w+=1)_+=Math.pow(m[w]-f[w],2);_=100*Math.sqrt(_)}else _=0;return _},getVelocityAtTime:function(u){if(void 0!==this.vel)return this.vel;var f,m,_=-.001,w=this.getValueAtTime(u),E=this.getValueAtTime(u+_);if(w.length)for(f=createTypedArray("float32",w.length),m=0;m<w.length;m+=1)f[m]=(E[m]-w[m])/_;else f=(E-w)/_;return f},getValueAtTime:function(u){return u*=this.elem.globalData.frameRate,(u-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<u?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(u,this._cachingAtTime),this._cachingAtTime.lastFrame=u),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(u){this.propertyGroup=u}};function addPropertyDecorator(){function u(B,R,N){if(!this.k||!this.keyframes)return this.pv;B=B?B.toLowerCase():"";var L,W,k,K,oe,le=this.comp.renderedFrame,we=this.keyframes,Re=we[we.length-1].t;if(le<=Re)return this.pv;if(N?W=Re-(L=R?Math.abs(Re-this.elem.comp.globalData.frameRate*R):Math.max(0,Re-this.elem.data.ip)):((!R||R>we.length-1)&&(R=we.length-1),L=Re-(W=we[we.length-1-R].t)),"pingpong"===B){if(Math.floor((le-W)/L)%2!=0)return this.getValueAtTime((L-(le-W)%L+W)/this.comp.globalData.frameRate,0)}else{if("offset"===B){var Ze=this.getValueAtTime(W/this.comp.globalData.frameRate,0),Ge=this.getValueAtTime(Re/this.comp.globalData.frameRate,0),Ke=this.getValueAtTime(((le-W)%L+W)/this.comp.globalData.frameRate,0),yt=Math.floor((le-W)/L);if(this.pv.length){for(K=(oe=new Array(Ze.length)).length,k=0;k<K;k+=1)oe[k]=(Ge[k]-Ze[k])*yt+Ke[k];return oe}return(Ge-Ze)*yt+Ke}if("continue"===B){var j=this.getValueAtTime(Re/this.comp.globalData.frameRate,0),Te=this.getValueAtTime((Re-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(K=(oe=new Array(j.length)).length,k=0;k<K;k+=1)oe[k]=j[k]+(le-Re)/this.comp.globalData.frameRate*(j[k]-Te[k])/5e-4;return oe}return j+(le-Re)/.001*(j-Te)}}return this.getValueAtTime(((le-W)%L+W)/this.comp.globalData.frameRate,0)}function f(B,R,N){if(!this.k)return this.pv;B=B?B.toLowerCase():"";var L,W,k,K,oe,le=this.comp.renderedFrame,we=this.keyframes,Re=we[0].t;if(le>=Re)return this.pv;if(N?W=Re+(L=R?Math.abs(this.elem.comp.globalData.frameRate*R):Math.max(0,this.elem.data.op-Re)):((!R||R>we.length-1)&&(R=we.length-1),L=(W=we[R].t)-Re),"pingpong"===B){if(Math.floor((Re-le)/L)%2==0)return this.getValueAtTime(((Re-le)%L+Re)/this.comp.globalData.frameRate,0)}else{if("offset"===B){var Ze=this.getValueAtTime(Re/this.comp.globalData.frameRate,0),Ge=this.getValueAtTime(W/this.comp.globalData.frameRate,0),Ke=this.getValueAtTime((L-(Re-le)%L+Re)/this.comp.globalData.frameRate,0),yt=Math.floor((Re-le)/L)+1;if(this.pv.length){for(K=(oe=new Array(Ze.length)).length,k=0;k<K;k+=1)oe[k]=Ke[k]-(Ge[k]-Ze[k])*yt;return oe}return Ke-(Ge-Ze)*yt}if("continue"===B){var j=this.getValueAtTime(Re/this.comp.globalData.frameRate,0),Te=this.getValueAtTime((Re+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(K=(oe=new Array(j.length)).length,k=0;k<K;k+=1)oe[k]=j[k]+(j[k]-Te[k])*(Re-le)/.001;return oe}return j+(j-Te)*(Re-le)/.001}}return this.getValueAtTime((L-((Re-le)%L+Re))/this.comp.globalData.frameRate,0)}function m(B,R){if(!this.k)return this.pv;if(B=.5*(B||.4),(R=Math.floor(R||5))<=1)return this.pv;var N,L,W=this.comp.renderedFrame/this.comp.globalData.frameRate,k=W-B,K=R>1?(W+B-k)/(R-1):1,oe=0,le=0;for(N=this.pv.length?createTypedArray("float32",this.pv.length):0;oe<R;){if(L=this.getValueAtTime(k+oe*K),this.pv.length)for(le=0;le<this.pv.length;le+=1)N[le]+=L[le];else N+=L;oe+=1}if(this.pv.length)for(le=0;le<this.pv.length;le+=1)N[le]/=R;else N/=R;return N}function _(B){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var R=this._transformCachingAtTime.v;if(R.cloneFromProps(this.pre.props),this.appliedTransformations<1){var N=this.a.getValueAtTime(B);R.translate(-N[0]*this.a.mult,-N[1]*this.a.mult,N[2]*this.a.mult)}if(this.appliedTransformations<2){var L=this.s.getValueAtTime(B);R.scale(L[0]*this.s.mult,L[1]*this.s.mult,L[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var W=this.sk.getValueAtTime(B),k=this.sa.getValueAtTime(B);R.skewFromAxis(-W*this.sk.mult,k*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var K=this.r.getValueAtTime(B);R.rotate(-K*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var oe=this.rz.getValueAtTime(B),le=this.ry.getValueAtTime(B),we=this.rx.getValueAtTime(B),Re=this.or.getValueAtTime(B);R.rotateZ(-oe*this.rz.mult).rotateY(le*this.ry.mult).rotateX(we*this.rx.mult).rotateZ(-Re[2]*this.or.mult).rotateY(Re[1]*this.or.mult).rotateX(Re[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Ze=this.px.getValueAtTime(B),Ge=this.py.getValueAtTime(B);if(this.data.p.z){var Ke=this.pz.getValueAtTime(B);R.translate(Ze*this.px.mult,Ge*this.py.mult,-Ke*this.pz.mult)}else R.translate(Ze*this.px.mult,Ge*this.py.mult,0)}else{var yt=this.p.getValueAtTime(B);R.translate(yt[0]*this.p.mult,yt[1]*this.p.mult,-yt[2]*this.p.mult)}return R}function w(){return this.v.clone(new Matrix)}var E=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(B,R,N){var L=E(B,R,N);return L.getValueAtTime=L.dynamicProperties.length?_.bind(L):w.bind(L),L.setGroupProperty=expressionHelpers.setGroupProperty,L};var G=PropertyFactory.getProp;PropertyFactory.getProp=function(B,R,N,L,W){var k=G(B,R,N,L,W);k.getValueAtTime=k.kf?expressionHelpers.getValueAtTime.bind(k):expressionHelpers.getStaticValueAtTime.bind(k),k.setGroupProperty=expressionHelpers.setGroupProperty,k.loopOut=u,k.loopIn=f,k.smooth=m,k.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(k),k.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(k),k.numKeys=1===R.a?R.k.length:0,k.propertyIndex=R.ix;var K=0;return 0!==N&&(K=createTypedArray("float32",1===R.a?R.k[0].s.length:R.k.length)),k._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:K},expressionHelpers.searchExpressions(B,R,k),k.k&&W.addDynamicProperty(k),k};var F=ShapePropertyFactory.getConstructorFunction(),U=ShapePropertyFactory.getKeyframedConstructorFunction();function X(){}X.prototype={vertices:function(B,R){this.k&&this.getValue();var N,L=this.v;void 0!==R&&(L=this.getValueAtTime(R,0));var W=L._length,k=L[B],K=L.v,oe=createSizedArray(W);for(N=0;N<W;N+=1)oe[N]="i"===B||"o"===B?[k[N][0]-K[N][0],k[N][1]-K[N][1]]:[k[N][0],k[N][1]];return oe},points:function(B){return this.vertices("v",B)},inTangents:function(B){return this.vertices("i",B)},outTangents:function(B){return this.vertices("o",B)},isClosed:function(){return this.v.c},pointOnPath:function(B,R){var N=this.v;void 0!==R&&(N=this.getValueAtTime(R,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(N));for(var L,W=this._segmentsLength,k=W.lengths,K=W.totalLength*B,oe=0,le=k.length,we=0;oe<le;){if(we+k[oe].addedLength>K){var Ze=N.c&&oe===le-1?0:oe+1;L=bez.getPointInSegment(N.v[oe],N.v[Ze],N.o[oe],N.i[Ze],(K-we)/k[oe].addedLength,k[oe]);break}we+=k[oe].addedLength,oe+=1}return L||(L=N.c?[N.v[0][0],N.v[0][1]]:[N.v[N._length-1][0],N.v[N._length-1][1]]),L},vectorOnPath:function(B,R,N){1==B?B=this.v.c:0==B&&(B=.999);var L=this.pointOnPath(B,R),W=this.pointOnPath(B+.001,R),k=W[0]-L[0],K=W[1]-L[1],oe=Math.sqrt(Math.pow(k,2)+Math.pow(K,2));return 0===oe?[0,0]:"tangent"===N?[k/oe,K/oe]:[-K/oe,k/oe]},tangentOnPath:function(B,R){return this.vectorOnPath(B,R,"tangent")},normalOnPath:function(B,R){return this.vectorOnPath(B,R,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([X],F),extendPrototype([X],U),U.prototype.getValueAtTime=function(B){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),B*=this.elem.globalData.frameRate,(B-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<B?this._caching.lastIndex:0,this._cachingAtTime.lastTime=B,this.interpolateShape(B,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},U.prototype.initiateExpression=ExpressionManager.initiateExpression;var T=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(B,R,N,L,W){var k=T(B,R,N,L,W);return k.propertyIndex=R.ix,k.lock=!1,3===N?expressionHelpers.searchExpressions(B,R.pt,k):4===N&&expressionHelpers.searchExpressions(B,R.ks,k),k.k&&B.addDynamicProperty(k),k}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(u,f){var m=this.calculateExpression(f);if(u.t!==m){var _={};return this.copyData(_,u),_.t=m.toString(),_.__complete=!1,_}return u},TextProperty.prototype.searchProperty=function(){var u=this.searchKeyframes(),f=this.searchExpressions();return this.kf=u||f,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(u,f,m,_,w){this.filterManager=f;var E=createNS("feColorMatrix");E.setAttribute("type","matrix"),E.setAttribute("color-interpolation-filters","linearRGB"),E.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),E.setAttribute("result",_+"_tint_1"),u.appendChild(E),(E=createNS("feColorMatrix")).setAttribute("type","matrix"),E.setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),E.setAttribute("result",_+"_tint_2"),u.appendChild(E),this.matrixFilter=E;var G=this.createMergeNode(_,[w,_+"_tint_1",_+"_tint_2"]);u.appendChild(G)}function SVGFillFilter(u,f,m,_){this.filterManager=f;var w=createNS("feColorMatrix");w.setAttribute("type","matrix"),w.setAttribute("color-interpolation-filters","sRGB"),w.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),w.setAttribute("result",_),u.appendChild(w),this.matrixFilter=w}function SVGStrokeEffect(u,f,m){this.initialized=!1,this.filterManager=f,this.elem=m,this.paths=[]}function SVGTritoneFilter(u,f,m,_){this.filterManager=f;var w=createNS("feColorMatrix");w.setAttribute("type","matrix"),w.setAttribute("color-interpolation-filters","linearRGB"),w.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),u.appendChild(w);var E=createNS("feComponentTransfer");E.setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("result",_),this.matrixFilter=E;var G=createNS("feFuncR");G.setAttribute("type","table"),E.appendChild(G),this.feFuncR=G;var F=createNS("feFuncG");F.setAttribute("type","table"),E.appendChild(F),this.feFuncG=F;var U=createNS("feFuncB");U.setAttribute("type","table"),E.appendChild(U),this.feFuncB=U,u.appendChild(E)}function SVGProLevelsFilter(u,f,m,_){this.filterManager=f;var w=this.filterManager.effectElements,E=createNS("feComponentTransfer");(w[10].p.k||0!==w[10].p.v||w[11].p.k||1!==w[11].p.v||w[12].p.k||1!==w[12].p.v||w[13].p.k||0!==w[13].p.v||w[14].p.k||1!==w[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",E)),(w[17].p.k||0!==w[17].p.v||w[18].p.k||1!==w[18].p.v||w[19].p.k||1!==w[19].p.v||w[20].p.k||0!==w[20].p.v||w[21].p.k||1!==w[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",E)),(w[24].p.k||0!==w[24].p.v||w[25].p.k||1!==w[25].p.v||w[26].p.k||1!==w[26].p.v||w[27].p.k||0!==w[27].p.v||w[28].p.k||1!==w[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",E)),(w[31].p.k||0!==w[31].p.v||w[32].p.k||1!==w[32].p.v||w[33].p.k||1!==w[33].p.v||w[34].p.k||0!==w[34].p.v||w[35].p.k||1!==w[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",E)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(E.setAttribute("color-interpolation-filters","sRGB"),u.appendChild(E)),(w[3].p.k||0!==w[3].p.v||w[4].p.k||1!==w[4].p.v||w[5].p.k||1!==w[5].p.v||w[6].p.k||0!==w[6].p.v||w[7].p.k||1!==w[7].p.v)&&((E=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("result",_),u.appendChild(E),this.feFuncRComposed=this.createFeFunc("feFuncR",E),this.feFuncGComposed=this.createFeFunc("feFuncG",E),this.feFuncBComposed=this.createFeFunc("feFuncB",E))}function SVGDropShadowEffect(u,f,m,_,w){var E=f.container.globalData.renderConfig.filterSize,G=f.data.fs||E;u.setAttribute("x",G.x||E.x),u.setAttribute("y",G.y||E.y),u.setAttribute("width",G.width||E.width),u.setAttribute("height",G.height||E.height),this.filterManager=f;var F=createNS("feGaussianBlur");F.setAttribute("in","SourceAlpha"),F.setAttribute("result",_+"_drop_shadow_1"),F.setAttribute("stdDeviation","0"),this.feGaussianBlur=F,u.appendChild(F);var U=createNS("feOffset");U.setAttribute("dx","25"),U.setAttribute("dy","0"),U.setAttribute("in",_+"_drop_shadow_1"),U.setAttribute("result",_+"_drop_shadow_2"),this.feOffset=U,u.appendChild(U);var X=createNS("feFlood");X.setAttribute("flood-color","#00ff00"),X.setAttribute("flood-opacity","1"),X.setAttribute("result",_+"_drop_shadow_3"),this.feFlood=X,u.appendChild(X);var T=createNS("feComposite");T.setAttribute("in",_+"_drop_shadow_3"),T.setAttribute("in2",_+"_drop_shadow_2"),T.setAttribute("operator","in"),T.setAttribute("result",_+"_drop_shadow_4"),u.appendChild(T);var B=this.createMergeNode(_,[_+"_drop_shadow_4",w]);u.appendChild(B)}SVGComposableEffect.prototype={createMergeNode:function(u,f){var m,_,w=createNS("feMerge");for(w.setAttribute("result",u),_=0;_<f.length;_+=1)(m=createNS("feMergeNode")).setAttribute("in",f[_]),w.appendChild(m),w.appendChild(m);return w}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(u){if(u||this.filterManager._mdf){var f=this.filterManager.effectElements[0].p.v,m=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",m[0]-f[0]+" 0 0 0 "+f[0]+" "+(m[1]-f[1])+" 0 0 0 "+f[1]+" "+(m[2]-f[2])+" 0 0 0 "+f[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(u){if(u||this.filterManager._mdf){var f=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+f[0]+" 0 0 0 0 "+f[1]+" 0 0 0 0 "+f[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var u,f,m,_,w=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(_=this.elem.maskManager.masksProperties.length,m=0):_=1+(m=this.filterManager.effectElements[0].p.v-1),(f=createNS("g")).setAttribute("fill","none"),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-dashoffset",1);m<_;m+=1)u=createNS("path"),f.appendChild(u),this.paths.push({p:u,m});if(3===this.filterManager.effectElements[10].p.v){var E=createNS("mask"),G=createElementID();E.setAttribute("id",G),E.setAttribute("mask-type","alpha"),E.appendChild(f),this.elem.globalData.defs.appendChild(E);var F=createNS("g");for(F.setAttribute("mask","url("+getLocationHref()+"#"+G+")");w[0];)F.appendChild(w[0]);this.elem.layerElement.appendChild(F),this.masker=E,f.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(w=this.elem.layerElement.children||this.elem.layerElement.childNodes;w.length;)this.elem.layerElement.removeChild(w[0]);this.elem.layerElement.appendChild(f),this.elem.layerElement.removeAttribute("mask"),f.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=f},SVGStrokeEffect.prototype.renderFrame=function(u){var f;this.initialized||this.initialize();var m,_,w=this.paths.length;for(f=0;f<w;f+=1)if(-1!==this.paths[f].m&&(m=this.elem.maskManager.viewData[this.paths[f].m],_=this.paths[f].p,(u||this.filterManager._mdf||m.prop._mdf)&&_.setAttribute("d",m.lastPath),u||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||m.prop._mdf)){var E;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var G=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),F=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),U=_.getTotalLength();E="0 0 0 "+U*G+" ";var X,R=Math.floor(U*(F-G)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(X=0;X<R;X+=1)E+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";E+="0 "+10*U+" 0 0"}else E="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;_.setAttribute("stroke-dasharray",E)}if((u||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(u||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(u||this.filterManager.effectElements[3].p._mdf)){var N=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*N[0])+","+bmFloor(255*N[1])+","+bmFloor(255*N[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(u){if(u||this.filterManager._mdf){var f=this.filterManager.effectElements[0].p.v,m=this.filterManager.effectElements[1].p.v,_=this.filterManager.effectElements[2].p.v,E=_[1]+" "+m[1]+" "+f[1],G=_[2]+" "+m[2]+" "+f[2];this.feFuncR.setAttribute("tableValues",_[0]+" "+m[0]+" "+f[0]),this.feFuncG.setAttribute("tableValues",E),this.feFuncB.setAttribute("tableValues",G)}},SVGProLevelsFilter.prototype.createFeFunc=function(u,f){var m=createNS(u);return m.setAttribute("type","table"),f.appendChild(m),m},SVGProLevelsFilter.prototype.getTableValue=function(u,f,m,_,w){for(var E,G,F=0,U=Math.min(u,f),X=Math.max(u,f),T=Array.call(null,{length:256}),B=0,R=w-_,N=f-u;F<=256;)G=(E=F/256)<=U?N<0?w:_:E>=X?N<0?_:w:_+R*Math.pow((E-u)/N,1/m),T[B]=G,B+=1,F+=256/255;return T.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(u){if(u||this.filterManager._mdf){var f,m=this.filterManager.effectElements;this.feFuncRComposed&&(u||m[3].p._mdf||m[4].p._mdf||m[5].p._mdf||m[6].p._mdf||m[7].p._mdf)&&(f=this.getTableValue(m[3].p.v,m[4].p.v,m[5].p.v,m[6].p.v,m[7].p.v),this.feFuncRComposed.setAttribute("tableValues",f),this.feFuncGComposed.setAttribute("tableValues",f),this.feFuncBComposed.setAttribute("tableValues",f)),this.feFuncR&&(u||m[10].p._mdf||m[11].p._mdf||m[12].p._mdf||m[13].p._mdf||m[14].p._mdf)&&(f=this.getTableValue(m[10].p.v,m[11].p.v,m[12].p.v,m[13].p.v,m[14].p.v),this.feFuncR.setAttribute("tableValues",f)),this.feFuncG&&(u||m[17].p._mdf||m[18].p._mdf||m[19].p._mdf||m[20].p._mdf||m[21].p._mdf)&&(f=this.getTableValue(m[17].p.v,m[18].p.v,m[19].p.v,m[20].p.v,m[21].p.v),this.feFuncG.setAttribute("tableValues",f)),this.feFuncB&&(u||m[24].p._mdf||m[25].p._mdf||m[26].p._mdf||m[27].p._mdf||m[28].p._mdf)&&(f=this.getTableValue(m[24].p.v,m[25].p.v,m[26].p.v,m[27].p.v,m[28].p.v),this.feFuncB.setAttribute("tableValues",f)),this.feFuncA&&(u||m[31].p._mdf||m[32].p._mdf||m[33].p._mdf||m[34].p._mdf||m[35].p._mdf)&&(f=this.getTableValue(m[31].p.v,m[32].p.v,m[33].p.v,m[34].p.v,m[35].p.v),this.feFuncA.setAttribute("tableValues",f))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(u){if(u||this.filterManager._mdf){if((u||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),u||this.filterManager.effectElements[0].p._mdf){var f=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*f[0]),Math.round(255*f[1]),Math.round(255*f[2])))}if((u||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),u||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var m=this.filterManager.effectElements[3].p.v,_=(this.filterManager.effectElements[2].p.v-90)*degToRads,w=m*Math.cos(_),E=m*Math.sin(_);this.feOffset.setAttribute("dx",w),this.feOffset.setAttribute("dy",E)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(u,f,m){this.initialized=!1,this.filterManager=f,this.filterElem=u,this.elem=m,m.matteElement=createNS("g"),m.matteElement.appendChild(m.layerElement),m.matteElement.appendChild(m.transformedElement),m.baseElement=m.matteElement}function SVGGaussianBlurEffect(u,f,m,_){u.setAttribute("x","-100%"),u.setAttribute("y","-100%"),u.setAttribute("width","300%"),u.setAttribute("height","300%"),this.filterManager=f;var w=createNS("feGaussianBlur");w.setAttribute("result",_),u.appendChild(w),this.feGaussianBlur=w}return SVGMatte3Effect.prototype.findSymbol=function(u){for(var f=0,m=_svgMatteSymbols.length;f<m;){if(_svgMatteSymbols[f]===u)return _svgMatteSymbols[f];f+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(u,f){var m=u.layerElement.parentNode;if(m){for(var _,w=m.children,E=0,G=w.length;E<G&&w[E]!==u.layerElement;)E+=1;E<=G-2&&(_=w[E+1]);var F=createNS("use");F.setAttribute("href","#"+f),_?m.insertBefore(F,_):m.appendChild(F)}},SVGMatte3Effect.prototype.setElementAsMask=function(u,f){if(!this.findSymbol(f)){var m=createElementID(),_=createNS("mask");_.setAttribute("id",f.layerId),_.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(f);var w=u.globalData.defs;w.appendChild(_);var E=createNS("symbol");E.setAttribute("id",m),this.replaceInParent(f,m),E.appendChild(f.layerElement),w.appendChild(E);var G=createNS("use");G.setAttribute("href","#"+m),_.appendChild(G),f.data.hd=!1,f.show()}u.setMatte(f.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var u=this.filterManager.effectElements[0].p.v,f=this.elem.comp.elements,m=0,_=f.length;m<_;)f[m]&&f[m].data.ind===u&&this.setElementAsMask(this.elem,f[m]),m+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(u){if(u||this.filterManager._mdf){var f=.3*this.filterManager.effectElements[0].p.v,m=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==m?0:f)+" "+(2==m?0:f)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=f())},5861:(u,f,m)=>{"use strict";function _(E,G,F,U,X,T,B){try{var R=E[T](B),N=R.value}catch(L){return void F(L)}R.done?G(N):Promise.resolve(N).then(U,X)}function w(E){return function(){var G=this,F=arguments;return new Promise(function(U,X){var T=E.apply(G,F);function B(N){_(T,U,X,B,R,"next",N)}function R(N){_(T,U,X,B,R,"throw",N)}B(void 0)})}}m.d(f,{Z:()=>w})}},u=>{u(u.s=4154)}]);