(self.webpackChunkpixtarAE=self.webpackChunkpixtarAE||[]).push([[179],{4154:(p,g,m)=>{"use strict";var _=m(8929),C=m(4096),E=m(4202),H=m(6787),L=m(8117);function U(e){for(let t in e)if(e[t]===U)return t;throw Error("Could not find renamed property on target object.")}function X(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function T(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(T).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function B(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const R=U({__forward_ref__:U});function N(e){return e.__forward_ref__=N,e.toString=function(){return T(this())},e}function F(e){return G(e)?e():e}function G(e){return"function"==typeof e&&e.hasOwnProperty(R)&&e.__forward_ref__===N}function I(e){return e&&!!e.\u0275providers}const oe="https://g.co/ng/security#xss";class le extends Error{constructor(t,n){super(be(t,n)),this.code=t}}function be(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Ae(e){return"string"==typeof e?e:null==e?"":String(e)}function j(e,t){throw new le(-201,!1)}function ln(e,t){null==e&&function Nt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Ct(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function $n(e){return Ai(e,eo)||Ai(e,Rr)}function Ai(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ki(e){return e&&(e.hasOwnProperty(Qi)||e.hasOwnProperty(fr))?e[Qi]:null}const eo=U({\u0275prov:U}),Qi=U({\u0275inj:U}),Rr=U({ngInjectableDef:U}),fr=U({ngInjectorDef:U});var en=(()=>((en=en||{})[en.Default=0]="Default",en[en.Host=1]="Host",en[en.Self=2]="Self",en[en.SkipSelf=4]="SkipSelf",en[en.Optional=8]="Optional",en))();let Qn;function Ri(e){const t=Qn;return Qn=e,t}function Ni(e,t,n){const i=$n(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&en.Optional?null:void 0!==t?t:void j(T(e))}const Wn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sr={},cn="__NG_DI_FLAG__",qn="ngTempTokenPath",ar="ngTokenPath",br=/\n/gm,Or="\u0275",Sr="__source";let Hr;function ko(e){const t=Hr;return Hr=e,t}function ho(e,t=en.Default){if(void 0===Hr)throw new le(-203,!1);return null===Hr?Ni(e,void 0,t):Hr.get(e,t&en.Optional?null:void 0,t)}function Et(e,t=en.Default){return(function rr(){return Qn}()||ho)(F(e),t)}function ri(e,t=en.Default){return Et(e,Yr(t))}function Yr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zt(e){const t=[];for(let n=0;n<e.length;n++){const i=F(e[n]);if(Array.isArray(i)){if(0===i.length)throw new le(900,!1);let r,o=en.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Ht(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(Et(r,o))}else t.push(Et(i))}return t}function Pt(e,t){return e[cn]=t,e.prototype[cn]=t,e}function Ht(e){return e[cn]}function Fn(e){return{toString:e}.toString()}var Wi=(()=>((Wi=Wi||{})[Wi.OnPush=0]="OnPush",Wi[Wi.Default=1]="Default",Wi))(),Kn=(()=>{return(e=Kn||(Kn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Kn;var e})();const gr={},Ln=[],mr=U({\u0275cmp:U}),Ma=U({\u0275dir:U}),Bc=U({\u0275pipe:U}),Er=U({\u0275mod:U}),il=U({\u0275fac:U}),Sd=U({__NG_ELEMENT_ID__:U});let Ap=0;function Mi(e){return Fn(()=>{const t=Mh(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Kn.Emulated,id:"c"+Ap++,styles:e.styles||Ln,_:null,schemas:e.schemas||null,tView:null};fu(n);const i=e.dependencies;return n.directiveDefs=gu(i,!1),n.pipeDefs=gu(i,!0),n})}function Tp(e){return lr(e)||Qo(e)}function wh(e){return null!==e}function Si(e){return Fn(()=>({type:e.type,bootstrap:e.bootstrap||Ln,declarations:e.declarations||Ln,imports:e.imports||Ln,exports:e.exports||Ln,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function lc(e,t){if(null==e)return gr;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}function Xt(e){return Fn(()=>{const t=Mh(e);return fu(t),t})}function Vo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function lr(e){return e[mr]||null}function Qo(e){return e[Ma]||null}function Io(e){return e[Bc]||null}function Zo(e,t){const n=e[Er]||null;if(!n&&!0===t)throw new Error(`Type ${T(e)} does not have '\u0275mod' property.`);return n}function Mh(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ln,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lc(e.inputs,t),outputs:lc(e.outputs)}}function fu(e){e.features?.forEach(t=>t(e))}function gu(e,t){if(!e)return null;const n=t?Io:Tp;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(wh)}const da=0,wn=1,Ti=2,to=3,ua=4,rl=5,Ho=6,Xr=7,Nr=8,dc=9,mu=10,ki=11,Ed=12,Pa=13,zc=14,uc=15,Bo=16,Uc=17,Jo=18,Oa=19,Ro=20,kp=21,Gr=22,Os=1,vu=2,Vc=7,ol=8,hc=9,Go=10;function Ss(e){return Array.isArray(e)&&"object"==typeof e[Os]}function ha(e){return Array.isArray(e)&&!0===e[Os]}function yu(e){return 0!=(4&e.flags)}function Dd(e){return e.componentOffset>-1}function sl(e){return 1==(1&e.flags)}function Gs(e){return!!e.template}function og(e){return 0!=(256&e[Ti])}function pc(e,t){return e.hasOwnProperty(il)?e[il]:null}class _u{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function P(){return k}function k(e){return e.type.prototype.ngOnChanges&&(e.setInput=ne),Z}function Z(){const e=he(this),t=e?.current;if(t){const n=e.previous;if(n===gr)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function ne(e,t,n,i){const r=this.declaredInputs[n],o=he(e)||function me(e,t){return e[ue]=t}(e,{previous:gr,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new _u(l&&l.currentValue,t,a===gr),e[i]=t}P.ngInherit=!0;const ue="__ngSimpleChanges__";function he(e){return e[ue]||null}const Qe=function(e,t,n){};function st(e){for(;Array.isArray(e);)e=e[da];return e}function Zn(e,t){return st(t[e])}function oi(e,t){return st(t[e.index])}function No(e,t){return e.data[t]}function Wr(e,t){return e[t]}function Fr(e,t){const n=t[e];return Ss(n)?n:n[da]}function wi(e){return 64==(64&e[Ti])}function Fi(e,t){return null==t?null:e[t]}function no(e){e[Jo]=0}function Nl(e,t){e[rl]+=t;let n=e,i=e[to];for(;null!==i&&(1===t&&1===n[rl]||-1===t&&0===n[rl]);)i[rl]+=t,n=i,i=i[to]}const di={lFrame:Tt(null),bindingsEnabled:!0};function Es(){return di.bindingsEnabled}function It(){return di.lFrame.lView}function nr(){return di.lFrame.tView}function En(e){return di.lFrame.contextLView=e,e[Nr]}function kn(e){return di.lFrame.contextLView=null,e}function yi(){let e=Wc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Wc(){return di.lFrame.currentTNode}function Mo(e,t){const n=di.lFrame;n.currentTNode=e,n.isParent=t}function Sh(){return di.lFrame.isParent}function Eh(){di.lFrame.isParent=!1}function po(){const e=di.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function al(){return di.lFrame.bindingIndex++}function qs(e){const t=di.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Cu(e,t){const n=di.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xc(t)}function Xc(e){di.lFrame.currentDirectiveIndex=e}function Mu(){return di.lFrame.currentQueryIndex}function kd(e){di.lFrame.currentQueryIndex=e}function De(e){const t=e[wn];return 2===t.type?t.declTNode:1===t.type?e[Ho]:null}function Ke(e,t,n){if(n&en.SkipSelf){let r=t,o=e;for(;!(r=r.parent,null!==r||n&en.Host||(r=De(o),null===r||(o=o[uc],10&r.type))););if(null===r)return!1;t=r,e=o}const i=di.lFrame=bt();return i.currentTNode=t,i.lView=e,!0}function dt(e){const t=bt(),n=e[wn];di.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bt(){const e=di.lFrame,t=null===e?null:e.child;return null===t?Tt(e):t}function Tt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function an(){const e=di.lFrame;return di.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const bn=an;function Bn(){const e=an();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ve(){return di.lFrame.selectedIndex}function z(e){di.lFrame.selectedIndex=e}function ee(){const e=di.lFrame;return No(e.tView,e.selectedIndex)}function ds(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks??(e.contentHooks=[])).push(n,a),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks??(e.viewHooks=[])).push(-n,l),c&&((e.viewHooks??(e.viewHooks=[])).push(n,c),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,c)),null!=u&&(e.destroyHooks??(e.destroyHooks=[])).push(n,u)}}function fo(e,t,n){ey(e,t,3,n)}function ll(e,t,n,i){(3&e[Ti])===n&&ey(e,t,n,i)}function Ah(e,t){let n=e[Ti];(3&n)===t&&(n&=2047,n+=1,e[Ti]=n)}function ey(e,t,n,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&e[Jo]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[Jo]+=65536),(a<o||-1==o)&&(A2(e,n,t,l),e[Jo]=(4294901760&e[Jo])+l+2),l++}function A2(e,t,n,i){const r=n[i]<0,o=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[Ti]>>11<e[Jo]>>16&&(3&e[Ti])===t){e[Ti]+=2048,Qe(4,a,o);try{o.call(a)}finally{Qe(5,a,o)}}}else{Qe(4,a,o);try{o.call(a)}finally{Qe(5,a,o)}}}const zp=-1;class fg{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function ny(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{const o=r,s=n[++i];ax(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function sx(e){return 3===e||4===e||6===e}function ax(e){return 64===e.charCodeAt(0)}function Pu(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||W(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function W(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function J(e){return e!==zp}function de(e){return 32767&e}function vt(e,t){let n=function Te(e){return e>>16}(e),i=t;for(;n>0;)i=i[uc],n--;return i}let Mn=!0;function zi(e){const t=Mn;return Mn=e,t}const Po=255,Th=5;let iy=0;const Ou={};function lx(e,t){const n=H4(e,t);if(-1!==n)return n;const i=t[wn];i.firstCreatePass&&(e.injectorIndex=t.length,I2(i.data,e),I2(t,null),I2(i.blueprint,null));const r=R2(e,t),o=e.injectorIndex;if(J(r)){const s=de(r),a=vt(r,t),l=a[wn].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function I2(e,t){e.push(0,0,0,0,0,0,0,0,t)}function H4(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function R2(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=K4(r),null===i)return zp;if(n++,r=r[uc],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return zp}function N2(e,t,n){!function Q$(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Sd)&&(i=n[Sd]),null==i&&(i=n[Sd]=iy++);const r=i&Po;t.data[e+(r>>Th)]|=1<<r}(e,t,n)}function G4(e,t,n){if(n&en.Optional||void 0!==e)return e;j()}function W4(e,t,n,i){if(n&en.Optional&&void 0===i&&(i=null),!(n&(en.Self|en.Host))){const r=e[dc],o=Ri(void 0);try{return r?r.get(t,i,n&en.Optional):Ni(t,i,n&en.Optional)}finally{Ri(o)}}return G4(i,0,n)}function q4(e,t,n,i=en.Default,r){if(null!==e){if(1024&t[Ti]){const s=function nK(e,t,n,i,r){let o=e,s=t;for(;null!==o&&null!==s&&1024&s[Ti]&&!(256&s[Ti]);){const a=Y4(o,s,n,i|en.Self,Ou);if(a!==Ou)return a;let l=o.parent;if(!l){const c=s[kp];if(c){const u=c.get(n,Ou,i);if(u!==Ou)return u}l=K4(s),s=s[uc]}o=l}return r}(e,t,n,i,Ou);if(s!==Ou)return s}const o=Y4(e,t,n,i,Ou);if(o!==Ou)return o}return W4(t,n,i,r)}function Y4(e,t,n,i,r){const o=function eK(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Sd)?e[Sd]:void 0;return"number"==typeof t?t>=0?t&Po:tK:t}(n);if("function"==typeof o){if(!Ke(t,e,i))return i&en.Host?G4(r,0,i):W4(t,n,i,r);try{const s=o(i);if(null!=s||i&en.Optional)return s;j()}finally{bn()}}else if("number"==typeof o){let s=null,a=H4(e,t),l=zp,c=i&en.Host?t[Bo][Ho]:null;for((-1===a||i&en.SkipSelf)&&(l=-1===a?R2(e,t):t[a+8],l!==zp&&$4(i,!1)?(s=t[wn],a=de(l),t=vt(l,t)):a=-1);-1!==a;){const u=t[wn];if(X4(o,a,u.data)){const d=J$(a,t,n,s,i,c);if(d!==Ou)return d}l=t[a+8],l!==zp&&$4(i,t[wn].data[a+8]===c)&&X4(o,a,t)?(s=u,a=de(l),t=vt(l,t)):a=-1}}return r}function J$(e,t,n,i,r,o){const s=t[wn],a=s.data[e+8],u=cx(a,s,n,null==i?Dd(a)&&Mn:i!=s&&0!=(3&a.type),r&en.Host&&o===a);return null!==u?gg(t,s,u,a):Ou}function cx(e,t,n,i,r){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,u=o>>20,h=r?a+u:e.directiveEnd;for(let f=i?a:a+u;f<h;f++){const v=s[f];if(f<l&&n===v||f>=l&&v.type===n)return f}if(r){const f=s[l];if(f&&Gs(f)&&f.type===n)return l}return null}function gg(e,t,n,i){let r=e[n];const o=t.data;if(function $c(e){return e instanceof fg}(r)){const s=r;s.resolving&&function Be(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new le(-200,`Circular dependency in DI detected for ${e}${n}`)}(function $e(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ae(e)}(o[n]));const a=zi(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ri(s.injectImpl):null;Ke(e,i,en.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Dr(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=k(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s)}r&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==l&&Ri(l),zi(a),s.resolving=!1,bn()}}return r}function X4(e,t,n){return!!(n[t+(e>>Th)]&1<<e)}function $4(e,t){return!(e&en.Self||e&en.Host&&t)}class r0{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return q4(this._tNode,this._lView,t,Yr(i),n)}}function tK(){return new r0(yi(),It())}function Ea(e){return Fn(()=>{const t=e.prototype.constructor,n=t[il]||F2(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[il]||F2(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function F2(e){return G(e)?()=>{const t=F2(F(e));return t&&t()}:pc(e)}function K4(e){const t=e[wn],n=t.type;return 2===n?t.declTNode:1===n?e[Ho]:null}const o0="__annotations__",s0="__parameters__",a0="__prop__metadata__";function L2(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}function l0(e,t,n){return Fn(()=>{const i=L2(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(s0)?l[s0]:Object.defineProperty(l,s0,{value:[]})[s0];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function ry(e,t,n,i){return Fn(()=>{const r=L2(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const a=new o(...s);return function l(c,u){const d=c.constructor,h=d.hasOwnProperty(a0)?d[a0]:Object.defineProperty(d,a0,{value:{}})[a0];h[u]=h.hasOwnProperty(u)&&h[u]||[],h[u].unshift(a),i&&i(c,u,...s)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class Hn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class rK{}const oK=ry("ContentChildren",(e,t={})=>({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...t}),rK),B2=Function;function sy(e){return"function"==typeof e}function vg(e,t){e.forEach(n=>Array.isArray(n)?vg(n,t):t(n))}function J4(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function dx(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ay(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function gc(e,t,n){let i=c0(e,t);return i>=0?e[1|i]=n:(i=~i,function lK(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function z2(e,t){const n=c0(e,t);if(n>=0)return e[1|n]}function c0(e,t){return function eR(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}(e,t,1)}const cK=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,dK=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,uK=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,hK=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class fK{constructor(t){this._reflect=t||Wn.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let i;i=ay(typeof t>"u"?n.length:t.length);for(let r=0;r<i.length;r++)i[r]=typeof t>"u"?[]:t[r]&&t[r]!=Object?[t[r]]:[],n&&null!=n[r]&&(i[r]=i[r].concat(n[r]));return i}_ownParameters(t,n){if(function pK(e){return cK.test(e)||hK.test(e)||dK.test(e)&&!uK.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==n.ctorParameters){const a="function"==typeof r?r():r,l=a.map(u=>u&&u.type),c=a.map(u=>u&&U2(u.decorators));return this._zipTypesAndAnnotations(l,c)}const o=t.hasOwnProperty(s0)&&t[s0],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||o?this._zipTypesAndAnnotations(s,o):ay(t.length)}parameters(t){if(!sy(t))return[];const n=ux(t);let i=this._ownParameters(t,n);return!i&&n!==Object&&(i=this.parameters(n)),i||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let i=t.annotations;return"function"==typeof i&&i.annotations&&(i=i.annotations),i}return t.decorators&&t.decorators!==n.decorators?U2(t.decorators):t.hasOwnProperty(o0)?t[o0]:null}annotations(t){if(!sy(t))return[];const n=ux(t),i=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(i)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let i=t.propMetadata;return"function"==typeof i&&i.propMetadata&&(i=i.propMetadata),i}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const i=t.propDecorators,r={};return Object.keys(i).forEach(o=>{r[o]=U2(i[o])}),r}return t.hasOwnProperty(a0)?t[a0]:null}propMetadata(t){if(!sy(t))return{};const n=ux(t),i={};if(n!==Object){const o=this.propMetadata(n);Object.keys(o).forEach(s=>{i[s]=o[s]})}const r=this._ownPropMetadata(t,n);return r&&Object.keys(r).forEach(o=>{const s=[];i.hasOwnProperty(o)&&s.push(...i[o]),s.push(...r[o]),i[o]=s}),i}ownPropMetadata(t){return sy(t)&&this._ownPropMetadata(t,ux(t))||{}}hasLifecycleHook(t,n){return t instanceof B2&&n in t.prototype}}function U2(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function ux(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const d0=Pt(l0("Inject",e=>({token:e})),-1),yg=Pt(l0("Optional"),8),j2=Pt(l0("Self"),2),u0=Pt(l0("SkipSelf"),4);let tR=null;function ly(){return tR=tR||new fK}var Bl=(()=>((Bl=Bl||{})[Bl.Important=1]="Important",Bl[Bl.DashCase=2]="DashCase",Bl))();const W2=new Map;let AK=0;const Y2="__ngContext__";function Ua(e,t){Ss(t)?(e[Y2]=t[Ro],function kK(e){W2.set(e[Ro],e)}(t)):e[Y2]=t}let X2;function $2(e,t){return X2(e,t)}function uy(e){const t=e[to];return ha(t)?t[to]:t}function K2(e){return bR(e[Pa])}function Q2(e){return bR(e[ua])}function bR(e){for(;null!==e&&!ha(e);)e=e[ua];return e}function p0(e,t,n,i,r){if(null!=i){let o,s=!1;ha(i)?o=i:Ss(i)&&(s=!0,i=i[da]);const a=st(i);0===e&&null!==n?null==r?PR(t,n,a):bg(t,n,a,r||null,!0):1===e&&null!==n?bg(t,n,a,r||null,!0):2===e?function rO(e,t,n){const i=fx(e,t);i&&function ZK(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function tQ(e,t,n,i,r){const o=n[Vc];o!==st(n)&&p0(t,e,i,o,r);for(let a=Go;a<n.length;a++){const l=n[a];hy(l[wn],l,e,t,i,o)}}(t,e,o,n,r)}}function J2(e,t,n){return e.createElement(t,n)}function xR(e,t){const n=e[hc],i=n.indexOf(t),r=t[to];512&t[Ti]&&(t[Ti]&=-513,Nl(r,-1)),n.splice(i,1)}function eO(e,t){if(e.length<=Go)return;const n=Go+t,i=e[n];if(i){const r=i[Uc];null!==r&&r!==e&&xR(r,i),t>0&&(e[n-1][ua]=i[ua]);const o=dx(e,Go+t);!function GK(e,t){hy(e,t,t[ki],2,null,null),t[da]=null,t[Ho]=null}(i[wn],i);const s=o[Oa];null!==s&&s.detachView(o[wn]),i[to]=null,i[ua]=null,i[Ti]&=-65}return i}function wR(e,t){if(!(128&t[Ti])){const n=t[ki];n.destroyNode&&hy(e,t,n,3,null,null),function YK(e){let t=e[Pa];if(!t)return tO(e[wn],e);for(;t;){let n=null;if(Ss(t))n=t[Pa];else{const i=t[Go];i&&(n=i)}if(!n){for(;t&&!t[ua]&&t!==e;)Ss(t)&&tO(t[wn],t),t=t[to];null===t&&(t=e),Ss(t)&&tO(t[wn],t),n=t&&t[ua]}t=n}}(t)}}function tO(e,t){if(!(128&t[Ti])){t[Ti]&=-65,t[Ti]|=128,function QK(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof fg)){const o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Qe(4,a,l);try{l.call(a)}finally{Qe(5,a,l)}}else{Qe(4,r,o);try{o.call(r)}finally{Qe(5,r,o)}}}}}(e,t),function KK(e,t){const n=e.cleanup,i=t[Xr];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?i[r=s]():i[r=-s].unsubscribe(),o+=2}else{const s=i[r=n[o+1]];n[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[Xr]=null}}(e,t),1===t[wn].type&&t[ki].destroy();const n=t[Uc];if(null!==n&&ha(t[to])){n!==t[to]&&xR(n,t);const i=t[Oa];null!==i&&i.detachView(e)}!function IK(e){W2.delete(e[Ro])}(t)}}function CR(e,t,n){return function MR(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[da];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===Kn.None||o===Kn.Emulated)return null}return oi(i,n)}}(e,t.parent,n)}function bg(e,t,n,i,r){e.insertBefore(t,n,i,r)}function PR(e,t,n){e.appendChild(t,n)}function OR(e,t,n,i,r){null!==i?bg(e,t,n,i,r):PR(e,t,n)}function fx(e,t){return e.parentNode(t)}function SR(e,t,n){return DR(e,t,n)}let nO,vx,aO,yx,DR=function ER(e,t,n){return 40&e.type?oi(e,n):null};function gx(e,t,n,i){const r=CR(e,i,t),o=t[ki],a=SR(i.parent||t[Ho],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)OR(o,r,n[l],a,!1);else OR(o,r,n,a,!1);void 0!==nO&&nO(o,i,t,n,r)}function mx(e,t){if(null!==t){const n=t.type;if(3&n)return oi(t,e);if(4&n)return iO(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return mx(e,i);{const r=e[t.index];return ha(r)?iO(-1,r):st(r)}}if(32&n)return $2(t,e)()||st(e[t.index]);{const i=TR(e,t);return null!==i?Array.isArray(i)?i[0]:mx(uy(e[Bo]),i):mx(e,t.next)}}return null}function TR(e,t){return null!==t?e[Bo][Ho].projection[t.projection]:null}function iO(e,t){const n=Go+e+1;if(n<t.length){const i=t[n],r=i[wn].firstChild;if(null!==r)return mx(i,r)}return t[Vc]}function oO(e,t,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===t&&(a&&Ua(st(a),i),n.flags|=2),32!=(32&n.flags))if(8&l)oO(e,t,n.child,i,r,o,!1),p0(t,e,r,a,o);else if(32&l){const c=$2(n,i);let u;for(;u=c();)p0(t,e,r,u,o);p0(t,e,r,a,o)}else 16&l?kR(e,t,i,n,r,o):p0(t,e,r,a,o);n=s?n.projectionNext:n.next}}function hy(e,t,n,i,r,o){oO(n,i,e.firstChild,t,r,o,!1)}function kR(e,t,n,i,r,o){const s=n[Bo],l=s[Ho].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)p0(t,e,r,l[c],o);else oO(e,t,l,s[to],r,o,!0)}function IR(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function RR(e,t,n){const{mergedAttrs:i,classes:r,styles:o}=n;null!==i&&ny(e,t,i),null!==r&&IR(e,t,r),null!==o&&function iQ(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function f0(e){return function sO(){if(void 0===vx&&(vx=null,Wn.trustedTypes))try{vx=Wn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return vx}()?.createHTML(e)||e}function lO(){if(void 0===yx&&(yx=null,Wn.trustedTypes))try{yx=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return yx}function FR(e){return lO()?.createHTML(e)||e}function BR(e){return lO()?.createScriptURL(e)||e}class _g{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oe})`}}class lQ extends _g{getTypeName(){return"HTML"}}class cQ extends _g{getTypeName(){return"Style"}}class dQ extends _g{getTypeName(){return"Script"}}class uQ extends _g{getTypeName(){return"URL"}}class hQ extends _g{getTypeName(){return"ResourceURL"}}function mc(e){return e instanceof _g?e.changingThisBreaksApplicationSecurity:e}function Su(e,t){const n=function pQ(e){return e instanceof _g&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${oe})`)}return n===t}class bQ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(f0(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class _Q{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=f0(t),n}}const wQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bx(e){return(e=String(e)).match(wQ)?e:"unsafe:"+e}function kh(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function py(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const UR=kh("area,br,col,hr,img,wbr"),jR=kh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),VR=kh("rp,rt"),cO=py(UR,py(jR,kh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),py(VR,kh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),py(VR,jR)),dO=kh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),HR=py(dO,kh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),CQ=kh("script,style,template");class MQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!cO.hasOwnProperty(n))return this.sanitizedSomething=!0,!CQ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!HR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;dO[a]&&(l=bx(l)),this.buf.push(" ",s,'="',GR(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();cO.hasOwnProperty(n)&&!UR.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(GR(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const PQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OQ=/([^\#-~ |!])/g;function GR(e){return e.replace(/&/g,"&amp;").replace(PQ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(OQ,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _x;function WR(e,t){let n=null;try{_x=_x||function zR(e){const t=new _Q(e);return function xQ(){try{return!!(new window.DOMParser).parseFromString(f0(""),"text/html")}catch{return!1}}()?new bQ(t):t}(e);let i=t?String(t):"";n=_x.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=_x.getInertBodyElement(i)}while(i!==o);return f0((new MQ).sanitizeChildren(uO(n)||n))}finally{if(n){const i=uO(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function uO(e){return"content"in e&&function SQ(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Oo=(()=>((Oo=Oo||{})[Oo.NONE=0]="NONE",Oo[Oo.HTML=1]="HTML",Oo[Oo.STYLE=2]="STYLE",Oo[Oo.SCRIPT=3]="SCRIPT",Oo[Oo.URL=4]="URL",Oo[Oo.RESOURCE_URL=5]="RESOURCE_URL",Oo))();function vc(e){const t=fy();return t?FR(t.sanitize(Oo.HTML,e)||""):Su(e,"HTML")?FR(mc(e)):WR(function NR(){return void 0!==aO?aO:typeof document<"u"?document:void 0}(),Ae(e))}function Ce(e){const t=fy();return t?t.sanitize(Oo.URL,e)||"":Su(e,"URL")?mc(e):bx(Ae(e))}function qR(e){const t=fy();if(t)return BR(t.sanitize(Oo.RESOURCE_URL,e)||"");if(Su(e,"ResourceURL"))return BR(mc(e));throw new le(904,!1)}function fy(){const e=It();return e&&e[Ed]}const xx=new Hn("ENVIRONMENT_INITIALIZER"),XR=new Hn("INJECTOR",-1),$R=new Hn("INJECTOR_DEF_TYPES");class KR{get(t,n=sr){if(n===sr){const i=new Error(`NullInjectorError: No provider for ${T(t)}!`);throw i.name="NullInjectorError",i}return n}}function RQ(...e){return{\u0275providers:QR(0,e),\u0275fromNgModule:!0}}function QR(e,...t){const n=[],i=new Set;let r;return vg(t,o=>{const s=o;hO(s,n,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&ZR(r,n),n}function ZR(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];pO(r,o=>{t.push(o)})}}function hO(e,t,n,i){if(!(e=F(e)))return!1;let r=null,o=Ki(e);const s=!o&&lr(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const l=e.ngModule;if(o=Ki(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)hO(c,t,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{vg(o.imports,u=>{hO(u,t,n,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&ZR(c,t)}if(!a){const c=pc(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:Ln},{provide:$R,useValue:r,multi:!0},{provide:xx,useValue:()=>Et(r),multi:!0})}const l=o.providers;null==l||a||pO(l,u=>{t.push(u)})}}return r!==e&&void 0!==e.providers}function pO(e,t){for(let n of e)I(n)&&(n=n.\u0275providers),Array.isArray(n)?pO(n,t):t(n)}const NQ=U({provide:String,useValue:U});function fO(e){return null!==e&&"object"==typeof e&&NQ in e}function xg(e){return"function"==typeof e}const gO=new Hn("Set Injector scope."),wx={},LQ={};let mO;function Cx(){return void 0===mO&&(mO=new KR),mO}class Eu{}class tN extends Eu{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yO(t,s=>this.processProvider(s)),this.records.set(XR,g0(void 0,this)),r.has("environment")&&this.records.set(Eu,g0(void 0,this));const o=this.records.get(gO);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($R.multi,Ln,en.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=ko(this),i=Ri(void 0);try{return t()}finally{ko(n),Ri(i)}}get(t,n=sr,i=en.Default){this.assertNotDestroyed(),i=Yr(i);const r=ko(this),o=Ri(void 0);try{if(!(i&en.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function VQ(e){return"function"==typeof e||"object"==typeof e&&e instanceof Hn}(t)&&$n(t);a=l&&this.injectableDefInScope(l)?g0(vO(t),wx):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&en.Self?Cx():this.parent).get(t,n=i&en.Optional&&n===sr?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[qn]=s[qn]||[]).unshift(T(t)),r)throw s;return function $t(e,t,n,i){const r=e[qn];throw t[Sr]&&r.unshift(t[Sr]),e.message=function tn(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Or?e.slice(2):e;let r=T(t);if(Array.isArray(t))r=t.map(T).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):T(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(br,"\n  ")}`}("\n"+e.message,r,n,i),e[ar]=r,e[qn]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{Ri(o),ko(r)}}resolveInjectorInitializers(){const t=ko(this),n=Ri(void 0);try{const i=this.get(xx.multi,Ln,en.Self);for(const r of i)r()}finally{ko(t),Ri(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(T(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(t){let n=xg(t=F(t))?t:F(t&&t.provide);const i=function zQ(e){return fO(e)?g0(void 0,e.useValue):g0(nN(e),wx)}(t);if(xg(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=g0(void 0,wx,!0),r.factory=()=>Zt(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===wx&&(n.value=LQ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function jQ(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=F(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function vO(e){const t=$n(e),n=null!==t?t.factory:pc(e);if(null!==n)return n;if(e instanceof Hn)throw new le(204,!1);if(e instanceof Function)return function BQ(e){const t=e.length;if(t>0)throw ay(t,"?"),new le(204,!1);const n=function ni(e){return e&&(e[eo]||e[Rr])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new le(204,!1)}function nN(e,t,n){let i;if(xg(e)){const r=F(e);return pc(r)||vO(r)}if(fO(e))i=()=>F(e.useValue);else if(function eN(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Zt(e.deps||[]));else if(function JR(e){return!(!e||!e.useExisting)}(e))i=()=>Et(F(e.useExisting));else{const r=F(e&&(e.useClass||e.provide));if(!function UQ(e){return!!e.deps}(e))return pc(r)||vO(r);i=()=>new r(...Zt(e.deps))}return i}function g0(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function yO(e,t){for(const n of e)Array.isArray(n)?yO(n,t):n&&I(n)?yO(n.\u0275providers,t):t(n)}class HQ{}class iN{}class WQ{resolveComponentFactory(t){throw function GQ(e){const t=Error(`No component factory found for ${T(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let m0=(()=>{class e{}return e.NULL=new WQ,e})();function qQ(){return v0(yi(),It())}function v0(e,t){return new $r(oi(e,t))}let $r=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=qQ,e})();function YQ(e){return e instanceof $r?e.nativeElement:e}class y0{}let Ds=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function XQ(){const e=It(),n=Fr(yi().index,e);return(Ss(n)?n:e)[ki]}(),e})(),$Q=(()=>{class e{}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>null}),e})();class gy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const KQ=new gy("15.2.10"),bO={},_O="ngOriginalError";function xO(e){return e[_O]}class wg{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&xO(t);for(;n&&xO(n);)n=xO(n);return n||null}}function Up(e){return e.ownerDocument.defaultView}function Cg(e){return e.ownerDocument}function Ih(e){return e instanceof Function?e():e}function sN(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}const aN="ng-template";function oZ(e,t,n){let i=0,r=!0;for(;i<e.length;){let o=e[i++];if("string"==typeof o&&r){const s=e[i++];if(n&&"class"===o&&-1!==sN(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function lN(e){return 4===e.type&&e.value!==aN}function sZ(e,t,n){return t===(4!==e.type||n?e.value:aN)}function aZ(e,t,n){let i=4;const r=e.attrs||[],o=function dZ(e){for(let t=0;t<e.length;t++)if(sx(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!sZ(e,l,n)||""===l&&1===t.length){if(Id(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!oZ(e.attrs,c,n)){if(Id(i))return!1;s=!0}continue}const d=lZ(8&i?"class":l,r,lN(e),n);if(-1===d){if(Id(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==sN(f,c,0)||2&i&&c!==h){if(Id(i))return!1;s=!0}}}}else{if(!s&&!Id(i)&&!Id(l))return!1;if(s&&Id(l))continue;s=!1,i=l|1&i}}return Id(i)||s}function Id(e){return 0==(1&e)}function lZ(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){const s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function uZ(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function cN(e,t,n=!1){for(let i=0;i<t.length;i++)if(aZ(e,t[i],n))return!0;return!1}function hZ(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function dN(e,t){return e?":not("+t.trim()+")":t}function pZ(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Id(s)&&(t+=dN(o,r),r=""),i=s,o=o||!Id(i);n++}return""!==r&&(t+=dN(o,r)),t}const Hi={};function se(e){uN(nr(),It(),ve()+e,!1)}function uN(e,t,n,i){if(!i)if(3==(3&t[Ti])){const o=e.preOrderCheckHooks;null!==o&&fo(t,o,n)}else{const o=e.preOrderHooks;null!==o&&ll(t,o,0,n)}z(n)}function gN(e,t=null,n=null,i){const r=mN(e,t,n,i);return r.resolveInjectorInitializers(),r}function mN(e,t=null,n=null,i,r=new Set){const o=[n||Ln,RQ(e)];return i=i||("object"==typeof e?void 0:T(e)),new tN(o,t||Cx(),i||null,r)}let ja=(()=>{class e{static create(n,i){if(Array.isArray(n))return gN({name:""},i,n,"");{const r=n.name??"";return gN({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=sr,e.NULL=new KR,e.\u0275prov=Ct({token:e,providedIn:"any",factory:()=>Et(XR)}),e.__NG_ELEMENT_ID__=-1,e})();function wO(e){return e.length>1?" ("+function xZ(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(i=>T(i.token)).join(" -> ")+")":""}function CO(e,t,n,i){const r=[t],o=n(r),s=i?function QQ(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,i=Error(n);return i[_O]=t,i}(o,i):Error(o);return s.addKey=wZ,s.keys=r,s.injectors=[e],s.constructResolvingMessage=n,s[_O]=i,s}function wZ(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function vN(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const o=t[i];n.push(o&&0!=o.length?o.map(T).join(" "):"?")}return Error("Cannot resolve all parameters for '"+T(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+T(e)+"' is decorated with Injectable.")}function EZ(e,t){return Error(`Cannot mix multi providers and regular providers, got: ${e} ${t}`)}class jp{constructor(t,n){if(this.token=t,this.id=n,!t)throw new le(208,!1);this.displayName=T(this.token)}static get(t){return yN.get(F(t))}static get numberOfKeys(){return yN.numberOfKeys}}class DZ{constructor(){this._allKeys=new Map}get(t){if(t instanceof jp)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const n=new jp(t,jp.numberOfKeys);return this._allKeys.set(t,n),n}get numberOfKeys(){return this._allKeys.size}}const yN=new DZ;class Mx{constructor(t,n,i){this.key=t,this.optional=n,this.visibility=i}static fromKey(t){return new Mx(t,!1,null)}}const AZ=[];class bN{constructor(t,n,i){this.key=t,this.resolvedFactories=n,this.multiProvider=i,this.resolvedFactory=this.resolvedFactories[0]}}class TZ{constructor(t,n){this.factory=t,this.dependencies=n}}function kZ(e){let t,n;if(e.useClass){const i=F(e.useClass);t=ly().factory(i),n=xN(i)}else e.useExisting?(t=i=>i,n=[Mx.fromKey(jp.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function FZ(e,t){if(t){const n=t.map(i=>[i]);return t.map(i=>wN(e,i,n))}return xN(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=AZ);return new TZ(t,n)}function IZ(e){return new bN(jp.get(e.provide),[kZ(e)],e.multi||!1)}function RZ(e){const i=function NZ(e,t){for(let n=0;n<e.length;n++){const i=e[n],r=t.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw EZ(r,i);if(i.multiProvider)for(let o=0;o<i.resolvedFactories.length;o++)r.resolvedFactories.push(i.resolvedFactories[o]);else t.set(i.key.id,i)}else{let o;o=i.multiProvider?new bN(i.key,i.resolvedFactories.slice(),i.multiProvider):i,t.set(i.key.id,o)}}return t}(_N(e,[]).map(IZ),new Map);return Array.from(i.values())}function _N(e,t){return e.forEach(n=>{if(n instanceof B2)t.push({provide:n,useClass:n});else if(n&&"object"==typeof n&&void 0!==n.provide)t.push(n);else{if(!Array.isArray(n))throw function OZ(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(n);_N(n,t)}}),t}function xN(e){const t=ly().parameters(e);if(!t)return[];if(t.some(n=>null==n))throw vN(e,t);return t.map(n=>wN(e,n,t))}function wN(e,t,n){let i=null,r=!1;if(!Array.isArray(t))return MO(t instanceof d0?t.token:t,r,null);let o=null;for(let s=0;s<t.length;++s){const a=t[s];a instanceof B2?i=a:a instanceof d0?i=a.token:a instanceof yg?r=!0:a instanceof j2||a instanceof u0?o=a:a instanceof Hn&&(i=a)}if(i=F(i),null!=i)return MO(i,r,o);throw vN(e,n)}function MO(e,t,n){return new Mx(jp.get(e),t,n)}const my={};class Mg{static resolve(t){return RZ(t)}static resolveAndCreate(t,n){const i=Mg.resolve(t);return Mg.fromResolvedProviders(i,n)}static fromResolvedProviders(t,n){return new LZ(t,n)}}let LZ=(()=>{class e{constructor(n,i){this._constructionCounter=0,this._providers=n,this.parent=i||null;const r=n.length;this.keyIds=[],this.objs=[];for(let o=0;o<r;o++)this.keyIds[o]=n[o].key.id,this.objs[o]=my}get(n,i=sr){return this._getByKey(jp.get(n),null,i)}resolveAndCreateChild(n){const i=Mg.resolve(n);return this.createChildFromResolved(i)}createChildFromResolved(n){const i=new e(n);return i.parent=this,i}resolveAndInstantiate(n){return this.instantiateResolved(Mg.resolve([n])[0])}instantiateResolved(n){return this._instantiateProvider(n)}getProviderAtIndex(n){if(n<0||n>=this._providers.length)throw function SZ(e){return Error(`Index ${e} is out-of-bounds.`)}(n);return this._providers[n]}_new(n){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function MZ(e,t){return CO(e,t,function(n){return`Cannot instantiate cyclic dependency!${wO(n)}`})}(this,n.key);return this._instantiateProvider(n)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(n){if(n.multiProvider){const i=[];for(let r=0;r<n.resolvedFactories.length;++r)i[r]=this._instantiate(n,n.resolvedFactories[r]);return i}return this._instantiate(n,n.resolvedFactories[0])}_instantiate(n,i){const r=i.factory;let o,s;try{o=i.dependencies.map(a=>this._getByReflectiveDependency(a))}catch(a){throw a.addKey&&a.addKey(this,n.key),a}try{s=r(...o)}catch(a){throw function PZ(e,t,n,i){return CO(e,i,function(r){const o=T(r[0].token);return`${t.message}: Error during instantiation of ${o}!${wO(r)}.`},t)}(this,a,0,n.key)}return s}_getByReflectiveDependency(n){return this._getByKey(n.key,n.visibility,n.optional?null:sr)}_getByKey(n,i,r){return n===e.INJECTOR_KEY?this:i instanceof j2?this._getByKeySelf(n,r):this._getByKeyDefault(n,r,i)}_getObjByKeyId(n){for(let i=0;i<this.keyIds.length;i++)if(this.keyIds[i]===n)return this.objs[i]===my&&(this.objs[i]=this._new(this._providers[i])),this.objs[i];return my}_throwOrNull(n,i){if(i!==sr)return i;throw function CZ(e,t){return CO(e,t,function(n){return`No provider for ${T(n[0].token)}!${wO(n)}`})}(this,n)}_getByKeySelf(n,i){const r=this._getObjByKeyId(n.id);return r!==my?r:this._throwOrNull(n,i)}_getByKeyDefault(n,i,r){let o;for(o=r instanceof u0?this.parent:this;o instanceof e;){const s=o,a=s._getObjByKeyId(n.id);if(a!==my)return a;o=s.parent}return null!==o?o.get(n.token,i):this._throwOrNull(n,i)}get displayName(){return`ReflectiveInjector(providers: [${function BZ(e,t){const n=[];for(let i=0;i<e._providers.length;++i)n[i]=t(e.getProviderAtIndex(i));return n}(this,i=>' "'+i.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=jp.get(ja),e})();function Me(e,t=en.Default){const n=It();return null===n?Et(e,t):q4(yi(),n,F(e),t)}function MN(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const s=e.data[o];kd(n[i]),s.contentQueries(2,t[o],o)}}}function Px(e,t,n,i,r,o,s,a,l,c,u){const d=t.blueprint.slice();return d[da]=r,d[Ti]=76|i,(null!==u||e&&1024&e[Ti])&&(d[Ti]|=1024),no(d),d[to]=d[uc]=e,d[Nr]=n,d[mu]=s||e&&e[mu],d[ki]=a||e&&e[ki],d[Ed]=l||e&&e[Ed]||null,d[dc]=c||e&&e[dc]||null,d[Ho]=o,d[Ro]=function TK(){return AK++}(),d[kp]=u,d[Bo]=2==t.type?e[Bo]:d,d}function _0(e,t,n,i,r){let o=e.data[t];if(null===o)o=function PO(e,t,n,i,r){const o=Wc(),s=Sh(),l=e.data[t]=function GZ(e,t,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,i,r),function wu(){return di.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const s=function cs(){const e=di.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mo(o,!0),o}function vy(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function OO(e,t,n){dt(t);try{const i=e.viewQuery;null!==i&&NO(1,i,n);const r=e.template;null!==r&&PN(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&MN(e,t),e.staticViewQueries&&NO(2,e.viewQuery,n);const o=e.components;null!==o&&function jZ(e,t){for(let n=0;n<t.length;n++)dJ(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Ti]&=-5,Bn()}}function Ox(e,t,n,i){const r=t[Ti];if(128!=(128&r)){dt(t);try{no(t),function Yc(e){return di.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&PN(e,t,n,2,i);const s=3==(3&r);if(s){const c=e.preOrderCheckHooks;null!==c&&fo(t,c,null)}else{const c=e.preOrderHooks;null!==c&&ll(t,c,0,null),Ah(t,0)}if(function lJ(e){for(let t=K2(e);null!==t;t=Q2(t)){if(!t[vu])continue;const n=t[hc];for(let i=0;i<n.length;i++){const r=n[i];512&r[Ti]||Nl(r[to],1),r[Ti]|=512}}}(t),function aJ(e){for(let t=K2(e);null!==t;t=Q2(t))for(let n=Go;n<t.length;n++){const i=t[n],r=i[wn];wi(i)&&Ox(r,i,r.template,i[Nr])}}(t),null!==e.contentQueries&&MN(e,t),s){const c=e.contentCheckHooks;null!==c&&fo(t,c)}else{const c=e.contentHooks;null!==c&&ll(t,c,1),Ah(t,1)}!function zZ(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)z(~r);else{const o=r,s=n[++i],a=n[++i];Cu(s,o),a(2,t[o])}}}finally{z(-1)}}(e,t);const a=e.components;null!==a&&function UZ(e,t){for(let n=0;n<t.length;n++)cJ(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&NO(2,l,i),s){const c=e.viewCheckHooks;null!==c&&fo(t,c)}else{const c=e.viewHooks;null!==c&&ll(t,c,2),Ah(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ti]&=-41,512&t[Ti]&&(t[Ti]&=-513,Nl(t[to],-1))}finally{Bn()}}}function PN(e,t,n,i,r){const o=ve(),s=2&i;try{z(-1),s&&t.length>Gr&&uN(e,t,Gr,!1),Qe(s?2:0,r),n(i,r)}finally{z(o),Qe(s?3:1,r)}}function SO(e,t,n){if(yu(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function EO(e,t,n){Es()&&(function QZ(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;Dd(n)&&function rJ(e,t,n){const i=oi(t,e),r=ON(n),o=e[mu],s=Sx(e,Px(e,r,null,n.onPush?32:16,i,t,o,o.createRenderer(i,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||lx(n,t),Ua(i,t);const s=n.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],c=gg(t,e,a,n);Ua(c,t),null!==s&&oJ(0,a-r,c,l,0,s),Gs(l)&&(Fr(n.index,t)[Nr]=gg(t,e,a,n))}}(e,t,n,oi(n,t)),64==(64&n.flags)&&TN(e,t,n))}function DO(e,t,n=oi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function ON(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=AO(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function AO(e,t,n,i,r,o,s,a,l,c){const u=Gr+i,d=u+r,h=function VZ(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Hi);return n}(u,d),f="function"==typeof c?c():c;return h[wn]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function SN(e,t,n,i){const r=IN(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&RN(e).push(i,r.length-1))}function EN(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];null===i?DN(n,t,r,o):i.hasOwnProperty(r)&&DN(n,t,i[r],o)}return n}function DN(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function yc(e,t,n,i,r,o,s,a){const l=oi(t,n);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(FO(e,n,u,i,r),Dd(t)&&function YZ(e,t){const n=Fr(t,e);16&n[Ti]||(n[Ti]|=32)}(n,t.index)):3&t.type&&(i=function qZ(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function TO(e,t,n,i){if(Es()){const r=null===i?null:{"":-1},o=function JZ(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(cN(t,s.selectors,!1))if(i||(i=[]),Gs(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),kO(e,t,a.length)}else i.unshift(s),kO(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&AN(e,t,n,s,r,a),r&&function eJ(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const o=n[t[r+1]];if(null==o)throw new le(-301,!1);i.push(t[r],o)}}}(n,i,r)}n.mergedAttrs=Pu(n.mergedAttrs,n.attrs)}function AN(e,t,n,i,r,o){for(let c=0;c<i.length;c++)N2(lx(n,t),e,i[c].type);!function nJ(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=vy(e,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];n.mergedAttrs=Pu(n.mergedAttrs,u.hostAttrs),iJ(e,n,t,l,u),tJ(l,u,r),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function WZ(e,t,n){const r=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=o[u],h=n?n.get(d):null,v=h?h.outputs:null;l=EN(d.inputs,u,l,h?h.inputs:null),c=EN(d.outputs,u,c,v);const y=null===l||null===s||lN(t)?null:sJ(l,u,s);a.push(y)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,o)}function TN(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=function Dh(){return di.lFrame.currentDirectiveIndex}();try{z(o);for(let a=i;a<r;a++){const l=e.data[a],c=t[a];Xc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ZZ(l,c)}}finally{z(-1),Xc(s)}}function ZZ(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function kO(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function tJ(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Gs(t)&&(n[""]=e)}}function iJ(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=pc(r.type)),s=new fg(o,Gs(r),Me);e.blueprint[i]=s,n[i]=s,function $Z(e,t,n,i,r){const o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function KZ(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,i,o)}}(e,t,i,vy(e,n,r.hostVars,Hi),r)}function Du(e,t,n,i,r,o){const s=oi(e,t);!function IO(e,t,n,i,r,o,s){if(null==o)e.removeAttribute(t,r,n);else{const a=null==s?Ae(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}(t[ki],s,o,e.value,n,i,r)}function oJ(e,t,n,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(n,d,c,u):n[u]=d}}}function sJ(e,t,n){let i=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function kN(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}function cJ(e,t){const n=Fr(t,e);if(wi(n)){const i=n[wn];48&n[Ti]?Ox(i,n,i.template,n[Nr]):n[rl]>0&&RO(n)}}function RO(e){for(let i=K2(e);null!==i;i=Q2(i))for(let r=Go;r<i.length;r++){const o=i[r];if(wi(o))if(512&o[Ti]){const s=o[wn];Ox(s,o,s.template,o[Nr])}else o[rl]>0&&RO(o)}const n=e[wn].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Fr(n[i],e);wi(r)&&r[rl]>0&&RO(r)}}function dJ(e,t){const n=Fr(t,e),i=n[wn];(function uJ(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),OO(i,n,n[Nr])}function Sx(e,t){return e[Pa]?e[zc][ua]=t:e[Pa]=t,e[zc]=t,t}function Ex(e){for(;e;){e[Ti]|=32;const t=uy(e);if(og(e)&&!t)return e;e=t}return null}function Dx(e,t,n,i=!0){const r=t[mu];r.begin&&r.begin();try{Ox(e,t,e.template,n)}catch(s){throw i&&FN(t,s),s}finally{r.end&&r.end()}}function NO(e,t,n){kd(0),t(e,n)}function IN(e){return e[Xr]||(e[Xr]=[])}function RN(e){return e.cleanup||(e.cleanup=[])}function FN(e,t){const n=e[dc],i=n?n.get(wg,null):null;i&&i.handleError(t)}function FO(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Rh(e,t,n){const i=Zn(t,e);!function _R(e,t,n){e.setValue(t,n)}(e[ki],i,n)}function Ax(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=B(r,a):2==o&&(i=B(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function Tx(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&i.push(st(o)),ha(o))for(let a=Go;a<o.length;a++){const l=o[a],c=l[wn].firstChild;null!==c&&Tx(l[wn],l,c,i)}const s=n.type;if(8&s)Tx(e,t,n.child,i);else if(32&s){const a=$2(n,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=TR(t,n);if(Array.isArray(a))i.push(...a);else{const l=uy(t[Bo]);Tx(l[wn],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class yy{get rootNodes(){const t=this._lView,n=t[wn];return Tx(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nr]}set context(t){this._lView[Nr]=t}get destroyed(){return 128==(128&this._lView[Ti])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[to];if(ha(t)){const n=t[ol],i=n?n.indexOf(this):-1;i>-1&&(eO(t,i),dx(n,i))}this._attachedToViewContainer=!1}wR(this._lView[wn],this._lView)}onDestroy(t){SN(this._lView[wn],this._lView,null,t)}markForCheck(){Ex(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ti]&=-65}reattach(){this._lView[Ti]|=64}detectChanges(){Dx(this._lView[wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qK(e,t){hy(e,t,t[ki],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=t}}class hJ extends yy{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Dx(t[wn],t,t[Nr],!1)}checkNoChanges(){}get context(){return null}}class LN extends m0{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=lr(t);return new by(n,this.ngModule)}}function BN(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class fJ{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Yr(i);const r=this.injector.get(t,bO,i);return r!==bO||n===bO?r:this.parentInjector.get(t,n,i)}}class by extends iN{get inputs(){return BN(this.componentDef.inputs)}get outputs(){return BN(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function fZ(e){return e.map(pZ).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=(r=r||this.ngModule)instanceof Eu?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new fJ(t,o):t,a=s.get(y0,null);if(null===a)throw new le(407,!1);const l=s.get($Q,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function HZ(e,t,n){return e.selectRootElement(t,n===Kn.ShadowDom)}(c,i,this.componentDef.encapsulation):J2(c,u,function pJ(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,f=AO(0,null,null,1,0,null,null,null,null,null),v=Px(null,f,null,h,null,null,a,c,l,s,null);let y,b;dt(v);try{const w=this.componentDef;let O,S=null;w.findHostDirectiveDefs?(O=[],S=new Map,w.findHostDirectiveDefs(w,O,S),O.push(w)):O=[w];const D=function mJ(e,t){const n=e[wn],i=Gr;return e[i]=t,_0(n,i,2,"#host",null)}(v,d),V=function vJ(e,t,n,i,r,o,s,a){const l=r[wn];!function yJ(e,t,n,i){for(const r of e)t.mergedAttrs=Pu(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Ax(t,t.mergedAttrs,!0),null!==n&&RR(i,n,t))}(i,e,t,s);const c=o.createRenderer(t,n),u=Px(r,ON(n),null,n.onPush?32:16,r[e.index],e,o,c,a||null,null,null);return l.firstCreatePass&&kO(l,e,i.length-1),Sx(r,u),r[e.index]=u}(D,d,w,O,v,a,c);b=No(f,Gr),d&&function _J(e,t,n,i){if(i)ny(e,n,["ng-version",KQ.full]);else{const{attrs:r,classes:o}=function gZ(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Id(r))break;r=o}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&ny(e,n,r),o&&o.length>0&&IR(e,n,o.join(" "))}}(c,w,d,i),void 0!==n&&function xJ(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const o=n[r];i.push(null!=o?Array.from(o):null)}}(b,this.ngContentSelectors,n),y=function bJ(e,t,n,i,r,o){const s=yi(),a=r[wn],l=oi(s,r);AN(a,r,s,n,null,i);for(let u=0;u<n.length;u++)Ua(gg(r,a,s.directiveStart+u,s),r);TN(a,r,s),l&&Ua(l,r);const c=gg(r,a,s.directiveStart+s.componentOffset,s);if(e[Nr]=r[Nr]=c,null!==o)for(const u of o)u(c,t);return SO(a,s,e),c}(V,w,O,S,v,[wJ]),OO(f,v,null)}finally{Bn()}return new gJ(this.componentType,y,v0(b,v),v,b)}}class gJ extends HQ{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new hJ(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;FO(o[wn],o,r,t,n),Ex(Fr(this._tNode.index,o))}}get injector(){return new r0(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function wJ(){const e=yi();ds(It()[wn],e)}function Kr(e){let t=function zN(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(Gs(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new le(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const s=e;s.inputs=LO(e.inputs),s.declaredInputs=LO(e.declaredInputs),s.outputs=LO(e.outputs);const a=r.hostBindings;a&&OJ(e,a);const l=r.viewQuery,c=r.contentQueries;if(l&&MJ(e,l),c&&PJ(e,c),X(e.inputs,r.inputs),X(e.declaredInputs,r.declaredInputs),X(e.outputs,r.outputs),Gs(r)&&r.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Kr&&(n=!1)}}t=Object.getPrototypeOf(t)}!function CJ(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Pu(r.hostAttrs,n=Pu(n,r.hostAttrs))}}(i)}function LO(e){return e===gr?{}:e===Ln?[]:e}function MJ(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function PJ(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,o)=>{t(i,r,o),n(i,r,o)}:t}function OJ(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}function kx(e){return!!BO(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function BO(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Au(e,t,n){return e[t]=n}function Va(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Pg(e,t,n,i){const r=Va(e,t,n);return Va(e,t+1,i)||r}function Qc(e,t,n,i,r,o){const s=Pg(e,t,n,i);return Pg(e,t+2,r,o)||s}function go(e,t,n,i){const r=It();return Va(r,al(),t)&&(nr(),Du(ee(),r,e,t,n,i)),go}function w0(e,t,n,i){return Va(e,al(),n)?t+Ae(n)+i:Hi}function C0(e,t,n,i,r,o){const a=Pg(e,function za(){return di.lFrame.bindingIndex}(),n,r);return qs(2),a?t+Ae(n)+i+Ae(r)+o:Hi}function tt(e,t,n,i,r,o,s,a){const l=It(),c=nr(),u=e+Gr,d=c.firstCreatePass?function FJ(e,t,n,i,r,o,s,a,l){const c=t.consts,u=_0(t,e,4,s||null,Fi(c,a));TO(t,n,u,Fi(c,l)),ds(t,u);const d=u.tView=AO(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,i,r,o,s):c.data[u];Mo(d,!1);const h=l[ki].createComment("");gx(c,l,h,d),Ua(h,l),Sx(l,l[u]=kN(h,l,h,d)),sl(d)&&EO(c,l,d),null!=s&&DO(l,d,a)}function io(e){return Wr(function Lp(){return di.lFrame.contextLView}(),Gr+e)}function We(e,t,n){const i=It();return Va(i,al(),t)&&yc(nr(),ee(),i,e,t,i[ki],n,!1),We}function zO(e,t,n,i,r){const s=r?"class":"style";FO(e,n,t.inputs[s],s,i)}function x(e,t,n,i){const r=It(),o=nr(),s=Gr+e,a=r[ki],l=o.firstCreatePass?function BJ(e,t,n,i,r,o){const s=t.consts,l=_0(t,e,2,i,Fi(s,r));return TO(t,n,l,Fi(s,o)),null!==l.attrs&&Ax(l,l.attrs,!1),null!==l.mergedAttrs&&Ax(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,n,i):o.data[s],c=r[s]=J2(a,t,function Pi(){return di.lFrame.currentNamespace}()),u=sl(l);return Mo(l,!0),RR(a,c,l),32!=(32&l.flags)&&gx(o,r,c,l),0===function La(){return di.lFrame.elementDepthCount}()&&Ua(c,r),function Fl(){di.lFrame.elementDepthCount++}(),u&&(EO(o,r,l),SO(o,l,r)),null!==i&&DO(r,l),x}function M(){let e=yi();Sh()?Eh():(e=e.parent,Mo(e,!1));const t=e;!function Ll(){di.lFrame.elementDepthCount--}();const n=nr();return n.firstCreatePass&&(ds(n,e),yu(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function T2(e){return 0!=(8&e.flags)}(t)&&zO(n,t,It(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function k2(e){return 0!=(16&e.flags)}(t)&&zO(n,t,It(),t.stylesWithoutHost,!1),M}function ce(e,t,n,i){return x(e,t,n,i),M(),ce}function es(e,t,n){const i=It(),r=nr(),o=e+Gr,s=r.firstCreatePass?function zJ(e,t,n,i,r){const o=t.consts,s=Fi(o,i),a=_0(t,e,8,"ng-container",s);return null!==s&&Ax(a,s,!0),TO(t,n,a,Fi(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,n):r.data[o];Mo(s,!0);const a=i[o]=i[ki].createComment("");return gx(r,i,a,s),Ua(a,i),sl(s)&&(EO(r,i,s),SO(r,s,i)),null!=n&&DO(i,s),es}function ts(){let e=yi();const t=nr();return Sh()?Eh():(e=e.parent,Mo(e,!1)),t.firstCreatePass&&(ds(t,e),yu(e)&&t.queries.elementEnd(e)),ts}function xr(){return It()}function xy(e){return!!e&&"function"==typeof e.then}const UO=function JN(e){return!!e&&"function"==typeof e.subscribe};function rt(e,t,n,i){const r=It(),o=nr(),s=yi();return function t5(e,t,n,i,r,o,s){const a=sl(i),c=e.firstCreatePass&&RN(e),u=t[Nr],d=IN(t);let h=!0;if(3&i.type||s){const y=oi(i,t),b=s?s(y):y,w=d.length,O=s?D=>s(st(D[i.index])):i.index;let S=null;if(!s&&a&&(S=function UJ(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===n&&r[o+1]===i){const a=t[Xr],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,h=!1;else{o=i5(i,t,u,o,!1);const D=n.listen(b,r,o);d.push(o,D),c&&c.push(r,O,w,w+1)}}else o=i5(i,t,u,o,!1);const f=i.outputs;let v;if(h&&null!==f&&(v=f[r])){const y=v.length;if(y)for(let b=0;b<y;b+=2){const V=t[v[b]][v[b+1]].subscribe(o),Y=d.length;d.push(o,V),c&&c.push(r,i.index,Y,-(Y+1))}}}(o,r,r[ki],s,e,t,i),rt}function n5(e,t,n,i){try{return Qe(6,t,n),!1!==n(i)}catch(r){return FN(e,r),!1}finally{Qe(7,t,n)}}function i5(e,t,n,i,r){return function o(s){if(s===Function)return i;Ex(e.componentOffset>-1?Fr(e.index,t):t);let l=n5(t,n,i,s),c=o.__ngNextListenerFn__;for(;c;)l=n5(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function nt(e=1){return function Cn(e){return(di.lFrame.contextLView=function qi(e,t){for(;e>0;)t=t[uc],e--;return t}(e,di.lFrame.contextLView))[Nr]}(e)}function jJ(e,t){let n=null;const i=function cZ(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?cN(e,o,!0):hZ(i,o))return r}else n=r}return n}function Ul(e,t,n){return Ee(e,"",t,"",n),Ul}function Ee(e,t,n,i,r){const o=It(),s=w0(o,t,n,i);return s!==Hi&&yc(nr(),ee(),o,e,s,o[ki],r,!1),Ee}function jl(e,t,n,i,r,o,s){const a=It(),l=C0(a,t,n,i,r,o);return l!==Hi&&yc(nr(),ee(),a,e,l,a[ki],s,!1),jl}function Rx(e,t){return e<<17|t<<2}function Vp(e){return e>>17&32767}function jO(e){return 2|e}function Og(e){return(131068&e)>>2}function VO(e,t){return-131069&e|t<<2}function HO(e){return 1|e}function p5(e,t,n,i,r){const o=e[n+1],s=null===t;let a=i?Vp(o):Og(o),l=!1;for(;0!==a&&(!1===l||s);){const u=e[a+1];YJ(e[a],t)&&(l=!0,e[a+1]=i?HO(u):jO(u)),a=i?Vp(u):Og(u)}l&&(e[n+1]=i?jO(o):HO(o))}function YJ(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&c0(e,t)>=0}const Xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function f5(e){return e.substring(Xs.key,Xs.keyEnd)}function g5(e,t){const n=Xs.textEnd;return n===t?-1:(t=Xs.keyEnd=function QJ(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Xs.key=t,n),A0(e,t,n))}function A0(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function zo(e,t){return function Rd(e,t,n,i){const r=It(),o=nr(),s=qs(2);o.firstUpdatePass&&x5(o,e,s,i),t!==Hi&&Va(r,s,t)&&C5(o,o.data[ve()],r,r[ki],e,r[s+1]=function lee(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=T(mc(e)))),e}(t,n),i,s)}(e,t,null,!0),zo}function Hp(e){Nd(see,ku,e,!0)}function ku(e,t){for(let n=function $J(e){return function v5(e){Xs.key=0,Xs.keyEnd=0,Xs.value=0,Xs.valueEnd=0,Xs.textEnd=e.length}(e),g5(e,A0(e,0,Xs.textEnd))}(t);n>=0;n=g5(t,n))gc(e,f5(t),!0)}function Nd(e,t,n,i){const r=nr(),o=qs(2);r.firstUpdatePass&&x5(r,null,o,i);const s=It();if(n!==Hi&&Va(s,o,n)){const a=r.data[ve()];if(P5(a,i)&&!_5(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=B(l,n||"")),zO(r,a,s,n,i)}else!function aee(e,t,n,i,r,o,s,a){r===Hi&&(r=Ln);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0;let y,v=null;u===d?(l+=2,c+=2,h!==f&&(v=d,y=f)):null===d||null!==u&&u<d?(l+=2,v=u):(c+=2,v=d,y=f),null!==v&&C5(e,t,n,i,v,y,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}(r,a,s,s[ki],s[o+1],s[o+1]=function oee(e,t,n){if(null==n||""===n)return Ln;const i=[],r=mc(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,o)}}function _5(e,t){return t>=e.expandoStartIndex}function x5(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[ve()],s=_5(e,n);P5(o,i)&&null===t&&!s&&(t=!1),t=function tee(e,t,n,i){const r=function Td(e){const t=di.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=wy(n=WO(null,e,t,n,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=WO(r,e,t,n,i),null===o){let l=function nee(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Og(i))return e[Vp(i)]}(e,t,i);void 0!==l&&Array.isArray(l)&&(l=WO(null,e,t,l[1],i),l=wy(l,t.attrs,i),function iee(e,t,n,i){e[Vp(n?t.classBindings:t.styleBindings)]=i}(e,t,i,l))}else o=function ree(e,t,n){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=wy(i,e[o].hostAttrs,n);return wy(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function WJ(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Vp(s),l=Og(s);e[i]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||c0(n,u)>0)&&(c=!0)):u=n,r)if(0!==l){const h=Vp(e[a+1]);e[i+1]=Rx(h,a),0!==h&&(e[h+1]=VO(e[h+1],i)),e[a+1]=function HJ(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=Rx(a,0),0!==a&&(e[a+1]=VO(e[a+1],i)),a=i;else e[i+1]=Rx(l,0),0===a?a=i:e[l+1]=VO(e[l+1],i),l=i;c&&(e[i+1]=jO(e[i+1])),p5(e,u,i,!0),p5(e,u,i,!1),function qJ(e,t,n,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&c0(o,t)>=0&&(n[i+1]=HO(n[i+1]))}(t,u,e,i,o),s=Rx(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function WO(e,t,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],i=wy(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function wy(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gc(e,s,!!n||t[++o]))}return void 0===e?null:e}function see(e,t,n){const i=String(t);""!==i&&!i.includes(" ")&&gc(e,i,n)}function C5(e,t,n,i,r,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],u=function GJ(e){return 1==(1&e)}(c)?M5(l,t,n,r,Og(c),s):void 0;Nx(u)||(Nx(o)||function VJ(e){return 2==(2&e)}(c)&&(o=M5(l,null,n,r,a,s)),function nQ(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=-1===i.indexOf("-")?void 0:Bl.DashCase;null==r?e.removeStyle(n,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Bl.Important),e.setStyle(n,i,r,o))}}(i,s,Zn(ve(),n),r,o))}function M5(e,t,n,i,r,o){const s=null===t;let a;for(;r>0;){const l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[r+1];h===Hi&&(h=d?Ln:void 0);let f=d?z2(h,i):u===i?h:void 0;if(c&&!Nx(f)&&(f=z2(l,i)),Nx(f)&&(a=f,s))return a;const v=e[r+1];r=s?Vp(v):Og(v)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=z2(l,i))}return a}function Nx(e){return void 0!==e}function P5(e,t){return 0!=(e.flags&(t?8:16))}function A(e,t=""){const n=It(),i=nr(),r=e+Gr,o=i.firstCreatePass?_0(i,r,1,t,null):i.data[r],s=n[r]=function Z2(e,t){return e.createText(t)}(n[ki],t);gx(i,n,s,o),Mo(o,!1)}function $s(e){return ro("",e,""),$s}function ro(e,t,n){const i=It(),r=w0(i,e,t,n);return r!==Hi&&Rh(i,ve(),r),ro}function Fx(e,t,n,i,r){const o=It(),s=C0(o,e,t,n,i,r);return s!==Hi&&Rh(o,ve(),s),Fx}function Iu(e,t,n){Nd(gc,ku,w0(It(),e,t,n),!0)}const Eg=void 0;var See=["en",[["a","p"],["AM","PM"],Eg],[["AM","PM"],Eg,Eg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eg,"{1} 'at' {0}",Eg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Oee(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let T0={};function cl(e){const t=function Eee(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=G5(t);if(n)return n;const i=t.split("-")[0];if(n=G5(i),n)return n;if("en"===i)return See;throw new le(701,!1)}function G5(e){return e in T0||(T0[e]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[e]),T0[e]}var In=(()=>((In=In||{})[In.LocaleId=0]="LocaleId",In[In.DayPeriodsFormat=1]="DayPeriodsFormat",In[In.DayPeriodsStandalone=2]="DayPeriodsStandalone",In[In.DaysFormat=3]="DaysFormat",In[In.DaysStandalone=4]="DaysStandalone",In[In.MonthsFormat=5]="MonthsFormat",In[In.MonthsStandalone=6]="MonthsStandalone",In[In.Eras=7]="Eras",In[In.FirstDayOfWeek=8]="FirstDayOfWeek",In[In.WeekendRange=9]="WeekendRange",In[In.DateFormat=10]="DateFormat",In[In.TimeFormat=11]="TimeFormat",In[In.DateTimeFormat=12]="DateTimeFormat",In[In.NumberSymbols=13]="NumberSymbols",In[In.NumberFormats=14]="NumberFormats",In[In.CurrencyCode=15]="CurrencyCode",In[In.CurrencySymbol=16]="CurrencySymbol",In[In.CurrencyName=17]="CurrencyName",In[In.Currencies=18]="Currencies",In[In.Directionality=19]="Directionality",In[In.PluralCase=20]="PluralCase",In[In.ExtraData=21]="ExtraData",In))();const k0="en-US";let W5=k0;function $O(e,t,n,i,r){if(e=F(e),Array.isArray(e))for(let o=0;o<e.length;o++)$O(e[o],t,n,i,r);else{const o=nr(),s=It();let a=xg(e)?e:F(e.provide),l=nN(e);const c=yi(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(xg(e)||!e.multi){const f=new fg(l,r,Me),v=QO(a,t,r?u:u+h,d);-1===v?(N2(lx(c,s),o,a),KO(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[v]=f,s[v]=f)}else{const f=QO(a,t,u+h,d),v=QO(a,t,u,u+h),b=v>=0&&n[v];if(r&&!b||!r&&!(f>=0&&n[f])){N2(lx(c,s),o,a);const w=function Cte(e,t,n,i,r){const o=new fg(e,n,Me);return o.multi=[],o.index=t,o.componentProviders=0,mF(o,r,i&&!n),o}(r?wte:xte,n.length,r,i,l);!r&&b&&(n[v].providerFactory=w),KO(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(w),s.push(w)}else KO(o,e,f>-1?f:v,mF(n[r?v:f],l,!r&&i));!r&&i&&b&&n[v].componentProviders++}}}function KO(e,t,n,i){const r=xg(t),o=function FQ(e){return!!e.useClass}(t);if(r||o){const l=(o?F(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(n);-1===u?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function mF(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function QO(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function xte(e,t,n,i){return ZO(this.multi,[])}function wte(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=gg(n,n[wn],this.providerFactory.index,i);o=a.slice(0,s),ZO(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ZO(r,o);return o}function ZO(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function So(e,t=[]){return n=>{n.providersResolver=(i,r)=>function _te(e,t,n){const i=nr();if(i.firstCreatePass){const r=Gs(e);$O(n,i.data,i.blueprint,r,!0),$O(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class I0{}class vF{}class yF extends I0{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LN(this);const i=Zo(t);this._bootstrapComponents=Ih(i.bootstrap),this._r3Injector=mN(t,n,[{provide:I0,useValue:this},{provide:m0,useValue:this.componentFactoryResolver}],T(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class JO extends vF{constructor(t){super(),this.moduleType=t}create(t){return new yF(this.moduleType,t)}}class Pte extends I0{constructor(t,n,i){super(),this.componentFactoryResolver=new LN(this),this.instance=null;const r=new tN([...t,{provide:I0,useValue:this},{provide:m0,useValue:this.componentFactoryResolver}],n||Cx(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jx(e,t,n=null){return new Pte(e,t,n).injector}let Ote=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=QR(0,n.type),r=i.length>0?jx([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ct({token:e,providedIn:"environment",factory:()=>new e(Et(Eu))}),e})();function bF(e){e.getStandaloneInjector=t=>t.get(Ote).getOrCreateStandaloneInjector(e)}function pa(e,t,n,i){return function SF(e,t,n,i,r,o){const s=t+n;return Va(e,s,r)?Au(e,s+1,o?i.call(o,r):i(r)):Ey(e,s+1)}(It(),po(),e,t,n,i)}function Dg(e,t,n,i,r){return EF(It(),po(),e,t,n,i,r)}function OF(e,t,n,i,r,o,s){return function AF(e,t,n,i,r,o,s,a,l){const c=t+n;return Qc(e,c,r,o,s,a)?Au(e,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Ey(e,c+4)}(It(),po(),e,t,n,i,r,o,s)}function nS(e,t,n,i,r,o,s,a){const l=po()+e,c=It(),u=Qc(c,l,n,i,r,o);return Va(c,l+4,s)||u?Au(c,l+5,a?t.call(a,n,i,r,o,s):t(n,i,r,o,s)):function _y(e,t){return e[t]}(c,l+5)}function Ey(e,t){const n=e[t];return n===Hi?void 0:n}function EF(e,t,n,i,r,o,s){const a=t+n;return Pg(e,a,r,o)?Au(e,a+2,s?i.call(s,r,o):i(r,o)):Ey(e,a+2)}function DF(e,t,n,i,r,o,s,a){const l=t+n;return function Ix(e,t,n,i,r){const o=Pg(e,t,n,i);return Va(e,t+2,r)||o}(e,l,r,o,s)?Au(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):Ey(e,l+3)}function iS(e,t){const n=nr();let i;const r=e+Gr;n.firstCreatePass?(i=function Ute(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=pc(i.type)),s=Ri(Me);try{const a=zi(!1),l=o();return zi(a),function LJ(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,It(),r,l),l}finally{Ri(s)}}function Dy(e,t){return e[wn].data[t].pure}function rS(e){return t=>{setTimeout(e,void 0,t)}}const Li=class Gte extends _.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=rS(o),r&&(r=rS(r)),s&&(s=rS(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof C.w&&t.add(a),a}};function Wte(){return this._results[Symbol.iterator]()}class oS{get changes(){return this._changes||(this._changes=new Li)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=oS.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Wte)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=function Kc(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function sK(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wo=(()=>{class e{}return e.__NG_ELEMENT_ID__=Xte,e})();const qte=Wo,Yte=class extends qte{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tView,r=Px(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[Uc]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Oa];return null!==s&&(r[Oa]=s.createEmbeddedView(i)),OO(i,r,t),new yy(r)}};function Xte(){return Vx(yi(),It())}function Vx(e,t){return 4&e.type?new Yte(t,e,v0(e,t)):null}let Fd=(()=>{class e{}return e.__NG_ELEMENT_ID__=$te,e})();function $te(){return FF(yi(),It())}const Kte=Fd,RF=class extends Kte{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return v0(this._hostTNode,this._hostLView)}get injector(){return new r0(this._hostTNode,this._hostLView)}get parentInjector(){const t=R2(this._hostTNode,this._hostLView);if(J(t)){const n=vt(t,this._hostLView),i=de(t);return new r0(n[wn].data[i+8],n)}return new r0(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=NF(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Go}createEmbeddedView(t,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedView(n||{},o);return this.insert(s,r),s}createComponent(t,n,i,r,o){const s=t&&!sy(t);let a;if(s)a=n;else{const d=n||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new by(lr(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(Eu,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,n){const i=t._lView,r=i[wn];if(function fc(e){return ha(e[to])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[to],h=new RF(d,d[Ho],d[to]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function XK(e,t,n,i){const r=Go+i,o=n.length;i>0&&(n[r-1][ua]=t),i<o-Go?(t[ua]=n[r],J4(n,Go+i,t)):(n.push(t),t[ua]=null),t[to]=n;const s=t[Uc];null!==s&&n!==s&&function $K(e,t){const n=e[hc];t[Bo]!==t[to][to][Bo]&&(e[vu]=!0),null===n?e[hc]=[t]:n.push(t)}(s,t);const a=t[Oa];null!==a&&a.insertView(e),t[Ti]|=64}(r,i,s,o);const a=iO(o,s),l=i[ki],c=fx(l,s[Vc]);return null!==c&&function WK(e,t,n,i,r,o){i[da]=r,i[Ho]=t,hy(e,i,n,1,r,o)}(r,s[Ho],l,i,c,a),t.attachToViewContainerRef(),J4(sS(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=NF(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=eO(this._lContainer,n);i&&(dx(sS(this._lContainer),n),wR(i[wn],i))}detach(t){const n=this._adjustIndex(t,-1),i=eO(this._lContainer,n);return i&&null!=dx(sS(this._lContainer),n)?new yy(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function NF(e){return e[ol]}function sS(e){return e[ol]||(e[ol]=[])}function FF(e,t){let n;const i=t[e.index];if(ha(i))n=i;else{let r;if(8&e.type)r=st(i);else{const o=t[ki];r=o.createComment("");const s=oi(e,t);bg(o,fx(o,s),r,function JK(e,t){return e.nextSibling(t)}(o,s),!1)}t[e.index]=n=kN(i,t,r,e),Sx(t,n)}return new RF(n,e,t)}class aS{constructor(t){this.queryList=t,this.matches=null}clone(){return new aS(this.queryList)}setDirty(){this.queryList.setDirty()}}class lS{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new lS(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==jF(t,n).matches&&this.queries[n].setDirty()}}class LF{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class cS{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new cS(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class dS{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new dS(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,n,Qte(n,o)),this.matchTNodeWithReadOption(t,n,cx(n,t,o,!1,!1))}else i===Wo?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,cx(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$r||r===Fd||r===Wo&&4&n.type)this.addMatch(n.index,-2);else{const o=cx(n,t,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Qte(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Jte(e,t,n,i){return-1===n?function Zte(e,t){return 11&e.type?v0(e,t):4&e.type?Vx(e,t):null}(t,e):-2===n?function ene(e,t,n){return n===$r?v0(t,e):n===Wo?Vx(t,e):n===Fd?FF(t,e):void 0}(e,t,i):gg(e,e[wn],n,t)}function BF(e,t,n,i){const r=t[Oa].queries[i];if(null===r.matches){const o=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:Jte(t,o[c],s[l+1],n.metadata.read))}r.matches=a}return r.matches}function uS(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const s=BF(e,t,r,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=Go;d<u.length;d++){const h=u[d];h[Uc]===h[to]&&uS(h[wn],h,c,i)}if(null!==u[hc]){const d=u[hc];for(let h=0;h<d.length;h++){const f=d[h];uS(f[wn],f,c,i)}}}}}return i}function Qr(e){const t=It(),n=nr(),i=Mu();kd(i+1);const r=jF(n,i);if(e.dirty&&function Sa(e){return 4==(4&e[Ti])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?uS(n,t,i,[]):BF(n,t,r,i);e.reset(o,YQ),e.notifyOnChanges()}return!0}return!1}function Ru(e,t,n){const i=nr();i.firstCreatePass&&(UF(i,new LF(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),zF(i,It(),t)}function Zr(){return function tne(e,t){return e[Oa].queries[t].queryList}(It(),Mu())}function zF(e,t,n){const i=new oS(4==(4&n));SN(e,t,i,i.destroy),null===t[Oa]&&(t[Oa]=new lS),t[Oa].queries.push(new aS(i))}function UF(e,t,n){null===e.queries&&(e.queries=new cS),e.queries.track(new dS(t,n))}function jF(e,t){return e.queries.getByIndex(t)}function bc(e,t){return Vx(e,t)}const mo=ry("Input",e=>({bindingPropertyName:e})),Ty=ry("Output",e=>({bindingPropertyName:e})),Wp=ry("HostListener",(e,t)=>({eventName:e,args:t}));function Gx(...e){}const Wx=new Hn("Application Initializer");let qx=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Gx,this.reject=Gx,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(xy(o))n.push(o);else if(UO(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Et(Wx,8))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ky=new Hn("AppId",{providedIn:"root",factory:function sL(){return`${vS()}${vS()}${vS()}`}});function vS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aL=new Hn("Platform Initializer"),Zc=new Hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lL=new Hn("AnimationModuleType");let wne=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Nh=new Hn("LocaleId",{providedIn:"root",factory:()=>ri(Nh,en.Optional|en.SkipSelf)||function Cne(){return typeof $localize<"u"&&$localize.locale||k0}()});class Pne{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let cL=(()=>{class e{compileModuleSync(n){return new JO(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),o=Ih(Zo(n).declarations).reduce((s,a)=>{const l=lr(a);return l&&s.push(new by(l)),s},[]);return new Pne(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ene=(()=>Promise.resolve(0))();function yS(e){typeof Zone>"u"?Ene.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Lr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Li(!1),this.onMicrotaskEmpty=new Li(!1),this.onStable=new Li(!1),this.onError=new Li(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Dne(){let e=Wn.requestAnimationFrame,t=Wn.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function kne(e){const t=()=>{!function Tne(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Wn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_S(e),e.isCheckStableRunning=!0,bS(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_S(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{try{return hL(e),n.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),pL(e)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return hL(e),n.invoke(r,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),pL(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,_S(e),bS(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lr.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Lr.isInAngularZone())throw new le(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Ane,Gx,Gx);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const Ane={};function bS(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _S(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function hL(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pL(e){e._nesting--,bS(e)}class Ine{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Li,this.onMicrotaskEmpty=new Li,this.onStable=new Li,this.onError=new Li}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const fL=new Hn(""),Yx=new Hn("");let CS,xS=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CS||(function Rne(e){CS=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lr.assertNotInAngularZone(),yS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yS(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(Et(Lr),Et(wS),Et(Yx))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})(),wS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return CS?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Fh=!1;let qp=null;const gL=new Hn("AllowMultipleToken"),MS=new Hn("PlatformDestroyListeners"),mL=new Hn("appBootstrapListener");class vL{constructor(t,n){this.name=t,this.token=n}}function bL(e,t,n=[]){const i=`Platform: ${t}`,r=new Hn(i);return(o=[])=>{let s=PS();if(!s||s.injector.get(gL,!1)){const a=[...n,...o,{provide:r,useValue:!0}];e?e(a):function Lne(e){if(qp&&!qp.get(gL,!1))throw new le(400,!1);qp=e;const t=e.get(xL);(function yL(e){const t=e.get(aL,null);t&&t.forEach(n=>n())})(e)}(function _L(e=[],t){return ja.create({name:t,providers:[{provide:gO,useValue:"platform"},{provide:MS,useValue:new Set([()=>qp=null])},...e]})}(a,i))}return function zne(e){const t=PS();if(!t)throw new le(401,!1);return t}()}}function PS(){return qp?.get(xL)??null}let xL=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function CL(e,t){let n;return n="noop"===e?new Ine:("zone.js"===e?void 0:e)||new Lr(t),n}(i?.ngZone,function wL(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:Lr,useValue:r}];return r.run(()=>{const s=ja.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),l=a.injector.get(wg,null);if(!l)throw new le(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Xx(this._modules,a),c.unsubscribe()})}),function ML(e,t,n){try{const i=n();return xy(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(qx);return c.runInitializers(),c.donePromise.then(()=>(function q5(e){ln(e,"Expected localeId to be defined"),"string"==typeof e&&(W5=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Nh,k0)||k0),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,i=[]){const r=PL({},i);return function Nne(e,t,n){const i=new JO(n);return Promise.resolve(i)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const i=n.injector.get(Ag);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new le(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(MS,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Et(ja))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function PL(e,t){return Array.isArray(t)?t.reduce(PL,e):{...e,...t}}let Ag=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new E.y(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new E.y(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Lr.assertNotInAngularZone(),yS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Lr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=(0,H.T)(o,s.pipe((0,L.B)()))}bootstrap(n,i){const r=n instanceof iN;if(!this._injector.get(qx).done){!r&&function cc(e){const t=lr(e)||Qo(e)||Io(e);return null!==t&&t.standalone}(n);throw new le(405,Fh)}let s;s=r?n:this._injector.get(m0).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Fne(e){return e.isBoundToModule}(s)?void 0:this._injector.get(I0),c=s.create(ja.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(fL,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Xx(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Xx(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(mL,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Xx(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Et(Lr),Et(Eu),Et(wg))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Xx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Bd=(()=>{class e{}return e.__NG_ELEMENT_ID__=jne,e})();function jne(e){return function Vne(e,t,n){if(Dd(e)&&!n){const i=Fr(e.index,t);return new yy(i,i)}return 47&e.type?new yy(t[Bo],t):null}(yi(),It(),16==(16&e))}class AL{constructor(){}supports(t){return kx(t)}create(t){return new Xne(t)}}const Yne=(e,t)=>t;class Xne{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Yne}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const s=!i||n&&n.currentIndex<kL(i,r,o)?n:i,a=kL(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,v=f+h;u<=v&&v<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!kx(t))throw new le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),i=!0),n=n._next}else r=0,function IJ(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new $ne(n,i),o,r),t}_verifyReinsertion(t,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new TL),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TL),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $ne{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kne{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class TL{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new Kne,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kL(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class IL{constructor(){}supports(t){return t instanceof Map||BO(t)}create(){return new Qne}}class Qne{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||BO(t)))throw new le(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Zne(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class Zne{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RL(){return new Qx([new AL])}let Qx=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||RL()),deps:[[e,new u0,new yg]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new le(901,!1)}}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:RL}),e})();function NL(){return new Iy([new IL])}let Iy=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||NL()),deps:[[e,new u0,new yg]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new le(901,!1)}}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:NL}),e})();const tie=bL(null,"core",[]);let nie=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Et(Ag))},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({}),e})();function F0(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function TS(e,t){const n=lr(e),i=t.elementInjector||Cx();return new by(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let kS=null;function Nu(){return kS}class oie{}const _o=new Hn("DocumentToken");let IS=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:function(){return function sie(){return Et(FL)}()},providedIn:"platform"}),e})();const aie=new Hn("Location Initialized");let FL=(()=>{class e extends IS{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nu().getBaseHref(this._doc)}onPopState(n){const i=Nu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Nu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){LL()?this._history.pushState(n,i,r):this._location.hash=r}replaceState(n,i,r){LL()?this._history.replaceState(n,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Et(_o))},e.\u0275prov=Ct({token:e,factory:function(){return function lie(){return new FL(Et(_o))}()},providedIn:"platform"}),e})();function LL(){return!!window.history.pushState}function RS(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function BL(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Lh(e){return e&&"?"!==e[0]?"?"+e:e}let Yp=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:function(){return ri(UL)},providedIn:"root"}),e})();const zL=new Hn("appBaseHref");let UL=(()=>{class e extends Yp{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ri(_o).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return RS(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Lh(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){const s=this.prepareExternalUrl(r+Lh(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){const s=this.prepareExternalUrl(r+Lh(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Et(IS),Et(zL,8))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),cie=(()=>{class e extends Yp{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=RS(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Lh(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Lh(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Et(IS),Et(zL,8))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})(),Xp=(()=>{class e{constructor(n){this._subject=new Li,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function hie(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(BL(jL(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Lh(i))}normalize(n){return e.stripTrailingSlash(function uie(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,jL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lh(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lh(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return e.normalizeQueryParams=Lh,e.joinWithSlash=RS,e.stripTrailingSlash=BL,e.\u0275fac=function(n){return new(n||e)(Et(Yp))},e.\u0275prov=Ct({token:e,factory:function(){return function die(){return new Xp(Et(Yp))}()},providedIn:"root"}),e})();function jL(e){return e.replace(/\/index.html$/,"")}var hs=(()=>((hs=hs||{})[hs.Format=0]="Format",hs[hs.Standalone=1]="Standalone",hs))(),pr=(()=>((pr=pr||{})[pr.Narrow=0]="Narrow",pr[pr.Abbreviated=1]="Abbreviated",pr[pr.Wide=2]="Wide",pr[pr.Short=3]="Short",pr))(),qo=(()=>((qo=qo||{})[qo.Short=0]="Short",qo[qo.Medium=1]="Medium",qo[qo.Long=2]="Long",qo[qo.Full=3]="Full",qo))(),bi=(()=>((bi=bi||{})[bi.Decimal=0]="Decimal",bi[bi.Group=1]="Group",bi[bi.List=2]="List",bi[bi.PercentSign=3]="PercentSign",bi[bi.PlusSign=4]="PlusSign",bi[bi.MinusSign=5]="MinusSign",bi[bi.Exponential=6]="Exponential",bi[bi.SuperscriptingExponent=7]="SuperscriptingExponent",bi[bi.PerMille=8]="PerMille",bi[bi.Infinity=9]="Infinity",bi[bi.NaN=10]="NaN",bi[bi.TimeSeparator=11]="TimeSeparator",bi[bi.CurrencyDecimal=12]="CurrencyDecimal",bi[bi.CurrencyGroup=13]="CurrencyGroup",bi))();function Zx(e,t){return ed(cl(e)[In.DateFormat],t)}function Jx(e,t){return ed(cl(e)[In.TimeFormat],t)}function ew(e,t){return ed(cl(e)[In.DateTimeFormat],t)}function Jc(e,t){const n=cl(e),i=n[In.NumberSymbols][t];if(typeof i>"u"){if(t===bi.CurrencyDecimal)return n[In.NumberSymbols][bi.Decimal];if(t===bi.CurrencyGroup)return n[In.NumberSymbols][bi.Group]}return i}function HL(e){if(!e[In.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[In.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ed(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function FS(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Pie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ry={},Oie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ks=(()=>((Ks=Ks||{})[Ks.Short=0]="Short",Ks[Ks.ShortGMT=1]="ShortGMT",Ks[Ks.Long=2]="Long",Ks[Ks.Extended=3]="Extended",Ks))(),Oi=(()=>((Oi=Oi||{})[Oi.FullYear=0]="FullYear",Oi[Oi.Month=1]="Month",Oi[Oi.Date=2]="Date",Oi[Oi.Hours=3]="Hours",Oi[Oi.Minutes=4]="Minutes",Oi[Oi.Seconds=5]="Seconds",Oi[Oi.FractionalSeconds=6]="FractionalSeconds",Oi[Oi.Day=7]="Day",Oi))(),ir=(()=>((ir=ir||{})[ir.DayPeriods=0]="DayPeriods",ir[ir.Days=1]="Days",ir[ir.Months=2]="Months",ir[ir.Eras=3]="Eras",ir))();function Sie(e,t,n,i){let r=function Fie(e){if(qL(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,o=1,s=1]=e.split("-").map(a=>+a);return tw(r,o-1,s)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let i;if(i=e.match(Pie))return function Lie(e){const t=new Date(0);let n=0,i=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(e);if(!qL(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Bh(n,t)||t;let a,s=[];for(;t;){if(a=Oie.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=WL(i,l),r=function Nie(e,t,n){const i=n?-1:1,r=e.getTimezoneOffset();return function Rie(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,i*(WL(t,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const d=function Iie(e){if(BS[e])return BS[e];let t;switch(e){case"G":case"GG":case"GGG":t=Eo(ir.Eras,pr.Abbreviated);break;case"GGGG":t=Eo(ir.Eras,pr.Wide);break;case"GGGGG":t=Eo(ir.Eras,pr.Narrow);break;case"y":t=Ts(Oi.FullYear,1,0,!1,!0);break;case"yy":t=Ts(Oi.FullYear,2,0,!0,!0);break;case"yyy":t=Ts(Oi.FullYear,3,0,!1,!0);break;case"yyyy":t=Ts(Oi.FullYear,4,0,!1,!0);break;case"Y":t=ow(1);break;case"YY":t=ow(2,!0);break;case"YYY":t=ow(3);break;case"YYYY":t=ow(4);break;case"M":case"L":t=Ts(Oi.Month,1,1);break;case"MM":case"LL":t=Ts(Oi.Month,2,1);break;case"MMM":t=Eo(ir.Months,pr.Abbreviated);break;case"MMMM":t=Eo(ir.Months,pr.Wide);break;case"MMMMM":t=Eo(ir.Months,pr.Narrow);break;case"LLL":t=Eo(ir.Months,pr.Abbreviated,hs.Standalone);break;case"LLLL":t=Eo(ir.Months,pr.Wide,hs.Standalone);break;case"LLLLL":t=Eo(ir.Months,pr.Narrow,hs.Standalone);break;case"w":t=LS(1);break;case"ww":t=LS(2);break;case"W":t=LS(1,!0);break;case"d":t=Ts(Oi.Date,1);break;case"dd":t=Ts(Oi.Date,2);break;case"c":case"cc":t=Ts(Oi.Day,1);break;case"ccc":t=Eo(ir.Days,pr.Abbreviated,hs.Standalone);break;case"cccc":t=Eo(ir.Days,pr.Wide,hs.Standalone);break;case"ccccc":t=Eo(ir.Days,pr.Narrow,hs.Standalone);break;case"cccccc":t=Eo(ir.Days,pr.Short,hs.Standalone);break;case"E":case"EE":case"EEE":t=Eo(ir.Days,pr.Abbreviated);break;case"EEEE":t=Eo(ir.Days,pr.Wide);break;case"EEEEE":t=Eo(ir.Days,pr.Narrow);break;case"EEEEEE":t=Eo(ir.Days,pr.Short);break;case"a":case"aa":case"aaa":t=Eo(ir.DayPeriods,pr.Abbreviated);break;case"aaaa":t=Eo(ir.DayPeriods,pr.Wide);break;case"aaaaa":t=Eo(ir.DayPeriods,pr.Narrow);break;case"b":case"bb":case"bbb":t=Eo(ir.DayPeriods,pr.Abbreviated,hs.Standalone,!0);break;case"bbbb":t=Eo(ir.DayPeriods,pr.Wide,hs.Standalone,!0);break;case"bbbbb":t=Eo(ir.DayPeriods,pr.Narrow,hs.Standalone,!0);break;case"B":case"BB":case"BBB":t=Eo(ir.DayPeriods,pr.Abbreviated,hs.Format,!0);break;case"BBBB":t=Eo(ir.DayPeriods,pr.Wide,hs.Format,!0);break;case"BBBBB":t=Eo(ir.DayPeriods,pr.Narrow,hs.Format,!0);break;case"h":t=Ts(Oi.Hours,1,-12);break;case"hh":t=Ts(Oi.Hours,2,-12);break;case"H":t=Ts(Oi.Hours,1);break;case"HH":t=Ts(Oi.Hours,2);break;case"m":t=Ts(Oi.Minutes,1);break;case"mm":t=Ts(Oi.Minutes,2);break;case"s":t=Ts(Oi.Seconds,1);break;case"ss":t=Ts(Oi.Seconds,2);break;case"S":t=Ts(Oi.FractionalSeconds,1);break;case"SS":t=Ts(Oi.FractionalSeconds,2);break;case"SSS":t=Ts(Oi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=iw(Ks.Short);break;case"ZZZZZ":t=iw(Ks.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=iw(Ks.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=iw(Ks.Long);break;default:return null}return BS[e]=t,t}(u);c+=d?d(r,n,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function tw(e,t,n){const i=new Date(0);return i.setFullYear(e,t,n),i.setHours(0,0,0),i}function Bh(e,t){const n=function pie(e){return cl(e)[In.LocaleId]}(e);if(Ry[n]=Ry[n]||{},Ry[n][t])return Ry[n][t];let i="";switch(t){case"shortDate":i=Zx(e,qo.Short);break;case"mediumDate":i=Zx(e,qo.Medium);break;case"longDate":i=Zx(e,qo.Long);break;case"fullDate":i=Zx(e,qo.Full);break;case"shortTime":i=Jx(e,qo.Short);break;case"mediumTime":i=Jx(e,qo.Medium);break;case"longTime":i=Jx(e,qo.Long);break;case"fullTime":i=Jx(e,qo.Full);break;case"short":const r=Bh(e,"shortTime"),o=Bh(e,"shortDate");i=nw(ew(e,qo.Short),[r,o]);break;case"medium":const s=Bh(e,"mediumTime"),a=Bh(e,"mediumDate");i=nw(ew(e,qo.Medium),[s,a]);break;case"long":const l=Bh(e,"longTime"),c=Bh(e,"longDate");i=nw(ew(e,qo.Long),[l,c]);break;case"full":const u=Bh(e,"fullTime"),d=Bh(e,"fullDate");i=nw(ew(e,qo.Full),[u,d])}return i&&(Ry[n][t]=i),i}function nw(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,i){return null!=t&&i in t?t[i]:n})),e}function zd(e,t,n="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function Ts(e,t,n=0,i=!1,r=!1){return function(o,s){let a=function Die(e,t){switch(e){case Oi.FullYear:return t.getFullYear();case Oi.Month:return t.getMonth();case Oi.Date:return t.getDate();case Oi.Hours:return t.getHours();case Oi.Minutes:return t.getMinutes();case Oi.Seconds:return t.getSeconds();case Oi.FractionalSeconds:return t.getMilliseconds();case Oi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===Oi.Hours)0===a&&-12===n&&(a=12);else if(e===Oi.FractionalSeconds)return function Eie(e,t){return zd(e,3).substring(0,t)}(a,t);const l=Jc(s,bi.MinusSign);return zd(a,t,l,i,r)}}function Eo(e,t,n=hs.Format,i=!1){return function(r,o){return function Aie(e,t,n,i,r,o){switch(n){case ir.Months:return function mie(e,t,n){const i=cl(e),o=ed([i[In.MonthsFormat],i[In.MonthsStandalone]],t);return ed(o,n)}(t,r,i)[e.getMonth()];case ir.Days:return function gie(e,t,n){const i=cl(e),o=ed([i[In.DaysFormat],i[In.DaysStandalone]],t);return ed(o,n)}(t,r,i)[e.getDay()];case ir.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const c=function _ie(e){const t=cl(e);return HL(t),(t[In.ExtraData][2]||[]).map(i=>"string"==typeof i?FS(i):[FS(i[0]),FS(i[1])])}(t),u=function xie(e,t,n){const i=cl(e);HL(i);const o=ed([i[In.ExtraData][0],i[In.ExtraData][1]],t)||[];return ed(o,n)||[]}(t,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,v]=h,y=s>=f.hours&&a>=f.minutes,b=s<v.hours||s===v.hours&&a<v.minutes;if(f.hours<v.hours){if(y&&b)return!0}else if(y||b)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function fie(e,t,n){const i=cl(e),o=ed([i[In.DayPeriodsFormat],i[In.DayPeriodsStandalone]],t);return ed(o,n)}(t,r,i)[s<12?0:1];case ir.Eras:return function vie(e,t){return ed(cl(e)[In.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,o,e,t,n,i)}}function iw(e){return function(t,n,i){const r=-1*i,o=Jc(n,bi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Ks.Short:return(r>=0?"+":"")+zd(s,2,o)+zd(Math.abs(r%60),2,o);case Ks.ShortGMT:return"GMT"+(r>=0?"+":"")+zd(s,1,o);case Ks.Long:return"GMT"+(r>=0?"+":"")+zd(s,2,o)+":"+zd(Math.abs(r%60),2,o);case Ks.Extended:return 0===i?"Z":(r>=0?"+":"")+zd(s,2,o)+":"+zd(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const Tie=0,rw=4;function GL(e){return tw(e.getFullYear(),e.getMonth(),e.getDate()+(rw-e.getDay()))}function LS(e,t=!1){return function(n,i){let r;if(t){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{const o=GL(n),s=function kie(e){const t=tw(e,Tie,1).getDay();return tw(e,0,1+(t<=rw?rw:rw+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return zd(r,e,Jc(i,bi.MinusSign))}}function ow(e,t=!1){return function(n,i){return zd(GL(n).getFullYear(),e,Jc(i,bi.MinusSign),t)}}const BS={};function WL(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function qL(e){return e instanceof Date&&!isNaN(e.valueOf())}function KL(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const GS=/\s+/,QL=[];let Fy=(()=>{class e{constructor(n,i,r,o){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=QL,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(GS):QL}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(GS):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,Boolean(n[i]));this._applyStateDiff()}_updateState(n,i){const r=this.stateMap.get(n);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(GS).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return e.\u0275fac=function(n){return new(n||e)(Me(Qx),Me(Iy),Me($r),Me(Ds))},e.\u0275dir=Xt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Kie{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qs=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Kie(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),eB(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{eB(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(Me(Fd),Me(Wo),Me(Qx))},e.\u0275dir=Xt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function eB(e,t){e.context.$implicit=t.item}let fa=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new Zie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tB("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tB("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(Me(Fd),Me(Wo))},e.\u0275dir=Xt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Zie{constructor(){this.$implicit=null,this.ngIf=null}}function tB(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${T(t)}'.`)}class WS{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let aw=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const i of this._defaultViews)i.enforceState(n)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Xt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),nB=(()=>{class e{constructor(n,i,r){this.ngSwitch=r,r._addCase(),this._view=new WS(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(n){return new(n||e)(Me(Fd),Me(Wo),Me(aw,9))},e.\u0275dir=Xt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),iB=(()=>{class e{constructor(n,i,r){r._addDefault(new WS(n,i))}}return e.\u0275fac=function(n){return new(n||e)(Me(Fd),Me(Wo),Me(aw,9))},e.\u0275dir=Xt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),kg=(()=>{class e{constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[r,o]=n.split("."),s=-1===r.indexOf("-")?void 0:Bl.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(Me($r),Me(Iy),Me(Ds))},e.\u0275dir=Xt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),L0=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(n){return new(n||e)(Me(Fd))},e.\u0275dir=Xt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[P]}),e})();function Ud(e,t){return new le(2100,!1)}const dre=new Hn("DATE_PIPE_DEFAULT_TIMEZONE"),ure=new Hn("DATE_PIPE_DEFAULT_OPTIONS");let oB=(()=>{class e{constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,o){if(null==n||""===n||n!=n)return null;try{return Sie(n,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Ud()}}}return e.\u0275fac=function(n){return new(n||e)(Me(Nh,16),Me(dre,24),Me(ure,24))},e.\u0275pipe=Vo({name:"date",type:e,pure:!0,standalone:!0}),e})(),aB=(()=>{class e{transform(n,i,r){if(null==n)return null;if(!this.supports(n))throw Ud();return n.slice(i,r)}supports(n){return"string"==typeof n||Array.isArray(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Vo({name:"slice",type:e,pure:!1,standalone:!0}),e})(),ul=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({}),e})();const lB="browser";function XS(e){return e===lB}let Mre=(()=>{class e{}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new Pre(Et(_o),window)}),e})();class Pre{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function Ore(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=cB(this.window.history)||cB(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function cB(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class dB{}class Jre extends oie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class QS extends Jre{static makeCurrent(){!function rie(e){kS||(kS=e)}(new QS)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function eoe(){return By=By||document.querySelector("base"),By?By.getAttribute("href"):null}();return null==n?null:function toe(e){dw=dw||document.createElement("a"),dw.setAttribute("href",e);const t=dw.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){By=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return KL(document.cookie,t)}}let dw,By=null;const gB=new Hn("TRANSITION_ID"),ioe=[{provide:Wx,useFactory:function noe(e,t,n){return()=>{n.get(qx).donePromise.then(()=>{const i=Nu(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[gB,_o,ja],multi:!0}];let ooe=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const uw=new Hn("EventManagerPlugins");let zy=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Et(uw),Et(Lr))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();class mB{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=Nu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let vB=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,i){const r=this.usageCount;let o=r.get(n)??0;return o+=i,o>0?r.set(n,o):r.delete(n),o}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})(),Uy=(()=>{class e extends vB{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.forEach(o=>o.remove()),i.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,i){const r=this.doc.createElement("style");r.textContent=i,n.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(Et(_o))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const ZS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},JS=/%COMP%/g,_B=new Hn("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function xB(e,t){return t.flat(100).map(n=>n.replace(JS,e))}function wB(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let hw=(()=>{class e{constructor(n,i,r,o){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new eE(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(n,i);return r instanceof PB?r.applyToHost(n):r instanceof tE&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case Kn.Emulated:o=new PB(s,a,i,this.appId,l);break;case Kn.ShadowDom:return new hoe(s,a,n,i);default:o=new tE(s,a,i,l)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Et(zy),Et(Uy),Et(ky),Et(_B))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();class eE{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(ZS[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(MB(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(MB(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const o=ZS[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=ZS[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Bl.DashCase|Bl.Important)?t.style.setProperty(n,i,r&Bl.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Bl.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,wB(i)):this.eventManager.addEventListener(t,n,wB(i))}}function MB(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class hoe extends eE{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=xB(r.id,r.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class tE extends eE{constructor(t,n,i,r,o=i.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=xB(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class PB extends tE{constructor(t,n,i,r,o){const s=r+"-"+i.id;super(t,n,i,o,s),this.contentAttr=function coe(e){return"_ngcontent-%COMP%".replace(JS,e)}(s),this.hostAttr=function doe(e){return"_nghost-%COMP%".replace(JS,e)}(s)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let poe=(()=>{class e extends mB{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(Et(_o))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const OB=["alt","control","meta","shift"],foe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},goe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let moe=(()=>{class e extends mB{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nu().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),OB.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=foe[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),OB.forEach(s=>{s!==r&&(0,goe[s])(n)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Et(_o))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const EB=[{provide:Zc,useValue:lB},{provide:aL,useValue:function voe(){QS.makeCurrent()},multi:!0},{provide:_o,useFactory:function boe(){return function aQ(e){aO=e}(document),document},deps:[]}],_oe=bL(tie,"browser",EB),DB=new Hn(""),AB=[{provide:Yx,useClass:class roe{addToWindow(t){Wn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Wn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Wn.getAllAngularRootElements=()=>t.getAllRootElements(),Wn.frameworkStabilizers||(Wn.frameworkStabilizers=[]),Wn.frameworkStabilizers.push(i=>{const r=Wn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?Nu().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:fL,useClass:xS,deps:[Lr,wS,Yx]},{provide:xS,useClass:xS,deps:[Lr,wS,Yx]}],TB=[{provide:gO,useValue:"root"},{provide:wg,useFactory:function yoe(){return new wg},deps:[]},{provide:uw,useClass:poe,multi:!0,deps:[_o,Lr,Zc]},{provide:uw,useClass:moe,multi:!0,deps:[_o]},{provide:hw,useClass:hw,deps:[zy,Uy,ky,_B]},{provide:y0,useExisting:hw},{provide:vB,useExisting:Uy},{provide:Uy,useClass:Uy,deps:[_o]},{provide:zy,useClass:zy,deps:[uw,Lr]},{provide:dB,useClass:ooe,deps:[]},[]];let kB=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ky,useValue:n.appId},{provide:gB,useExisting:ky},ioe]}}}return e.\u0275fac=function(n){return new(n||e)(Et(DB,12))},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({providers:[...TB,...AB],imports:[ul,nie]}),e})(),Hl=(()=>{class e{constructor(n){this._doc=n,this._dom=Nu()}addTag(n,i=!1){return n?this._getOrCreateElement(n,i):null}addTags(n,i=!1){return n?n.reduce((r,o)=>(o&&r.push(this._getOrCreateElement(o,i)),r),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];const i=this._doc.querySelectorAll(`meta[${n}]`);return i?[].slice.call(i):[]}updateTag(n,i){if(!n)return null;i=i||this._parseSelector(n);const r=this.getTag(i);return r?this._setMetaElementAttributes(n,r):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,i=!1){if(!i){const s=this._parseSelector(n),a=this.getTags(s).filter(l=>this._containsAttributes(n,l))[0];if(void 0!==a)return a}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(n,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(n,i){return Object.keys(n).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),n[r])),i}_parseSelector(n){const i=n.name?"name":"property";return`${i}="${n[i]}"`}_containsAttributes(n,i){return Object.keys(n).every(r=>i.getAttribute(this._getMetaKeyMap(r))===n[r])}_getMetaKeyMap(n){return woe[n]||n}}return e.\u0275fac=function(n){return new(n||e)(Et(_o))},e.\u0275prov=Ct({token:e,factory:function(n){let i=null;return i=n?new n:function xoe(){return new Hl(Et(_o))}(),i},providedIn:"root"}),e})();const woe={httpEquiv:"http-equiv"};let Gl=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Et(_o))},e.\u0275prov=Ct({token:e,factory:function(n){let i=null;return i=n?new n:function Coe(){return new Gl(Et(_o))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let NB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:function(n){let i=null;return i=n?new(n||e):Et(FB),i},providedIn:"root"}),e})(),FB=(()=>{class e extends NB{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case Oo.NONE:return i;case Oo.HTML:return Su(i,"HTML")?mc(i):WR(this._doc,String(i)).toString();case Oo.STYLE:return Su(i,"Style")?mc(i):i;case Oo.SCRIPT:if(Su(i,"Script"))return mc(i);throw new Error("unsafe value used in a script context");case Oo.URL:return Su(i,"URL")?mc(i):bx(String(i));case Oo.RESOURCE_URL:if(Su(i,"ResourceURL"))return mc(i);throw new Error(`unsafe value used in a resource URL context (see ${oe})`);default:throw new Error(`Unexpected SecurityContext ${n} (see ${oe})`)}}bypassSecurityTrustHtml(n){return function fQ(e){return new lQ(e)}(n)}bypassSecurityTrustStyle(n){return function gQ(e){return new cQ(e)}(n)}bypassSecurityTrustScript(n){return function mQ(e){return new dQ(e)}(n)}bypassSecurityTrustUrl(n){return function vQ(e){return new uQ(e)}(n)}bypassSecurityTrustResourceUrl(n){return function yQ(e){return new hQ(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(Et(_o))},e.\u0275prov=Ct({token:e,factory:function(n){let i=null;return i=n?new n:function Eoe(e){return new FB(e.get(_o))}(Et(ja)),i},providedIn:"root"}),e})();class LB{}class Doe{}const zh="*";function BB(e,t){return{type:7,name:e,definitions:t,options:{}}}function td(e,t=null){return{type:4,styles:t,timings:e}}function zB(e,t=null){return{type:2,steps:e,options:t}}function Zs(e){return{type:6,styles:e,offset:null}}function Ig(e,t,n){return{type:0,name:e,styles:t,options:n}}function nd(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function UB(e){Promise.resolve().then(e)}class jy{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){UB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class jB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,i=0,r=0;const o=this.players.length;0==o?UB(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}const rE="!";function VB(e){return new le(3e3,!1)}function dse(){return typeof window<"u"&&typeof window.document<"u"}function oE(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Kp(e){switch(e.length){case 0:return new jy;case 1:return e[0];default:return new jB(e)}}function HB(e,t,n,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((v,y)=>{let b=y,w=v;if("offset"!==y)switch(b=t.normalizePropertyName(b,s),w){case rE:w=r.get(y);break;case zh:w=o.get(y);break;default:w=t.normalizeStyleValue(y,b,w,s)}f.set(b,w)}),h||a.push(f),c=f,l=d}),s.length)throw function Zoe(e){return new le(3502,!1)}();return a}function sE(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&aE(n,"start",e)));break;case"done":e.onDone(()=>i(n&&aE(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&aE(n,"destroy",e)))}}function aE(e,t,n){const o=lE(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),s=e._data;return null!=s&&(o._data=s),o}function lE(e,t,n,i,r="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function _c(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i}function GB(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}let cE=(e,t)=>!1,WB=(e,t,n)=>[],qB=null;function dE(e){const t=e.parentNode||e.host;return t===qB?null:t}(oE()||typeof Element<"u")&&(dse()?(qB=(()=>document.documentElement)(),cE=(e,t)=>{for(;t;){if(t===e)return!0;t=dE(t)}return!1}):cE=(e,t)=>e.contains(t),WB=(e,t,n)=>{if(n)return Array.from(e.querySelectorAll(t));const i=e.querySelector(t);return i?[i]:[]});let Rg=null,YB=!1;const XB=cE,$B=WB;let KB=(()=>{class e{validateStyleProperty(n){return function hse(e){Rg||(Rg=function pse(){return typeof document<"u"?document.body:null}()||{},YB=!!Rg.style&&"WebkitAppearance"in Rg.style);let t=!0;return Rg.style&&!function use(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Rg.style,!t&&YB&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Rg.style)),t}(n)}matchesElement(n,i){return!1}containsElement(n,i){return XB(n,i)}getParentElement(n){return dE(n)}query(n,i,r){return $B(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,s,a=[],l){return new jy(r,o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})(),uE=(()=>{class e{}return e.NOOP=new KB,e})();const fse=1e3,hE="ng-enter",pw="ng-leave",fw="ng-trigger",gw=".ng-trigger",ZB="ng-animating",pE=".ng-animating";function Uh(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:fE(parseFloat(t[1]),t[2])}function fE(e,t){return"s"===t?e*fse:e}function mw(e,t,n){return e.hasOwnProperty("duration")?e:function mse(e,t,n){let r,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(VB()),{duration:0,delay:0,easing:""};r=fE(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=fE(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push(function Aoe(){return new le(3100,!1)}()),a=!0),o<0&&(t.push(function Toe(){return new le(3101,!1)}()),a=!0),a&&t.splice(l,0,VB())}return{duration:r,delay:o,easing:s}}(e,t,n)}function Vy(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function JB(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Qp(e,t=new Map,n){if(n)for(let[i,r]of n)t.set(i,r);for(let[i,r]of e)t.set(i,r);return t}function t6(e,t,n){return n?t+":"+n+";":""}function n6(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=t6(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=t6(0,_se(n),e.style[n]));e.setAttribute("style",t)}function Fu(e,t,n){e.style&&(t.forEach((i,r)=>{const o=mE(r);n&&!n.has(r)&&n.set(r,e.style[o]),e.style[o]=i}),oE()&&n6(e))}function Ng(e,t){e.style&&(t.forEach((n,i)=>{const r=mE(i);e.style[r]=""}),oE()&&n6(e))}function Hy(e){return Array.isArray(e)?1==e.length?e[0]:zB(e):e}const gE=new RegExp("{{\\s*(.+?)\\s*}}","g");function i6(e){let t=[];if("string"==typeof e){let n;for(;n=gE.exec(e);)t.push(n[1]);gE.lastIndex=0}return t}function Gy(e,t,n){const i=e.toString(),r=i.replace(gE,(o,s)=>{let a=t[s];return null==a&&(n.push(function Ioe(e){return new le(3003,!1)}()),a=""),a.toString()});return r==i?e:r}function vw(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const bse=/-+([a-z0-9])/g;function mE(e){return e.replace(bse,(...t)=>t[1].toUpperCase())}function _se(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xc(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function Roe(e){return new le(3004,!1)}()}}function r6(e,t){return window.getComputedStyle(e)[t]}const _w="*";function Ose(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function Sse(e,t,n){if(":"==e[0]){const l=function Ese(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(function Xoe(e){return new le(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function Yoe(e){return new le(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(o6(r,s));"<"==o[0]&&!(r==_w&&s==_w)&&t.push(o6(s,r))}(i,n,t)):n.push(e),n}const xw=new Set(["true","1"]),ww=new Set(["false","0"]);function o6(e,t){const n=xw.has(e)||ww.has(e),i=xw.has(t)||ww.has(t);return(r,o)=>{let s=e==_w||e==r,a=t==_w||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?xw.has(e):ww.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?xw.has(t):ww.has(t)),s&&a}}const Dse=new RegExp("s*:selfs*,?","g");function vE(e,t,n,i){return new Ase(e).build(t,n,i)}class Ase{constructor(t){this._driver=t}build(t,n,i){const r=new Ise(n);return this._resetContextStyleTimingState(r),xc(this,Hy(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&n.errors.push(function Foe(){return new le(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,s.push(l)}else n.errors.push(function Loe(){return new le(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,n){const i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{i6(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(vw(o.values()),n.errors.push(function Boe(e,t){return new le(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const i=xc(this,Hy(t.animation),n);return{type:1,matchers:Ose(t.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Fg(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(i=>xc(this,i,n)),options:Fg(t.options)}}visitGroup(t,n){const i=n.currentTime;let r=0;const o=t.steps.map(s=>{n.currentTime=i;const a=xc(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:o,options:Fg(t.options)}}visitAnimate(t,n){const i=function Nse(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return yE(mw(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=yE(0,0,"");return o.dynamic=!0,o.strValue=n,o}const r=mw(n,t);return yE(r.duration,r.delay,r.easing)}(t.timings,n.errors);n.currentAnimateTimings=i;let r,o=t.styles?t.styles:Zs({});if(5==o.type)r=this.visitKeyframes(o,n);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Zs(c)}n.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,n){const i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===zh?i.push(a):n.errors.push(new le(3002,!1)):i.push(JB(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,n){const i=n.currentAnimateTimings;let r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(n.errors.push(function Uoe(e,t,n,i,r){return new le(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),n.options&&function yse(e,t,n){const i=t.params||{},r=i6(e);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(function koe(e){return new le(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function joe(){return new le(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(w=>{const O=this._makeStyleAst(w,n);let S=null!=O.offset?O.offset:function Rse(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(O.styles),D=0;return null!=S&&(o++,D=O.offset=S),l=l||D<0||D>1,a=a||D<c,c=D,s.push(D),O});l&&n.errors.push(function Voe(){return new le(3012,!1)}()),a&&n.errors.push(function Hoe(){return new le(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?n.errors.push(function Goe(){return new le(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,v=n.currentTime,y=n.currentAnimateTimings,b=y.duration;return u.forEach((w,O)=>{const S=h>0?O==f?1:h*O:s[O],D=S*b;n.currentTime=v+y.delay+D,y.duration=D,this._validateStyleAst(w,n),w.offset=S,i.styles.push(w)}),i}visitReference(t,n){return{type:8,animation:xc(this,Hy(t.animation),n),options:Fg(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Fg(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Fg(t.options)}}visitQuery(t,n){const i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;const[o,s]=function Tse(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(Dse,"")),e=e.replace(/@\*/g,gw).replace(/@\w+/g,n=>gw+"-"+n.slice(1)).replace(/:animating/g,pE),[e,t]}(t.selector);n.currentQuerySelector=i.length?i+" "+o:o,_c(n.collectedStyles,n.currentQuerySelector,new Map);const a=xc(this,Hy(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Fg(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function Woe(){return new le(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:mw(t.timings,n.errors,!0);return{type:12,animation:xc(this,Hy(t.animation),n),timings:i,options:null}}}class Ise{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fg(e){return e?(e=Vy(e)).params&&(e.params=function kse(e){return e?Vy(e):null}(e.params)):e={},e}function yE(e,t,n){return{duration:e,delay:t,easing:n}}function bE(e,t,n,i,r,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Cw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Bse=new RegExp(":enter","g"),Use=new RegExp(":leave","g");function _E(e,t,n,i,r,o=new Map,s=new Map,a,l,c=[]){return(new jse).buildKeyframes(e,t,n,i,r,o,s,a,l,c)}class jse{buildKeyframes(t,n,i,r,o,s,a,l,c,u=[]){c=c||new Cw;const d=new xE(t,n,c,r,o,u,[]);d.options=l;const h=l.delay?Uh(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),xc(this,i,d);const f=d.timelines.filter(v=>v.containsAnimation());if(f.length&&a.size){let v;for(let y=f.length-1;y>=0;y--){const b=f[y];if(b.element===n){v=b;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,l)}return f.length?f.map(v=>v.buildKeyframes()):[bE(n,[],[],[],0,h,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(t.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=t}visitAnimateRef(t,n){const i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,i),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Uh(Gy(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,n,i){let o=n.currentTimeline.currentTime;const s=null!=i.duration?Uh(i.duration):null,a=null!=i.delay?Uh(i.delay):null;return 0!==s&&t.forEach(l=>{const c=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,n){n.updateOptions(t.options,!0),xc(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const i=n.subContextCount;let r=n;const o=t.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mw);const s=Uh(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>xc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const i=[];let r=n.currentTimeline.currentTime;const o=t.options&&t.options.delay?Uh(t.options.delay):0;t.steps.forEach(s=>{const a=n.createSubContext(t.options);o&&a.delayNextStep(o),xc(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const i=t.strValue;return mw(n.params?Gy(i,n.params,n.errors):i,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=t}visitQuery(t,n){const i=n.currentTimeline.currentTime,r=t.options||{},o=r.delay?Uh(r.delay):0;o&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Mw);let s=i;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(t.options,c);o&&d.delayNextStep(o),c===n.element&&(l=d.currentTimeline),xc(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const i=n.parentContext,r=n.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=n.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;xc(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Mw={};class xE{constructor(t,n,i,r,o,s,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Pw(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Uh(i.duration)),null!=i.delay&&(r.delay=Uh(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Gy(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return t}createSubContext(t=null,n,i){const r=n||this.element,o=new xE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Mw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){const r={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Vse(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Bse,"."+this._enterClassName)).replace(Use,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function qoe(e){return new le(3014,!1)}()),a}}class Pw{constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new Pw(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||zh),this._currentKeyframe.set(n,zh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,r){n&&this._previousKeyframe.set("easing",n);const o=r&&r.params||{},s=function Hse(e,t){const n=new Map;let i;return e.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)n.set(o,zh)}else Qp(r,n)}),n}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Gy(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??zh),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Qp(a,new Map,this._backFill);c.forEach((u,d)=>{u===rE?t.add(d):u===zh&&n.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?vw(t.values()):[],s=n.size?vw(n.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return bE(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Vse extends Pw{constructor(t,n,i,r,o,s,a=!1){super(t,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=i+n,a=n/s,l=Qp(t[0]);l.set("offset",0),o.push(l);const c=Qp(t[0]);c.set("offset",l6(a)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Qp(t[d]);const f=h.get("offset");h.set("offset",l6((n+f*i)/s)),o.push(h)}i=s,n=0,r="",t=o}return bE(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function l6(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class wE{}const Gse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Wse extends wE{normalizePropertyName(t,n){return mE(t)}normalizeStyleValue(t,n,i,r){let o="";const s=i.toString().trim();if(Gse.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Noe(e,t){return new le(3005,!1)}())}return s+o}}function c6(e,t,n,i,r,o,s,a,l,c,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const CE={};class d6{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,r){return function qse(e,t,n,i,r){return e.some(o=>o(t,n,i,r))}(this.ast.matchers,t,n,i,r)}buildStyles(t,n,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(n,i):new Map}build(t,n,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||CE,v=this.buildStyles(i,a&&a.params||CE,d),y=l&&l.params||CE,b=this.buildStyles(r,y,d),w=new Set,O=new Map,S=new Map,D="void"===r,V={params:Yse(y,h),delay:this.ast.options?.delay},Y=u?[]:_E(t,n,this.ast.animation,o,s,v,b,V,c,d);let q=0;if(Y.forEach(te=>{q=Math.max(te.duration+te.delay,q)}),d.length)return c6(n,this._triggerName,i,r,D,v,b,[],[],O,S,q,d);Y.forEach(te=>{const ie=te.element,ae=_c(O,ie,new Set);te.preStyleProps.forEach(fe=>ae.add(fe));const pe=_c(S,ie,new Set);te.postStyleProps.forEach(fe=>pe.add(fe)),ie!==n&&w.add(ie)});const K=vw(w.values());return c6(n,this._triggerName,i,r,D,v,b,Y,K,O,S,q)}}function Yse(e,t){const n=Vy(t);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(n[i]=e[i]);return n}class Xse{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){const i=new Map,r=Vy(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Gy(s,r,n));const l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),i.set(a,s)})}),i}}class Kse{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new Xse(r.style,r.options&&r.options.params||{},i))}),u6(this.states,"true","1"),u6(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new d6(t,r,this.states))}),this.fallbackTransition=function Qse(e,t,n){return new d6(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,r){return this.transitionFactories.find(s=>s.match(t,n,i,r))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}}function u6(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const Zse=new Cw;class Jse{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const i=[],r=[],o=vE(this._driver,n,i,r);if(i.length)throw function Joe(e){return new le(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,n,i){const r=t.element,o=HB(0,this._normalizer,0,t.keyframes,n,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=_E(this._driver,n,o,hE,pw,new Map,new Map,i,Zse,r),s.forEach(u=>{const d=_c(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function ese(){return new le(3300,!1)}()),s=[]),r.length)throw function tse(e){return new le(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,zh))})});const c=Kp(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function nse(e){return new le(3301,!1)}();return n}listen(t,n,i,r){const o=lE(n,"","","");return sE(this._getPlayer(t),i,o,r),()=>{}}command(t,n,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,n,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const h6="ng-animate-queued",ME="ng-animate-disabled",rae=[],p6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},id="__ng_removed";class PE{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const i=t&&t.hasOwnProperty("value");if(this.value=function cae(e){return e??null}(i?t.value:t),i){const o=Vy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const Wy="void",OE=new PE(Wy);class sae{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,rd(n,this._hostClassName)}listen(t,n,i,r){if(!this._triggers.has(n))throw function ise(e,t){return new le(3302,!1)}();if(null==i||0==i.length)throw function rse(e){return new le(3303,!1)}();if(!function dae(e){return"start"==e||"done"==e}(i))throw function ose(e,t){return new le(3400,!1)}();const o=_c(this._elementListeners,t,[]),s={name:n,phase:i,callback:r};o.push(s);const a=_c(this._engine.statesByElement,t,new Map);return a.has(n)||(rd(t,fw),rd(t,fw+"-"+n),a.set(n,OE)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function sse(e){return new le(3401,!1)}();return n}trigger(t,n,i,r=!0){const o=this._getTrigger(n),s=new SE(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(rd(t,fw),rd(t,fw+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n);const c=new PE(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=OE),c.value!==Wy&&l.value===c.value){if(!function pae(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(l.params,c.params)){const y=[],b=o.matchStyles(l.value,l.params,y),w=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{Ng(t,b),Fu(t,w)})}return}const h=_c(this._engine.playersByElement,t,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==n&&y.queued&&y.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!f){if(!r)return;f=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(rd(t,h6),s.onStart(()=>{B0(t,h6)})),s.onDone(()=>{let y=this.players.indexOf(s);y>=0&&this.players.splice(y,1);const b=this._engine.playersByElement.get(t);if(b){let w=b.indexOf(s);w>=0&&b.splice(w,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const i=this._engine.driver.query(t,gw,!0);i.forEach(r=>{if(r[id])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,n,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Wy,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,s),i&&Kp(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){const r=new Set;n.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||OE,u=new PE(Wy),d=new SE(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,n){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{const o=t[id];(!o||o===p6)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){rd(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=lE(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,sE(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let n=!1;return this._elementListeners.has(t)&&(n=!0),n=!!this._queue.find(i=>i.element===t)||n,n}}class aae{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,i){this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){const i=new sae(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++}destroy(t,n){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(n))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}return n}trigger(t,n,i,r){if(Ow(n)){const o=this._fetchNamespace(t);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(t,n,i,r){if(!Ow(n))return;const o=n[id];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),rd(t,ME)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),B0(t,ME))}removeNode(t,n,i,r){if(Ow(n)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r),i){const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,i,r,o){this.collectedLeaveElements.push(n),n[id]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,n,i,r,o){return Ow(n)?this._fetchNamespace(t).listen(n,i,r,o):()=>{}}_buildInstruction(t,n,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,o)}destroyInnerAnimations(t){let n=this.driver.query(t,gw,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,pE,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Kp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[id];if(n&&n.setForRemoval){if(t[id]=p6,n.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(ME)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)rd(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?Kp(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function ase(e){return new le(3402,!1)}()}_flushAnimations(t,n){const i=new Cw,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Pe=>{u.add(Pe);const xe=this.driver.query(Pe,".ng-animate-queued",!0);for(let _e=0;_e<xe.length;_e++)u.add(xe[_e])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=m6(h,this.collectedEnterElements),v=new Map;let y=0;f.forEach((Pe,xe)=>{const _e=hE+y++;v.set(xe,_e),Pe.forEach(Ue=>rd(Ue,_e))});const b=[],w=new Set,O=new Set;for(let Pe=0;Pe<this.collectedLeaveElements.length;Pe++){const xe=this.collectedLeaveElements[Pe],_e=xe[id];_e&&_e.setForRemoval&&(b.push(xe),w.add(xe),_e.hasAnimation?this.driver.query(xe,".ng-star-inserted",!0).forEach(Ue=>w.add(Ue)):O.add(xe))}const S=new Map,D=m6(h,Array.from(w));D.forEach((Pe,xe)=>{const _e=pw+y++;S.set(xe,_e),Pe.forEach(Ue=>rd(Ue,_e))}),t.push(()=>{f.forEach((Pe,xe)=>{const _e=v.get(xe);Pe.forEach(Ue=>B0(Ue,_e))}),D.forEach((Pe,xe)=>{const _e=S.get(xe);Pe.forEach(Ue=>B0(Ue,_e))}),b.forEach(Pe=>{this.processLeaveNode(Pe)})});const V=[],Y=[];for(let Pe=this._namespaceList.length-1;Pe>=0;Pe--)this._namespaceList[Pe].drainQueuedTransitions(n).forEach(_e=>{const Ue=_e.player,He=_e.element;if(V.push(Ue),this.collectedEnterElements.length){const ht=He[id];if(ht&&ht.setForMove){if(ht.previousTriggersValues&&ht.previousTriggersValues.has(_e.triggerName)){const Ze=ht.previousTriggersValues.get(_e.triggerName),mt=this.statesByElement.get(_e.element);if(mt&&mt.has(_e.triggerName)){const ot=mt.get(_e.triggerName);ot.value=Ze,mt.set(_e.triggerName,ot)}}return void Ue.destroy()}}const ze=!d||!this.driver.containsElement(d,He),Re=S.get(He),Ye=v.get(He),Le=this._buildInstruction(_e,i,Ye,Re,ze);if(Le.errors&&Le.errors.length)return void Y.push(Le);if(ze)return Ue.onStart(()=>Ng(He,Le.fromStyles)),Ue.onDestroy(()=>Fu(He,Le.toStyles)),void r.push(Ue);if(_e.isFallbackTransition)return Ue.onStart(()=>Ng(He,Le.fromStyles)),Ue.onDestroy(()=>Fu(He,Le.toStyles)),void r.push(Ue);const Xe=[];Le.timelines.forEach(ht=>{ht.stretchStartingKeyframe=!0,this.disabledNodes.has(ht.element)||Xe.push(ht)}),Le.timelines=Xe,i.append(He,Le.timelines),s.push({instruction:Le,player:Ue,element:He}),Le.queriedElements.forEach(ht=>_c(a,ht,[]).push(Ue)),Le.preStyleProps.forEach((ht,Ze)=>{if(ht.size){let mt=l.get(Ze);mt||l.set(Ze,mt=new Set),ht.forEach((ot,jt)=>mt.add(jt))}}),Le.postStyleProps.forEach((ht,Ze)=>{let mt=c.get(Ze);mt||c.set(Ze,mt=new Set),ht.forEach((ot,jt)=>mt.add(jt))})});if(Y.length){const Pe=[];Y.forEach(xe=>{Pe.push(function lse(e,t){return new le(3505,!1)}())}),V.forEach(xe=>xe.destroy()),this.reportError(Pe)}const q=new Map,K=new Map;s.forEach(Pe=>{const xe=Pe.element;i.has(xe)&&(K.set(xe,xe),this._beforeAnimationBuild(Pe.player.namespaceId,Pe.instruction,q))}),r.forEach(Pe=>{const xe=Pe.element;this._getPreviousPlayers(xe,!1,Pe.namespaceId,Pe.triggerName,null).forEach(Ue=>{_c(q,xe,[]).push(Ue),Ue.destroy()})});const te=b.filter(Pe=>y6(Pe,l,c)),ie=new Map;g6(ie,this.driver,O,c,zh).forEach(Pe=>{y6(Pe,l,c)&&te.push(Pe)});const pe=new Map;f.forEach((Pe,xe)=>{g6(pe,this.driver,new Set(Pe),l,rE)}),te.forEach(Pe=>{const xe=ie.get(Pe),_e=pe.get(Pe);ie.set(Pe,new Map([...Array.from(xe?.entries()??[]),...Array.from(_e?.entries()??[])]))});const fe=[],ge=[],Oe={};s.forEach(Pe=>{const{element:xe,player:_e,instruction:Ue}=Pe;if(i.has(xe)){if(u.has(xe))return _e.onDestroy(()=>Fu(xe,Ue.toStyles)),_e.disabled=!0,_e.overrideTotalTime(Ue.totalTime),void r.push(_e);let He=Oe;if(K.size>1){let Re=xe;const Ye=[];for(;Re=Re.parentNode;){const Le=K.get(Re);if(Le){He=Le;break}Ye.push(Re)}Ye.forEach(Le=>K.set(Le,He))}const ze=this._buildAnimation(_e.namespaceId,Ue,q,o,pe,ie);if(_e.setRealPlayer(ze),He===Oe)fe.push(_e);else{const Re=this.playersByElement.get(He);Re&&Re.length&&(_e.parentPlayer=Kp(Re)),r.push(_e)}}else Ng(xe,Ue.fromStyles),_e.onDestroy(()=>Fu(xe,Ue.toStyles)),ge.push(_e),u.has(xe)&&r.push(_e)}),ge.forEach(Pe=>{const xe=o.get(Pe.element);if(xe&&xe.length){const _e=Kp(xe);Pe.setRealPlayer(_e)}}),r.forEach(Pe=>{Pe.parentPlayer?Pe.syncPlayerEvents(Pe.parentPlayer):Pe.destroy()});for(let Pe=0;Pe<b.length;Pe++){const xe=b[Pe],_e=xe[id];if(B0(xe,pw),_e&&_e.hasAnimation)continue;let Ue=[];if(a.size){let ze=a.get(xe);ze&&ze.length&&Ue.push(...ze);let Re=this.driver.query(xe,pE,!0);for(let Ye=0;Ye<Re.length;Ye++){let Le=a.get(Re[Ye]);Le&&Le.length&&Ue.push(...Le)}}const He=Ue.filter(ze=>!ze.destroyed);He.length?uae(this,xe,He):this.processLeaveNode(xe)}return b.length=0,fe.forEach(Pe=>{this.players.push(Pe),Pe.onDone(()=>{Pe.destroy();const xe=this.players.indexOf(Pe);this.players.splice(xe,1)}),Pe.play()}),fe}elementContainsData(t,n){let i=!1;const r=n[id];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(t).elementContainsData(n)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,r,o){let s=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Wy;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,n,i){const o=n.element,s=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,u=c!==o,d=_c(i,c,[]);this._getPreviousPlayers(c,u,s,a,n.toState).forEach(f=>{const v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),d.push(f)})}Ng(o,n.fromStyles)}_buildAnimation(t,n,i,r,o,s){const a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(v=>{const y=v.element;u.add(y);const b=y[id];if(b&&b.removedBeforeQueried)return new jy(v.duration,v.delay);const w=y!==l,O=function hae(e){const t=[];return v6(e,t),t}((i.get(y)||rae).map(q=>q.getRealPlayer())).filter(q=>!!q.element&&q.element===y),S=o.get(y),D=s.get(y),V=HB(0,this._normalizer,0,v.keyframes,S,D),Y=this._buildPlayer(v,V,O);if(v.subTimeline&&r&&d.add(y),w){const q=new SE(t,a,y);q.setRealPlayer(Y),c.push(q)}return Y});c.forEach(v=>{_c(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function lae(e,t,n){let i=e.get(t);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}return i}(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>rd(v,ZB));const f=Kp(h);return f.onDestroy(()=>{u.forEach(v=>B0(v,ZB)),Fu(l,n.toStyles)}),d.forEach(v=>{_c(r,v,[]).push(f)}),f}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new jy(t.duration,t.delay)}}class SE{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new jy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>sE(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){_c(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function Ow(e){return e&&1===e.nodeType}function f6(e,t){const n=e.style.display;return e.style.display=t??"none",n}function g6(e,t,n,i,r){const o=[];n.forEach(l=>o.push(f6(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[id]=oae,s.push(c))}),e.set(c,u)});let a=0;return n.forEach(l=>f6(l,o[a++])),s}function m6(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=1,r=new Set(t),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:r.has(c)?i:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);l!==i&&n.get(l).push(a)}),n}function rd(e,t){e.classList?.add(t)}function B0(e,t){e.classList?.remove(t)}function uae(e,t,n){Kp(n).onDone(()=>e.processLeaveNode(t))}function v6(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof jB?v6(i.players,t):t.push(i)}}function y6(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(o=>r.add(o)):t.set(e,i),n.delete(e),!0}class Sw{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new aae(t,n,i),this._timelineEngine=new Jse(t,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,n,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],c=[],u=vE(this._driver,o,l,c);if(l.length)throw function Qoe(e,t){return new le(3404,!1)}();a=function $se(e,t,n){return new Kse(e,t,n)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r)}onRemove(t,n,i,r){this._transitionEngine.removeNode(t,n,r||!1,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,r){if("@"==i.charAt(0)){const[o,s]=GB(i);this._timelineEngine.command(o,n,s,r)}else this._transitionEngine.trigger(t,n,i,r)}listen(t,n,i,r,o){if("@"==i.charAt(0)){const[s,a]=GB(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(t,n,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let gae=(()=>{class e{constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r,this._state=0;let o=e.initialStylesByElement.get(n);o||e.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Fu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fu(this._element,this._initialStyles),this._endStyles&&(Fu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ng(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ng(this._element,this._endStyles),this._endStyles=null),Fu(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function EE(e){let t=null;return e.forEach((n,i)=>{(function mae(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,n))}),t}class b6{constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:r6(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class vae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return XB(t,n)}getParentElement(t){return dE(t)}query(t,n,i){return $B(t,n,i)}computeStyle(t,n,i){return window.getComputedStyle(t)[n]}animate(t,n,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof b6);(function xse(e,t){return 0===e||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((v,y)=>c.set(y,v))});let d=function vse(e){return e.length?e[0]instanceof Map?e:e.map(t=>JB(t)):[]}(n).map(f=>Qp(f));d=function wse(e,t,n){if(n.size&&t.length){let i=t[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,r6(e,a)))}}return t}(t,d,c);const h=function fae(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=EE(t[0]),t.length>1&&(i=EE(t[t.length-1]))):t instanceof Map&&(n=EE(t)),n||i?new gae(e,n,i):null}(t,d);return new b6(t,d,l,h)}}let yae=(()=>{class e extends LB{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:Kn.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(n)?zB(n):n;return _6(this._renderer,null,i,"register",[r]),new bae(i,this._renderer)}}return e.\u0275fac=function(n){return new(n||e)(Et(y0),Et(_o))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();class bae extends Doe{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new _ae(this._id,t,n||{},this._renderer)}}class _ae{constructor(t,n,i,r){this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return _6(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _6(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}const x6="@.disabled";let xae=(()=>{class e{constructor(n,i,r){this.delegate=n,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(n,i){const o=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new w6("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,n,u.name,u)};return i.data.animation.forEach(l),new wae(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,r){n>=0&&n<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(n){return new(n||e)(Et(y0),Et(Sw),Et(Lr))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();class w6{constructor(t,n,i,r){this.namespaceId=t,this.delegate=n,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>n.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){"@"==n.charAt(0)&&n==x6?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class wae extends w6{constructor(t,n,i,r,o){super(n,i,r,o),this.factory=t,this.namespaceId=n}setProperty(t,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==x6?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if("@"==n.charAt(0)){const r=function Cae(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Mae(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,n,i)}}let Pae=(()=>{class e extends Sw{constructor(n,i,r,o){super(n.body,i,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(n){return new(n||e)(Et(_o),Et(uE),Et(wE),Et(Ag))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const C6=[{provide:LB,useClass:yae},{provide:wE,useFactory:function Oae(){return new Wse}},{provide:Sw,useClass:Pae},{provide:y0,useFactory:function Sae(e,t,n){return new xae(e,t,n)},deps:[hw,Sw,Lr]}],DE=[{provide:uE,useFactory:()=>new vae},{provide:lL,useValue:"BrowserAnimations"},...C6],M6=[{provide:uE,useClass:KB},{provide:lL,useValue:"NoopAnimations"},...C6];let Eae=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?M6:DE}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({providers:DE,imports:[kB]}),e})();var Ha=m(3527),Dae=m(567),Ei=m(4850);let P6=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(Me(Ds),Me($r))},e.\u0275dir=Xt({type:e}),e})(),Lg=(()=>{class e extends P6{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Ea(e)))(i||e)}}(),e.\u0275dir=Xt({type:e,features:[Kr]}),e})();const Lu=new Hn("NgValueAccessor"),Tae={provide:Lu,useExisting:N(()=>Zp),multi:!0},Iae=new Hn("CompositionEventMode");let Zp=(()=>{class e extends P6{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kae(){const e=Nu()?Nu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(Me(Ds),Me($r),Me(Iae,8))},e.\u0275dir=Xt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&rt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[So([Tae]),Kr]}),e})();const Rae=!1;function Jp(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function S6(e){return null!=e&&"number"==typeof e.length}const Ga=new Hn("NgValidators"),ef=new Hn("NgAsyncValidators"),Nae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Wl{static min(t){return function E6(e){return t=>{if(Jp(t.value)||Jp(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function D6(e){return t=>{if(Jp(t.value)||Jp(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return A6(t)}static requiredTrue(t){return function T6(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function k6(e){return Jp(e.value)||Nae.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function I6(e){return t=>Jp(t.value)||!S6(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function R6(e){return t=>S6(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function N6(e){if(!e)return Dw;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(Jp(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return j6(t)}static composeAsync(t){return V6(t)}}function A6(e){return Jp(e.value)?{required:!0}:null}function Dw(e){return null}function F6(e){return null!=e}function L6(e){const t=xy(e)?(0,Ha.D)(e):e;if(Rae&&!UO(t)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new le(-1101,n)}return t}function B6(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function z6(e,t){return t.map(n=>n(e))}function U6(e){return e.map(t=>function Fae(e){return!e.validate}(t)?t:n=>t.validate(n))}function j6(e){if(!e)return null;const t=e.filter(F6);return 0==t.length?null:function(n){return B6(z6(n,t))}}function AE(e){return null!=e?j6(U6(e)):null}function V6(e){if(!e)return null;const t=e.filter(F6);return 0==t.length?null:function(n){const i=z6(n,t).map(L6);return(0,Dae.D)(i).pipe((0,Ei.U)(B6))}}function TE(e){return null!=e?V6(U6(e)):null}function H6(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function G6(e){return e._rawValidators}function W6(e){return e._rawAsyncValidators}function kE(e){return e?Array.isArray(e)?e:[e]:[]}function Aw(e,t){return Array.isArray(e)?e.includes(t):e===t}function q6(e,t){const n=kE(t);return kE(e).forEach(r=>{Aw(n,r)||n.push(r)}),n}function Y6(e,t){return kE(t).filter(n=>!Aw(e,n))}class X6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=AE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=TE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class hl extends X6{get formDirective(){return null}get path(){return null}}class tf extends X6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $6{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let z0=(()=>{class e extends $6{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(Me(tf,2))},e.\u0275dir=Xt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&zo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Kr]}),e})(),U0=(()=>{class e extends $6{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(Me(hl,10))},e.\u0275dir=Xt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){2&n&&zo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Kr]}),e})();function K6(e,t){return e?`with name: '${t}'`:`at index: ${t}`}const NE=!1,qy="VALID",kw="INVALID",j0="PENDING",Yy="DISABLED";function FE(e){return(Iw(e)?e.validators:e)||null}function LE(e,t){return(Iw(t)?t.asyncValidators:e)||null}function Iw(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function Q6(e,t,n){const i=e.controls;if(!(t?Object.keys(i):i).length)throw new le(1e3,NE?function Uae(e){return`\n    There are no form controls registered with this ${e?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[n])throw new le(1001,NE?function jae(e,t){return`Cannot find form control ${K6(e,t)}`}(t,n):"")}function Z6(e,t,n){e._forEachChild((i,r)=>{if(void 0===n[r])throw new le(1002,NE?function Vae(e,t){return`Must supply a value for form control ${K6(e,t)}`}(t,r):"")})}class Rw{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qy}get invalid(){return this.status===kw}get pending(){return this.status==j0}get disabled(){return this.status===Yy}get enabled(){return this.status!==Yy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(q6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(q6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Y6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Y6(t,this._rawAsyncValidators))}hasValidator(t){return Aw(this._rawValidators,t)}hasAsyncValidator(t){return Aw(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=j0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Yy,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=qy,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qy||this.status===j0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yy:qy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=j0,this._hasOwnPendingAsyncValidator=!0;const n=L6(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Li,this.statusChanges=new Li}_calculateStatus(){return this._allControlsDisabled()?Yy:this.errors?kw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j0)?j0:this._anyControlsHaveStatus(kw)?kw:qy}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Iw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Hae(e){return Array.isArray(e)?AE(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Gae(e){return Array.isArray(e)?TE(e):e||null}(this._rawAsyncValidators)}}class Xy extends Rw{constructor(t,n,i){super(FE(n),LE(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Z6(this,!0,t),Object.keys(t).forEach(i=>{Q6(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class J6 extends Xy{}const Bg=new Hn("CallSetDisabledState",{providedIn:"root",factory:()=>$y}),$y="always";function Nw(e,t){return[...t.path,e]}function Ky(e,t,n=$y){BE(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function qae(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ez(e,t)})}(e,t),function Xae(e,t){const n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function Yae(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ez(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Wae(e,t){if(t.valueAccessor.setDisabledState){const n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Fw(e,t,n=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Bw(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Lw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function BE(e,t){const n=G6(e);null!==t.validator?e.setValidators(H6(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=W6(e);null!==t.asyncValidator?e.setAsyncValidators(H6(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();Lw(t._rawValidators,r),Lw(t._rawAsyncValidators,r)}function Bw(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=G6(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const r=W6(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}const i=()=>{};return Lw(t._rawValidators,i),Lw(t._rawAsyncValidators,i),n}function ez(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tz(e,t){BE(e,t)}function UE(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function nz(e,t){e._syncPendingControls(),t.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function jE(e,t){if(!t)return null;let n,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Zp?n=o:function Qae(e){return Object.getPrototypeOf(e.constructor)===Lg}(o)?i=o:r=o}),r||i||n||null}const Jae={provide:hl,useExisting:N(()=>zg)},Qy=(()=>Promise.resolve())();let zg=(()=>{class e extends hl{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Li,this.form=new Xy({},AE(n),TE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Qy.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Ky(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Qy.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Qy.then(()=>{const i=this._findContainer(n.path),r=new Xy({});tz(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Qy.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Qy.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,nz(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(Me(Ga,10),Me(ef,10),Me(Bg,8))},e.\u0275dir=Xt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){1&n&&rt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[So([Jae]),Kr]}),e})();function iz(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function rz(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Zy=class extends Rw{constructor(t=null,n,i){super(FE(n),LE(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iw(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=rz(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){rz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},nle={provide:tf,useExisting:N(()=>V0)},az=(()=>Promise.resolve())();let V0=(()=>{class e extends tf{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Zy,this._registered=!1,this.update=new Li,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=jE(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),UE(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ky(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){az.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,r=0!==i&&F0(i);az.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Nw(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(Me(hl,9),Me(Ga,10),Me(ef,10),Me(Lu,10),Me(Bd,8),Me(Bg,8))},e.\u0275dir=Xt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[So([nle]),Kr,P]}),e})(),H0=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Xt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),cz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({}),e})();const VE=new Hn("NgModelWithFormControlWarning"),lle={provide:hl,useExisting:N(()=>nf)};let nf=(()=>{class e extends hl{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Li,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return Ky(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){Fw(n.control||null,n,!1),function Zae(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,nz(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,r=this.form.get(n.path);i!==r&&(Fw(i||null,n),(e=>e instanceof Zy)(r)&&(Ky(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);tz(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function $ae(e,t){return Bw(e,t)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BE(this.form,this),this._oldForm&&Bw(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(n){return new(n||e)(Me(Ga,10),Me(ef,10),Me(Bg,8))},e.\u0275dir=Xt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,i){1&n&&rt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[So([lle]),Kr,P]}),e})();const ule={provide:tf,useExisting:N(()=>Ug)};let Ug=(()=>{class e extends tf{set isDisabled(n){}constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Li,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=jE(0,o)}ngOnChanges(n){this._added||this._setUpControl(),UE(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Nw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(Me(hl,13),Me(Ga,10),Me(ef,10),Me(Lu,10),Me(VE,8))},e.\u0275dir=Xt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[So([ule]),Kr,P]}),e})(),jg=(()=>{class e{constructor(){this._validator=Dw}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Dw,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Xt({type:e,features:[P]}),e})();const _le={provide:Ga,useExisting:N(()=>rf),multi:!0};let rf=(()=>{class e extends jg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=F0,this.createValidator=n=>A6}enabled(n){return n}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Ea(e)))(i||e)}}(),e.\u0275dir=Xt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,i){2&n&&go("required",i._enabled?"":null)},inputs:{required:"required"},features:[So([_le]),Kr]}),e})(),Pz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[cz]}),e})();class Oz extends Rw{constructor(t,n,i){super(FE(n),LE(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,i={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){Z6(this,!1,t),t.forEach((i,r)=>{Q6(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,i)=>!!i._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,i)=>{t(n,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Sz(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let Vg=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,i=null){const r=this._reduceControls(n);let o={};return Sz(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Xy(r,o)}record(n,i=null){const r=this._reduceControls(n);return new J6(r,i)}control(n,i,r){let o={};return this.useNonNullable?(Sz(i)?o=i:(o.validators=i,o.asyncValidators=r),new Zy(n,{...o,nonNullable:!0})):new Zy(n,i,r)}array(n,i,r){const o=n.map(s=>this._createControl(s));return new Oz(o,i,r)}_reduceControls(n){const i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){return n instanceof Zy||n instanceof Rw?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ez=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Bg,useValue:n.callSetDisabledState??$y}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[Pz]}),e})(),Ole=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:VE,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Bg,useValue:n.callSetDisabledState??$y}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[Pz]}),e})();var Jn=m(1086),sf=m(1406),Da=m(2198);class zw{}class YE{}class jh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof jh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new jh;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof jh?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,n);const r=("a"===t.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class Sle{encodeKey(t){return Dz(t)}encodeValue(t){return Dz(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Dle=/%(\d[a-f0-9])/gi,Ale={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dz(e){return encodeURIComponent(e).replace(Dle,(t,n)=>Ale[n]??t)}function Uw(e){return`${e}`}class af{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Sle,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ele(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const i=t.fromObject[n],r=Array.isArray(i)?i.map(Uw):[Uw(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new af({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Uw(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Uw(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Tle{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Az(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Tz(e){return typeof Blob<"u"&&e instanceof Blob}function kz(e){return typeof FormData<"u"&&e instanceof FormData}class Jy{constructor(t,n,i,r){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function kle(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new jh),this.context||(this.context=new Tle),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new af,this.urlWithParams=n}serializeBody(){return null===this.body?null:Az(this.body)||Tz(this.body)||kz(this.body)||function Ile(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof af?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kz(this.body)?null:Tz(this.body)?this.body.type||null:Az(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof af?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new Jy(n,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var ks=(()=>((ks=ks||{})[ks.Sent=0]="Sent",ks[ks.UploadProgress=1]="UploadProgress",ks[ks.ResponseHeader=2]="ResponseHeader",ks[ks.DownloadProgress=3]="DownloadProgress",ks[ks.Response=4]="Response",ks[ks.User=5]="User",ks))();class XE{constructor(t,n=200,i="OK"){this.headers=t.headers||new jh,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $E extends XE{constructor(t={}){super(t),this.type=ks.ResponseHeader}clone(t={}){return new $E({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jw extends XE{constructor(t={}){super(t),this.type=ks.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new jw({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Iz extends XE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function KE(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let ql=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof Jy)o=n;else{let l,c;l=r.headers instanceof jh?r.headers:new jh(r.headers),r.params&&(c=r.params instanceof af?r.params:new af({fromObject:r.params})),o=new Jy(n,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=(0,Jn.of)(o).pipe((0,sf.b)(l=>this.handler.handle(l)));if(n instanceof Jy||"events"===r.observe)return s;const a=s.pipe((0,Da.h)(l=>l instanceof jw));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe((0,Ei.U)(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe((0,Ei.U)(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe((0,Ei.U)(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe((0,Ei.U)(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new af).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,KE(r,i))}post(n,i,r={}){return this.request("POST",n,KE(r,i))}put(n,i,r={}){return this.request("PUT",n,KE(r,i))}}return e.\u0275fac=function(n){return new(n||e)(Et(zw))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();function Rz(e,t){return t(e)}function Rle(e,t){return(n,i)=>t.intercept(n,{handle:r=>e(r,i)})}const Fle=new Hn("HTTP_INTERCEPTORS"),eb=new Hn("HTTP_INTERCEPTOR_FNS");function Lle(){let e=null;return(t,n)=>(null===e&&(e=(ri(Fle,{optional:!0})??[]).reduceRight(Rle,Rz)),e(t,n))}let Nz=(()=>{class e extends zw{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null}handle(n){if(null===this.chain){const i=Array.from(new Set(this.injector.get(eb)));this.chain=i.reduceRight((r,o)=>function Nle(e,t,n){return(i,r)=>n.runInContext(()=>t(i,o=>e(o,r)))}(r,o,this.injector),Rz)}return this.chain(n,i=>this.backend.handle(i))}}return e.\u0275fac=function(n){return new(n||e)(Et(YE),Et(Eu))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const jle=/^\)\]\}',?\n/;let Lz=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new E.y(i=>{const r=this.xhrFactory.build();if(r.open(n.method,n.urlWithParams),n.withCredentials&&(r.withCredentials=!0),n.headers.forEach((f,v)=>r.setRequestHeader(f,v.join(","))),n.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=r.statusText||"OK",v=new jh(r.getAllResponseHeaders()),y=function Vle(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||n.url;return s=new $E({headers:v,status:r.status,statusText:f,url:y}),s},l=()=>{let{headers:f,status:v,statusText:y,url:b}=a(),w=null;204!==v&&(w=typeof r.response>"u"?r.responseText:r.response),0===v&&(v=w?200:0);let O=v>=200&&v<300;if("json"===n.responseType&&"string"==typeof w){const S=w;w=w.replace(jle,"");try{w=""!==w?JSON.parse(w):null}catch(D){w=S,O&&(O=!1,w={error:D,text:w})}}O?(i.next(new jw({body:w,headers:f,status:v,statusText:y,url:b||void 0})),i.complete()):i.error(new Iz({error:w,headers:f,status:v,statusText:y,url:b||void 0}))},c=f=>{const{url:v}=a(),y=new Iz({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:v||void 0});i.error(y)};let u=!1;const d=f=>{u||(i.next(a()),u=!0);let v={type:ks.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(v.total=f.total),"text"===n.responseType&&r.responseText&&(v.partialText=r.responseText),i.next(v)},h=f=>{let v={type:ks.UploadProgress,loaded:f.loaded};f.lengthComputable&&(v.total=f.total),i.next(v)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),n.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",h)),r.send(o),i.next({type:ks.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),n.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(Et(dB))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const QE=new Hn("XSRF_ENABLED"),Bz=new Hn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zz=new Hn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Uz{}let Wle=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=KL(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(Et(_o),Et(Zc),Et(Bz))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();function qle(e,t){const n=e.url.toLowerCase();if(!ri(QE)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const i=ri(Uz).getToken(),r=ri(zz);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var fs=(()=>((fs=fs||{})[fs.Interceptors=0]="Interceptors",fs[fs.LegacyInterceptors=1]="LegacyInterceptors",fs[fs.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",fs[fs.NoXsrfProtection=3]="NoXsrfProtection",fs[fs.JsonpSupport=4]="JsonpSupport",fs[fs.RequestsMadeViaParent=5]="RequestsMadeViaParent",fs))();function G0(e,t){return{\u0275kind:e,\u0275providers:t}}function Yle(...e){const t=[ql,Lz,Nz,{provide:zw,useExisting:Nz},{provide:YE,useExisting:Lz},{provide:eb,useValue:qle,multi:!0},{provide:QE,useValue:!0},{provide:Uz,useClass:Wle}];for(const n of e)t.push(...n.\u0275providers);return function IQ(e){return{\u0275providers:e}}(t)}const jz=new Hn("LEGACY_INTERCEPTOR_FN");let $le=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({providers:[Yle(G0(fs.LegacyInterceptors,[{provide:jz,useFactory:Lle},{provide:eb,useExisting:jz,multi:!0}]))]}),e})();function Ii(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}function W0(e,t){return function(n,i){t(n,i,e)}}var Yi=m(2994),Aa=m(7545),jd=m(7224),Ta=m(2986),JE=m(1307),Qle=m(864),Gz=m(943),ga=m(591),Zle=m(4450),Hw=m(6053),Jle=m(1961),Wz=m(8514),ece=m(4843),zr=m(1737),Hg=m(8896),qz=m(1762),Gw=m(1059),wc=m(1709),Br=m(7221),Yz=m(2014),Xz=m(8127),tce=m(4290),$z=m(7314),Kz=m(2821),nce=m(7604),eD=m(537),Qz=m(4327),Ww=m(9146);const Xi="primary",tb=Symbol("RouteTitle");class ice{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function q0(e){return new ice(e)}function rce(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Bu(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Zz(e[r],t[r]))return!1;return!0}function Zz(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}return e===t}function Jz(e){return Array.prototype.concat.apply([],e)}function e8(e){return e.length>0?e[e.length-1]:null}function ka(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function lf(e){return UO(e)?e:xy(e)?(0,Ha.D)(Promise.resolve(e)):(0,Jn.of)(e)}const qw=!1,sce={exact:function i8(e,t,n){if(!Gg(e.segments,t.segments)||!Yw(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!i8(e.children[i],t.children[i],n))return!1;return!0},subset:r8},t8={exact:function ace(e,t){return Bu(e,t)},subset:function lce(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Zz(e[n],t[n]))},ignored:()=>!0};function n8(e,t,n){return sce[n.paths](e.root,t.root,n.matrixParams)&&t8[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function r8(e,t,n){return o8(e,t,t.segments,n)}function o8(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!Gg(r,n)||t.hasChildren()||!Yw(r,n,i))}if(e.segments.length===n.length){if(!Gg(e.segments,n)||!Yw(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!r8(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Gg(e.segments,r)&&Yw(e.segments,r,i)&&e.children[Xi])&&o8(e.children[Xi],t,o,i)}}function Yw(e,t,n){return t.every((i,r)=>t8[n](e[r].parameters,i.parameters))}class cf{constructor(t=new cr([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=q0(this.queryParams)),this._queryParamMap}toString(){return uce.serialize(this)}}class cr{constructor(t,n){this.segments=t,this.children=n,this.parent=null,ka(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xw(this)}}class nb{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=q0(this.parameters)),this._parameterMap}toString(){return l8(this)}}function Gg(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let ib=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:function(){return new tD},providedIn:"root"}),e})();class tD{parse(t){const n=new _ce(t);return new cf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${rb(t.root,!0)}`,i=function fce(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${$w(n)}=${$w(r)}`).join("&"):`${$w(n)}=${$w(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function hce(e){return encodeURI(e)}(t.fragment)}`:""}`}}const uce=new tD;function Xw(e){return e.segments.map(t=>l8(t)).join("/")}function rb(e,t){if(!e.hasChildren())return Xw(e);if(t){const n=e.children[Xi]?rb(e.children[Xi],!1):"",i=[];return ka(e.children,(r,o)=>{o!==Xi&&i.push(`${o}:${rb(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function dce(e,t){let n=[];return ka(e.children,(i,r)=>{r===Xi&&(n=n.concat(t(i,r)))}),ka(e.children,(i,r)=>{r!==Xi&&(n=n.concat(t(i,r)))}),n}(e,(i,r)=>r===Xi?[rb(e.children[Xi],!1)]:[`${r}:${rb(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Xi]?`${Xw(e)}/${n[0]}`:`${Xw(e)}/(${n.join("//")})`}}function s8(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $w(e){return s8(e).replace(/%3B/gi,";")}function nD(e){return s8(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kw(e){return decodeURIComponent(e)}function a8(e){return Kw(e.replace(/\+/g,"%20"))}function l8(e){return`${nD(e.path)}${function pce(e){return Object.keys(e).map(t=>`;${nD(t)}=${nD(e[t])}`).join("")}(e.parameters)}`}const gce=/^[^\/()?;=#]+/;function Qw(e){const t=e.match(gce);return t?t[0]:""}const mce=/^[^=?&#]+/,yce=/^[^&#]+/;class _ce{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cr([],{}):new cr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Xi]=new cr(t,n)),i}parseSegment(){const t=Qw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new le(4009,qw);return this.capture(t),new nb(Kw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Qw(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Qw(this.remaining);r&&(i=r,this.capture(i))}t[Kw(n)]=Kw(i)}parseQueryParam(t){const n=function vce(e){const t=e.match(mce);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=function bce(e){const t=e.match(yce);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=a8(n),o=a8(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Qw(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new le(4010,qw);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Xi);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Xi]:new cr([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new le(4011,qw)}}function iD(e){return e.segments.length>0?new cr([],{[Xi]:e}):e}function Zw(e){const t={};for(const i of Object.keys(e.children)){const o=Zw(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function xce(e){if(1===e.numberOfChildren&&e.children[Xi]){const t=e.children[Xi];return new cr(e.segments.concat(t.segments),t.children)}return e}(new cr(e.segments,t))}function Wg(e){return e instanceof cf}const rD=!1;function wce(e,t,n,i,r){if(0===n.length)return Y0(t.root,t.root,t.root,i,r);const o=function p8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new h8(!0,0,e);let t=0,n=!1;const i=e.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ka(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new h8(n,t,i)}(n);return o.toRoot()?Y0(t.root,t.root,new cr([],{}),i,r):function s(l){const c=function Mce(e,t,n,i){if(e.isAbsolute)return new X0(t.root,!0,0);if(-1===i)return new X0(n,n===t.root,0);return function f8(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new le(4005,rD&&"Invalid number of '../'");r=i.segments.length}return new X0(i,!1,r-o)}(n,i+(sb(e.commands[0])?0:1),e.numberOfDoubleDots)}(o,t,e.snapshot?._urlSegment,l),u=c.processChildren?$0(c.segmentGroup,c.index,o.commands):oD(c.segmentGroup,c.index,o.commands);return Y0(t.root,c.segmentGroup,u,i,r)}(e.snapshot?._lastPathIndex)}function sb(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ab(e){return"object"==typeof e&&null!=e&&e.outlets}function Y0(e,t,n,i,r){let s,o={};i&&ka(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=e===t?n:u8(e,t,n);const a=iD(Zw(s));return new cf(a,o,r)}function u8(e,t,n){const i={};return ka(e.children,(r,o)=>{i[o]=r===t?n:u8(r,t,n)}),new cr(e.segments,i)}class h8{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&sb(i[0]))throw new le(4003,rD&&"Root segment cannot have matrix parameters");const r=i.find(ab);if(r&&r!==e8(i))throw new le(4004,rD&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X0{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function oD(e,t,n){if(e||(e=new cr([],{})),0===e.segments.length&&e.hasChildren())return $0(e,t,n);const i=function Oce(e,t,n){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;const s=e.segments[r],a=n[i];if(ab(a))break;const l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!m8(l,c,s))return o;i+=2}else{if(!m8(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new cr(e.segments.slice(0,i.pathIndex),{});return o.children[Xi]=new cr(e.segments.slice(i.pathIndex),e.children),$0(o,0,r)}return i.match&&0===r.length?new cr(e.segments,{}):i.match&&!e.hasChildren()?sD(e,t,n):i.match?$0(e,0,r):sD(e,t,n)}function $0(e,t,n){if(0===n.length)return new cr(e.segments,{});{const i=function Pce(e){return ab(e[0])?e[0].outlets:{[Xi]:e}}(n),r={};if(!i[Xi]&&e.children[Xi]&&1===e.numberOfChildren&&0===e.children[Xi].segments.length){const o=$0(e.children[Xi],t,n);return new cr(e.segments,o.children)}return ka(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=oD(e.children[s],t,o))}),ka(e.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new cr(e.segments,r)}}function sD(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const o=n[r];if(ab(o)){const l=Sce(o.outlets);return new cr(i,l)}if(0===r&&sb(n[0])){i.push(new nb(e.segments[t].path,g8(n[0]))),r++;continue}const s=ab(o)?o.outlets[Xi]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&sb(a)?(i.push(new nb(s,g8(a))),r+=2):(i.push(new nb(s,{})),r++)}return new cr(i,{})}function Sce(e){const t={};return ka(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=sD(new cr([],{}),0,n))}),t}function g8(e){const t={};return ka(e,(n,i)=>t[i]=`${n}`),t}function m8(e,t,n){return e==n.path&&Bu(t,n.parameters)}const lb="imperative";class zu{constructor(t,n){this.id=t,this.url=n}}class aD extends zu{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class df extends zu{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jw extends zu{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eC extends zu{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=16}}class lD extends zu{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ece extends zu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dce extends zu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ace extends zu{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tce extends zu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kce extends zu{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ice{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rce{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nce{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fce{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lce{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bce{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v8{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let jce=(()=>{class e{createUrlTree(n,i,r,o,s,a){return wce(n||i.root,r,o,s,a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})(),Hce=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:function(t){return jce.\u0275fac(t)},providedIn:"root"}),e})();class y8{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=cD(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=cD(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=dD(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return dD(t,this._root).map(n=>n.value)}}function cD(e,t){if(e===t.value)return t;for(const n of t.children){const i=cD(e,n);if(i)return i}return null}function dD(e,t){if(e===t.value)return[t];for(const n of t.children){const i=dD(e,n);if(i.length)return i.unshift(t),i}return[]}class Vh{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function K0(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class b8 extends y8{constructor(t,n){super(t),this.snapshot=n,uD(this,t)}toString(){return this.snapshot.toString()}}function _8(e,t){const n=function Gce(e,t){const s=new tC([],{},{},"",{},Xi,t,null,e.root,-1,{});return new w8("",new Vh(s,[]))}(e,t),i=new ga.X([new nb("",{})]),r=new ga.X({}),o=new ga.X({}),s=new ga.X({}),a=new ga.X(""),l=new Yl(i,r,s,a,o,Xi,t,n.root);return l.snapshot=n.root,new b8(new Vh(l,[]),n)}class Yl{constructor(t,n,i,r,o,s,a,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe((0,Ei.U)(c=>c[tb]))??(0,Jn.of)(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ei.U)(t=>q0(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ei.U)(t=>q0(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function x8(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Wce(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class tC{get title(){return this.data?.[tb]}constructor(t,n,i,r,o,s,a,l,c,u,d){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=q0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=q0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w8 extends y8{constructor(t,n){super(n),this.url=t,uD(this,n)}toString(){return C8(this._root)}}function uD(e,t){t.value._routerState=e,t.children.forEach(n=>uD(e,n))}function C8(e){const t=e.children.length>0?` { ${e.children.map(C8).join(", ")} } `:"";return`${e.value}${t}`}function hD(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Bu(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Bu(t.params,n.params)||e.params.next(n.params),function oce(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Bu(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Bu(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function pD(e,t){const n=Bu(e.params,t.params)&&function cce(e,t){return Gg(e,t)&&e.every((n,i)=>Bu(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||pD(e.parent,t.parent))}function cb(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function Yce(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return cb(e,i,r);return cb(e,i)})}(e,t,n);return new Vh(i,r)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>cb(e,a)),s}}const i=function Xce(e){return new Yl(new ga.X(e.url),new ga.X(e.params),new ga.X(e.queryParams),new ga.X(e.fragment),new ga.X(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(o=>cb(e,o));return new Vh(i,r)}}const fD="ngNavigationCancelingError";function M8(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=Wg(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=P8(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function P8(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[fD]=!0,i.cancellationCode=t,n&&(i.url=n),i}function O8(e){return S8(e)&&Wg(e.url)}function S8(e){return e&&e[fD]}class $ce{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new db,this.attachRef=null}}let db=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new $ce,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const nC=!1;let gD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xi,this.activateEvents=new Li,this.deactivateEvents=new Li,this.attachEvents=new Li,this.detachEvents=new Li,this.parentContexts=ri(db),this.location=ri(Fd),this.changeDetector=ri(Bd),this.environmentInjector=ri(Eu)}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,nC);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,nC);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,nC);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new le(4013,nC);this._activatedRoute=n;const r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Kce(n,a,r.injector);if(i&&function Qce(e){return!!e.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Xt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[P]}),e})();class Kce{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Yl?this.route:t===db?this.childContexts:this.parent.get(t,n)}}let mD=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Mi({type:e,selectors:[["ng-component"]],standalone:!0,features:[bF],decls:1,vars:0,template:function(n,i){1&n&&ce(0,"router-outlet")},dependencies:[gD],encapsulation:2}),e})();function E8(e,t){return e.providers&&!e._injector&&(e._injector=jx(e.providers,t,`Route: ${e.path}`)),e._injector??t}function yD(e){const t=e.children&&e.children.map(yD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xi&&(n.component=mD),n}function od(e){return e.outlet||Xi}function D8(e,t){const n=e.filter(i=>od(i)===t);return n.push(...e.filter(i=>od(i)!==t)),n}function ub(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class nde{constructor(t,n,i,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),hD(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=K0(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),ka(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=K0(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=K0(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const r=K0(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Bce(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Fce(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(hD(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hD(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=ub(r.snapshot),l=a?.get(m0)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class A8{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class iC{constructor(t,n){this.component=t,this.route=n}}function ide(e,t,n){const i=e._root;return hb(i,t?t._root:null,n,[i.value])}function Q0(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function Gt(e){return null!==$n(e)}(e)?t.get(e):e:i}function hb(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=K0(t);return e.children.forEach(s=>{(function ode(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function sde(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Gg(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Gg(e.url,t.url)||!Bu(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pD(e,t)||!Bu(e.queryParams,t.queryParams);default:return!pD(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new A8(i)):(o.data=s.data,o._resolvedData=s._resolvedData),hb(e,t,o.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new iC(a.outlet.component,s))}else s&&pb(t,a,r),r.canActivateChecks.push(new A8(i)),hb(e,null,o.component?a?a.children:null:n,i,r)})(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),ka(o,(s,a)=>pb(s,n.getContext(a),r)),r}function pb(e,t,n){const i=K0(e),r=e.value;ka(i,(o,s)=>{pb(o,r.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new iC(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function fb(e){return"function"==typeof e}function bD(e){return e instanceof Zle.K||"EmptyError"===e?.name}const rC=Symbol("INITIAL_VALUE");function Z0(){return(0,Aa.w)(e=>(0,Hw.aj)(e.map(t=>t.pipe((0,Ta.q)(1),(0,Gw.O)(rC)))).pipe((0,Ei.U)(t=>{for(const n of t)if(!0!==n){if(n===rC)return rC;if(!1===n||n instanceof cf)return n}return!0}),(0,Da.h)(t=>t!==rC),(0,Ta.q)(1)))}function T8(e){return(0,ece.z)((0,Yi.b)(t=>{if(Wg(t))throw M8(0,t)}),(0,Ei.U)(t=>!0===t))}const _D={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k8(e,t,n,i,r){const o=xD(e,t,n);return o.matched?function Cde(e,t,n,i){const r=t.canMatch;if(!r||0===r.length)return(0,Jn.of)(!0);const o=r.map(s=>{const a=Q0(s,e);return lf(function hde(e){return e&&fb(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))});return(0,Jn.of)(o).pipe(Z0(),T8())}(i=E8(t,i),t,n).pipe((0,Ei.U)(s=>!0===s?o:{..._D})):(0,Jn.of)(o)}function xD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{..._D}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||rce)(n,e,t);if(!r)return{..._D};const o={};ka(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function oC(e,t,n,i){if(n.length>0&&function Ode(e,t,n){return n.some(i=>sC(e,t,i)&&od(i)!==Xi)}(e,n,i)){const o=new cr(t,function Pde(e,t,n,i){const r={};r[Xi]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&od(o)!==Xi){const s=new cr([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,r[od(o)]=s}return r}(e,t,i,new cr(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function Sde(e,t,n){return n.some(i=>sC(e,t,i))}(e,n,i)){const o=new cr(e.segments,function Mde(e,t,n,i,r){const o={};for(const s of i)if(sC(e,n,s)&&!r[od(s)]){const a=new cr([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,o[od(s)]=a}return{...r,...o}}(e,t,n,i,e.children));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const r=new cr(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function sC(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function I8(e,t,n,i){return!!(od(e)===i||i!==Xi&&sC(t,n,e))&&("**"===e.path||xD(t,e,n).matched)}function R8(e,t,n){return 0===t.length&&!e.children[n]}const aC=!1;class lC{constructor(t){this.segmentGroup=t||null}}class N8{constructor(t){this.urlTree=t}}function gb(e){return(0,zr._)(new lC(e))}function F8(e){return(0,zr._)(new N8(e))}class Tde{constructor(t,n,i,r,o){this.injector=t,this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=oC(this.urlTree.root,[],[],this.config).segmentGroup,n=new cr(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Xi).pipe((0,Ei.U)(o=>this.createUrlTree(Zw(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Br.K)(o=>{if(o instanceof N8)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof lC?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Xi).pipe((0,Ei.U)(r=>this.createUrlTree(Zw(r),t.queryParams,t.fragment))).pipe((0,Br.K)(r=>{throw r instanceof lC?this.noMatchError(r):r}))}noMatchError(t){return new le(4002,aC)}createUrlTree(t,n,i){const r=iD(t);return new cf(r,n,i)}expandSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe((0,Ei.U)(o=>new cr([],o))):this.expandSegment(t,i,n,i.segments,r,!0)}expandChildren(t,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Ha.D)(r).pipe((0,sf.b)(o=>{const s=i.children[o],a=D8(n,o);return this.expandSegmentGroup(t,a,s,o).pipe((0,Ei.U)(l=>({segment:l,outlet:o})))}),(0,Yz.R)((o,s)=>(o[s.outlet]=s.segment,o),{}),(0,Xz.Z)())}expandSegment(t,n,i,r,o,s){return(0,Ha.D)(i).pipe((0,sf.b)(a=>this.expandSegmentAgainstRoute(t,n,i,a,r,o,s).pipe((0,Br.K)(c=>{if(c instanceof lC)return(0,Jn.of)(null);throw c}))),(0,jd.P)(a=>!!a),(0,Br.K)((a,l)=>{if(bD(a))return R8(n,r,o)?(0,Jn.of)(new cr([],{})):gb(n);throw a}))}expandSegmentAgainstRoute(t,n,i,r,o,s,a){return I8(r,n,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,n,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s):gb(n):gb(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?F8(o):this.lineralizeSegments(i,o).pipe((0,wc.zg)(s=>{const a=new cr(s,{});return this.expandSegment(t,a,n,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=xD(n,r,o);if(!a)return gb(n);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?F8(d):this.lineralizeSegments(r,d).pipe((0,wc.zg)(h=>this.expandSegment(t,n,i,h.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,i,r,o){return"**"===i.path?(t=E8(i,t),i.loadChildren?(i._loadedRoutes?(0,Jn.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Ei.U)(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new cr(r,{})))):(0,Jn.of)(new cr(r,{}))):k8(n,i,r,t).pipe((0,Aa.w)(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=i._injector??t,i,r).pipe((0,wc.zg)(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:f,slicedSegments:v}=oC(n,a,l,h),y=new cr(f.segments,f.children);if(0===v.length&&y.hasChildren())return this.expandChildren(d,h,y).pipe((0,Ei.U)(S=>new cr(a,S)));if(0===h.length&&0===v.length)return(0,Jn.of)(new cr(a,{}));const b=od(i)===o;return this.expandSegment(d,y,h,v,b?Xi:o,!0).pipe((0,Ei.U)(O=>new cr(a.concat(O.segments),O.children)))})):gb(n)))}getChildConfig(t,n,i){return n.children?(0,Jn.of)({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?(0,Jn.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function wde(e,t,n,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,Jn.of)(!0);const o=r.map(s=>{const a=Q0(s,e);return lf(function lde(e){return e&&fb(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))});return(0,Jn.of)(o).pipe(Z0(),T8())}(t,n,i).pipe((0,wc.zg)(r=>r?this.configLoader.loadChildren(t,n).pipe((0,Yi.b)(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Dde(e){return(0,zr._)(P8(aC,3))}())):(0,Jn.of)({routes:[],injector:t})}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Jn.of)(i);if(r.numberOfChildren>1||!r.children[Xi])return t.redirectTo,(0,zr._)(new le(4e3,aC));r=r.children[Xi]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const o=this.createSegmentGroup(t,n.root,i,r);return new cf(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return ka(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=n[a]}else i[o]=r}),i}createSegmentGroup(t,n,i,r){const o=this.createSegments(t,n.segments,i,r);let s={};return ka(n.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new cr(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new le(4001,aC);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}class Ide{}class Fde{constructor(t,n,i,r,o,s,a){this.injector=t,this.rootComponentType=n,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const t=oC(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Xi).pipe((0,Ei.U)(n=>{if(null===n)return null;const i=new tC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xi,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vh(i,n),o=new w8(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const n=t.value,i=x8(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r)}processChildren(t,n,i){return(0,Ha.D)(Object.keys(i.children)).pipe((0,sf.b)(r=>{const o=i.children[r],s=D8(n,r);return this.processSegmentGroup(t,s,o,r)}),(0,Yz.R)((r,o)=>r&&o?(r.push(...o),r):null),(0,tce.o)(r=>null!==r),(0,$z.d)(null),(0,Xz.Z)(),(0,Ei.U)(r=>{if(null===r)return null;const o=B8(r);return function Lde(e){e.sort((t,n)=>t.value.outlet===Xi?-1:n.value.outlet===Xi?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(t,n,i,r,o){return(0,Ha.D)(n).pipe((0,sf.b)(s=>this.processSegmentAgainstRoute(s._injector??t,s,i,r,o)),(0,jd.P)(s=>!!s),(0,Br.K)(s=>{if(bD(s))return R8(i,r,o)?(0,Jn.of)([]):(0,Jn.of)(null);throw s}))}processSegmentAgainstRoute(t,n,i,r,o){if(n.redirectTo||!I8(n,i,r,o))return(0,Jn.of)(null);let s;if("**"===n.path){const a=r.length>0?e8(r).parameters:{},l=U8(i)+r.length,c=new tC(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j8(n),od(n),n.component??n._loadedComponent??null,n,z8(i),l,V8(n));s=(0,Jn.of)({snapshot:c,consumedSegments:[],remainingSegments:[]})}else s=k8(i,n,r,t).pipe((0,Ei.U)(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=U8(i)+l.length;return{snapshot:new tC(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j8(n),od(n),n.component??n._loadedComponent??null,n,z8(i),d,V8(n)),consumedSegments:l,remainingSegments:c}}));return s.pipe((0,Aa.w)(a=>{if(null===a)return(0,Jn.of)(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=n._injector??t;const d=n._loadedInjector??t,h=function Bde(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:v}=oC(i,c,u,h.filter(b=>void 0===b.redirectTo));if(0===v.length&&f.hasChildren())return this.processChildren(d,h,f).pipe((0,Ei.U)(b=>null===b?null:[new Vh(l,b)]));if(0===h.length&&0===v.length)return(0,Jn.of)([new Vh(l,[])]);const y=od(n)===o;return this.processSegment(d,h,f,v,y?Xi:o).pipe((0,Ei.U)(b=>null===b?null:[new Vh(l,b)]))}))}}function zde(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function B8(e){const t=[],n=new Set;for(const i of e){if(!zde(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=B8(i.children);t.push(new Vh(i.value,r))}return t.filter(i=>!n.has(i))}function z8(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function U8(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function j8(e){return e.data||{}}function V8(e){return e.resolve||{}}function H8(e){return"string"==typeof e.title||null===e.title}function wD(e){return(0,Aa.w)(t=>{const n=e(t);return n?(0,Ha.D)(n).pipe((0,Ei.U)(()=>t)):(0,Jn.of)(t)})}const J0=new Hn("ROUTES");let CD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ri(cL)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return(0,Jn.of)(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=lf(n.loadComponent()).pipe((0,Ei.U)(W8),(0,Yi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),(0,eD.x)(()=>{this.componentLoaders.delete(n)})),r=new qz.c(i,()=>new _.xQ).pipe((0,Qz.x)());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Jn.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ei.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(n).injector,c=Jz(l.get(J0,[],en.Self|en.Optional)));return{routes:c.map(yD),injector:l}}),(0,eD.x)(()=>{this.childrenLoaders.delete(i)})),s=new qz.c(o,()=>new _.xQ).pipe((0,Qz.x)());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(n){return lf(n()).pipe((0,Ei.U)(W8),(0,wc.zg)(i=>i instanceof vF||Array.isArray(i)?(0,Jn.of)(i):(0,Ha.D)(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function W8(e){return function Yde(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let dC=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new _.xQ,this.configLoader=ri(CD),this.environmentInjector=ri(Eu),this.urlSerializer=ri(ib),this.rootContexts=ri(db),this.navigationId=0,this.afterPreactivation=()=>(0,Jn.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Rce(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Ice(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new ga.X({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lb,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Da.h)(i=>0!==i.id),(0,Ei.U)(i=>({...i,extractedUrl:n.urlHandlingStrategy.extract(i.rawUrl)})),(0,Aa.w)(i=>{let r=!1,o=!1;return(0,Jn.of)(i).pipe((0,Yi.b)(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Aa.w)(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const u="";return this.events.next(new eC(s.id,n.serializeUrl(i.rawUrl),u,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Hg.E}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return q8(s.source)&&(n.browserUrlTree=s.extractedUrl),(0,Jn.of)(s).pipe((0,Aa.w)(u=>{const d=this.transitions?.getValue();return this.events.next(new aD(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Hg.E:Promise.resolve(u)}),function kde(e,t,n,i){return(0,Aa.w)(r=>function Ade(e,t,n,i,r){return new Tde(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe((0,Ei.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),(0,Yi.b)(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function jde(e,t,n,i,r){return(0,wc.zg)(o=>function Nde(e,t,n,i,r,o,s="emptyOnly"){return new Fde(e,t,n,i,r,s,o).recognize().pipe((0,Aa.w)(a=>null===a?function Rde(e){return new E.y(t=>t.error(e))}(new Ide):(0,Jn.of)(a)))}(e,t,n,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,Ei.U)(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),(0,Yi.b)(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);n.setBrowserUrl(h,u)}n.browserUrlTree=u.urlAfterRedirects}const d=new Ece(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:v}=s,y=new aD(u,this.urlSerializer.serialize(d),h,f);this.events.next(y);const b=_8(d,this.rootComponentType).snapshot;return i={...s,targetSnapshot:b,urlAfterRedirects:d,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},(0,Jn.of)(i)}{const u="";return this.events.next(new eC(s.id,n.serializeUrl(i.extractedUrl),u,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Hg.E}}),(0,Yi.b)(s=>{const a=new Dce(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),(0,Ei.U)(s=>i={...s,guards:ide(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function fde(e,t){return(0,wc.zg)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Jn.of)({...n,guardsResult:!0}):function gde(e,t,n,i){return(0,Ha.D)(e).pipe((0,wc.zg)(r=>function xde(e,t,n,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Jn.of)(!0);const s=o.map(a=>{const l=ub(t)??r,c=Q0(a,l);return lf(function ude(e){return e&&fb(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,i):l.runInContext(()=>c(e,t,n,i))).pipe((0,jd.P)())});return(0,Jn.of)(s).pipe(Z0())}(r.component,r.route,n,t,i)),(0,jd.P)(r=>!0!==r,!0))}(s,i,r,e).pipe((0,wc.zg)(a=>a&&function ade(e){return"boolean"==typeof e}(a)?function mde(e,t,n,i){return(0,Ha.D)(t).pipe((0,sf.b)(r=>(0,Jle.z)(function yde(e,t){return null!==e&&t&&t(new Nce(e)),(0,Jn.of)(!0)}(r.route.parent,i),function vde(e,t){return null!==e&&t&&t(new Lce(e)),(0,Jn.of)(!0)}(r.route,i),function _de(e,t,n){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function rde(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>(0,Wz.P)(()=>{const a=s.guards.map(l=>{const c=ub(s.node)??n,u=Q0(l,c);return lf(function dde(e){return e&&fb(e.canActivateChild)}(u)?u.canActivateChild(i,e):c.runInContext(()=>u(i,e))).pipe((0,jd.P)())});return(0,Jn.of)(a).pipe(Z0())}));return(0,Jn.of)(o).pipe(Z0())}(e,r.path,n),function bde(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Jn.of)(!0);const r=i.map(o=>(0,Wz.P)(()=>{const s=ub(t)??n,a=Q0(o,s);return lf(function cde(e){return e&&fb(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe((0,jd.P)())}));return(0,Jn.of)(r).pipe(Z0())}(e,r.route,n))),(0,jd.P)(r=>!0!==r,!0))}(i,o,e,t):(0,Jn.of)(a)),(0,Ei.U)(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),(0,Yi.b)(s=>{if(i.guardsResult=s.guardsResult,Wg(s.guardsResult))throw M8(0,s.guardsResult);const a=new Ace(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),(0,Da.h)(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),wD(s=>{if(s.guards.canActivateChecks.length)return(0,Jn.of)(s).pipe((0,Yi.b)(a=>{const l=new Tce(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),(0,Aa.w)(a=>{let l=!1;return(0,Jn.of)(a).pipe(function Vde(e,t){return(0,wc.zg)(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return(0,Jn.of)(n);let o=0;return(0,Ha.D)(r).pipe((0,sf.b)(s=>function Hde(e,t,n,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!H8(r)&&(o[tb]=r.title),function Gde(e,t,n,i){const r=function Wde(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return(0,Jn.of)({});const o={};return(0,Ha.D)(r).pipe((0,wc.zg)(s=>function qde(e,t,n,i){const r=ub(t)??i,o=Q0(e,r);return lf(o.resolve?o.resolve(t,n):r.runInContext(()=>o(t,n)))}(e[s],t,n,i).pipe((0,jd.P)(),(0,Yi.b)(a=>{o[s]=a}))),(0,Kz.h)(1),(0,nce.h)(o),(0,Br.K)(s=>bD(s)?Hg.E:(0,zr._)(s)))}(o,e,t,i).pipe((0,Ei.U)(s=>(e._resolvedData=s,e.data=x8(e,n).resolve,r&&H8(r)&&(e.data[tb]=r.title),null)))}(s.route,i,e,t)),(0,Yi.b)(()=>o++),(0,Kz.h)(1),(0,wc.zg)(s=>o===r.length?(0,Jn.of)(n):Hg.E))})}(n.paramsInheritanceStrategy,this.environmentInjector),(0,Yi.b)({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),(0,Yi.b)(a=>{const l=new kce(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),wD(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe((0,Yi.b)(u=>{l.component=u}),(0,Ei.U)(()=>{})));for(const u of l.children)c.push(...a(u));return c};return(0,Hw.aj)(a(s.targetSnapshot.root)).pipe((0,$z.d)(),(0,Ta.q)(1))}),wD(()=>this.afterPreactivation()),(0,Ei.U)(s=>{const a=function qce(e,t,n){const i=cb(e,t._root,n?n._root:void 0);return new b8(i,t)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return i={...s,targetRouterState:a}}),(0,Yi.b)(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((e,t,n)=>(0,Ei.U)(i=>(new nde(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),(0,Ta.q)(1),(0,Yi.b)({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new df(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),(0,eD.x)(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,Br.K)(s=>{if(o=!0,S8(s)){O8(s)||(n.navigated=!0,n.restoreHistory(i,!0));const a=new Jw(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),O8(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||q8(i.source)};n.scheduleNavigation(l,lb,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{n.restoreHistory(i,!0);const a=new lD(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(n.errorHandler(s))}catch(l){i.reject(l)}}return Hg.E}))}))}cancelNavigationTransition(n,i,r){const o=new Jw(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function q8(e){return e!==lb}let Y8=(()=>{class e{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Xi);return i}getResolvedTitleForRoute(n){return n.data[tb]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:function(){return ri(Xde)},providedIn:"root"}),e})(),Xde=(()=>{class e extends Y8{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(n){return new(n||e)(Et(Gl))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$de=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:function(){return ri(Qde)},providedIn:"root"}),e})();class Kde{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Qde=(()=>{class e extends Kde{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Ea(e)))(i||e)}}(),e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const uC=new Hn("",{providedIn:"root",factory:()=>({})});let Jde=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:function(){return ri(eue)},providedIn:"root"}),e})(),eue=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function tue(e){throw e}function nue(e,t,n){return t.parse("/")}const iue={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rue={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yo=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ri(wne),this.isNgZoneEnabled=!1,this.options=ri(uC,{optional:!0})||{},this.errorHandler=this.options.errorHandler||tue,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nue,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ri(Jde),this.routeReuseStrategy=ri($de),this.urlCreationStrategy=ri(Hce),this.titleStrategy=ri(Y8),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Jz(ri(J0,{optional:!0})??[]),this.navigationTransitions=ri(dC),this.urlSerializer=ri(ib),this.location=ri(Xp),this.isNgZoneEnabled=ri(Lr)instanceof Lr&&Lr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_8(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lb,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(yD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=Wg(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,lb,null,i)}navigate(n,i={skipLocationChange:!1}){return function oue(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new le(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?{...iue}:!1===i?{...rue}:i,Wg(n))return n8(this.currentUrlTree,n,r);const o=this.parseUrl(n);return n8(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const o=n[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sd=(()=>{class e{constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new _.xQ;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof df&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=F0(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=F0(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=F0(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function YR(e,t,n){return function kQ(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?qR:Ce}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(Me(Yo),Me(Yl),function mg(e){return function Z$(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const o=n[r];if(sx(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(yi(),e)}("tabindex"),Me(Ds),Me($r),Me(Yp))},e.\u0275dir=Xt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){1&n&&rt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&go("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[P]}),e})();class X8{}let lue=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe((0,Da.h)(n=>n instanceof df),(0,sf.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=jx(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return(0,Ha.D)(r).pipe((0,Ww.J)())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):(0,Jn.of)(null);const o=r.pipe((0,wc.zg)(s=>null===s?(0,Jn.of)(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){const s=this.loader.loadComponent(i);return(0,Ha.D)([o,s]).pipe((0,Ww.J)())}return o})}}return e.\u0275fac=function(n){return new(n||e)(Et(Yo),Et(cL),Et(Eu),Et(X8),Et(CD))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const PD=new Hn("");let $8=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof aD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof df&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof v8&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new v8(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function CN(){throw new Error("invalid")}()},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();var Cc=(()=>((Cc=Cc||{})[Cc.COMPLETE=0]="COMPLETE",Cc[Cc.FAILED=1]="FAILED",Cc[Cc.REDIRECTING=2]="REDIRECTING",Cc))();const ev=!1;function uf(e,t){return{\u0275kind:e,\u0275providers:t}}const OD=new Hn("",{providedIn:"root",factory:()=>!1});function Q8(){const e=ri(ja);return t=>{const n=e.get(Ag);if(t!==n.components[0])return;const i=e.get(Yo),r=e.get(Z8);1===e.get(SD)&&i.initialNavigation(),e.get(J8,null,en.Optional)?.setUpPreloading(),e.get(PD,null,en.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Z8=new Hn(ev?"bootstrap done indicator":"",{factory:()=>new _.xQ}),SD=new Hn(ev?"initial navigation":"",{providedIn:"root",factory:()=>1});function pue(){let e=[];return e=ev?[{provide:xx,multi:!0,useFactory:()=>{const t=ri(Yo);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function zce(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],uf(1,e)}const J8=new Hn(ev?"router preloader":"");function fue(e){return uf(0,[{provide:J8,useExisting:lue},{provide:X8,useExisting:e}])}const mb=!1,e9=new Hn(mb?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),gue=[Xp,{provide:ib,useClass:tD},Yo,db,{provide:Yl,useFactory:function K8(e){return e.routerState.root},deps:[Yo]},CD,mb?{provide:OD,useValue:!0}:[]];function mue(){return new vL("Router",Yo)}let t9=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[gue,mb&&i?.enableTracing?pue().\u0275providers:[],{provide:J0,multi:!0,useValue:n},{provide:e9,useFactory:_ue,deps:[[Yo,new yg,new u0]]},{provide:uC,useValue:i||{}},i?.useHash?{provide:Yp,useClass:cie}:{provide:Yp,useClass:UL},{provide:PD,useFactory:()=>{const e=ri(Mre),t=ri(Lr),n=ri(uC),i=ri(dC),r=ri(ib);return n.scrollOffset&&e.setOffset(n.scrollOffset),new $8(r,i,e,t,n)}},i?.preloadingStrategy?fue(i.preloadingStrategy).\u0275providers:[],{provide:vL,multi:!0,useFactory:mue},i?.initialNavigation?xue(i):[],[{provide:n9,useFactory:Q8},{provide:mL,multi:!0,useExisting:n9}]]}}static forChild(n){return{ngModule:e,providers:[{provide:J0,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Et(e9,8))},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[mD]}),e})();function _ue(e){if(mb&&e)throw new le(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function xue(e){return["disabled"===e.initialNavigation?uf(3,[{provide:Wx,multi:!0,useFactory:()=>{const t=ri(Yo);return()=>{t.setUpLocationChangeListener()}}},{provide:SD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?uf(2,[{provide:SD,useValue:0},{provide:Wx,multi:!0,deps:[ja],useFactory:t=>{const n=t.get(aie,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=t.get(Yo),o=t.get(Z8);(function cue(e,t){e.events.pipe((0,Da.h)(n=>n instanceof df||n instanceof Jw||n instanceof lD||n instanceof eC),(0,Ei.U)(n=>n instanceof df||n instanceof eC?Cc.COMPLETE:n instanceof Jw&&(0===n.code||1===n.code)?Cc.REDIRECTING:Cc.FAILED),(0,Da.h)(n=>n!==Cc.REDIRECTING),(0,Ta.q)(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(dC).afterPreactivation=()=>(i(!0),o.closed?(0,Jn.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const n9=new Hn(mb?"Router Initializer":""),Cue=function(e,t){return{isMouseDragable:e,isTouchDragable:t}};function Mue(e,t){if(1&e&&(x(0,"div",4),ce(1,"owl-stage",5),M()),2&e){const n=nt();se(1),We("owlDraggable",Dg(3,Cue,null==n.owlDOMData?null:n.owlDOMData.isMouseDragable,null==n.owlDOMData?null:n.owlDOMData.isTouchDragable))("stageData",n.stageData)("slidesData",n.slidesData)}}const Pue=function(e,t){return{active:e,"owl-dot-text":t}};function Oue(e,t){if(1&e){const n=xr();x(0,"div",11),rt("click",function(){const o=En(n).$implicit;return kn(nt(2).moveByDot(o.id))}),ce(1,"span",12),M()}if(2&e){const n=t.$implicit;We("ngClass",Dg(2,Pue,n.active,n.showInnerContent)),se(1),We("innerHTML",n.innerContent,vc)}}const hC=function(e){return{disabled:e}};function Sue(e,t){if(1&e){const n=xr();es(0),x(1,"div",6)(2,"div",7),rt("click",function(){return En(n),kn(nt().prev())}),M(),x(3,"div",8),rt("click",function(){return En(n),kn(nt().next())}),M()(),x(4,"div",9),tt(5,Oue,2,5,"div",10),M(),ts()}if(2&e){const n=nt();se(1),We("ngClass",pa(7,hC,null==n.navData?null:n.navData.disabled)),se(1),We("ngClass",pa(9,hC,null==n.navData||null==n.navData.prev?null:n.navData.prev.disabled))("innerHTML",null==n.navData||null==n.navData.prev?null:n.navData.prev.htmlText,vc),se(1),We("ngClass",pa(11,hC,null==n.navData||null==n.navData.next?null:n.navData.next.disabled))("innerHTML",null==n.navData||null==n.navData.next?null:n.navData.next.htmlText,vc),se(1),We("ngClass",pa(13,hC,null==n.dotsData?null:n.dotsData.disabled)),se(1),We("ngForOf",null==n.dotsData?null:n.dotsData.dots)}}const Eue=function(e,t,n,i,r){return{"owl-rtl":e,"owl-loaded":t,"owl-responsive":n,"owl-drag":i,"owl-grab":r}};function Due(e,t){}function Aue(e,t){1&e&&tt(0,Due,0,0,"ng-template",4),2&e&&We("ngTemplateOutlet",nt().$implicit.tplRef)}const Tue=function(e,t,n,i){return{width:e,"margin-left":t,"margin-right":n,left:i}};function kue(e,t){if(1&e){const n=xr();es(0),x(1,"div",2),rt("animationend",function(){const o=En(n).$implicit;return kn(nt().clear(o.id))}),tt(2,Aue,1,1,null,3),M(),ts()}if(2&e){const n=t.$implicit;se(1),We("ngClass",n.classes)("ngStyle",OF(4,Tue,n.width+"px",n.marginL?n.marginL+"px":"",n.marginR?n.marginR+"px":"",n.left))("@autoHeight",n.heightState),se(1),We("ngIf",n.load)}}const Iue=function(e,t,n,i,r){return{width:e,transform:t,transition:n,"padding-left":i,"padding-right":r}};let i9=(()=>{let e=class{constructor(n){this.eventManager=n,this.resizeSubject=new _.xQ,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(n){this.resizeSubject.next(n.target)}onLoaded(n){this.windowWidth=n.target}};return e.\u0275fac=function(n){return new(n||e)(Et(zy))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();class Rue{constructor(){this.items=3,this.skip_validateItems=!1,this.loop=!1,this.center=!1,this.rewind=!1,this.mouseDrag=!0,this.touchDrag=!0,this.pullDrag=!0,this.freeDrag=!1,this.margin=0,this.stagePadding=0,this.merge=!1,this.mergeFit=!0,this.autoWidth=!1,this.startPosition=0,this.rtl=!1,this.smartSpeed=250,this.fluidSpeed=!1,this.dragEndSpeed=!1,this.responsive={},this.responsiveRefreshRate=200,this.nav=!1,this.navText=["prev","next"],this.navSpeed=!1,this.slideBy=1,this.dots=!0,this.dotsEach=!1,this.dotsData=!1,this.dotsSpeed=!1,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoplaySpeed=!1,this.lazyLoad=!1,this.lazyLoadEager=0,this.slideTransition="",this.animateOut=!1,this.animateIn=!1,this.autoHeight=!1,this.URLhashListener=!1}}class Nue{constructor(){this.items="number",this.skip_validateItems="boolean",this.loop="boolean",this.center="boolean",this.rewind="boolean",this.mouseDrag="boolean",this.touchDrag="boolean",this.pullDrag="boolean",this.freeDrag="boolean",this.margin="number",this.stagePadding="number",this.merge="boolean",this.mergeFit="boolean",this.autoWidth="boolean",this.startPosition="number|string",this.rtl="boolean",this.smartSpeed="number",this.fluidSpeed="boolean",this.dragEndSpeed="number|boolean",this.responsive={},this.responsiveRefreshRate="number",this.nav="boolean",this.navText="string[]",this.navSpeed="number|boolean",this.slideBy="number|string",this.dots="boolean",this.dotsEach="number|boolean",this.dotsData="boolean",this.dotsSpeed="number|boolean",this.autoplay="boolean",this.autoplayTimeout="number",this.autoplayHoverPause="boolean",this.autoplaySpeed="number|boolean",this.lazyLoad="boolean",this.lazyLoadEager="number",this.slideTransition="string",this.animateOut="string|boolean",this.animateIn="string|boolean",this.autoHeight="boolean",this.URLhashListener="boolean"}}let ED=(()=>{let e=class{constructor(n){this.errorHandler=n}log(n,...i){}error(n){this.errorHandler.handleError(n)}warn(n,...i){console.warn(n,...i)}};return e.\u0275fac=function(n){return new(n||e)(Et(wg))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();var pC=(()=>{return(e=pC||(pC={})).Event="event",e.State="state",pC;var e})(),tv=(()=>{return(e=tv||(tv={})).Default="default",e.Inner="inner",e.Outer="outer",tv;var e})();let Hh=(()=>{let e=class{constructor(n){this.logger=n,this._viewSettingsShipper$=new _.xQ,this._initializedCarousel$=new _.xQ,this._changeSettingsCarousel$=new _.xQ,this._changedSettingsCarousel$=new _.xQ,this._translateCarousel$=new _.xQ,this._translatedCarousel$=new _.xQ,this._resizeCarousel$=new _.xQ,this._resizedCarousel$=new _.xQ,this._refreshCarousel$=new _.xQ,this._refreshedCarousel$=new _.xQ,this._dragCarousel$=new _.xQ,this._draggedCarousel$=new _.xQ,this.settings={items:0},this.owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1},this.stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0},this._items=[],this._widths=[],this._supress={},this._plugins={},this._current=null,this._clones=[],this._mergers=[],this._speed=null,this._coordinates=[],this._breakpoint=null,this.clonedIdPrefix="cloned-",this._options={},this._invalidated={},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},this._pipe=[{filter:["width","items","settings"],run:i=>{i.current=this._items&&this._items[this.relative(this._current)].id}},{filter:["width","items","settings"],run:i=>{const r=this.settings.margin||"",s=this.settings.rtl,a={"margin-left":s?r:"","margin-right":s?"":r};!this.settings.autoWidth||this.slidesData.forEach(l=>{l.marginL=a["margin-left"],l.marginR=a["margin-right"]}),i.css=a}},{filter:["width","items","settings"],run:i=>{const r=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,o=!this.settings.autoWidth,s=[];let a=null,l=this._items.length;for(i.items={merge:!1,width:r};l--;)a=this._mergers[l],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,i.items.merge=a>1||i.items.merge,s[l]=o?r*a:this._items[l].width?this._items[l].width:r;this._widths=s,this.slidesData.forEach((c,u)=>{c.width=this._widths[u],c.marginR=i.css["margin-right"],c.marginL=i.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const i=[],r=this._items,o=this.settings,s=Math.max(2*o.items,4),a=2*Math.ceil(r.length/2);let l=[],c=[],u=o.loop&&r.length?o.rewind?s:Math.max(s,a):0;for(u/=2;u--;)i.push(this.normalize(i.length/2,!0)),l.push(Object.assign({},this.slidesData[i[i.length-1]])),i.push(this.normalize(r.length-1-(i.length-1)/2,!0)),c.unshift(Object.assign({},this.slidesData[i[i.length-1]]));this._clones=i,l=l.map(d=>(d.id=`${this.clonedIdPrefix}${d.id}`,d.isActive=!1,d.isCloned=!0,d)),c=c.map(d=>(d.id=`${this.clonedIdPrefix}${d.id}`,d.isActive=!1,d.isCloned=!0,d)),this.slidesData=c.concat(this.slidesData).concat(l)}},{filter:["width","items","settings"],run:()=>{const i=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,o=[];let s=-1,a=0,l=0;for(;++s<r;)a=o[s-1]||0,l=this._widths[this.relative(s)]+this.settings.margin,o.push(a+l*i);this._coordinates=o}},{filter:["width","items","settings"],run:()=>{const i=this.settings.stagePadding,r=this._coordinates,o={width:Math.ceil(Math.abs(r[r.length-1]))+2*i,"padding-left":i||"","padding-right":i||""};this.stageData.width=o.width,this.stageData.paddingL=o["padding-left"],this.stageData.paddingR=o["padding-right"]}},{filter:["width","items","settings"],run:i=>{let r=i.current?this.slidesData.findIndex(o=>o.id===i.current):0;r=Math.max(this.minimum(),Math.min(this.maximum(),r)),this.reset(r)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const i=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,o=[];let s,a,l,c,u,d;if(s=this.coordinates(this.current()),"number"==typeof s?s+=r:s=0,a=s+this.width()*i,-1===i&&this.settings.center){const h=this._coordinates.filter(f=>this.settings.items%2==1?f>=s:f>s);s=h.length?h[h.length-1]:s}for(u=0,d=this._coordinates.length;u<d;u++)l=Math.ceil(this._coordinates[u-1]||0),c=Math.ceil(Math.abs(this._coordinates[u])+r*i),(this._op(l,"<=",s)&&this._op(l,">",a)||this._op(c,"<",s)&&this._op(c,">",a))&&o.push(u);this.slidesData.forEach(h=>(h.isActive=!1,h)),o.forEach(h=>{this.slidesData[h].isActive=!0}),this.settings.center&&(this.slidesData.forEach(h=>(h.isCentered=!1,h)),this.slidesData[this.current()].isCentered=!0)}}]}get invalidated(){return this._invalidated}get states(){return this._states}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(n){const i=new Rue,r=this._validateOptions(n,i);this._options=Object.assign({},i,r)}_validateOptions(n,i){const r=Object.assign({},n),o=new Nue,s=(a,l)=>(this.logger.log(`options.${l} must be type of ${a}; ${l}=${n[l]} skipped to defaults: ${l}=${i[l]}`),i[l]);for(const a in r)if(r.hasOwnProperty(a))if("number"===o[a])this._isNumeric(r[a])?(r[a]=+r[a],r[a]="items"===a?this._validateItems(r[a],r.skip_validateItems):r[a]):r[a]=s(o[a],a);else if("boolean"===o[a]&&"boolean"!=typeof r[a])r[a]=s(o[a],a);else if("number|boolean"!==o[a]||this._isNumberOrBoolean(r[a]))if("number|string"!==o[a]||this._isNumberOrString(r[a]))if("string|boolean"!==o[a]||this._isStringOrBoolean(r[a])){if("string[]"===o[a])if(Array.isArray(r[a])){let l=!1;r[a].forEach(c=>{l="string"==typeof c}),l||(r[a]=s(o[a],a))}else r[a]=s(o[a],a)}else r[a]=s(o[a],a);else r[a]=s(o[a],a);else r[a]=s(o[a],a);return r}_validateItems(n,i){let r=n;return n>this._items.length?i?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(r=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):n===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),r}setCarouselWidth(n){this._width=n}setup(n,i,r){this.setCarouselWidth(n),this.setItems(i),this._defineSlidesData(),this.setOptions(r),this.settings=Object.assign({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const n=this._width,i=this._options.responsive;let r=-1;if(!Object.keys(i).length)return;if(!n)return void(this.settings.items=1);for(const s in i)i.hasOwnProperty(s)&&+s<=n&&+s>r&&(r=Number(s));this.settings=Object.assign({},this._options,i[r],{items:i[r]&&i[r].items?this._validateItems(i[r].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const o=[];this._items.forEach(s=>{o.push(this.settings.merge?s.dataMerge:1)}),this._mergers=o,this._breakpoint=r,this.invalidate("settings")}initialize(n){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),n.forEach(i=>{this._mergers.push(this.settings.merge?i.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let n=0;const i=this._pipe.length,r=s=>this._invalidated[s],o={};for(;n<i;){const s=this._pipe[n].filter.filter(r);(this._invalidated.all||s.length>0)&&this._pipe[n].run(o),n++}this.slidesData.forEach(s=>s.classes=this.setCurSlideClasses(s)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(n){switch(n=n||tv.Default){case tv.Inner:case tv.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(n){if(!this._items.length)return!1;this.setCarouselWidth(n),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(n){let r,i=null;return r=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),i={x:+r[0],y:+r[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===n.type&&(this.owlDOMData.isGrab=!0),this.speed(0),i}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(n,i){let r=null,o=null,s=null;const a=this.difference(i.pointer,this.pointer(n)),l=this.difference(i.stage.start,a);return!!this.is("dragging")&&(this.settings.loop?(r=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-r,l.x=((l.x-r)%o+o)%o+r):(r=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),o=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),s=this.settings.pullDrag?-1*a.x/5:0,l.x=Math.max(Math.min(l.x,r+s),o+s)),l)}finishDragging(n,i,r){const s=this.difference(i.pointer,this.pointer(n)),a=i.stage.current,l=["right","left"][+(this.settings.rtl?s.x<+this.settings.rtl:s.x>+this.settings.rtl)];let c,u,d;(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),c=this.closest(a.x,0!==s.x?l:i.direction),u=this.current(),d=this.current(-1===c?void 0:c),u!==d&&(this.invalidate("position"),this.update()),i.direction=l,(Math.abs(s.x)>3||(new Date).getTime()-i.time>300)&&r()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(n,i){const o=this.width();let s=this.coordinates(),a=-1;this.settings.center&&(s=s.map(l=>(0===l&&(l+=1e-6),l)));for(let l=0;l<s.length&&("left"===i&&n>s[l]-30&&n<s[l]+30?a=l:"right"===i&&n>s[l]-o-30&&n<s[l]-o+30?a=l+1:this._op(n,"<",s[l])&&this._op(n,">",s[l+1]||s[l]-o)?a="left"===i?l+1:l:null===i&&n>s[l]-30&&n<s[l]+30&&(a=l),-1===a);l++);return this.settings.loop||(this._op(n,">",s[this.minimum()])?a=n=this.minimum():this._op(n,"<",s[this.maximum()])&&(a=n=this.maximum())),a}animate(n){const i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+n+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(n){return this._states.current[n]&&this._states.current[n]>0}current(n){return void 0===n?this._current:0!==this._items.length?(n=this.normalize(n),this._current!==n&&(this._trigger("change",{property:{name:"position",value:n}}),this._current=n,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(n){return"string"==typeof n&&(this._invalidated[n]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(n){void 0!==(n=this.normalize(n))&&(this._speed=0,this._current=n,this._suppress(["translate","translated"]),this.animate(this.coordinates(n)),this._release(["translate","translated"]))}normalize(n,i){const r=this._items.length,o=i?0:this._clones.length;return!this._isNumeric(n)||r<1?n=void 0:(n<0||n>=r+o)&&(n=((n-o/2)%r+r)%r+o/2),n}relative(n){return this.normalize(n-=this._clones.length/2,!0)}maximum(n=!1){const i=this.settings;let o,s,a,r=this._coordinates.length;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){for(o=this._items.length,s=this.slidesData[--o].width,a=this._width;o--&&(s+=+this.slidesData[o].width+this.settings.margin,!(s>a)););r=o+1}else r=i.center?this._items.length-1:this._items.length-i.items;return n&&(r-=this._clones.length/2),Math.max(r,0)}minimum(n=!1){return n?0:this._clones.length/2}items(n){return void 0===n?this._items.slice():(n=this.normalize(n,!0),[this._items[n]])}mergers(n){return void 0===n?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])}clones(n){const i=this._clones.length/2,r=i+this._items.length,o=s=>s%2==0?r+s/2:i-(s+1)/2;return void 0===n?this._clones.map((s,a)=>o(a)):this._clones.map((s,a)=>s===n?o(a):null).filter(s=>s)}speed(n){return void 0!==n&&(this._speed=n),this._speed}coordinates(n){let o,s,i=1,r=n-1;return void 0===n?(s=this._coordinates.map((a,l)=>this.coordinates(l)),s):(this.settings.center?(this.settings.rtl&&(i=-1,r=n+1),o=this._coordinates[n],o+=(this.width()-o+(this._coordinates[r]||0))/2*i):o=this._coordinates[r]||0,o=Math.ceil(o),o)}_duration(n,i,r){return 0===r?0:Math.min(Math.max(Math.abs(i-n),1),6)*Math.abs(+r||this.settings.smartSpeed)}to(n,i){let r=this.current(),o=null,s=n-this.relative(r),a=this.maximum(),l=0;const c=+(s>0)-+(s<0),u=this._items.length,d=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>u/2&&(s+=-1*c*u),o=(((n=r+s)-d)%u+u)%u+d,o!==n&&o-s<=a&&o-s>0&&(r=o-s,n=o,l=30,this.reset(r),this.sendChanges())):this.settings.rewind?(a+=1,n=(n%a+a)%a):n=Math.max(d,Math.min(a,n)),setTimeout(()=>{this.speed(this._duration(r,n,i)),this.current(n),this.update()},l)}next(n){n=n||!1,this.to(this.relative(this.current())+1,n)}prev(n){n=n||!1,this.to(this.relative(this.current())-1,n)}onTransitionEnd(n){if(void 0!==n)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let n;return this._width?n=this._width:this.logger.log("Can not detect viewport width."),n}setItems(n){this._items=n}_defineSlidesData(){let n;this.slidesData&&this.slidesData.length&&(n=new Map,this.slidesData.forEach(i=>{i.load&&n.set(i.id,i.load)})),this.slidesData=this._items.map(i=>({id:`${i.id}`,isActive:!1,tplRef:i.tplRef,dataMerge:i.dataMerge,width:0,isCloned:!1,load:!!n&&n.get(i.id),hashFragment:i.dataHash}))}setCurSlideClasses(n){const i={active:n.isActive,center:n.isCentered,cloned:n.isCloned,animated:n.isAnimated,"owl-animated-in":n.isDefAnimatedIn,"owl-animated-out":n.isDefAnimatedOut};return this.settings.animateIn&&(i[this.settings.animateIn]=n.isCustomAnimatedIn),this.settings.animateOut&&(i[this.settings.animateOut]=n.isCustomAnimatedOut),i}_op(n,i,r){const o=this.settings.rtl;switch(i){case"<":return o?n>r:n<r;case">":return o?n<r:n>r;case">=":return o?n<=r:n>=r;case"<=":return o?n>=r:n<=r}}_trigger(n,i,r,o,s){switch(n){case"initialized":this._initializedCarousel$.next(n);break;case"change":this._changeSettingsCarousel$.next(i);break;case"changed":this._changedSettingsCarousel$.next(i);break;case"drag":this._dragCarousel$.next(n);break;case"dragged":this._draggedCarousel$.next(n);break;case"resize":this._resizeCarousel$.next(n);break;case"resized":this._resizedCarousel$.next(n);break;case"refresh":this._refreshCarousel$.next(n);break;case"refreshed":this._refreshedCarousel$.next(n);break;case"translate":this._translateCarousel$.next(n);break;case"translated":this._translatedCarousel$.next(n)}}enter(n){[n].concat(this._states.tags[n]||[]).forEach(i=>{void 0===this._states.current[i]&&(this._states.current[i]=0),this._states.current[i]++})}leave(n){[n].concat(this._states.tags[n]||[]).forEach(i=>{(0===this._states.current[i]||this._states.current[i])&&this._states.current[i]--})}register(n){n.type===pC.State&&(this._states.tags[n.name]=this._states.tags[n.name]?this._states.tags[n.name].concat(n.tags):n.tags,this._states.tags[n.name]=this._states.tags[n.name].filter((i,r)=>this._states.tags[n.name].indexOf(i)===r))}_suppress(n){n.forEach(i=>{this._supress[i]=!0})}_release(n){n.forEach(i=>{delete this._supress[i]})}pointer(n){const i={x:null,y:null};return(n=(n=n.originalEvent||n||window.event).touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n).pageX?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i}_isNumeric(n){return!isNaN(parseFloat(n))}_isNumberOrBoolean(n){return this._isNumeric(n)||"boolean"==typeof n}_isNumberOrString(n){return this._isNumeric(n)||"string"==typeof n}_isStringOrBoolean(n){return"string"==typeof n||"boolean"==typeof n}difference(n,i){return{x:n.x-i.x,y:n.y-i.y}}};return e.\u0275fac=function(n){return new(n||e)(Et(ED))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),r9=(()=>{let e=class{constructor(n){this.carouselService=n,this._initialized=!1,this._pages=[],this._navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}},this._dotsData={disabled:!1,dots:[]},this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Yi.b)(s=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),i=this.carouselService.getChangedState().pipe((0,Da.h)(s=>"position"===s.property.name),(0,Yi.b)(s=>{this.update()})),r=this.carouselService.getRefreshedState().pipe((0,Yi.b)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=(0,H.T)(n,i,r);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let n,i,r;const o=this.carouselService.clones().length/2,s=o+this.carouselService.items().length,a=this.carouselService.maximum(!0),l=[],c=this.carouselService.settings;let u=c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items;if(u=+u,"page"!==c.slideBy&&(c.slideBy=Math.min(+c.slideBy,c.items)),c.dots||"page"===c.slideBy)for(n=o,i=0,r=0;n<s;n++){if(i>=u||0===i){if(l.push({start:Math.min(a,n-o),end:n-o+u-1}),Math.min(a,n-o)===a)break;i=0,++r}i+=this.carouselService.mergers(this.carouselService.relative(n))}this._pages=l}draw(){let n;const i=this.carouselService.settings,r=this.carouselService.items(),o=r.length<=i.items;if(this._navData.disabled=!i.nav||o,this._dotsData.disabled=!i.dots||o,i.dots)if(n=this._pages.length-this._dotsData.dots.length,i.dotsData&&0!==n)this._dotsData.dots=[],r.forEach(s=>{this._dotsData.dots.push({active:!1,id:`dot-${s.id}`,innerContent:s.dotContent,showInnerContent:!0})});else if(n>0){const s=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<n;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+s}`,innerContent:"",showInnerContent:!1})}else n<0&&this._dotsData.dots.splice(n,Math.abs(n));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const n=this.carouselService.settings,i=n.loop||n.rewind,r=this.carouselService.relative(this.carouselService.current());n.nav&&(this._navData.prev.disabled=!i&&r<=this.carouselService.minimum(!0),this._navData.next.disabled=!i&&r>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let n;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(i=>{!0===i.active&&(i.active=!1)}),n=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[n].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const n=this.carouselService.relative(this.carouselService.current());let i;const r=this._pages.filter((o,s)=>o.start<=n&&o.end>=n).pop();return i=this._pages.findIndex(o=>o.start===r.start&&o.end===r.end),i}_getPosition(n){let i,r;const o=this.carouselService.settings;return"page"===o.slideBy?(i=this._current(),r=this._pages.length,n?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this.carouselService.relative(this.carouselService.current()),r=this.carouselService.items().length,n?i+=+o.slideBy:i-=+o.slideBy),i}next(n){this.carouselService.to(this._getPosition(!0),n)}prev(n){this.carouselService.to(this._getPosition(!1),n)}to(n,i,r){let o;!r&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(n%o+o)%o].start,i)):this.carouselService.to(n,i)}moveByDot(n){const i=this._dotsData.dots.findIndex(r=>n===r.id);this.to(i,this.carouselService.settings.dotsSpeed)}toSlideById(n){const i=this.carouselService.slidesData.findIndex(r=>r.id===n&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}};return e.\u0275fac=function(n){return new(n||e)(Et(Hh))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();const DD=new Hn("WindowToken");class AD{get nativeWindow(){throw new Error("Not implemented.")}}let Fue=(()=>{class e extends AD{constructor(){super()}get nativeWindow(){return window}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const Bue=[{provide:AD,useClass:Fue},{provide:DD,useFactory:function Lue(e,t){return XS(t)?e.nativeWindow:{setTimeout:(i,r)=>{},clearTimeout:i=>{}}},deps:[AD,Zc]}],vb=new Hn("DocumentToken");class TD{get nativeDocument(){throw new Error("Not implemented.")}}let zue=(()=>{class e extends TD{constructor(){super()}get nativeDocument(){return document}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const jue=[{provide:TD,useClass:zue},{provide:vb,useFactory:function Uue(e,t){return XS(t)?e.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[TD,Zc]}];let o9=(()=>{let e=class{constructor(n,i,r){this.carouselService=n,this._timeout=null,this._paused=!1,this.winRef=i,this.docRef=r,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Yi.b)(()=>{this.carouselService.settings.autoplay&&this.play()})),i=this.carouselService.getChangedState().pipe((0,Yi.b)(s=>{this._handleChangeObservable(s)})),r=this.carouselService.getResizedState().pipe((0,Yi.b)(()=>{this.carouselService.settings.autoplay?this.play():this.stop()})),o=(0,H.T)(n,i,r);this.autoplaySubscription=o.subscribe(()=>{})}play(n,i){this._paused&&(this._paused=!1,this._setAutoPlayInterval(1)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(n,i){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!n,this.winRef.setTimeout(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(i||this.carouselService.settings.autoplaySpeed)},n||this.carouselService.settings.autoplayTimeout)}_setAutoPlayInterval(n){this._timeout=this._getNextTimeout(n)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(n){"settings"===n.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===n.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){(0,Jn.of)("translated").pipe((0,Aa.w)(n=>this.carouselService.getTranslatedState()),(0,jd.P)(),(0,Da.h)(()=>this._isArtificialAutoplayTimeout),(0,Yi.b)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}};return e.\u0275fac=function(n){return new(n||e)(Et(Hh),Et(DD),Et(vb))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Ii([W0(1,d0(DD)),W0(2,d0(vb))],e),e})(),s9=(()=>{let e=class{constructor(n){this.carouselService=n,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Yi.b)(()=>{const s=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!s)})),i=this.carouselService.getChangeState(),r=this.carouselService.getResizedState(),o=(0,H.T)(n,i,r).pipe((0,Yi.b)(s=>this._defineLazyLoadSlides(s)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(n){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(n.property&&"position"===n.property.name||"initialized"===n||"resized"===n)){const i=this.carouselService.settings,r=this.carouselService.clones().length;let o=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&-1*o||0,a=(n.property&&void 0!==n.property.value?n.property.value:this.carouselService.current())+s;for(i.lazyLoadEager>0&&(o+=i.lazyLoadEager,i.loop&&(a-=i.lazyLoadEager,o++));s++<o;)this._load(r/2+this.carouselService.relative(a)),r&&this.carouselService.clones(this.carouselService.relative(a)).forEach(l=>this._load(l)),a++}}_load(n){this.carouselService.slidesData[n].load||(this.carouselService.slidesData[n].load=!0)}};return e.\u0275fac=function(n){return new(n||e)(Et(Hh))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),kD=(()=>{let e=class{constructor(n){this.carouselService=n,this.swapping=!0,this.previous=void 0,this.next=void 0,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getChangeState().pipe((0,Yi.b)(c=>{"position"===c.property.name&&(this.previous=this.carouselService.current(),this.next=c.property.value)})),i=this.carouselService.getDragState(),r=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),s=(0,H.T)(i,r,o).pipe((0,Yi.b)(c=>this.swapping="translated"===c)),a=this.carouselService.getTranslateState().pipe((0,Yi.b)(c=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),l=(0,H.T)(n,a,s).pipe();this.animateSubscription=l.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let n;this.carouselService.speed(0);const i=this.carouselService.slidesData[this.previous],r=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,s=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(s&&(n=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.left=`${n}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(n){this.carouselService.slidesData.forEach(i=>{i.id===n&&(i.left="",i.isAnimated=!1,i.isDefAnimatedOut=!1,i.isCustomAnimatedOut=!1,i.isDefAnimatedIn=!1,i.isCustomAnimatedIn=!1,i.classes=this.carouselService.setCurSlideClasses(i))}),this.carouselService.onTransitionEnd()}};return e.\u0275fac=function(n){return new(n||e)(Et(Hh))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),a9=(()=>{let e=class{constructor(n){this.carouselService=n,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Yi.b)(s=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),i=this.carouselService.getChangedState().pipe((0,Yi.b)(s=>{this.carouselService.settings.autoHeight&&"position"===s.property.name&&this.update()})),r=this.carouselService.getRefreshedState().pipe((0,Yi.b)(s=>{this.carouselService.settings.autoHeight&&this.update()})),o=(0,H.T)(n,i,r);this.autoHeightSubscription=o.subscribe(()=>{})}update(){const n=this.carouselService.settings.items;let i=this.carouselService.current(),r=i+n;this.carouselService.settings.center&&(i=n%2==1?i-(n-1)/2:i-n/2,r=n%2==1?i+n:i+n+1),this.carouselService.slidesData.forEach((o,s)=>{o.heightState=s>=i&&s<r?"full":"nulled"})}};return e.\u0275fac=function(n){return new(n||e)(Et(Hh))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),l9=(()=>{let e=class{constructor(n,i,r){this.carouselService=n,this.route=i,this.router=r,this.spyDataStreams(),this.route||(this.route={fragment:(0,Jn.of)("no route").pipe((0,Ta.q)(1))}),this.router||(this.router={navigate:(o,s)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const n=this.carouselService.getInitializedState().pipe((0,Yi.b)(()=>this.listenToRoute())),i=this.carouselService.getChangedState().pipe((0,Yi.b)(o=>{if(this.carouselService.settings.URLhashListener&&"position"===o.property.name){const s=this.carouselService.current(),a=this.carouselService.slidesData[s].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),r=(0,H.T)(n,i);this.hashSubscription=r.subscribe(()=>{})}rewind(n){const i=this.carouselService.slidesData.findIndex(r=>r.hashFragment===n&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}listenToRoute(){this.route.fragment.pipe((0,JE.T)("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(i=>{this.currentHashFragment=i,this.rewind(i)})}};return e.\u0275fac=function(n){return new(n||e)(Et(Hh),Et(Yl,8),Et(Yo,8))},e.\u0275prov=Ct({token:e,factory:function(t){return e.\u0275fac(t)}}),e=Ii([W0(1,yg()),W0(2,yg())],e),e})(),Vue=0,Uu=(()=>{let e=class{constructor(n){this.tplRef=n,this.id="owl-slide-"+Vue++,this._dataMerge=1,this.width=0,this.dotContent="",this.dataHash=""}set dataMerge(n){this._dataMerge=this.isNumeric(n)?n:1}get dataMerge(){return this._dataMerge}isNumeric(n){return!isNaN(parseFloat(n))}};return e.\u0275fac=function(n){return new(n||e)(Me(Wo))},e.\u0275dir=Xt({type:e,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",width:"width",dotContent:"dotContent",dataHash:"dataHash",dataMerge:"dataMerge"}}),Ii([mo()],e.prototype,"id",void 0),Ii([mo()],e.prototype,"dataMerge",null),Ii([mo()],e.prototype,"width",void 0),Ii([mo()],e.prototype,"dotContent",void 0),Ii([mo()],e.prototype,"dataHash",void 0),e})(),hf=(()=>{let e=class{constructor(n,i,r,o,s,a,l,c,u,d,h,f){this.el=n,this.resizeService=i,this.carouselService=r,this.navigationService=o,this.autoplayService=s,this.lazyLoadService=a,this.animateService=l,this.autoHeightService=c,this.hashService=u,this.logger=d,this.changeDetectorRef=h,this.translated=new Li,this.dragging=new Li,this.change=new Li,this.changed=new Li,this.initialized=new Li,this.slidesData=[],this.carouselLoaded=!1,this.docRef=f}onVisibilityChange(n){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":this.autoplayService.play();break;case"hidden":this.autoplayService.stop()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngAfterContentChecked(){}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,Yi.b)(n=>{n.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,n.toArray(),this.options),this.carouselService.initialize(n.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered"))})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,Yi.b)(n=>{this.owlDOMData=n.owlDOMData,this.stageData=n.stageData,this.slidesData=n.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=n.navData,this.dotsData=n.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,Yi.b)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,Yi.b)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,Yi.b)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe((0,Aa.w)(n=>{const i=(0,Jn.of)(n).pipe((0,Da.h)(()=>"position"===n.property.name),(0,Aa.w)(()=>(0,Ha.D)(this.slidesData)),(0,JE.T)(n.property.value),(0,Ta.q)(this.carouselService.settings.items),(0,Ei.U)(r=>{const o=this.carouselService.clonedIdPrefix,s=r.id.indexOf(o)>=0?r.id.slice(o.length):r.id;return Object.assign({},r,{id:s,isActive:!0})}),(0,Qle.q)(),(0,Ei.U)(r=>({slides:r,startPosition:this.carouselService.relative(n.property.value)})));return(0,H.T)(i)}),(0,Yi.b)(n=>{this.gatherTranslatedData(),this.changed.emit(n.slides.length?n:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,Yi.b)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),(0,Aa.w)(()=>this.carouselService.getDraggedState().pipe((0,Ei.U)(()=>!!this.carouselService.is("animating")))),(0,Aa.w)(n=>n?this.carouselService.getTranslatedState().pipe((0,jd.P)()):(0,Jn.of)("not animating")),(0,Yi.b)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,H.T)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe((0,Da.h)(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),(0,Gz.g)(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(n){this.carouselLoaded&&this.navigationService.moveByDot(n)}to(n){this.carouselLoaded&&this.navigationService.toSlideById(n)}gatherTranslatedData(){let n;const i=this.carouselService.clonedIdPrefix,r=this.slidesData.filter(o=>!0===o.isActive).map(o=>({id:o.id.indexOf(i)>=0?o.id.slice(i.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));n=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:n,slides:r}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}};return e.\u0275fac=function(n){return new(n||e)(Me($r),Me(i9),Me(Hh),Me(r9),Me(o9),Me(s9),Me(kD),Me(a9),Me(l9),Me(ED),Me(Bd),Me(vb))},e.\u0275cmp=Mi({type:e,selectors:[["owl-carousel-o"]],contentQueries:function(n,i,r){if(1&n&&function us(e,t,n,i){const r=nr();if(r.firstCreatePass){const o=yi();UF(r,new LF(t,n,i),o.index),function nne(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}zF(r,It(),n)}(r,Uu,4),2&n){let o;Qr(o=Zr())&&(i.slides=o)}},hostBindings:function(n,i){1&n&&rt("visibilitychange",function(o){return i.onVisibilityChange(o)},0,Cg)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[So([r9,o9,Hh,s9,kD,a9,l9])],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(n,i){1&n&&(x(0,"div",0,1),rt("mouseover",function(){return i.startPausing()})("mouseleave",function(){return i.startPlayML()})("touchstart",function(){return i.startPausing()})("touchend",function(){return i.startPlayTE()}),tt(2,Mue,2,6,"div",2),tt(3,Sue,6,15,"ng-container",3),M()),2&n&&(We("ngClass",nS(3,Eue,null==i.owlDOMData?null:i.owlDOMData.rtl,null==i.owlDOMData?null:i.owlDOMData.isLoaded,null==i.owlDOMData?null:i.owlDOMData.isResponsive,null==i.owlDOMData?null:i.owlDOMData.isMouseDragable,null==i.owlDOMData?null:i.owlDOMData.isGrab)),se(2),We("ngIf",i.carouselLoaded),se(1),We("ngIf",i.slides.toArray().length))},dependencies:function(){return[Fy,Qs,fa,Hue]},styles:[".owl-theme[_ngcontent-%COMP%] { display: block; }"]}),Ii([oK(Uu)],e.prototype,"slides",void 0),Ii([Ty()],e.prototype,"translated",void 0),Ii([Ty()],e.prototype,"dragging",void 0),Ii([Ty()],e.prototype,"change",void 0),Ii([Ty()],e.prototype,"changed",void 0),Ii([Ty()],e.prototype,"initialized",void 0),Ii([mo()],e.prototype,"options",void 0),Ii([Wp("document:visibilitychange",["$event"])],e.prototype,"onVisibilityChange",null),e=Ii([W0(11,d0(vb))],e),e})(),Hue=(()=>{let e=class{constructor(n,i,r,o,s){this.zone=n,this.el=i,this.renderer=r,this.carouselService=o,this.animateService=s,this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this._oneDragMove$=new _.xQ,this.bindOneMouseTouchMove=a=>{this._oneMouseTouchMove(a)},this.bindOnDragMove=a=>{this._onDragMove(a)},this.bindOnDragEnd=a=>{this._onDragEnd(a)},this._oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()}}onMouseDown(n){this.owlDraggable.isMouseDragable&&this._onDragStart(n)}onTouchStart(n){this.owlDraggable.isTouchDragable&&this._onDragStart(n)}onTouchCancel(n){this._onDragEnd(n)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe((0,jd.P)()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}_onDragStart(n){let i=null;3!==n.which&&(i=this._prepareDragging(n),this._drag.time=(new Date).getTime(),this._drag.target=n.target,this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this._pointer(n),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(n){const i=this._difference(this._drag.pointer,this._pointer(n));this.listenerATag&&this.listenerATag(),!(Math.abs(i.x)<3&&Math.abs(i.y)<3&&this._is("valid"))&&(Math.abs(i.x)<3&&Math.abs(i.x)<Math.abs(i.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(n),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),n.preventDefault(),this._enterDragging(),this._oneDragMove$.next(n)))}blockClickAnchorInDragging(n){let i=n.target;for(;i&&!(i instanceof HTMLAnchorElement);)i=i.parentElement;i instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(i,"click",()=>!1))}_onDragMove(n){let i;const r=this.carouselService.defineNewCoordsDrag(n,this._drag);!1!==r&&(i=r,n.preventDefault(),this._drag.stage.current=i,this._animate(i.x-this._drag.stage.start.x))}_animate(n){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${n}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(n){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(n),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(n){return this.carouselService.prepareDragging(n)}_finishDragging(n){this.carouselService.finishDragging(n,this._drag,this._oneClickHandler)}_pointer(n){return this.carouselService.pointer(n)}_difference(n,i){return this.carouselService.difference(n,i)}_is(n){return this.carouselService.is(n)}_enter(n){this.carouselService.enter(n)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(n){this.animateService.clear(n)}};return e.\u0275fac=function(n){return new(n||e)(Me(Lr),Me($r),Me(Ds),Me(Hh),Me(kD))},e.\u0275cmp=Mi({type:e,selectors:[["owl-stage"]],hostBindings:function(n,i){1&n&&rt("mousedown",function(o){return i.onMouseDown(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchcancel",function(o){return i.onTouchCancel(o)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(n,i){1&n&&(x(0,"div")(1,"div",0),rt("transitionend",function(){return i.onTransitionEnd()}),tt(2,kue,3,9,"ng-container",1),M()()),2&n&&(se(1),We("ngStyle",nS(2,Iue,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),se(1),We("ngForOf",i.slidesData))},dependencies:[Fy,Qs,fa,L0,kg],encapsulation:2,data:{animation:[BB("autoHeight",[Ig("nulled",Zs({height:0})),Ig("full",Zs({height:"*"})),nd("full => nulled",[td("700ms 350ms")]),nd("nulled => full",[td(350)])])]}}),Ii([mo()],e.prototype,"owlDraggable",void 0),Ii([mo()],e.prototype,"stageData",void 0),Ii([mo()],e.prototype,"slidesData",void 0),Ii([Wp("mousedown",["$event"])],e.prototype,"onMouseDown",null),Ii([Wp("touchstart",["$event"])],e.prototype,"onTouchStart",null),Ii([Wp("touchcancel",["$event"])],e.prototype,"onTouchCancel",null),Ii([Wp("dragstart")],e.prototype,"onDragStart",null),Ii([Wp("selectstart")],e.prototype,"onSelectStart",null),e})(),Gue=(()=>{let e=class{};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({providers:[Bue,i9,jue,ED],imports:[ul]}),e})();function Wue(e,t){if(1&e){const n=xr();x(0,"div",9),rt("click",function(){En(n);const r=nt().$implicit;return kn(nt().removeToastr(r))}),A(1,"\xd7 "),M()}}function que(e,t){if(1&e&&(x(0,"div"),A(1),M()),2&e){const n=nt().$implicit,i=nt();Iu("to-title ",n.config.titleClass||i.titleClass,""),se(1),$s(n.title)}}function Yue(e,t){if(1&e&&ce(0,"span",10),2&e){const n=nt().$implicit,i=nt();Iu("to-message ",n.config.messageClass||i.messageClass,""),We("innerHTML",i.sanitizer.bypassSecurityTrustHtml(n.message),vc)}}function Xue(e,t){if(1&e&&(x(0,"span"),A(1),M()),2&e){const n=nt().$implicit,i=nt();Iu("to-message ",n.config.messageClass||i.messageClass,""),se(1),$s(n.message)}}function $ue(e,t){if(1&e){const n=xr();x(0,"div",3),rt("@inOut.done",function(r){return En(n),kn(nt().onAnimationEnd(r))})("click",function(){const o=En(n).$implicit;return kn(nt().clicked(o))}),tt(1,Wue,2,0,"div",4),tt(2,que,2,4,"div",5),x(3,"div",6),tt(4,Yue,1,4,"span",7),tt(5,Xue,2,4,"span",8),M()()}if(2&e){const n=t.$implicit,i=nt();Iu("toastr toastr-",n.type,""),We("@inOut",n.config.animate||i.animate),se(1),We("ngIf",n.config.showCloseButton),se(1),We("ngIf",n.title),se(1),We("ngSwitch",n.config.enableHTML),se(1),We("ngSwitchCase",!0)}}let fC=(()=>{class e{constructor(){this.position="top-right",this.maxShown=5,this.newestOnTop=!1,this.animate="slideFromLeft",this.toastTimeout=5e3,this.enableHTML=!1,this.dismiss="auto",this.messageClass="toastr-message",this.titleClass="toastr-title",this.showCloseButton=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();class yb{constructor(t,n,i,r){this.type=t,this.message=n,this.title=i,this.data=r,this.config={position:"",animate:"slideFromLeft",dismiss:"auto",enableHTML:!1,titleClass:"",messageClass:"",toastTimeout:3e3,showCloseButton:!1}}dismiss(){this.toastrManager.dismissToastr(this)}}const Kue=BB("inOut",[Ig("fade",Zs({opacity:1})),nd("void => fade",[Zs({opacity:1}),td("0.4s ease-in")]),nd("fade => void",[td("0.4s 0.1s ease-out",Zs({opacity:0}))]),Ig("slideFromLeft",Zs({opacity:1,transform:"translateX(0)"})),nd("void => slideFromLeft",[Zs({opacity:0,transform:"translateX(-100%)"}),td("0.4s ease-in")]),nd("slideFromLeft => void",[td("0.4s 0.1s ease-out",Zs({opacity:0,transform:"translateX(100%)"}))]),Ig("slideFromRight",Zs({opacity:1,transform:"translateX(0)"})),nd("void => slideFromRight",[Zs({opacity:0,transform:"translateX(100%)"}),td("0.4s ease-in")]),nd("slideFromRight => void",[td("0.4s 0.1s ease-out",Zs({opacity:0,transform:"translateX(-100%)"}))]),Ig("slideFromTop",Zs({opacity:1,transform:"translateY(0)"})),nd("void => slideFromTop",[Zs({opacity:0,transform:"translateY(-100%)"}),td("0.4s ease-in")]),nd("slideFromTop => void",[td("0.4s 0.1s ease-out",Zs({opacity:0,transform:"translateY(100%)"}))]),Ig("slideFromBottom",Zs({opacity:1,transform:"translateY(0)"})),nd("void => slideFromBottom",[Zs({opacity:0,transform:"translateY(100%)"}),td("0.4s ease-in")]),nd("slideFromBottom => void",[td("0.4s 0.1s ease-out",Zs({opacity:0,transform:"translateY(-100%)"}))])]);let Que=(()=>{class e{constructor(n,i,r,o){this.sanitizer=n,this.cdr=i,this._zone=r,this.toastrs=[],this._fresh=!0,this._onEnter=new _.xQ,this._onExit=new _.xQ,Object.assign(this,o)}onEnter(){return this._onEnter.asObservable()}onExit(){return this._onExit.asObservable()}addToastr(n){if(this.position.indexOf("top")>0){if(this.newestOnTop?this.toastrs.unshift(n):this.toastrs.push(n),this.toastrs.length>this.maxShown){const i=this.toastrs.length-this.maxShown;this.newestOnTop?this.toastrs.splice(this.maxShown):this.toastrs.splice(0,i)}}else this.toastrs.unshift(n),this.toastrs.length>this.maxShown&&this.toastrs.splice(this.maxShown);null===this.animate&&this._fresh&&(this._fresh=!1,this._onEnter.next(),this._onEnter.complete()),this.cdr.detectChanges()}removeToastr(n){n.timeoutId&&(clearTimeout(n.timeoutId),n.timeoutId=null),this.toastrs=this.toastrs.filter(i=>i.id!==n.id)}removeAllToasts(){this.toastrs.forEach(n=>{clearTimeout(n.timeoutId),n.timeoutId=null}),this.toastrs=[]}clicked(n){this.onToastClicked&&this.onToastClicked(n)}anyToast(){return this.toastrs.length>0}findToast(n){for(let i of this.toastrs)if(i.id===n)return i;return null}onAnimationEnd(n){"void"!==n.toState||this.anyToast()?this._fresh&&"void"===n.fromState&&(this._fresh=!1,this._zone.run(()=>{this._onEnter.next(),this._onEnter.complete()})):this._ngExit()}_ngExit(){this._zone.onMicrotaskEmpty.subscribe(()=>{this._onExit.next(),this._onExit.complete()})}ngOnDestroy(){this._ngExit()}}return e.\u0275fac=function(n){return new(n||e)(Me(NB),Me(Bd),Me(Lr),Me(fC))},e.\u0275cmp=Mi({type:e,selectors:[["app-toastr"]],decls:3,vars:4,consts:[["id","toastr-container"],["toastrContainer",""],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["class","toastr-close-button",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],[3,"ngSwitch"],[3,"class","innerHTML",4,"ngSwitchCase"],[3,"class",4,"ngSwitchDefault"],[1,"toastr-close-button",3,"click"],[3,"innerHTML"]],template:function(n,i){1&n&&(x(0,"div",0,1),tt(2,$ue,6,8,"div",2),M()),2&n&&(Hp(i.position),se(2),We("ngForOf",i.toastrs))},dependencies:[Qs,fa,aw,nB,iB],styles:[".to-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-bottom:8px;color:#fff}.to-message[_ngcontent-%COMP%]{word-wrap:break-word;font-size:14px;line-height:20px;display:block;color:#fff;background-color:transparent}.to-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .to-message[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.to-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ccc;text-decoration:none}.toastr-close-button[_ngcontent-%COMP%]{position:relative;right:-5px;top:-15px;float:right;font-size:25px;color:#fff;-webkit-text-shadow:0 1px 0 #fff;text-shadow:0 1px 0 #fff;opacity:.8}.toastr-close-button[_ngcontent-%COMP%]:focus, .toastr-close-button[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.4}button.toastr-close-button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.top-center[_ngcontent-%COMP%]{top:0;right:0;width:100%}.bottom-center[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.top-full-width[_ngcontent-%COMP%]{top:0;right:0;width:100%}.bottom-full-width[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.top-left[_ngcontent-%COMP%]{top:12px;left:12px}.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.bottom-right[_ngcontent-%COMP%]{right:12px;bottom:12px}.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}#toastr-container[_ngcontent-%COMP%]{position:fixed;z-index:99999}#toastr-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin:10px 0 6px;padding:15px 15px 15px 60px;width:345px;border-radius:3px;background-position:15px;background-repeat:no-repeat;box-shadow:0 0 12px #999;color:#fff;opacity:1}#toastr-container[_ngcontent-%COMP%] > div.toastr-custom[_ngcontent-%COMP%]{padding:15px;color:#030303}#toastr-container[_ngcontent-%COMP%] > div.toastr-custom[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{color:#999!important}#toastr-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #000;opacity:1;cursor:pointer}#toastr-container[_ngcontent-%COMP%] > .toastr-info[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGwSURBVEhLtZa9SgNBEMc9sUxxRcoUKSzSWIhXpFMhhYWFhaBg4yPYiWCXZxBLERsLRS3EQkEfwCKdjWJAwSKCgoKCcudv4O5YLrt7EzgXhiU3/4+b2ckmwVjJSpKkQ6wAi4gwhT+z3wRBcEz0yjSseUTrcRyfsHsXmD0AmbHOC9Ii8VImnuXBPglHpQ5wwSVM7sNnTG7Za4JwDdCjxyAiH3nyA2mtaTJufiDZ5dCaqlItILh1NHatfN5skvjx9Z38m69CgzuXmZgVrPIGE763Jx9qKsRozWYw6xOHdER+nn2KkO+Bb+UV5CBN6WC6QtBgbRVozrahAbmm6HtUsgtPC19tFdxXZYBOfkbmFJ1VaHA1VAHjd0pp70oTZzvR+EVrx2Ygfdsq6eu55BHYR8hlcki+n+kERUFG8BrA0BwjeAv2M8WLQBtcy+SD6fNsmnB3AlBLrgTtVW1c2QN4bVWLATaIS60J2Du5y1TiJgjSBvFVZgTmwCU+dAZFoPxGEEs8nyHC9Bwe2GvEJv2WXZb0vjdyFT4Cxk3e/kIqlOGoVLwwPevpYHT+00T+hWwXDf4AJAOUqWcDhbwAAAAASUVORK5CYII=)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-error[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHOSURBVEhLrZa/SgNBEMZzh0WKCClSCKaIYOED+AAKeQQLG8HWztLCImBrYadgIdY+gIKNYkBFSwu7CAoqCgkkoGBI/E28PdbLZmeDLgzZzcx83/zZ2SSXC1j9fr+I1Hq93g2yxH4iwM1vkoBWAdxCmpzTxfkN2RcyZNaHFIkSo10+8kgxkXIURV5HGxTmFuc75B2RfQkpxHG8aAgaAFa0tAHqYFfQ7Iwe2yhODk8+J4C7yAoRTWI3w/4klGRgR4lO7Rpn9+gvMyWp+uxFh8+H+ARlgN1nJuJuQAYvNkEnwGFck18Er4q3egEc/oO+mhLdKgRyhdNFiacC0rlOCbhNVz4H9FnAYgDBvU3QIioZlJFLJtsoHYRDfiZoUyIxqCtRpVlANq0EU4dApjrtgezPFad5S19Wgjkc0hNVnuF4HjVA6C7QrSIbylB+oZe3aHgBsqlNqKYH48jXyJKMuAbiyVJ8KzaB3eRc0pg9VwQ4niFryI68qiOi3AbjwdsfnAtk0bCjTLJKr6mrD9g8iq/S/B81hguOMlQTnVyG40wAcjnmgsCNESDrjme7wfftP4P7SP4N3CJZdvzoNyGq2c/HWOXJGsvVg+RA/k2MC/wN6I2YA2Pt8GkAAAAASUVORK5CYII=)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-success[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADsSURBVEhLY2AYBfQMgf///3P8+/evAIgvA/FsIF+BavYDDWMBGroaSMMBiE8VC7AZDrIFaMFnii3AZTjUgsUUWUDA8OdAH6iQbQEhw4HyGsPEcKBXBIC4ARhex4G4BsjmweU1soIFaGg/WtoFZRIZdEvIMhxkCCjXIVsATV6gFGACs4Rsw0EGgIIH3QJYJgHSARQZDrWAB+jawzgs+Q2UO49D7jnRSRGoEFRILcdmEMWGI0cm0JJ2QpYA1RDvcmzJEWhABhD/pqrL0S0CWuABKgnRki9lLseS7g2AlqwHWQSKH4oKLrILpRGhEQCw2LiRUIa4lwAAAABJRU5ErkJggg==)!important}#toastr-container[_ngcontent-%COMP%] > .toastr-warning[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGYSURBVEhL5ZSvTsNQFMbXZGICMYGYmJhAQIJAICYQPAACiSDB8AiICQQJT4CqQEwgJvYASAQCiZiYmJhAIBATCARJy+9rTsldd8sKu1M0+dLb057v6/lbq/2rK0mS/TRNj9cWNAKPYIJII7gIxCcQ51cvqID+GIEX8ASG4B1bK5gIZFeQfoJdEXOfgX4QAQg7kH2A65yQ87lyxb27sggkAzAuFhbbg1K2kgCkB1bVwyIR9m2L7PRPIhDUIXgGtyKw575yz3lTNs6X4JXnjV+LKM/m3MydnTbtOKIjtz6VhCBq4vSm3ncdrD2lk0VgUXSVKjVDJXJzijW1RQdsU7F77He8u68koNZTz8Oz5yGa6J3H3lZ0xYgXBK2QymlWWA+RWnYhskLBv2vmE+hBMCtbA7KX5drWyRT/2JsqZ2IvfB9Y4bWDNMFbJRFmC9E74SoS0CqulwjkC0+5bpcV1CZ8NMej4pjy0U+doDQsGyo1hzVJttIjhQ7GnBtRFN1UarUlH8F3xict+HY07rEzoUGPlWcjRFRr4/gChZgc3ZL2d8oAAAAASUVORK5CYII=)!important}#toastr-container.bottom-center[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #toastr-container.top-center[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:300px;margin:10px auto}#toastr-container.bottom-full-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #toastr-container.top-full-width[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96%;margin:10px auto}.toastr[_ngcontent-%COMP%]{background-color:#fff}.toastr-success[_ngcontent-%COMP%]{background-color:#51a351}.toastr-error[_ngcontent-%COMP%]{background-color:#d9534f}.toastr-info[_ngcontent-%COMP%]{background-color:#7460ee}.toastr-warning[_ngcontent-%COMP%]{background-color:#f89406}.toastr-progress[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;height:4px;background-color:#000;opacity:.4}@media all and (max-width:240px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:11em}#toastr-container[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width:241px) and (max-width:480px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:18em}#toastr-container[_ngcontent-%COMP%]   .toastr-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width:481px) and (max-width:768px){#toastr-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:15px 15px 15px 50px;width:25em}}"],data:{animation:[Kue]}}),e})(),c9=(()=>{class e{constructor(n,i,r,o,s){this._applicationRef=n,this._componentFactoryResolver=i,this._injector=r,this.ngZone=o,this.options=s,this.toastrContainers=[],this.index=0,this.toastClicked=new _.xQ}createToastrComponent(n,i=[]){const r=this._componentFactoryResolver.resolveComponentFactory(n),o=Mg.resolve(i),s=Mg.fromResolvedProviders(o,this._injector);let a=document.createElement("div");a.id="toastr-node-"+Math.floor(200*Math.random()),document.querySelector("body").appendChild(a);const l=r.create(s,[],a);return this.attachToApplication(l),l}attachToApplication(n){this._applicationRef.attachView(n.hostView)}detachFromApplication(n){this._applicationRef.detachView(n.hostView)}isToastrContainerExist(n){return this.toastrContainers.length>0&&this.toastrContainers.findIndex(r=>r.position===n)>-1}getToastrComponentRef(n){if(this.toastrContainers.length>0){const i=this.toastrContainers.find(r=>r.position===n);return i?i.ref:null}return null}createTimeout(n){let i;return this.ngZone.runOutsideAngular(()=>{i=setTimeout(()=>this.ngZone.run(()=>this.clearToast(n)),n.config.toastTimeout)}),i.toString()}setupToast(n,i){n.id=++this.index,i&&i.hasOwnProperty("toastTimeout")&&(i.dismiss="auto");const r=Object.assign({},this.options,i||{});Object.keys(n.config).forEach(s=>{r.hasOwnProperty(s)&&(n.config[s]=r[s])}),"auto"===n.config.dismiss&&(n.timeoutId=this.createTimeout(n)),n.toastrManager=this;const o=n.config.position;return this.isToastrContainerExist(o)&&this.getToastrComponentRef(o).instance.addToastr(n),n}clearToast(n){const i=n.config.position;this.isToastrContainerExist(i)&&this.getToastrComponentRef(i).instance.removeToastr(n)}clearAllToasts(){this.toastrContainers.length>0&&this.toastrContainers.forEach(n=>{console.log(n);const i=n.ref;n.ref.instance.removeAllToasts(),this.dispose(i)})}dispose(n){if(n){const i=this.toastrContainers.findIndex(r=>r.position===n.instance.position);i>-1&&this.toastrContainers.splice(i,1),this.detachFromApplication(n)}}_onToastClicked(n){this.toastClicked.next(n),"controlled"!==n.config.dismiss&&this.clearToast(n)}dismissToastr(n){this.clearToast(n)}dismissAllToastr(){this.clearAllToasts()}onClickToast(){return this.toastClicked.asObservable()}showToastr(n,i){const r=Object.assign({},this.options,i);return new Promise((o,s)=>{if(!this.isToastrContainerExist(r.position)){let l=this.createToastrComponent(Que,[{provide:fC,useValue:r}]);l.instance.onToastClicked=c=>{this._onToastClicked(c)},l.instance.onExit().subscribe(()=>{this.dispose(l)}),this.toastrContainers.push({position:r.position,ref:l})}o(this.setupToast(n,i))})}errorToastr(n,i,r){const s=new yb("error",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}infoToastr(n,i,r){const s=new yb("info",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}successToastr(n,i,r){const s=new yb("success",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}warningToastr(n,i,r){const s=new yb("warning",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}customToastr(n,i,r){const s=new yb("custom",n,i,r&&r.data?r.data:null);return this.showToastr(s,r),s}}return e.\u0275fac=function(n){return new(n||e)(Et(Ag),Et(m0),Et(ja),Et(Lr),Et(fC))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})(),Zue=(()=>{class e{static forRoot(){return{ngModule:e,providers:[c9,fC]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})();const Dt_backendUrl="https://www.pixtar.ae:5001",Dt_baseUrl="https://build.pixtar.ae/";var Jue=m(4942),d9=m.n(Jue);let ad=(()=>{const t=class{constructor(i){this.http=i,this.getpageWithName=r=>this.http.post(Dt_backendUrl+"/api/home/getpagewithName",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getHomepageWithName=r=>this.http.post(Dt_backendUrl+"/api/home/gethomepagewithName",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getAboutNoticeDetails=r=>this.http.post(Dt_backendUrl+"/api/home/frountAboutNoticeDetails",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getInstagramPosts=r=>this.http.post(Dt_backendUrl+"/api/home/instagram-posts",r).pipe((0,Br.K)(s=>(0,zr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Et(ql))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ehe=(()=>{const t=class{constructor(i,r,o,s){this.router=i,this.pageservice=r,this.metaTagService=o,this.titleService=s,this.get_PageMeta(),this.baseUrl=Dt_baseUrl+"/assets"}ngOnInit(){var r={container:document.getElementById("lottie"),renderer:"svg",loop:!0,autoplay:!0,animationData:{v:"5.9.6",fr:30,ip:0,op:96,w:122,h:119,nm:"hand",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:-34.9,ix:10},p:{a:0,k:[67.1,111.5,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 3 Outlines",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:9.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20.363,s:[-8]},{i:{x:[.65],y:[1.156]},o:{x:[.333],y:[0]},t:30.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:42,s:[-1.8]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:60,s:[-.4]},{t:69,s:[0]}],ix:10},p:{a:0,k:[-2.981,.359,0],ix:2,l:2},a:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[15.024,91.188,0],to:[0,0,0],ti:[0,0,0]},{t:44,s:[15.024,91.188,0]}],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[3.903,-5.533],[3.056,-2.353],[6.543,2.313],[4.228,4.252],[.327,6.566],[-.109,2.842],[-.281,9.016],[.083,2.706],[-1.043,.386],[-.666,-2.038],[-.181,-1.13],[.156,-4.374],[-1.579,-.706],[-1.31,1],[-.442,.663],[-6.815,9.598],[-.455,.427],[-1.272,-1.478],[1.046,-1.327],[4.713,-6.619],[.196,-.327],[-1.1,-.992],[-1.181,.832],[-.345,.518],[-6.936,9.765],[-.29,.345],[-1.763,-.582],[-.03,-1.826],[.764,-.91],[6.934,-9.766],[.241,-.499],[-1.104,-.867],[-1.126,.839],[-.321,.495],[-5.124,7.179],[-.342,.391],[-1.712,-.819],[1.17,-2.201],[.133,-.179],[5.282,-7.492],[-1.55,-1.123],[-1.373,1.933],[-2.975,4.189],[-.217,.273],[-1.064,-.33],[-.164,-.992],[.618,-.721],[4.295,-6.063]],o:[[0,0],[-3.925,5.53],[-2.207,3.163],[-5.419,4.144],[-5.658,-1.985],[-4.757,-4.537],[-.132,-2.83],[.352,-9.013],[.084,-2.7],[-.047,-1.53],[2.052,-.622],[.282,1.109],[.785,4.306],[-.141,1.724],[1.431,.818],[.627,-.491],[6.837,-9.584],[.339,-.524],[1.477,-1.272],[1.103,1.28],[-4.699,6.627],[-.221,.311],[-.761,1.271],[1.062,.978],[.484,-.392],[6.95,-9.758],[.262,-.368],[1.202,-1.415],[1.726,.596],[-.023,1.188],[-6.946,9.76],[-.333,.444],[-.56,1.287],[1.107,.863],[.438,-.395],[5.133,-7.171],[.3,-.423],[1.273,-1.408],[2.2,1.171],[-.105,.197],[-5.348,7.451],[-1.34,1.9],[1.55,1.123],[2.98,-4.187],[.2,-.283],[.669,-.891],[.979,.23],[.17,.934],[-4.32,6.046],[0,0]],v:[[23.152,14.265],[23.152,14.265],[11.387,30.834],[3.446,39.158],[-14.469,42.324],[-29.49,32.847],[-37.41,15.555],[-37.109,7.033],[-36.085,-20.008],[-36.314,-28.124],[-34.842,-30.943],[-29.951,-28.395],[-29.245,-25.033],[-28.298,-11.975],[-25.898,-7.919],[-21.376,-8.219],[-19.764,-9.962],[.715,-38.734],[1.91,-40.165],[6.888,-39.794],[6.986,-35.305],[-7.133,-15.436],[-7.783,-14.492],[-7.199,-10.598],[-3.355,-10.348],[-2.105,-11.721],[18.725,-41.005],[19.531,-42.094],[24.437,-43.471],[27.362,-39.438],[26.146,-36.195],[5.327,-6.906],[4.464,-5.488],[5.387,-1.83],[9.168,-1.788],[10.311,-3.128],[25.697,-24.654],[26.645,-25.895],[31.676,-26.887],[33.542,-20.783],[33.185,-20.219],[17.314,2.245],[17.658,7.111],[22.458,5.811],[31.391,-6.755],[32.008,-7.593],[34.898,-8.527],[36.785,-6.509],[36.077,-3.893],[23.154,14.271]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-2.092,-1],[-5.851,1.244],[-2.89,2.122],[-2.836,4.038],[-8.223,11.534],[1.8,3.179],[2.203,.713],[-.482,.692],[3.481,3.721],[1.699,.527],[.484,.17],[1.139,3.155],[2.122,1.241],[3.015,-1.109],[1.758,-2.785],[.644,.543],[3.548,-4.034],[.13,-.169],[1.792,-2.514],[4.079,-5.747],[0,0],[.082,.492],[.844,3.567],[3.743,.857],[2.2,-2.689],[-.104,-2.042],[.639,-12.849],[-1.281,-4.26],[-5.078,-4.319],[-.195,-.238],[0,0]],o:[[2.036,1.113],[5.3,2.515],[3.508,-.744],[3.984,-2.911],[8.184,-11.562],[2.279,-2.855],[-1.124,-2.024],[.544,-.765],[3.017,-4.106],[-1.184,-1.328],[-.386,-.124],[1.837,-2.807],[-.767,-2.335],[-2.755,-1.652],[-3.194,1.082],[-.671,-.678],[-4.034,-3.548],[-.141,.16],[-1.912,2.423],[-4.089,5.741],[0,0],[-.08,-.81],[-.575,-3.63],[-.905,-3.835],[-3.335,-.972],[-1.354,1.532],[.755,12.89],[-.219,4.4],[1.914,6.386],[.221,.214],[0,0],[0,0]],v:[[-26.227,43.472],[-20.111,46.795],[-3.436,49.195],[6.271,44.847],[16.572,34.353],[41.182,-.292],[41.975,-10.279],[36.799,-14.538],[38.319,-16.68],[37.519,-30.18],[33.112,-33.014],[31.862,-33.451],[32.969,-42.919],[28.486,-48.471],[19.361,-49.329],[12.486,-42.977],[10.62,-44.85],[-3.107,-43.971],[-3.514,-43.477],[-8.939,-35.964],[-21.189,-18.731],[-22.033,-17.546],[-22.214,-19.346],[-24.014,-30.219],[-31.486,-37.094],[-40.613,-34.262],[-42.563,-28.686],[-43.555,9.895],[-42.488,22.887],[-31.775,39.287],[-31.152,39.965],[-26.227,43.465]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[44.024,50.688],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 4 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[4]},{t:17,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.591],y:[1.232]},o:{x:[.333],y:[0]},t:3.182,s:[64.512]},{t:17,s:[78.762]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[-46.004]},{t:17,s:[-45.754]}],ix:4}},a:{a:0,k:[3.602,10.311,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.05,.08],[-.397,.235],[-.245,-.372],[-.243,-2.031],[2.88,-3.875],[.273,0]],o:[[-.461,0],[0,-.17],[6.552,-9.387],[-.235,-.397],[.383,-.227],[1.001,1.784],[.576,4.793],[-.156,.224],[0,0]],v:[[-2.516,10.057],[-3.351,9.221],[-3.201,8.745],[-1.542,-8.689],[-1.249,-9.834],[-.128,-9.576],[1.757,-3.797],[-1.831,9.704],[-2.516,10.061]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.601,10.311],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"Layer 5 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[100]}],ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[0]}],ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.524],y:[1.943]},o:{x:[.333],y:[0]},t:0,s:[63.218]},{t:15,s:[81.718]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-46.437]},{t:15,s:[-45.687]}],ix:4}},a:{a:0,k:[3.592,13.05,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.719,5.523],[1.159,2.111],[-.394,.238],[-.245,-.379],[-.31,-2.601],[4.815,-6.892],[.273,0]],o:[[-.461,0],[0,-.17],[3.6,-5.154],[-.281,-2.392],[-.238,-.395],[.387,-.233],[1.281,2.285],[.55,4.109],[-.156,.224],[0,0]],v:[[-2.507,12.799],[-3.341,11.964],[-3.191,11.486],[1.147,-4.604],[-1.033,-11.421],[-.75,-12.566],[.383,-12.305],[2.792,-4.905],[-1.823,12.439],[-2.508,12.797]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.592,13.05],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 6 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:15.909,s:[3]},{t:28,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.706],y:[1.553]},o:{x:[.333],y:[0]},t:15.909,s:[30.436]},{t:28,s:[24.186]}],ix:3},y:{a:1,k:[{i:{x:[.652],y:[1.489]},o:{x:[.333],y:[0]},t:15.909,s:[-81.209]},{t:28,s:[-93.959]}],ix:4}},a:{a:0,k:[9.646,4.948,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.461],[-.075,.128],[-1.692,1.15],[-4.764,-.772],[.06,-.457],[.457,.06],[3.634,-2.451],[1.022,-1.522],[.295,0]],o:[[-.461,-.001],[0,-.148],[1.123,-1.71],[3.99,-2.716],[.457,.06],[-.06,.457],[-4.324,-.717],[-1.519,1.027],[-.151,.253],[0,0]],v:[[-8.561,4.693],[-9.395,3.855],[-9.279,3.435],[-5.016,-.898],[8.617,-3.926],[9.335,-2.989],[8.398,-2.27],[-3.995,.431],[-7.842,4.29],[-8.561,4.698]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.645,4.948],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"Layer 7 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:13.363,s:[0]},{t:26,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.624],y:[2.994]},o:{x:[.333],y:[0]},t:13.363,s:[30.021]},{t:26,s:[22.771]}],ix:3},y:{a:1,k:[{i:{x:[.624],y:[1.964]},o:{x:[.333],y:[0]},t:13.363,s:[-82.012]},{t:26,s:[-97.012]}],ix:4}},a:{a:0,k:[12.19,6.146,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.295,0],[0,.461],[-.076,.128],[-2.168,1.472],[-8.332,-1.099],[.06,-.457],[.457,.06],[4.573,-3.179],[1.34,-2]],o:[[-.461,-.001],[.001,-.149],[1.439,-2.19],[3.394,-2.379],[.457,.06],[-.06,.457],[-6.231,-.82],[-1.994,1.35],[-.151,.254]],v:[[-11.106,5.895],[-11.94,5.059],[-11.824,4.637],[-6.361,-.91],[11.161,-4.796],[11.88,-3.859],[10.943,-3.14],[-5.339,.413],[-10.387,5.486]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[12.19,6.146],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0}],markers:[]}};d9().loadAnimation(r),this.router.parseUrl(this.router.url).fragment||window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"about-us"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}navigateToLink(i){this.router.navigate(["contact",i])}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Yo),Me(ad),Me(Hl),Me(Gl))},t.\u0275cmp=Mi({type:t,selectors:[["app-about"]],decls:255,vars:5,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-flex","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","align-items-end"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","300"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["id","wedo-section","data-scroll-index","0",1,"wedo-section"],[1,"container-fluid","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xl-10","offset-xl-1"],[1,"we-do"],[1,"col-xxl-12"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head"],["id","services1","data-scroll-nav","0",1,"services"],[1,"container-fluid"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-7","offset-md-1","col-sm-6","order-sm-1","order-2"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content"],[1,"color1"],[1,"points"],[1,"link",3,"click"],[1,"barcelony"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","offset-xl-1","col-md-4","col-sm-6","order-sm-2","order-1"],[1,"img-block"],["alt","",1,"w-100",3,"src"],["id","services2","data-scroll-nav","1",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","col-md-4","col-sm-6"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-6","offset-md-1","col-sm-6"],["id","services3","data-scroll-nav","2",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","offset-xl-1","col-md-6","offset-md-1","col-sm-6","order-sm-1","order-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-4","offset-xl-1","col-md-4","offset-md-1","col-sm-6","order-sm-2","order-1"],["id","services4","data-scroll-nav","3",1,"services"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","offset-xl-1","col-md-7","offset-md-1","col-sm-6"],["id","services5","data-scroll-nav","4",1,"services"],[1,"bg-black"],[1,"col-md-3"],[1,"cap"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p28","head"],[1,"col-md-9"],[1,"col-md-6","col-sm-6"],[1,"list"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p32"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"p-0"],["href","https://www.pixtar.ae/project-details/dnour"],["href","https://www.pixtar.ae/project-details/pakhis"],["href","https://www.pixtar.ae/project-details/autokoorosh"],["href","https://www.pixtar.ae/project-details/vendetta"],["href","https://www.pixtar.ae/project-details/beyou"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),A(9,"We don't do "),M(),x(10,"h1",9),A(11,"We don't"),M(),ce(12,"div",10),M(),x(13,"h1",11),A(14,"do one"),M(),x(15,"h1",12),A(16," size fits all"),M(),x(17,"h1",13),A(18,"one size fits all"),M(),x(19,"p",14),A(20,"Our services are tailored to the needs of your brand."),M()()(),x(21,"p",15),A(22," We do it real "),M()()()()()(),x(23,"section",16)(24,"div",17)(25,"div",2)(26,"div",18)(27,"div",19)(28,"div",2)(29,"div",20)(30,"p",21),A(31," We do it real "),M()()()()()()()(),x(32,"section",22)(33,"div",23)(34,"div",2)(35,"div",18)(36,"div",2)(37,"div",24)(38,"div",25)(39,"h1")(40,"span",26),A(41,"Branding"),M(),A(42," that lets you in & gets you an ear"),M(),x(43,"div",27)(44,"p"),A(45,"Research | Strategy | Design"),M(),x(46,"p"),A(47,"Identity | Brandbook & more\u2026"),M()(),x(48,"p",28),rt("click",function(){return o.navigateToLink("branding")}),A(49,"Let us "),x(50,"span",29),A(51,"listen"),M(),A(52," to your story"),M()()(),x(53,"div",30)(54,"div",31),ce(55,"img",32),M()()()()()()(),x(56,"section",33)(57,"div",23)(58,"div",2)(59,"div",18)(60,"div",2)(61,"div",34)(62,"div",31),ce(63,"img",32),M()(),x(64,"div",35)(65,"div",25)(66,"h1")(67,"span",26),A(68,"Website"),M(),A(69," that tells your story which connects"),M(),x(70,"div",27)(71,"p"),A(72,"Static | Dynamic"),M(),x(73,"p"),A(74,"Ui/Ux & more\u2026"),M()(),x(75,"p",28),rt("click",function(){return o.navigateToLink("website")}),A(76,"Let's "),x(77,"span",29),A(78,"tell"),M(),A(79," your story"),M()()()()()()()(),x(80,"section",36)(81,"div",23)(82,"div",2)(83,"div",18)(84,"div",2)(85,"div",37)(86,"div",25)(87,"h1")(88,"span",26),A(89,"eCommerce"),M(),A(90," that helps you sell "),M(),x(91,"div",27)(92,"p"),A(93,"Magento 2++ Website Development"),M(),x(94,"p"),A(95,"Customised eCommerce Solutions"),M(),x(96,"p"),A(97,"Payment Gateway Integration"),M(),x(98,"p"),A(99,"& more\u2026"),M()(),x(100,"p",28),rt("click",function(){return o.navigateToLink("eCommerce")}),A(101,"Let us "),x(102,"span",29),A(103,"help you"),M(),A(104," sell"),M()()(),x(105,"div",38)(106,"div",31),ce(107,"img",32),M()()()()()()(),x(108,"section",39)(109,"div",23)(110,"div",2)(111,"div",18)(112,"div",2)(113,"div",34)(114,"div",31),ce(115,"img",32),M()(),x(116,"div",40)(117,"div",25)(118,"h1")(119,"span",26),A(120,"Enterprise Solutions"),M(),A(121," that automates your process"),M(),x(122,"div",27)(123,"p"),A(124,"Web Based Apps"),M(),x(125,"p"),A(126,"eCom Management Solutions"),M(),x(127,"p"),A(128,"Business Management Solutions"),M(),x(129,"p"),A(130,"& more\u2026"),M()(),x(131,"p",28),rt("click",function(){return o.navigateToLink("enterprice")}),A(132,"Let's "),x(133,"span",29),A(134,"automate"),M(),A(135," it"),M()()()()()()()(),x(136,"section",41)(137,"div",23)(138,"div",2)(139,"div",18)(140,"div",2)(141,"div",37)(142,"div",25)(143,"h1")(144,"span",26),A(145,"SEO"),M(),A(146," solution that spreads the word"),M(),x(147,"div",27)(148,"p"),A(149,"Organic SEO | Site Mapping"),M(),x(150,"p"),A(151,"Google Ads | Social Media Integration"),M(),x(152,"p"),A(153,"& more\u2026"),M()(),x(154,"p",28),rt("click",function(){return o.navigateToLink("seo")}),A(155,"Let us "),x(156,"span",29),A(157,"spread"),M(),A(158," your word"),M()()(),x(159,"div",38)(160,"div",31),ce(161,"img",32),M()()()()()()(),x(162,"section",42)(163,"div",23)(164,"div",2)(165,"div",18)(166,"div",2)(167,"div",43)(168,"div",44)(169,"p",45),A(170," Capabilities "),M()()(),x(171,"div",46)(172,"div",2)(173,"div",47)(174,"div",48)(175,"p",49),A(176," Strategy "),M(),x(177,"ul",50)(178,"li")(179,"a",51),A(180,"Research"),M()(),x(181,"li")(182,"a",52),A(183,"UI/UX audit "),M()(),x(184,"li")(185,"a",53),A(186,"Stakeholder workshops"),M()(),x(187,"li")(188,"a",51),A(189,"Product strategy"),M()(),x(190,"li")(191,"a",51),A(192,"Innovation consulting"),M()()()()(),x(193,"div",47)(194,"div",48)(195,"p",49),A(196,"Design"),M(),x(197,"ul",50)(198,"li")(199,"a",54),A(200,"UI/UX design"),M()(),x(201,"li")(202,"a",51),A(203,"Brand identity "),M()(),x(204,"li")(205,"a",55),A(206,"Websites and mobile apps"),M()(),x(207,"li")(208,"a",52),A(209,"Visual design"),M()(),x(210,"li")(211,"a",52),A(212,"Prototyping and testing"),M()()()()()(),x(213,"div",2)(214,"div",47)(215,"div",48)(216,"p",49),A(217,"Development"),M(),x(218,"ul",50)(219,"li")(220,"a",54),A(221,"HTML/CSS/JS"),M()(),x(222,"li")(223,"a",52),A(224,"React/Angular "),M()(),x(225,"li")(226,"a",51),A(227,"Backend/API integrations"),M()(),x(228,"li")(229,"a",51),A(230,"Magento 2++"),M()(),x(231,"li")(232,"a",51),A(233,"Web based apps"),M()()()()(),x(234,"div",47)(235,"div",48)(236,"p",49),A(237,"Content"),M(),x(238,"ul",50)(239,"li")(240,"a",51),A(241,"Copywriting"),M()(),x(242,"li")(243,"a",51),A(244,"Video "),M()(),x(245,"li")(246,"a",51),A(247,"Animation"),M()(),x(248,"li")(249,"a",51),A(250,"Iconography"),M()(),x(251,"li")(252,"a",51),A(253,"2D graphics"),M()()()()()()()()()()()(),ce(254,"div",56)),2&r&&(se(55),Ee("src","",o.baseUrl,"/img/services/branding.jpg",Ce),se(8),Ee("src","",o.baseUrl,"/img/services/dnour-website.jpg",Ce),se(44),Ee("src","",o.baseUrl,"/img/services/ecommerce.jpg",Ce),se(8),Ee("src","",o.baseUrl,"/img/services/enterprises.jpg",Ce),se(46),Ee("src","",o.baseUrl,"/img/services/seo.jpg",Ce))},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})();var Ci=m(8259);let u9=(()=>{const t=class{constructor(i){this.http=i,this.getBusinesscardDetails=r=>this.http.post(Dt_backendUrl+"/api/businesscard/allbusinesscard",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getBusinesscardDetailsByID=r=>this.http.post(Dt_backendUrl+"/api/businesscard/getBusinesscardWithId",r).pipe((0,Br.K)(s=>(0,zr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Et(ql))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const the=function(e){return["view",e]};function nhe(e,t){if(1&e&&(x(0,"div",6)(1,"div",7),ce(2,"img",8),x(3,"div",9)(4,"h5",10),A(5),M(),ce(6,"p",11),x(7,"a",12),A(8,"View Vcard"),M()()()()),2&e){const n=t.$implicit,i=nt();se(2),jl("src","",i.imagepath,"",n.profile_photo,"",Ce),se(3),Fx("",n.firstName," ",n.lastName,""),se(2),We("routerLink",pa(5,the,n._id))}}let ihe=(()=>{const t=class{constructor(i,r,o,s){this.businesscardService=i,this.pageservice=r,this.metaTagService=o,this.titleService=s,this.businesscards=[],this.imagepath=Dt_backendUrl+"/public/",this.get_PageMeta(),this.get_all_projects()}ngOnInit(){Ci("nav").removeClass("d-none"),Ci("footer").removeClass("d-none")}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_all_projects(){this.businesscardService.getBusinesscardDetails({}).subscribe(r=>{200==r.code&&(this.businesscards=r.result)})}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(u9),Me(ad),Me(Hl),Me(Gl))},t.\u0275cmp=Mi({type:t,selectors:[["app-businesscard"]],decls:7,vars:1,consts:[["id","header",1,"jumbotron","text-center"],[1,"display-3"],["id","gallery"],[1,"container"],[1,"row"],["class","col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-4","mb-4"],[1,"card"],["alt","",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-dark",3,"routerLink"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"h2",1),A(2,"Business Cards"),M()(),x(3,"section",2)(4,"div",3)(5,"div",4),tt(6,nhe,9,7,"div",5),M()()()),2&r&&(se(6),We("ngForOf",o.businesscards))},dependencies:[Qs,sd],styles:[".contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#878787;border:none;border-radius:0;border-bottom:1px solid #DDDDDD}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#878787;border:none;border-radius:0;border-bottom:1px solid #DDDDDD}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#878787}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{width:100%}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px 0 0}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px 20px;text-decoration:none;border:1px solid #707070;color:#878787;border-radius:30px}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777;background:#1d1d1f}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777;background:#1d1d1f}@media (max-width: 1199px){.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:4px 10px}}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #DA9777;padding:5px 30px;border-radius:30px;font-weight:600}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#DA9777;color:#fff}.contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#DA9777;color:#fff}.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}@media (max-width: 991px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:106px;font-weight:800;color:#000}@media (max-width: 1199px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}.contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:530px;font-size:22px;font-weight:500}@media (max-width: 1199px){.contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:100%}}"]}),e})(),rhe=(()=>{const t=class{constructor(){this.baseURl=Dt_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-godly"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","godly business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971566093025"],["alt","",3,"src"],[1,"col-10"],["href","tel:+971566093025"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:godly@epictravel.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","https://www.epictravel.ae","target","_blank"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/godly-babukutty-11566847/","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://www.instagram.com/godly_babukutty/","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),A(11,"Godly Babukutty"),M(),x(12,"p",2),A(13,"Managing Director at Epic Travel"),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),M()(),x(21,"div",17)(22,"a",18)(23,"span"),A(24,"+971 56 609 3025"),M()()()(),x(25,"div",19)(26,"div",20)(27,"a",21),ce(28,"img",16),M()(),x(29,"div",17)(30,"a",21)(31,"span"),A(32,"godly@epictravel.ae"),M()()()()()()(),x(33,"div",22)(34,"div",23)(35,"a",24),A(36,"Save Contact"),M(),x(37,"p")(38,"a",25),ce(39,"img",26),M()(),x(40,"p")(41,"a",27),ce(42,"img",28),M()(),x(43,"p")(44,"a",29),ce(45,"img",30),M()()()()()()()()()()()),2&r&&(se(6),Ee("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ce),se(1),Ee("src","",o.baseURl,"/images/godly.jpeg",Ce),se(13),Ee("src","",o.baseURl,"/images/phone.svg",Ce),se(8),Ee("src","",o.baseURl,"/images/email.svg",Ce),se(7),Ee("href","",o.baseURl,"godly.vcf",Ce),se(4),Ee("src","",o.baseURl,"/images/website.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/linkedin.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/instagram.svg",Ce))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),ohe=(()=>{const t=class{constructor(){this.baseURl=Dt_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-israel"]],decls:43,vars:7,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar logo",1,"card-logo",3,"src"],["alt","israel business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:+31657528147"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:israelomidosu@dnour.com","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","https://dnour.com/","target","_blank"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/israelomidosu/","target","_blank"],["alt","linkedin","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),A(11,"Israel Omidosu"),M(),x(12,"p",2),A(13,"Head of Brand Strategy"),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),M()(),x(21,"div",17)(22,"a",15)(23,"span"),A(24,"+31 6575 28147"),M()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),ce(28,"img",16),M()(),x(29,"div",17)(30,"a",20)(31,"span"),A(32,"israelomidosu@dnour.com"),M()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),A(36,"Save Contact"),M(),x(37,"p")(38,"a",24),ce(39,"img",25),M()(),x(40,"p")(41,"a",26),ce(42,"img",27),M()()()()()()()()()()()),2&r&&(se(6),Ee("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ce),se(1),Ee("src","",o.baseURl,"/images/israel.jpg",Ce),se(13),Ee("src","",o.baseURl,"/images/phone.svg",Ce),se(8),Ee("src","",o.baseURl,"/images/email.svg",Ce),se(7),Ee("href","",o.baseURl,"io.vcf",Ce),se(4),Ee("src","",o.baseURl,"/images/website.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/linkedin.svg",Ce))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),she=(()=>{const t=class{constructor(){this.baseURl=Dt_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-junaid-shaikh"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","junaid business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971529997111"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:junaid@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/junaid-nour-56515493","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/junaidnour?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),A(11,"Junaid Shaikh"),M(),x(12,"p",2),A(13,"Co-founder & Brand Director "),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),M()(),x(21,"div",17)(22,"a",15)(23,"span"),A(24,"+971 52 999 7111"),M()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),ce(28,"img",16),M()(),x(29,"div",17)(30,"a",20)(31,"span"),A(32,"junaid@pixtar.ae"),M()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),A(36,"Save Contact"),M(),x(37,"p")(38,"a",24),ce(39,"img",25),M()(),x(40,"p")(41,"a",26),ce(42,"img",27),M()(),x(43,"p")(44,"a",28),ce(45,"img",29),M()()()()()()()()()()()),2&r&&(se(6),Ee("src","",o.baseURl,"images/pixtar-white-logo.svg",Ce),se(1),Ee("src","",o.baseURl,"images/junaid.jpg",Ce),se(13),Ee("src","",o.baseURl,"images/phone.svg",Ce),se(8),Ee("src","",o.baseURl,"images/email.svg",Ce),se(7),Ee("href","",o.baseURl,"junaid-shaikh.vcf",Ce),se(4),Ee("src","",o.baseURl,"images/website.svg",Ce),se(3),Ee("src","",o.baseURl,"images/linkedin.svg",Ce),se(3),Ee("src","",o.baseURl,"images/instagram.svg",Ce))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),ahe=(()=>{const t=class{constructor(){this.baseURl=Dt_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-nawaz"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","kbn business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],["href","tel:971527930781"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["href","mailto:kbn@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),A(11,"KBN"),M(),x(12,"p",2),A(13,"Co-Founder & Creative Director"),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),M()(),x(21,"div",17)(22,"a",15)(23,"span"),A(24,"+971 52 793 0781"),M()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),ce(28,"img",16),M()(),x(29,"div",17)(30,"a",20)(31,"span"),A(32,"kbn@pixtar.ae"),M()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),A(36,"Save Contact"),M(),x(37,"p")(38,"a",24),ce(39,"img",25),M()(),x(40,"p")(41,"a",26),ce(42,"img",27),M()(),x(43,"p")(44,"a",28),ce(45,"img",29),M()()()()()()()()()()()),2&r&&(se(6),Ee("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ce),se(1),Ee("src","",o.baseURl,"/images/kbn.jpg",Ce),se(13),Ee("src","",o.baseURl,"/images/phone.svg",Ce),se(8),Ee("src","",o.baseURl,"/images/email.svg",Ce),se(7),Ee("href","",o.baseURl,"kbn.vcf",Ce),se(4),Ee("src","",o.baseURl,"/images/website.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/linkedin.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/instagram.svg",Ce))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 414px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important;min-height:-webkit-fill-available}}@media (max-width: 393px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:89vh!important;min-height:-webkit-fill-available}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:100%!important;min-height:-webkit-fill-available}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}"]}),e})(),lhe=(()=>{const t=class{constructor(){this.baseURl=Dt_baseUrl+"/assets/"}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-nawaz2"]],decls:46,vars:8,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","kbn business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-md-center","justify-content-sm-center","justify-content-start"],[1,"profile-name","text-center"],[1,"account-block"],[1,"content1"],[1,"content2"],[1,"mb-2","d-flex"],[1,"text-center","ph","me-sm-2","me-2"],["href","tel:971527930781"],["alt","",3,"src"],[1,"d-flex"],[1,"text-center","em","me-sm-2","me-2"],["href","mailto:kbn@pixtar.ae","target","_blank"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","/"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),A(11,"KBN"),M(),x(12,"p",2),A(13,"Co-Founder & Creative Director"),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),M()(),x(21,"div",2)(22,"a",15)(23,"span"),A(24,"+971 52 793 0781"),M()()()(),x(25,"div",17)(26,"div",18)(27,"a",19),ce(28,"img",16),M()(),x(29,"div",2)(30,"a",19)(31,"span"),A(32,"kbn@pixtar.ae"),M()()()()()()(),x(33,"div",20)(34,"div",21)(35,"a",22),A(36,"Save Contact"),M(),x(37,"p")(38,"a",23),ce(39,"img",24),M()(),x(40,"p")(41,"a",25),ce(42,"img",26),M()(),x(43,"p")(44,"a",27),ce(45,"img",28),M()()()()()()()()()()()),2&r&&(se(6),Ee("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ce),se(1),Ee("src","",o.baseURl,"/images/kbn.jpg",Ce),se(13),Ee("src","",o.baseURl,"/images/phone.svg",Ce),se(8),Ee("src","",o.baseURl,"/images/email.svg",Ce),se(7),Ee("href","",o.baseURl,"kbn.vcf",Ce),se(4),Ee("src","",o.baseURl,"/images/website.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/linkedin.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/instagram.svg",Ce))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif;background:rgba(128,128,128,.2901960784)}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow-x:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px;margin-bottom:0}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none!important;width:100%;min-height:100vh;height:100%;border-radius:0;overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{margin-top:-60px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:20px 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:15px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px;margin-top:0}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .content1[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:0 12px;justify-content:center;align-items:center}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:20px 0 15px}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:20px 0}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]{background:#fff}}@media (orientation: landscape) and (max-width: 991px){.vh-100[_ngcontent-%COMP%]{height:100%!important}section.card-section[_ngcontent-%COMP%]{overflow-y:scroll!important}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:30px 0}}@media (orientation: landscape) and (max-width: 991px) and (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}}"]}),e})(),che=(()=>{const t=class{constructor(i,r,o,s,a){this.businesscardService=i,this.router=r,this.route=o,this.element=s,this.location=a,this.id=this.route.snapshot.paramMap.get("id"),this.imagepath=Dt_backendUrl+"/public/",this.vCardpath=Dt_backendUrl+"/public/vcards/",this.baseURl=Dt_baseUrl+"/assets/",this.id&&this.getBusinesscard(this.id)}ngOnInit(){var i=this.location.path();"view"==(i=i.split("/")[2])&&(Ci("nav").addClass("d-none"),Ci("footer").addClass("d-none"))}getBusinesscard(i){this.businesscardService.getBusinesscardDetailsByID({id:i}).subscribe(o=>{200==o.code&&(this.businesscard=o.result)})}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(u9),Me(Yo),Me(Yl),Me($r),Me(Xp))},t.\u0275cmp=Mi({type:t,selectors:[["app-view"]],decls:46,vars:19,consts:[[1,"card-section"],[1,"container","p-0"],[1,""],[1,"col-xxl-4","col-lg-5","col-md-6","col-sm-8","col-12","p-0","m-auto"],[1,"d-flex","align-items-center","justify-content-center","vh-100","coverflow-hidden"],[1,"card"],["alt","pixtar",1,"card-logo",3,"src"],["alt","junaid business image",1,"card-img-top",3,"src"],[1,"card-body","d-flex","flex-column","justify-content-center"],[1,"profile-name","text-center"],[1,"account-block"],[1,"row","justify-content-center"],[1,"col-sm-10","0ffset-2","col-8","offset-2"],[1,"row","mb-2"],[1,"col-2","p-0","text-center","ph"],[3,"href"],["alt","",3,"src"],[1,"col-10"],[1,"row"],[1,"col-2","p-0","text-center","em"],["target","_blank",3,"href"],[1,"social-links"],[1,"d-flex","flex-row","justify-content-center","contact"],[1,"contact-btn",3,"href"],["href","#"],["alt","weblink","width","35",3,"src"],["href","https://www.linkedin.com/in/kbnab","target","_blank"],["alt","linkedin","width","35",3,"src"],["href","https://instagram.com/imkbn?igshid=YmMyMTA2M2Y=","target","_blank"],["alt","instagram","width","35",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ce(6,"img",6)(7,"img",7),x(8,"div",8)(9,"div",9)(10,"h4"),A(11),M(),x(12,"p",2),A(13),M()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"a",15),ce(20,"img",16),M()(),x(21,"div",17)(22,"a",15)(23,"span"),A(24),M()()()(),x(25,"div",18)(26,"div",19)(27,"a",20),ce(28,"img",16),M()(),x(29,"div",17)(30,"a",20)(31,"span"),A(32),M()()()()()()(),x(33,"div",21)(34,"div",22)(35,"a",23),A(36,"Save Contact"),M(),x(37,"p")(38,"a",24),ce(39,"img",25),M()(),x(40,"p")(41,"a",26),ce(42,"img",27),M()(),x(43,"p")(44,"a",28),ce(45,"img",29),M()()()()()()()()()()()),2&r&&(se(6),Ee("src","",o.baseURl,"/images/pixtar-white-logo.svg",Ce),se(1),jl("src","",o.imagepath,"",o.businesscard.profile_photo,"",Ce),se(4),Fx("",o.businesscard.firstName," ",o.businesscard.lastName,""),se(2),$s(o.businesscard.title),se(6),Ee("href","tel:",o.businesscard.cellPhone,"",Ce),se(1),Ee("src","",o.baseURl,"/images/phone.svg",Ce),se(2),Ee("href","tel:",o.businesscard.cellPhone,"",Ce),se(2),$s(o.businesscard.cellPhone),se(3),Ee("href","mailto:",o.businesscard.email,"",Ce),se(1),Ee("src","",o.baseURl,"/images/email.svg",Ce),se(2),Ee("href","mailto:",o.businesscard.email,"",Ce),se(2),$s(o.businesscard.email),se(3),jl("href","",o.vCardpath,"",o.businesscard.firstName,".vcf",Ce),se(4),Ee("src","",o.baseURl,"/images/website.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/linkedin.svg",Ce),se(3),Ee("src","",o.baseURl,"/images/instagram.svg",Ce))},styles:["section.card-section[_ngcontent-%COMP%]{padding-bottom:0!important;font-family:Montserrat,sans-serif}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:91vh!important}}@media (max-width: 380px){section.card-section[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:98vh!important}}section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 576px){section.card-section[_ngcontent-%COMP%]   .coverflow-hidden[_ngcontent-%COMP%]{overflow:hidden}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:27rem;border:none;border-radius:30px;padding:12px}@media (max-width: 1366px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:19rem}}@media (max-width: 1024px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0;box-shadow:none;width:100%}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:25px 25px 0 0}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{border-radius:0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img.card-logo[_ngcontent-%COMP%]{width:28px;position:absolute;top:2rem;left:2rem}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;background:#fff;border-radius:25px;margin-top:-40px;height:250px}@media (max-width: 575px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:25px 25px 0 0;margin-top:-65px;height:250px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin:8px 0}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat,sans-serif;font-weight:700;font-size:20px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .ph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   .em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:39px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#000}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px;color:#000;font-weight:700;line-height:2.5}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .account-block[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:24px 0}@media (max-width: 480px){section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:15px 0 20px}}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin:0 0 0 10px}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background:#1d1d1f;color:#fff;padding:7px 12px;font-size:14px;border-radius:30px;font-weight:600;border:none}section.card-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 6px 10px -4px #00000026;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}",".navbar[_ngcontent-%COMP%]{\n  display: none !important;\n}\nfooter[_ngcontent-%COMP%]{\n  display: none !important;\n}"]}),e})(),dhe=(()=>{const t=class{constructor(i){this.http=i,this.addContact=r=>this.http.post(Dt_backendUrl+"/api/home/contactadd",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Et(ql))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function uhe(e,t){1&e&&(x(0,"div",36)(1,"div"),A(2," Name is required. "),M()())}function hhe(e,t){if(1&e&&(x(0,"div",36)(1,"div"),A(2),M()()),2&e){const n=nt();se(2),ro(" ",n.hasEmailError("email","required")," ")}}function phe(e,t){1&e&&(x(0,"div",36)(1,"div"),A(2," Phone Number is required. "),M()())}function fhe(e,t){1&e&&(x(0,"div",36)(1,"div"),A(2," Comments is required. "),M()())}let h9=(()=>{const t=class{constructor(i,r,o,s,a,l,c){this.contactservice=i,this.toastr=r,this.route=o,this.formBuilder=s,this.pageservice=a,this.metaTagService=l,this.titleService=c,this.title="Contact Us",this.model={name:null,email:null,message:null,phone:null,subject:[]},this.submitted=!1,this.error={},this.selectedSubj=[],this.isWebsitesel=!1,this.isBrandingsel=!1,this.isSeosel=!1,this.isEnterpricesel=!1,this.isEcommerce=!1,this.msg_success=!1,this.msg_danger=!1,this.subject=[],this.url="https://calendly.com/pixtar/121",this.hasError=(u,d)=>this.addCareerForm.controls[u].hasError(d),this.hasEmailError=(u,d)=>""==this.addCareerForm.controls.email.value?"Email is required":"INVALID"==this.addCareerForm.controls.email.status?"Invalid Email":this.addCareerForm.controls.email.hasError(d),this.get_PageMeta(),this.baseUrl=Dt_baseUrl+"/assets",this.selectedSub=this.route.snapshot.paramMap.get("id"),this.addCareerForm=this.formBuilder.group({name:["",Wl.required],email:["",[Wl.required,Wl.email,Wl.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],message:["",Wl.required],phone:["",Wl.required]})}ngOnInit(){window.Calendly.initInlineWidget({url:this.url,parentElement:document.querySelector(".calendly-inline-widget"),prefill:{}}),window.scroll({top:0,left:0,behavior:"smooth"}),$("nav").removeClass("d-none"),$("footer").removeClass("d-none"),"branding"==this.selectedSub?(this.isBrandingsel=!0,$("#branding").addClass("active")):"website"==this.selectedSub?($("#website").addClass("active"),this.isWebsitesel=!0):"eCommerce"==this.selectedSub?($("#eCommerce").addClass("active"),this.isEcommerce=!0):"enterprice"==this.selectedSub?($("#enterprise").addClass("active"),this.isEnterpricesel=!0):"seo"==this.selectedSub&&($("#seo").addClass("active"),this.isSeosel=!0)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"contact-us"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}onSubmit(){this.submitted=!0;let i=this.addCareerForm.value;return!this.addCareerForm.invalid&&(this.isBrandingsel&&this.subject.push("Branding"),this.isWebsitesel&&this.subject.push("Website"),this.isEnterpricesel&&this.subject.push("Enterprise Solution"),this.isEcommerce&&this.subject.push("eCommerce"),this.isSeosel&&this.subject.push("SEO"),i.subject=this.subject,this.subject.length<1?(this.toastr.errorToastr("Please Select any one from subjects"),!1):this.contactservice.addContact(i).subscribe(r=>{r&&200==r.body.code?(this.submitted=!0,this.toastr.successToastr(r.body.message),setInterval(()=>{window.location.reload()},2e3)):this.toastr.errorToastr("Error")},r=>this.error=r))}selectSub(i){"website"==i?$("#website").hasClass("active")?($("#website").removeClass("active"),this.isWebsitesel=!1):($("#website").addClass("active"),this.isWebsitesel=!0):"branding"==i?$("#branding").hasClass("active")?($("#branding").removeClass("active"),this.isBrandingsel=!1):($("#branding").addClass("active"),this.isBrandingsel=!0):"eCommerce"==i?$("#eCommerce").hasClass("active")?($("#eCommerce").removeClass("active"),this.isEnterpricesel=!1):($("#eCommerce").addClass("active"),this.isEnterpricesel=!0):"enterprise"==i?$("#enterprise").hasClass("active")?($("#enterprise").removeClass("active"),this.isEnterpricesel=!1):($("#enterprise").addClass("active"),this.isEnterpricesel=!0):"seo"==i&&($("#seo").hasClass("active")?($("#seo").removeClass("active"),this.isSeosel=!1):($("#seo").addClass("active"),this.isSeosel=!0))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(dhe),Me(c9),Me(Yl),Me(Vg),Me(ad),Me(Hl),Me(Gl))},t.\u0275cmp=Mi({type:t,selectors:[["app-contact"]],decls:65,vars:6,consts:[[1,"pb-0","contactsection"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"container"],[1,"row"],[1,"col-md-6"],[1,"contact-content","h-100"],[1,""],[1,"describe"],["href","p/kbn","target","_blank",1,""],["alt","",3,"src"],[1,"short-desc"],[1,"contact-form"],[1,"form"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],["method","post",1,"php-email-form","w-100",3,"formGroup","ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["for","floatingInput",1,"mt-0"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","tel","name","phone","autocomplete","off","formControlName","phone","id","floatingInput","placeholder","phone",1,"form-control"],[1,"detail","w-100","d-none","d-sm-block","mt-4"],[1,"d-flex","flex-row","justify-content-space-between","align-items-center","flex-wrap","pl-0","mb-0"],["type","button","id","branding","value","Branding",1,"button",3,"click"],["type","button","id","website","value","Website",1,"button",3,"click"],["type","button","id","eCommerce","value","eCommerce",1,"button",3,"click"],["type","button","id","enterprise","value","Enterprise Solution",1,"button",3,"click"],["type","button","id","seo","value","SEO",1,"button",3,"click"],[1,"form-floating"],["name","message","autocomplete","off","formControlName","message","id","floatingTextarea","placeholder","message","required","",1,"form-control"],[1,"detail","w-100","d-block","d-sm-none","mt-4"],[1,"d-flex","flex-row","justify-content-space-between","align-items-center","justify-content-center","flex-wrap","pl-0","mb-0"],[1,"w-100","w-100","text-center","text-sm-start"],["type","submit","name","submit","value","Send",1,"float-none","float-sm-end","float-md-end","float-lg-end","float-xl-end","float-xxl-end","mt-5","submit"],[1,"candely"],["data-url","https://calendly.com/kbn",1,"calendly-inline-widget",2,"min-width","320px","height","630px"],[1,"error"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),ce(8,"img",8),M()(),x(9,"p",9),A(10,"Describe your project and leave us your contact info, we\u2019ll get back to you ASAP."),M()()()(),x(11,"div",3)(12,"div",10)(13,"div",11)(14,"div",12)(15,"form",13,14),rt("ngSubmit",function(){return o.onSubmit()}),x(17,"div",15),ce(18,"input",16),x(19,"label",17),A(20,"What's your name?"),M(),tt(21,uhe,3,0,"div",18),M(),x(22,"div",15),ce(23,"input",19),x(24,"label",17),A(25,"What\u2019s your e-mail?"),M(),tt(26,hhe,3,1,"div",18),M(),x(27,"div",15),ce(28,"input",20),x(29,"label",17),A(30,"What's your phone number?"),M(),tt(31,phe,3,0,"div",18),M(),x(32,"div",21)(33,"ul",22)(34,"li")(35,"input",23),rt("click",function(){return o.selectSub("branding")}),M()(),x(36,"li")(37,"input",24),rt("click",function(){return o.selectSub("website")}),M()(),x(38,"li")(39,"input",25),rt("click",function(){return o.selectSub("eCommerce")}),M()(),x(40,"li")(41,"input",26),rt("click",function(){return o.selectSub("enterprise")}),M()(),x(42,"li")(43,"input",27),rt("click",function(){return o.selectSub("seo")}),M()()()(),x(44,"div",28),ce(45,"textarea",29),x(46,"label",17),A(47,"Tell us about your project :)"),M(),tt(48,fhe,3,0,"div",18),M(),x(49,"div",30)(50,"ul",31)(51,"li")(52,"input",23),rt("click",function(){return o.selectSub("branding")}),M()(),x(53,"li")(54,"input",24),rt("click",function(){return o.selectSub("website")}),M()(),x(55,"li")(56,"input",25),rt("click",function(){return o.selectSub("eCommerce")}),M()(),x(57,"li")(58,"input",26),rt("click",function(){return o.selectSub("enterprise")}),M()(),x(59,"li")(60,"input",27),rt("click",function(){return o.selectSub("seo")}),M()()()(),x(61,"div",32),ce(62,"input",33),M()()()()()()()()(),x(63,"section",34),ce(64,"div",35),M()),2&r&&(se(8),Ee("src","",o.baseUrl,"/img/logos/qr-code-call-pixtar.svg",Ce),se(7),We("formGroup",o.addCareerForm),se(6),We("ngIf",o.submitted&&o.hasError("name","required")),se(5),We("ngIf",o.submitted&&o.hasEmailError("email","required")),se(5),We("ngIf",o.submitted&&o.hasError("phone","required")),se(17),We("ngIf",o.submitted&&o.hasError("message","required")))},dependencies:[fa,H0,Zp,z0,U0,rf,nf,Ug],styles:[".contactsection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:160px}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;margin-top:60px}}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]{margin:0 50px}}@media (max-width: 380px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]{margin:0 30px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#878787}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{width:100%}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px 10px 0;position:relative;z-index:1}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:3px 16px;text-decoration:none;border:1px solid #707070;color:#878787;border-radius:30px;font-weight:600}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:4px 10px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .button.active[_ngcontent-%COMP%]{color:#da9777;background:#1d1d1f}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:8px 50px;font-size:16px}}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:disabled{opacity:.3}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   li.opacity-0.position-absolute[_ngcontent-%COMP%]{z-index:0}.contactsection[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#f33}@media (max-width: 1366px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]{display:flex;align-items:center}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]{margin-top:50px;text-align:center}}.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;margin-bottom:80px}@media (max-width: 1366px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:50px;height:150px}}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:140px}}@media (max-width: 991px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;margin-bottom:40px}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]{text-align:center}}.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:530px;font-size:22px;font-weight:500}@media (max-width: 1199px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 575px){.contactsection[_ngcontent-%COMP%]   .contact-content[_ngcontent-%COMP%]   .short-desc[_ngcontent-%COMP%]{font-size:16px}}.form-control[_ngcontent-%COMP%], .input-group-addon[_ngcontent-%COMP%], .tagsinput[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%], .carousel-control.right[_ngcontent-%COMP%], .carousel-control.left[_ngcontent-%COMP%]{transition:all .4s linear}"]}),e})();function ghe(e,t){1&e&&ce(0,"img",98),2&e&&We("src",nt(2).$implicit.url,Ce)}function mhe(e,t){1&e&&tt(0,ghe,1,1,"ng-template",97),2&e&&We("id",nt().$implicit.id)}function vhe(e,t){if(1&e&&(es(0),tt(1,mhe,1,1,null,96),ts()),2&e){const n=t.$implicit;se(1),We("ngIf",n.id<=3)}}function yhe(e,t){1&e&&ce(0,"img",98),2&e&&We("src",nt(2).$implicit.url,Ce)}function bhe(e,t){1&e&&tt(0,yhe,1,1,"ng-template",97),2&e&&We("id",nt().$implicit.id)}function _he(e,t){if(1&e&&(es(0),tt(1,bhe,1,1,null,96),ts()),2&e){const n=t.$implicit;se(1),We("ngIf",n.id>=4&&n.id<=6)}}function xhe(e,t){1&e&&ce(0,"img",98),2&e&&We("src",nt(2).$implicit.url,Ce)}function whe(e,t){1&e&&tt(0,xhe,1,1,"ng-template",97),2&e&&We("id",nt().$implicit.id)}function Che(e,t){if(1&e&&(es(0),tt(1,whe,1,1,null,96),ts()),2&e){const n=t.$implicit;se(1),We("ngIf",n.id>=7&&n.id<=9)}}let Mhe=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Dt_baseUrl+"/assets",this.Url=Dt_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-dnour"]],decls:219,vars:32,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","http://www.dnour.com","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","250",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","300",1,"mt-0"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-black","about-project"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"content"],[1,"text-white"],[1,"mb-0","text-white"],["id","branding","data-scroll-nav","3",1,"bg-black","branding"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"text-white","heading"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","4",1,"bg-black","story"],[1,"row","mb-4"],[1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content"],[1,"text-white","heading","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12"],[1,"video","text-center"],["id","myVideo","width","954","height","480","controls","controls","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"customvideo","w-100","h-auto"],["src","https://dnour.com/pub/media/wysiwyg/about/the-brand-story-D'NOUR-DUBAI.mp4","type","video/mp4"],["src","https://dnour.com/pub/media/wysiwyg/about/the-brand-story-D'NOUR-DUBAI.ogg","type","video/ogg"],[1,"col-md-10","mx-md-auto"],[1,"about-story"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","150",1,"text-white"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","250",1,"text-white"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","300",1,"text-white","semibold","mt-0","subheading"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","350",1,"text-white","mb-0"],["data-scroll-nav","5",1,"bg-black","typography"],[1,"typography"],["alt","typography","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100",1,"text-white"],["data-scroll-nav","6",1,"bg-black","package"],[1,"col-md-12"],["alt","packaing2","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"img1",3,"src"],[1,"col-md-6"],["alt","box","width","","height","","data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"img2",3,"src"],["alt","package-envelop","width","","height","","data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"src"],["id","animations","data-scroll-nav","7",1,"animation"],[1,""],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100",1,"col-md-12"],["id","myVideo","width","320","height","176","controls","controls","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"ui-ux"],[1,"heading","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo2","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","development","data-scroll-nav","9",1,"development"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-12","p-0"],["id","myVideo2","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"owlcarousel1"],[3,"options"],[4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"owlcarousel2"],[1,"owlcarousel3"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"options"],["id","seo","data-scroll-nav","10",1,"seo-section"],["id","myVideo1","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","seo"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"container"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold","border-radius-25",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"],[4,"ngIf"],["class","slide","carouselSlide","",3,"id"],[3,"src","alt","title"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),A(9,"D'NOUR"),M(),x(10,"div",7)(11,"p"),A(12,"D'NOUR is a Dubai-based jewellery brand that places women at the forefront."),M(),x(13,"p")(14,"a",8),A(15,"dnour.com"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),A(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),A(24,"Animations"),M()(),x(25,"h3",15)(26,"a",13),A(27,"UI/UX Design"),M()(),x(28,"h3",16)(29,"a",13),A(30,"Development"),M()(),x(31,"h3",17)(32,"a",13),A(33,"SEO"),M()()()()()()()()()(),x(34,"section",18)(35,"div",19)(36,"div",2)(37,"div",20),ce(38,"img",21),M()()()(),x(39,"section",22)(40,"div",1)(41,"div",2)(42,"div",23)(43,"div",24)(44,"p",25),A(45,"Pixtar, a leading web development agency, partnered with D'NOUR, a Dubai-based jewellery brand that stands as a beacon for women empowerment. D'NOUR's creations, inspired by the elegance of the Rose, embody powerful storytelling, exquisite craftsmanship, and a profound message of appreciation, empowerment, and celebration of women."),M(),x(46,"p",26),A(47,"Pixtar took on the challenge of establishing D'NOUR's online presence in the highly competitive E-commerce jewellery market, focusing specifically on the UAE and USA. The industry was saturated with top-notch brands, making organic SEO a complex undertaking for a newly designed and developed website."),M()()()()()(),x(48,"section",27)(49,"div",1)(50,"div",2)(51,"div",3)(52,"div",2)(53,"div",28)(54,"div",24)(55,"h1",29),A(56,"Branding"),M(),x(57,"p",25),A(58,"Pixtar crafted a distinctive logo, premium quality visiting cards, invoice covers, and other corporate branding materials. The visual identity aimed to reflect D'NOUR's commitment to celebrating and empowering women."),M()()()()(),x(59,"div",20)(60,"div",30),ce(61,"img",31),M()(),x(62,"div",32)(63,"div",2)(64,"div",33),ce(65,"img",31),M(),x(66,"div",34)(67,"div",35),ce(68,"img",36)(69,"img",37),M()()()()()()(),x(70,"section",38)(71,"div",1)(72,"div",2)(73,"div",3)(74,"div",39)(75,"div",40)(76,"div",41)(77,"h1",42),A(78,"Brand Story"),M(),x(79,"p",25),A(80,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),M()()()(),x(81,"div",2)(82,"div",43)(83,"div",44)(84,"video",45),ce(85,"source",46)(86,"source",47),A(87," Your browser does not support the video tag. "),M()()(),x(88,"div",48)(89,"div",49)(90,"h3",50),A(91,"ABOUT WOMEN:"),M(),x(92,"p",51),A(93,"D'NOUR is fueled by the spectrum of emotions and the diverse stories that women carry with them."),M(),x(94,"h3",52),A(95,"FOR WOMEN:"),M(),x(96,"p",53),A(97,"The vision, the jewellery, and the steps towards change - all crafted with women in mind, inspired by their strength and individuality."),M(),x(98,"h3",54),A(99,"TO WOMEN:"),M(),x(100,"p",55),A(101,"D'NOUR is committed to pushing the paradigm, empowering, celebrating, and giving back to women through their timeless and meaningful jewellery pieces."),M()()()()()()()(),x(102,"section",56)(103,"div",1)(104,"div",2)(105,"div",3)(106,"div",57),ce(107,"img",58),x(108,"p",59),A(109,"Pixtar curated a distinctive visual identity by meticulously choosing fonts and color combinations. The selected font reflected elegance and modernity, complementing D'NOUR's commitment to timeless beauty. The color palette incorporated soft rose hues, symbolizing the brand's inspiration, and gold accents, signifying luxury and sophistication."),M()()()()()(),x(110,"section",60)(111,"div",1)(112,"div",2)(113,"div",3)(114,"div",39)(115,"div",28)(116,"div",24)(117,"h1",42),A(118,"Package Design"),M(),x(119,"p",25),A(120,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),M()()()(),x(121,"div",2)(122,"div",61),ce(123,"img",62),M(),x(124,"div",63),ce(125,"img",64),M(),x(126,"div",63),ce(127,"img",65),M()()()()()(),x(128,"section",66)(129,"div",1)(130,"div",2)(131,"div",23)(132,"div",39)(133,"div",40)(134,"div",24)(135,"h1",6),A(136,"Animations"),M(),x(137,"p",67),A(138,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),M()()()(),x(139,"div",2)(140,"div",68)(141,"video",69),ce(142,"source",70)(143,"source",71),A(144," Your browser does not support HTML5 video. "),M()()()()()()(),x(145,"section",72)(146,"div",1)(147,"div",2)(148,"div",3)(149,"div",39)(150,"div",28)(151,"div",24)(152,"h1",73),A(153,"UI/UX Design"),M(),x(154,"p",67),A(155,"Created an engaging and user-centric interface for the D'NOUR website, ensuring a seamless and visually appealing user experience that resonated with the brand's ethos."),M()()()(),x(156,"div",2)(157,"div",74)(158,"video",75),ce(159,"source",70)(160,"source",71),A(161," Your browser does not support HTML5 video. "),M(),x(162,"video",76),ce(163,"source",70)(164,"source",71),A(165," Your browser does not support HTML5 video. "),M()()()()()()(),x(166,"section",77)(167,"div",1)(168,"div",2)(169,"div",3)(170,"div",39)(171,"div",28)(172,"div",24)(173,"h1",73),A(174,"Development"),M(),x(175,"p",67),A(176,"Developed the website using Magento, incorporating advanced features to showcase D'NOUR's exquisite jewellery collections. Security measures were implemented to safeguard user data and transactions."),M()()()()()()(),x(177,"div",78)(178,"video",79),ce(179,"source",70)(180,"source",71),A(181," Your browser does not support HTML5 video. "),M(),x(182,"div",80)(183,"owl-carousel-o",81),tt(184,vhe,2,1,"ng-container",82),M()(),x(185,"div",83)(186,"owl-carousel-o",81),tt(187,_he,2,1,"ng-container",82),M()(),x(188,"div",84)(189,"owl-carousel-o",85),tt(190,Che,2,1,"ng-container",82),M()()()(),x(191,"section",86)(192,"div",1)(193,"div",2)(194,"div",3)(195,"div",39)(196,"div",28)(197,"div",24)(198,"h1",6),A(199,"SEO"),M(),x(200,"p",67),A(201,"Formulated a targeted organic SEO strategy tailored to the unique challenges of the E-commerce jewellery industry. Focused on optimizing the website for local search in the UAE and USA, leveraging keywords that aligned with D'NOUR's brand identity and unique selling propositions."),M()()()(),x(202,"video",87),ce(203,"source",70)(204,"source",71),A(205," Your browser does not support HTML5 video. "),M(),x(206,"p"),A(207,"Pixtar's holistic approach, encompassing branding, design, development, and a targeted organic SEO strategy, yielded positive outcomes. D'NOUR's online presence in the UAE and USA flourished, gaining visibility among its target audience despite the formidable competition. The case study serves as a testament to Pixtar's expertise in navigating challenges and helping a brand like D'NOUR shine in a crowded digital landscape."),M()()()()(),x(208,"section",88)(209,"div",89)(210,"div",2)(211,"div",61)(212,"div",90)(213,"div",91)(214,"a",92),ce(215,"img",93),x(216,"h1",94),A(217,"NEXT PROJECT"),M()()()()()(),ce(218,"div",95),M()()),2&r&&(se(20),Ee("href","",o.Url,"/project-details/dnour#branding",Ce),se(3),Ee("href","",o.Url,"/project-details/dnour#animations",Ce),se(3),Ee("href","",o.Url,"/project-details/dnour#ui-ux",Ce),se(3),Ee("href","",o.Url,"/project-details/dnour#development",Ce),se(3),Ee("href","",o.Url,"/project-details/dnour#seo",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/dnour/pages-banner.png",Ce),se(23),Ee("src","",o.baseUrl,"/images/projects/dnour/dnour-project1.jpg",Ce),se(4),Ee("src","",o.baseUrl,"/images/projects/dnour/bcard.png",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/dnour/packaging.png",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/dnour/envelop.png",Ce),se(38),Ee("src","",o.baseUrl,"/images/projects/dnour/typography.png",Ce),se(16),Ee("src","",o.baseUrl,"/images/projects/dnour/packaging.png",Ce),se(2),Ee("src","",o.baseUrl,"/images/projects/dnour/box.png",Ce),se(2),Ee("src","",o.baseUrl,"/images/projects/dnour/package-envelop.png",Ce),se(15),Ee("src","",o.baseUrl,"/images/projects/dnour/dnour-brand-logo-animation.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/dnour/dnour-brand-logo-animation.ogg",Ce),se(16),Ee("src","",o.baseUrl,"/images/projects/dnour/dnour-desktop-imac-scroll.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/dnour/dnour-desktop-imac-scroll.ogg",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/dnour/laptop-scroll.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/dnour/laptop-scroll.ogg",Ce),se(15),Ee("src","",o.baseUrl,"/images/projects/dnour/homescreen.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/dnour/homescreen.ogg",Ce),se(3),We("options",o.desktopslider),se(1),We("ngForOf",o.imageData),se(2),We("options",o.desktopslider1),se(1),We("ngForOf",o.imageData),se(2),We("options",o.desktopslider2),se(1),We("ngForOf",o.imageData),se(13),Ee("src","",o.baseUrl,"/images/projects/dnour/dnour-seo.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/dnour/dnour-seo.ogg",Ce),se(10),Ee("href","",o.Url,"/project-details/pakhis",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/pakhis/pixtar-next.png",Ce))},dependencies:[Qs,fa,hf,Uu],styles:["section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.bannerimg[_ngcontent-%COMP%]{text-align:center;margin-top:6rem}.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:590px;height:770px}@media (max-width: 1399px){.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){.bannerimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}}section.project[_ngcontent-%COMP%]{min-height:100vh;height:100%}@media (max-width: 991px){section.project[_ngcontent-%COMP%]{min-height:90vh}}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:end;height:90%}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;right:-6rem;color:#101010;font-family:Montserrat,sans-serif;font-size:106px;font-weight:500}@media (max-width: 1366px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{right:0}}@media (max-width: 767px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 600px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;right:-1rem;color:#878787;font-family:Montserrat,sans-serif;font-size:24px}@media (max-width: 1366px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{right:0}}@media (max-width: 767px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){section.project[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:block}}.brand-detail[_ngcontent-%COMP%]   .startdate[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:50px 0}@media (max-width: 991px){.brand-detail[_ngcontent-%COMP%]   .startdate[_ngcontent-%COMP%]{padding:0;border-bottom:none}}.brand-detail[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#000;width:80%}@media (max-width: 991px){.brand-detail[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{margin-top:30px}}.brand-detail[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .brand-detail[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10rem}.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:675px;object-fit:cover}@media (max-width: 1024px){.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}}@media (max-width: 991px){.begins[_ngcontent-%COMP%]   .websketch[_ngcontent-%COMP%]{margin-top:5rem}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.about-project[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.font-bold[_ngcontent-%COMP%]{font-weight:700!important}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.about-story[_ngcontent-%COMP%]{margin-top:20px}.about-story[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.package[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 767px){.package[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{margin-bottom:15px}}.package[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{margin-bottom:15px}.animation[_ngcontent-%COMP%]{padding:80px 0}.seo[_ngcontent-%COMP%]{margin:10px 0 50px}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:50px}@media (max-width: 991px){#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:30px}}@media (max-width: 575px){#myVideo[_ngcontent-%COMP%], #myVideo1[_ngcontent-%COMP%]{border-radius:20px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}"]}),e})();m(8548);var Mc=m(3753),p9=m(8723),f9=m(1946),gC=(m(7274),m(1746)),Ohe=m(2334),Js=m(7625),RD=(m(5778),m(7168));Math,Math,Math;const Lpe=["*"],tfe=["dialog"];function qD(e){return"string"==typeof e}function Xg(e){return null!=e}function sv(e){return(e||document.body).getBoundingClientRect()}const k9={animation:!0,transitionTimerDelayMs:5},$fe=()=>{},{transitionTimerDelayMs:Kfe}=k9,Pb=new Map,pl=(e,t,n,i)=>{let r=i.context||{};const o=Pb.get(t);if(o)switch(i.runningTransition){case"continue":return Hg.E;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Pb.delete(t)}const s=n(t,i.animation,r)||$fe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>s()),(0,Jn.of)(void 0).pipe(function Yfe(e){return t=>new E.y(n=>t.subscribe({next:s=>e.run(()=>n.next(s)),error:s=>e.run(()=>n.error(s)),complete:()=>e.run(()=>n.complete())}))}(e));const a=new _.xQ,l=new _.xQ,c=a.pipe((0,Ohe.l)(!0));Pb.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function Xfe(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const d=(0,Mc.R)(t,"transitionend").pipe((0,Js.R)(c),(0,Da.h)(({target:f})=>f===t)),h=(0,p9.H)(u+Kfe).pipe((0,Js.R)(c));(0,f9.S3)(h,d,l).pipe((0,Js.R)(c)).subscribe(()=>{Pb.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let xC=(()=>{class e{constructor(){this.animation=k9.animation}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),B9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),z9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),V9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),H9=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({}),e})();var ea=(()=>{return(e=ea||(ea={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",ea;var e})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const W9=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function q9(e){const t=Array.from(e.querySelectorAll(W9)).filter(n=>-1!==n.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let e7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul,Ez]}),e})(),JD=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Xt({type:e,selectors:[["",8,"navbar"]]}),e})(),i7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({}),e})();class Zg{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}}let zge=(()=>{class e{constructor(n,i){this._el=n,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ta.q)(1)).subscribe(()=>{pl(this._zone,this._el.nativeElement,(n,i)=>{i&&sv(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return pl(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(n){return new(n||e)(Me($r),Me(Lr))},e.\u0275cmp=Mi({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,i){2&n&&(Hp("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),zo("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,i){},encapsulation:2}),e})();class qh{close(t){}dismiss(t){}}class Uge{constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new _.xQ,this._dismissed=new _.xQ,this._hidden=new _.xQ,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Js.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Js.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function T9(e){return e&&e.then}(n)?!1!==n&&this._dismiss(t):n.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Jn.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,gC.$R)(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var fl=(()=>{return(e=fl||(fl={}))[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",fl;var e})();let jge=(()=>{class e{constructor(n,i,r){this._document=n,this._elRef=i,this._zone=r,this._closed$=new _.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Li,this.shown=new _.xQ,this.hidden=new _.xQ}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":qD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ta.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=pl(this._zone,n,()=>n.classList.remove("show"),i),o=pl(this._zone,this._dialogEl.nativeElement,()=>{},i),s=(0,gC.$R)(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"},i=pl(this._zone,this._elRef.nativeElement,(o,s)=>{s&&sv(o),o.classList.add("show")},n),r=pl(this._zone,this._dialogEl.nativeElement,()=>{},n);(0,gC.$R)(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Mc.R)(n,"keydown").pipe((0,Js.R)(this._closed$),(0,Da.h)(r=>r.which===ea.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(fl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,Mc.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Js.R)(this._closed$),(0,Yi.b)(()=>i=!1),(0,Aa.w)(()=>(0,Mc.R)(n,"mouseup").pipe((0,Js.R)(this._closed$),(0,Ta.q)(1))),(0,Da.h)(({target:r})=>n===r)).subscribe(()=>{i=!0}),(0,Mc.R)(n,"click").pipe((0,Js.R)(this._closed$)).subscribe(({target:r})=>{n===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(fl.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const i=n.querySelector("[ngbAutofocus]"),r=q9(n)[0];(i||r||n).focus()}}_restoreFocus(){const n=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&pl(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(n){return new(n||e)(Me(_o),Me($r),Me(Lr))},e.\u0275cmp=Mi({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,i){if(1&n&&Ru(tfe,7),2&n){let r;Qr(r=Zr())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,i){2&n&&(go("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Hp("modal d-block"+(i.windowClass?" "+i.windowClass:"")),zo("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Lpe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,i){1&n&&(function r5(e){const t=It()[Bo][Ho];if(!t.projection){const i=t.projection=ay(e?e.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=e?jJ(o,e):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),x(0,"div",0,1)(2,"div",2),function o5(e,t=0,n){const i=It(),r=nr(),o=_0(r,Gr+e,16,null,n||null);null===o.projection&&(o.projection=t),Eh(),32!=(32&o.flags)&&function eQ(e,t,n){kR(t[ki],0,t,n,CR(e,n,t),SR(n.parent||t[Ho],n,t))}(r,i,o)}(3),M()()),2&n&&Hp("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),Vge=(()=>{class e{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}}return e.\u0275fac=function(n){return new(n||e)(Et(_o))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Hge=(()=>{class e{constructor(n,i,r,o,s,a){this._applicationRef=n,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new _.xQ,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Li,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=(0,Mc.R)(t,"focusin").pipe((0,Js.R)(n),(0,Ei.U)(o=>o.target));(0,Mc.R)(t,"keydown").pipe((0,Js.R)(n),(0,Da.h)(o=>o.which===ea.Tab),(0,RD.M)(r)).subscribe(([o,s])=>{const[a,l]=q9(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&(0,Mc.R)(t,"click").pipe((0,Js.R)(n),(0,RD.M)(r),(0,Ei.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){const o=r.container instanceof HTMLElement?r.container:Xg(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new qh,l=this._getContentRef(r.injector||n,i,a,r);let c=!1!==r.backdrop?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new Uge(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe((0,Ta.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=h=>{d.close(h)},a.dismiss=h=>{d.dismiss(h)},this._applyWindowOptions(u.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),c&&c.instance&&(this._applyBackdropOptions(c.instance,r),c.changeDetectorRef.detectChanges()),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=TS(zge,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=TS(jge,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_applyWindowOptions(n,i){this._windowAttributes.forEach(r=>{Xg(i[r])&&(n[r]=i[r])})}_applyBackdropOptions(n,i){this._backdropAttributes.forEach(r=>{Xg(i[r])&&(n[r]=i[r])})}_getContentRef(n,i,r,o){return i?i instanceof Wo?this._createFromTemplateRef(i,r):qD(i)?this._createFromString(i):this._createFromComponent(n,i,r,o):new Zg([])}_createFromTemplateRef(n,i){const o=n.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Zg([o.rootNodes],o)}_createFromString(n){const i=this._document.createTextNode(`${n}`);return new Zg([[i]])}_createFromComponent(n,i,r,o){const s=ja.create({providers:[{provide:qh,useValue:r}],parent:n}),a=TS(i,{environmentInjector:this._applicationRef.injector,elementInjector:s}),l=a.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new Zg([[l]],a.hostView,a)}_setAriaHidden(n){const i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const i=()=>{const r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(n){return new(n||e)(Et(Ag),Et(ja),Et(_o),Et(Vge),Et(y0),Et(Lr))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Gge=(()=>{class e{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return e.\u0275fac=function(n){return new(n||e)(Et(xC))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Jg=(()=>{class e{constructor(n,i,r){this._injector=n,this._modalStack=i,this._config=r}open(n,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(n){return new(n||e)(Et(ja),Et(Hge),Et(Gge))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),r7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({providers:[Jg]}),e})(),l7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),m7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),y7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),b7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),_7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),x7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),w7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),C7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({}),e})();new Hn("live announcer delay",{providedIn:"root",factory:function ime(){return 100}});let M7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[ul]}),e})(),P7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({}),e})();const rme=[B9,z9,V9,H9,e7,i7,r7,l7,P7,m7,y7,b7,_7,x7,w7,C7,M7];let ome=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Sn({imports:[rme,B9,z9,V9,H9,e7,i7,r7,l7,P7,m7,y7,b7,_7,x7,w7,C7,M7]}),e})(),em=(()=>{const t=class{constructor(i){this.http=i,this.getTestimonialData=r=>this.http.post(Dt_backendUrl+"/api/home/viewtestimonial",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getAlltestimonial=r=>this.http.post(Dt_backendUrl+"/api/home/alltestimonial",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getMatchDetails=r=>this.http.post(Dt_backendUrl+"/api/match/frontview",r).pipe((0,Br.K)(s=>(0,zr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Et(ql))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),lv=(()=>{const t=class{constructor(i){this.http=i,this.getblogDetails=r=>this.http.post(Dt_backendUrl+"/api/blog/viewblog",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getAllblog=r=>this.http.post(Dt_backendUrl+"/api/blog/allblog",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getblogWithId=r=>this.http.post(Dt_backendUrl+"/api/blog/blogdetail",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getNextblogWithId=r=>this.http.post(Dt_backendUrl+"/api/blog/nextblogdetail",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getBlogWithString=r=>this.http.post(Dt_backendUrl+"/api/blog/searchblog",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getAllvideoBlog=r=>this.http.post(Dt_backendUrl+"/api/blog/allvideoblog",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getTagDetails=r=>this.http.post(Dt_backendUrl+"/api/blog/viewtag",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.getDownloadLink=r=>this.http.post(Dt_backendUrl+"/api/home/download",r).pipe((0,Br.K)(s=>(0,zr._)(s))),this.addInvites=r=>this.http.post(Dt_backendUrl+"/api/blog/addinvite",r).pipe((0,Br.K)(s=>(0,zr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Et(ql))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),tm=(()=>{const t=class{constructor(i){this.http=i,this.getAllProjects=r=>this.http.post(Dt_backendUrl+"/api/project/listprojects",r).pipe((0,Br.K)(s=>(0,zr._)(s)))}sendContactForm(i){return this.http.post(`${Dt_backendUrl}/api/project/referralmail`,i)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Et(ql))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),cv=(()=>{const t=class{constructor(){this.isWhiteText=!0,this.bannerClass="bannerdrk",this.textWhite="text-white",this.h1text="",this.brdtp=""}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-faq-component"]],inputs:{isWhiteText:"isWhiteText",bannerClass:"bannerClass",textWhite:"textWhite",h1text:"h1text",brdtp:"brdtp"},decls:69,vars:2,consts:[[1,"section","faqsection",3,"ngClass"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-md-10","col-sm-11","col-11","m-auto"],[1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,"",3,"ngClass"],[1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"d-block"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed","brdtp"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"h1",6),A(8," What "),ce(9,"br"),A(10," makes Pixtar "),ce(11,"br"),A(12," Special? "),ce(13,"br"),x(14,"span"),A(15," And other FAQs\u2026 "),M()()()(),x(16,"div",7)(17,"div",8)(18,"div",9)(19,"div",10)(20,"div",11)(21,"h2",12)(22,"button",13),A(23," Alright, no secrets \u2013 what makes Pixtar stand out? "),M()(),x(24,"div",14)(25,"div",15),A(26," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(27,"div",11)(28,"h2",16)(29,"button",17),A(30," Where are you based? "),M()(),x(31,"div",18)(32,"div",15),A(33," Virtually, next door! We\u2019re proudly based in Dubai, UAE, but our team collaborates with clients worldwide, making distance no barrier to outstanding design! Our business hours are 9 am\u20136 pm GST / 1 am\u201310 am EST / 10 pm\u20137 am PST. But with our early-rising CEO and night-owl CTO, we\u2019re always able to sync up with clients from LA all the way to Australia\u2014and all the lovely places in between. "),M()()(),x(34,"div",11)(35,"h2",19)(36,"button",20),A(37," How are you different from a freelance designer? "),M()(),x(38,"div",21)(39,"div",15),A(40," At Pixtar, you get the expertise of an entire team, not just one individual. We bring together specialized skills in design, strategy, and development, providing a more comprehensive approach and smoother project delivery. "),M()()(),x(41,"div",11)(42,"h2",22)(43,"button",23),A(44," What other design magic do you offer? "),M()(),x(45,"div",24)(46,"div",15),A(47," Besides website design, we specialize in branding, UI/UX design, graphic design, and digital marketing assets. Whatever your design needs, Pixtar has the creative solution. "),M()()(),x(48,"div",11)(49,"h2",22)(50,"button",25),A(51," Who do you usually work with? "),M()(),x(52,"div",26)(53,"div",15),A(54," We collaborate with businesses of all sizes\u2014from startups to established brands\u2014across a range of industries, including Lifestyle, healthcare, technology, real estate, and more. "),M()()(),x(55,"div",11)(56,"h2",22)(57,"button",27),A(58," Which platforms do you use for building websites? "),M()(),x(59,"div",28)(60,"div",15),A(61," We work with popular platforms like Angular, Node.js, React, Shopify, Magento and Webflow, ensuring you get a website that\u2019s not only beautiful but also easy to manage and scalable. "),M()()(),x(62,"div",11)(63,"h2",22)(64,"button",29),A(65," I\u2019m in! When can we get started? "),M()(),x(66,"div",30)(67,"div",15),A(68," We\u2019re thrilled to have you onboard! Just reach out through our contact page, and we\u2019ll set up a kickoff meeting to dive into your project. "),M()()()()()()()()()()()()),2&r&&(We("ngClass",o.bannerClass),se(7),We("ngClass",o.h1text))},dependencies:[Fy],styles:[".footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;color:#fff!important;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff!important;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.fade-in-image[_ngcontent-%COMP%]{animation:fadeIn 5s}.collapsing[_ngcontent-%COMP%]{transition:height .8s ease!important}"]}),e})();const DC=function(e){return{"text-white":e}};function sme(e,t){if(1&e){const n=xr();x(0,"div",8)(1,"div",2)(2,"div",9)(3,"div",10),ce(4,"img",11),M()(),x(5,"div",12)(6,"div",13)(7,"h6",14),A(8),M(),x(9,"h4",15),A(10),M(),x(11,"div",16)(12,"p",17),A(13),iS(14,"slice"),M()(),x(15,"span",18),rt("click",function(){En(n);const r=nt().$implicit;return kn(nt().toggleText(r))}),A(16),M()()(),x(17,"div",19)(18,"div",13)(19,"div",16)(20,"p",20),A(21),M()(),x(22,"span",21),rt("click",function(){En(n);const r=nt().$implicit;return kn(nt().toggleText(r))}),A(23),M()()()()()}if(2&e){const n=nt().$implicit,i=nt();se(4),jl("src","",i.imagepath,"/",n.image,"",Ce),se(3),We("ngClass",pa(20,DC,i.isWhiteText)),se(1),ro(" ",n.name," "),se(1),We("ngClass",pa(22,DC,i.isWhiteText)),se(1),ro(" ",n.title," "),se(1),zo("expanded",n.isExpanded),se(1),We("ngClass",pa(24,DC,i.isWhiteText)),se(1),ro(" ",n.isExpanded?n.text:function IF(e,t,n,i,r){const o=e+Gr,s=It(),a=Wr(s,o);return Dy(s,o)?DF(s,po(),t,a.transform,n,i,r,a):a.transform(n,i,r)}(14,16,n.text,0,200)+"..."," "),se(3),ro(" ",n.isExpanded?"Show Less":"Show More"," "),se(3),zo("expanded",n.isExpanded),se(1),We("ngClass",pa(26,DC,i.isWhiteText)),se(1),ro(" ",n.text," "),se(2),ro(" ",n.isExpanded?"Show Less":"Show More"," ")}}function ame(e,t){if(1&e&&(es(0),tt(1,sme,24,28,"ng-template",7),ts()),2&e){const n=nt();se(1),We("id",n.baseUrl)}}let nm=(()=>{const t=class{constructor(i){this.testimonialService=i,this.testimonials=[],this.isWhiteText=!0,this.bannerClass="bannerdrk",this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1e4,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.isExpanded=!1,this.imagepath=Dt_backendUrl+"/public/"}ngOnInit(){this.getTestimonial()}getTestimonial(){this.testimonialService.getTestimonialData({}).subscribe(r=>{200===r.code&&r.testimonialData?.length>0?(this.testimonials=r.testimonialData,console.log(this.testimonials)):this.testimonials=[]},r=>{console.error("Failed to fetch testimonial data",r),this.testimonials=[]})}toggleText(i){i.isExpanded=!i.isExpanded}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(em))},t.\u0275cmp=Mi({type:t,selectors:[["app-testimonial"]],inputs:{isWhiteText:"isWhiteText",bannerClass:"bannerClass"},decls:7,vars:3,consts:[[1,"success-story",3,"ngClass"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-11","col-sm-11","col-11","mx-auto"],[1,"content","mbrem8"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"col-md-9","col-sm-11","col-11","mx-auto"],[1,"col-lg-3","col-md-5","col-sm-5"],[1,"imgblk"],["alt","",1,"",3,"src"],[1,"col-lg-8","col-md-7","offset-lg-1","col-sm-7","mt-sm-0","mt-3"],[1,"slidecontent"],[1,"fontsize12","semibold","textcolor1",3,"ngClass"],[1,"size32","textcolor1","weight500",3,"ngClass"],[1,"text-container"],[1,"size18","textcolor3","d-md-block","d-sm-none","d-none",3,"ngClass"],[1,"show-more-btn","d-md-block","d-sm-none","d-none","hover-underline-animation","lufgaregular","size18",3,"click"],[1,"col-md-12","d-md-none","d-sm-block","d-block","mt-sm-4","mt-3"],[1,"size18","textcolor3",3,"ngClass"],[1,"show-more-btn","d-md-none","d-sm-block","d-block","hover-underline-animation","lufgaregular","size18",3,"click"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"div",4),x(5,"owl-carousel-o",5),tt(6,ame,2,1,"ng-container",6),M()()()()()),2&r&&(We("ngClass",o.bannerClass),se(5),We("options",o.desktopslider),se(1),We("ngForOf",o.testimonials))},dependencies:[Fy,Qs,hf,Uu,aB],styles:['.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:15px 0;line-height:52px;text-transform:uppercase}@media (max-width: 1366px){.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{line-height:40px}}@media (max-width: 991px){.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{line-height:28px}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:29px}@media (max-width: 1366px){.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}}  .owl-theme .owl-nav.disabled+.owl-dots{margin-top:50px}  .owl-theme .owl-dots .owl-dot span{background:#fff}  .owl-theme .owl-dots .owl-dot.active span{background-color:#de9b7a}.text-container[_ngcontent-%COMP%]{max-height:8.5em;overflow:hidden;transition:max-height .3s ease}.text-container.expanded[_ngcontent-%COMP%]{max-height:100%}.show-more-btn[_ngcontent-%COMP%]{color:#de9b7a;cursor:pointer;margin-top:5px;display:inline-block}.hover-underline-animation[_ngcontent-%COMP%]{display:inline-block;position:relative;color:#fff;width:98px;margin-top:15px}@media (max-width: 1024px){.hover-underline-animation[_ngcontent-%COMP%]{width:76px}}.hover-underline-animation[_ngcontent-%COMP%]:hover{color:#de9b7a}.hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#de9b7a;transform-origin:bottom right;transition:transform .25s ease-out;background-image:none!important}.hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}']}),e})();const lme=["myVideo"];function cme(e,t){if(1&e&&(x(0,"div",113)(1,"a",114),ce(2,"img",115),M()()),2&e){const n=t.$implicit;se(2),Ul("src",n.img,Ce)}}const dme=function(e){return{width:e}};let iA=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10),this.spline&&this.spline.setZoom(1,1)}constructor(i,r,o,s,a,l,c,u,d,h,f,v){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=u,this.http=d,this.projectservice=h,this.modalService=f,this.activeModal=v,this.limit=10,this.slides=[],this.recentslider=[],this.customOptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:3},400:{items:4},740:{items:8},940:{items:10}},nav:!1},this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:15e3,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.page=4,this.page1=5,this.invalidNumber=!1,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.submitted=!1,this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:"https://via.placeholder.com/600/92c952"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:"https://via.placeholder.com/600/771796"}],this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.reviews=[],this.reviewSlider={items:3,loop:!0,margin:20,autoplay:!0,slideTransition:"linear",autoplaySpeed:3e3,autoplayHoverPause:!0,responsive:{0:{items:1},480:{items:1},740:{items:2},991:{items:3}},dots:!1,nav:!1},this.starRating=4,this.instaLimit=9,this.instagramPost=[],this.searchText="",this.closeResult="",this.modalReference=null,this.customMediaSlider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,navSpeed:700,navText:['<i class="fas fa-arrow-left achprevious"></i>','<i class="fas fa-arrow-right achnext active"></i>'],margin:14,responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1},this.popupslider={loop:!0,autoplay:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:['<i class="fas fa-arrow-left achprevious"></i>','<i class="fas fa-arrow-right achnext active"></i>'],margin:14,responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!0},this.isPlaying=!0,this.sectionWidth=10,this.isChangingRandom=!1,this.clientImgarray=[],this.filteredClients=[],this.callback=(y,b)=>{b===google.maps.places.PlacesServiceStatus.OK&&(this.reviews=y.reviews.slice())},this.imagepath=Dt_backendUrl+"/public/",this.baseUrl=Dt_baseUrl+"/assets",this.get_PageMeta(),this.get_AllProjects(),this.getInstagramPosts(),this.slides.push({id:1,img:this.baseUrl+"/img/home/veritcal-images/1.jpg"},{id:2,img:this.baseUrl+"/img/home/veritcal-images/2.jpg"},{id:3,img:this.baseUrl+"/img/home/veritcal-images/3.jpg"},{id:4,img:this.baseUrl+"/img/home/veritcal-images/4.jpg"},{id:5,img:this.baseUrl+"/img/home/veritcal-images/5.jpg"},{id:6,img:this.baseUrl+"/img/home/veritcal-images/6.jpg"},{id:7,img:this.baseUrl+"/img/home/veritcal-images/7.jpg"},{id:8,img:this.baseUrl+"/img/home/veritcal-images/8.jpg"},{id:9,img:this.baseUrl+"/img/home/veritcal-images/9.jpg"},{id:10,img:this.baseUrl+"/img/home/veritcal-images/10.jpg"}),this.recentslider.push({id:1,img:this.baseUrl+"/img/home/beyou.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:2,img:this.baseUrl+"/img/home/cups.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:3,img:this.baseUrl+"/img/home/bcard22.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"},{id:4,img:this.baseUrl+"/img/home/vendetta2.webp",brandname:"BeYou",brandtag:"Branding.UI/UX.Technology"}),this.clientImgarray.push({id:1,img:this.baseUrl+"/img/home/logos/dnour.svg",class:""},{id:2,img:this.baseUrl+"/img/home/logos/crystal.svg",class:""},{id:3,img:this.baseUrl+"/img/home/logos/miniaar.svg",class:""},{id:4,img:this.baseUrl+"/img/home/logos/bni.svg",class:""},{id:5,img:this.baseUrl+"/img/home/logos/angle.svg"},{id:6,img:this.baseUrl+"/img/home/logos/pakhis.svg",class:""},{id:7,img:this.baseUrl+"/img/home/logos/drminnie.svg",class:""},{id:8,img:this.baseUrl+"/img/home/logos/veddentta.svg",class:""},{id:9,img:this.baseUrl+"/img/home/logos/autokoorosh.svg",class:""},{id:10,img:this.baseUrl+"/img/home/logos/fractal.svg",class:""},{id:11,img:this.baseUrl+"/img/home/logos/corporate.svg",class:""},{id:12,img:this.baseUrl+"/img/home/logos/aetrio.svg",class:""},{id:13,img:this.baseUrl+"/img/home/logos/wrae.svg",class:""},{id:14,img:this.baseUrl+"/img/home/logos/beyou.svg",class:""},{id:15,img:this.baseUrl+"/img/home/logos/alchemative.svg",class:""},{id:16,img:this.baseUrl+"/img/home/logos/Asset 13.svg",class:""},{id:17,img:this.baseUrl+"/img/home/logos/caratcraft.svg",class:""},{id:18,img:this.baseUrl+"/img/home/logos/ep.svg",class:""},{id:19,img:this.baseUrl+"/img/home/logos/holidaymate.svg",class:""},{id:20,img:this.baseUrl+"/img/home/logos/j.avenue.svg",class:""},{id:22,img:this.baseUrl+"/img/home/logos/maney-angel.svg",class:""},{id:23,img:this.baseUrl+"/img/home/logos/santosh-kotli.svg",class:""},{id:24,img:this.baseUrl+"/img/home/logos/solitaire-events.svg",class:""},{id:25,img:this.baseUrl+"/img/home/logos/spacex.svg",class:""},{id:26,img:this.baseUrl+"/img/home/logos/urban-excellence.svg",class:""},{id:27,img:this.baseUrl+"/img/home/logos/virtual-key.svg",class:""},{id:28,img:this.baseUrl+"/img/home/logos/zlk.svg",class:""}),this.filteredClients=this.clientImgarray.slice(0,15)}onHover(){this.isChangingRandom||(this.isChangingRandom=!0,this.intervalId=setInterval(()=>{this.filterClients()},2e3))}filterClients(){this.filteredClients.forEach(c=>{c.class=""});let i=this.clientImgarray,r=[];for(var o=0;o<2;o++){var s=Math.floor(Math.random()*i.length);0==r.filter(u=>u.id==s).length&&r.push(i[s])}for(var a=0;a<r.length;a++)if(0==this.filteredClients.filter(u=>u.id==r[a].id).length){var l=Math.floor(Math.random()*this.filteredClients.length);this.filteredClients[l]=r[a],this.filteredClients[l].class="blur"}}isWeekend(i){const r=new Date(i.year,i.month-1,i.day);return 0===r.getDay()||6===r.getDay()}isDisabled(i,r){return i.month!==r.month}ngOnInit(){this.fetch(),document.getElementsByClassName("form-control");let r=document.getElementsByClassName("input-group");for(let s=0;s<r.length;s++)r[s].children[0].addEventListener("focus",function(){r[s].classList.add("input-group-focus")}),r[s].children[0].addEventListener("blur",function(){r[s].classList.remove("input-group-focus")});$("li").removeClass("main-menu__item--active"),$("#home").addClass("main-menu__item--active"),window.scroll({top:0,left:0,behavior:"smooth"}),this.service=new google.maps.places.PlacesService(document.getElementById("googleReviews")),this.service.getDetails({placeId:"ChIJV7cSUslDXz4R9uz8yYTtshE",fields:["reviews"]},this.callback),this.onHover()}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}fetch(){this.http.get(`https://jsonplaceholder.typicode.com/albums/1/photos?_start=0&_limit=${this.limit}`).subscribe(o=>this.apiData=o,o=>(0,zr._)(o))}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}createRange(i){const r=[];for(let o=1;o<=i;o++)r.push(o);return r}getInstagramPosts(){this.pageservice.getInstagramPosts({limit:this.instaLimit}).subscribe(r=>{200==r.code&&(this.instagramPost=r.result,this.instagramProfile=r.profile)})}loadmorePost(){this.instaLimit=this.instaLimit+9,this.getInstagramPosts()}openCarasoulpopup(i,r){this.selectedMedia=r,"CAROUSEL_ALBUM"==r.media_type&&(this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`}))}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass-video",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}openMediaPopup(i,r){this.selectedMedia=r,this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(i){return i===fl.ESC?"by pressing ESC":i===fl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}closeModal(){this.activeModal.close()}makeLinksClickable(i){if(i){let r=i.split("\n");return r=r.map(o=>(o.includes("#")&&(o=o.split(" ").map(a=>`<a href="https://instagram.com/explore/tags/${a.split("#")[1]}" target="_blank">${a}</a>`).join("")),o)),r.map(o=>`${o}</br>`).join("")}}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.loop=!0,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Ds),Me(Zc),Me(em),Me(ad),Me(Hl),Me(Gl),Me(lv),Me(Vg),Me(ql),Me(tm),Me(Jg),Me(qh))},t.\u0275cmp=Mi({type:t,selectors:[["app-home"]],viewQuery:function(r,o){if(1&r&&Ru(lme,5),2&r){let s;Qr(s=Zr())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&rt("scroll",function(a){return o.onScroll(a)},0,Up)("fullscreenchange",function(a){return o.onFullscreenChange(a)},!1,Cg)},decls:245,vars:16,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo",3,"scroll"],[1,"container-fluid"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","strategy",1,"toppadding"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100","data-aos-once","true",1,"col-lg-7","col-md-6"],[1,"content","d-flex","flex-column","justify-content-center","h-100"],[1,"fontsize12","semibold","mb-4"],[1,"heighlight"],[1,"position-relative","actn"],[1,"position-absolute","start-50"],["routerLink","/services",1,"cstbtn"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100","data-aos-once","true",1,"col-lg-5","col-md-6"],[1,"custom-collapse"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],["href","/services#services1","data-scroll-nav","0",1,"d-block","more","hover-underline-animation"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/services#services4","data-scroll-nav","3",1,"d-block","more","hover-underline-animation"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/services#services2","data-scroll-nav","1",1,"d-block","more","hover-underline-animation"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["href","/services#services3","data-scroll-nav","2",1,"d-block","more","hover-underline-animation"],[1,"featuredvideo","m80"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"blocklist","section1"],[1,"col-md-12"],["class","col custom-col mb-lg-5 mb-md-4 mb-4",4,"ngFor","ngForOf"],[1,"philosophy","position-relative"],[1,"content"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"fontsize12","semibold","linenormal"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"size90","mb-md-3","mb-sm-3","mb-2"],[1,"textcolor1"],[1,"custom-block"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-7","col-xl-7","col-lg-8","col-md-8","mbrem8"],[1,"size24","textcolor1"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-11","offset-lg-1","me-lg-0","col-md-11","col-sm-12","col-12","mx-md-auto"],[1,"imagecent","text-end"],["alt","",3,"src"],[1,"card","cardright"],["href","#",1,""],[1,"p1"],[1,"lufgalight"],[1,"cstcardright"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-11","ms-lg-0","col-md-11","col-sm-12","col-12","mx-md-auto"],[1,"imagecent"],[1,"card","cardleft"],[1,"cstcardleft"],[1,"mbrem5"],[1,"position-absolute","start-50","translate-middle","mbrem8"],["routerLink","/services",1,"cstbtn","cstbtn128"],[1,"text","text128"],[1,"success-story"],[1,"mask"],[1,"fontsize12","semibold"],[1,"size90"],[1,"d-block","textcolor1"],[1,"bannerdrk","creativity"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-10","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-md-6","col-sm-6"],[1,"creative"],[1,"fontsize12","semibold","text-white"],[1,"d-md-block","d-lg-block","d-xl-block","d-xxl-block","size90"],[1,"textcolor6"],[1,"textcolor7"],[1,"barcy"],[1,"d-block","size90"],[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"mb-0"],["id","googleReviews",2,"display","none"],["id","reviews",2,"display","none"],["id","title"],["id","reviews"],[1,"col","custom-col","mb-lg-5","mb-md-4","mb-4"],["href","javascript:void(0)"],["alt","",1,"img-fluid",3,"src"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),A(9,"Pixtar is a Branding"),M(),x(10,"h1",8),A(11,"And Web Development"),M(),x(12,"h1",8),A(13,"Studio in "),x(14,"span",9),A(15,"Dubai"),M()()()()(),x(16,"div",10)(17,"ul",11)(18,"li")(19,"a",12),ce(20,"img",13),M()(),x(21,"li")(22,"a",14),ce(23,"img",15),M()(),x(24,"li")(25,"a",16),ce(26,"img",13),M()(),x(27,"li")(28,"a",17),ce(29,"img",18),M()()(),x(30,"div",19)(31,"p"),A(32,"Building your business through "),M(),x(33,"p"),A(34,"creativity, is our business!"),M()()()()(),x(35,"div",20)(36,"p")(37,"a",21)(38,"span",22),A(39," See Our Work"),M(),x(40,"span",23),ce(41,"i",24),M()()()()()(),ce(42,"div",25),x(43,"section",26),rt("scroll",function(a){return o.onScroll(a)},0,Up),x(44,"div",27)(45,"div",2)(46,"div",28)(47,"div",29)(48,"video",30,31),rt("click",function(){return o.playInFullscreenWithAudio()}),ce(50,"source",32)(51,"source",33),A(52," Your browser does not support the video tag. "),M()()()()()(),x(53,"section",34)(54,"div",1)(55,"div",2)(56,"div",3)(57,"div",2)(58,"div",35)(59,"div",36)(60,"h6",37),A(61,"What we offer"),M(),x(62,"p",38),A(63,"We don\u2019t just design\u2014we create harmony. With the precision of the golden ratio and the creativity of custom solutions, everything we craft is a one-of-a-kind masterpiece. "),M(),x(64,"div",39)(65,"div",40)(66,"p")(67,"a",41)(68,"span",22),A(69,"Explore Our Services"),M(),x(70,"span",23),ce(71,"i",24),M()()()()()()(),x(72,"div",42)(73,"div",43)(74,"div",44)(75,"div",45)(76,"h2",46)(77,"button",47),A(78," Branding "),M()(),x(79,"div",48)(80,"div",49),A(81," Shape how the world sees you. We help you define your story and express it through iconic branding. "),x(82,"a",50),A(83,"More"),M()()()(),x(84,"div",45)(85,"h2",51)(86,"button",52),A(87," Graphics "),M()(),x(88,"div",53)(89,"div",49),A(90," Designs on demand, tailored to your needs, with a plan that grows with you. "),x(91,"a",54),A(92,"More"),M()()()(),x(93,"div",45)(94,"h2",55)(95,"button",56),A(96," Custom website "),M()(),x(97,"div",57)(98,"div",49),A(99," Pixel-perfect, fast, and beautiful websites designed to perform on every screen. "),x(100,"a",58),A(101,"More"),M()()()(),x(102,"div",45)(103,"h2",59)(104,"button",60),A(105," eCommerce "),M()(),x(106,"div",61)(107,"div",49),A(108," Launch a custom-built online store that engages, converts, and grows. "),x(109,"a",62),A(110,"More"),M()()()()()()()()()()()(),x(111,"section",63)(112,"div",1)(113,"div",64)(114,"div",65)(115,"h6",37),A(116,"Our clients include..."),M(),x(117,"div",2),es(118),x(119,"div",66)(120,"div",2),tt(121,cme,3,1,"div",67),M()(),ts(),M()()()()(),x(122,"section",68)(123,"div",1)(124,"div",2)(125,"div",3)(126,"div",69)(127,"h6",70),A(128," Our Philosophy"),M(),x(129,"h1",71)(130,"span",72),A(131,"Beauty, Balance, "),M(),x(132,"span",9),A(133,"And "),M(),x(134,"span",73),A(135," Custom Craftsmanship "),M()(),x(136,"div",2)(137,"div",74)(138,"p",75),A(139,"At Pixtar, we believe that design isn\u2019t just about aesthetics\u2014it\u2019s about creating balance, impact, and authenticity. Every project we deliver is built from the ground up with no templates\u2014because your business deserves nothing less than original."),M()(),x(140,"div",76)(141,"div",77),ce(142,"img",78),x(143,"div",79)(144,"a",80)(145,"div",22)(146,"p",81),A(147,"Miniaar Bridal & Couture"),M(),x(148,"p",82),A(149,"Branding & e-Commerce Website"),M()(),x(150,"div",83)(151,"span",23),ce(152,"i",24),M()()()()()(),x(153,"div",84)(154,"div",85),ce(155,"img",78),x(156,"div",86)(157,"a",80)(158,"div",22)(159,"p",81),A(160,"D\u2019NOUR Dubai"),M(),x(161,"p",82),A(162,"Branding & eCommerce Website"),M()(),x(163,"div",87)(164,"span",23),ce(165,"i",24),M()()()()()(),x(166,"div",76)(167,"div",77),ce(168,"img",78),x(169,"div",79)(170,"a",80)(171,"div",22)(172,"p",81),A(173,"Space X Fitness"),M(),x(174,"p",82),A(175,"Branding And Website"),M()(),x(176,"div",83)(177,"span",23),ce(178,"i",24),M()()()()()(),x(179,"div",84)(180,"div",85),ce(181,"img",78),x(182,"div",86)(183,"a",80)(184,"div",22)(185,"p",81),A(186,"Pakhi\u2019s Handhwash"),M(),x(187,"p",82),A(188,"Branding & Packaging"),M()(),x(189,"div",87)(190,"span",23),ce(191,"i",24),M()()()()()()()()()(),x(192,"div",88)(193,"div",89)(194,"p")(195,"a",90)(196,"span",91),A(197," Explore All Work"),M(),x(198,"span",23),ce(199,"i",24),M()()()()()()(),x(200,"section",92)(201,"div",93),ce(202,"img",78),M(),x(203,"div",1)(204,"div",2)(205,"div",64)(206,"div",69)(207,"h6",94),A(208,"Client Success Stories"),M(),x(209,"h1",95),A(210,"And our "),x(211,"span",9),A(212,"Creativity "),M(),x(213,"span",96),A(214," Inspired by your story "),M()()()()()()(),ce(215,"app-testimonial"),x(216,"section",97)(217,"div",1)(218,"div",2)(219,"div",98)(220,"div",2)(221,"div",99)(222,"div",100)(223,"h6",101),A(224,"Our promise"),M(),x(225,"h1",102)(226,"span",103),A(227," We "),M(),x(228,"span",104),A(229," Go "),M(),x(230,"span",105),A(231,"Beyond "),M()(),x(232,"h1",106),A(233,"The Limits"),ce(234,"br"),A(235,"For You "),M()()(),x(236,"div",99)(237,"div",107)(238,"p",108),A(239,"Design is only part of what we do. We partner with you to solve problems, meet challenges, and grow together\u2014always with 100% transparency and trust."),M()()()()()()()(),ce(240,"app-faq-component")(241,"div",109),x(242,"section",110),ce(243,"div",111)(244,"div",112),M()),2&r&&(se(4),Ee("src","",o.baseUrl,"/img/three-d-objects/home.png",Ce),se(16),Ee("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/whatsapp.svg",Ce),se(17),We("ngStyle",pa(14,dme,o.sectionWidth+"%")),se(4),Ee("src","",o.baseUrl,"/videos/home-page-video.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/videos/home-page-video.mp4",Ce),se(70),We("ngForOf",o.filteredClients),se(21),Ee("src","",o.baseUrl,"/img/home/services/miniaar-service.jpg",Ce),se(13),Ee("src","",o.baseUrl,"/img/home/services/dnour-service.jpg",Ce),se(13),Ee("src","",o.baseUrl,"/img/home/services/spacex-service.jpg",Ce),se(13),Ee("src","",o.baseUrl,"/img/home/services/pakhis-service.jpg",Ce),se(21),Ee("src","",o.baseUrl,"/img/home/pixtar-mask.svg",Ce))},dependencies:[Qs,kg,sd,cv,nm],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}body[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.h1[_ngcontent-%COMP%]{color:#101010;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:#de9b7a}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]{background-size:50%;background-position:100% 103%}}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:2%;top:26%;width:550px;margin-right:10rem}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{margin-right:0;width:450px;top:26%}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;margin-right:2rem;top:28%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0;width:230px;top:30%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}@keyframes _ngcontent-%COMP%_float{0%{transform:translatey(0)}50%{transform:translatey(-20px)}to{transform:translatey(0)}}.cbanner[_ngcontent-%COMP%]   .floatimg[_ngcontent-%COMP%]{transform:translatey(0);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.logotext[_ngcontent-%COMP%]{position:relative;top:5px;left:-24px;font-weight:700;color:#000}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#101010}@media (max-width: 1440px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 1024px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.banner[_ngcontent-%COMP%]{width:100%}}.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}@font-face{font-family:barcelony;src:local("barcelony"),url(barcelony.68e366dc7c859cc4.ttf) format("truetype")}.barcely[_ngcontent-%COMP%]{font-family:barcelony}.banner-left-content[_ngcontent-%COMP%]{display:flex;width:393px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:32px;font-weight:400}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:normal}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.down-arrow[_ngcontent-%COMP%]{bottom:13%}}@media (max-width: 767px){.down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.custom-collapse[_ngcontent-%COMP%]{padding:20px;overflow:hidden;border-radius:30px}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]{padding:10px}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:20px}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#1d1d1f}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{color:#de9b7a}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-bottom:1px solid #dadade;border-radius:0;font-size:28px;color:#de9b7a;font-weight:500;display:flex;align-items:center}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#de9b7a}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#de9b7a;outline:none}@media (max-width: 1440px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1366px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{margin-top:10px;color:#dadade}.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#1d1d1f;font-size:16px;font-weight:400}@media (max-width: 1199px){.custom-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]{display:inline-block;position:relative;color:#0087ca}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#101010;transform-origin:bottom right;transition:transform .25s ease-out;background-image:none!important}.custom-collapse[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}.toppadding[_ngcontent-%COMP%]{padding-top:80px}@media (max-width: 991px){.toppadding[_ngcontent-%COMP%]{padding-top:30px}}.imgblock[_ngcontent-%COMP%]{padding:10px 30px}@media (max-width: 1024px){.imgblock[_ngcontent-%COMP%]{padding:10px 0}}.imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e5e5e3;font-size:26px}@media (max-width: 1366px){.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}.imgblock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#878787;font-weight:400}.hard-work[_ngcontent-%COMP%]{margin:0;padding:50px 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;color:#878787;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:30px 10px 30px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.creativity[_ngcontent-%COMP%]{padding:80px 0}.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:65px;margin-top:0;line-height:1.2}.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;font-weight:300;line-height:1.8}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:55px}}@media (max-width: 1024px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 991px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:52px;margin-top:70px;color:#fff;font-size:24px}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 1199px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:42px}}@media (max-width: 991px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:34px}}@media (max-width: 767px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:30px}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:28px}}@media (max-width: 1366px){.creativity[_ngcontent-%COMP%]{padding:200px 0}}@media (max-width: 767px){.creativity[_ngcontent-%COMP%]{padding:150px 0}}@media (max-width: 575px){.creativity[_ngcontent-%COMP%]{padding:50px 20px}}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item:nth-child(odd){margin-top:0!important}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item.active:nth-child(3n+4){margin-top:60px!important}.story[_ngcontent-%COMP%]   .customslider[_ngcontent-%COMP%]     .owl-carousel.owl-drag .owl-item:nth-child(even){margin-top:20px!important}.story[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:300px 0}@media (max-width: 1366px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:200px 0}}@media (max-width: 767px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:150px 10px}}@media (max-width: 575px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{padding:80px 10px}}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px;font-weight:600;color:#000}.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:barcelony,sans-serif;font-weight:100;color:#da9777}@media (max-width: 1366px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 1024px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 991px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 575px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 480px){.story[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}  .story .owl-carousel .owl-item:nth-child(2) img{margin-top:30px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{font-size:24px;font-weight:400;color:#101010;line-height:2;padding-right:15px}@media (max-width: 1366px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p.heighlight[_ngcontent-%COMP%]{line-height:1.5;padding-right:0}}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]{margin:15px 0}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{text-decoration:none;color:#000;border:2px solid #000;text-align:center;padding:3px 40px;margin-top:20px;border-radius:30px;font-weight:700;font-size:20px}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]:hover{background:#000;color:#de9b7a;border-color:#000}#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]:focus{border-color:#000;background:#000;color:#de9b7a}@media (max-width: 1366px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:20px;padding:3px 40px}}@media (max-width: 1024px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:18px;padding:3px 30px}}@media (max-width: 991px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]   .bthw[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 767px){#strategy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actn[_ngcontent-%COMP%]{margin:15px 0 30px;text-align:center}}@media (max-width: 767px){#strategy[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}}#strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{margin-top:15px;background:-webkit-linear-gradient(#101010,rgba(0,0,0,.6705882353));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none;font-weight:700;cursor:pointer;width:55px;font-size:20px}#strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:hover, #strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:focus, #strategy[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]:active{background:-webkit-linear-gradient(#d16a4c,#e8a18d);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.talk[_ngcontent-%COMP%]{padding-bottom:0}.talk[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{border:2px solid #e1a181;display:flex;width:100px;height:100px;text-align:center;justify-content:center;margin:0 auto;border-radius:50px;color:#fff;text-decoration:none;font-size:28px;font-weight:700;align-items:center;cursor:pointer}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:32px}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:#fff;border-bottom:1px solid}.talk[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;border-bottom:1px solid}@media (max-width: 991px){.talk[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%}}@media (orientation: landscape) and (max-width: 991px){.h1[_ngcontent-%COMP%]{font-size:38px}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010;padding:80px 0}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px;padding:50px 0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 575px){.head[_ngcontent-%COMP%]{padding:30px 0}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:-8px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px;top:3px}}@media (max-width: 767px){.head[_ngcontent-%COMP%]:before{left:-5px}}.tutorial_link[_ngcontent-%COMP%]{display:none!important}.review-section[_ngcontent-%COMP%]{background-color:#000}.review-section[_ngcontent-%COMP%]   .tutorial_link[_ngcontent-%COMP%]{display:none!important}.review-section[_ngcontent-%COMP%]     .sk_branding a{display:none!important}.sk-ww-google-reviews[_ngcontent-%COMP%]{background-color:#000!important}.sk_branding[_ngcontent-%COMP%]{display:none!important}  .sk-instagram-feed .sk-ig-load-more-posts{border:2px solid #e1a181!important;display:flex!important;width:102px!important;height:100px!important;text-align:center!important;justify-content:center;margin:30px auto 0!important;border-radius:50px!important;color:#fff;text-decoration:none!important;font-size:28px;font-weight:900;align-items:center;cursor:pointer;padding:30px 8px!important}.insta-section[_ngcontent-%COMP%]     .sk-instagram-feed .sk-ig-load-more-posts{height:102px!important;background:transparent!important;border-radius:70px!important}.insta-section[_ngcontent-%COMP%]     .sk-instagram-feed .sk-ig-load-more-posts:hover{padding:30px 8px!important;background:#e1a181!important;color:#fff!important}.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:73%;margin:0 auto;border-top:1px solid rgb(219,219,219)!important;padding:20px 0 0!important}@media (max-width: 1399px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:77%}}@media (max-width: 1199px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:90%}}@media (max-width: 991px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:100%}}@media (max-width: 767px){.insta-section[_ngcontent-%COMP%]     .sk-ig-all-posts{width:101%}}.review-head[_ngcontent-%COMP%]{font-weight:700;color:#fff;padding:80px 0}@media (max-width: 1199px){.review-head[_ngcontent-%COMP%]{font-size:28px;padding:50px 0}}@media (max-width: 991px){.review-head[_ngcontent-%COMP%]{font-size:24px;padding:30px 0}}@media (max-width: 767px){.review-head[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}.review-head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.review-head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.review-head[_ngcontent-%COMP%]:before{height:24px;width:4px;top:3px}}@media (max-width: 767px){.insta-section[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.insta-section[_ngcontent-%COMP%]     .sk_branding a{display:none!important}.review-section[_ngcontent-%COMP%]   .review-shortdecs[_ngcontent-%COMP%]{overflow:hidden}.review-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.review-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important}.review-section[_ngcontent-%COMP%]     .owl-item{background-color:#1c1c27;padding:30px}.review-section[_ngcontent-%COMP%]   .coloractive[_ngcontent-%COMP%]{color:#de9b7a;font-size:24px}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]{display:flex;border:none!important;background-color:transparent!important;color:#ac9375}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]:hover{color:#fff}.review-section[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:5px}.review-section[_ngcontent-%COMP%]   .cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}.review-section[_ngcontent-%COMP%]   .box-name[_ngcontent-%COMP%]{height:250px;overflow:hidden;overflow-y:scroll}.review-section[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#de9b7a}.review-section[_ngcontent-%COMP%]   .nameheight[_ngcontent-%COMP%]{height:68px}  .sk-ig-profile-counts{display:flex;justify-content:space-between;width:80%;margin:15px 0}@media (max-width: 1199px){  .sk-ig-profile-counts{width:80%}}@media (max-width: 991px){  .sk-ig-profile-counts{width:100%}}  .sk-ig-profile-bio-container b{display:none}  .sk-ig-profile-bio-container .sk-ig-profile-bio.linked{display:block}  .sk-instagram-profile-pic{width:150px!important;height:150px!important;background-size:150px 150px!important;margin:0 100px 0 0!important}@media (max-width: 1024px){  .sk-instagram-profile-pic{margin:0 80px 0 0!important}}@media (max-width: 991px){  .sk-instagram-profile-pic{width:120px!important;height:120px!important;background-size:120px 120px!important;margin:0 50px 0 0!important}}  .sk-ig-profile-info{width:50%!important}@media (max-width: 1199px){  .sk-ig-profile-info{width:60%!important}}@media (max-width: 991px){  .sk-ig-profile-info{width:100%!important}}  .white-popup{height:96vh!important}  .white-popup>div{height:100%!important}  .ig_media{height:95vh!important}  .instagram-user-root-container{display:flex;justify-content:center;align-items:center;padding-bottom:80px!important;margin-bottom:30px!important}@media (max-width: 991px){  .instagram-user-root-container{padding-bottom:50px!important}}@media (max-width: 767px){  .instagram-user-root-container{padding-left:0!important;padding-right:0!important}}@media (max-width: 480px){  .instagram-user-root-container{display:block}}  button.instagram-user-container{background-color:#efefef!important;border-color:#efefef!important}  button.instagram-user-container:hover{background-color:#dbdbdb!important;border-color:#dbdbdb!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:56px}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:30px}}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{padding-right:0}}@media (max-width: 575px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]{text-align:center}}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#444!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#333;background-color:#efefef!important;border-color:#efefef!important;font-weight:400}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#dbdbdb!important;border-color:#dbdbdb!important}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csmargin[_ngcontent-%COMP%]{margin:15px 0}@media (max-width: 575px){.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csmargin[_ngcontent-%COMP%]{justify-content:center}}.instagram-profile[_ngcontent-%COMP%]   .contentBlock[_ngcontent-%COMP%]   .csdflx[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444!important;text-decoration:none!important}.instagram-profile[_ngcontent-%COMP%]   .profileblock[_ngcontent-%COMP%]{padding-bottom:80px;margin-bottom:30px}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .profileblock[_ngcontent-%COMP%]{padding-bottom:50px}}.instagram-profile[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{object-fit:cover;width:-webkit-fill-available;border-radius:8px}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{flex-grow:1;width:32%;height:255px}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{width:40%;height:auto}}@media (max-width: 380px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]{width:100%;height:255px}}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{cursor:pointer;background-color:#00000080;margin:0;padding:0;display:inline-block;position:absolute;top:5px;right:5px;border-radius:50%;width:30px;height:30px;text-align:center}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   span.fa-play-circle[_ngcontent-%COMP%]{font-size:30px;color:#fff}@media (max-width: 480px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   img.post-image[_ngcontent-%COMP%]{height:165px}}@media (max-width: 380px){.instagram-profile[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .col-md-41[_ngcontent-%COMP%]   img.post-image[_ngcontent-%COMP%]{height:100%}}.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:83%;background-color:#dbdbdb;height:1px;margin:0 auto}@media (max-width: 991px){.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:90%}}@media (max-width: 767px){.instagram-profile[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%}}  .myCustomModalClass-video .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-content{background:#000}@media (max-width: 1920px){  .myCustomModalClass-video .modal-dialog.modal-lg{--bs-modal-width: 90% !important;margin:0 auto}}@media (min-width: 992px){  .myCustomModalClass-video .modal-dialog.modal-lg{--bs-modal-width: 100%;margin:0 auto}}@media (max-width: 1280px){  .myCustomModalClass-video .modal-dialog.modal-lg{max-width:100%}}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass-video .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass-video .btn{background-color:transparent!important;border:none!important;color:#444!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass-video .btn:hover{color:#ffffff80!important}@media (max-width: 991px){  .myCustomModalClass-video .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass-video .btn{top:-6px;right:6px}}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#444!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#ffffff80!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}@media (max-width: 480px){  video{width:90%}}  .modal-body{padding:10px}.cstheight[_ngcontent-%COMP%]{min-height:300px;position:relative;display:block}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{min-height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.custom-col[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;text-align:center}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:15px;transition:all .5s;cursor:default!important}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:gray}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:57px;cursor:default!important}@media (max-width: 1199px){.custom-col[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}}@media (max-width: 768px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1650px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:90px}}@media (max-width: 1366px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.philosophy[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1.2}}.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:52px}@media (max-width: 1366px){.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:42px}}@media (max-width: 1280px){.philosophy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:32px}}.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]{position:relative;margin-bottom:8rem;z-index:1}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]{margin-bottom:5rem}}@media (max-width: 1199px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:87%}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .imagecent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:left;padding:35px 124px 35px 40px;width:390px;border-radius:80px;position:absolute;bottom:8%;right:6%;box-shadow:-7px 6px 20px #00000029;cursor:pointer;transition:all .4s ease-in}@media (max-width: 1440px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{right:0}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{right:0;left:0;margin:0 auto;bottom:-10%;width:280px;height:85px;padding:13px 80px 13px 20px}}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{width:90%}}@media (max-width: 380px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover{background-color:#000;box-shadow:none}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;text-decoration:none}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:50px;width:50px}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{font-weight:600;font-family:Montserrat,sans-serif!important}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardleft[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:left;padding:35px 124px 35px 40px;width:390px;border-radius:80px;position:absolute;bottom:8%;left:21%;box-shadow:-7px 6px 20px #00000029;cursor:pointer;transition:all .4s ease-in}@media (max-width: 1440px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{left:0}}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{left:0;right:0;bottom:-10%;margin:0 auto;width:280px;height:85px;padding:13px 80px 13px 20px}}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{width:90%}}@media (max-width: 380px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]{width:100%}}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover{background-color:#000;box-shadow:none}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;text-decoration:none}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:50px;width:50px}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{font-weight:600;font-family:Montserrat,sans-serif!important}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cardright[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]{text-align:left;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:50px;position:absolute;right:14%;top:50%}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:65px;width:65px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.2s all ease-in-out}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}}.philosophy[_ngcontent-%COMP%]   .cstcardright[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]{text-align:left;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:50px;position:absolute;right:14%;top:50%}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:65px;width:65px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.2s all ease-in-out}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}}.philosophy[_ngcontent-%COMP%]   .cstcardleft[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.philosophy[_ngcontent-%COMP%]   .text128[_ngcontent-%COMP%]{width:128px;transition:.5s all ease-in-out}.philosophy[_ngcontent-%COMP%]   .cstbtn128[_ngcontent-%COMP%]:hover   .text128[_ngcontent-%COMP%]{width:140px;letter-spacing:1px}.philosophy[_ngcontent-%COMP%]   .custom-block[_ngcontent-%COMP%]{display:block}@media (max-width: 480px){.philosophy[_ngcontent-%COMP%]   .custom-block[_ngcontent-%COMP%]{display:inline}}.philosophy[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:1}.philosophy[_ngcontent-%COMP%]   .position-absolute.start-50.translate-middle.mbrem8[_ngcontent-%COMP%]{z-index:1}@media (max-width: 991px){.philosophy[_ngcontent-%COMP%]   .mbrem5[_ngcontent-%COMP%]{margin-top:4rem}}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777}.mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;width:35%;bottom:-14rem}@media (max-width: 991px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-12rem}}@media (max-width: 767px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-10rem;width:60%}}@media (max-width: 600px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:-8.5rem;width:75%}}@media (max-width: 480px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{outline:none;color:#fff!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center;color:#fff!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#fff!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#fff!important;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:52px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 1024px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.start-50[_ngcontent-%COMP%]{left:55%!important}}@media (max-width: 480px){.start-50[_ngcontent-%COMP%]{left:60%!important}}.position-relative.actn[_ngcontent-%COMP%]{margin:5rem auto 0 10rem!important}@media (max-width: 991px){.position-relative.actn[_ngcontent-%COMP%]{margin:3rem auto 0 10rem!important}}@media (max-width: 767px){.position-relative.actn[_ngcontent-%COMP%]{margin:4rem auto 4rem 10rem!important}}.position-relative.actn[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:155px}.blur[_ngcontent-%COMP%]{filter:blur(5px);-webkit-filter:blur(5px);-moz-filter:blur(5px);-o-filter:blur(5px);-ms-filter:blur(5px)}.collapsing[_ngcontent-%COMP%]{transition:height .5s ease!important}']}),e})(),ume=(()=>{const t=class{constructor(i,r,o){this.pageservice=i,this.metaTagService=r,this.titleService=o,this.get_PageMeta(),this.baseUrl=Dt_baseUrl+"/assets"}ngOnInit(){window.scroll(0,0),window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"process"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(ad),Me(Hl),Me(Gl))},t.\u0275cmp=Mi({type:t,selectors:[["app-process"]],decls:90,vars:6,consts:[[1,"container","container"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],[1,"mblwd"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","200",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],[1,"barcelony","text-color"],[1,"text-color"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","300",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","h1","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","300",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","400",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","500",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","h1","size90"],[1,"position-absolute","banner-left-content"],[1,"pb-0"],[1,"container-md","container-fluid-sm"],[1,"col-lg-10","offset-lg-1"],[1,"img-block","d-flex","justify-content-center"],["alt","",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content","d-flex","flex-column","position-absolute","startl-31"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"content","d-flex","flex-column","position-absolute","startr-31"],[1,"img-block","d-flex","flex-row","justify-content-center"],[1,"help-block"],["alt","","height","70",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"d-flex","flex-column","justify-content-center","align-items-center","cstpadding"],[1,"mb-0","p40"],[1,"mt-0","p90"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),A(7," Creativity.Identity."),M(),x(8,"h1",6),A(9," Visual."),x(10,"span",7),A(11,"Soul"),M(),x(12,"span",8),A(13,"."),M(),A(14,"Brand."),M(),x(15,"h1",9),A(16," Customer "),M(),x(17,"h1",10),A(18," Creativity."),M(),x(19,"h1",11),A(20," Identity."),M(),x(21,"h1",12),A(22," Visual."),x(23,"span",7),A(24,"Soul"),M(),x(25,"span",8),A(26,"."),M()(),x(27,"h1",13),A(28,"Brand."),M(),x(29,"h1",14),A(30," Customer "),M()()()(),x(31,"div",15)(32,"p"),A(33,"Whether it's a birth or an evolution of a brand, "),M(),x(34,"p"),A(35,"nothing stands out unless it has a soul."),M()()()()(),x(36,"section",16)(37,"div",17)(38,"div",18)(39,"div",19),ce(40,"img",20),x(41,"div",21)(42,"h1"),A(43,"Research"),M(),x(44,"p"),A(45,"We start every project by reviewing and analyzing industry Competitor, relevant projects and sustainable references. Feedback to the client for continual input for both parties."),M()()(),x(46,"div",19)(47,"div",22)(48,"h1"),A(49,"Strategy"),M(),x(50,"p"),A(51,"Each project starts with a thorough investigation of the client's business, analysis of it's key features & definition of the optimal strategy for developing it."),M()(),ce(52,"img",20),M(),x(53,"div",19),ce(54,"img",20),x(55,"div",21)(56,"h1"),A(57,"Design"),M(),x(58,"p"),A(59,"Impeccable design can make or break a brand: we create detailed mood boards, wireframes and define user flows & then we experiment with the visuals using a style guide as the basis until we reach a fully responsive, flawless output."),M()()(),x(60,"div",19)(61,"div",22)(62,"h1"),A(63,"Development"),M(),x(64,"p"),A(65,"Once the decision is made in which direction to develop, a more refined concept will be presented to the client. We will also discuss in more detail print materials, online functions & features and applying a thorough 2-step QA process to our consistent coding process."),M()(),ce(66,"img",20),M(),x(67,"div",23),ce(68,"img",20),x(69,"div",21)(70,"h1"),A(71,"Delivery"),M(),x(72,"p"),A(73,"The final solution will be delivered, hitting the deadline. we like to develop a relationship with our clients and provide them an ongoing design service for this current project and more."),M()()()(),x(74,"div",24),ce(75,"img",25),x(76,"div",26)(77,"p",27),A(78,"Support"),M(),x(79,"h1",28),A(80,"We "),x(81,"span",7),A(82,"keep helping"),M(),A(83," you"),M(),x(84,"h1",28),A(85,"As long as "),x(86,"span",7),A(87,"you"),M(),A(88," need us"),M()()()()(),ce(89,"div",29)),2&r&&(se(40),Ee("src","",o.baseUrl,"/img/about-us/pixtar-diagram-1-wiggle.gif",Ce),se(12),Ee("src","",o.baseUrl,"/img/about-us/pixtar-diagram-2.gif",Ce),se(2),Ee("src","",o.baseUrl,"/img/about-us/pixtar-diagram-3.gif",Ce),se(12),Ee("src","",o.baseUrl,"/img/about-us/pixtar-diagram-4.gif",Ce),se(2),Ee("src","",o.baseUrl,"/img/about-us/pixtar-diagram-5.gif",Ce),se(7),Ee("src","",o.baseUrl,"/img/about-us/white-down-arrow.svg",Ce))},styles:['section[_ngcontent-%COMP%]{min-height:100vh;height:100%;background-color:#000}@media (max-width: 768px){section[_ngcontent-%COMP%]{background-size:100rem}}@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}@media (max-width: 480px){section[_ngcontent-%COMP%]{min-height:auto;padding-bottom:0}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;color:#fff}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;color:#fff;line-height:normal;margin-bottom:0}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width: 480px){section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:86vh!important}}section[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{position:relative;top:-2px}section[_ngcontent-%COMP%]:before{content:"";width:4px;height:4px;background:#000;position:fixed;background:radial-gradient(ellipse at center,rgba(155,155,155,.2392156863) 0%,rgba(171,171,171,.231372549) 11%,transparent 9%,transparent 100%) 0px center repeat;width:100%;height:100%;background-size:10px 10px;outline:0;margin:0;box-sizing:border-box;z-index:0;mix-blend-mode:lighten;left:0;right:0}.barcelony[_ngcontent-%COMP%]{font-family:barcelony}.p40[_ngcontent-%COMP%]{font-weight:600;font-size:40px;color:#fff}@media (max-width: 1366px){.p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){.p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){.p40[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 575px){.p40[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 480px){.p40[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 385px){.p40[_ngcontent-%COMP%]{font-size:16px}}.p90[_ngcontent-%COMP%]{font-size:90px;font-weight:700;color:#fff}@media (max-width: 1366px){.p90[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 991px){.p90[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 767px){.p90[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 575px){.p90[_ngcontent-%COMP%]{font-size:34px}}@media (max-width: 480px){.p90[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 385px){.p90[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 385px){.p90[_ngcontent-%COMP%]{font-size:20px}}section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:35%}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:24%}}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:28%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:24%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:18%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:16%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .startl-31[_ngcontent-%COMP%]{left:20%}}section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:35%;text-align:right}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:24%}}@media (max-width: 1366px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:28%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:24%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:18%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:16%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .startr-31[_ngcontent-%COMP%]{right:20%}}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:35%}@media (max-width: 1440px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:50%}}@media (max-width: 1024px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:50%}}@media (max-width: 800px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:60%}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:78%}}@media (max-width: 575px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:73%}}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;mix-blend-mode:lighten}.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;font-weight:700;margin-bottom:20px}@media (max-width: 1366px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 1024px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin-top:0;margin-bottom:10px}}@media (max-width: 800px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 767px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}}@media (max-width: 600px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin-top:-10px;margin-bottom:0}}@media (max-width: 380px){.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px;margin-top:-28px}}.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}@media (max-width: 1366px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 1024px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 800px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 767px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 600px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 480px){.img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}}.img-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .img-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.help-block[_ngcontent-%COMP%]{position:relative;display:block;margin-top:30px;text-align:center}.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}@media (max-width: 1199px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}}@media (max-width: 1024px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}}@media (max-width: 600px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}}@media (max-width: 480px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}@media (max-width: 380px){.help-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px}}.cstmenu[_ngcontent-%COMP%]{color:#fff}.cstpadding[_ngcontent-%COMP%]{padding:50px 0}@media (max-width: 767px){.cstpadding[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 600px){.cstpadding[_ngcontent-%COMP%]{padding:10px 0 20px}}.banner-left-content[_ngcontent-%COMP%]{bottom:3%;left:auto}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{bottom:100px;left:auto;position:relative!important}}@media (max-width: 330px){.banner-left-content[_ngcontent-%COMP%]{bottom:60px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin-bottom:0;line-height:normal}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.banner-left-content[_ngcontent-%COMP%]   .text-color[_ngcontent-%COMP%]{color:#da9777;font-weight:600}.text-color[_ngcontent-%COMP%]{color:#da9777}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}']}),e})();function hme(e,t){if(1&e&&(x(0,"a",19),ce(1,"img",20),M()),2&e){const n=nt().$implicit,i=nt().$implicit,r=nt();Ul("href",i.link,Ce),se(1),We("src",r.backendUrl+n,Ce)}}function pme(e,t){if(1&e&&(es(0),tt(1,hme,2,2,"ng-template",18),ts()),2&e){const n=t.$implicit;se(1),We("id",n.id)}}function fme(e,t){if(1&e&&(x(0,"div",14)(1,"div",15)(2,"owl-carousel-o",16),tt(3,pme,2,1,"ng-container",17),M()()()),2&e){const n=t.$implicit,i=nt();se(2),We("options",i.customOptions),se(1),We("ngForOf",n.project_images)}}function gme(e,t){if(1&e){const n=xr();x(0,"a",27),rt("click",function(){return En(n),kn(nt(2).loadMoreProjects())}),A(1,"More"),M()}}function mme(e,t){if(1&e&&(x(0,"div",10)(1,"div",21),tt(2,gme,2,0,"a",22),x(3,"div",23)(4,"h1",24)(5,"a",25),A(6,"Let's "),x(7,"span",26),A(8,"Talk"),M()()()()()()),2&e){const n=nt();se(2),We("ngIf",n.isactive)}}let vme=(()=>{const t=class{constructor(i,r,o,s){this.projectservice=i,this.pageservice=r,this.metaTagService=o,this.titleService=s,this.allprojects=[],this.currentPage=1,this.initialized=!1,this.currentLimit=6,this.totalRecord=0,this.filterdCategory=[],this.isactive=!0,this.isMorePrasent=!0,this.customOptions={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1e3,center:!0,dots:!1,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.get_PageMeta(),this.get_AllProjects(),this.baseUrl=Dt_baseUrl+"/assets",this.backendUrl=Dt_backendUrl+"/public/"}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"project"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&(this.filterdCategory=[],this.allprojects=[],this.totalRecord=r.count,this.totalRecord<this.currentLimit&&(this.isMorePrasent=!1),r.result.forEach(o=>{o.status&&(this.allprojects.push(o),this.filterdCategory.push(o))}))})}getFilterProjects(i){"all"==i?(this.filterdCategory=this.allprojects,this.isactive=!0):(this.isactive=!1,this.allprojects&&this.allprojects.length>0&&(this.filterdCategory=[],this.allprojects.forEach(r=>{r.category&&r.category.length>0&&r.category.forEach(o=>{o.name==i&&this.filterdCategory.push(r)})})))}loadMoreProjects(){this.currentLimit=this.currentLimit+6,this.get_AllProjects()}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(tm),Me(ad),Me(Hl),Me(Gl))},t.\u0275cmp=Mi({type:t,selectors:[["app-projects"]],decls:26,vars:2,consts:[[1,"cst-tabs","p-0"],[1,"col-md-12"],[1,"col-xl-8","offset-xl-2","col-lg-10","offset-lg-1","col-md-10","offset-md-1"],["role","tablist",1,"nav","nav-pills"],[1,"nav-item"],["data-bs-toggle","pill",1,"nav-link","active",3,"click"],["data-bs-toggle","pill",1,"nav-link",3,"click"],[1,"tab-content"],["id","all",1,"tab-pane","active"],[1,"container"],[1,"row"],["class","col-lg-4 col-md-6",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"line"],[1,"col-lg-4","col-md-6"],["data-aos","fade-up","data-aos-once","true",1,"project-block"],[3,"options"],[4,"ngFor","ngForOf"],["class","slide","carouselSlide","",3,"id"],[3,"href"],[3,"src","alt","title"],[1,"co-md-12"],["class","more",3,"click",4,"ngIf"],[1,"linkblock"],[1,"mt-3","mb-3"],["routerLink","/contact"],[1,""],[1,"more",3,"click"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),rt("click",function(){return o.getFilterProjects("all")}),A(6,"All"),M()(),x(7,"li",4)(8,"a",6),rt("click",function(){return o.getFilterProjects("Branding")}),A(9,"Branding"),M()(),x(10,"li",4)(11,"a",6),rt("click",function(){return o.getFilterProjects("UX/UI")}),A(12,"UX/UI"),M()(),x(13,"li",4)(14,"a",6),rt("click",function(){return o.getFilterProjects("eCommerce")}),A(15,"eCommerce"),M()(),x(16,"li",4)(17,"a",6),rt("click",function(){return o.getFilterProjects("SEO")}),A(18,"SEO"),M()()()(),x(19,"div",7)(20,"div",8)(21,"div",9)(22,"div",10),tt(23,fme,4,2,"div",11),tt(24,mme,9,1,"div",12),M()()()(),ce(25,"div",13),M()()),2&r&&(se(23),We("ngForOf",o.filterdCategory),se(1),We("ngIf",o.isMorePrasent))},dependencies:[Qs,fa,sd,hf,Uu],styles:["section.cst-tabs[_ngcontent-%COMP%]{margin-top:15rem}@media (max-width: 480px){section.cst-tabs[_ngcontent-%COMP%]{margin-top:10rem}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;justify-content:start}@media (max-width: 991px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]{justify-content:center}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;color:#000;font-weight:400;font-size:32px;cursor:pointer}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{font-weight:600}@media (max-width: 1366px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:20px;padding:0 10px}}@media (max-width: 575px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 380px){section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;padding:0 5px}}section.cst-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:transparent;font-weight:600}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{background-color:#000;padding:50px}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]{margin:15px 0}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-right-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{cursor:pointer;border:2px solid #e1a181;display:flex;width:100px;height:100px;text-align:center;justify-content:center;margin:30px auto 0;border-radius:50px;color:#fff;text-decoration:none;font-size:28px;font-weight:700;align-items:center}@media (max-width: 1024px){section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   a.more[_ngcontent-%COMP%]{width:80px;height:80px;font-size:20px}}section.cst-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .project-block[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:20px 20px 50px}.p32[_ngcontent-%COMP%]{font-size:32px;color:#e5e5e3;font-weight:700;margin-bottom:0}@media (max-width: 1366px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.p32[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p32[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){.p32[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 575px){.p32[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 380px){.p32[_ngcontent-%COMP%]{font-size:16px}}.p26[_ngcontent-%COMP%]{font-size:26px;color:#878787;font-weight:100}@media (max-width: 1366px){.p26[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 1199px){.p26[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.p26[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 575px){.p26[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 380px){.p26[_ngcontent-%COMP%]{font-size:14px}}.project-right-block[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:20px 20px 50px}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;text-align:center}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:#fff;border-bottom:1px solid}.linkblock[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a;border-bottom:1px solid}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}"]}),e})(),yme=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/dnour/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Dt_baseUrl+"/assets",this.Url=Dt_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-pakhis"]],decls:166,vars:17,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://www.pakhis.ae/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-pakhis","pb-5"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"content"],[1,"mb-5"],[1,"semibold","subheading","mb-1"],[1,"mb-0"],[1,"row","mt-5"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"heading","mb-2"],["id","branding","data-scroll-nav","3",1,"bg-pakhis","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-pakhis","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100"],[1,"semibold","subheading"],["id","productdesign","data-scroll-nav","6",1,"bg-pakhis","package"],[1,"row","mb-4"],[1,"col-md-12","mb-5"],["alt","packaing2","width","","height","","data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"img1",3,"src"],[1,"col-md-12"],["alt","box","width","","height","","data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"img2",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],[1,"mb-md-4","mb-sm-3","mb-2"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"semibold","subheading","mb-3"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"container"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),A(9,"Pakhi's"),M(),x(10,"div",7)(11,"p"),A(12,"Pakhi\u2019s is a testament to the enchanting blend of heritage & modernity that the Middle East represents."),M(),x(13,"p")(14,"a",8),A(15,"Pakhis.ae"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),A(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),A(24,"Product Design"),M()(),x(25,"h3",15)(26,"a",13),A(27,"UI/UX Design"),M()()()()()()()()()(),x(28,"section",16)(29,"div",17)(30,"div",2)(31,"div",18),ce(32,"img",19),M()()()(),x(33,"section",20)(34,"div",1)(35,"div",2)(36,"div",21)(37,"div",22)(38,"p",23),A(39,'"Pakhi\'s" presents a luxurious and sustainable handwash collection inspired by the enchanting charm of the Middle East. Our handcrafted formulations are meticulously designed to unveil the secrets of nourished and rejuvenated skin. Each product embodies a unique blend of tradition, innovation, and care, providing an unparalleled sense of luxury to your everyday self-care routine. '),M(),x(40,"h3",24),A(41,"Project Objectives:"),M(),x(42,"p",25),A(43,"Creating an online platform for Pakhi's premium hand wash collection, emphasizing UAE's cultural and sensory aspects."),M(),x(44,"p",25),A(45," We aim to develop a user-friendly, mobile-responsive website for an enhanced online shopping experience."),M(),x(46,"p",25),A(47,"Furthermore, the platform will convey the brand's commitment to high quality, sustainability, and affordability."),M()(),x(48,"div",26)(49,"div",27)(50,"div",22)(51,"h1",28),A(52,"Branding"),M(),x(53,"p"),A(54,"In shaping the branding strategy for \"Pakhis,\" our approach involved a thorough exploration of the agency's identity. Through in-depth consultations and market analysis, we crafted a distinctive brand narrative and visual identity aligned with Pakhis' core values. The result is a sophisticated and resonant brand image, strategically positioned to leave a lasting impression on its audience. Our commitment to precision, creativity, and strategic thinking underscores the success of this collaborative endeavor, contributing to Pakhis' emergence as a distinguished entity within its industry"),M()()()()()()()(),x(55,"section",29)(56,"div",1)(57,"div",2)(58,"div",18)(59,"div",30),ce(60,"img",31),M()(),x(61,"div",32)(62,"div",2)(63,"div",33),ce(64,"img",31),M(),x(65,"div",34)(66,"div",35),ce(67,"img",36)(68,"img",37),M()()()()()()(),x(69,"section",38)(70,"div",1)(71,"div",2)(72,"div",3)(73,"div",39),ce(74,"img",40),x(75,"p",41),A(76,"The visual design of the website embodies the essence of luxury and the mystique of the Middle East."),M(),x(77,"h3",42),A(78,"Color Schemes:"),M(),x(79,"p"),A(80,"Rich and opulent color palettes reflective of the cultural richness of the Middle East."),M(),x(81,"h3",42),A(82,"Typography:"),M(),x(83,"p"),A(84,"Elegant and legible fonts to enhance readability and convey a sense of sophistication."),M(),x(85,"h3",42),A(86,"Imagery:"),M(),x(87,"p"),A(88,"High-quality, curated visuals showcasing the hand wash collection and the cultural inspiration behind each variant."),M()()()()()(),x(89,"section",43)(90,"div",1)(91,"div",2)(92,"div",3)(93,"div",44)(94,"div",27)(95,"div",22)(96,"h1",28),A(97,"Product Design"),M(),x(98,"p"),A(99,"In crafting the product design for \"Pakhis,\" we seamlessly blended creativity and functionality. Our approach, rooted in the agency's vision, resulted in a distinct hand wash collection that embodies the premium quality and cultural essence of the UAE. Through thoughtful ideation and design iterations, each product within Pakhis' collection speaks to the brand's commitment to excellence, reflecting qualities of quality, sustainability, and affordability. This collaborative effort establishes Pakhis as a standout brand, resonating with the discerning tastes of its audience."),M()()()(),x(100,"div",2)(101,"div",45),ce(102,"img",46),M(),x(103,"div",47),ce(104,"img",48),M()()()()()(),x(105,"section",49)(106,"div",1)(107,"div",2)(108,"div",3)(109,"div",44)(110,"div",50)(111,"div",22)(112,"h1",28),A(113,"UI/UX Design"),M(),x(114,"p",51),A(115,"Branding is a strategic dance of logos, colors, and more, shaping a unique identity and perception in consumers' minds. It sets a brand apart, evoking emotions and building trust."),M()()()(),x(116,"div",2)(117,"div",52)(118,"video",53),ce(119,"source",54)(120,"source",55),A(121," Your browser does not support HTML5 video. "),M(),x(122,"video",56),ce(123,"source",54)(124,"source",55),A(125," Your browser does not support HTML5 video. "),M(),x(126,"p",57),A(127,"The design and development process focused on seamlessly integrating tradition, innovation, and user-friendly functionality."),M(),x(128,"p",57),A(129,"Conducted market research to understand user preferences for luxury self-care products."),M(),x(130,"p",57),A(131,"Collaborated with stakeholders to define the brand identity and values."),M(),x(132,"p",57),A(133,"Utilized HTML 5 and Bootstrap for a responsive and visually appealing website."),M(),x(134,"p",57),A(135,"Emphasized user experience and easy navigation to facilitate a smooth browsing and shopping journey."),M()()()()()()(),x(136,"section",58)(137,"div",1)(138,"div",2)(139,"div",3)(140,"div",44)(141,"div",27)(142,"div",22)(143,"h1",28),A(144,"Technical Stack"),M(),x(145,"h3",59),A(146," The technological stack of Pakhi's website included:"),M(),x(147,"p",57),A(148,"HTML 5: Ensuring a robust and structurally sound foundation."),M(),x(149,"p",57),A(150,"Bootstrap: Facilitating a responsive and mobile-friendly design."),M(),x(151,"p",60),A(152,"Fully Mobile Responsive: Adapting seamlessly to various devices for an optimal user experience."),M(),x(153,"p"),A(154,"User-Friendly: Implementing intuitive navigation and user interfaces."),M()()()()()()()(),x(155,"section",61)(156,"div",62)(157,"div",2)(158,"div",47)(159,"div",63)(160,"div",64)(161,"a",65),ce(162,"img",66),x(163,"h1",67),A(164,"NEXT PROJECT"),M()()()()()(),ce(165,"div",68),M()()),2&r&&(se(20),Ee("href","",o.Url,"/project-details/pakhis#branding",Ce),se(3),Ee("href","",o.Url,"/project-details/pakhis#productdesign",Ce),se(3),Ee("href","",o.Url,"/project-details/pakhis#ui-ux",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/pakhis/banner-min.jpg",Ce),se(28),Ee("src","",o.baseUrl,"/images/projects/pakhis/pakhis-detail.jpg",Ce),se(4),Ee("src","",o.baseUrl,"/images/projects/pakhis/stationery-Mockup-min.jpg",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/pakhis/broken-plank.jpg",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/pakhis/duct-tape-mockup-min.jpg",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/pakhis/typography.png",Ce),se(28),Ee("src","",o.baseUrl,"/images/projects/pakhis/all-three-podium-sand.jpg",Ce),se(2),Ee("src","",o.baseUrl,"/images/projects/pakhis/threebottles-min.png",Ce),se(15),Ee("src","",o.baseUrl,"/images/projects/pakhis/pakhis-imac-scroll.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/pakhis/pakhis-imac-scroll.ogg",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/pakhis/pakhis-laptop-scroll.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/pakhis/pakhis-laptop-scroll.ogg",Ce),se(37),Ee("href","",o.Url,"/project-details/beyou",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/dnour/pixtar-case-study-web-design.png",Ce))},styles:["section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}"]}),e})();function bme(e,t){1&e&&ce(0,"img",72),2&e&&We("src",nt(2).$implicit.url,Ce)}function _me(e,t){1&e&&tt(0,bme,1,1,"ng-template",71),2&e&&We("id",nt().$implicit.id)}function xme(e,t){if(1&e&&(es(0),tt(1,_me,1,1,null,70),ts()),2&e){const n=t.$implicit;se(1),We("ngIf",n.id<=3)}}function wme(e,t){1&e&&ce(0,"img",72),2&e&&We("src",nt(2).$implicit.url,Ce)}function Cme(e,t){1&e&&tt(0,wme,1,1,"ng-template",71),2&e&&We("id",nt().$implicit.id)}function Mme(e,t){if(1&e&&(es(0),tt(1,Cme,1,1,null,70),ts()),2&e){const n=t.$implicit;se(1),We("ngIf",n.id>=4&&n.id<=6)}}function Pme(e,t){1&e&&ce(0,"img",72),2&e&&We("src",nt(2).$implicit.url,Ce)}function Ome(e,t){1&e&&tt(0,Pme,1,1,"ng-template",71),2&e&&We("id",nt().$implicit.id)}function Sme(e,t){if(1&e&&(es(0),tt(1,Ome,1,1,null,70),ts()),2&e){const n=t.$implicit;se(1),We("ngIf",n.id>=7&&n.id<=9)}}let Eme=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Dt_baseUrl+"/assets",this.Url=Dt_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-beyou"]],decls:132,vars:22,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://storebeyou.com/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","200",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-beyou"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-beyou","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-beyou","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["alt","envelop","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-beyou","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","ecommerce","data-scroll-nav","6",1,"package"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-12","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"owlcarousel1"],[3,"options"],[4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","150",1,"owlcarousel2"],[1,"owlcarousel3"],["data-aos","fade-up","data-aos-duration","3000","data-aos-delay","200",3,"options"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"],[4,"ngIf"],["class","slide","carouselSlide","",3,"id"],[3,"src","alt","title"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),A(9,"BEYOU"),M(),x(10,"div",7)(11,"p"),A(12,"Storebeyou redefines beauty empowerment in the e-commerce realm, curating a platform where women's unique beauty takes center stage."),M(),x(13,"p")(14,"a",8),A(15,"storebeyou.com"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),A(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),A(24,"UI/UX Design"),M()(),x(25,"h3",15)(26,"a",13),A(27,"Ecommerce"),M()()()()()()()()()(),x(28,"section",16)(29,"div",17)(30,"div",2)(31,"div",18),ce(32,"img",19),M()()()(),x(33,"section",20)(34,"div",21)(35,"div",2)(36,"div",22)(37,"div",23)(38,"p",24),A(39,"\"Storebeyou faced the challenge of establishing a unique online presence in the highly competitive e- commerce landscape for women's beauty products. Pixtar took on the task of creating a visually appealing and secure platform that resonated with the target audience."),M()()()()()(),x(40,"section",25)(41,"div",21)(42,"div",2)(43,"div",26)(44,"div",23)(45,"h1",27),A(46,"Branding"),M(),x(47,"p"),A(48,"Pixtar designed a distinctive logo for Storebeyou, capturing the essence of women's beauty and elegance. The logo became a visual cornerstone for the brand's identity, radiating sophistication and allure."),M()()()()()(),x(49,"section",28)(50,"div",1)(51,"div",2)(52,"div",18)(53,"div",29),ce(54,"img",30),M()(),x(55,"div",31)(56,"div",2)(57,"div",32),ce(58,"img",30),M(),x(59,"div",33)(60,"div",34),ce(61,"img",35)(62,"img",36),M()()()()()()(),x(63,"section",37)(64,"div",1)(65,"div",2)(66,"div",3)(67,"div",38),ce(68,"img",39),M()()()()(),x(69,"section",40)(70,"div",1)(71,"div",2)(72,"div",3)(73,"div",41)(74,"div",42)(75,"div",23)(76,"h1",43),A(77,"UI/UX Design"),M(),x(78,"p",44),A(79,"Crafted an intuitive and aesthetically pleasing interface for the Storebeyou website, ensuring a seamless and engaging user experience. The design prioritized showcasing the beauty products while facilitating easy navigation for online shoppers."),M()()()(),x(80,"div",2)(81,"div",45)(82,"video",46),ce(83,"source",47)(84,"source",48),A(85," Your browser does not support HTML5 video. "),M(),x(86,"video",49),ce(87,"source",47)(88,"source",48),A(89," Your browser does not support HTML5 video. "),M()()()()()()(),x(90,"section",50)(91,"div",1)(92,"div",2)(93,"div",3)(94,"div",41)(95,"div",42)(96,"div",23)(97,"h1",43),A(98,"Ecommerce"),M(),x(99,"p",44),A(100,"Developed the e-commerce platform using Magento, incorporating advanced features to enhance the online shopping experience. Stringent security measures were implemented to safeguard customer data and transactions, fostering trust and reliability."),M()()()()()()(),x(101,"div",51),ce(102,"img",30),x(103,"div",52)(104,"owl-carousel-o",53),tt(105,xme,2,1,"ng-container",54),M()(),x(106,"div",55)(107,"owl-carousel-o",53),tt(108,Mme,2,1,"ng-container",54),M()(),x(109,"div",56)(110,"owl-carousel-o",57),tt(111,Sme,2,1,"ng-container",54),M()()()(),x(112,"section",58)(113,"div",21)(114,"div",2)(115,"div",59)(116,"div",41)(117,"div",60)(118,"div",23)(119,"p",61),A(120,"Storebeyou emerged as a haven for women seeking high-quality beauty products tailored to their unique needs. The platform aimed to empower women through curated selections that celebrated beauty in diversity."),M()()()()()()()(),x(121,"section",62)(122,"div",21)(123,"div",2)(124,"div",63)(125,"div",64)(126,"div",65)(127,"a",66),ce(128,"img",67),x(129,"h1",68),A(130,"NEXT PROJECT"),M()()()()()(),ce(131,"div",69),M()()),2&r&&(se(20),Ee("href","",o.Url,"/project-details/beyou#branding",Ce),se(3),Ee("href","",o.Url,"/project-details/beyou#ui-ux",Ce),se(3),Ee("href","",o.Url,"/project-details/beyou#ecommerce",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/beyou/beyou-banner-min.png",Ce),se(22),Ee("src","",o.baseUrl,"/images/projects/beyou/beyou-branding.png",Ce),se(4),Ee("src","",o.baseUrl,"/images/projects/beyou/beyou-model-new.jpg",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/beyou/beyou-bcard.jpg",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/beyou/pack.jpg",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/beyou/typography.png",Ce),se(15),Ee("src","",o.baseUrl,"/images/projects/beyou/storebeyou-imac-scroll.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/beyou/storebeyou-imac-scroll.ogg",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/beyou/storebeyou-laptop.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/beyou/storebeyou-laptop.ogg",Ce),se(14),Ee("src","",o.baseUrl,"/images/projects/beyou/beyou-homescreen.png",Ce),se(2),We("options",o.desktopslider),se(1),We("ngForOf",o.imageData),se(2),We("options",o.desktopslider1),se(1),We("ngForOf",o.imageData),se(2),We("options",o.desktopslider2),se(1),We("ngForOf",o.imageData),se(16),Ee("href","",o.Url,"/project-details/autokoorosh",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-banner.png",Ce))},dependencies:[Qs,fa,hf,Uu],styles:[".bg-beyou[_ngcontent-%COMP%]{background:#E89F8C}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}"]}),e})(),Dme=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Dt_baseUrl+"/assets",this.Url=Dt_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-autokoorosh"]],decls:111,vars:13,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://autokoorosh.ae/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-autokoorosh","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-autokoorosh","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-autokoorosh","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-autokoorosh","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["data-aos","fade-up","data-aos-duration","2500","data-aos-delay","100"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto","desktopimg"],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],["id","myVideo3","width","320","height","176","autoplay","true","muted","muted","loop","true","oncanplay","this.play()","onloadedmetadata","this.muted = true",1,"w-100","h-auto"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),A(9,"AUTOKOOROSH"),M(),x(10,"div",7)(11,"p"),A(12,"One of the leading auto repair shops serving customers in dubai. All mechanic services are performed by highly qualified mechanics."),M(),x(13,"p")(14,"a",8),A(15,"autokoorosh.ae"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),A(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),A(24,"UI/UX Design"),M()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),ce(29,"img",18),M()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),A(36,"Autokoorosh, an established auto service provider, embarked on a digital journey with Pixtar, a renowned web development agency. With a track record of 15 years of delivering quality car repair and detailing services, Autokoorosh has earned maximum customer satisfaction. "),ce(37,"br")(38,"br"),A(39," Despite their longstanding success in the auto service industry, Autokoorosh recognized the need to enhance their online presence to better serve their customers and expand their reach. Pixtar was tasked with developing a website that not only reflected Autokoorosh's commitment to quality services but also showcased their work and diversified offerings."),M()()()()()(),x(40,"section",24)(41,"div",20)(42,"div",2)(43,"div",25)(44,"div",22)(45,"h1",26),A(46,"Branding"),M(),x(47,"p"),A(48,"Through cohesive branding efforts, Pixtar helped Autokoorosh strengthen its brand presence, establish credibility in the market, and attract new customers. The synergy between web development and branding ensured a holistic approach to enhancing Autokoorosh's overall marketing strategy and driving business growth."),M()()()()()(),x(49,"section",27)(50,"div",1)(51,"div",2)(52,"div",17)(53,"div",28),ce(54,"img",29),M()(),x(55,"div",30)(56,"div",2)(57,"div",31),ce(58,"img",29),M(),x(59,"div",32)(60,"div",33),ce(61,"img",34),M()()()()()()(),x(62,"section",35)(63,"div",1)(64,"div",2)(65,"div",3)(66,"div",36),ce(67,"img",37),x(68,"p",38),A(69,"Through cohesive branding efforts, Pixtar helped Autokoorosh strengthen its brand presence, establish credibility in the market, and attract new customers. The synergy between web development and branding ensured a holistic approach to enhancing Autokoorosh's overall marketing strategy and driving business growth."),M()()()()()(),x(70,"section",39)(71,"div",1)(72,"div",2)(73,"div",3)(74,"div",40)(75,"div",41)(76,"div",22)(77,"h1",42),A(78,"UI/UX Design"),M(),x(79,"p",43),A(80,"Pixtar crafted a dynamic and user-friendly website for Autokoorosh, highlighting their core services of car repairing and detailing. The website was designed to provide visitors with easy access to information about Autokoorosh's services, locations, and contact details. Integration of interactive features facilitated seamless communication between Autokoorosh and its customers"),M()()()(),x(81,"div",2)(82,"div",44)(83,"video",45),ce(84,"source",46)(85,"source",47),A(86," Your browser does not support HTML5 video. "),M(),x(87,"video",48),ce(88,"source",46)(89,"source",47),A(90," Your browser does not support HTML5 video. "),M()()()()()()(),x(91,"section",49)(92,"div",20)(93,"div",2)(94,"div",50)(95,"div",40)(96,"div",51)(97,"div",22)(98,"p",52),A(99,"Pixtar's collaboration with Autokoorosh resulted in a successful digital transformation, positioning them as a leader in the auto service industry. The new website not only improved customer engagement but also strengthened Autokoorosh's brand identity and facilitated business growth. Through strategic web development, Pixtar helped Autokoorosh drive excellence in auto services and expand its reach in the competitive Dubai market."),M()()()()()()()(),x(100,"section",53)(101,"div",20)(102,"div",2)(103,"div",54)(104,"div",55)(105,"div",56)(106,"a",57),ce(107,"img",58),x(108,"h1",59),A(109,"NEXT PROJECT"),M()()()()()(),ce(110,"div",60),M()()),2&r&&(se(20),Ee("href","",o.Url,"/project-details/autokoorosh#branding",Ce),se(3),Ee("href","",o.Url,"/project-details/autokoorosh#ui-ux",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-banner-min.png",Ce),se(25),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-branding.png",Ce),se(4),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-left.png",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-right.png",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/typography.png",Ce),se(17),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-desktop.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh-desktop.ogg",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh_laptop.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/autokoorosh/autokoorosh_laptop.ogg",Ce),se(17),Ee("href","",o.Url,"/project-details/vendetta",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/vendetta/vendetta-banner-min.png",Ce))},styles:[".bg-autokoorosh[_ngcontent-%COMP%]{background:#101621}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#fff}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}"]}),e})(),Ame=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Dt_baseUrl+"/assets",this.Url=Dt_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-vendetta"]],decls:96,vars:9,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://vendettagarages.com/","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-beyou","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-beyou","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-beyou","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-beyou","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],[1,"text-white","font-bold",3,"href"],["alt","","width","280","height","280",3,"src"],[1,"heading","text-white"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),A(9,"VENDETTA"),M(),x(10,"div",7)(11,"p"),A(12,"Vendetta Auto Garage Company exemplifies the seamless integration of tradition and innovation in the automotive industry."),M(),x(13,"p")(14,"a",8),A(15,"vendettagarages.com"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),A(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),A(24,"UI/UX Design"),M()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),ce(29,"img",18),M()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),A(36,"Pixtar was entrusted with translating our passion for precision car painting into a captivating digital platform. We relied on Pixtar to not only capture the essence of our expertise but also to craft a seamless and engaging website that reflects our commitment to automotive excellence."),M()()()()()(),x(37,"section",24)(38,"div",20)(39,"div",2)(40,"div",25)(41,"div",22)(42,"h1",26),A(43,"Branding"),M(),x(44,"p"),A(45,"Pixtar undertook comprehensive branding work for Vendetta, starting with the creation of a distinctive logo that encapsulated the company's identity. Additionally, Pixtar designed eye-catching flyers, standees, and business cards that effectively conveyed Vendetta's professionalism and expertise in car painting services."),M()()()()()(),x(46,"section",27)(47,"div",1)(48,"div",2)(49,"div",17)(50,"div",28),ce(51,"img",29),M()(),x(52,"div",30)(53,"div",2)(54,"div",31),ce(55,"img",29),M(),x(56,"div",32)(57,"div",33),ce(58,"img",34),M()()()()()()(),x(59,"section",35)(60,"div",1)(61,"div",2)(62,"div",3)(63,"div",36),ce(64,"img",37),M()()()()(),x(65,"section",38)(66,"div",1)(67,"div",2)(68,"div",3)(69,"div",39)(70,"div",40)(71,"div",22)(72,"h1",41),A(73,"UI/UX Design"),M(),x(74,"p",42),A(75,"Pixtar developed a dynamic and user-friendly website for Vendetta Auto Garage Company. The website showcased Vendetta's services, including interior and exterior painting for all types of cars, with detailed descriptions and high-quality images. Integration of interactive features allowed customers to easily request quotes and schedule appointments."),M()()()()()()()(),x(76,"section",43)(77,"div",20)(78,"div",2)(79,"div",44)(80,"div",39)(81,"div",45)(82,"div",22)(83,"p",46),A(84,"Pixtar's collaboration with Vendetta Auto Garage Company resulted in a successful digital transformation. The website and branding materials not only enhanced Vendetta's online presence but also positioned them as a leader in car painting services. Through strategic web development and branding, Pixtar helped Vendetta attract new customers and drive business growth in the competitive automotive market."),M()()()()()()()(),x(85,"section",47)(86,"div",20)(87,"div",2)(88,"div",48)(89,"div",49)(90,"div",50)(91,"a",51),ce(92,"img",52),x(93,"h1",53),A(94,"NEXT PROJECT"),M()()()()()(),ce(95,"div",54),M()()),2&r&&(se(20),Ee("href","",o.Url,"/project-details/vendetta#branding",Ce),se(3),Ee("href","",o.Url,"/project-details/vendetta#ui-ux",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/vendetta/vendetta-banner-min.png",Ce),se(22),Ee("src","",o.baseUrl,"/images/projects/vendetta/vendetta-branding-min.png",Ce),se(4),Ee("src","",o.baseUrl,"/images/projects/vendetta/vendetta-left-min.png",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/vendetta/vendetta-right-min.png",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/vendetta/typography.png",Ce),se(27),Ee("href","",o.Url,"/project-details/spacex",Ce),se(1),Ee("src","",o.baseUrl,"/images/projects/spacex/spacex-left.png",Ce))},styles:[".bg-beyou[_ngcontent-%COMP%]{background:#444444}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#fff}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}"]}),e})(),Tme=(()=>{const t=class{constructor(){this.imageData=[{albumId:1,id:1,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot1.png"},{albumId:1,id:2,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot2.png"},{albumId:1,id:3,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot3.png"},{albumId:1,id:4,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot4.png"},{albumId:1,id:5,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot5.png"},{albumId:1,id:6,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot6.png"},{albumId:1,id:7,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot7.png"},{albumId:1,id:8,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot8.png"},{albumId:1,id:9,thumbnailUrl:"https://via.placeholder.com/150/92c952",title:"accusamus beatae ad facilis cum similique qui sunt",url:Dt_baseUrl+"/assets/images/projects/beyou/shot9.png"}],this.desktopslider={autoplayTimeout:2e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider1={autoplayTimeout:2500,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.desktopslider2={autoplayTimeout:3e3,center:!1,margin:10,loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}},this.baseUrl=Dt_baseUrl+"/assets",this.Url=Dt_baseUrl}ngOnInit(){}};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mi({type:t,selectors:[["app-spacex"]],decls:97,vars:7,consts:[["id","project1","data-scroll-nav","0",1,"projects"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-7","col-md-7","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","h-100","service-content"],[1,"heading"],[1,"points"],["href","https://spacexfitness.in","target","_blank",1,"text-decoration-underline"],[1,"col-xl-5","col-md-5","col-sm-6"],[1,"d-flex","flex-column","justify-content-center","align-items-sm-end"],[1,"list-block"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"mt-0","mb-2"],[3,"href"],["data-aos","fade-up","data-aos-duration","1500","data-aos-delay","150",1,"mt-0","mb-2"],["data-scroll-nav","1",1,"pb-0"],[1,"container-fluid","p-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-md-12","p-0"],["alt","pages","width","","height","",3,"src"],["data-scroll-nav","2",1,"section","bg-autokoorosh","about"],[1,"container"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-9","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"content"],[1,"mb-0"],["id","branding","data-scroll-nav","3",1,"bg-autokoorosh","branding","pb-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-6","col-xl-6","col-lg-6","col-md-6","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],[1,"heading","mb-0"],["id","branding1",1,"bg-autokoorosh","branding"],[1,"imglist","mb-3"],["alt","project1","width","","height","",3,"src"],[1,"col-xxl-10","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","mx-lg-auto","ps-md-0"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","ps-md-0"],[1,"list"],["alt","packaging","width","","height","",3,"src"],["data-scroll-nav","5",1,"bg-autokoorosh","typography"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"typography"],["alt","typography","width","","height","",3,"src"],["id","ui-ux","data-scroll-nav","8",1,"section","ui-ux"],[1,"row","mb-4"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-5","col-xl-6","col-lg-8","col-md-10","col-sm-10"],[1,"heading","mb-2"],[1,""],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-lg-9","mx-lg-auto"],["id","technical","data-scroll-nav","8",1,"technical"],[1,"col-xxl-10","col-xl-10","col-lg-11","col-md-11","col-sm-11","col-11","mx-md-0","mx-sm-auto","mx-auto"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-10","col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"mb-md-4","-sm-3","mb-2"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"next","bg-black","pb-0"],[1,"col-md-12"],[1,"next-block"],[1,"in-line"],["href","#",1,"text-white","font-bold"],[1,"heading","text-white"],[1,"line"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div")(8,"h1",6),A(9,"SPACEXFITNESS"),M(),x(10,"div",7)(11,"p"),A(12,"SpaceX Fitness embodies a fusion of cutting-edge fitness technology and expert coaching, propelling individuals to new heights of strength and vitality."),M(),x(13,"p")(14,"a",8),A(15,"spacexfitness.in"),M()()()()()(),x(16,"div",9)(17,"div",10)(18,"div",11)(19,"h3",12)(20,"a",13),A(21,"Branding"),M()(),x(22,"h3",14)(23,"a",13),A(24,"UI/UX Design"),M()()()()()()()()()(),x(25,"section",15)(26,"div",16)(27,"div",2)(28,"div",17),ce(29,"img",18),M()()()(),x(30,"section",19)(31,"div",20)(32,"div",2)(33,"div",21)(34,"div",22)(35,"p",23),A(36,"Pixtar was tasked with encapsulating the essence of our innovative approach to fitness into a digital platform. We entrusted Pixtar not only with capturing our brand's dynamic spirit but also with creating a seamless and engaging website that reflects our commitment to excellence in health and wellness."),M()()()()()(),x(37,"section",24)(38,"div",20)(39,"div",2)(40,"div",25)(41,"div",22)(42,"h1",26),A(43,"Branding"),M(),x(44,"p"),A(45,"In addition to website development, Pixtar undertook comprehensive branding work for SpaceX. This included creating a cohesive visual identity that aligned with their values and industry positioning. From logo design to color schemes and typography, every element was carefully crafted to reflect the brand's professionalism and expertise."),M()()()()()(),x(46,"section",27)(47,"div",1)(48,"div",2)(49,"div",17)(50,"div",28),ce(51,"img",29),M()(),x(52,"div",30)(53,"div",2)(54,"div",31),ce(55,"img",29),M(),x(56,"div",32)(57,"div",33),ce(58,"img",34),M()()()()()()(),x(59,"section",35)(60,"div",1)(61,"div",2)(62,"div",3)(63,"div",36),ce(64,"img",37),M()()()()(),x(65,"section",38)(66,"div",1)(67,"div",2)(68,"div",3)(69,"div",39)(70,"div",40)(71,"div",22)(72,"h1",41),A(73,"UI/UX Design"),M(),x(74,"p",42),A(75,"The design prioritized delivering an immersive browsing experience, seamlessly navigating users through the gym's facilities,and membership options. Every element was carefully curated to showcase the dynamic energy and innovative approach of SpaceX Fitness, ensuring visitors feel motivated and empowered to embark on their fitness journey."),M()()()(),x(76,"div",2),ce(77,"div",43),M()()()()(),x(78,"section",44)(79,"div",20)(80,"div",2)(81,"div",45)(82,"div",39)(83,"div",46)(84,"div",22)(85,"p",47),A(86,"Pixtar's partnership with SpaceX Fitness has yielded a digital platform that seamlessly merges technology with fitness expertise. This case study highlights Pixtar's adeptness in harmonizing design, development, and functionality, delivering a compelling digital experience for SpaceX Fitness' audience."),M()()()()()()()(),x(87,"section",48)(88,"div",20)(89,"div",2)(90,"div",49)(91,"div",50)(92,"div",51)(93,"a",52)(94,"h1",53),A(95,"NEXT PROJECT"),M()()()()()(),ce(96,"div",54),M()()),2&r&&(se(20),Ee("href","",o.Url,"/project-details/spacex#branding",Ce),se(3),Ee("href","",o.Url,"/project-details/spacex#ui-ux",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/spacex/spacex-banner-min.png",Ce),se(22),Ee("src","",o.baseUrl,"/images/projects/spacex/spacex-branding.png",Ce),se(4),Ee("src","",o.baseUrl,"/images/projects/spacex/glove.png",Ce),se(3),Ee("src","",o.baseUrl,"/images/projects/spacex/kattlebell.png",Ce),se(6),Ee("src","",o.baseUrl,"/images/projects/spacex/typography.png",Ce))},styles:[".bg-autokoorosh[_ngcontent-%COMP%]{background:#f3f1ee}section[_ngcontent-%COMP%]{overflow:hidden}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#101010}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#101010;font-size:18px}@media (max-width: 767px){section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-weight:500}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}section[_ngcontent-%COMP%]   .barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:24px}@media (max-width: 767px){.section[_ngcontent-%COMP%]{padding:50px 0}}.projects[_ngcontent-%COMP%]{margin-top:200px}@media (max-width: 991px){.projects[_ngcontent-%COMP%]{margin-top:150px}}@media (max-width: 768px){.projects[_ngcontent-%COMP%]{margin-top:120px}}.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:15px 0;color:#101010;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#878787}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#da9777}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#da9777}@media (max-width: 575px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]{margin-top:20px}}.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#878787;font-weight:500;font-size:28px}@media (max-width: 1440px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1366px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 1024px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.projects[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.branding[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 30px;color:#000}.branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}.branding[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}img[_ngcontent-%COMP%]{max-width:100%;width:100%}.owlcarousel1[_ngcontent-%COMP%]{margin:50px 0}.owlcarousel2[_ngcontent-%COMP%]{margin:0 0 50px}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{display:flex;justify-content:start;height:350px;align-items:center;width:100%}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]{height:250px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;width:280px;display:inline;opacity:0;transition:.3s;border-radius:5px}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:160px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:90px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 380px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover{width:100%}.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:40px;opacity:1;transition:width .8s ease;margin-left:150px;transition:.3s padding ease-out,.3s margin ease-out,.15s border ease-out}@media (max-width: 991px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-right:15px;margin-left:90px}}@media (max-width: 480px){.next[_ngcontent-%COMP%]   .next-block[_ngcontent-%COMP%]   .in-line[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{margin-left:25px;margin-right:10px}}.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:80px}@media (max-width: 767px){.ui-ux[_ngcontent-%COMP%]   .desktopimg[_ngcontent-%COMP%]{margin-bottom:50px}}.line[_ngcontent-%COMP%]{width:100%;position:relative;display:block;height:1px;background-color:#f0ebe6}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}"]}),e})();function kme(e,t){if(1&e&&(x(0,"div",66)(1,"a",67),ce(2,"img",57),M()()),2&e){const n=t.$implicit;se(2),Iu("img-fluid ",n.class,""),Ul("src",n.img,Ce)}}let Ime=(()=>{const t=class{constructor(i,r,o,s){this.router=i,this.pageservice=r,this.metaTagService=o,this.titleService=s,this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.isPlaying=!0,this.clientImgarray=[],this.filteredClients=[],this.isChangingRandom=!1,this.get_PageMeta(),this.baseUrl=Dt_baseUrl+"/assets"}ngOnInit(){var r={container:document.getElementById("lottie"),renderer:"svg",loop:!0,autoplay:!0,animationData:{v:"5.9.6",fr:30,ip:0,op:96,w:122,h:119,nm:"hand",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:-34.9,ix:10},p:{a:0,k:[67.1,111.5,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ip:0,op:150,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 3 Outlines",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:9.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20.363,s:[-8]},{i:{x:[.65],y:[1.156]},o:{x:[.333],y:[0]},t:30.546,s:[8]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:42,s:[-1.8]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:60,s:[-.4]},{t:69,s:[0]}],ix:10},p:{a:0,k:[-2.981,.359,0],ix:2,l:2},a:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[15.024,91.188,0],to:[0,0,0],ti:[0,0,0]},{t:44,s:[15.024,91.188,0]}],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[3.903,-5.533],[3.056,-2.353],[6.543,2.313],[4.228,4.252],[.327,6.566],[-.109,2.842],[-.281,9.016],[.083,2.706],[-1.043,.386],[-.666,-2.038],[-.181,-1.13],[.156,-4.374],[-1.579,-.706],[-1.31,1],[-.442,.663],[-6.815,9.598],[-.455,.427],[-1.272,-1.478],[1.046,-1.327],[4.713,-6.619],[.196,-.327],[-1.1,-.992],[-1.181,.832],[-.345,.518],[-6.936,9.765],[-.29,.345],[-1.763,-.582],[-.03,-1.826],[.764,-.91],[6.934,-9.766],[.241,-.499],[-1.104,-.867],[-1.126,.839],[-.321,.495],[-5.124,7.179],[-.342,.391],[-1.712,-.819],[1.17,-2.201],[.133,-.179],[5.282,-7.492],[-1.55,-1.123],[-1.373,1.933],[-2.975,4.189],[-.217,.273],[-1.064,-.33],[-.164,-.992],[.618,-.721],[4.295,-6.063]],o:[[0,0],[-3.925,5.53],[-2.207,3.163],[-5.419,4.144],[-5.658,-1.985],[-4.757,-4.537],[-.132,-2.83],[.352,-9.013],[.084,-2.7],[-.047,-1.53],[2.052,-.622],[.282,1.109],[.785,4.306],[-.141,1.724],[1.431,.818],[.627,-.491],[6.837,-9.584],[.339,-.524],[1.477,-1.272],[1.103,1.28],[-4.699,6.627],[-.221,.311],[-.761,1.271],[1.062,.978],[.484,-.392],[6.95,-9.758],[.262,-.368],[1.202,-1.415],[1.726,.596],[-.023,1.188],[-6.946,9.76],[-.333,.444],[-.56,1.287],[1.107,.863],[.438,-.395],[5.133,-7.171],[.3,-.423],[1.273,-1.408],[2.2,1.171],[-.105,.197],[-5.348,7.451],[-1.34,1.9],[1.55,1.123],[2.98,-4.187],[.2,-.283],[.669,-.891],[.979,.23],[.17,.934],[-4.32,6.046],[0,0]],v:[[23.152,14.265],[23.152,14.265],[11.387,30.834],[3.446,39.158],[-14.469,42.324],[-29.49,32.847],[-37.41,15.555],[-37.109,7.033],[-36.085,-20.008],[-36.314,-28.124],[-34.842,-30.943],[-29.951,-28.395],[-29.245,-25.033],[-28.298,-11.975],[-25.898,-7.919],[-21.376,-8.219],[-19.764,-9.962],[.715,-38.734],[1.91,-40.165],[6.888,-39.794],[6.986,-35.305],[-7.133,-15.436],[-7.783,-14.492],[-7.199,-10.598],[-3.355,-10.348],[-2.105,-11.721],[18.725,-41.005],[19.531,-42.094],[24.437,-43.471],[27.362,-39.438],[26.146,-36.195],[5.327,-6.906],[4.464,-5.488],[5.387,-1.83],[9.168,-1.788],[10.311,-3.128],[25.697,-24.654],[26.645,-25.895],[31.676,-26.887],[33.542,-20.783],[33.185,-20.219],[17.314,2.245],[17.658,7.111],[22.458,5.811],[31.391,-6.755],[32.008,-7.593],[34.898,-8.527],[36.785,-6.509],[36.077,-3.893],[23.154,14.271]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-2.092,-1],[-5.851,1.244],[-2.89,2.122],[-2.836,4.038],[-8.223,11.534],[1.8,3.179],[2.203,.713],[-.482,.692],[3.481,3.721],[1.699,.527],[.484,.17],[1.139,3.155],[2.122,1.241],[3.015,-1.109],[1.758,-2.785],[.644,.543],[3.548,-4.034],[.13,-.169],[1.792,-2.514],[4.079,-5.747],[0,0],[.082,.492],[.844,3.567],[3.743,.857],[2.2,-2.689],[-.104,-2.042],[.639,-12.849],[-1.281,-4.26],[-5.078,-4.319],[-.195,-.238],[0,0]],o:[[2.036,1.113],[5.3,2.515],[3.508,-.744],[3.984,-2.911],[8.184,-11.562],[2.279,-2.855],[-1.124,-2.024],[.544,-.765],[3.017,-4.106],[-1.184,-1.328],[-.386,-.124],[1.837,-2.807],[-.767,-2.335],[-2.755,-1.652],[-3.194,1.082],[-.671,-.678],[-4.034,-3.548],[-.141,.16],[-1.912,2.423],[-4.089,5.741],[0,0],[-.08,-.81],[-.575,-3.63],[-.905,-3.835],[-3.335,-.972],[-1.354,1.532],[.755,12.89],[-.219,4.4],[1.914,6.386],[.221,.214],[0,0],[0,0]],v:[[-26.227,43.472],[-20.111,46.795],[-3.436,49.195],[6.271,44.847],[16.572,34.353],[41.182,-.292],[41.975,-10.279],[36.799,-14.538],[38.319,-16.68],[37.519,-30.18],[33.112,-33.014],[31.862,-33.451],[32.969,-42.919],[28.486,-48.471],[19.361,-49.329],[12.486,-42.977],[10.62,-44.85],[-3.107,-43.971],[-3.514,-43.477],[-8.939,-35.964],[-21.189,-18.731],[-22.033,-17.546],[-22.214,-19.346],[-24.014,-30.219],[-31.486,-37.094],[-40.613,-34.262],[-42.563,-28.686],[-43.555,9.895],[-42.488,22.887],[-31.775,39.287],[-31.152,39.965],[-26.227,43.465]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[44.024,50.688],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 4 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[4]},{t:17,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.591],y:[1.232]},o:{x:[.333],y:[0]},t:3.182,s:[64.512]},{t:17,s:[78.762]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:3.182,s:[-46.004]},{t:17,s:[-45.754]}],ix:4}},a:{a:0,k:[3.602,10.311,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.05,.08],[-.397,.235],[-.245,-.372],[-.243,-2.031],[2.88,-3.875],[.273,0]],o:[[-.461,0],[0,-.17],[6.552,-9.387],[-.235,-.397],[.383,-.227],[1.001,1.784],[.576,4.793],[-.156,.224],[0,0]],v:[[-2.516,10.057],[-3.351,9.221],[-3.201,8.745],[-1.542,-8.689],[-1.249,-9.834],[-.128,-9.576],[1.757,-3.797],[-1.831,9.704],[-2.516,10.061]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.601,10.311],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"Layer 5 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[100]}],ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:15,s:[0]}],ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.524],y:[1.943]},o:{x:[.333],y:[0]},t:0,s:[63.218]},{t:15,s:[81.718]}],ix:3},y:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-46.437]},{t:15,s:[-45.687]}],ix:4}},a:{a:0,k:[3.592,13.05,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.462],[-.098,.14],[.719,5.523],[1.159,2.111],[-.394,.238],[-.245,-.379],[-.31,-2.601],[4.815,-6.892],[.273,0]],o:[[-.461,0],[0,-.17],[3.6,-5.154],[-.281,-2.392],[-.238,-.395],[.387,-.233],[1.281,2.285],[.55,4.109],[-.156,.224],[0,0]],v:[[-2.507,12.799],[-3.341,11.964],[-3.191,11.486],[1.147,-4.604],[-1.033,-11.421],[-.75,-12.566],[.383,-12.305],[2.792,-4.905],[-1.823,12.439],[-2.508,12.797]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[3.592,13.05],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 6 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:15.909,s:[3]},{t:28,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.706],y:[1.553]},o:{x:[.333],y:[0]},t:15.909,s:[30.436]},{t:28,s:[24.186]}],ix:3},y:{a:1,k:[{i:{x:[.652],y:[1.489]},o:{x:[.333],y:[0]},t:15.909,s:[-81.209]},{t:28,s:[-93.959]}],ix:4}},a:{a:0,k:[9.646,4.948,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-.001,.461],[-.075,.128],[-1.692,1.15],[-4.764,-.772],[.06,-.457],[.457,.06],[3.634,-2.451],[1.022,-1.522],[.295,0]],o:[[-.461,-.001],[0,-.148],[1.123,-1.71],[3.99,-2.716],[.457,.06],[-.06,.457],[-4.324,-.717],[-1.519,1.027],[-.151,.253],[0,0]],v:[[-8.561,4.693],[-9.395,3.855],[-9.279,3.435],[-5.016,-.898],[8.617,-3.926],[9.335,-2.989],[8.398,-2.27],[-3.995,.431],[-7.842,4.29],[-8.561,4.698]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.645,4.948],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"Layer 7 Outlines",parent:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:13.363,s:[0]},{t:26,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.624],y:[2.994]},o:{x:[.333],y:[0]},t:13.363,s:[30.021]},{t:26,s:[22.771]}],ix:3},y:{a:1,k:[{i:{x:[.624],y:[1.964]},o:{x:[.333],y:[0]},t:13.363,s:[-82.012]},{t:26,s:[-97.012]}],ix:4}},a:{a:0,k:[12.19,6.146,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.295,0],[0,.461],[-.076,.128],[-2.168,1.472],[-8.332,-1.099],[.06,-.457],[.457,.06],[4.573,-3.179],[1.34,-2]],o:[[-.461,-.001],[.001,-.149],[1.439,-2.19],[3.394,-2.379],[.457,.06],[-.06,.457],[-6.231,-.82],[-1.994,1.35],[-.151,.254]],v:[[-11.106,5.895],[-11.94,5.059],[-11.824,4.637],[-6.361,-.91],[11.161,-4.796],[11.88,-3.859],[10.943,-3.14],[-5.339,.413],[-10.387,5.486]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.854902020623,.588235294118,.466666696586,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[12.19,6.146],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:150,st:0,ct:1,bm:0}],markers:[]}};d9().loadAnimation(r),this.router.parseUrl(this.router.url).fragment||window.scroll({top:0,left:0,behavior:"smooth"}),this.clientImgarray.push({id:1,img:this.baseUrl+"/img/home/logos/dnour.svg",class:""},{id:2,img:this.baseUrl+"/img/home/logos/crystal.svg",class:""},{id:3,img:this.baseUrl+"/img/home/logos/miniaar.svg",class:""},{id:4,img:this.baseUrl+"/img/home/logos/bni.svg",class:""},{id:5,img:this.baseUrl+"/img/home/logos/angle.svg"},{id:6,img:this.baseUrl+"/img/home/logos/pakhis.svg",class:""},{id:7,img:this.baseUrl+"/img/home/logos/drminnie.svg",class:""},{id:8,img:this.baseUrl+"/img/home/logos/veddentta.svg",class:""},{id:9,img:this.baseUrl+"/img/home/logos/autokoorosh.svg",class:""},{id:10,img:this.baseUrl+"/img/home/logos/fractal.svg",class:""},{id:11,img:this.baseUrl+"/img/home/logos/corporate.svg",class:""},{id:12,img:this.baseUrl+"/img/home/logos/aetrio.svg",class:""},{id:13,img:this.baseUrl+"/img/home/logos/wrae.svg",class:""},{id:14,img:this.baseUrl+"/img/home/logos/beyou.svg",class:""},{id:15,img:this.baseUrl+"/img/home/logos/alchemative.svg",class:""},{id:16,img:this.baseUrl+"/img/home/logos/Asset 13.svg",class:""},{id:17,img:this.baseUrl+"/img/home/logos/caratcraft.svg",class:""},{id:18,img:this.baseUrl+"/img/home/logos/ep.svg",class:""},{id:19,img:this.baseUrl+"/img/home/logos/holidaymate.svg",class:""},{id:20,img:this.baseUrl+"/img/home/logos/j.avenue.svg",class:""},{id:22,img:this.baseUrl+"/img/home/logos/maney-angel.svg",class:""},{id:23,img:this.baseUrl+"/img/home/logos/santosh-kotli.svg",class:""},{id:24,img:this.baseUrl+"/img/home/logos/solitaire-events.svg",class:""},{id:25,img:this.baseUrl+"/img/home/logos/spacex.svg",class:""},{id:26,img:this.baseUrl+"/img/home/logos/urban-excellence.svg",class:""},{id:27,img:this.baseUrl+"/img/home/logos/virtual-key.svg",class:""},{id:28,img:this.baseUrl+"/img/home/logos/zlk.svg",class:""}),this.filteredClients=this.clientImgarray.slice(0,15),this.onHover()}onHover(){this.isChangingRandom||(this.isChangingRandom=!0,this.intervalId=setInterval(()=>{this.filterClients()},2e3))}filterClients(){this.filteredClients.forEach(c=>{c.class=""});let i=this.clientImgarray,r=[];for(var o=0;o<2;o++){var s=Math.floor(Math.random()*i.length);0==r.filter(u=>u.id==s).length&&r.push(i[s])}for(var a=0;a<r.length;a++)if(0==this.filteredClients.filter(u=>u.id==r[a].id).length){var l=Math.floor(Math.random()*this.filteredClients.length);this.filteredClients[l]=r[a],this.filteredClients[l].class="blur"}}get_PageMeta(){this.pageservice.getpageWithName({pageName:"about-us"}).subscribe(r=>{200==r.body.code&&r.body.result&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}navigateToLink(i){this.router.navigate([i])}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Yo),Me(ad),Me(Hl),Me(Gl))},t.\u0275cmp=Mi({type:t,selectors:[["app-services"]],decls:176,vars:11,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-start","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","textcolor2","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-flex","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","align-items-end","size90","textcolor2"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none","text-white","size90"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block","text-white","size90"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"text-white"],[1,"featuredvideo","m80","bannerbgcolor"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"blocklist","section1"],[1,"fontsize12","text-white","semibold","mb-4"],[1,"col-md-12"],["class","col custom-col mb-lg-5 mb-md-4 mb-4",4,"ngFor","ngForOf"],["id","services1","data-scroll-nav","0",1,"services","mtrem8","mbrem8"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","order-sm-1","order-1"],[1,"img-block"],["alt","",1,"w-100",3,"src"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-5","col-lg-5","mx-auto","col-md-6","order-sm-2","order-2"],[1,"d-flex","flex-column","h-100","service-content"],[1,"fontsize12","semibold","mb-md-0","mb-sm-2","mb-2"],[1,"size32","mb-1"],[1,"size18"],[1,"size18","textcolor3","serwidth"],[1,"points"],[1,"fontsize12","mb-0"],[1,"lufgabold"],[1,"lufgamedium"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/branding",1,"cstbtn","cstbtn128",3,"click"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],["id","services2","data-scroll-nav","1",1,"services","mtrem8","mbrem8"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-5","col-lg-5","mx-auto","col-md-6","order-md-1","order-sm-2","order-2"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content","ps-md-0","ps-sm-auto","ps-auto"],["routerLink","/website",1,"cstbtn","cstbtn128",3,"click"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xl-6","col-lg-6","col-md-6","offset-xl-1","offset-lg-1","order-md-2","order-sm-1","order-1"],[1,"mask"],["alt","",3,"src"],["id","services3","data-scroll-nav","2",1,"services","mtrem8","mbrem8"],[1,"d-flex","flex-column","justify-content-between","h-100","service-content"],[1,"float-start","cwd243","cwd2433"],["routerLink","/ecommerce",1,"cstbtn","cstbtn128",3,"click"],["id","services4","data-scroll-nav","3",1,"services","mtrem8","mbrem8"],[1,"size32"],[1,"float-start","cwd243","cwd2434"],["routerLink","/graphics",1,"cstbtn","cstbtn128",3,"click"],[1,"col","custom-col","mb-lg-5","mb-md-4","mb-4"],["href","javascript:void(0)"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1",9),A(10,"We don't do "),M(),x(11,"h1",10),A(12,"We don't do"),M(),ce(13,"div",11),M(),x(14,"h1",12),A(15,"one size fits all"),M(),x(16,"h1",13),A(17,"one size fits all"),M()()()(),x(18,"div",14)(19,"ul",15)(20,"li")(21,"a",16),ce(22,"img",17),M()(),x(23,"li")(24,"a",18),ce(25,"img",19),M()(),x(26,"li")(27,"a",20),ce(28,"img",17),M()(),x(29,"li")(30,"a",21),ce(31,"img",22),M()()(),x(32,"div",23)(33,"p",24),A(34,"Our services are tailored to "),M(),x(35,"p",24),A(36,"the needs of your brand."),M()()()()()()(),x(37,"section",25)(38,"div",1)(39,"div",26)(40,"div",27)(41,"h6",28),A(42,"OUR CLIENTS INCLUDE\u2026"),M(),x(43,"div",2),es(44),x(45,"div",29)(46,"div",2),tt(47,kme,3,4,"div",30),M()(),ts(),M()()()()(),x(48,"section",31)(49,"div",1)(50,"div",2)(51,"div",3)(52,"div",2)(53,"div",32)(54,"div",33),ce(55,"img",34),M()(),x(56,"div",35)(57,"div",36)(58,"div")(59,"h6",37),A(60,"Our Services"),M(),x(61,"h1",38),A(62,"Premium Branding"),M(),x(63,"p",39),A(64,"Your Brand, Your Story, Perfectly Told"),M()(),x(65,"p",40),A(66,"Your brand is more than a logo\u2014it\u2019s a promise. With designs built on the timeless principles of the golden ratio, we help businesses create a story that feels both balanced and bold."),M(),x(67,"div",41)(68,"p",42)(69,"span",43),A(70," DESIGNING AND CONCEPTUALISING: "),M(),x(71,"span",44),A(72," Custom Logo | Brand Guidelines | Brand Aesthetics | Luxury Packaging"),M()()(),x(73,"div",45)(74,"div",46)(75,"p")(76,"a",47),rt("click",function(){return o.navigateToLink("branding")}),x(77,"span",48),A(78,"Explore Branding Packages"),M(),x(79,"span",49),ce(80,"i",50),M()()()()()()()()()()()(),x(81,"section",51)(82,"div",1)(83,"div",2)(84,"div",3)(85,"div",2)(86,"div",52)(87,"div",53)(88,"div")(89,"h1",38),A(90,"Highly-Impactful Website"),M(),x(91,"p",39),A(92,"Designs That Perform On Every Screen"),M()(),x(93,"p",40),A(94,"We don\u2019t build websites; we create experiences. Our custom-built websites are fast, functional, and perfectly aligned with your audience and business goals \u2014because we don\u2019t believe in templates."),M(),x(95,"div",41)(96,"h5",42)(97,"span",43),A(98," DESIGN AND DEVELOPMENT:"),M(),x(99,"span",44),A(100," Static Website | Dynamic Website | Api Integration"),M()()(),x(101,"div",45)(102,"div",46)(103,"p")(104,"a",54),rt("click",function(){return o.navigateToLink("website")}),x(105,"span",48),A(106,"Explore Branding Services"),M(),x(107,"span",49),ce(108,"i",50),M()()()()()()(),x(109,"div",55)(110,"div",33),ce(111,"img",34),M()()()()()(),x(112,"div",56),ce(113,"img",57),M()(),x(114,"section",58)(115,"div",1)(116,"div",2)(117,"div",3)(118,"div",2)(119,"div",32)(120,"div",33),ce(121,"img",34),M()(),x(122,"div",35)(123,"div",59)(124,"div")(125,"h1",38),A(126,"Highly-Converting Ecommerce Website"),M(),x(127,"p",39),A(128,"Sell Globally With Custom Ecommerce Solutions"),M()(),x(129,"p",40),A(130,"A beautiful online store isn\u2019t enough\u2014you need one that converts. Whether it\u2019s Magento, Shopify, or Node.js, we create custom eCommerce platforms that perform, scale, and grow with you."),M(),x(131,"div",41)(132,"h5",42)(133,"span",43),A(134,"DESIGNING AND DEVELOPMENT:"),M(),x(135,"span",44),A(136," Shopify | Custom Magento 2.0+ | Custom eCommerce website on NodeJS & Angular "),M()()(),x(137,"div",45)(138,"div",60)(139,"p")(140,"a",61),rt("click",function(){return o.navigateToLink("ecommerce")}),x(141,"span",48),A(142,"Explore E-Commerce Solutions"),M(),x(143,"span",49),ce(144,"i",50),M()()()()()()()()()()()(),x(145,"section",62)(146,"div",1)(147,"div",2)(148,"div",3)(149,"div",2)(150,"div",52)(151,"div",53)(152,"div")(153,"h1",63),A(154,"High-End Graphic Design"),M()(),x(155,"p",40),A(156,"Need fresh designs every month? Our subscription plan gives you creative power on demand\u2014because good design should always be within reach."),M(),x(157,"div",41)(158,"h5",42)(159,"span",43),A(160,"DESIGNING:"),M(),x(161,"span",44),A(162," Catalog | Company Profile | Pitch-deck | Social Media Theme | Event Theme | Marketing Materials"),M()()(),x(163,"div",45)(164,"div",64)(165,"p")(166,"a",65),rt("click",function(){return o.navigateToLink("graphics")}),x(167,"span",48),A(168,"Explore Packages"),M(),x(169,"span",49),ce(170,"i",50),M()()()()()()(),x(171,"div",55)(172,"div",33),ce(173,"img",34),M()()()()()()(),ce(174,"app-testimonial")(175,"app-faq-component")),2&r&&(se(4),Ee("src","",o.baseUrl,"/img/three-d-objects/services.png",Ce),se(18),Ee("src","",o.baseUrl,"/img/home/social-media/instagram-white.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/facebook-white.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/linkedin-white.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/whatsapp-white.svg",Ce),se(16),We("ngForOf",o.filteredClients),se(8),Ee("src","",o.baseUrl,"/img/services/branding.jpg",Ce),se(56),Ee("src","",o.baseUrl,"/img/services/impactfull.jpg",Ce),se(2),Ee("src","",o.baseUrl,"/img/home/mask2.svg",Ce),se(8),Ee("src","",o.baseUrl,"/img/services/ecommerce.jpg",Ce),se(52),Ee("src","",o.baseUrl,"/img/services/graphic.jpg",Ce))},dependencies:[Qs,sd,cv,nm],styles:['@font-face{font-family:lufga-light;src:url(LufgaExtraLight.4a0912d6f92f8b1f.ttf) format("truetype")}@font-face{font-family:lufga-regular;src:url(LufgaRegular.2286c86967c2d7de.ttf) format("truetype")}@font-face{font-family:lufga-medium;src:url(LufgaMedium.20363385cf20657c.ttf) format("truetype")}@font-face{font-family:lufga-semibild;src:url(LufgaSemiBold.13c6156ab43a2d33.ttf) format("truetype")}@font-face{font-family:lufga-bold;src:url(LufgaBold.a4c85edd49fd93b8.ttf) format("truetype")}.lufgamedium[_ngcontent-%COMP%]{font-family:lufga-medium}.lufgabold[_ngcontent-%COMP%]{font-family:lufga-bold}@media (max-width: 991px){section[_ngcontent-%COMP%]{padding-bottom:0}}.bannerbgcolor[_ngcontent-%COMP%], .service-banner[_ngcontent-%COMP%]{background-color:#1d1d1f}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}.img-globe[_ngcontent-%COMP%]{position:absolute;right:11rem;top:30%;width:500px}@media (max-width: 1920px){.img-globe[_ngcontent-%COMP%]{right:6rem;width:400px;top:28%}}@media (max-width: 1440px){.img-globe[_ngcontent-%COMP%]{width:300px;top:33%}}@media (max-width: 1366px){.img-globe[_ngcontent-%COMP%]{width:290px;top:30%}}@media (max-width: 1199px){.img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 991px){.img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{width:592px;padding:50px 10px;justify-content:space-around}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{width:100%;padding:0}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:20px 0}}@media (max-width: 1199px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:10px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:0}}@media (max-width: 767px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:20px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1d1d1f;margin-top:0}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .fontsize18.textcolor3[_ngcontent-%COMP%]{font-weight:500}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .fontsize18.textcolor3[_ngcontent-%COMP%]{margin-top:15px 0px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .size18.textcolor3[_ngcontent-%COMP%]{margin-top:15px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1.size32[_ngcontent-%COMP%]{font-weight:500}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p.fontsize12.semibold[_ngcontent-%COMP%]{margin-bottom:15px}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d1d1f;line-height:29px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:24px}}@media (max-width: 1199px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin-bottom:5rem}@media (max-width: 1399px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin-bottom:2rem}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:15px 0}}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]   .fontsize12[_ngcontent-%COMP%]{letter-spacing:0;font-size:10px!important}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]{margin-top:20px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .serwidth[_ngcontent-%COMP%]{width:499px;margin:30px 0}@media (max-width: 1399px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .serwidth[_ngcontent-%COMP%]{width:100%;margin:20px 0}}.services[_ngcontent-%COMP%]   .img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 90px 62px -42px #00000040}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:30px}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}.banner-left-content[_ngcontent-%COMP%]{display:flex;width:393px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.down-arrow[_ngcontent-%COMP%]{bottom:13%}}@media (max-width: 767px){.down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.custom-col[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;text-align:center}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:15px;transition:all .5s;cursor:default!important}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:gray}.custom-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:57px;cursor:default!important}@media (max-width: 1199px){.custom-col[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}}@media (max-width: 768px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.custom-col[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}.cwd243[_ngcontent-%COMP%]{position:relative;width:243px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]:hover{outline:none;color:#1d1d1f!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#1d1d1f!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:active{color:#6e6e73;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:52px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 1024px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 1399px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1199px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .creative[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}}.cwd2433[_ngcontent-%COMP%]{width:270px}.cwd2434[_ngcontent-%COMP%]{width:170px}#services1[_ngcontent-%COMP%], #services2[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:1}.mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;width:30%;bottom:10rem}@media (max-width: 991px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:12rem}}@media (max-width: 767px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}}@media (max-width: 600px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:20rem;width:75%}}@media (max-width: 480px){.mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.backeeedf0[_ngcontent-%COMP%]{overflow:visible!important}.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]{position:relative;width:100%;display:block}.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;left:auto;width:21%;bottom:0}@media (max-width: 991px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:12rem}}@media (max-width: 767px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}}@media (max-width: 600px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:20rem;width:75%}}@media (max-width: 480px){.faqsection[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{bottom:0;width:100%}}.blur[_ngcontent-%COMP%]{filter:blur(5px);-webkit-filter:blur(5px);-moz-filter:blur(5px);-o-filter:blur(5px);-ms-filter:blur(5px)}']}),e})(),im=(()=>{const t=class{constructor(i){this.http=i,this.stripePayments=r=>this.http.post(Dt_backendUrl+"/api/payment/stripe-payments",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.savePaymentSuccess=r=>this.http.post(Dt_backendUrl+"/api/payment/save-stripe-payments",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.stripeSubscribe=r=>this.http.post(Dt_backendUrl+"/api/payment/stripe-subscribe",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.stripeSubscribeCancel=r=>this.http.post(Dt_backendUrl+"/api/payment/subscribe_cancel",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.stripeSubscribePause=r=>this.http.post(Dt_backendUrl+"/api/payment/subscribe_pause",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s))),this.stripeSubscribeResume=r=>this.http.post(Dt_backendUrl+"/api/payment/subscribe_resume",r,{observe:"response"}).pipe((0,Br.K)(s=>(0,zr._)(s)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Et(ql))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Rme=["myVideo"];function Nme(e,t){if(1&e){const n=xr();x(0,"div",114)(1,"div",152)(2,"a",153)(3,"img",154),rt("mouseenter",function(){const o=En(n).index;return kn(nt().onMouseEnter(o))})("mouseleave",function(){return En(n),kn(nt().onMouseLeave())}),M(),x(4,"div",155)(5,"p",156),A(6),M(),x(7,"p",157),ce(8,"span",158),M()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=nt();se(2),Ul("href",n.link,Ce),se(1),Iu("galleryimg",i,""),jl("src","",r.imagepath,"",n.image,"",Ce),se(3),$s(n.name),se(2),We("innerHTML",n.desc,vc)}}function Fme(e,t){if(1&e&&(x(0,"a",160),ce(1,"img",161),x(2,"div",155)(3,"p",156),A(4),M(),x(5,"p",157),ce(6,"span",158),M()()()),2&e){const n=nt().$implicit,i=nt();Ul("href",n.link,Ce),se(1),jl("src","",i.imagepath,"",n.project_images[0],"",Ce),se(3),$s(n.name),se(2),We("innerHTML",n.desc,vc)}}function Lme(e,t){if(1&e&&(es(0),tt(1,Fme,7,5,"ng-template",159),ts()),2&e){const n=t.$implicit,i=t.index;se(1),We("id",n+i)}}function Bme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/dnour.svg",Ce)}}function zme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/crystal.svg",Ce)}}function Ume(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/miniaar.svg",Ce)}}function jme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/bni.svg",Ce)}}function Vme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/angle.svg",Ce)}}function Hme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/pakhis.svg",Ce)}}function Gme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/drminnie.svg",Ce)}}function Wme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/veddentta.svg",Ce)}}function qme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",Ce)}}function Yme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/fractal.svg",Ce)}}function Xme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/aetrio.svg",Ce)}}function $me(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/wrae.svg",Ce)}}function Kme(e,t){if(1&e&&(x(0,"div",162)(1,"a",163),ce(2,"img",164),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/beyou.svg",Ce)}}function Qme(e,t){1&e&&(x(0,"div",175)(1,"div"),A(2," Name is required. "),M()())}function Zme(e,t){if(1&e&&(x(0,"div",175)(1,"div"),A(2),M()()),2&e){const n=nt(2);se(2),ro(" ",n.hasEmailError("email","required")," ")}}function Jme(e,t){if(1&e){const n=xr();x(0,"div",128)(1,"h5",165),A(2),M(),x(3,"button",130),rt("click",function(){return kn(En(n).$implicit.dismiss("Cross click"))}),x(4,"span",131),A(5," \xd7 "),M()()(),x(6,"div",132)(7,"div",166)(8,"div",1)(9,"div",2)(10,"div",167)(11,"div",168)(12,"form",169),rt("ngSubmit",function(){return En(n),kn(nt().submitPayment())}),x(13,"div",170)(14,"div",135),ce(15,"input",171),x(16,"label",137),A(17,"What's your name?"),M(),tt(18,Qme,3,0,"div",172),M(),x(19,"div",135),ce(20,"input",173),x(21,"label",137),A(22,"What\u2019s your e-mail?"),M(),tt(23,Zme,3,1,"div",172),M(),x(24,"div",144)(25,"div",145),ce(26,"input",174),M(),x(27,"div",147)(28,"button",148),rt("click",function(){return En(n),kn(nt().closePopUp())}),A(29,"Cancel"),M()()()()()()()()()()()}if(2&e){const n=nt();se(2),ro(" Complete Your Payment - ",n.paymentData.name," "),se(10),We("formGroup",n.paymentForm),se(6),We("ngIf",n.submitted&&n.hasError("name","required")),se(5),We("ngIf",n.submitted&&n.hasEmailError("email","required"))}}function e0e(e,t){1&e&&(x(0,"div",176),A(1," Email is required. "),M())}function t0e(e,t){1&e&&(x(0,"div",176),A(1," R-Email is required. "),M())}function n0e(e,t){if(1&e&&(x(0,"div",177),A(1),M()),2&e){const n=nt();se(1),ro(" ",n.successMessage," ")}}function i0e(e,t){if(1&e&&(x(0,"div",178),A(1),M()),2&e){const n=nt();se(1),ro(" ",n.errorMessage," ")}}function r0e(e,t){1&e&&(x(0,"div",179),A(1," Sending your message, please wait... "),M())}const o0e=function(e){return{width:e}};let s0e=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10)}constructor(i,r,o,s,a,l,c,u,d,h,f,v,y){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=u,this.http=d,this.projectservice=h,this.modalService=f,this.activeModal=v,this.payementservice=y,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.formData={name:"",email:"",contact:"",rname:"",remail:"",rcontact:""},this.successMessage="",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,this.hasError=(b,w)=>this.paymentForm.controls[b].hasError(w),this.hasEmailError=(b,w)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(w),this.tabTitle="Try with us",this.baseUrl=Dt_baseUrl+"/assets",this.imagepath=Dt_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",Wl.required],email:["",Wl.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===fl.ESC?"by pressing ESC":i===fl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}getStripPayemts(i,r,o){this.paymentData={name:i,amount:r},this.modalReference=this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(a=>{this.closeResult=`Closed with: ${a}`},a=>{this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Dt_baseUrl,this.payementservice.stripePayments(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(i.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}changeTabTitle(i){this.tabTitle=i}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}openModal(){const i=document.getElementById("contactModal");this.renderer.addClass(i,"show"),this.renderer.setStyle(i,"display","block"),this.renderer.setStyle(i,"backgroundColor","rgba(0,0,0,0.5)"),document.body.classList.add("modal-open")}closeModal(){const i=document.getElementById("contactModal");this.renderer.removeClass(i,"show"),this.renderer.setStyle(i,"display","none"),document.body.classList.remove("modal-open")}onSubmit(i){this.isSubmitting||(this.isSubmitting=!0,this.isLoading=!0,this.formData.email&&this.formData.remail?this.projectservice.sendContactForm(this.formData).subscribe(r=>{console.log("Email sent successfully",r),this.successMessage="Your message has been sent successfully!",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,i.reset(),setTimeout(()=>{this.successMessage="",this.closeModal()},5e3)},r=>{console.error("Error sending email",r),this.errorMessage="Failed to send your message. Please try again later.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},5e3)}):(this.errorMessage="Please fill in all required fields.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},3e3)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Ds),Me(Zc),Me(em),Me(ad),Me(Hl),Me(Gl),Me(lv),Me(Vg),Me(ql),Me(tm),Me(Jg),Me(qh),Me(im))},t.\u0275cmp=Mi({type:t,selectors:[["app-brading"]],viewQuery:function(r,o){if(1&r&&Ru(Rme,5),2&r){let s;Qr(s=Zr())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&rt("fullscreenchange",function(a){return o.onFullscreenChange(a)},0,Cg)("scroll",function(a){return o.onScroll(a)},!1,Up)},decls:417,vars:31,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"container-fluid"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand","mrem55"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"textcolor2"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","mt-md-5","mt-sm-4","mt-4"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","backeeedf0"],[1,"logos"],[1,"fontsize12","mb-0","semibold"],["carouselSlide",""],[1,"section","packages","pt-0","backeeedf0"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section","mbrem5"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-lg-11","col-md-10","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-xxl-5","col-xl-5","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1","pulse"],[1,"circle2"],[1,"size16"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"size16","textcolor3"],[1,"d-block"],[1,"box"],[1,"cstbtn",3,"click"],[1,"col-xxl-7","col-xl-7","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","shadow",2,"max-width","600px"],[1,"text-start","py-3","weight500","size53"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active","weight500",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link","weight500",3,"click"],["alt","",3,"src"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link","weight500",3,"click"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-6"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-center","border-0","p-0","mb-2"],[1,"fa","fa-check","me-2"],[1,"cstprng-table-cta","position-relative","mtrem3","started"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-underline"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],["style","z-index: 0;"],["payments",""],["id","contactModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3",3,"ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autocomplete","off","placeholder","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput",1,"mt-0"],["type","email","name","email","autocomplete","off","id","email","placeholder","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","contact","autocomplete","off","id","contact","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","rname","name","rname","autocomplete","off","placeholder","R-name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","remail","autocomplete","off","id","remail","placeholder","R-email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rcontact","autocomplete","off","id","rcontact","placeholder","R-Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Submit",1,"submit",3,"disabled"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","alert alert-info mt-3","role","alert",4,"ngIf"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["carouselSlide","",3,"id"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],["id","modal-basic-title",1,"modal-title"],["id","content"],[1,"col-md-12"],[1,""],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"error"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],["role","alert",1,"alert","alert-info","mt-3"]],template:function(r,o){if(1&r){const s=xr();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),A(9,"Build a "),x(10,"span",9),A(11,"Brand "),M()(),x(12,"h1",8),A(13,"that feels just right."),M()()()(),x(14,"div",10)(15,"ul",11)(16,"li")(17,"a",12),ce(18,"img",13),M()(),x(19,"li")(20,"a",14),ce(21,"img",15),M()(),x(22,"li")(23,"a",16),ce(24,"img",13),M()(),x(25,"li")(26,"a",17),ce(27,"img",18),M()()(),x(28,"div",19)(29,"p"),A(30,"Crafted with the precision of "),M(),x(31,"p"),A(32,"the golden ratio and originality"),M()()()()(),x(33,"div",20)(34,"p")(35,"a",21)(36,"span",22),A(37," Know About Branding"),M(),x(38,"span",23),ce(39,"i",24),M()()()()()(),ce(40,"div",25),x(41,"section",26)(42,"div",27)(43,"div",2)(44,"div",28)(45,"div",29)(46,"video",30,31),rt("click",function(){return o.playInFullscreenWithAudio()}),ce(48,"source",32)(49,"source",33),A(50," Your browser does not support the video tag. "),M()()()()()(),x(51,"section",34)(52,"div",1)(53,"div",2)(54,"div",35)(55,"div",36)(56,"h2",37)(57,"span",38),A(58," Your brand isn\u2019t just a"),M(),x(59,"span",39),A(60," Logo"),M(),A(61,". "),x(62,"span",40),A(63,"It\u2019s how the world sees you. At "),M(),x(64,"span",38),A(65," Pixtar"),M(),A(66,", "),x(67,"span",40),A(68," we blend art with strategy to create bespoke branding solutions "),M(),A(69," that "),x(70,"span",38),A(71,"make your story unforgettable."),M()()()()()()(),x(72,"section",41)(73,"div",42)(74,"div",2)(75,"div",35)(76,"div",43)(77,"h1",44),ce(78,"div",45),A(79," Recent Works "),M()()(),x(80,"div",35)(81,"div",2),tt(82,Nme,9,8,"div",46),M()()()(),x(83,"div",47)(84,"div",48)(85,"div",43)(86,"h1",44),ce(87,"div",45),A(88," Recent Works "),M()()(),x(89,"owl-carousel-o",49),tt(90,Lme,2,1,"ng-container",50),M()(),x(91,"div",51)(92,"div",2)(93,"div",52)(94,"div",53)(95,"div",54)(96,"div",55)(97,"p")(98,"a",56)(99,"span",57),A(100,"Book A Consultation"),M(),x(101,"span",23),ce(102,"i",24),M()()()()()()()()()(),x(103,"section",58)(104,"div",1)(105,"div",2)(106,"div",35)(107,"div",59)(108,"p",60)(109,"span",61),A(110,"Why Choose Pixtar?"),M()(),x(111,"div",62)(112,"div",2)(113,"div",63)(114,"div",64),ce(115,"img",65),x(116,"p",66),A(117,"Crafted With The Golden Ratio"),M(),x(118,"p",67),A(119,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()(),x(120,"div",68)(121,"div",64),ce(122,"img",65),x(123,"p",66),A(124,"Crafted With The Golden Ratio"),M(),x(125,"p",67),A(126,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()(),x(127,"div",63)(128,"div",64),ce(129,"img",65),x(130,"p",66),A(131,"Crafted With The Golden Ratio"),M(),x(132,"p",67),A(133,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()()()()()()()()(),x(134,"section",69)(135,"div",1)(136,"div",2)(137,"div",35)(138,"div",70)(139,"h6",71),A(140,"Our clients include..."),M(),x(141,"owl-carousel-o",49),es(142),tt(143,Bme,3,1,"ng-template",72),tt(144,zme,3,1,"ng-template",72),tt(145,Ume,3,1,"ng-template",72),tt(146,jme,3,1,"ng-template",72),tt(147,Vme,3,1,"ng-template",72),tt(148,Hme,3,1,"ng-template",72),tt(149,Gme,3,1,"ng-template",72),tt(150,Wme,3,1,"ng-template",72),tt(151,qme,3,1,"ng-template",72),tt(152,Yme,3,1,"ng-template",72),tt(153,Xme,3,1,"ng-template",72),tt(154,$me,3,1,"ng-template",72),tt(155,Kme,3,1,"ng-template",72),ts(),M()()()()()(),x(156,"section",73)(157,"div",1)(158,"div",2)(159,"div",74)(160,"div",75)(161,"h2",76)(162,"span",61),A(163,"What\u2019s Included in Our Branding Packages?"),M()(),x(164,"p",77),A(165,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),M()()(),x(166,"div",78)(167,"div",79)(168,"div",80)(169,"div",81)(170,"div",82)(171,"div",83)(172,"div",84)(173,"div",85),ce(174,"div",86)(175,"div",87),M(),x(176,"div",22)(177,"p",88),A(178,"Slots available"),M()()()(),x(179,"h1",89),A(180,"Join "),M(),x(181,"h1",90),A(182,"Pixtar"),M(),x(183,"div",91)(184,"h4",92),A(185,"Book a 15-min intro Call"),M(),x(186,"p",93),A(187,"Learn more about how Pixtar "),x(188,"span",94),A(189," works and how it can help you."),M()()(),x(190,"div",95)(191,"h4",92),A(192,"Refer a friend & earn"),M(),x(193,"p",93),A(194,"Earn 5% monthly recurring "),x(195,"span",94),A(196," commission for each referral. "),M(),x(197,"a",96),rt("click",function(){return o.openModal()}),x(198,"span",22),A(199," Get Started"),M(),x(200,"span",23),ce(201,"i",24),M()()()()()()(),x(202,"div",97)(203,"div",98)(204,"h2",99),A(205),M(),x(206,"nav")(207,"div",100)(208,"button",101),rt("click",function(){return o.changeTabTitle("Try with us")}),A(209," Explorer "),M(),x(210,"button",102),rt("click",function(){return o.changeTabTitle("Most Suitable")}),ce(211,"img",103),A(212," Navigator "),M(),x(213,"button",104),rt("click",function(){return o.changeTabTitle("Create a Brand")}),A(214," Pioneer "),M()()(),x(215,"div",105)(216,"div",106)(217,"div",107)(218,"div",108)(219,"h4",109),A(220,"AED 7,995"),M(),x(221,"h5",110),A(222,"Perfect for startups."),M()(),ce(223,"div",111),x(224,"div",112)(225,"h5",113),A(226,"What\u2019s included"),M(),x(227,"div",2)(228,"div",114)(229,"ul",115)(230,"li",116),ce(231,"i",117),A(232,"Logo design (3 Options) "),M(),x(233,"li",116),ce(234,"i",117),A(235,"Business card "),M(),x(236,"li",116),ce(237,"i",117),A(238,"Letterhead and Envelop "),M()()(),x(239,"div",114)(240,"ul",115)(241,"li",116),ce(242,"i",117),A(243,"1 Revisions (On shortlisted) "),M(),x(244,"li",116),ce(245,"i",117),A(246,"2 Color options "),M(),x(247,"li",116),ce(248,"i",117),A(249,"13 Days Delivery "),M()()()()(),x(250,"div",118)(251,"div",20)(252,"p")(253,"a",96),rt("click",function(){En(s);const l=io(369);return kn(o.getStripPayemts("Explorer",7995,l))}),x(254,"span",22),A(255," Get Started"),M(),x(256,"span",23),ce(257,"i",24),M()()()(),x(258,"p",119),A(259,"Or "),x(260,"a",120),A(261,"book a call"),M()()()()(),x(262,"div",121)(263,"div",107)(264,"div",108)(265,"h4",109),A(266,"AED 13,995"),M(),x(267,"h5",110),A(268,"A full brand identity suite."),M()(),ce(269,"div",111),x(270,"div",112)(271,"h5",113),A(272,"What\u2019s included"),M(),x(273,"div",2)(274,"div",114)(275,"ul",115)(276,"li",116),ce(277,"i",117),A(278,"Logo design (3 Options) "),M(),x(279,"li",116),ce(280,"i",117),A(281,"Business card "),M(),x(282,"li",116),ce(283,"i",117),A(284,"Letterhead and Envelop "),M(),x(285,"li",116),ce(286,"i",117),A(287,"Brand Guidelines "),M()()(),x(288,"div",114)(289,"ul",115)(290,"li",116),ce(291,"i",117),A(292,"Packing Design (1 Product) "),M(),x(293,"li",116),ce(294,"i",117),A(295,"2 Revisions (On shortlisted) "),M(),x(296,"li",116),ce(297,"i",117),A(298,"5 Color options "),M(),x(299,"li",116),ce(300,"i",117),A(301,"10 Days Delivery "),M()()()()(),x(302,"div",118)(303,"div",20)(304,"p")(305,"a",96),rt("click",function(){En(s);const l=io(369);return kn(o.getStripPayemts("Navigator",13995,l))}),x(306,"span",22),A(307," Get Started"),M(),x(308,"span",23),ce(309,"i",24),M()()()(),x(310,"p",119),A(311,"Or "),x(312,"a",120),A(313,"book a call"),M()()()()(),x(314,"div",122)(315,"div",107)(316,"div",108)(317,"h4",109),A(318,"AED 48,995"),M(),x(319,"h5",110),A(320,"The ultimate package with unlimited requests."),M()(),ce(321,"div",111),x(322,"div",112)(323,"h5",113),A(324,"What\u2019s included"),M(),x(325,"div",2)(326,"div",114)(327,"ul",115)(328,"li",116),ce(329,"i",117),A(330,"Logo design (Unlimited) "),M(),x(331,"li",116),ce(332,"i",117),A(333,"Business card "),M(),x(334,"li",116),ce(335,"i",117),A(336,"Letterhead and Envelop "),M(),x(337,"li",116),ce(338,"i",117),A(339,"Detailed Brand Guidelines "),M()()(),x(340,"div",114)(341,"ul",115)(342,"li",116),ce(343,"i",117),A(344,"Packing Design (5 Product) "),M(),x(345,"li",116),ce(346,"i",117),A(347,"Unlimited Revisions (Shortlisted) "),M(),x(348,"li",116),ce(349,"i",117),A(350,"Unlimited Color options "),M(),x(351,"li",116),ce(352,"i",117),A(353,"20 Days Delivery "),M()()()()(),x(354,"div",118)(355,"div",20)(356,"p")(357,"a",96),rt("click",function(){En(s);const l=io(369);return kn(o.getStripPayemts("Pioneer",48995,l))}),x(358,"span",22),A(359," Get Started"),M(),x(360,"span",23),ce(361,"i",24),M()()()(),x(362,"p",119),A(363,"Or "),x(364,"a",120),A(365,"book a call"),M()()()()()()()()()()()()(),ce(366,"app-testimonial")(367,"app-faq-component"),tt(368,Jme,30,4,"ng-template",123,124,bc),x(370,"div",125)(371,"div",126)(372,"div",127)(373,"div",128)(374,"h5",129),A(375,"Refer a friend & earn"),M(),x(376,"button",130),rt("click",function(){return o.closeModal()}),x(377,"span",131),A(378," \xd7 "),M()()(),x(379,"div",132)(380,"form",133,134),rt("ngSubmit",function(){En(s);const l=io(381);return kn(o.onSubmit(l))}),x(382,"div",135)(383,"input",136),rt("ngModelChange",function(l){return o.formData.name=l}),M(),x(384,"label",137),A(385,"Name"),M()(),x(386,"div",135)(387,"input",138),rt("ngModelChange",function(l){return o.formData.email=l}),M(),x(388,"label",137),A(389,"Email"),M(),tt(390,e0e,2,0,"div",139),M(),x(391,"div",135)(392,"input",140),rt("ngModelChange",function(l){return o.formData.contact=l}),M(),x(393,"label",137),A(394,"Contact"),M()(),x(395,"div",135)(396,"input",141),rt("ngModelChange",function(l){return o.formData.rname=l}),M(),x(397,"label",137),A(398,"Referrer-Name"),M()(),x(399,"div",135)(400,"input",142),rt("ngModelChange",function(l){return o.formData.remail=l}),M(),x(401,"label",137),A(402,"Referrer-Email"),M(),tt(403,t0e,2,0,"div",139),M(),x(404,"div",135)(405,"input",143),rt("ngModelChange",function(l){return o.formData.rcontact=l}),M(),x(406,"label",137),A(407,"Referrer-Contact"),M()(),x(408,"div",144)(409,"div",145),ce(410,"input",146),M(),x(411,"div",147)(412,"button",148),rt("click",function(){return o.closeModal()}),A(413,"Cancel"),M()()()(),tt(414,n0e,2,1,"div",149),tt(415,i0e,2,1,"div",150),tt(416,r0e,2,0,"div",151),M()()()()}if(2&r){const s=io(381);se(4),Ee("src","",o.baseUrl,"/img/three-d-objects/branding.png",Ce),se(14),Ee("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/whatsapp.svg",Ce),se(17),We("ngStyle",pa(29,o0e,o.sectionWidth+"%")),se(4),Ee("src","",o.baseUrl,"/what is brandng pixtar 2.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/what is brandng pixtar 2.mp4",Ce),se(33),We("ngForOf",o.allprojects),se(7),We("options",o.recentoptions),se(1),We("ngForOf",o.allprojects),se(25),Ee("src","",o.baseUrl,"/img/home/art-icons/craft.svg",Ce),se(7),Ee("src","",o.baseUrl,"/img/home/art-icons/solution.svg",Ce),se(7),Ee("src","",o.baseUrl,"/img/home/art-icons/beyond.svg",Ce),se(12),We("options",o.clientslider),se(64),$s(o.tabTitle),se(6),Ee("src","",o.baseUrl,"/img/services/shock.png",Ce),se(172),We("ngModel",o.formData.name),se(4),We("ngModel",o.formData.email),se(3),We("ngIf",!o.formData.email&&s.submitted),se(2),We("ngModel",o.formData.contact),se(4),We("ngModel",o.formData.rname),se(4),We("ngModel",o.formData.remail),se(3),We("ngIf",!o.formData.remail&&s.submitted),se(2),We("ngModel",o.formData.rcontact),se(5),We("disabled",o.isSubmitting),se(4),We("ngIf",o.successMessage),se(1),We("ngIf",o.errorMessage),se(1),We("ngIf",o.isLoading)}},dependencies:[Qs,fa,kg,sd,H0,Zp,z0,U0,rf,V0,zg,nf,Ug,hf,Uu,cv,nm],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:95px;z-index:3}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-19rem;top:30%;width:500px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-6rem;width:400px;top:28%}}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;top:33%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:290px;top:30%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:400px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:0 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:40px 10px 50px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:170px}@media (max-width: 480px){.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:140px}}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px;width:100%}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 15px;border-radius:20px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 0}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #da9777;background-color:#da9777;color:#fff;border-radius:33px;position:relative;display:inline-block;padding:13px 16px;margin-bottom:20px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#000;border:1px solid #000}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]{justify-content:end;align-items:end;position:relative;top:-7px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:60px;height:60px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;width:100%;border-radius:50px;margin-bottom:0;height:100%;padding:20px 40px}@media (max-width: 1440px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 30px}}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 10px;border-radius:20px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:6px 5px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 5px}}@media (max-width: 330px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 3px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:4rem;bottom:10px}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:3.5rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:0}}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:42%!important}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90px;z-index:3}@media (max-width: 480px){.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75px}}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;color:#fff;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center;margin-top:-40px!important}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}.pulse[_ngcontent-%COMP%]{margin:100px;display:block;width:22px;height:22px;border-radius:50%;background:#cca92c;cursor:pointer;box-shadow:0 0 #5b5b5f;animation:_ngcontent-%COMP%_pulse 2s infinite}.pulse[_ngcontent-%COMP%]:hover{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #5b5b5f}70%{box-shadow:0 0 0 10px #cca92c00}to{box-shadow:0 0 #cca92c00}}']}),e})();const a0e=["myVideo"];function l0e(e,t){if(1&e){const n=xr();x(0,"div",156)(1,"div",157)(2,"a",158)(3,"img",159),rt("mouseenter",function(){const o=En(n).index;return kn(nt().onMouseEnter(o))})("mouseleave",function(){return En(n),kn(nt().onMouseLeave())}),M(),x(4,"div",160)(5,"p",161),A(6),M(),x(7,"p",162),ce(8,"span",163),M()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=nt();se(2),Ul("href",n.link,Ce),se(1),Iu("galleryimg",i,""),jl("src","",r.imagepath,"",n.image,"",Ce),se(3),$s(n.name),se(2),We("innerHTML",n.desc,vc)}}function c0e(e,t){if(1&e&&(x(0,"a",165),ce(1,"img",166),x(2,"div",160)(3,"p",161),A(4),M(),x(5,"p",162),ce(6,"span",163),M()()()),2&e){const n=nt().$implicit,i=nt();Ul("href",n.link,Ce),se(1),jl("src","",i.imagepath,"",n.project_images[0],"",Ce),se(3),$s(n.name),se(2),We("innerHTML",n.desc,vc)}}function d0e(e,t){if(1&e&&(es(0),tt(1,c0e,7,5,"ng-template",164),ts()),2&e){const n=t.$implicit,i=t.index;se(1),We("id",n+i)}}function u0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/dnour.svg",Ce)}}function h0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/crystal.svg",Ce)}}function p0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/miniaar.svg",Ce)}}function f0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/bni.svg",Ce)}}function g0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/angle.svg",Ce)}}function m0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/pakhis.svg",Ce)}}function v0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/drminnie.svg",Ce)}}function y0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/veddentta.svg",Ce)}}function b0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",Ce)}}function _0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/fractal.svg",Ce)}}function x0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/aetrio.svg",Ce)}}function w0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/wrae.svg",Ce)}}function C0e(e,t){if(1&e&&(x(0,"div",167)(1,"a",168),ce(2,"img",169),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/beyou.svg",Ce)}}function M0e(e,t){1&e&&(x(0,"div",179)(1,"div"),A(2," Name is required. "),M()())}function P0e(e,t){if(1&e&&(x(0,"div",179)(1,"div"),A(2),M()()),2&e){const n=nt(2);se(2),ro(" ",n.hasEmailError("email","required")," ")}}function O0e(e,t){if(1&e){const n=xr();x(0,"div",132)(1,"h4",170),A(2),M(),x(3,"button",134),rt("click",function(){return kn(En(n).$implicit.dismiss("Cross click"))}),x(4,"span",135),A(5," \xd7 "),M()()(),x(6,"div",136)(7,"div",171)(8,"div",1)(9,"div",2)(10,"div",114)(11,"div",172)(12,"form",173),rt("ngSubmit",function(){return En(n),kn(nt().submitPayment())}),x(13,"div",174)(14,"div",139),ce(15,"input",175),x(16,"label",141),A(17,"What's your name?"),M(),tt(18,M0e,3,0,"div",176),M(),x(19,"div",139),ce(20,"input",177),x(21,"label",141),A(22,"What\u2019s your e-mail?"),M(),tt(23,P0e,3,1,"div",176),M(),x(24,"div",148)(25,"div",149),ce(26,"input",178),M(),x(27,"div",151)(28,"button",152),rt("click",function(){return En(n),kn(nt().closePopUp())}),A(29,"Cancel"),M()()()()()()()()()()()}if(2&e){const n=nt();se(2),ro(" ",n.paymentData.name," Payments "),se(10),We("formGroup",n.paymentForm),se(6),We("ngIf",n.submitted&&n.hasError("name","required")),se(5),We("ngIf",n.submitted&&n.hasEmailError("email","required"))}}function S0e(e,t){1&e&&(x(0,"div",180),A(1," Email is required. "),M())}function E0e(e,t){1&e&&(x(0,"div",180),A(1," R-Email is required. "),M())}function D0e(e,t){if(1&e&&(x(0,"div",181),A(1),M()),2&e){const n=nt();se(1),ro(" ",n.successMessage," ")}}function A0e(e,t){if(1&e&&(x(0,"div",182),A(1),M()),2&e){const n=nt();se(1),ro(" ",n.errorMessage," ")}}function T0e(e,t){1&e&&(x(0,"div",183),A(1," Sending your message, please wait... "),M())}const k0e=function(e){return{width:e}};let I0e=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10)}constructor(i,r,o,s,a,l,c,u,d,h,f,v,y){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=u,this.http=d,this.projectservice=h,this.modalService=f,this.activeModal=v,this.payementservice=y,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.formData={name:"",email:"",contact:"",rname:"",remail:"",rcontact:""},this.successMessage="",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,this.hasError=(b,w)=>this.paymentForm.controls[b].hasError(w),this.hasEmailError=(b,w)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(w),this.tabTitle="Try with us",this.baseUrl=Dt_baseUrl+"/assets",this.imagepath=Dt_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",Wl.required],email:["",Wl.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===fl.ESC?"by pressing ESC":i===fl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}getStripPayemts(i,r,o){this.paymentData={name:i,amount:r},this.modalReference=this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(a=>{this.closeResult=`Closed with: ${a}`},a=>{this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Dt_baseUrl,this.payementservice.stripePayments(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(i.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}changeTabTitle(i){this.tabTitle=i}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}openModal(){const i=document.getElementById("contactModal");this.renderer.addClass(i,"show"),this.renderer.setStyle(i,"display","block"),this.renderer.setStyle(i,"backgroundColor","rgba(0,0,0,0.5)"),document.body.classList.add("modal-open")}closeModal(){const i=document.getElementById("contactModal");this.renderer.removeClass(i,"show"),this.renderer.setStyle(i,"display","none"),document.body.classList.remove("modal-open")}onSubmit(i){this.isSubmitting||(this.isSubmitting=!0,this.isLoading=!0,this.formData.email&&this.formData.remail?this.projectservice.sendContactForm(this.formData).subscribe(r=>{console.log("Email sent successfully",r),this.successMessage="Your message has been sent successfully!",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,i.reset(),setTimeout(()=>{this.successMessage="",this.closeModal()},5e3)},r=>{console.error("Error sending email",r),this.errorMessage="Failed to send your message. Please try again later.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},5e3)}):(this.errorMessage="Please fill in all required fields.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},3e3)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Ds),Me(Zc),Me(em),Me(ad),Me(Hl),Me(Gl),Me(lv),Me(Vg),Me(ql),Me(tm),Me(Jg),Me(qh),Me(im))},t.\u0275cmp=Mi({type:t,selectors:[["app-website"]],viewQuery:function(r,o){if(1&r&&Ru(a0e,5),2&r){let s;Qr(s=Zr())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&rt("scroll",function(a){return o.onScroll(a)},0,Up)("fullscreenchange",function(a){return o.onFullscreenChange(a)},!1,Cg)},decls:492,vars:31,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","home#strategy",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"container-fluid"],[1,"col-md-12","col-sm-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand","mrem55"],[1,"col-md-11","col-sm-11","col-11","mx-md-0","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor2"],[1,"barcy","text-color"],[1,"textcolor1"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","container"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","bg1","backgroundbg"],[1,"logos"],[1,"fontsize12","mb-0","semibold"],["carouselSlide",""],[1,"section","packages","p-0","backgroundbg"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section","mbrem5"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-lg-11","col-md-10","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-xxl-5","col-xl-5","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1","pulse"],[1,"circle2"],[1,"size16","textcolor3"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"d-block"],[1,"box"],[1,"cstbtn",3,"click"],[1,"col-xxl-7","col-xl-7","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","shadow",2,"max-width","600px"],[1,"text-start","py-3","medium","size53"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link",3,"click"],["alt","",3,"src"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link",3,"click"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-12"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"list-group-item","d-flex","justify-content-start","align-items-center"],[1,"fa","fa-check"],[1,"ms-2"],[1,"cstprng-table-cta","position-relative","mtrem3","started"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-underline"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],["style","z-index: 0;"],["payments",""],["id","contactModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3",3,"ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autocomplete","off","placeholder","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput",1,"mt-0"],["type","email","name","email","autocomplete","off","id","email","placeholder","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","contact","autocomplete","off","id","contact","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","rname","name","rname","autocomplete","off","placeholder","R-name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","remail","autocomplete","off","id","remail","placeholder","R-email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rcontact","autocomplete","off","id","rcontact","placeholder","R-Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Submit",1,"submit",3,"disabled"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","alert alert-info mt-3","role","alert",4,"ngIf"],[1,"col-md-6"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["carouselSlide","",3,"id"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],["id","modal-basic-title",1,"modal-title"],["id","content"],[1,""],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","submit","name","submit","value","Send",1,"submit"],[1,"error"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],["role","alert",1,"alert","alert-info","mt-3"]],template:function(r,o){if(1&r){const s=xr();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),A(9,"A Custom-Built "),x(10,"span",9),A(11,"Website "),M()(),x(12,"h1",8),A(13,"for Every Screen"),M()()()(),x(14,"div",10)(15,"ul",11)(16,"li")(17,"a",12),ce(18,"img",13),M()(),x(19,"li")(20,"a",14),ce(21,"img",15),M()(),x(22,"li")(23,"a",16),ce(24,"img",13),M()(),x(25,"li")(26,"a",17),ce(27,"img",18),M()()(),x(28,"div",19)(29,"p"),A(30,"Website is your virtual office so "),M(),x(31,"p"),A(32,"\u2014No Templates, Just Magic."),M()()()()(),x(33,"div",20)(34,"p")(35,"a",21)(36,"span",22),A(37," Know About Branding"),M(),x(38,"span",23),ce(39,"i",24),M()()()()()(),ce(40,"div",25),x(41,"section",26)(42,"div",27)(43,"div",2)(44,"div",28)(45,"div",29)(46,"video",30,31),rt("click",function(){return o.playInFullscreenWithAudio()}),ce(48,"source",32)(49,"source",33),A(50," Your browser does not support the video tag. "),M()()()()()(),x(51,"section",34)(52,"div",1)(53,"div",2)(54,"div",35)(55,"div",36)(56,"h2",37)(57,"span",38),A(58,"We just don\u2019t build"),M(),x(59,"span",39),A(60," Websites"),M(),x(61,"span",40),A(62," ; we create experiences."),M(),x(63,"span",38),A(64,"Our "),M(),x(65,"span",40),A(66," custom-built websites are fast, functional"),M(),A(67,", "),x(68,"span",38),A(69,"& perfectly aligned with your business goals \u2014because "),M(),x(70,"span",40),A(71,"we don\u2019t believe in templates."),M()()()()()()(),x(72,"section",41)(73,"div",42)(74,"div",2)(75,"div",43)(76,"div",44)(77,"h1",45),ce(78,"div",46),A(79," Recent Works "),M()()(),x(80,"div",43)(81,"div",2),tt(82,l0e,9,8,"div",47),M()()()(),x(83,"div",48)(84,"div",49)(85,"div",44)(86,"h1",45),ce(87,"div",46),A(88," Recent Works "),M()()(),x(89,"owl-carousel-o",50),tt(90,d0e,2,1,"ng-container",51),M()(),x(91,"div",52)(92,"div",2)(93,"div",53)(94,"div",54)(95,"div",55)(96,"div",56)(97,"p")(98,"a",57)(99,"span",58),A(100,"Book A Consultation"),M(),x(101,"span",23),ce(102,"i",24),M()()()()()()()()()(),x(103,"section",59)(104,"div",1)(105,"div",2)(106,"div",43)(107,"div",60)(108,"p",61)(109,"span",62),A(110,"Why Choose Pixtar?"),M()(),x(111,"div",63)(112,"div",2)(113,"div",64)(114,"div",65),ce(115,"img",66),x(116,"p",67),A(117,"Crafted With The Golden Ratio"),M(),x(118,"p",68),A(119,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()(),x(120,"div",69)(121,"div",65),ce(122,"img",66),x(123,"p",67),A(124,"Custom Solutions. No Templates. Ever."),M(),x(125,"p",68),A(126,"Every brand is unique, and so is our approach. We build from scratch, ensuring your business is reflected in every detail."),M()()(),x(127,"div",64)(128,"div",65),ce(129,"img",66),x(130,"p",67),A(131,"Beyond The Limits, Always Transparent"),M(),x(132,"p",68),A(133,"We don\u2019t just deliver; we partner with you, going above and beyond with 100% transparency at every step of the way."),M()()()()()()()()()(),x(134,"section",70)(135,"div",1)(136,"div",2)(137,"div",43)(138,"div",71)(139,"p",72),A(140,"OUR CLIENTS INCLUDE\u2026"),M(),x(141,"owl-carousel-o",50),es(142),tt(143,u0e,3,1,"ng-template",73),tt(144,h0e,3,1,"ng-template",73),tt(145,p0e,3,1,"ng-template",73),tt(146,f0e,3,1,"ng-template",73),tt(147,g0e,3,1,"ng-template",73),tt(148,m0e,3,1,"ng-template",73),tt(149,v0e,3,1,"ng-template",73),tt(150,y0e,3,1,"ng-template",73),tt(151,b0e,3,1,"ng-template",73),tt(152,_0e,3,1,"ng-template",73),tt(153,x0e,3,1,"ng-template",73),tt(154,w0e,3,1,"ng-template",73),tt(155,C0e,3,1,"ng-template",73),ts(),M()()()()()(),x(156,"section",74)(157,"div",1)(158,"div",2)(159,"div",75)(160,"div",76)(161,"h2",77)(162,"span",62),A(163,"What\u2019s Included in Our Branding Packages?"),M()(),x(164,"p",78),A(165,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),M()()(),x(166,"div",79)(167,"div",80)(168,"div",81)(169,"div",82)(170,"div",83)(171,"div",84)(172,"div",85)(173,"div",86),ce(174,"div",87)(175,"div",88),M(),x(176,"div",22)(177,"p",89),A(178,"Slots available"),M()()()(),x(179,"h1",90),A(180,"Join "),M(),x(181,"h1",91),A(182,"Pixtar"),M(),x(183,"div",92)(184,"h4",93),A(185,"Book a 15-min intro Call"),M(),x(186,"p",89),A(187,"Learn more about how Pixtar "),x(188,"span",94),A(189," works and how it can help you."),M()()(),x(190,"div",95)(191,"h4",93),A(192,"Refer a friend & earn"),M(),x(193,"p",89),A(194,"Earn 5% monthly recurring "),x(195,"span",94),A(196," commission for each referral."),M(),x(197,"a",96),rt("click",function(){return o.openModal()}),ce(198,"span",22),x(199,"span",23),ce(200,"i",24),M()()()()()()(),x(201,"div",97)(202,"div",98)(203,"h2",99),A(204),M(),x(205,"nav")(206,"div",100)(207,"button",101),rt("click",function(){return o.changeTabTitle("Try with us")}),A(208,"Explorer"),M(),x(209,"button",102),rt("click",function(){return o.changeTabTitle("Most Suitable")}),ce(210,"img",103),A(211," Navigator"),M(),x(212,"button",104),rt("click",function(){return o.changeTabTitle("Create a Brand")}),A(213,"Pioneer"),M()()(),x(214,"div",105)(215,"div",106)(216,"div",107)(217,"div",108)(218,"h4",109),A(219,"AED 9,995"),M(),x(220,"h5",110),A(221,"Static website, Perfect for startups. "),M()(),ce(222,"div",111),x(223,"div",112)(224,"h5",113),A(225,"What\u2019s included"),M(),x(226,"div",2)(227,"div",114)(228,"ul",115)(229,"li",116)(230,"div",117)(231,"div",118),A(232,"Tailored Ui/Ux Designing"),M()()(),x(233,"li",119),ce(234,"i",120),x(235,"span",121),A(236,"Custom Website Design upto 1 Theme Option"),M()(),x(237,"li",116)(238,"div",117)(239,"div",118),A(240,"Development"),M()()(),x(241,"li",119),ce(242,"i",120),x(243,"span",121),A(244,"Customized Front-End Development"),M()(),x(245,"li",119),ce(246,"i",120),x(247,"span",121),A(248,"Mobile, Tablet, & Desktop Responsive Design"),M()(),x(249,"li",119),ce(250,"i",120),x(251,"span",121),A(252,"Up to 8 Pages"),M()(),x(253,"li",119),ce(254,"i",120),x(255,"span",121),A(256,"Ability for Future Enhancements"),M()(),x(257,"li",119),ce(258,"i",120),x(259,"span",121),A(260,"Hosting Support"),M()(),x(261,"li",116)(262,"div",117)(263,"div",118),A(264,"Standout features"),M()()(),x(265,"li",119),ce(266,"i",120),x(267,"span",121),A(268,"Contact us Email Integration"),M()()()()()(),x(269,"div",122)(270,"div",20)(271,"p")(272,"a",96),rt("click",function(){En(s);const l=io(444);return kn(o.getStripPayemts("Explorer",9995,l))}),x(273,"span",22),A(274," Get Started"),M(),x(275,"span",23),ce(276,"i",24),M()()()(),x(277,"p",123),A(278,"Or "),x(279,"a",124),A(280,"book a call"),M()()()()(),x(281,"div",125)(282,"div",107)(283,"div",108)(284,"h4",109),A(285,"AED 24,995"),M(),x(286,"h5",110),A(287,"Dynamic Website."),M()(),ce(288,"div",111),x(289,"div",112)(290,"h5",113),A(291,"What\u2019s included"),M(),x(292,"div",2)(293,"div",114)(294,"ul",115)(295,"li",116)(296,"div",117)(297,"div",118),A(298,"Tailored Ui/Ux Designing"),M()()(),x(299,"li",119),ce(300,"i",120),x(301,"span",121),A(302,"Custom Website Design upto 3 Theme Option"),M()(),x(303,"li",116)(304,"div",117)(305,"div",118),A(306,"Development"),M()()(),x(307,"li",119),ce(308,"i",120),x(309,"span",121),A(310,"Custom Front-End Development"),M()(),x(311,"li",119),ce(312,"i",120),x(313,"span",121),A(314,"Mobile, Tablet, and Desktop Responsive Design"),M()(),x(315,"li",119),ce(316,"i",120),x(317,"span",121),A(318,"Up to 20 Pages (Based on Final Requirements)"),M()(),x(319,"li",119),ce(320,"i",120),x(321,"span",121),A(322,"Ability for Future Enhancements"),M()(),x(323,"li",119),ce(324,"i",120),x(325,"span",121),A(326,"Hosting Support"),M()(),x(327,"li",116)(328,"div",117)(329,"div",118),A(330,"Standout features"),M()()(),x(331,"li",119),ce(332,"i",120),x(333,"span",121),A(334,"Admin Panel and User Management"),M()(),x(335,"li",119),ce(336,"i",120),x(337,"span",121),A(338,"SEO-Optimized Development"),M()(),x(339,"li",119),ce(340,"i",120),x(341,"span",121),A(342,"Google My Business Setup"),M()(),x(343,"li",119),ce(344,"i",120),x(345,"span",121),A(346,"Appointment Booking Integration"),M()(),x(347,"li",119),ce(348,"i",120),x(349,"span",121),A(350,"Contact Us Email Integration"),M()(),x(351,"li",119),ce(352,"i",120),x(353,"span",121),A(354,"Google Maps Integration"),M()()()()()(),x(355,"div",122)(356,"div",20)(357,"p")(358,"a",96),rt("click",function(){En(s);const l=io(444);return kn(o.getStripPayemts("Navigator",24995,l))}),x(359,"span",22),A(360," Get Started"),M(),x(361,"span",23),ce(362,"i",24),M()()()(),x(363,"p",123),A(364,"Or "),x(365,"a",124),A(366,"book a call"),M()()()()(),x(367,"div",126)(368,"div",107)(369,"div",108)(370,"h4",109),A(371,"AED 59,995"),M(),x(372,"h5",110),A(373,"The ultimate package with unlimited requests."),M()(),ce(374,"div",111),x(375,"div",112)(376,"h5",113),A(377,"What\u2019s included"),M(),x(378,"div",2)(379,"div",114)(380,"ul",115)(381,"li",116)(382,"div",117)(383,"div",118),A(384,"Tailored Ui/Ux Designing"),M()()(),x(385,"li",119),ce(386,"i",120),x(387,"span",121),A(388,"Custom Website Design Upto 5 Theme Options"),M()(),x(389,"li",116)(390,"div",117)(391,"div",118),A(392,"Development & Standout Features"),M()()(),x(393,"li",119),ce(394,"i",120),x(395,"span",121),A(396,"Website Integration with CRM"),M()(),x(397,"li",119),ce(398,"i",120),x(399,"span",121),A(400,"Integration with other websites"),M()(),x(401,"li",119),ce(402,"i",120),x(403,"span",121),A(404,"Access to your Partners & Distributers to Create and Manage thier Account"),M()(),x(405,"li",119),ce(406,"i",120),x(407,"span",121),A(408,"User Pro\ufb01le Management"),M()(),x(409,"li",119),ce(410,"i",120),x(411,"span",121),A(412,"Unlimited Brochures Download options"),M()(),x(413,"li",119),ce(414,"i",120),x(415,"span",121),A(416,"WhatsApp Integration"),M()(),x(417,"li",119),ce(418,"i",120),x(419,"span",121),A(420,"Live Chat Integration"),M()(),x(421,"li",119),ce(422,"i",120),x(423,"span",121),A(424,"Google Reviews Integration"),M()(),x(425,"li",119),ce(426,"i",120),x(427,"span",121),A(428,"Social Media Live Updates Integration"),M()()()()()(),x(429,"div",122)(430,"div",20)(431,"p")(432,"a",96),rt("click",function(){En(s);const l=io(444);return kn(o.getStripPayemts("Pioneer",59995,l))}),x(433,"span",22),A(434," Get Started"),M(),x(435,"span",23),ce(436,"i",24),M()()()(),x(437,"p",123),A(438,"Or "),x(439,"a",124),A(440,"book a call"),M()()()()()()()()()()()()(),ce(441,"app-testimonial")(442,"app-faq-component"),tt(443,O0e,30,4,"ng-template",127,128,bc),x(445,"div",129)(446,"div",130)(447,"div",131)(448,"div",132)(449,"h5",133),A(450,"Refer a friend & earn"),M(),x(451,"button",134),rt("click",function(){return o.closeModal()}),x(452,"span",135),A(453," \xd7 "),M()()(),x(454,"div",136)(455,"form",137,138),rt("ngSubmit",function(){En(s);const l=io(456);return kn(o.onSubmit(l))}),x(457,"div",139)(458,"input",140),rt("ngModelChange",function(l){return o.formData.name=l}),M(),x(459,"label",141),A(460,"Name"),M()(),x(461,"div",139)(462,"input",142),rt("ngModelChange",function(l){return o.formData.email=l}),M(),x(463,"label",141),A(464,"Email"),M(),tt(465,S0e,2,0,"div",143),M(),x(466,"div",139)(467,"input",144),rt("ngModelChange",function(l){return o.formData.contact=l}),M(),x(468,"label",141),A(469,"Contact"),M()(),x(470,"div",139)(471,"input",145),rt("ngModelChange",function(l){return o.formData.rname=l}),M(),x(472,"label",141),A(473,"Referrer-Name"),M()(),x(474,"div",139)(475,"input",146),rt("ngModelChange",function(l){return o.formData.remail=l}),M(),x(476,"label",141),A(477,"Referrer-Email"),M(),tt(478,E0e,2,0,"div",143),M(),x(479,"div",139)(480,"input",147),rt("ngModelChange",function(l){return o.formData.rcontact=l}),M(),x(481,"label",141),A(482,"Referrer-Contact"),M()(),x(483,"div",148)(484,"div",149),ce(485,"input",150),M(),x(486,"div",151)(487,"button",152),rt("click",function(){return o.closeModal()}),A(488,"Cancel"),M()()()(),tt(489,D0e,2,1,"div",153),tt(490,A0e,2,1,"div",154),tt(491,T0e,2,0,"div",155),M()()()()}if(2&r){const s=io(456);se(4),Ee("src","",o.baseUrl,"/img/three-d-objects/website.png",Ce),se(14),Ee("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/whatsapp.svg",Ce),se(17),We("ngStyle",pa(29,k0e,o.sectionWidth+"%")),se(4),Ee("src","",o.baseUrl,"/what is brandng pixtar 2.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/what is brandng pixtar 2.mp4",Ce),se(33),We("ngForOf",o.allprojects),se(7),We("options",o.recentoptions),se(1),We("ngForOf",o.allprojects),se(25),Ee("src","",o.baseUrl,"/img/home/art-icons/craft.svg",Ce),se(7),Ee("src","",o.baseUrl,"/img/home/art-icons/solution.svg",Ce),se(7),Ee("src","",o.baseUrl,"/img/home/art-icons/beyond.svg",Ce),se(12),We("options",o.clientslider),se(63),$s(o.tabTitle),se(6),Ee("src","",o.baseUrl,"/img/services/shock.png",Ce),se(248),We("ngModel",o.formData.name),se(4),We("ngModel",o.formData.email),se(3),We("ngIf",!o.formData.email&&s.submitted),se(2),We("ngModel",o.formData.contact),se(4),We("ngModel",o.formData.rname),se(4),We("ngModel",o.formData.remail),se(3),We("ngIf",!o.formData.remail&&s.submitted),se(2),We("ngModel",o.formData.rcontact),se(5),We("disabled",o.isSubmitting),se(4),We("ngIf",o.successMessage),se(1),We("ngIf",o.errorMessage),se(1),We("ngIf",o.isLoading)}},dependencies:[Qs,fa,kg,sd,H0,Zp,z0,U0,rf,V0,zg,nf,Ug,hf,Uu,cv,nm],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-21rem;top:30%;width:500px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-11rem;width:350px;top:33%}}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;top:33%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:290px;top:30%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0;width:250px;top:35%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:404px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cbanner[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:168px}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:142px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:0 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:40px 10px 50px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:116px;z-index:2}@media (max-width: 480px){.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:140px}}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.choosesection[_ngcontent-%COMP%]   .head-section[_ngcontent-%COMP%]{margin-bottom:80px}.choosesection[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{padding-top:80px}.subscription-section[_ngcontent-%COMP%]{background-color:transparent!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]{padding-bottom:90px!important}@media (max-width: 991px){.packages[_ngcontent-%COMP%]{padding-bottom:50px!important}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px;width:100%;height:auto}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 15px;border-radius:20px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 0}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #da9777;background-color:#da9777;color:#fff;border-radius:33px;position:relative;display:inline-block;padding:13px 16px;margin-bottom:20px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#000;border:1px solid #000}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]{justify-content:end;align-items:end;position:relative;top:-7px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:60px;height:60px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;width:100%;border-radius:50px;margin-bottom:0;height:100%;padding:20px 40px}@media (max-width: 1440px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 30px}}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 10px;border-radius:20px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:none}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]   .cstprng-table-cta[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:2}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:6px 5px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 5px}}@media (max-width: 330px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 3px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:6rem;bottom:10px}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:5.5rem}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:0}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:42%!important}}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90px;z-index:3}@media (max-width: 480px){.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75px}}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;color:#fff!important;border-radius:0;font-size:20px;font-weight:500;display:flex;color:#fff;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center;margin-top:-40px!important}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}.pulse[_ngcontent-%COMP%]{margin:100px;display:block;width:22px;height:22px;border-radius:50%;background:#cca92c;cursor:pointer;box-shadow:0 0 #5b5b5f;animation:_ngcontent-%COMP%_pulse 2s infinite}.pulse[_ngcontent-%COMP%]:hover{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #5b5b5f}70%{box-shadow:0 0 0 10px #cca92c00}to{box-shadow:0 0 #cca92c00}}']}),e})();var gs=m(5861),R0e=Object.create,AC=Object.defineProperty,N0e=Object.getOwnPropertyDescriptor,F0e=Object.getOwnPropertyNames,L0e=Object.getPrototypeOf,B0e=Object.prototype.hasOwnProperty,Wa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ma=(e,t,n)=>(n=null!=e?R0e(L0e(e)):{},((e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of F0e(t))!B0e.call(e,r)&&undefined!==r&&AC(e,r,{get:()=>t[r],enumerable:!(i=N0e(t,r))||i.enumerable});return e})(!t&&e&&e.__esModule?n:AC(n,"default",{value:e,enumerable:!0}),e)),gl=(e,t,n)=>(((e,t,n)=>{t in e?AC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),V0e=Wa((e,t)=>{var n,i;n=e,i=function(){return n.importState=function(r){var o=new n;return o.importState(r),o},n;function n(){return function(r){var o=0,s=0,a=0,l=1;0==r.length&&(r=[+new Date]);var c=function i(){var r=4022871197,o=function(s){s=s.toString();for(var a=0;a<s.length;a++){var l=.02519603282416938*(r+=s.charCodeAt(a));l-=r=l>>>0,r=(l*=r)>>>0,r+=4294967296*(l-=r)}return 2.3283064365386963e-10*(r>>>0)};return o.version="Mash 0.9",o}();o=c(" "),s=c(" "),a=c(" ");for(var u=0;u<r.length;u++)(o-=c(r[u]))<0&&(o+=1),(s-=c(r[u]))<0&&(s+=1),(a-=c(r[u]))<0&&(a+=1);c=null;var d=function(){var h=2091639*o+2.3283064365386963e-10*l;return o=s,s=a,a=h-(l=0|h)};return d.next=d,d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.version="Alea 0.9",d.args=r,d.exportState=function(){return[o,s,a,l]},d.importState=function(h){o=+h[0]||0,s=+h[1]||0,a=+h[2]||0,l=+h[3]||0},d}(Array.prototype.slice.call(arguments))}},"object"==typeof e?t.exports=i():"function"==typeof define&&define.amd?define(i):n.Alea=i()}),O7=Wa((e,t)=>{var n,i;n=e,i=function(n){n.SVD=function(i,r,o,s,a){if(r=void 0===r||r,o=void 0===o||o,a=1e-64/(s=s||Math.pow(2,-52)),!i)throw new TypeError("Matrix a is not defined");var l,c,u,d,h,f,v,y,b,w,O,S,D=i[0].length,V=i.length;if(V<D)throw new TypeError("Invalid matrix: m < n");for(var Y=[],q=[],K=[],te="f"===r?V:D,ie=w=v=0;ie<V;ie++)q[ie]=new Array(te).fill(0);for(ie=0;ie<D;ie++)K[ie]=new Array(D).fill(0);var ae,pe=new Array(D).fill(0);for(ie=0;ie<V;ie++)for(l=0;l<D;l++)q[ie][l]=i[ie][l];for(ie=0;ie<D;ie++){for(Y[ie]=v,b=0,u=ie+1,l=ie;l<V;l++)b+=Math.pow(q[l][ie],2);if(b<a)v=0;else for(y=(f=q[ie][ie])*(v=f<0?Math.sqrt(b):-Math.sqrt(b))-b,q[ie][ie]=f-v,l=u;l<D;l++){for(b=0,c=ie;c<V;c++)b+=q[c][ie]*q[c][l];for(f=b/y,c=ie;c<V;c++)q[c][l]=q[c][l]+f*q[c][ie]}for(pe[ie]=v,b=0,l=u;l<D;l++)b+=Math.pow(q[ie][l],2);if(b<a)v=0;else{for(y=(f=q[ie][ie+1])*(v=f<0?Math.sqrt(b):-Math.sqrt(b))-b,q[ie][ie+1]=f-v,l=u;l<D;l++)Y[l]=q[ie][l]/y;for(l=u;l<V;l++){for(b=0,c=u;c<D;c++)b+=q[l][c]*q[ie][c];for(c=u;c<D;c++)q[l][c]=q[l][c]+b*Y[c]}}w<(O=Math.abs(pe[ie])+Math.abs(Y[ie]))&&(w=O)}if(o)for(ie=D-1;0<=ie;ie--){if(0!==v){for(y=q[ie][ie+1]*v,l=u;l<D;l++)K[l][ie]=q[ie][l]/y;for(l=u;l<D;l++){for(b=0,c=u;c<D;c++)b+=q[ie][c]*K[c][l];for(c=u;c<D;c++)K[c][l]=K[c][l]+b*K[c][ie]}}for(l=u;l<D;l++)K[ie][l]=0,K[l][ie]=0;K[ie][ie]=1,v=Y[ie],u=ie}if(r){if("f"===r)for(ie=D;ie<V;ie++){for(l=D;l<V;l++)q[ie][l]=0;q[ie][ie]=1}for(ie=D-1;0<=ie;ie--){for(v=pe[ie],l=u=ie+1;l<te;l++)q[ie][l]=0;if(0!==v){for(y=q[ie][ie]*v,l=u;l<te;l++){for(b=0,c=u;c<V;c++)b+=q[c][ie]*q[c][l];for(f=b/y,c=ie;c<V;c++)q[c][l]=q[c][l]+f*q[c][ie]}for(l=ie;l<V;l++)q[l][ie]=q[l][ie]/v}else for(l=ie;l<V;l++)q[l][ie]=0;q[ie][ie]=q[ie][ie]+1}}for(s*=w,c=D-1;0<=c;c--)for(var fe=0;fe<50;fe++){for(ae=!1,u=c;0<=u;u--){if(Math.abs(Y[u])<=s){ae=!0;break}if(Math.abs(pe[u-1])<=s)break}if(!ae)for(h=0,d=u-(b=1),ie=u;ie<c+1&&(f=b*Y[ie],Y[ie]=h*Y[ie],!(Math.abs(f)<=s));ie++)if(v=pe[ie],pe[ie]=Math.sqrt(f*f+v*v),h=v/(y=pe[ie]),b=-f/y,r)for(l=0;l<V;l++)q[l][d]=(O=q[l][d])*h+(S=q[l][ie])*b,q[l][ie]=-O*b+S*h;if(S=pe[c],u===c){if(S<0&&(pe[c]=-S,o))for(l=0;l<D;l++)K[l][c]=-K[l][c];break}for(w=pe[u],f=(((O=pe[c-1])-S)*(O+S)+((v=Y[c-1])-(y=Y[c]))*(v+y))/(2*y*O),v=Math.sqrt(f*f+1),f=((w-S)*(w+S)+y*(O/(f<0?f-v:f+v)-y))/w,ie=u+(b=h=1);ie<c+1;ie++){if(O=pe[ie],y=b*(v=Y[ie]),v*=h,S=Math.sqrt(f*f+y*y),f=w*(h=f/(Y[ie-1]=S))+v*(b=y/S),v=-w*b+v*h,y=O*b,O*=h,o)for(l=0;l<D;l++)K[l][ie-1]=(w=K[l][ie-1])*h+(S=K[l][ie])*b,K[l][ie]=-w*b+S*h;if(S=Math.sqrt(f*f+y*y),f=(h=f/(pe[ie-1]=S))*v+(b=y/S)*O,w=-b*v+h*O,r)for(l=0;l<V;l++)q[l][ie-1]=(O=q[l][ie-1])*h+(S=q[l][ie])*b,q[l][ie]=-O*b+S*h}Y[u]=0,Y[c]=f,pe[c]=w}for(ie=0;ie<D;ie++)pe[ie]<s&&(pe[ie]=0);return{u:q,q:pe,v:K}},n.VERSION="1.1.1",Object.defineProperty(n,"__esModule",{value:!0})},"object"==typeof e&&typeof t<"u"?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i((n=typeof globalThis<"u"?globalThis:n||self).SVDJS={})}),H0e=Wa((e,t)=>{var n,i;n=e,i=function(){var n=function(r,o){if(void 0===r&&(r=[]),void 0===o&&(o=i),this.data=r,this.length=this.data.length,this.compare=o,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)};function i(r,o){return r<o?-1:r>o?1:0}return n.prototype.push=function(r){this.data.push(r),this.length++,this._up(this.length-1)},n.prototype.pop=function(){if(0!==this.length){var r=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),r}},n.prototype.peek=function(){return this.data[0]},n.prototype._up=function(r){for(var s=this.data,a=this.compare,l=s[r];r>0;){var c=r-1>>1,u=s[c];if(a(l,u)>=0)break;s[r]=u,r=c}s[r]=l},n.prototype._down=function(r){for(var s=this.data,a=this.compare,l=this.length>>1,c=s[r];r<l;){var u=1+(r<<1),d=s[u],h=u+1;if(h<this.length&&a(s[h],d)<0&&(u=h,d=s[h]),a(d,c)>=0)break;s[r]=d,r=u}s[r]=c},n},"object"==typeof e&&typeof t<"u"?t.exports=i():"function"==typeof define&&define.amd?define(i):(n=n||self).TinyQueue=i()}),G0e=Wa((e,t)=>{var n=H0e();function i(c,u,d){u=u||1;for(var h,f,v,y,b=0;b<c[0].length;b++){var w=c[0][b];(!b||w[0]<h)&&(h=w[0]),(!b||w[1]<f)&&(f=w[1]),(!b||w[0]>v)&&(v=w[0]),(!b||w[1]>y)&&(y=w[1])}var O=v-h,S=y-f,D=Math.min(O,S),V=D/2;if(0===D){var Y=[h,f];return Y.distance=0,Y}for(var q=new n(void 0,r),K=h;K<v;K+=D)for(var te=f;te<y;te+=D)q.push(new o(K+V,te+V,V,c));var ie=function a(c){for(var u=0,d=0,h=0,f=c[0],v=0,y=f.length,b=y-1;v<y;b=v++){var w=f[v],O=f[b],S=w[0]*O[1]-O[0]*w[1];d+=(w[0]+O[0])*S,h+=(w[1]+O[1])*S,u+=3*S}return 0===u?new o(f[0][0],f[0][1],0,c):new o(d/u,h/u,0,c)}(c),ae=new o(h+O/2,f+S/2,0,c);ae.d>ie.d&&(ie=ae);for(var pe=q.length;q.length;){var fe=q.pop();fe.d>ie.d&&(ie=fe,d&&console.log("found best %d after %d probes",Math.round(1e4*fe.d)/1e4,pe)),!(fe.max-ie.d<=u)&&(q.push(new o(fe.x-(V=fe.h/2),fe.y-V,V,c)),q.push(new o(fe.x+V,fe.y-V,V,c)),q.push(new o(fe.x-V,fe.y+V,V,c)),q.push(new o(fe.x+V,fe.y+V,V,c)),pe+=4)}d&&(console.log("num probes: "+pe),console.log("best distance: "+ie.d));var ge=[ie.x,ie.y];return ge.distance=ie.d,ge}function r(c,u){return u.max-c.max}function o(c,u,d,h){this.x=c,this.y=u,this.h=d,this.d=function s(c,u,d){for(var h=!1,f=1/0,v=0;v<d.length;v++)for(var y=d[v],b=0,w=y.length,O=w-1;b<w;O=b++){var S=y[b],D=y[O];S[1]>u!=D[1]>u&&c<(D[0]-S[0])*(u-S[1])/(D[1]-S[1])+S[0]&&(h=!h),f=Math.min(f,l(c,u,S,D))}return 0===f?0:(h?1:-1)*Math.sqrt(f)}(c,u,h),this.max=this.d+this.h*Math.SQRT2}function l(c,u,d,h){var f=d[0],v=d[1],y=h[0]-f,b=h[1]-v;if(0!==y||0!==b){var w=((c-f)*y+(u-v)*b)/(y*y+b*b);w>1?(f=h[0],v=h[1]):w>0&&(f+=y*w,v+=b*w)}return(y=c-f)*y+(b=u-v)*b}n.default&&(n=n.default),t.exports=i,t.exports.default=i}),W0e=Wa((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)},t.exports=e.default}),q0e=Wa((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function n(i){var r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),i.getTime()-r.getTime()},t.exports=e.default}),Y0e=Wa(e=>{(function(){var t=function(){this.init()};t.prototype={init:function(){var d=this||n;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var h=this||n;if(d=parseFloat(d),h.ctx||u(),typeof d<"u"&&d>=0&&d<=1){if(h._volume=d,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(d,n.ctx.currentTime);for(var f=0;f<h._howls.length;f++)if(!h._howls[f]._webAudio)for(var v=h._howls[f]._getSoundIds(),y=0;y<v.length;y++){var b=h._howls[f]._soundById(v[y]);b&&b._node&&(b._node.volume=b._volume*d)}return h}return h._volume},mute:function(d){var h=this||n;h.ctx||u(),h._muted=d,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(d?0:h._volume,n.ctx.currentTime);for(var f=0;f<h._howls.length;f++)if(!h._howls[f]._webAudio)for(var v=h._howls[f]._getSoundIds(),y=0;y<v.length;y++){var b=h._howls[f]._soundById(v[y]);b&&b._node&&(b._node.muted=!!d||b._muted)}return h},stop:function(){for(var d=this||n,h=0;h<d._howls.length;h++)d._howls[h].stop();return d},unload:function(){for(var d=this||n,h=d._howls.length-1;h>=0;h--)d._howls[h].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,u()),d},codecs:function(d){return(this||n)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||n;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{(new Audio).muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||n,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return d}if(!h||"function"!=typeof h.canPlayType)return d;var f=h.canPlayType("audio/mpeg;").replace(/^no$/,""),v=d._navigator?d._navigator.userAgent:"",y=v.match(/OPR\/([0-6].)/g),b=y&&parseInt(y[0].split("/")[1],10)<33,w=-1!==v.indexOf("Safari")&&-1===v.indexOf("Chrome"),O=v.match(/Version\/(.*?) /),S=w&&O&&parseInt(O[1],10)<15;return d._codecs={mp3:!(b||!f&&!h.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!f,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(S||!h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(S||!h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||n;if(!d._audioUnlocked&&d.ctx){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&44100!==d.ctx.sampleRate&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var h=function(f){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,d._releaseHtml5Audio(v)}catch{d.noAudio=!0;break}for(var y=0;y<d._howls.length;y++)if(!d._howls[y]._webAudio)for(var b=d._howls[y]._getSoundIds(),w=0;w<b.length;w++){var O=d._howls[y]._soundById(b[w]);O&&O._node&&!O._node._unlocked&&(O._node._unlocked=!0,O._node.load())}d._autoResume();var S=d.ctx.createBufferSource();S.buffer=d._scratchBuffer,S.connect(d.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),"function"==typeof d.ctx.resume&&d.ctx.resume(),S.onended=function(){S.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var D=0;D<d._howls.length;D++)d._howls[D]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),d}},_obtainHtml5Audio:function(){var d=this||n;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var h=(new Audio).play();return h&&typeof Promise<"u"&&(h instanceof Promise||"function"==typeof h.then)&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var h=this||n;return d._unlocked&&h._html5AudioPool.push(d),h},_autoSuspend:function(){var d=this;if(d.autoSuspend&&d.ctx&&!(typeof d.ctx.suspend>"u")&&n.usingWebAudio){for(var h=0;h<d._howls.length;h++)if(d._howls[h]._webAudio)for(var f=0;f<d._howls[h]._sounds.length;f++)if(!d._howls[h]._sounds[f]._paused)return d;return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var v=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(v,v)}},3e4),d}},_autoResume:function(){var d=this;if(d.ctx&&!(typeof d.ctx.resume>"u")&&n.usingWebAudio)return"running"===d.state&&"interrupted"!==d.ctx.state&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):"suspended"===d.state||"running"===d.state&&"interrupted"===d.ctx.state?(d.ctx.resume().then(function(){d.state="running";for(var h=0;h<d._howls.length;h++)d._howls[h]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):"suspending"===d.state&&(d._resumeAfterSuspend=!0),d}};var n=new t,i=function(d){d.src&&0!==d.src.length?this.init(d):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(d){var h=this;return n.ctx||u(),h._autoplay=d.autoplay||!1,h._format="string"!=typeof d.format?d.format:[d.format],h._html5=d.html5||!1,h._muted=d.mute||!1,h._loop=d.loop||!1,h._pool=d.pool||5,h._preload="boolean"!=typeof d.preload&&"metadata"!==d.preload||d.preload,h._rate=d.rate||1,h._sprite=d.sprite||{},h._src="string"!=typeof d.src?d.src:[d.src],h._volume=void 0!==d.volume?d.volume:1,h._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:!(!d.xhr||!d.xhr.withCredentials)&&d.xhr.withCredentials},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=d.onend?[{fn:d.onend}]:[],h._onfade=d.onfade?[{fn:d.onfade}]:[],h._onload=d.onload?[{fn:d.onload}]:[],h._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],h._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],h._onpause=d.onpause?[{fn:d.onpause}]:[],h._onplay=d.onplay?[{fn:d.onplay}]:[],h._onstop=d.onstop?[{fn:d.onstop}]:[],h._onmute=d.onmute?[{fn:d.onmute}]:[],h._onvolume=d.onvolume?[{fn:d.onvolume}]:[],h._onrate=d.onrate?[{fn:d.onrate}]:[],h._onseek=d.onseek?[{fn:d.onseek}]:[],h._onunlock=d.onunlock?[{fn:d.onunlock}]:[],h._onresume=[],h._webAudio=n.usingWebAudio&&!h._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&"none"!==h._preload&&h.load(),h},load:function(){var d=this,h=null;if(n.noAudio)d._emit("loaderror",null,"No audio support.");else{"string"==typeof d._src&&(d._src=[d._src]);for(var f=0;f<d._src.length;f++){var v,y;if(d._format&&d._format[f])v=d._format[f];else{if("string"!=typeof(y=d._src[f])){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(v=/^data:audio\/([^;,]+);/i.exec(y))||(v=/\.([^.]+)$/.exec(y.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&n.codecs(v)){h=d._src[f];break}}if(h)return d._src=h,d._state="loading","https:"===window.location.protocol&&"http:"===h.slice(0,5)&&(d._html5=!0,d._webAudio=!1),new r(d),d._webAudio&&s(d),d;d._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(d,h){var f=this,v=null;if("number"==typeof d)v=d,d=null;else{if("string"==typeof d&&"loaded"===f._state&&!f._sprite[d])return null;if(typeof d>"u"&&(d="__default",!f._playLock)){for(var y=0,b=0;b<f._sounds.length;b++)f._sounds[b]._paused&&!f._sounds[b]._ended&&(y++,v=f._sounds[b]._id);1===y?d=null:v=null}}var w=v?f._soundById(v):f._inactiveSound();if(!w)return null;if(v&&!d&&(d=w._sprite||"__default"),"loaded"!==f._state){w._sprite=d,w._ended=!1;var O=w._id;return f._queue.push({event:"play",action:function(){f.play(O)}}),O}if(v&&!w._paused)return h||f._loadQueue("play"),w._id;f._webAudio&&n._autoResume();var S=Math.max(0,w._seek>0?w._seek:f._sprite[d][0]/1e3),D=Math.max(0,(f._sprite[d][0]+f._sprite[d][1])/1e3-S),V=1e3*D/Math.abs(w._rate),Y=f._sprite[d][0]/1e3,q=(f._sprite[d][0]+f._sprite[d][1])/1e3;w._sprite=d,w._ended=!1;var K=function(){w._paused=!1,w._seek=S,w._start=Y,w._stop=q,w._loop=!(!w._loop&&!f._sprite[d][2])};if(!(S>=q)){var te=w._node;if(f._webAudio){var ie=function(){f._playLock=!1,K(),f._refreshBuffer(w),te.gain.setValueAtTime(w._muted||f._muted?0:w._volume,n.ctx.currentTime),w._playStart=n.ctx.currentTime,typeof te.bufferSource.start>"u"?te.bufferSource.noteGrainOn(0,S,w._loop?86400:D):te.bufferSource.start(0,S,w._loop?86400:D),V!==1/0&&(f._endTimers[w._id]=setTimeout(f._ended.bind(f,w),V)),h||setTimeout(function(){f._emit("play",w._id),f._loadQueue()},0)};"running"===n.state&&"interrupted"!==n.ctx.state?ie():(f._playLock=!0,f.once("resume",ie),f._clearTimer(w._id))}else{var ae=function(){te.currentTime=S,te.muted=w._muted||f._muted||n._muted||te.muted,te.volume=w._volume*n.volume(),te.playbackRate=w._rate;try{var ge=te.play();if(ge&&typeof Promise<"u"&&(ge instanceof Promise||"function"==typeof ge.then)?(f._playLock=!0,K(),ge.then(function(){f._playLock=!1,te._unlocked=!0,h?f._loadQueue():f._emit("play",w._id)}).catch(function(){f._playLock=!1,f._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),w._ended=!0,w._paused=!0})):h||(f._playLock=!1,K(),f._emit("play",w._id)),te.playbackRate=w._rate,te.paused)return void f._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==d||w._loop?f._endTimers[w._id]=setTimeout(f._ended.bind(f,w),V):(f._endTimers[w._id]=function(){f._ended(w),te.removeEventListener("ended",f._endTimers[w._id],!1)},te.addEventListener("ended",f._endTimers[w._id],!1))}catch(Oe){f._emit("playerror",w._id,Oe)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===te.src&&(te.src=f._src,te.load());var pe=window&&window.ejecta||!te.readyState&&n._navigator.isCocoonJS;if(te.readyState>=3||pe)ae();else{f._playLock=!0,f._state="loading";var fe=function(){f._state="loaded",ae(),te.removeEventListener(n._canPlayEvent,fe,!1)};te.addEventListener(n._canPlayEvent,fe,!1),f._clearTimer(w._id)}}return w._id}f._ended(w)},pause:function(d){var h=this;if("loaded"!==h._state||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(d)}}),h;for(var f=h._getSoundIds(d),v=0;v<f.length;v++){h._clearTimer(f[v]);var y=h._soundById(f[v]);if(y&&!y._paused&&(y._seek=h.seek(f[v]),y._rateSeek=0,y._paused=!0,h._stopFade(f[v]),y._node))if(h._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),h._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||h._emit("pause",y?y._id:null)}return h},stop:function(d,h){var f=this;if("loaded"!==f._state||f._playLock)return f._queue.push({event:"stop",action:function(){f.stop(d)}}),f;for(var v=f._getSoundIds(d),y=0;y<v.length;y++){f._clearTimer(v[y]);var b=f._soundById(v[y]);b&&(b._seek=b._start||0,b._rateSeek=0,b._paused=!0,b._ended=!0,f._stopFade(v[y]),b._node&&(f._webAudio?b._node.bufferSource&&(typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),f._cleanBuffer(b._node)):(!isNaN(b._node.duration)||b._node.duration===1/0)&&(b._node.currentTime=b._start||0,b._node.pause(),b._node.duration===1/0&&f._clearSound(b._node))),h||f._emit("stop",b._id))}return f},mute:function(d,h){var f=this;if("loaded"!==f._state||f._playLock)return f._queue.push({event:"mute",action:function(){f.mute(d,h)}}),f;if(typeof h>"u"){if("boolean"!=typeof d)return f._muted;f._muted=d}for(var v=f._getSoundIds(h),y=0;y<v.length;y++){var b=f._soundById(v[y]);b&&(b._muted=d,b._interval&&f._stopFade(b._id),f._webAudio&&b._node?b._node.gain.setValueAtTime(d?0:b._volume,n.ctx.currentTime):b._node&&(b._node.muted=!!n._muted||d),f._emit("mute",b._id))}return f},volume:function(){var f,v,w,d=this,h=arguments;if(0===h.length)return d._volume;if(1===h.length||2===h.length&&typeof h[1]>"u"?d._getSoundIds().indexOf(h[0])>=0?v=parseInt(h[0],10):f=parseFloat(h[0]):h.length>=2&&(f=parseFloat(h[0]),v=parseInt(h[1],10)),!(typeof f<"u"&&f>=0&&f<=1))return(w=v?d._soundById(v):d._sounds[0])?w._volume:0;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,h)}}),d;typeof v>"u"&&(d._volume=f),v=d._getSoundIds(v);for(var O=0;O<v.length;O++)(w=d._soundById(v[O]))&&(w._volume=f,h[2]||d._stopFade(v[O]),d._webAudio&&w._node&&!w._muted?w._node.gain.setValueAtTime(f,n.ctx.currentTime):w._node&&!w._muted&&(w._node.volume=f*n.volume()),d._emit("volume",w._id));return d},fade:function(d,h,f,v){var y=this;if("loaded"!==y._state||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(d,h,f,v)}}),y;d=Math.min(Math.max(0,parseFloat(d)),1),h=Math.min(Math.max(0,parseFloat(h)),1),f=parseFloat(f),y.volume(d,v);for(var b=y._getSoundIds(v),w=0;w<b.length;w++){var O=y._soundById(b[w]);if(O){if(v||y._stopFade(b[w]),y._webAudio&&!O._muted){var S=n.ctx.currentTime,D=S+f/1e3;O._volume=d,O._node.gain.setValueAtTime(d,S),O._node.gain.linearRampToValueAtTime(h,D)}y._startFadeInterval(O,d,h,f,b[w],typeof v>"u")}}return y},_startFadeInterval:function(d,h,f,v,y,b){var w=this,O=h,S=f-h,D=Math.abs(S/.01),V=Math.max(4,D>0?v/D:v),Y=Date.now();d._fadeTo=f,d._interval=setInterval(function(){var q=(Date.now()-Y)/v;Y=Date.now(),O+=S*q,O=Math.round(100*O)/100,O=S<0?Math.max(f,O):Math.min(f,O),w._webAudio?d._volume=O:w.volume(O,d._id,!0),b&&(w._volume=O),(f<h&&O<=f||f>h&&O>=f)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,w.volume(f,d._id),w._emit("fade",d._id))},V)},_stopFade:function(d){var h=this,f=h._soundById(d);return f&&f._interval&&(h._webAudio&&f._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(f._interval),f._interval=null,h.volume(f._fadeTo,d),f._fadeTo=null,h._emit("fade",d)),h},loop:function(){var f,v,y,d=this,h=arguments;if(0===h.length)return d._loop;if(1===h.length){if("boolean"!=typeof h[0])return!!(y=d._soundById(parseInt(h[0],10)))&&y._loop;d._loop=f=h[0]}else 2===h.length&&(f=h[0],v=parseInt(h[1],10));for(var b=d._getSoundIds(v),w=0;w<b.length;w++)(y=d._soundById(b[w]))&&(y._loop=f,d._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=f,f&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,d.playing(b[w])&&(d.pause(b[w],!0),d.play(b[w],!0)))));return d},rate:function(){var f,v,w,d=this,h=arguments;if(0===h.length?v=d._sounds[0]._id:1===h.length?d._getSoundIds().indexOf(h[0])>=0?v=parseInt(h[0],10):f=parseFloat(h[0]):2===h.length&&(f=parseFloat(h[0]),v=parseInt(h[1],10)),"number"!=typeof f)return(w=d._soundById(v))?w._rate:d._rate;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,h)}}),d;typeof v>"u"&&(d._rate=f),v=d._getSoundIds(v);for(var O=0;O<v.length;O++)if(w=d._soundById(v[O])){d.playing(v[O])&&(w._rateSeek=d.seek(v[O]),w._playStart=d._webAudio?n.ctx.currentTime:w._playStart),w._rate=f,d._webAudio&&w._node&&w._node.bufferSource?w._node.bufferSource.playbackRate.setValueAtTime(f,n.ctx.currentTime):w._node&&(w._node.playbackRate=f);var S=d.seek(v[O]),V=1e3*((d._sprite[w._sprite][0]+d._sprite[w._sprite][1])/1e3-S)/Math.abs(w._rate);(d._endTimers[v[O]]||!w._paused)&&(d._clearTimer(v[O]),d._endTimers[v[O]]=setTimeout(d._ended.bind(d,w),V)),d._emit("rate",w._id)}return d},seek:function(){var f,v,d=this,h=arguments;if(0===h.length?d._sounds.length&&(v=d._sounds[0]._id):1===h.length?d._getSoundIds().indexOf(h[0])>=0?v=parseInt(h[0],10):d._sounds.length&&(v=d._sounds[0]._id,f=parseFloat(h[0])):2===h.length&&(f=parseFloat(h[0]),v=parseInt(h[1],10)),typeof v>"u")return 0;if("number"==typeof f&&("loaded"!==d._state||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,h)}}),d;var w=d._soundById(v);if(w){if(!("number"==typeof f&&f>=0)){if(d._webAudio){var V=d.playing(v)?n.ctx.currentTime-w._playStart:0;return w._seek+((w._rateSeek?w._rateSeek-w._seek:0)+V*Math.abs(w._rate))}return w._node.currentTime}var O=d.playing(v);O&&d.pause(v,!0),w._seek=f,w._ended=!1,d._clearTimer(v),!d._webAudio&&w._node&&!isNaN(w._node.duration)&&(w._node.currentTime=f);var S=function(){O&&d.play(v,!0),d._emit("seek",v)};if(O&&!d._webAudio){var D=function(){d._playLock?setTimeout(D,0):S()};setTimeout(D,0)}else S()}return d},playing:function(d){var h=this;if("number"==typeof d){var f=h._soundById(d);return!!f&&!f._paused}for(var v=0;v<h._sounds.length;v++)if(!h._sounds[v]._paused)return!0;return!1},duration:function(d){var h=this,f=h._duration,v=h._soundById(d);return v&&(f=h._sprite[v._sprite][1]/1e3),f},state:function(){return this._state},unload:function(){for(var d=this,h=d._sounds,f=0;f<h.length;f++)h[f]._paused||d.stop(h[f]._id),d._webAudio||(d._clearSound(h[f]._node),h[f]._node.removeEventListener("error",h[f]._errorFn,!1),h[f]._node.removeEventListener(n._canPlayEvent,h[f]._loadFn,!1),h[f]._node.removeEventListener("ended",h[f]._endFn,!1),n._releaseHtml5Audio(h[f]._node)),delete h[f]._node,d._clearTimer(h[f]._id);var v=n._howls.indexOf(d);v>=0&&n._howls.splice(v,1);var y=!0;for(f=0;f<n._howls.length;f++)if(n._howls[f]._src===d._src||d._src.indexOf(n._howls[f]._src)>=0){y=!1;break}return o&&y&&delete o[d._src],n.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,h,f,v){return"function"==typeof h&&this["_on"+d].push(v?{id:f,fn:h,once:v}:{id:f,fn:h}),this},off:function(d,h,f){var v=this,y=v["_on"+d],b=0;if("number"==typeof h&&(f=h,h=null),h||f)for(b=0;b<y.length;b++){var w=f===y[b].id;if(h===y[b].fn&&w||!h&&w){y.splice(b,1);break}}else if(d)v["_on"+d]=[];else{var O=Object.keys(v);for(b=0;b<O.length;b++)0===O[b].indexOf("_on")&&Array.isArray(v[O[b]])&&(v[O[b]]=[])}return v},once:function(d,h,f){return this.on(d,h,f,1),this},_emit:function(d,h,f){for(var v=this,y=v["_on"+d],b=y.length-1;b>=0;b--)(!y[b].id||y[b].id===h||"load"===d)&&(setTimeout(function(w){w.call(this,h,f)}.bind(v,y[b].fn),0),y[b].once&&v.off(d,y[b].fn,y[b].id));return v._loadQueue(d),v},_loadQueue:function(d){var h=this;if(h._queue.length>0){var f=h._queue[0];f.event===d&&(h._queue.shift(),h._loadQueue()),d||f.action()}return h},_ended:function(d){var h=this,f=d._sprite;if(!h._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(h._ended.bind(h,d),100),h;var v=!(!d._loop&&!h._sprite[f][2]);if(h._emit("end",d._id),!h._webAudio&&v&&h.stop(d._id,!0).play(d._id),h._webAudio&&v){h._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=n.ctx.currentTime;var y=1e3*(d._stop-d._start)/Math.abs(d._rate);h._endTimers[d._id]=setTimeout(h._ended.bind(h,d),y)}return h._webAudio&&!v&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,h._clearTimer(d._id),h._cleanBuffer(d._node),n._autoSuspend()),!h._webAudio&&!v&&h.stop(d._id,!0),h},_clearTimer:function(d){var h=this;if(h._endTimers[d]){if("function"!=typeof h._endTimers[d])clearTimeout(h._endTimers[d]);else{var f=h._soundById(d);f&&f._node&&f._node.removeEventListener("ended",h._endTimers[d],!1)}delete h._endTimers[d]}return h},_soundById:function(d){for(var h=this,f=0;f<h._sounds.length;f++)if(d===h._sounds[f]._id)return h._sounds[f];return null},_inactiveSound:function(){var d=this;d._drain();for(var h=0;h<d._sounds.length;h++)if(d._sounds[h]._ended)return d._sounds[h].reset();return new r(d)},_drain:function(){var d=this,h=d._pool,f=0,v=0;if(!(d._sounds.length<h)){for(v=0;v<d._sounds.length;v++)d._sounds[v]._ended&&f++;for(v=d._sounds.length-1;v>=0;v--){if(f<=h)return;d._sounds[v]._ended&&(d._webAudio&&d._sounds[v]._node&&d._sounds[v]._node.disconnect(0),d._sounds.splice(v,1),f--)}}},_getSoundIds:function(d){if(typeof d>"u"){for(var f=[],v=0;v<this._sounds.length;v++)f.push(this._sounds[v]._id);return f}return[d]},_refreshBuffer:function(d){return d._node.bufferSource=n.ctx.createBufferSource(),d._node.bufferSource.buffer=o[this._src],d._node.bufferSource.connect(d._panner?d._panner:d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,n.ctx.currentTime),this},_cleanBuffer:function(d){var f=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),f))try{d.bufferSource.buffer=n._scratchBuffer}catch{}return d.bufferSource=null,this},_clearSound:function(d){/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent)||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(d){this._parent=d,this.init()};r.prototype={init:function(){var d=this,h=d._parent;return d._muted=h._muted,d._loop=h._loop,d._volume=h._volume,d._rate=h._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++n._counter,h._sounds.push(d),d.create(),d},create:function(){var d=this,h=d._parent,f=n._muted||d._muted||d._parent._muted?0:d._volume;return h._webAudio?(d._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),d._node.gain.setValueAtTime(f,n.ctx.currentTime),d._node.paused=!0,d._node.connect(n.masterGain)):n.noAudio||(d._node=n._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(n._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=h._src,d._node.preload=!0===h._preload?"auto":h._preload,d._node.volume=f*n.volume(),d._node.load()),d},reset:function(){var d=this,h=d._parent;return d._muted=h._muted,d._loop=h._loop,d._volume=h._volume,d._rate=h._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++n._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,h=d._parent;h._duration=Math.ceil(10*d._node.duration)/10,0===Object.keys(h._sprite).length&&(h._sprite={__default:[0,1e3*h._duration]}),"loaded"!==h._state&&(h._state="loaded",h._emit("load"),h._loadQueue()),d._node.removeEventListener(n._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,h=d._parent;h._duration===1/0&&(h._duration=Math.ceil(10*d._node.duration)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=1e3*h._duration),h._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var o={},s=function(d){var h=d._src;if(o[h])return d._duration=o[h].duration,void c(d);if(/^data:[^;]+;base64,/.test(h)){for(var f=atob(h.split(",")[1]),v=new Uint8Array(f.length),y=0;y<f.length;++y)v[y]=f.charCodeAt(y);l(v.buffer,d)}else{var b=new XMLHttpRequest;b.open(d._xhr.method,h,!0),b.withCredentials=d._xhr.withCredentials,b.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(w){b.setRequestHeader(w,d._xhr.headers[w])}),b.onload=function(){var w=(b.status+"")[0];"0"===w||"2"===w||"3"===w?l(b.response,d):d._emit("loaderror",null,"Failed loading audio file with status: "+b.status+".")},b.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete o[h],d.load())},a(b)}},a=function(d){try{d.send()}catch{d.onerror()}},l=function(d,h){var f=function(){h._emit("loaderror",null,"Decoding audio data failed.")},v=function(y){y&&h._sounds.length>0?(o[h._src]=y,c(h,y)):f()};typeof Promise<"u"&&1===n.ctx.decodeAudioData.length?n.ctx.decodeAudioData(d).then(v).catch(f):n.ctx.decodeAudioData(d,v,f)},c=function(d,h){h&&!d._duration&&(d._duration=h.duration),0===Object.keys(d._sprite).length&&(d._sprite={__default:[0,1e3*d._duration]}),"loaded"!==d._state&&(d._state="loaded",d._emit("load"),d._loadQueue())},u=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),h=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),f=h?parseInt(h[1],10):null;if(d&&f&&f<9){var v=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!v&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:i}}),typeof e<"u"&&(e.Howler=n,e.Howl=i),typeof global<"u"?(global.HowlerGlobal=t,global.Howler=n,global.Howl=i,global.Sound=r):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=i,window.Sound=r)})(),function(){var n;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var r=i._howls.length-1;r>=0;r--)i._howls[r].stereo(n);return i},HowlerGlobal.prototype.pos=function(n,i,r){var o=this;return o.ctx&&o.ctx.listener?"number"!=typeof n?o._pos:(o._pos=[n,i="number"!=typeof i?o._pos[1]:i,r="number"!=typeof r?o._pos[2]:r],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]),o):o},HowlerGlobal.prototype.orientation=function(n,i,r,o,s,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;return"number"!=typeof n?c:(l._orientation=[n,i="number"!=typeof i?c[1]:i,r="number"!=typeof r?c[2]:r,o="number"!=typeof o?c[3]:o,s="number"!=typeof s?c[4]:s,a="number"!=typeof a?c[5]:a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,i,r,o,s,a),l)},Howl.prototype.init=(n=Howl.prototype.init,function(i){var r=this;return r._orientation=i.orientation||[1,0,0],r._stereo=i.stereo||null,r._pos=i.pos||null,r._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},r._onstereo=i.onstereo?[{fn:i.onstereo}]:[],r._onpos=i.onpos?[{fn:i.onpos}]:[],r._onorientation=i.onorientation?[{fn:i.onorientation}]:[],n.call(this,i)}),Howl.prototype.stereo=function(n,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(n,i)}}),r;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u"){if("number"!=typeof n)return r._stereo;r._stereo=n,r._pos=[n,0,0]}for(var s=r._getSoundIds(i),a=0;a<s.length;a++){var l=r._soundById(s[a]);if(l){if("number"!=typeof n)return l._stereo;l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&t(l,o),"spatial"===o?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),r._emit("stereo",l._id)}}return r},Howl.prototype.pos=function(n,i,r,o){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(n,i,r,o)}}),s;if(i="number"!=typeof i?0:i,r="number"!=typeof r?-.5:r,typeof o>"u"){if("number"!=typeof n)return s._pos;s._pos=[n,i,r]}for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var c=s._soundById(a[l]);if(c){if("number"!=typeof n)return c._pos;c._pos=[n,i,r],c._node&&((!c._panner||c._panner.pan)&&t(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(n,i,r)),s._emit("pos",c._id)}}return s},Howl.prototype.orientation=function(n,i,r,o){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(n,i,r,o)}}),s;if(i="number"!=typeof i?s._orientation[1]:i,r="number"!=typeof r?s._orientation[2]:r,typeof o>"u"){if("number"!=typeof n)return s._orientation;s._orientation=[n,i,r]}for(var a=s._getSoundIds(o),l=0;l<a.length;l++){var c=s._soundById(a[l]);if(c){if("number"!=typeof n)return c._orientation;c._orientation=[n,i,r],c._node&&(c._panner||(c._pos||(c._pos=s._pos||[0,0,-.5]),t(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(n,i,r)),s._emit("orientation",c._id)}}return s},Howl.prototype.pannerAttr=function(){var r,o,s,n=this,i=arguments;if(!n._webAudio)return n;if(0===i.length)return n._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(s=n._soundById(parseInt(i[0],10)))?s._pannerAttr:n._pannerAttr;r=i[0],typeof o>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),n._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:n._panningModel})}else 2===i.length&&(r=i[0],o=parseInt(i[1],10));for(var a=n._getSoundIds(o),l=0;l<a.length;l++)if(s=n._soundById(a[l])){var c=s._pannerAttr;c={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:c.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:c.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:c.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:c.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:c.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:c.panningModel};var u=s._panner;u?(u.coneInnerAngle=c.coneInnerAngle,u.coneOuterAngle=c.coneOuterAngle,u.coneOuterGain=c.coneOuterGain,u.distanceModel=c.distanceModel,u.maxDistance=c.maxDistance,u.refDistance=c.refDistance,u.rolloffFactor=c.rolloffFactor,u.panningModel=c.panningModel):(s._pos||(s._pos=n._pos||[0,0,-.5]),t(s,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var i=this,r=i._parent;i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,n.call(this),i._stereo?r.stereo(i._stereo):i._pos&&r.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var i=this,r=i._parent;return i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,i._stereo?r.stereo(i._stereo):i._pos?r.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,r._refreshBuffer(i)),n.call(this)}}(Sound.prototype.reset);var t=function(n,i){"spatial"===(i=i||"spatial")?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}}()}),X0e=Wa((e,t)=>{t.exports=function n(i){for(var r=new Array(i),o=0;o<i;++o)r[o]=o;return r}}),$0e=Wa((e,t)=>{function n(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}t.exports=function(r){return null!=r&&(n(r)||function i(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&n(r.slice(0,0))}(r)||!!r._isBuffer)}}),Db=Wa((e,t)=>{var n=X0e(),i=$0e(),r=typeof Float64Array<"u";function o(d,h){return d[0]-h[0]}function s(){var f,d=this.stride,h=new Array(d.length);for(f=0;f<h.length;++f)h[f]=[Math.abs(d[f]),f];h.sort(o);var v=new Array(h.length);for(f=0;f<v.length;++f)v[f]=h[f][1];return v}function a(d,h){var f=["View",h,"d",d].join("");h<0&&(f="View_Nil"+d);var v="generic"===d;if(-1===h){var y="function "+f+"(a){this.data=a;};var proto="+f+".prototype;proto.dtype='"+d+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+f+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+f+"(a){return new "+f+"(a);}";return new Function(y)()}if(0===h)return y="function "+f+"(a,d) {this.data = a;this.offset = d};var proto="+f+".prototype;proto.dtype='"+d+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+f+"_copy() {return new "+f+"(this.data,this.offset)};proto.pick=function "+f+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+f+"_get(){return "+(v?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+f+"_set(v){return "+(v?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+f+"(a,b,c,d){return new "+f+"(a,d)}",new Function("TrivialArray",y)(c[d][0]);y=["'use strict'"];var b=n(h),w=b.map(function(ae){return"i"+ae}),O="this.offset+"+b.map(function(ae){return"this.stride["+ae+"]*i"+ae}).join("+"),S=b.map(function(ae){return"b"+ae}).join(","),D=b.map(function(ae){return"c"+ae}).join(",");y.push("function "+f+"(a,"+S+","+D+",d){this.data=a","this.shape=["+S+"]","this.stride=["+D+"]","this.offset=d|0}","var proto="+f+".prototype","proto.dtype='"+d+"'","proto.dimension="+h),y.push("Object.defineProperty(proto,'size',{get:function "+f+"_size(){return "+b.map(function(ae){return"this.shape["+ae+"]"}).join("*"),"}})"),1===h?y.push("proto.order=[0]"):(y.push("Object.defineProperty(proto,'order',{get:"),h<4?(y.push("function "+f+"_order(){"),2===h?y.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===h&&y.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):y.push("ORDER})")),y.push("proto.set=function "+f+"_set("+w.join(",")+",v){"),y.push(v?"return this.data.set("+O+",v)}":"return this.data["+O+"]=v}"),y.push("proto.get=function "+f+"_get("+w.join(",")+"){"),y.push(v?"return this.data.get("+O+")}":"return this.data["+O+"]}"),y.push("proto.index=function "+f+"_index(",w.join(),"){return "+O+"}"),y.push("proto.hi=function "+f+"_hi("+w.join(",")+"){return new "+f+"(this.data,"+b.map(function(ae){return["(typeof i",ae,"!=='number'||i",ae,"<0)?this.shape[",ae,"]:i",ae,"|0"].join("")}).join(",")+","+b.map(function(ae){return"this.stride["+ae+"]"}).join(",")+",this.offset)}");var V=b.map(function(ae){return"a"+ae+"=this.shape["+ae+"]"}),Y=b.map(function(ae){return"c"+ae+"=this.stride["+ae+"]"});y.push("proto.lo=function "+f+"_lo("+w.join(",")+"){var b=this.offset,d=0,"+V.join(",")+","+Y.join(","));for(var q=0;q<h;++q)y.push("if(typeof i"+q+"==='number'&&i"+q+">=0){d=i"+q+"|0;b+=c"+q+"*d;a"+q+"-=d}");for(y.push("return new "+f+"(this.data,"+b.map(function(ae){return"a"+ae}).join(",")+","+b.map(function(ae){return"c"+ae}).join(",")+",b)}"),y.push("proto.step=function "+f+"_step("+w.join(",")+"){var "+b.map(function(ae){return"a"+ae+"=this.shape["+ae+"]"}).join(",")+","+b.map(function(ae){return"b"+ae+"=this.stride["+ae+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),q=0;q<h;++q)y.push("if(typeof i"+q+"==='number'){d=i"+q+"|0;if(d<0){c+=b"+q+"*(a"+q+"-1);a"+q+"=ceil(-a"+q+"/d)}else{a"+q+"=ceil(a"+q+"/d)}b"+q+"*=d}");y.push("return new "+f+"(this.data,"+b.map(function(ae){return"a"+ae}).join(",")+","+b.map(function(ae){return"b"+ae}).join(",")+",c)}");var K=new Array(h),te=new Array(h);for(q=0;q<h;++q)K[q]="a[i"+q+"]",te[q]="b[i"+q+"]";for(y.push("proto.transpose=function "+f+"_transpose("+w+"){"+w.map(function(ae,pe){return ae+"=("+ae+"===undefined?"+pe+":"+ae+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+f+"(this.data,"+K.join(",")+","+te.join(",")+",this.offset)}"),y.push("proto.pick=function "+f+"_pick("+w+"){var a=[],b=[],c=this.offset"),q=0;q<h;++q)y.push("if(typeof i"+q+"==='number'&&i"+q+">=0){c=(c+this.stride["+q+"]*i"+q+")|0}else{a.push(this.shape["+q+"]);b.push(this.stride["+q+"])}");return y.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),y.push("return function construct_"+f+"(data,shape,stride,offset){return new "+f+"(data,"+b.map(function(ae){return"shape["+ae+"]"}).join(",")+","+b.map(function(ae){return"stride["+ae+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",y.join("\n"))(c[d],s)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function u(d,h,f,v){if(void 0===d)return(0,c.array[0])([]);"number"==typeof d&&(d=[d]),void 0===h&&(h=[d.length]);var y=h.length;if(void 0===f){f=new Array(y);for(var b=y-1,w=1;b>=0;--b)f[b]=w,w*=h[b]}if(void 0===v)for(v=0,b=0;b<y;++b)f[b]<0&&(v-=(h[b]-1)*f[b]);for(var O=function l(d){if(i(d))return"buffer";if(r)switch(Object.prototype.toString.call(d)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(d)?"array":"generic"}(d),S=c[O];S.length<=y+1;)S.push(a(O,S.length-1));return(0,S[y+1])(d,h,f,v)}}),K0e=Wa((e,t)=>{t.exports=function r(o,s,a){return 0===o.length?o:s?(a||o.sort(s),function n(o,s){for(var a=1,l=o.length,c=o[0],u=o[0],d=1;d<l;++d)if(u=c,s(c=o[d],u)){if(d===a){a++;continue}o[a++]=c}return o.length=a,o}(o,s)):(a||o.sort(),function i(o){for(var s=1,a=o.length,l=o[0],c=o[0],u=1;u<a;++u,c=l)if(c=l,(l=o[u])!==c){if(u===s){s++;continue}o[s++]=l}return o.length=s,o}(o))}}),Q0e=Wa((e,t)=>{var n=K0e();function i(c,u,d){var S,D,h=c.length,f=u.arrayArgs.length,v=u.indexArgs.length>0,y=[],b=[],w=0,O=0;for(S=0;S<h;++S)b.push(["i",S,"=0"].join(""));for(D=0;D<f;++D)for(S=0;S<h;++S)O=w,w=c[S],b.push(0===S?["d",D,"s",S,"=t",D,"p",w].join(""):["d",D,"s",S,"=(t",D,"p",w,"-s",O,"*t",D,"p",O,")"].join(""));for(b.length>0&&y.push("var "+b.join(",")),S=h-1;S>=0;--S)y.push(["for(i",S,"=0;i",S,"<s",w=c[S],";++i",S,"){"].join(""));for(y.push(d),S=0;S<h;++S){for(O=w,w=c[S],D=0;D<f;++D)y.push(["p",D,"+=d",D,"s",S].join(""));v&&(S>0&&y.push(["index[",O,"]-=s",O].join("")),y.push(["++index[",w,"]"].join(""))),y.push("}")}return y.join("\n")}function s(c,u,d){for(var h=c.body,f=[],v=[],y=0;y<c.args.length;++y){var b=c.args[y];if(!(b.count<=0)){var w=new RegExp(b.name,"g"),O="",S=u.arrayArgs.indexOf(y);switch(u.argTypes[y]){case"offset":var D=u.offsetArgIndex.indexOf(y);S=u.offsetArgs[D].array,O="+q"+D;case"array":O="p"+S+O;var Y="l"+y,q="a"+S;if(0===u.arrayBlockIndices[S])1===b.count?"generic"===d[S]?b.lvalue?(f.push(["var ",Y,"=",q,".get(",O,")"].join("")),h=h.replace(w,Y),v.push([q,".set(",O,",",Y,")"].join(""))):h=h.replace(w,[q,".get(",O,")"].join("")):h=h.replace(w,[q,"[",O,"]"].join("")):"generic"===d[S]?(f.push(["var ",Y,"=",q,".get(",O,")"].join("")),h=h.replace(w,Y),b.lvalue&&v.push([q,".set(",O,",",Y,")"].join(""))):(f.push(["var ",Y,"=",q,"[",O,"]"].join("")),h=h.replace(w,Y),b.lvalue&&v.push([q,"[",O,"]=",Y].join("")));else{for(var K=[b.name],te=[O],ie=0;ie<Math.abs(u.arrayBlockIndices[S]);ie++)K.push("\\s*\\[([^\\]]+)\\]"),te.push("$"+(ie+1)+"*t"+S+"b"+ie);if(w=new RegExp(K.join(""),"g"),O=te.join("+"),"generic"===d[S])throw new Error("cwise: Generic arrays not supported in combination with blocks!");h=h.replace(w,[q,"[",O,"]"].join(""))}break;case"scalar":h=h.replace(w,"Y"+u.scalarArgs.indexOf(y));break;case"index":h=h.replace(w,"index");break;case"shape":h=h.replace(w,"shape")}}}return[f.join("\n"),h,v.join("\n")].join("\n").trim()}function a(c){for(var u=new Array(c.length),d=!0,h=0;h<c.length;++h){var f=c[h],v=f.match(/\d+/);v=v?v[0]:"",u[h]=0===f.charAt(0)?"u"+f.charAt(1)+v:f.charAt(0)+v,h>0&&(d=d&&u[h]===u[h-1])}return d?u[0]:u.join("")}t.exports=function l(c,u){for(var d=u[1].length-Math.abs(c.arrayBlockIndices[0])|0,h=new Array(c.arrayArgs.length),f=new Array(c.arrayArgs.length),v=0;v<c.arrayArgs.length;++v)f[v]=u[2*v],h[v]=u[2*v+1];var y=[],b=[],w=[],O=[],S=[];for(v=0;v<c.arrayArgs.length;++v){c.arrayBlockIndices[v]<0?(w.push(0),O.push(d),y.push(d),b.push(d+c.arrayBlockIndices[v])):(w.push(c.arrayBlockIndices[v]),O.push(c.arrayBlockIndices[v]+d),y.push(0),b.push(c.arrayBlockIndices[v]));for(var D=[],V=0;V<h[v].length;V++)w[v]<=h[v][V]&&h[v][V]<O[v]&&D.push(h[v][V]-w[v]);S.push(D)}var Y=["SS"],q=["'use strict'"],K=[];for(V=0;V<d;++V)K.push(["s",V,"=SS[",V,"]"].join(""));for(v=0;v<c.arrayArgs.length;++v){for(Y.push("a"+v),Y.push("t"+v),Y.push("p"+v),V=0;V<d;++V)K.push(["t",v,"p",V,"=t",v,"[",w[v]+V,"]"].join(""));for(V=0;V<Math.abs(c.arrayBlockIndices[v]);++V)K.push(["t",v,"b",V,"=t",v,"[",y[v]+V,"]"].join(""))}for(v=0;v<c.scalarArgs.length;++v)Y.push("Y"+v);if(c.shapeArgs.length>0&&K.push("shape=SS.slice(0)"),c.indexArgs.length>0){var te=new Array(d);for(v=0;v<d;++v)te[v]="0";K.push(["index=[",te.join(","),"]"].join(""))}for(v=0;v<c.offsetArgs.length;++v){var ie=c.offsetArgs[v],ae=[];for(V=0;V<ie.offset.length;++V)0!==ie.offset[V]&&ae.push(1===ie.offset[V]?["t",ie.array,"p",V].join(""):[ie.offset[V],"*t",ie.array,"p",V].join(""));K.push(0===ae.length?"q"+v+"=0":["q",v,"=",ae.join("+")].join(""))}var pe=n([].concat(c.pre.thisVars).concat(c.body.thisVars).concat(c.post.thisVars));for((K=K.concat(pe)).length>0&&q.push("var "+K.join(",")),v=0;v<c.arrayArgs.length;++v)q.push("p"+v+"|=0");c.pre.body.length>3&&q.push(s(c.pre,c,f));var fe=s(c.body,c,f),ge=function o(c){for(var u=0,d=c[0].length;u<d;){for(var h=1;h<c.length;++h)if(c[h][u]!==c[0][u])return u;++u}return u}(S);q.push(ge<d?function r(c,u,d,h){for(var f=u.length,v=d.arrayArgs.length,y=d.blockSize,b=d.indexArgs.length>0,w=[],O=0;O<v;++O)w.push(["var offset",O,"=p",O].join(""));for(O=c;O<f;++O)w.push(["for(var j"+O+"=SS[",u[O],"]|0;j",O,">0;){"].join("")),w.push(["if(j",O,"<",y,"){"].join("")),w.push(["s",u[O],"=j",O].join("")),w.push(["j",O,"=0"].join("")),w.push(["}else{s",u[O],"=",y].join("")),w.push(["j",O,"-=",y,"}"].join("")),b&&w.push(["index[",u[O],"]=j",O].join(""));for(O=0;O<v;++O){for(var S=["offset"+O],D=c;D<f;++D)S.push(["j",D,"*t",O,"p",u[D]].join(""));w.push(["p",O,"=(",S.join("+"),")"].join(""))}for(w.push(i(u,d,h)),O=c;O<f;++O)w.push("}");return w.join("\n")}(ge,S[0],c,fe):i(S[0],c,fe)),c.post.body.length>3&&q.push(s(c.post,c,f)),c.debug&&console.log("-----Generated cwise routine for ",u,":\n"+q.join("\n")+"\n----------");var Oe=[c.funcName||"unnamed","_cwise_loop_",h[0].join("s"),"m",ge,a(f)].join("");return new Function(["function ",Oe,"(",Y.join(","),"){",q.join("\n"),"} return ",Oe].join(""))()}}),Z0e=Wa((e,t)=>{var n=Q0e();t.exports=function i(r){var o=["'use strict'","var CACHED={}"],s=[];o.push(["return function ",r.funcName+"_cwise_thunk","(",r.shimArgs.join(","),"){"].join(""));for(var l=[],c=[],u=[["array",r.arrayArgs[0],".shape.slice(",Math.max(0,r.arrayBlockIndices[0]),r.arrayBlockIndices[0]<0?","+r.arrayBlockIndices[0]+")":")"].join("")],d=[],h=[],f=0;f<r.arrayArgs.length;++f){var v=r.arrayArgs[f];s.push(["t",v,"=array",v,".dtype,","r",v,"=array",v,".order"].join("")),l.push("t"+v),l.push("r"+v),c.push("t"+v),c.push("r"+v+".join()"),u.push("array"+v+".data"),u.push("array"+v+".stride"),u.push("array"+v+".offset|0"),f>0&&(d.push("array"+r.arrayArgs[0]+".shape.length===array"+v+".shape.length+"+(Math.abs(r.arrayBlockIndices[0])-Math.abs(r.arrayBlockIndices[f]))),h.push("array"+r.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[0])+"]===array"+v+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[f])+"]"))}for(r.arrayArgs.length>1&&(o.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),o.push("for(var shapeIndex=array"+r.arrayArgs[0]+".shape.length-"+Math.abs(r.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),o.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),o.push("}")),f=0;f<r.scalarArgs.length;++f)u.push("scalar"+r.scalarArgs[f]);return s.push(["type=[",c.join(","),"].join()"].join("")),s.push("proc=CACHED[type]"),o.push("var "+s.join(",")),o.push(["if(!proc){","CACHED[type]=proc=compile([",l.join(","),"])}","return proc(",u.join(","),")}"].join("")),r.debug&&console.log("-----Generated thunk:\n"+o.join("\n")+"\n----------"),new Function("compile",o.join("\n"))(n.bind(void 0,r))}}),J0e=Wa((e,t)=>{var n=Z0e();function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function r(o){var s=new i;s.pre=o.pre,s.body=o.body,s.post=o.post;var a=o.args.slice(0);s.argTypes=a;for(var l=0;l<a.length;++l){var c=a[l];if("array"===c||"object"==typeof c&&c.blockIndices){if(s.argTypes[l]="array",s.arrayArgs.push(l),s.arrayBlockIndices.push(c.blockIndices?c.blockIndices:0),s.shimArgs.push("array"+l),l<s.pre.args.length&&s.pre.args[l].count>0)throw new Error("cwise: pre() block may not reference array args");if(l<s.post.args.length&&s.post.args[l].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===c)s.scalarArgs.push(l),s.shimArgs.push("scalar"+l);else if("index"===c){if(s.indexArgs.push(l),l<s.pre.args.length&&s.pre.args[l].count>0)throw new Error("cwise: pre() block may not reference array index");if(l<s.body.args.length&&s.body.args[l].lvalue)throw new Error("cwise: body() block may not write to array index");if(l<s.post.args.length&&s.post.args[l].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===c){if(s.shapeArgs.push(l),l<s.pre.args.length&&s.pre.args[l].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(l<s.body.args.length&&s.body.args[l].lvalue)throw new Error("cwise: body() block may not write to array shape");if(l<s.post.args.length&&s.post.args[l].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof c||!c.offset)throw new Error("cwise: Unknown argument type "+a[l]);s.argTypes[l]="offset",s.offsetArgs.push({array:c.array,offset:c.offset}),s.offsetArgIndex.push(l)}}if(s.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(s.pre.args.length>a.length)throw new Error("cwise: Too many arguments in pre() block");if(s.body.args.length>a.length)throw new Error("cwise: Too many arguments in body() block");if(s.post.args.length>a.length)throw new Error("cwise: Too many arguments in post() block");return s.debug=!!o.printCode||!!o.debug,s.funcName=o.funcName||"cwise",s.blockSize=o.blockSize||64,n(s)}}),Ab=Wa(e=>{var t=J0e(),n={body:"",args:[],thisVars:[],localVars:[]};function i(h){if(!h)return n;for(var f=0;f<h.args.length;++f){var v=h.args[f];h.args[f]=0===f?{name:v,lvalue:!0,rvalue:!!h.rvalue,count:h.count||1}:{name:v,lvalue:!1,rvalue:!0,count:1}}return h.thisVars||(h.thisVars=[]),h.localVars||(h.localVars=[]),h}function o(h){for(var f=[],v=0;v<h.args.length;++v)f.push("a"+v);return new Function("P",["return function ",h.funcName,"_ndarrayops(",f.join(","),") {P(",f.join(","),");return a0}"].join(""))(function r(h){return t({args:h.args,pre:i(h.pre),body:i(h.body),post:i(h.proc),funcName:h.funcName})}(h))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var h in s){var f=s[h];e[h]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+f+"c"},funcName:h}),e[h+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+f+"=b"},rvalue:!0,funcName:h+"eq"}),e[h+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+f+"s"},funcName:h+"s"}),e[h+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+f+"=s"},rvalue:!0,funcName:h+"seq"})}}();var a={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var h in a){var f=a[h];e[h]=o({args:["array","array"],body:{args:["a","b"],body:"a="+f+"b"},funcName:h}),e[h+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+f+"a"},rvalue:!0,count:2,funcName:h+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var h in l){var f=l[h];e[h]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+f+"c"},funcName:h}),e[h+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+f+"s"},funcName:h+"s"}),e[h+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+f+"b"},rvalue:!0,count:2,funcName:h+"eq"}),e[h+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+f+"s"},rvalue:!0,count:2,funcName:h+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var h=0;h<c.length;++h){var f=c[h];e[f]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:f}),e[f+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"eq"})}}();var u=["max","min","atan2","pow"];!function(){for(var h=0;h<u.length;++h){var f=u[h];e[f]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:f}),e[f+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:f+"s"}),e[f+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"eq"}),e[f+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"seq"})}}();var d=["atan2","pow"];(function(){for(var h=0;h<d.length;++h){var f=d[h];e[f+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:f+"op"}),e[f+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:f+"ops"}),e[f+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"opeq"}),e[f+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+f,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:f+"opseq"})}})(),e.any=t({args:["array"],pre:n,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}),eve=Wa((e,t)=>{t.exports=function(n,i){for(var r=n.split("."),o=i.split("."),s=0;s<3;s++){var a=Number(r[s]),l=Number(o[s]);if(a>l)return 1;if(l>a)return-1;if(!isNaN(a)&&isNaN(l))return 1;if(isNaN(a)&&!isNaN(l))return-1}return 0}}),dv="149",tve=0,S7=1,nve=2,rA=1,ive=2,Tb=3,Wd=0,va=1,Xl=2,Is=0,rm=1,E7=2,D7=3,A7=4,rve=5,uv=100,ove=101,sve=102,T7=103,k7=104,ave=200,lve=201,cve=202,dve=203,I7=204,R7=205,uve=206,hve=207,pve=208,fve=209,gve=210,mve=0,vve=1,yve=2,oA=3,bve=4,_ve=5,xve=6,wve=7,N7=0,Cve=1,Mve=2,Yh=0,Pve=1,Ove=2,Sve=3,Eve=4,Dve=5,om=301,sm=302,sA=303,aA=304,kb=306,Xh=1e3,ms=1001,lA=1002,xo=1003,L7=1004,cA=1005,Ji=1006,Ave=1007,hv=1008,qa=1009,Tve=1010,kve=1011,B7=1012,Ive=1013,$h=1014,ml=1015,am=1016,Rve=1017,Nve=1018,lm=1020,Fve=1021,Ec=1023,Lve=1024,Bve=1025,cm=1026,dm=1027,zve=1028,Uve=1029,TC=1030,jve=1031,z7=1033,dA=33776,uA=33777,hA=33778,pA=33779,U7=35840,j7=35841,V7=35842,H7=35843,Vve=36196,G7=37492,W7=37496,q7=37808,Y7=37809,X7=37810,$7=37811,K7=37812,Q7=37813,Z7=37814,J7=37815,eU=37816,tU=37817,nU=37818,iU=37819,rU=37820,oU=37821,fA=36492,Hve=36283,sU=36284,aU=36285,lU=36286,cU=2200,gA=2202,pv=2400,fv=2401,Gu=3e3,Ui=3001,Kh=3200,uU=3201,Wve=0,qve=1,Wu="srgb",NC="srgb-linear",hU="300 es",_A=1035,Ia=class{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let i=n.indexOf(t);-1!==i&&n.splice(i,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let i=0,r=n.length;i<r;i++)n[i].call(this,e);e.target=null}}},Ya=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],pU=1234567,Ib=Math.PI/180,Rb=180/Math.PI;function dd(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ya[255&e]+Ya[e>>8&255]+Ya[e>>16&255]+Ya[e>>24&255]+"-"+Ya[255&t]+Ya[t>>8&255]+"-"+Ya[t>>16&15|64]+Ya[t>>24&255]+"-"+Ya[63&n|128]+Ya[n>>8&255]+"-"+Ya[n>>16&255]+Ya[n>>24&255]+Ya[255&i]+Ya[i>>8&255]+Ya[i>>16&255]+Ya[i>>24&255]).toLowerCase()}function Rs(e,t,n){return Math.max(t,Math.min(n,e))}function xA(e,t){return(e%t+t)%t}function Nb(e,t,n){return(1-n)*e+n*t}function wA(e){return 0==(e&e-1)&&0!==e}function fU(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function FC(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Qh(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function wo(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Yn=Object.freeze({__proto__:null,DEG2RAD:Ib,RAD2DEG:Rb,ceilPowerOfTwo:fU,clamp:Rs,damp:function Qve(e,t,n,i){return Nb(e,t,1-Math.exp(-n*i))},degToRad:function o1e(e){return e*Ib},denormalize:Qh,euclideanModulo:xA,floorPowerOfTwo:FC,generateUUID:dd,inverseLerp:function Kve(e,t,n){return e!==t?(n-e)/(t-e):0},isPowerOfTwo:wA,lerp:Nb,mapLinear:function $ve(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},normalize:wo,pingpong:function Zve(e,t=1){return t-Math.abs(xA(e,2*t)-t)},radToDeg:function s1e(e){return e*Rb},randFloat:function n1e(e,t){return e+Math.random()*(t-e)},randFloatSpread:function i1e(e){return e*(.5-Math.random())},randInt:function t1e(e,t){return e+Math.floor(Math.random()*(t-e+1))},seededRandom:function r1e(e){void 0!==e&&(pU=e);let t=pU+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},setQuaternionFromProperEuler:function a1e(e,t,n,i,r){let o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),u=s((t+i)/2),d=o((t-i)/2),h=s((t-i)/2),f=o((i-t)/2),v=s((i-t)/2);switch(r){case"XYX":e.set(a*u,l*d,l*h,a*c);break;case"YZY":e.set(l*h,a*u,l*d,a*c);break;case"ZXZ":e.set(l*d,l*h,a*u,a*c);break;case"XZX":e.set(a*u,l*v,l*f,a*c);break;case"YXY":e.set(l*f,a*u,l*v,a*c);break;case"ZYZ":e.set(l*v,l*f,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},smootherstep:function e1e(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},smoothstep:function Jve(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}}),Ve=class{constructor(e=0,t=0){Ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},vs=class{constructor(){vs.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,r,o,s,a,l){let c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],v=i[0],y=i[3],b=i[6],w=i[1],O=i[4],S=i[7],D=i[2],V=i[5],Y=i[8];return r[0]=o*v+s*w+a*D,r[3]=o*y+s*O+a*V,r[6]=o*b+s*S+a*Y,r[1]=l*v+c*w+u*D,r[4]=l*y+c*O+u*V,r[7]=l*b+c*S+u*Y,r[2]=d*v+h*w+f*D,r[5]=d*y+h*O+f*V,r[8]=d*b+h*S+f*Y,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=c*o-s*l,d=s*a-c*r,h=l*r-o*a,f=t*u+n*d+i*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);let v=1/f;return e[0]=u*v,e[1]=(i*l-c*n)*v,e[2]=(s*n-i*o)*v,e[3]=d*v,e[4]=(c*t-i*a)*v,e[5]=(i*r-s*t)*v,e[6]=h*v,e[7]=(n*a-l*t)*v,e[8]=(o*t-n*r)*v,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,s){let a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-i*l,i*a,-i*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(CA.makeScale(e,t)),this}rotate(e){return this.premultiply(CA.makeRotation(-e)),this}translate(e,t){return this.premultiply(CA.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}},CA=new vs;function gU(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var l1e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function LC(e,t){return new l1e[e](t)}function BC(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function um(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function zC(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var MA={[Wu]:{[NC]:um},[NC]:{[Wu]:zC}},vl={legacyMode:!0,get workingColorSpace(){return NC},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(MA[t]&&void 0!==MA[t][n]){let i=MA[t][n];return e.r=i(e.r),e.g=i(e.g),e.b=i(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},mU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ta={r:0,g:0,b:0},qd={h:0,s:0,l:0},UC={h:0,s:0,l:0};function PA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function jC(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var si=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wu){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,vl.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=vl.workingColorSpace){return this.r=e,this.g=t,this.b=n,vl.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=vl.workingColorSpace){if(e=xA(e,1),t=Rs(t,0,1),n=Rs(n,0,1),0===t)this.r=this.g=this.b=n;else{let r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=PA(o,r,e+1/3),this.g=PA(o,r,e),this.b=PA(o,r,e-1/3)}return vl.toWorkingColorSpace(this,i),this}setStyle(e,t=Wu){function n(r){void 0!==r&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r,s=i[2];switch(i[1]){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,vl.toWorkingColorSpace(this,t),n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,vl.toWorkingColorSpace(this,t),n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){let a=parseFloat(r[1])/360,l=parseFloat(r[2])/100,c=parseFloat(r[3])/100;return n(r[4]),this.setHSL(a,l,c,t)}}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){let r=i[1],o=r.length;if(3===o)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,vl.toWorkingColorSpace(this,t),this;if(6===o)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,vl.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Wu){let n=mU[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=um(e.r),this.g=um(e.g),this.b=um(e.b),this}copyLinearToSRGB(e){return this.r=zC(e.r),this.g=zC(e.g),this.b=zC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wu){return vl.fromWorkingColorSpace(jC(this,ta),e),Rs(255*ta.r,0,255)<<16^Rs(255*ta.g,0,255)<<8^Rs(255*ta.b,0,255)<<0}getHexString(e=Wu){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=vl.workingColorSpace){vl.fromWorkingColorSpace(jC(this,ta),t);let a,l,n=ta.r,i=ta.g,r=ta.b,o=Math.max(n,i,r),s=Math.min(n,i,r),c=(s+o)/2;if(s===o)a=0,l=0;else{let u=o-s;switch(l=c<=.5?u/(o+s):u/(2-o-s),o){case n:a=(i-r)/u+(i<r?6:0);break;case i:a=(r-n)/u+2;break;case r:a=(n-i)/u+4}a/=6}return e.h=a,e.s=l,e.l=c,e}getRGB(e,t=vl.workingColorSpace){return vl.fromWorkingColorSpace(jC(this,ta),t),e.r=ta.r,e.g=ta.g,e.b=ta.b,e}getStyle(e=Wu){return vl.fromWorkingColorSpace(jC(this,ta),e),e!==Wu?`color(${e} ${ta.r} ${ta.g} ${ta.b})`:`rgb(${255*ta.r|0},${255*ta.g|0},${255*ta.b|0})`}offsetHSL(e,t,n){return this.getHSL(qd),qd.h+=e,qd.s+=t,qd.l+=n,this.setHSL(qd.h,qd.s,qd.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(qd),e.getHSL(UC);let n=Nb(qd.h,UC.h,t),i=Nb(qd.s,UC.s,t),r=Nb(qd.l,UC.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};si.NAMES=mU;var gv,vU=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===gv&&(gv=BC("canvas")),gv.width=e.width,gv.height=e.height;let n=gv.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=gv}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=BC("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=255*um(r[o]/255);return n.putImageData(i,0,0),t}if(e.data){let t=e.data.slice(0);for(let n=0;n<t.length;n++)t[n]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*um(t[n]/255)):um(t[n]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},yU=class{constructor(e=null){this.isSource=!0,this.uuid=dd(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];let n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let r;if(Array.isArray(i)){r=[];for(let o=0,s=i.length;o<s;o++)r.push(OA(i[o].isDataTexture?i[o].image:i[o]))}else r=OA(i);n.url=r}return t||(e.images[this.uuid]=n),n}};function OA(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?vU.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var c1e=0,na=class extends Ia{constructor(e=na.DEFAULT_IMAGE,t=na.DEFAULT_MAPPING,n=ms,i=ms,r=Ji,o=hv,s=Ec,a=qa,l=na.DEFAULT_ANISOTROPY,c=Gu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:c1e++}),this.uuid=dd(),this.name="",this.source=new yU(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Ve(0,0),this.repeat=new Ve(1,1),this.center=new Ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];let n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Xh:e.x=e.x-Math.floor(e.x);break;case ms:e.x=e.x<0?0:1;break;case lA:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Xh:e.y=e.y-Math.floor(e.y);break;case ms:e.y=e.y<0?0:1;break;case lA:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}};na.DEFAULT_IMAGE=null,na.DEFAULT_MAPPING=300,na.DEFAULT_ANISOTROPY=1;var ji=class{constructor(e=0,t=0,n=0,i=1){ji.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r,o=e.elements,s=o[0],a=o[4],l=o[8],c=o[1],u=o[5],d=o[9],h=o[2],f=o[6],v=o[10];if(Math.abs(a-c)<.01&&Math.abs(l-h)<.01&&Math.abs(d-f)<.01){if(Math.abs(a+c)<.1&&Math.abs(l+h)<.1&&Math.abs(d+f)<.1&&Math.abs(s+u+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let b=(s+1)/2,w=(u+1)/2,O=(v+1)/2,S=(a+c)/4,D=(l+h)/4,V=(d+f)/4;return b>w&&b>O?b<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(b),i=S/n,r=D/n):w>O?w<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(w),n=S/i,r=V/i):O<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(O),n=D/r,i=V/r),this.set(n,i,r,t),this}let y=Math.sqrt((f-d)*(f-d)+(l-h)*(l-h)+(c-a)*(c-a));return Math.abs(y)<.001&&(y=1),this.x=(f-d)/y,this.y=(l-h)/y,this.z=(c-a)/y,this.w=Math.acos((s+u+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},oo=class extends Ia{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ji(0,0,e,t),this.scissorTest=!1,this.viewport=new ji(0,0,e,t),this.texture=new na({width:e,height:t,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ji,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new yU(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},bU=class extends na{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=xo,this.minFilter=xo,this.wrapR=ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},u1e=class extends oo{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;let r=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=r.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},Di=class{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],d=r[o+0],h=r[o+1],f=r[o+2],v=r[o+3];if(0===s)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===s)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=v);if(u!==v||a!==d||l!==h||c!==f){let y=1-s,b=a*d+l*h+c*f+u*v,w=b>=0?1:-1,O=1-b*b;if(O>Number.EPSILON){let D=Math.sqrt(O),V=Math.atan2(D,b*w);y=Math.sin(y*V)/D,s=Math.sin(s*V)/D}let S=s*w;if(a=a*y+d*S,l=l*y+h*S,c=c*y+f*S,u=u*y+v*S,y===1-s){let D=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=D,l*=D,c*=D,u*=D}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,o){let s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[o],d=r[o+1],h=r[o+2],f=r[o+3];return e[t]=s*f+c*u+a*h-l*d,e[t+1]=a*f+c*d+l*u-s*h,e[t+2]=l*f+c*h+s*d-a*u,e[t+3]=c*f-s*u-a*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let n=e._x,i=e._y,r=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),u=s(r/2),d=a(n/2),h=a(i/2),f=a(r/2);switch(o){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],u=t[10],d=n+s+u;if(d>0){let h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(c-a)*h,this._y=(r-l)*h,this._z=(o-i)*h}else if(n>s&&n>u){let h=2*Math.sqrt(1+n-s-u);this._w=(c-a)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(r+l)/h}else if(s>u){let h=2*Math.sqrt(1+s-n-u);this._w=(r-l)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(a+c)/h}else{let h=2*Math.sqrt(1+u-n-s);this._w=(o-i)/h,this._x=(r+l)/h,this._y=(a+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Rs(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(0===n)return this;let i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,i=e._y,r=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);let n=this._x,i=this._y,r=this._z,o=this._w,s=o*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;let a=1-s*s;if(a<=Number.EPSILON){let h=1-t;return this._w=h*o+t*this._w,this._x=h*n+t*this._x,this._y=h*i+t*this._y,this._z=h*r+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=o*u+this._w*d,this._x=n*u+this._x*d,this._y=i*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},re=class{constructor(e=0,t=0,n=0){re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(_U.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(_U.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){let t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,c=a*n+s*t-r*i,u=a*i+r*n-o*t,d=-r*t-o*n-s*i;return this.x=l*a+d*-r+c*-s-u*-o,this.y=c*a+d*-o+u*-r-l*-s,this.z=u*a+d*-s+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(e){let t=e.lengthSq();if(0===t)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return SA.copy(this).projectOnVector(e),this.sub(SA)}reflect(e){return this.sub(SA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(Rs(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},SA=new re,_U=new Di,ys=class{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.length;a<l;a+=3){let c=e[a],u=e[a+1],d=e[a+2];c<t&&(t=c),u<n&&(n=u),d<i&&(i=d),c>r&&(r=c),u>o&&(o=u),d>s&&(s=d)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.count;a<l;a++){let c=e.getX(a),u=e.getY(a),d=e.getZ(a);c<t&&(t=c),u<n&&(n=u),d<i&&(i=d),c>r&&(r=c),u>o&&(o=u),d>s&&(s=d)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=hm.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){let r=n.attributes.position;for(let o=0,s=r.count;o<s;o++)hm.fromBufferAttribute(r,o).applyMatrix4(e.matrixWorld),this.expandByPoint(hm)}else null===n.boundingBox&&n.computeBoundingBox(),EA.copy(n.boundingBox),EA.applyMatrix4(e.matrixWorld),this.union(EA);let i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,hm),hm.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Fb),VC.subVectors(this.max,Fb),mv.subVectors(e.a,Fb),vv.subVectors(e.b,Fb),yv.subVectors(e.c,Fb),mf.subVectors(vv,mv),vf.subVectors(yv,vv),pm.subVectors(mv,yv);let t=[0,-mf.z,mf.y,0,-vf.z,vf.y,0,-pm.z,pm.y,mf.z,0,-mf.x,vf.z,0,-vf.x,pm.z,0,-pm.x,-mf.y,mf.x,0,-vf.y,vf.x,0,-pm.y,pm.x,0];return!(!DA(t,mv,vv,yv,VC)||(t=[1,0,0,0,1,0,0,0,1],!DA(t,mv,vv,yv,VC)))&&(HC.crossVectors(mf,vf),t=[HC.x,HC.y,HC.z],DA(t,mv,vv,yv,VC))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return hm.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(hm).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Zh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zh)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Zh=[new re,new re,new re,new re,new re,new re,new re,new re],hm=new re,EA=new ys,mv=new re,vv=new re,yv=new re,mf=new re,vf=new re,pm=new re,Fb=new re,VC=new re,HC=new re,fm=new re;function DA(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){fm.fromArray(e,o);let a=r.x*Math.abs(fm.x)+r.y*Math.abs(fm.y)+r.z*Math.abs(fm.z),l=t.dot(fm),c=n.dot(fm),u=i.dot(fm);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}var h1e=new ys,Lb=new re,AA=new re,$l=class{constructor(e=new re,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;void 0!==t?n.copy(t):h1e.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Lb.subVectors(e,this.center);let t=Lb.lengthSq();if(t>this.radius*this.radius){let n=Math.sqrt(t),i=.5*(n-this.radius);this.center.addScaledVector(Lb,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(AA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Lb.copy(e.center).add(AA)),this.expandByPoint(Lb.copy(e.center).sub(AA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}},Jh=new re,TA=new re,GC=new re,yf=new re,kA=new re,WC=new re,IA=new re,bv=class{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Jh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=Jh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Jh.copy(this.direction).multiplyScalar(t).add(this.origin),Jh.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){TA.copy(e).add(t).multiplyScalar(.5),GC.copy(t).sub(e).normalize(),yf.copy(this.origin).sub(TA);let u,d,h,f,r=.5*e.distanceTo(t),o=-this.direction.dot(GC),s=yf.dot(this.direction),a=-yf.dot(GC),l=yf.lengthSq(),c=Math.abs(1-o*o);if(c>0)if(u=o*a-s,d=o*s-a,f=r*c,u>=0)if(d>=-f)if(d<=f){let v=1/c;u*=v,d*=v,h=u*(u+o*d+2*s)+d*(o*u+d+2*a)+l}else d=r,u=Math.max(0,-(o*d+s)),h=-u*u+d*(d+2*a)+l;else d=-r,u=Math.max(0,-(o*d+s)),h=-u*u+d*(d+2*a)+l;else d<=-f?(u=Math.max(0,-(-o*r+s)),d=u>0?-r:Math.min(Math.max(-r,-a),r),h=-u*u+d*(d+2*a)+l):d<=f?(u=0,d=Math.min(Math.max(-r,-a),r),h=d*(d+2*a)+l):(u=Math.max(0,-(o*r+s)),d=u>0?r:Math.min(Math.max(-r,-a),r),h=-u*u+d*(d+2*a)+l);else d=o>0?-r:r,u=Math.max(0,-(o*d+s)),h=-u*u+d*(d+2*a)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(GC).multiplyScalar(d).add(TA),h}intersectSphere(e,t){Jh.subVectors(e.center,this.origin);let n=Jh.dot(this.direction),i=Jh.dot(Jh)-n*n,r=e.radius*e.radius;if(i>r)return null;let o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:this.at(s<0?a:s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,o,s,a,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||r>i||((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),u>=0?(s=(e.min.z-d.z)*u,a=(e.max.z-d.z)*u):(s=(e.max.z-d.z)*u,a=(e.min.z-d.z)*u),n>a||s>i)||((s>n||n!=n)&&(n=s),(a<i||i!=i)&&(i=a),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return null!==this.intersectBox(e,Jh)}intersectTriangle(e,t,n,i,r){kA.subVectors(t,e),WC.subVectors(n,e),IA.crossVectors(kA,WC);let s,o=this.direction.dot(IA);if(o>0){if(i)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}yf.subVectors(this.origin,e);let a=s*this.direction.dot(WC.crossVectors(yf,WC));if(a<0)return null;let l=s*this.direction.dot(kA.cross(yf));if(l<0||a+l>o)return null;let c=-s*yf.dot(IA);return c<0?null:this.at(c/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}},Wt=class{constructor(){Wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,r,o,s,a,l,c,u,d,h,f,v,y){let b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=i,b[1]=r,b[5]=o,b[9]=s,b[13]=a,b[2]=l,b[6]=c,b[10]=u,b[14]=d,b[3]=h,b[7]=f,b[11]=v,b[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Wt).fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,i=1/_v.setFromMatrixColumn(e,0).length(),r=1/_v.setFromMatrixColumn(e,1).length(),o=1/_v.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){let d=o*c,h=o*u,f=s*c,v=s*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=h+f*l,t[5]=d-v*l,t[9]=-s*a,t[2]=v-d*l,t[6]=f+h*l,t[10]=o*a}else if("YXZ"===e.order){let d=a*c,h=a*u,f=l*c,v=l*u;t[0]=d+v*s,t[4]=f*s-h,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-s,t[2]=h*s-f,t[6]=v+d*s,t[10]=o*a}else if("ZXY"===e.order){let d=a*c,h=a*u,f=l*c,v=l*u;t[0]=d-v*s,t[4]=-o*u,t[8]=f+h*s,t[1]=h+f*s,t[5]=o*c,t[9]=v-d*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){let d=o*c,h=o*u,f=s*c,v=s*u;t[0]=a*c,t[4]=f*l-h,t[8]=d*l+v,t[1]=a*u,t[5]=v*l+d,t[9]=h*l-f,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){let d=o*a,h=o*l,f=s*a,v=s*l;t[0]=a*c,t[4]=v-d*u,t[8]=f*u+h,t[1]=u,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=h*u+f,t[10]=d-v*u}else if("XZY"===e.order){let d=o*a,h=o*l,f=s*a,v=s*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=d*u+v,t[5]=o*c,t[9]=h*u-f,t[2]=f*u-h,t[6]=s*c,t[10]=v*u+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(p1e,e,f1e)}lookAt(e,t,n){let i=this.elements;return Dc.subVectors(e,t),0===Dc.lengthSq()&&(Dc.z=1),Dc.normalize(),bf.crossVectors(n,Dc),0===bf.lengthSq()&&(1===Math.abs(n.z)?Dc.x+=1e-4:Dc.z+=1e-4,Dc.normalize(),bf.crossVectors(n,Dc)),bf.normalize(),qC.crossVectors(Dc,bf),i[0]=bf.x,i[4]=qC.x,i[8]=Dc.x,i[1]=bf.y,i[5]=qC.y,i[9]=Dc.y,i[2]=bf.z,i[6]=qC.z,i[10]=Dc.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],v=n[6],y=n[10],b=n[14],w=n[3],O=n[7],S=n[11],D=n[15],V=i[0],Y=i[4],q=i[8],K=i[12],te=i[1],ie=i[5],ae=i[9],pe=i[13],fe=i[2],ge=i[6],Oe=i[10],Pe=i[14],xe=i[3],_e=i[7],Ue=i[11],He=i[15];return r[0]=o*V+s*te+a*fe+l*xe,r[4]=o*Y+s*ie+a*ge+l*_e,r[8]=o*q+s*ae+a*Oe+l*Ue,r[12]=o*K+s*pe+a*Pe+l*He,r[1]=c*V+u*te+d*fe+h*xe,r[5]=c*Y+u*ie+d*ge+h*_e,r[9]=c*q+u*ae+d*Oe+h*Ue,r[13]=c*K+u*pe+d*Pe+h*He,r[2]=f*V+v*te+y*fe+b*xe,r[6]=f*Y+v*ie+y*ge+b*_e,r[10]=f*q+v*ae+y*Oe+b*Ue,r[14]=f*K+v*pe+y*Pe+b*He,r[3]=w*V+O*te+S*fe+D*xe,r[7]=w*Y+O*ie+S*ge+D*_e,r[11]=w*q+O*ae+S*Oe+D*Ue,r[15]=w*K+O*pe+S*Pe+D*He,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+r*a*u-i*l*u-r*s*d+n*l*d+i*s*h-n*a*h)+e[7]*(+t*a*h-t*l*d+r*o*d-i*o*h+i*l*c-r*a*c)+e[11]*(+t*l*u-t*s*h-r*o*u+n*o*h+r*s*c-n*l*c)+e[15]*(-i*s*c-t*a*u+t*s*d+i*o*u-n*o*d+n*a*c)}transpose(){let t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],v=e[13],y=e[14],b=e[15],w=u*y*l-v*d*l+v*a*h-s*y*h-u*a*b+s*d*b,O=f*d*l-c*y*l-f*a*h+o*y*h+c*a*b-o*d*b,S=c*v*l-f*u*l+f*s*h-o*v*h-c*s*b+o*u*b,D=f*u*a-c*v*a-f*s*d+o*v*d+c*s*y-o*u*y,V=t*w+n*O+i*S+r*D;if(0===V)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let Y=1/V;return e[0]=w*Y,e[1]=(v*d*r-u*y*r-v*i*h+n*y*h+u*i*b-n*d*b)*Y,e[2]=(s*y*r-v*a*r+v*i*l-n*y*l-s*i*b+n*a*b)*Y,e[3]=(u*a*r-s*d*r-u*i*l+n*d*l+s*i*h-n*a*h)*Y,e[4]=O*Y,e[5]=(c*y*r-f*d*r+f*i*h-t*y*h-c*i*b+t*d*b)*Y,e[6]=(f*a*r-o*y*r-f*i*l+t*y*l+o*i*b-t*a*b)*Y,e[7]=(o*d*r-c*a*r+c*i*l-t*d*l-o*i*h+t*a*h)*Y,e[8]=S*Y,e[9]=(f*u*r-c*v*r-f*n*h+t*v*h+c*n*b-t*u*b)*Y,e[10]=(o*v*r-f*s*r+f*n*l-t*v*l-o*n*b+t*s*b)*Y,e[11]=(c*s*r-o*u*r-c*n*l+t*u*l+o*n*h-t*s*h)*Y,e[12]=D*Y,e[13]=(c*v*i-f*u*i+f*n*d-t*v*d-c*n*y+t*u*y)*Y,e[14]=(f*s*i-o*v*i-f*n*a+t*v*a+o*n*y-t*s*y)*Y,e[15]=(o*u*i-c*s*i+c*n*a-t*u*a-o*n*d+t*s*d)*Y,this}scale(e){let t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){let e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,s=e.y,a=e.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,o){return this.set(1,n,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){let i=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,l=r+r,c=o+o,u=s+s,d=r*l,h=r*c,f=r*u,v=o*c,y=o*u,b=s*u,w=a*l,O=a*c,S=a*u,D=n.x,V=n.y,Y=n.z;return i[0]=(1-(v+b))*D,i[1]=(h+S)*D,i[2]=(f-O)*D,i[3]=0,i[4]=(h-S)*V,i[5]=(1-(d+b))*V,i[6]=(y+w)*V,i[7]=0,i[8]=(f+O)*Y,i[9]=(y-w)*Y,i[10]=(1-(d+v))*Y,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){let i=this.elements,r=_v.set(i[0],i[1],i[2]).length(),o=_v.set(i[4],i[5],i[6]).length(),s=_v.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Yd.copy(this);let a=1/r,l=1/o,c=1/s;return Yd.elements[0]*=a,Yd.elements[1]*=a,Yd.elements[2]*=a,Yd.elements[4]*=l,Yd.elements[5]*=l,Yd.elements[6]*=l,Yd.elements[8]*=c,Yd.elements[9]*=c,Yd.elements[10]*=c,t.setFromRotationMatrix(Yd),n.x=r,n.y=o,n.z=s,this}makePerspective(e,t,n,i,r,o){let s=this.elements,l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),d=-(o+r)/(o-r),h=-2*o*r/(o-r);return s[0]=2*r/(t-e),s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=d,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,o){let s=this.elements,a=1/(t-e),l=1/(n-i),c=1/(o-r),u=(t+e)*a,d=(n+i)*l,h=(o+r)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-d,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},_v=new re,Yd=new Wt,p1e=new re(0,0,0),f1e=new re(1,1,1),bf=new re,qC=new re,Dc=new re,xU=new Wt,wU=new Di,ya=class{constructor(e=0,t=0,n=0,i=ya.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let i=e.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Rs(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Rs(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(Rs(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,r));break;case"ZYX":this._y=Math.asin(-Rs(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(a,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Rs(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-Rs(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return xU.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xU,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return wU.setFromEuler(this),this.setFromQuaternion(wU,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};ya.DEFAULT_ORDER="XYZ";var RA=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}},g1e=0,CU=new re,xv=new Di,ep=new Wt,YC=new re,Bb=new re,m1e=new re,v1e=new Di,MU=new re(1,0,0),PU=new re(0,1,0),OU=new re(0,0,1),y1e={type:"added"},SU={type:"removed"},so=class extends Ia{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:g1e++}),this.uuid=dd(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=so.DEFAULT_UP.clone();let e=new re,t=new ya,n=new Di,i=new re(1,1,1);t._onChange(function r(){n.setFromEuler(t,!1)}),n._onChange(function o(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Wt},normalMatrix:{value:new vs}}),this.matrix=new Wt,this.matrixWorld=new Wt,this.matrixAutoUpdate=so.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=so.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new RA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return xv.setFromAxisAngle(e,t),this.quaternion.multiply(xv),this}rotateOnWorldAxis(e,t){return xv.setFromAxisAngle(e,t),this.quaternion.premultiply(xv),this}rotateX(e){return this.rotateOnAxis(MU,e)}rotateY(e){return this.rotateOnAxis(PU,e)}rotateZ(e){return this.rotateOnAxis(OU,e)}translateOnAxis(e,t){return CU.copy(e).applyQuaternion(this.quaternion),this.position.add(CU.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(MU,e)}translateY(e){return this.translateOnAxis(PU,e)}translateZ(e){return this.translateOnAxis(OU,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ep.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?YC.copy(e):YC.set(e,t,n);let i=this.parent;this.updateWorldMatrix(!0,!1),Bb.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ep.lookAt(Bb,YC,this.up):ep.lookAt(YC,Bb,this.up),this.quaternion.setFromRotationMatrix(ep),i&&(ep.extractRotation(i.matrixWorld),xv.setFromRotationMatrix(ep),this.quaternion.premultiply(xv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(y1e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}let t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(SU)),this}removeFromParent(){let e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(SU)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ep.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ep.multiply(e.parent.matrixWorld)),e.applyMatrix4(ep),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){let r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,r=this.children.length;i<r;i++){let o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(n=n.concat(o))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bb,e,m1e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Bb,v1e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);let t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,i=t.length;n<i;n++){let r=t[n];(!0===r.matrixWorldAutoUpdate||!0===e)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){let i=this.children;for(let r=0,o=i.length;r<o;r++){let s=i[r];!0===s.matrixWorldAutoUpdate&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};function r(s,a){return void 0===s[a.uuid]&&(s[a.uuid]=a.toJSON(e)),a.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);let s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){let a=s.shapes;if(Array.isArray(a))for(let l=0,c=a.length;l<c;l++)r(e.shapes,a[l]);else r(e.shapes,a)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){let s=[];for(let a=0,l=this.material.length;a<l;a++)s.push(r(e.materials,this.material[a]));i.material=s}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++)i.animations.push(r(e.animations,this.animations[s]))}if(t){let s=o(e.geometries),a=o(e.materials),l=o(e.textures),c=o(e.images),u=o(e.shapes),d=o(e.skeletons),h=o(e.animations),f=o(e.nodes);s.length>0&&(n.geometries=s),a.length>0&&(n.materials=a),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),u.length>0&&(n.shapes=u),d.length>0&&(n.skeletons=d),h.length>0&&(n.animations=h),f.length>0&&(n.nodes=f)}return n.object=i,n;function o(s){let a=[];for(let l in s){let c=s[l];delete c.metadata,a.push(c)}return a}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++)this.add(e.children[n].clone());return this}};so.DEFAULT_UP=new re(0,1,0),so.DEFAULT_MATRIX_AUTO_UPDATE=!0,so.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Xd=new re,tp=new re,NA=new re,np=new re,wv=new re,Cv=new re,EU=new re,FA=new re,LA=new re,BA=new re,Xa=class{constructor(e=new re,t=new re,n=new re){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Xd.subVectors(e,t),i.cross(Xd);let r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Xd.subVectors(i,t),tp.subVectors(n,t),NA.subVectors(e,t);let o=Xd.dot(Xd),s=Xd.dot(tp),a=Xd.dot(NA),l=tp.dot(tp),c=tp.dot(NA),u=o*l-s*s;if(0===u)return r.set(-2,-1,-1);let d=1/u,h=(l*a-s*c)*d,f=(o*c-s*a)*d;return r.set(1-h-f,f,h)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,np),np.x>=0&&np.y>=0&&np.x+np.y<=1}static getUV(e,t,n,i,r,o,s,a){return this.getBarycoord(e,t,n,i,np),a.set(0,0),a.addScaledVector(r,np.x),a.addScaledVector(o,np.y),a.addScaledVector(s,np.z),a}static isFrontFacing(e,t,n,i){return Xd.subVectors(n,t),tp.subVectors(e,t),Xd.cross(tp).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Xd.subVectors(this.c,this.b),tp.subVectors(this.a,this.b),.5*Xd.cross(tp).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Xa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Xa.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return Xa.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Xa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Xa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let o,s,n=this.a,i=this.b,r=this.c;wv.subVectors(i,n),Cv.subVectors(r,n),FA.subVectors(e,n);let a=wv.dot(FA),l=Cv.dot(FA);if(a<=0&&l<=0)return t.copy(n);LA.subVectors(e,i);let c=wv.dot(LA),u=Cv.dot(LA);if(c>=0&&u<=c)return t.copy(i);let d=a*u-c*l;if(d<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(wv,o);BA.subVectors(e,r);let h=wv.dot(BA),f=Cv.dot(BA);if(f>=0&&h<=f)return t.copy(r);let v=h*l-a*f;if(v<=0&&l>=0&&f<=0)return s=l/(l-f),t.copy(n).addScaledVector(Cv,s);let y=c*f-h*u;if(y<=0&&u-c>=0&&h-f>=0)return EU.subVectors(r,i),s=(u-c)/(u-c+(h-f)),t.copy(i).addScaledVector(EU,s);let b=1/(y+v+d);return o=v*b,s=d*b,t.copy(n).addScaledVector(wv,o).addScaledVector(Cv,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},b1e=0,zb=class extends Ia{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:b1e++}),this.uuid=dd(),this.name="",this.type="Material",this.blending=rm,this.side=Wd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=I7,this.blendDst=R7,this.blendEquation=uv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=oA,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(let t in e){let n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){let t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});let n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(r){let o=[];for(let s in r){let a=r[s];delete a.metadata,o.push(a)}return o}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==rm&&(n.blending=this.blending),this.side!==Wd&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){let r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(null!==t){let i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}},Ub=class extends zb{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new si(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=N7,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},Ns=new re,XC=new Ve,pi=class{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)XC.fromBufferAttribute(this,t),XC.applyMatrix3(e),this.setXY(t,XC.x,XC.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ns.fromBufferAttribute(this,t),Ns.applyMatrix3(e),this.setXYZ(t,Ns.x,Ns.y,Ns.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ns.fromBufferAttribute(this,t),Ns.applyMatrix4(e),this.setXYZ(t,Ns.x,Ns.y,Ns.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ns.fromBufferAttribute(this,t),Ns.applyNormalMatrix(e),this.setXYZ(t,Ns.x,Ns.y,Ns.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ns.fromBufferAttribute(this,t),Ns.transformDirection(e),this.setXYZ(t,Ns.x,Ns.y,Ns.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Qh(t,this.array)),t}setX(e,t){return this.normalized&&(t=wo(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Qh(t,this.array)),t}setY(e,t){return this.normalized&&(t=wo(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Qh(t,this.array)),t}setZ(e,t){return this.normalized&&(t=wo(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Qh(t,this.array)),t}setW(e,t){return this.normalized&&(t=wo(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=wo(t,this.array),n=wo(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=wo(t,this.array),n=wo(n,this.array),i=wo(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=wo(t,this.array),n=wo(n,this.array),i=wo(i,this.array),r=wo(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},DU=class extends pi{constructor(e,t,n){super(new Uint16Array(e),t,n)}},Mv=class extends pi{constructor(e,t,n){super(new Uint32Array(e),t,n)}},Dn=class extends pi{constructor(e,t,n){super(new Float32Array(e),t,n)}},_1e=0,ud=new Wt,zA=new so,Pv=new re,Ac=new ys,jb=new ys,ba=new re,ei=class extends Ia{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_1e++}),this.uuid=dd(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(gU(e)?Mv:DU)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(void 0!==n){let r=(new vs).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}let i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ud.makeRotationFromQuaternion(e),this.applyMatrix4(ud),this}rotateX(e){return ud.makeRotationX(e),this.applyMatrix4(ud),this}rotateY(e){return ud.makeRotationY(e),this.applyMatrix4(ud),this}rotateZ(e){return ud.makeRotationZ(e),this.applyMatrix4(ud),this}translate(e,t,n){return ud.makeTranslation(e,t,n),this.applyMatrix4(ud),this}scale(e,t,n){return ud.makeScale(e,t,n),this.applyMatrix4(ud),this}lookAt(e){return zA.lookAt(e),zA.updateMatrix(),this.applyMatrix4(zA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pv).negate(),this.translate(Pv.x,Pv.y,Pv.z),this}setFromPoints(e){let t=[];for(let n=0,i=e.length;n<i;n++){let r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Dn(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ys);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++)Ac.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(ba.addVectors(this.boundingBox.min,Ac.min),this.boundingBox.expandByPoint(ba),ba.addVectors(this.boundingBox.max,Ac.max),this.boundingBox.expandByPoint(ba)):(this.boundingBox.expandByPoint(Ac.min),this.boundingBox.expandByPoint(Ac.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $l);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new re,1/0);if(e){let n=this.boundingSphere.center;if(Ac.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++)jb.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(ba.addVectors(Ac.min,jb.min),Ac.expandByPoint(ba),ba.addVectors(Ac.max,jb.max),Ac.expandByPoint(ba)):(Ac.expandByPoint(jb.min),Ac.expandByPoint(jb.max));Ac.getCenter(n);let i=0;for(let r=0,o=e.count;r<o;r++)ba.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(ba));if(t)for(let r=0,o=t.length;r<o;r++){let s=t[r],a=this.morphTargetsRelative;for(let l=0,c=s.count;l<c;l++)ba.fromBufferAttribute(s,l),a&&(Pv.fromBufferAttribute(e,l),ba.add(Pv)),i=Math.max(i,n.distanceToSquared(ba))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");let n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,s=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new pi(new Float32Array(4*s),4));let a=this.getAttribute("tangent").array,l=[],c=[];for(let te=0;te<s;te++)l[te]=new re,c[te]=new re;let u=new re,d=new re,h=new re,f=new Ve,v=new Ve,y=new Ve,b=new re,w=new re;function O(te,ie,ae){u.fromArray(i,3*te),d.fromArray(i,3*ie),h.fromArray(i,3*ae),f.fromArray(o,2*te),v.fromArray(o,2*ie),y.fromArray(o,2*ae),d.sub(u),h.sub(u),v.sub(f),y.sub(f);let pe=1/(v.x*y.y-y.x*v.y);!isFinite(pe)||(b.copy(d).multiplyScalar(y.y).addScaledVector(h,-v.y).multiplyScalar(pe),w.copy(h).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(pe),l[te].add(b),l[ie].add(b),l[ae].add(b),c[te].add(w),c[ie].add(w),c[ae].add(w))}let S=this.groups;0===S.length&&(S=[{start:0,count:n.length}]);for(let te=0,ie=S.length;te<ie;++te){let ae=S[te],pe=ae.start;for(let ge=pe,Oe=pe+ae.count;ge<Oe;ge+=3)O(n[ge+0],n[ge+1],n[ge+2])}let D=new re,V=new re,Y=new re,q=new re;function K(te){Y.fromArray(r,3*te),q.copy(Y);let ie=l[te];D.copy(ie),D.sub(Y.multiplyScalar(Y.dot(ie))).normalize(),V.crossVectors(q,ie);let ae=V.dot(c[te])<0?-1:1;a[4*te]=D.x,a[4*te+1]=D.y,a[4*te+2]=D.z,a[4*te+3]=ae}for(let te=0,ie=S.length;te<ie;++te){let ae=S[te],pe=ae.start;for(let ge=pe,Oe=pe+ae.count;ge<Oe;ge+=3)K(n[ge+0]),K(n[ge+1]),K(n[ge+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new pi(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let d=0,h=n.count;d<h;d++)n.setXYZ(d,0,0,0);let i=new re,r=new re,o=new re,s=new re,a=new re,l=new re,c=new re,u=new re;if(e)for(let d=0,h=e.count;d<h;d+=3){let f=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,f),r.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),s.fromBufferAttribute(n,f),a.fromBufferAttribute(n,v),l.fromBufferAttribute(n,y),s.add(c),a.add(c),l.add(c),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(v,a.x,a.y,a.z),n.setXYZ(y,l.x,l.y,l.z)}else for(let d=0,h=t.count;d<h;d+=3)i.fromBufferAttribute(t,d+0),r.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(d+0,c.x,c.y,c.z),n.setXYZ(d+1,c.x,c.y,c.z),n.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ba.fromBufferAttribute(e,t),ba.normalize(),e.setXYZ(t,ba.x,ba.y,ba.z)}toNonIndexed(){function e(s,a){let l=s.array,c=s.itemSize,u=s.normalized,d=new l.constructor(a.length*c),h=0,f=0;for(let v=0,y=a.length;v<y;v++){h=s.isInterleavedBufferAttribute?a[v]*s.data.stride+s.offset:a[v]*c;for(let b=0;b<c;b++)d[f++]=l[h++]}return new pi(d,c,u)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new ei,n=this.index.array,i=this.attributes;for(let s in i){let l=e(i[s],n);t.setAttribute(s,l)}let r=this.morphAttributes;for(let s in r){let a=[],l=r[s];for(let c=0,u=l.length;c<u;c++){let h=e(l[c],n);a.push(h)}t.morphAttributes[s]=a}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let s=0,a=o.length;s<a;s++){let l=o[s];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){let a=this.parameters;for(let l in a)void 0!==a[l]&&(e[l]=a[l]);return e}e.data={attributes:{}};let t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let a in n)e.data.attributes[a]=n[a].toJSON(e.data);let i={},r=!1;for(let a in this.morphAttributes){let l=this.morphAttributes[a],c=[];for(let u=0,d=l.length;u<d;u++)c.push(l[u].toJSON(e.data));c.length>0&&(i[a]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;null!==n&&this.setIndex(n.clone(t));let i=e.attributes;for(let l in i)this.setAttribute(l,i[l].clone(t));let r=e.morphAttributes;for(let l in r){let c=[],u=r[l];for(let d=0,h=u.length;d<h;d++)c.push(u[d].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let l=0,c=o.length;l<c;l++){let u=o[l];this.addGroup(u.start,u.count,u.materialIndex)}let s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());let a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},AU=new Wt,Ov=new bv,UA=new $l,Vb=new re,Hb=new re,Gb=new re,jA=new re,$C=new re,KC=new Ve,QC=new Ve,ZC=new Ve,VA=new re,JC=new re,yl=class extends so{constructor(e=new ei,t=new Ub){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++){let o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}getVertexPosition(e,t){let n=this.geometry,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(n.attributes.position,e);let s=this.morphTargetInfluences;if(r&&s){$C.set(0,0,0);for(let a=0,l=r.length;a<l;a++){let c=s[a];0!==c&&(jA.fromBufferAttribute(r[a],e),$C.addScaledVector(o?jA:jA.sub(t),c))}t.add($C)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){let n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i||(null===n.boundingSphere&&n.computeBoundingSphere(),UA.copy(n.boundingSphere),UA.applyMatrix4(r),!1===e.ray.intersectsSphere(UA))||(AU.copy(r).invert(),Ov.copy(e.ray).applyMatrix4(AU),null!==n.boundingBox&&!1===Ov.intersectsBox(n.boundingBox)))return;let o,s=n.index,a=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,u=n.groups,d=n.drawRange;if(null!==s)if(Array.isArray(i))for(let h=0,f=u.length;h<f;h++){let v=u[h],y=i[v.materialIndex];for(let O=Math.max(v.start,d.start),S=Math.min(s.count,Math.min(v.start+v.count,d.start+d.count));O<S;O+=3){let D=s.getX(O),V=s.getX(O+1),Y=s.getX(O+2);o=eM(this,y,e,Ov,l,c,D,V,Y),o&&(o.faceIndex=Math.floor(O/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else for(let v=Math.max(0,d.start),y=Math.min(s.count,d.start+d.count);v<y;v+=3){let b=s.getX(v),w=s.getX(v+1),O=s.getX(v+2);o=eM(this,i,e,Ov,l,c,b,w,O),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}else if(void 0!==a)if(Array.isArray(i))for(let h=0,f=u.length;h<f;h++){let v=u[h],y=i[v.materialIndex];for(let O=Math.max(v.start,d.start),S=Math.min(a.count,Math.min(v.start+v.count,d.start+d.count));O<S;O+=3)o=eM(this,y,e,Ov,l,c,O,O+1,O+2),o&&(o.faceIndex=Math.floor(O/3),o.face.materialIndex=v.materialIndex,t.push(o))}else for(let v=Math.max(0,d.start),y=Math.min(a.count,d.start+d.count);v<y;v+=3)o=eM(this,i,e,Ov,l,c,v,v+1,v+2),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}};function eM(e,t,n,i,r,o,s,a,l){e.getVertexPosition(s,Vb),e.getVertexPosition(a,Hb),e.getVertexPosition(l,Gb);let c=function x1e(e,t,n,i,r,o,s,a){let l;if(l=t.side===va?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,t.side===Wd,a),null===l)return null;JC.copy(a),JC.applyMatrix4(e.matrixWorld);let c=n.ray.origin.distanceTo(JC);return c<n.near||c>n.far?null:{distance:c,point:JC.clone(),object:e}}(e,t,n,i,Vb,Hb,Gb,VA);if(c){r&&(KC.fromBufferAttribute(r,s),QC.fromBufferAttribute(r,a),ZC.fromBufferAttribute(r,l),c.uv=Xa.getUV(VA,Vb,Hb,Gb,KC,QC,ZC,new Ve)),o&&(KC.fromBufferAttribute(o,s),QC.fromBufferAttribute(o,a),ZC.fromBufferAttribute(o,l),c.uv2=Xa.getUV(VA,Vb,Hb,Gb,KC,QC,ZC,new Ve));let u={a:s,b:a,c:l,normal:new re,materialIndex:0};Xa.getNormal(Vb,Hb,Gb,u.normal),c.face=u}return c}var qu=class extends ei{constructor(e=1,t=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};let s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);let a=[],l=[],c=[],u=[],d=0,h=0;function f(v,y,b,w,O,S,D,V,Y,q,K){let te=S/Y,ie=D/q,ae=S/2,pe=D/2,fe=V/2,ge=Y+1,Oe=q+1,Pe=0,xe=0,_e=new re;for(let Ue=0;Ue<Oe;Ue++){let He=Ue*ie-pe;for(let ze=0;ze<ge;ze++)_e[v]=(ze*te-ae)*w,_e[y]=He*O,_e[b]=fe,l.push(_e.x,_e.y,_e.z),_e[v]=0,_e[y]=0,_e[b]=V>0?1:-1,c.push(_e.x,_e.y,_e.z),u.push(ze/Y),u.push(1-Ue/q),Pe+=1}for(let Ue=0;Ue<q;Ue++)for(let He=0;He<Y;He++){let Re=d+He+ge*(Ue+1),Ye=d+(He+1)+ge*(Ue+1),Le=d+(He+1)+ge*Ue;a.push(d+He+ge*Ue,Re,Le),a.push(Re,Ye,Le),xe+=6}s.addGroup(h,xe,K),h+=xe,d+=Pe}f("z","y","x",-1,-1,n,t,e,o,r,0),f("z","y","x",1,-1,n,t,-e,o,r,1),f("x","z","y",1,1,e,n,t,i,o,2),f("x","z","y",1,-1,e,n,-t,i,o,3),f("x","y","z",1,-1,e,t,n,i,r,4),f("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new Dn(l,3)),this.setAttribute("normal",new Dn(c,3)),this.setAttribute("uv",new Dn(u,2))}static fromJSON(e){return new qu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Sv(e){let t={};for(let n in e){t[n]={};for(let i in e[n]){let r=e[n][i];t[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return t}function bl(e){let t={};for(let n=0;n<e.length;n++){let i=Sv(e[n]);for(let r in i)t[r]=i[r]}return t}function TU(e){return null===e.getRenderTarget()&&e.outputEncoding===Ui?Wu:NC}var Ev={clone:Sv,merge:bl},vo=class extends zb{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sv(e.uniforms),this.uniformsGroups=function w1e(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let r=this.uniforms[i].value;t.uniforms[i]=r&&r.isTexture?{type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix3?{type:"m3",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let n={};for(let i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},Dv=class extends so{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wt,this.projectionMatrix=new Wt,this.projectionMatrixInverse=new Wt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}},$a=class extends Dv{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=2*Rb*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(.5*Ib*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Rb*Math.atan(Math.tan(.5*Ib*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(.5*Ib*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){let a=o.fullWidth,l=o.fullHeight;r+=o.offsetX*i/a,t-=o.offsetY*n/l,i*=o.width/a,n*=o.height/l}let s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},P1e=class extends so{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;let i=new $a(-90,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);let r=new $a(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(-1,0,0),this.add(r);let o=new $a(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);let s=new $a(-90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(0,-1,0),this.add(s);let a=new $a(-90,1,e,t);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(0,0,1),this.add(a);let l=new $a(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();let n=this.renderTarget,[i,r,o,s,a,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=Yh,e.xr.enabled=!1;let h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,a),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}},HA=class extends na{constructor(e,t,n,i,r,o,s,a,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:om,n,i,r,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},O1e=class extends oo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1};this.texture=new HA([n,n,n,n,n,n],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ji}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new qu(5,5,5),r=new vo({name:"CubemapFromEquirect",uniforms:Sv(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:va,blending:Is});r.uniforms.tEquirect.value=t;let o=new yl(i,r),s=t.minFilter;return t.minFilter===hv&&(t.minFilter=Ji),new P1e(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){let r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)}},GA=new re,S1e=new re,E1e=new vs,Tc=class{constructor(e=new re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let i=GA.subVectors(n,t).cross(S1e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let n=e.delta(GA),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;let r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(n).multiplyScalar(r).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||E1e.getNormalMatrix(e),i=this.coplanarPoint(GA).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}},kv=new $l,tM=new re,WA=class{constructor(e=new Tc,t=new Tc,n=new Tc,i=new Tc,r=new Tc,o=new Tc){this.planes=[e,t,n,i,r,o]}set(e,t,n,i,r,o){let s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],v=n[11],y=n[12],b=n[13],w=n[14],O=n[15];return t[0].setComponents(s-i,u-a,v-d,O-y).normalize(),t[1].setComponents(s+i,u+a,v+d,O+y).normalize(),t[2].setComponents(s+r,u+l,v+h,O+b).normalize(),t[3].setComponents(s-r,u-l,v-h,O-b).normalize(),t[4].setComponents(s-o,u-c,v-f,O-w).normalize(),t[5].setComponents(s+o,u+c,v+f,O+w).normalize(),this}intersectsObject(e){let t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),kv.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(kv)}intersectsSprite(e){return kv.center.set(0,0,0),kv.radius=.7071067811865476,kv.applyMatrix4(e.matrixWorld),this.intersectsSphere(kv)}intersectsSphere(e){let t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let i=t[n];if(tM.x=i.normal.x>0?e.max.x:e.min.x,tM.y=i.normal.y>0?e.max.y:e.min.y,tM.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(tM)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}};function kU(){let e=null,t=!1,n=null,i=null;function r(o,s){n(o,s),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function D1e(e,t){let n=t.isWebGL2,i=new WeakMap;return{get:function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);let u=i.get(c);u&&(e.deleteBuffer(u.buffer),i.delete(c))},update:function l(c,u){if(c.isGLBufferAttribute){let h=i.get(c);return void((!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);let d=i.get(c);void 0===d?i.set(c,function r(c,u){let v,d=c.array,h=c.usage,f=e.createBuffer();if(e.bindBuffer(u,f),e.bufferData(u,d,h),c.onUploadCallback(),d instanceof Float32Array)v=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");v=5131}else v=5123;else if(d instanceof Int16Array)v=5122;else if(d instanceof Uint32Array)v=5125;else if(d instanceof Int32Array)v=5124;else if(d instanceof Int8Array)v=5120;else if(d instanceof Uint8Array)v=5121;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);v=5121}return{buffer:f,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function o(c,u,d){let h=u.array,f=u.updateRange;e.bindBuffer(d,c),-1===f.count?e.bufferSubData(d,0,h):(n?e.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):e.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}(d.buffer,c,u),d.version=c.version)}}}var nM=class extends ei{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};let r=e/2,o=t/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,u=e/s,d=t/a,h=[],f=[],v=[],y=[];for(let b=0;b<c;b++){let w=b*d-o;for(let O=0;O<l;O++)f.push(O*u-r,-w,0),v.push(0,0,1),y.push(O/s),y.push(1-b/a)}for(let b=0;b<a;b++)for(let w=0;w<s;w++){let S=w+l*(b+1),D=w+1+l*(b+1),V=w+1+l*b;h.push(w+l*b,S,V),h.push(S,D,V)}this.setIndex(h),this.setAttribute("position",new Dn(f,3)),this.setAttribute("normal",new Dn(v,3)),this.setAttribute("uv",new Dn(y,2))}static fromJSON(e){return new nM(e.width,e.height,e.widthSegments,e.heightSegments)}},Gi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},un={common:{diffuse:{value:new si(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new vs},uv2Transform:{value:new vs},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new si(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new si(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vs}},sprite:{diffuse:{value:new si(16777215)},opacity:{value:1},center:{value:new Ve(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vs}}},Yu={basic:{uniforms:bl([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.fog]),vertexShader:Gi.meshbasic_vert,fragmentShader:Gi.meshbasic_frag},lambert:{uniforms:bl([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.fog,un.lights,{emissive:{value:new si(0)}}]),vertexShader:Gi.meshlambert_vert,fragmentShader:Gi.meshlambert_frag},phong:{uniforms:bl([un.common,un.specularmap,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.fog,un.lights,{emissive:{value:new si(0)},specular:{value:new si(1118481)},shininess:{value:30}}]),vertexShader:Gi.meshphong_vert,fragmentShader:Gi.meshphong_frag},standard:{uniforms:bl([un.common,un.envmap,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.roughnessmap,un.metalnessmap,un.fog,un.lights,{emissive:{value:new si(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gi.meshphysical_vert,fragmentShader:Gi.meshphysical_frag},toon:{uniforms:bl([un.common,un.aomap,un.lightmap,un.emissivemap,un.bumpmap,un.normalmap,un.displacementmap,un.gradientmap,un.fog,un.lights,{emissive:{value:new si(0)}}]),vertexShader:Gi.meshtoon_vert,fragmentShader:Gi.meshtoon_frag},matcap:{uniforms:bl([un.common,un.bumpmap,un.normalmap,un.displacementmap,un.fog,{matcap:{value:null}}]),vertexShader:Gi.meshmatcap_vert,fragmentShader:Gi.meshmatcap_frag},points:{uniforms:bl([un.points,un.fog]),vertexShader:Gi.points_vert,fragmentShader:Gi.points_frag},dashed:{uniforms:bl([un.common,un.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gi.linedashed_vert,fragmentShader:Gi.linedashed_frag},depth:{uniforms:bl([un.common,un.displacementmap]),vertexShader:Gi.depth_vert,fragmentShader:Gi.depth_frag},normal:{uniforms:bl([un.common,un.bumpmap,un.normalmap,un.displacementmap,{opacity:{value:1}}]),vertexShader:Gi.meshnormal_vert,fragmentShader:Gi.meshnormal_frag},sprite:{uniforms:bl([un.sprite,un.fog]),vertexShader:Gi.sprite_vert,fragmentShader:Gi.sprite_frag},background:{uniforms:{uvTransform:{value:new vs},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Gi.background_vert,fragmentShader:Gi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Gi.backgroundCube_vert,fragmentShader:Gi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gi.cube_vert,fragmentShader:Gi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gi.equirect_vert,fragmentShader:Gi.equirect_frag},distanceRGBA:{uniforms:bl([un.common,un.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gi.distanceRGBA_vert,fragmentShader:Gi.distanceRGBA_frag},shadow:{uniforms:bl([un.lights,un.fog,{color:{value:new si(0)},opacity:{value:1}}]),vertexShader:Gi.shadow_vert,fragmentShader:Gi.shadow_frag}};Yu.physical={uniforms:bl([Yu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ve(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new si(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new si(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new si(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Gi.meshphysical_vert,fragmentShader:Gi.meshphysical_frag};var iM={r:0,b:0,g:0};function l_e(e,t,n,i,r,o,s){let c,u,a=new si(0),l=!0===o?0:1,d=null,h=0,f=null;function y(b,w){b.getRGB(iM,TU(e)),i.buffers.color.setClear(iM.r,iM.g,iM.b,w,s)}return{getClearColor:function(){return a},setClearColor:function(b,w=1){a.set(b),l=w,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,y(a,l)},render:function v(b,w){let O=!1,S=!0===w.isScene?w.background:null;S&&S.isTexture&&(S=(w.backgroundBlurriness>0?n:t).get(S));let D=e.xr,V=D.getSession&&D.getSession();V&&"additive"===V.environmentBlendMode&&(S=null),null===S?y(a,l):S&&S.isColor&&(y(S,1),O=!0),(e.autoClear||O)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),S&&(S.isCubeTexture||S.mapping===kb)?(void 0===u&&(u=new yl(new qu(1,1,1),new vo({name:"BackgroundCubeMaterial",uniforms:Sv(Yu.backgroundCube.uniforms),vertexShader:Yu.backgroundCube.vertexShader,fragmentShader:Yu.backgroundCube.fragmentShader,side:va,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(Y,q,K){this.matrixWorld.copyPosition(K.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&!1===S.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=S.encoding!==Ui,(d!==S||h!==S.version||f!==e.toneMapping)&&(u.material.needsUpdate=!0,d=S,h=S.version,f=e.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(void 0===c&&(c=new yl(new nM(2,2),new vo({name:"BackgroundMaterial",uniforms:Sv(Yu.background.uniforms),vertexShader:Yu.background.vertexShader,fragmentShader:Yu.background.fragmentShader,side:Wd,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=S.encoding!==Ui,!0===S.matrixAutoUpdate&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||h!==S.version||f!==e.toneMapping)&&(c.material.needsUpdate=!0,d=S,h=S.version,f=e.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}}}function c_e(e,t,n,i){let r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},l=b(null),c=l,u=!1;function f(ge){return i.isWebGL2?e.bindVertexArray(ge):o.bindVertexArrayOES(ge)}function v(ge){return i.isWebGL2?e.deleteVertexArray(ge):o.deleteVertexArrayOES(ge)}function b(ge){let Oe=[],Pe=[],xe=[];for(let _e=0;_e<r;_e++)Oe[_e]=0,Pe[_e]=0,xe[_e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Oe,enabledAttributes:Pe,attributeDivisors:xe,object:ge,attributes:{},index:null}}function S(){let ge=c.newAttributes;for(let Oe=0,Pe=ge.length;Oe<Pe;Oe++)ge[Oe]=0}function D(ge){V(ge,0)}function V(ge,Oe){let xe=c.enabledAttributes,_e=c.attributeDivisors;c.newAttributes[ge]=1,0===xe[ge]&&(e.enableVertexAttribArray(ge),xe[ge]=1),_e[ge]!==Oe&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ge,Oe),_e[ge]=Oe)}function Y(){let ge=c.newAttributes,Oe=c.enabledAttributes;for(let Pe=0,xe=Oe.length;Pe<xe;Pe++)Oe[Pe]!==ge[Pe]&&(e.disableVertexAttribArray(Pe),Oe[Pe]=0)}function q(ge,Oe,Pe,xe,_e,Ue){!0!==i.isWebGL2||5124!==Pe&&5125!==Pe?e.vertexAttribPointer(ge,Oe,Pe,xe,_e,Ue):e.vertexAttribIPointer(ge,Oe,Pe,_e,Ue)}function pe(){fe(),u=!0,c!==l&&(c=l,f(c.object))}function fe(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function d(ge,Oe,Pe,xe,_e){let Ue=!1;if(s){let He=function y(ge,Oe,Pe){let xe=!0===Pe.wireframe,_e=a[ge.id];void 0===_e&&(_e={},a[ge.id]=_e);let Ue=_e[Oe.id];void 0===Ue&&(Ue={},_e[Oe.id]=Ue);let He=Ue[xe];return void 0===He&&(He=b(function h(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}()),Ue[xe]=He),He}(xe,Pe,Oe);c!==He&&(c=He,f(c.object)),Ue=function w(ge,Oe,Pe,xe){let _e=c.attributes,Ue=Oe.attributes,He=0,ze=Pe.getAttributes();for(let Re in ze)if(ze[Re].location>=0){let Ye=_e[Re],Le=Ue[Re];if(void 0===Le&&("instanceMatrix"===Re&&ge.instanceMatrix&&(Le=ge.instanceMatrix),"instanceColor"===Re&&ge.instanceColor&&(Le=ge.instanceColor)),void 0===Ye||Ye.attribute!==Le||Le&&Ye.data!==Le.data)return!0;He++}return c.attributesNum!==He||c.index!==xe}(ge,xe,Pe,_e),Ue&&function O(ge,Oe,Pe,xe){let _e={},Ue=Oe.attributes,He=0,ze=Pe.getAttributes();for(let Re in ze)if(ze[Re].location>=0){let Ye=Ue[Re];void 0===Ye&&("instanceMatrix"===Re&&ge.instanceMatrix&&(Ye=ge.instanceMatrix),"instanceColor"===Re&&ge.instanceColor&&(Ye=ge.instanceColor));let Le={};Le.attribute=Ye,Ye&&Ye.data&&(Le.data=Ye.data),_e[Re]=Le,He++}c.attributes=_e,c.attributesNum=He,c.index=xe}(ge,xe,Pe,_e)}else{let He=!0===Oe.wireframe;(c.geometry!==xe.id||c.program!==Pe.id||c.wireframe!==He)&&(c.geometry=xe.id,c.program=Pe.id,c.wireframe=He,Ue=!0)}null!==_e&&n.update(_e,34963),(Ue||u)&&(u=!1,function K(ge,Oe,Pe,xe){if(!1===i.isWebGL2&&(ge.isInstancedMesh||xe.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;S();let _e=xe.attributes,Ue=Pe.getAttributes(),He=Oe.defaultAttributeValues;for(let ze in Ue){let Re=Ue[ze];if(Re.location>=0){let Ye=_e[ze];if(void 0===Ye&&("instanceMatrix"===ze&&ge.instanceMatrix&&(Ye=ge.instanceMatrix),"instanceColor"===ze&&ge.instanceColor&&(Ye=ge.instanceColor)),void 0!==Ye){let Le=Ye.normalized,Xe=Ye.itemSize,Ge=n.get(Ye);if(void 0===Ge)continue;let ht=Ge.buffer,Ze=Ge.type,mt=Ge.bytesPerElement;if(Ye.isInterleavedBufferAttribute){let ot=Ye.data,jt=ot.stride,At=Ye.offset;if(ot.isInstancedInterleavedBuffer){for(let Mt=0;Mt<Re.locationSize;Mt++)V(Re.location+Mt,ot.meshPerAttribute);!0!==ge.isInstancedMesh&&void 0===xe._maxInstanceCount&&(xe._maxInstanceCount=ot.meshPerAttribute*ot.count)}else for(let Mt=0;Mt<Re.locationSize;Mt++)D(Re.location+Mt);e.bindBuffer(34962,ht);for(let Mt=0;Mt<Re.locationSize;Mt++)q(Re.location+Mt,Xe/Re.locationSize,Ze,Le,jt*mt,(At+Xe/Re.locationSize*Mt)*mt)}else{if(Ye.isInstancedBufferAttribute){for(let ot=0;ot<Re.locationSize;ot++)V(Re.location+ot,Ye.meshPerAttribute);!0!==ge.isInstancedMesh&&void 0===xe._maxInstanceCount&&(xe._maxInstanceCount=Ye.meshPerAttribute*Ye.count)}else for(let ot=0;ot<Re.locationSize;ot++)D(Re.location+ot);e.bindBuffer(34962,ht);for(let ot=0;ot<Re.locationSize;ot++)q(Re.location+ot,Xe/Re.locationSize,Ze,Le,Xe*mt,Xe/Re.locationSize*ot*mt)}}else if(void 0!==He){let Le=He[ze];if(void 0!==Le)switch(Le.length){case 2:e.vertexAttrib2fv(Re.location,Le);break;case 3:e.vertexAttrib3fv(Re.location,Le);break;case 4:e.vertexAttrib4fv(Re.location,Le);break;default:e.vertexAttrib1fv(Re.location,Le)}}}}Y()}(ge,Oe,Pe,xe),null!==_e&&e.bindBuffer(34963,n.get(_e).buffer))},reset:pe,resetDefaultState:fe,dispose:function te(){pe();for(let ge in a){let Oe=a[ge];for(let Pe in Oe){let xe=Oe[Pe];for(let _e in xe)v(xe[_e].object),delete xe[_e];delete Oe[Pe]}delete a[ge]}},releaseStatesOfGeometry:function ie(ge){if(void 0===a[ge.id])return;let Oe=a[ge.id];for(let Pe in Oe){let xe=Oe[Pe];for(let _e in xe)v(xe[_e].object),delete xe[_e];delete Oe[Pe]}delete a[ge.id]},releaseStatesOfProgram:function ae(ge){for(let Oe in a){let Pe=a[Oe];if(void 0===Pe[ge.id])continue;let xe=Pe[ge.id];for(let _e in xe)v(xe[_e].object),delete xe[_e];delete Pe[ge.id]}},initAttributes:S,enableAttribute:D,disableUnusedAttributes:Y}}function d_e(e,t,n,i){let o,r=i.isWebGL2;this.setMode=function s(c){o=c},this.render=function a(c,u){e.drawArrays(o,c,u),n.update(u,o,1)},this.renderInstances=function l(c,u,d){if(0===d)return;let h,f;if(r)h=e,f="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](o,c,u,d),n.update(u,o,d)}}function u_e(e,t,n){let i;function o(q){if("highp"===q){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";q="mediump"}return"mediump"===q&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);let c=s||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,d=e.getParameter(34930),h=e.getParameter(35660),f=e.getParameter(3379),v=e.getParameter(34076),y=e.getParameter(34921),b=e.getParameter(36347),w=e.getParameter(36348),O=e.getParameter(36349),S=h>0,D=s||t.has("OES_texture_float");return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){let q=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:b,maxVaryings:w,maxFragmentUniforms:O,vertexTextures:S,floatFragmentTextures:D,floatVertexTextures:S&&D,maxSamples:s?e.getParameter(36183):0}}function h_e(e){let t=this,n=null,i=0,r=!1,o=!1,s=new Tc,a=new vs,l={value:null,needsUpdate:!1};function u(d,h,f,v){let y=null!==d?d.length:0,b=null;if(0!==y){if(b=l.value,!0!==v||null===b){let w=f+4*y,O=h.matrixWorldInverse;a.getNormalMatrix(O),(null===b||b.length<w)&&(b=new Float32Array(w));for(let S=0,D=f;S!==y;++S,D+=4)s.copy(d[S]).applyMatrix4(O,a),s.normal.toArray(b,D),b[D+3]=s.constant}l.value=b,l.needsUpdate=!0}return t.numPlanes=y,t.numIntersection=0,b}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){let f=0!==d.length||h||0!==i||r;return r=h,i=d.length,f},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,h){n=u(d,h,0)},this.setState=function(d,h,f){let v=d.clippingPlanes,y=d.clipIntersection,b=d.clipShadows,w=e.get(d);if(!r||null===v||0===v.length||o&&!b)o?u(null):function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}();else{let O=o?0:i,S=4*O,D=w.clippingState||null;l.value=D,D=u(v,h,S,f);for(let V=0;V!==S;++V)D[V]=n[V];w.clippingState=D,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=O}}}function p_e(e){let t=new WeakMap;function n(s,a){return a===sA?s.mapping=om:a===aA&&(s.mapping=sm),s}function r(s){let a=s.target;a.removeEventListener("dispose",r);let l=t.get(a);void 0!==l&&(t.delete(a),l.dispose())}return{get:function i(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){let a=s.mapping;if(a===sA||a===aA){if(t.has(s))return n(t.get(s).texture,s.mapping);{let l=s.image;if(l&&l.height>0){let c=new O1e(l.height/2);return c.fromEquirectangularTexture(e,s),t.set(s,c),s.addEventListener("dispose",r),n(c.texture,s.mapping)}return null}}}return s},dispose:function o(){t=new WeakMap}}}var qA=class extends Dv{constructor(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,o=n+e,s=i+t,a=i-t;if(null!==this.view&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,o=r+l*this.view.width,s-=c*this.view.offsetY,a=s-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}},IU=[.125,.215,.35,.446,.526,.582],YA=new qA,RU=new si,XA=null,mm=(1+Math.sqrt(5))/2,Rv=1/mm,NU=[new re(1,1,1),new re(-1,1,1),new re(1,1,-1),new re(-1,1,-1),new re(0,mm,Rv),new re(0,mm,-Rv),new re(Rv,0,mm),new re(-Rv,0,mm),new re(mm,Rv,0),new re(-mm,Rv,0)],FU=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){XA=this._renderer.getRenderTarget(),this._setSize(256);let r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=zU(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=BU(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(XA),e.scissorTest=!1,rM(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===om||e.mapping===sm?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),XA=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Ji,minFilter:Ji,generateMipmaps:!1,type:am,format:Ec,encoding:Gu,depthBuffer:!1},i=LU(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=LU(e,t,n);let{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function f_e(e){let t=[],n=[],i=[],r=e,o=e-4+1+IU.length;for(let s=0;s<o;s++){let a=Math.pow(2,r);n.push(a);let l=1/a;s>e-4?l=IU[s-e+4-1]:0===s&&(l=0),i.push(l);let c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,v=6,y=3,b=2,w=1,O=new Float32Array(y*v*f),S=new Float32Array(b*v*f),D=new Float32Array(w*v*f);for(let Y=0;Y<f;Y++){let q=Y%3*2/3-1,K=Y>2?0:-1;O.set([q,K,0,q+2/3,K,0,q+2/3,K+1,0,q,K,0,q+2/3,K+1,0,q,K+1,0],y*v*Y),S.set(h,b*v*Y),D.set([Y,Y,Y,Y,Y,Y],w*v*Y)}let V=new ei;V.setAttribute("position",new pi(O,y)),V.setAttribute("uv",new pi(S,b)),V.setAttribute("faceIndex",new pi(D,w)),t.push(V),r>4&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(r)),this._blurMaterial=function g_e(e,t,n){let i=new Float32Array(20),r=new re(0,1,0);return new vo({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Is,depthTest:!1,depthWrite:!1})}(r,e,t)}return i}_compileMaterial(e){let t=new yl(this._lodPlanes[0],e);this._renderer.compile(t,YA)}_sceneToCubeUV(e,t,n,i){let r=new $a(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,l=a.autoClear,c=a.toneMapping;a.getClearColor(RU),a.toneMapping=Yh,a.autoClear=!1;let u=new Ub({name:"PMREM.Background",side:va,depthWrite:!1,depthTest:!1}),d=new yl(new qu,u),h=!1,f=e.background;f?f.isColor&&(u.color.copy(f),e.background=null,h=!0):(u.color.copy(RU),h=!0);for(let v=0;v<6;v++){let y=v%3;0===y?(r.up.set(0,o[v],0),r.lookAt(s[v],0,0)):1===y?(r.up.set(0,0,o[v]),r.lookAt(0,s[v],0)):(r.up.set(0,o[v],0),r.lookAt(0,0,s[v]));let b=this._cubeSize;rM(i,y*b,v>2?b:0,b,b),a.setRenderTarget(i),h&&a.render(d,r),a.render(e,r)}d.geometry.dispose(),d.material.dispose(),a.toneMapping=c,a.autoClear=l,e.background=f}_textureToCubeUV(e,t){let n=this._renderer,i=e.mapping===om||e.mapping===sm;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=zU()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=BU());let r=i?this._cubemapMaterial:this._equirectMaterial,o=new yl(this._lodPlanes[0],r);r.uniforms.envMap.value=e;let a=this._cubeSize;rM(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,YA)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){let r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,r,NU[(i-1)%NU.length])}t.autoClear=n}_blur(e,t,n,i,r){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,o,s){let a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");let u=new yl(this._lodPlanes[i],l),d=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(r)?Math.PI/(2*h):2*Math.PI/39,v=r/f,y=isFinite(r)?1+Math.floor(3*v):20;y>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${y} samples when the maximum is set to 20`);let b=[],w=0;for(let Y=0;Y<20;++Y){let q=Y/v,K=Math.exp(-q*q/2);b.push(K),0===Y?w+=K:Y<y&&(w+=2*K)}for(let Y=0;Y<b.length;Y++)b[Y]=b[Y]/w;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=b,d.latitudinal.value="latitudinal"===o,s&&(d.poleAxis.value=s);let{_lodMax:O}=this;d.dTheta.value=f,d.mipInt.value=O-n;let S=this._sizeLods[i];rM(t,3*S*(i>O-4?i-O+4:0),4*(this._cubeSize-S),3*S,2*S),a.setRenderTarget(t),a.render(u,YA)}};function LU(e,t,n){let i=new oo(e,t,n);return i.texture.mapping=kb,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function rM(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function BU(){return new vo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Is,depthTest:!1,depthWrite:!1})}function zU(){return new vo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Is,depthTest:!1,depthWrite:!1})}function m_e(e){let t=new WeakMap,n=null;function o(a){let l=a.target;l.removeEventListener("dispose",o);let c=t.get(l);void 0!==c&&(t.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){let l=a.mapping,c=l===sA||l===aA,u=l===om||l===sm;if(c||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=t.get(a);return null===n&&(n=new FU(e)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),t.set(a,d),d.texture}if(t.has(a))return t.get(a).texture;{let d=a.image;if(c&&d&&d.height>0||u&&d&&function r(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)){null===n&&(n=new FU(e));let h=c?n.fromEquirectangular(a):n.fromCubemap(a);return t.set(a,h),a.addEventListener("dispose",o),h.texture}return null}}}return a},dispose:function s(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function v_e(e){let t={};function n(i){if(void 0!==t[i])return t[i];let r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(i)}return t[i]=r,r}return{has:function(i){return null!==n(i)},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){let r=n(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function y_e(e,t,n,i){let r={},o=new WeakMap;function s(d){let h=d.target;null!==h.index&&t.remove(h.index);for(let v in h.attributes)t.remove(h.attributes[v]);h.removeEventListener("dispose",s),delete r[h.id];let f=o.get(h);f&&(t.remove(f),o.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,n.memory.geometries--}function c(d){let h=[],f=d.index,v=d.attributes.position,y=0;if(null!==f){let O=f.array;y=f.version;for(let S=0,D=O.length;S<D;S+=3){let V=O[S+0],Y=O[S+1],q=O[S+2];h.push(V,Y,Y,q,q,V)}}else{y=v.version;for(let S=0,D=v.array.length/3-1;S<D;S+=3){let V=S+0,Y=S+1,q=S+2;h.push(V,Y,Y,q,q,V)}}let b=new(gU(h)?Mv:DU)(h,1);b.version=y;let w=o.get(d);w&&t.remove(w),o.set(d,b)}return{get:function a(d,h){return!0===r[h.id]||(h.addEventListener("dispose",s),r[h.id]=!0,n.memory.geometries++),h},update:function l(d){let h=d.attributes;for(let v in h)t.update(h[v],34962);let f=d.morphAttributes;for(let v in f){let y=f[v];for(let b=0,w=y.length;b<w;b++)t.update(y[b],34962)}},getWireframeAttribute:function u(d){let h=o.get(d);if(h){let f=d.index;null!==f&&h.version<f.version&&c(d)}else c(d);return o.get(d)}}}function b_e(e,t,n,i){let o,a,l,r=i.isWebGL2;this.setMode=function s(h){o=h},this.setIndex=function c(h){a=h.type,l=h.bytesPerElement},this.render=function u(h,f){e.drawElements(o,f,a,h*l),n.update(f,o,1)},this.renderInstances=function d(h,f,v){if(0===v)return;let y,b;if(r)y=e,b="drawElementsInstanced";else if(y=t.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",null===y)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");y[b](o,f,a,h*l,v),n.update(f,o,v)}}function __e(e){let n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function i(o,s,a){switch(n.calls++,s){case 4:n.triangles+=a*(o/3);break;case 1:n.lines+=a*(o/2);break;case 3:n.lines+=a*(o-1);break;case 2:n.lines+=a*o;break;case 0:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function x_e(e,t){return e[0]-t[0]}function w_e(e,t){return Math.abs(t[1])-Math.abs(e[1])}function C_e(e,t,n){let i={},r=new Float32Array(8),o=new WeakMap,s=new ji,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,u,d,h){let f=c.morphTargetInfluences;if(!0===t.isWebGL2){let v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=void 0!==v?v.length:0,b=o.get(u);if(void 0===b||b.count!==y){let S=function(){ge.dispose(),o.delete(u),u.removeEventListener("dispose",S)};void 0!==b&&b.texture.dispose();let D=void 0!==u.morphAttributes.position,V=void 0!==u.morphAttributes.normal,Y=void 0!==u.morphAttributes.color,q=u.morphAttributes.position||[],K=u.morphAttributes.normal||[],te=u.morphAttributes.color||[],ie=0;!0===D&&(ie=1),!0===V&&(ie=2),!0===Y&&(ie=3);let ae=u.attributes.position.count*ie,pe=1;ae>t.maxTextureSize&&(pe=Math.ceil(ae/t.maxTextureSize),ae=t.maxTextureSize);let fe=new Float32Array(ae*pe*4*y),ge=new bU(fe,ae,pe,y);ge.type=ml,ge.needsUpdate=!0;let Oe=4*ie;for(let Pe=0;Pe<y;Pe++){let xe=q[Pe],_e=K[Pe],Ue=te[Pe],He=ae*pe*4*Pe;for(let ze=0;ze<xe.count;ze++){let Re=ze*Oe;!0===D&&(s.fromBufferAttribute(xe,ze),fe[He+Re+0]=s.x,fe[He+Re+1]=s.y,fe[He+Re+2]=s.z,fe[He+Re+3]=0),!0===V&&(s.fromBufferAttribute(_e,ze),fe[He+Re+4]=s.x,fe[He+Re+5]=s.y,fe[He+Re+6]=s.z,fe[He+Re+7]=0),!0===Y&&(s.fromBufferAttribute(Ue,ze),fe[He+Re+8]=s.x,fe[He+Re+9]=s.y,fe[He+Re+10]=s.z,fe[He+Re+11]=4===Ue.itemSize?s.w:1)}}b={count:y,texture:ge,size:new Ve(ae,pe)},o.set(u,b),u.addEventListener("dispose",S)}let w=0;for(let S=0;S<f.length;S++)w+=f[S];let O=u.morphTargetsRelative?1:1-w;h.getUniforms().setValue(e,"morphTargetBaseInfluence",O),h.getUniforms().setValue(e,"morphTargetInfluences",f),h.getUniforms().setValue(e,"morphTargetsTexture",b.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",b.size)}else{let v=void 0===f?0:f.length,y=i[u.id];if(void 0===y||y.length!==v){y=[];for(let D=0;D<v;D++)y[D]=[D,0];i[u.id]=y}for(let D=0;D<v;D++){let V=y[D];V[0]=D,V[1]=f[D]}y.sort(w_e);for(let D=0;D<8;D++)D<v&&y[D][1]?(a[D][0]=y[D][0],a[D][1]=y[D][1]):(a[D][0]=Number.MAX_SAFE_INTEGER,a[D][1]=0);a.sort(x_e);let b=u.morphAttributes.position,w=u.morphAttributes.normal,O=0;for(let D=0;D<8;D++){let V=a[D],Y=V[0],q=V[1];Y!==Number.MAX_SAFE_INTEGER&&q?(b&&u.getAttribute("morphTarget"+D)!==b[Y]&&u.setAttribute("morphTarget"+D,b[Y]),w&&u.getAttribute("morphNormal"+D)!==w[Y]&&u.setAttribute("morphNormal"+D,w[Y]),r[D]=q,O+=q):(b&&!0===u.hasAttribute("morphTarget"+D)&&u.deleteAttribute("morphTarget"+D),w&&!0===u.hasAttribute("morphNormal"+D)&&u.deleteAttribute("morphNormal"+D),r[D]=0)}let S=u.morphTargetsRelative?1:1-O;h.getUniforms().setValue(e,"morphTargetBaseInfluence",S),h.getUniforms().setValue(e,"morphTargetInfluences",r)}}}}function M_e(e,t,n,i){let r=new WeakMap;function a(l){let c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),null!==c.instanceColor&&n.remove(c.instanceColor)}return{update:function o(l){let c=i.render.frame,d=t.get(l,l.geometry);return r.get(d)!==c&&(t.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),null!==l.instanceColor&&n.update(l.instanceColor,34962)),d},dispose:function s(){r=new WeakMap}}}var UU=new na,jU=new bU,VU=new class extends na{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=xo,this.minFilter=xo,this.wrapR=ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},HU=new HA,GU=[],WU=[],qU=new Float32Array(16),YU=new Float32Array(9),XU=new Float32Array(4);function Nv(e,t,n){let i=e[0];if(i<=0||i>0)return e;let r=t*n,o=GU[r];if(void 0===o&&(o=new Float32Array(r),GU[r]=o),0!==t){i.toArray(o,0);for(let s=1,a=0;s!==t;++s)a+=n,e[s].toArray(o,a)}return o}function ia(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function ra(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function oM(e,t){let n=WU[t];void 0===n&&(n=new Int32Array(t),WU[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function P_e(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function O_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ia(n,t))return;e.uniform2fv(this.addr,t),ra(n,t)}}function S_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ia(n,t))return;e.uniform3fv(this.addr,t),ra(n,t)}}function E_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ia(n,t))return;e.uniform4fv(this.addr,t),ra(n,t)}}function D_e(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(ia(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ra(n,t)}else{if(ia(n,i))return;XU.set(i),e.uniformMatrix2fv(this.addr,!1,XU),ra(n,i)}}function A_e(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(ia(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ra(n,t)}else{if(ia(n,i))return;YU.set(i),e.uniformMatrix3fv(this.addr,!1,YU),ra(n,i)}}function T_e(e,t){let n=this.cache,i=t.elements;if(void 0===i){if(ia(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ra(n,t)}else{if(ia(n,i))return;qU.set(i),e.uniformMatrix4fv(this.addr,!1,qU),ra(n,i)}}function k_e(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function I_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ia(n,t))return;e.uniform2iv(this.addr,t),ra(n,t)}}function R_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ia(n,t))return;e.uniform3iv(this.addr,t),ra(n,t)}}function N_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ia(n,t))return;e.uniform4iv(this.addr,t),ra(n,t)}}function F_e(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function L_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ia(n,t))return;e.uniform2uiv(this.addr,t),ra(n,t)}}function B_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ia(n,t))return;e.uniform3uiv(this.addr,t),ra(n,t)}}function z_e(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ia(n,t))return;e.uniform4uiv(this.addr,t),ra(n,t)}}function U_e(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||UU,r)}function j_e(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||VU,r)}function V_e(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||HU,r)}function H_e(e,t,n){let i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||jU,r)}function W_e(e,t){e.uniform1fv(this.addr,t)}function q_e(e,t){let n=Nv(t,this.size,2);e.uniform2fv(this.addr,n)}function Y_e(e,t){let n=Nv(t,this.size,3);e.uniform3fv(this.addr,n)}function X_e(e,t){let n=Nv(t,this.size,4);e.uniform4fv(this.addr,n)}function $_e(e,t){let n=Nv(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function K_e(e,t){let n=Nv(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Q_e(e,t){let n=Nv(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Z_e(e,t){e.uniform1iv(this.addr,t)}function J_e(e,t){e.uniform2iv(this.addr,t)}function exe(e,t){e.uniform3iv(this.addr,t)}function txe(e,t){e.uniform4iv(this.addr,t)}function nxe(e,t){e.uniform1uiv(this.addr,t)}function ixe(e,t){e.uniform2uiv(this.addr,t)}function rxe(e,t){e.uniform3uiv(this.addr,t)}function oxe(e,t){e.uniform4uiv(this.addr,t)}function sxe(e,t,n){let i=this.cache,r=t.length,o=oM(n,r);ia(i,o)||(e.uniform1iv(this.addr,o),ra(i,o));for(let s=0;s!==r;++s)n.setTexture2D(t[s]||UU,o[s])}function axe(e,t,n){let i=this.cache,r=t.length,o=oM(n,r);ia(i,o)||(e.uniform1iv(this.addr,o),ra(i,o));for(let s=0;s!==r;++s)n.setTexture3D(t[s]||VU,o[s])}function lxe(e,t,n){let i=this.cache,r=t.length,o=oM(n,r);ia(i,o)||(e.uniform1iv(this.addr,o),ra(i,o));for(let s=0;s!==r;++s)n.setTextureCube(t[s]||HU,o[s])}function cxe(e,t,n){let i=this.cache,r=t.length,o=oM(n,r);ia(i,o)||(e.uniform1iv(this.addr,o),ra(i,o));for(let s=0;s!==r;++s)n.setTexture2DArray(t[s]||jU,o[s])}var uxe=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function G_e(e){switch(e){case 5126:return P_e;case 35664:return O_e;case 35665:return S_e;case 35666:return E_e;case 35674:return D_e;case 35675:return A_e;case 35676:return T_e;case 5124:case 35670:return k_e;case 35667:case 35671:return I_e;case 35668:case 35672:return R_e;case 35669:case 35673:return N_e;case 5125:return F_e;case 36294:return L_e;case 36295:return B_e;case 36296:return z_e;case 35678:case 36198:case 36298:case 36306:case 35682:return U_e;case 35679:case 36299:case 36307:return j_e;case 35680:case 36300:case 36308:case 36293:return V_e;case 36289:case 36303:case 36311:case 36292:return H_e}}(t.type)}},hxe=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function dxe(e){switch(e){case 5126:return W_e;case 35664:return q_e;case 35665:return Y_e;case 35666:return X_e;case 35674:return $_e;case 35675:return K_e;case 35676:return Q_e;case 5124:case 35670:return Z_e;case 35667:case 35671:return J_e;case 35668:case 35672:return exe;case 35669:case 35673:return txe;case 5125:return nxe;case 36294:return ixe;case 36295:return rxe;case 36296:return oxe;case 35678:case 36198:case 36298:case 36306:case 35682:return sxe;case 35679:case 36299:case 36307:return axe;case 35680:case 36300:case 36308:case 36293:return lxe;case 36289:case 36303:case 36311:case 36292:return cxe}}(t.type)}},pxe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let i=this.seq;for(let r=0,o=i.length;r!==o;++r){let s=i[r];s.setValue(e,t[s.id],n)}}},KA=/(\w+)(\])?(\[|\.)?/g;function $U(e,t){e.seq.push(t),e.map[t.id]=t}function fxe(e,t,n){let i=e.name,r=i.length;for(KA.lastIndex=0;;){let o=KA.exec(i),a=o[1],c=o[3];if("]"===o[2]&&(a|=0),void 0===c||"["===c&&KA.lastIndex+2===r){$U(n,void 0===c?new uxe(a,e,t):new hxe(a,e,t));break}{let u=n.map[a];void 0===u&&(u=new pxe(a),$U(n,u)),n=u}}}var sM=class{constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){let r=e.getActiveUniform(t,i);fxe(r,e.getUniformLocation(t,r.name),this)}}setValue(e,t,n,i){let r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){let i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){let s=t[r],a=n[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,i)}}static seqWithValue(e,t){let n=[];for(let i=0,r=e.length;i!==r;++i){let o=e[i];o.id in t&&n.push(o)}return n}};function KU(e,t,n){let i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}var gxe=0;function QU(e,t,n){let i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";let o=/ERROR: 0:(\d+)/.exec(r);if(o){let s=parseInt(o[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function mxe(e,t){let n=e.split("\n"),i=[],r=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let s=r;s<o;s++){let a=s+1;i.push(`${a===t?">":" "} ${a}: ${n[s]}`)}return i.join("\n")}(e.getShaderSource(t),s)}return r}function yxe(e,t){let n=function vxe(e){switch(e){case Gu:return["Linear","( value )"];case Ui:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function bxe(e,t){let n;switch(t){case Pve:n="Linear";break;case Ove:n="Reinhard";break;case Sve:n="OptimizedCineon";break;case Eve:n="ACESFilmic";break;case Dve:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Wb(e){return""!==e}function ZU(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function JU(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Cxe=/^[ \t]*#include +<([\w\d./]+)>/gm;function QA(e){return e.replace(Cxe,Mxe)}function Mxe(e,t){let n=Gi[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return QA(n)}var Pxe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ej(e){return e.replace(Pxe,Oxe)}function Oxe(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function tj(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function kxe(e,t,n,i){let b,w,r=e.getContext(),o=n.defines,s=n.vertexShader,a=n.fragmentShader,l=function Sxe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===rA?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===ive?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Tb&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function Exe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case om:case sm:t="ENVMAP_TYPE_CUBE";break;case kb:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function Dxe(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===sm&&(t="ENVMAP_MODE_REFRACTION"),t}(n),d=function Axe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case N7:t="ENVMAP_BLENDING_MULTIPLY";break;case Cve:t="ENVMAP_BLENDING_MIX";break;case Mve:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function Txe(e){let t=e.envMapCubeUVHeight;if(null===t)return null;let n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),f=n.isWebGL2?"":function _xe(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wb).join("\n")}(n),v=function xxe(e){let t=[];for(let n in e){let i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(o),y=r.createProgram(),O=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(b=[v].filter(Wb).join("\n"),b.length>0&&(b+="\n"),w=[f,v].filter(Wb).join("\n"),w.length>0&&(w+="\n")):(b=[tj(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wb).join("\n"),w=[f,tj(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Yh?"#define TONE_MAPPING":"",n.toneMapping!==Yh?Gi.tonemapping_pars_fragment:"",n.toneMapping!==Yh?bxe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Gi.encodings_pars_fragment,yxe("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Wb).join("\n")),s=QA(s),s=ZU(s,n),s=JU(s,n),a=QA(a),a=ZU(a,n),a=JU(a,n),s=ej(s),a=ej(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(O="#version 300 es\n",b=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+b,w=["#define varying in",n.glslVersion===hU?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===hU?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+w);let q,K,D=O+w+a,V=KU(r,35633,O+b+s),Y=KU(r,35632,D);if(r.attachShader(y,V),r.attachShader(y,Y),void 0!==n.index0AttributeName?r.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),e.debug.checkShaderErrors){let te=r.getProgramInfoLog(y).trim(),ie=r.getShaderInfoLog(V).trim(),ae=r.getShaderInfoLog(Y).trim(),pe=!0,fe=!0;if(!1===r.getProgramParameter(y,35714)){pe=!1;let ge=QU(r,V,"vertex"),Oe=QU(r,Y,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+"\n\nProgram Info Log: "+te+"\n"+ge+"\n"+Oe)}else""!==te?console.warn("THREE.WebGLProgram: Program Info Log:",te):(""===ie||""===ae)&&(fe=!1);fe&&(this.diagnostics={runnable:pe,programLog:te,vertexShader:{log:ie,prefix:b},fragmentShader:{log:ae,prefix:w}})}return r.deleteShader(V),r.deleteShader(Y),this.getUniforms=function(){return void 0===q&&(q=new sM(r,y)),q},this.getAttributes=function(){return void 0===K&&(K=function wxe(e,t){let n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){let o=e.getActiveAttrib(t,r),s=o.name,a=1;35674===o.type&&(a=2),35675===o.type&&(a=3),35676===o.type&&(a=4),n[s]={type:o.type,location:e.getAttribLocation(t,s),locationSize:a}}return n}(r,y)),K},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=gxe++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=V,this.fragmentShader=Y,this}var Ixe=0,Rxe=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let n=e.fragmentShader,i=this._getShaderStage(e.vertexShader),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new Nxe(e),t.set(e,n)),n}},Nxe=class{constructor(e){this.id=Ixe++,this.code=e,this.usedTimes=0}};function Fxe(e,t,n,i,r,o,s){let a=new RA,l=new Rxe,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures,f=r.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function y(K,te,ie,ae,pe){let fe=ae.fog,ge=pe.geometry,Pe=(K.isMeshStandardMaterial?n:t).get(K.envMap||(K.isMeshStandardMaterial?ae.environment:null)),xe=Pe&&Pe.mapping===kb?Pe.image.height:null,_e=v[K.type];null!==K.precision&&(f=r.getMaxPrecision(K.precision),f!==K.precision&&console.warn("THREE.WebGLProgram.getParameters:",K.precision,"not supported, using",f,"instead."));let Re,Ye,Le,Xe,Ue=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,He=void 0!==Ue?Ue.length:0,ze=0;if(void 0!==ge.morphAttributes.position&&(ze=1),void 0!==ge.morphAttributes.normal&&(ze=2),void 0!==ge.morphAttributes.color&&(ze=3),_e){let ot=Yu[_e];Re=ot.vertexShader,Ye=ot.fragmentShader}else Re=K.vertexShader,Ye=K.fragmentShader,l.update(K),Le=l.getVertexShaderID(K),Xe=l.getFragmentShaderID(K);let Ge=e.getRenderTarget(),Ze=K.clearcoat>0,mt=K.iridescence>0;return{isWebGL2:u,shaderID:_e,shaderName:K.type,vertexShader:Re,fragmentShader:Ye,defines:K.defines,customVertexShaderID:Le,customFragmentShaderID:Xe,isRawShaderMaterial:!0===K.isRawShaderMaterial,glslVersion:K.glslVersion,precision:f,instancing:!0===pe.isInstancedMesh,instancingColor:!0===pe.isInstancedMesh&&null!==pe.instanceColor,supportsVertexTextures:h,outputEncoding:null===Ge?e.outputEncoding:!0===Ge.isXRRenderTarget?Ge.texture.encoding:Gu,map:!!K.map,matcap:!!K.matcap,envMap:!!Pe,envMapMode:Pe&&Pe.mapping,envMapCubeUVHeight:xe,lightMap:!!K.lightMap,aoMap:!!K.aoMap,emissiveMap:!!K.emissiveMap,bumpMap:!!K.bumpMap,normalMap:!!K.normalMap,objectSpaceNormalMap:K.normalMapType===qve,tangentSpaceNormalMap:K.normalMapType===Wve,decodeVideoTexture:!!K.map&&!0===K.map.isVideoTexture&&K.map.encoding===Ui,clearcoat:Ze,clearcoatMap:Ze&&!!K.clearcoatMap,clearcoatRoughnessMap:Ze&&!!K.clearcoatRoughnessMap,clearcoatNormalMap:Ze&&!!K.clearcoatNormalMap,iridescence:mt,iridescenceMap:mt&&!!K.iridescenceMap,iridescenceThicknessMap:mt&&!!K.iridescenceThicknessMap,displacementMap:!!K.displacementMap,roughnessMap:!!K.roughnessMap,metalnessMap:!!K.metalnessMap,specularMap:!!K.specularMap,specularIntensityMap:!!K.specularIntensityMap,specularColorMap:!!K.specularColorMap,opaque:!1===K.transparent&&K.blending===rm,alphaMap:!!K.alphaMap,alphaTest:K.alphaTest>0,gradientMap:!!K.gradientMap,sheen:K.sheen>0,sheenColorMap:!!K.sheenColorMap,sheenRoughnessMap:!!K.sheenRoughnessMap,transmission:K.transmission>0,transmissionMap:!!K.transmissionMap,thicknessMap:!!K.thicknessMap,combine:K.combine,vertexTangents:!!K.normalMap&&!!ge.attributes.tangent,vertexColors:K.vertexColors,vertexAlphas:!0===K.vertexColors&&!!ge.attributes.color&&4===ge.attributes.color.itemSize,vertexUvs:!!(K.map||K.bumpMap||K.normalMap||K.specularMap||K.alphaMap||K.emissiveMap||K.roughnessMap||K.metalnessMap||K.clearcoatMap||K.clearcoatRoughnessMap||K.clearcoatNormalMap||K.iridescenceMap||K.iridescenceThicknessMap||K.displacementMap||K.transmissionMap||K.thicknessMap||K.specularIntensityMap||K.specularColorMap||K.sheenColorMap||K.sheenRoughnessMap),uvsVertexOnly:!(K.map||K.bumpMap||K.normalMap||K.specularMap||K.alphaMap||K.emissiveMap||K.roughnessMap||K.metalnessMap||K.clearcoatNormalMap||K.iridescenceMap||K.iridescenceThicknessMap||K.transmission>0||K.transmissionMap||K.thicknessMap||K.specularIntensityMap||K.specularColorMap||K.sheen>0||K.sheenColorMap||K.sheenRoughnessMap||!K.displacementMap),fog:!!fe,useFog:!0===K.fog,fogExp2:fe&&fe.isFogExp2,flatShading:!!K.flatShading,sizeAttenuation:K.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===pe.isSkinnedMesh,morphTargets:void 0!==ge.morphAttributes.position,morphNormals:void 0!==ge.morphAttributes.normal,morphColors:void 0!==ge.morphAttributes.color,morphTargetsCount:He,morphTextureStride:ze,numDirLights:te.directional.length,numPointLights:te.point.length,numSpotLights:te.spot.length,numSpotLightMaps:te.spotLightMap.length,numRectAreaLights:te.rectArea.length,numHemiLights:te.hemi.length,numDirLightShadows:te.directionalShadowMap.length,numPointLightShadows:te.pointShadowMap.length,numSpotLightShadows:te.spotShadowMap.length,numSpotLightShadowsWithMaps:te.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:K.dithering,shadowMapEnabled:e.shadowMap.enabled&&ie.length>0,shadowMapType:e.shadowMap.type,toneMapping:K.toneMapped?e.toneMapping:Yh,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:K.premultipliedAlpha,doubleSided:K.side===Xl,flipSided:K.side===va,useDepthPacking:!!K.depthPacking,depthPacking:K.depthPacking||0,index0AttributeName:K.index0AttributeName,extensionDerivatives:K.extensions&&K.extensions.derivatives,extensionFragDepth:K.extensions&&K.extensions.fragDepth,extensionDrawBuffers:K.extensions&&K.extensions.drawBuffers,extensionShaderTextureLOD:K.extensions&&K.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:K.customProgramCacheKey()}},getProgramCacheKey:function b(K){let te=[];if(K.shaderID?te.push(K.shaderID):(te.push(K.customVertexShaderID),te.push(K.customFragmentShaderID)),void 0!==K.defines)for(let ie in K.defines)te.push(ie),te.push(K.defines[ie]);return!1===K.isRawShaderMaterial&&(function w(K,te){K.push(te.precision),K.push(te.outputEncoding),K.push(te.envMapMode),K.push(te.envMapCubeUVHeight),K.push(te.combine),K.push(te.vertexUvs),K.push(te.fogExp2),K.push(te.sizeAttenuation),K.push(te.morphTargetsCount),K.push(te.morphAttributeCount),K.push(te.numDirLights),K.push(te.numPointLights),K.push(te.numSpotLights),K.push(te.numSpotLightMaps),K.push(te.numHemiLights),K.push(te.numRectAreaLights),K.push(te.numDirLightShadows),K.push(te.numPointLightShadows),K.push(te.numSpotLightShadows),K.push(te.numSpotLightShadowsWithMaps),K.push(te.shadowMapType),K.push(te.toneMapping),K.push(te.numClippingPlanes),K.push(te.numClipIntersection),K.push(te.depthPacking)}(te,K),function O(K,te){a.disableAll(),te.isWebGL2&&a.enable(0),te.supportsVertexTextures&&a.enable(1),te.instancing&&a.enable(2),te.instancingColor&&a.enable(3),te.map&&a.enable(4),te.matcap&&a.enable(5),te.envMap&&a.enable(6),te.lightMap&&a.enable(7),te.aoMap&&a.enable(8),te.emissiveMap&&a.enable(9),te.bumpMap&&a.enable(10),te.normalMap&&a.enable(11),te.objectSpaceNormalMap&&a.enable(12),te.tangentSpaceNormalMap&&a.enable(13),te.clearcoat&&a.enable(14),te.clearcoatMap&&a.enable(15),te.clearcoatRoughnessMap&&a.enable(16),te.clearcoatNormalMap&&a.enable(17),te.iridescence&&a.enable(18),te.iridescenceMap&&a.enable(19),te.iridescenceThicknessMap&&a.enable(20),te.displacementMap&&a.enable(21),te.specularMap&&a.enable(22),te.roughnessMap&&a.enable(23),te.metalnessMap&&a.enable(24),te.gradientMap&&a.enable(25),te.alphaMap&&a.enable(26),te.alphaTest&&a.enable(27),te.vertexColors&&a.enable(28),te.vertexAlphas&&a.enable(29),te.vertexUvs&&a.enable(30),te.vertexTangents&&a.enable(31),te.uvsVertexOnly&&a.enable(32),K.push(a.mask),a.disableAll(),te.fog&&a.enable(0),te.useFog&&a.enable(1),te.flatShading&&a.enable(2),te.logarithmicDepthBuffer&&a.enable(3),te.skinning&&a.enable(4),te.morphTargets&&a.enable(5),te.morphNormals&&a.enable(6),te.morphColors&&a.enable(7),te.premultipliedAlpha&&a.enable(8),te.shadowMapEnabled&&a.enable(9),te.physicallyCorrectLights&&a.enable(10),te.doubleSided&&a.enable(11),te.flipSided&&a.enable(12),te.useDepthPacking&&a.enable(13),te.dithering&&a.enable(14),te.specularIntensityMap&&a.enable(15),te.specularColorMap&&a.enable(16),te.transmission&&a.enable(17),te.transmissionMap&&a.enable(18),te.thicknessMap&&a.enable(19),te.sheen&&a.enable(20),te.sheenColorMap&&a.enable(21),te.sheenRoughnessMap&&a.enable(22),te.decodeVideoTexture&&a.enable(23),te.opaque&&a.enable(24),K.push(a.mask)}(te,K),te.push(e.outputEncoding)),te.push(K.customProgramCacheKey),te.join()},getUniforms:function S(K){let ie,te=v[K.type];return ie=te?Ev.clone(Yu[te].uniforms):K.uniforms,ie},acquireProgram:function D(K,te){let ie;for(let ae=0,pe=c.length;ae<pe;ae++){let fe=c[ae];if(fe.cacheKey===te){ie=fe,++ie.usedTimes;break}}return void 0===ie&&(ie=new kxe(e,te,K,o),c.push(ie)),ie},releaseProgram:function V(K){if(0==--K.usedTimes){let te=c.indexOf(K);c[te]=c[c.length-1],c.pop(),K.destroy()}},releaseShaderCache:function Y(K){l.remove(K)},programs:c,dispose:function q(){l.dispose()}}}function Lxe(){let e=new WeakMap;return{get:function t(o){let s=e.get(o);return void 0===s&&(s={},e.set(o,s)),s},remove:function n(o){e.delete(o)},update:function i(o,s,a){e.get(o)[s]=a},dispose:function r(){e=new WeakMap}}}function Bxe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function nj(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ij(){let e=[],t=0,n=[],i=[],r=[];function s(d,h,f,v,y,b){let w=e[t];return void 0===w?(w={id:d.id,object:d,geometry:h,material:f,groupOrder:v,renderOrder:d.renderOrder,z:y,group:b},e[t]=w):(w.id=d.id,w.object=d,w.geometry=h,w.material=f,w.groupOrder=v,w.renderOrder=d.renderOrder,w.z=y,w.group=b),t++,w}return{opaque:n,transmissive:i,transparent:r,init:function o(){t=0,n.length=0,i.length=0,r.length=0},push:function a(d,h,f,v,y,b){let w=s(d,h,f,v,y,b);f.transmission>0?i.push(w):!0===f.transparent?r.push(w):n.push(w)},unshift:function l(d,h,f,v,y,b){let w=s(d,h,f,v,y,b);f.transmission>0?i.unshift(w):!0===f.transparent?r.unshift(w):n.unshift(w)},finish:function u(){for(let d=t,h=e.length;d<h;d++){let f=e[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(d,h){n.length>1&&n.sort(d||Bxe),i.length>1&&i.sort(h||nj),r.length>1&&r.sort(h||nj)}}}function zxe(){let e=new WeakMap;return{get:function t(i,r){let s,o=e.get(i);return void 0===o?(s=new ij,e.set(i,[s])):r>=o.length?(s=new ij,o.push(s)):s=o[r],s},dispose:function n(){e=new WeakMap}}}function Uxe(){let e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new re,color:new si};break;case"SpotLight":n={position:new re,direction:new re,color:new si,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new re,color:new si,distance:0,decay:0};break;case"HemisphereLight":n={direction:new re,skyColor:new si,groundColor:new si};break;case"RectAreaLight":n={color:new si,position:new re,halfWidth:new re,halfHeight:new re}}return e[t.id]=n,n}}}var Vxe=0;function Hxe(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Gxe(e,t){let n=new Uxe,i=function jxe(){let e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new re);let o=new re,s=new Wt,a=new Wt;return{setup:function l(u,d){let h=0,f=0,v=0;for(let ae=0;ae<9;ae++)r.probe[ae].set(0,0,0);let y=0,b=0,w=0,O=0,S=0,D=0,V=0,Y=0,q=0,K=0;u.sort(Hxe);let te=!0!==d?Math.PI:1;for(let ae=0,pe=u.length;ae<pe;ae++){let fe=u[ae],ge=fe.color,Oe=fe.intensity,Pe=fe.distance,xe=fe.shadow&&fe.shadow.map?fe.shadow.map.texture:null;if(fe.isAmbientLight)h+=ge.r*Oe*te,f+=ge.g*Oe*te,v+=ge.b*Oe*te;else if(fe.isLightProbe)for(let _e=0;_e<9;_e++)r.probe[_e].addScaledVector(fe.sh.coefficients[_e],Oe);else if(fe.isDirectionalLight){let _e=n.get(fe);if(_e.color.copy(fe.color).multiplyScalar(fe.intensity*te),fe.castShadow){let Ue=fe.shadow,He=i.get(fe);He.shadowBias=Ue.bias,He.shadowNormalBias=Ue.normalBias,He.shadowRadius=Ue.radius,He.shadowMapSize=Ue.mapSize,r.directionalShadow[y]=He,r.directionalShadowMap[y]=xe,r.directionalShadowMatrix[y]=fe.shadow.matrix,D++}r.directional[y]=_e,y++}else if(fe.isSpotLight){let _e=n.get(fe);_e.position.setFromMatrixPosition(fe.matrixWorld),_e.color.copy(ge).multiplyScalar(Oe*te),_e.distance=Pe,_e.coneCos=Math.cos(fe.angle),_e.penumbraCos=Math.cos(fe.angle*(1-fe.penumbra)),_e.decay=fe.decay,r.spot[w]=_e;let Ue=fe.shadow;if(fe.map&&(r.spotLightMap[q]=fe.map,q++,Ue.updateMatrices(fe),fe.castShadow&&K++),r.spotLightMatrix[w]=Ue.matrix,fe.castShadow){let He=i.get(fe);He.shadowBias=Ue.bias,He.shadowNormalBias=Ue.normalBias,He.shadowRadius=Ue.radius,He.shadowMapSize=Ue.mapSize,r.spotShadow[w]=He,r.spotShadowMap[w]=xe,Y++}w++}else if(fe.isRectAreaLight){let _e=n.get(fe);_e.color.copy(ge).multiplyScalar(Oe),_e.halfWidth.set(.5*fe.width,0,0),_e.halfHeight.set(0,.5*fe.height,0),r.rectArea[O]=_e,O++}else if(fe.isPointLight){let _e=n.get(fe);if(_e.color.copy(fe.color).multiplyScalar(fe.intensity*te),_e.distance=fe.distance,_e.decay=fe.decay,fe.castShadow){let Ue=fe.shadow,He=i.get(fe);He.shadowBias=Ue.bias,He.shadowNormalBias=Ue.normalBias,He.shadowRadius=Ue.radius,He.shadowMapSize=Ue.mapSize,He.shadowCameraNear=Ue.camera.near,He.shadowCameraFar=Ue.camera.far,r.pointShadow[b]=He,r.pointShadowMap[b]=xe,r.pointShadowMatrix[b]=fe.shadow.matrix,V++}r.point[b]=_e,b++}else if(fe.isHemisphereLight){let _e=n.get(fe);_e.skyColor.copy(fe.color).multiplyScalar(Oe*te),_e.groundColor.copy(fe.groundColor).multiplyScalar(Oe*te),r.hemi[S]=_e,S++}}O>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=un.LTC_FLOAT_1,r.rectAreaLTC2=un.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=un.LTC_HALF_1,r.rectAreaLTC2=un.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=v;let ie=r.hash;(ie.directionalLength!==y||ie.pointLength!==b||ie.spotLength!==w||ie.rectAreaLength!==O||ie.hemiLength!==S||ie.numDirectionalShadows!==D||ie.numPointShadows!==V||ie.numSpotShadows!==Y||ie.numSpotMaps!==q)&&(r.directional.length=y,r.spot.length=w,r.rectArea.length=O,r.point.length=b,r.hemi.length=S,r.directionalShadow.length=D,r.directionalShadowMap.length=D,r.pointShadow.length=V,r.pointShadowMap.length=V,r.spotShadow.length=Y,r.spotShadowMap.length=Y,r.directionalShadowMatrix.length=D,r.pointShadowMatrix.length=V,r.spotLightMatrix.length=Y+q-K,r.spotLightMap.length=q,r.numSpotLightShadowsWithMaps=K,ie.directionalLength=y,ie.pointLength=b,ie.spotLength=w,ie.rectAreaLength=O,ie.hemiLength=S,ie.numDirectionalShadows=D,ie.numPointShadows=V,ie.numSpotShadows=Y,ie.numSpotMaps=q,r.version=Vxe++)},setupView:function c(u,d){let h=0,f=0,v=0,y=0,b=0,w=d.matrixWorldInverse;for(let O=0,S=u.length;O<S;O++){let D=u[O];if(D.isDirectionalLight){let V=r.directional[h];V.direction.setFromMatrixPosition(D.matrixWorld),o.setFromMatrixPosition(D.target.matrixWorld),V.direction.sub(o),V.direction.transformDirection(w),h++}else if(D.isSpotLight){let V=r.spot[v];V.position.setFromMatrixPosition(D.matrixWorld),V.position.applyMatrix4(w),V.direction.setFromMatrixPosition(D.matrixWorld),o.setFromMatrixPosition(D.target.matrixWorld),V.direction.sub(o),V.direction.transformDirection(w),v++}else if(D.isRectAreaLight){let V=r.rectArea[y];V.position.setFromMatrixPosition(D.matrixWorld),V.position.applyMatrix4(w),a.identity(),s.copy(D.matrixWorld),s.premultiply(w),a.extractRotation(s),V.halfWidth.set(.5*D.width,0,0),V.halfHeight.set(0,.5*D.height,0),V.halfWidth.applyMatrix4(a),V.halfHeight.applyMatrix4(a),y++}else if(D.isPointLight){let V=r.point[f];V.position.setFromMatrixPosition(D.matrixWorld),V.position.applyMatrix4(w),f++}else if(D.isHemisphereLight){let V=r.hemi[b];V.direction.setFromMatrixPosition(D.matrixWorld),V.direction.transformDirection(w),b++}}},state:r}}function rj(e,t){let n=new Gxe(e,t),i=[],r=[];return{init:function o(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function l(u){n.setup(i,u)},setupLightsView:function c(u){n.setupView(i,u)},pushLight:function s(u){i.push(u)},pushShadow:function a(u){r.push(u)}}}function Wxe(e,t){let n=new WeakMap;return{get:function i(o,s=0){let l,a=n.get(o);return void 0===a?(l=new rj(e,t),n.set(o,[l])):s>=a.length?(l=new rj(e,t),a.push(l)):l=a[s],l},dispose:function r(){n=new WeakMap}}}var oj=class extends zb{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Kh,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},qxe=class extends zb{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new re,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},Yxe="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Xxe="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function $xe(e,t,n){let i=new WA,r=new Ve,o=new Ve,s=new ji,a=new oj({depthPacking:uU}),l=new qxe,c={},u=n.maxTextureSize,d={[Wd]:va,[va]:Wd,[Xl]:Xl},h=new vo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ve},radius:{value:4}},vertexShader:Yxe,fragmentShader:Xxe}),f=h.clone();f.defines.HORIZONTAL_PASS=1;let v=new ei;v.setAttribute("position",new pi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let y=new yl(v,h),b=this;function w(D,V){let Y=t.update(y);h.defines.VSM_SAMPLES!==D.blurSamples&&(h.defines.VSM_SAMPLES=D.blurSamples,f.defines.VSM_SAMPLES=D.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===D.mapPass&&(D.mapPass=new oo(r.x,r.y)),h.uniforms.shadow_pass.value=D.map.texture,h.uniforms.resolution.value=D.mapSize,h.uniforms.radius.value=D.radius,e.setRenderTarget(D.mapPass),e.clear(),e.renderBufferDirect(V,null,Y,h,y,null),f.uniforms.shadow_pass.value=D.mapPass.texture,f.uniforms.resolution.value=D.mapSize,f.uniforms.radius.value=D.radius,e.setRenderTarget(D.map),e.clear(),e.renderBufferDirect(V,null,Y,f,y,null)}function O(D,V,Y,q,K,te){let ie=null,ae=!0===Y.isPointLight?D.customDistanceMaterial:D.customDepthMaterial;if(void 0!==ae)ie=ae;else if(ie=!0===Y.isPointLight?l:a,e.localClippingEnabled&&!0===V.clipShadows&&Array.isArray(V.clippingPlanes)&&0!==V.clippingPlanes.length||V.displacementMap&&0!==V.displacementScale||V.alphaMap&&V.alphaTest>0||V.map&&V.alphaTest>0){let pe=ie.uuid,fe=V.uuid,ge=c[pe];void 0===ge&&(ge={},c[pe]=ge);let Oe=ge[fe];void 0===Oe&&(Oe=ie.clone(),ge[fe]=Oe),ie=Oe}return ie.visible=V.visible,ie.wireframe=V.wireframe,ie.side=te===Tb?null!==V.shadowSide?V.shadowSide:V.side:null!==V.shadowSide?V.shadowSide:d[V.side],ie.alphaMap=V.alphaMap,ie.alphaTest=V.alphaTest,ie.map=V.map,ie.clipShadows=V.clipShadows,ie.clippingPlanes=V.clippingPlanes,ie.clipIntersection=V.clipIntersection,ie.displacementMap=V.displacementMap,ie.displacementScale=V.displacementScale,ie.displacementBias=V.displacementBias,ie.wireframeLinewidth=V.wireframeLinewidth,ie.linewidth=V.linewidth,!0===Y.isPointLight&&!0===ie.isMeshDistanceMaterial&&(ie.referencePosition.setFromMatrixPosition(Y.matrixWorld),ie.nearDistance=q,ie.farDistance=K),ie}function S(D,V,Y,q,K){if(!1===D.visible)return;if(D.layers.test(V.layers)&&(D.isMesh||D.isLine||D.isPoints)&&(D.castShadow||D.receiveShadow&&K===Tb)&&(!D.frustumCulled||i.intersectsObject(D))){D.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,D.matrixWorld);let ie=t.update(D),ae=D.material;if(Array.isArray(ae)){let pe=ie.groups;for(let fe=0,ge=pe.length;fe<ge;fe++){let Oe=pe[fe],Pe=ae[Oe.materialIndex];if(Pe&&Pe.visible){let xe=O(D,Pe,q,Y.near,Y.far,K);e.renderBufferDirect(Y,null,ie,xe,D,Oe)}}}else if(ae.visible){let pe=O(D,ae,q,Y.near,Y.far,K);e.renderBufferDirect(Y,null,ie,pe,D,null)}}let te=D.children;for(let ie=0,ae=te.length;ie<ae;ie++)S(te[ie],V,Y,q,K)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rA,this.render=function(D,V,Y){if(!1===b.enabled||!1===b.autoUpdate&&!1===b.needsUpdate||0===D.length)return;let q=e.getRenderTarget(),K=e.getActiveCubeFace(),te=e.getActiveMipmapLevel(),ie=e.state;ie.setBlending(Is),ie.buffers.color.setClear(1,1,1,1),ie.buffers.depth.setTest(!0),ie.setScissorTest(!1);for(let ae=0,pe=D.length;ae<pe;ae++){let fe=D[ae],ge=fe.shadow;if(void 0===ge){console.warn("THREE.WebGLShadowMap:",fe,"has no shadow.");continue}if(!1===ge.autoUpdate&&!1===ge.needsUpdate)continue;r.copy(ge.mapSize);let Oe=ge.getFrameExtents();r.multiply(Oe),o.copy(ge.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(o.x=Math.floor(u/Oe.x),r.x=o.x*Oe.x,ge.mapSize.x=o.x),r.y>u&&(o.y=Math.floor(u/Oe.y),r.y=o.y*Oe.y,ge.mapSize.y=o.y)),null===ge.map&&(ge.map=new oo(r.x,r.y,this.type!==Tb?{minFilter:xo,magFilter:xo}:{}),ge.map.texture.name=fe.name+".shadowMap",ge.camera.updateProjectionMatrix()),e.setRenderTarget(ge.map),e.clear();let Pe=ge.getViewportCount();for(let xe=0;xe<Pe;xe++){let _e=ge.getViewport(xe);s.set(o.x*_e.x,o.y*_e.y,o.x*_e.z,o.y*_e.w),ie.viewport(s),ge.updateMatrices(fe,xe),i=ge.getFrustum(),S(V,Y,ge.camera,fe,this.type)}!0!==ge.isPointLightShadow&&this.type===Tb&&w(ge,Y),ge.needsUpdate=!1}b.needsUpdate=!1,e.setRenderTarget(q,K,te)}}function Kxe(e,t,n){let i=n.isWebGL2,a=new function r(){let et=!1,St=new ji,nn=null,pn=new ji(0,0,0,0);return{setMask:function(vi){nn!==vi&&!et&&(e.colorMask(vi,vi,vi,vi),nn=vi)},setLocked:function(vi){et=vi},setClear:function(vi,jr,Ko,tl,Km){!0===Km&&(vi*=tl,jr*=tl,Ko*=tl),St.set(vi,jr,Ko,tl),!1===pn.equals(St)&&(e.clearColor(vi,jr,Ko,tl),pn.copy(St))},reset:function(){et=!1,nn=null,pn.set(-1,0,0,0)}}},l=new function o(){let et=!1,St=null,nn=null,pn=null;return{setTest:function(vi){vi?ht(2929):Ze(2929)},setMask:function(vi){St!==vi&&!et&&(e.depthMask(vi),St=vi)},setFunc:function(vi){if(nn!==vi){switch(vi){case mve:e.depthFunc(512);break;case vve:e.depthFunc(519);break;case yve:e.depthFunc(513);break;case oA:e.depthFunc(515);break;case bve:e.depthFunc(514);break;case _ve:e.depthFunc(518);break;case xve:e.depthFunc(516);break;case wve:e.depthFunc(517);break;default:e.depthFunc(515)}nn=vi}},setLocked:function(vi){et=vi},setClear:function(vi){pn!==vi&&(e.clearDepth(vi),pn=vi)},reset:function(){et=!1,St=null,nn=null,pn=null}}},c=new function s(){let et=!1,St=null,nn=null,pn=null,vi=null,jr=null,Ko=null,tl=null,Km=null;return{setTest:function(jo){et||(jo?ht(2960):Ze(2960))},setMask:function(jo){St!==jo&&!et&&(e.stencilMask(jo),St=jo)},setFunc:function(jo,Ep,Od){(nn!==jo||pn!==Ep||vi!==Od)&&(e.stencilFunc(jo,Ep,Od),nn=jo,pn=Ep,vi=Od)},setOp:function(jo,Ep,Od){(jr!==jo||Ko!==Ep||tl!==Od)&&(e.stencilOp(jo,Ep,Od),jr=jo,Ko=Ep,tl=Od)},setLocked:function(jo){et=jo},setClear:function(jo){Km!==jo&&(e.clearStencil(jo),Km=jo)},reset:function(){et=!1,St=null,nn=null,pn=null,vi=null,jr=null,Ko=null,tl=null,Km=null}}},u=new WeakMap,d=new WeakMap,h={},f={},v=new WeakMap,y=[],b=null,w=!1,O=null,S=null,D=null,V=null,Y=null,q=null,K=null,te=!1,ie=null,ae=null,pe=null,fe=null,ge=null,Oe=e.getParameter(35661),Pe=!1,xe=0,_e=e.getParameter(7938);-1!==_e.indexOf("WebGL")?(xe=parseFloat(/^WebGL (\d)/.exec(_e)[1]),Pe=xe>=1):-1!==_e.indexOf("OpenGL ES")&&(xe=parseFloat(/^OpenGL ES (\d)/.exec(_e)[1]),Pe=xe>=2);let Ue=null,He={},ze=e.getParameter(3088),Re=e.getParameter(2978),Ye=(new ji).fromArray(ze),Le=(new ji).fromArray(Re);function Xe(et,St,nn){let pn=new Uint8Array(4),vi=e.createTexture();e.bindTexture(et,vi),e.texParameteri(et,10241,9728),e.texParameteri(et,10240,9728);for(let jr=0;jr<nn;jr++)e.texImage2D(St+jr,0,6408,1,1,0,6408,5121,pn);return vi}let Ge={};function ht(et){!0!==h[et]&&(e.enable(et),h[et]=!0)}function Ze(et){!1!==h[et]&&(e.disable(et),h[et]=!1)}Ge[3553]=Xe(3553,3553,1),Ge[34067]=Xe(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ht(2929),l.setFunc(oA),xn(!1),An(S7),ht(2884),_n(Is);let At={[uv]:32774,[ove]:32778,[sve]:32779};if(i)At[T7]=32775,At[k7]=32776;else{let et=t.get("EXT_blend_minmax");null!==et&&(At[T7]=et.MIN_EXT,At[k7]=et.MAX_EXT)}let Mt={[ave]:0,[lve]:1,[cve]:768,[I7]:770,[gve]:776,[pve]:774,[uve]:772,[dve]:769,[R7]:771,[fve]:775,[hve]:773};function _n(et,St,nn,pn,vi,jr,Ko,tl){if(et!==Is){if(!1===w&&(ht(3042),w=!0),et===rve)vi=vi||St,jr=jr||nn,Ko=Ko||pn,(St!==S||vi!==Y)&&(e.blendEquationSeparate(At[St],At[vi]),S=St,Y=vi),(nn!==D||pn!==V||jr!==q||Ko!==K)&&(e.blendFuncSeparate(Mt[nn],Mt[pn],Mt[jr],Mt[Ko]),D=nn,V=pn,q=jr,K=Ko),O=et,te=!1;else if(et!==O||tl!==te){if((S!==uv||Y!==uv)&&(e.blendEquation(32774),S=uv,Y=uv),tl)switch(et){case rm:e.blendFuncSeparate(1,771,1,771);break;case E7:e.blendFunc(1,1);break;case D7:e.blendFuncSeparate(0,769,0,1);break;case A7:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",et)}else switch(et){case rm:e.blendFuncSeparate(770,771,1,771);break;case E7:e.blendFunc(770,1);break;case D7:e.blendFuncSeparate(0,769,0,1);break;case A7:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",et)}D=null,V=null,q=null,K=null,O=et,te=tl}}else!0===w&&(Ze(3042),w=!1)}function xn(et){ie!==et&&(e.frontFace(et?2304:2305),ie=et)}function An(et){et!==tve?(ht(2884),et!==ae&&e.cullFace(et===S7?1029:et===nve?1028:1032)):Ze(2884),ae=et}function rn(et,St,nn){et?(ht(32823),(fe!==St||ge!==nn)&&(e.polygonOffset(St,nn),fe=St,ge=nn)):Ze(32823)}return{buffers:{color:a,depth:l,stencil:c},enable:ht,disable:Ze,bindFramebuffer:function mt(et,St){return f[et]!==St&&(e.bindFramebuffer(et,St),f[et]=St,i&&(36009===et&&(f[36160]=St),36160===et&&(f[36009]=St)),!0)},drawBuffers:function ot(et,St){let nn=y,pn=!1;if(et)if(nn=v.get(St),void 0===nn&&(nn=[],v.set(St,nn)),et.isWebGLMultipleRenderTargets){let vi=et.texture;if(nn.length!==vi.length||36064!==nn[0]){for(let jr=0,Ko=vi.length;jr<Ko;jr++)nn[jr]=36064+jr;nn.length=vi.length,pn=!0}}else 36064!==nn[0]&&(nn[0]=36064,pn=!0);else 1029!==nn[0]&&(nn[0]=1029,pn=!0);pn&&(n.isWebGL2?e.drawBuffers(nn):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(nn))},useProgram:function jt(et){return b!==et&&(e.useProgram(et),b=et,!0)},setBlending:_n,setMaterial:function vn(et,St){et.side===Xl?Ze(2884):ht(2884);let nn=et.side===va;St&&(nn=!nn),xn(nn),et.blending===rm&&!1===et.transparent?_n(Is):_n(et.blending,et.blendEquation,et.blendSrc,et.blendDst,et.blendEquationAlpha,et.blendSrcAlpha,et.blendDstAlpha,et.premultipliedAlpha),l.setFunc(et.depthFunc),l.setTest(et.depthTest),l.setMask(et.depthWrite),a.setMask(et.colorWrite);let pn=et.stencilWrite;c.setTest(pn),pn&&(c.setMask(et.stencilWriteMask),c.setFunc(et.stencilFunc,et.stencilRef,et.stencilFuncMask),c.setOp(et.stencilFail,et.stencilZFail,et.stencilZPass)),rn(et.polygonOffset,et.polygonOffsetFactor,et.polygonOffsetUnits),!0===et.alphaToCoverage?ht(32926):Ze(32926)},setFlipSided:xn,setCullFace:An,setLineWidth:function dn(et){et!==pe&&(Pe&&e.lineWidth(et),pe=et)},setPolygonOffset:rn,setScissorTest:function Vn(et){et?ht(3089):Ze(3089)},activeTexture:function hi(et){void 0===et&&(et=33984+Oe-1),Ue!==et&&(e.activeTexture(et),Ue=et)},bindTexture:function Ie(et,St,nn){void 0===nn&&(nn=null===Ue?33984+Oe-1:Ue);let pn=He[nn];void 0===pn&&(pn={type:void 0,texture:void 0},He[nn]=pn),(pn.type!==et||pn.texture!==St)&&(Ue!==nn&&(e.activeTexture(nn),Ue=nn),e.bindTexture(et,St||Ge[et]),pn.type=et,pn.texture=St)},unbindTexture:function we(){let et=He[Ue];void 0!==et&&void 0!==et.type&&(e.bindTexture(et.type,null),et.type=void 0,et.texture=void 0)},compressedTexImage2D:function ft(){try{e.compressedTexImage2D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},compressedTexImage3D:function Qt(){try{e.compressedTexImage3D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},texImage2D:function Xn(){try{e.texImage2D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},texImage3D:function jn(){try{e.texImage3D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},updateUBOMapping:function Tr(et,St){let nn=d.get(St);void 0===nn&&(nn=new WeakMap,d.set(St,nn));let pn=nn.get(et);void 0===pn&&(pn=e.getUniformBlockIndex(St,et.name),nn.set(et,pn))},uniformBlockBinding:function To(et,St){let nn=d.get(St).get(et);u.get(St)!==nn&&(e.uniformBlockBinding(St,nn,et.__bindingPointIndex),u.set(St,nn))},texStorage2D:function Vt(){try{e.texStorage2D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},texStorage3D:function Un(){try{e.texStorage3D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},texSubImage2D:function zt(){try{e.texSubImage2D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},texSubImage3D:function on(){try{e.texSubImage3D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},compressedTexSubImage2D:function Gn(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},compressedTexSubImage3D:function Tn(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(et){console.error("THREE.WebGLState:",et)}},scissor:function _i(et){!1===Ye.equals(et)&&(e.scissor(et.x,et.y,et.z,et.w),Ye.copy(et))},viewport:function ci(et){!1===Le.equals(et)&&(e.viewport(et.x,et.y,et.z,et.w),Le.copy(et))},reset:function js(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},Ue=null,He={},f={},v=new WeakMap,y=[],b=null,w=!1,O=null,S=null,D=null,V=null,Y=null,q=null,K=null,te=!1,ie=null,ae=null,pe=null,fe=null,ge=null,Ye.set(0,0,e.canvas.width,e.canvas.height),Le.set(0,0,e.canvas.width,e.canvas.height),a.reset(),l.reset(),c.reset()}}}function Qxe(e,t,n,i,r,o,s){let y,a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap,b=new WeakMap,w=!1;try{w=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function O(Ie,we){return w?new OffscreenCanvas(Ie,we):BC("canvas")}function S(Ie,we,ft,Qt){let zt=1;if((Ie.width>Qt||Ie.height>Qt)&&(zt=Qt/Math.max(Ie.width,Ie.height)),zt<1||!0===we){if(typeof HTMLImageElement<"u"&&Ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ie instanceof ImageBitmap){let on=we?FC:Math.floor,Gn=on(zt*Ie.width),Tn=on(zt*Ie.height);void 0===y&&(y=O(Gn,Tn));let Vt=ft?O(Gn,Tn):y;return Vt.width=Gn,Vt.height=Tn,Vt.getContext("2d").drawImage(Ie,0,0,Gn,Tn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+Gn+"x"+Tn+")."),Vt}return"data"in Ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),Ie}return Ie}function D(Ie){return wA(Ie.width)&&wA(Ie.height)}function Y(Ie,we){return Ie.generateMipmaps&&we&&Ie.minFilter!==xo&&Ie.minFilter!==Ji}function q(Ie){e.generateMipmap(Ie)}function K(Ie,we,ft,Qt,zt=!1){if(!1===a)return we;if(null!==Ie){if(void 0!==e[Ie])return e[Ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ie+"'")}let on=we;return 6403===we&&(5126===ft&&(on=33326),5131===ft&&(on=33325),5121===ft&&(on=33321)),33319===we&&(5126===ft&&(on=33328),5131===ft&&(on=33327),5121===ft&&(on=33323)),6408===we&&(5126===ft&&(on=34836),5131===ft&&(on=34842),5121===ft&&(on=Qt===Ui&&!1===zt?35907:32856),32819===ft&&(on=32854),32820===ft&&(on=32855)),(33325===on||33326===on||33327===on||33328===on||34842===on||34836===on)&&t.get("EXT_color_buffer_float"),on}function te(Ie,we,ft){return!0===Y(Ie,ft)||Ie.isFramebufferTexture&&Ie.minFilter!==xo&&Ie.minFilter!==Ji?Math.log2(Math.max(we.width,we.height))+1:void 0!==Ie.mipmaps&&Ie.mipmaps.length>0?Ie.mipmaps.length:Ie.isCompressedTexture&&Array.isArray(Ie.image)?we.mipmaps.length:1}function ie(Ie){return Ie===xo||Ie===L7||Ie===cA?9728:9729}function ae(Ie){let we=Ie.target;we.removeEventListener("dispose",ae),function fe(Ie){let we=i.get(Ie);if(void 0===we.__webglInit)return;let ft=Ie.source,Qt=b.get(ft);if(Qt){let zt=Qt[we.__cacheKey];zt.usedTimes--,0===zt.usedTimes&&ge(Ie),0===Object.keys(Qt).length&&b.delete(ft)}i.remove(Ie)}(we),we.isVideoTexture&&v.delete(we)}function pe(Ie){let we=Ie.target;we.removeEventListener("dispose",pe),function Oe(Ie){let we=Ie.texture,ft=i.get(Ie),Qt=i.get(we);if(void 0!==Qt.__webglTexture&&(e.deleteTexture(Qt.__webglTexture),s.memory.textures--),Ie.depthTexture&&Ie.depthTexture.dispose(),Ie.isWebGLCubeRenderTarget)for(let zt=0;zt<6;zt++)e.deleteFramebuffer(ft.__webglFramebuffer[zt]),ft.__webglDepthbuffer&&e.deleteRenderbuffer(ft.__webglDepthbuffer[zt]);else{if(e.deleteFramebuffer(ft.__webglFramebuffer),ft.__webglDepthbuffer&&e.deleteRenderbuffer(ft.__webglDepthbuffer),ft.__webglMultisampledFramebuffer&&e.deleteFramebuffer(ft.__webglMultisampledFramebuffer),ft.__webglColorRenderbuffer)for(let zt=0;zt<ft.__webglColorRenderbuffer.length;zt++)ft.__webglColorRenderbuffer[zt]&&e.deleteRenderbuffer(ft.__webglColorRenderbuffer[zt]);ft.__webglDepthRenderbuffer&&e.deleteRenderbuffer(ft.__webglDepthRenderbuffer)}if(Ie.isWebGLMultipleRenderTargets)for(let zt=0,on=we.length;zt<on;zt++){let Gn=i.get(we[zt]);Gn.__webglTexture&&(e.deleteTexture(Gn.__webglTexture),s.memory.textures--),i.remove(we[zt])}i.remove(we),i.remove(Ie)}(we)}function ge(Ie){let we=i.get(Ie);e.deleteTexture(we.__webglTexture),delete b.get(Ie.source)[we.__cacheKey],s.memory.textures--}let Pe=0;function He(Ie,we){let ft=i.get(Ie);if(Ie.isVideoTexture&&function Vn(Ie){let we=s.render.frame;v.get(Ie)!==we&&(v.set(Ie,we),Ie.update())}(Ie),!1===Ie.isRenderTargetTexture&&Ie.version>0&&ft.__version!==Ie.version){let Qt=Ie.image;if(null===Qt)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Qt.complete)return void Ze(ft,Ie,we);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,ft.__webglTexture,33984+we)}let Le={[Xh]:10497,[ms]:33071,[lA]:33648},Xe={[xo]:9728,[L7]:9984,[cA]:9986,[Ji]:9729,[Ave]:9985,[hv]:9987};function Ge(Ie,we,ft){if(ft?(e.texParameteri(Ie,10242,Le[we.wrapS]),e.texParameteri(Ie,10243,Le[we.wrapT]),(32879===Ie||35866===Ie)&&e.texParameteri(Ie,32882,Le[we.wrapR]),e.texParameteri(Ie,10240,Xe[we.magFilter]),e.texParameteri(Ie,10241,Xe[we.minFilter])):(e.texParameteri(Ie,10242,33071),e.texParameteri(Ie,10243,33071),(32879===Ie||35866===Ie)&&e.texParameteri(Ie,32882,33071),(we.wrapS!==ms||we.wrapT!==ms)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(Ie,10240,ie(we.magFilter)),e.texParameteri(Ie,10241,ie(we.minFilter)),we.minFilter!==xo&&we.minFilter!==Ji&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){let Qt=t.get("EXT_texture_filter_anisotropic");if(we.magFilter===xo||we.minFilter!==cA&&we.minFilter!==hv||we.type===ml&&!1===t.has("OES_texture_float_linear")||!1===a&&we.type===am&&!1===t.has("OES_texture_half_float_linear"))return;(we.anisotropy>1||i.get(we).__currentAnisotropy)&&(e.texParameterf(Ie,Qt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(we.anisotropy,r.getMaxAnisotropy())),i.get(we).__currentAnisotropy=we.anisotropy)}}function ht(Ie,we){let ft=!1;void 0===Ie.__webglInit&&(Ie.__webglInit=!0,we.addEventListener("dispose",ae));let Qt=we.source,zt=b.get(Qt);void 0===zt&&(zt={},b.set(Qt,zt));let on=function Ue(Ie){let we=[];return we.push(Ie.wrapS),we.push(Ie.wrapT),we.push(Ie.wrapR||0),we.push(Ie.magFilter),we.push(Ie.minFilter),we.push(Ie.anisotropy),we.push(Ie.internalFormat),we.push(Ie.format),we.push(Ie.type),we.push(Ie.generateMipmaps),we.push(Ie.premultiplyAlpha),we.push(Ie.flipY),we.push(Ie.unpackAlignment),we.push(Ie.encoding),we.join()}(we);if(on!==Ie.__cacheKey){void 0===zt[on]&&(zt[on]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,ft=!0),zt[on].usedTimes++;let Gn=zt[Ie.__cacheKey];void 0!==Gn&&(zt[Ie.__cacheKey].usedTimes--,0===Gn.usedTimes&&ge(we)),Ie.__cacheKey=on,Ie.__webglTexture=zt[on].texture}return ft}function Ze(Ie,we,ft){let Qt=3553;(we.isDataArrayTexture||we.isCompressedArrayTexture)&&(Qt=35866),we.isData3DTexture&&(Qt=32879);let zt=ht(Ie,we),on=we.source;n.bindTexture(Qt,Ie.__webglTexture,33984+ft);let Gn=i.get(on);if(on.version!==Gn.__version||!0===zt){n.activeTexture(33984+ft),e.pixelStorei(37440,we.flipY),e.pixelStorei(37441,we.premultiplyAlpha),e.pixelStorei(3317,we.unpackAlignment),e.pixelStorei(37443,0);let Tn=function V(Ie){return!a&&(Ie.wrapS!==ms||Ie.wrapT!==ms||Ie.minFilter!==xo&&Ie.minFilter!==Ji)}(we)&&!1===D(we.image),Vt=S(we.image,Tn,!1,u);Vt=hi(we,Vt);let Un=D(Vt)||a,Xn=o.convert(we.format,we.encoding),jn=o.convert(we.type),_i=K(we.internalFormat,Xn,jn,we.encoding,we.isVideoTexture);Ge(Qt,we,Un);let ci,Tr=we.mipmaps,To=a&&!0!==we.isVideoTexture,js=void 0===Gn.__version||!0===zt,et=te(we,Vt,Un);if(we.isDepthTexture)_i=6402,a?_i=we.type===ml?36012:we.type===$h?33190:we.type===lm?35056:33189:we.type===ml&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),we.format===cm&&6402===_i&&we.type!==B7&&we.type!==$h&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),we.type=$h,jn=o.convert(we.type)),we.format===dm&&6402===_i&&(_i=34041,we.type!==lm&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),we.type=lm,jn=o.convert(we.type))),js&&(To?n.texStorage2D(3553,1,_i,Vt.width,Vt.height):n.texImage2D(3553,0,_i,Vt.width,Vt.height,0,Xn,jn,null));else if(we.isDataTexture)if(Tr.length>0&&Un){To&&js&&n.texStorage2D(3553,et,_i,Tr[0].width,Tr[0].height);for(let St=0,nn=Tr.length;St<nn;St++)ci=Tr[St],To?n.texSubImage2D(3553,St,0,0,ci.width,ci.height,Xn,jn,ci.data):n.texImage2D(3553,St,_i,ci.width,ci.height,0,Xn,jn,ci.data);we.generateMipmaps=!1}else To?(js&&n.texStorage2D(3553,et,_i,Vt.width,Vt.height),n.texSubImage2D(3553,0,0,0,Vt.width,Vt.height,Xn,jn,Vt.data)):n.texImage2D(3553,0,_i,Vt.width,Vt.height,0,Xn,jn,Vt.data);else if(we.isCompressedTexture)if(we.isCompressedArrayTexture){To&&js&&n.texStorage3D(35866,et,_i,Tr[0].width,Tr[0].height,Vt.depth);for(let St=0,nn=Tr.length;St<nn;St++)ci=Tr[St],we.format!==Ec?null!==Xn?To?n.compressedTexSubImage3D(35866,St,0,0,0,ci.width,ci.height,Vt.depth,Xn,ci.data,0,0):n.compressedTexImage3D(35866,St,_i,ci.width,ci.height,Vt.depth,0,ci.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):To?n.texSubImage3D(35866,St,0,0,0,ci.width,ci.height,Vt.depth,Xn,jn,ci.data):n.texImage3D(35866,St,_i,ci.width,ci.height,Vt.depth,0,Xn,jn,ci.data)}else{To&&js&&n.texStorage2D(3553,et,_i,Tr[0].width,Tr[0].height);for(let St=0,nn=Tr.length;St<nn;St++)ci=Tr[St],we.format!==Ec?null!==Xn?To?n.compressedTexSubImage2D(3553,St,0,0,ci.width,ci.height,Xn,ci.data):n.compressedTexImage2D(3553,St,_i,ci.width,ci.height,0,ci.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):To?n.texSubImage2D(3553,St,0,0,ci.width,ci.height,Xn,jn,ci.data):n.texImage2D(3553,St,_i,ci.width,ci.height,0,Xn,jn,ci.data)}else if(we.isDataArrayTexture)To?(js&&n.texStorage3D(35866,et,_i,Vt.width,Vt.height,Vt.depth),n.texSubImage3D(35866,0,0,0,0,Vt.width,Vt.height,Vt.depth,Xn,jn,Vt.data)):n.texImage3D(35866,0,_i,Vt.width,Vt.height,Vt.depth,0,Xn,jn,Vt.data);else if(we.isData3DTexture)To?(js&&n.texStorage3D(32879,et,_i,Vt.width,Vt.height,Vt.depth),n.texSubImage3D(32879,0,0,0,0,Vt.width,Vt.height,Vt.depth,Xn,jn,Vt.data)):n.texImage3D(32879,0,_i,Vt.width,Vt.height,Vt.depth,0,Xn,jn,Vt.data);else if(we.isFramebufferTexture){if(js)if(To)n.texStorage2D(3553,et,_i,Vt.width,Vt.height);else{let St=Vt.width,nn=Vt.height;for(let pn=0;pn<et;pn++)n.texImage2D(3553,pn,_i,St,nn,0,Xn,jn,null),St>>=1,nn>>=1}}else if(Tr.length>0&&Un){To&&js&&n.texStorage2D(3553,et,_i,Tr[0].width,Tr[0].height);for(let St=0,nn=Tr.length;St<nn;St++)ci=Tr[St],To?n.texSubImage2D(3553,St,0,0,Xn,jn,ci):n.texImage2D(3553,St,_i,Xn,jn,ci);we.generateMipmaps=!1}else To?(js&&n.texStorage2D(3553,et,_i,Vt.width,Vt.height),n.texSubImage2D(3553,0,0,0,Xn,jn,Vt)):n.texImage2D(3553,0,_i,Xn,jn,Vt);Y(we,Un)&&q(Qt),Gn.__version=on.version,we.onUpdate&&we.onUpdate(we)}Ie.__version=we.version}function ot(Ie,we,ft,Qt,zt){let on=o.convert(ft.format,ft.encoding),Gn=o.convert(ft.type),Tn=K(ft.internalFormat,on,Gn,ft.encoding);i.get(we).__hasExternalTextures||(32879===zt||35866===zt?n.texImage3D(zt,0,Tn,we.width,we.height,we.depth,0,on,Gn,null):n.texImage2D(zt,0,Tn,we.width,we.height,0,on,Gn,null)),n.bindFramebuffer(36160,Ie),rn(we)?h.framebufferTexture2DMultisampleEXT(36160,Qt,zt,i.get(ft).__webglTexture,0,dn(we)):(3553===zt||zt>=34069&&zt<=34074)&&e.framebufferTexture2D(36160,Qt,zt,i.get(ft).__webglTexture,0),n.bindFramebuffer(36160,null)}function jt(Ie,we,ft){if(e.bindRenderbuffer(36161,Ie),we.depthBuffer&&!we.stencilBuffer){let Qt=33189;if(ft||rn(we)){let zt=we.depthTexture;zt&&zt.isDepthTexture&&(zt.type===ml?Qt=36012:zt.type===$h&&(Qt=33190));let on=dn(we);rn(we)?h.renderbufferStorageMultisampleEXT(36161,on,Qt,we.width,we.height):e.renderbufferStorageMultisample(36161,on,Qt,we.width,we.height)}else e.renderbufferStorage(36161,Qt,we.width,we.height);e.framebufferRenderbuffer(36160,36096,36161,Ie)}else if(we.depthBuffer&&we.stencilBuffer){let Qt=dn(we);ft&&!1===rn(we)?e.renderbufferStorageMultisample(36161,Qt,35056,we.width,we.height):rn(we)?h.renderbufferStorageMultisampleEXT(36161,Qt,35056,we.width,we.height):e.renderbufferStorage(36161,34041,we.width,we.height),e.framebufferRenderbuffer(36160,33306,36161,Ie)}else{let Qt=!0===we.isWebGLMultipleRenderTargets?we.texture:[we.texture];for(let zt=0;zt<Qt.length;zt++){let on=Qt[zt],Gn=o.convert(on.format,on.encoding),Tn=o.convert(on.type),Vt=K(on.internalFormat,Gn,Tn,on.encoding),Un=dn(we);ft&&!1===rn(we)?e.renderbufferStorageMultisample(36161,Un,Vt,we.width,we.height):rn(we)?h.renderbufferStorageMultisampleEXT(36161,Un,Vt,we.width,we.height):e.renderbufferStorage(36161,Vt,we.width,we.height)}}e.bindRenderbuffer(36161,null)}function Mt(Ie){let we=i.get(Ie),ft=!0===Ie.isWebGLCubeRenderTarget;if(Ie.depthTexture&&!we.__autoAllocateDepthBuffer){if(ft)throw new Error("target.depthTexture not supported in Cube render targets");!function At(Ie,we){if(we&&we.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Ie),!we.depthTexture||!we.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(we.depthTexture).__webglTexture||we.depthTexture.image.width!==we.width||we.depthTexture.image.height!==we.height)&&(we.depthTexture.image.width=we.width,we.depthTexture.image.height=we.height,we.depthTexture.needsUpdate=!0),He(we.depthTexture,0);let ft=i.get(we.depthTexture).__webglTexture,Qt=dn(we);if(we.depthTexture.format===cm)rn(we)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,ft,0,Qt):e.framebufferTexture2D(36160,36096,3553,ft,0);else{if(we.depthTexture.format!==dm)throw new Error("Unknown depthTexture format");rn(we)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,ft,0,Qt):e.framebufferTexture2D(36160,33306,3553,ft,0)}}(we.__webglFramebuffer,Ie)}else if(ft){we.__webglDepthbuffer=[];for(let Qt=0;Qt<6;Qt++)n.bindFramebuffer(36160,we.__webglFramebuffer[Qt]),we.__webglDepthbuffer[Qt]=e.createRenderbuffer(),jt(we.__webglDepthbuffer[Qt],Ie,!1)}else n.bindFramebuffer(36160,we.__webglFramebuffer),we.__webglDepthbuffer=e.createRenderbuffer(),jt(we.__webglDepthbuffer,Ie,!1);n.bindFramebuffer(36160,null)}function dn(Ie){return Math.min(d,Ie.samples)}function rn(Ie){let we=i.get(Ie);return a&&Ie.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==we.__useRenderToTexture}function hi(Ie,we){let ft=Ie.encoding,Qt=Ie.format,zt=Ie.type;return!0===Ie.isCompressedTexture||!0===Ie.isVideoTexture||Ie.format===_A||ft!==Gu&&(ft===Ui?!1===a?!0===t.has("EXT_sRGB")&&Qt===Ec?(Ie.format=_A,Ie.minFilter=Ji,Ie.generateMipmaps=!1):we=vU.sRGBToLinear(we):(Qt!==Ec||zt!==qa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ft)),we}this.allocateTextureUnit=function _e(){let Ie=Pe;return Ie>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Ie+" texture units while this GPU supports only "+l),Pe+=1,Ie},this.resetTextureUnits=function xe(){Pe=0},this.setTexture2D=He,this.setTexture2DArray=function ze(Ie,we){let ft=i.get(Ie);Ie.version>0&&ft.__version!==Ie.version?Ze(ft,Ie,we):n.bindTexture(35866,ft.__webglTexture,33984+we)},this.setTexture3D=function Re(Ie,we){let ft=i.get(Ie);Ie.version>0&&ft.__version!==Ie.version?Ze(ft,Ie,we):n.bindTexture(32879,ft.__webglTexture,33984+we)},this.setTextureCube=function Ye(Ie,we){let ft=i.get(Ie);Ie.version>0&&ft.__version!==Ie.version?function mt(Ie,we,ft){if(6!==we.image.length)return;let Qt=ht(Ie,we),zt=we.source;n.bindTexture(34067,Ie.__webglTexture,33984+ft);let on=i.get(zt);if(zt.version!==on.__version||!0===Qt){n.activeTexture(33984+ft),e.pixelStorei(37440,we.flipY),e.pixelStorei(37441,we.premultiplyAlpha),e.pixelStorei(3317,we.unpackAlignment),e.pixelStorei(37443,0);let Gn=we.isCompressedTexture||we.image[0].isCompressedTexture,Tn=we.image[0]&&we.image[0].isDataTexture,Vt=[];for(let St=0;St<6;St++)Vt[St]=Gn||Tn?Tn?we.image[St].image:we.image[St]:S(we.image[St],!1,!0,c),Vt[St]=hi(we,Vt[St]);let et,Un=Vt[0],Xn=D(Un)||a,jn=o.convert(we.format,we.encoding),_i=o.convert(we.type),ci=K(we.internalFormat,jn,_i,we.encoding),Tr=a&&!0!==we.isVideoTexture,To=void 0===on.__version||!0===Qt,js=te(we,Un,Xn);if(Ge(34067,we,Xn),Gn){Tr&&To&&n.texStorage2D(34067,js,ci,Un.width,Un.height);for(let St=0;St<6;St++){et=Vt[St].mipmaps;for(let nn=0;nn<et.length;nn++){let pn=et[nn];we.format!==Ec?null!==jn?Tr?n.compressedTexSubImage2D(34069+St,nn,0,0,pn.width,pn.height,jn,pn.data):n.compressedTexImage2D(34069+St,nn,ci,pn.width,pn.height,0,pn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Tr?n.texSubImage2D(34069+St,nn,0,0,pn.width,pn.height,jn,_i,pn.data):n.texImage2D(34069+St,nn,ci,pn.width,pn.height,0,jn,_i,pn.data)}}}else{et=we.mipmaps,Tr&&To&&(et.length>0&&js++,n.texStorage2D(34067,js,ci,Vt[0].width,Vt[0].height));for(let St=0;St<6;St++)if(Tn){Tr?n.texSubImage2D(34069+St,0,0,0,Vt[St].width,Vt[St].height,jn,_i,Vt[St].data):n.texImage2D(34069+St,0,ci,Vt[St].width,Vt[St].height,0,jn,_i,Vt[St].data);for(let nn=0;nn<et.length;nn++){let pn=et[nn].image[St].image;Tr?n.texSubImage2D(34069+St,nn+1,0,0,pn.width,pn.height,jn,_i,pn.data):n.texImage2D(34069+St,nn+1,ci,pn.width,pn.height,0,jn,_i,pn.data)}}else{Tr?n.texSubImage2D(34069+St,0,0,0,jn,_i,Vt[St]):n.texImage2D(34069+St,0,ci,jn,_i,Vt[St]);for(let nn=0;nn<et.length;nn++){let pn=et[nn];Tr?n.texSubImage2D(34069+St,nn+1,0,0,jn,_i,pn.image[St]):n.texImage2D(34069+St,nn+1,ci,jn,_i,pn.image[St])}}}Y(we,Xn)&&q(34067),on.__version=zt.version,we.onUpdate&&we.onUpdate(we)}Ie.__version=we.version}(ft,Ie,we):n.bindTexture(34067,ft.__webglTexture,33984+we)},this.rebindTextures=function _n(Ie,we,ft){let Qt=i.get(Ie);void 0!==we&&ot(Qt.__webglFramebuffer,Ie,Ie.texture,36064,3553),void 0!==ft&&Mt(Ie)},this.setupRenderTarget=function vn(Ie){let we=Ie.texture,ft=i.get(Ie),Qt=i.get(we);Ie.addEventListener("dispose",pe),!0!==Ie.isWebGLMultipleRenderTargets&&(void 0===Qt.__webglTexture&&(Qt.__webglTexture=e.createTexture()),Qt.__version=we.version,s.memory.textures++);let zt=!0===Ie.isWebGLCubeRenderTarget,on=!0===Ie.isWebGLMultipleRenderTargets,Gn=D(Ie)||a;if(zt){ft.__webglFramebuffer=[];for(let Tn=0;Tn<6;Tn++)ft.__webglFramebuffer[Tn]=e.createFramebuffer()}else{if(ft.__webglFramebuffer=e.createFramebuffer(),on)if(r.drawBuffers){let Tn=Ie.texture;for(let Vt=0,Un=Tn.length;Vt<Un;Vt++){let Xn=i.get(Tn[Vt]);void 0===Xn.__webglTexture&&(Xn.__webglTexture=e.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Ie.samples>0&&!1===rn(Ie)){let Tn=on?we:[we];ft.__webglMultisampledFramebuffer=e.createFramebuffer(),ft.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ft.__webglMultisampledFramebuffer);for(let Vt=0;Vt<Tn.length;Vt++){let Un=Tn[Vt];ft.__webglColorRenderbuffer[Vt]=e.createRenderbuffer(),e.bindRenderbuffer(36161,ft.__webglColorRenderbuffer[Vt]);let Xn=o.convert(Un.format,Un.encoding),jn=o.convert(Un.type),_i=K(Un.internalFormat,Xn,jn,Un.encoding,!0===Ie.isXRRenderTarget),ci=dn(Ie);e.renderbufferStorageMultisample(36161,ci,_i,Ie.width,Ie.height),e.framebufferRenderbuffer(36160,36064+Vt,36161,ft.__webglColorRenderbuffer[Vt])}e.bindRenderbuffer(36161,null),Ie.depthBuffer&&(ft.__webglDepthRenderbuffer=e.createRenderbuffer(),jt(ft.__webglDepthRenderbuffer,Ie,!0)),n.bindFramebuffer(36160,null)}}if(zt){n.bindTexture(34067,Qt.__webglTexture),Ge(34067,we,Gn);for(let Tn=0;Tn<6;Tn++)ot(ft.__webglFramebuffer[Tn],Ie,we,36064,34069+Tn);Y(we,Gn)&&q(34067),n.unbindTexture()}else if(on){let Tn=Ie.texture;for(let Vt=0,Un=Tn.length;Vt<Un;Vt++){let Xn=Tn[Vt],jn=i.get(Xn);n.bindTexture(3553,jn.__webglTexture),Ge(3553,Xn,Gn),ot(ft.__webglFramebuffer,Ie,Xn,36064+Vt,3553),Y(Xn,Gn)&&q(3553)}n.unbindTexture()}else{let Tn=3553;(Ie.isWebGL3DRenderTarget||Ie.isWebGLArrayRenderTarget)&&(a?Tn=Ie.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Tn,Qt.__webglTexture),Ge(Tn,we,Gn),ot(ft.__webglFramebuffer,Ie,we,36064,Tn),Y(we,Gn)&&q(Tn),n.unbindTexture()}Ie.depthBuffer&&Mt(Ie)},this.updateRenderTargetMipmap=function xn(Ie){let we=D(Ie)||a,ft=!0===Ie.isWebGLMultipleRenderTargets?Ie.texture:[Ie.texture];for(let Qt=0,zt=ft.length;Qt<zt;Qt++){let on=ft[Qt];if(Y(on,we)){let Gn=Ie.isWebGLCubeRenderTarget?34067:3553,Tn=i.get(on).__webglTexture;n.bindTexture(Gn,Tn),q(Gn),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function An(Ie){if(a&&Ie.samples>0&&!1===rn(Ie)){let we=Ie.isWebGLMultipleRenderTargets?Ie.texture:[Ie.texture],ft=Ie.width,Qt=Ie.height,zt=16384,on=[],Gn=Ie.stencilBuffer?33306:36096,Tn=i.get(Ie),Vt=!0===Ie.isWebGLMultipleRenderTargets;if(Vt)for(let Un=0;Un<we.length;Un++)n.bindFramebuffer(36160,Tn.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Un,36161,null),n.bindFramebuffer(36160,Tn.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Un,3553,null,0);n.bindFramebuffer(36008,Tn.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Tn.__webglFramebuffer);for(let Un=0;Un<we.length;Un++){on.push(36064+Un),Ie.depthBuffer&&on.push(Gn);let Xn=void 0!==Tn.__ignoreDepthValues&&Tn.__ignoreDepthValues;if(!1===Xn&&(Ie.depthBuffer&&(zt|=256),Ie.stencilBuffer&&(zt|=1024)),Vt&&e.framebufferRenderbuffer(36008,36064,36161,Tn.__webglColorRenderbuffer[Un]),!0===Xn&&(e.invalidateFramebuffer(36008,[Gn]),e.invalidateFramebuffer(36009,[Gn])),Vt){let jn=i.get(we[Un]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,jn,0)}e.blitFramebuffer(0,0,ft,Qt,0,0,ft,Qt,zt,9728),f&&e.invalidateFramebuffer(36008,on)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Vt)for(let Un=0;Un<we.length;Un++){n.bindFramebuffer(36160,Tn.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Un,36161,Tn.__webglColorRenderbuffer[Un]);let Xn=i.get(we[Un]).__webglTexture;n.bindFramebuffer(36160,Tn.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Un,3553,Xn,0)}n.bindFramebuffer(36009,Tn.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Mt,this.setupFrameBufferTexture=ot,this.useMultisampledRTT=rn}function Zxe(e,t,n){let i=n.isWebGL2;return{convert:function r(o,s=null){let a;if(o===qa)return 5121;if(o===Rve)return 32819;if(o===Nve)return 32820;if(o===Tve)return 5120;if(o===kve)return 5122;if(o===B7)return 5123;if(o===Ive)return 5124;if(o===$h)return 5125;if(o===ml)return 5126;if(o===am)return i?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(o===Fve)return 6406;if(o===Ec)return 6408;if(o===Lve)return 6409;if(o===Bve)return 6410;if(o===cm)return 6402;if(o===dm)return 34041;if(o===_A)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(o===zve)return 6403;if(o===Uve)return 36244;if(o===TC)return 33319;if(o===jve)return 33320;if(o===z7)return 36249;if(o===dA||o===uA||o===hA||o===pA)if(s===Ui){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(o===dA)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===uA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===hA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===pA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(o===dA)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===uA)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===hA)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===pA)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(o===U7||o===j7||o===V7||o===H7){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(o===U7)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===j7)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===V7)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===H7)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(o===Vve)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===G7||o===W7){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(o===G7)return s===Ui?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===W7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(o===q7||o===Y7||o===X7||o===$7||o===K7||o===Q7||o===Z7||o===J7||o===eU||o===tU||o===nU||o===iU||o===rU||o===oU){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(o===q7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Y7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===X7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===$7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===K7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Q7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Z7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===J7)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===eU)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===tU)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===nU)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===iU)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===rU)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===oU)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(o===fA){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(o===fA)return s===Ui?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(o===Hve||o===sU||o===aU||o===lU){if(a=t.get("EXT_texture_compression_rgtc"),null===a)return null;if(o===fA)return a.COMPRESSED_RED_RGTC1_EXT;if(o===sU)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===aU)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===lU)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return o===lm?i?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[o]?e[o]:null}}}var Jxe=class extends $a{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},Fv=class extends so{constructor(){super(),this.isGroup=!0,this.type="Group"}},ewe={type:"move"},ZA=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Fv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Fv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Fv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,o=null,s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(let v of e.hand.values()){let y=t.getJointPose(v,n),b=this._getHandJoint(l,v);null!==y&&(b.matrix.fromArray(y.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.jointRadius=y.radius),b.visible=null!==y}let d=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),h=.02,f=.005;l.inputState.pinching&&d>h+f?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&d<=h-f&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(ewe)))}return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){let n=new Fv;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}},Lv=class extends na{constructor(e,t,n,i,r,o,s,a,l,c){if((c=void 0!==c?c:cm)!==cm&&c!==dm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===cm&&(n=$h),void 0===n&&c===dm&&(n=lm),super(null,i,r,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==s?s:xo,this.minFilter=void 0!==a?a:xo,this.flipY=!1,this.generateMipmaps=!1}},twe=class extends Ia{constructor(e,t){super();let n=this,i=null,r=1,o=null,s="local-floor",a=1,l=null,c=null,u=null,d=null,h=null,f=null,v=t.getContextAttributes(),y=null,b=null,w=[],O=[],S=new Set,D=new Map,V=new $a;V.layers.enable(1),V.viewport=new ji;let Y=new $a;Y.layers.enable(2),Y.viewport=new ji;let q=[V,Y],K=new Jxe;K.layers.enable(1),K.layers.enable(2);let te=null,ie=null;function ae(ze){let Re=O.indexOf(ze.inputSource);if(-1===Re)return;let Ye=w[Re];void 0!==Ye&&Ye.dispatchEvent({type:ze.type,data:ze.inputSource})}function pe(){i.removeEventListener("select",ae),i.removeEventListener("selectstart",ae),i.removeEventListener("selectend",ae),i.removeEventListener("squeeze",ae),i.removeEventListener("squeezestart",ae),i.removeEventListener("squeezeend",ae),i.removeEventListener("end",pe),i.removeEventListener("inputsourceschange",fe);for(let ze=0;ze<w.length;ze++){let Re=O[ze];null!==Re&&(O[ze]=null,w[ze].disconnect(Re))}te=null,ie=null,e.setRenderTarget(y),h=null,d=null,u=null,i=null,b=null,He.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function fe(ze){for(let Re=0;Re<ze.removed.length;Re++){let Ye=ze.removed[Re],Le=O.indexOf(Ye);Le>=0&&(O[Le]=null,w[Le].disconnect(Ye))}for(let Re=0;Re<ze.added.length;Re++){let Ye=ze.added[Re],Le=O.indexOf(Ye);if(-1===Le){for(let Ge=0;Ge<w.length;Ge++){if(Ge>=O.length){O.push(Ye),Le=Ge;break}if(null===O[Ge]){O[Ge]=Ye,Le=Ge;break}}if(-1===Le)break}let Xe=w[Le];Xe&&Xe.connect(Ye)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ze){let Re=w[ze];return void 0===Re&&(Re=new ZA,w[ze]=Re),Re.getTargetRaySpace()},this.getControllerGrip=function(ze){let Re=w[ze];return void 0===Re&&(Re=new ZA,w[ze]=Re),Re.getGripSpace()},this.getHand=function(ze){let Re=w[ze];return void 0===Re&&(Re=new ZA,w[ze]=Re),Re.getHandSpace()},this.setFramebufferScaleFactor=function(ze){r=ze,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ze){s=ze,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(ze){l=ze},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return i},this.setSession=function(){var ze=(0,gs.Z)(function*(Re){if(i=Re,null!==i){if(y=e.getRenderTarget(),i.addEventListener("select",ae),i.addEventListener("selectstart",ae),i.addEventListener("selectend",ae),i.addEventListener("squeeze",ae),i.addEventListener("squeezestart",ae),i.addEventListener("squeezeend",ae),i.addEventListener("end",pe),i.addEventListener("inputsourceschange",fe),!0!==v.xrCompatible&&(yield t.makeXRCompatible()),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2)h=new XRWebGLLayer(i,t,{antialias:void 0!==i.renderState.layers||v.antialias,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:r}),i.updateRenderState({baseLayer:h}),b=new oo(h.framebufferWidth,h.framebufferHeight,{format:Ec,type:qa,encoding:e.outputEncoding,stencilBuffer:v.stencil});else{let Ye=null,Le=null,Xe=null;v.depth&&(Xe=v.stencil?35056:33190,Ye=v.stencil?dm:cm,Le=v.stencil?lm:$h);let Ge={colorFormat:32856,depthFormat:Xe,scaleFactor:r};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(Ge),i.updateRenderState({layers:[d]}),b=new oo(d.textureWidth,d.textureHeight,{format:Ec,type:qa,depthTexture:new Lv(d.textureWidth,d.textureHeight,Le,void 0,void 0,void 0,void 0,void 0,void 0,Ye),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0}),e.properties.get(b).__ignoreDepthValues=d.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=yield i.requestReferenceSpace(s),He.setContext(i),He.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(Re){return ze.apply(this,arguments)}}();let ge=new re,Oe=new re;function xe(ze,Re){null===Re?ze.matrixWorld.copy(ze.matrix):ze.matrixWorld.multiplyMatrices(Re.matrixWorld,ze.matrix),ze.matrixWorldInverse.copy(ze.matrixWorld).invert()}this.updateCamera=function(ze){if(null===i)return;K.near=Y.near=V.near=ze.near,K.far=Y.far=V.far=ze.far,(te!==K.near||ie!==K.far)&&(i.updateRenderState({depthNear:K.near,depthFar:K.far}),te=K.near,ie=K.far);let Re=ze.parent,Ye=K.cameras;xe(K,Re);for(let Xe=0;Xe<Ye.length;Xe++)xe(Ye[Xe],Re);K.matrixWorld.decompose(K.position,K.quaternion,K.scale),ze.matrix.copy(K.matrix),ze.matrix.decompose(ze.position,ze.quaternion,ze.scale);let Le=ze.children;for(let Xe=0,Ge=Le.length;Xe<Ge;Xe++)Le[Xe].updateMatrixWorld(!0);2===Ye.length?function Pe(ze,Re,Ye){ge.setFromMatrixPosition(Re.matrixWorld),Oe.setFromMatrixPosition(Ye.matrixWorld);let Le=ge.distanceTo(Oe),Xe=Re.projectionMatrix.elements,Ge=Ye.projectionMatrix.elements,ht=Xe[14]/(Xe[10]-1),Ze=Xe[14]/(Xe[10]+1),mt=(Xe[9]+1)/Xe[5],ot=(Xe[9]-1)/Xe[5],jt=(Xe[8]-1)/Xe[0],At=(Ge[8]+1)/Ge[0],Mt=ht*jt,_n=ht*At,vn=Le/(-jt+At),xn=vn*-jt;Re.matrixWorld.decompose(ze.position,ze.quaternion,ze.scale),ze.translateX(xn),ze.translateZ(vn),ze.matrixWorld.compose(ze.position,ze.quaternion,ze.scale),ze.matrixWorldInverse.copy(ze.matrixWorld).invert();let An=ht+vn,dn=Ze+vn;ze.projectionMatrix.makePerspective(Mt-xn,_n+(Le-xn),mt*Ze/dn*An,ot*Ze/dn*An,An,dn)}(K,V,Y):K.projectionMatrix.copy(V.projectionMatrix)},this.getCamera=function(){return K},this.getFoveation=function(){if(null!==d||null!==h)return a},this.setFoveation=function(ze){a=ze,null!==d&&(d.fixedFoveation=ze),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=ze)},this.getPlanes=function(){return S};let _e=null,He=new kU;He.setAnimationLoop(function Ue(ze,Re){if(c=Re.getViewerPose(l||o),f=Re,null!==c){let Ye=c.views;null!==h&&(e.setRenderTargetFramebuffer(b,h.framebuffer),e.setRenderTarget(b));let Le=!1;Ye.length!==K.cameras.length&&(K.cameras.length=0,Le=!0);for(let Xe=0;Xe<Ye.length;Xe++){let Ge=Ye[Xe],ht=null;if(null!==h)ht=h.getViewport(Ge);else{let mt=u.getViewSubImage(d,Ge);ht=mt.viewport,0===Xe&&(e.setRenderTargetTextures(b,mt.colorTexture,d.ignoreDepthValues?void 0:mt.depthStencilTexture),e.setRenderTarget(b))}let Ze=q[Xe];void 0===Ze&&(Ze=new $a,Ze.layers.enable(Xe),Ze.viewport=new ji,q[Xe]=Ze),Ze.matrix.fromArray(Ge.transform.matrix),Ze.projectionMatrix.fromArray(Ge.projectionMatrix),Ze.viewport.set(ht.x,ht.y,ht.width,ht.height),0===Xe&&K.matrix.copy(Ze.matrix),!0===Le&&K.cameras.push(Ze)}}for(let Ye=0;Ye<w.length;Ye++){let Le=O[Ye],Xe=w[Ye];null!==Le&&void 0!==Xe&&Xe.update(Le,Re,l||o)}if(_e&&_e(ze,Re),Re.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:Re.detectedPlanes});let Ye=null;for(let Le of S)Re.detectedPlanes.has(Le)||(null===Ye&&(Ye=[]),Ye.push(Le));if(null!==Ye)for(let Le of Ye)S.delete(Le),D.delete(Le),n.dispatchEvent({type:"planeremoved",data:Le});for(let Le of Re.detectedPlanes)if(S.has(Le)){let Xe=D.get(Le);Le.lastChangedTime>Xe&&(D.set(Le,Le.lastChangedTime),n.dispatchEvent({type:"planechanged",data:Le}))}else S.add(Le),D.set(Le,Re.lastChangedTime),n.dispatchEvent({type:"planeadded",data:Le})}f=null}),this.setAnimationLoop=function(ze){_e=ze},this.dispose=function(){}}};function nwe(e,t){function r(y,b){y.opacity.value=b.opacity,b.color&&y.diffuse.value.copy(b.color),b.emissive&&y.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.bumpMap&&(y.bumpMap.value=b.bumpMap,y.bumpScale.value=b.bumpScale,b.side===va&&(y.bumpScale.value*=-1)),b.displacementMap&&(y.displacementMap.value=b.displacementMap,y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias),b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap),b.normalMap&&(y.normalMap.value=b.normalMap,y.normalScale.value.copy(b.normalScale),b.side===va&&y.normalScale.value.negate()),b.specularMap&&(y.specularMap.value=b.specularMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest);let O,S,w=t.get(b).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,y.reflectivity.value=b.reflectivity,y.ior.value=b.ior,y.refractionRatio.value=b.refractionRatio),b.lightMap){y.lightMap.value=b.lightMap;let D=!0!==e.physicallyCorrectLights?Math.PI:1;y.lightMapIntensity.value=b.lightMapIntensity*D}b.aoMap&&(y.aoMap.value=b.aoMap,y.aoMapIntensity.value=b.aoMapIntensity),b.map?O=b.map:b.specularMap?O=b.specularMap:b.displacementMap?O=b.displacementMap:b.normalMap?O=b.normalMap:b.bumpMap?O=b.bumpMap:b.roughnessMap?O=b.roughnessMap:b.metalnessMap?O=b.metalnessMap:b.alphaMap?O=b.alphaMap:b.emissiveMap?O=b.emissiveMap:b.clearcoatMap?O=b.clearcoatMap:b.clearcoatNormalMap?O=b.clearcoatNormalMap:b.clearcoatRoughnessMap?O=b.clearcoatRoughnessMap:b.iridescenceMap?O=b.iridescenceMap:b.iridescenceThicknessMap?O=b.iridescenceThicknessMap:b.specularIntensityMap?O=b.specularIntensityMap:b.specularColorMap?O=b.specularColorMap:b.transmissionMap?O=b.transmissionMap:b.thicknessMap?O=b.thicknessMap:b.sheenColorMap?O=b.sheenColorMap:b.sheenRoughnessMap&&(O=b.sheenRoughnessMap),void 0!==O&&(O.isWebGLRenderTarget&&(O=O.texture),!0===O.matrixAutoUpdate&&O.updateMatrix(),y.uvTransform.value.copy(O.matrix)),b.aoMap?S=b.aoMap:b.lightMap&&(S=b.lightMap),void 0!==S&&(S.isWebGLRenderTarget&&(S=S.texture),!0===S.matrixAutoUpdate&&S.updateMatrix(),y.uv2Transform.value.copy(S.matrix))}return{refreshFogUniforms:function n(y,b){b.color.getRGB(y.fogColor.value,TU(e)),b.isFog?(y.fogNear.value=b.near,y.fogFar.value=b.far):b.isFogExp2&&(y.fogDensity.value=b.density)},refreshMaterialUniforms:function i(y,b,w,O,S){b.isMeshBasicMaterial||b.isMeshLambertMaterial?r(y,b):b.isMeshToonMaterial?(r(y,b),function u(y,b){b.gradientMap&&(y.gradientMap.value=b.gradientMap)}(y,b)):b.isMeshPhongMaterial?(r(y,b),function c(y,b){y.specular.value.copy(b.specular),y.shininess.value=Math.max(b.shininess,1e-4)}(y,b)):b.isMeshStandardMaterial?(r(y,b),function d(y,b){y.roughness.value=b.roughness,y.metalness.value=b.metalness,b.roughnessMap&&(y.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(y.metalnessMap.value=b.metalnessMap),t.get(b).envMap&&(y.envMapIntensity.value=b.envMapIntensity)}(y,b),b.isMeshPhysicalMaterial&&function h(y,b,w){y.ior.value=b.ior,b.sheen>0&&(y.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),y.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(y.sheenColorMap.value=b.sheenColorMap),b.sheenRoughnessMap&&(y.sheenRoughnessMap.value=b.sheenRoughnessMap)),b.clearcoat>0&&(y.clearcoat.value=b.clearcoat,y.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(y.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),y.clearcoatNormalMap.value=b.clearcoatNormalMap,b.side===va&&y.clearcoatNormalScale.value.negate())),b.iridescence>0&&(y.iridescence.value=b.iridescence,y.iridescenceIOR.value=b.iridescenceIOR,y.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(y.iridescenceMap.value=b.iridescenceMap),b.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=b.iridescenceThicknessMap)),b.transmission>0&&(y.transmission.value=b.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(y.transmissionMap.value=b.transmissionMap),y.thickness.value=b.thickness,b.thicknessMap&&(y.thicknessMap.value=b.thicknessMap),y.attenuationDistance.value=b.attenuationDistance,y.attenuationColor.value.copy(b.attenuationColor)),y.specularIntensity.value=b.specularIntensity,y.specularColor.value.copy(b.specularColor),b.specularIntensityMap&&(y.specularIntensityMap.value=b.specularIntensityMap),b.specularColorMap&&(y.specularColorMap.value=b.specularColorMap)}(y,b,S)):b.isMeshMatcapMaterial?(r(y,b),function f(y,b){b.matcap&&(y.matcap.value=b.matcap)}(y,b)):b.isMeshDepthMaterial?r(y,b):b.isMeshDistanceMaterial?(r(y,b),function v(y,b){y.referencePosition.value.copy(b.referencePosition),y.nearDistance.value=b.nearDistance,y.farDistance.value=b.farDistance}(y,b)):b.isMeshNormalMaterial?r(y,b):b.isLineBasicMaterial?(function o(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity}(y,b),b.isLineDashedMaterial&&function s(y,b){y.dashSize.value=b.dashSize,y.totalSize.value=b.dashSize+b.gapSize,y.scale.value=b.scale}(y,b)):b.isPointsMaterial?function a(y,b,w,O){let S;y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.size.value=b.size*w,y.scale.value=.5*O,b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest),b.map?S=b.map:b.alphaMap&&(S=b.alphaMap),void 0!==S&&(!0===S.matrixAutoUpdate&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix))}(y,b,w,O):b.isSpriteMaterial?function l(y,b){let w;y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.rotation.value=b.rotation,b.map&&(y.map.value=b.map),b.alphaMap&&(y.alphaMap.value=b.alphaMap),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest),b.map?w=b.map:b.alphaMap&&(w=b.alphaMap),void 0!==w&&(!0===w.matrixAutoUpdate&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix))}(y,b):b.isShadowMaterial?(y.color.value.copy(b.color),y.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}}}function iwe(e,t,n,i){let r={},o={},s=[],a=n.isWebGL2?e.getParameter(35375):0;function f(O,S,D){let V=O.value;if(void 0===D[S]){if("number"==typeof V)D[S]=V;else{let Y=Array.isArray(V)?V:[V],q=[];for(let K=0;K<Y.length;K++)q.push(Y[K].clone());D[S]=q}return!0}if("number"==typeof V){if(D[S]!==V)return D[S]=V,!0}else{let Y=Array.isArray(D[S])?D[S]:[D[S]],q=Array.isArray(V)?V:[V];for(let K=0;K<Y.length;K++){let te=Y[K];if(!1===te.equals(q[K]))return te.copy(q[K]),!0}}return!1}function y(O){let S={boundary:0,storage:0};return"number"==typeof O?(S.boundary=4,S.storage=4):O.isVector2?(S.boundary=8,S.storage=8):O.isVector3||O.isColor?(S.boundary=16,S.storage=12):O.isVector4?(S.boundary=16,S.storage=16):O.isMatrix3?(S.boundary=48,S.storage=48):O.isMatrix4?(S.boundary=64,S.storage=64):O.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",O),S}function b(O){let S=O.target;S.removeEventListener("dispose",b);let D=s.indexOf(S.__bindingPointIndex);s.splice(D,1),e.deleteBuffer(r[S.id]),delete r[S.id],delete o[S.id]}return{bind:function l(O,S){i.uniformBlockBinding(O,S.program)},update:function c(O,S){let D=r[O.id];void 0===D&&(function v(O){let S=O.uniforms,D=0,Y=0;for(let q=0,K=S.length;q<K;q++){let te=S[q],ie={boundary:0,storage:0},ae=Array.isArray(te.value)?te.value:[te.value];for(let pe=0,fe=ae.length;pe<fe;pe++){let Oe=y(ae[pe]);ie.boundary+=Oe.boundary,ie.storage+=Oe.storage}te.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),te.__offset=D,q>0&&(Y=D%16,0!==Y&&16-Y-ie.boundary<0&&(D+=16-Y,te.__offset=D)),D+=ie.storage}Y=D%16,Y>0&&(D+=16-Y),O.__size=D,O.__cache={}}(O),D=function u(O){let S=function d(){for(let O=0;O<a;O++)if(-1===s.indexOf(O))return s.push(O),O;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();O.__bindingPointIndex=S;let D=e.createBuffer(),V=O.__size,Y=O.usage;return e.bindBuffer(35345,D),e.bufferData(35345,V,Y),e.bindBuffer(35345,null),e.bindBufferBase(35345,S,D),D}(O),r[O.id]=D,O.addEventListener("dispose",b)),i.updateUBOMapping(O,S.program);let Y=t.render.frame;o[O.id]!==Y&&(function h(O){let D=O.uniforms,V=O.__cache;e.bindBuffer(35345,r[O.id]);for(let Y=0,q=D.length;Y<q;Y++){let K=D[Y];if(!0===f(K,Y,V)){let te=K.__offset,ie=Array.isArray(K.value)?K.value:[K.value],ae=0;for(let pe=0;pe<ie.length;pe++){let fe=ie[pe],ge=y(fe);"number"==typeof fe?(K.__data[0]=fe,e.bufferSubData(35345,te+ae,K.__data)):fe.isMatrix3?(K.__data[0]=fe.elements[0],K.__data[1]=fe.elements[1],K.__data[2]=fe.elements[2],K.__data[3]=fe.elements[0],K.__data[4]=fe.elements[3],K.__data[5]=fe.elements[4],K.__data[6]=fe.elements[5],K.__data[7]=fe.elements[0],K.__data[8]=fe.elements[6],K.__data[9]=fe.elements[7],K.__data[10]=fe.elements[8],K.__data[11]=fe.elements[0]):(fe.toArray(K.__data,ae),ae+=ge.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,te,K.__data)}}e.bindBuffer(35345,null)}(O),o[O.id]=Y)},dispose:function w(){for(let O in r)e.deleteBuffer(r[O]);s=[],r={},o={}}}}function sj(e={}){this.isWebGLRenderer=!0;let u,t=void 0!==e.canvas?e.canvas:function rwe(){let e=BC("canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,r=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,a=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;u=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let d=null,h=null,f=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Gu,this.physicallyCorrectLights=!1,this.toneMapping=Yh,this.toneMappingExposure=1;let y=this,b=!1,w=0,O=0,S=null,D=-1,V=null,Y=new ji,q=new ji,K=null,te=t.width,ie=t.height,ae=1,pe=null,fe=null,ge=new ji(0,0,te,ie),Oe=new ji(0,0,te,ie),Pe=!1,xe=new WA,_e=!1,Ue=!1,He=null,ze=new Wt,Re=new Ve,Ye=new re,Le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Xe(){return null===S?ae:1}let Ze,mt,ot,jt,At,Mt,_n,vn,xn,An,dn,rn,Vn,hi,Ie,we,ft,Qt,zt,on,Gn,Tn,Vt,Un,Ge=n;function ht(ke,_t){for(let Rt=0;Rt<ke.length;Rt++){let Ft=t.getContext(ke[Rt],_t);if(null!==Ft)return Ft}return null}try{let ke={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${dv}`),t.addEventListener("webglcontextlost",_i,!1),t.addEventListener("webglcontextrestored",ci,!1),t.addEventListener("webglcontextcreationerror",Tr,!1),null===Ge){let _t=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&_t.shift(),Ge=ht(_t,ke),null===Ge)throw ht(_t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Ge.getShaderPrecisionFormat&&(Ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ke){throw console.error("THREE.WebGLRenderer: "+ke.message),ke}function Xn(){Ze=new v_e(Ge),mt=new u_e(Ge,Ze,e),Ze.init(mt),Tn=new Zxe(Ge,Ze,mt),ot=new Kxe(Ge,Ze,mt),jt=new __e,At=new Lxe,Mt=new Qxe(Ge,Ze,ot,At,mt,Tn,jt),_n=new p_e(y),vn=new m_e(y),xn=new D1e(Ge,mt),Vt=new c_e(Ge,Ze,xn,mt),An=new y_e(Ge,xn,jt,Vt),dn=new M_e(Ge,An,xn,jt),zt=new C_e(Ge,mt,Mt),we=new h_e(At),rn=new Fxe(y,_n,vn,Ze,mt,Vt,we),Vn=new nwe(y,At),hi=new zxe,Ie=new Wxe(Ze,mt),Qt=new l_e(y,_n,vn,ot,dn,u,s),ft=new $xe(y,dn,mt),Un=new iwe(Ge,jt,mt,ot),on=new d_e(Ge,Ze,jt,mt),Gn=new b_e(Ge,Ze,jt,mt),jt.programs=rn.programs,y.capabilities=mt,y.extensions=Ze,y.properties=At,y.renderLists=hi,y.shadowMap=ft,y.state=ot,y.info=jt}Xn();let jn=new twe(y,Ge);function _i(ke){ke.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function ci(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;let ke=jt.autoReset,_t=ft.enabled,Rt=ft.autoUpdate,gt=ft.needsUpdate,Ft=ft.type;Xn(),jt.autoReset=ke,ft.enabled=_t,ft.autoUpdate=Rt,ft.needsUpdate=gt,ft.type=Ft}function Tr(ke){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ke.statusMessage)}function To(ke){let _t=ke.target;_t.removeEventListener("dispose",To),function js(ke){(function et(ke){let _t=At.get(ke).programs;void 0!==_t&&(_t.forEach(function(Rt){rn.releaseProgram(Rt)}),ke.isShaderMaterial&&rn.releaseShaderCache(ke))})(ke),At.remove(ke)}(_t)}this.xr=jn,this.getContext=function(){return Ge},this.getContextAttributes=function(){return Ge.getContextAttributes()},this.forceContextLoss=function(){let ke=Ze.get("WEBGL_lose_context");ke&&ke.loseContext()},this.forceContextRestore=function(){let ke=Ze.get("WEBGL_lose_context");ke&&ke.restoreContext()},this.getPixelRatio=function(){return ae},this.setPixelRatio=function(ke){void 0!==ke&&(ae=ke,this.setSize(te,ie,!1))},this.getSize=function(ke){return ke.set(te,ie)},this.setSize=function(ke,_t,Rt){jn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(te=ke,ie=_t,t.width=Math.floor(ke*ae),t.height=Math.floor(_t*ae),!1!==Rt&&(t.style.width=ke+"px",t.style.height=_t+"px"),this.setViewport(0,0,ke,_t))},this.getDrawingBufferSize=function(ke){return ke.set(te*ae,ie*ae).floor()},this.setDrawingBufferSize=function(ke,_t,Rt){te=ke,ie=_t,ae=Rt,t.width=Math.floor(ke*Rt),t.height=Math.floor(_t*Rt),this.setViewport(0,0,ke,_t)},this.getCurrentViewport=function(ke){return ke.copy(Y)},this.getViewport=function(ke){return ke.copy(ge)},this.setViewport=function(ke,_t,Rt,gt){ke.isVector4?ge.set(ke.x,ke.y,ke.z,ke.w):ge.set(ke,_t,Rt,gt),ot.viewport(Y.copy(ge).multiplyScalar(ae).floor())},this.getScissor=function(ke){return ke.copy(Oe)},this.setScissor=function(ke,_t,Rt,gt){ke.isVector4?Oe.set(ke.x,ke.y,ke.z,ke.w):Oe.set(ke,_t,Rt,gt),ot.scissor(q.copy(Oe).multiplyScalar(ae).floor())},this.getScissorTest=function(){return Pe},this.setScissorTest=function(ke){ot.setScissorTest(Pe=ke)},this.setOpaqueSort=function(ke){pe=ke},this.setTransparentSort=function(ke){fe=ke},this.getClearColor=function(ke){return ke.copy(Qt.getClearColor())},this.setClearColor=function(){Qt.setClearColor.apply(Qt,arguments)},this.getClearAlpha=function(){return Qt.getClearAlpha()},this.setClearAlpha=function(){Qt.setClearAlpha.apply(Qt,arguments)},this.clear=function(ke=!0,_t=!0,Rt=!0){let gt=0;ke&&(gt|=16384),_t&&(gt|=256),Rt&&(gt|=1024),Ge.clear(gt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_i,!1),t.removeEventListener("webglcontextrestored",ci,!1),t.removeEventListener("webglcontextcreationerror",Tr,!1),hi.dispose(),Ie.dispose(),At.dispose(),_n.dispose(),vn.dispose(),dn.dispose(),Vt.dispose(),Un.dispose(),rn.dispose(),jn.dispose(),jn.removeEventListener("sessionstart",pn),jn.removeEventListener("sessionend",vi),He&&(He.dispose(),He=null),jr.stop()},this.renderBufferDirect=function(ke,_t,Rt,gt,Ft,ti){null===_t&&(_t=Le);let $i=Ft.isMesh&&Ft.matrixWorld.determinant()<0,ur=function Kze(ke,_t,Rt,gt,Ft){!0!==_t.isScene&&(_t=Le),Mt.resetTextureUnits();let ti=_t.fog,ur=null===S?y.outputEncoding:!0===S.isXRRenderTarget?S.texture.encoding:Gu,yr=(gt.isMeshStandardMaterial?vn:_n).get(gt.envMap||(gt.isMeshStandardMaterial?_t.environment:null)),Co=!0===gt.vertexColors&&!!Rt.attributes.color&&4===Rt.attributes.color.itemSize,Vr=!!gt.normalMap&&!!Rt.attributes.tangent,kr=!!Rt.morphAttributes.position,nl=!!Rt.morphAttributes.normal,Fc=!!Rt.morphAttributes.color,Dp=gt.toneMapped?y.toneMapping:Yh,Qm=Rt.morphAttributes.position||Rt.morphAttributes.normal||Rt.morphAttributes.color,Vs=void 0!==Qm?Qm.length:0,Ir=At.get(gt),N4=h.state.lights;!0!==_e||!0!==Ue&&ke===V||we.setState(gt,ke,ke===V&&gt.id===D);let F4=!1;gt.version===Ir.__version?(Ir.needsLights&&Ir.lightsStateVersion!==N4.state.version||Ir.outputEncoding!==ur||Ft.isInstancedMesh&&!1===Ir.instancing||!Ft.isInstancedMesh&&!0===Ir.instancing||Ft.isSkinnedMesh&&!1===Ir.skinning||!Ft.isSkinnedMesh&&!0===Ir.skinning||Ir.envMap!==yr||!0===gt.fog&&Ir.fog!==ti||void 0!==Ir.numClippingPlanes&&(Ir.numClippingPlanes!==we.numPlanes||Ir.numIntersection!==we.numIntersection)||Ir.vertexAlphas!==Co||Ir.vertexTangents!==Vr||Ir.morphTargets!==kr||Ir.morphNormals!==nl||Ir.morphColors!==Fc||Ir.toneMapping!==Dp||!0===mt.isWebGL2&&Ir.morphTargetsCount!==Vs)&&(F4=!0):(F4=!0,Ir.__version=gt.version);let Zm=Ir.currentProgram;!0===F4&&(Zm=Od(gt,_t,Ft));let $$=!1,ox=!1,L4=!1,Fa=Zm.getUniforms(),Jm=Ir.uniforms;if(ot.useProgram(Zm.program)&&($$=!0,ox=!0,L4=!0),gt.id!==D&&(D=gt.id,ox=!0),$$||V!==ke){if(Fa.setValue(Ge,"projectionMatrix",ke.projectionMatrix),mt.logarithmicDepthBuffer&&Fa.setValue(Ge,"logDepthBufFC",2/(Math.log(ke.far+1)/Math.LN2)),V!==ke&&(V=ke,ox=!0,L4=!0),gt.isShaderMaterial||gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshStandardMaterial||gt.envMap){let Lc=Fa.map.cameraPosition;void 0!==Lc&&Lc.setValue(Ge,Ye.setFromMatrixPosition(ke.matrixWorld))}(gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshLambertMaterial||gt.isMeshBasicMaterial||gt.isMeshStandardMaterial||gt.isShaderMaterial)&&Fa.setValue(Ge,"isOrthographic",!0===ke.isOrthographicCamera),(gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshLambertMaterial||gt.isMeshBasicMaterial||gt.isMeshStandardMaterial||gt.isShaderMaterial||gt.isShadowMaterial||Ft.isSkinnedMesh)&&Fa.setValue(Ge,"viewMatrix",ke.matrixWorldInverse)}if(Ft.isSkinnedMesh){Fa.setOptional(Ge,Ft,"bindMatrix"),Fa.setOptional(Ge,Ft,"bindMatrixInverse");let Lc=Ft.skeleton;Lc&&(mt.floatVertexTextures?(null===Lc.boneTexture&&Lc.computeBoneTexture(),Fa.setValue(Ge,"boneTexture",Lc.boneTexture,Mt),Fa.setValue(Ge,"boneTextureSize",Lc.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let B4=Rt.morphAttributes;if((void 0!==B4.position||void 0!==B4.normal||void 0!==B4.color&&!0===mt.isWebGL2)&&zt.update(Ft,Rt,gt,Zm),(ox||Ir.receiveShadow!==Ft.receiveShadow)&&(Ir.receiveShadow=Ft.receiveShadow,Fa.setValue(Ge,"receiveShadow",Ft.receiveShadow)),gt.isMeshGouraudMaterial&&null!==gt.envMap&&(Jm.envMap.value=yr,Jm.flipEnvMap.value=yr.isCubeTexture&&!1===yr.isRenderTargetTexture?-1:1),ox&&(Fa.setValue(Ge,"toneMappingExposure",y.toneMappingExposure),Ir.needsLights&&function Qze(ke,_t){ke.ambientLightColor.needsUpdate=_t,ke.lightProbe.needsUpdate=_t,ke.directionalLights.needsUpdate=_t,ke.directionalLightShadows.needsUpdate=_t,ke.pointLights.needsUpdate=_t,ke.pointLightShadows.needsUpdate=_t,ke.spotLights.needsUpdate=_t,ke.spotLightShadows.needsUpdate=_t,ke.rectAreaLights.needsUpdate=_t,ke.hemisphereLights.needsUpdate=_t}(Jm,L4),ti&&!0===gt.fog&&Vn.refreshFogUniforms(Jm,ti),Vn.refreshMaterialUniforms(Jm,gt,ae,ie,He),sM.upload(Ge,Ir.uniformsList,Jm,Mt)),gt.isShaderMaterial&&!0===gt.uniformsNeedUpdate&&(sM.upload(Ge,Ir.uniformsList,Jm,Mt),gt.uniformsNeedUpdate=!1),gt.isSpriteMaterial&&Fa.setValue(Ge,"center",Ft.center),Fa.setValue(Ge,"modelViewMatrix",Ft.modelViewMatrix),Fa.setValue(Ge,"normalMatrix",Ft.normalMatrix),Fa.setValue(Ge,"modelMatrix",Ft.matrixWorld),Ft.previousModelViewMatrix&&Fa.setValue(Ge,"previousModelViewMatrix",Ft.previousModelViewMatrix),ke.previousProjectionMatrix&&Fa.setValue(Ge,"previousProjectionMatrix",ke.previousProjectionMatrix),gt.isShaderMaterial||gt.isRawShaderMaterial){let Lc=gt.uniformsGroups;for(let z4=0,Jze=Lc.length;z4<Jze;z4++)if(mt.isWebGL2){let K$=Lc[z4];Un.update(K$,Zm),Un.bind(K$,Zm)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Zm}(ke,_t,Rt,gt,Ft);ot.setMaterial(gt,$i);let yr=Rt.index,Co=1;!0===gt.wireframe&&(yr=An.getWireframeAttribute(Rt),Co=2);let Vr=Rt.drawRange,kr=Rt.attributes.position,nl=Vr.start*Co,Fc=(Vr.start+Vr.count)*Co;null!==ti&&(nl=Math.max(nl,ti.start*Co),Fc=Math.min(Fc,(ti.start+ti.count)*Co)),null!==yr?(nl=Math.max(nl,0),Fc=Math.min(Fc,yr.count)):null!=kr&&(nl=Math.max(nl,0),Fc=Math.min(Fc,kr.count));let Dp=Fc-nl;if(Dp<0||Dp===1/0)return;Vt.setup(Ft,gt,ur,Rt,yr);let Qm,Vs=on;if(null!==yr&&(Qm=xn.get(yr),Vs=Gn,Vs.setIndex(Qm)),Ft.isMesh)!0===gt.wireframe?(ot.setLineWidth(gt.wireframeLinewidth*Xe()),Vs.setMode(1)):Vs.setMode(4);else if(Ft.isLine){let Ir=gt.linewidth;void 0===Ir&&(Ir=1),ot.setLineWidth(Ir*Xe()),Vs.setMode(Ft.isLineSegments?1:Ft.isLineLoop?2:3)}else Ft.isPoints?Vs.setMode(0):Ft.isSprite&&Vs.setMode(4);if(Ft.isInstancedMesh)Vs.renderInstances(nl,Dp,Ft.count);else if(Rt.isInstancedBufferGeometry){let N4=Math.min(Rt.instanceCount,void 0!==Rt._maxInstanceCount?Rt._maxInstanceCount:1/0);Vs.renderInstances(nl,Dp,N4)}else Vs.render(nl,Dp)},this.compile=function(ke,_t){function Rt(gt,Ft,ti){!0===gt.transparent&&gt.side===Xl&&!1===gt.forceSinglePass?(gt.side=va,gt.needsUpdate=!0,Od(gt,Ft,ti),gt.side=Wd,gt.needsUpdate=!0,Od(gt,Ft,ti),gt.side=Xl):Od(gt,Ft,ti)}h=Ie.get(ke),h.init(),v.push(h),ke.traverseVisible(function(gt){gt.isLight&&gt.layers.test(_t.layers)&&(h.pushLight(gt),gt.castShadow&&h.pushShadow(gt))}),h.setupLights(y.physicallyCorrectLights),ke.traverse(function(gt){let Ft=gt.material;if(Ft)if(Array.isArray(Ft))for(let ti=0;ti<Ft.length;ti++)Rt(Ft[ti],ke,gt);else Rt(Ft,ke,gt)}),v.pop(),h=null};let St=null;function pn(){jr.stop()}function vi(){jr.start()}let jr=new kU;function Ko(ke,_t,Rt,gt){if(!1===ke.visible)return;if(ke.layers.test(_t.layers))if(ke.isGroup)Rt=ke.renderOrder;else if(ke.isLOD)!0===ke.autoUpdate&&ke.update(_t);else if(ke.isLight)h.pushLight(ke),ke.castShadow&&h.pushShadow(ke);else if(ke.isSprite){if(!ke.frustumCulled||xe.intersectsSprite(ke)){gt&&Ye.setFromMatrixPosition(ke.matrixWorld).applyMatrix4(ze);let ti=dn.update(ke),$i=ke.material;$i.visible&&d.push(ke,ti,$i,Rt,Ye.z,null)}}else if((ke.isMesh||ke.isLine||ke.isPoints)&&(ke.isSkinnedMesh&&ke.skeleton.frame!==jt.render.frame&&(ke.skeleton.update(),ke.skeleton.frame=jt.render.frame),!ke.frustumCulled||xe.intersectsObject(ke))){gt&&Ye.setFromMatrixPosition(ke.matrixWorld).applyMatrix4(ze);let ti=dn.update(ke),$i=ke.material;if(Array.isArray($i)){let ur=ti.groups;for(let yr=0,Co=ur.length;yr<Co;yr++){let Vr=ur[yr],kr=$i[Vr.materialIndex];kr&&kr.visible&&d.push(ke,ti,kr,Rt,Ye.z,Vr)}}else $i.visible&&d.push(ke,ti,$i,Rt,Ye.z,null)}let Ft=ke.children;for(let ti=0,$i=Ft.length;ti<$i;ti++)Ko(Ft[ti],_t,Rt,gt)}function tl(ke,_t,Rt,gt){let Ft=ke.opaque,ti=ke.transmissive,$i=ke.transparent;h.setupLightsView(Rt),!0===_e&&we.setGlobalState(y.clippingPlanes,Rt),ti.length>0&&function Km(ke,_t,Rt){let gt=mt.isWebGL2;null===He&&(He=new oo(1,1,{generateMipmaps:!0,type:Ze.has("EXT_color_buffer_half_float")?am:qa,minFilter:hv,samples:gt&&!0===o?4:0})),y.getDrawingBufferSize(Re),gt?He.setSize(Re.x,Re.y):He.setSize(FC(Re.x),FC(Re.y));let Ft=y.getRenderTarget();y.setRenderTarget(He),y.clear();let ti=y.toneMapping;y.toneMapping=Yh,jo(ke,_t,Rt),y.toneMapping=ti,Mt.updateMultisampleRenderTarget(He),Mt.updateRenderTargetMipmap(He),y.setRenderTarget(Ft)}(Ft,_t,Rt),gt&&ot.viewport(Y.copy(gt)),Ft.length>0&&jo(Ft,_t,Rt),ti.length>0&&jo(ti,_t,Rt),$i.length>0&&jo($i,_t,Rt),ot.buffers.depth.setTest(!0),ot.buffers.depth.setMask(!0),ot.buffers.color.setMask(!0),ot.setPolygonOffset(!1)}function jo(ke,_t,Rt){let gt=!0===_t.isScene?_t.overrideMaterial:null;for(let Ft=0,ti=ke.length;Ft<ti;Ft++){let $i=ke[Ft],ur=$i.object,yr=$i.geometry,Co=null===gt?$i.material:gt,Vr=$i.group;ur.layers.test(Rt.layers)&&Ep(ur,_t,Rt,yr,Co,Vr)}}function Ep(ke,_t,Rt,gt,Ft,ti){ke.onBeforeRender(y,_t,Rt,gt,Ft,ti),ke.modelViewMatrix.multiplyMatrices(Rt.matrixWorldInverse,ke.matrixWorld),ke.normalMatrix.getNormalMatrix(ke.modelViewMatrix),Ft.onBeforeRender(y,_t,Rt,gt,ke,ti),!0===Ft.transparent&&Ft.side===Xl&&!1===Ft.forceSinglePass?(Ft.side=va,Ft.needsUpdate=!0,y.renderBufferDirect(Rt,_t,gt,Ft,ke,ti),Ft.side=Wd,Ft.needsUpdate=!0,y.renderBufferDirect(Rt,_t,gt,Ft,ke,ti),Ft.side=Xl):y.renderBufferDirect(Rt,_t,gt,Ft,ke,ti),ke.onAfterRender(y,_t,Rt,gt,Ft,ti)}function Od(ke,_t,Rt){!0!==_t.isScene&&(_t=Le);let gt=At.get(ke),Ft=h.state.lights,$i=Ft.state.version,ur=rn.getParameters(ke,Ft.state,h.state.shadowsArray,_t,Rt),yr=rn.getProgramCacheKey(ur),Co=gt.programs;gt.environment=ke.isMeshStandardMaterial?_t.environment:null,gt.fog=_t.fog,gt.envMap=(ke.isMeshStandardMaterial?vn:_n).get(ke.envMap||gt.environment),void 0===Co&&(ke.addEventListener("dispose",To),Co=new Map,gt.programs=Co);let Vr=Co.get(yr);if(void 0!==Vr){if(gt.currentProgram===Vr&&gt.lightsStateVersion===$i)return X$(ke,ur),Vr}else ur.uniforms=rn.getUniforms(ke),ke.onBuild(Rt,ur,y),ke.onBeforeCompile(ur,y),Vr=rn.acquireProgram(ur,yr),Co.set(yr,Vr),gt.uniforms=ur.uniforms;let kr=gt.uniforms;(!ke.isShaderMaterial&&!ke.isRawShaderMaterial||!0===ke.clipping)&&(kr.clippingPlanes=we.uniform),X$(ke,ur),gt.needsLights=function Zze(ke){return ke.isMeshLambertMaterial||ke.isMeshToonMaterial||ke.isMeshPhongMaterial||ke.isMeshStandardMaterial||ke.isShadowMaterial||ke.isShaderMaterial&&!0===ke.lights}(ke),gt.lightsStateVersion=$i,gt.needsLights&&(kr.ambientLightColor.value=Ft.state.ambient,kr.lightProbe.value=Ft.state.probe,kr.directionalLights.value=Ft.state.directional,kr.directionalLightShadows.value=Ft.state.directionalShadow,kr.spotLights.value=Ft.state.spot,kr.spotLightShadows.value=Ft.state.spotShadow,kr.rectAreaLights.value=Ft.state.rectArea,kr.ltc_1.value=Ft.state.rectAreaLTC1,kr.ltc_2.value=Ft.state.rectAreaLTC2,kr.pointLights.value=Ft.state.point,kr.pointLightShadows.value=Ft.state.pointShadow,kr.hemisphereLights.value=Ft.state.hemi,kr.directionalShadowMap.value=Ft.state.directionalShadowMap,kr.directionalShadowMatrix.value=Ft.state.directionalShadowMatrix,kr.spotShadowMap.value=Ft.state.spotShadowMap,kr.spotLightMatrix.value=Ft.state.spotLightMatrix,kr.spotLightMap.value=Ft.state.spotLightMap,kr.pointShadowMap.value=Ft.state.pointShadowMap,kr.pointShadowMatrix.value=Ft.state.pointShadowMatrix);let nl=Vr.getUniforms(),Fc=sM.seqWithValue(nl.seq,kr);return gt.currentProgram=Vr,gt.uniformsList=Fc,Vr}function X$(ke,_t){let Rt=At.get(ke);Rt.outputEncoding=_t.outputEncoding,Rt.instancing=_t.instancing,Rt.skinning=_t.skinning,Rt.morphTargets=_t.morphTargets,Rt.morphNormals=_t.morphNormals,Rt.morphColors=_t.morphColors,Rt.morphTargetsCount=_t.morphTargetsCount,Rt.numClippingPlanes=_t.numClippingPlanes,Rt.numIntersection=_t.numClipIntersection,Rt.vertexAlphas=_t.vertexAlphas,Rt.vertexTangents=_t.vertexTangents,Rt.toneMapping=_t.toneMapping}jr.setAnimationLoop(function nn(ke){St&&St(ke)}),typeof self<"u"&&jr.setContext(self),this.setAnimationLoop=function(ke){St=ke,jn.setAnimationLoop(ke),null===ke?jr.stop():jr.start()},jn.addEventListener("sessionstart",pn),jn.addEventListener("sessionend",vi),this.render=function(ke,_t){if(void 0===_t||!0===_t.isCamera){if(!0!==b){if(!0===ke.matrixWorldAutoUpdate&&ke.updateMatrixWorld(),null===_t.parent&&!0===_t.matrixWorldAutoUpdate&&_t.updateMatrixWorld(),!0===jn.enabled&&!0===jn.isPresenting&&(!0===jn.cameraAutoUpdate&&jn.updateCamera(_t),_t=jn.getCamera()),!0===ke.isScene&&ke.onBeforeRender(y,ke,_t,S),h=Ie.get(ke,v.length),h.init(),v.push(h),ze.multiplyMatrices(_t.projectionMatrix,_t.matrixWorldInverse),xe.setFromProjectionMatrix(ze),Ue=this.localClippingEnabled,_e=we.init(this.clippingPlanes,Ue),d=hi.get(ke,f.length),d.init(),f.push(d),Ko(ke,_t,0,y.sortObjects),d.finish(),!0===y.sortObjects&&d.sort(pe,fe),!0===_e&&we.beginShadows(),ft.render(h.state.shadowsArray,ke,_t),!0===_e&&we.endShadows(),!0===this.info.autoReset&&this.info.reset(),Qt.render(d,ke),h.setupLights(y.physicallyCorrectLights),_t.isArrayCamera){let gt=_t.cameras;for(let Ft=0,ti=gt.length;Ft<ti;Ft++){let $i=gt[Ft];tl(d,ke,$i,$i.viewport)}}else tl(d,ke,_t);null!==S&&(Mt.updateMultisampleRenderTarget(S),Mt.updateRenderTargetMipmap(S)),!0===ke.isScene&&ke.onAfterRender(y,ke,_t),Vt.resetDefaultState(),D=-1,V=null,v.pop(),h=v.length>0?v[v.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(ke,_t,Rt){At.get(ke.texture).__webglTexture=_t,At.get(ke.depthTexture).__webglTexture=Rt;let gt=At.get(ke);gt.__hasExternalTextures=!0,gt.__hasExternalTextures&&(gt.__autoAllocateDepthBuffer=void 0===Rt,gt.__autoAllocateDepthBuffer||!0===Ze.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),gt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ke,_t){let Rt=At.get(ke);Rt.__webglFramebuffer=_t,Rt.__useDefaultFramebuffer=void 0===_t},this.setRenderTarget=function(ke,_t=0,Rt=0){S=ke,w=_t,O=Rt;let gt=!0,Ft=null,ti=!1,$i=!1;if(ke){let ur=At.get(ke);void 0!==ur.__useDefaultFramebuffer?(ot.bindFramebuffer(36160,null),gt=!1):void 0===ur.__webglFramebuffer?Mt.setupRenderTarget(ke):ur.__hasExternalTextures&&Mt.rebindTextures(ke,At.get(ke.texture).__webglTexture,At.get(ke.depthTexture).__webglTexture);let yr=ke.texture;(yr.isData3DTexture||yr.isDataArrayTexture||yr.isCompressedArrayTexture)&&($i=!0);let Co=At.get(ke).__webglFramebuffer;ke.isWebGLCubeRenderTarget?(Ft=Co[_t],ti=!0):Ft=mt.isWebGL2&&ke.samples>0&&!1===Mt.useMultisampledRTT(ke)?At.get(ke).__webglMultisampledFramebuffer:Co,Y.copy(ke.viewport),q.copy(ke.scissor),K=ke.scissorTest}else Y.copy(ge).multiplyScalar(ae).floor(),q.copy(Oe).multiplyScalar(ae).floor(),K=Pe;if(ot.bindFramebuffer(36160,Ft)&&mt.drawBuffers&&gt&&ot.drawBuffers(ke,Ft),ot.viewport(Y),ot.scissor(q),ot.setScissorTest(K),ti){let ur=At.get(ke.texture);Ge.framebufferTexture2D(36160,36064,34069+_t,ur.__webglTexture,Rt)}else if($i){let ur=At.get(ke.texture);Ge.framebufferTextureLayer(36160,36064,ur.__webglTexture,Rt||0,_t||0)}D=-1},this.readRenderTargetPixels=function(ke,_t,Rt,gt,Ft,ti,$i){if(!ke||!ke.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ur=At.get(ke).__webglFramebuffer;if(ke.isWebGLCubeRenderTarget&&void 0!==$i&&(ur=ur[$i]),ur){ot.bindFramebuffer(36160,ur);try{let yr=ke.texture,Co=yr.format,Vr=yr.type;if(Co!==Ec&&Tn.convert(Co)!==Ge.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");let kr=Vr===am&&(Ze.has("EXT_color_buffer_half_float")||mt.isWebGL2&&Ze.has("EXT_color_buffer_float"));if(!(Vr===qa||Tn.convert(Vr)===Ge.getParameter(35738)||Vr===ml&&(mt.isWebGL2||Ze.has("OES_texture_float")||Ze.has("WEBGL_color_buffer_float"))||kr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");_t>=0&&_t<=ke.width-gt&&Rt>=0&&Rt<=ke.height-Ft&&Ge.readPixels(_t,Rt,gt,Ft,Tn.convert(Co),Tn.convert(Vr),ti)}finally{let yr=null!==S?At.get(S).__webglFramebuffer:null;ot.bindFramebuffer(36160,yr)}}},this.copyFramebufferToTexture=function(ke,_t,Rt=0){let gt=Math.pow(2,-Rt),Ft=Math.floor(_t.image.width*gt),ti=Math.floor(_t.image.height*gt);Mt.setTexture2D(_t,0),Ge.copyTexSubImage2D(3553,Rt,0,0,ke.x,ke.y,Ft,ti),ot.unbindTexture()},this.copyTextureToTexture=function(ke,_t,Rt,gt=0){let Ft=_t.image.width,ti=_t.image.height,$i=Tn.convert(Rt.format),ur=Tn.convert(Rt.type);Mt.setTexture2D(Rt,0),Ge.pixelStorei(37440,Rt.flipY),Ge.pixelStorei(37441,Rt.premultiplyAlpha),Ge.pixelStorei(3317,Rt.unpackAlignment),_t.isDataTexture?Ge.texSubImage2D(3553,gt,ke.x,ke.y,Ft,ti,$i,ur,_t.image.data):_t.isCompressedTexture?Ge.compressedTexSubImage2D(3553,gt,ke.x,ke.y,_t.mipmaps[0].width,_t.mipmaps[0].height,$i,_t.mipmaps[0].data):Ge.texSubImage2D(3553,gt,ke.x,ke.y,$i,ur,_t.image),0===gt&&Rt.generateMipmaps&&Ge.generateMipmap(3553),ot.unbindTexture()},this.copyTextureToTexture3D=function(ke,_t,Rt,gt,Ft=0){if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");let Vr,ti=ke.max.x-ke.min.x+1,$i=ke.max.y-ke.min.y+1,ur=ke.max.z-ke.min.z+1,yr=Tn.convert(gt.format),Co=Tn.convert(gt.type);if(gt.isData3DTexture)Mt.setTexture3D(gt,0),Vr=32879;else{if(!gt.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Mt.setTexture2DArray(gt,0),Vr=35866}Ge.pixelStorei(37440,gt.flipY),Ge.pixelStorei(37441,gt.premultiplyAlpha),Ge.pixelStorei(3317,gt.unpackAlignment);let kr=Ge.getParameter(3314),nl=Ge.getParameter(32878),Fc=Ge.getParameter(3316),Dp=Ge.getParameter(3315),Qm=Ge.getParameter(32877),Vs=Rt.isCompressedTexture?Rt.mipmaps[0]:Rt.image;Ge.pixelStorei(3314,Vs.width),Ge.pixelStorei(32878,Vs.height),Ge.pixelStorei(3316,ke.min.x),Ge.pixelStorei(3315,ke.min.y),Ge.pixelStorei(32877,ke.min.z),Rt.isDataTexture||Rt.isData3DTexture?Ge.texSubImage3D(Vr,Ft,_t.x,_t.y,_t.z,ti,$i,ur,yr,Co,Vs.data):Rt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ge.compressedTexSubImage3D(Vr,Ft,_t.x,_t.y,_t.z,ti,$i,ur,yr,Vs.data)):Ge.texSubImage3D(Vr,Ft,_t.x,_t.y,_t.z,ti,$i,ur,yr,Co,Vs),Ge.pixelStorei(3314,kr),Ge.pixelStorei(32878,nl),Ge.pixelStorei(3316,Fc),Ge.pixelStorei(3315,Dp),Ge.pixelStorei(32877,Qm),0===Ft&&gt.generateMipmaps&&Ge.generateMipmap(Vr),ot.unbindTexture()},this.initTexture=function(ke){ke.isCubeTexture?Mt.setTextureCube(ke,0):ke.isData3DTexture?Mt.setTexture3D(ke,0):ke.isDataArrayTexture||ke.isCompressedArrayTexture?Mt.setTexture2DArray(ke,0):Mt.setTexture2D(ke,0),ot.unbindTexture()},this.resetState=function(){w=0,O=0,S=null,ot.reset(),Vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class extends sj{}).prototype.isWebGL1Renderer=!0;var aj=class{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new si(e),this.near=t,this.far=n}clone(){return new aj(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},_f=class extends so{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},swe=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=dd()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=dd()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=dd()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},_l=new re,JA=class{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)_l.fromBufferAttribute(this,t),_l.applyMatrix4(e),this.setXYZ(t,_l.x,_l.y,_l.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)_l.fromBufferAttribute(this,t),_l.applyNormalMatrix(e),this.setXYZ(t,_l.x,_l.y,_l.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)_l.fromBufferAttribute(this,t),_l.transformDirection(e),this.setXYZ(t,_l.x,_l.y,_l.z);return this}setX(e,t){return this.normalized&&(t=wo(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=wo(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=wo(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=wo(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Qh(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Qh(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Qh(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Qh(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=wo(t,this.array),n=wo(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=wo(t,this.array),n=wo(n,this.array),i=wo(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=wo(t,this.array),n=wo(n,this.array),i=wo(i,this.array),r=wo(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new pi(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new JA(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},lj=class extends so{constructor(){super(),this.isBone=!0,this.type="Bone"}},xf=class extends na{constructor(e=null,t=1,n=1,i,r,o,s,a,l=xo,c=xo,u,d){super(null,o,s,a,l,c,i,r,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},cj=new Wt,awe=new Wt,eT=class{constructor(e=[],t=[]){this.uuid=dd(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Wt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let n=new Wt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++)cj.multiplyMatrices(e[r]?e[r].matrixWorld:awe,t[r]),cj.toArray(n,16*r);null!==i&&(i.needsUpdate=!0)}clone(){return new eT(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=fU(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new xf(t,e,e,Ec,ml);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){let r=e.bones[n],o=t[r];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new lj),this.bones.push(o),this.boneInverses.push((new Wt).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++)e.bones.push(t[i].uuid),e.boneInverses.push(n[i].toArray());return e}},dj=class extends pi{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},wf=class extends zb{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new si(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},uj=new re,hj=new re,pj=new Wt,tT=new bv,aM=new $l,lM=class extends so{constructor(e=new ei,t=new wf){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)uj.fromBufferAttribute(t,i-1),hj.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=uj.distanceTo(hj);e.setAttribute("lineDistance",new Dn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),aM.copy(n.boundingSphere),aM.applyMatrix4(i),aM.radius+=r,!1===e.ray.intersectsSphere(aM))return;pj.copy(i).invert(),tT.copy(e.ray).applyMatrix4(pj);let s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=new re,c=new re,u=new re,d=new re,h=this.isLineSegments?2:1,f=n.index,v=n.attributes.position;if(null!==f)for(let w=Math.max(0,o.start),O=Math.min(f.count,o.start+o.count)-1;w<O;w+=h){let S=f.getX(w),D=f.getX(w+1);if(l.fromBufferAttribute(v,S),c.fromBufferAttribute(v,D),tT.distanceSqToSegment(l,c,d,u)>a)continue;d.applyMatrix4(this.matrixWorld);let V=e.ray.origin.distanceTo(d);V<e.near||V>e.far||t.push({distance:V,point:u.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}else for(let w=Math.max(0,o.start),O=Math.min(v.count,o.start+o.count)-1;w<O;w+=h){if(l.fromBufferAttribute(v,w),c.fromBufferAttribute(v,w+1),tT.distanceSqToSegment(l,c,d,u)>a)continue;d.applyMatrix4(this.matrixWorld);let S=e.ray.origin.distanceTo(d);S<e.near||S>e.far||t.push({distance:S,point:u.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++){let o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}},fj=new re,gj=new re,qb=class extends lM{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)fj.fromBufferAttribute(t,i),gj.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+fj.distanceTo(gj);e.setAttribute("lineDistance",new Dn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},lwe=class extends na{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,r,o,s,a,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:Ji,this.magFilter=void 0!==r?r:Ji,this.generateMipmaps=!1;let c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)})}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},Xu=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let n,t=[],i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let o,n=this.getLengths(),i=0,r=n.length;o=t||e*n[r-1];let l,s=0,a=r-1;for(;s<=a;)if(i=Math.floor(s+(a-s)/2),l=n[i]-o,l<0)s=i+1;else{if(!(l>0)){a=i;break}a=i-1}if(i=a,n[i]===o)return i/(r-1);let c=n[i];return(i+(o-c)/(n[i+1]-c))/(r-1)}getTangent(e,t){let n=e-1e-4,i=e+1e-4;n<0&&(n=0),i>1&&(i=1);let r=this.getPoint(n),o=this.getPoint(i),s=t||(r.isVector2?new Ve:new re);return s.copy(o).sub(r).normalize(),s}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new re,i=[],r=[],o=[],s=new re,a=new Wt;for(let h=0;h<=e;h++)i[h]=this.getTangentAt(h/e,new re);r[0]=new re,o[0]=new re;let l=Number.MAX_VALUE,c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let h=1;h<=e;h++){if(r[h]=r[h-1].clone(),o[h]=o[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();let f=Math.acos(Rs(i[h-1].dot(i[h]),-1,1));r[h].applyMatrix4(a.makeRotationAxis(s,f))}o[h].crossVectors(i[h],r[h])}if(!0===t){let h=Math.acos(Rs(r[0].dot(r[e]),-1,1));h/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(h=-h);for(let f=1;f<=e;f++)r[f].applyMatrix4(a.makeRotationAxis(i[f],h*f)),o[f].crossVectors(i[f],r[f])}return{tangents:i,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},cM=class extends Xu{constructor(e=0,t=0,n=1,i=1,r=0,o=2*Math.PI,s=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(e,t){let n=t||new Ve,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0===this.aClockwise&&!o&&(r===i?r=-i:r-=i);let s=this.aStartAngle+e*r,a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){let c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=a-this.aX,h=l-this.aY;a=d*c-h*u+this.aX,l=d*u+h*c+this.aY}return n.set(a,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};function nT(){let e=0,t=0,n=0,i=0;function r(o,s,a,l){e=o,t=a,n=-3*o+3*s-2*a-l,i=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){r(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,u,d){let h=(s-o)/c-(a-o)/(c+u)+(a-s)/u,f=(a-s)/u-(l-s)/(u+d)+(l-a)/d;h*=u,f*=u,r(s,a,h,f)},calc:function(o){let s=o*o;return e+t*o+n*s+i*(s*o)}}}var dM=new re,iT=new nT,rT=new nT,oT=new nT;function mj(e,t,n,i,r){let o=.5*(i-t),s=.5*(r-n),a=e*e;return(2*n-2*i+o+s)*(e*a)+(-3*n+3*i-2*o-s)*a+o*e+n}function Yb(e,t,n,i){return function uwe(e,t){let n=1-e;return n*n*t}(e,t)+function hwe(e,t){return 2*(1-e)*e*t}(e,n)+function pwe(e,t){return e*e*t}(e,i)}function Xb(e,t,n,i,r){return function fwe(e,t){let n=1-e;return n*n*n*t}(e,t)+function gwe(e,t){let n=1-e;return 3*n*n*e*t}(e,n)+function mwe(e,t){return 3*(1-e)*e*e*t}(e,i)+function vwe(e,t){return e*e*e*t}(e,r)}var $d=class extends Xu{constructor(e=new Ve,t=new Ve,n=new Ve,i=new Ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Ve){let n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(Xb(e,i.x,r.x,o.x,s.x),Xb(e,i.y,r.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},uM=class extends Xu{constructor(e=new re,t=new re,n=new re,i=new re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new re){let n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(Xb(e,i.x,r.x,o.x,s.x),Xb(e,i.y,r.y,o.y,s.y),Xb(e,i.z,r.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Kd=class extends Xu{constructor(e=new Ve,t=new Ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ve){let n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let n=t||new Ve;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},vj=class extends Xu{constructor(e=new re,t=new re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new re){let n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Cf=class extends Xu{constructor(e=new Ve,t=new Ve,n=new Ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ve){let n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(Yb(e,i.x,r.x,o.x),Yb(e,i.y,r.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},sT=class extends Xu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ve){let n=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),s=r-o,a=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(mj(s,a.x,l.x,c.x,u.x),mj(s,a.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push((new Ve).fromArray(i))}return this}},bwe=Object.freeze({__proto__:null,ArcCurve:class extends cM{constructor(e,t,n,i,r,o){super(e,t,n,n,i,r,o),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class extends Xu{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new re){let l,c,n=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e,s=Math.floor(o),a=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:0===a&&s===r-1&&(s=r-2,a=1),this.closed||s>0?l=i[(s-1)%r]:(dM.subVectors(i[0],i[1]).add(i[0]),l=dM);let u=i[s%r],d=i[(s+1)%r];if(this.closed||s+2<r?c=i[(s+2)%r]:(dM.subVectors(i[r-1],i[r-2]).add(i[r-1]),c=dM),"centripetal"===this.curveType||"chordal"===this.curveType){let h="chordal"===this.curveType?.5:.25,f=Math.pow(l.distanceToSquared(u),h),v=Math.pow(u.distanceToSquared(d),h),y=Math.pow(d.distanceToSquared(c),h);v<1e-4&&(v=1),f<1e-4&&(f=v),y<1e-4&&(y=v),iT.initNonuniformCatmullRom(l.x,u.x,d.x,c.x,f,v,y),rT.initNonuniformCatmullRom(l.y,u.y,d.y,c.y,f,v,y),oT.initNonuniformCatmullRom(l.z,u.z,d.z,c.z,f,v,y)}else"catmullrom"===this.curveType&&(iT.initCatmullRom(l.x,u.x,d.x,c.x,this.tension),rT.initCatmullRom(l.y,u.y,d.y,c.y,this.tension),oT.initCatmullRom(l.z,u.z,d.z,c.z,this.tension));return n.set(iT.calc(a),rT.calc(a),oT.calc(a)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let i=e.points[t];this.points.push((new re).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:$d,CubicBezierCurve3:uM,EllipseCurve:cM,LineCurve:Kd,LineCurve3:vj,QuadraticBezierCurve:Cf,QuadraticBezierCurve3:class extends Xu{constructor(e=new re,t=new re,n=new re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new re){let n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(Yb(e,i.x,r.x,o.x),Yb(e,i.y,r.y,o.y),Yb(e,i.z,r.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},SplineCurve:sT}),yj=class extends Xu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Kd(t,e))}getPoint(e,t){let n=e*this.getLength(),i=this.getCurveLengths(),r=0;for(;r<i.length;){if(i[r]>=n){let o=i[r]-n,s=this.curves[r],a=s.getLength();return s.getPointAt(0===a?0:1-o/a,t)}r++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let n,t=[];for(let i=0,r=this.curves;i<r.length;i++){let o=r[i],a=o.getPoints(o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e);for(let l=0;l<a.length;l++){let c=a[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let i=e.curves[t];this.curves.push((new bwe[i.type]).fromJSON(i))}return this}},hM=class extends yj{constructor(e){super(),this.type="Path",this.currentPoint=new Ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new Kd(this.currentPoint.clone(),new Ve(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){let r=new Cf(this.currentPoint.clone(),new Ve(e,t),new Ve(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,o){let s=new $d(this.currentPoint.clone(),new Ve(e,t),new Ve(n,i),new Ve(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new sT(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,o),this}absarc(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this}ellipse(e,t,n,i,r,o,s,a){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,o,s,a),this}absellipse(e,t,n,i,r,o,s,a){let l=new cM(e,t,n,i,r,o,s,a);if(this.curves.length>0){let u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);let c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},bj=class extends ei{constructor(e=[new Ve(0,-.5),new Ve(.5,0),new Ve(0,.5)],t=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Rs(i,0,2*Math.PI);let r=[],o=[],s=[],a=[],l=[],c=1/t,u=new re,d=new Ve,h=new re,f=new re,v=new re,y=0,b=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,h.x=1*b,h.y=-y,h.z=0*b,v.copy(h),h.normalize(),a.push(h.x,h.y,h.z);break;case e.length-1:a.push(v.x,v.y,v.z);break;default:y=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,h.x=1*b,h.y=-y,h.z=0*b,f.copy(h),h.x+=v.x,h.y+=v.y,h.z+=v.z,h.normalize(),a.push(h.x,h.y,h.z),v.copy(f)}for(let w=0;w<=t;w++){let O=n+w*c*i,S=Math.sin(O),D=Math.cos(O);for(let V=0;V<=e.length-1;V++)u.x=e[V].x*S,u.y=e[V].y,u.z=e[V].x*D,o.push(u.x,u.y,u.z),d.x=w/t,d.y=V/(e.length-1),s.push(d.x,d.y),l.push(a[3*V+0]*S,a[3*V+1],a[3*V+0]*D)}for(let w=0;w<t;w++)for(let O=0;O<e.length-1;O++){let S=O+w*e.length,V=S+e.length,Y=S+e.length+1,q=S+1;r.push(S,V,q),r.push(Y,q,V)}this.setIndex(r),this.setAttribute("position",new Dn(o,3)),this.setAttribute("uv",new Dn(s,2)),this.setAttribute("normal",new Dn(l,3))}static fromJSON(e){return new bj(e.points,e.segments,e.phiStart,e.phiLength)}},aT=class extends ei{constructor(e=1,t=1,n=1,i=32,r=1,o=!1,s=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};let l=this;i=Math.floor(i),r=Math.floor(r);let c=[],u=[],d=[],h=[],f=0,v=[],y=n/2,b=0;function O(S){let D=f,V=new Ve,Y=new re,q=0,K=!0===S?e:t,te=!0===S?1:-1;for(let ae=1;ae<=i;ae++)u.push(0,y*te,0),d.push(0,te,0),h.push(.5,.5),f++;let ie=f;for(let ae=0;ae<=i;ae++){let pe=ae/i*a+s,fe=Math.cos(pe),ge=Math.sin(pe);Y.x=K*ge,Y.y=y*te,Y.z=K*fe,u.push(Y.x,Y.y,Y.z),d.push(0,te,0),V.x=.5*fe+.5,V.y=.5*ge*te+.5,h.push(V.x,V.y),f++}for(let ae=0;ae<i;ae++){let pe=D+ae,fe=ie+ae;!0===S?c.push(fe,fe+1,pe):c.push(fe+1,fe,pe),q+=3}l.addGroup(b,q,!0===S?1:2),b+=q}(function w(){let S=new re,D=new re,V=0,Y=(t-e)/n;for(let q=0;q<=r;q++){let K=[],te=q/r,ie=te*(t-e)+e;for(let ae=0;ae<=i;ae++){let pe=ae/i,fe=pe*a+s,ge=Math.sin(fe),Oe=Math.cos(fe);D.x=ie*ge,D.y=-te*n+y,D.z=ie*Oe,u.push(D.x,D.y,D.z),S.set(ge,Y,Oe).normalize(),d.push(S.x,S.y,S.z),h.push(pe,1-te),K.push(f++)}v.push(K)}for(let q=0;q<i;q++)for(let K=0;K<r;K++){let ie=v[K+1][q],ae=v[K+1][q+1],pe=v[K][q+1];c.push(v[K][q],ie,pe),c.push(ie,ae,pe),V+=6}l.addGroup(b,V,0),b+=V})(),!1===o&&(e>0&&O(!0),t>0&&O(!1)),this.setIndex(c),this.setAttribute("position",new Dn(u,3)),this.setAttribute("normal",new Dn(d,3)),this.setAttribute("uv",new Dn(h,2))}static fromJSON(e){return new aT(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},_j=class extends aT{constructor(e=1,t=1,n=32,i=1,r=!1,o=0,s=2*Math.PI){super(0,e,t,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}static fromJSON(e){return new _j(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},lT=class extends ei{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};let r=[],o=[];function a(w,O,S,D){let V=D+1,Y=[];for(let q=0;q<=V;q++){Y[q]=[];let K=w.clone().lerp(S,q/V),te=O.clone().lerp(S,q/V),ie=V-q;for(let ae=0;ae<=ie;ae++)Y[q][ae]=0===ae&&q===V?K:K.clone().lerp(te,ae/ie)}for(let q=0;q<V;q++)for(let K=0;K<2*(V-q)-1;K++){let te=Math.floor(K/2);K%2==0?(d(Y[q][te+1]),d(Y[q+1][te]),d(Y[q][te])):(d(Y[q][te+1]),d(Y[q+1][te+1]),d(Y[q+1][te]))}}function d(w){r.push(w.x,w.y,w.z)}function h(w,O){let S=3*w;O.x=e[S+0],O.y=e[S+1],O.z=e[S+2]}function v(w,O,S,D){D<0&&1===w.x&&(o[O]=w.x-1),0===S.x&&0===S.z&&(o[O]=D/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function b(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}(function s(w){let O=new re,S=new re,D=new re;for(let V=0;V<t.length;V+=3)h(t[V+0],O),h(t[V+1],S),h(t[V+2],D),a(O,S,D,w)})(i),function l(w){let O=new re;for(let S=0;S<r.length;S+=3)O.x=r[S+0],O.y=r[S+1],O.z=r[S+2],O.normalize().multiplyScalar(w),r[S+0]=O.x,r[S+1]=O.y,r[S+2]=O.z}(n),function c(){let w=new re;for(let O=0;O<r.length;O+=3){w.x=r[O+0],w.y=r[O+1],w.z=r[O+2];let S=y(w)/2/Math.PI+.5,D=b(w)/Math.PI+.5;o.push(S,1-D)}(function f(){let w=new re,O=new re,S=new re,D=new re,V=new Ve,Y=new Ve,q=new Ve;for(let K=0,te=0;K<r.length;K+=9,te+=6){w.set(r[K+0],r[K+1],r[K+2]),O.set(r[K+3],r[K+4],r[K+5]),S.set(r[K+6],r[K+7],r[K+8]),V.set(o[te+0],o[te+1]),Y.set(o[te+2],o[te+3]),q.set(o[te+4],o[te+5]),D.copy(w).add(O).add(S).divideScalar(3);let ie=y(D);v(V,te+0,w,ie),v(Y,te+2,O,ie),v(q,te+4,S,ie)}})(),function u(){for(let w=0;w<o.length;w+=6){let O=o[w+0],S=o[w+2],D=o[w+4],V=Math.max(O,S,D),Y=Math.min(O,S,D);V>.9&&Y<.1&&(O<.2&&(o[w+0]+=1),S<.2&&(o[w+2]+=1),D<.2&&(o[w+4]+=1))}}()}(),this.setAttribute("position",new Dn(r,3)),this.setAttribute("normal",new Dn(r.slice(),3)),this.setAttribute("uv",new Dn(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new lT(e.vertices,e.indices,e.radius,e.details)}},xj=class extends lT{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xj(e.radius,e.detail)}},pM=class extends hM{constructor(e){super(e),this.uuid=dd(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let i=e.holes[t];this.holes.push((new hM).fromJSON(i))}return this}};function wj(e,t,n,i,r){let o,s;if(r===function Fwe(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}(e,t,n,i)>0)for(o=t;o<n;o+=i)s=Pj(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=Pj(o,e[o],e[o+1],s);return s&&fM(s,s.next)&&(Qb(s),s=s.next),s}function vm(e,t){if(!e)return e;t||(t=e);let i,n=e;do{if(i=!1,n.steiner||!fM(n,n.next)&&0!==Xo(n.prev,n,n.next))n=n.next;else{if(Qb(n),n=t=n.prev,n===n.next)break;i=!0}}while(i||n!==t);return t}function $b(e,t,n,i,r,o,s){if(!e)return;!s&&o&&function Awe(e,t,n,i){let r=e;do{0===r.z&&(r.z=cT(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function Twe(e){let t,n,i,r,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,i);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1)}(r)}(e,i,r,o);let l,c,a=e;for(;e.prev!==e.next;)if(l=e.prev,c=e.next,o?wwe(e,i,r,o):xwe(e))t.push(l.i/n|0),t.push(e.i/n|0),t.push(c.i/n|0),Qb(e),e=c.next,a=c.next;else if((e=c)===a){s?1===s?$b(e=Cwe(vm(e),t,n),t,n,i,r,o,2):2===s&&Mwe(e,t,n,i,r,o):$b(vm(e),t,n,i,r,o,1);break}}function xwe(e){let t=e.prev,n=e,i=e.next;if(Xo(t,n,i)>=0)return!1;let r=t.x,o=n.x,s=i.x,a=t.y,l=n.y,c=i.y,u=r<o?r<s?r:s:o<s?o:s,d=a<l?a<c?a:c:l<c?l:c,h=r>o?r>s?r:s:o>s?o:s,f=a>l?a>c?a:c:l>c?l:c,v=i.next;for(;v!==t;){if(v.x>=u&&v.x<=h&&v.y>=d&&v.y<=f&&Bv(r,a,o,l,s,c,v.x,v.y)&&Xo(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function wwe(e,t,n,i){let r=e.prev,o=e,s=e.next;if(Xo(r,o,s)>=0)return!1;let a=r.x,l=o.x,c=s.x,u=r.y,d=o.y,h=s.y,f=a<l?a<c?a:c:l<c?l:c,v=u<d?u<h?u:h:d<h?d:h,y=a>l?a>c?a:c:l>c?l:c,b=u>d?u>h?u:h:d>h?d:h,w=cT(f,v,t,n,i),O=cT(y,b,t,n,i),S=e.prevZ,D=e.nextZ;for(;S&&S.z>=w&&D&&D.z<=O;){if(S.x>=f&&S.x<=y&&S.y>=v&&S.y<=b&&S!==r&&S!==s&&Bv(a,u,l,d,c,h,S.x,S.y)&&Xo(S.prev,S,S.next)>=0||(S=S.prevZ,D.x>=f&&D.x<=y&&D.y>=v&&D.y<=b&&D!==r&&D!==s&&Bv(a,u,l,d,c,h,D.x,D.y)&&Xo(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;S&&S.z>=w;){if(S.x>=f&&S.x<=y&&S.y>=v&&S.y<=b&&S!==r&&S!==s&&Bv(a,u,l,d,c,h,S.x,S.y)&&Xo(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;D&&D.z<=O;){if(D.x>=f&&D.x<=y&&D.y>=v&&D.y<=b&&D!==r&&D!==s&&Bv(a,u,l,d,c,h,D.x,D.y)&&Xo(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function Cwe(e,t,n){let i=e;do{let r=i.prev,o=i.next.next;!fM(r,o)&&Cj(r,i,i.next,o)&&Kb(r,o)&&Kb(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),Qb(i),Qb(i.next),i=e=o),i=i.next}while(i!==e);return vm(i)}function Mwe(e,t,n,i,r,o){let s=e;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Iwe(s,a)){let l=Mj(s,a);return s=vm(s,s.next),l=vm(l,l.next),$b(s,t,n,i,r,o,0),void $b(l,t,n,i,r,o,0)}a=a.next}s=s.next}while(s!==e)}function Owe(e,t){return e.x-t.x}function Swe(e,t){let n=function Ewe(e,t){let r,n=t,i=-1/0,o=e.x,s=e.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){let h=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=o&&h>i&&(i=h,r=n.x<n.next.x?n:n.next,h===o))return r}n=n.next}while(n!==t);if(!r)return null;let d,a=r,l=r.x,c=r.y,u=1/0;n=r;do{o>=n.x&&n.x>=l&&o!==n.x&&Bv(s<c?o:i,s,l,c,s<c?i:o,s,n.x,n.y)&&(d=Math.abs(s-n.y)/(o-n.x),Kb(n,e)&&(d<u||d===u&&(n.x>r.x||n.x===r.x&&Dwe(r,n)))&&(r=n,u=d)),n=n.next}while(n!==a);return r}(e,t);if(!n)return t;let i=Mj(n,e);return vm(i,i.next),vm(n,n.next)}function Dwe(e,t){return Xo(e.prev,e,t.prev)<0&&Xo(t.next,e,e.next)<0}function cT(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function kwe(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Bv(e,t,n,i,r,o,s,a){return(r-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(i-a)>=(n-s)*(t-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function Iwe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function Rwe(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Cj(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Kb(e,t)&&Kb(t,e)&&function Nwe(e,t){let n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Xo(e.prev,e,t.prev)||Xo(e,t.prev,t))||fM(e,t)&&Xo(e.prev,e,e.next)>0&&Xo(t.prev,t,t.next)>0)}function Xo(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function fM(e,t){return e.x===t.x&&e.y===t.y}function Cj(e,t,n,i){let r=mM(Xo(e,t,n)),o=mM(Xo(e,t,i)),s=mM(Xo(n,i,e)),a=mM(Xo(n,i,t));return!!(r!==o&&s!==a||0===r&&gM(e,n,t)||0===o&&gM(e,i,t)||0===s&&gM(n,e,i)||0===a&&gM(n,t,i))}function gM(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function mM(e){return e>0?1:e<0?-1:0}function Kb(e,t){return Xo(e.prev,e,e.next)<0?Xo(e,t,e.next)>=0&&Xo(e,e.prev,t)>=0:Xo(e,t,e.prev)<0||Xo(e,e.next,t)<0}function Mj(e,t){let n=new dT(e.i,e.x,e.y),i=new dT(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Pj(e,t,n,i){let r=new dT(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Qb(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function dT(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Oj=class{static area(e){let t=e.length,n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return Oj.area(e)<0}static triangulateShape(e,t){let n=[],i=[],r=[];Sj(e),Ej(n,e);let o=e.length;t.forEach(Sj);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,Ej(n,t[a]);let s=function(e,t,n=2){let a,l,c,u,d,h,f,i=t&&t.length,r=i?t[0]*n:e.length,o=wj(e,0,r,n,!0),s=[];if(!o||o.next===o.prev)return s;if(i&&(o=function Pwe(e,t,n,i){let o,s,a,l,c,r=[];for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=wj(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(kwe(c));for(r.sort(Owe),o=0;o<r.length;o++)n=Swe(r[o],n);return n}(e,t,o,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let v=n;v<r;v+=n)d=e[v],h=e[v+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-a,u-l),f=0!==f?32767/f:0}return $b(o,s,n,a,l,f,0),s}(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function Sj(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Ej(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Dj=class extends lT{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Dj(e.radius,e.detail)}},uT=class extends ei{constructor(e=1,t=32,n=16,i=0,r=2*Math.PI,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let a=Math.min(o+s,Math.PI),l=0,c=[],u=new re,d=new re,h=[],f=[],v=[],y=[];for(let b=0;b<=n;b++){let w=[],O=b/n,S=0;0==b&&0==o?S=.5/t:b==n&&a==Math.PI&&(S=-.5/t);for(let D=0;D<=t;D++){let V=D/t;u.x=-e*Math.cos(i+V*r)*Math.sin(o+O*s),u.y=e*Math.cos(o+O*s),u.z=e*Math.sin(i+V*r)*Math.sin(o+O*s),f.push(u.x,u.y,u.z),d.copy(u).normalize(),v.push(d.x,d.y,d.z),y.push(V+S,1-O),w.push(l++)}c.push(w)}for(let b=0;b<n;b++)for(let w=0;w<t;w++){let S=c[b][w],D=c[b+1][w],V=c[b+1][w+1];(0!==b||o>0)&&h.push(c[b][w+1],S,V),(b!==n-1||a<Math.PI)&&h.push(S,D,V)}this.setIndex(h),this.setAttribute("position",new Dn(f,3)),this.setAttribute("normal",new Dn(v,3)),this.setAttribute("uv",new Dn(y,2))}static fromJSON(e){return new uT(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},Aj=class extends ei{constructor(e=1,t=.4,n=64,i=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},n=Math.floor(n),i=Math.floor(i);let s=[],a=[],l=[],c=[],u=new re,d=new re,h=new re,f=new re,v=new re,y=new re,b=new re;for(let O=0;O<=n;++O){let S=O/n*r*Math.PI*2;w(S,r,o,e,h),w(S+.01,r,o,e,f),y.subVectors(f,h),b.addVectors(f,h),v.crossVectors(y,b),b.crossVectors(v,y),v.normalize(),b.normalize();for(let D=0;D<=i;++D){let V=D/i*Math.PI*2,Y=-t*Math.cos(V),q=t*Math.sin(V);u.x=h.x+(Y*b.x+q*v.x),u.y=h.y+(Y*b.y+q*v.y),u.z=h.z+(Y*b.z+q*v.z),a.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(O/n),c.push(D/i)}}for(let O=1;O<=n;O++)for(let S=1;S<=i;S++){let V=(i+1)*O+(S-1),Y=(i+1)*O+S,q=(i+1)*(O-1)+S;s.push((i+1)*(O-1)+(S-1),V,q),s.push(V,Y,q)}function w(O,S,D,V,Y){let q=Math.cos(O),K=Math.sin(O),te=D/S*O,ie=Math.cos(te);Y.x=V*(2+ie)*.5*q,Y.y=V*(2+ie)*K*.5,Y.z=V*Math.sin(te)*.5}this.setIndex(s),this.setAttribute("position",new Dn(a,3)),this.setAttribute("normal",new Dn(l,3)),this.setAttribute("uv",new Dn(c,2))}static fromJSON(e){return new Aj(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function Mf(e,t,n){return Tj(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function vM(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Tj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Lwe(e){let n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(function t(r,o){return e[r]-e[o]}),i}function kj(e,t,n){let i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){let a=n[o]*t;for(let l=0;l!==t;++l)r[s++]=e[a+l]}return r}function Ij(e,t,n,i){let r=1,o=e[0];for(;void 0!==o&&void 0===o[i];)o=e[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(t.push(o.time),n.push(s)),o=e[r++]}while(void 0!==o)}var yM=class{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let s=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;{let s=t[1];e<s&&(n=2,r=s);for(let a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}}for(;n<o;){let s=n+o>>>1;e<t[s]?o=s:n=s+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},Bwe=class extends yM{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pv,endingEnd:pv}}intervalChanged_(e,t,n){let i=this.parameterPositions,r=e-2,o=e+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case fv:r=e,s=2*t-n;break;case 2402:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case fv:o=e,a=2*n-t;break;case 2402:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}let l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(i-t),v=f*f,y=v*f,b=-d*y+2*d*v-d*f,w=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*f+1,O=(-1-h)*y+(1.5+h)*v+.5*f,S=h*y-h*v;for(let D=0;D!==s;++D)r[D]=b*o[c+D]+w*o[l+D]+O*o[a+D]+S*o[u+D];return r}},Rj=class extends yM{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),u=1-c;for(let d=0;d!==s;++d)r[d]=o[l+d]*u+o[a+d]*c;return r}},zwe=class extends yM{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}},$u=class{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=vM(t,this.TimeBufferType),this.values=vM(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let n,t=e.constructor;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:vM(e.times,Array),values:vM(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new zwe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Rj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Bwe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){let t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){let n=this.times,i=n.length,r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);let s=this.getValueSize();this.times=Mf(n,r,o),this.values=Mf(this.values,r*s,o*s)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){let a=n[s];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,a),e=!1;break}if(null!==o&&o>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,a,o),e=!1;break}o=a}if(void 0!==i&&Tj(i))for(let s=0,a=i.length;s!==a;++s){let l=i[s];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,l),e=!1;break}}return e}optimize(){let e=Mf(this.times),t=Mf(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=e.length-1,o=1;for(let s=1;s<r;++s){let a=!1,l=e[s];if(l!==e[s+1]&&(1!==s||l!==e[0]))if(i)a=!0;else{let u=s*n,d=u-n,h=u+n;for(let f=0;f!==n;++f){let v=t[u+f];if(v!==t[d+f]||v!==t[h+f]){a=!0;break}}}if(a){if(s!==o){e[o]=e[s];let u=s*n,d=o*n;for(let h=0;h!==n;++h)t[d+h]=t[u+h]}++o}}if(r>0){e[o]=e[r];for(let s=r*n,a=o*n,l=0;l!==n;++l)t[a+l]=t[s+l];++o}return o!==e.length?(this.times=Mf(e,0,o),this.values=Mf(t,0,o*n)):(this.times=e,this.values=t),this}clone(){let e=Mf(this.times,0),t=Mf(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};$u.prototype.TimeBufferType=Float32Array,$u.prototype.ValueBufferType=Float32Array,$u.prototype.DefaultInterpolation=2301;var zv=class extends $u{};zv.prototype.ValueTypeName="bool",zv.prototype.ValueBufferType=Array,zv.prototype.DefaultInterpolation=2300,zv.prototype.InterpolantFactoryMethodLinear=void 0,zv.prototype.InterpolantFactoryMethodSmooth=void 0;var Nj=class extends $u{};Nj.prototype.ValueTypeName="color";var bM=class extends $u{};bM.prototype.ValueTypeName="number";var Uwe=class extends yM{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){let r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t),l=e*s;for(let c=l+s;l!==c;l+=4)Di.slerpFlat(r,0,o,l-s,o,l,a);return r}},Zb=class extends $u{InterpolantFactoryMethodLinear(e){return new Uwe(this.times,this.values,this.getValueSize(),e)}};Zb.prototype.ValueTypeName="quaternion",Zb.prototype.DefaultInterpolation=2301,Zb.prototype.InterpolantFactoryMethodSmooth=void 0;var Uv=class extends $u{};Uv.prototype.ValueTypeName="string",Uv.prototype.ValueBufferType=Array,Uv.prototype.DefaultInterpolation=2300,Uv.prototype.InterpolantFactoryMethodLinear=void 0,Uv.prototype.InterpolantFactoryMethodSmooth=void 0;var _M=class extends $u{};_M.prototype.ValueTypeName="vector";var hT=class{constructor(e,t=-1,n,i=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=dd(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(Vwe(n[o]).scale(i));let r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){let t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push($u.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){let r=t.length,o=[];for(let s=0;s<r;s++){let a=[],l=[];a.push((s+r-1)%r,s,(s+1)%r),l.push(0,1,0);let c=Lwe(a);a=kj(a,1,c),l=kj(l,1,c),!i&&0===a[0]&&(a.push(r),l.push(l[0])),o.push(new bM(".morphTargetInfluences["+t[s].name+"]",a,l).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.name.match(r);if(c&&c.length>1){let u=c[1],d=i[u];d||(i[u]=d=[]),d.push(l)}}let o=[];for(let s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=function(c,u,d,h,f){if(0!==d.length){let v=[],y=[];Ij(d,v,y,h),0!==v.length&&f.push(new c(u,v,y))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode,a=e.length||-1,l=e.hierarchy||[];for(let c=0;c<l.length;c++){let u=l[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){let h,d={};for(h=0;h<u.length;h++)if(u[h].morphTargets)for(let f=0;f<u[h].morphTargets.length;f++)d[u[h].morphTargets[f]]=-1;for(let f in d){let v=[],y=[];for(let b=0;b!==u[h].morphTargets.length;++b){let w=u[h];v.push(w.time),y.push(w.morphTarget===f?1:0)}i.push(new bM(".morphTargetInfluence["+f+"]",v,y))}a=d.length*o}else{let d=".bones["+t[c].name+"]";n(_M,d+".position",u,"pos",i),n(Zb,d+".quaternion",u,"rot",i),n(_M,d+".scale",u,"scl",i)}}return 0===i.length?null:new this(r,a,i,s)}resetDuration(){let t=0;for(let n=0,i=this.tracks.length;n!==i;++n){let r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function Vwe(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=function jwe(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bM;case"vector":case"vector2":case"vector3":case"vector4":return _M;case"color":return Nj;case"quaternion":return Zb;case"bool":case"boolean":return zv;case"string":return Uv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){let n=[],i=[];Ij(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Fj={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Lj=class{constructor(e,t,n){let a,i=this,r=!1,o=0,s=0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){s++,!1===r&&void 0!==i.onStart&&i.onStart(c,o,s),r=!0},this.itemEnd=function(c){o++,void 0!==i.onProgress&&i.onProgress(c,o,s),o===s&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(c){void 0!==i.onError&&i.onError(c)},this.resolveURL=function(c){return a?a(c):c},this.setURLModifier=function(c){return a=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){let u=l.indexOf(c);return-1!==u&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,d=l.length;u<d;u+=2){let h=l[u],f=l[u+1];if(h.global&&(h.lastIndex=0),h.test(c))return f}return null}}},Hwe=new Lj,pT=class{constructor(e){this.manager=void 0!==e?e:Hwe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},ip={},Gwe=class extends Error{constructor(e,t){super(e),this.response=t}},fT=class extends pT{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let r=Fj.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==ip[e])return void ip[e].push({onLoad:t,onProgress:n,onError:i});ip[e]=[],ip[e].push({onLoad:t,onProgress:n,onError:i});let o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;let c=ip[e],u=l.body.getReader(),d=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),h=d?parseInt(d):0,f=0!==h,v=0,y=new ReadableStream({start(b){!function w(){u.read().then(({done:O,value:S})=>{if(O)b.close();else{v+=S.byteLength;let D=new ProgressEvent("progress",{lengthComputable:f,loaded:v,total:h});for(let V=0,Y=c.length;V<Y;V++){let q=c[V];q.onProgress&&q.onProgress(D)}b.enqueue(S),w()}})}()}});return new Response(y)}throw new Gwe(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(a){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>(new DOMParser).parseFromString(c,s));case"json":return l.json();default:if(void 0===s)return l.text();{let c=/charset="?([^;"\s]*)"?/i.exec(s),u=c&&c[1]?c[1].toLowerCase():void 0,d=new TextDecoder(u);return l.arrayBuffer().then(h=>d.decode(h))}}}).then(l=>{Fj.add(e,l);let c=ip[e];delete ip[e];for(let u=0,d=c.length;u<d;u++){let h=c[u];h.onLoad&&h.onLoad(l)}}).catch(l=>{let c=ip[e];if(void 0===c)throw this.manager.itemError(e),l;delete ip[e];for(let u=0,d=c.length;u<d;u++){let h=c[u];h.onError&&h.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},Jb=class extends so{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new si(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}},Wwe=class extends Jb{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(so.DEFAULT_UP),this.updateMatrix(),this.groundColor=new si(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},gT=new Wt,Bj=new re,zj=new re,mT=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ve(512,512),this.map=null,this.mapPass=null,this.matrix=new Wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new WA,this._frameExtents=new Ve(1,1),this._viewportCount=1,this._viewports=[new ji(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;Bj.setFromMatrixPosition(e.matrixWorld),t.position.copy(Bj),zj.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(zj),t.updateMatrixWorld(),gT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gT),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(gT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){let e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},qwe=class extends mT{constructor(){super(new $a(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,n=2*Rb*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},Ywe=class extends Jb{constructor(e,t,n=0,i=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(so.DEFAULT_UP),this.updateMatrix(),this.target=new so,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new qwe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},Uj=new Wt,e_=new re,vT=new re,Xwe=class extends mT{constructor(){super(new $a(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ve(4,2),this._viewportCount=6,this._viewports=[new ji(2,1,1,1),new ji(0,1,1,1),new ji(3,1,1,1),new ji(1,1,1,1),new ji(3,0,1,1),new ji(1,0,1,1)],this._cubeDirections=[new re(1,0,0),new re(-1,0,0),new re(0,0,1),new re(0,0,-1),new re(0,1,0),new re(0,-1,0)],this._cubeUps=[new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,0,1),new re(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),e_.setFromMatrixPosition(e.matrixWorld),n.position.copy(e_),vT.copy(n.position),vT.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(vT),n.updateMatrixWorld(),i.makeTranslation(-e_.x,-e_.y,-e_.z),Uj.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uj)}},$we=class extends Jb{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Xwe}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},Kwe=class extends mT{constructor(){super(new qA(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},Qwe=class extends Jb{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(so.DEFAULT_UP),this.updateMatrix(),this.target=new so,this.shadow=new Kwe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},jj=class extends ei{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},Vj=class extends pT{constructor(e){super(e)}load(e,t,n,i){let r=this,o=new fT(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)}parse(e){let t={},n={};function i(d,h){if(void 0!==t[h])return t[h];let f=d.interleavedBuffers[h],v=function r(d,h){if(void 0!==n[h])return n[h];let v=new Uint32Array(d.arrayBuffers[h]).buffer;return n[h]=v,v}(d,f.buffer),y=LC(f.type,v),b=new swe(y,f.stride);return b.uuid=f.uuid,t[h]=b,b}let o=e.isInstancedBufferGeometry?new jj:new ei,s=e.data.index;if(void 0!==s){let d=LC(s.type,s.array);o.setIndex(new pi(d,1))}let a=e.data.attributes;for(let d in a){let f,h=a[d];if(h.isInterleavedBufferAttribute){let v=i(e.data,h.data);f=new JA(v,h.itemSize,h.offset,h.normalized)}else{let v=LC(h.type,h.array);f=new(h.isInstancedBufferAttribute?dj:pi)(v,h.itemSize,h.normalized)}void 0!==h.name&&(f.name=h.name),void 0!==h.usage&&f.setUsage(h.usage),void 0!==h.updateRange&&(f.updateRange.offset=h.updateRange.offset,f.updateRange.count=h.updateRange.count),o.setAttribute(d,f)}let l=e.data.morphAttributes;if(l)for(let d in l){let h=l[d],f=[];for(let v=0,y=h.length;v<y;v++){let w,b=h[v];if(b.isInterleavedBufferAttribute){let O=i(e.data,b.data);w=new JA(O,b.itemSize,b.offset,b.normalized)}else{let O=LC(b.type,b.array);w=new pi(O,b.itemSize,b.normalized)}void 0!==b.name&&(w.name=b.name),f.push(w)}o.morphAttributes[d]=f}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);let c=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==c)for(let d=0,h=c.length;d!==h;++d){let f=c[d];o.addGroup(f.start,f.count,f.materialIndex)}let u=e.data.boundingSphere;if(void 0!==u){let d=new re;void 0!==u.center&&d.fromArray(u.center),o.boundingSphere=new $l(d,u.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}};function Hj(){return(typeof performance>"u"?Date:performance).now()}var Jwe=class{constructor(e,t,n){let i,r,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,i=this.valueSize,r=e*i+i,o=this.cumulativeWeight;if(0===o){for(let s=0;s!==i;++s)n[r+s]=n[s];o=t}else o+=t,this._mixBufferRegion(n,r,0,t/o,i);this.cumulativeWeight=o}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,t*this._origIndex,1-r,t),o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}}saveOriginalState(){let t=this.buffer,n=this.valueSize,i=n*this._origIndex;this.binding.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){Di.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){let o=this._workIndex*r;Di.multiplyQuaternionsFlat(e,o,e,t,e,n),Di.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,r){let o=1-i;for(let s=0;s!==r;++s){let a=t+s;e[a]=e[a]*o+e[n+s]*i}}_lerpAdditive(e,t,n,i,r){for(let o=0;o!==r;++o){let s=t+o;e[s]=e[s]+e[n+o]*i}}},yT="\\[\\]\\.:\\/",eCe=new RegExp("["+yT+"]","g"),bT="[^"+yT+"]",tCe="[^"+yT.replace("\\.","")+"]",nCe=/((?:WC+[\/:])*)/.source.replace("WC",bT),iCe=/(WCOD+)?/.source.replace("WCOD",tCe),rCe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bT),oCe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bT),sCe=new RegExp("^"+nCe+iCe+rCe+oCe+"$"),aCe=["material","materials","bones","map"],yo=class{constructor(e,t,n){this.path=t,this.parsedPath=n||yo.parseTrackName(t),this.node=yo.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new yo.Composite(e,t,n):new yo(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(eCe,"")}static parseTrackName(e){let t=sCe.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){let r=n.nodeName.substring(i+1);-1!==aCe.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){let n=function(r){for(let o=0;o<r.length;o++){let s=r[o];if(s.name===t||s.uuid===t)return s;let a=n(s.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=yo.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==l){if(void 0===e[l])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[l]}}let o=e[i];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e);let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};yo.Composite=class{constructor(e,t,n){let i=n||yo.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},yo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},yo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},yo.prototype.GetterByBindingType=[yo.prototype._getValue_direct,yo.prototype._getValue_array,yo.prototype._getValue_arrayElement,yo.prototype._getValue_toArray],yo.prototype.SetterByBindingTypeAndVersioning=[[yo.prototype._setValue_direct,yo.prototype._setValue_direct_setNeedsUpdate,yo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_array,yo.prototype._setValue_array_setNeedsUpdate,yo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_arrayElement,yo.prototype._setValue_arrayElement_setNeedsUpdate,yo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_fromArray,yo.prototype._setValue_fromArray_setNeedsUpdate,yo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var dCe=new Float32Array(1),uCe=class extends Ia{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName,c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==r;++u){let d=i[u],h=d.name,f=c[h];if(void 0!==f)++f.referenceCount,o[u]=f;else{if(f=o[u],void 0!==f){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,a,h));continue}f=new Jwe(yo.create(n,h,t&&t._propertyBindings[u].binding.parsedPath),d.ValueTypeName,d.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,a,h),o[u]=f}s[u].resultBuffer=f.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){let n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){let i=this._actions,r=this._actionsByClip,o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{let s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;let r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null,delete s.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){let r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){let i=this._bindingsByRootAndName,r=this._bindings,o=i[t];void 0===o&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new Rj(new Float32Array(2),new Float32Array(2),1,dCe),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){let i=t||this._root,r=i.uuid,o="string"==typeof e?hT.findByName(i,e):e,s=null!==o?o.uuid:e,a=this._actionsByClip[s],l=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==a){let u=a.actionByRoot[r];if(void 0!==u&&u.blendMode===n)return u;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;let c=new class{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;let r=t.tracks,o=r.length,s=new Array(o),a={endingStart:pv,endingEnd:pv};for(let l=0;l!==o;++l){let c=r[l].createInterpolant(null);s[l]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){let i=this._clip.duration,r=e._clip.duration,s=i/r;e.warp(1,r/i,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let i=this._mixer,r=i.time,o=this.timeScale,s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);let a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);let r=this._startTime;if(null!==r){let a=(e-r)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);let o=this._updateTime(t),s=this._updateWeight(e);if(s>0){let a=this._interpolants,l=this._propertyBindings;if(2501===this.blendMode)for(let c=0,u=a.length;c!==u;++c)a[c].evaluate(o),l[c].accumulateAdditive(s);else for(let c=0,u=a.length;c!==u;++c)a[c].evaluate(o),l[c].accumulate(i,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(null!==n){let i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,i=this.time+e,r=this._loopCount,o=n===gA;if(0===e)return-1===r?i:o&&1==(1&r)?t-i:i;if(n===cU){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<0){let s=Math.floor(i/t);i-=t*s,r+=Math.abs(s);let a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){let l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&1==(1&r))return t-i}return i}_setEndings(e,t,n){let i=this._interpolantSettings;n?(i.endingStart=fv,i.endingEnd=fv):(i.endingStart=e?this.zeroSlopeAtStart?fv:pv:2402,i.endingEnd=t?this.zeroSlopeAtEnd?fv:pv:2402)}_scheduleFading(e,t,n){let i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);let s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=n,this}}(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c}existingAction(e,t){let n=t||this._root,i=n.uuid,r="string"==typeof e?hT.findByName(n,e):e,s=this._actionsByClip[r?r.uuid:e];return void 0!==s&&s.actionByRoot[i]||null}stopAllAction(){let e=this._actions;for(let n=this._nActiveActions-1;n>=0;--n)e[n].stop();return this}update(e){let t=this._actions,n=this._nActiveActions,i=this.time+=e*=this.timeScale,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,o);let s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){let o=r.knownActions;for(let s=0,a=o.length;s!==a;++s){let l=o[s];this._deactivateAction(l);let c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let o in n){let a=n[o].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}let r=this._bindingsByRootAndName[t];if(void 0!==r)for(let o in r){let s=r[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){let n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},qt=class{constructor(e){this.value=e}clone(){return new qt(void 0===this.value.clone?this.value:this.value.clone())}},Gj=class{constructor(e,t,n=0,i=1/0){this.ray=new bv(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new RA,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return _T(e,this,n,t),n.sort(Wj),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)_T(e[i],this,n,t);return n.sort(Wj),n}};function Wj(e,t){return e.distance-t.distance}function _T(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){let r=e.children;for(let o=0,s=r.length;o<s;o++)_T(r[o],t,n,!0)}}var qj=class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Rs(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},Yj=new Ve,Xj=class{constructor(e=new Ve(1/0,1/0),t=new Ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=Yj.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Yj.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},$j=new re,xM=new re,hd=class{constructor(e=new re,t=new re){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){$j.subVectors(e,this.start),xM.subVectors(this.end,this.start);let n=xM.dot(xM),i=xM.dot($j)/n;return t&&(i=Rs(i,0,1)),i}closestPointToPoint(e,t,n){let i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},Kj=new re,hCe=class extends so{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let n=new ei,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){let l=o/a*Math.PI*2,c=s/a*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new Dn(i,3));let r=new wf({fog:!1,toneMapped:!1});this.cone=new qb(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Kj.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Kj),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},pCe=class extends yl{constructor(e,t,n){super(new uT(t,4,2),new Ub({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Qj=new re,wM=new re,Zj=new re,fCe=class extends so{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new ei;i.setAttribute("position",new Dn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let r=new wf({fog:!1,toneMapped:!1});this.lightPlane=new lM(i,r),this.add(this.lightPlane),i=new ei,i.setAttribute("position",new Dn([0,0,0,0,0,1],3)),this.targetLine=new lM(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Qj.setFromMatrixPosition(this.light.matrixWorld),wM.setFromMatrixPosition(this.light.target.matrixWorld),Zj.subVectors(wM,Qj),this.lightPlane.lookAt(wM),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(wM),this.targetLine.scale.z=Zj.length()}},CM=new re,is=new Dv,MM=class extends qb{constructor(e){let t=new ei,n=new wf({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={};function s(f,v){a(f),a(v)}function a(f){i.push(0,0,0),r.push(0,0,0),void 0===o[f]&&(o[f]=[]),o[f].push(i.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new Dn(i,3)),t.setAttribute("color",new Dn(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();let l=new si(16755200),c=new si(16711680),u=new si(43775),d=new si(16777215),h=new si(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,i,r){let o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,r.r,r.g,r.b),o.setXYZ(41,r.r,r.g,r.b),o.setXYZ(42,r.r,r.g,r.b),o.setXYZ(43,r.r,r.g,r.b),o.setXYZ(44,r.r,r.g,r.b),o.setXYZ(45,r.r,r.g,r.b),o.setXYZ(46,r.r,r.g,r.b),o.setXYZ(47,r.r,r.g,r.b),o.setXYZ(48,r.r,r.g,r.b),o.setXYZ(49,r.r,r.g,r.b),o.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap;is.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),bs("c",t,e,is,0,0,-1),bs("t",t,e,is,0,0,1),bs("n1",t,e,is,-1,-1,-1),bs("n2",t,e,is,1,-1,-1),bs("n3",t,e,is,-1,1,-1),bs("n4",t,e,is,1,1,-1),bs("f1",t,e,is,-1,-1,1),bs("f2",t,e,is,1,-1,1),bs("f3",t,e,is,-1,1,1),bs("f4",t,e,is,1,1,1),bs("u1",t,e,is,.7,1.1,-1),bs("u2",t,e,is,-.7,1.1,-1),bs("u3",t,e,is,0,2,-1),bs("cf1",t,e,is,-1,0,1),bs("cf2",t,e,is,1,0,1),bs("cf3",t,e,is,0,-1,1),bs("cf4",t,e,is,0,1,1),bs("cn1",t,e,is,-1,0,-1),bs("cn2",t,e,is,1,0,-1),bs("cn3",t,e,is,0,-1,-1),bs("cn4",t,e,is,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function bs(e,t,n,i,r,o,s){CM.set(r,o,s).unproject(i);let a=t[e];if(void 0!==a){let l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],CM.x,CM.y,CM.z)}}var PM=class extends qb{constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new ei;r.setIndex(new pi(n,1)),r.setAttribute("position",new Dn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new wf({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},gCe=class extends qb{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=new ei;i.setAttribute("position",new Dn(t,3)),i.setAttribute("color",new Dn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(i,new wf({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){let i=new si,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},rp=function mCe(){let e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){let c=l-127;c<-27?(i[l]=0,i[256|l]=32768,r[l]=24,r[256|l]=24):c<-14?(i[l]=1024>>-c-14,i[256|l]=1024>>-c-14|32768,r[l]=-c-1,r[256|l]=-c-1):c<=15?(i[l]=c+15<<10,i[256|l]=c+15<<10|32768,r[l]=13,r[256|l]=13):c<128?(i[l]=31744,i[256|l]=64512,r[l]=24,r[256|l]=24):(i[l]=31744,i[256|l]=64512,r[l]=13,r[256|l]=13)}let o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(8388608&c);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:s,offsetTable:a}}(),bCe=Object.freeze({__proto__:null,fromHalfFloat:function yCe(e){let t=e>>10;return rp.uint32View[0]=rp.mantissaTable[rp.offsetTable[t]+(1023&e)]+rp.exponentTable[t],rp.floatView[0]},toHalfFloat:function vCe(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Rs(e,-65504,65504),rp.floatView[0]=e;let t=rp.uint32View[0],n=t>>23&511;return rp.baseTable[n]+((8388607&t)>>rp.shiftTable[n])}});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:dv}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=dv);var xT=Symbol("target"),Jj=Symbol("unsubscribe");function wT(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}var Ku=Array.isArray;function CT(e){return"symbol"==typeof e}var xCe={after:(e,t)=>Ku(e)?e.slice(t.length):""===t?e:e.slice(t.length+1),concat:(e,t)=>Ku(e)?(e=[...e],t&&e.push(t),e):t&&void 0!==t.toString?(""!==e&&(e+="."),CT(t)?e+t.toString():e+t):e,initial:e=>{if(Ku(e))return e.slice(0,-1);if(""===e)return e;let t=e.lastIndexOf(".");return-1===t?"":e.slice(0,t)},last:e=>{if(Ku(e))return e[e.length-1]||"";if(""===e)return e;let t=e.lastIndexOf(".");return-1===t?e:e.slice(t+1)},walk:(e,t)=>{if(Ku(e))for(let n of e)t(n);else if(""!==e){let n=0,i=e.indexOf(".");if(-1===i)t(e);else for(;n<e.length;)-1===i&&(i=e.length),t(e.slice(n,i)),n=i+1,i=e.indexOf(".",n)}},get(e,t){return this.walk(t,n=>{e&&(e=e[n])}),e}},pd=xCe;function eV(e,t,n){return e.isUnsubscribed||t.ignoreSymbols&&CT(n)||t.ignoreUnderscores&&"_"===n.charAt(0)||"ignoreKeys"in t&&t.ignoreKeys.includes(n)}function MT(e){return"[object Object]"===toString.call(e)}function OM(){return!0}function jv(e,t){return e.length!==t.length||e.some((n,i)=>t[i]!==n)}var tV=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),PCe=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),nV={push:OM,pop:OM,shift:OM,unshift:OM,copyWithin:jv,reverse:jv,sort:jv,splice:jv,flat:jv,fill:jv},OCe=new Set([...tV,...PCe,...Object.keys(nV)]);function SM(e,t){if(e.size!==t.size)return!0;for(let n of e)if(!t.has(n))return!0;return!1}var iV=["keys","values","entries"],rV=new Set(["has","toString"]),oV={add:SM,clear:SM,delete:SM,forEach:SM},SCe=new Set([...rV,...Object.keys(oV),...iV]);function EM(e,t){if(e.size!==t.size)return!0;let n;for(let[i,r]of e)if(n=t.get(i),n!==r||void 0===n&&!t.has(i))return!0;return!1}var ECe=new Set([...rV,"get"]),sV={set:EM,clear:EM,delete:EM,forEach:EM},DCe=new Set([...ECe,...Object.keys(sV),...iV]),Pf=class{constructor(e,t,n,i){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=i,this._changes=i?[]:null,this.clone=void 0===t?e:this._shallowClone(e)}static isHandledMethod(e){return tV.has(e)}_shallowClone(e){let t=e;if(MT(e))t={...e};else if(Ku(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(n=>this._shallowClone(n)));else if(e instanceof Map){t=new Map;for(let[n,i]of e.entries())t.set(n,this._shallowClone(i))}return this._clonedCache.add(t),t}preferredThisArg(e,t,n,i){return e?(Ku(i)?this._onIsChanged=nV[t]:i instanceof Set?this._onIsChanged=oV[t]:i instanceof Map&&(this._onIsChanged=sV[t]),i):n}update(e,t,n){let i=pd.after(e,this._path);if("length"!==t){let r=this.clone;pd.walk(i,o=>{r&&r[o]&&(this._clonedCache.has(r[o])||(r[o]=this._shallowClone(r[o])),r=r[o])}),this._hasOnValidate&&this._changes.push({path:i,property:t,previous:n}),r&&r[t]&&(r[t]=n)}this._isChanged=!0}undo(e){let t;for(let n=this._changes.length-1;-1!==n;n--)t=this._changes[n],pd.get(e,t.path)[t.property]=t.previous}isChanged(e){return void 0===this._onIsChanged?this._isChanged:this._onIsChanged(this.clone,e)}},aV=class extends Pf{static isHandledMethod(e){return OCe.has(e)}},ACe=class extends Pf{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},lV=class extends Pf{static isHandledMethod(e){return SCe.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},cV=class extends Pf{static isHandledMethod(e){return DCe.has(e)}undo(e){for(let[t,n]of this.clone.entries())e.set(t,n);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},TCe=class extends Pf{constructor(e,t,n,i){super(void 0,t,n,i),this._arg1=n[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},kCe=class extends Pf{constructor(e,t,n,i){super(void 0,t,n,i),this._weakKey=n[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},Vv=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return MT(e)||Ku(e)||wT(e)}static isHandledMethod(e,t){return MT(e)?Pf.isHandledMethod(t):Ku(e)?aV.isHandledMethod(t):e instanceof Set?lV.isHandledMethod(t):e instanceof Map?cV.isHandledMethod(t):wT(e)}get isCloning(){return this._stack.length>0}start(e,t,n){let i=Pf;Ku(e)?i=aV:e instanceof Date?i=ACe:e instanceof Set?i=lV:e instanceof Map?i=cV:e instanceof WeakSet?i=TCe:e instanceof WeakMap&&(i=kCe),this._stack.push(new i(e,t,n,this._hasOnValidate))}update(e,t,n){this._stack[this._stack.length-1].update(e,t,n)}preferredThisArg(e,t,n){let{name:i}=e,r=Vv.isHandledMethod(n,i);return this._stack[this._stack.length-1].preferredThisArg(r,i,t,n)}isChanged(e,t,n){return this._stack[this._stack.length-1].isChanged(e,t,n)}undo(e){void 0!==this._previousClone&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},ICe={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},PT=(e,t,n={})=>{n={...ICe,...n};let i=Symbol("ProxyTarget"),{equals:r,isShallow:o,ignoreDetached:s,details:a}=n,l=new class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return void 0===this._descriptorCache&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let n=this._getProperties(e),i=n[t];return void 0===i&&(i=Reflect.getOwnPropertyDescriptor(e,t),n[t]=i),i}getProxy(e,t,n,i){if(this.isUnsubscribed)return e;let r=e[i],o=r||e;this._pathCache.set(o,t);let s=this._proxyCache.get(o);return void 0===s&&(s=void 0===r?new Proxy(e,n):e,this._proxyCache.set(o,s)),s}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,pd.get(t,this.getPath(e)))}defineProperty(e,t,n){return!!Reflect.defineProperty(e,t,n)&&(this.isUnsubscribed||(this._getProperties(e)[t]=n),!0)}setProperty(e,t,n,i,r){if(!this._equals(r,n)||!(t in e)){let o=this._getOwnPropertyDescriptor(e,t);return void 0!==o&&"set"in o?Reflect.set(e,t,n,i):Reflect.set(e,t,n)}return!0}deleteProperty(e,t,n){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let i=this._getDescriptorCache().get(e);i&&(delete i[t],this._pathCache.delete(n))}return!0}return!1}isSameDescriptor(e,t,n){let i=this._getOwnPropertyDescriptor(t,n);return void 0!==e&&void 0!==i&&Object.is(e.value,i.value)&&(e.writable||!1)===(i.writable||!1)&&(e.enumerable||!1)===(i.enumerable||!1)&&(e.configurable||!1)===(i.configurable||!1)&&e.get===i.get&&e.set===i.set}isGetInvariant(e,t){let n=this._getOwnPropertyDescriptor(e,t);return void 0!==n&&!0!==n.configurable&&!0!==n.writable}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}}(r),c="function"==typeof n.onValidate,u=new Vv(c),d=(O,S,D,V,Y)=>!c||u.isCloning||!0===n.onValidate(pd.concat(l.getPath(O),S),D,V,Y),h=(O,S,D,V)=>{!eV(l,n,S)&&(!s||!l.isDetached(O,e))&&f(l.getPath(O),S,D,V)},f=(O,S,D,V,Y)=>{u.isCloning?u.update(O,S,V):t(pd.concat(O,S),D,V,Y)},v=O=>O&&(O[i]||O),y=(O,S,D,V)=>function _Ce(e){return("object"==typeof e?null===e:"function"!=typeof e)||e instanceof RegExp}(O)||"constructor"===D||o&&!Vv.isHandledMethod(S,D)||eV(l,n,D)||l.isGetInvariant(S,D)||s&&l.isDetached(S,e)?O:(void 0===V&&(V=l.getPath(S)),l.getProxy(O,pd.concat(V,D),b,i)),b={get(O,S,D){if(CT(S)){if(S===i||S===xT)return O;if(S===Jj&&!l.isUnsubscribed&&0===l.getPath(O).length)return l.unsubscribe(),O}let V=wT(O)?Reflect.get(O,S):Reflect.get(O,S,D);return y(V,O,S)},set(O,S,D,V){D=v(D);let Y=O[i]||O,q=Y[S];if(r(q,D)&&S in O)return!0;let K=d(O,S,D,q);return K&&l.setProperty(Y,S,D,V,q)?(h(O,S,O[S],q),!0):!K},defineProperty(O,S,D){if(!l.isSameDescriptor(D,O,S)){let V=O[S];d(O,S,D.value,V)&&l.defineProperty(O,S,D,V)&&h(O,S,D.value,V)}return!0},deleteProperty(O,S){if(!Reflect.has(O,S))return!0;let D=Reflect.get(O,S),V=d(O,S,void 0,D);return V&&l.deleteProperty(O,S,D)?(h(O,S,void 0,D),!0):!V},apply(O,S,D){let V=S[i]||S;if(l.isUnsubscribed)return Reflect.apply(O,V,D);if((!1===a||!0!==a&&!a.includes(O.name))&&Vv.isHandledType(V)){let Y=pd.initial(l.getPath(O)),q=Vv.isHandledMethod(V,O.name);u.start(V,Y,D);let K=Reflect.apply(O,u.preferredThisArg(O,S,V),q?D.map(ae=>v(ae)):D),te=u.isChanged(V,r),ie=u.stop();if(Vv.isHandledType(K)&&q&&(S instanceof Map&&"get"===O.name&&(Y=pd.concat(Y,D[0])),K=l.getProxy(K,Y,b)),te){let ae={name:O.name,args:D,result:K},pe=u.isCloning?pd.initial(Y):Y,fe=u.isCloning?pd.last(Y):"";d(pd.get(e,pe),fe,V,ie,ae)?f(pe,fe,V,ie,ae):u.undo(V)}return(S instanceof Map||S instanceof Set)&&function wCe(e){return"object"==typeof e&&"function"==typeof e.next}(K)?function CCe(e,t,n,i,r){let o=e.next;if("entries"===t.name)e.next=function(){let s=o.call(this);return!1===s.done&&(s.value[0]=r(s.value[0],t,s.value[0],i),s.value[1]=r(s.value[1],t,s.value[0],i)),s};else if("values"===t.name){let s=n[xT].keys();e.next=function(){let a=o.call(this);return!1===a.done&&(a.value=r(a.value,t,s.next().value,i)),a}}else e.next=function(){let s=o.call(this);return!1===s.done&&(s.value=r(s.value,t,s.value,i)),s};return e}(K,O,S,Y,y):K}return Reflect.apply(O,S,D)}},w=l.getProxy(e,n.pathAsArray?[]:"",b);return t=t.bind(w),c&&(n.onValidate=n.onValidate.bind(w)),w};PT.target=e=>e&&e[xT]||e,PT.unsubscribe=e=>e[Jj]||e;var e,dV=PT,uV="object"==typeof global&&global&&global.Object===Object&&global,NCe="object"==typeof self&&self&&self.Object===Object&&self,Qd=uV||NCe||Function("return this")(),fd=Qd.Symbol,hV=Object.prototype,BCe=hV.hasOwnProperty,zCe=hV.toString,n_=fd?fd.toStringTag:void 0,HCe=Object.prototype.toString,pV=fd?fd.toStringTag:void 0,ym=function XCe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":pV&&pV in Object(e)?function UCe(e){var t=BCe.call(e,n_),n=e[n_];try{e[n_]=void 0;var i=!0}catch{}var r=zCe.call(e);return i&&(t?e[n_]=n:delete e[n_]),r}(e):function GCe(e){return HCe.call(e)}(e)},op=function $Ce(e){return null!=e&&"object"==typeof e},DM=function QCe(e){return"symbol"==typeof e||op(e)&&"[object Symbol]"==ym(e)},fV=function ZCe(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},Qu=Array.isArray,gV=fd?fd.prototype:void 0,mV=gV?gV.toString:void 0,tMe=function vV(e){if("string"==typeof e)return e;if(Qu(e))return fV(e,vV)+"";if(DM(e))return mV?mV.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},nMe=/\s/,oMe=/^\s+/,aMe=function sMe(e){return e&&e.slice(0,function iMe(e){for(var t=e.length;t--&&nMe.test(e.charAt(t)););return t}(e)+1).replace(oMe,"")},Zd=function lMe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},cMe=/^[-+]0x[0-9a-f]+$/i,dMe=/^0b[01]+$/i,uMe=/^0o[0-7]+$/i,hMe=parseInt,bV=function pMe(e){if("number"==typeof e)return e;if(DM(e))return NaN;if(Zd(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zd(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=aMe(e);var n=dMe.test(e);return n||uMe.test(e)?hMe(e.slice(2),n?2:8):cMe.test(e)?NaN:+e},_V=function _Me(e){if(!Zd(e))return!1;var t=ym(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},xMe=Qd["__core-js_shared__"],xV=(e=/[^.]+$/.exec(xMe&&xMe.keys&&xMe.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",PMe=Function.prototype.toString,bm=function OMe(e){if(null!=e){try{return PMe.call(e)}catch{}try{return e+""}catch{}}return""},EMe=/^\[object .+?Constructor\]$/,IMe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),NMe=function RMe(e){return!(!Zd(e)||function wMe(e){return!!xV&&xV in e}(e))&&(_V(e)?IMe:EMe).test(bm(e))},_m=function BMe(e,t){var n=function FMe(e,t){return e?.[t]}(e,t);return NMe(n)?n:void 0},ST=_m(Qd,"WeakMap"),wV=Object.create,UMe=function(){function e(){}return function(t){if(!Zd(t))return{};if(wV)return wV(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),jMe=UMe,HMe=function VMe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},qMe=800,YMe=16,XMe=Date.now,ZMe=function QMe(e){return function(){return e}},JMe=function(){try{var e=_m(Object,"defineProperty");return e({},"",{}),e}catch{}}(),AM=JMe,ePe=AM?function(e,t){return AM(e,"toString",{configurable:!0,enumerable:!1,value:ZMe(t),writable:!0})}:function fMe(e){return e},iPe=function $Me(e){var t=0,n=0;return function(){var i=XMe(),r=YMe-(i-n);if(n=i,r>0){if(++t>=qMe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ePe),aPe=/^(?:0|[1-9]\d*)$/,ET=function lPe(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&("number"==n||"symbol"!=n&&aPe.test(e))&&e>-1&&e%1==0&&e<t},CV=function cPe(e,t,n){"__proto__"==t&&AM?AM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},DT=function dPe(e,t){return e===t||e!=e&&t!=t},hPe=Object.prototype.hasOwnProperty,AT=function pPe(e,t,n){var i=e[t];(!hPe.call(e,t)||!DT(i,n)||void 0===n&&!(t in e))&&CV(e,t,n)},i_=function fPe(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?CV(n,a,l):AT(n,a,l)}return n},MV=Math.max,TT=function yPe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},PV=function bPe(e){return null!=e&&TT(e.length)&&!_V(e)},_Pe=Object.prototype,kT=function xPe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_Pe)},OV=function PPe(e){return op(e)&&"[object Arguments]"==ym(e)},SV=Object.prototype,OPe=SV.hasOwnProperty,SPe=SV.propertyIsEnumerable,EPe=OV(function(){return arguments}())?OV:function(e){return op(e)&&OPe.call(e,"callee")&&!SPe.call(e,"callee")},IT=EPe,EV="object"==typeof exports&&exports&&!exports.nodeType&&exports,DV=EV&&"object"==typeof module&&module&&!module.nodeType&&module,AV=DV&&DV.exports===EV?Qd.Buffer:void 0,TM=(AV?AV.isBuffer:void 0)||function DPe(){return!1},Lo={};Lo["[object Float32Array]"]=Lo["[object Float64Array]"]=Lo["[object Int8Array]"]=Lo["[object Int16Array]"]=Lo["[object Int32Array]"]=Lo["[object Uint8Array]"]=Lo["[object Uint8ClampedArray]"]=Lo["[object Uint16Array]"]=Lo["[object Uint32Array]"]=!0,Lo["[object Arguments]"]=Lo["[object Array]"]=Lo["[object ArrayBuffer]"]=Lo["[object Boolean]"]=Lo["[object DataView]"]=Lo["[object Date]"]=Lo["[object Error]"]=Lo["[object Function]"]=Lo["[object Map]"]=Lo["[object Number]"]=Lo["[object Object]"]=Lo["[object RegExp]"]=Lo["[object Set]"]=Lo["[object String]"]=Lo["[object WeakMap]"]=!1;var RT=function s2e(e){return function(t){return e(t)}},TV="object"==typeof exports&&exports&&!exports.nodeType&&exports,r_=TV&&"object"==typeof module&&module&&!module.nodeType&&module,NT=r_&&r_.exports===TV&&uV.process,Hv=function(){try{return r_&&r_.require&&r_.require("util").types||NT&&NT.binding&&NT.binding("util")}catch{}}(),kV=Hv&&Hv.isTypedArray,IV=kV?RT(kV):function r2e(e){return op(e)&&TT(e.length)&&!!Lo[ym(e)]},u2e=Object.prototype.hasOwnProperty,RV=function h2e(e,t){var n=Qu(e),i=!n&&IT(e),r=!n&&!i&&TM(e),o=!n&&!i&&!r&&IV(e),s=n||i||r||o,a=s?function wPe(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)(t||u2e.call(e,c))&&(!s||!("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ET(c,l)))&&a.push(c);return a},NV=function p2e(e,t){return function(n){return e(t(n))}},g2e=NV(Object.keys,Object),v2e=Object.prototype.hasOwnProperty,FT=function _2e(e){return PV(e)?RV(e):function y2e(e){if(!kT(e))return g2e(e);var t=[];for(var n in Object(e))v2e.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},M2e=Object.prototype.hasOwnProperty,O2e=function P2e(e){if(!Zd(e))return function x2e(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=kT(e),n=[];for(var i in e)"constructor"==i&&(t||!M2e.call(e,i))||n.push(i);return n},xm=function S2e(e){return PV(e)?RV(e,!0):O2e(e)},E2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,D2e=/^\w*$/,o_=_m(Object,"create"),z2e=Object.prototype.hasOwnProperty,H2e=Object.prototype.hasOwnProperty;function Gv(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Gv.prototype.clear=function I2e(){this.__data__=o_?o_(null):{},this.size=0},Gv.prototype.delete=function N2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gv.prototype.get=function U2e(e){var t=this.__data__;if(o_){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return z2e.call(t,e)?t[e]:void 0},Gv.prototype.has=function G2e(e){var t=this.__data__;return o_?void 0!==t[e]:H2e.call(t,e)},Gv.prototype.set=function Y2e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o_&&void 0===t?"__lodash_hash_undefined__":t,this};var FV=Gv,kM=function Q2e(e,t){for(var n=e.length;n--;)if(DT(e[n][0],t))return n;return-1},J2e=Array.prototype.splice;function Wv(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Wv.prototype.clear=function $2e(){this.__data__=[],this.size=0},Wv.prototype.delete=function eOe(e){var t=this.__data__,n=kM(t,e);return!(n<0||(n==t.length-1?t.pop():J2e.call(t,n,1),--this.size,0))},Wv.prototype.get=function nOe(e){var t=this.__data__,n=kM(t,e);return n<0?void 0:t[n][1]},Wv.prototype.has=function rOe(e){return kM(this.__data__,e)>-1},Wv.prototype.set=function sOe(e,t){var n=this.__data__,i=kM(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var IM=Wv,s_=_m(Qd,"Map"),RM=function pOe(e,t){var n=e.__data__;return function uOe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function qv(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}qv.prototype.clear=function cOe(){this.size=0,this.__data__={hash:new FV,map:new(s_||IM),string:new FV}},qv.prototype.delete=function fOe(e){var t=RM(this,e).delete(e);return this.size-=t?1:0,t},qv.prototype.get=function mOe(e){return RM(this,e).get(e)},qv.prototype.has=function yOe(e){return RM(this,e).has(e)},qv.prototype.set=function _Oe(e,t){var n=RM(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var NM=qv,wOe="Expected a function";function LT(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(wOe);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(LT.Cache||NM),n}LT.Cache=NM;var COe=LT,SOe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EOe=/\\(\\)?/g,DOe=function POe(e){var t=COe(e,function(i){return 500===n.size&&n.clear(),i}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(SOe,function(n,i,r,o){t.push(r?o.replace(EOe,"$1"):i||n)}),t}),AOe=DOe,kOe=function TOe(e){return null==e?"":tMe(e)},Yv=function IOe(e,t){return Qu(e)?e:function A2e(e,t){if(Qu(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!DM(e))||D2e.test(e)||!E2e.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:AOe(kOe(e))},FM=function NOe(e){if("string"==typeof e||DM(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},LV=function FOe(e,t){for(var n=0,i=(t=Yv(t,e)).length;null!=e&&n<i;)e=e[FM(t[n++])];return n&&n==i?e:void 0},BT=function LOe(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},BV=fd?fd.isConcatSpreadable:void 0,zOe=function BOe(e){return Qu(e)||IT(e)||!!(BV&&e&&e[BV])},UOe=function zV(e,t,n,i,r){var o=-1,s=e.length;for(n||(n=zOe),r||(r=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?zV(a,t-1,n,i,r):BT(r,a):i||(r[r.length]=a)}return r},VOe=function jOe(e){return null!=e&&e.length?UOe(e,1):[]},UV=function HOe(e){return iPe(function gPe(e,t,n){return t=MV(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=MV(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),HMe(e,this,a)}}(e,void 0,VOe),e+"")},zT=NV(Object.getPrototypeOf,Object),jV=Function.prototype.toString,XOe=Object.prototype.hasOwnProperty,$Oe=jV.call(Object);function Xv(e){var t=this.__data__=new IM(e);this.size=t.size}Xv.prototype.clear=function eSe(){this.__data__=new IM,this.size=0},Xv.prototype.delete=function nSe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xv.prototype.get=function rSe(e){return this.__data__.get(e)},Xv.prototype.has=function sSe(e){return this.__data__.has(e)},Xv.prototype.set=function cSe(e,t){var n=this.__data__;if(n instanceof IM){var i=n.__data__;if(!s_||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new NM(i)}return n.set(e,t),this.size=n.size,this};var LM=Xv,VV="object"==typeof exports&&exports&&!exports.nodeType&&exports,HV=VV&&"object"==typeof module&&module&&!module.nodeType&&module,GV=HV&&HV.exports===VV?Qd.Buffer:void 0,WV=GV?GV.allocUnsafe:void 0,qV=function _Se(){return[]},wSe=Object.prototype.propertyIsEnumerable,YV=Object.getOwnPropertySymbols,CSe=YV?function(e){return null==e?[]:(e=Object(e),function ySe(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(YV(e),function(t){return wSe.call(e,t)}))}:qV,UT=CSe,SSe=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)BT(t,UT(e)),e=zT(e);return t}:qV,XV=SSe,$V=function ASe(e,t,n){var i=t(e);return Qu(e)?i:BT(i,n(e))},jT=function TSe(e){return $V(e,FT,UT)},KV=function kSe(e){return $V(e,xm,XV)},VT=_m(Qd,"DataView"),HT=_m(Qd,"Promise"),GT=_m(Qd,"Set"),QV="[object Map]",ZV="[object Promise]",JV="[object Set]",eH="[object WeakMap]",tH="[object DataView]",LSe=bm(VT),BSe=bm(s_),zSe=bm(HT),USe=bm(GT),jSe=bm(ST),wm=ym;(VT&&wm(new VT(new ArrayBuffer(1)))!=tH||s_&&wm(new s_)!=QV||HT&&wm(HT.resolve())!=ZV||GT&&wm(new GT)!=JV||ST&&wm(new ST)!=eH)&&(wm=function(e){var t=ym(e),n="[object Object]"==t?e.constructor:void 0,i=n?bm(n):"";if(i)switch(i){case LSe:return tH;case BSe:return QV;case zSe:return ZV;case USe:return JV;case jSe:return eH}return t});var a_=wm,HSe=Object.prototype.hasOwnProperty,BM=Qd.Uint8Array,WT=function YSe(e){var t=new e.constructor(e.byteLength);return new BM(t).set(new BM(e)),t},KSe=/\w*$/,nH=fd?fd.prototype:void 0,iH=nH?nH.valueOf:void 0,CEe=function wEe(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return WT(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function XSe(e,t){var n=t?WT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function tEe(e,t){var n=t?WT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function QSe(e){var t=new e.constructor(e.source,KSe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function JSe(e){return iH?Object(iH.call(e)):{}}(e)}},rH=Hv&&Hv.isMap,AEe=rH?RT(rH):function SEe(e){return op(e)&&"[object Map]"==a_(e)},oH=Hv&&Hv.isSet,NEe=oH?RT(oH):function kEe(e){return op(e)&&"[object Set]"==a_(e)},sH="[object Arguments]",aH="[object Function]",lH="[object Object]",Do={};Do[sH]=Do["[object Array]"]=Do["[object ArrayBuffer]"]=Do["[object DataView]"]=Do["[object Boolean]"]=Do["[object Date]"]=Do["[object Float32Array]"]=Do["[object Float64Array]"]=Do["[object Int8Array]"]=Do["[object Int16Array]"]=Do["[object Int32Array]"]=Do["[object Map]"]=Do["[object Number]"]=Do[lH]=Do["[object RegExp]"]=Do["[object Set]"]=Do["[object String]"]=Do["[object Symbol]"]=Do["[object Uint8Array]"]=Do["[object Uint8ClampedArray]"]=Do["[object Uint16Array]"]=Do["[object Uint32Array]"]=!0,Do["[object Error]"]=Do[aH]=Do["[object WeakMap]"]=!1;var cH=function zM(e,t,n,i,r,o){var s,a=1&t,l=2&t,c=4&t;if(n&&(s=r?n(e,i,r,o):n(e)),void 0!==s)return s;if(!Zd(e))return e;var u=Qu(e);if(u){if(s=function GSe(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&HSe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return function GMe(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e,s)}else{var d=a_(e),h=d==aH||"[object GeneratorFunction]"==d;if(TM(e))return function mSe(e,t){if(t)return e.slice();var n=e.length,i=WV?WV(n):new e.constructor(n);return e.copy(i),i}(e,a);if(d==lH||d==sH||h&&!r){if(s=l||h?{}:function MEe(e){return"function"!=typeof e.constructor||kT(e)?{}:jMe(zT(e))}(e),!a)return l?function ESe(e,t){return i_(e,XV(e),t)}(e,function pSe(e,t){return e&&i_(t,xm(t),e)}(s,e)):function MSe(e,t){return i_(e,UT(e),t)}(e,function uSe(e,t){return e&&i_(t,FT(t),e)}(s,e))}else{if(!Do[d])return r?e:{};s=CEe(e,d,a)}}o||(o=new LM);var f=o.get(e);if(f)return f;o.set(e,s),NEe(e)?e.forEach(function(b){s.add(zM(b,t,n,b,e,o))}):AEe(e)&&e.forEach(function(b,w){s.set(w,zM(b,t,n,w,e,o))});var y=u?void 0:(c?l?KV:jT:l?xm:FT)(e);return function rPe(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(y||e,function(b,w){y&&(b=e[w=b]),AT(s,w,zM(b,t,n,w,e,o))}),s},UM=function dDe(e){return cH(e,5)};function jM(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new NM;++t<n;)this.add(e[t])}jM.prototype.add=jM.prototype.push=function hDe(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},jM.prototype.has=function fDe(e){return this.__data__.has(e)};var mDe=jM,yDe=function vDe(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},_De=function bDe(e,t){return e.has(t)},dH=function CDe(e,t,n,i,r,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new mDe:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var v=e[d],y=t[d];if(i)var b=s?i(y,v,d,t,e,o):i(v,y,d,e,t,o);if(void 0!==b){if(b)continue;h=!1;break}if(f){if(!yDe(t,function(w,O){if(!_De(f,O)&&(v===w||r(v,w,n,i,o)))return f.push(O)})){h=!1;break}}else if(v!==y&&!r(v,y,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h},PDe=function MDe(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n},SDe=function ODe(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n},uH=fd?fd.prototype:void 0,qT=uH?uH.valueOf:void 0,WDe=Object.prototype.hasOwnProperty,hH="[object Arguments]",pH="[object Array]",VM="[object Object]",fH=Object.prototype.hasOwnProperty,QDe=function KDe(e,t,n,i,r,o){var s=Qu(e),a=Qu(t),l=s?pH:a_(e),c=a?pH:a_(t),u=(l=l==hH?VM:l)==VM,d=(c=c==hH?VM:c)==VM,h=l==c;if(h&&TM(e)){if(!TM(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new LM),s||IV(e)?dH(e,t,n,i,r,o):function jDe(e,t,n,i,r,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new BM(e),new BM(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return DT(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=PDe;case"[object Set]":if(a||(a=SDe),e.size!=t.size&&!(1&i))return!1;var c=s.get(e);if(c)return c==t;i|=2,s.set(e,t);var u=dH(a(e),a(t),i,r,o,s);return s.delete(e),u;case"[object Symbol]":if(qT)return qT.call(e)==qT.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var f=u&&fH.call(e,"__wrapped__"),v=d&&fH.call(t,"__wrapped__");if(f||v){var y=f?e.value():e,b=v?t.value():t;return o||(o=new LM),r(y,b,n,i,o)}}return!!h&&(o||(o=new LM),function qDe(e,t,n,i,r,o){var s=1&n,a=jT(e),l=a.length;if(l!=jT(t).length&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:WDe.call(t,h)))return!1}var f=o.get(e),v=o.get(t);if(f&&v)return f==t&&v==e;var y=!0;o.set(e,t),o.set(t,e);for(var b=s;++d<l;){var w=e[h=a[d]],O=t[h];if(i)var S=s?i(O,w,h,t,e,o):i(w,O,h,e,t,o);if(!(void 0===S?w===O||r(w,O,n,i,o):S)){y=!1;break}b||(b="constructor"==h)}if(y&&!b){var D=e.constructor,V=t.constructor;D!=V&&"constructor"in e&&"constructor"in t&&!("function"==typeof D&&D instanceof D&&"function"==typeof V&&V instanceof V)&&(y=!1)}return o.delete(e),o.delete(t),y}(e,t,n,i,r,o))},ZDe=function gH(e,t,n,i,r){return e===t||(null==e||null==t||!op(e)&&!op(t)?e!=e&&t!=t:QDe(e,t,n,i,gH,r))},eAe=function JDe(e,t){return null!=e&&t in Object(e)},rAe=function iAe(e,t){return null!=e&&function tAe(e,t,n){for(var i=-1,r=(t=Yv(t,e)).length,o=!1;++i<r;){var s=FM(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&TT(r)&&ET(s,r)&&(Qu(e)||IT(e))}(e,t,eAe)},YT=function(){return Qd.Date.now()},aAe=Math.max,lAe=Math.min,XT=function cAe(e,t,n){var i,r,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(Y){var q=i,K=r;return i=r=void 0,c=Y,s=e.apply(K,q)}function b(Y){var q=Y-l;return void 0===l||q>=t||q<0||d&&Y-c>=o}function w(){var Y=YT();if(b(Y))return O(Y);a=setTimeout(w,function y(Y){var te=t-(Y-l);return d?lAe(te,o-(Y-c)):te}(Y))}function O(Y){return a=void 0,h&&i?f(Y):(i=r=void 0,s)}function V(){var Y=YT(),q=b(Y);if(i=arguments,r=this,l=Y,q){if(void 0===a)return function v(Y){return c=Y,a=setTimeout(w,t),u?f(Y):s}(l);if(d)return clearTimeout(a),a=setTimeout(w,t),f(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=bV(t)||0,Zd(n)&&(u=!!n.leading,o=(d="maxWait"in n)?aAe(bV(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),V.cancel=function S(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},V.flush=function D(){return void 0===a?s:O(YT())},V},pAe=function hAe(e,t){return t.length<2?e:LV(e,function ZOe(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(t,0,-1))},mH=function fAe(e,t){return ZDe(e,t)},mAe=function gAe(e,t){return t=Yv(t,e),null==(e=pAe(e,t))||delete e[FM(function dAe(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},yAe=function vAe(e){return function KOe(e){if(!op(e)||"[object Object]"!=ym(e))return!1;var t=zT(e);if(null===t)return!0;var n=XOe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&jV.call(n)==$Oe}(e)?void 0:e},wAe=UV(function(e,t){var n={};if(null==e)return n;var i=!1;t=fV(t,function(o){return o=Yv(o,e),i||(i=o.length>1),o}),i_(e,KV(e),n),i&&(n=cH(n,7,yAe));for(var r=t.length;r--;)mAe(n,t[r]);return n}),$T=wAe,MAe=function CAe(e,t,n,i){if(!Zd(e))return e;for(var r=-1,o=(t=Yv(t,e)).length,s=o-1,a=e;null!=a&&++r<o;){var l=FM(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=s){var u=a[l];void 0===(c=i?i(u,l,a):void 0)&&(c=Zd(u)?u:ET(t[r+1])?[]:{})}AT(a,l,c),a=a[l]}return e},EAe=function SAe(e,t){return function PAe(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=LV(e,s);n(a,s)&&MAe(o,Yv(s,e),a)}return o}(e,t,function(n,i){return rAe(e,i)})},DAe=UV(function(e,t){return null==e?{}:EAe(e,t)}),sp=DAe;function ap(e,t){return Object.setPrototypeOf(e,t),e}!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().includes(" electron/")&&(()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");e?window.localStorage.setItem("desktop-app-version",e):window.localStorage.getItem("desktop-app-version")})();var HM=!(typeof window>"u")&&window.navigator.platform.toUpperCase().includes("MAC"),KT=!(typeof window>"u")&&(/iPad|iPhone|iPod/.test(window.navigator.userAgent)||HM&&"ontouchend"in document),HAe=!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,kc=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0),vH=(()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)})(),yH=Number((()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]})());function bH(e){return Array.isArray(e)?e:[e]}function GM(e){return HM?e.metaKey:e.ctrlKey}var fi=[],WM={},l_={},qM={};function _H(e){fi.includes(e)||fi.push(e)}function $v(e){delete WM[e.pointerId];for(let t=0;t<fi.length;t++)if(fi[t].pointerId===e.pointerId){fi.splice(t,1);break}}function YM(e){if("touch"!==e.pointerType)return;let t=WM[e.pointerId];void 0===t&&(t={x:0,y:0},WM[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function QT(e){return WM[(e.pointerId===fi[0].pointerId?fi[1]:fi[0]).pointerId]}function xH(e){l_[e.key]=!0,qM[e.key]=void 0===qM[e.key]?1:qM[e.key]+1}function wH(e){if(HM&&l_.Meta)for(let t in l_)l_[t]=!1;else l_[e.key]=!1;qM={}}var CH,XM,XAe=new Promise(e=>{CH=e});function $Ae(){if(XM)return XM;function t(){return(t=(0,gs.Z)(function*(){let i=m.e(642).then(m.bind(m,9642)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build/navmesh.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});CH(a)})).apply(this,arguments)}return XM=function e(){return t.apply(this,arguments)}(),XM}var MH,$M,KAe=new Promise(e=>{MH=e});function QAe(){if($M)return $M;function t(){return(t=(0,gs.Z)(function*(){let n=yield m.e(615).then(m.bind(m,8615));yield n.init(),MH(n)})).apply(this,arguments)}return $M=function e(){return t.apply(this,arguments)}(),$M}var er=class{modifyById(e,t){let n=this;if(void 0===n[e])throw new Error("not expected");{let i={...n,[e]:t};return Object.setPrototypeOf(i,er.prototype),i}}add(e,t){return this.runOp({type:1,id:e,data:t})?.data??this}runOp(e){let t=this;if(1===e.type){let i,n=t[e.id];i=void 0===n?{type:2,id:e.id}:{type:1,id:e.id,data:n};let{id:r,data:o}=e,s={...t,[r]:o};return Object.setPrototypeOf(s,er.prototype),{data:s,actual:e,reverse:i}}if(2===e.type){let{id:n}=e,i=t[n];if(void 0===i)return null;{let r={...t};return Object.setPrototypeOf(r,er.prototype),delete r[n],{data:r,actual:e,reverse:{type:1,id:n,data:i}}}}return null}};function ZT(e){if(void 0!==e.deepFreeze)return void e.deepFreeze(e);let t=Object.getOwnPropertyNames(e);for(let n of t){let i=e[n];i&&"object"==typeof i&&ZT(i)}return Object.freeze(e)}var PH=class extends Error{};function JT(e){let t={...e};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function Of(e,t,n){if(void 0===e?void 0===t?(e=0,t=10):e=t-10:void 0===t&&(t=e+10),e>t){let o=e;e=t,t=o}let i=[],r=1/(n+1);for(let o=0;o<n;o++){let s=e+(t-e)*(o+.75+.5*Math.random())*r;i.push(s)}return i}function e3(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function OH(e,t){for(let n of e)!0!==t(n.id,n.data)&&OH(n.children,t)}function SH(e,t){if(!0!==t(e.id,e.data))for(let n of e.children)SH(n,t)}var KM,Kl=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kl.prototype)}deepFreeze(){let e=0;for(;e<this.length;)ZT(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let n of e.children)this.fillCaches0(n,e.id)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(!t)return e;e=t}return e}isDescendantOf(e,t){for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}data(e){return this.get(e)?.data}has(e){return void 0!==this.childrenOf(e)}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){return null===e?this:this.get(e)?.children}traverseFrom(e,t){if(null===e)this.traverse(t);else{let n=this.get(e);n&&SH(n,t)}}traverse(e){OH(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return null===e?this:this.get(e).children}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let n=this.parent(e),i=this.childrenArray(n),r=i.findIndex(s=>s.id===e);if(r<0)throw new Error("not expected");let o=i[r];return i=[...i],i[r]={...o,data:t},this.modifyArrayBy(n,i)}}modifyArrayBy(e,t){let n=e,i=t;for(;null!==n;){let o=i,s=n;if(n=this.parent(n),void 0===n)throw new Error;i=this.childrenArray(n);let a=i.findIndex(l=>l.id===s);if(a<0)throw new Error;i=[...i],i[a]={...i[a],children:o}}Object.setPrototypeOf(i,Kl.prototype);let r=i;return r.fillCaches(),r}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(void 0!==this.get(e))return!0;for(let n of t)if(this.checkDuplicatedIdRec(n))return!0;return!1}addOp(e){let{parent:t,fi:n,id:i,data:r,children:o}=e;if(null!==t&&void 0===this.get(t)||this.checkDuplicatedIdRec(e))return null;{let s=t,a=this.childrenArray(s),l={fi:n,id:i,data:r,children:o};return a=[...a,l],a.sort((c,u)=>c.fi-u.fi),e.localIndex=a.indexOf(l),{data:this.modifyArrayBy(s,a),actual:e,reverse:{type:8,id:i}}}}deleteOp(e){let{id:t}=e;if(null===this.get(t))return null;{let n=this.parent(t);if(void 0===n)return null;let i=this.childrenArray(n),r=i.findIndex(s=>s.id===t);e.localIndex=r,i=[...i];let o=i.splice(r,1)[0];return{data:this.modifyArrayBy(n,i),actual:e,reverse:{type:7,...o,parent:n}}}}moveOp(e){let{parent:t,fi:n,id:i}=e;if(null!==t&&void 0===this.get(t))return this.deleteOp({type:8,id:i});if(null!==t){let d=t;for(;null!==d;){if(void 0===d)throw new Error;if(d===i)throw new PH("cyclic tree");d=this.parent(d)}}let r=this.parent(i);if(void 0===r)return null;let o=r,s=this.childrenArray(r),a=s.findIndex(d=>d.id===i);s=[...s];let l=s.splice(a,1)[0],c=this.modifyArrayBy(r,s);r=t,s=c.childrenArray(r);let u=l.fi;return l={...l,fi:n},s=[...s,l],s.sort((d,h)=>d.fi-h.fi),e.localIndex=s.indexOf(l),c=c.modifyArrayBy(r,s),{data:c,actual:e,reverse:{type:9,parent:o,fi:u,id:i}}}previous(e,t){if(null===t){let i=this.childrenArray(e);return 0===i.length?null:i[i.length-1].id}let n=null;for(let i of this.childrenArray(e)){if(i.id===t)return n;n=i.id}return null}traverseSortNext(e){let t=this.parent(e);if(void 0!==t){let n=this.childrenArray(t),i=n.findIndex(r=>r.id===e)+1;if(i<n.length)return n[i].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(void 0!==t){let n=this.childrenArray(t),i=n.findIndex(r=>r.id===e)-1;return i>=0?this.traverseSortPrevious(n[i].id):t}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);void 0!==i&&t.push({...n,...i})}t.sort((n,i)=>function ZAe(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}(n.sortKey,i.sortKey));for(let n of t)delete n.sortKey;return t}getWithSortKey(e){var t=e;let n=[],i=this.get(t),r=i;if(void 0!==i){for(;t;)n.splice(0,0,i.fi),null!==(t=this.parent(t))&&(i=this.get(t));return{...r,sortKey:n}}}insertBeforeHelper(e,t,n){return this.insertAfterHelper(e,this.previous(e,t),n)}insertAfterHelper(e,t,n){let i=this.childrenArray(e);if(null===t){if(0===i.length)return Of(0,n,n);{let r=i[0].fi;return Of(r-n,r,n)}}{let r=this.get(t);if(void 0===r||this.parent(t)!==e)throw new Error("illegal args");let o=i.find(s=>s.fi>r.fi);if(void 0===o){let s=i[i.length-1].fi;return Of(s,s+n,n)}return Of(r.fi,o.fi,n)}}};(e=>{e.runOp=function t(n,i){if(0!==i.type)return null;if(Array.isArray(n)){let r=i.props,o={},s=[...n],a=!1;if(r)for(let l of Object.keys(r)){let c=parseInt(l);if(isNaN(c))throw new Error("wrong index");o[l]=s[c],s[c]=r[l],a=!0}return a?{data:s,actual:i,reverse:{type:0,props:o}}:null}{let r=i.props,o={},s={...n},a=!1;if(r)for(let l of Object.keys(r)){o[l]=s[l];let c=r[l];void 0===c?delete s[l]:s[l]=c,a=!0}return a?{data:s,actual:i,reverse:{type:0,props:o}}:null}}})(KM||(KM={}));var ui=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ui.prototype)}deepFreeze(){let e=0;for(;e<this.length;)ZT(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){return this.get(e)?.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let n=this,i=n.findIndex(o=>o.id===e);if(i<0)throw new Error("not expected");let r=n[i];return n=[...n],n[i]={...r,data:t},this.modifyArrayBy(n)}}modifyArrayBy(e){Object.setPrototypeOf(e,ui.prototype);let t=e;return function JAe(){return typeof process<"u"}()||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}return null}addOp(e){let{fi:t,id:n,data:i}=e,r=this,o={fi:t,id:n,data:i};return r=[...r,o],r.sort((s,a)=>s.fi-a.fi),e.localIndex=r.indexOf(o),{data:this.modifyArrayBy(r),actual:e,reverse:{type:5,id:n}}}deleteOp(e){let{id:t}=e,n=this,i=n.findIndex(o=>o.id===t);if(-1===i)return null;e.localIndex=i,n=[...n];let r=n.splice(i,1)[0];return{data:this.modifyArrayBy(n),actual:e,reverse:{type:4,...r}}}moveOp(e){let{fi:t,id:n}=e,i=this;i=[...i];let r=i.findIndex(a=>a.id===n);if(-1===r)return null;let o=i[r].fi,s={...i[r],fi:t};return i[r]=s,i.sort((a,l)=>a.fi-l.fi),e.localIndex=i.indexOf(s),{data:this.modifyArrayBy(i),actual:e,reverse:{type:6,fi:o,id:n}}}previous(e){if(null===e)return 0===this.length?null:this[this.length-1].id;let t=null;for(let n of this){if(n.id===e)return t;t=n.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let n=this;if(null===e){if(0===n.length)return Of(0,t,t);{let i=n[0].fi;return Of(i-t,i,t)}}{let i=this.get(e);if(void 0===i)throw new Error("illegal args");let r=n.find(o=>o.fi>i.fi);if(void 0===r){let o=n[n.length-1].fi;return Of(o,o+t,t)}return Of(i.fi,r.fi,t)}}};function Kv(e){return e&&"object"==typeof e&&e instanceof oa}var Sf,r3,Ka,o3,oa=class{unusedFunOverridesTable(e){}runOp(e){let t=[],n=this,i=0,r={};for(;i<e.path.length;){if(t.push(n),n=void 0===n?void 0:n[e.path[i]],void 0!==n&&!Kv(n))return null;i+=1}n=n?JT(n):new oa;for(let[a,l]of Object.entries(e.props))r[a]=n[a],void 0===l?delete n[a]:n[a]=l;for(;i>0;){if(0===Object.keys(n).length){let a=t[i-1];a&&(n=JT(a),delete n[e.path[i-1]])}else{let a=t[i-1];if(a){let l=JT(a);l[e.path[i-1]]=n,n=l}else{let l=new oa;l[e.path[i-1]]=n,n=l}}i-=1}return{data:Object.setPrototypeOf(n,oa.prototype),actual:e,reverse:{...e,props:r}}}};function t3(e,t){if(void 0===t)return;let n=!1,i=e.map(r=>{let o=r.id,s=c_(r.data,t[o]);if(n=n||void 0!==s,void 0===s&&(s=r.data),r.children){let a=t3(r.children,t);return void 0!==a?n=!0:a=r.children,{...r,id:o,data:s,children:a}}return{...r,id:o,data:s}});return n?i:void 0}function c_(e,t){if(!Kv(t))return t;if(e instanceof Kl){let n=t3(e,t);return void 0!==n&&Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}if(e instanceof ui)return function eTe(e,t){if(void 0===t)return;let n=!1,i=e.map(r=>{let o=r.id,s=c_(r.data,t[o]);return n=n||void 0!==s,void 0===s&&(s=r.data),{...r,id:o,data:s}});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}(e,t);if(Array.isArray(e)){let n=!1,i=e.map((r,o)=>{let s=c_(r,t[o]);return n=n||void 0!==s,void 0===s&&(s=r),s});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}if(e instanceof oa)return n3(e,t);if(e&&"object"==typeof e){let n={},i=!1;for(let[r,o]of Object.entries(e)){let s=c_(o,t[r]);i=i||void 0!==s,void 0===s&&(s=o),n[r]=s}return i?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}}function n3(e,t){if(void 0===e)return t;if(void 0===t)return e;if(!Kv(t))return t;if(!Kv(e))return Sf.apply(e,t);let n=new Set;for(let r of Object.keys(e))n.add(r);for(let r of Object.keys(t))n.add(r);let i=new oa;for(let r of n){let o=n3(void 0===e?void 0:e[r],void 0===t?void 0:t[r]);i[r]=o}return i}function tTe(e,t){let n={cur:[],result:[],len:0};return[e=d_(e,t,n)??e,n.result]}function QM(e,t){return null===e?null:(e.cur[e.len]=t,e.len+=1,e)}function ZM(e){e&&(e.len-=1)}function EH(e,t,n){let i=!1,r=e.map(o=>{let s=o.id,a=t[s];if(void 0!==a&&"string"==typeof a&&(i=!0,s=a,null!==n))throw new Error("not supported");let l=d_(o.data,t,QM(n,s));ZM(n),i=i||void 0!==l,void 0===l&&(l=o.data);let c=EH(o.children,t,n);return void 0!==c?i=!0:c=o.children,{...o,id:s,data:l,children:c}});if(i)return r}function d_(e,t,n){if(e instanceof Kl){let i=EH(e,t,n);return void 0!==i&&Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}if(e instanceof ui)return function iTe(e,t,n){let i=!1,r=e.map(o=>{let s=o.id,a=t[s];if(void 0!==a&&"string"==typeof a&&(i=!0,s=a,null!==n))throw new Error("not supported");let l=d_(o.data,t,QM(n,s));return ZM(n),i=i||void 0!==l,void 0===l&&(l=o.data),{...o,id:s,data:l}});if(i)return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}(e,t,n);if(Array.isArray(e)){let i=!1,r=e.map((o,s)=>{let a=d_(o,t,QM(n,s));return ZM(n),i=i||void 0!==a,void 0===a&&(a=o),a});return i?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}if(e&&"object"==typeof e&&!e3(e)){let i={},r=!1;for(let[o,s]of Object.entries(e))if("name"!==o){let a=t[o];if("string"==typeof a){if(null!==n)throw new Error("not supported");r=!0,o=a}let l=d_(s,t,QM(n,o));ZM(n),r=r||void 0!==l,void 0===l&&(l=s),i[o]=l}else i[o]=s;return r?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}if("string"==typeof e){let i=t[e];return void 0!==i&&function nTe(e){if(null===e)return null;e.result.push(e.cur.slice(0,e.len))}(n),i}}(e=>{e.apply=function t(r,o){return c_(r,o)??r},e.merge=function n(r,o){return n3(r,o)},e.filterOp=function i(r,o){let s=0,a=o.path,l=r;for(;s<a.length&&void 0!==l;){if(l=xl.zoomOnce(l,a[s]),void 0===l)return o;if(!Kv(l))return;s+=1}if(void 0===l)return o;if(Kv(l)){if(0===o.type){let c={...o.props};for(let u of Object.keys(l))delete c[u];return{...o,props:c}}if(1===o.type||4===o.type||7===o.type){let c=t3([o],l);return c?(console.log(c),c):o}return o}}})(Sf||(Sf={})),(e=>{e.replaceProps=function t(n,i){let r=xl.zoom(i,n.path);if("object"==typeof r){let o={};for(let s of Object.keys(n.props))o[s]=r[s];return{...n,props:o}}return{...n,props:{}}}})(r3||(r3={})),(e=>{function i(l,c){let u=c.path;for(var d=[];;){let h;if(l instanceof oa&&0===c.type&&(h=l.runOp({...c,path:u.slice(d.length)}),null===h&&(h=void 0)),void 0===h&&d.length===u.length&&(h=l instanceof Kl||l instanceof ui||l instanceof er?l.runOp(c):KM.runOp(l,c)),void 0!==h){if(null!==h){let y=h.data;for(let b=d.length-1;b>=0;b--){let w=u[b],O=d[b];if(O instanceof Kl){if("number"==typeof w)throw new Error("illegal arg");y=O.modifyById(w,y)}else if(O instanceof ui){if("number"==typeof w)throw new Error("illegal arg");y=O.modifyById(w,y)}else if(O instanceof er){if("number"==typeof w)throw new Error("illegal arg");y=O.modifyById(w,y)}else if(O instanceof oa){let S={...O,[w]:y};y=Object.setPrototypeOf(S,oa.prototype)}else{if("object"!=typeof O)return null;if(Array.isArray(O)){if("string"==typeof w&&(w=parseInt(w),isNaN(w)))throw new Error("Invalid path");let S=y;y=[...O],y[w]=S}else y={...O,[w]:y}}}return{data:y,actual:{...h.actual,path:u},reverse:{...h.reverse,path:u}}}return null}let v,f=u[d.length];if(l instanceof Kl){if("number"==typeof f)throw new Error("");v=l.get(f)?.data}else if(l instanceof ui){if("number"==typeof f)throw new Error("");v=l.get(f)?.data}else null!==l&&(v=l[f]);if(void 0===v)return null;d.push(l),l=v}}function r(l,c){for(let u=0;u<l.length&&u<c.length;u++)if(l[u]!==c[u])return!0;return!1}function o(l,c){if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++)if(l[u]!==c[u])return!1;return!0}e.drop=function t(l,c){return{...l,path:l.path.slice(c)}},e.applySimple=function n(l,c){return i(l,c)?.data??l},e.apply=i,e.pathDisjoint=r,e.pathEq=o,e.commutative=function s(l,c){return r(l.path,c.path)},e.subsumed=function a(l,c){return!(0!==l.type||0!==c.type||!o(l.path,c.path))&&Object.keys(l.props).every(u=>void 0!==c.props[u])}})(Ka||(Ka={})),(e=>{function l(c,u){var d=c;let h=[],f=[];for(let v of u)try{if(3===v.type||5===v.type&&"variables"===v.path[v.path.length-1]){let y,b,w;if(3===v.type?(y=xl.zoom(d,[...v.path,v.id]),w=Ka.apply(d,{...v,type:2})):(y=xl.zoom(d,[...v.path,v.id,"value"]),w=Ka.apply(d,v)),null!==w){d=w.data;let[O,S]=tTe(d,{[v.id]:y});d=O;for(let D=0;D<S.length;D++){let V=S[D],Y=V.pop();if("number"==typeof Y){let q=[Y];for(let te=D+1;te<S.length;te++){let ie=S[te],ae=ie[ie.length-1];if("number"!=typeof ae||!xl.equal(V,ie.slice(0,ie.length-1)))break;q.push(ae),S.splice(te,1)}let K=xl.zoom(d,V);b=K.map((te,ie)=>q.includes(ie)?v.id:te),y=K,Y=V.pop()}else{if("alphaOverride"===Y||"alpha"===Y){y/=100;let q=y,K=xl.zoom(d,V.slice(0,V.length-2)),te=K.layers.map(ie=>ie.id===V[V.length-1]?{...ie,data:{...ie.data,[Y]:q}}:ie);Object.setPrototypeOf(te,Object.getPrototypeOf(K.layers)),K.layers=te}b=v.id}h.push({type:0,path:V,props:{[Y]:y}}),f.push({type:0,path:V,props:{[Y]:b}})}f.push(w.reverse),h.push(w.actual)}}else{let y=Ka.apply(d,v);null!==y&&(h.push(y.actual),d=y.data,f.push(y.reverse))}}catch(y){if(y instanceof PH)return null;throw y}return{data:d,actual:h,reverse:f.reverse()}}e.empty=function t(){return[]},e.removePrefix=function n(c,u){let d=[];for(let h of c){let[f,...v]=h.path;f===u&&d.push({...h,path:v})}return d},e.addPrefix=function i(c,u){return c.map(d=>({...d,path:[u,...d.path]}))},e.concat=function r(c,u){return[...c,...u]},e.compress=function o(c,u){return[...c.filter(d=>!u.some(h=>Ka.subsumed(d,h))),...u]},e.commutative=function s(c,u){return c.every(d=>u.every(h=>Ka.commutative(d,h)))},e.applyAll=function a(c,u){for(let d of u){let h=l(c,d);null!==h&&(c=h.data)}return c},e.apply=l})(o3||(o3={}));var DH=Symbol(),rTe=Symbol(),JM=Symbol(),u_=class{reportOp(e,t,n=[]){let i=this;if(null===t)return;i._current=t.data;let r=n;for(;!(i instanceof TH);){let o=i._path,s=i._current;if(""!==o&&r.splice(0,0,o),i=i._parent,null===i)return;i.update(o,s)}i.push(r,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let n=t[JM];n&&n(),delete this._children[e]}}}},oTe=class extends u_{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){if(Array.isArray(this._current)){if("string"==typeof e&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,KM.runOp(this._current,e),e.path)}},sTe=class extends u_{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,er.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},AH={get(e,t){if(t===JM)return()=>{e._parent=null};if(t===DH)return e._current;if(t===rTe)return e;let{_current:n,_children:i}=e;if("push"===t&&Array.isArray(n))throw new Error("not supported to expand array");let r=void 0===i?void 0:i[t];if(void 0!==r)return r;let o=n[t],s=eP(e,t,o);return s!==o?(void 0===i&&(i={},e._children=i),i[t]=s,s):o},has:(e,t)=>t in e._current,ownKeys:e=>Reflect.ownKeys(e._current),defineProperty(){throw Error("not supported")},getPrototypeOf:e=>Object.getPrototypeOf(e._current),setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let n=e._current,i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:!0,enumerable:i.enumerable,value:n[t]}}},aTe={...AH,set(e,t,n){let i={type:0,props:{[t]:Fs(n)??n}};return e.deleteChildren(t),e.runOp(i),!0},deleteProperty(e,t){let n={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(n),!0}},lTe={...AH,set(e,t,n){return void 0===n?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:n})),!0},deleteProperty:(e,t)=>(e.runOp({type:2,id:t}),!0)},s3=class extends u_{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[JM]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,n)=>{e(t,this.data(t))})}data(e){let{_current:t,_children:n}=this,i=void 0===n?void 0:n[e];if(void 0!==i)return i;let r=t.get(e)?.data,o=eP(this,e,r);return o!==r?(void 0===n&&(n={},this._children=n),n[e]=o,o):r}add(e,t,n,i,r){this.runOp({type:7,parent:e,fi:t,id:n,data:i,children:r})}move(e,t,n){this.runOp({type:9,parent:e,fi:t,id:n})}insertAfter(e,t,n){let i=this._current.insertAfterHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.add(e,i[r],o.id,o.data,o.children)}}insertBefore(e,t,n){let i=this._current.insertBeforeHelper(e,t,n.length);for(let r=0;r<n.length;r++){let o=n[r];this.add(e,i[r],o.id,o.data,o.children)}}moveAfter(e,t,n){let i=this._current.insertAfterHelper(e,t,n.length);for(let r=0;r<n.length;r++)this.move(e,i[r],n[r])}moveBefore(e,t,n){let i=this._current.insertBeforeHelper(e,t,n.length);for(let r=0;r<n.length;r++)this.move(e,i[r],n[r])}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},a3=class extends u_{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[JM]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let n=0;n<t;n++){let i=this._current[n].id,r=this._current[n].fi;e(this.data(this._current[n].id),i,r)}}find(e){let t=this.length;for(let n=0;n<t;n++){let i=this._current[n].id;if(e(this.data(i),i))return this.get(i)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){let{_current:t,_children:n}=this,i=void 0===n?void 0:n[e];if(void 0!==i)return i;let r=t.get(e)?.data,o=eP(this,e,r);return o!==r?(void 0===n&&(n={},this._children=n),n[e]=o,o):r}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,n){this.runOp({type:4,fi:e,id:t,data:n})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.add(n[i],r.id,r.data)}}insertBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let r=t[i];this.add(n[i],r.id,r.data)}}moveAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++)this.move(n[i],t[i])}moveBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++)this.move(n[i],t[i])}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function l3(e,t,n){if(e.length>0){let i=e[e.length-1];if(0===i.type&&0===t.type&&xl.equal(i.path,n))return void Object.assign(i.props,t.props)}e.push({...t,path:n})}var xl,TH=class extends u_{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(""!==e)throw new Error("");this._current=t}push(e,t,n,i){l3(this.ts,t,e),l3(this.actual,n,e),l3(this.reverse,i,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function eP(e,t,n){return n instanceof Kl?new s3(e,t,n):n instanceof ui?new a3(e,t,n):n instanceof er?new Proxy(new sTe(e,t,n),lTe):null!==n&&"object"==typeof n?e3(n)?n:new Proxy(new oTe(e,t,n),aTe):n}function kH(e){let t=new TH(e);return[eP(t,"",e),t]}function h_(e,t){let[n,i]=kH(e);return t(n),i.result()}function Fs(e){return e instanceof s3||e instanceof a3?e._current:null!==e&&"object"==typeof e?e[DH]:e}function gd(e,t){let n=[];if(!(t.length<=e.length))return null;for(var i=0;i<t.length;){if("*"===t[i])n.push(e[i]);else if(e[i]!==t[i])return null;i+=1}return n}(e=>{function i(o,s){return(o instanceof Kl||o instanceof s3)&&"string"==typeof s||(o instanceof ui||o instanceof a3)&&"string"==typeof s?o.data(s):"number"==typeof s&&Array.isArray(o)||"string"==typeof s&&"object"==typeof o&&null!==o?o[s]:void 0}function r(o,s,a=0){for(;a<s.length&&void 0!==o;)o=i(o,s[a]),a+=1;return o}e.equal=function t(o,s){if(s.length!==o.length)return!1;for(var a=0;a<o.length;){if(o[a]!==s[a])return!1;a+=1}return!0},e.removeOverridden=function n(o,s,a){let l=r(a,o);if(void 0!==l&&"object"==typeof l&&null!==l){let c={...s};return Object.keys(l).forEach(u=>{delete c[u]}),c}return s},e.zoomOnce=i,e.zoom=r})(xl||(xl={}));var c3,IH=class{},RH=class extends IH{constructor(e){super(),this.id=e}},NH=class extends IH{constructor(e){super(),this.data=e}};try{c3=new TextDecoder}catch{}var Nn,Ef,Ur,Df,Ic,lp,Jr,lt=0,FH=[],d3=FH,u3=0,Ql={},md=0,Zu=0,wl=[],LH={useRecords:!1,mapsAsObjects:!0},BH=class{},zH=new BH;zH.name="MessagePack 0xC1";var Qv=!1,tP=class{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(Nn)return QH(()=>(m3(),this?this.unpack(e,t):tP.prototype.unpack.call(LH,e,t)));Ef=t>-1?t:e.length,lt=0,u3=0,Zu=0,Df=null,d3=FH,Ic=null,Nn=e;try{Jr=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw Nn=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof tP){if(Ql=this,this.structures)return Ur=this.structures,nP();(!Ur||Ur.length>0)&&(Ur=[])}else Ql=LH,(!Ur||Ur.length>0)&&(Ur=[]);return nP()}unpackMultiple(e,t){let n,i=0;try{Qv=!0;let r=e.length,o=this?this.unpack(e,r):rP.unpack(e,r);if(!t){for(n=[o];lt<r;)i=lt,n.push(nP());return n}for(t(o);lt<r;)if(i=lt,!1===t(nP()))return}catch(r){throw r.lastPosition=i,r.values=n,r}finally{Qv=!1,m3()}}_mergeStructures(e,t){for(let n=0,i=(e=e||[]).length;n<i;n++){let r=e[n];r&&(r.isShared=!0,n>=32&&(r.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let i=e[n],r=t[n];r&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[n]=i),e[n]=r)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function nP(){try{if(!Ql.trusted&&!Qv){let t=Ur.sharedLength||0;t<Ur.length&&(Ur.length=t)}let e=rs();if(lt==Ef)Ur.restoreStructures&&UH(),Ur=null,Nn=null,lp&&(lp=null);else{if(lt>Ef){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}if(!Qv)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw Ur.restoreStructures&&UH(),m3(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function UH(){for(let e in Ur.restoreStructures)Ur[e]=Ur.restoreStructures[e];Ur.restoreStructures=null}function rs(){let e=Nn[lt++];if(e<160){if(e<128){if(e<64)return e;{let t=Ur[63&e]||Ql.getStructures&&VH()[63&e];return t?(t.read||(t.read=h3(t,63&e)),t.read()):e}}if(e<144){if(e-=128,Ql.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[YH()]=rs();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(rs(),rs());return t}}{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=rs();return t}}if(e<192){let t=e-160;if(Zu>=lt)return Df.slice(lt-md,(lt+=t)-md);if(0==Zu&&Ef<140){let n=t<16?f3(t):WH(t);if(null!=n)return n}return p3(t)}{let t;switch(e){case 192:return null;case 193:return Ic?(t=rs(),t>0?Ic[1].slice(Ic.position1,Ic.position1+=t):Ic[0].slice(Ic.position0,Ic.position0-=t)):zH;case 194:return!1;case 195:return!0;case 196:return g3(Nn[lt++]);case 197:return t=Jr.getUint16(lt),lt+=2,g3(t);case 198:return t=Jr.getUint32(lt),lt+=4,g3(t);case 199:return Cm(Nn[lt++]);case 200:return t=Jr.getUint16(lt),lt+=2,Cm(t);case 201:return t=Jr.getUint32(lt),lt+=4,Cm(t);case 202:if(t=Jr.getFloat32(lt),Ql.useFloat32>2){let n=v3[(127&Nn[lt])<<1|Nn[lt+1]>>7];return lt+=4,(n*t+(t>0?.5:-.5)>>0)/n}return lt+=4,t;case 203:return t=Jr.getFloat64(lt),lt+=8,t;case 204:return Nn[lt++];case 205:return t=Jr.getUint16(lt),lt+=2,t;case 206:return t=Jr.getUint32(lt),lt+=4,t;case 207:return Ql.int64AsNumber?(t=4294967296*Jr.getUint32(lt),t+=Jr.getUint32(lt+4)):t=Jr.getBigUint64(lt),lt+=8,t;case 208:return Jr.getInt8(lt++);case 209:return t=Jr.getInt16(lt),lt+=2,t;case 210:return t=Jr.getInt32(lt),lt+=4,t;case 211:return Ql.int64AsNumber?(t=4294967296*Jr.getInt32(lt),t+=Jr.getUint32(lt+4)):t=Jr.getBigInt64(lt),lt+=8,t;case 212:if(t=Nn[lt++],114==t)return XH(63&Nn[lt++]);{let n=wl[t];if(n)return n.read?(lt++,n.read(rs())):n.noBuffer?(lt++,n()):n(Nn.subarray(lt,++lt));throw new Error("Unknown extension "+t)}case 213:return t=Nn[lt],114==t?(lt++,XH(63&Nn[lt++],Nn[lt++])):Cm(2);case 214:return Cm(4);case 215:return Cm(8);case 216:return Cm(16);case 217:return t=Nn[lt++],Zu>=lt?Df.slice(lt-md,(lt+=t)-md):uTe(t);case 218:return t=Jr.getUint16(lt),Zu>=(lt+=2)?Df.slice(lt-md,(lt+=t)-md):hTe(t);case 219:return t=Jr.getUint32(lt),Zu>=(lt+=4)?Df.slice(lt-md,(lt+=t)-md):pTe(t);case 220:return t=Jr.getUint16(lt),lt+=2,HH(t);case 221:return t=Jr.getUint32(lt),lt+=4,HH(t);case 222:return t=Jr.getUint16(lt),lt+=2,GH(t);case 223:return t=Jr.getUint32(lt),lt+=4,GH(t);default:if(e>=224)return e-256;if(void 0===e){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}var dTe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function h3(e,t){function n(){if(n.count++>2){let r=e.read=new Function("r","return function(){return {"+e.map(o=>dTe.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}}")(rs);return 0===e.highByte&&(e.read=jH(t,e.read)),r()}let i={};for(let r=0,o=e.length;r<o;r++)i[e[r]]=rs();return i}return n.count=0,0===e.highByte?jH(t,n):n}var jH=(e,t)=>function(){let n=Nn[lt++];if(0===n)return t();let i=e<32?-(e+(n<<5)):e+(n<<5),r=Ur[i]||VH()[i];if(!r)throw new Error("Record id is not defined for "+i);return r.read||(r.read=h3(r,e)),r.read()};function VH(){let e=QH(()=>(Nn=null,Ql.getStructures()));return Ur=Ql._mergeStructures(e,Ur)}var p3=iP,uTe=iP,hTe=iP,pTe=iP;function iP(e){let t;if(e<16&&(t=f3(e)))return t;if(e>64&&c3)return c3.decode(Nn.subarray(lt,lt+=e));let n=lt+e,i=[];for(t="";lt<n;){let r=Nn[lt++];if(128&r)if(192==(224&r)){let o=63&Nn[lt++];i.push((31&r)<<6|o)}else if(224==(240&r)){let o=63&Nn[lt++],s=63&Nn[lt++];i.push((31&r)<<12|o<<6|s)}else if(240==(248&r)){let l=(7&r)<<18|(63&Nn[lt++])<<12|(63&Nn[lt++])<<6|63&Nn[lt++];l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l)}else i.push(r);else i.push(r);i.length>=4096&&(t+=_a.apply(String,i),i.length=0)}return i.length>0&&(t+=_a.apply(String,i)),t}function HH(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=rs();return t}function GH(e){if(Ql.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[YH()]=rs();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(rs(),rs());return t}}var _a=String.fromCharCode;function WH(e){let t=lt,n=new Array(e);for(let i=0;i<e;i++){let r=Nn[lt++];if((128&r)>0)return void(lt=t);n[i]=r}return _a.apply(String,n)}function f3(e){if(e<4){if(e<2){if(0===e)return"";{let t=Nn[lt++];return(128&t)>1?void(lt-=1):_a(t)}}{let t=Nn[lt++],n=Nn[lt++];if((128&t)>0||(128&n)>0)return void(lt-=2);if(e<3)return _a(t,n);let i=Nn[lt++];return(128&i)>0?void(lt-=3):_a(t,n,i)}}{let t=Nn[lt++],n=Nn[lt++],i=Nn[lt++],r=Nn[lt++];if((128&t)>0||(128&n)>0||(128&i)>0||(128&r)>0)return void(lt-=4);if(e<6){if(4===e)return _a(t,n,i,r);{let o=Nn[lt++];return(128&o)>0?void(lt-=5):_a(t,n,i,r,o)}}if(e<8){let o=Nn[lt++],s=Nn[lt++];if((128&o)>0||(128&s)>0)return void(lt-=6);if(e<7)return _a(t,n,i,r,o,s);let a=Nn[lt++];return(128&a)>0?void(lt-=7):_a(t,n,i,r,o,s,a)}{let o=Nn[lt++],s=Nn[lt++],a=Nn[lt++],l=Nn[lt++];if((128&o)>0||(128&s)>0||(128&a)>0||(128&l)>0)return void(lt-=8);if(e<10){if(8===e)return _a(t,n,i,r,o,s,a,l);{let c=Nn[lt++];return(128&c)>0?void(lt-=9):_a(t,n,i,r,o,s,a,l,c)}}if(e<12){let c=Nn[lt++],u=Nn[lt++];if((128&c)>0||(128&u)>0)return void(lt-=10);if(e<11)return _a(t,n,i,r,o,s,a,l,c,u);let d=Nn[lt++];return(128&d)>0?void(lt-=11):_a(t,n,i,r,o,s,a,l,c,u,d)}{let c=Nn[lt++],u=Nn[lt++],d=Nn[lt++],h=Nn[lt++];if((128&c)>0||(128&u)>0||(128&d)>0||(128&h)>0)return void(lt-=12);if(e<14){if(12===e)return _a(t,n,i,r,o,s,a,l,c,u,d,h);{let f=Nn[lt++];return(128&f)>0?void(lt-=13):_a(t,n,i,r,o,s,a,l,c,u,d,h,f)}}{let f=Nn[lt++],v=Nn[lt++];if((128&f)>0||(128&v)>0)return void(lt-=14);if(e<15)return _a(t,n,i,r,o,s,a,l,c,u,d,h,f,v);let y=Nn[lt++];return(128&y)>0?void(lt-=15):_a(t,n,i,r,o,s,a,l,c,u,d,h,f,v,y)}}}}}function g3(e){return Ql.copyBuffers?Uint8Array.prototype.slice.call(Nn,lt,lt+=e):Nn.subarray(lt,lt+=e)}function Cm(e){let t=Nn[lt++];if(wl[t])return wl[t](Nn.subarray(lt,lt+=e));throw new Error("Unknown extension type "+t)}var qH=new Array(4096);function YH(){let e=Nn[lt++];if(!(e>=160&&e<192))return lt--,rs();if(e-=160,Zu>=lt)return Df.slice(lt-md,(lt+=e)-md);if(!(0==Zu&&Ef<180))return p3(e);let o,t=4095&(e<<5^(e>1?Jr.getUint16(lt):e>0?Nn[lt]:0)),n=qH[t],i=lt,r=lt+e-3,s=0;if(n&&n.bytes==e){for(;i<r;){if(o=Jr.getUint32(i),o!=n[s++]){i=1879048192;break}i+=4}for(r+=3;i<r;)if(o=Nn[i++],o!=n[s++]){i=1879048192;break}if(i===r)return lt=i,n.string;r-=3,i=lt}for(n=[],qH[t]=n,n.bytes=e;i<r;)o=Jr.getUint32(i),n.push(o),i+=4;for(r+=3;i<r;)o=Nn[i++],n.push(o);let a=e<16?f3(e):WH(e);return n.string=null!=a?a:p3(e)}var XH=(e,t)=>{var n=rs();let i=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let r=Ur[e];return r&&r.isShared&&((Ur.restoreStructures||(Ur.restoreStructures=[]))[e]=r),Ur[e]=n,n.read=h3(n,i),n.read()},$H="object"==typeof self?self:global;wl[0]=()=>{},wl[0].noBuffer=!0,wl[101]=()=>{let e=rs();return($H[e[0]]||Error)(e[1])},wl[105]=e=>{let t=Jr.getUint32(lt-4);lp||(lp=new Map);let i,n=Nn[lt];i=n>=144&&n<160||220==n||221==n?[]:{};let r={target:i};lp.set(t,r);let o=rs();return r.used?Object.assign(i,o):(r.target=o,o)},wl[112]=e=>{let t=Jr.getUint32(lt-4),n=lp.get(t);return n.used=!0,n.target},wl[115]=()=>new Set(rs());var KH=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");function QH(e){let t=Ef,n=lt,i=u3,r=md,o=Zu,s=Df,a=d3,l=lp,c=Ic,u=new Uint8Array(Nn.slice(0,Ef)),d=Ur,h=Ur.slice(0,Ur.length),f=Ql,v=Qv,y=e();return Ef=t,lt=n,u3=i,md=r,Zu=o,Df=s,d3=a,lp=l,Ic=c,Nn=u,Qv=v,(Ur=d).splice(0,Ur.length,...h),Ql=f,Jr=new DataView(Nn.buffer,Nn.byteOffset,Nn.byteLength),y}function m3(){Nn=null,lp=null,Ur=null}wl[116]=e=>{let t=e[0],n=KH[t];if(!n)throw new Error("Could not find typed array for code "+t);return new $H[n](Uint8Array.prototype.slice.call(e,1).buffer)},wl[120]=()=>{let e=rs();return new RegExp(e[0],e[1])},wl[98]=e=>{let n=lt;lt+=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]-4,(Ic=[rs(),rs()]).position0=0,Ic.position1=0;let i=lt;lt=n;try{return rs()}finally{lt=i}},wl[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");var v3=new Array(147);for(let e=0;e<256;e++)v3[e]=+("1e"+Math.floor(45.15-.30103*e));var oP,rP=new tP({useRecords:!1}),mTe=new Float32Array(1);new Uint8Array(mTe.buffer,0,4);try{oP=new TextEncoder}catch{}var sP,y3,Bt,_s,Ju,aP=typeof Buffer<"u",b3=aP?Buffer.allocUnsafeSlow:Uint8Array,ZH=aP?Buffer:Uint8Array,JH=aP?4294967296:2144337920,wt=0,eh=null,vTe=/[\u0080-\uFFFF]/,p_=Symbol("record-id"),eG=class extends tP{constructor(e){super(e),this.offset=0;let n,i,r,o,s,a=0,l=ZH.prototype.utf8Write?function(q,K,te){return Bt.utf8Write(q,K,te)}:!(!oP||!oP.encodeInto)&&function(q,K){return oP.encodeInto(q,Bt.subarray(K)).written},c=this;e||(e={});let u=e&&e.sequential,d=e.structures||e.saveStructures,h=e.maxSharedStructures;if(null==h&&(h=d?32:0),h>8160)throw new Error("Maximum maxSharedStructure is 8160");let f=e.maxOwnStructures;null==f&&(f=d?32:64),u&&!e.saveStructures&&(this.structures=[]);let v=h>32||f+h>64,y=h+64,b=h+f+64;if(b>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let w=[],O=0,S=0;this.pack=this.encode=function(q,K){if(Bt||(Bt=new b3(8192),_s=new DataView(Bt.buffer,0,8192),wt=0),(Ju=Bt.length-10)-wt<2048?(Bt=new b3(Bt.length),_s=new DataView(Bt.buffer,0,Bt.length),Ju=Bt.length-10,wt=0):wt=wt+7&2147483640,n=wt,s=c.structuredClone?new Map:null,c.bundleStrings?(eh=["",""],Bt[wt++]=214,Bt[wt++]=98,eh.position=wt-n,wt+=4):eh=null,i=c.structures,i){i.uninitialized&&(i=c._mergeStructures(c.getStructures()));let te=i.sharedLength||0;if(te>h)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let ie=0;ie<te;ie++){let ae=i[ie];if(!ae)continue;let pe,fe=i.transitions;for(let ge=0,Oe=ae.length;ge<Oe;ge++){let Pe=ae[ge];pe=fe[Pe],pe||(pe=fe[Pe]=Object.create(null)),fe=pe}fe[p_]=ie+64}a=te}u||(i.nextId=te+64)}r&&(r=!1),o=i||[];try{if(D(q),eh){_s.setUint32(eh.position+n,wt-eh.position-n);let te=eh;eh=null,D(te[0]),D(te[1])}if(c.offset=wt,s&&s.idsToInsert){(wt+=6*s.idsToInsert.length)>Ju&&Y(wt),c.offset=wt;let te=function bTe(e,t){let n,i=6*t.length,r=e.length-i;for(t.sort((o,s)=>o.offset>s.offset?1:-1);n=t.pop();){let o=n.offset,s=n.id;e.copyWithin(o+i,o,r),i-=6;let a=o+i;e[a++]=214,e[a++]=105,e[a++]=s>>24,e[a++]=s>>16&255,e[a++]=s>>8&255,e[a++]=255&s,r=o}return e}(Bt.subarray(n,wt),s.idsToInsert);return s=null,te}return K&_Te?(Bt.start=n,Bt.end=wt,Bt):Bt.subarray(n,wt)}finally{if(i){if(S<10&&S++,O>1e4)i.transitions=null,S=0,O=0,w.length>0&&(w=[]);else if(w.length>0&&!u){for(let te=0,ie=w.length;te<ie;te++)w[te][p_]=0;w=[]}if(r&&c.saveStructures){let te=i.sharedLength||h;i.length>te&&(i=i.slice(0,te));let ie=Bt.subarray(n,wt);return!1===c.saveStructures(i,a)?(c._mergeStructures(c.getStructures()),c.pack(q)):(a=te,ie)}}K&xTe&&(wt=n)}};let D=q=>{wt>Ju&&(Bt=Y(wt));var te,K=typeof q;if("string"===K){let ae,ie=q.length;if(eh&&ie>=8&&ie<4096){let fe=vTe.test(q);return eh[fe?0:1]+=q,Bt[wt++]=193,void D(fe?-ie:ie)}ae=ie<32?1:ie<256?2:ie<65536?3:5;let pe=3*ie;if(wt+pe>Ju&&(Bt=Y(wt+pe)),ie<64||!l){let fe,ge,Oe,Pe=wt+ae;for(fe=0;fe<ie;fe++)ge=q.charCodeAt(fe),ge<128?Bt[Pe++]=ge:ge<2048?(Bt[Pe++]=ge>>6|192,Bt[Pe++]=63&ge|128):55296==(64512&ge)&&56320==(64512&(Oe=q.charCodeAt(fe+1)))?(ge=65536+((1023&ge)<<10)+(1023&Oe),fe++,Bt[Pe++]=ge>>18|240,Bt[Pe++]=ge>>12&63|128,Bt[Pe++]=ge>>6&63|128,Bt[Pe++]=63&ge|128):(Bt[Pe++]=ge>>12|224,Bt[Pe++]=ge>>6&63|128,Bt[Pe++]=63&ge|128);te=Pe-wt-ae}else te=l(q,wt+ae,pe);te<32?Bt[wt++]=160|te:te<256?(ae<2&&Bt.copyWithin(wt+2,wt+1,wt+1+te),Bt[wt++]=217,Bt[wt++]=te):te<65536?(ae<3&&Bt.copyWithin(wt+3,wt+2,wt+2+te),Bt[wt++]=218,Bt[wt++]=te>>8,Bt[wt++]=255&te):(ae<5&&Bt.copyWithin(wt+5,wt+3,wt+3+te),Bt[wt++]=219,_s.setUint32(wt,te),wt+=4),wt+=te}else if("number"===K)if(q>>>0===q)q<64?Bt[wt++]=q:q<256?(Bt[wt++]=204,Bt[wt++]=q):q<65536?(Bt[wt++]=205,Bt[wt++]=q>>8,Bt[wt++]=255&q):(Bt[wt++]=206,_s.setUint32(wt,q),wt+=4);else if(q>>0===q)q>=-32?Bt[wt++]=256+q:q>=-128?(Bt[wt++]=208,Bt[wt++]=q+256):q>=-32768?(Bt[wt++]=209,_s.setInt16(wt,q),wt+=2):(Bt[wt++]=210,_s.setInt32(wt,q),wt+=4);else{let ie;if((ie=this.useFloat32)>0&&q<4294967296&&q>=-2147483648){let ae;if(Bt[wt++]=202,_s.setFloat32(wt,q),ie<4||(ae=q*v3[(127&Bt[wt])<<1|Bt[wt+1]>>7])>>0===ae)return void(wt+=4);wt--}Bt[wt++]=203,_s.setFloat64(wt,q),wt+=8}else if("object"===K)if(q){if(s){let ae=s.get(q);if(ae){if(!ae.id){let pe=s.idsToInsert||(s.idsToInsert=[]);ae.id=pe.push(ae)}return Bt[wt++]=214,Bt[wt++]=112,_s.setUint32(wt,ae.id),void(wt+=4)}s.set(q,{offset:wt-n})}let ie=q.constructor;if(ie===Object)V(q,!0);else if(ie===Array){(te=q.length)<16?Bt[wt++]=144|te:te<65536?(Bt[wt++]=220,Bt[wt++]=te>>8,Bt[wt++]=255&te):(Bt[wt++]=221,_s.setUint32(wt,te),wt+=4);for(let ae=0;ae<te;ae++)D(q[ae])}else if(ie===Map){(te=q.size)<16?Bt[wt++]=128|te:te<65536?(Bt[wt++]=222,Bt[wt++]=te>>8,Bt[wt++]=255&te):(Bt[wt++]=223,_s.setUint32(wt,te),wt+=4);for(let[ae,pe]of q)D(ae),D(pe)}else{for(let ae=0,pe=sP.length;ae<pe;ae++)if(q instanceof y3[ae]){let ge=sP[ae];if(ge.write)return ge.type&&(Bt[wt++]=212,Bt[wt++]=ge.type,Bt[wt++]=0),void D(ge.write.call(this,q));let _e,Oe=Bt,Pe=_s,xe=wt;Bt=null;try{_e=ge.pack.call(this,q,Ue=>(Bt=Oe,Oe=null,(wt+=Ue)>Ju&&Y(wt),{target:Bt,targetView:_s,position:wt-Ue}),D)}finally{Oe&&(_s=Pe,wt=xe,Ju=(Bt=Oe).length-10)}return void(_e&&(_e.length+wt>Ju&&Y(_e.length+wt),wt=yTe(_e,Bt,wt,ge.type)))}V(q,!q.hasOwnProperty)}}else Bt[wt++]=192;else if("boolean"===K)Bt[wt++]=q?195:194;else if("bigint"===K){if(q<BigInt(1)<<BigInt(63)&&q>=-(BigInt(1)<<BigInt(63)))Bt[wt++]=211,_s.setBigInt64(wt,q);else if(q<BigInt(1)<<BigInt(64)&&q>0)Bt[wt++]=207,_s.setBigUint64(wt,q);else{if(!this.largeBigIntToFloat)throw new RangeError(q+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");Bt[wt++]=203,_s.setFloat64(wt,Number(q))}wt+=8}else if("undefined"===K)this.encodeUndefinedAsNil?Bt[wt++]=192:(Bt[wt++]=212,Bt[wt++]=0,Bt[wt++]=0);else{if("function"!==K)throw new Error("Unknown type: "+K);D(this.writeFunction&&this.writeFunction())}},V=!1===this.useRecords?this.variableMapSize?q=>{let ie,K=Object.keys(q),te=K.length;te<16?Bt[wt++]=128|te:te<65536?(Bt[wt++]=222,Bt[wt++]=te>>8,Bt[wt++]=255&te):(Bt[wt++]=223,_s.setUint32(wt,te),wt+=4);for(let ae=0;ae<te;ae++)D(ie=K[ae]),D(q[ie])}:(q,K)=>{Bt[wt++]=222;let te=wt-n;wt+=2;let ie=0;for(let ae in q)(K||q.hasOwnProperty(ae))&&(D(ae),D(q[ae]),ie++);Bt[te+++n]=ie>>8,Bt[te+n]=255&ie}:q=>{let te,K=Object.keys(q),ie=o.transitions||(o.transitions=Object.create(null)),ae=0;for(let fe=0,ge=K.length;fe<ge;fe++){let Oe=K[fe];te=ie[Oe],te||(te=ie[Oe]=Object.create(null),ae++),ie=te}let pe=ie[p_];if(pe)pe>=96&&v?(Bt[wt++]=96+(31&(pe-=96)),Bt[wt++]=pe>>5):Bt[wt++]=pe;else{pe=o.nextId,pe||(pe=64),pe<y&&this.shouldShareStructure&&!this.shouldShareStructure(K)?(pe=o.nextOwnId,pe<b||(pe=y),o.nextOwnId=pe+1):(pe>=b&&(pe=y),o.nextId=pe+1);let fe=K.highByte=pe>=96&&v?pe-96>>5:-1;ie[p_]=pe,o[pe-64]=K,pe<y?(K.isShared=!0,o.sharedLength=pe-63,r=!0,fe>=0?(Bt[wt++]=96+(31&pe),Bt[wt++]=fe):Bt[wt++]=pe):(fe>=0?(Bt[wt++]=213,Bt[wt++]=114,Bt[wt++]=96+(31&pe),Bt[wt++]=fe):(Bt[wt++]=212,Bt[wt++]=114,Bt[wt++]=pe),ae&&(O+=S*ae),w.length>=f&&(w.shift()[p_]=0),w.push(ie),D(K))}for(let fe=0,ge=K.length;fe<ge;fe++)D(q[K[fe]])},Y=q=>{let K;if(q>16777216){if(q-n>JH)throw new Error("Packed buffer would be larger than maximum buffer size");K=Math.min(JH,4096*Math.round(Math.max((q-n)*(q>67108864?1.25:2),4194304)/4096))}else K=1+(Math.max(q-n<<2,Bt.length-1)>>12)<<12;let te=new b3(K);return _s=new DataView(te.buffer,0,K),Bt.copy?Bt.copy(te,0,n,q):te.set(Bt.slice(n,q)),wt-=n,n=0,Ju=te.length-10,Bt=te}}useBuffer(e){Bt=e,_s=new DataView(Bt.buffer,Bt.byteOffset,Bt.byteLength),wt=0}};function tG(e,t,n,i){let r=e.byteLength;if(r+1<256){var{target:o,position:s}=n(4+r);o[s++]=199,o[s++]=r+1}else if(r+1<65536){var{target:o,position:s}=n(5+r);o[s++]=200,o[s++]=r+1>>8,o[s++]=r+1&255}else{var{target:o,position:s,targetView:a}=n(7+r);o[s++]=201,a.setUint32(s,r+1),s+=4}o[s++]=116,o[s++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function nG(e,t){let n=e.byteLength;var i,r;if(n<256){var{target:i,position:r}=t(n+2);i[r++]=196,i[r++]=n}else if(n<65536){var{target:i,position:r}=t(n+3);i[r++]=197,i[r++]=n>>8,i[r++]=255&n}else{var{target:i,position:r,targetView:o}=t(n+5);i[r++]=198,o.setUint32(r,n),r+=4}i.set(e,r)}function yTe(e,t,n,i){let r=e.length;switch(r){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:r<256?(t[n++]=199,t[n++]=r):r<65536?(t[n++]=200,t[n++]=r>>8,t[n++]=255&r):(t[n++]=201,t[n++]=r>>24,t[n++]=r>>16&255,t[n++]=r>>8&255,t[n++]=255&r)}return t[n++]=i,t.set(e,n),n+r}function Zv(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");y3.unshift(e.Class),sP.unshift(e)}!function fTe(e){wl[e.type]=e.unpack?e.unpack:e}(e)}y3=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,BH],sP=[{pack(e,t,n){let i=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&i>=0&&i<4294967296){let{target:r,targetView:o,position:s}=t(6);r[s++]=214,r[s++]=255,o.setUint32(s,i)}else if(i>0&&i<17179869184){let{target:r,targetView:o,position:s}=t(10);r[s++]=215,r[s++]=255,o.setUint32(s,4e6*e.getMilliseconds()+(i/1e3/4294967296>>0)),o.setUint32(s+4,i)}else if(isNaN(i)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:r,position:s}=t(3);r[s++]=212,r[s++]=255,r[s++]=255}else{let{target:r,targetView:o,position:s}=t(15);r[s++]=199,r[s++]=12,r[s++]=255,o.setUint32(s,1e6*e.getMilliseconds()),o.setBigInt64(s+4,BigInt(Math.floor(i)))}}},{pack(e,t,n){let i=Array.from(e),{target:r,position:o}=t(this.structuredClone?3:0);this.structuredClone&&(r[o++]=212,r[o++]=115,r[o++]=0),n(i)}},{pack(e,t,n){let{target:i,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(i[r++]=212,i[r++]=101,i[r++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:i,position:r}=t(this.structuredClone?3:0);this.structuredClone&&(i[r++]=212,i[r++]=120,i[r++]=0),n([e.source,e.flags])}},{pack(e,t){this.structuredClone?tG(e,16,t):nG(aP?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==ZH&&this.structuredClone?tG(e,KH.indexOf(n.name),t):nG(e,t)}},{pack(e,t){let{target:n,position:i}=t(1);n[i]=193}}],new eG({useRecords:!1});var x3,oG,_Te=512,xTe=1024,rG=new eG({structuredClone:!0});function _3(e){if(e3(e))return e;if(Array.isArray(e))return e.map(_3);if("object"==typeof e&&null!==e){let t={};for(let n of Object.keys(e).sort())t[n]=_3(e[n]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}return e}Zv({Class:er.prototype.constructor,type:1,write:e=>({...e}),read:e=>(Object.setPrototypeOf(e,er.prototype),e)}),Zv({Class:ui.prototype.constructor,type:2,write:e=>[...e],read:e=>(Object.setPrototypeOf(e,ui.prototype),e)}),Zv({Class:Kl.prototype.constructor,type:3,write:e=>[...e],read:e=>(Object.setPrototypeOf(e,Kl.prototype),e)}),Zv({Class:RH.prototype.constructor,type:4,write:e=>e.id,read:e=>new RH(e)}),Zv({Class:NH.prototype.constructor,type:5,write:e=>e.data,read:e=>new NH(e)}),Zv({Class:oa.prototype.constructor,type:6,write:e=>({...e}),read:e=>(Object.setPrototypeOf(e,oa.prototype),e)}),(e=>{function t(r){return rG.pack(r)}e.serialize=t,e.deserialize=function n(r){return rG.unpack(r)},e.checksum=function i(r){return function wTe(e){var t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e[n],t&=t;return t}(t(_3(r))).toString()}})(x3||(x3={})),(e=>{e.toEventUIType=function t(i){return"Conditional"===i.type?"Distance"===i.condition.type?"Distance":"StateChange":i.type},e.fromEventUIType=function n(i){return"Distance"===i||"StateChange"===i?"Conditional":i}})(oG||(oG={}));var sG,lP,w3,aG,lG,C3,M3,cG,dG,uG,hG,pG,P3,O3,Rc={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Create","SetVariable","DynamicVariablePlay","Conditional"],MouseHover:["Transition","Animation","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional"],Start:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Conditional:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MousePress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyPress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional"],GameControl:["Transition","Animation","Audio","Create","Conditional"],Collision:["Transition","Animation","Audio","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional"],Trigger:["Transition","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Resize:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],VariableChange:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"]};(e=>{e.is=function t(i){return"MouseDown"===i.type||"MouseUp"===i.type||"MousePress"===i.type||"KeyDown"===i.type||"KeyUp"===i.type||"KeyPress"===i.type},e.defaultData=function n(i){return"MouseDown"===i||"MouseUp"===i||"MousePress"===i?{type:i,mode:"Object",disabled:!1,runMode:"Once",actions:new ui}:{type:i,disabled:!1,key:void 0,runMode:"Once",actions:new ui}}})(sG||(sG={})),(e=>{e.propertyDefaultData=function t(n){return{type:"Property",value:[n??null,"position","x"]}},e.valueDefaultData={type:"Literal",value:0}})(lP||(lP={})),(e=>{e.comparisonDefaultData=function t(r){return{type:"Comparison",operator:"==",lOperand:lP.propertyDefaultData(r),rOperand:{...lP.valueDefaultData}}},e.distanceDefaultData=function n(r){return{type:"Distance",toObject:r??null,fromObject:r??null,distance:200}},e.stateDefaultData=function i(r,o){return{type:"State",object:r??null,state:o??null}}})(w3||(w3={})),(e=>{e.is=function t(i){return"Conditional"===i.type},e.defaultData=function n(i){return{type:"Conditional",disabled:!1,inActions:new ui,outActions:new ui,condition:w3.distanceDefaultData(i)}}})(aG||(aG={})),(e=>{e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new ui,drop:new ui}}})(lG||(lG={})),(e=>{e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new ui}})(C3||(C3={})),(e=>{e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5}})(M3||(M3={})),(e=>{e.is=function t(i){return"MouseHover"===i.type},e.defaultData=function n(){return{type:"MouseHover",disabled:!1,actions:new ui}}})(cG||(cG={})),(e=>{e.is=function t(i){return"Scroll"===i.type},e.defaultData=function n(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new ui}}})(dG||(dG={})),(e=>{e.is=function t(i){return"Start"===i.type},e.defaultData=function n(){return{type:"Start",disabled:!1,actions:new ui}}})(uG||(uG={})),(e=>{e.is=function t(i){return"Collision"===i.type},e.defaultData=function n(){return{type:"Collision",disabled:!1,runMode:"Once",target:"character",actions:new ui}}})(hG||(hG={})),(e=>{e.is=function t(i){return"Trigger"===i.type},e.defaultData=function n(i,r){return{type:"Trigger",disabled:!1,runMode:"Once",target:"all",triggeringObjects:[],actions:new ui,triggerZone:"box",position:r.toArray(),rotation:[0,0,0],size:i.toArray(),radius:i.length()/2,helperVisible:!0}}})(pG||(pG={})),(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]},e.is=function t(s){return"Resize"===s.type},e.sizeToDevice=function n(s){return"string"==typeof s?s:"custom"},e.deviceToSize=function i(s){return"string"==typeof s?[...e.defaultSizes[s]]:[...s]},e.defaultData=function r(){let s={size:"mobile",operator:"<",actions:new ui},a={size:"tablet",operator:"<",actions:new ui},l={size:[...e.defaultSizes.custom],operator:"<>",actions:new ui},c=new ui;return c.push({id:Yn.generateUUID(),fi:0,data:s},{id:Yn.generateUUID(),fi:1,data:a},{id:Yn.generateUUID(),fi:2,data:l}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:c}},e.defaultBreakpointData=function o(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new ui}}})(P3||(P3={})),(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]},e.is=function t(i){return"VariableChange"===i.type},e.defaultData=function n(){return{disabled:!1,type:"VariableChange",actions:new ui,variableId:"",objectId:null,property:"Position X"}}})(O3||(O3={}));var e1,Mm,cP,t1,Cl,Jd,S3,fG,gG,Af,Pm,n1,Tf,E3,Jv="personal camera",f_="a218fcc3-276b-49b9-b485-49037fd14f5f",vd=5526619;function mG(e){return"string"==typeof e&&36===e.length&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)}(e=>{e.isEqual=function t(i,r){return i[0]===r[0]&&i[1]===r[1]},e.lerp=function n(i,r,o){return[i[0]+(r[0]-i[0])*o,i[1]+(r[1]-i[1])*o]}})(e1||(e1={})),(e=>{e.isEqual=function t(l,c){return l[0]===c[0]&&l[1]===c[1]&&l[2]===c[2]},e.add=function n(l,c){return[l[0]+c[0],l[1]+c[1],l[2]+c[2]]},e.sub=function i(l,c){return[l[0]-c[0],l[1]-c[1],l[2]-c[2]]},e.div=function r(l,c){return[l[0]/c[0],l[1]/c[1],l[2]/c[2]]},e.mul=function o(l,c){return[l[0]*c[0],l[1]*c[1],l[2]*c[2]]},e.dist=function s(l,c){return Math.hypot(l[0]-c[0],l[1]-c[1],l[2]-c[2])},e.lerp=function a(l,c,u){return[l[0]+(c[0]-l[0])*u,l[1]+(c[1]-l[1])*u,l[2]+(c[2]-l[2])*u]}})(Mm||(Mm={})),(e=>{e.isEqual=function t(i,r){return i[0]===r[0]&&i[1]===r[1]&&i[2]===r[2]&&i[3]===r[3]},e.lerp=function n(i,r,o){return[i[0]+(r[0]-i[0])*o,i[1]+(r[1]-i[1])*o,i[2]+(r[2]-i[2])*o,i[3]+(r[3]-i[3])*o]}})(cP||(cP={})),(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e.isEqual=function t(r,o){for(let s=0;s<16;s++)if(r[s]!==o[s])return!1;return!0},e.simplify=function n(r){return r??e.identity},e.applyMatrix4=function i(r,o){let s=o.slice(0);for(var a=0,l=o.length;a<l;a+=3){let c=r[3]*o[a]+r[7]*o[a+1]+r[11]*o[a+2]+r[15];s[a]=(r[0]*o[a]+r[4]*o[a+1]+r[8]*o[a+2]+r[12])/c,s[a+1]=(r[1]*o[a]+r[5]*o[a+1]+r[9]*o[a+2]+r[13])/c,s[a+2]=(r[2]*o[a]+r[6]*o[a+1]+r[10]*o[a+2]+r[14])/c}return s}})(t1||(t1={})),(e=>{e.isRGB=function t(l){return"object"==typeof l&&"number"==typeof l.r&&"number"==typeof l.g&&"number"==typeof l.b},e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0},e.toRgb255a1=function n(l){return{r:Math.round(255*l.r),g:Math.round(255*l.g),b:Math.round(255*l.b),a:1}},e.clone=function i(l){return{r:l.r,g:l.g,b:l.b}},e.fromHex=function r(l){return{r:((l=Math.floor(l))>>16&255)/255,g:(l>>8&255)/255,b:(255&l)/255}},e.toHex=function o(l){return 65536*Math.round(255*l.r)+256*Math.round(255*l.g)+Math.round(255*l.b)},e.equals=function s(l,c){return l.r===c.r&&l.g===c.g&&l.b===c.b},e.lerp=function a(l,c,u){return{r:l.r+(c.r-l.r)*u,g:l.g+(c.g-l.g)*u,b:l.b+(c.b-l.b)*u}}})(Cl||(Cl={})),(e=>{e.white={...Cl.white,a:1},e.transparent={...Cl.white,a:0},e.from0to1=function t(s){return{r:s[0],g:s[1],b:s[2],a:s[3]}},e.fromHexAndA=function n(s,a){return{...Cl.fromHex(s),a}},e.toRgb255a1=function i(s){return{r:Math.round(255*s.r),g:Math.round(255*s.g),b:Math.round(255*s.b),a:s.a}},e.equals=function r(s,a){return Cl.equals(s,a)&&s.a===a.a},e.lerp=function o(s,a,l){return{r:s.r+(a.r-s.r)*l,g:s.g+(a.g-s.g)*l,b:s.b+(a.b-s.b)*l,a:s.a+(a.a-s.a)*l}}})(Jd||(Jd={})),(e=>{e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]}})(S3||(S3={})),(e=>{e.defaultData={mass:1,stiffness:80,damping:10,velocity:0}})(fG||(fG={})),(e=>{e.defaultData={control1:[.5,0],control2:[.5,1]}})(gG||(gG={})),(e=>{e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]})(Af||(Af={})),(e=>{e.all=["PerspectiveCamera","OrthographicCamera"],e.is=function t(n){return e.all.includes(n)}})(Pm||(Pm={})),(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset},e.getZoom=function t(n){return"PerspectiveCamera"===n.type?n.perspective.zoom:n.orthographic.zoom}})(n1||(n1={})),(e=>{e.defaultData=function t(i,r=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:2*Math.max(i[0],i[1]),start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[i[0]+i[0]*r,0,0]},grid:{count:[2,2,2],size:i.map(o=>o*(1+r)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}},e.merge=function n(i,r){let o={...i};if(vG.forEach(s=>{Object.assign(o,{[s]:r[s]??i[s]})}),o.radial={...i.radial},r.radial){let s=i.radial,a=r.radial;yG.forEach(l=>{Object.assign(o.radial,{[l]:a[l]??s[l]})})}if(o.linear={...i.linear},r.linear){let s=i.linear,a=r.linear;bG.forEach(l=>{Object.assign(o.linear,{[l]:a[l]??s[l]})})}if(o.grid={...i.grid},r.grid){let s=i.grid,a=r.grid;_G.forEach(l=>{Object.assign(o.grid,{[l]:a[l]??s[l]})})}if(o.toObject={...i.toObject},r.toObject){let s=i.toObject,a=r.toObject;xG.forEach(l=>{Object.assign(o.toObject,{[l]:a[l]??s[l]})})}if(o.randomnessObject={...i.randomnessObject},r.randomnessObject){let s=i.randomnessObject,a=r.randomnessObject;wG.forEach(l=>{Object.assign(o.randomnessObject,{[l]:a[l]??s[l]})})}return o}})(Tf||(Tf={})),(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];e.toOps=function n(i,r){let o=[];void 0!==i.count&&o.push({type:0,path:r,props:{count:i.count}});for(let s of t){let a=i[s];a&&Object.keys(a).length>0&&o.push({type:0,path:[...r,s],props:a})}return o}})(E3||(E3={}));var D3,A3,i1,T3,k3,I3,CG,dP,MG,PG,vG=["count"],yG=["radius","start","end","position","scale","rotation"],bG=["position","scale","rotation"],_G=["count","size"],xG=["count","position","scale","rotation"],wG=["strength","scale","rotation","position","movement","seed","freqScale"];(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"],e.is=function t(n){return e.all.includes(n)}})(D3||(D3={})),(e=>{e.defaultData=function t(i){return function n(i){if("PointLight"===i)return{type:i,color:Jd.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if("SpotLight"===i)return{type:i,color:Jd.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if("DirectionalLight"===i)return{type:i,color:Jd.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}(i)}})(A3||(A3={})),(e=>{e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]}})(i1||(i1={})),(e=>{e.defaultData={castShadow:!0,receiveShadow:!0},e.equals=function t(n,i){return n.castShadow===i.castShadow&&n.receiveShadow===i.receiveShadow}})(T3||(T3={})),(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0},e.equals=function t(n,i){return n.flatShading===i.flatShading&&n.side===i.side&&n.wireframe===i.wireframe}})(k3||(k3={})),(e=>{e.defaultData={...k3.defaultData,...T3.defaultData}})(I3||(I3={})),(e=>{e.getMaterialData=function t(n,i){let r=[];if("material"in n){let o="string"==typeof n.material?i.materials[n.material]??i.lib.materials[n.material]?.asset:n.material;o&&r.push(o)}else if("materials"in n)for(let o of n.materials){let s="string"==typeof o?i.materials[o]??i.lib.materials[o]?.asset:o;s&&r.push(s)}return r}})(CG||(CG={})),(e=>{e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7})(dP||(dP={})),(e=>{e.is=function t(n){return"texture"===n||"video"===n||"color"===n||"depth"===n||"normal"===n||"gradient"===n||"noise"===n||"fresnel"===n||"rainbow"===n||"toon"===n||"outline"===n||"transmission"===n||"matcap"===n||"displace"===n||"pattern"===n||"light"===n}})(MG||(MG={})),(e=>{e.is=function t(n){return"phong"===n||"toon"===n||"lambert"===n||"physical"===n}})(PG||(PG={}));var Zl,Qa,uP,hP,OG=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],PTe=["wrapping","image","video","name"];(e=>{e.patch=function t(o,s){let{texture:a,...l}=s;if(Object.assign(o,l),a){let c=o.texture;c&&Object.assign(c,a)}},e.defaultData=function n(o,s){return"light"===o&&s?function i(o){let s={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(o){case"phong":return{...s,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...s,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...s,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...s,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}(s):function r(o){let s={alpha:1,mode:0,isMask:!1,visible:!0};switch(o){case"texture":return{...s,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0]},crop:!1};case"video":return{...s,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:dP.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0]},crop:!1};case"color":return{...s,type:"color",color:Cl.fromHex(vd)};case"depth":return{...s,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...s,type:"normal",cnormal:[1,1,1]};case"gradient":return{...s,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...s,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...Cl.fromHex(6710886),a:1},colorB:{...Cl.fromHex(6710886),a:1},colorC:{...Cl.fromHex(16777215),a:1},colorD:{...Cl.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...s,type:"fresnel",color:Jd.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...s,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...s,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:Jd.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...s,type:"outline",outlineColor:Jd.fromHexAndA(0,1),contourColor:Jd.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...s,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0]}};case"transmission":return{...s,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...s,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...Cl.fromHex(0),a:1},colorB:{...Cl.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}(o)}})(Zl||(Zl={})),(e=>{function s(c,u="layer1",d="layer2"){let h=new ui;return h.push({fi:0,data:Zl.defaultData("light",c),id:u}),h.push({fi:1,data:Zl.defaultData("color"),id:d}),{layers:h}}e.isMergable=function t(c){return!c.layers.some(u=>"texture"===u.data.type&&0!==u.data.projection||"depth"===u.data.type&&!u.data.isWorldSpace||"noise"===u.data.type||"displace"===u.data.type)},e.getHash=function n(c){let u="";return c.layers.forEach(d=>{Object.entries(d.data).forEach(([h,f])=>{u+=`${h}${f}`,Array.isArray(f)?f.forEach(v=>u+=`${v}`):"object"==typeof f?Object.values(f).forEach(v=>{u+="number"==typeof v?`${v.toFixed(4)}`:`${v}`}):u+=`${f}`})}),u},e.defaultEmptyData=function i(){return{layers:new ui}},e.defaultData=function r(c="layer1",u="layer2"){return s("phong",c,u)},e.withName=function o(c,u){return{...c,name:u}},e.defaultTwoLayerData=s,e.defaultTwoLayerTextureData=function a(c,u="phong",d="layer1",h="layer2"){let f=Zl.defaultData("texture");Object.assign(f.texture,{image:c});let v=new ui;return v.push({fi:0,data:f,id:d}),v.push({fi:1,data:Zl.defaultData("light",u),id:h}),{layers:v}},e.defaultTwoLayerVideoTextureData=function l(c,u="phong",d="layer1",h="layer2"){let f=Zl.defaultData("video");Object.assign(f.texture,{video:c});let v=new ui;return v.push({fi:0,data:f,id:d}),v.push({fi:1,data:Zl.defaultData("light",u),id:h}),{layers:v}}})(Qa||(Qa={})),(e=>{e.defaultData=function t(){return{points:new ui,roundness:0,shapeHoles:[],isClosed:!1}}})(uP||(uP={})),(e=>{e.defaultData=function t(){return{points:new ui,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}})(hP||(hP={}));var R3,SG={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0};(e=>{e.merge=function t(n,i){let r={...n};return DG.forEach(o=>{Object.assign(r,{[o]:i[o]??n[o]})}),r}})(R3||(R3={}));var pP,N3,r1,EG={shape:SG,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},DG=["depth","offset","angle","twist","startScale","endScale"];(e=>{e.is2DParametricMesh=function t(i){return"PolygonGeometry"===i||"RectangleGeometry"===i||"StarGeometry"===i||"TriangleGeometry"===i||"EllipseGeometry"===i},e.isParametricMesh=function n(i){return"PolygonGeometry"===i||"PolygonGeometry"===i||"RectangleGeometry"===i||"StarGeometry"===i||"TriangleGeometry"===i||"EllipseGeometry"===i||"PathGeometry"===i||"VectorGeometry"===i||"ConeGeometry"===i||"CubeGeometry"===i||"CylinderGeometry"===i||"DodecahedronGeometry"===i||"HelixGeometry"===i||"IcosahedronGeometry"===i||"LatheGeometry"===i||"PyramidGeometry"===i||"SphereGeometry"===i||"PlaneGeometry"===i||"BackdropGeometry"===i||"TorusGeometry"===i||"TorusKnotGeometry"===i||"BooleanGeometry"===i||"TextGeometry"===i}})(pP||(pP={})),(e=>{e.merge=function t(n,i){let r={...n};return Object.assign(r,i),"PathGeometry"===r.type&&"extrusion"in i&&i.extrusion&&(r.extrusion={...n.extrusion},Object.assign(r.extrusion,R3.merge(r.extrusion,i.extrusion))),r}})(N3||(N3={})),(e=>{e.defaultData=function t(n){if("RectangleGeometry"===n)return{width:320,height:320,type:n,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if("PathGeometry"===n)return{type:n,width:1,height:1,depth:1,path:hP.defaultData(),extrusion:EG};if("VectorGeometry"===n)return{width:1,height:1,type:n,subdivisions:12,shape:uP.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if("BooleanGeometry"===n)return{type:n,operation:2,width:0,height:0,depth:0,phongAngle:35};if("TextGeometry"===n)return{type:n,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",extrudeBevelSize:0,extrudeBevelSegments:1};if("SphereGeometry"===n)return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}})(r1||(r1={}));var F3,fP,L3,B3,z3,o1,U3,j3,TG,s1,Ml,V3,kG,a1,g_,H3,gP,kf,l1,G3,Om,mP,Sm,W3,q3,c1,m_,d1,v_,vP,Nc,Y3,IG,RG,u1,eu,yP,bP,AG=["width","height","depth"];function NG(e){e.layers.forEach(t=>{if("depth"===t.type&&void 0!==t.colorA){let n=t.colorA,i=t.colorB,r=[[n.r,n.g,n.b,n.a],[i.r,i.g,i.b,i.a]],o=[0,1];for(let a=2;a<10;a++)r.push(r[1]),o.push(1);let s={...sp(Fs(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,t.near),far:Math.max(0,t.far),colors:r,steps:o,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(t,s)}else if("depth"===t.type&&1===t.gradientType&&(t.near<0||t.far<0)){let n={...Fs(t),near:Math.max(t.near,0),far:Math.max(t.far,0)};Object.assign(t,n)}})}function If(e,t){Object.values(e.shared.materials).forEach(n=>t(n))}function Rf(e,t){e.scene.objects.traverse((n,i)=>{"materials"in i?i.materials.forEach((r,o)=>{void 0===r&&(i.materials[o]=Qa.defaultData(),r=i.materials[o]),"string"!=typeof r&&t(r)}):"material"in i?"string"!=typeof i.material&&(void 0===i.material&&(i.material=Qa.defaultData()),t(i.material)):"Mesh"===i.type&&(void 0===i.material&&(i.material=Qa.defaultData()),t(i.material)),"overrides"in i&&Object.values(i.overrides).forEach(r=>{r.material&&"string"!=typeof r.material&&t(r.material)})})}function FG(e){void 0===e.layers&&Object.assign(e,Qa.defaultTwoLayerData("lambert"))}function X3(e){!e.layers||e.layers.forEach(t=>{if("depth"===t.type&&10===t.colors.length){let n=[...t.colors];n.push(t.colors[9]);let i=[...t.steps];i.push(t.steps[9]);let r={...Fs(t),colors:n,steps:i};Object.assign(t,r)}})}function LG(e){e.scene.objects.traverse((t,n)=>{"materials"in n?n.materials.forEach(i=>{"string"!=typeof i&&X3(i)}):"material"in n&&"string"!=typeof n.material&&X3(n.material)}),Object.values(e.shared.materials).forEach(t=>X3(t))}function BG(e){e.layers&&e.layers.forEach(t=>{"depth"===t.type&&void 0!==t.num&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function zG(e){e.layers&&e.layers.forEach(t=>{(function MTe(e){return"displace"!==e.type})(t)&&void 0===t.isMask&&(t.isMask=!1),("texture"===t.type||"video"===t.type)&&void 0===t.blending&&(t.blending=0),("noise"===t.type||"displace"===t.type&&"noise"===t.displacementType)&&(void 0===t.voronoiStyle&&(t.voronoiStyle=0),void 0===t.highCut&&(t.highCut=1),void 0===t.lowCut&&(t.lowCut=0),void 0===t.smoothness&&(t.smoothness=.3),void 0===t.seed&&(t.seed=0),void 0===t.quality&&(t.quality=1))})}function UG(e){let t=e.layers.find(n=>"light"===n.type)?.data;if("basic"===t?.category){let n=Zl.defaultData("light","phong"),i=t;Object.assign(i,n),i.visible=!1}}function jG(e){If(e,UG),Rf(e,UG)}function VG(e){e.layers.forEach(t=>{"light"===t.type&&"toon"!==t.category&&void 0===t.occlusion&&(t.occlusion=!0)})}function HG(e){e.layers&&e.layers.forEach(t=>{"light"===t.type&&void 0===t.bumpMapIntensity&&(t.bumpMapIntensity=5)})}function GG(e){e.layers&&e.layers.forEach(t=>{"light"===t.type&&void 0===t.alphaOverride&&(t.alphaOverride=1)})}(e=>{e.defaultData={enabled:!1,useBackgroundColor:!1,color:Cl.white,near:.1,far:2e3}})(F3||(F3={})),(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focalLength:2,focusDistance:2,bokehScale:2},noise:{...t,blendFunction:16}}})(fP||(fP={})),(e=>{e.defaultData={softShadowQuality:"low"}})(L3||(L3={})),(e=>{e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75}})(B3||(B3={})),(e=>{e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}}})(z3||(z3={})),(e=>{e.defaultData={usePhysics:!1,gravity:-10}})(o1||(o1={})),(e=>{e.defaultData={playCamera:Jv,gameControlObject:null}})(U3||(U3={})),(e=>{e.defaultData={backgroundColor:Jd.fromHexAndA(2960946,1),postprocessing:fP.defaultData,fog:F3.defaultData,globalPhysics:o1.defaultData,ambient:B3.defaultData,ao:z3.defaultData,shadow:L3.defaultData,publish:U3.defaultData}})(j3||(j3={})),(e=>{e.isComponentRelated=function t(i){return"Component"===i||"Instance"===i},e.isEmptyOrComponent=function n(i){return"Empty"===i||"Instance"===i}})(TG||(TG={})),(e=>{e.identity={...S3.identity,hiddenMatrix:t1.identity},e.fromObject=function t(r){return{position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix}},e.merge=function n(r,o){return{position:o?.position||r.position,rotation:o?.rotation||r.rotation,scale:o?.scale||r.scale,hiddenMatrix:o?.hiddenMatrix||r.hiddenMatrix}},e.diff=function i(r,o){return function IAe(e){for(let t of Object.keys(e))void 0===e[t]&&delete e[t];return e}({position:Mm.isEqual(r.position,o.position)?void 0:o.position,rotation:Mm.isEqual(r.rotation,o.rotation)?void 0:o.rotation,scale:Mm.isEqual(r.scale,o.scale)?null:o.scale,hiddenMatrix:t1.isEqual(r.hiddenMatrix,o.hiddenMatrix)?void 0:o.hiddenMatrix})}})(s1||(s1={})),(e=>{e.defaultData={states:new ui,events:new ui,visible:!0,raycastLock:!1,physics:i1.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...s1.identity,cloner:null}})(Ml||(Ml={})),(e=>{e.defaultData={type:"Empty",...Ml.defaultData}})(V3||(V3={})),(e=>{e.defaultData={type:"Component",...Ml.defaultData}})(kG||(kG={})),(e=>{e.defaultData={type:"Mesh",...Ml.defaultData,...I3.defaultData}})(a1||(a1={})),(e=>{e.defaultData={...Ml.defaultData,...s1.identity,position:[0,0,n1.DefaultTargetOffset],...n1.defaultData}})(g_||(g_={})),(e=>{e.defaultData=function t(n){return{...Ml.defaultData,...A3.defaultData(n)}},e.defaultDirectionalLightData={...e.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})(H3||(H3={})),(e=>{function t(i,r,o=0){for(;o<r.length;){let s=i?i[r[o]]:void 0;if(r.length===o+1)return s;if(!s)return;i=s.descendants,o+=1}}e.resolveWithDes=t,e.resolve=function n(i,r,o=0){let s=t(i,r,o);if(s){let a=Object.keys(s);if(1===a.length&&"descendants"===a[0])return}return s}})(gP||(gP={})),(e=>{function t(i,r){return{...Ml.defaultData,...r,component:i,overrides:new oa,physics:void 0,events:void 0,type:"Instance"}}e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"],e.ofComponent=t,e.fromComponentData=function n(i){let r=s1.fromObject(i.data);return t(i.id,r)}})(kf||(kf={})),(e=>{e.defaultData={type:"Page",...Ml.defaultData,physics:{...i1.defaultData,fusedBody:!1},...j3.defaultData,camera:g_.defaultData}})(l1||(l1={})),(e=>{e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:t1.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:i1.defaultData,states:new ui,events:new ui,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},...n1.defaultData},e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject={name:"Rectangle",...Ml.defaultData,...a1.defaultData,geometry:r1.defaultData("RectangleGeometry"),material:Qa.defaultTwoLayerData("phong","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...Ml.defaultData,...a1.defaultData,geometry:r1.defaultData("BooleanGeometry"),material:Qa.defaultTwoLayerData("phong","layer1","layer2")},e.defaultTextObject={name:"Text",...Ml.defaultData,...a1.defaultData,geometry:r1.defaultData("TextGeometry"),material:Qa.defaultTwoLayerData("phong","layer1","layer2")}})(G3||(G3={})),(e=>{e.newEmpty=function t(o,s){let a={name:s};return"Mesh"===o.type?(a.geometry={},"material"in o&&(a.material={layers:new oa}),"materials"in o&&(a.materials=o.materials.map(l=>({layers:new oa})))):Pm.is(o.type)&&(a.perspective={},a.orthographic={}),a},e.toOps=function i(o,s){let a,l=[],c={orthographic:0,perspective:0,geometry:0};function u(d,h){for(let[f,v]of Object.entries(h.layers)){let{texture:y,...b}=v;if(void 0!==y&&Object.keys(y).length>0){let w={path:[...d,"layers",f,"texture"],props:y,type:0};l.push(w)}if(Object.keys(b).length>0){let w={path:[...d,"layers",f],props:b,type:0};l.push(w)}}}for(let[d,h]of Object.entries(s))if("name"!==d)if("cloner"===d)l.push(...E3.toOps(h,["cloner"]));else if("pathSnapping"===d)l.push({path:[d],props:{slide:h.slide,offset:h.offset},type:0});else if("material"===d)u(["material"],h);else if("materials"===d)for(let[f,v]of Object.entries(h))u(["materials",f],v);else 0===c[d]?("geometry"===d&&void 0!==h.extrusion&&(l.push({path:[d,"extrusion"],props:h.extrusion,type:0}),h={...h},delete h.extrusion),Object.keys(h).length>0&&l.push({path:[d],props:h,type:0})):(void 0===a&&(a={path:[],props:{},type:0},l.push(a)),a.props[d]=h);return l},e.patch=function r(o,s){if(void 0===s)return o;let a={...o};if(Object.assign(a,s1.merge(a,s)),Object.assign(a,{pathSnapping:Object.assign({},a.pathSnapping,{slide:s.pathSnapping?.slide??a.pathSnapping?.slide??0,offset:s.pathSnapping?.offset??a.pathSnapping?.offset??0})}),Pm.is(o.type)){a.orthographic={...a.orthographic},a.perspective={...a.perspective};let l=s;void 0!==l.orthographic?.zoom&&(a.orthographic.zoom=l.orthographic.zoom),void 0!==l.perspective?.zoom&&(a.perspective.zoom=l.perspective.zoom),void 0!==l.isUpVectorFlipped&&(a.isUpVectorFlipped=l.isUpVectorFlipped),void 0!==l.targetOffset&&(a.targetOffset=l.targetOffset)}else if("Mesh"===o.type)"geometry"in s&&Object.assign(a,{geometry:N3.merge(a.geometry,s.geometry)}),(s.material||s.materials)&&(a=function n(o,s){if(void 0===s)return o;let a={...o};return"material"in a&&"material"in s&&s.material&&(a.material=h_(a.material,l=>{if("string"!=typeof l)for(let[c,u]of Object.entries(s.material.layers)){let d=l.layers.data(c);d&&Zl.patch(d,u)}}).data),a.materials&&s.materials&&(a.materials=h_(a.materials,l=>{for(let c=0;c<a.materials.length;c++){let u=s.materials[c];if("string"!=typeof u)for(let[d,h]of Object.entries(u.layers)){let f=l[c]?.layers?.data(d);f&&Zl.patch(f,h)}}}).data),a}(a,s)),a.cloner&&"cloner"in s&&Object.assign(a,{cloner:Tf.merge(a.cloner,s.cloner)});else if("Empty"===o.type)a.cloner&&"cloner"in s&&Object.assign(a,{cloner:Tf.merge(a.cloner,s.cloner)});else if(D3.is(o.type)){let l=s;void 0!==l.intensity&&(a.intensity=l.intensity),void 0!==l.color&&(a.color="string"==typeof l.color?l.color:Cl.clone(l.color))}return a}})(Om||(Om={})),(e=>{e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0}})(mP||(mP={})),(e=>{e.defaultData={orbitControls:mP.defaultData,playPage:f_,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,n)=>{let i=0,r=0;return n<5?r=-30:n<10&&(r=30),0===n||10===n||5===n?i=30:(4===n||11===n||9===n)&&(i=-30),[120,[i,r],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1}},stopRaycast:!0,hdTransmission:!1}})(Sm||(Sm={})),(e=>{e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""}})(W3||(W3={})),(e=>{e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0}})(q3||(q3={})),(e=>{e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...W3.defaultData},isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:q3.defaultData}),e.generateSeed=()=>Math.round(1e5*Math.random())})(c1||(c1={})),(e=>{e.physicsEnabled=function t(i){return void 0!==i.find(r=>"Page"===r.data.type&&r.data.globalPhysics.usePhysics)},e.traverseModuleInstances=function n(i,r,o){i.scene.objects.traverseFrom(r,(s,a)=>{if("Instance"===a.type){let l=_P.getComponentData(i,a.component)?.data;l&&o(s,a,l.events)}else o(s,a,a.events)})}})(m_||(m_={})),(e=>{function t(r={withLight:!0,withSquare:!0}){let o=[],s=G3.defaultMeshObject;!0===r.withLight&&o.push({fi:-1,data:H3.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]}),!0===r.withSquare&&o.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:s,children:[]});let a=new Kl;return a.push({fi:1,id:f_,data:{...l1.defaultData,name:"Scene 1"},children:o}),a}function n(r){return{...e.defaultData,objects:ap(r,Kl.prototype)}}e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222",e.defaultData={objects:t(),publish:Sm.defaultData,styles:c1.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new Kl,publish:Sm.defaultData,styles:c1.defaultData()}},e.emptyDataWithPage=function(r){return{objects:t(r),publish:Sm.defaultData,styles:c1.defaultData()}},e.withObjs=n,e.withObj=function i(r,o){return n([{id:r,data:o,children:[],fi:0}])}})(d1||(d1={})),(e=>{e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}}})(v_||(v_={})),(e=>{e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"}})(vP||(vP={})),(e=>{function t(s){return void 0!==s.textValue}function i(s){return"boolean"==typeof s}e.isTextValue=t,e.isNumber=function n(s){return"number"==typeof s},e.isBoolean=i,e.typeOfVariable=function r(s){return t(s)?"string":i(s)?"boolean":"number"},e.getDisplayedValue=function o(s){return e.isTextValue(s)?Array.isArray(s.textValue)?s.textValue.map(a=>a.toString().padStart(s.padding??2,"0")).join(s.deliminator??":")+(void 0!==s.suffix?" "+s.suffix:""):s.textValue.toString():e.isBoolean(s)?s?"True":"False":e.isNumber(s)?parseFloat(s.toFixed(3)).toString():s.toString()}})(Nc||(Nc={})),(e=>{e.all=["images","videos","colors","audios","fonts","materials","variables"]})(Y3||(Y3={})),(e=>{e.all=[...Y3.all,"components"]})(IG||(IG={})),(e=>{e.defaultData=function t(){return{images:new er,videos:new er,colors:new er,audios:new er,fonts:new er,materials:new er,components:new er,variables:new er}}})(RG||(RG={})),(e=>{e.defaultData=function t(){return{images:new er,videos:new er,colors:new er,audios:new er,fonts:new er,materials:new er,components:new er,variables:new er}}})(u1||(u1={})),(e=>{e.defaultColors=function t(){return ap({"89b10010-844c-11ec-a8a3-0242ac120002":{r:.5,g:.5,b:.5,a:1,name:"Default Color"}},er.prototype)},e.defaultImages=function n(s){let a={};return s?.withAITexture&&(a["a1b10010-844c-a8a3-11ec-0242ac2011ec"]={...vP.emptyImage,name:"AI generated image"}),ap(a,er.prototype)},e.emptyData=function i(){return{catelogs:new er,materials:new er,images:new er,videos:new er,colors:new er,audios:new er,fonts:new er,variables:new ui,lib:u1.defaultData()}},e.defaultVariables=function r(s){switch(s){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let a=[0,0,0];return{name:"Time",value:{textValue:a,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:a,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",s)}},e.getFormattedTimerTime=function o(s,a){if("HH:mm:ss"===a.format){let l=Math.floor(s/3600),c=Math.floor((s-3600*l)/60);return{textValue:[l,c,Math.round(s-3600*l-60*c)]}}if("mm:ss"===a.format){let l=Math.floor(s/60);return{textValue:[l,Math.round(s-60*l)]}}return"number"===a.format?Math.round(s):Math.round(1e3*s)/1e3}})(eu||(eu={})),(e=>{e.list=["idle","move","jump","run"]})(yP||(yP={})),(e=>{e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","\u25b2"],["rotPosY","\u25c0"],["rotNegX","\u25bc"],["rotNegY","\u25b6"],["jump","Space"],["run","\u21e7"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new ui,move:new ui,jump:new ui,run:new ui},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:Jd.fromHexAndA(3728051,1)}}})(bP||(bP={}));var h1=180/Math.PI;function WG(e){e.rotation=e.rotation.slice(0,3).map(t=>t*h1)}function qG(e){WG(e),"Page"===e.type&&WG(e.camera),e.states?.forEach(n=>{null==n.rotation||(n.rotation=n.rotation.slice(0,3).map(i=>i*h1))});let t=e.geometry;t&&"SphereGeometry"===t.type&&(t.thetaLength=(t.thetaLength??180)*h1),t&&"TorusGeometry"===t.type&&(t.arc=t.arc*h1),t&&"PathGeometry"===t.type&&(t.extrusion.angle*=h1,t.extrusion.twist*=h1),"Mesh"===e.type&&"TextGeometry"===e.geometry.type&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(Fs(e.events))&&e.events?.forEach(n=>{("MouseDown"===n.type||"MouseUp"===n.type||"MousePress"===n.type||"KeyDown"===n.type||"KeyUp"===n.type||"KeyPress"===n.type||"Collision"===n.type||"Trigger"===n.type)&&(n.runMode=n.toggle?"Toggle":"Once")})}var _P,Nf=107;function YG(e,t){t(e.data);for(let n of e.children)YG(n,t)}function h3e(e){let t=e.schema??104;t!==Nf&&t<105&&(YG(e.asset,qG),e.schema=105)}function XG(e){let t=e.schema??0;if(t!==Nf){console.warn("updating from ",t,"to ",Nf),function l3e(e,t){if(t<1&&(Rf(e,NG),If(e,NG),e.schema=1),t<2&&(function OTe(e){Object.assign(e.scene.publish,{orbitControls:{...mP.defaultData,...Fs(e.scene.publish.orbitControls)}})}(e),e.schema=2),t<3&&(function ETe(e){function t(n){if(n.layers)for(let i of Object.values(n.layers))if(i)for(let[r,o]of Object.entries(i))if((OG.includes(r)||"boolean"==typeof o)&&delete i[r],"texture"===r)for(let[s,a]of Object.entries(o))(PTe.includes(s)||"boolean"==typeof a)&&delete o[s]}e.scene.objects.traverse((n,i)=>{i.states.forEach(r=>{let o=r;o.material?t(o.material):o.materials&&o.materials.forEach(s=>{t(s)})})})}(e),e.schema=3),t<4&&(function DTe(e){e.scene.publish.withBackground=!0}(e),e.schema=4),t<5&&(function ATe(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}(e),e.schema=5),t<6&&(function TTe(e){e.scene.objects.traverse((t,n)=>{let i=n.cloner;i&&(i.radial.scale=i.radial.scale.map(r=>r+1),i.linear.scale=i.linear.scale.map(r=>r+1))})}(e),e.schema=6),t<7&&(function kTe(e){e.scene.objects.traverse((t,n)=>{let i=n.geometry;i&&("DodecahedronGeometry"===i.type||"IcosahedronGeometry"===i.type)&&(i.detail=Math.round(i.detail))})}(e),e.schema=7),t<8&&(e.schema=8),t<9&&(LG(e),e.schema=9),t<10&&(function FTe(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&("BooleanGeometry"===n.geometry.type||"SubdivGeometry"===n.geometry.type)&&(n.geometry.phongAngle=35)})}(e),e.schema=10),t<11&&(function LTe(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,n)=>{("DirectionalLight"===n.type||"SpotLight"===n.type)&&(n.shadowResolution=1024,n.shadowRadius=1,n.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}(e),e.schema=11),t<12&&(LG(e),e.schema=12),t<13&&(function BTe(e){e.shared.audios=ap({},er.prototype)}(e),e.schema=13),t<14&&(function UTe(e){let t=e.shared.materials;Object.entries(t).forEach(([n,i])=>{i.layers||Object.assign(t,{[n]:{name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]}})})}(e),e.schema=14),t<15&&(function jTe(e){Object.entries(Fs(e.shared.images)).filter(t=>!1===t[1].asset).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(Fs(e.shared.audios)).filter(t=>!1===t[1].asset).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}(e),e.schema=15),t<16&&(function VTe(e){e.scene.publish.settings.web.preload=!1}(e),e.schema=16),t<17&&(Rf(e,BG),If(e,BG),e.schema=17),t<18&&(Rf(e,FG),If(e,FG),e.schema=18),t<19&&(function STe(e){Object.assign(e.scene.publish.settings,{video:{...Sm.defaultData.settings.video,...Fs(e.scene.publish.settings.video)}})}(e),e.schema=19),t<20&&(function HTe(e){e.shared.fonts=ap({},er.prototype)}(e),function WTe(e){let t=[];e.scene.objects.traverse((n,i)=>{let r=i;if("TextFrame"===r.type){let o=Qa.defaultTwoLayerData("phong"),s="string"==typeof r.color?e.shared.colors[r.color]:r.color;o.layers[1].data.color={r:s.r,g:s.g,b:s.b},o.layers[1].data.alpha=r.alpha;let a=function GTe(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}(r.font);void 0===e.shared.fonts[a]&&(e.shared.fonts[a]={name:a});let l={name:r.name,...Ml.defaultData,...a1.defaultData,flatShading:!1,wireframe:!1,geometry:{...r1.defaultData("TextGeometry"),width:r.width,height:r.height,font:a,depth:0,horizontalAlign:r.horizontalAlign,verticalAlign:r.verticalAlign,fontSize:1.40625*r.fontSize,lineHeight:r.lineHeight/1.40625,letterSpacing:r.letterSpacing-1,text:r.text,textTransform:r.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:o,states:Fs(r.states),events:Fs(r.events),visible:r.visible,raycastLock:r.raycastLock,position:r.position,rotation:r.rotation,scale:r.scale,hiddenMatrix:r.hiddenMatrix},c=Fs(e.scene.objects).parent(n);e.scene.objects.insertAfter(c??null,n,[{id:n+"new",data:l,children:[]}]),t.push(n)}}),t.forEach(n=>{e.scene.objects.delete(n)})}(e),e.schema=20),t<21&&(function qTe(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((n,i)=>{i.events.forEach(r=>{if(t[Number(r.type)])if(Object.assign(r,{type:t[Number(r.type)]}),"Audio"===r.type&&"audioEvent"in r&&(Object.assign(r,{playAudio:r.audioEvent}),delete r.audioEvent),"GameControl"===r.type)Object.assign(r,{gameActions:{idle:new ui,move:new ui,jump:new ui}});else{let o=new ui;Object.assign(r,{actions:o}),("MouseDown"===r.type||"MouseUp"===r.type||"KeyDown"===r.type||"KeyUp"===r.type)&&"url"in r&&o.push({fi:0,id:Yn.generateUUID(),data:{type:"Link",url:r.url,delay:0}}),"targets"in r&&(r.targets.forEach((s,a,l)=>{let u={easing:s.easing,duration:s.duration};6===s.easing?Object.assign(u,sp(s,"mass","stiffness","damping","velocity")):5===s.easing&&Object.assign(u,{control1:{...s.control1},control2:{...s.control2}});let h={state:s.state,repeat:s.repeat?-1:0,delay:s.delay,delayDirection:s.delayDirection,direction:s.cycle&&s.rewind?"pingpong-rewind":s.cycle?"pingpong":"normal",...u},f={allowSlerp:!0,type:"Transition",object:s.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new ui({fi:0,id:Yn.generateUUID(),data:{state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4}},{fi:1,id:Yn.generateUUID(),data:h})};o.push({fi:l,id:a,data:f})}),delete r.targets)}})})}(e),function YTe(e){e.scene.objects.traverse((t,n)=>{function i(r,o){let s=new ui,a=[];if(n.events.forEach((l,c,u)=>{if("Audio"===l.type&&l.trigger===o){let d;a.push(c),"play"===l.interaction?d={...sp(l,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in l?l.after:void 0,toggle:"after"in l?l.toggle:void 0,type:"Audio"}:("pause"===l.interaction||"stop"===l.interaction)&&(d={...sp(l,"interaction","delay","object","playAudio"),type:"Audio"}),d&&s.push({fi:u,id:c,data:d})}}),a.forEach(l=>n.events.delete(l)),s.length){let l=n.events.find(c=>c.type===r)?.data;l?"actions"in l&&l.actions.insertBefore(null,s):n.events.insertBefore(null,[{id:Yn.generateUUID(),data:{type:r,actions:s}}])}}i("Start","start"),i("MouseDown","mouseDown"),i("MouseUp","mouseUp"),i("KeyDown","keyDown"),i("KeyUp","keyUp")})}(e),e.schema=21),t<22&&(jG(e),e.schema=22),t<23&&(function XTe(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&"SubdivGeometry"===n.geometry.type&&(n.geometry.scaleBaked||(n.geometry.scaleBaked=[1,1,1]))})}(e),e.schema=23),t<24&&(function $Te(e){e.scene.objects.traverse((t,n)=>{("Empty"===n.type||"Mesh"===n.type)&&n.cloner&&!n.cloner.randomnessObject&&!n.cloner.toObject&&!n.cloner.randomness&&(n.cloner={...n.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})})}(e),e.schema=24),(t<25||void 0===e.shared.videos)&&(function zTe(e){e.shared.videos=ap({},er.prototype)}(e),t<25&&(e.schema=25)),t<26&&(function ITe(e){e.scene.objects.traverse((t,n)=>{let i=e.scene.objects.unproxy().parent(t);if(i){let r=Fs(e.scene.objects.data(i));r&&"Mesh"===r.type&&"BooleanGeometry"===r.geometry.type&&"Mesh"===n.type&&(n.visible=!0!==Fs(n).booleanExclude)}})}(e),e.schema=26),t<27&&(function RTe(e){e.scene.objects.traverse((t,n)=>{if("Mesh"===n.type){let i=n;"NonParametricGeometry"===n.geometry.type?void 0!==i.material&&delete i.material:void 0!==i.materials&&delete i.materials}})}(e),e.schema=27),t<28&&(jG(e),e.schema=28),t<29&&(function NTe(e){function t(i){Object.setPrototypeOf(i,oa.prototype),i.texture&&Object.setPrototypeOf(i.texture,oa.prototype)}function n(i){Object.setPrototypeOf(i,oa.prototype);for(let r in i)t(i[r])}e.scene.objects.traverse((i,r)=>{r.states.forEach(o=>{let s=o;if(s.material){let a=Fs(s.material).layers;n(a),s.material.layers=a}if(s.materials)for(let a=0;a<s.materials.length;a++){let l=s.materials[a],c=Fs(l).layers;n(c),l.layers=c}})})}(e),e.schema=29),t<30&&(function KTe(e){e.scene.objects.traverse((t,n)=>{"Mesh"===n.type&&"NonParametricGeometry"===n.geometry.type&&!("material"in n)&&!("materials"in n)&&(n.material=Qa.defaultTwoLayerData("phong"))})}(e),e.schema=30),t<31&&(function QTe(e){void 0===e.scene.publish.orbitControls.autoZoom&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,n)=>{("OrthographicCamera"===n.type||"PerspectiveCamera"===n.type)&&(void 0===n.orthographic.autoZoom&&(n.orthographic.autoZoom=!1),void 0===n.orthographic.autoZoomFrustumSize&&(n.orthographic.autoZoomFrustumSize=790))})}(e),e.schema=31),t<33&&(function ZTe(e){e.scene.objects.traverse((t,n)=>{void 0===n.pathSnapping&&(n.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),void 0===n.pathSnapping.offset&&(n.pathSnapping.offset=0)})}(e),e.schema=33),t<34&&(function JTe(e){void 0===e.scene.publish.mouseEventTarget&&(e.scene.publish.mouseEventTarget="canvas"),void 0===e.scene.publish.settings.web.hint&&(e.scene.publish.settings.web.hint=!1)}(e),e.schema=34),t<35&&(function e3e(e){let{video:t}=e.scene.publish.settings;"gif"===t.format&&t.fps>48&&(t.fps=15)}(e),e.schema=35),t<36&&(function t3e(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.resetYPosition=Math.abs(i.resetYPosition-n.position[1]))})})}(e),e.schema=36),t<37&&(function n3e(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((n,i)=>{i.collision=(!t||null!==i.physics)&&"visibility"})}(e),e.schema=37),t<38&&(Rf(e,zG),If(e,zG),e.schema=38),t<39&&(function i3e(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.navmesh=bP.defaultDataThirdPerson.navmesh)})})}(e),e.schema=39),t<40&&(function r3e(e){e.scene.styles||(e.scene.styles=c1.defaultData())}(e),e.schema=40),t<41&&(function o3e(e){void 0===e.scene.environment.ambientLight.occlusion&&(e.scene.environment.ambientLight.occlusion=!1),void 0===e.scene.environment.ambientLight.aoFullRes&&(e.scene.environment.ambientLight.aoFullRes=!1),void 0===e.scene.environment.ambientLight.radius&&(e.scene.environment.ambientLight.radius=256),void 0===e.scene.environment.ambientLight.bias&&(e.scene.environment.ambientLight.bias=.5),void 0===e.scene.environment.ambientLight.aoColor&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),Rf(e,VG),If(e,VG)}(e),e.schema=41),t<42&&(function s3e(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&Object.assign(i.gameActions,{run:new ui})})})}(e),e.schema=42),t<43&&(function a3e(e){e.scene.objects.traverse((t,n)=>{n.events.forEach(i=>{"GameControl"===i.type&&(i.keyAssignments=[...i.keyAssignments,["run","\u21e7"],["none","Ctrl"]])})})}(e),e.schema=43),t<99){Rf(e,HG),If(e,HG),null===e.scene.publish.playCamera&&(e.scene.publish.playCamera=Jv);let n=Fs(e.scene.objects),i=e.scene.objects;e.scene.publish.playPage=f_,i.insertBefore(null,null,[{id:f_,data:{...l1.defaultData,backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:sp(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:sp(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...o1.defaultData,...sp(e.scene.environment,"usePhysics","gravity")},camera:Fs(e.scene.ownerCamera)??l1.defaultData.camera,name:"Scene"},children:[]}]);for(let s of n)s.id!==d1.TRASH_CAN_ID&&i.move(f_,s.fi,s.id);let r=0,o=0;e.shared.penumbraSize&&e.scene.objects.traverse((s,a)=>{"DirectionalLight"===a.type?(a.penumbraSize=e.shared.penumbraSize[Math.min(r,2)],r+=1):"SpotLight"===a.type&&(a.penumbraSize=e.shared.penumbraSize[3+Math.min(o,1)],o+=1),null==a.physics&&"Instance"!==a.type&&(a.physics={},Object.assign(a.physics,i1.defaultData)),null!=a.physics&&(a.physics.enabled=a.collision??"visibility",delete a.collision)}),e.schema=99}}(e,t),t<100&&(void 0===e.scene.publish.joystickSizeAndXYOffset&&(e.scene.publish.joystickSizeAndXYOffset=Sm.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(Rf(e,GG),If(e,GG),e.schema=101),t<102&&(function c3e(e){e.scene.objects.traverse((t,n)=>{let i=n.geometry;i&&"PathGeometry"===i.type&&(i.extrusion.capType="flat",i.extrusion.bevel=50,i.extrusion.bevelSides=6,"Custom"===i.extrusion.shape.type&&(i.extrusion.shape.shapeQuality="low"))})}(e),e.schema=102),t<104&&(e.shared.catelogs=new er,e.shared.lib=u1.defaultData(),e.schema=104),t<105&&(function d3e(e){e.shared.variables=ap({},er.prototype)}(e),e.scene.objects.traverse((n,i)=>{qG(i)}),e.schema=105);for(let n of Object.values(e.shared.lib.components))h3e(n);t<106&&(function u3e(e){let t=Fs(e.shared.variables);e.shared.variables=ap(Object.entries(t??{}).map(([n,i],r)=>({fi:r,id:n,data:i})),ui.prototype)}(e),e.schema=106),t<107&&(e.shared.lib.variables=u1.defaultData().variables,e.schema=107)}}function Em(e,t=!1){let n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),o={},s={},a=e[0].morphTargetsRelative,l=new ei,c=0;for(let u=0;u<e.length;++u){let d=e[u],h=0;if(n!==(null!==d.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let f in d.attributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;void 0===o[f]&&(o[f]=[]),o[f].push(d.attributes[f]),h++}if(h!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(a!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let f in d.morphAttributes){if(!r.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[f]&&(s[f]=[]),s[f].push(d.morphAttributes[f])}if(t){let f;if(n)f=d.index.count;else{if(void 0===d.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;f=d.attributes.position.count}l.addGroup(c,f,u),c+=f}}if(n){let u=0,d=[];for(let h=0;h<e.length;++h){let f=e[h].index;for(let v=0;v<f.count;++v)d.push(f.getX(v)+u);u+=e[h].attributes.position.count}l.setIndex(d)}for(let u in o){let d=$G(o[u]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,d)}for(let u in s){let d=s[u][0].length;if(0===d)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let h=0;h<d;++h){let f=[];for(let y=0;y<s[u].length;++y)f.push(s[u][y][h]);let v=$G(f);if(!v)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(v)}}return l}function $G(e){let t,n,i,r=0;for(let a=0;a<e.length;++a){let l=e[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=l.array.constructor),t!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=l.itemSize),n!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=l.normalized),i!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=l.array.length}let o=new t(r),s=0;for(let a=0;a<e.length;++a)o.set(e[a].array,s),s+=e[a].array.length;return new pi(o,n,i)}(e=>{e.defaultData={schema:Nf,scene:d1.defaultData,frames:(new er).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",v_.defaultData),shared:{...eu.emptyData(),colors:eu.defaultColors()}},e.emptyDataForImports=function(r){let o=d1.emptyDataWithPage(r);return{schema:Nf,scene:o,frames:(new er).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",v_.defaultData),shared:{...eu.emptyData(),colors:eu.defaultColors(),images:eu.defaultImages(r)}}},e.emptyData=function(){return{schema:Nf,scene:d1.emptyDataWithPage(),frames:(new er).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",v_.defaultData),shared:eu.emptyData()}},e.collabHelper={...o3,updateSchema:r=>(r.schema??0)<Nf?h_(r,XG):(r.schema??0)-Nf},e.updateSchemaDirectly=function t(r){let o=e.collabHelper.updateSchema(r);return"number"==typeof o?0===o?r:null:o.data},e.withoutLib=function n(r){return{...r,shared:{...r.shared,lib:u1.defaultData()}}},e.getComponentData=function i(r,o){let s=r.scene.objects.get(o);if(s&&"Component"===s.data.type)return s;{let a=r.shared.lib.components[o];if(a)return a.asset}}})(_P||(_P={}));var p3e=Math.pow(2,-24),xP=class{constructor(){}};function th(e,t,n){return n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5],n}function KG(e){let t=-1,n=-1/0;for(let i=0;i<3;i++){let r=e[i+3]-e[i];r>n&&(n=r,t=i)}return t}function QG(e,t){t.set(e)}function ZG(e,t,n){let i,r;for(let o=0;o<3;o++){let s=o+3;i=e[o],r=t[o],n[o]=i<r?i:r,i=e[s],r=t[s],n[s]=i>r?i:r}}function wP(e,t,n){for(let i=0;i<3;i++){let r=t[e+2*i],o=t[e+2*i+1],s=r-o,a=r+o;s<n[i]&&(n[i]=s),a>n[i+3]&&(n[i+3]=a)}}function y_(e){let t=e[3]-e[0],n=e[4]-e[1],i=e[5]-e[2];return 2*(t*n+n*i+i*t)}function $3(e,t,n,i,r=null){let o=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,u=-1/0,d=1/0,h=1/0,f=1/0,v=-1/0,y=-1/0,b=-1/0,w=null!==r;for(let O=6*t,S=6*(t+n);O<S;O+=6){let D=e[O+0],V=e[O+1],Y=D-V,q=D+V;Y<o&&(o=Y),q>l&&(l=q),w&&D<d&&(d=D),w&&D>v&&(v=D);let K=e[O+2],te=e[O+3],ie=K-te,ae=K+te;ie<s&&(s=ie),ae>c&&(c=ae),w&&K<h&&(h=K),w&&K>y&&(y=K);let pe=e[O+4],fe=e[O+5],ge=pe-fe,Oe=pe+fe;ge<a&&(a=ge),Oe>u&&(u=Oe),w&&pe<f&&(f=pe),w&&pe>b&&(b=pe)}i[0]=o,i[1]=s,i[2]=a,i[3]=l,i[4]=c,i[5]=u,w&&(r[0]=d,r[1]=h,r[2]=f,r[3]=v,r[4]=y,r[5]=b)}var cp=32,y3e=(e,t)=>e.candidate-t.candidate,Ff=new Array(cp).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),CP=new Float32Array(6);var nh=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,i=-1/0;for(let r=0,o=e.length;r<o;r++){let s=e[r][t];n=s<n?s:n,i=s>i?s:i}this.min=n,this.max=i}setFromPoints(e,t){let n=1/0,i=-1/0;for(let r=0,o=t.length;r<o;r++){let a=e.dot(t[r]);n=a<n?a:n,i=a>i?a:i}this.min=n,this.max=i}isSeparated(e){return this.min>e.max||e.min>this.max}};nh.prototype.setFromBox=function(){let e=new re;return function(t,n){let i=n.min,r=n.max,o=1/0,s=-1/0;for(let a=0;a<=1;a++)for(let l=0;l<=1;l++)for(let c=0;c<=1;c++){e.x=i.x*a+r.x*(1-a),e.y=i.y*l+r.y*(1-l),e.z=i.z*c+r.z*(1-c);let u=t.dot(e);o=Math.min(u,o),s=Math.max(u,s)}this.min=o,this.max=s}}(),new nh;var M3e=function(){let e=new re,t=new re,n=new re;return function(i,r,o){let a=e,c=t;n.subVectors(i.start,r.start),e.subVectors(i.end,i.start),t.subVectors(r.end,r.start);let y,b,u=n.dot(c),d=c.dot(a),h=c.dot(c),f=n.dot(a),v=a.dot(a)*h-d*d;y=0!==v?(u*d-f*h)/v:0,b=(u+y*d)/h,o.x=y,o.y=b}}(),K3=function(){let e=new Ve,t=new re,n=new re;return function(i,r,o,s){M3e(i,r,e);let a=e.x,l=e.y;if(a>=0&&a<=1&&l>=0&&l<=1)return i.at(a,o),void r.at(l,s);if(a>=0&&a<=1)return r.at(l<0?0:1,s),void i.closestPointToPoint(s,!0,o);if(l>=0&&l<=1)return i.at(a<0?0:1,o),void r.closestPointToPoint(o,!0,s);{let c,u;c=a<0?i.start:i.end,u=l<0?r.start:r.end;let d=t,h=n;return i.closestPointToPoint(u,!0,t),r.closestPointToPoint(c,!0,n),d.distanceToSquared(u)<=h.distanceToSquared(c)?(o.copy(d),void s.copy(u)):(o.copy(c),void s.copy(h))}}}(),P3e=function(){let e=new re,t=new re,n=new Tc,i=new hd;return function(r,o){let{radius:s,center:a}=r,{a:l,b:c,c:u}=o;if(i.start=l,i.end=c,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s||(i.start=l,i.end=u,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s)||(i.start=c,i.end=u,i.closestPointToPoint(a,!0,e).distanceTo(a)<=s))return!0;let d=o.getPlane(n);if(Math.abs(d.distanceToPoint(a))<=s){let h=d.projectPoint(a,t);if(o.containsPoint(h))return!0}return!1}}(),O3e=1e-15;function p1(e){return Math.abs(e)<O3e}var dp=class extends Xa{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new re),this.satBounds=new Array(4).fill().map(()=>new nh),this.points=[this.a,this.b,this.c],this.sphere=new $l,this.plane=new Tc,this.needsUpdate=!0}intersectsSphere(e){return P3e(e,this)}update(){let e=this.a,t=this.b,n=this.c,i=this.points,r=this.satAxes,o=this.satBounds,s=r[0],a=o[0];this.getNormal(s),a.setFromPoints(s,i);let l=r[1],c=o[1];l.subVectors(e,t),c.setFromPoints(l,i);let u=r[2],d=o[2];u.subVectors(t,n),d.setFromPoints(u,i);let h=r[3],f=o[3];h.subVectors(n,e),f.setFromPoints(h,i),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(s,e),this.needsUpdate=!1}};dp.prototype.closestPointToSegment=function(){let e=new re,t=new re,n=new hd;return function(i,r=null,o=null){let c,{start:s,end:a}=i,l=this.points,u=1/0;for(let d=0;d<3;d++){let h=(d+1)%3;n.start.copy(l[d]),n.end.copy(l[h]),K3(n,i,e,t),c=e.distanceToSquared(t),c<u&&(u=c,r&&r.copy(e),o&&o.copy(t))}return this.closestPointToPoint(s,e),c=s.distanceToSquared(e),c<u&&(u=c,r&&r.copy(e),o&&o.copy(s)),this.closestPointToPoint(a,e),c=a.distanceToSquared(e),c<u&&(u=c,r&&r.copy(e),o&&o.copy(a)),Math.sqrt(u)}}(),dp.prototype.intersectsTriangle=function(){let e=new dp,t=new Array(3),n=new Array(3),i=new nh,r=new nh,o=new re,s=new re,a=new re,l=new re,c=new hd,u=new hd,d=new hd;return function(h,f=null,v=!1){this.needsUpdate&&this.update(),h.isExtendedTriangle?h.needsUpdate&&h.update():(e.copy(h),e.update(),h=e);let y=this.plane,b=h.plane;if(Math.abs(y.normal.dot(b.normal))>1-1e-10){let w=this.satBounds,O=this.satAxes;n[0]=h.a,n[1]=h.b,n[2]=h.c;for(let V=0;V<4;V++){let Y=w[V];if(i.setFromPoints(O[V],n),Y.isSeparated(i))return!1}let S=h.satBounds,D=h.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let V=0;V<4;V++){let Y=S[V];if(i.setFromPoints(D[V],t),Y.isSeparated(i))return!1}for(let V=0;V<4;V++){let Y=O[V];for(let q=0;q<4;q++)if(o.crossVectors(Y,D[q]),i.setFromPoints(o,t),r.setFromPoints(o,n),i.isSeparated(r))return!1}return f&&(v||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),f.start.set(0,0,0),f.end.set(0,0,0)),!0}{let w=this.points,O=!1,S=0;for(let fe=0;fe<3;fe++){let ge=w[fe],Oe=w[(fe+1)%3];c.start.copy(ge),c.end.copy(Oe),c.delta(s);let Pe=O?u.start:u.end,xe=p1(b.distanceToPoint(ge));if(p1(b.normal.dot(s))&&xe){u.copy(c),S=2;break}if((b.intersectLine(c,Pe)||xe)&&!p1(Pe.distanceTo(Oe))){if(S++,O)break;O=!0}}if(1===S&&h.containsPoint(u.end))return f&&(f.start.copy(u.end),f.end.copy(u.end)),!0;if(2!==S)return!1;let D=h.points,V=!1,Y=0;for(let fe=0;fe<3;fe++){let ge=D[fe],Oe=D[(fe+1)%3];c.start.copy(ge),c.end.copy(Oe),c.delta(a);let Pe=V?d.start:d.end,xe=p1(y.distanceToPoint(ge));if(p1(y.normal.dot(a))&&xe){d.copy(c),Y=2;break}if((y.intersectLine(c,Pe)||xe)&&!p1(Pe.distanceTo(Oe))){if(Y++,V)break;V=!0}}if(1===Y&&this.containsPoint(d.end))return f&&(f.start.copy(d.end),f.end.copy(d.end)),!0;if(2!==Y)return!1;if(u.delta(s),d.delta(a),s.dot(a)<0){let fe=d.start;d.start=d.end,d.end=fe}let q=u.start.dot(s),K=u.end.dot(s),te=d.start.dot(s),ie=d.end.dot(s);return(q===ie||te===K||K<te!=q<ie)&&(f&&(l.subVectors(u.start,d.start),l.dot(s)>0?f.start.copy(u.start):f.start.copy(d.start),l.subVectors(u.end,d.end),l.dot(s)<0?f.end.copy(u.end):f.end.copy(d.end)),!0)}}}(),dp.prototype.distanceToPoint=function(){let e=new re;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),dp.prototype.distanceToTriangle=function(){let e=new re,t=new re,n=["a","b","c"],i=new hd,r=new hd;return function(o,s=null,a=null){let l=s||a?i:null;if(this.intersectsTriangle(o,l))return(s||a)&&(s&&l.getCenter(s),a&&l.getCenter(a)),0;let c=1/0;for(let u=0;u<3;u++){let d,h=n[u],f=o[h];this.closestPointToPoint(f,e),d=f.distanceToSquared(e),d<c&&(c=d,s&&s.copy(e),a&&a.copy(f));let v=this[h];o.closestPointToPoint(v,e),d=v.distanceToSquared(e),d<c&&(c=d,s&&s.copy(v),a&&a.copy(e))}for(let u=0;u<3;u++){i.set(this[n[u]],this[n[(u+1)%3]]);for(let f=0;f<3;f++){r.set(o[n[f]],o[n[(f+1)%3]]),K3(i,r,e,t);let b=e.distanceToSquared(t);b<c&&(c=b,s&&s.copy(e),a&&a.copy(t))}}return Math.sqrt(c)}}();var ih=class{constructor(e,t,n){this.isOrientedBox=!0,this.min=new re,this.max=new re,this.matrix=new Wt,this.invMatrix=new Wt,this.points=new Array(8).fill().map(()=>new re),this.satAxes=new Array(3).fill().map(()=>new re),this.satBounds=new Array(3).fill().map(()=>new nh),this.alignedSatBounds=new Array(3).fill().map(()=>new nh),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),n&&this.matrix.copy(n)}set(e,t,n){this.min.copy(e),this.max.copy(t),this.matrix.copy(n),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};ih.prototype.update=function(){let e=this.matrix,t=this.min,n=this.max,i=this.points;for(let l=0;l<=1;l++)for(let c=0;c<=1;c++)for(let u=0;u<=1;u++){let h=i[1*l|2*c|4*u];h.x=l?n.x:t.x,h.y=c?n.y:t.y,h.z=u?n.z:t.z,h.applyMatrix4(e)}let r=this.satBounds,o=this.satAxes,s=i[0];for(let l=0;l<3;l++){let c=o[l],u=r[l];c.subVectors(s,i[1<<l]),u.setFromPoints(c,i)}let a=this.alignedSatBounds;a[0].setFromPointsField(i,"x"),a[1].setFromPointsField(i,"y"),a[2].setFromPointsField(i,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1},ih.prototype.intersectsBox=function(){let e=new nh;return function(t){this.needsUpdate&&this.update();let n=t.min,i=t.max,r=this.satBounds,o=this.satAxes,s=this.alignedSatBounds;if(e.min=n.x,e.max=i.x,s[0].isSeparated(e)||(e.min=n.y,e.max=i.y,s[1].isSeparated(e))||(e.min=n.z,e.max=i.z,s[2].isSeparated(e)))return!1;for(let a=0;a<3;a++){let c=r[a];if(e.setFromBox(o[a],t),c.isSeparated(e))return!1}return!0}}(),ih.prototype.intersectsTriangle=function(){let e=new dp,t=new Array(3),n=new nh,i=new nh,r=new re;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);let s=this.satBounds,a=this.satAxes;t[0]=o.a,t[1]=o.b,t[2]=o.c;for(let d=0;d<3;d++){let h=s[d];if(n.setFromPoints(a[d],t),h.isSeparated(n))return!1}let l=o.satBounds,c=o.satAxes,u=this.points;for(let d=0;d<3;d++){let h=l[d];if(n.setFromPoints(c[d],u),h.isSeparated(n))return!1}for(let d=0;d<3;d++){let h=a[d];for(let f=0;f<4;f++)if(r.crossVectors(h,c[f]),n.setFromPoints(r,t),i.setFromPoints(r,u),n.isSeparated(i))return!1}return!0}}(),ih.prototype.closestPointToPoint=function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},ih.prototype.distanceToPoint=function(){let e=new re;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),ih.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new hd),n=new Array(12).fill().map(()=>new hd),i=new re,r=new re;return function(o,s=0,a=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(a||l)&&(o.getCenter(r),this.closestPointToPoint(r,i),o.closestPointToPoint(i,r),a&&a.copy(i),l&&l.copy(r)),0;let c=s*s,u=o.min,d=o.max,h=this.points,f=1/0;for(let y=0;y<8;y++){let b=h[y];r.copy(b).clamp(u,d);let w=b.distanceToSquared(r);if(w<f&&(f=w,a&&a.copy(b),l&&l.copy(r),w<c))return Math.sqrt(w)}let v=0;for(let y=0;y<3;y++)for(let b=0;b<=1;b++)for(let w=0;w<=1;w++){let O=(y+1)%3,S=(y+2)%3;t[v].set(h[b<<O|w<<S],h[1<<y|b<<O|w<<S]);let K=e[y],te=e[O],ie=e[S],ae=n[v],pe=ae.start,fe=ae.end;pe[K]=u[K],pe[te]=b?u[te]:d[te],pe[ie]=w?u[ie]:d[te],fe[K]=d[K],fe[te]=b?u[te]:d[te],fe[ie]=w?u[ie]:d[te],v++}for(let y=0;y<=1;y++)for(let b=0;b<=1;b++)for(let w=0;w<=1;w++){r.x=y?d.x:u.x,r.y=b?d.y:u.y,r.z=w?d.z:u.z,this.closestPointToPoint(r,i);let O=r.distanceToSquared(i);if(O<f&&(f=O,a&&a.copy(i),l&&l.copy(r),O<c))return Math.sqrt(O)}for(let y=0;y<12;y++){let b=t[y];for(let w=0;w<12;w++){K3(b,n[w],i,r);let S=i.distanceToSquared(r);if(S<f&&(f=S,a&&a.copy(i),l&&l.copy(r),S<c))return Math.sqrt(S)}}return Math.sqrt(f)}}();var f1=new re,g1=new re,m1=new re,MP=new Ve,PP=new Ve,OP=new Ve,JG=new re,eW=new re,tW=new re,SP=new re;function nW(e,t,n,i,r){let o=3*i,s=e.index.getX(o),a=e.index.getX(o+1),l=e.index.getX(o+2),{position:c,normal:u,uv:d,uv1:h}=e.attributes,f=function E3e(e,t,n,i,r,o,s,a,l){f1.fromBufferAttribute(t,o),g1.fromBufferAttribute(t,s),m1.fromBufferAttribute(t,a);let c=function S3e(e,t,n,i,r,o){let s;return s=o===va?e.intersectTriangle(i,n,t,!0,r):e.intersectTriangle(t,n,i,o!==Xl,r),null===s?null:{distance:e.origin.distanceTo(r),point:r.clone()}}(e,f1,g1,m1,SP,l);if(c){i&&(MP.fromBufferAttribute(i,o),PP.fromBufferAttribute(i,s),OP.fromBufferAttribute(i,a),c.uv=Xa.getInterpolation(SP,f1,g1,m1,MP,PP,OP,new Ve)),r&&(MP.fromBufferAttribute(r,o),PP.fromBufferAttribute(r,s),OP.fromBufferAttribute(r,a),c.uv1=Xa.getInterpolation(SP,f1,g1,m1,MP,PP,OP,new Ve)),n&&(JG.fromBufferAttribute(n,o),eW.fromBufferAttribute(n,s),tW.fromBufferAttribute(n,a),c.normal=Xa.getInterpolation(SP,f1,g1,m1,JG,eW,tW,new re),c.normal.dot(e.direction)>0&&c.normal.multiplyScalar(-1));let u={a:o,b:s,c:a,normal:new re,materialIndex:0};Xa.getNormal(f1,g1,m1,u.normal),c.face=u,c.faceIndex=o}return c}(n,c,u,d,h,s,a,l,t);return f?(f.faceIndex=i,r&&r.push(f),f):null}function rh(e,t,n,i){let r=e.a,o=e.b,s=e.c,a=t,l=t+1,c=t+2;n&&(a=n.getX(t),l=n.getX(t+1),c=n.getX(t+2)),r.x=i.getX(a),r.y=i.getY(a),r.z=i.getZ(a),o.x=i.getX(l),o.y=i.getY(l),o.z=i.getZ(l),s.x=i.getX(c),s.y=i.getY(c),s.z=i.getZ(c)}function iW(e,t,n,i,r,o,s){let a=n.index,l=n.attributes.position;for(let c=e,u=t+e;c<u;c++)if(rh(s,3*c,a,l),s.needsUpdate=!0,i(s,c,r,o))return!0;return!1}var rW=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return 0===e.length?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function Lf(e,t){return 65535===t[e+15]}function v1(e,t){return t[e+6]}function b_(e,t){return t[e+14]}function __(e){return e+8}function x_(e,t){return t[e+6]}var y1=new ys,EP=new re,k3e=["x","y","z"];function Q3(e,t,n,i,r){let o=2*e,s=b1,a=Bf,l=zf;if(Lf(o,a))!function D3e(e,t,n,i,r,o){for(let s=i,a=i+r;s<a;s++)nW(e,t,n,s,o)}(t,n,i,v1(e,l),b_(o,a),r);else{let c=__(e);DP(c,s,i,EP)&&Q3(c,t,n,i,r);let u=x_(e,l);DP(u,s,i,EP)&&Q3(u,t,n,i,r)}}function Z3(e,t,n,i){let r=2*e,o=b1,s=Bf,a=zf;if(Lf(r,s))return function A3e(e,t,n,i,r){let o=1/0,s=null;for(let a=i,l=i+r;a<l;a++){let c=nW(e,t,n,a);c&&c.distance<o&&(s=c,o=c.distance)}return s}(t,n,i,v1(e,a),b_(r,s));{let d,h,l=function T3e(e,t){return t[e+7]}(e,a),c=k3e[l],u=i.direction[c]>=0;u?(d=__(e),h=x_(e,a)):(d=x_(e,a),h=__(e));let f=DP(d,o,i,EP)?Z3(d,t,n,i):null;if(f){let y=f.point[c];if(u?y<=o[h+l]:y>=o[h+l+3])return f}let v=DP(h,o,i,EP)?Z3(h,t,n,i):null;return f&&v?f.distance<=v.distance?f:v:f||v||null}}var I3e=function(){let e,t,n=[],i=new rW(()=>new ys);return function(...o){e=i.getPrimitive(),t=i.getPrimitive(),n.push(e,t);let s=r(...o);i.releasePrimitive(e),i.releasePrimitive(t),n.pop(),n.pop();let a=n.length;return a>0&&(t=n[a-1],e=n[a-2]),s};function r(o,s,a,l,c=null,u=0,d=0){function h(O){let S=2*O,D=Bf,V=zf;for(;!Lf(S,D);)S=2*(O=__(O));return v1(O,V)}function f(O){let S=2*O,D=Bf,V=zf;for(;!Lf(S,D);)S=2*(O=x_(O,V));return v1(O,V)+b_(S,D)}let v=2*o,y=b1,b=Bf,w=zf;if(Lf(v,b)){let O=v1(o,w),S=b_(v,b);return th(o,y,e),l(O,S,!1,d,u+o,e)}{let Y,q,K,te,O=__(o),S=x_(o,w),D=O,V=S;if(c&&(K=e,te=t,th(D,y,K),th(V,y,te),Y=c(K),q=c(te),q<Y)){D=S,V=O;let Pe=Y;Y=q,q=Pe,K=te}K||(K=e,th(D,y,K));let pe,ae=a(K,Lf(2*D,b),Y,d+1,u+D);if(2===ae){let Pe=h(D);pe=l(Pe,f(D)-Pe,!0,d+1,u+D,K)}else pe=ae&&r(D,s,a,l,c,u,d+1);if(pe)return!0;te=t,th(V,y,te);let Oe,ge=a(te,Lf(2*V,b),q,d+1,u+V);if(2===ge){let Pe=h(V);Oe=l(Pe,f(V)-Pe,!0,d+1,u+V,te)}else Oe=ge&&r(V,s,a,l,c,u,d+1);return!!Oe}}}(),R3e=function(){let e=new dp,t=new dp,n=new Wt,i=new ih,r=new ih;return function o(s,a,l,c,u=null){let d=2*s,h=b1,f=Bf,v=zf;if(null===u&&(l.boundingBox||l.computeBoundingBox(),i.set(l.boundingBox.min,l.boundingBox.max,c),u=i),!Lf(d,f)){let y=s+8,b=v[s+6];return th(y,h,y1),!!(u.intersectsBox(y1)&&o(y,a,l,c,u)||(th(b,h,y1),u.intersectsBox(y1)&&o(b,a,l,c,u)))}{let b=a.index,w=a.attributes.position,O=l.index,S=l.attributes.position,D=v1(s,v),V=b_(d,f);if(n.copy(c).invert(),l.boundsTree)return th(s,h,r),r.matrix.copy(n),r.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:Y=>r.intersectsBox(Y),intersectsTriangle:Y=>{Y.a.applyMatrix4(c),Y.b.applyMatrix4(c),Y.c.applyMatrix4(c),Y.needsUpdate=!0;for(let q=3*D,K=3*(V+D);q<K;q+=3)if(rh(t,q,b,w),t.needsUpdate=!0,Y.intersectsTriangle(t))return!0;return!1}});for(let Y=3*D,q=V+3*D;Y<q;Y+=3){rh(e,Y,b,w),e.a.applyMatrix4(n),e.b.applyMatrix4(n),e.c.applyMatrix4(n),e.needsUpdate=!0;for(let K=0,te=O.count;K<te;K+=3)if(rh(t,K,O,S),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}}}();function DP(e,t,n,i){return th(e,t,y1),n.intersectBox(y1,i)}var AP,b1,Bf,zf,J3=[];function w_(e){AP&&J3.push(AP),AP=e,b1=new Float32Array(e),Bf=new Uint16Array(e),zf=new Uint32Array(e)}function TP(){AP=null,b1=null,Bf=null,zf=null,J3.length&&w_(J3.pop())}var ek=Symbol("skip tree generation"),tk=new ys,nk=new ys,_1=new Wt,Dm=new ih,C_=new ih,M_=new re,kP=new re,N3e=new re,F3e=new re,L3e=new re,oW=new ys,oh=new rW(()=>new dp),P_=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),P_.serialize(arguments[0],{cloneBuffers:void 0===arguments[2]||arguments[2]});t={cloneBuffers:!0,...t};let o,i=e._roots,r=e.geometry.getIndex();return o=t.cloneBuffers?{roots:i.map(s=>s.slice()),index:r.array.slice()}:{roots:i,index:r.array},o}static deserialize(e,t,n={}){if("boolean"==typeof n)return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),P_.deserialize(arguments[0],arguments[1],{setIndex:void 0===arguments[2]||arguments[2]});n={setIndex:!0,...n};let{index:i,roots:r}=e,o=new P_(t,{...n,[ek]:!0});if(o._roots=r,n.setIndex){let s=t.getIndex();if(null===s){let a=new pi(e.index,1,!1);t.setIndex(a)}else s.array!==i&&(s.array.set(i),s.needsUpdate=!0)}return o}constructor(e,t={}){if(!e.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");if((t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[ek]:!1},t)).useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[ek]||(this._roots=function C3e(e,t){let i,r,o,n=function w3e(e,t){function n(w){h&&h(w/f)}function i(w,O,S,D=null,V=0){if(!v&&V>=l&&(v=!0,c&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),S<=u||V>=l)return n(O+S),w.offset=O,w.count=S,w;let Y=function b3e(e,t,n,i,r,o){let s=-1,a=0;if(0===o)s=KG(t),-1!==s&&(a=(t[s]+t[s+3])/2);else if(1===o)s=KG(e),-1!==s&&(a=function _3e(e,t,n,i){let r=0;for(let o=t,s=t+n;o<s;o++)r+=e[6*o+2*i];return r/n}(n,i,r,s));else if(2===o){let l=y_(e),c=1.25*r,u=6*i,d=6*(i+r);for(let h=0;h<3;h++){let f=t[h],v=(t[h+3]-f)/cp;if(r<cp/4){let y=[...Ff];y.length=r;let b=0;for(let O=u;O<d;O+=6,b++){let S=y[b];S.candidate=n[O+2*h],S.count=0;let{bounds:D,leftCacheBounds:V,rightCacheBounds:Y}=S;for(let q=0;q<3;q++)Y[q]=1/0,Y[q+3]=-1/0,V[q]=1/0,V[q+3]=-1/0,D[q]=1/0,D[q+3]=-1/0;wP(O,n,D)}y.sort(y3e);let w=r;for(let O=0;O<w;O++){let S=y[O];for(;O+1<w&&y[O+1].candidate===S.candidate;)y.splice(O+1,1),w--}for(let O=u;O<d;O+=6){let S=n[O+2*h];for(let D=0;D<w;D++){let V=y[D];S>=V.candidate?wP(O,n,V.rightCacheBounds):(wP(O,n,V.leftCacheBounds),V.count++)}}for(let O=0;O<w;O++){let S=y[O],D=S.count,V=r-S.count,q=S.rightCacheBounds,K=0;0!==D&&(K=y_(S.leftCacheBounds)/l);let te=0;0!==V&&(te=y_(q)/l);let ie=1+1.25*(K*D+te*V);ie<c&&(s=h,c=ie,a=S.candidate)}}else{for(let w=0;w<cp;w++){let O=Ff[w];O.count=0,O.candidate=f+v+w*v;let S=O.bounds;for(let D=0;D<3;D++)S[D]=1/0,S[D+3]=-1/0}for(let w=u;w<d;w+=6){let O=~~((n[w+2*h]-f)/v);O>=cp&&(O=cp-1);let S=Ff[O];S.count++,wP(w,n,S.bounds)}let y=Ff[cp-1];QG(y.bounds,y.rightCacheBounds);for(let w=cp-2;w>=0;w--){let O=Ff[w];ZG(O.bounds,Ff[w+1].rightCacheBounds,O.rightCacheBounds)}let b=0;for(let w=0;w<cp-1;w++){let O=Ff[w],S=O.count,D=O.bounds,V=Ff[w+1].rightCacheBounds;0!==S&&(0===b?QG(D,CP):ZG(D,CP,CP)),b+=S;let Y=0,q=0;0!==b&&(Y=y_(CP)/l);let K=r-b;0!==K&&(q=y_(V)/l);let te=1+1.25*(Y*b+q*K);te<c&&(s=h,c=te,a=O.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${o} used.`);return{axis:s,pos:a}}(w.boundingData,D,s,O,S,d);if(-1===Y.axis)return n(O+S),w.offset=O,w.count=S,w;let q=function v3e(e,t,n,i,r){let o=n,s=n+i-1,a=r.pos,l=2*r.axis;for(;;){for(;o<=s&&t[6*o+l]<a;)o++;for(;o<=s&&t[6*s+l]>=a;)s--;if(!(o<s))return o;for(let c=0;c<3;c++){let u=e[3*o+c];e[3*o+c]=e[3*s+c],e[3*s+c]=u;let d=t[6*o+2*c+0];t[6*o+2*c+0]=t[6*s+2*c+0],t[6*s+2*c+0]=d;let h=t[6*o+2*c+1];t[6*o+2*c+1]=t[6*s+2*c+1],t[6*s+2*c+1]=h}o++,s--}}(a,s,O,S,Y);if(q===O||q===O+S)n(O+S),w.offset=O,w.count=S;else{w.splitAxis=Y.axis;let K=new xP,te=O,ie=q-O;w.left=K,K.boundingData=new Float32Array(6),$3(s,te,ie,K.boundingData,o),i(K,te,ie,o,V+1);let ae=new xP,pe=q,fe=S-ie;w.right=ae,ae.boundingData=new Float32Array(6),$3(s,pe,fe,ae.boundingData,o),i(ae,pe,fe,o,V+1)}return w}!function f3e(e,t){if(!e.index){let r,n=e.attributes.position.count,i=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;r=n>65535?new Uint32Array(new i(4*n)):new Uint16Array(new i(2*n)),e.setIndex(new pi(r,1));for(let o=0;o<n;o++)r[o]=o}}(e,t);let r=new Float32Array(6),o=new Float32Array(6),s=function x3e(e,t){let n=e.attributes.position,i=e.index.array,r=i.length/3,o=new Float32Array(6*r),s=n.normalized,a=n.array,l=n.offset||0,c=3;n.isInterleavedBufferAttribute&&(c=n.data.stride);let u=["getX","getY","getZ"];for(let d=0;d<r;d++){let v,y,b,h=3*d,f=6*d;s?(v=i[h+0],y=i[h+1],b=i[h+2]):(v=i[h+0]*c+l,y=i[h+1]*c+l,b=i[h+2]*c+l);for(let w=0;w<3;w++){let O,S,D;s?(O=n[u[w]](v),S=n[u[w]](y),D=n[u[w]](b)):(O=a[v+w],S=a[y+w],D=a[b+w]);let V=O;S<V&&(V=S),D<V&&(V=D);let Y=O;S>Y&&(Y=S),D>Y&&(Y=D);let q=(Y-V)/2,K=2*w;o[f+K+0]=V+q,o[f+K+1]=q+(Math.abs(V)+q)*p3e,V<t[w]&&(t[w]=V),Y>t[w+3]&&(t[w+3]=Y)}}return o}(e,r),a=e.index.array,l=t.maxDepth,c=t.verbose,u=t.maxLeafTris,d=t.strategy,h=t.onProgress,f=e.index.count/3,v=!1,y=[],b=function g3e(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],n=new Set;for(let r of e.groups)n.add(r.start),n.add(r.start+r.count);let i=Array.from(n.values()).sort((r,o)=>r-o);for(let r=0;r<i.length-1;r++){let o=i[r];t.push({offset:o/3,count:(i[r+1]-o)/3})}return t}(e);if(1===b.length){let w=b[0],O=new xP;O.boundingData=r,function m3e(e,t,n,i){let r=1/0,o=1/0,s=1/0,a=-1/0,l=-1/0,c=-1/0;for(let u=6*t,d=6*(t+n);u<d;u+=6){let h=e[u+0];h<r&&(r=h),h>a&&(a=h);let f=e[u+2];f<o&&(o=f),f>l&&(l=f);let v=e[u+4];v<s&&(s=v),v>c&&(c=v)}i[0]=r,i[1]=o,i[2]=s,i[3]=a,i[4]=l,i[5]=c}(s,w.offset,w.count,o),i(O,w.offset,w.count,o),y.push(O)}else for(let w of b){let O=new xP;O.boundingData=new Float32Array(6),$3(s,w.offset,w.count,O.boundingData,o),i(O,w.offset,w.count,o),y.push(O)}return y}(e,t),s=[],a=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let u=0;u<n.length;u++){let d=n[u],f=new a(32*l(d));i=new Float32Array(f),r=new Uint32Array(f),o=new Uint16Array(f),c(0,d),s.push(f)}return s;function l(u){return u.count?1:1+l(u.left)+l(u.right)}function c(u,d){let h=u/4,f=u/2,v=!!d.count,y=d.boundingData;for(let b=0;b<6;b++)i[h+b]=y[b];if(v){let w=d.count;return r[h+6]=d.offset,o[f+14]=w,o[f+15]=65535,u+32}{let S,w=d.right,O=d.splitAxis;if(S=c(u+32,d.left),S/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[h+6]=S/4,S=c(S,w),r[h+7]=O,S}}}(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new ys))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let r,o,s,a,t=this.geometry,n=t.index.array,i=t.attributes.position,l=0,c=this._roots;for(let d=0,h=c.length;d<h;d++)r=c[d],o=new Uint32Array(r),s=new Uint16Array(r),a=new Float32Array(r),u(0,l),l+=r.byteLength;function u(d,h,f=!1){let v=2*d;if(65535===s[v+15]){let y=o[d+6],w=1/0,O=1/0,S=1/0,D=-1/0,V=-1/0,Y=-1/0;for(let q=3*y,K=3*(y+s[v+14]);q<K;q++){let te=n[q],ie=i.getX(te),ae=i.getY(te),pe=i.getZ(te);ie<w&&(w=ie),ie>D&&(D=ie),ae<O&&(O=ae),ae>V&&(V=ae),pe<S&&(S=pe),pe>Y&&(Y=pe)}return(a[d+0]!==w||a[d+1]!==O||a[d+2]!==S||a[d+3]!==D||a[d+4]!==V||a[d+5]!==Y)&&(a[d+0]=w,a[d+1]=O,a[d+2]=S,a[d+3]=D,a[d+4]=V,a[d+5]=Y,!0)}{let y=d+8,b=o[d+6],O=b+h,S=f,D=!1,V=!1;e?S||(D=e.has(y+h),V=e.has(O),S=!D&&!V):(D=!0,V=!0);let q=S||V,K=!1;(S||D)&&(K=u(y,h,S));let te=!1;q&&(te=u(b,h,S));let ie=K||te;if(ie)for(let ae=0;ae<3;ae++){let pe=y+ae,fe=b+ae,ge=a[pe],Oe=a[pe+3],Pe=a[fe],xe=a[fe+3];a[d+ae]=ge<Pe?ge:Pe,a[d+ae+3]=Oe>xe?Oe:xe}return ie}}}traverse(e,t=0){let n=this._roots[t],i=new Uint32Array(n),r=new Uint16Array(n);!function o(s,a=0){let l=2*s,c=65535===r[l+15];if(c){let u=i[s+6],d=r[l+14];e(a,c,new Float32Array(n,4*s,6),u,d)}else{let u=s+8,d=i[s+6],h=i[s+7];e(a,c,new Float32Array(n,4*s,6),h)||(o(u,a+1),o(d,a+1))}}(0)}raycast(e,t=Wd){let n=this._roots,i=this.geometry,r=[],o=t.isMaterial,s=Array.isArray(t),a=i.groups,l=o?t.side:t;for(let c=0,u=n.length;c<u;c++){let d=s?t[a[c].materialIndex].side:l,h=r.length;if(w_(n[c]),Q3(0,i,d,e,r),TP(),s){let f=a[c].materialIndex;for(let v=h,y=r.length;v<y;v++)r[v].face.materialIndex=f}}return r}raycastFirst(e,t=Wd){let n=this._roots,i=this.geometry,r=t.isMaterial,o=Array.isArray(t),s=null,a=i.groups,l=r?t.side:t;for(let c=0,u=n.length;c<u;c++){let d=o?t[a[c].materialIndex].side:l;w_(n[c]);let h=Z3(0,i,d,e);TP(),null!=h&&(null==s||h.distance<s.distance)&&(s=h,o&&(h.face.materialIndex=a[c].materialIndex))}return s}intersectsGeometry(e,t){let n=this.geometry,i=!1;for(let r of this._roots)if(w_(r),i=R3e(0,n,e,t),TP(),i)break;return i}shapecast(e,t,n){let i=this.geometry;if(e instanceof Function){if(t){let d=t;t=(h,f,v,y)=>{let b=3*f;return d(h,b,b+1,b+2,v,y)}}e={boundsTraverseOrder:n,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let r=oh.getPrimitive(),{boundsTraverseOrder:o,intersectsBounds:s,intersectsRange:a,intersectsTriangle:l}=e;if(a&&l){let d=a;a=(h,f,v,y,b)=>!!d(h,f,v,y,b)||iW(h,f,i,l,v,y,r)}else a||(a=l?(d,h,f,v)=>iW(d,h,i,l,f,v,r):(d,h,f)=>f);let c=!1,u=0;for(let d of this._roots){if(w_(d),c=I3e(0,i,s,a,o,u),TP(),c)break;u+=d.byteLength}return oh.releasePrimitive(r),c}bvhcast(e,t,n){let{intersectsRanges:i,intersectsTriangles:r}=n,o=this.geometry.index,s=this.geometry.attributes.position,a=e.geometry.index,l=e.geometry.attributes.position;_1.copy(t).invert();let c=oh.getPrimitive(),u=oh.getPrimitive();if(r){let h=function(f,v,y,b,w,O,S,D){for(let V=y,Y=y+b;V<Y;V++){rh(u,3*V,a,l),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let q=f,K=f+v;q<K;q++)if(rh(c,3*q,o,s),c.needsUpdate=!0,r(c,u,q,V,w,O,S,D))return!0}return!1};if(i){let f=i;i=function(v,y,b,w,O,S,D,V){return!!f(v,y,b,w,O,S,D,V)||h(v,y,b,w,O,S,D,V)}}else i=h}e.getBoundingBox(nk),nk.applyMatrix4(t);let d=this.shapecast({intersectsBounds:h=>nk.intersectsBox(h),intersectsRange:(h,f,v,y,b,w)=>(tk.copy(w),tk.applyMatrix4(_1),e.shapecast({intersectsBounds:O=>tk.intersectsBox(O),intersectsRange:(O,S,D,V,Y)=>i(h,f,O,S,y,b,V,Y)}))});return oh.releasePrimitive(c),oh.releasePrimitive(u),d}intersectsBox(e,t){return Dm.set(e.min,e.max,t),Dm.needsUpdate=!0,this.shapecast({intersectsBounds:n=>Dm.intersectsBox(n),intersectsTriangle:n=>Dm.intersectsTriangle(n)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,n={},i={},r=0,o=1/0){e.boundingBox||e.computeBoundingBox(),Dm.set(e.boundingBox.min,e.boundingBox.max,t),Dm.needsUpdate=!0;let s=this.geometry,a=s.attributes.position,l=s.index,c=e.attributes.position,u=e.index,d=oh.getPrimitive(),h=oh.getPrimitive(),f=kP,v=N3e,y=null,b=null;i&&(y=F3e,b=L3e);let w=1/0,O=null,S=null;return _1.copy(t).invert(),C_.matrix.copy(_1),this.shapecast({boundsTraverseOrder:D=>Dm.distanceToBox(D),intersectsBounds:(D,V,Y)=>Y<w&&Y<o&&(V&&(C_.min.copy(D.min),C_.max.copy(D.max),C_.needsUpdate=!0),!0),intersectsRange:(D,V)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:Y=>C_.distanceToBox(Y),intersectsBounds:(Y,q,K)=>K<w&&K<o,intersectsRange:(Y,q)=>{for(let K=3*Y,te=3*(Y+q);K<te;K+=3){rh(h,K,u,c),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let ie=3*D,ae=3*(D+V);ie<ae;ie+=3){rh(d,ie,l,a),d.needsUpdate=!0;let pe=d.distanceToTriangle(h,f,y);if(pe<w&&(v.copy(f),b&&b.copy(y),w=pe,O=ie/3,S=K/3),pe<r)return!0}}}});for(let q=0,K=u?u.count:c.count;q<K;q+=3){rh(h,q,u,c),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let te=3*D,ie=3*(D+V);te<ie;te+=3){rh(d,te,l,a),d.needsUpdate=!0;let ae=d.distanceToTriangle(h,f,y);if(ae<w&&(v.copy(f),b&&b.copy(y),w=ae,O=te/3,S=q/3),ae<r)return!0}}}}),oh.releasePrimitive(d),oh.releasePrimitive(h),w===1/0?null:(n.point?n.point.copy(v):n.point=v.clone(),n.distance=w,n.faceIndex=O,i&&(i.point?i.point.copy(b):i.point=b.clone(),i.point.applyMatrix4(_1),v.applyMatrix4(_1),i.distance=v.sub(i.point).length(),i.faceIndex=S),n)}closestPointToPoint(e,t={},n=0,i=1/0){let r=n*n,o=i*i,s=1/0,a=null;if(this.shapecast({boundsTraverseOrder:c=>(M_.copy(e).clamp(c.min,c.max),M_.distanceToSquared(e)),intersectsBounds:(c,u,d)=>d<s&&d<o,intersectsTriangle:(c,u)=>{c.closestPointToPoint(e,M_);let d=e.distanceToSquared(M_);return d<s&&(kP.copy(M_),s=d,a=u),d<r}}),s===1/0)return null;let l=Math.sqrt(s);return t.point?t.point.copy(kP):t.point=kP.clone(),t.distance=l,t.faceIndex=a,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{th(0,new Float32Array(t),oW),e.union(oW)}),e}},O_=ma(V0e()),B3e=.5*(Math.sqrt(3)-1),S_=(3-Math.sqrt(3))/6,sh=1/6,E_=(Math.sqrt(5),Math.sqrt(5),e=>0|Math.floor(e)),sW=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),ik=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function rk(e=Math.random){let t=aW(e),n=new Float64Array(t).map(r=>sW[r%12*2]),i=new Float64Array(t).map(r=>sW[r%12*2+1]);return function(r,o){let w,O,s=0,a=0,l=0,c=(r+o)*B3e,u=E_(r+c),d=E_(o+c),h=(u+d)*S_,y=r-(u-h),b=o-(d-h);y>b?(w=1,O=0):(w=0,O=1);let S=y-w+S_,D=b-O+S_,V=y-1+2*S_,Y=b-1+2*S_,q=255&u,K=255&d,te=.5-y*y-b*b;if(te>=0){let pe=q+t[K];te*=te,s=te*te*(n[pe]*y+i[pe]*b)}let ie=.5-S*S-D*D;if(ie>=0){let pe=q+w+t[K+O];ie*=ie,a=ie*ie*(n[pe]*S+i[pe]*D)}let ae=.5-V*V-Y*Y;if(ae>=0){let pe=q+1+t[K+1];ae*=ae,l=ae*ae*(n[pe]*V+i[pe]*Y)}return 70*(s+a+l)}}function aW(e){let t=new Uint8Array(512);for(let n=0;n<256;n++)t[n]=n;for(let n=0;n<255;n++){let i=n+~~(e()*(256-n)),r=t[n];t[n]=t[i],t[i]=r}for(let n=256;n<512;n++)t[n]=t[n-256];return t}var D_,tu=new Xa,V3e=ma(O7()),H3e=new Wt,G3e=new Wt,W3e=new Wt;(e=>{e.is=function t(n){return n&&n.__isSPEObject}})(D_||(D_={}));var vr,ok=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new Wt,this.copyPreviousMatrix=!0,this.hiddenMatrix=new Wt,this.matrixWorldRigid=new Wt,this.shearScale=new Wt,this.shearScaleInv=new Wt}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof so&&(t=t.uuid);let n=this;for(;n.parent;){if(n.parent.uuid===t)return!0;n=n.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let n of this.children)n.updateMatrixWorld(t)}updateWorldMatrix(t,n){let i=this.parent;if(t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),n)for(let r of this.children)r.updateWorldMatrix(!1,!0)}traverseChildren(t,n=0){for(let i of this.children)D_.is(i)&&i.traverseObject(t,n+1)}traverseObject(t,n=0){if(!0!==t(this,n))for(let i of this.children)D_.is(i)&&i.traverseObject(t,n+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,n=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:i,v:r,q:o}=(0,V3e.SVD)(n),s=H3e.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),a=G3e.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),l=W3e.copy(a).transpose();this.shearScale.makeScale(o[0],o[1],o[2]).multiply(l).premultiply(a),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(s,l).copyPosition(this.matrixWorld),this.hasNonUniformScale=!o.every(c=>Math.abs(o[0]-c)<.01)}attach(t,n){this.updateWorldMatrix(!0,!1);let i=(new Wt).copy(this.matrixWorld).invert();return null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),i.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof Wt?t.hiddenMatrix.premultiply(i):t.applyMatrix4(i),t.updateWorldMatrix(!1,!1),this.add(t),void 0!==n&&(this.children.pop(),this.children.splice(n,0,t)),this}copy(t,n=!1){return super.copy(t,n),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,n,i,r,o,s){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},q3e=class extends(ok(so)){},Za=class extends q3e{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let n=this.children[e];n?.object!==t&&(n&&this.remove(n),n=new Za(t),this.add(n),this.children.splice(e,0,this.children.pop()),n.matrixWorldNeedsUpdate=!0,n.matrixAutoUpdate=!1,n.matrix=t.matrix,n.hiddenMatrix=t.hiddenMatrix),n.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){return void 0!==this.playModeVisible?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&!0===this.object.dataPatched.cloner?.hideBase}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return(e=>"Mesh"===this.object.type)()}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},Am=new re,Tm=new re,x1=new Wt,lW=[new re(-1,1,1),new re(-1,-1,1),new re(1,-1,1),new re(1,1,1),new re(-1,1,-1),new re(-1,-1,-1),new re(1,-1,-1),new re(1,1,-1)],X3e=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],$3e=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],cW=(e,t,n)=>{e.updateEntityBoxSize(Am,Tm),x1.copy(t).multiply(e.matrixWorld),0===Tm.x&&0===Tm.y&&0===Tm.z?n.push(new re(Am.x,Am.y,Am.z).applyMatrix4(x1)):lW.forEach(i=>{n.push(i.clone().multiply(Tm).add(Am).applyMatrix4(x1))})},dW=class extends ys{constructor(){super(...arguments),this.matrix=new Wt,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let n=(new Wt).copy(e.matrixWorld).invert();return this.expandByObjectSize(e,n,t)}expandByObjectSize(e,t,n=!1){let i=[];return!0===n?e.traverseEntity(r=>{if(r.visible||r.cloner&&r.data.visible){if(!("geometry"in r))return void i.push(new re);cW(r,t,i)}}):cW(e,t,i),this.setFromPoints(i)}getCenter(e){return(e=super.getCenter(e)).applyMatrix4(this.matrix),e}getPositionToCenter(e){return(e=super.getCenter(e)).applyMatrix4(x1.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(Tm).multiplyScalar(.5),this.getCenter(Am),x1.copy(this.matrix).setPosition(Am),this.vertices=lW.map(e=>e.clone().multiply(Tm).applyMatrix4(x1))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=X3e.map(([e,t])=>new hd(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new re))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=$3e.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},Uf={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},K3e=class extends yj{constructor(){super()}getPoints(e=12){let n,t=[],i=this.getCurveLengths(),r=i[i.length-1]/i.length;for(let o=0,s=this.curves;o<s.length;o++){let a=s[o],c=Math.ceil(e*(0===o?i[o]:i[o]-i[o-1])/r),u=a.getPoints(c);for(let d=0;d<u.length;d++){let h=u[d];n&&n.equals(h)||(t.push(h),n=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},sk=.001;function ak(e,t,n){return t.clone().sub(e).cross(t.clone().sub(n)).length()<=sk}function lk(e,t){let n=new re(...e.position),i=new re(...e.controlNext.position),r=new re(...t.controlPrevious.position),o=new re(...t.position);return ak(n,i,o)&&ak(n,r,o)}function uW(e){let t=e.points.map(u=>new re(...u.data.position)),n=[e.points[0]],i=new re(...n[0].data.position);for(let u=0;u<e.points.length-1;u++)ak(i,t[u],t[u+1])||(n.push(e.points[u]),i=t[u]);n.push(e.points[e.points.length-1]);let r=e.isClosed,o=n.length-(r?0:1),s=n.length,a=[];for(let u=0;u<s;u++){let d=n[u].data,h=new re(...d.position),f=new re(...d.controlPrevious.position),v=new re(...d.controlNext.position),y={position:h,baseRoundness:d.roundness,controlPrevious:f,controlNext:v};if(0===d.roundness||!e.isClosed&&(0===u||u===s-1)){a[u]={...y,removedLength:0};continue}let O=n[r&&0==u?s-1:u-1].data,S=n[r&&u==s-1?0:u+1].data,D=new re(...O.position),V=new re(...S.position),Y=D.clone().sub(h).normalize(),q=V.clone().sub(h).normalize();Object.assign(y,{prevDir:Y,nextDir:q});let K=lk(O,d),te=lk(d,S);if(K&&te){let ie=Y.clone().add(q).normalize(),ae=ie.clone().cross(Y).length()/Y.dot(ie);a[u]={...y,tan:ae,removedLength:d.roundness/ae}}else a[u]={...y,removedLength:0}}for(let u=0;u<o;u++){let f=a[u],v=a[r&&u===s-1?0:u+1];if(0!==f.removedLength||0!==v.removedLength){let y=f.position.distanceTo(v.position);f.removedLength=Math.min(f.removedLength,y/2),v.removedLength=Math.min(v.removedLength,y/2)}}let l=[];for(let u=0;u<o;u++){let h=r&&u===s-1?0:u+1,f=a[u],v=a[h],y=null;if(lk(n[u].data,n[h].data)){let b=f.position.clone(),w=v.position.clone();(0!==f.removedLength||0!==v.removedLength)&&(f.nextDir&&b.add(f.nextDir.clone().setLength(f.removedLength)),v.prevDir&&w.add(v.prevDir.clone().setLength(v.removedLength))),b.distanceTo(w)>sk&&(y=new uM(b,b.clone().lerp(w,.3),w.clone().lerp(b,.3),w))}else f.position.distanceTo(v.position)>sk&&(y=new uM(f.position,f.controlNext,v.controlPrevious,v.position));l[2*u+1]=y}for(let u=0;u<s;u++){let d=a[u];if(0===d.removedLength){l[2*u]=null;continue}let h=d.position,f=d.prevDir.clone().multiplyScalar(d.removedLength).add(h),v=d.nextDir.clone().multiplyScalar(d.removedLength).add(h),y=d.tan*d.removedLength,b=d.prevDir.clone().add(d.nextDir).normalize(),w=f.clone().lerp(v,.5),O=f.distanceTo(v)/2,S=b.clone().multiplyScalar(Math.sqrt(Math.pow(y,2)-Math.pow(O,2))).add(w),D=b.clone().multiplyScalar(-y).add(S),V=h.distanceTo(D)/h.distanceTo(w),Y=d.prevDir.clone().multiplyScalar(V*h.distanceTo(f)).add(h),q=Y.clone().lerp(D,2),K=f.clone().lerp(Y,4/3),te=v.clone().lerp(q,4/3);l[2*u]=new uM(f,K,te,v)}let c=new K3e;return l.forEach(u=>{u&&c.add(u)}),c}(e=>{e.is=function t(n){return n&&n.__isEntity}})(vr||(vr={}));var up=e=>vr.is(e),Q3e={type:"completeState",isfromEntity:!0},Z3e=["x","y","z"],ck=new re,J3e=(new re).set(0,1,0),dk=e=>class extends(ok(e)){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new dW,this._recursiveBBox=new dW,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let n=this.children[t];if(vr.is(n))return n}entityChildrenCount(){let t=this.children.length;for(;t--;)if(vr.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return"string"==typeof this.identity}get isVirtualEntity(){return"string"!=typeof this.identity}get isInstanceRoot(){return this.isConcreteEntity&&"Instance"===this.data.type}nearestInstanceSelfOrParent(){let t=this;for(;"Instance"!==t.data.type;){let n=t.parent;if(!vr.is(n))return;t=n}return t}forInstancesRec(t){this.instances.forEach(n=>{n.disposed||t(n),n.forInstancesRec(t)})}super_Entity(t,n){"string"==typeof t&&(this.uuid=t),this.identity=t,this.data=n,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,n,i=!1){if(0!==this.data.states.length||i){for(let r of this.data.states)Om.toOps(this.data,r.data).forEach(o=>{let s=r3.replaceProps(o,this.data);this.dataPatched=this.data,this.updateByPatchedOp(s,this.data,n)});if(null!==t){let r=this.data.states.data(t);r&&(this.dataPatched=Om.patch(this.data,r),Om.toOps(this.data,r).forEach(o=>{this.updateByPatchedOp(o,this.dataPatched,n)}))}i&&this.updateTransformState(this.dataPatched,n),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,n){t.setScalar(0),n.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{up(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let n;return this.traverseEntity(i=>{i.uuid===t&&(n=i)}),n}traverseSortNextHelper(){let t=this.parent;if(t){let n=t.children,i=n.indexOf(this)+1;if(vr.is(n[i]))return n[i];if(vr.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&vr.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let n=this;for(;t>0&&null!==n;)n=n.parent,t-=1;return n}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let n=this.parent;for(;n;){if(t===n)return!0;n=n.parent}return!1}countToAccestor(t){let n=0,i=this;for(;i!==t;){if(null===i)return-1;i=i.parent,n+=1}return n}forEachEntity(t){for(let n of this.children)up(n)&&t(n)}traverseEntityAncestors(t){this.traverseAncestors(n=>{vr.is(n)&&t(n)})}traverseConcreteEntity(t,n=0){if(!0!==t(this,n))for(let i of this.children)up(i)&&i.isConcreteEntity&&i.traverseEntity(t,n+1)}traverseEntity(t,n=0){if(!0!==t(this,n))for(let i of this.children)up(i)&&i.traverseEntity(t,n+1)}traverseVisibleEntity(t){t(this);for(let n of this.children)up(n)&&n.visible&&n.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,n=!1){return super.copy(t,n),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>up(t))}isAncestorOf(t){if(this.uuid===t)return!1;let n=!1;return this.traverseEntity(i=>{i.uuid===t&&(n=!0)}),n}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let n={position:this.position.toArray(),rotation:[this.rotation.x*Yn.RAD2DEG,this.rotation.y*Yn.RAD2DEG,this.rotation.z*Yn.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return $T(n,t)}getTransformValues(t,n,i){return n[t].map((r,o)=>i?.shared.getVariable(r,[this.uuid,t,Z3e[o]])??r)}updateTransformState(t,n){let i=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,n)),i=!0),t.rotation&&(ck.fromArray(this.getTransformValues("rotation",t,n)).multiplyScalar(Yn.DEG2RAD),this.rotation.setFromVector3(ck),i=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,n)),i=!0),void 0!==t.hiddenMatrix&&(i=!0,this.hiddenMatrix.fromArray(t.hiddenMatrix??t1.identity)),i&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(r=>{r.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&void 0!==t.hiddenMatrix&&this.updateWorldMatrix(!1,!0),i}onVariableUpdate(t=!1){t?this.resetBBoxNeedsUpdate():(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(n=>{n.invalidateClonerTransform(this)}))}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)vr.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{vr.is(t)&&t.disposeRecursively()})}toState(t=[]){let n={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(t)};return $T(n,t)}updateByObjUpdateOp(t,n){void 0!==t&&this.updateByOp({type:0,props:t,path:[]},{...this.data,...t},n,!1)}updateByOp(t,n,i,r){let o=this.data;this.data=n;let s=t,a=gd(t.path,["states","*"]);if(null!==a){if(0===t.type){let[l]=a;if(this?.stateSelection===l){let c={...t.props};if(delete c.name,Object.values(t.props).some(u=>void 0===u)){let u=this.data;if(void 0!==u){let d=xl.zoom(u,t.path.slice(2));if(d)for(let h in t.props)void 0===t.props[h]&&h in d&&(c[h]=d[h])}}s={...t,props:c,path:t.path.slice(2)}}}}else if(0===t.type){let l=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(void 0!==l){if(void 0!==t.props.name&&l.name){let{name:u,...d}=l;l=d}if(void 0!==t.props.material&&"material"in l){let{material:u,...d}=l;l=d}let c=xl.removeOverridden(t.path,t.props,l);s={...t,props:c}}}if(this.updateByPatchedOpBase(s,Om.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),i),gd(t.path,["overrides"])){let l=[],c=[...t.path];for(l.push(c[1]),c.splice(0,2);c.length>0&&"descendants"===c[0];)l.push(c[1]),c.splice(0,2);if(void 0===l[l.length-1]){if(0===t.type)for(let u of Object.keys(t.props)){l[l.length-1]=u;let d=i.scene.findInstance([this.uuid,...l]);d&&(d.overrideData=t.props[u],d.updateState(Sf.apply(d.component.data,d.overrideData),i))}}else{let u=i.scene.findInstance([this.uuid,...l]);if(u){let d=xl.zoom(u.component.data,c);if(0===(t={...t,path:c}).type){let h=t.props;if(d)for(let[f,v]of Object.entries(t.props))void 0===v&&(h===t.props&&(h={...t.props}),h[f]=d[f]);t={...t,props:h}}u.overrideData=gP.resolve(n.overrides,l),u.updateByOp(t,Ka.applySimple(u.data,t),i,!1)}}}else if(this.instances.length>0){let l;if(0===t.path.length&&0===t.type){let c;for(let u of kf.rootOverrideProps)u in t.props&&(void 0===c&&(c={}),c[u]=t.props[u]);c&&(l={...t,props:c})}else for(let c of kf.rootOverrideProps)if(gd(t.path,[c])){l=t;break}void 0!==l&&this.instances.forEach(c=>{if(c.isInstanceRoot){let u=Sf.filterOp(c.overrideData,l);u&&c.updateByOp(u,Ka.applySimple(c.data,u),i,!0)}}),this.instances.forEach(c=>{if(!c.isInstanceRoot){let u=Sf.filterOp(c.overrideData,t);if(u){let d;d=o===c.data&&t===u?n:Ka.applySimple(c.data,u),c.updateByOp(u,d,i,!0)}}})}}updateByPatchedOpBase(t,n,i){if(this.dataPatched=n,0===t.path.length&&0===t.type)void 0!==t.props.type&&!Pm.is(t.props.type)&&Uf.changeEntityProptotype(this,n,i);else if(1===t.path.length&&"geometry"===t.path[0]&&0===t.type&&"type"in t.props){Uf.changeEntityProptotype(this,n,i);for(let r of this.children)vr.is(r)&&r.updateVisible(i.scene)}this.updateByPatchedOp(t,n,i)}updateByPatchedOp(t,n,i){if(0===t.path.length&&0===t.type&&this.updateState(t.props,i),null!==gd(t.path,["pathSnapping"])&&this.updatePathSnapping(n.pathSnapping),null!==gd(t.path,["cloner"])){let r=Ka.drop(t,1);0===r.path.length&&0===r.type&&!0===r.props.disabled?this.setFromClonerState(null,i):this.cloner?this.cloner.updateState(n.cloner,i.scene):(this.setFromClonerState(n.cloner,i),this.expandCloner(i.scene)),this.updateVisible(i.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){let n=this._updatedPathSnapping?.pathId??this.dataPatched.pathSnapping.pathId,i=this._updatedPathSnapping?.slide??this.dataPatched.pathSnapping.slide??0,r=this._updatedPathSnapping?.offset??this.dataPatched.pathSnapping.offset??0,o=this._updatedPathSnapping?.orientation??this.dataPatched.pathSnapping.orientation;if(null===n)return;let s=t.find(n);if(!s||!1===this._needApplyPathSnapping)return;this._needApplyPathSnapping=!1;let a=s.data;if(a.geometry.path.points.length<=1)return;let l=uW(a.geometry.path),c=(i+r)%1;i+r===1&&0===c&&(c=1);let u=l.getPointAt(c);if(null===u)return;let d=this.parent?this.parent?.matrixWorld:new Wt;s.updateMatrixWorld();let h=(new Wt).multiplyMatrices(d.clone().invert(),s.matrixWorld);u.applyMatrix4(h);let f={position:u.toArray(),rotation:a.rotation};if("tangential"===o){let v=(new Wt).extractRotation(s.matrixWorld),y=l.getTangentAt(c).applyMatrix4(v).add(u),b=(new Wt).lookAt(u,y,J3e),w=ck.setFromEuler((new ya).setFromRotationMatrix(b)).multiplyScalar(Yn.RAD2DEG);f={...f,rotation:w.toArray()}}this.updateTransformState(f),this.traverseEntity(v=>{v._cameraType&&v.dispatchEvent(Q3e)})}updateVisible(t){if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||!0!==this.dataPatched.cloner?.hideBase),!t)return;let n=!1;this.traverseEntity(i=>{if("Splat"===i.data.type)return n=!0,!0}),n&&t.reloadSplats()}updateState_Entity(t,n){void 0!==t.name&&(this.name=t.name),void 0!==t.raycastLock&&(this.raycastLock=t.raycastLock),void 0!==t.visible&&(this.updateVisible(n?.scene),this.resetBBoxNeedsUpdate()),n&&"cloner"in t&&void 0!==t.cloner&&(this.setFromClonerState(t.cloner,n),this.updateVisible(n.scene)),this.updateTransformState(t,n)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof Uf.Cloner&&"toObject"===t.parameters.type)}setFromClonerState(t,n){this.disposed||(null===t||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):void 0===this.cloner?(this.cloner=new Uf.Cloner(this,t),n.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,n.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}},hW=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);n.thetaLength=Yn.clamp(n.thetaLength,0,360);let i=n.width/2,r=n.radiusTop??i,o=n.radiusBottom??i;return r===o?(r=i,o=i):r>o?(r=i,o=o*i/r):(r=r*i/o,o=i),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),radiusTop:r,radiusBottom:o})}}static build(e){let v,{width:t,depth:n,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l,radiusTop:c,radiusBottom:u,cornerRadius:d,cornerSegments:h,hollow:f}=e.parameters;return 0===l?(v=new ei,v.setAttribute("position",new Dn([],3))):v=d||f?new fW(c,u,i,r,o,s,a,l*Math.PI/180,d,d,h,f):new aT(c,u,i,r,o,s,a,l*Math.PI/180),v.scale(1,1,n/t),Object.assign(v,{userData:{...e,type:"CylinderGeometry"}})}};function jf(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function pW(e){return new Ve(e.y,-e.x)}var fW=class extends ei{constructor(e,t,n,i,r,o,s,a,l,c,u,d,h=!1){super(),this.type="RoundedCylinderBufferGeometry",e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,o=void 0!==o&&o,s=void 0!==s?s:0,a=void 0!==a?a:2*Math.PI,o&&(l=0,c=0);let f=[],v=[],y=[],b=[],w=0,O=n/2,S=new re,D=new re;h&&0==e&&(e=l),h&&0==t&&(t=c);let V=new Ve(e,O),Y=new Ve(t,-O),q=null,K=null,te=null,ie=null,ae=V.clone().sub(Y),pe=0,fe=0,ge=0;d>0&&(pe=Math.min(e,t)*(1-d),fe=e-pe,ge=t-pe);let Oe=V.clone();Oe.x-=pe;let Pe=Math.PI-ae.angle(),xe=ae.angle(),_e=Math.tan(xe/2),Ue=Math.tan(Pe/2),He=_e+Ue,Re=d?He:_e;if(l=Math.min(l,(e-fe)/(d?He:Ue),ae.length()/He),c=Math.min(c,(t-ge)/Re,ae.length()/He),l>0){let Ze=l/_e;q=V.clone().sub(new Ve(Ze,l)),d&&(te=q.clone(),te.x-=pe-He*l),V.sub(ae.clone().setLength(Ze))}if(c>0){let Ze=c/Ue;K=Y.clone().sub(new Ve(Ze,-c)),Y.add(ae.clone().setLength(Ze)),d&&(ie=K.clone(),ie.x-=pe-He*c,Oe.sub(ae.clone().setLength(Ze)))}ae=V.clone().sub(Y);let Ye=ae.length()<.5,Le=[];for(let Ze=0;Ze<=i;Ze++){let mt=[],ot=Ze/i,jt=ot*a+s,At=new Ve(Math.sin(jt),Math.cos(jt));if(ie&&K?(Xe(mt,ot,At,Pe,c,ie,-1,!0),Xe(mt,ot,At,xe,c,K,-1,!1)):K?(Ge(mt,At,K.x,0,-1),Xe(mt,ot,At,xe,c,K,-1,!1)):o||Ge(mt,At,t,ge,-1),jf(pW(ae).normalize(),At,S),!Ye)for(let _n=0;_n<=r;_n++){let vn=_n/r;jf(ae.clone().multiplyScalar(vn).add(Y),At,D),v.push(D.x,D.y,D.z),y.push(S.x,S.y,S.z),b.push(ot,.5+D.y/n),mt.push(w++)}if(te&&q?(Xe(mt,ot,At,Pe,l,q,1,!1),Xe(mt,ot,At,xe,l,te,1,!0)):q?(Xe(mt,ot,At,Pe,l,q,1,!1),Ge(mt,At,q.x,0,1)):o||Ge(mt,At,e,fe,1),d&&!Ye){jf(pW(ae).multiplyScalar(-1).normalize(),At,S);for(let vn=0;vn<=r;vn++){let xn=vn/r;jf(ae.clone().multiplyScalar(-xn).add(Oe),At,D),v.push(D.x,D.y,D.z),y.push(S.x,S.y,S.z),b.push(ot,.5+D.y/n),mt.push(w++)}}d&&!o&&mt.push(mt[0]),Le.push(mt)}for(let Ze=0;Ze<Le.length-1;Ze++)for(let mt=0;mt<Le[0].length-1;mt++){if(o&&d&&mt==r)continue;let jt=Le[Ze+1][mt],At=Le[Ze+1][mt+1],Mt=Le[Ze][mt+1],_n=v[3*At+0],vn=v[3*At+2];f.push(Le[Ze][mt],jt,Mt),(0!=_n||0!=vn)&&f.push(jt,At,Mt)}function Xe(Ze,mt,ot,jt,At,Mt,_n,vn){for(let xn=0;xn<u+1;xn++){let An=xn/u,dn=_n<0?An:1-An;vn&&(dn-=1),dn*=jt;let rn=new Ve(Math.sin(dn),Math.cos(dn)*_n);jf(rn.clone().multiplyScalar(At).add(Mt),ot,D),v.push(D.x,D.y,D.z),jf(rn,ot,S),y.push(S.x,S.y,S.z),b.push(mt,.5+D.y/n),Ze.push(w++)}}function Ge(Ze,mt,ot,jt,At){let Mt=new re,_n=new Ve,vn=[ot,jt];At<0&&vn.reverse();for(let xn of vn)_n.set(xn,O*At),jf(_n,mt,Mt),v.push(Mt.x,Mt.y,Mt.z),y.push(0,At,0),b.push(.5,.5),Ze.push(w++)}function ht(Ze,mt,ot){let jt=new Ve(Math.sin(ot),Math.cos(ot)),At=new Ve(-Math.cos(ot),Math.sin(ot)),Mt=new re,_n=Ze<0?(An,dn,rn)=>f.push(An,dn,rn):(An,dn,rn)=>f.push(An,rn,dn);jf(new Ve((e+t+fe+ge)/4,0),jt,Mt),v.push(Mt.x,Mt.y,Mt.z),y.push(At.x,0,At.y),b.push(.5,.5);let xn=w++;for(let An of mt){let dn=v.slice(3*An,3*An+3);v.push(...dn),y.push(At.x,0,At.y);let rn=b.slice(2*An,2*An+2);b.push(...rn),w++}for(let An=xn+1;An<w-1;An++)_n(xn,An,An+1);_n(xn,w-1,xn+1)}a<2*Math.PI&&(ht(-1,Le[0],s),ht(1,Le[Le.length-1],s+a)),this.setIndex(f),this.setAttribute("position",new Dn(v,3)),this.setAttribute("normal",new Dn(y,3)),this.setAttribute("uv",new Dn(b,2))}},uk=Math.PI/2,nke=class extends ei{constructor(e=1,t=1,n=1,i=1,r=1,o=1,s=0,a=4){super(),this.type="BoxGeometry";let l=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o),a=Math.floor(a),s=Math.min(s,e/2,t/2,n/2);let c=[],u=[],d=[],h=[],f=0,v=0;function y(O,S,D,V,Y,q,K,te,ie,ae,pe){let fe=(q-2*s)/ie,ge=(K-2*s)/ae,Oe=q/2-s,Pe=K/2-s,xe=te/2,_e=ie+1,Ue=ae+1,He=0,ze=0,Re=new re;for(let Ye=0;Ye<Ue;Ye++){let Le=Ye*ge-Pe;for(let Xe=0;Xe<_e;Xe++)Re[O]=(Xe*fe-Oe)*V,Re[S]=Le*Y,Re[D]=xe,u.push(Re.x,Re.y,Re.z),Re[O]=0,Re[S]=0,Re[D]=te>0?1:-1,d.push(Re.x,Re.y,Re.z),h.push(Xe/ie),h.push(1-Ye/ae),He+=1}for(let Ye=0;Ye<ae;Ye++)for(let Le=0;Le<ie;Le++){let Ge=f+Le+_e*(Ye+1),ht=f+(Le+1)+_e*(Ye+1),Ze=f+(Le+1)+_e*Ye;c.push(f+Le+_e*Ye,Ge,Ze),c.push(Ge,ht,Ze),ze+=6}l.addGroup(v,ze,pe),v+=ze,f+=He}function b(O,S,D,V,Y,q,K,te,ie,ae,pe){let fe=(K-2*s)/ae,ge=K/2-s,Oe=te/2-s,Pe=ie/2,xe=ae+1,_e=0,Ue=0,He=new re,ze=new re;for(let Re=0;Re<a+1;Re++){let Ye=Re/a*uk,Le=Math.sin(Ye)*s,Xe=(1-Math.cos(Ye))*s,Ge=Math.sin(Ye),ht=Math.cos(Ye);He[S]=(Oe+Le)*Y,He[D]=(Pe-Xe)*q,ze[O]=0,ze[S]=Ge*Math.sign(He[S]),ze[D]=ht*Math.sign(He[D]);for(let Ze=0;Ze<xe;Ze++)He[O]=(Ze*fe-ge)*V,u.push(He.x,He.y,He.z),d.push(ze.x,ze.y,ze.z),h.push(Ze/ae),h.push(0),_e+=1}for(let Re=0;Re<a;Re++)for(let Ye=0;Ye<ae;Ye++){let Xe=f+Ye+xe*(Re+1),Ge=f+(Ye+1)+xe*(Re+1),ht=f+(Ye+1)+xe*Re;c.push(f+Ye+xe*Re,Xe,ht),c.push(Xe,Ge,ht),Ue+=6}l.addGroup(v,Ue,pe),v+=Ue,f+=_e}function w(O,S,D){let V=new re,Y=new re(e/2,t/2,n/2);Y.subScalar(s);let q=[],K=O*S*D>0?(ie,ae,pe)=>c.push(ie,ae,pe):(ie,ae,pe)=>c.push(ie,pe,ae);for(let ie=0;ie<=a;ie++){let ae=[],pe=uk*(1-ie/a),fe=Math.cos(pe),ge=Math.sin(pe),Oe=0;for(let Pe=0;Pe<=ie;Pe++){let xe=Math.cos(Oe),_e=Math.sin(Oe);V.x=fe*xe,V.y=ge,V.z=fe*_e;let Ue=Y.clone().addScaledVector(V,s);u.push(O*Ue.x,S*Ue.y,D*Ue.z),d.push(O*V.x,S*V.y,D*V.z),h.push(0,0),ae.push(f++),Oe+=uk/ie}q.push(ae)}let te=q.length-1;for(let ie=0;ie<te;ie++){let ae=q[ie],pe=q[ie+1],fe=ae.length-1;K(ae[0],pe[1],pe[0]);for(let ge=1;ge<=fe;ge++)K(ae[ge-1],ae[ge],pe[ge]),K(ae[ge],pe[ge+1],pe[ge])}}y("z","y","x",-1,-1,n,t,e,o,r,0),y("z","y","x",1,-1,n,t,-e,o,r,1),y("x","z","y",1,1,e,n,t,i,o,2),y("x","z","y",1,-1,e,n,-t,i,o,3),y("x","y","z",1,-1,e,t,n,i,r,4),y("x","y","z",-1,-1,e,t,-n,i,r,5),s>0&&(b("z","y","x",-1,-1,1,n,t,e,o,0),b("z","y","x",1,-1,-1,n,t,e,o,1),b("z","y","x",-1,1,-1,n,t,e,o,1),b("z","y","x",1,1,1,n,t,e,o,0),b("x","y","z",-1,-1,-1,e,t,n,i,0),b("x","y","z",1,-1,1,e,t,n,i,1),b("x","y","z",-1,1,1,e,t,n,i,0),b("x","y","z",1,1,-1,e,t,n,i,1),b("y","x","z",-1,-1,1,t,e,n,r,0),b("y","x","z",1,-1,-1,t,e,n,r,1),b("y","x","z",1,1,1,t,e,n,r,1),b("y","x","z",-1,1,-1,t,e,n,r,0),w(1,1,1),w(-1,1,1),w(1,-1,1),w(-1,-1,1),w(1,1,-1),w(-1,1,-1),w(1,-1,-1),w(-1,-1,-1)),this.setIndex(c),this.setAttribute("position",new Dn(u,3)),this.setAttribute("normal",new Dn(d,3)),this.setAttribute("uv",new Dn(h,2))}},hk=class extends ei{constructor(e=[],t=[],n="",i=1,r=.2,o=4){super(),this.type="PolyhedronGeometryRound";let s=[],a=[],l=[];return function c(){0==(r=Math.min(.99999,r))&&(o=0);let d={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[n],h=new re,f=h.clone(),v=new Xa,y=r*i,b=i-y,w=o+1,O=new re,S=(xe,_e)=>O.subVectors(xe,_e).normalize(),D=(xe,_e)=>Array(xe).fill(void 0).map(_e),V=D(e.length/3,(xe,_e)=>(new re).fromArray(e,3*_e).setLength(i)),Y=[],q=1e6;for(let xe=0;xe<V.length;xe++){let He,ze,Re,_e=V[xe],Ue=[],Ye=1e10,Le=-1;for(;-1!=(Le=t.indexOf(xe,Le+1));){let Ze=Le-Le%3;He=t[Ze+(Le+1)%3],ze=t[Ze+(Le+2)%3],Re=_e.distanceToSquared(V[He]),Ye=Math.min(Ye,Re),Ue.push([He,ze,Re])}Ye+=1e-6;let Xe=[],Ge=0,ht=Ue.length;for(let Ze=0;Ze<ht;Ze++){[He,ze,Re]=Ue[Ge];let mt=1==Y[He]?.includes(xe);Re<=Ye&&Xe.push(He+ +mt*q),Ge=Ue.findIndex(ot=>ot[0]==ze)}Y.push(Xe)}let K=[];{let Ue,He,xe=0,_e=0,ze=3==d;for(let Re=0;Re<=o;Re++){Ue=Re*(Re+1)/2,He=(Re+1)*(Re+2)/2;for(let Ye=0;Ye<o-Re;Ye++)[xe,_e]=[Ue+Ye+Re+2,He+Ye+Re+3],K.push(Ue,He,...ze?[_e,Ue]:[xe,He],_e,xe),[Ue,He]=[xe,_e];K.push(Ue,He,Ue+o+2)}}let te=h.clone(),ie=h.clone(),ae=h.clone(),pe=h.clone(),fe=h.clone(),ge=[],Oe=D(V.length,()=>D(d,()=>h.clone()));for(let xe=0;xe<V.length;xe++){h.copy(V[xe]).normalize(),te.copy(h).multiplyScalar(b);let _e=Y[xe];for(let Xe=0;Xe<_e.length;Xe++)v.setFromPointsAndIndices(V,xe,_e[Xe]%q,_e[(Xe+1)%d]%q),v.b.sub(v.a).setLength(1e10).add(v.a),v.c.sub(v.a).setLength(1e10).add(v.a),v.closestPointToPoint(te,Oe[xe][Xe]);let Ue=[],He=[],ze=[],Re=new re;0==o&&[...Oe[xe]].reduce((Xe,Ge)=>Xe.add(Ge),Re).multiplyScalar(1/d);for(let Xe=0;Xe<d;Xe++){let Ge=[],Ze=Oe[xe][(Xe-1+d)%d],mt=Oe[xe][Xe];h.copy(Ze).sub(te),f.copy(mt).sub(te);let ot=te.angleTo(h),jt=h.angleTo(f),At=Math.cos(ot)*y;0==o?ie.copy(Re):ie.copy(te).setLength(b+At),He.push(At);let Mt=[ie,Ze,mt];for(let _n=0;_n<2;_n++){let vn=Mt[_n],xn=Mt[_n+1];pe.subVectors(vn,te),fe.subVectors(xn,te),ae.crossVectors(pe,fe).normalize();for(let An=0;An<w;An++){let dn=[ot,jt][_n]*An/w;h.copy(pe).applyAxisAngle(ae,dn).add(te),Ue.push(h.clone()),_n&&(S(h,te),Ge.push([0==An?vn:h.clone(),O.clone()]))}_n&&(S(xn,te),Ge.push([xn,O.clone()]))}ze.push(Ge)}ge.push(ze);let Ye=2*w,Le=2;for(let Xe=0;Xe<d;Xe++){let Ge=Ye*Xe,ht=Ye*((Xe+1)%d),Ze=[Ue[Ge]];for(let ot=1;ot<w;ot++){pe=Ue[Ge+ot],fe=Ue[ht+ot],Ze.push(pe);for(let jt=1,At=ot-Le+1;jt<=At;jt++)h.lerpVectors(pe,fe,jt/(At+1)),h.sub(te).setLength(He[Xe]).add(te),Ze.push(h.clone());Ze.push(fe)}for(let ot=0;ot<w;ot++)Ze.push(Ue[ot+w+Ge]);Ze.push(Ue[ht+w]);let mt=K.map(ot=>Ze[ot]);s.push(...mt.map(ot=>[ot.x,ot.y,ot.z]).flat()),l.push(...mt.map(ot=>(S(ot,te),[O.x,O.y,O.z])).flat())}}let Pe=[];for(let xe=0;xe<Y.length;xe++)for(let _e=0;_e<d;_e++){let Ue=Y[xe][_e];if(Ue<q){let He=Y[Ue].findIndex(Ye=>Ye%q==xe),ze=ge[xe][_e],Re=ge[Ue][He];for(let Ye=0;Ye<w;Ye++){let Xe=Re[w-Ye],Ge=ze[Ye+1];[ze[Ye],Xe,Ge,Ge,Xe,Re[w-(Ye+1)]].forEach(Ze=>{s.push(Ze[0].x,Ze[0].y,Ze[0].z),l.push(Ze[1].x,Ze[1].y,Ze[1].z)})}Pe.push(ze[0][0],Re[w][0],ze[w][0],Re[0][0])}}for(;Pe.length;){let xe,_e,Ue,He;[xe,_e]=Pe.splice(0,2);let ze=[xe];for(;xe!=_e;)ze.push(_e),Ue=Pe.indexOf(_e),He=Ue%2,_e=Pe.splice(Ue-He,2)[1-He];O.subVectors(ze[0],ze[1]).cross(h.subVectors(ze[0],ze[2])).normalize();let Re=O.dot(ze[0])<0;Re&&O.negate();for(let Ye=1;Ye<=ze.length-2;Ye++)[ze[Ye+ +Re],ze[Ye+1-+Re],ze[0]].forEach(Le=>{s.push(Le.x,Le.y,Le.z),l.push(O.x,O.y,O.z)})}}(),function u(){let d=new re;for(let Y=0;Y<s.length;Y+=3){d.x=s[Y+0],d.y=s[Y+1],d.z=s[Y+2];let q=D(d)/2/Math.PI+.5,K=V(d)/Math.PI+.5;a.push(q,1-K)}let h=new re,f=new re,v=new re,y=new re,b=new Ve,w=new Ve,O=new Ve,S=(Y,q,K,te)=>{te<0&&1===Y.x&&(a[q]=Y.x-1),0===K.x&&0===K.z&&(a[q]=te/2/Math.PI+.5)};for(let Y=0,q=0;Y<s.length;Y+=9,q+=6){h.set(s[Y+0],s[Y+1],s[Y+2]),f.set(s[Y+3],s[Y+4],s[Y+5]),v.set(s[Y+6],s[Y+7],s[Y+8]),b.set(a[q+0],a[q+1]),w.set(a[q+2],a[q+3]),O.set(a[q+4],a[q+5]),y.copy(h).add(f).add(v).divideScalar(3);let K=D(y);S(b,q+0,h,K),S(w,q+2,f,K),S(O,q+4,v,K)}for(let Y=0;Y<a.length;Y+=6){let q=a[Y+0],K=a[Y+2],te=a[Y+4],ie=Math.max(q,K,te),ae=Math.min(q,K,te);ie>.9&&ae<.1&&(q<.2&&(a[Y+0]+=1),K<.2&&(a[Y+2]+=1),te<.2&&(a[Y+4]+=1))}function D(Y){return Math.atan2(Y.z,-Y.x)}function V(Y){return Math.atan2(-Y.y,Math.sqrt(Y.x*Y.x+Y.z*Y.z))}}(),this.setAttribute("position",new Dn(s,3)),this.setAttribute("normal",new Dn(l,3)),void this.setAttribute("uv",new Dn(a,2))}static fromJSON(e){return new hk(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},gW=class extends hk{constructor(e=1,t=.2,n=4){let i=(1+Math.sqrt(5))/2,r=1/i,a="DodecahedronGeometry";super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,e,t,n),this.type=a}static fromJSON(e){return new gW(e.radius,e.corner,e.cornerSides)}},A_=1e-12,pk=class{constructor(e){this.position=new Ve,this.startPosition=new Ve,this.uuid=Yn.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new pk(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},fk=class extends pk{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new fk(this.parent).copy(this)}},w1=class extends pk{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new fk(this),new fk(this))}static create(e,t){let n=new w1(e,new Ve(...t.position));return n.controls[0].position.set(...t.controlPrevious.position),n.controls[1].position.set(...t.controlNext.position),n.roundness=t.roundness,n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,n}getOppositeControl(e){let t=this.controls.indexOf(e);return 0===t?this.controls[1]:1===t?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let n=0,i=this.controls.length;n<i;n++){let r=this.controls[n];this.position.distanceTo(r.position)<=t?r.position.copy(this.position):r.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new w1(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){let e=this.curveBefore?.getTangentAt(1),t=this.curveAfter?.getTangentAt(0);return[e,t]}computeNormals(e=new Ve,t=new Ve){let[n,i]=this.computeTangents();return n&&i&&(mW(n,e),mW(i,t)),[e,t]}computeTangent(e=new Ve){let[t,n]=this.computeTangents();return t&&n&&e.copy(t).add(n).normalize(),e}computeNormal(e=new Ve){let[t,n]=this.computeNormals();return e.copy(t).add(n).normalize(),e}};function mW(e,t=new Ve){let n=e.length();return t.set(-e.y/n,e.x/n)}var C1=new Ve,IP=new Ve,rke=new Ve,oke=new Ve,ske=new Ve,ake=new Ve,vW=new re,yW=new re;function lke(e){let t=new Ve;t.addVectors(e.v0,C1.subVectors(e.v1,e.v0).multiplyScalar(2/3));let n=new Ve;return n.addVectors(e.v2,IP.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new $d(e.v0,t,n,e.v2)}function T_(e,t,n=Number.EPSILON){return Math.abs(e-t)<n}function cke(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function dke(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function bW(e,t,n){let i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),o=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return Math.acos((r*r+i*i-o*o)/(2*r*i))}function uke(e,t,n){return xW(e,t)&&xW(t,n)&&mk(e.position,t.position,n.position)}function mk(e,t,n){return 0===C1.copy(t).sub(e).cross(IP.copy(n).sub(e))}function hke(e,t,n,i,r){let o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=(e.y+t.y)/2,a=(e.x+t.x)/2,l=Math.sqrt(Math.pow(n,2)-Math.pow(o/2,2))*(e.y-t.y)/o,c=Math.sqrt(Math.pow(n,2)-Math.pow(o/2,2))*(t.x-e.x)/o;return i.set(a+l,s+c),r.set(a-l,s-c),[i,r]}function pke(e,t,n){return e.distanceTo(n)<t.distanceTo(n)?t:e}function fke(e,t,n,i,r,o){let d,s=t.x-e.x,a=t.y-e.y,l=n.x-e.x,c=n.y-e.y,u=Math.sqrt((s+l)*(s+l)+(a+c)*(a+c));return bW(t,e,n)>Math.PI&&(u*=-1),d=T_(c,a)?(a+c)*(i/u-.5)*8/3/(s-l):(s+l)*(i/u-.5)*8/3/(c-a),r.set(t.x-d*a,t.y+d*s),o.set(n.x+d*c,n.y-d*l),[r,o]}function _W(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function xW(e,t){return mk(e.position,e.controls[1].position,t.position)&&mk(e.position,t.controls[0].position,t.position)}function wW(e,t=12,n=!1){let i=[];for(let r=0,o=e.length;r<o;r++){let s=e[r],a=0;if(n&&void 0!==s.roundedCurveCorner){let l=.5*km(s.roundedCurveCorner,t);r>0&&(i[r-1]+=l),a+=l}void 0!==s.curveAfter&&(a+=km(s.curveAfter,t)),i.push(a)}return e.length>0&&n&&void 0!==e[0].roundedCurveCorner&&(i[e.length-1]+=.5*km(e[0].roundedCurveCorner,t)),i}function km(e,t=12){return e&&e instanceof cM?2*t:e&&(e instanceof Kd||e instanceof vj)?1:e&&e instanceof sT?t*e.points.length:t}var ao,Ls,vk=new Ve,bke=new Ve,_ke=new Ve,xke=new Ve,wke=new Ve,Cke=new Ve,os=class extends pM{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new Tc(new re(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=Yn.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,n){let i=new os;return i.isClosed=e.isClosed,i.points=e.points.map(r=>w1.create(r.id,r.data)),"number"==typeof e.roundness&&(i.roundness=e.roundness),i.shapeHoles=e.shapeHoles.map(r=>os.createFromState(r)),void 0!==t&&void 0!==n&&i.applySize(t,n),i.update(),i}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,n=this.points.length;t<n;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,n=this.points.findIndex(i=>i.uuid===e);if(n<0){let i=t;for(let r=0,o=this.shapeHoles.length;r<o;r++){let s=this.shapeHoles[r],a=s.points.length,l=s.getPointIndexById(e);if(!(l<0))return l+i;i+=a}}return n}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let n=0,i=this.shapeHoles.length;n<i;n++){let r=this.shapeHoles[n],o=e-t;if(o<=r.points.length-1)return r.points[o];t+=r.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let n=0,i=this.shapeHoles.length;n<i;n++){let r=this.shapeHoles[n],o=r.points.indexOf(e);if(o>=0)return t+o;t+=r.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){0===e&&(e=.001),0===t&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let n=vk.set(e,t);for(let i=0,r=this.points.length;i<r;i++){let o=this.points[i];o.position.multiply(n),o.controls[0].position.multiply(n),o.controls[1].position.multiply(n)}for(let i=0,r=this.shapeHoles.length;i<r;i++)this.shapeHoles[i].applyScale(e,t);this._update()}createPoint(e,t=0,n=Yn.generateUUID()){let i;i=e instanceof Ve?e:new Ve(e,t);let r=new w1(n,i);return r.roundness=this.roundness,r}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];if(i.uuid===e)return i}for(let t=0,n=this.shapeHoles.length;t<n;t++){let i=this.shapeHoles[t].getPointByUuid(e);if(i)return i}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(n=>n.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,n=!1){this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t);let i=n?this.roundedCurveDivisions:this.curveDivisions;return function mke(e,t,n=12,i=!0){let o,r=yW.set(0,0,0),s=0,a=[];for(let l=0;l<t.length;l++){let c=t[l],u=C1,d=km(c,n);a.push(d);for(let h=0;h<=d;h++)if(c instanceof $d||c instanceof Cf||c instanceof Kd){if(c.getPoint(h/d,u),r.set(u.x,u.y,0),void 0!==o&&dke(o,r))continue;void 0===o&&(o=vW),o.copy(r),e.setXYZ(s,r.x,r.y,r.z),s++}}i&&s>1&&!(e.getX(s-1)===e.getX(0)&&e.getY(s-1)===e.getY(0)&&e.getZ(s-1)===e.getZ(0))&&(e.setXYZ(s,e.getX(0),e.getY(0),e.getZ(0)),s++)}(e,n?this.roundedCurves:this.curves,t,this.autoClose),i.reduce((r,o)=>r+o,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=wW(this.points,e,!1),this.roundedCurveDivisions=wW(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,n=12){return 2*function vke(e,t,n,i=12,r=!0){let o=yW.set(0,0,0),s=0,a=[];for(let l=0;l<t.length;l++){if(!1===n[l])continue;let c,u=t[l],d=C1,h=km(u,i);a.push(h);for(let f=0;f<=h;f++)if(u instanceof $d||u instanceof Cf||u instanceof Kd){if(u.getPoint(f/h,d),o.set(d.x,d.y,0),c?.equals(o))continue;void 0===c?c=vW:(e.setXYZ(s,c.x,c.y,c.z),s++,e.setXYZ(s,o.x,o.y,o.z),s++),c.copy(o)}}return r&&s>1&&!(e.getX(s-1)===e.getX(0)&&e.getY(s-1)===e.getY(0)&&e.getZ(s-1)===e.getZ(0))&&(e.setXYZ(s,e.getX(0),e.getY(0),e.getZ(0)),s++),a}(e,this.curves,t,n,this.autoClose).reduce((i,r)=>i+r,0)}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t),function yke(e,t,n=12,i=!0){let r,o=0;for(let s=0;s<t.length;s++){let a=t[s],l=km(a,n),c=C1;for(let u=0;u<=l;u++)if(a instanceof $d||a instanceof Cf||a instanceof Kd){if(a.getPoint(u/l,c),void 0!==r&&cke(r,c,A_))continue;void 0===r&&(r=IP),r.copy(c),e.push(c.x,c.y),o++}}return T_(e[0],e[e.length-2],A_)&&T_(e[1],e[e.length-1],A_)&&(e.pop(),e.pop()),i&&o>1&&!(T_(e[o-1],e[1],A_)&&T_(e[o-2],e[0],A_))&&(e.push(e[0],e[1]),o++),e}(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let n=0;void 0===this.curveDivisions&&this.computeCurveDivisions(this.subdivision);let i=t?this.roundedCurveDivisions:this.curveDivisions,r=0;t&&void 0!==this.points[0].roundedCurveCorner&&(r=.5*km(this.points[0].roundedCurveCorner,this.subdivision));let o=e-r;o<0&&(o+=i.reduce((s,a)=>s+a,0));for(let s=0,a=i.length;s<a;s++){let l=i[s];if(o<n+l)return[s,(o-n+1)/l];n+=l}return[0,1]}getCurveT(e,t,n){let i=this.points[e],r=this.points[e>=this.points.length-1?0:e+1],o=this.curveDivisions,s=o[e];if(_W(i,r)){let l=i.position.distanceTo(r.position);return i.position.distanceTo(vk.set(n.x,n.y))/l}let a=0;for(let l=0;l<e;l++)a+=o[l];return(t-a)/s}dispose(){}_applyCurveForPoint(e,t){_W(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let n=this.curves[this.curves.length-1];e.curveBefore=n,t.curveAfter=n;let i=n.clone();e.roundedCurveBefore=i,t.roundedCurveAfter=i,e.roundedCurveCorner=void 0,this.roundedCurves.push(i)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let t=0,n=this.points.length;t<n;t++){let i=this.points[t];0===t?this.moveTo(i.position.x,i.position.y):this._applyCurveForPoint(i,this.points[t-1])}let e=this.getLastPoint();if(e?.curveAfter&&(e.curveAfter=void 0),this.isClosed&&this._applyCurveForPoint(this.points[0],this.points[this.points.length-1]),this.points.length>2){let t=0;for(let n=0,i=this.points.length;n<i;n++){let r=this.points[n],o=this.points[n-1]??this.points[this.points.length-1],s=this.points[n+1]??this.points[0],a=r.roundness,l=o&&s&&uke(o,r,s);if(!r.controlsMoved()&&a>0&&!l){let c=r.curveBefore,u=r.curveAfter;if(void 0===c||void 0===u)continue;let Y,d=r.roundedCurveBefore,h=r.roundedCurveAfter,f=c.getLength(),v=u.getLength(),y=Math.min(a,.499*f),b=Math.min(a,.499*v),w=Math.min(y,b),O=1-w/f,S=w/v,D=c.getPointAt(O,vk),V=u.getPointAt(S,bke);if(this._subSplitCurve(c,d,O,D,void 0),this._subSplitCurve(u,h,S,void 0,V),this.useCubicForRoundedCorners){let q=bW(D,r.position,V)/2,K=Math.tan(q)*D.distanceTo(r.position),[te,ie]=hke(D,V,K,_ke,xke),ae=pke(te,ie,r.position),[pe,fe]=fke(ae,D,V,K,wke,Cke);Y=new $d(D.clone(),pe.clone(),fe.clone(),V.clone())}else Y=new Cf(D.clone(),r.position.clone(),V.clone());r.roundedCurveCorner=Y,this.roundedCurves.splice(n+t,0,Y),t++}}}}_subSplitCurve(e,t,n,i,r){if(!(e instanceof Kd)){let o=e,s=t,a=o.getUtoTmapping(n,0),l=function gke(e,t,n,i,r=.5){let o=C1.subVectors(t,e).multiplyScalar(r).add(e),s=IP.subVectors(n,t).multiplyScalar(r).add(t),a=rke.subVectors(i,n).multiplyScalar(r).add(n),l=o,c=oke.subVectors(s,o).multiplyScalar(r).add(o),u=ske.subVectors(a,s).multiplyScalar(r).add(s),d=a,h=ake.subVectors(u,c).multiplyScalar(r).add(c);return[e.x,e.y,l.x,l.y,c.x,c.y,h.x,h.y,u.x,u.y,d.x,d.y,i.x,i.y]}(o.v0,o.v1,o.v2,o.v3,a);return void 0!==i&&(s.v0.set(l[0],l[1]),s.v1.set(l[2],l[3]),s.v2.set(l[4],l[5]),s.v3.set(l[6],l[7])),void 0!==r&&(s.v0.set(l[6],l[7]),s.v1.set(l[8],l[9]),s.v2.set(l[10],l[11]),s.v3.set(l[12],l[13])),s}return void 0!==i&&t.v2.copy(i),void 0!==r&&t.v1.copy(r),t}clone(){let e=new os(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let n=0;n<t;n++){let i=7*n,r=e.points[i+0],o=e.points[i+1],s=e.points[i+2],a=e.points[i+3],l=e.points[i+4],c=e.points[i+5],u=e.points[i+6],d=new w1(Yn.generateUUID(),new Ve(r,o));d.controls[0].position.set(s,a),d.controls[1].position.set(l,c),d.roundness=u,this.points.push(d)}return this.shapeHoles=e.shapeHoles?.length?e.shapeHoles.map(n=>{let i=new os;return i.fromJSON(n),i}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let n=(r,o)=>{o instanceof $d&&o.v3.equals(r.position)&&r.controls[0].position.copy(o.v2)};return this.points=(r=>{let s,a,o=[];for(s=0,a=r.length;s<a;s++)r[s]instanceof Cf&&(r[s]=lke(r[s]));for(s=0,a=r.length;s<a;s++){let h,u=r[s],d=s>0?r[s-1]:null;u instanceof $d?(h=this.createPoint(u.v0),h.controls[1].position.copy(u.v1)):u instanceof Kd&&(h=this.createPoint(u.v1)),void 0!==h&&(null!==d&&n(h,d),o.push(h))}let l=r[r.length-1],c=!1;return l instanceof $d?l.v3.equals(o[0].position)&&(o[0].controls[0].position.copy(l.v2),c=!0):l instanceof Kd&&l.v2.equals(o[0].position)&&(c=!0),this.isClosed=c,o})(e.curves),e instanceof pM&&(this.shapeHoles=e.holes.map(r=>{let o=new os;return o.fromShape(r),o})),this.update(),this}updatePoint(e,t){let n=this.getPointByUuid(e);n&&(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.roundness&&(n.roundness=t.roundness),void 0!==t.areControlsDirectionsMirrored&&(n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){let n=this.getPointByUuid(e)?.controls[0];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){let n=this.getPointByUuid(e)?.controls[1];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}},yk=2*Math.PI;function bk({x:e,y:t},n,i,r,o){return{x:e*n+r,y:t*i+o}}function Mke(e,t){let n=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:1.3333333333333333*Math.tan(t/4),i=Math.cos(e),r=Math.sin(e),o=Math.cos(e+t),s=Math.sin(e+t);return[{x:i-r*n,y:r+i*n},{x:o+s*n,y:s-o*n},{x:o,y:s}]}function CW(e,t,n,i){let r=e*i-t*n<0?-1:1,o=Math.min(1,Math.max(-1,e*n+t*i));return r*Math.acos(o)}function gi(e,t){if(!e)throw t||"Assertion Failed!"}!function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"}(ao||(ao={})),function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"}(Ls||(Ls={}));var ii=function(){function e(){}return e.vertEq=function(t,n){return t.s===n.s&&t.t===n.t},e.vertLeq=function(t,n){return t.s<n.s||t.s===n.s&&t.t<=n.t},e.transLeq=function(t,n){return t.t<n.t||t.t===n.t&&t.s<=n.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,n){return Math.abs(t.s-n.s)+Math.abs(t.t-n.t)},e.edgeEval=function(t,n,i){gi(e.vertLeq(t,n)&&e.vertLeq(n,i));var r=n.s-t.s,o=i.s-n.s;return r+o>0?r<o?n.t-t.t+r/(r+o)*(t.t-i.t):n.t-i.t+o/(r+o)*(i.t-t.t):0},e.edgeSign=function(t,n,i){gi(e.vertLeq(t,n)&&e.vertLeq(n,i));var r=n.s-t.s,o=i.s-n.s;return r+o>0?(n.t-i.t)*r+(n.t-t.t)*o:0},e.transEval=function(t,n,i){gi(e.transLeq(t,n)&&e.transLeq(n,i));var r=n.t-t.t,o=i.t-n.t;return r+o>0?r<o?n.s-t.s+r/(r+o)*(t.s-i.s):n.s-i.s+o/(r+o)*(i.s-t.s):0},e.transSign=function(t,n,i){gi(e.transLeq(t,n)&&e.transLeq(n,i));var r=n.t-t.t,o=i.t-n.t;return r+o>0?(n.s-i.s)*r+(n.s-t.s)*o:0},e.vertCCW=function(t,n,i){return t.s*(n.t-i.t)+n.s*(i.t-t.t)+i.s*(t.t-n.t)>=0},e.interpolate=function(t,n,i,r){return(t=t<0?0:t)<=(i=i<0?0:i)?0===i?(n+r)/2:n+t/(t+i)*(r-n):r+i/(t+i)*(n-r)},e.intersect=function(t,n,i,r,o){var s,a,l;e.vertLeq(t,n)||(l=t,t=n,n=l),e.vertLeq(i,r)||(l=i,i=r,r=l),e.vertLeq(t,i)||(l=t,t=i,i=l,l=n,n=r,r=l),e.vertLeq(i,n)?e.vertLeq(n,r)?((s=e.edgeEval(t,i,n))+(a=e.edgeEval(i,n,r))<0&&(s=-s,a=-a),o.s=e.interpolate(s,i.s,a,n.s)):((s=e.edgeSign(t,i,n))+(a=-e.edgeSign(t,r,n))<0&&(s=-s,a=-a),o.s=e.interpolate(s,i.s,a,r.s)):o.s=(i.s+n.s)/2,e.transLeq(t,n)||(l=t,t=n,n=l),e.transLeq(i,r)||(l=i,i=r,r=l),e.transLeq(t,i)||(l=t,t=i,i=l,l=n,n=r,r=l),e.transLeq(i,n)?e.transLeq(n,r)?((s=e.transEval(t,i,n))+(a=e.transEval(i,n,r))<0&&(s=-s,a=-a),o.t=e.interpolate(s,i.t,a,n.t)):((s=e.transSign(t,i,n))+(a=-e.transSign(t,r,n))<0&&(s=-s,a=-a),o.t=e.interpolate(s,i.t,a,r.t)):o.t=(i.t+n.t)/2},e}(),k_=function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1},RP=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),M1=function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0},MW=function(){function e(){var t=new M1,n=new k_,i=new RP(0),r=new RP(1);t.next=t.prev=t,t.anEdge=null,n.next=n.prev=n,i.next=i,i.Sym=r,r.next=r,r.Sym=i,this.vHead=t,this.fHead=n,this.eHead=i,this.eHeadSym=r}return e.prototype.makeEdge_=function(t){var n=new RP(0),i=new RP(1);t.Sym.side<t.side&&(t=t.Sym);var r=t.Sym.next;return i.next=r,r.Sym.next=n,n.next=t,t.Sym.next=i,n.Sym=i,n.Onext=n,n.Lnext=i,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,i.Sym=n,i.Onext=i,i.Lnext=n,i.Org=null,i.Lface=null,i.winding=0,i.activeRegion=null,n},e.prototype.splice_=function(t,n){var i=t.Onext,r=n.Onext;i.Sym.Lnext=n,r.Sym.Lnext=t,t.Onext=r,n.Onext=i},e.prototype.makeVertex_=function(t,n,i){var r=t;gi(r,"Vertex can't be null!");var o=i.prev;r.prev=o,o.next=r,r.next=i,i.prev=r,r.anEdge=n;var s=n;do{s.Org=r,s=s.Onext}while(s!==n)},e.prototype.makeFace_=function(t,n,i){var r=t;gi(r,"Face can't be null");var o=i.prev;r.prev=o,o.next=r,r.next=i,i.prev=r,r.anEdge=n,r.trail=null,r.marked=!1,r.inside=i.inside;var s=n;do{s.Lface=r,s=s.Lnext}while(s!==n)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var n=t.next,i=t.Sym.next;n.Sym.next=i,i.Sym.next=n},e.prototype.killVertex_=function(t,n){var i=t.anEdge,r=i;do{r.Org=n,r=r.Onext}while(r!==i);var o=t.prev,s=t.next;s.prev=o,o.next=s},e.prototype.killFace_=function(t,n){var i=t.anEdge,r=i;do{r.Lface=n,r=r.Lnext}while(r!==i);var o=t.prev,s=t.next;s.prev=o,o.next=s},e.prototype.makeEdge=function(){var t=new M1,n=new M1,i=new k_,r=this.makeEdge_(this.eHead);return this.makeVertex_(t,r,this.vHead),this.makeVertex_(n,r.Sym,this.vHead),this.makeFace_(i,r,this.fHead),r},e.prototype.splice=function(t,n){var i=!1,r=!1;if(t!==n){if(n.Org!==t.Org&&(r=!0,this.killVertex_(n.Org,t.Org)),n.Lface!==t.Lface&&(i=!0,this.killFace_(n.Lface,t.Lface)),this.splice_(n,t),!r){var o=new M1;this.makeVertex_(o,n,t.Org),t.Org.anEdge=t}if(!i){var s=new k_;this.makeFace_(s,n,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var n=t.Sym,i=!1;if(t.Lface!==t.Rface&&(i=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!i){var r=new k_;this.makeFace_(r,t,t.Lface)}n.Onext===n?(this.killVertex_(n.Org,null),this.killFace_(n.Lface,null)):(t.Lface.anEdge=n.Oprev,n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var n=this.makeEdge_(t),i=n.Sym;this.splice_(n,t.Lnext),n.Org=t.Dst;var r=new M1;return this.makeVertex_(r,i,n.Org),n.Lface=i.Lface=t.Lface,n},e.prototype.splitEdge=function(t){var i=this.addEdgeVertex(t).Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,i),t.Dst=i.Org,i.Dst.anEdge=i.Sym,i.Rface=t.Rface,i.winding=t.winding,i.Sym.winding=t.Sym.winding,i.idx=t.idx,i.Sym.idx=t.Sym.idx,i},e.prototype.connect=function(t,n){var i=!1,r=this.makeEdge_(t),o=r.Sym;if(n.Lface!==t.Lface&&(i=!0,this.killFace_(n.Lface,t.Lface)),this.splice_(r,t.Lnext),this.splice_(o,n),r.Org=t.Dst,o.Org=n.Org,r.Lface=o.Lface=t.Lface,t.Lface.anEdge=o,!i){var s=new k_;this.makeFace_(s,r,t.Lface)}return r},e.prototype.zapFace=function(t){var i,r,o,s,a,n=t.anEdge;r=n.Lnext;do{r=(i=r).Lnext,i.Lface=null,null===i.Rface&&(i.Onext===i?this.killVertex_(i.Org,null):(i.Org.anEdge=i.Onext,this.splice_(i,i.Oprev)),(o=i.Sym).Onext===o?this.killVertex_(o.Org,null):(o.Org.anEdge=o.Onext,this.splice_(o,o.Oprev)),this.killEdge_(i))}while(i!=n);(a=t.next).prev=s=t.prev,s.next=a},e.prototype.countFaceVerts_=function(t){var n=t.anEdge,i=0;do{i++,n=n.Lnext}while(n!==t.anEdge);return i},e.prototype.mergeConvexFaces=function(t){var n,i,r,o,s;for(n=this.fHead.next;n!==this.fHead;n=n.next)if(n.inside)for(s=(i=n.anEdge).Org;r=i.Lnext,(o=i.Sym)&&o.Lface&&o.Lface.inside&&this.countFaceVerts_(n)+this.countFaceVerts_(o.Lface)-2<=t&&ii.vertCCW(i.Lprev.Org,i.Org,o.Lnext.Lnext.Org)&&ii.vertCCW(o.Lprev.Org,o.Org,i.Lnext.Lnext.Org)&&(r=o.Lnext,this.delete(o),i=null,o=null),!i||i.Lnext.Org!==s;)i=r;return!0},e.prototype.check=function(){var r,o,s,a,l,c,t=this.fHead,n=this.vHead,i=this.eHead;for(o=t,o=t;(r=o.next)!==t;o=r){gi(r.prev===o),l=r.anEdge;do{gi(l.Sym!==l),gi(l.Sym.Sym===l),gi(l.Lnext.Onext.Sym===l),gi(l.Onext.Sym.Lnext===l),gi(l.Lface===r),l=l.Lnext}while(l!==r.anEdge)}for(gi(r.prev===o&&null===r.anEdge),a=n,a=n;(s=a.next)!==n;a=s){gi(s.prev===a),l=s.anEdge;do{gi(l.Sym!==l),gi(l.Sym.Sym===l),gi(l.Lnext.Onext.Sym===l),gi(l.Onext.Sym.Lnext===l),gi(l.Org===s),l=l.Onext}while(l!==s.anEdge)}for(gi(s.prev===a&&null===s.anEdge),c=i,c=i;(l=c.next)!==i;c=l)gi(l.Sym.next===c.Sym),gi(l.Sym!==l),gi(l.Sym.Sym===l),gi(null!==l.Org),gi(null!==l.Dst),gi(l.Lnext.Onext.Sym===l),gi(l.Onext.Sym.Lnext===l);gi(l.Sym.next===c.Sym&&l.Sym===this.eHeadSym&&l.Sym.Sym===l&&null===l.Org&&null===l.Dst&&null===l.Lface&&null===l.Rface)},e}(),PW=function e(){this.handle=null},OW=function e(){this.key=null,this.node=0},Ske=function(){function e(t,n){this.leq=n,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var i=0;i<t+1;i++)this.nodes[i]=new PW,this.handles[i]=new OW;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var r,o,s,n=this.nodes,i=this.handles;for(r=n[t].handle;;){if((s=t<<1)<this.size&&this.leq(i[n[s+1].handle].key,i[n[s].handle].key)&&++s,gi(s<=this.max),o=n[s].handle,s>this.size||this.leq(i[r].key,i[o].key)){n[t].handle=r,i[r].node=t;break}n[t].handle=o,i[o].node=t,t=s}},e.prototype.floatUp_=function(t){var r,o,s,n=this.nodes,i=this.handles;for(r=n[t].handle;;){if(o=n[s=t>>1].handle,0===s||this.leq(i[o].key,i[r].key)){n[t].handle=r,i[r].node=t;break}n[t].handle=o,i[o].node=t,t=s}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var n,i;if(2*(n=++this.size)>this.max){var r,o;for(this.max*=2,o=this.nodes.length,this.nodes.length=this.max+1,r=o;r<this.nodes.length;r++)this.nodes[r]=new PW;for(o=this.handles.length,this.handles.length=this.max+1,r=o;r<this.handles.length;r++)this.handles[r]=new OW}return 0===this.freeList?i=n:this.freeList=this.handles[i=this.freeList].node,this.nodes[n].handle=i,this.handles[i].node=n,this.handles[i].key=t,this.initialized&&this.floatUp_(n),i},e.prototype.extractMin=function(){var t=this.nodes,n=this.handles,i=t[1].handle,r=n[i].key;return this.size>0&&(t[1].handle=t[this.size].handle,n[t[1].handle].node=1,n[i].key=null,n[i].node=this.freeList,this.freeList=i,--this.size,this.size>0&&this.floatDown_(1)),r},e.prototype.delete=function(t){var r,n=this.nodes,i=this.handles;gi(t>=1&&t<=this.max&&null!==i[t].key),n[r=i[t].node].handle=n[this.size].handle,i[n[r].handle].node=r,--this.size,r<=this.size&&(r<=1||this.leq(i[n[r>>1].handle].key,i[n[r].handle].key)?this.floatDown_(r):this.floatUp_(r)),i[t].key=null,i[t].node=this.freeList,this.freeList=t},e}(),_k=function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1},SW=function e(){this.key=null,this.next=null,this.prev=null},Eke=function(){function e(t,n){this.frame=t,this.leq=n,this.head=new SW,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var n=this.head;do{n=n.next}while(null!==n.key&&!this.leq(this.frame,t,n.key));return n},e.prototype.insertBefore=function(t,n){do{t=t.prev}while(null!==t.key&&!this.leq(this.frame,t.key,n));var i=new SW;return i.key=n,i.next=t.next,t.next.prev=i,i.prev=t,t.next=i,i},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),Dke=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,n){t.winding+=n.winding,t.Sym.winding+=n.Sym.winding},e.edgeLeq=function(t,n,i){var r=t.event,o=n.eUp,s=i.eUp;return o.Dst===r?s.Dst===r?ii.vertLeq(o.Org,s.Org)?ii.edgeSign(s.Dst,o.Org,s.Org)<=0:ii.edgeSign(o.Dst,s.Org,o.Org)>=0:ii.edgeSign(s.Dst,r,s.Org)<=0:s.Dst===r?ii.edgeSign(o.Dst,r,o.Org)>=0:ii.edgeEval(o.Dst,r,o.Org)>=ii.edgeEval(s.Dst,r,s.Org)},e.deleteRegion=function(t,n){n.fixUpperEdge&&gi(0===n.eUp.winding),n.eUp.activeRegion=null,t.dict.delete(n.nodeUp)},e.fixUpperEdge=function(t,n,i){gi(n.fixUpperEdge),t.mesh.delete(n.eUp),n.fixUpperEdge=!1,n.eUp=i,i.activeRegion=n},e.topLeftRegion=function(t,n){var r,i=n.eUp.Org;do{n=e.regionAbove(n)}while(n.eUp.Org===i);if(n.fixUpperEdge){if(null===(r=t.mesh.connect(e.regionBelow(n).eUp.Sym,n.eUp.Lnext)))return null;e.fixUpperEdge(t,n,r),n=e.regionAbove(n)}return n},e.topRightRegion=function(t){var n=t.eUp.Dst;do{t=e.regionAbove(t)}while(t.eUp.Dst===n);return t},e.addRegionBelow=function(t,n,i){var r=new _k;return r.eUp=i,r.nodeUp=t.dict.insertBefore(n.nodeUp,r),r.fixUpperEdge=!1,r.sentinel=!1,r.dirty=!1,i.activeRegion=r,r},e.isWindingInside=function(t,n){switch(t.windingRule){case ao.ODD:return 0!=(1&n);case ao.NONZERO:return 0!==n;case ao.POSITIVE:return n>0;case ao.NEGATIVE:return n<0;case ao.ABS_GEQ_TWO:return n>=2||n<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,n){n.windingNumber=e.regionAbove(n).windingNumber+n.eUp.winding,n.inside=e.isWindingInside(t,n.windingNumber)},e.finishRegion=function(t,n){var i=n.eUp,r=i.Lface;r.inside=n.inside,r.anEdge=i,e.deleteRegion(t,n)},e.finishLeftRegions=function(t,n,i){for(var r,o=null,s=n,a=n.eUp;s!==i;){if(s.fixUpperEdge=!1,(r=(o=e.regionBelow(s)).eUp).Org!=a.Org){if(!o.fixUpperEdge){e.finishRegion(t,s);break}r=t.mesh.connect(a.Lprev,r.Sym),e.fixUpperEdge(t,o,r)}a.Onext!==r&&(t.mesh.splice(r.Oprev,r),t.mesh.splice(a,r)),e.finishRegion(t,s),a=o.eUp,s=o}return a},e.addRightEdges=function(t,n,i,r,o,s){var a,l,c,u,d=!0;c=i;do{gi(ii.vertLeq(c.Org,c.Dst)),e.addRegionBelow(t,n,c.Sym),c=c.Onext}while(c!==r);for(null===o&&(o=e.regionBelow(n).eUp.Rprev),l=n,u=o;(c=(a=e.regionBelow(l)).eUp.Sym).Org===u.Org;)c.Onext!==u&&(t.mesh.splice(c.Oprev,c),t.mesh.splice(u.Oprev,c)),a.windingNumber=l.windingNumber-c.winding,a.inside=e.isWindingInside(t,a.windingNumber),l.dirty=!0,!d&&e.checkForRightSplice(t,l)&&(e.addWinding(c,u),e.deleteRegion(t,l),t.mesh.delete(u)),d=!1,l=a,u=c;l.dirty=!0,gi(l.windingNumber-c.winding===a.windingNumber),s&&e.walkDirtyRegions(t,l)},e.spliceMergeVertices=function(t,n,i){t.mesh.splice(n,i)},e.vertexWeights=function(t,n,i){var r=ii.vertL1dist(n,t),o=ii.vertL1dist(i,t),s=.5*o/(r+o),a=.5*r/(r+o);t.coords[0]+=s*n.coords[0]+a*i.coords[0],t.coords[1]+=s*n.coords[1]+a*i.coords[1],t.coords[2]+=s*n.coords[2]+a*i.coords[2]},e.getIntersectData=function(t,n,i,r,o,s){n.coords[0]=n.coords[1]=n.coords[2]=0,n.idx=-1,e.vertexWeights(n,i,r),e.vertexWeights(n,o,s)},e.checkForRightSplice=function(t,n){var i=e.regionBelow(n),r=n.eUp,o=i.eUp;if(ii.vertLeq(r.Org,o.Org)){if(ii.edgeSign(o.Dst,r.Org,o.Org)>0)return!1;ii.vertEq(r.Org,o.Org)?r.Org!==o.Org&&(t.pq.delete(r.Org.pqHandle),e.spliceMergeVertices(t,o.Oprev,r)):(t.mesh.splitEdge(o.Sym),t.mesh.splice(r,o.Oprev),n.dirty=i.dirty=!0)}else{if(ii.edgeSign(r.Dst,o.Org,r.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(r.Sym),t.mesh.splice(o.Oprev,r)}return!0},e.checkForLeftSplice=function(t,n){var s,i=e.regionBelow(n),r=n.eUp,o=i.eUp;if(gi(!ii.vertEq(r.Dst,o.Dst)),ii.vertLeq(r.Dst,o.Dst)){if(ii.edgeSign(r.Dst,o.Dst,r.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,s=t.mesh.splitEdge(r),t.mesh.splice(o.Sym,s),s.Lface.inside=n.inside}else{if(ii.edgeSign(o.Dst,r.Dst,o.Org)>0)return!1;n.dirty=i.dirty=!0,s=t.mesh.splitEdge(o),t.mesh.splice(r.Lnext,o.Sym),s.Rface.inside=n.inside}return!0},e.checkForIntersect=function(t,n){var f,v,i=e.regionBelow(n),r=n.eUp,o=i.eUp,s=r.Org,a=o.Org,l=r.Dst,c=o.Dst,h=new M1;if(gi(!ii.vertEq(c,l)),gi(ii.edgeSign(l,t.event,s)<=0),gi(ii.edgeSign(c,t.event,a)>=0),gi(s!==t.event&&a!==t.event),gi(!n.fixUpperEdge&&!i.fixUpperEdge),s===a||Math.min(s.t,l.t)>Math.max(a.t,c.t))return!1;if(ii.vertLeq(s,a)){if(ii.edgeSign(c,s,a)>0)return!1}else if(ii.edgeSign(l,a,s)<0)return!1;return e.debugEvent(t),ii.intersect(l,s,c,a,h),gi(Math.min(s.t,l.t)<=h.t),gi(h.t<=Math.max(a.t,c.t)),gi(Math.min(c.s,l.s)<=h.s),gi(h.s<=Math.max(a.s,s.s)),ii.vertLeq(h,t.event)&&(h.s=t.event.s,h.t=t.event.t),f=ii.vertLeq(s,a)?s:a,ii.vertLeq(f,h)&&(h.s=f.s,h.t=f.t),ii.vertEq(h,s)||ii.vertEq(h,a)?(e.checkForRightSplice(t,n),!1):!ii.vertEq(l,t.event)&&ii.edgeSign(l,t.event,h)>=0||!ii.vertEq(c,t.event)&&ii.edgeSign(c,t.event,h)<=0?c===t.event?(t.mesh.splitEdge(r.Sym),t.mesh.splice(o.Sym,r),n=e.topLeftRegion(t,n),r=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),i),e.addRightEdges(t,n,r.Oprev,r,r,!0),!0):l===t.event?(t.mesh.splitEdge(o.Sym),t.mesh.splice(r.Lnext,o.Oprev),i=n,n=e.topRightRegion(n),v=e.regionBelow(n).eUp.Rprev,i.eUp=o.Oprev,o=e.finishLeftRegions(t,i,null),e.addRightEdges(t,n,o.Onext,r.Rprev,v,!0),!0):(ii.edgeSign(l,t.event,h)>=0&&(e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(r.Sym),r.Org.s=t.event.s,r.Org.t=t.event.t),ii.edgeSign(c,t.event,h)<=0&&(n.dirty=i.dirty=!0,t.mesh.splitEdge(o.Sym),o.Org.s=t.event.s,o.Org.t=t.event.t),!1):(t.mesh.splitEdge(r.Sym),t.mesh.splitEdge(o.Sym),t.mesh.splice(o.Oprev,r),r.Org.s=h.s,r.Org.t=h.t,r.Org.pqHandle=t.pq.insert(r.Org),e.getIntersectData(t,r.Org,s,l,a,c),e.regionAbove(n).dirty=n.dirty=i.dirty=!0,!1)},e.walkDirtyRegions=function(t,n){for(var r,o,i=e.regionBelow(n);;){for(;i.dirty;)n=i,i=e.regionBelow(i);if(!n.dirty&&(i=n,null===(n=e.regionAbove(n))||!n.dirty))return;if(n.dirty=!1,(r=n.eUp).Dst!==(o=i.eUp).Dst&&e.checkForLeftSplice(t,n)&&(i.fixUpperEdge?(e.deleteRegion(t,i),t.mesh.delete(o),o=(i=e.regionBelow(n)).eUp):n.fixUpperEdge&&(e.deleteRegion(t,n),t.mesh.delete(r),r=(n=e.regionAbove(i)).eUp)),r.Org!==o.Org)if(r.Dst===o.Dst||n.fixUpperEdge||i.fixUpperEdge||r.Dst!==t.event&&o.Dst!==t.event)e.checkForRightSplice(t,n);else if(e.checkForIntersect(t,n))return;r.Org===o.Org&&r.Dst===o.Dst&&(e.addWinding(o,r),e.deleteRegion(t,n),t.mesh.delete(r),n=e.regionAbove(i))}},e.connectRightVertex=function(t,n,i){var r,o=i.Onext,s=e.regionBelow(n),a=n.eUp,l=s.eUp,c=!1;a.Dst!==l.Dst&&e.checkForIntersect(t,n),ii.vertEq(a.Org,t.event)&&(t.mesh.splice(o.Oprev,a),n=e.topLeftRegion(t,n),o=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),s),c=!0),ii.vertEq(l.Org,t.event)&&(t.mesh.splice(i,l.Oprev),i=e.finishLeftRegions(t,s,null),c=!0),c?e.addRightEdges(t,n,i.Onext,o,o,!0):(r=ii.vertLeq(l.Org,a.Org)?l.Oprev:a,r=t.mesh.connect(i.Lprev,r),e.addRightEdges(t,n,r,r.Onext,r.Onext,!1),r.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,n))},e.connectLeftDegenerate=function(t,n,i){var r,o,s,a,l;return ii.vertEq((r=n.eUp).Org,i)?(gi(!1),void e.spliceMergeVertices(t,r,i.anEdge)):ii.vertEq(r.Dst,i)?(gi(!1),n=e.topRightRegion(n),o=a=(s=(l=e.regionBelow(n)).eUp.Sym).Onext,l.fixUpperEdge&&(gi(o!==s),e.deleteRegion(t,l),t.mesh.delete(s),s=o.Oprev),t.mesh.splice(i.anEdge,s),ii.edgeGoesLeft(o)||(o=null),void e.addRightEdges(t,n,s.Onext,a,o,!0)):(t.mesh.splitEdge(r.Sym),n.fixUpperEdge&&(t.mesh.delete(r.Onext),n.fixUpperEdge=!1),t.mesh.splice(i.anEdge,r),void e.sweepEvent(t,i))},e.connectLeftVertex=function(t,n){var i,r,o,s,a,l,c=new _k;if(c.eUp=n.anEdge.Sym,i=t.dict.search(c).key,r=e.regionBelow(i)){if(a=r.eUp,0===ii.edgeSign((s=i.eUp).Dst,n,s.Org))return void e.connectLeftDegenerate(t,i,n);o=ii.vertLeq(a.Dst,s.Dst)?i:r,i.inside||o.fixUpperEdge?(l=o===i?t.mesh.connect(n.anEdge.Sym,s.Lnext):t.mesh.connect(a.Dnext,n.anEdge).Sym,o.fixUpperEdge?e.fixUpperEdge(t,o,l):e.computeWinding(t,e.addRegionBelow(t,i,l)),e.sweepEvent(t,n)):e.addRightEdges(t,i,n.anEdge,n.anEdge,null,!0)}},e.sweepEvent=function(t,n){t.event=n,e.debugEvent(t);for(var i=n.anEdge;null===i.activeRegion;)if((i=i.Onext)===n.anEdge)return void e.connectLeftVertex(t,n);var r=e.topLeftRegion(t,i.activeRegion);gi(null!==r);var o=e.regionBelow(r),s=o.eUp,a=e.finishLeftRegions(t,o,null);a.Onext===s?e.connectRightVertex(t,r,a):e.addRightEdges(t,r,a.Onext,s,s,!0)},e.addSentinel=function(t,n,i,r){var o=new _k,s=t.mesh.makeEdge();s.Org.s=i,s.Org.t=r,s.Dst.s=n,s.Dst.t=r,t.event=s.Dst,o.eUp=s,o.windingNumber=0,o.inside=!1,o.fixUpperEdge=!1,o.sentinel=!0,o.dirty=!1,o.nodeUp=t.dict.insert(o)},e.initEdgeDict=function(t){t.dict=new Eke(t,e.edgeLeq);var n=t.bmax[0]-t.bmin[0],i=t.bmax[1]-t.bmin[1],r=t.bmin[0]-n,o=t.bmax[0]+n,a=t.bmax[1]+i;e.addSentinel(t,r,o,t.bmin[1]-i),e.addSentinel(t,r,o,a)},e.doneEdgeDict=function(t){for(var n,i=0;null!==(n=t.dict.min().key);)n.sentinel||(gi(n.fixUpperEdge),gi(1==++i)),gi(0===n.windingNumber),e.deleteRegion(t,n)},e.removeDegenerateEdges=function(t){var n,i,r,o=t.mesh.eHead;for(n=o.next;n!==o;n=i)i=n.next,r=n.Lnext,ii.vertEq(n.Org,n.Dst)&&n.Lnext.Lnext!==n&&(e.spliceMergeVertices(t,r,n),t.mesh.delete(n),r=(n=r).Lnext),r.Lnext===n&&(r!==n&&((r===i||r===i.Sym)&&(i=i.next),t.mesh.delete(r)),(n===i||n===i.Sym)&&(i=i.next),t.mesh.delete(n))},e.initPriorityQ=function(t){var n,i,r,o=0;for(i=(r=t.mesh.vHead).next;i!==r;i=i.next)o++;for(n=t.pq=new Ske(o+=8,ii.vertLeq),i=(r=t.mesh.vHead).next;i!==r;i=i.next)i.pqHandle=n.insert(i);return i===r&&(n.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,n){var i,r,o;for(i=n.fHead.next;i!==n.fHead;i=r)r=i.next,gi((o=i.anEdge).Lnext!==o),o.Lnext.Lnext===o&&(e.addWinding(o.Onext,o),t.mesh.delete(o));return!0},e.computeInterior=function(t,n){var i,r;if(void 0===n&&(n=!0),e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);null!==(i=t.pq.extractMin());){for(;null!==(r=t.pq.min())&&ii.vertEq(r,i);)r=t.pq.extractMin(),e.spliceMergeVertices(t,i.anEdge,r.anEdge);e.sweepEvent(t,i)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),!!e.removeDegenerateFaces(t,t.mesh)&&(n&&t.mesh.check(),!0)},e}(),Ake=function(){function e(){this.mesh=new MW,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=ao.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},e.prototype.normalize_=function(t){var n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!n)throw"Zero-size vector!";n=Math.sqrt(n),t[0]/=n,t[1]/=n,t[2]/=n},e.prototype.longAxis_=function(t){var n=0;return Math.abs(t[1])>Math.abs(t[0])&&(n=1),Math.abs(t[2])>Math.abs(t[n])&&(n=2),n},e.prototype.computeNormal_=function(t){var n,i,r,o,s,a,l=[0,0,0],c=[0,0,0],u=[0,0,0],d=[0,0,0],h=[0,0,0],f=[null,null,null],v=[null,null,null],y=this.mesh.vHead;n=y.next;for(var b=0;b<3;++b)c[b]=o=n.coords[b],v[b]=n,l[b]=o,f[b]=n;for(n=y.next;n!==y;n=n.next)for(var w=0;w<3;++w)(o=n.coords[w])<c[w]&&(c[w]=o,v[w]=n),o>l[w]&&(l[w]=o,f[w]=n);var O=0;if(l[1]-c[1]>l[0]-c[0]&&(O=1),l[2]-c[2]>l[O]-c[O]&&(O=2),c[O]>=l[O])return t[0]=0,t[1]=0,void(t[2]=1);for(a=0,u[0]=(i=v[O]).coords[0]-(r=f[O]).coords[0],u[1]=i.coords[1]-r.coords[1],u[2]=i.coords[2]-r.coords[2],n=y.next;n!==y;n=n.next)d[0]=n.coords[0]-r.coords[0],d[1]=n.coords[1]-r.coords[1],d[2]=n.coords[2]-r.coords[2],h[0]=u[1]*d[2]-u[2]*d[1],h[1]=u[2]*d[0]-u[0]*d[2],h[2]=u[0]*d[1]-u[1]*d[0],(s=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])>a&&(a=s,t[0]=h[0],t[1]=h[1],t[2]=h[2]);a<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(u)]=1)},e.prototype.checkOrientation_=function(){for(var n,r,t=this.mesh.fHead,i=this.mesh.vHead,o=0,s=t.next;s!==t;s=s.next)if(!((r=s.anEdge).winding<=0))do{o+=(r.Org.s-r.Dst.s)*(r.Org.t+r.Dst.t),r=r.Lnext}while(r!==s.anEdge);if(o<0){for(n=i.next;n!==i;n=n.next)n.t=-n.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var i,r,t=this.mesh.vHead,n=[0,0,0],o=!1;n[0]=this.normal[0],n[1]=this.normal[1],n[2]=this.normal[2],!n[0]&&!n[1]&&!n[2]&&(this.computeNormal_(n),o=!0),i=this.sUnit,r=this.tUnit;var s=this.longAxis_(n);i[s]=0,i[(s+1)%3]=1,i[(s+2)%3]=0,r[s]=0,r[(s+1)%3]=0,r[(s+2)%3]=n[s]>0?1:-1;for(var a=t.next;a!==t;a=a.next)a.s=this.dot_(a.coords,i),a.t=this.dot_(a.coords,r);o&&this.checkOrientation_();for(var l=!0,c=t.next;c!==t;c=c.next)l?(this.bmin[0]=this.bmax[0]=c.s,this.bmin[1]=this.bmax[1]=c.t,l=!1):(c.s<this.bmin[0]&&(this.bmin[0]=c.s),c.s>this.bmax[0]&&(this.bmax[0]=c.s),c.t<this.bmin[1]&&(this.bmin[1]=c.t),c.t>this.bmax[1]&&(this.bmax[1]=c.t))},e.prototype.addWinding_=function(t,n){t.winding+=n.winding,t.Sym.winding+=n.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,n){var i,r;if((i=n.anEdge).Lnext===i||i.Lnext.Lnext===i)throw"Mono region invalid";for(;ii.vertLeq(i.Dst,i.Org);i=i.Lprev);for(;ii.vertLeq(i.Org,i.Dst);i=i.Lnext);for(r=i.Lprev;i.Lnext!==r;)if(ii.vertLeq(i.Dst,r.Org)){for(;r.Lnext!==i&&(ii.edgeGoesLeft(r.Lnext)||ii.edgeSign(r.Org,r.Dst,r.Lnext.Dst)<=0);)r=t.connect(r.Lnext,r).Sym;r=r.Lprev}else{for(;r.Lnext!==i&&(ii.edgeGoesRight(i.Lprev)||ii.edgeSign(i.Dst,i.Org,i.Lprev.Org)>=0);)i=t.connect(i,i.Lprev).Sym;i=i.Lnext}if(r.Lnext===i)throw"Mono region invalid";for(;r.Lnext.Lnext!==i;)r=t.connect(r.Lnext,r).Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var n,i=t.fHead.next;i!==t.fHead;i=n)if(n=i.next,i.inside&&!this.tessellateMonoRegion_(t,i))return!1;return!0},e.prototype.discardExterior_=function(t){for(var n,i=t.fHead.next;i!==t.fHead;i=n)n=i.next,i.inside||t.zapFace(i)},e.prototype.setWindingNumber_=function(t,n,i){for(var r,o=t.eHead.next;o!==t.eHead;o=r)r=o.next,o.Rface.inside!==o.Lface.inside?o.winding=o.Lface.inside?n:-n:i?t.delete(o):o.winding=0},e.prototype.getNeighbourFace_=function(t){return t.Rface&&t.Rface.inside?t.Rface.n:-1},e.prototype.outputPolymesh_=function(t,n,i,r){var o,l,s=0,a=0;i>3&&t.mergeConvexFaces(i);for(var c=t.vHead.next;c!==t.vHead;c=c.next)c.n=-1;for(var u=t.fHead.next;u!==t.fHead;u=u.next)if(u.n=-1,u.inside){o=u.anEdge,l=0;do{-1===(c=o.Org).n&&(c.n=a,a++),l++,o=o.Lnext}while(o!==u.anEdge);if(l>i)throw"Face vertex greater that support polygon";u.n=s,++s}for(this.elementCount=s,n===Ls.CONNECTED_POLYGONS&&(s*=2),this.elements=[],this.elements.length=s*i,this.vertexCount=a,this.vertices=[],this.vertices.length=a*r,this.vertexIndices=[],this.vertexIndices.length=a,c=t.vHead.next;c!==t.vHead;c=c.next)if(-1!==c.n){var d=c.n*r;this.vertices[d+0]=c.coords[0],this.vertices[d+1]=c.coords[1],r>2&&(this.vertices[d+2]=c.coords[2]),this.vertexIndices[c.n]=c.idx}var h=0;for(u=t.fHead.next;u!==t.fHead;u=u.next)if(u.inside){o=u.anEdge,l=0;do{this.elements[h++]=(c=o.Org).n,l++,o=o.Lnext}while(o!==u.anEdge);for(var f=l;f<i;++f)this.elements[h++]=-1;if(n===Ls.CONNECTED_POLYGONS){o=u.anEdge;do{this.elements[h++]=this.getNeighbourFace_(o),o=o.Lnext}while(o!==u.anEdge);for(var v=l;v<i;++v)this.elements[h++]=-1}}},e.prototype.outputContours_=function(t,n){var i,r,o=0,s=0;this.vertexCount=0,this.elementCount=0;for(var a=t.fHead.next;a!==t.fHead;a=a.next)if(a.inside){r=i=a.anEdge;do{this.vertexCount++,i=i.Lnext}while(i!==r);this.elementCount++}this.elements=[],this.elements.length=2*this.elementCount,this.vertices=[],this.vertices.length=this.vertexCount*n,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var l=0,c=0,u=0;for(o=0,a=t.fHead.next;a!==t.fHead;a=a.next)if(a.inside){s=0,r=i=a.anEdge;do{this.vertices[l++]=i.Org.coords[0],this.vertices[l++]=i.Org.coords[1],n>2&&(this.vertices[l++]=i.Org.coords[2]),this.vertexIndices[c++]=this.vertexIdCallback?this.vertexIdCallback(i):i.Org.idx,s++,i=i.Lnext}while(i!==r);this.elements[u++]=o,this.elements[u++]=s,o+=s}},e.prototype.addContour=function(t,n){null===this.mesh&&(this.mesh=new MW),t<2&&(t=2),t>3&&(t=3);for(var i=null,r=0;r<n.length;r+=t)null===i?(i=this.mesh.makeEdge(),this.mesh.splice(i,i.Sym)):(this.mesh.splitEdge(i),i=i.Lnext),i.Org.coords[0]=n[r+0],i.Org.coords[1]=n[r+1],i.Org.coords[2]=t>2?n[r+2]:0,i.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(i),i.winding=1,i.Sym.winding=-1},e.prototype.tesselate=function(t,n,i,r,o,s){if(void 0===t&&(t=ao.ODD),void 0===n&&(n=Ls.POLYGONS),void 0===s&&(s=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,o&&(this.normal[0]=o[0],this.normal[1]=o[1],this.normal[2]=o[2]),this.windingRule=t,r<2&&(r=2),r>3&&(r=3),!this.mesh)return!1;this.projectPolygon_(),Dke.computeInterior(this,s);var a=this.mesh;return n===Ls.BOUNDARY_CONTOURS?this.setWindingNumber_(a,1,!0):this.tessellateInterior_(a),s&&a.check(),n===Ls.BOUNDARY_CONTOURS?this.outputContours_(a,r):this.outputPolymesh_(a,n,i,r),!0},e}();function Vf(e){var t=e.windingRule,n=void 0===t?ao.ODD:t,i=e.elementType,r=void 0===i?Ls.POLYGONS:i,o=e.polySize,s=void 0===o?3:o,a=e.vertexSize,l=void 0===a?2:a,c=e.normal,u=void 0===c?[0,0,1]:c,d=e.contours,h=void 0===d?[]:d,f=e.strict,v=void 0===f||f,y=e.debug,b=void 0!==y&&y;if(!h&&v)throw new Error("Contours can't be empty");if(h){var w=new Ake;e.edgeCreateCallback&&(w.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(w.vertexIdCallback=e.vertexIdCallback);for(var O=0;O<h.length;O++)w.addContour(l||2,h[O]);return w.tesselate(n,r,s,l,u,v),{vertices:w.vertices,vertexIndices:w.vertexIndices,vertexCount:w.vertexCount,elements:w.elements,elementCount:w.elementCount,mesh:b?w.mesh:void 0}}}var xk=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`),this.buffer=new ArrayBuffer(e*xk.eSize);let i=Float32Array.BYTES_PER_ELEMENT,r=0;this.positions=new Float32Array(this.buffer,r*i,3*e),r+=3*e,this.normals=new Float32Array(this.buffer,r*i,3*e),r+=3*e,this.uvs=new Float32Array(this.buffer,r*i,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} \u2192 ${e}`);let i=new ArrayBuffer(e*xk.eSize),r=Float32Array.BYTES_PER_ELEMENT,o=0,s=new Float32Array(i,o*r,3*e);o+=3*e;let a=new Float32Array(i,o*r,3*e);o+=3*e;let l=new Float32Array(i,o*r,2*e);t?(s.set(this.positions.subarray(0,3*this.size)),a.set(this.normals.subarray(0,3*this.size)),l.set(this.uvs.subarray(0,2*this.size))):(s.set(this.positions),a.set(this.normals),l.set(this.uvs)),this.buffer=i,this.positions=s,this.normals=a,this.uvs=l,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let i=this.capacity;for(;t>i;)i*=2;this.realloc(i)}let n=this.size;return this.size=t,n}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} \u2192 ${this.size}`),this.realloc(this.size,!0)}},EW=xk;EW.eSize=8*Float32Array.BYTES_PER_ELEMENT;var Tke=ma(G0e()),wk={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},DW={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},AW={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},Ck=(e,t)=>([n,i])=>(i<n&&(i+=t),(e>=n?e:e+t)<=i),Mk=class extends ei{constructor(e,t,n=0,i=12,r=3,o=ao.ODD,s=!1){super(),this.forPathBevel=s,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=i,this._bevelSegmentsInput=r;let d,h,f,a=this._shape.extractShapePointsToFlatArray([],i),l=this._shape.shapeHoles.map(te=>{let ie=te.extractShapePointsToFlatArray([],i),ae=[];for(let pe=ie.length-1;pe>=1;pe-=2)ae.push(ie[pe-1],ie[pe-0]);return ae}),c=[],u=[];for(let te=0;te<a.length;te+=2)u.push([a[te],a[te+1]]);c.push(u);for(let te=0;te<l.length;te++){let ie=l[te],ae=[];for(let pe=0;pe<ie.length;pe+=2)ae.push([ie[pe],ie[pe+1]]);c.push(ae)}d=e.isText?.1*(new Xj).setFromPoints(e.points.map(te=>te.position)).getSize(new Ve).length():0===c[0].length?n:(0,Tke.default)(c).distance,n<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(n,d,t/2),this._bevelSegments=Math.floor(r));try{h=Vf({windingRule:o,elementType:Ls.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[a]})}catch{h=wk}try{f=Vf({windingRule:ao.ODD,elementType:Ls.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...l]})}catch{f=DW}if(!h)throw new Error("error generating geometry");let v=h.elementCount;if(f){h.elementCount+=f.elementCount;for(let te=0;te<f.elements.length;te++)h.elements.push(f.elements[te]+(te%2==0?h.vertexCount:0));for(let te=0;te<f.vertexIndices.length;te++)h.vertexIndices.push(f.vertexIndices[te]+h.vertexCount);for(let te=0;te<f.vertices.length;te++)h.vertices.push(f.vertices[te])}let y=1/0,b=-1/0,w=1/0,O=-1/0;for(let te=0,ie=h.vertexCount;te<ie;te++){let ae=2*te,pe=h.vertices[ae+0],fe=h.vertices[ae+1];pe<y&&(y=pe),pe>b&&(b=pe),fe<w&&(w=fe),fe>O&&(O=fe)}this._minX=y,this._minY=w,this._width=b-y,this._height=O-w,this._buffer=new EW(this._computeBufferEstimatedSize(h));let S=[],D=[];for(let te=h.elementCount-1;te>=0;te--){let ie=te>=v,ae=2*te,pe=h.elements[ae+0],fe=h.elements[ae+1],ge=pe+fe,Oe={start:pe,count:fe,normals:[],continuous:[],concave:[]},Pe=pe,xe=ge-1,_e=pe+1,Ue=this._shape.roundedCurves.length;do{let Le=Pe-pe,ht=h.vertices[2*Pe+0],Ze=h.vertices[2*Pe+1],mt=h.vertices[2*_e+0],ot=h.vertices[2*_e+1],jt=ht-h.vertices[2*xe+0],At=Ze-h.vertices[2*xe+1],Mt=Math.sqrt(jt*jt+At*At);jt/=Mt,At/=Mt;let _n=ht-mt,vn=Ze-ot,xn=Math.sqrt(_n*_n+vn*vn);_n/=xn,vn/=xn,Oe.normals[2*Le+0]=-vn,Oe.normals[2*Le+1]=_n,Oe.concave[Le]=jt*vn-At*_n>0;let An=h.vertexIndices[Pe];if(Array.isArray(An))Oe.continuous[Le]=!1;else{let[dn,rn]=this._shape.getCurveIndexFromVertexId(An-1,!0);if(rn>0&&rn<1)Oe.continuous[Le]=!0;else{let Vn=1===rn?dn+1:dn-1;Vn=(Vn+Ue)%Ue;let hi=1===rn?0:1,Ie=this._shape.roundedCurves[dn].getTangent(rn),we=this._shape.roundedCurves[Vn].getTangent(hi);Oe.continuous[Le]=Ie.dot(we)>.95}}ie&&(Oe.normals[2*Le+0]*=-1,Oe.normals[2*Le+1]*=-1),[xe,Pe,_e]=[Pe,_e,_e+1],_e>=ge&&(_e-=fe)}while(_e!==pe+1);let He=[];He.push({bevelI:0,angle:0,size:0,boundary:{vertices:h.vertices.slice(2*pe,2*ge),vertexCount:fe,vertexIndices:new Array(fe).fill(!0).map((Le,Xe)=>[Xe,Xe]),elements:[0,fe],elementCount:1,mesh:null},reverseMap:[],insetPoints:h.vertices.slice(2*pe,2*ge)});let ze=0;for(let Le=1;Le<=this._bevelSegments;Le++){let Xe=Le/this._bevelSegments*Math.PI/2,Ge=(1-Math.cos(Xe))*this._bevel,ht=[],Ze=[],mt=[],ot=[],jt=0;for(let Mt=0;Mt<fe;Mt++){let _n=2*Mt,vn=(Mt-1+fe)%fe*2,xn=h.vertices[2*Oe.start+_n+0],An=h.vertices[2*Oe.start+_n+1],dn=-Oe.normals[vn+0]*Ge,rn=-Oe.normals[vn+1]*Ge,Vn=-Oe.normals[_n+0]*Ge,hi=-Oe.normals[_n+1]*Ge;if(Oe.concave[Mt]||!Oe.concave[Mt]&&ie){let Ie=Math.atan2(rn,dn),we=Math.atan2(hi,Vn);we>Ie&&(we-=2*Math.PI);let ft=we-Ie;if(Oe.continuous[Mt]||ie){let Qt=Ie+ft/2,zt=Math.cos(Qt)*Ge,on=Math.sin(Qt)*Ge;ht[2*jt+0]=xn+zt*(ie?-1:1),ht[2*jt+1]=An+on*(ie?-1:1),ot[jt]=Mt,jt++}else{let Qt=Math.max(1,Math.floor(i/4*Math.abs(ft)/Math.PI));for(let zt=0;zt<=Qt;zt++){let on=Ie+ft*(zt/Qt),Gn=Math.cos(on)*Ge,Tn=Math.sin(on)*Ge;ht[2*jt+0]=xn+Gn,ht[2*jt+1]=An+Tn,ot[jt]=Mt,jt++}}}else ht[2*jt+0]=xn+dn,ht[2*jt+1]=An+rn,ot[jt]=Mt,Ze[Mt]=jt,jt++,ht[2*jt+0]=xn,ht[2*jt+1]=An,ot[jt]=Mt,jt++,ht[2*jt+0]=xn+Vn,ht[2*jt+1]=An+hi,ot[jt]=Mt,mt[Mt]=jt,jt++}let At=Vf({windingRule:ao.POSITIVE,elementType:Ls.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[ht],edgeCreateCallback:Mt=>{let _n=Mt.Org.idx,vn=ot[_n],xn=ot[(_n+1)%ot.length];Mt.idx=[vn,xn],Mt.Sym.idx=[xn,vn]},vertexIdCallback:Mt=>{let _n=Mt.Lprev.idx;return[_n?_n[1]:0,Mt.idx?Mt.idx[0]:0]}});if(!At)throw console.log("Error"),new Error(`error generating bevel geometry for ${Le}'th loop`);if(!At.vertexCount){let Mt=(Le-1)/this._bevelSegments*Math.PI/2;ze=(1-Math.sin(Mt))*this._bevel;break}for(let Mt=0;Mt<At.vertexIndices.length;Mt++){let[_n,vn]=At.vertexIndices[Mt];if(_n===vn)continue;let xn=vn;vn<_n&&(xn+=fe);for(let An=_n;An<xn;An++){let dn=An%fe,rn=(An+1)%fe;if(!Oe.continuous[dn]||!Oe.continuous[rn]){At.vertexIndices[Mt]=[_n,dn],At.vertexIndices.splice(Mt+1,0,[rn,vn]),At.vertices.splice(2*(Mt+1),0,At.vertices[2*Mt],At.vertices[2*Mt+1]);break}}}He.push({bevelI:Le,angle:Xe,size:Ge,boundary:At,reverseMap:ot,insetPoints:ht})}let Re=(Le,Xe,Ge)=>{let ht=0,Ze=Le.boundary.vertexIndices.length;for(;ht<Ze&&Ge(Le.boundary.vertexIndices[Xe]);)Xe=(Xe+1)%Ze,ht++;return ht},Ye=S.length;for(let Le=1;Le<He.length;Le++){let Xe=He[Le-1],Ge=He[Le],ht=Xe.boundary.vertexIndices.length,Ze=Ge.boundary.vertexIndices.length;if(!ht||!Ze)break;let mt=Oe.concave.length,ot=0,jt=Ck(ot,fe);for(;!Xe.boundary.vertexIndices.filter(jt).length||!Ge.boundary.vertexIndices.filter(jt).length;)ot++,jt=Ck(ot,fe);let At=Xe.boundary.vertexIndices.findIndex(jt),Mt=Ge.boundary.vertexIndices.findIndex(jt);do{At=(At+1)%ht}while(jt(Xe.boundary.vertexIndices[At]));do{Mt=(Mt+1)%Ze}while(jt(Ge.boundary.vertexIndices[Mt]));ot=(ot+1)%fe;let Vn,hi,_n=ot,vn=0,dn=this._buildBevelVert(Oe,Xe,(At-1+ht)%ht,void 0,vn),rn=this._buildBevelVert(Oe,Ge,(Mt-1+Ze)%Ze,void 0,vn),Ie=!1;do{vn=(ot||mt)/mt,jt=Ck(ot,fe);let we=Re(Xe,At,jt),ft=Re(Ge,Mt,jt),Qt=Ie;if(Ie=!1,we&&!ft){for(let zt=0;zt<we;zt++)Vn=this._buildBevelVert(Oe,Xe,(At+zt)%ht,zt/(we-1),vn),S.push(dn.topN,Vn.topP,rn.topN),!1===s&&S.push(Vn.bottomP,dn.bottomN,rn.bottomN),dn=Vn;Ie=!0}else if(!we&&ft)for(let zt=0;zt<ft;zt++)hi=this._buildBevelVert(Oe,Ge,(Mt+zt)%Ze,zt/(ft-1),vn),S.push(rn.topN,dn.topP,hi.topP),!1===s&&S.push(dn.bottomP,rn.bottomN,hi.bottomP),rn=hi;else if(we&&ft)if(Vn=this._buildBevelVert(Oe,Xe,At,0,vn),hi=this._buildBevelVert(Oe,Ge,Mt,0,vn),Qt?(S.push(dn.topN,hi.topP,rn.topN),S.push(dn.topN,Vn.topP,hi.topP),!1===s&&(S.push(hi.bottomP,dn.bottomN,rn.bottomN),S.push(hi.bottomP,Vn.bottomP,dn.bottomN))):(S.push(rn.topN,dn.topN,Vn.topP),S.push(rn.topN,Vn.topP,hi.topP),!1===s&&(S.push(Vn.bottomP,dn.bottomN,rn.bottomN),S.push(Vn.bottomP,rn.bottomN,hi.bottomP))),dn=Vn,rn=hi,we===ft)for(let zt=1;zt<we;zt++)Vn=this._buildBevelVert(Oe,Xe,(At+zt)%ht,zt/(we-1),vn),hi=this._buildBevelVert(Oe,Ge,(Mt+zt)%Ze,zt/(ft-1),vn),S.push(dn.topN,Vn.topP,rn.topN),S.push(rn.topN,Vn.topP,hi.topP),!1===s&&(S.push(Vn.bottomP,dn.bottomN,rn.bottomN),S.push(Vn.bottomP,rn.bottomN,hi.bottomP)),dn=Vn,rn=hi;else if(we>ft){let zt=we/ft,on=0;for(let Gn=1;Gn<we;Gn++)Vn=this._buildBevelVert(Oe,Xe,(At+Gn)%ht,Gn/(we-1),vn),S.push(dn.topN,Vn.topP,rn.topN),!1===s&&S.push(Vn.bottomP,dn.bottomN,rn.bottomN),dn=Vn,Gn>(on+1)*zt&&(on++,hi=this._buildBevelVert(Oe,Ge,(Mt+on)%Ze,on/(ft-1),vn),S.push(rn.topN,Vn.topP,hi.topP),!1===s&&S.push(Vn.bottomP,rn.bottomN,hi.bottomP),rn=hi)}else{let zt=ft/we,on=0;for(let Gn=1;Gn<ft;Gn++)hi=this._buildBevelVert(Oe,Ge,(Mt+Gn)%Ze,Gn/(ft-1),vn),S.push(rn.topN,Vn.topP,hi.topP),!1===s&&S.push(Vn.bottomP,rn.bottomN,hi.bottomP),rn=hi,Gn>(on+1)*zt&&(on++,Vn=this._buildBevelVert(Oe,Xe,(At+on)%ht,on/(we-1),vn),S.push(dn.topN,Vn.topP,rn.topN),!1===s&&S.push(Vn.bottomP,dn.bottomN,rn.bottomN),dn=Vn)}At=(At+we)%ht,Mt=(Mt+ft)%Ze,ot=(ot+1)%mt}while(ot!==_n)}if(!1===s&&this._depth>2*this._bevel&&this._buildWall(He,Oe,S),ie){let Le=[];for(let Xe=S.length-1;Xe>=Ye+2;Xe-=3)Le.push(S[Xe-0],S[Xe-1],S[Xe-2]);S.splice(Ye,S.length-Ye,...Le)}if(ie){let Le=[];for(let Xe=He[He.length-1].boundary.vertices.length-1;Xe>=1;Xe-=2)Le.push(He[He.length-1].boundary.vertices[Xe-1],He[He.length-1].boundary.vertices[Xe-0]);D.push(Le)}if(!ie){let Xe,Le=He[He.length-1];try{Xe=Vf({windingRule:He.length>1?ao.POSITIVE:ao.ODD,elementType:Ls.POLYGONS,vertexSize:2,strict:!0,contours:[Le.insetPoints,...D]})}catch{Xe=AW}if(!Xe)throw new Error("Error generating geometry for surface");0===l.length&&this._bevel<d&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let Ge=0;Ge<3*Xe.elementCount;Ge+=3){let ht=this._buildSurfaceVert(Xe,Xe.elements[Ge+0],ze),Ze=this._buildSurfaceVert(Xe,Xe.elements[Ge+1],ze),mt=this._buildSurfaceVert(Xe,Xe.elements[Ge+2],ze);S.push(ht.top,Ze.top,mt.top),!1===s&&S.push(mt.bottom,Ze.bottom,ht.bottom)}}this.vertexCache={}}this._buffer.shrink();let V=new pi(Uint32Array.from(S),1),Y=new pi(this._buffer.positions,3),q=new pi(this._buffer.normals,3),K=new pi(this._buffer.uvs,2);Y.needsUpdate=!0,q.needsUpdate=!0,K.needsUpdate=!0,V.needsUpdate=!0,this.setAttribute("position",Y),this.setAttribute("normal",q),this.setAttribute("uv",K),this.setIndex(V)}_computeBufferEstimatedSize(e){return 2*e.vertexCount*(2+this._bevelSegments)}_buildWall(e,t,n){let i=e[0];for(let r=0,o=i.boundary.vertexCount;r<o;r++){let s=this._buildBevelVert(t,i,r),a=this._buildBevelVert(t,i,(r+1)%o);n.push(a.topP,s.topN,s.bottomN),n.push(a.topP,s.bottomN,a.bottomP)}}_buildSurfaceVert(e,t,n){let i=t.toString();if(i in this.vertexCache)return this.vertexCache[i];let r=e.vertices[2*t+0],o=e.vertices[2*t+1],s=(r-this._minX)/this._width,a=(o-this._minY)/this._height;this.forPathBevel&&(a=1);let l=this._buffer.get(this.forPathBevel?1:2),c=3*l,u=2*l,d={top:l+0,bottom:l+1};return this._buffer.positions[c+0]=r,this._buffer.positions[c+1]=o,this._buffer.positions[c+2]=this.forPathBevel?this._bevel:this._depth-n,this._buffer.normals[c+0]=0,this._buffer.normals[c+1]=0,this._buffer.normals[c+2]=1,this._buffer.uvs[u+0]=s,this._buffer.uvs[u+1]=a,!1===this.forPathBevel&&(this._buffer.positions[c+3]=r,this._buffer.positions[c+4]=o,this._buffer.positions[c+5]=n,this._buffer.normals[c+3]=0,this._buffer.normals[c+4]=0,this._buffer.normals[c+5]=-1,this._buffer.uvs[u+2]=s,this._buffer.uvs[u+3]=a),this.vertexCache[i]=d,d}_buildBevelVert(e,t,n,i=1,r){let o=`${t.bevelI}:${n}`;if(o in this.vertexCache&&0!==r&&1!==r&&(!r||r===this.vertexCache[o].pathBevelUCoord))return this.vertexCache[o];let l,c,u,d,[s,a]=t.boundary.vertexIndices[n];s!==a?(c=s,l=a,d=!1,u=e.continuous[c]&&e.continuous[l]):(l=s,c=(l-1+e.count)%e.count,d=e.concave[l]&&t.bevelI>0,u=e.continuous[l]||d);let h=Math.cos(t.angle),f=Math.sin(t.angle),v=2*n,y=2*l,b=2*c,w=t.boundary.vertices[v+0],O=t.boundary.vertices[v+1],S=(1-f)*this._bevel,D=(w-this._minX)/this._width,V=(O-this._minY)/this._height;this.forPathBevel&&(void 0!==r&&(D=r),V=1);let Y=e.normals[y+0],q=e.normals[y+1],K=e.normals[b+0],te=e.normals[b+1];if(d){Y+=(K-Y)*(1-i),q+=(te-q)*(1-i);let Pe=Math.sqrt(Y*Y+q*q);Y/=Pe,q/=Pe}let ie=this._buffer.get(this.forPathBevel?u?1:2:u?2:4),ae=3*ie,pe=2*ie,fe={i:n,fi:l,topP:ie+0,topN:ie+0,bottomP:ie+1,bottomN:ie+1,pathBevelUCoord:r};return this._buffer.positions[ae+0]=w,this._buffer.positions[ae+1]=O,this._buffer.positions[ae+2]=(this.forPathBevel?this._bevel:this._depth)-S,this._buffer.normals[ae+0]=Y*h,this._buffer.normals[ae+1]=q*h,this._buffer.normals[ae+2]=f,this._buffer.uvs[pe+0]=D,this._buffer.uvs[pe+1]=V,!1===this.forPathBevel&&(this._buffer.positions[ae+3]=w,this._buffer.positions[ae+4]=O,this._buffer.positions[ae+5]=S,this._buffer.normals[ae+3]=Y*h,this._buffer.normals[ae+4]=q*h,this._buffer.normals[ae+5]=-f,this._buffer.uvs[pe+2]=V,this._buffer.uvs[pe+3]=D),u||(this.forPathBevel?(ie+=1,ae+=3,pe+=2):(ie+=2,ae+=6,pe+=4),fe.topP=ie+0,fe.bottomP=ie+1,this._buffer.positions[ae+0]=w,this._buffer.positions[ae+1]=O,this._buffer.positions[ae+2]=(this.forPathBevel?this._bevel:this._depth)-S,this._buffer.normals[ae+0]=K*h,this._buffer.normals[ae+1]=te*h,this._buffer.normals[ae+2]=f,this._buffer.uvs[pe+0]=D,this._buffer.uvs[pe+1]=V,!1===this.forPathBevel&&(this._buffer.positions[ae+3]=w,this._buffer.positions[ae+4]=O,this._buffer.positions[ae+5]=S,this._buffer.normals[ae+3]=K*h,this._buffer.normals[ae+4]=te*h,this._buffer.normals[ae+5]=-f,this._buffer.uvs[pe+2]=V,this._buffer.uvs[pe+3]=D)),this.vertexCache[o]=fe,fe}clone(){let e=new Mk(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=UM(this.userData),e}},TW=class extends ei{constructor(e,t=12,n={}){super(),this.type="ShapeGeometry",this.windingRule=ao.ODD,this.elementType=Ls.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:ao.ODD,elementType:Ls.POLYGONS,polySize:3,vertexSize:2,strict:!0},n);let o,l,c,i=this._shape.extractShapePointsToFlatArray([],this._curveSegments),r=this._shape.shapeHoles.map(h=>h.extractShapePointsToFlatArray([],this._curveSegments)),s=!0,a=!0;for(let h=0,f=i.length/2;h<f;h++){let v=2*h,y=i[v+0],b=i[v+1];if(void 0!==l&&y!==l&&(s=!1),void 0!==c&&b!==c&&(a=!1),l=y,c=b,!s&&!a)break}if(!s&&!a)try{o=Vf({contours:[i,...r],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{o=wk}let u=o?.vertexCount??1,d=o?.elementCount??1;if(this._positionAttribute=new pi(new Float32Array(3*u),3),this._normalAttribute=new pi(new Float32Array(3*u),3),this._uvAttribute=new pi(new Float32Array(2*u),2),this._indexAttribute=new pi(new Uint32Array(3*d),1),o){let h=1/0,f=-1/0,v=1/0,y=-1/0;for(let O=0,S=u;O<S;O++){let D=2*O,V=o.vertices[D+0],Y=o.vertices[D+1];V<h&&(h=V),V>f&&(f=V),Y<v&&(v=Y),Y>y&&(y=Y)}let b=f-h,w=y-v;for(let O=0,S=u;O<S;O++){let D=2*O,V=o.vertices[D+0],Y=o.vertices[D+1],q=(V-h)/b,K=(Y-v)/w;this._positionAttribute.setXYZ(O,V,Y,0),this._normalAttribute.setXYZ(O,0,0,1),this._uvAttribute.setXY(O,q,K)}for(let O=0,S=d;O<S;O++){let D=3*O,Y=o.elements[D+1],q=o.elements[D+2];this._indexAttribute.setX(D+0,o.elements[D+0]),this._indexAttribute.setX(D+1,Y),this._indexAttribute.setX(D+2,q)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,3*(o?.elementCount??1))}clone(){let e=new TW(this._shape,this._curveSegments);return e.userData=UM(this.userData),e}},kW=class extends Mk{constructor(e,t,n=0,i=12,r=3,o=ao.ODD){super(e,t,n,i,r,o),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return 2*e.vertexCount*(2+this._bevelSegments)}_buildWall(e,t,n){let i=e[0];for(let r=0,o=i.boundary.vertexCount;r<o;r++){let s=this._buildBevelVert(t,i,r),a=this._buildBevelVert(t,i,(r+1)%o);n.push(a.topP,s.topN,s.bottomN),n.push(a.topP,s.bottomN,a.bottomP)}}clone(){let e=new kW(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=UM(this.userData),e}},Im=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:ao.ODD},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.abs(n.depth??0),s=e.shape??t?.shape,a=s?.roundness??n.roundness;void 0!==s&&(s instanceof os?(s.width!==i||s.height!==r)&&s.applySize(i,r):s=new os(i,r).fromJSON(s),void 0!==e.parameters?.roundness&&e.parameters?.roundness>0&&s.update());let l=s??new os(i,r);return{parameters:Object.assign(n,{width:i,height:r,depth:o,roundness:a}),shape:l}}static build(e){let a,{depth:t,extrudeBevelSize:n,extrudeBevelSegments:i,subdivisions:r,roundness:o,windingRule:s}=e.parameters;return e.shape.roundness=o,a=t<=0?new TW(e.shape,r,{windingRule:s}):new kW(e.shape,t,n,r,i,s),Object.assign(a,{userData:{...e,type:"VectorGeometry"}})}},IW=2*Math.PI,Pk=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return n.angle=Yn.clamp(n.angle,0,360),{shape:e.shape&&e.shape instanceof os?e.shape:new os,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let f,{width:t,height:n,spikes:i,angle:r,innerRadius:o,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}=e.parameters,c=e.shape,h=function kke(e,t,n,i,r,o){if(i>=IW)return r>30||r%4==0?(function Rke(e,t,n,i=0,r=0,o=0){let s=.5522847498,a=t*s,l=n*s;e.addPoint(NP(r-t,o,r-t,o-l,r-t,o+l)),e.addPoint(NP(r,o+n,r-a,o+n,r+a,o+n)),e.addPoint(NP(r+t,o,r+t,o+l,r+t,o-l)),e.addPoint(NP(r,o-n,r+a,o-n,r-a,o-n)),i>0&&FW(e,t,n,i)}(e,t,n,o),Math.round(r/4)):RW(e,i,r,t,n,o);let s={x:0,y:n},a=(i=Math.max(i,.001))+.5*Math.PI,l={x:Math.cos(a)*t,y:Math.sin(a)*n},c=function Oke({px:e,py:t,cx:n,cy:i,rx:r,ry:o,largeArcFlag:s,sweepFlag:a}){let l=[];if(0===r||0===o)return[];let c=(e-n)/2,u=(t-i)/2;if(0===c&&0===u)return[];r=Math.abs(r),o=Math.abs(o);let d=Math.pow(c,2)/Math.pow(r,2)+Math.pow(u,2)/Math.pow(o,2);d>1&&(r*=Math.sqrt(d),o*=Math.sqrt(d));let h=function Pke(e,t,n,i,r,o,s,a,l,c){let u=Math.pow(r,2),d=Math.pow(o,2),h=Math.pow(s,2),f=Math.pow(a,2),v=u*d-u*f-d*h;v<0&&(v=0),v/=u*f+d*h,v=Math.sqrt(v)*(l===c?-1:1);let y=v*r/o*a,b=v*-o/r*s,w=y+(e+n)/2,O=b+(t+i)/2,S=(s-y)/r,D=(a-b)/o,V=(-s-y)/r,Y=(-a-b)/o,q=CW(1,0,S,D),K=CW(S,D,V,Y);return!c&&K>0&&(K-=yk),c&&K<0&&(K+=yk),{centerx:w,centery:O,ang1:q,ang2:K}}(e,t,n,i,r,o,c,u,s,a),{ang1:f,ang2:v}=h,{centerx:y,centery:b}=h,w=Math.abs(v)/(yk/4);Math.abs(1-w)<1e-7&&(w=1);let O=Math.max(Math.ceil(w),1);v/=O;for(let S=0;S<O;S++)l.push(Mke(f,v)),f+=v;return l.map(S=>{let{x:D,y:V}=bk(S[0],r,o,y,b),{x:Y,y:q}=bk(S[1],r,o,y,b),{x:K,y:te}=bk(S[2],r,o,y,b);return{x1:D,y1:V,x2:Y,y2:q,x:K,y:te}})}({px:s.x,py:s.y,cx:l.x,cy:l.y,rx:t,ry:n,largeArcFlag:i>Math.PI,sweepFlag:!0});return r>30||r%c.length==0?function Ike(e,t,n,i,r,o,s,a){let l=Math.round(r/i.length);e.addPoint(P1(t,n));for(let c=0,u=i.length;c<u;c++){let d=i[c],h=e.points[c],f=P1(d.x,d.y);h.controls[1].position.set(d.x1,d.y1),f.controls[0].position.set(d.x2,d.y2),e.addPoint(f)}return a>0?NW(e,o,s,a):e.addPoint(P1(0,0)),l}(e,s.x,s.y,c,r,t,n,o):RW(e,i,r,t,n,o)}(c,.5*t,.5*n,r*Math.PI/180,i,o);return c.isClosed=!0,c.update(),0===r?(f=new ei,f.setAttribute("position",new Dn([],3))):f=Im.create({shape:c,parameters:{subdivisions:h,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}}),Object.assign(f,{userData:{...e,type:"EllipseGeometry"}})}};function RW(e,t,n,i,r,o){let s=-t/n;for(let a=0;a<=n;a++){let l=s*a,c=Math.sin(l)*i,u=Math.cos(l)*r;e.addPoint(P1(c,u))}return t<IW?o>0?NW(e,i,r,o):e.addPoint(P1(0,0)):(e.removePoint(e.points[e.points.length-1]),o>0&&FW(e,i,r,o)),1}function P1(e,t){return new w1(Yn.generateUUID(),new Ve(e,t))}function NP(e,t,n,i,r,o){let s=P1(e,t);return s.controls[0].position.set(n,i),s.controls[1].position.set(r,o),s}function NW(e,t,n,i){LW(e,t,n,i).forEach(r=>e.addPoint(r))}function FW(e,t,n,i){let r=LW(e,t,n,i),o=new os;r.forEach(s=>o.addPoint(s)),o.isClosed=!0,e.shapeHoles.push(o)}function LW(e,t,n,i){let r=i*t/100,o=r*(Math.abs(n)/Math.abs(t)),s=new Ve(r/t,o/n),a=e.points.map(l=>{let c=l.clone();return c.uuid=Yn.generateUUID(),c}).reverse();return a.forEach(l=>{l.position.multiply(s);let c=l.controls[0].position.clone().multiply(s),u=l.controls[1].position.clone().multiply(s);l.controls[0].position.copy(u),l.controls[1].position.copy(c)}),a}var Ok=new Mv([0,0,0],1),BW=class extends ei{constructor(e=!0,t=1,n=1,i=1,r=1,o=1,s=1,a=1,l=1,c=1,u=1,d=1){if(super(),0===o)return;let h=e&&1===o;h&&(d=0),u>100&&(u=100),0===u&&(d=0);let O,S,D,V,Y,q,K,te,f=()=>new re,v=new re,y=f(),b=f(),w=f(),ie=f(),ae=f(),pe=f(),fe=f(),ge=f(),Oe=f(),Pe=f(),xe=f(),_e=n-2*a+.001,Ue=_e/o,He=Math.ceil(s*o),ze=He+1,Re=_e/He,Ye=-_e/2,Le=c+1,Xe=2*Math.PI/c,Ge=Math.PI/2/d,Ze=Math.min((1-u/100)*a,a-.01),mt=a-Ze,ot=0,At=2*d+2,Mt=Le*At/2,_n=Mt+Le*ze,vn=Math.max(0,Le*(ze+At)),[xn,An,dn]=[3,3,2].map(Un=>Array(vn*Un).fill(0)),rn=[],Vn=r-a;function hi(Un,Xn){let jn=Math.PI/2;q=Xn*Re,te=2*Math.PI*(q%Ue)/Ue+jn,q+=Ye,K=Math.sin(te)*Vn,Y=Math.cos(te)*Vn,e?Un.set(Y,K,q):Un.set(Y,q,K)}hi(v,-1e-10),hi(y,0),ie.copy(v),hi(v,1);let Ie=v.distanceTo(y),we=h?0:mt+Ze,ft=Ie*He+2*we,Qt=Ze,zt=ft-we;for(let Un=0;Un<=He;Un++){hi(b,Un),xe.subVectors(b,ie).normalize(),ie.copy(b),Oe.copy(b).setComponent(+e+1,0).normalize(),Pe.crossVectors(xe,Oe).normalize();let Xn=0===Un,jn=Un===He,_i=Xn?3*Math.PI/2:Ge,ci=Xn?Qt:zt,Tr=Xn?Le:_n,To=Xn?0:vn-Le,js=xe.clone().multiplyScalar(Xn?-mt:mt).add(b),et=xe.clone().multiplyScalar(Xn?-1:1).normalize();for(let St=0;St<Le;St++){let nn=St*Xe;if(ae.addVectors(v.copy(Oe).multiplyScalar(a*Math.cos(nn)),y.copy(Pe).multiplyScalar(a*Math.sin(nn))),pe.copy(ae).normalize(),Xn||jn){h||(ot=To+St,[0,1,2].forEach(pn=>{xn[3*ot+pn]=js.getComponent(pn),An[3*ot+pn]=et.getComponent(pn)}),dn[2*ot]=+jn,dn[2*ot+1]=St/c),y.copy(pe).multiplyScalar(Ze),w.addVectors(b,y);for(let pn=0;pn<d;pn++){let vi=pn*Ge+_i;fe.addVectors(v.copy(xe).multiplyScalar(mt*Math.sin(vi)),y.copy(pe).multiplyScalar(mt*Math.cos(vi))),ge.copy(fe).normalize(),y.addVectors(w,fe),fe.normalize(),ot=Tr+pn*Le+St,[0,1,2].forEach(Ko=>{xn[3*ot+Ko]=y.getComponent(Ko),An[3*ot+Ko]=ge.getComponent(Ko)});let jr=+Xn+Math.sin(vi);dn[2*ot]=(ci+mt*jr)/ft,dn[2*ot+1]=St/c}}y.addVectors(b,ae),ot=Mt+Un*Le+St,[0,1,2].forEach(pn=>{xn[3*ot+pn]=y.getComponent(pn),An[3*ot+pn]=pe.getComponent(pn)}),dn[2*ot]=(we+Un*Ie)/ft,dn[2*ot+1]=St/c}}let on=ze+2*d+2,[Tn,Vt]=[+h,on-1];for(let Un=Tn;Un<=Vt-1;Un++){let Xn=h&&Un===Vt-1;for(let jn=0;jn<Le-1;jn++)O=Un*Le+jn,S=O+1,D=(Xn?jn:O)+Le,V=(Xn?jn+1:S)+Le,0===Un?rn.push(S,V,D):Un===on-2?rn.push(O,S,D):rn.push(O,S,D,S,V,D)}this.setIndex(rn),this.setAttribute("position",new Dn(xn,3)),this.setAttribute("normal",new Dn(An,3)),this.setAttribute("uv",new Dn(dn,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let r,o,s,a,e=this.userData.parameters,t=Math.ceil(e.tubularSegments),n=e.radialSegments+1,i=Array.from(this.getIndex().array),l=6*(t-1)*e.radialSegments,c=t,u=c===t;for(let d=0;d<e.radialSegments;d++)r=c*n+d,o=r+1,s=(u?d:r)+n,a=(u?d+1:o)+n,i[l++]=r,i[l++]=o,i[l++]=s,i[l++]=o,i[l++]=a,i[l++]=s;return i.length=l,Ok.array=i,Ok.count=i.length,Ok}},zW=class extends hk{constructor(e=1,t=.2,n=4){let i=(1+Math.sqrt(5))/2,s="IcosahedronGeometry";super([-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],s,e,t,n),this.type=s}static fromJSON(e){return new zW(e.radius,e.corner,e.cornerSides)}},ah=new Wt,Sk=new so,FP=new re,LP=class extends Ia{constructor(){super(),this.uuid=Yn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=(new vs).getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let o=0,s=r.vertexNormals.length;o<s;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return ah.makeRotationX(e),this.applyMatrix4(ah),this}rotateY(e){return ah.makeRotationY(e),this.applyMatrix4(ah),this}rotateZ(e){return ah.makeRotationZ(e),this.applyMatrix4(ah),this}translate(e,t,n){return ah.makeTranslation(e,t,n),this.applyMatrix4(ah),this}scale(e,t,n){return ah.makeScale(e,t,n),this.applyMatrix4(ah),this}lookAt(e){return Sk.lookAt(e),Sk.updateMatrix(),this.applyMatrix4(Sk.matrix),this}fromBufferGeometry(e){let t=this,n=null!==e.index?e.index:void 0,i=e.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let r=i.position,o=i.normal,s=i.color,a=i.uv,l=i.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(let d=0;d<r.count;d++)t.vertices.push((new re).fromBufferAttribute(r,d)),void 0!==s&&t.colors.push((new si).fromBufferAttribute(s,d));function c(d,h,f,v){let y=void 0===s?[]:[t.colors[d].clone(),t.colors[h].clone(),t.colors[f].clone()],b=void 0===o?[]:[(new re).fromBufferAttribute(o,d),(new re).fromBufferAttribute(o,h),(new re).fromBufferAttribute(o,f)],w=new Ek(d,h,f,b,y,v);t.faces.push(w),void 0!==a&&t.faceVertexUvs[0].push([(new Ve).fromBufferAttribute(a,d),(new Ve).fromBufferAttribute(a,h),(new Ve).fromBufferAttribute(a,f)]),void 0!==l&&t.faceVertexUvs[1].push([(new Ve).fromBufferAttribute(l,d),(new Ve).fromBufferAttribute(l,h),(new Ve).fromBufferAttribute(l,f)])}let u=e.groups;if(u.length>0)for(let d=0;d<u.length;d++){let h=u[d],f=h.start;for(let y=f,b=f+h.count;y<b;y+=3)void 0!==n?c(n.getX(y),n.getX(y+1),n.getX(y+2),h.materialIndex):c(y,y+1,y+2,h.materialIndex)}else if(void 0!==n)for(let d=0;d<n.count;d+=3)c(n.getX(d),n.getX(d+1),n.getX(d+2));else for(let d=0;d<r.count;d+=3)c(d,d+1,d+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(FP).negate(),this.translate(FP.x,FP.y,FP.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new Wt;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this}computeFaceNormals(){let e=new re,t=new re;for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n],o=this.vertices[r.a],s=this.vertices[r.b];e.subVectors(this.vertices[r.c],s),t.subVectors(o,s),e.cross(t),e.normalize(),r.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new re;if(e){let n=new re,i=new re;for(let r=0,o=this.faces.length;r<o;r++){let s=this.faces[r],a=this.vertices[s.a],l=this.vertices[s.b];n.subVectors(this.vertices[s.c],l),i.subVectors(a,l),n.cross(i),t[s.a].add(n),t[s.b].add(n),t[s.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){let r=this.faces[n],o=r.vertexNormals;3===o.length?(o[0].copy(t[r.a]),o[1].copy(t[r.b]),o[2].copy(t[r.c])):(o[0]=t[r.a].clone(),o[1]=t[r.b].clone(),o[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let n=this.faces[e],i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,o=i.vertexNormals.length;r<o;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}let e=new LP;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let r=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let s=0,a=this.faces.length;s<a;s++){let l=new re,c={a:new re,b:new re,c:new re};r.push(l),o.push(c)}}let i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,o=this.faces.length;r<o;r++){let s=this.faces[r],l=i.vertexNormals[r];i.faceNormals[r].copy(s.normal),l.a.copy(s.vertexNormals[0]),l.b.copy(s.vertexNormals[1]),l.c.copy(s.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){let i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ys),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $l),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,n=0){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);let i,r=this.vertices.length,o=this.vertices,s=e.vertices,a=this.faces,l=e.faces,c=this.colors,u=e.colors;void 0!==t&&(i=(new vs).getNormalMatrix(t));for(let d=0,h=s.length;d<h;d++){let f=s[d].clone();void 0!==t&&f.applyMatrix4(t),o.push(f)}for(let d=0,h=u.length;d<h;d++)c.push(u[d].clone());for(let d=0,h=l.length;d<h;d++){let v,y,f=l[d],b=f.vertexNormals,w=f.vertexColors,O=new Ek(f.a+r,f.b+r,f.c+r);O.normal.copy(f.normal),void 0!==i&&O.normal.applyMatrix3(i).normalize();for(let S=0,D=b.length;S<D;S++)v=b[S].clone(),void 0!==i&&v.applyMatrix3(i).normalize(),O.vertexNormals.push(v);O.color.copy(f.color);for(let S=0,D=w.length;S<D;S++)y=w[S],O.vertexColors.push(y.clone());O.materialIndex=f.materialIndex+n,a.push(O)}for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let f=e.faceVertexUvs[d];void 0===this.faceVertexUvs[d]&&(this.faceVertexUvs[d]=[]);for(let v=0,y=f.length;v<y;v++){let b=f[v],w=[];for(let O=0,S=b.length;O<S;O++)w.push(b[O].clone());this.faceVertexUvs[d].push(w)}}}mergeMesh(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)}mergeVertices(e=4){let t={},n=[],i=[],r=Math.pow(10,e);for(let a=0,l=this.vertices.length;a<l;a++){let c=this.vertices[a],u=Math.round(c.x*r)+"_"+Math.round(c.y*r)+"_"+Math.round(c.z*r);void 0===t[u]?(t[u]=a,n.push(this.vertices[a]),i[a]=n.length-1):i[a]=i[t[u]]}let o=[];for(let a=0,l=this.faces.length;a<l;a++){let c=this.faces[a];c.a=i[c.a],c.b=i[c.b],c.c=i[c.c];let u=[c.a,c.b,c.c];for(let d=0;d<3;d++)if(u[d]===u[(d+1)%3]){o.push(a);break}}for(let a=o.length-1;a>=0;a--){let l=o[a];this.faces.splice(l,1);for(let c=0,u=this.faceVertexUvs.length;c<u;c++)this.faceVertexUvs[c].splice(l,1)}let s=this.vertices.length-n.length;return this.vertices=n,s}setFromPoints(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){let i=e[t];this.vertices.push(new re(i.x,i.y,i.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let a=0;a<t;a++)e[a]._id=a;e.sort(function n(a,l){return a.materialIndex-l.materialIndex});let o,s,i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];i&&i.length===t&&(o=[]),r&&r.length===t&&(s=[]);for(let a=0;a<t;a++){let l=e[a]._id;o&&o.push(i[l]),s&&s.push(r[l])}o&&(this.faceVertexUvs[0]=o),s&&(this.faceVertexUvs[1]=s)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){let f=this.parameters;for(let v in f)void 0!==f[v]&&(e[v]=f[v]);return e}let t=[];for(let f=0;f<this.vertices.length;f++){let v=this.vertices[f];t.push(v.x,v.y,v.z)}let n=[],i=[],r={},o=[],s={},a=[],l={};for(let f=0;f<this.faces.length;f++){let v=this.faces[f],y=!0,b=!1,w=void 0!==this.faceVertexUvs[0][f],O=v.normal.length()>0,S=v.vertexNormals.length>0,D=1!==v.color.r||1!==v.color.g||1!==v.color.b,V=v.vertexColors.length>0,Y=0;if(Y=c(Y,0,0),Y=c(Y,1,y),Y=c(Y,2,b),Y=c(Y,3,w),Y=c(Y,4,O),Y=c(Y,5,S),Y=c(Y,6,D),Y=c(Y,7,V),n.push(Y),n.push(v.a,v.b,v.c),n.push(v.materialIndex),w){let q=this.faceVertexUvs[0][f];n.push(h(q[0]),h(q[1]),h(q[2]))}if(O&&n.push(u(v.normal)),S){let q=v.vertexNormals;n.push(u(q[0]),u(q[1]),u(q[2]))}if(D&&n.push(d(v.color)),V){let q=v.vertexColors;n.push(d(q[0]),d(q[1]),d(q[2]))}}function c(f,v,y){return y?f|1<<v:f&~(1<<v)}function u(f){let v=f.x.toString()+f.y.toString()+f.z.toString();return void 0!==r[v]||(r[v]=i.length/3,i.push(f.x,f.y,f.z)),r[v]}function d(f){let v=f.r.toString()+f.g.toString()+f.b.toString();return void 0!==s[v]||(s[v]=o.length,o.push(f.getHex())),s[v]}function h(f){let v=f.x.toString()+f.y.toString();return void 0!==l[v]||(l[v]=a.length/2,a.push(f.x,f.y)),l[v]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),a.length>0&&(e.data.uvs=[a]),e.data.faces=n,e}clone(){return(new LP).copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let d=0,h=t.length;d<h;d++)this.vertices.push(t[d].clone());let n=e.colors;for(let d=0,h=n.length;d<h;d++)this.colors.push(n[d].clone());let i=e.faces;for(let d=0,h=i.length;d<h;d++)this.faces.push(i[d].clone());for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let f=e.faceVertexUvs[d];void 0===this.faceVertexUvs[d]&&(this.faceVertexUvs[d]=[]);for(let v=0,y=f.length;v<y;v++){let b=f[v],w=[];for(let O=0,S=b.length;O<S;O++)w.push(b[O].clone());this.faceVertexUvs[d].push(w)}}let r=e.morphTargets;for(let d=0,h=r.length;d<h;d++){let f={};if(f.name=r[d].name,void 0!==r[d].vertices){f.vertices=[];for(let v=0,y=r[d].vertices.length;v<y;v++)f.vertices.push(r[d].vertices[v].clone())}if(void 0!==r[d].normals){f.normals=[];for(let v=0,y=r[d].normals.length;v<y;v++)f.normals.push(r[d].normals[v].clone())}this.morphTargets.push(f)}let o=e.morphNormals;for(let d=0,h=o.length;d<h;d++){let f={};if(void 0!==o[d].vertexNormals){f.vertexNormals=[];for(let v=0,y=o[d].vertexNormals.length;v<y;v++){let b=o[d].vertexNormals[v],w={};w.a=b.a.clone(),w.b=b.b.clone(),w.c=b.c.clone(),f.vertexNormals.push(w)}}if(void 0!==o[d].faceNormals){f.faceNormals=[];for(let v=0,y=o[d].faceNormals.length;v<y;v++)f.faceNormals.push(o[d].faceNormals[v].clone())}this.morphNormals.push(f)}let s=e.skinWeights;for(let d=0,h=s.length;d<h;d++)this.skinWeights.push(s[d].clone());let a=e.skinIndices;for(let d=0,h=a.length;d<h;d++)this.skinIndices.push(a[d].clone());let l=e.lineDistances;for(let d=0,h=l.length;d<h;d++)this.lineDistances.push(l[d]);let c=e.boundingBox;null!==c&&(this.boundingBox=c.clone());let u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=(new Bke).fromGeometry(this),t=new ei,n=new Float32Array(3*e.vertices.length);if(t.setAttribute("position",BP.call(new pi(n,3),e.vertices)),e.normals.length>0){let i=new Float32Array(3*e.normals.length);t.setAttribute("normal",BP.call(new pi(i,3),e.normals))}if(e.colors.length>0){let i=new Float32Array(3*e.colors.length);t.setAttribute("color",UW.call(new pi(i,3),e.colors))}if(e.uvs.length>0){let i=new Float32Array(2*e.uvs.length);t.setAttribute("uv",jW.call(new pi(i,2),e.uvs))}if(e.uvs2.length>0){let i=new Float32Array(2*e.uvs2.length);t.setAttribute("uv2",jW.call(new pi(i,2),e.uvs2))}t.groups=e.groups;for(let i in e.morphTargets){let r=[],o=e.morphTargets[i];for(let s=0,a=o.length;s<a;s++){let l=o[s],c=new Dn(3*l.data.length,3);c.name=l.name,r.push(BP.call(c,l.data))}t.morphAttributes[i]=r}if(e.skinIndices.length>0){let i=new Dn(4*e.skinIndices.length,4);t.setAttribute("skinIndex",VW.call(i,e.skinIndices))}if(e.skinWeights.length>0){let i=new Dn(4*e.skinWeights.length,4);t.setAttribute("skinWeight",VW.call(i,e.skinWeights))}return null!==e.boundingSphere&&(t.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new ei,n=e.geometry;if(e.isPoints||e.isLine){let i=new Dn(3*n.vertices.length,3),r=new Dn(3*n.colors.length,3);if(t.setAttribute("position",BP.call(i,n.vertices)),t.setAttribute("color",UW.call(r,n.colors)),n.lineDistances&&n.lineDistances.length===n.vertices.length){let o=new Dn(n.lineDistances.length,1);t.setAttribute("lineDistance",zke.call(o,n.lineDistances))}null!==n.boundingSphere&&(t.boundingSphere=n.boundingSphere.clone()),null!==n.boundingBox&&(t.boundingBox=n.boundingBox.clone())}else e.isMesh&&(t=n.toBufferGeometry());return t}};LP.prototype.isGeometry=!0;var Bke=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let n,i,r,t=[],o=e.faces;for(i=0;i<o.length;i++){let s=o[i];s.materialIndex!==r&&(r=s.materialIndex,void 0!==n&&(n.count=3*i-n.start,t.push(n)),n={start:3*i,materialIndex:r})}void 0!==n&&(n.count=3*i-n.start,t.push(n)),this.groups=t}fromGeometry(e){let l,t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,a=s.length;if(a>0){l=[];for(let b=0;b<a;b++)l[b]={name:s[b].name,data:[]};this.morphTargets.position=l}let d,c=e.morphNormals,u=c.length;if(u>0){d=[];for(let b=0;b<u;b++)d[b]={name:c[b].name,data:[]};this.morphTargets.normal=d}let h=e.skinIndices,f=e.skinWeights,v=h.length===n.length,y=f.length===n.length;n.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let b=0;b<t.length;b++){let w=t[b];this.vertices.push(n[w.a],n[w.b],n[w.c]);let O=w.vertexNormals;if(3===O.length)this.normals.push(O[0],O[1],O[2]);else{let D=w.normal;this.normals.push(D,D,D)}let S=w.vertexColors;if(3===S.length)this.colors.push(S[0],S[1],S[2]);else{let D=w.color;this.colors.push(D,D,D)}if(!0===r){let D=i[0][b];void 0!==D?this.uvs.push(D[0],D[1],D[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",b),this.uvs.push(new Ve,new Ve,new Ve))}if(!0===o){let D=i[1][b];void 0!==D?this.uvs2.push(D[0],D[1],D[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",b),this.uvs2.push(new Ve,new Ve,new Ve))}for(let D=0;D<a;D++){let V=s[D].vertices;l[D].data.push(V[w.a],V[w.b],V[w.c])}for(let D=0;D<u;D++){let V=c[D].vertexNormals[b];d[D].data.push(V.a,V.b,V.c)}v&&this.skinIndices.push(h[w.a],h[w.b],h[w.c]),y&&this.skinWeights.push(f[w.a],f[w.b],f[w.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}},Ek=class{constructor(e,t,n,i,r,o=0){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new re,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new si,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function zke(e){return this.array.set(e),this}function UW(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new si),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}function jW(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Ve),t[n++]=o.x,t[n++]=o.y}return this}function BP(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new re),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}function VW(e){let t=this.array,n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new ji),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}var Uke=["a","b","c"];function jke(e,t){switch(t){case"c":return e.c;case"b":return e.b;default:return e.a}}function Dk(e,t,n){let i=Math.min(e,t),r=Math.max(e,t);return n.get(i+"_"+r)}function Ak(e,t,n,i,r,o){let c,s=Math.min(e,t),a=Math.max(e,t),l=s+"_"+a;i.has(l)?c=i.get(l):(c={a:n[s],b:n[a],newEdge:null,faces:[]},i.set(l,c)),c.faces.push(r),o[e].edges.push(c),o[t].edges.push(c)}function zP(e,t,n,i,r){e.push(new Ek(t,n,i,void 0,void 0,r))}function O1(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function UP(e,t,n,i){e.push([t.clone(),n.clone(),i.clone()])}var sa=new re,HW=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof os?e.shape:new os,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,spikes:i,cornerRadius:r,depth:o,extrudeBevelSize:s,extrudeBevelSegments:a}=e.parameters,l=e.shape,c=.5*t,u=.5*n,f=2*Math.PI/i;for(let y=0;y<i;y++){let b=f*y,w=0+Math.sin(b)*c,O=0+Math.cos(b)*u;l.addPoint(l.createPoint(w,O))}l.isClosed=!0;for(let y=0,b=l.points.length;y<b;y++)l.points[y].roundness=r;l.roundness=r,l.update();let v=Im.create({shape:l,parameters:{roundness:r,depth:o,extrudeBevelSize:s,extrudeBevelSegments:a}});return Object.assign(v,{userData:{...e,type:"PolygonGeometry"}})}};function I_(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function Tk(e,t,n,i,r,o){let s=t.clone().sub(e),a=n.clone().sub(e),l=s.angleTo(a);if(s.normalize(),a.normalize(),i===r){let c=s.add(a).normalize();o.copy(e).addScaledVector(c,i/Math.sin(l/2))}else{let c=s.angleTo(a);o.copy(e),o.addScaledVector(s,r/Math.sin(c)),o.addScaledVector(a,i/Math.sin(c))}}function qke(e,t,n){let i=e.clone().sub(t),r=n.clone().sub(t);return i.projectOnVector(r),i.add(t)}var Yke=class extends ei{constructor(e=.5,t=1,n=4,i=1,r=!1,o=0,s=4){super(),n=Math.floor(Math.max(3,n)),i=Math.floor(i),s=Math.floor(s);let ae,a=[],l=[],c=[],u=[],d=0,h=t/2,f=Math.PI/n,v=e*Math.cos(Math.PI/n),y=2*Math.PI/n,b=(n-2)*Math.PI/n,w=Math.PI-b,O=new re(0,-h,0),S=new re(0,h,0),D=new Ve(e,-h),V=new Ve(v,-h),Y=new Ve(0,S.y).sub(V),q=new Ve(0,S.y).sub(D),K=new Ve(Y.y,-Y.x).normalize(),te=new Ve(q.y,-q.x).normalize(),ie=e*Math.cos(Math.PI/n)*Math.tan((Math.PI-Y.angle())/2)-1e-8;o=Math.min(o,ie);{let _e=new re(K.x,K.y,0),Ue=new re(Math.cos(y)*_e.x,_e.y,Math.sin(y)*_e.x);ae=_e.angleTo(Ue)}let pe=o/Math.tan((Math.PI-Y.angle())/2),fe=o/Math.tan((Math.PI-ae)/2),ge=new re;if(!r){l.push(O.x,O.y,O.z),c.push(0,-1,0),u.push(0,0);let _e=d++,Ue=[],He=D.clone(),ze=pe/Math.cos(Math.PI/n);He.x-=ze;for(let Re=0;Re<n;Re++){let Ye=Re/n*Math.PI*2+f;I_(He,new Ve(Math.sin(Ye),Math.cos(Ye)),ge),l.push(ge.x,ge.y,ge.z),c.push(0,-1,0),u.push(0,0),Ue.push(d++)}for(let Re=0;Re<Ue.length;Re++)a.push(Ue[Re],_e,Ue[(Re+1)%Ue.length])}let Oe=[];{let _e=new re,Ue=new re,He=new re,ze=new re,Re=new re,Ye=new re;for(let Le=0;Le<n;Le++){let Xe=Le/n*Math.PI*2+f,Ge=(Le+.5)/n*Math.PI*2+f,ht=(Le+1)/n*Math.PI*2+f,Ze=new Ve(Math.sin(Xe),Math.cos(Xe)),mt=new Ve(Math.sin(Ge),Math.cos(Ge)),ot=new Ve(Math.sin(ht),Math.cos(ht));I_(D,Ze,Ue),I_(D,ot,He),I_(K,mt,_e),Tk(S,Ue,He,fe,fe,ze),l.push(ze.x,ze.y,ze.z),Tk(Ue,S,He,fe,pe,Re),l.push(Re.x,Re.y,Re.z),Tk(He,Ue,S,pe,fe,Ye),l.push(Ye.x,Ye.y,Ye.z),c.push(_e.x,_e.y,_e.z),c.push(_e.x,_e.y,_e.z),c.push(_e.x,_e.y,_e.z),u.push(0,0),u.push(0,0),u.push(0,0);let jt=d++,At=d++,Mt=d++;if(a.push(jt,At,Mt),o>0){{let xn=Ue.clone().add(He).multiplyScalar(.5),An=S.clone().sub(xn).normalize(),dn=O.clone().sub(xn).normalize().add(An).normalize().multiplyScalar(-1);Pe(xn,Ye.clone().sub(Re),dn,Y.angle())}let _n,vn;{let xn=new re;I_(te,ot,xn);let An=Ye.clone().add(ze).multiplyScalar(.5);An=qke(An,He,S);let dn=Ye.clone().sub(ze);[_n,vn]=Pe(An,dn,xn,ae,ze.y)}{let xn=_n,An=xn.clone().setY(0).normalize(),dn=new re(0,-1,0),rn=An.clone().cross(dn);xe(xn,An,dn,rn)}Oe.concat(vn);{let xn=Y.angle(),An=Math.PI-xn,dn=S.clone();dn.y-=o/Math.sin(xn-Math.PI/2);let rn=new re,Vn=[];for(let Ie=0;Ie<s;Ie++){let we=[],ft=Math.PI/2-An*Ie/s,Qt=Math.cos(ft),zt=Math.sin(ft),on=Ge;for(let Gn=0;Gn<=Ie;Gn++){let Tn=Math.cos(on),Vt=Math.sin(on);_e.x=Qt*Vt,_e.y=zt,_e.z=Qt*Tn,rn.copy(dn).addScaledVector(_e,o),l.push(rn.x,rn.y,rn.z),c.push(_e.x,_e.y,_e.z),u.push(0,0),we.push(d++),on+=2*Math.PI/Ie/n}Vn.push(we)}vn.reverse(),Vn.push(vn);let hi=Vn.length-1;for(let Ie=0;Ie<hi;Ie++){let we=Vn[Ie],ft=Vn[Ie+1],Qt=we.length-1;a.push(ft[1],we[0],ft[0]);for(let zt=1;zt<=Qt;zt++)a.push(we[zt],we[zt-1],ft[zt]),a.push(ft[zt+1],we[zt],ft[zt])}}}}}function Pe(_e,Ue,He,ze,Re){let Ye=-ze/2,Le=(Math.PI-ze)/2,Xe=Ue.clone().normalize().cross(He);_e.addScaledVector(He,-o/Math.sin(Le));let Ge=new re,ht=new re,mt=d,ot=[];for(let jt=0;jt<=s;jt++){let At=Ye+jt/s*ze;ht.set(0,0,0),ht.addScaledVector(Xe,Math.sin(At)),ht.addScaledVector(He,Math.cos(At));for(let Mt=0;Mt<=1;Mt++){let _n=Mt/1-.5;if(Ge.copy(_e),Ge.addScaledVector(Ue,_n),Ge.addScaledVector(ht,o),null!=Re){let vn=Math.max(0,Ge.y-Re);Ge.addScaledVector(Ue,-vn/Ue.y)}l.push(Ge.x,Ge.y,Ge.z),c.push(ht.x,ht.y,ht.z),u.push(0,0),0===Mt&&ot.push(d),d++}}for(let jt=0;jt<s;jt++)for(let At=0;At<1;At++){let Mt=mt+At+2*jt,_n=Mt+2,vn=_n+1,xn=Mt+1;a.push(Mt,_n,xn),a.push(_n,vn,xn)}return[_e.clone().addScaledVector(Ue,.5),ot]}function xe(_e,Ue,He,ze){let Re=Math.PI/2,Ye=q.angle()-Re,Le=[],Xe=new re,Ge=new re;for(let Ze=0;Ze<=s;Ze++){let mt=[],ot=Ze/s;for(let jt=0;jt<=Ze;jt++){let At=((Ze?jt/Ze:0)-.5)*w,Mt=Math.cos(At),_n=Math.sin(At),xn=(Re+Math.atan(Math.tan(Ye)*Mt))*ot,An=Math.cos(xn),dn=Math.sin(xn);Xe.set(0,0,0),Xe.addScaledVector(Ue,dn*Mt),Xe.addScaledVector(He,An),Xe.addScaledVector(ze,dn*_n),Ge.copy(_e).addScaledVector(Xe,o),l.push(Ge.x,Ge.y,Ge.z),c.push(Xe.x,Xe.y,Xe.z),u.push(0,0),mt.push(d++)}Le.push(mt)}let ht=Le.length-1;for(let Ze=0;Ze<ht;Ze++){let mt=Le[Ze],ot=Le[Ze+1],jt=mt.length-1;a.push(mt[0],ot[1],ot[0]);for(let At=1;At<=jt;At++)a.push(mt[At-1],mt[At],ot[At]),a.push(mt[At],ot[At+1],ot[At])}}this.setIndex(a),this.setAttribute("position",new Dn(l,3)),this.setAttribute("normal",new Dn(c,3)),this.setAttribute("uv",new Dn(u,2))}},GW=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),i=Object.assign(t?.ui??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof os?e.shape:new os,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)}),ui:i}}static build(e){let t=e.shape,{width:n,height:i,cornerRadius:r,cornerType:o,depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}=e.parameters,c={x:.5*n,y:.5*i},u={x:-c.x,y:-c.y},d={x:c.x,y:c.y};function h(D,V,Y){return V>n&&Y>i?Math.min(D*n/V,D*i/Y):V>n?D*n/V:Y>i?D*i/Y:D}let f=[];f[0]=0===r[0]?0:h(r[0],r[0]+r[3],r[0]+r[1]),f[1]=0===r[1]?0:h(r[1],r[1]+r[2],r[1]+r[0]),f[2]=0===r[2]?0:h(r[2],r[2]+r[1],r[2]+r[3]),f[3]=0===r[3]?0:h(r[3],r[3]+r[0],r[3]+r[2]);let v=u.x,y=d.x,b=d.y,w=u.y;t.addPoint(t.createPoint(v,b)),t.addPoint(t.createPoint(y,b)),t.addPoint(t.createPoint(y,w)),t.addPoint(t.createPoint(v,w)),t.isClosed=!0;let O=!0;for(let D=0,V=t.points.length;D<V;D++)t.points[D].roundness=f[D],D>0&&f[D]!==f[D-1]&&(O=!1);O&&(t.roundness=f[0]),t.useCubicForRoundedCorners=1!==o,t.update();let S=Im.create({shape:t,parameters:{depth:s,extrudeBevelSize:a,extrudeBevelSegments:l}});return Object.assign(S,{userData:{...e,type:"RectangleGeometry"}})}},Qke=class extends ei{constructor(e=1,t=1,n=1,i=90,r=10,o=24){super(),this.type="BackdropGeometry";let s=[],a=[],l=[],c=.001;0==r&&(o=1),o=Math.max(1,Math.floor(o)),r=Math.min(r,100),i=Math.min(180-c,i),i*=Math.PI/180;let u=[],d=Math.PI/2,h=(ht=0,Ze=0,mt=0)=>new re(ht,Ze,mt),f=h(),v=h(),[y,b,w]=[t/2,e/2,n/2],O=-b,S=+b,[D,V,Y]=[h(O,-y,+w),h(O,-y,-w),h(O,+y,-w)],q=(ht,Ze=!1)=>Math.sin(ht-Math.PI/(+Ze+1)),K=(ht,Ze=!1)=>Math.cos(ht-Math.PI/(+Ze+1));Y.y=Math.sin(i)*t-y;let te=Math.cos(i)*t-w,ie=D.z-c;i<=d?(Y.z=Math.min(te,ie),Y.z==ie&&(Y.y-=(te-ie)/Math.tan(d-i))):V.z=Math.min(V.z-te-w,D.z-c),f.subVectors(D,V),v.subVectors(Y,V);let ae=Math.min(f.length(),v.length())*r/100,pe=ae*Math.tan(i/2),fe=ae/Math.cos(i/2),ge=f.clone().normalize().add(v.normalize()).setLength(fe).add(V);f.set(0,q(i,!0),K(i,!0)),u.push([Y,f.clone()]);let Oe=(Math.PI-i)/o;for(let ht=0;ht<=o;ht++){let Ze=d+i+ht*Oe;f.set(0,Math.sin(Ze)*pe,Math.cos(Ze)*pe),f.add(ge),v.set(0,q(Ze),K(Ze)),u.push([f.clone(),v.clone()])}u.push([D,h(0,1,0)]);let Pe=Math.sin(Oe/2)*pe*2,xe=u.length-1,_e=u[0][0].distanceTo(u[1][0]),He=_e+Pe*o+u[xe-1][0].distanceTo(u[xe][0]);u[0].push(1);for(let ht=0;ht<=o;ht++)u[ht+1].push(1-(_e+ht*Pe)/He);u[xe].push(0);let Le,Xe,Ge,[ze,Re,Ye]=u[0];for(let ht=1;ht<u.length;ht++)[Le,Xe,Ge]=u[ht],s.push(O,ze.y,ze.z,O,Le.y,Le.z,S,ze.y,ze.z,S,ze.y,ze.z,O,Le.y,Le.z,S,Le.y,Le.z),a.push(0,Re.y,Re.z,0,Xe.y,Xe.z,0,Re.y,Re.z,0,Re.y,Re.z,0,Xe.y,Xe.z,0,Xe.y,Xe.z),l.push(0,Ye,0,Ge,1,Ye,1,Ye,0,Ge,1,Ge),[ze,Re,Ye]=[Le,Xe,Ge];this.setAttribute("position",new Dn(s,3)),this.setAttribute("normal",new Dn(a,3)),this.setAttribute("uv",new Dn(l,2))}},WW=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof os?e.shape:new os,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,innerRadiusPercent:i,spikes:r,cornerRadius:o,angle:s,depth:a,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,u=e.shape,d=.5*t,h=.5*n,y=s*Math.PI/360/r,b=Math.PI/2*3*-1,w=d*i/100,O=h*i/100;if(3===r&&50===i){y=2*Math.PI/r;for(let D=0;D<r;D++){let V=y*D,Y=0+Math.sin(V)*d,q=0+Math.cos(V)*h;u.addPoint(u.createPoint(Y,q))}}else for(let D=0;D<r;D++){let V=0+Math.cos(b)*d,Y=0+Math.sin(b)*h;u.addPoint(u.createPoint(V,Y)),b+=y,V=0+Math.cos(b)*w,Y=0+Math.sin(b)*O,u.addPoint(u.createPoint(V,Y)),b+=y}u.isClosed=!0;for(let D=0,V=u.points.length;D<V;D++)u.points[D].roundness=o;u.roundness=o,u.update();let S=Im.create({shape:u,parameters:{roundness:o,depth:a,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(S,{userData:{...e,type:"StarGeometry"}})}},Ot=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+Ot.version}static addUnaryOp(e){return Ot.max_unop_len=Math.max(e.length,Ot.max_unop_len),Ot.unary_ops[e]=1,Ot}static addBinaryOp(e,t,n){return Ot.max_binop_len=Math.max(e.length,Ot.max_binop_len),Ot.binary_ops[e]=t,n?Ot.right_associative.add(e):Ot.right_associative.delete(e),Ot}static addIdentifierChar(e){return Ot.additional_identifier_chars.add(e),Ot}static addLiteral(e,t){return Ot.literals[e]=t,Ot}static removeUnaryOp(e){return delete Ot.unary_ops[e],e.length===Ot.max_unop_len&&(Ot.max_unop_len=Ot.getMaxKeyLen(Ot.unary_ops)),Ot}static removeAllUnaryOps(){return Ot.unary_ops={},Ot.max_unop_len=0,Ot}static removeIdentifierChar(e){return Ot.additional_identifier_chars.delete(e),Ot}static removeBinaryOp(e){return delete Ot.binary_ops[e],e.length===Ot.max_binop_len&&(Ot.max_binop_len=Ot.getMaxKeyLen(Ot.binary_ops)),Ot.right_associative.delete(e),Ot}static removeAllBinaryOps(){return Ot.binary_ops={},Ot.max_binop_len=0,Ot}static removeLiteral(e){return delete Ot.literals[e],Ot}static removeAllLiterals(){return Ot.literals={},Ot}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new Ot(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(t=>t.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return Ot.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!Ot.binary_ops[String.fromCharCode(e)]||Ot.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return Ot.isIdentifierStart(e)||Ot.isDecimalDigit(e)}throwError(e){let t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(Ot.hooks[e]){let n={context:this,node:t};return Ot.hooks.run(e,n),n.node}return t}searchHook(e){if(Ot.hooks[e]){let t={context:this};return Ot.hooks[e].find(function(n){return n.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===Ot.SPACE_CODE||e===Ot.TAB_CODE||e===Ot.LF_CODE||e===Ot.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let e=this.gobbleExpressions();return this.runHook("after-all",1===e.length?e[0]:{type:Ot.COMPOUND,body:e})}gobbleExpressions(e){let n,i,t=[];for(;this.index<this.expr.length;)if(n=this.code,n===Ot.SEMCOL_CODE||n===Ot.COMMA_CODE)this.index++;else if(i=this.gobbleExpression())t.push(i);else if(this.index<this.expr.length){if(n===e)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){let e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,Ot.max_binop_len),t=e.length;for(;t>0;){if(Ot.binary_ops.hasOwnProperty(e)&&(!Ot.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!Ot.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,n,i,r,o,s,a,l;if(o=this.gobbleToken(),!o||(t=this.gobbleBinaryOp(),!t))return o;for(r={value:t,prec:Ot.binaryPrecedence(t),right_a:Ot.right_associative.has(t)},s=this.gobbleToken(),s||this.throwError("Expected expression after "+t),i=[o,r,s];t=this.gobbleBinaryOp();){if(n=Ot.binaryPrecedence(t),0===n){this.index-=t.length;break}r={value:t,prec:n,right_a:Ot.right_associative.has(t)},l=t;let c=u=>r.right_a&&u.right_a?n>u.prec:n<=u.prec;for(;i.length>2&&c(i[i.length-2]);)s=i.pop(),t=i.pop().value,o=i.pop(),e={type:Ot.BINARY_EXP,operator:t,left:o,right:s},i.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+l),i.push(r,e)}for(a=i.length-1,e=i[a];a>1;)e={type:Ot.BINARY_EXP,operator:i[a-1].value,left:i[a-2],right:e},a-=2;return e}gobbleToken(){let e,t,n,i;if(this.gobbleSpaces(),i=this.searchHook("gobble-token"),i)return this.runHook("after-token",i);if(e=this.code,Ot.isDecimalDigit(e)||e===Ot.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===Ot.SQUOTE_CODE||e===Ot.DQUOTE_CODE)i=this.gobbleStringLiteral();else if(e===Ot.OBRACK_CODE)i=this.gobbleArray();else{for(t=this.expr.substr(this.index,Ot.max_unop_len),n=t.length;n>0;){if(Ot.unary_ops.hasOwnProperty(t)&&(!Ot.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!Ot.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=n;let r=this.gobbleToken();return r||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:Ot.UNARY_EXP,operator:t,argument:r,prefix:!0})}t=t.substr(0,--n)}Ot.isIdentifierStart(e)?(i=this.gobbleIdentifier(),Ot.literals.hasOwnProperty(i.name)?i={type:Ot.LITERAL,value:Ot.literals[i.name],raw:i.name}:i.name===Ot.this_str&&(i={type:Ot.THIS_EXP})):e===Ot.OPAREN_CODE&&(i=this.gobbleGroup())}return i?(i=this.gobbleTokenProperty(i),this.runHook("after-token",i)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===Ot.PERIOD_CODE||t===Ot.OBRACK_CODE||t===Ot.OPAREN_CODE||t===Ot.QUMARK_CODE;){let n;if(t===Ot.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==Ot.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===Ot.OBRACK_CODE?(e={type:Ot.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},this.gobbleSpaces(),t=this.code,t!==Ot.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===Ot.OPAREN_CODE?e={type:Ot.CALL_EXP,arguments:this.gobbleArguments(Ot.CPAREN_CODE),callee:e}:(t===Ot.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),e={type:Ot.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),n&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let t,n,e="";for(;Ot.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===Ot.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);Ot.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(t=this.char,"e"===t||"E"===t){for(e+=this.expr.charAt(this.index++),t=this.char,("+"===t||"-"===t)&&(e+=this.expr.charAt(this.index++));Ot.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);Ot.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return n=this.code,Ot.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(n===Ot.PERIOD_CODE||1===e.length&&e.charCodeAt(0)===Ot.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:Ot.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="",t=this.index,n=this.expr.charAt(this.index++),i=!1;for(;this.index<this.expr.length;){let r=this.expr.charAt(this.index++);if(r===n){i=!0;break}if("\\"===r)switch(r=this.expr.charAt(this.index++),r){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=r}else e+=r}return i||this.throwError('Unclosed quote after "'+e+'"'),{type:Ot.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(Ot.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,Ot.isIdentifierPart(e));)this.index++;return{type:Ot.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){let t=[],n=!1,i=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let r=this.code;if(r===e){n=!0,this.index++,e===Ot.CPAREN_CODE&&i&&i>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}if(r===Ot.COMMA_CODE){if(this.index++,i++,i!==t.length)if(e===Ot.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===Ot.CBRACK_CODE)for(let o=t.length;o<i;o++)t.push(null)}else if(t.length!==i&&0!==i)this.throwError("Expected comma");else{let o=this.gobbleExpression();(!o||o.type===Ot.COMPOUND)&&this.throwError("Expected comma"),t.push(o)}}return n||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(Ot.CPAREN_CODE);if(this.code===Ot.CPAREN_CODE)return this.index++,1===e.length?e[0]:!!e.length&&{type:Ot.SEQUENCE_EXP,expressions:e};this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:Ot.ARRAY_EXP,elements:this.gobbleArguments(Ot.CBRACK_CODE)}}},sIe=new class{add(e,t,n){if("string"!=typeof arguments[0])for(let i in arguments[0])this.add(i,arguments[0][i],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],t&&this[i][n?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(n){n.call(t&&t.context?t.context:t,t)})}};Object.assign(Ot,{hooks:sIe,plugins:new class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if("object"!=typeof t||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}}(Ot),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"}),Ot.max_unop_len=Ot.getMaxKeyLen(Ot.unary_ops),Ot.max_binop_len=Ot.getMaxKeyLen(Ot.binary_ops);var S1=e=>new Ot(e).parse();Object.getOwnPropertyNames(Ot).forEach(e=>{void 0===S1[e]&&"prototype"!==e&&(S1[e]=Ot[e])}),S1.Jsep=Ot;var cIe={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let n=t.node,i=this.gobbleExpression();if(i||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let r=this.gobbleExpression();if(r||this.throwError("Expected expression"),t.node={type:"ConditionalExpression",test:n,consequent:i,alternate:r},n.operator&&e.binary_ops[n.operator]<=.9){let o=n;for(;o.right.operator&&e.binary_ops[o.right.operator]<=.9;)o=o.right;t.node.test=o.right,o.right=t.node,t.node=n}}else this.throwError("Expected :")}})}};S1.plugins.register(cIe);var dIe=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],uIe=["0","1","2","3","4","5","6","7","8","9","."],hIe=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function pIe(e){return"string"==typeof e&&!isNaN(e)&&!isNaN(parseFloat(e))}function qW(e,t,n="number"){let r,o,i="";for(let s=0;s<e.length;s++){let a=e[s];if("id"in a){if(s>0&&"id"in e[s-1])return void console.error("Two variables in a row",e);let c=t.getVariable(a.id),u=Nc.getDisplayedValue(c);"number"===n&&Nc.isTextValue(c)&&Array.isArray(c.textValue)&&1===c.textValue.length?u=parseFloat(u).toString():"boolean"===n&&Nc.isBoolean(c)?u=c?"true":"false":"boolean"===n&&Nc.isTextValue(c)&&!Array.isArray(c.textValue)&&(u='"'+u+'"'),i+=u}else"string"!==n?"and"!==a.name?"or"!==a.name?"True"!==a.name?"False"!==a.name?"boolean"!==n||pIe(a.name)||uIe.includes(a.name)||dIe.includes(a.name)||hIe.includes(a.name.replace(/\($/g,""))?i+=a.name:i+='"'+a.name+'"':i+="false":i+="true":i+="||":i+="&&":('"'!==a.name&&"+"!==a.name&&(i+=a.name),"+"===a.name&&"\\"===i[i.length-1]&&(i=i.slice(0,-1)+a.name))}if("string"===n)return i;if(0===e.length){if("number"===n)return 0;if("boolean"===n)return!1}try{r=S1(i)}catch(s){return void console.error(i,s)}try{o=Ar(r)}catch(s){console.error(i,r,s)}return o}function Ar(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return Number(Ar(e.left)===Ar(e.right));case"!=":return Number(Ar(e.left)!==Ar(e.right));case">":return Number(Ar(e.left)>Ar(e.right));case">=":return Number(Ar(e.left)>=Ar(e.right));case"<":return Number(Ar(e.left)<Ar(e.right));case"<=":return Number(Ar(e.left)<=Ar(e.right));case"+":return Ar(e.left)+Ar(e.right);case"-":return Ar(e.left)-Ar(e.right);case"*":return Ar(e.left)*Ar(e.right);case"/":return Ar(e.left)/Ar(e.right);case"%":return Ar(e.left)%Ar(e.right);case"&&":return Ar(e.left)&&Ar(e.right);case"||":return Ar(e.left)||Ar(e.right);case"^":return Math.pow(Ar(e.left),Ar(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-Ar(e.argument);case"!":return Number(!Ar(e.argument));default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if("Identifier"===e.callee.type){if("random"===e.callee.name){let t=0,n=1;if(e.arguments.length>=1)try{t=Ar(e.arguments[0])}catch(i){console.warn(i)}if(e.arguments.length>=2)try{n=Ar(e.arguments[1])}catch(i){console.warn(i)}return t=Math.min(n,t),n=Math.max(n,t),t+Math.random()*(n-t)}return Math[e.callee.name].apply(null,e.arguments.map(Ar))}throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}S1.addBinaryOp("^",11,!0);var fIe=new Wt,gIe=new Wt,yIe=class extends ei{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&1===this.inputs.parameters.extrusion.depth}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&1===e.depth&&function iIe(e,t){let n=2*Math.PI;return(e%n+n)%n==(t%n+n)%n}(e.twist,0)&&e.startScale===e.endScale)}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:n,offset:i}=this.inputs.parameters.extrusion;n=Math.max(0,Math.min(n,1)),i=Math.max(0,Math.min(i,1));let r=this.inputs.path.isClosed?e.length:e.length-1,o=Math.floor(i*r),s=this.inputs.path.isClosed?Math.ceil((n+i)*r):Math.ceil(Math.min(1,n+i)*r),a=Math.min(Math.max(2,s-o+1),r+2),l=[],c=[];for(let xe=0;xe<a;xe++){let _e=this.inputs.path.isClosed?(xe+o)%e.length:Math.min(xe+o,e.length-1);l.push(e[_e].clone()),c.push(t[_e].clone())}let u=(xe,_e,Ue)=>{l[xe]=l[xe].clone().lerp(l[_e],Ue),c[xe]=function mIe(e,t,n){let i=[new re,new re,new re],r=[new re,new re,new re];return e.extractBasis(i[0],i[1],i[2]),t.extractBasis(r[0],r[1],r[2]),i.forEach((o,s)=>{let a=r[s],l=Yn.lerp(o.length(),a.length(),n);o.lerp(a,n).setLength(l)}),(new Wt).makeBasis(i[0],i[1],i[2])}(c[xe],c[_e],Ue)},d=0,h=i*r%1;(!this.inputs.path.isClosed||n<=1)&&(h||0===i)&&(d=h,u(0,1,d));let f=0,v=(i+n)*r%1;if((this.inputs.path.isClosed&&n<=1||!this.inputs.path.isClosed&&i+n<1)&&v&&(f=v,u(l.length-1,l.length-2,1-f)),0===n){let xe=l.length-1;l[xe].copy(l[0]),c[xe].copy(c[0])}this._applyPathModifiers(c,d,f);let{bevel:y,bevelSides:b}=this.inputs.parameters.extrusion,w=y>0?this.inputs.parameters.extrusion.capType:"flat",O=5;"Custom"===this.inputs.parameters.extrusion.shape.type&&(O="low"===this.inputs.parameters.extrusion.shape.shapeQuality?5:12);let q,{regions:S,infos:D,vertices:V}=this._computeShapePoints(O),Y=0;"round"===w&&(q=new Mk(this.inputs.shapeData,2*y,y,O,b,void 0,!0),Y=q.getAttribute("position").count);let K=0,te=0;D.sort((xe,_e)=>xe.start-_e.start),D.forEach(xe=>{xe.verticesStart=K,xe.verticesCount=xe.continuous.reduce((_e,Ue,He)=>_e+(0!==He&&Ue?1:2),0),te+=xe.verticesCount,K=te});let ae,ie=te*a,pe=0;if(this._isOpenEnded()&&"flat"===w){try{ae=Vf({windingRule:ao.ODD,elementType:Ls.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:S})}catch{ae=AW}pe=ae.vertexCount}let fe=ie+2*pe+2*Y,ge=ie+2*pe,Oe={positions:new Float32Array(3*fe),normals:new Float32Array(3*fe),uvs:new Float32Array(2*fe)},Pe=[];if(D.forEach(xe=>{this._extrudeRegion(xe,V,c,l,Oe,Pe,this._isGeometryClosed()&&!this._isOpenEnded())}),ae&&(this._closeEnd(ae,ie,Pe,Oe,c[0],l[0],!1),this._closeEnd(ae,ie+pe,Pe,Oe,c[c.length-1],l[l.length-1],!0)),q){Oe.positions.set(q.getAttribute("position").array,3*ge),Oe.normals.set(q.getAttribute("normal").array,3*ge),Oe.uvs.set(q.getAttribute("uv").array,2*ge);let xe=Pe.length;Pe.push(...q.getIndex().array.map(He=>He+ge)),ge+=Y,Oe.positions.set(q.getAttribute("position").array,3*ge),Oe.normals.set(q.getAttribute("normal").array,3*ge),Oe.uvs.set(q.getAttribute("uv").array,2*ge);let _e=Pe.length;Pe.push(...q.getIndex().array.map(He=>He+ge)),this.setAttribute("position",new pi(Oe.positions,3)),this.setAttribute("normal",new pi(Oe.normals,3)),this.setAttribute("uv",new pi(Oe.uvs,2)),this.setIndex(Pe);let Ue=fIe;Ue.copy(c[c.length-1]).setPosition(l[l.length-1]),this.applyMatrix4OnRange(Ue,ge,fe),Ue.copy(c[0]).setPosition(l[0]).multiply(gIe.makeScale(1,1,-1)),this.applyMatrix4OnRange(Ue,ge-Y,ge),this.reverseIndicesOnRange(xe,_e)}else this.setAttribute("position",new pi(Oe.positions,3)),this.setAttribute("normal",new pi(Oe.normals,3)),this.setAttribute("uv",new pi(Oe.uvs,2)),this.setIndex(Pe)}_extractPathPoints(){let e=uW(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(n=>{t[t.length-1].distanceToSquared(n)>.001&&t.push(n)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],n=e.length,i=this.inputs.path.isClosed,r=new re,o=new re,s=new re,a=new re,l=new re(0,1,0);for(let v=0;v<n;v++){let b,w,y=e[v];b=0===v?i?e[e.length-2]:y.clone().multiplyScalar(2).sub(e[1]):e[v-1],w=v===n-1?i?e[1]:y.clone().multiplyScalar(2).sub(e[v-1]):e[v+1];let O=y.clone().sub(b).normalize(),S=w.clone().sub(y).normalize(),D=O.clone().add(S).normalize();s.copy(D),0===v&&(D.equals(l)||D.clone().negate().equals(l))&&l.set(0,0,1);let V=l.clone().cross(D).normalize(),Y=D.clone().cross(V).normalize();l.copy(Y),a.copy(V),0===v&&(r.copy(Y),o.copy(D));let q=(new Wt).makeBasis(V,Y,D);t.push(q)}let c=i?o:s,u=i?r:new re(0,1,0),d=c.clone().cross(a).normalize(),h=Math.acos(u.dot(d));if(isNaN(h))return t;let f=u.clone().cross(d);c.dot(f)>0&&(h*=-1);for(let v=1;v<t.length;v++){let y=(new Wt).makeRotationZ(h*v/t.length);t[v].multiply(y)}return t}_applyPathModifiers(e,t,n){let i=e.length,{angle:r,twist:o,startScale:s,endScale:a}=this.inputs.parameters.extrusion,l=new Wt,c=new Wt;return e.forEach((u,d)=>{let h=0===d?0:d===i-1?1:(d-t)/(i-(0===n?0:1)-(t+(1-n)));l.makeRotationZ(Yn.lerp(r,r+o,h)*Yn.DEG2RAD);let f=Yn.lerp(s,a,h);c.makeScale(f,f,f),u.multiply(l).multiply(c)}),e}_computeShapePoints(e=12,t=ao.ODD){let o,s,n=this.inputs.shapeData,i=n.extractShapePointsToFlatArray([],e),r=n.shapeHoles.map(f=>{let v=f.extractShapePointsToFlatArray([],e),y=[];for(let b=v.length-1;b>=1;b-=2)y.push(v[b-1],v[b-0]);return y});try{o=Vf({windingRule:t,elementType:Ls.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[i]})}catch{o=wk}try{s=Vf({windingRule:ao.ODD,elementType:Ls.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...r]})}catch{s=DW}if(!o)throw new Error("error generating geometry");let a=o.elementCount;if(s){o.elementCount+=s.elementCount;for(let f=0;f<s.elements.length;f++)o.elements.push(s.elements[f]+(f%2==0?o.vertexCount:0));for(let f=0;f<s.vertexIndices.length;f++)o.vertexIndices.push(s.vertexIndices[f]+o.vertexCount);for(let f=0;f<s.vertices.length;f++)o.vertices.push(s.vertices[f])}let l=1/0,c=-1/0,u=1/0,d=-1/0;for(let f=0,v=o.vertexCount;f<v;f++){let y=2*f,b=o.vertices[y+0],w=o.vertices[y+1];b<l&&(l=b),b>c&&(c=b),w<u&&(u=w),w>d&&(d=w)}let h=[];for(let f=o.elementCount-1;f>=0;f--){let v=f>=a,y=2*f,b=o.elements[y+0],w=o.elements[y+1],O=b+w,S={start:b,count:w,normals:[],isHole:v,continuous:[],verticesStart:0,verticesCount:0};h.push(S);let D=b,V=O-1,Y=b+1,q=n.roundedCurves.length;do{let K=D-b,ae=o.vertices[2*D+0],pe=o.vertices[2*D+1],fe=o.vertices[2*Y+0],ge=o.vertices[2*Y+1],Oe=ae-o.vertices[2*V+0],Pe=pe-o.vertices[2*V+1],xe=Math.sqrt(Oe*Oe+Pe*Pe);Oe/=xe,Pe/=xe;let _e=ae-fe,Ue=pe-ge,He=Math.sqrt(_e*_e+Ue*Ue);_e/=He,Ue/=He,S.normals[2*K+0]=-Ue,S.normals[2*K+1]=_e;let ze=o.vertexIndices[D];if(Array.isArray(ze))S.continuous[K]=!1;else{let[Re,Ye]=n.getCurveIndexFromVertexId(ze-1,!0);if(Ye>0&&Ye<1)S.continuous[K]=!0;else{let Le=1===Ye?Re+1:Re-1;Le=(Le+q)%q;let Xe=1===Ye?0:1,Ge=n.roundedCurves[Re].getTangent(Ye),ht=n.roundedCurves[Le].getTangent(Xe);S.continuous[K]=Ge.dot(ht)>.95}}v&&(S.normals[2*K+0]*=-1,S.normals[2*K+1]*=-1),[V,D,Y]=[D,Y,Y+1],Y>=O&&(Y-=w)}while(Y!==b+1)}return{regions:[i,...r],infos:h,vertices:o.vertices}}_insertVertex(e,t,n,i,r){let o=2*t,s=3*t;e.positions[s+0]=n.x,e.positions[s+1]=n.y,e.positions[s+2]=n.z,e.normals[s+0]=i.x,e.normals[s+1]=i.y,e.normals[s+2]=i.z,e.uvs[o+0]=r.x,e.uvs[o+1]=r.y}_extrudeRegion(e,t,n,i,r,o,s){let a=new re,l=new re,c=new re,u=new re,d=new Ve;n.forEach((f,v)=>{let y=i[v],b=e.verticesStart*n.length+e.verticesCount*v;for(let w=0;w<e.count;w++){let O=2*(e.start+w);if(a.set(t[O+0],t[O+1],0),c.copy(a).applyMatrix4(f).add(y),e.continuous[w])u.set(e.normals[2*w+0],e.normals[2*w+1],0);else{let S=0===w?2*(e.start+e.count-1):O-2;l.set(t[S+0],t[S+1],0),u.copy(a).sub(l),u.set(-u.y,u.x,0),e.isHole||u.negate()}if(u.applyMatrix4(f).normalize(),d.set(0===w?1:w/e.count,v/(n.length-1)),this._insertVertex(r,b,c,u,d),b++,!e.continuous[w]||0===w){if(0===w)u.set(e.normals[2*w+0],e.normals[2*w+1],0),d.set(0,v/(n.length-1));else{let S=w===e.count-1?2*e.start:O+2;l.set(t[S+0],t[S+1],0),u.copy(l).sub(a),u.set(-u.y,u.x,0),e.isHole||u.negate()}u.applyMatrix4(f).normalize(),this._insertVertex(r,b,c,u,d),b++}}});let h=n.length-1;for(let f=0;f<h;f++){let v=e.verticesStart*n.length+e.verticesCount*f,y=e.verticesStart*n.length+e.verticesCount*(f+1),b=0;for(let w=0;w<e.count;w++){(!e.continuous[w]||0===w)&&b++;let O=w===e.count-1?0:b+1,S=v+b,D=v+O,V=y+O,Y=y+b;e.isHole?o.push(S,V,D,S,Y,V):o.push(S,D,V,S,V,Y),b++}}}_closeEnd(e,t,n,i,r,o,s){let a=e.vertexCount,l=new re(0,0,s?-1:1).applyMatrix4(r),c=new re,u=new Ve;for(let h=0;h<a;h++){let f=2*h;c.set(e.vertices[f+0],e.vertices[f+1],0).applyMatrix4(r).add(o),this._insertVertex(i,t+h,c,l,u)}let d=e.elements;for(let h=0;h<e.elementCount;h++){let f=3*h;n.push(d[f+0]+t,d[f+(s?1:2)]+t,d[f+(s?2:1)]+t)}}applyMatrix4OnRange(e,t,n){let o,s,a,l,i=e.elements,r=(new vs).getNormalMatrix(e).elements,c=this.attributes.position,u=this.attributes.normal;if(!c||!u)return;let d=c.array,h=u.array,f=c.itemSize;for(let v=t*f,y=n*f;v<y;v+=f)o=d[v+0],s=d[v+1],a=d[v+2],l=1/(i[3]*o+i[7]*s+i[11]*a+i[15]),d[v+0]=(i[0]*o+i[4]*s+i[8]*a+i[12])*l,d[v+1]=(i[1]*o+i[5]*s+i[9]*a+i[13])*l,d[v+2]=(i[2]*o+i[6]*s+i[10]*a+i[14])*l,o=h[v+0],s=h[v+1],a=h[v+2],h[v+0]=r[0]*o+r[3]*s+r[6]*a,h[v+1]=r[1]*o+r[4]*s+r[7]*a,h[v+2]=r[2]*o+r[5]*s+r[8]*a;c.needsUpdate=!0,u.needsUpdate=!0}reverseIndicesOnRange(e,t){let n=this.index;if(n){for(let i=e;i<t;i+=3){let r=n.getX(i),o=n.getX(i+1),s=n.getX(i+2);n.setXYZ(i,s,o,r)}n.needsUpdate=!0}}};function YW(){let e=new ei;return e.setAttribute("position",new pi(new Float32Array([]),3)),e.setIndex(new pi(new Uint16Array([]),1)),e}var $W,jP,bIe=YW().attributes,XW=class extends ei{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,bIe),this.userData={parameters:e,type:"TextGeometry"};let n=t.getFont(e.font);n?.isLoaded?(this.font=n,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t?.requestRender()})}updateFont(e,t){var n=this;return(0,gs.Z)(function*(){let i=t.getFont(e);i&&(n.font=i,yield i.loadingPromise)})()}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!t?.isLoaded)return void console.warn("Cannot update text because its font is not loaded");let{width:n,height:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s,text:a,textTransform:l}=e,c=Nc.getDisplayedValue(a),d=function wIe(e,t,n){let i=[""],r="";for(let o of n)r+=o," "===o||"\n"===o?(i[i.length-1]+=r,r="","\n"===o&&i.push("")):t.getTextWidth(i[i.length-1]+r,e)>e.width&&(i[i.length-1].length&&i.push(""),t.getTextWidth(i[i.length-1]+r,e)>e.width&&(1===r.length?(i[i.length-1]+=r,r=""):(i[i.length-1]+=r.slice(0,-1),r=r[r.length-1],i.push(""))));return i[i.length-1]+=r,i}(e,t,2===l?c.toUpperCase():3===l?c.toLowerCase():c),{shapes:h,charWidths:f,charCoords:v}=t.generateShapes(d,e),y=.5*("number"==typeof n?n:1),b=.5*("number"==typeof i?i:1),w=h.map(D=>(new os).fromShape(D,!0));this.vectorShapes=w;let O=w.map(D=>Im.create({shape:D,parameters:{depth:r,extrudeBevelSegments:s,extrudeBevelSize:o,windingRule:r<=0?ao.NONZERO:ao.ODD,subdivisions:this.isLowResolution&&r>0?1:12}})),S=O.length?Em(O):YW();S.translate(-y,b,0),this.dispose(),this.wrappedText=d,this.charCoords=v,this.charWidths=f,this.deleteAttribute("extrudeNormal"),Object.entries(S.attributes).forEach(([D,V])=>{this.setAttribute(D,V)}),this.setIndex(S.index),this.computeBoundingSphere()}clone(){let e=ap(new ei,XW.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,n])=>{this.setAttribute(t,n)}),this.setIndex(e.index),this.userData={parameters:{...e.userData.parameters},type:"TextGeometry"},this}setText(e){var t=this;return(0,gs.Z)(function*(){t.font&&(yield t.font.loadingPromise),yield t.update({...t.userData.parameters,text:e})})()}get text(){return this.userData.parameters.text??""}},kk=new Promise(e=>{$W=e}),KW=!1;function CIe(){if(!KW)return jP||(jP=function e(){return t.apply(this,arguments)}(),jP);function t(){return(t=(0,gs.Z)(function*(){let i=m.e(526).then(m.bind(m,526)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/modelling-wasm@0.9.526/build/process.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});$W(a),KW=!0})).apply(this,arguments)}}var MIe=["font"];function VP(e,t,n,i){let r,o,s;"PathGeometry"===e.type?(o=JSON.parse(JSON.stringify(e)),s=[[],["extrusion"]]):(o={...e},s=[[]]);for(let c of s){let u=o;for(let d of c)u=u[d];for(r in u){let d=u[r];mG(d)&&!MIe.includes(r)&&(u[r]=t.getVariable(d,[i.uuid,"geometry",...c,r]),mG(u[r])&&(u[r]=1))}}let l,a={parameters:o,type:o.type};if("PathGeometry"===o.type)a.path=o.path;else if("VectorGeometry"===o.type){let c=os.createFromState(o.shape,o.width,o.height);a.shape=c}else if("NonParametricGeometry"===o.type)o.data.groups&&o.data.groups?.forEach(c=>c.materialIndex=Math.max(c.materialIndex??0,0)),a.geometry=(new Vj).parse(o);else{if("SubdivGeometry"===o.type){let c=new Pl(o,n);return c.data=e,c}if("TextGeometry"===o.type)return new XW(o,t)}try{l=oq(a)}catch(c){console.error(c)}if(!l){let c=os.createFromState(uP.defaultData(),100,100);a.shape=c,l=oq(a)}return l}var PIe=new Wt;function Ik(e,t,n,i){let a,l,c,r=e.position.array,o=e.normal.array,s=PIe.makeScale(t,n,i).invert().elements;for(var u=0,d=r.length;u<d;u+=3)r[u]*=t,r[u+1]*=n,r[u+2]*=i,a=o[u],l=o[u+1],c=o[u+2],o[u]=s[0]*a+s[4]*l+s[8]*c,o[u+1]=s[1]*a+s[5]*l+s[9]*c,o[u+2]=s[2]*a+s[6]*l+s[10]*c;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var ai,HP=new ys,E1=new re;kk.then(e=>{ai=e});var QW=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),ZW=new Uint32Array([0,1,2,3]),JW=new Uint8Array([4]),Pl=class extends ei{constructor(e,t){super(),this.data=e,this.flatShading=t,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(e,t){this.freeSubdivPointer();let i=Mm.div(t,this.data.scaleBaked);this.subdividedGeometry&&Ik(this.subdividedGeometry.attributes,...i),this.originalGeometry&&Ik(this.originalGeometry.attributes,...i),this.data=e;let r=this.userData.parameters;this.userData.parameters={width:r.width*i[0],height:r.height*i[1],depth:r.depth*i[2]},this.originalGeometry.boundingSphere.center.multiply(E1.fromArray(i));let o=E1.set(r.width,r.height,r.depth).length();this.originalGeometry.boundingSphere.radius=o/2}ensureSubdivPointer(){return 0===this.subdivPointer&&this.rebuild(),this.subdivPointer}rebuild(){let e,t,n;try{({originalGeometry:e,subdividedGeometry:t,subdivPointer:n}=Pl.build(this.data,void 0,!this.flatShading,void 0))}catch{e=new qu(100,100,100),n=0}this.subdivPointer=n,this.originalGeometry=e,this.subdividedGeometry=t??void 0,Object.assign(this,this.subdividedGeometry??this.originalGeometry),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(Pl.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let e=this.originalGeometry;null===e.boundingSphere&&(e.boundingSphere=new $l,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let n=e.boundingSphere.center;HP.setFromBufferAttribute(e.attributes.position),HP.getCenter(n),e.boundingSphere.radius=n.distanceTo(HP.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),HP.getSize(E1);let i={width:E1.x,height:E1.y,depth:E1.z};return this.userData.parameters=i,i}static build(e,t,n,i){let r,o,s,a=e?.phongAngle??35;!1===n&&(a=-1),t&&(ai.free_bvh(t),ai.free_subdivision_surface(t));try{r=Pl.allocate(e,i)}catch(l){console.error(l,e),r=Pl.allocate({positionWASM:QW,indexWASM:ZW,verticesPerFaceWASM:JW},i)}if(ai.set_destination_refinement_level(r,0),o=Pl.buildLevel(r,!0,a),e.subdivisions>0)try{ai.set_destination_refinement_level(r,e.subdivisions),s=Pl.buildLevel(r,!1,a)}catch{try{ai.set_destination_refinement_level(r,e.subdivisions-1),s=Pl.buildLevel(r,!1,a)}catch{s=null}}else s=null;return{subdivPointer:r,originalGeometry:o,subdividedGeometry:s}}static primitiveToQuads(e,t,n){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),"DodecahedronGeometry"===e.type&&(e.detail=0);let r,o,s,a,l,c,i=void 0!==e.shape||void 0!==e.path?t.geometry:VP(e,n,!1);if(r="TorusGeometry"===e.type&&e.arc===2*Math.PI?i.getClosedTorusIndicesForBooleanOrSubdiv():i.getIndex(),({positions:o,triIndices:l}=GP(i.getAttribute("position"),r)),"CylinderGeometry"===e.type&&0===e.cornerRadius&&0===e.hollow&&!1===e.openEnded){let u=e.radialSegments*e.heightSegments*3*2;c=[u,u+3*e.radialSegments]}return({indices:s,verticesPerFace:a}=tq(o,l,i,c)),{positions:o,indices:s,verticesPerFace:a}}static allocate(e,t){let n,i,r,o=[],s=[];e.positionWASM&&e.positionWASM.length>0?(n=e.positionWASM,i=e.indexWASM,r=e.verticesPerFaceWASM):(n=QW,i=ZW,r=JW);let O,a=n.length,l=i.length,c=r.length,u=n.length+o.length+s.length,d=i.length+r.length,h=u*Float32Array.BYTES_PER_ELEMENT+d*Uint32Array.BYTES_PER_ELEMENT,f=u*Float32Array.BYTES_PER_ELEMENT,y=(Uint32Array,ai._malloc(h)),b=new Float32Array(ai.HEAPF32.buffer,y,u),w=new Uint32Array(ai.HEAPU32.buffer,y+f,d);b.set(n,0),b.set(o,n.length),b.set(s,n.length+o.length),w.set(i,0),w.set(r,i.length),e?.scaleBaked?.some(D=>1!==D)&&(O=(new Wt).makeScale(...e.scaleBaked)),t&&(O?O.premultiply(t):O=t);let S=O?ai.alloc_subdivision_surface2(y,a,y+f,l,y+f+i.length*Uint32Array.BYTES_PER_ELEMENT,c,O.elements):ai.alloc_subdivision_surface(y,a,y+f,l,y+f+i.length*Uint32Array.BYTES_PER_ELEMENT,c);return ai._free(y),S}static buildLevel(e,t,n,i,r){let o=r?ai.get_mesh_data2(e,t?ai.Level.CONTROL:ai.Level.REFINED,n,r.elements):ai.get_mesh_data(e,t?ai.Level.CONTROL:ai.Level.REFINED,n),a=ai.HEAPU32.subarray(o>>2,8+(o>>2)),l=a.subarray(4,8),c=0,u=ai.HEAPU32[a[c]>>2],d=ai.HEAPF32.subarray(u>>2,(u>>2)+l[c]);c++;let h=ai.HEAPU32[a[c]>>2],f=ai.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let v=ai.HEAPU32[a[c]>>2],y=ai.HEAPU32.subarray(v>>2,(v>>2)+l[c]);c++;let b=ai.HEAPU32[a[c]>>2],w=ai.HEAPU32.subarray(b>>2,(b>>2)+l[c]);if(c++,void 0===i){let O=new ei;if(O.setIndex(new Mv(w,1)),O.setAttribute("position",new Dn(d,3)),O.setAttribute("normal",new Dn(f,3)),t){O.setAttribute("faceMap",new Mv(y,1));let S=new Float32Array(f.length/3*4).fill(0);O.setAttribute("color",new pi(S,4))}return ai.free_mesh_data(o),O.userData.type="SubdivGeometry",O}i.getAttribute("position").copyArray(d),i.getAttribute("normal").copyArray(f),i.attributes.position.needsUpdate=!0,i.attributes.normal.needsUpdate=!0,ai.free_mesh_data(o)}static freeSubdivPointer(e){ai.free_bvh(e),ai.free_subdivision_surface(e)}static buildControlCageWireframe(e,t,n){let i=ai.get_wireframe_data_for_base_level(e),o=ai.HEAPU32.subarray(i>>2,4+(i>>2)),s=o.subarray(2,4),a=0,l=ai.HEAPU32[o[a]>>2],c=ai.HEAPF32.subarray(l>>2,(l>>2)+s[a]);a++;let u=ai.HEAPU32[o[a]>>2],d=ai.HEAPU32.subarray(u>>2,(u>>2)+s[a]);if(void 0===t){let h=new ei;h.setAttribute("position",new Dn(c,3));let f=new Float32Array(c.length);for(let v=0,y=c.length;v<y;)f[v++]=n.r,f[v++]=n.g,f[v++]=n.b;return h.setAttribute("color",new pi(f,3)),h.setIndex(new Mv(d,1)),ai.free_wireframe_data_for_base_level(i),h}t.getAttribute("position").copyArray(c),t.attributes.position.needsUpdate=!0,ai.free_wireframe_data_for_base_level(i)}static updateCollabMesh(e,t,n){let i=0===t;i||ai.set_destination_refinement_level(e,t);let r=n?ai.get_topological_data2(e,i?ai.Level.CONTROL:ai.Level.REFINED,n.elements):ai.get_topological_data(e,i?ai.Level.CONTROL:ai.Level.REFINED),s=ai.HEAPU32.subarray(r>>2,6+(r>>2)),a=s.subarray(3,6),l=0,c=ai.HEAPU32[s[l]>>2],u=new Float32Array(ai.HEAPF32.subarray(c>>2,(c>>2)+a[l]));l++;let d=ai.HEAPU32[s[l]>>2],h=new Uint32Array(ai.HEAPU32.subarray(d>>2,(d>>2)+a[l]));l++;let f=ai.HEAPU32[s[l]>>2],v=new Uint8Array(ai.HEAPU32.subarray(f>>2,(f>>2)+a[l]));return ai.free_topological_data(r),{positions:u,indices:h,verticesPerFace:v}}},eq=["getX","getY","getZ"];function GP(e,t){let n={},i=t?t.count:e.count,r=0,o=[],s=[];for(let c=0;c<i;c++){let u=t?t.getX(c):c,d="";for(let h=0;h<3;h++)d+=~~(1e4*e[eq[h]](u))+",";if(d in n)o.push(n[d]);else{for(let h=0;h<3;h++)s.push(e[eq[h]](u));n[d]=r,o.push(r),r++}}let l=[];for(let c=0;c<o.length;c+=3)o[c]===o[c+1]||o[c]===o[c+2]||o[c+1]===o[c+2]||l.push(o[c],o[c+1],o[c+2]);return{positions:s,triIndices:l}}var WP=new re,Rk=new re,Nk=new re,Fk=new re;function tq(e,t,n,i){let r=[],o=[];if(void 0!==n.userData.shape&&0===n.userData.parameters.depth&&0===n.userData.shape.shapeHoles.length){let l=n.userData.shape.extractShapePointsToFlatArray([]),c=n.userData.parameters.spikes;if("EllipseGeometry"===n.userData.type&&c<=24&&c%4==0&&n.userData.parameters.angle>=360){let h=l.length/2/c;l=l.filter((f,v)=>Math.floor(v/2)%h==0)}let u=0;for(let h=0;h<l.length;h+=2)u+=(l[h]-l[(0===h?l.length:h)-2])*(l[h+1]+l[(0===h?l.length:h)-1]);e.length=0;let d=0;if(u<0)for(let h=0;h<l.length;h+=2)e.push(l[h],l[h+1],0),r.push(d++);else for(let h=l.length-2;h>=0;h-=2)e.push(l[h],l[h+1],0),r.push(d++);return o.push(d),{indices:r,verticesPerFace:o}}let s=new Float32Array([n.userData.parameters.depth])[0],a=0;for(;a<t.length;){if(n.useNgonForTopBottomFaceDuringBake){let l=0;if((e[3*t[a]+2]===s||0===e[3*t[a]+2])&&l++,(e[3*t[a+1]+2]===s||0===e[3*t[a+1]+2])&&l++,(e[3*t[a+2]+2]===s||0===e[3*t[a+2]+2])&&l++,3===l)break}if(t[a+1]===t[a+3]&&t[a+2]===t[a+5]||t[a+0]===t[a+3]&&t[a+2]===t[a+4]){WP.set(e[3*t[a]],e[3*t[a]+1],e[3*t[a]+2]),Rk.set(e[3*t[a+1]],e[3*t[a+1]+1],e[3*t[a+1]+2]),Nk.set(e[3*t[a+4]],e[3*t[a+4]+1],e[3*t[a+4]+2]),Fk.set(e[3*t[a+5]],e[3*t[a+5]+1],e[3*t[a+5]+2]),Rk.sub(WP).normalize(),Nk.sub(WP).normalize(),Fk.sub(WP).normalize();let l=Rk.cross(Nk).dot(Fk);Math.abs(l)>.005||i&&i.some((c,u)=>u%2!=1&&a>=i[u]&&a<i[u+1])?(r.push(t[a],t[a+1],t[a+2]),o.push(3),a+=3):(r.push(t[a],t[a+1],t[a+4],t[a+5]),o.push(4),a+=6)}else r.push(t[a],t[a+1],t[a+2]),o.push(3),a+=3}if(n.useNgonForTopBottomFaceDuringBake){let l=[],c=[],u=0;for(let d=0,h=0;d<e.length;d+=3,h++)0===e[d+2]&&(l.push(h),u++),e[d+2]===s&&c.push(h);if(0===n.userData.parameters.extrudeBevelSize){let d=c[0];c[0]=c[1],c[1]=d}l.reverse(),r.push(...l,...c),o.push(u,u)}return{indices:r,verticesPerFace:o}}var hp={};((e,t)=>{for(var n in t)AC(e,n,{get:t[n],enumerable:!0})})(hp,{calcBoolean:()=>AIe,calcBooleanTopological:()=>DIe,freeMeshSet:()=>RIe,getMeshSet:()=>TIe,hasOpenEdges:()=>kIe,transformMeshSet:()=>IIe});var nq,qP,or,D1,OIe=new Promise(e=>{nq=e});function SIe(){if(qP)return qP;function t(){return(t=(0,gs.Z)(function*(){let i=m.e(226).then(m.bind(m,6226)),[r,o]=yield Promise.all([i,fetch("https://unpkg.com/@splinetool/boolean-wasm@0.9.526/build/boolean.wasm").then(l=>l.arrayBuffer())]),s=r.default,a=yield s({wasmBinary:o});nq(a)})).apply(this,arguments)}return qP=function e(){return t.apply(this,arguments)}(),qP}function iq(e){let t=e.length,n=t*Uint32Array.BYTES_PER_ELEMENT,i=t*Float32Array.BYTES_PER_ELEMENT,r=Number.isInteger(e[0])?n:i,o=or._malloc(r);return(Number.isInteger(e[0])?new Uint32Array(or.HEAPU32.buffer,o,t):new Float32Array(or.HEAPF32.buffer,o,t)).set(e,0),o}function rq(e){switch(e){case 0:return or.OP.UNION;case 1:return or.OP.INTERSECTION;case 2:return or.OP.A_MINUS_B;case 3:return or.OP.B_MINUS_A;case 4:return or.OP.SYMMETRIC_DIFFERENCE;case 5:return or.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function DIe(e,t){void 0===D1&&(D1=or.init_csg());let n=iq(e),i=or.csg_calc_topological(D1,n,e.length,rq(t));or._free(n);let o=or.HEAPU32.subarray(i>>2,6+(i>>2)),s=o.subarray(3,6),a=0,l=or.HEAPU32[o[a]>>2],c=new Float32Array(or.HEAPF32.subarray(l>>2,(l>>2)+s[a]));a++;let u=or.HEAPU32[o[a]>>2],d=new Uint32Array(or.HEAPU32.subarray(u>>2,(u>>2)+s[a]));a++;let h=or.HEAPU32[o[a]>>2],f=new Uint8Array(or.HEAPU32.subarray(h>>2,(h>>2)+s[a]));return or.free_mesh_data(i),{positions:c,indices:d,verticesPerFace:f}}function AIe(e,t,n,i){void 0===D1&&(D1=or.init_csg());let r=iq(e),o=or.csg_calc(D1,r,e.length,i,rq(t));or._free(r);let a=or.HEAPU32.subarray(o>>2,5+(o>>2)),l=a.subarray(2,5),c=0,u=or.HEAPU32[a[c]>>2],d=or.HEAPF32.subarray(u>>2,(u>>2)+l[c]);c++;let h=or.HEAPU32[a[c]>>2],f=or.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let v=l[c];n.setAttribute("position",new Dn(d,3)),n.setAttribute("normal",new Dn(f,3));let y=or.HEAPF32.subarray(5+(o>>2),5+(o>>2)+6);return null===n.boundingSphere&&(n.boundingSphere=new $l),n.boundingSphere.radius=-1,n.userData.parameters={width:2*y[3],height:2*y[4],depth:2*y[5]},or.free_mesh_data(o),v}function TIe(e,t,n){if(void 0===or)return-1;let i,r,o;if(t&&void 0!==e.userData.positions){let w=e.userData;o=w.verticesPerFace.length,i=w.positions,r=Array(w.verticesPerFace.reduce((O,S)=>O+S,0)+o);for(let O=0,S=0,D=0;O<w.verticesPerFace.length;O++){r[D++]=w.verticesPerFace[O];for(let V=0;V<w.verticesPerFace[O];V++)r[D++]=w.indices[S++]}}else({positions:i,faceIndices:r,nFaces:o}=function EIe(e,t,n){let i,r;r="TorusGeometry"===e.userData.parameters.type&&e.userData.parameters.arc===2*Math.PI?e.getClosedTorusIndicesForBooleanOrSubdiv():e.getIndex();let a,{positions:o,triIndices:s}=GP(e.getAttribute("position"),r);if(t&&n){let{indices:l,verticesPerFace:c}=tq(o,s,e);a=c.length,i=[];for(let u=0,d=0;u<a;u++){i.push(c[u]);for(let h=0;h<c[u];h++)i.push(l[d++])}}else{let l=s.length;i=Array(l+l/3),a=0;for(let c=0,u=0;u<i.length;)i[u++]=3,a++,i[u++]=s[c++],i[u++]=s[c++],i[u++]=s[c++]}return{positions:o,faceIndices:i,nFaces:a}}(e,t,n));let s=i.length,a=r.length,l=i.length,c=r.length,u=l*Float32Array.BYTES_PER_ELEMENT+c*Uint32Array.BYTES_PER_ELEMENT,d=l*Float32Array.BYTES_PER_ELEMENT,f=(Uint32Array,or._malloc(u)),v=new Float32Array(or.HEAPF32.buffer,f,l),y=new Uint32Array(or.HEAPU32.buffer,f+d,c);v.set(i,0),y.set(r,0);let b=or.get_csg_mesh(f,s,f+d,a,o);return or._free(f),b}function kIe(e){return or.has_open_edges(e)}function IIe(e,t){or.transform_csg_mesh(e,t.elements)}function RIe(e){or.free_csg_mesh(e)}OIe.then(e=>or=e);var NIe={ConeGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return n.thetaLength=Yn.clamp(n.thetaLength,0,360),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let h,{width:t,depth:n,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l,cornerRadiusTop:c,cornerRadiusBottom:u,cornerSegments:d}=e.parameters;return 0===l?(h=new ei,h.setAttribute("position",new Dn([],3))):h=c>0||u>0||l<360?new fW(0,t/2,i,r,o,s,a,l*Math.PI/180,c,u,d,0,!0):new _j(t/2,i,r,o,s),h.scale(1,1,n/t),Object.assign(h,{userData:{...e,type:"ConeGeometry"}})}},CubeGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let c,{width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:s,cornerRadius:a,cornerSegments:l}=e.parameters;return c=0==a?new qu(t,n,i,r,o,s):new nke(t,n,i,r,o,s,a,l),Object.assign(c,{userData:{...e,type:"CubeGeometry"}})}},CylinderGeometry:hW,DodecahedronGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,detail:r,corner:o,cornerSides:s}=e.parameters,a=0===r&&0!==o?new gW(.5*t,o,s):new xj(.5*t,r);return a.scale(1,n/t,i/t),Object.assign(a,{userData:{...e,type:"DodecahedronGeometry"}})}},EllipseGeometry:Pk,HelixGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??i),o=Math.abs(n.depth??i),s=Math.abs(Math.min(i,o))/2;return{parameters:Object.assign(n,{width:i,height:r,depth:o,radius:s,segments:Math.round(n.segments),pathSegments:Math.round(n.pathSegments),cornerSegments:Math.round(n.cornerSegments)})}}static build(e){let{width:t,height:n,depth:i,radius:r,revolutions:o,segments:s,pathRadius:a,pathType:l,pathSegments:c,cornerRadius:u,cornerSegments:d}=e.parameters,h=new BW(!1,t,n,i,r,o,s,a,l,c,u,d);return Object.assign(h,{userData:{...e,type:"HelixGeometry"}})}},IcosahedronGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,detail:r,corner:o,cornerSides:s}=e.parameters,a=0===r&&0!==o?new zW(.5*t,o,s):new Dj(.5*t,r);return a.scale(1,n/t,i/t),Object.assign(a,{userData:{...e,type:"IcosahedronGeometry"}})}},LatheGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){(e.parameters?.points??[]).forEach(i=>{Array.isArray(i)&&(i.x=i[0],i.y=i[1])});let n=Object.assign({},t?.parameters??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{points:t,segments:n,verticalSegments:i}=e.parameters,r=new pM;r.moveTo(t[0].x,t[0].y),r.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let o=new bj(r.extractPoints(i).shape,n);return o.rotateZ(Math.PI),Object.assign(o,{userData:{...e,type:"LatheGeometry"}})}},NonParametricGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let i,n=e.geometry??t?.geometry??(new ei).copy(new qu(100,100,100));void 0===t?(n.computeBoundingBox(),n.boundingBox.getSize(sa),i={width:sa.x,height:sa.y,depth:sa.z,subdivisions:0}):i=t.parameters;let r={...i,...e.parameters};return{parameters:{width:Math.abs(r.width),height:Math.abs(r.height),depth:Math.abs(r.depth),subdivisions:Math.abs(r.subdivisions)},geometry:n}}static build(e){let{width:t,height:n,depth:i,subdivisions:r}=e.parameters,o=e.geometry??(new ei).copy(new qu(100,100,100)),s=o.userData.parameters;void 0===s?(o.computeBoundingBox(),o.boundingBox.getSize(sa)):sa.set(s.width,s.height,s.depth),(t!==sa.x||n!==sa.y||i!==sa.z)&&o.scale(0===sa.x?1:t/sa.x,0===sa.y?1:n/sa.y,0===sa.z?1:i/sa.z);let a=o.originalGeometry;try{r>0?(void 0===a||s?.subdivisions!==r)&&(void 0===a&&(a=o),o=new class{constructor(e=1){this.subdivisions=e}modify(e){(e=e instanceof ei?(new LP).fromBufferGeometry(e):e.clone()).mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let n,i,r,o,s,t=new re,a=e.vertices,l=e.faces,c=e.faceVertexUvs[0],u=void 0!==c&&c.length>0,d=[],h=new Map;!function Vke(e,t,n,i){let r,o,s;for(r=0,o=e.length;r<o;r++)n[r]={edges:[]};for(r=0,o=t.length;r<o;r++)s=t[r],Ak(s.a,s.b,e,i,s,n),Ak(s.b,s.c,e,i,s,n),Ak(s.c,s.a,e,i,s,n)}(a,l,d,h);let v,y,b,w,O,S,D,f=[];for(let ht of Array.from(h.keys())){for(y=h.get(ht),b=new re,O=3/8,S=1/8,D=y.faces.length,2!=D&&(O=.5,S=0),b.addVectors(y.a,y.b).multiplyScalar(O),t.set(0,0,0),o=0;o<D;o++){for(w=y.faces[o],s=0;s<3&&(v=a[jke(w,Uke[s])],v===y.a||v===y.b);s++);v&&t.add(v)}t.multiplyScalar(S),b.add(t),y.newEdge=f.length,f.push(b)}let V,Y,q,K,te,ie,ae,pe=[];for(i=0,r=a.length;i<r;i++){for(ie=a[i],te=d[i].edges,n=te.length,3==n?V=3/16:n>3&&(V=3/(8*n)),Y=1-n*Number(V),q=V,n<=2&&2==n&&(Y=3/4,q=1/8),ae=ie.clone().multiplyScalar(Y),t.set(0,0,0),o=0;o<n;o++)K=te[o],v=K.a!==ie?K.a:K.b,t.add(v);t.multiplyScalar(Number(q)),ae.add(t),pe.push(ae)}let Oe,Pe,xe,He,ze,Re,Ye,fe=pe.concat(f),ge=pe.length,_e=[],Ue=[],Le=new Ve,Xe=new Ve,Ge=new Ve;for(i=0,r=l.length;i<r;i++)w=l[i],Oe=Number(Dk(w.a,w.b,h).newEdge)+ge,Pe=Number(Dk(w.b,w.c,h).newEdge)+ge,xe=Number(Dk(w.c,w.a,h).newEdge)+ge,zP(_e,Oe,Pe,xe,w.materialIndex),zP(_e,w.a,Oe,xe,w.materialIndex),zP(_e,w.b,Pe,Oe,w.materialIndex),zP(_e,w.c,xe,Pe,w.materialIndex),u&&(He=c[i],ze=He[0],Re=He[1],Ye=He[2],Le.set(O1(ze.x,Re.x),O1(ze.y,Re.y)),Xe.set(O1(Re.x,Ye.x),O1(Re.y,Ye.y)),Ge.set(O1(ze.x,Ye.x),O1(ze.y,Ye.y)),UP(Ue,Le,Xe,Ge),UP(Ue,ze,Le,Ge),UP(Ue,Re,Xe,Le),UP(Ue,Ye,Ge,Xe));e.vertices=fe,e.faces=_e,u&&(e.faceVertexUvs[0]=Ue)}}(r).modify(a).toBufferGeometry()):(void 0!==a&&(o=a),a=void 0,void 0===o.getAttribute("normal")&&o.computeVertexNormals())}catch{void 0!==a&&(o=a),a=void 0,void 0===o.getAttribute("normal")&&o.computeVertexNormals()}return void 0!==a&&Object.assign(o,{originalGeometry:a}),delete e.geometry,Object.assign(o,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,n){new Vj(n).load(e,i=>{let r=this.normalizeInputs({geometry:i});i.boundingBox.getSize(sa);let o=100/sa.x;Object.assign(r.parameters,{width:100,height:sa.y*o,depth:sa.z*o}),t(this.build(r))})}},PolygonGeometry:HW,PyramidGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,radialSegments:r,heightSegments:o,openEnded:s,cornerRadius:a,cornerSegments:l}=e.parameters,c=new Yke(.5*t,n,r,o,s,a,l);return c.scale(1,1,i/t),Object.assign(c,{userData:{...e,type:"PyramidGeometry"}})}},RectangleGeometry:GW,SphereGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return n.thetaLength=Yn.clamp(n.thetaLength,0,180),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let u,{width:t=100,height:n=t,depth:i=t,widthSegments:r=64,heightSegments:o=64,phiStart:s,phiLength:a,thetaStart:l,thetaLength:c}=e.parameters;return 0===c?(u=new ei,u.setAttribute("position",new Dn([],3))):u=new uT(.5*t,r,o,s,a,l,c*Yn.DEG2RAD),u.scale(1,n/t,i/t),Object.assign(u,{userData:{...e,type:"SphereGeometry"}})}},PlaneGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:0})}}static build(e){let{width:t=100,height:n=t,widthSegments:i=8,heightSegments:r=8}=e.parameters,o=new nM(t,n,i,r);return o.scale(1,1,1),Object.assign(o,{userData:{...e,type:"PlaneGeometry"}})}},BackdropGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:i,angle:r,cornerRadius:o,cornerSegments:s}=e.parameters,a=new Qke(t,n,i,r,o,s);return Object.assign(a,{userData:{...e,type:"BackdropGeometry"}})}},StarGeometry:WW,TextFrameGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n}=e.parameters,i=new nM(t,n);return Object.assign(i,{userData:{...e,type:"TextFrameGeometry"}})}},TorusGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.round(Math.abs(n.depth??.25*n.width));return{parameters:Object.assign(n,{width:i,height:r,depth:o})}}static build(e){let{width:t,height:n,depth:i,radialSegments:r,tubularSegments:o,arc:s,cornerRadius:a,cornerSegments:l}=e.parameters,c=function eIe(e,t,n,i,r,o,s,a,l,c,u){[t,n]=[n,t],s=t/2;let d=Yn.clamp(r/360,0,1);if(0===d){let h=new ei;return h.setAttribute("position",new Dn([],3)),h}return 1===d&&(c=0),new BW(!0,e,t,n,i,d,o,s,a,l,c,u)}(t,n,i,.5*t,s,o,0,0,r,a,l);return c.scale(1,n/t,1),Object.assign(c,{userData:{...e,type:"TorusGeometry"}})}},TorusKnotGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),tube:n.tube??.125*n.width})}}static build(e){let{width:t,tube:n,tubularSegments:i,radialSegments:r,p:o,q:s}=e.parameters,a=.5*t;a!==n&&(a-=n);let l=new Aj(a,n,i,r,o,s);return Object.assign(l,{userData:{...e,type:"TorusKnotGeometry"}})}},TriangleGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof os?e.shape:new os,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width*(n.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t=100,height:n,cornerRadius:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s,isRect:a}=e.parameters,l=e.shape,c=.5*t,u=.5*n;a?(l.addPoint(l.createPoint(-c,u)),l.addPoint(l.createPoint(c,-u)),l.addPoint(l.createPoint(-c,-u))):(l.addPoint(l.createPoint(0,u)),l.addPoint(l.createPoint(c,-u)),l.addPoint(l.createPoint(-c,-u))),l.isClosed=!0;for(let h=0,f=l.points.length;h<f;h++)l.points[h].roundness=i;l.roundness=i,l.update();let d=Im.create({shape:l,parameters:{roundness:i,depth:r,extrudeBevelSize:o,extrudeBevelSegments:s}});return Object.assign(d,{userData:{...e,type:"TriangleGeometry"}})}},PathGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),i=Math.abs(n.width),r=Math.abs(n.height??n.width),o=Math.abs(n.depth??0),s=t?.shapeData??Pk.create({parameters:SG}).userData.shape;return{path:e.path??hP.defaultData(),parameters:Object.assign(n,{width:i,height:r,depth:o,extrusion:{...EG,...n.extrusion}}),shapeData:s}}static build(e){if(e.path.points.length>=2){let t=new yIe(e);return Object.assign(t,{userData:{...e,type:"PathGeometry"}})}return Object.assign(new ei,{userData:{...e,type:"PathGeometry"}})}},VectorGeometry:Im},oq=e=>NIe[e.type].create(e);function A1(e){return null!==e&&"booleanOp"in e}var sq=class extends(dk(yl)){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Wt}updateVisible(e){super.updateVisible(e),this.visible=!A1(this.parent)&&this.visible,A1(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){-1!==this.booleanMeshSetAddress&&(hp.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),A1(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof sq&&(e.freeBooleanPointer(),A1(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let n=super.updateTransformState(e,t);return n&&A1(this.parent)&&this.invalidateDownstreamBooleanData(!0),n}onVariableUpdate(e=!1){super.onVariableUpdate(e),A1(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},YP=new ys;function Lk(e,t=0,n=e.count,i,r){let o=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d=t;d<n;d++){let h=e.getX(d),f=e.getY(d),v=e.getZ(d);h<o&&(o=h),f<s&&(s=f),v<a&&(a=v),h>l&&(l=h),f>c&&(c=f),v>u&&(u=v)}YP.min.set(o,s,a),YP.max.set(l,c,u),YP.getCenter(i),YP.getSize(r).multiplyScalar(.5)}var FIe=new ei,LIe=new Ub,Jl=class extends sq{constructor(e,t){super(FIe,LIe),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Lk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},aq=class{constructor(e){this.name=(e=e??{}).name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},Hf=class{constructor(e){this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},this.uuid=Yn.generateUUID(),this.type=e,this.name=""}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,n){return this.analyze(e,n=n??{}),this.flow(e,t,n)}flow(e,t,n){e.addFlow((n=n??{}).slot,n.cache,n.context);let i={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),i}build(e,t,n){t=t??this.getType(e,t);let i=e.getNodeData(n??this);return e.analyzing&&this.appendDepsNode(e,i,t),-1===e.nodes.indexOf(this)&&e.nodes.push(this),void 0!==this.updateFrame&&-1===e.updaters.indexOf(this)&&e.updaters.push(this),this.generate(e,t,n)}updateFrame(e){}generateReadonly(e,t,n,i,r,o){return""}generate(e,t,n,i,r){return""}parse(e,t,n,i){}appendDepsNode(e,t,n){t.deps=(t.deps||0)+1;let i=e.getTypeLength(n);(i>(t.outputMax||0)||this.getType(e,n))&&(t.outputMax=i,t.output=n)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return"sampler2D"===t||"samplerCube"===t?t:this.type}getHash(){let t,n,e="{";for(t in this)n=this[t],n instanceof Hf&&(e+='"'+t+'":'+n.getHash()+",");if(this.hashProperties)for(let i=0;i<this.hashProperties.length;i++)t=this.hashProperties[i],n=this[t],e+='"'+t+'":"'+String(n)+'",';return e+='"id":"'+this.uuid+'"}',e}},ec=new class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,n){this.keywords[e]={callback:t,cache:n=void 0===n||n}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return void 0!==this.nodes[e]}containsKeyword(e){return void 0!==this.keywords[e]}},lo=class extends Hf{constructor(e,t){super(e),this.scope="",this.shared=void 0===(t=t??{}).shared||t.shared,this.unique=void 0!==t.unique&&t.unique}build(e,t,n,i){if(t=t??this.getType(e),this.getShared(e,t)){let r=this.getUnique(e,t);r&&void 0===this.uuid&&(this.uuid=Yn.generateUUID()),n=e.getUUID(n??this.getUUID(),!r);let o=e.getNodeData(n),s=o.output||this.getType(e);if(e.analyzing)return(o.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,o,t),this.generate(e,t,n)):super.build(e,t,n);if(r)return o.name=o.name||super.build(e,t,n),o.name;if(!this.getLabel()&&(!this.getShared(e,s)||e.context.ignoreCache||1===o.deps))return super.build(e,t,n);n=this.getUUID(!1);let a=this.getTemp(e,n);if(a)return e.format(a,s,t);{a=super.generate(e,t,n,o.output,i);let l=this.generate(e,s,n);return e.addNodeCode(a+" = "+l+";"),e.format(a,s,t)}}return super.build(e,t,n)}getShared(e,t){return"sampler2D"!==t&&"samplerCube"!==t&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return"string"==typeof this.scope&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let n=e.getVars()[t];return n?n.name:void 0}generate(e,t,n,i,r){return this.getShared(e,t)||console.error("TempNode is not shared"),e.getTempVar(n=n??this.uuid,i??this.getType(e),r,this.getLabel()).name}},tc=class extends lo{constructor(e,t){(t=t??{}).shared=void 0!==t.shared&&t.shared,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,n,i,r,o){n=e.getUUID(n??this.getUUID()),i=i??this.getType(e);let s=e.getNodeData(n);return this.getReadonly()&&void 0!==this.generateReadonly?this.generateReadonly(e,t,n,i,r,o):e.isShader("vertex")?(s.vertex||(s.vertex=e.createVertexUniform(i,this,r,o,this.getLabel())),e.format(s.vertex.name,i,t)):(s.fragment||(s.fragment=e.createFragmentUniform(i,this,r,o,this.getLabel())),e.format(s.fragment.name,i,t))}},Ra=class extends tc{constructor(e=0,t){super("v2"),this.nodeType="Vector2",this.value=e instanceof Ve?e:new Ve(e,t)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}generateReadonly(e,t,n,i,r,o){return e.format("vec2("+this.value.x+", "+this.value.y+")",i,t)}},yd=class extends tc{constructor(e=0,t,n){super("v3"),this.nodeType="Vector3",this.value=e instanceof re?e:new re(e,t,n)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,n,i,r,o){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",i,t)}},nc=class extends si{constructor(e,t,n,i){super(e,t,n),this.isColorA=!0,this.a=i}setRGBA(e,t,n,i){super.setRGB(e,t,n),this.a=i}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}setStyle(e,t="srgb"){let n;if("transparent"===e)return this.setRGBA(0,0,0,0),this;if(n=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a="rgba"===r?parseFloat(i[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a="hsla"===r?parseFloat(i[4]):1,super.setStyle(e,t)}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},pp=class extends tc{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof nc?e:new nc(e.r,e.g,e.b,e.a)}generateReadonly(e,t,n,i,r,o){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",i,t)}},zIe=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,lq=/[a-z_0-9]+/gi,hn=class extends lo{constructor(e,t,n,i,r){super(r),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=void 0===r,this.isInterface=!1,this.parse(e,t,n,i)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,n,i,r){let o,s=0,a=this.src;if(this.includes)for(let c=0;c<this.includes.length;c++)e.include(this.includes[c],this);for(let c in this.extensions)e.extensions[c]=!0;let l=[];for(;o=lq.exec(this.src);)l.push(o);for(let c=0;c<l.length;c++){let u=l[c],d=u[0],h=!this.isMethod||!this.getInputByName(d),f=d;if(this.keywords[d]||this.useKeywords&&h&&ec.containsKeyword(d)){let v=this.keywords[d];if(!v){let y=ec.getKeywordData(d);y.cache&&(v=e.keywords[d]),v=v||ec.getKeyword(d,e),y.cache&&(e.keywords[d]=v)}f=v.build(e)}d!==f&&"."!==a[u.index+s-1]&&(a=a.substring(0,u.index+s)+f+a.substring(u.index+d.length+s),s+=f.length-d.length),void 0===this.getIncludeByName(f)&&ec.contains(f)&&e.include(ec.get(f))}return"source"===t?a:this.isMethod?(this.isInterface||e.include(this,void 0,a),this.name):e.format("( "+a+" )",this.getType(e),t)}parse(e,t,n,i){if(this.src=e||"",this.includes=t??[],this.extensions=n??{},this.keywords=i??{},this.isMethod){let r=zIe.exec(this.src);if(this.inputs=[],r&&4==r.length){this.type=r[1],this.name=r[2];let o=r[3].match(lq);if(o){let s=0;for(;s<o.length;){let l,a=o[s++];"in"===a||"out"===a||"inout"===a?l=o[s++]:(l=a,a="");let c=o[s++];this.inputs.push({name:c,type:l,qualifier:a})}}this.isInterface=-1===this.src.indexOf("{")}else this.type="",this.name=""}}},UIe=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,cq=class extends lo{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||cq.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,n,i,r){this.src=e||"";let o,s,a="",l=UIe.exec(e);this.useDefine=r??"#"===this.src.charAt(0),l&&l.length>1?(s=l[1],o=l[2],a=l[3]):(o=this.src,s="f"),this.name=o,this.type=s,this.value=a}build(e,t){if("source"===t){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,n,i,r){return e.format(this.name,this.getType(e),t)}},co=cq;co.PI="PI",co.PI2="PI2",co.RECIPROCAL_PI="RECIPROCAL_PI",co.RECIPROCAL_PI2="RECIPROCAL_PI2",co.LOG2="LOG2",co.EPSILON="EPSILON";var jIe=new RegExp("^structs*([a-z_0-9]+)s*{s*((.|\n)*?)}","gim"),VIe=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),dq=class extends lo{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,n,i,r){return"source"===t?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=jIe.exec(e);if(t){let i,n=t[2];for(;i=VIe.exec(n);)this.inputs.push({type:i[1],name:i[2]});this.name=t[1]}else this.name="";this.type=this.name}},Bk=class extends lo{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let n=this.index>0?this.index+1:"",i=e.isShader("vertex")?"uv"+n:"vUv"+n;return e.format(i,this.getType(e),t)}};ec.addKeyword("uv",function(){return new Bk}),ec.addKeyword("uv2",function(){return new Bk(1)});var T1=class extends lo{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??T1.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case Gu:return["Linear"];case Ui:return["sRGB"];default:return[]}}generate(e,t){let n=this.input.build(e,"v4"),i=this.getType(e),r=T1.Nodes[this.method],o=e.include(r);if(o===T1.LINEAR_TO_LINEAR)return e.format(n,i,t);if(2===r.inputs?.length){let s=this.factor.build(e,"f");return e.format(o+"( "+n+", "+s+" )",i,t)}return e.format(o+"( "+n+" )",i,t)}fromEncoding(e){let t=T1.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=T1.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},lh=T1;lh.Nodes={LinearToLinear:new hn(["vec4 LinearToLinear( in vec4 value ) {","\treturn value;","}"].join("\n")),sRGBToLinear:new hn(["vec4 sRGBToLinear( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join("\n")),LinearTosRGB:new hn(["vec4 LinearTosRGB( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join("\n"))},lh.LINEAR_TO_LINEAR="LinearToLinear",lh.SRGB_TO_LINEAR="sRGBToLinear",lh.LINEAR_TO_SRGB="LinearTosRGB";var Ao=class extends hn{constructor(e="",t,n,i,r){super(e,r,i,n,t),this.nodeType="Expression"}},fp=class extends tc{constructor(e=new na,t,n,i){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new Bk,this.bias=n,this.project=void 0!==i&&i}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if("sampler2D"===t)return this.getTexture(e,t);let o,s,n=this.getTexture(e,t),i=this.uv.build(e,this.project?"v4":"v2"),r=this.bias?this.bias.build(e,"f"):void 0;void 0===r&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f")),o=this.project?"texture2DProj":r?"tex2DBias":"tex2D",s=r?o+"( "+n+", "+i+", "+r+" )":o+"( "+n+", "+i+" )";let a={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(a),this.colorSpace=this.colorSpace??new lh(new Ao("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(s),s=this.colorSpace.build(e,l),e.removeContext(),e.format(s,l,t)}},Rn=class extends tc{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,n,i,r,o){return e.format(this.value+(this.value%1?"":".0"),i,t)}},uq=class extends lo{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,n,i,r){i=this.getType(e);let o=this.value,s=o.build(e,t)+"( ",a=[];if(o.inputs){for(let l=0;l<o.inputs.length;l++){let c=o.inputs[l];a.push((this.inputs[l]||this.inputs[c.name]).build(e,e.getTypeByFormat(c.type)))}s+=a.join(", ")+" )"}return e.format(s,i,t)}},hq=class extends lo{constructor(e,t,n=hq.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=n}getType(e){let t=this.a.getType(e),n=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(n)>e.getTypeLength(t)?n:t}generate(e,t){let n=this.getType(e);this.type=n;let i=this.a.build(e,n),r=this.b.build(e,n);return e.format("( "+i+" "+this.op+" "+r+" )",n,t)}},ic=hq;ic.ADD="+",ic.SUB="-",ic.MUL="*",ic.DIV="/";var uo=class extends lo{constructor(e,t=uo.ABS,n,i){super(),this.nodeType="Math",this.a=e,"string"!=typeof t?this.b=t:i=t,"string"!=typeof n?this.c=n:i=n,this.method=i,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case uo.MIX:case uo.CLAMP:case uo.REFRACT:case uo.SMOOTHSTEP:case uo.FACEFORWARD:return 3;case uo.MIN:case uo.MAX:case uo.MOD:case uo.STEP:case uo.REFLECT:case uo.DISTANCE:case uo.DOT:case uo.CROSS:case uo.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),n=this.b?e.getTypeLength(this.b.getType(e)):0,i=this.c?e.getTypeLength(this.c.getType(e)):0;return t>n&&t>i?this.a.getType(e):n>i?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case uo.LENGTH:case uo.DISTANCE:case uo.DOT:return"f";case uo.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let n,i,r,o=this.a?e.getTypeLength(this.a.getType(e)):0,s=this.b?e.getTypeLength(this.b.getType(e)):0,a=this.c?e.getTypeLength(this.c.getType(e)):0,l=this.getInputType(e),c=this.getType(e);switch(this.type=c,this.method){case uo.NEGATE:return e.format("( -"+this.a.build(e,l)+" )",l,t);case uo.INVERT:return e.format("( 1.0 - "+this.a.build(e,l)+" )",l,t);case uo.CROSS:n=this.a.build(e,"v3"),i=this.b.build(e,"v3");break;case uo.STEP:n=this.a.build(e,1===o?"f":l),i=this.b.build(e,l);break;case uo.MIN:case uo.MAX:case uo.MOD:n=this.a.build(e,l),i=this.b.build(e,1===s?"f":l);break;case uo.REFRACT:n=this.a.build(e,l),i=this.b.build(e,l),r=this.c.build(e,"f");break;case uo.MIX:n=this.a.build(e,l),i=this.b.build(e,l),r=this.c.build(e,1===a?"f":l);break;default:n=this.a.build(e,l),this.b&&(i=this.b.build(e,l)),this.c&&(r=this.c.build(e,l))}let u=[];u.push(n),i&&u.push(i),r&&u.push(r);let d=this.getNumInputs(e);if(u.length!==d)throw Error(`Arguments not match used in "${this.method}". Require ${d}, currently ${u.length}.`);return e.format(this.method+"( "+u.join(", ")+" )",c,t)}},Bi=uo;Bi.RAD="radians",Bi.DEG="degrees",Bi.EXP="exp",Bi.EXP2="exp2",Bi.LOG="log",Bi.LOG2="log2",Bi.SQRT="sqrt",Bi.INV_SQRT="inversesqrt",Bi.FLOOR="floor",Bi.CEIL="ceil",Bi.NORMALIZE="normalize",Bi.FRACT="fract",Bi.SATURATE="saturate",Bi.SIN="sin",Bi.COS="cos",Bi.TAN="tan",Bi.ASIN="asin",Bi.ACOS="acos",Bi.ARCTAN="atan",Bi.ABS="abs",Bi.SIGN="sign",Bi.LENGTH="length",Bi.NEGATE="negate",Bi.INVERT="invert",Bi.MIN="min",Bi.MAX="max",Bi.MOD="mod",Bi.STEP="step",Bi.REFLECT="reflect",Bi.DISTANCE="distance",Bi.DOT="dot",Bi.CROSS="cross",Bi.POW="pow",Bi.MIX="mix",Bi.CLAMP="clamp",Bi.REFRACT="refract",Bi.SMOOTHSTEP="smoothstep",Bi.FACEFORWARD="faceforward";var R_=class extends lo{constructor(e,t,n){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=n}bilinearCubeUV(e,t,n,i){let r=new uq(R_.Nodes.bilinearCubeUV,[t,n,i]);this.colorSpaceTL=this.colorSpaceTL??new lh(new Ao("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(r.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new lh(new Ao("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(r.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new lh(new Ao("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(r.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new lh(new Ao("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(r.build(e)+".br");let o={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(o),this.colorSpaceTLExp=new Ao(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new Ao(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new Ao(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new Ao(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let s=new Ao("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return s.keywords.cubeUV_TL=this.colorSpaceTLExp,s.keywords.cubeUV_TR=this.colorSpaceTRExp,s.keywords.cubeUV_BL=this.colorSpaceBLExp,s.keywords.cubeUV_BR=this.colorSpaceBRExp,s.keywords.cubeUV=r,s}generate(e,t){if(e.isShader("fragment")){let n=this.uv,r=new uq(R_.Nodes.roughnessToMip,[this.bias||e.context.roughness]),o=new Bi(r,R_.Nodes.m0,R_.Nodes.cubeUV_maxMipLevel,Bi.CLAMP),s=new Bi(o,Bi.FLOOR),a=new Bi(o,Bi.FRACT),l=this.bilinearCubeUV(e,this.value,n,s),c=this.bilinearCubeUV(e,this.value,n,new ic(s,new Rn(1).setReadonly(!0),ic.ADD)),u=new Bi(l,c,a,Bi.MIX);return e.format(u.build(e),"v4",t)}return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},zk=R_;zk.Nodes=function(){let e=new dq("struct TextureCubeUVData {\n\t\t\tvec4 tl;\n\t\t\tvec4 tr;\n\t\t\tvec4 br;\n\t\t\tvec4 bl;\n\t\t\tvec2 f;\n\t\t}"),t=new co("float cubeUV_maxMipLevel 8.0",!0),n=new co("float cubeUV_minMipLevel 4.0",!0),i=new co("float cubeUV_maxTileSize 256.0",!0),r=new co("float cubeUV_minTileSize 16.0",!0),o=new hn("float getFace(vec3 direction) {\n\t\t\t\tvec3 absDirection = abs(direction);\n\t\t\t\tfloat face = -1.0;\n\t\t\t\tif (absDirection.x > absDirection.z) {\n\t\t\t\t\tif (absDirection.x > absDirection.y)\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t} else {\n\t\t\t\t\tif (absDirection.z > absDirection.y)\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t}\n\t\t\t\treturn face;\n\t\t}");o.useKeywords=!1;let s=new hn("vec2 getUV(vec3 direction, float face) {\n\t\t\t\tvec2 uv;\n\t\t\t\tif (face == 0.0) {\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\n\t\t\t\t} else if (face == 1.0) {\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\n\t\t\t\t} else if (face == 2.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\n\t\t\t\t} else if (face == 3.0) {\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\n\t\t\t\t} else if (face == 4.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\n\t\t\t\t} else {\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\n\t\t\t\t}\n\t\t\t\treturn 0.5 * (uv + 1.0);\n\t\t}");s.useKeywords=!1;let a=new hn("TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n\t\t\tfloat face = getFace(direction);\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\n\t\t\tfloat faceSize = exp2(mipInt);\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\n\t\t\tvec2 f = fract(uv);\n\t\t\tuv += 0.5 - f;\n\t\t\tif (face > 2.0) {\n\t\t\t\tuv.y += faceSize;\n\t\t\t\tface -= 3.0;\n\t\t\t}\n\t\t\tuv.x += face * faceSize;\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t\t}\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n\t\t\tuv *= texelSize;\n\t\t\tvec4 tl = texture2D(envMap, uv);\n\t\t\tuv.x += texelSize;\n\t\t\tvec4 tr = texture2D(envMap, uv);\n\t\t\tuv.y += texelSize;\n\t\t\tvec4 br = texture2D(envMap, uv);\n\t\t\tuv.x -= texelSize;\n\t\t\tvec4 bl = texture2D(envMap, uv);\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\n\t\t}",[e,o,s,t,n,i,r]);a.useKeywords=!1;let l=new co("float r0 1.0",!0),c=new co("float v0 0.339",!0),u=new co("float m0 -2.0",!0),d=new co("float r1 0.8",!0),h=new co("float v1 0.276",!0),f=new co("float m1 -1.0",!0),v=new co("float r4 0.4",!0),y=new co("float v4 0.046",!0),b=new co("float m4 2.0",!0),w=new co("float r5 0.305",!0),O=new co("float v5 0.016",!0),S=new co("float m5 3.0",!0),D=new co("float r6 0.21",!0),V=new co("float v6 0.0038",!0),Y=new co("float m6 4.0",!0);return{bilinearCubeUV:a,roughnessToMip:new hn("float roughnessToMip(float roughness) {\n\t\t\tfloat mip = 0.0;\n\t\t\tif (roughness >= r1) {\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n\t\t\t} else if (roughness >= r4) {\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n\t\t\t} else if (roughness >= r5) {\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n\t\t\t} else if (roughness >= r6) {\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n\t\t\t} else {\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n\t\t\t}\n\t\t\treturn mip;\n\t\t}",[l,c,u,d,h,f,v,y,b,w,O,S,D,V,Y]),m0:u,cubeUV_maxMipLevel:t}}();var k1=class extends lo{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??k1.VIEW}getShared(){return this.scope===k1.WORLD}build(e,t,n,i){let r=e.context[this.scope+"Normal"];return r?r.build(e,t,n,i):super.build(e,t,n)}generate(e,t,n,i,r){let o;switch(this.scope){case k1.VIEW:o=e.isShader("vertex")?"transformedNormal":"geometryNormal";break;case k1.LOCAL:e.isShader("vertex")?o="objectNormal":(e.requires.normal=!0,o="vObjectNormal");break;case k1.WORLD:e.isShader("vertex")?o="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,o="vWNormal")}return e.format(o,this.getType(e),t)}},rc=k1;rc.LOCAL="local",rc.WORLD="world",rc.VIEW="view",rc.NORMAL="normal",ec.addKeyword("viewNormal",function(){return new rc(rc.VIEW)}),ec.addKeyword("localNormal",function(){return new rc(rc.NORMAL)}),ec.addKeyword("worldNormal",function(){return new rc(rc.WORLD)});var gp=class extends lo{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??gp.LOCAL}getType(){return this.scope===gp.PROJECTION?"v4":this.type}getShader(){switch(this.scope){case gp.LOCAL:case gp.WORLD:return!1}return!0}generate(e,t,n,i,r){let o;switch(this.scope){case gp.LOCAL:e.isShader("vertex")?o="transformed":(e.requires.position=!0,o="vPosition");break;case gp.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,o="vWPosition";break;case gp.VIEW:o=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case gp.PROJECTION:o=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )"}return e.format(o,this.getType(),t)}},nu=gp;nu.LOCAL="local",nu.WORLD="world",nu.VIEW="view",nu.PROJECTION="projection",ec.addKeyword("position",function(){return new nu}),ec.addKeyword("worldPosition",function(){return new nu(nu.WORLD)}),ec.addKeyword("viewPosition",function(){return new nu(nu.VIEW)});var ch=class extends lo{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??ch.CUBE}getUnique(e){return!e.context.viewNormal}getType(){return this.scope===ch.SPHERE?"v2":this.type}generate(e,t){let n=this.getUnique(e);if(e.isShader("fragment")){let i;switch(this.scope){case ch.VECTOR:{let r=new rc(rc.VIEW),o=e.context.roughness,s=r.build(e,"v3"),a=new nu(nu.VIEW).build(e,"v3"),l=o?o.build(e,"f"):void 0,c=`reflect( -normalize( ${a} ), ${s} )`;l&&(c=`normalize( mix( ${c}, ${s}, ${l} * ${l} ) )`);let u=`inverseTransformDirection( ${c}, viewMatrix )`;n?(e.addNodeCode(`vec3 reflectVec = ${u};`),i="reflectVec"):i=u;break}case ch.CUBE:{let r=new ch(ch.VECTOR).build(e,"v3"),o="vec3( -"+r+".x, "+r+".yz )";n?(e.addNodeCode(`vec3 reflectCubeVec = ${o};`),i="reflectCubeVec"):i=o;break}case ch.SPHERE:{let r="normalize( ( viewMatrix * vec4( "+new ch(ch.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";n?(e.addNodeCode(`vec2 reflectSphereVec = ${r};`),i="reflectSphereVec"):i=r;break}}return e.format(i,this.getType(),t)}return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},I1=ch;I1.CUBE="cube",I1.SPHERE="sphere",I1.VECTOR="vector";var HIe=class extends lo{constructor(e=new fp,t,n){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new zk(this.value,t??new I1(I1.VECTOR),n),this.irradianceNode=new zk(this.value,new rc(rc.WORLD),new Rn(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),("irradiance"===e.slot?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},GIe=class extends tc{constructor(e=new HA,t,n){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new I1,this.bias=n}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){if("samplerCube"===t)return this.getTexture(e,t);let o,n=this.getTexture(e,t),i=this.uv?.build(e,"v3"),r=this.bias?this.bias.build(e,"f"):void 0;void 0===r&&e.context.bias&&(r=e.context.bias.setTexture(this).build(e,"f")),o=r?"texCubeBias( "+n+", "+i+", "+r+" )":"texCube( "+n+", "+i+" )";let s={include:e.isShader("vertex"),ignoreCache:!0},a=this.getType(e);return e.addContext(s),this.colorSpace=this.colorSpace??new lh(new Ao("",a)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(o),o=this.colorSpace.build(e,a),e.removeContext(),e.format(o,a,t)}},pq=["x","y","z","w"],$Ie=["float","vec2","vec3","vec4"],KIe={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},QIe={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},ss=class extends tc{constructor(e=0,t,n,i){super("c"),this.nodeType="Color",this.value=e instanceof nc?e:new nc(e||0,t,n,i)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,n,i,r,o){n=e.getUUID(n??this.getUUID()),i=i??this.getType(e);let s=e.getNodeData(n),a=this.getReadonly()&&void 0!==this.generateReadonly;if(this.alpha){let l=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${l};`)}return a?this.generateReadonly(e,t,n,i,r,o):e.isShader("vertex")?(s.vertex||(s.vertex=e.createVertexUniform(i,this,r,o,this.getLabel())),e.format(s.vertex.name,i,t)):(s.fragment||(s.fragment=e.createFragmentUniform(i,this,r,o,this.getLabel())),e.format(s.fragment.name,i,t))}generateReadonly(e,t,n,i,r,o){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",i,t)}},bo=class extends tc{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,n,i,r,o){return e.format(this.value.toString(),i,t)}},Ol=class extends tc{constructor(e){super("b"),this.nodeType="Bool",this.value=e??!1}generateReadonly(e,t,n,i){return e.format(this.value?"true":"false",i,t)}},Rm=class extends tc{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:"number"==typeof t?new Array(e).fill(t):new Array(e).fill(0)}},Uk=class extends tc{},JIe=class extends Uk{constructor(e){super("v3"),this.image=e,this._value=new re}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},jk=class extends Uk{constructor(e,t){super("t"),this.image=e,this.wrap=t}get value(){return this.image.getTexture(this.wrap)}},fq=class extends tc{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new vs}generateReadonly(e,t,n,i,r,o){return e.format("mat3("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},dh=class extends tc{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new Wt}generateReadonly(e,t,n,i,r,o){return e.format("mat4("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function gq(e,t,n){e.setUvTransform(n[0],n[1],t[0],t[1],0,0,0)}var e4e=class extends fq{constructor(e,t){super(new vs),this.repeat=e,this.offset=t,gq(this.value,e,t)}updateMatrix(){gq(this.value,this.repeat,this.offset)}},Nm=class extends tc{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof ji?new Array(e).fill(t):new Array(e).fill(new ji(0))}},mq=class extends lo{constructor(e,t,n,i){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=n,this.mode=i}generate(e,t){if(e.isShader("fragment")){let n=[];return n.push(this.a.build(e,"c")),n.push(this.b.build(e,"c")),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),e.format("spe_blend("+n.join(",")+")",this.getType(e),t)}return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},vq=class extends lo{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(vq.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.color.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Vk=vq;Vk.Nodes={customColor:new hn("vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {\n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\n\t\t\t\treturn color;\n\t\t\t}")};var yq=class extends lo{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(yq.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let i=[];return i.push(this.cnormal.build(e,"v3")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},bq=yq;bq.Nodes={customNormal:new hn("vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {\n\t\t\t\tvec3 normal = packNormalToRGB( norm ).rgb;\n\t\t\t\tnormal *= step( vec3(0.5), cnormal );\n\n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\n\t\t\t\treturn normal;\n\t\t\t}")};var N_=class extends lo{constructor(e,t,n,i,r,o,s,a,l,c,u,d){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=n,this.projection=i,this.axis=r,this.side=o,this.size=s,this.blending=a,this.mat=l,this.isMask=d,this.alpha=c,this.mode=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let i,n=`g${this.uuid.toString().replace(/-/g,"")}`;switch(this.projection.value){case 3:i=e.include(N_.Nodes.cylindrical);break;case 2:i=e.include(N_.Nodes.spherical);break;case 1:let a=new hn(`\n\t\tvec3 ${n}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n\t\t\t\tvec2 projected = (1. + (position.${["zy","xz","xy"][this.axis.value]})) / 2.;\n\t\t\t\tvec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\t${2===this.side.value?"":`lalpha *= step(0.0, ${1===this.side.value?"-1.0 * ":""}dot(vObjectNormal, ${["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value]}));`}\n\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}`);i=e.include(a);break;case 4:i=e.include(N_.Nodes.triplanar);break;default:i=e.include(N_.Nodes.uv)}e.addFragmentVariable(this.calpha,"float");let r=[];if(r.push("normal"),r.push(this.texture.generate(e,"t")),r.push(this.textureSize.build(e,"v2")),r.push(this.crop.build(e,"f")),r.push(this.mat.build(e,"mat3")),r.push(this.size.build(e,"v2")),r.push(this.blending.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),4===this.projection.value){let o=`${n}_writeUvs`,s=o+"0",a=o+"1",l=o+"2",c=`${n}_triplanarWeights`;e.addFragmentVariable(s,"vec2"),e.addFragmentVariable(a,"vec2"),e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(c,"vec3"),r.push(s),r.push(a),r.push(l),r.push(c)}else{let o=`${n}_writeUvs`;e.addFragmentVariable(o,"vec2"),r.push(o)}return e.format(i+"("+r.join(",")+")",this.getType(e),t)}},Hk=N_;Hk.Nodes={cylindrical:new hn("\nvec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n                vec3 posN = normalize(position);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float scaledHeight = position.y / (size.y * 0.5);\n                float v =  (scaledHeight / 2.) + .5;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\t\t\t\t\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}\n"),spherical:new hn("\nvec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n                vec3 posN = normalize(vPosition);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float v = 0.5 + asin(posN.y) / 3.1415;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}\n"),uv:new hn("vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n\t\t\t\tvec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}"),triplanar:new hn("vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {\n\t\t\t\tvec3 p = position;\n\t\t\t\tvec2 uv0 = (1.0 + p.xy) / 2.0;     \n\t\t\t\tvec2 uv1 = (1.0 + p.zy) / 2.0;\t\t\n\t\t\t\tvec2 uv2 = (1.0 + p.xz) / 2.0;\t\t\n\t\n\t\t\t\tuv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\t\t\t\tuv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\t\t\t\tuv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\n\t\t\t\t// Range from 3 to 128 seems to be good\n\t\t\t\tfloat exponent = (1.0 - blending) * 125.0 + 3.0;\n\n\t\t\t\tvec3 n = vObjectNormal;\n\t\t\t\tvec3 weights = abs(normalize(n));\n\t\t\t\tweights = pow(weights, vec3(exponent));\n\t\t\t\tweights /= dot(weights, vec3(1.0));\n\n\t\t\t\t// Write out all sets of UVs that we generated\n\t\t\t\twriteUvs0 = uv0;\n\t\t\t\twriteUvs1 = uv1;\n\t\t\t\twriteUvs2 = uv2;\n\t\t\t\twriteWeights = weights;\n\n\t\t\t\t// Derivatives for LOD\n\t\t\t\tvec2 df0 = fwidth(uv0);\n\t\t\t\tvec2 df1 = fwidth(uv1);\n\t\t\t\tvec2 df2 = fwidth(uv2);\n\t\t\t\tif (df0.x > 0.5) df0.x = 0.0;\n\t\t\t\tif (df1.x > 0.5) df1.x = 0.0;\n\t\t\t\tif (df2.x > 0.5) df2.x = 0.0;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                \tvec4 tmp = \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;\n\t\t\t\t#else\n                \tvec4 tmp = \n\t\t\t\t\t\ttextureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + \n\t\t\t\t\t\ttextureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + \n\t\t\t\t\t\ttextureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\n\t\t\t\t// Apply cropping across all 3 planes\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;//n * 0.5 + 0.5;\n\t\t\t}\t\t\t\n\t\t\t")};var F_=class extends lo{constructor(e,t,n,i,r,o,s,a,l,c,u,d){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=n,this.far=i,this.isVector=r,this.isWorldSpace=o,this.origin=s,this.direction=a,this.colors=l,this.steps=c,this.isMask=d,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`,i=new hn(`vec3 ${n}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${n}_MAX_COLORS], float steps[${n}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {\n               vec4 color = colors[0];\n               #ifdef ${n}_IS_VECTOR\n                   #ifdef ${n}_LINEAR\n                       #ifdef ${n}_WORLDSPACE\n                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);\n                       #else\n                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);\n                       #endif\n                   #else\n                       #ifdef ${n}_WORLDSPACE\n                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);\n                       #else\n                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);\n                       #endif\n                   #endif\n               #else\n                   float dist = length(vWPosition - cameraPosition);\n\t\t\t       float depth = ( dist - near ) / ( far - near );\n               #endif\n\n\n              float p;\n              #ifdef ${n}_SMOOTH\n\t\t\t\tfor ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {\n\t\t\t\t\t\tp = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n              #else\n                for ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {\n                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);\n                   color = mix(color, colors[i], p);\n                 }\n              #endif\n\n               float lalpha = alpha * color.a * mask;\n               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t   \n               return color.rgb;\n\t\t\t}`,[F_.Nodes.vectorLinearWorldSpaceDepth,F_.Nodes.vectorLinearObjectSpaceDepth,F_.Nodes.vectorSphericalObjectSpaceDepth,F_.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${n}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${n}_SMOOTH`),this.isVector.value>.5&&e.define(`${n}_IS_VECTOR`),0===this.gradientType.value&&e.define(`${n}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${n}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let r=e.include(i),o=[];return o.push(this.near.build(e,"f")),o.push(this.far.build(e,"f")),o.push(this.origin.build(e,"v3")),o.push(this.direction.build(e,"v3")),o.push(this.colors.build(e,"v4[]")),o.push(this.steps.build(e,"f[]")),o.push(this.isMask.build(e,"b")),o.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),o.push(this.alpha.build(e,"f")),o.push(this.calpha),e.format(r+"("+o.join(",")+")",this.getType(e),t)}return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},_q=F_;_q.Nodes={vectorLinearWorldSpaceDepth:new hn("float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorLinearObjectSpaceDepth:new hn("float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalWorldSpaceDepth:new hn("float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(vWPosition - origin);\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalObjectSpaceDepth:new hn("float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(position - origin);\n               return ( dist - near ) / ( far - near );\n            }")};var t4e=class extends lo{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=n,this.intensity=i,this.factor=r,this.isMask=a,this.alpha=o,this.mode=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=new hn("vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {\n\t\t\t\t\tfloat fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );\n\n\t\t\t\t\tfloat lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\t\treturn color;\n\t\t\t\t}"),i=e.include(n),r=[];return r.push(this.color.build(e,"c")),r.push(this.bias.build(e,"f")),r.push(this.scale.build(e,"f")),r.push(this.intensity.build(e,"f")),r.push(this.factor.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),e.format(i+"("+r.join(",")+")",this.getType(e),t)}return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},xq=class extends lo{constructor(e,t,n,i,r,o,s,a,l){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=n,this.steps=i,this.offset=r,this.morph=o,this.angle=s,this.isMask=l,this.alpha=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(xq.Nodes.gradient),i=[];return i.push(this.gradientType.build(e,"i")),i.push(this.smooth.build(e,"b")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.offset.build(e,"v2")),i.push(this.morph.build(e,"v2")),i.push(this.angle.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},wq=xq;wq.Nodes={gradient:new hn("vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tvec2 m = morph / vUv.xy;\n\t\t\t\tvec2 rot = vec2( 0.5 + m.x, m.y );\n\t\t\t\tvec2 dt = vec2(\n\t\t\t\t\tcos( angle ) * rot.x - sin( angle ) * rot.y,\n\t\t\t\t\tsin( angle ) * rot.x + cos( angle ) * rot.y\n\t\t\t\t);\n\t\t\t\tvec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;\n\t\t\t\tfloat t = dot( pt, dt ) / dot( dt, dt );\n\t\t\t\tif ( gradientType == 1 ) {\n\t\t\t\t\tt = distance (\n\t\t\t\t\t\t( vUv + morph ) * 3.0,\n\t\t\t\t\t\t( vUv + offset ) + 1.0\n\t\t\t\t\t) + angle;\n\t\t\t\t} else if ( gradientType == 2 ) {\n\t\t\t\t\tfloat polar = atan(\n\t\t\t\t\t\tvUv.x + morph.x - 0.5 + offset.x,\n\t\t\t\t\t\tvUv.y + morph.y - 0.5 + offset.y\n\t\t\t\t\t) * -1.0;\n\t\t\t\t\tt = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );\n\t\t\t\t}\n\n\t\t\t\tfloat p;\n\t\t\t\tif (smoothed) {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], p);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t\t\n\t\t\t\treturn color.xyz;\n\t\t\t}")};var Cq=class extends lo{constructor(e,t,n,i){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=i,this.alpha=t,this.mode=n,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=e.include(Cq.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let i=[];return i.push(this.texture.generate(e,"t")),i.push("normal"),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Mq=Cq;Mq.Nodes={matcap:new hn("vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha) {\n\t\t\t\t\tvec3 viewDir = normalize( vViewPosition );\n\t\t\t\t\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\t\t\t\t\tvec3 y = cross( viewDir, x );\n\t\t\t\t\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\t\t\t\t\tvec4 matcapColor = texture2D( matcapTex, uv );\n\n\t\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t\t\t\n\t\t\t\t\treturn matcapColor.rgb;\n            \t}")};var Gk=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))(Gk||{}),oc=function(){let e=new hn("vec3 random3(vec3 c) {\n\t\t\tfloat j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n\t\t\tvec3 r;\n\t\t\tr.z = fract(512.0*j);\n\t\t\tj *= .125;\n\t\t\tr.x = fract(512.0*j);\n\t\t\tj *= .125;\n\t\t\tr.y = fract(512.0*j);\n\t\t\treturn r-0.5;\n\t\t}"),t=new hn("float simplex3d(vec3 p) {\n\t\t\t vec3 s = floor(p + dot(p, vec3(F3)));\n\t\t\t vec3 x = p - s + dot(s, vec3(G3));\n\t\t\t \n\t\t\t vec3 e = step(vec3(0.0), x - x.yzx);\n\t\t\t vec3 i1 = e*(1.0 - e.zxy);\n\t\t\t vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n\t\t\t\t\n\t\t\t vec3 x1 = x - i1 + G3;\n\t\t\t vec3 x2 = x - i2 + 2.0*G3;\n\t\t\t vec3 x3 = x - 1.0 + 3.0*G3;\n\t\t\t \n\t\t\t vec4 w, d;\n\t\t\t \n\t\t\t w.x = dot(x, x);\n\t\t\t w.y = dot(x1, x1);\n\t\t\t w.z = dot(x2, x2);\n\t\t\t w.w = dot(x3, x3);\n\t\t\t \n\t\t\t w = max(0.6 - w, 0.0);\n\t\t\t \n\t\t\t d.x = dot(random3(s), x);\n\t\t\t d.y = dot(random3(s + i1), x1);\n\t\t\t d.z = dot(random3(s + i2), x2);\n\t\t\t d.w = dot(random3(s + 1.0), x3);\n\t\t\t \n\t\t\t w *= w;\n\t\t\t w *= w;\n\t\t\t d *= w;\n\t\t\t \n\t\t\t return dot(d, vec4(52.0));\n\t\t}",[e]);t.keywords.F3=new co("float F3 0.3333333"),t.keywords.G3=new co("float G3 0.1666667");let n=new hn("float simplex3dFractal(vec3 m) {\n\t\t\tmat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);\n\t\t\tmat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);\n\t\t\tmat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);\n\t\t\treturn 0.5333333 * simplex3d(m * rot1)\n\t\t\t\t + 0.2666667 * simplex3d(2.0 * m * rot2)\n\t\t\t\t + 0.1333333 * simplex3d(4.0 * m * rot3)\n\t\t\t\t + 0.0666667 * simplex3d(8.0 * m);\n\t\t}",[t]),i=new hn("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),r=new hn("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),o=new hn("float simplexAshima(vec3 v) {\n\t\t  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n\t\t  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\t\t  vec3 i  = floor(v + dot(v, C.yyy) );\n\t\t  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\t\t  vec3 g = step(x0.yzx, x0.xyz);\n\t\t  vec3 l = 1.0 - g;\n\t\t  vec3 i1 = min( g.xyz, l.zxy );\n\t\t  vec3 i2 = max( g.xyz, l.zxy );\n\t\t  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n\t\t  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n\t\t  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\t\t  i = mod(i, 289.0 ); \n\t\t  vec4 p = permute( permute( permute( \n\t\t\t\t\t i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n\t\t\t\t   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n\t\t\t\t   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\t\t  float n_ = 1.0/7.0; // N=7\n\t\t  vec3  ns = n_ * D.wyz - D.xzx;\n\t\t  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\t\t  vec4 x_ = floor(j * ns.z);\n\t\t  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\t\t  vec4 x = x_ *ns.x + ns.yyyy;\n\t\t  vec4 y = y_ *ns.x + ns.yyyy;\n\t\t  vec4 h = 1.0 - abs(x) - abs(y);\n\t\t  vec4 b0 = vec4( x.xy, y.xy );\n\t\t  vec4 b1 = vec4( x.zw, y.zw );\n\t\t  vec4 s0 = floor(b0)*2.0 + 1.0;\n\t\t  vec4 s1 = floor(b1)*2.0 + 1.0;\n\t\t  vec4 sh = -step(h, vec4(0.0));\n\t\t  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n\t\t  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\t\t  vec3 p0 = vec3(a0.xy,h.x);\n\t\t  vec3 p1 = vec3(a0.zw,h.y);\n\t\t  vec3 p2 = vec3(a1.xy,h.z);\n\t\t  vec3 p3 = vec3(a1.zw,h.w);\n\t\t  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n\t\t  p0 *= norm.x;\n\t\t  p1 *= norm.y;\n\t\t  p2 *= norm.z;\n\t\t  p3 *= norm.w;\n\t\t  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n\t\t  m = m * m;\n\t\t  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n\t\t\t\t\t\t\t\t\t\tdot(p2,x2), dot(p3,x3) ) );\n\t\t}",[i,r]),s=new hn("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),a=new hn("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[s]),l=new hn("float noise(vec3 p){\n\t\t\tvec3 a = floor(p);\n\t\t\tvec3 d = p - a;\n\t\t\td = d * d * (3.0 - 2.0 * d);\n\t\t\tvec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n\t\t\tvec4 k1 = perm(b.xyxy);\n\t\t\tvec4 k2 = perm(k1.xyxy + b.zzww);\n\t\t\tvec4 c = k2 + a.zzzz;\n\t\t\tvec4 k3 = perm(c);\n\t\t\tvec4 k4 = perm(c + 1.0);\n\t\t\tvec4 o1 = fract(k3 * (1.0 / 41.0));\n\t\t\tvec4 o2 = fract(k4 * (1.0 / 41.0));\n\t\t\tvec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n\t\t\tvec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\t\t\treturn o4.y * d.y + o4.x * (1.0 - d.y);\n\t\t}",[a]),c=new hn("float fbm(vec3 x) {\n\t\t\tfloat v = 0.0;\n\t\t\tfloat a = 0.5;\n\t\t\tvec3 shift = vec3(100);\n\t\t\tfor (int i = 0; i < NUM_OCTAVES; ++i) {\n\t\t\t\tv += a * noise(x);\n\t\t\t\tx = x * 2.0 + shift;\n\t\t\t\ta *= 0.5;\n\t\t\t}\n\t\t\treturn v;\n\t\t}",[l]);c.keywords.NUM_OCTAVES=new co("int NUM_OCTAVES 5");let u=new hn("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),d=new hn("float perlin(vec3 P){\n\t\t  vec3 Pi0 = floor(P);\n\t\t  vec3 Pi1 = Pi0 + vec3(1.0);\n\t\t  Pi0 = mod(Pi0, 289.0);\n\t\t  Pi1 = mod(Pi1, 289.0);\n\t\t  vec3 Pf0 = fract(P);\n\t\t  vec3 Pf1 = Pf0 - vec3(1.0);\n\t\t  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\t\t  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n\t\t  vec4 iz0 = Pi0.zzzz;\n\t\t  vec4 iz1 = Pi1.zzzz;\n\t\t  vec4 ixy = permute(permute(ix) + iy);\n\t\t  vec4 ixy0 = permute(ixy + iz0);\n\t\t  vec4 ixy1 = permute(ixy + iz1);\n\t\t  vec4 gx0 = ixy0 / 7.0;\n\t\t  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n\t\t  gx0 = fract(gx0);\n\t\t  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n\t\t  vec4 sz0 = step(gz0, vec4(0.0));\n\t\t  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n\t\t  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\t\t  vec4 gx1 = ixy1 / 7.0;\n\t\t  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n\t\t  gx1 = fract(gx1);\n\t\t  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n\t\t  vec4 sz1 = step(gz1, vec4(0.0));\n\t\t  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n\t\t  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\t\t  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n\t\t  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n\t\t  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n\t\t  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n\t\t  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n\t\t  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n\t\t  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n\t\t  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\t\t  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n\t\t  g000 *= norm0.x;\n\t\t  g010 *= norm0.y;\n\t\t  g100 *= norm0.z;\n\t\t  g110 *= norm0.w;\n\t\t  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n\t\t  g001 *= norm1.x;\n\t\t  g011 *= norm1.y;\n\t\t  g101 *= norm1.z;\n\t\t  g111 *= norm1.w;\n\t\t  float n000 = dot(g000, Pf0);\n\t\t  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n\t\t  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n\t\t  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\t\t  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\t\t  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n\t\t  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n\t\t  float n111 = dot(g111, Pf1);\n\t\t  vec3 fade_xyz = fade(Pf0);\n\t\t  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n\t\t  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n\t\t  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n\t\t  return 2.2 * n_xyz;\n\t\t}",[i,r,u]),h=new hn("float hashwithoutsine13(vec3 p3)\n\t\t{\n\t\t\tp3  = fract(p3 * .1031);\n\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t}"),f=new hn("vec3 hashwithoutsine33(vec3 p3)\n\t\t{\n\t\t\tp3 = fract(p3 * vec3(.1031, .1030, .0973));\n\t\t\tp3 += dot(p3, p3.yxz+33.33);\n\t\t\treturn fract((p3.xxy + p3.yxx)*p3.zyx);\n\t\t}"),v=new hn("float metric(in vec3 p)\n\t\t{\n\t\t\t// L2 \n\t\t\treturn length(p);\n\n\t\t\t// Chebyshev \n\t\t\t// vec3 a = abs(p);\n\t\t\t// return max(a.x, max(a.y, a.z));\n\t\t}"),y=new hn("float smin( float a, float b, float k )\n\t\t{\n\t\t\tfloat h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);\n\t\t\tfloat correction = k * h * (1.0 - h);\n\t\t\treturn mix(b, a, h) - correction;\n\t\t}"),b=new hn("float smax( float a, float b, float k )\n\t\t{\n\t\t\tfloat h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);\n\t\t\tfloat correction = k * h * (1.0 - h);\n\t\t\treturn mix(a, b, h) + correction;\n\t\t}"),w=new hn("float remap(float value, float input_min, float input_max, float output_min, float output_max) {\n\t\t\t// Compute width of each interval\n\t\t\tfloat input_width = input_max - input_min;\n\t\t\tfloat output_width = output_max - output_min;\n\t\t\n\t\t\t// Convert input range into a 0-1 range \n\t\t\tfloat scaled = (value - input_min) / input_width;\n\t\t\n\t\t\t// Convert the 0-1 range into a value in output range\n\t\t\treturn output_min + (scaled * output_width);\n\t\t}");return{simplex:t,simplexFractal:n,simplexAshima:o,fbm:c,perlin:d,voronoi:new hn('float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) \n\t\t{\n\t\t\t// Integer and fractional parts of this point\'s coordinates\n\t\t\tivec3 p = ivec3(floor(x));\n\t\t\tvec3 f = fract(x);\n\n\t\t\t// Different variables that we will use to construct noise:\n\t\t\t//\n\t\t\t// f1: distance to the closest feature point\n\t\t\t// f2: distance to the second closest feature point\n\t\t\t// e: distance to the closest edge (cell boundary)\n\t\t\t//\n\t\t\t// We also compute "smooth" versions of all of the above quantites, essentially\n\t\t\t// replacing "hard" minimums with "smooth" minimums (described by IQ)\n\t\t\tfloat f1_smooth = 8.0;\n\t\t\tfloat f1 = 8.0;\n\t\t\tfloat f2_smooth = 8.0;\n\t\t\tfloat f2 = 8.0;\n\t\t\tfloat e_smooth = 8.0;\n\t\t\tfloat e = 8.0;\n\n\t\t\t// Variables stored from closest cell\n\t\t\tivec3 mb;\n\t\t\tvec3 mr; \n\n\t\t\tint steps = quality;\n\t\t\t\n\t\t\tfor (int x = -steps; x <= steps; x++) \n\t\t\tfor (int y = -steps; y <= steps; y++)\n\t\t\tfor (int z = -steps; z <= steps; z++)\n\t\t\t{\n\t\t\t\tivec3 b = ivec3(x, y, z);\n\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\tfloat d = length(r);\n\t\t\t\t\n\t\t\t\tf1_smooth = smin(d, f1_smooth, smoothness);\n\n\t\t\t\t// Store un-smoothed distances too \n\t\t\t\tif (d < f1) \n\t\t\t\t{\n\t\t\t\t\tf2 = f1;\n\t\t\t\t\tf1 = d;\n\n\t\t\t\t\tmb = ivec3(x, y, z);\n\t\t\t\t\tmr = r;\n\t\t\t\t} \n\t\t\t\telse if (d < f2) \n\t\t\t\t{\n\t\t\t\t\tf2 = d;\n\t\t\t\t}\n\t\t\t}\t\n\t\t\t\n\t\t\tfloat id = hashwithoutsine13(vec3(p + mb) + seed);\n\n\t\t\t// Second pass for edge distance  \n\t\t\tfor (int x = -steps; x <= steps; x++) \n\t\t\tfor (int y = -steps; y <= steps; y++)\n\t\t\tfor (int z = -steps; z <= steps; z++)\n\t\t\t{\n\t\t\t\t// Start search at the cell that contains the closest point to "x" (found in 1st pass)\n\t\t\t\tivec3 b = mb + ivec3(x, y, z);\n\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\tfloat d1 = dot(0.5 * (mr + r), (r - mr)); \t\t\t\t// IQ normalizes "r - mr" but that breaks things for the smooth version?\n\t\t\t\tfloat d2 = dot(0.5 * (mr + r), normalize(r - mr));\n\n\t\t\t\te_smooth = smin(d1, e_smooth, smoothness);\n\n\t\t\t\te = min(e, d2);\n\n\t\t\t\t// Also compute a smooth version of F2 in this pass\n\t\t\t\t{\n\t\t\t\t\tivec3 b = ivec3(x, y, z);\n\t\t\t\t\tif (b != mb) \n\t\t\t\t\t{\n\t\t\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\t\t\tfloat d = length(r);\n\n\t\t\t\t\t\tf2_smooth = smin(d, f2_smooth, smoothness);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Different visualization modes \n\t\t\tif (style == 0) \n\t\t\t{\n\t\t\t\treturn f1_smooth;\n\t\t\t}\n\t\t\tif (style == 1) \n\t\t\t{\n\t\t\t\treturn f2_smooth;\n\t\t\t}\n\t\t\tif (style == 2) \n\t\t\t{\n\t\t\t\treturn f2_smooth - f1_smooth;\n\t\t\t\t\n\t\t\t\t// "Pebbles" also cool\n\t\t\t\t//return step(0.2, f2_smooth - f1_smooth);\n\t\t\t}\n\t\t\tif (style == 3) \n\t\t\t{\n\t\t\t\t// This one is really good for rock / stone effects\n\t\t\t\tfloat a = f1; \n\t\t\t\tfloat b = f2;\n\t\t\t\tfloat k = 3.0;\n\t\t\t\tfloat h = max(k - abs(a - b), 0.0) / k;\n\t\t\t\tfloat final = min(a, b) - h * h * k * (1.0 / 4.0);\n\t\t\t\treturn final;\n\t\t\t}\n\t\t\tif (style == 4) \n\t\t\t{\n\t\t\t\t// Some random adjustments to make this style stand out more \n\t\t\t\treturn exp(5.0 * e_smooth);\n\t\t\t}\n\t\t\tif (style == 5) \n\t\t\t{\n\t\t\t\treturn pow(f1_smooth, 3.0);\n\t\t\t}\n\t\t\tif (style == 6) \n\t\t\t{\t\t\t\t\n\t\t\t\tconst float eps = 0.0125;\n\n\t\t\t\t// Thicker lines as the user increases the smoothness slider\n\t\t\t\tfloat thickness = smoothness * 0.25 + eps;\n\n\t\t\t\t// Blurrier lines as the user increases the smoothness slider\n\t\t\t\tfloat blur = pow(smoothness, 3.0) * 0.25 + eps;\n\n\t\t\t\treturn smoothstep(\n\t\t\t\t\tthickness - thickness * blur, \n\t\t\t\t\tthickness + thickness * blur, \n\t\t\t\t\te\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (style == 7) \n\t\t\t{\n\t\t\t\treturn hashwithoutsine13(vec3(p + mb) + seed);\n\t\t\t}\n\t\t}\n\t',[h,f,v,y,b,w])}}(),Pq=class extends lo{constructor(e,t,n,i,r,o,s,a,l,c,u,d,h,f,v,y,b,w,O){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=n,this.fA=i,this.fB=r,this.distortion=o,this.colorA=s,this.colorB=a,this.colorC=l,this.colorD=c,this.noiseType=d,this.voronoiStyle=f,this.highCut=v,this.lowCut=y,this.smoothness=b,this.seed=w,this.quality=O,this.isMask=h,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,n,i,r){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let o=Object.values(Gk)[this.noiseType.value],a=new hn(`vec3 ${o}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) \n\t\t\t{\n                // Prevent scale of zero \n\t\t\t\tscale = max(abs(scale), 0.001);\n\n\t\t\t\tvec3 st = position / size;\n\t\t\t\tst /= scale;\n\n\t\t\t\t${"voronoi"==o?`\n\t\tfloat v = ${o}(st + move, voronoiStyle, smoothness, seed, quality);\n\n\t\t// Apply clipping to colors\n\t\tv = remap(v, lowCut, highCut, 0.0, 1.0);\n\t\tv = smax(v, 0.0, smoothness * 0.25);\n\t\tv = smin(v, 1.0, smoothness * 0.25);\n\n\t\t// Note that the voronoi mode only uses colors "A" and "C" from the UI \n\t\tvec4 color = mix(colorA, colorC, v); \n\t\t`:`\n\t\tvec3 q = vec3(${o}(st),\n\t\t\t\t\t   ${o}(st + vec3(1.0)),\n\t\t\t\t\t   ${o}(st + vec3(1.0)));\n\t\tvec3 r = vec3(${o}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),\n\t\t\t\t\t  ${o}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), \n\t\t\t\t\t  ${o}(st * q));\n\t\tfloat f = ${o}(st + r);\n\t\tvec4 color;\n\t\tcolor = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));\n\t\tcolor = mix(color, colorC, clamp(length(q), 0.0, 1.0));\n\t\tcolor = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));\n\t\t`}\n\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t}`,[oc.simplex,oc.simplexFractal,oc.simplexAshima,oc.fbm,oc.perlin,oc.voronoi]),l=e.include(a),c=[];return c.push(this.scale.build(e,"f")),c.push(this.size.build(e,"v3")),c.push(this.move.build(e,"f")),c.push(this.fA.build(e,"v2")),c.push(this.fB.build(e,"v2")),c.push(this.distortion.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.colorC.build(e,"v4")),c.push(this.colorD.build(e,"v4")),c.push(this.voronoiStyle.build(e,"i")),c.push(this.highCut.build(e,"f")),c.push(this.lowCut.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.seed.build(e,"f")),c.push(this.quality.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}};Pq.numOctaves=5;var Oq=class extends lo{constructor(e,t,n,i,r,o,s,a,l,c,u,d,h,f,v,y){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=n,this.contourWidth=i,this.contourThreshold=r,this.outlineThreshold=o,this.contourFrequency=s,this.outlineSmoothing=a,this.contourDirection=l,this.positionalLines=c,this.compensation=u,this.resolution=d,this.normalMap=h,this.depthMap=f,this.pixelRatio=v,this.alpha=y,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${n}_offset`),this.firstTime){let i=this.outlineWidth.build(e,"f"),r=this.resolution.build(e,"v2"),o=this.compensation.build(e,"b"),s=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(i,"uniform float"),e.addVertexParsVariable(r,"uniform vec2"),e.addVertexParsVariable(o,"uniform bool"),e.addVertexParsVariable(s,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`\n                vID = randomColor.r;\n                vec2 ${n}_offset = vec2(0.0);\n                if (${o}) {\n                    vec4 ${n}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));\n                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the\n                    // normals face the camera directly. So we hackily fix this by offsetting the normal\n                    // by a tiny amount.\n                    vec3 ${n}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;\n                    ${n}_offset = normalize(${n}_clipNormal.xy) / ${r} * (${i} / 2.0) * ${n}_clipPosition.w * 2.0 * ${s};\n                    ${n}_clipPosition.xy += ${n}_offset;\n                    // TODO(MAX): To handle multiple outline layers, we only want to extrude\n                    // if this offset is the biggest of all the potential offsets\n                    gl_Position = ${n}_clipPosition;\n                }\n            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let i=e.include(Oq.Nodes.outline),r=[];return r.push(this.outlineColor.build(e,"c")),r.push(this.contourColor.build(e,"c")),r.push(this.outlineWidth.build(e,"f")),r.push(this.contourWidth.build(e,"f")),r.push(this.contourThreshold.build(e,"f")),r.push(this.outlineThreshold.build(e,"f")),r.push(this.contourFrequency.build(e,"f")),r.push(this.outlineSmoothing.build(e,"f")),r.push(this.contourDirection.build(e,"v3")),r.push(this.positionalLines.build(e,"b")),r.push(this.resolution.build(e,"v2")),r.push(this.normalMap.getTexture(e,"t")),r.push(this.depthMap.getTexture(e,"t")),r.push(this.pixelRatio.build(e,"f")),r.push(this.compensation.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),this.firstTime=!this.firstTime,e.format(i+"("+r.join(",")+")",this.getType(e),t)}return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},Sq=Oq;Sq.Nodes=function(){let e=new hn("\nfloat sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)\n{\n    vec2 halton = haltonSequence[frameIndex];\n    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n    float temporalAngle  = temporalOffset * PI2;\n\n    vec2 texelSize = (vec2(1.0) / resolution);\n    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;\n\n    vec2 uvSamples[9];\n    vec4 normalSamples[9];\n\n\tuvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);\n\tuvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);\n\tuvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);\n\tuvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);\n\tuvSamples[4] = uv;\n\tuvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);\n\tuvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);\n\tuvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);\n\tuvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);\n\n\n    normalSamples[0] = texture2D(t, uvSamples[0]);\n    normalSamples[1] = texture2D(t, uvSamples[1]);\n    normalSamples[2] = texture2D(t, uvSamples[2]);\n    normalSamples[3] = texture2D(t, uvSamples[3]);\n    normalSamples[4] = texture2D(t, uvSamples[4]);\n    normalSamples[5] = texture2D(t, uvSamples[5]);\n    normalSamples[6] = texture2D(t, uvSamples[6]);\n    normalSamples[7] = texture2D(t, uvSamples[7]);\n    normalSamples[8] = texture2D(t, uvSamples[8]);\n\n    float depthBias = 0.0001;\n    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!\n    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n\n    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);\n  \tvec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);\n\n    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));\n    return edgeNormal;\n}\n");return{outline:new hn("vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {\n                vec3 result = outlineColor;\n                float resultAlpha = 0.0;\n\n                vec3 N = normalize(vWNormal);\n                vec2 nuv = (gl_FragCoord.xy / resolution);\n                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);\n                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);\n\n                //resultAlpha = 1.0;\n                //result = vec3(sobelSample);\n\n                float t = 1.0 - contourThreshold;\n                if(positionalLines) {\n                    vec3 NDir = position * contourDirection;\n                    float NT = NDir.x + NDir.y + NDir.z;\n                    float f  = fract(NT * contourFrequency * 0.01);\n                    float df = fwidth(NT * contourFrequency);\n\n                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);\n                    if (g < 1.0 && resultAlpha == 0.0) {\n                        result = contourColor;\n                        resultAlpha = 1.0;\n                    }\n                 }\n                 else {\n                    vec3 NDir = N * contourDirection;\n                    float NT = NDir.x + NDir.y + NDir.z;\n                    float df = fwidth(NT * contourThreshold);\n                    float f = sin(NT * 1.0 * contourFrequency);\n                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);\n\n                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {\n                        result = contourColor;\n                        resultAlpha = 1.0 - g;\n                    }\n                 }\n\n                 float lalpha = alpha * resultAlpha * mask;\n                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\t\t\t\t \n                 return result;\n             }",[e])}}();var mp=class extends lo{constructor(e,t,n,i,r,o,s,a,l,c,u,d,h,f,v,y,b,w){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=n,this.blending=i,this.offset=r,this.colorA=o,this.colorB=s,this.frequency=a,this.size=l,this.variation=c,this.smoothness=u,this.zigzag=d,this.rotation=h,this.vertical=f,this.horizontal=v,this.sides=y,this.isMask=w,this.alpha=b,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n;switch(e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float"),this.style.value){case 0:default:n="circle";break;case 1:n="ring";break;case 2:n="polygon";break;case 3:n="xcross";break;case 4:n="diamond";break;case 5:n="checkerboard";break;case 6:n="line";break;case 7:n="wave"}let i=`g${this.uuid.toString().replace(/-/g,"")}`,r=new hn("float hashwithoutsine12(vec2 p)\n\t\t\t\t{\n\t\t\t\t\tvec3 p3 = fract(vec3(p.xyx) * .1031);\n\t\t\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t\t\t}"),o=new hn("vec2 rotate_uv(in vec2 uv, float a, bool repeat) \n\t\t\t\t{\n\t\t\t\t\tconst float mid = 0.5;\n\t\t\t\t\tfloat radians = a * (PI / 180.0);\n\t\t\t\t\tvec2 rotated = vec2(\n\t\t\t\t\t\tcos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,\n\t\t\t\t\t\tcos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid\n\t\t\t\t\t);\n\t\t\t\t\treturn repeat ? fract(rotated): rotated;\n\t\t\t\t}"),s="";if(4===this.projection.value)s=`\n\t\t\t\tvec3 p = position;\n\t\t\t\tfloat factor = 0.0125;\n\t\t\t\tvec2 uv0 = fract(p.xy * factor);\n\t\t\t\tvec2 uv1 = fract(p.zy * factor);\n\t\t\t\tvec2 uv2 = fract(p.xz * factor);\n\t\t\t\t\n\t\t\t\tuv0 = rotate_uv(uv0 + offset, rotation, true);\n\t\t\t\tuv1 = rotate_uv(uv1 + offset, rotation, true);\n\t\t\t\tuv2 = rotate_uv(uv2 + offset, rotation, true);\n\t\n\t\t\t\tfloat d0 = ${2===this.style.value?`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\tfloat d1 = ${2===this.style.value?`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\tfloat d2 = ${2===this.style.value?`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\t\n\t\t\t\t// Range from 3 to 128 seems to be good\n\t\t\t\tfloat exponent = (1.0 - blending) * 125.0 + 3.0;\n\n\t\t\t\tvec3 n = vObjectNormal;\n\t\t\t\tvec3 weights = abs(normalize(n));\n\t\t\t\tweights = pow(weights, vec3(exponent));\n\t\t\t\tweights /= dot(weights, vec3(1.0));\n\t\t\t\td0 *= weights.z;\n\t\t\t\td1 *= weights.x;\n\t\t\t\td2 *= weights.y;\n\t\t\t\tfloat draw = d0 + d1 + d2;\n\t\n\t\t\t\tvec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;\n\t\t\t\t`;else{let u=2===this.style.value?`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d="";d=0===this.axis.value?"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.y, p.z);\n\t\t\t\t\tfloat phi = acos(p.x / radius);":1===this.axis.value?"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.x, p.z);\n\t\t\t\t\tfloat phi = acos(p.y / radius);":"float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.y, p.x);\n\t\t\t\t\tfloat phi = acos(p.z / radius);";let h="";switch(this.projection.value){case 0:h="custom_uv = vUv.st;";break;case 1:case 3:default:break;case 2:h=`\n\t\t\t\t\t\t\tvec3 p = position;\n\t\t\t\t\t\t\t${d}\n\t\t\t\t\t\t\tcustom_uv = vec2(theta, phi);\n\t\t\t\t\t\t\tcustom_uv /= PI;\n\t\t\t\t\t\t\t`}s=`\n\t\t\t\tvec2 custom_uv;\n\t\t\t\t${h}\n\t\n\t\t\t\tcustom_uv += offset;\n\t\t\t\tcustom_uv = fract(custom_uv);\n\t\t\t\tcustom_uv = rotate_uv(custom_uv, rotation, true);\n\t\n\t\t\t\tfloat draw = ${u};\n\t\t\t\t`}let a=new hn(`vec3 ${i}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\t\tconst float TWO_PI = PI * 2.0;\n\t\t\t\t\tfloat smoothness_remapped = pow(smoothness, 5.0);\t\n\n\t\t\t\t\t${s}\n\n\t\t\t\t\t// Construct final output color\n\t\t\t\t\tvec4 color = mix(colorA, colorB, draw);\n\t\t\t\t\tcolor.a = clamp(color.a, 0.0, 1.0);\n\n\t\t\t\t\t// Apply cuts\n\t\t\t\t\tcolor.a *= \n\t\t\t\t\t\tstep(vertical.x, custom_uv.y) * \n\t\t\t\t\t\tstep(custom_uv.y, vertical.y);\n\t\t\t\t\tcolor.a *= \n\t\t\t\t\t\tstep(horizontal.x, abs(custom_uv.x)) * \n\t\t\t\t\t\tstep(abs(custom_uv.x), horizontal.y);\n\n\t\t\t\t\t// Accumulate alpha \n\t\t\t\t\tfloat lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t\t}`,[o,r,mp.DrawFunctions.circle,mp.DrawFunctions.ring,mp.DrawFunctions.polygon,mp.DrawFunctions.cross,mp.DrawFunctions.diamond,mp.DrawFunctions.checkerboard,mp.DrawFunctions.line,mp.DrawFunctions.wave]),l=e.include(a),c=[];return c.push("normal"),c.push(this.blending.build(e,"f")),c.push(this.style.build(e,"i")),c.push(this.offset.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.frequency.build(e,"v2")),c.push(this.size.build(e,"f")),c.push(this.variation.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.zigzag.build(e,"f")),c.push(this.rotation.build(e,"f")),c.push(this.vertical.build(e,"v2")),c.push(this.horizontal.build(e,"v2")),c.push(this.sides.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},Eq=mp;Eq.DrawFunctions=function(){let e=new hn("float hashwithoutsine12(vec2 p) {\n\t\t\t\tvec3 p3 = fract(vec3(p.xyx) * 0.1031);\n\t\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t\t}"),t=new hn("vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {\n                // Create tiles in UV-space\n                uv *= frequency;\n\n                // Integer coords\n                vec2 i = floor(uv);\n\n                // Offset every other row based on zigzag param, then compute fractional coords\n                float row_offset = mod(i.y, 2.0);\n                uv.x += row_offset * zigzag;\n                vec2 f = fract(uv);\n\n\t\t\t\t// Rotate the tile itself:\n\t\t\t\t// const float mid = 0.5;\n\t\t\t\t// f = vec2(\n\t\t\t\t// \tcos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,\n\t\t\t\t// \tcos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid\n\t\t\t\t// );\n\t\t\t\t// f = fract(f);\n\n                f = f * 2.0 - 1.0;\n\n\t\t\t\t// Recompute integer coords after shifting - then, random value per tile \n\t\t\t\ti = floor(uv);\n\t\t\t\tfloat rand = (hashwithoutsine12(i) * 5.0 + 1.0);\n\t\t\t\tfloat jitter = mix(1.0, rand, variation);\n\t\t\t\tf *= jitter;\n\n                return f;\n            }",[e]);return{tileAndCenter:t,circle:new hn("float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(\n                    -smoothness, \n                     smoothness, \n                     length(f) - size\n                );\n            }",[t]),ring:new hn("float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n\n\t\t\t\tfloat d = length(f);\n                const float inner_width = 0.5;\n\n                float outer = smoothstep(-smoothness, smoothness, d - size);\n                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);\n\t\t\t\treturn outer + (1.0 - inner);   \n            }",[t]),polygon:new hn("float sdf_ngon(in vec2 p, in float r, in int n) {\n                float an = (PI * 2.0) / float(n);\n                float he = r * tan(0.5 * an);\n                \n                // Rotate to first sector\n                p = -p.yx; \n                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);\n                vec2  cs = vec2(cos(bn), sin(bn));\n                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;\n            \n                // Side of polygon\n                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);\n            }\n            \n            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));\n            }",[t]),cross:new hn("float sdf_cross(in vec2 p, in vec2 b, float r ) {\n                p = abs(p); \n\t\t\t\tp = (p.y > p.x) ? p.yx : p.xy;\n                vec2  q = p - b;\n                float k = max(q.y, q.x);\n                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);\n                return sign(k) * length(max(w, 0.0)) + r;\n            }\n            \n            // Avoid namespace conflicts \n            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));\n            }",[t]),diamond:new hn("float ndot(vec2 a, vec2 b) { \n                return a.x*b.x - a.y*b.y; \n            }\n            \n            float sdf_diamond(in vec2 p, in vec2 b) {\n                p = abs(p);\n                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);\n                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));\n                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);\n            }\n\n            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n\t            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));\n            }",[t]),checkerboard:new hn("float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                uv *= frequency;\n                vec2 i = floor(uv);\n\n                float offset = mod(i.y, 2.0);\n\n                uv.x += offset + zigzag * offset;\n                float x = floor(uv.x);\n                \n                return mod(x, 2.0);\n            }"),line:new hn("float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);\n\t\t\t\t\n\t\t\t\t// Different approach for variation param here\n\t\t\t\tfloat row = floor(uv * frequency).y;\n\t\t\t\tfloat rand = hashwithoutsine12(vec2(row));\n\t\t\t\tfloat s = mix(size, size * rand, variation);\n\n\t\t\t\treturn smoothstep(\n\t\t\t\t\ts - smoothness, \n\t\t\t\t\ts + smoothness, \n\t\t\t\t\tabs(f.y)\n\t\t\t\t);\n            }",[t]),wave:new hn("// Uses bisection \n            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {\n                // Convert all data to a primitive cosine wave\n                p = c * (p - vec2(d, a));\n                \n                const float TWO_PI = PI * 2.0;\n\n                // Reduce to principal half cycle\n                p.x = mod(p.x, TWO_PI); \n                if (p.x > PI) {\n                    p.x = TWO_PI - p.x;\n                }\n            \n                // Find zero of derivative (minimize distance)\n                float xa = 0.0;\n                float xb = TWO_PI;\n\n                // 24 bit precision\n                for (int i = 0; i < 24; i++) {\n                    float x = 0.5 * (xa + xb);\n                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));\n                    if (y < 0.0) xa = x; \n                    else xb = x;\n                }\n                float x = 0.5 * (xa + xb);\n                \n                // Compute distance    \n                vec2 q = vec2(x, b * c * cos(x));\n                return length(p - q) / c;\n            }\n\n            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                float repeat = frequency.x;\n                uv *= repeat;\n                vec2 i = floor(uv);\n                float row_offset = mod(i.y, 2.0);\n                uv.x += row_offset * zigzag;\n                vec2 f = vec2(uv.x, fract(uv.y));\n\n                // Generalized cosine: y(x) = a + b * cos(cx + d)\n                const float amplitude = 0.125;\n                float wave_frequency = frequency.y * 0.1;\n                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);\n\n\t\t\t\t// Different approach for variation param here\n\t\t\t\tfloat rand = hashwithoutsine12(vec2(i.y));\n\t\t\t\tfloat s = mix(size, size * rand, variation);\n\n                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);\n            }")}}();var Dq=class extends lo{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=n,this.noiseStrength=i,this.noiseScale=r,this.offset=o,this.isMask=a,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(Dq.Nodes.rainbow),i=[];return i.push(this.filmThickness.build(e,"f")),i.push(this.movement.build(e,"f")),i.push(this.wavelengths.build(e,"v3")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.offset.build(e,"v3")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Aq=Dq;Aq.Nodes=function(){let e=new hn("vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {\n                 vec3 st = position / noiseScale;\n\t\t\t\t vec3 q = vec3(simplex3d(st),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)));\n\n\t\t\t\t vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st * q));\n\n                 float noise = simplex3d(st + r);\n\n                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);\n             }",[oc.simplex]);return{rainbow:new hn("vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\tvec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);\n\n\t\t\t\tfloat rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);\n\n\t\t\t\tfloat lalpha = alpha * rainbowContribution * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn res;\n             }",[e])}}();var Tq=class extends lo{constructor(e,t,n,i,r,o,s,a,l,c){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=n,this.source=i,this.isWorldSpace=r,this.noiseStrength=o,this.noiseScale=s,this.shadowColor=a,this.offset=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let n=e.include(Tq.Nodes.toon),i=[];return i.push(this.positioning.build(e,"i")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.source.build(e,"v3")),i.push(this.isWorldSpace.build(e,"b")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.shadowColor.build(e,"v4")),i.push(this.offset.build(e,"v3")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},kq=Tq;kq.Nodes=function(){let e=new hn("float rand(float n) {\n\t\t\t\treturn fract(sin(n) * 43758.5453123);\n\t\t\t}"),t=new hn("float hash1(float p) { \n\t\t\t\tp = fract(p * 0.011); \n\t\t\t\tp *= p + 7.5; \n\t\t\t\tp *= p + p; \n\t\t\t\treturn fract(p); \n\t\t\t}"),n=new hn("float valueNoise(vec3 x) {\n\t\t\t\tconst vec3 step = vec3(110, 241, 171);\n\t\t\t\n\t\t\t\tvec3 i = floor(x);\n\t\t\t\tvec3 f = fract(x);\n\t\t\t \n\t\t\t\t// For performance, compute the base input to a 1D hash from the integer part of the argument and the \n\t\t\t\t// incremental change to the 1D based on the 3D -> 1D wrapping\n\t\t\t\tfloat n = dot(i, step);\n\t\t\t\n\t\t\t\tvec3 u = f * f * (3.0 - 2.0 * f);\n\t\t\t\treturn mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),\n\t\t\t\t\t\t\t   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\n\t\t\t\t\t\t   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),\n\t\t\t\t\t\t\t   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\n\t\t\t}",[t]),i=new hn("vec3 hash3(vec3 x) {\n\t\t\t\tx = vec3(dot(x,vec3(127.1, 311.7, 74.7)),\n\t\t\t\t\t\t dot(x,vec3(269.5, 183.3, 246.1)),\n\t\t\t\t\t\t dot(x,vec3(113.5, 271.9, 124.6)));\n\t\t\t\n\t\t\t\treturn fract(sin(x)*43758.5453123);\n\t\t\t}"),r=new hn('vec3 voronoiNoise(in vec3 x)\n\t\t\t{\n\t\t\t\tvec3 p = floor(x);\n\t\t\t\tvec3 f = fract(x);\n\n\t\t\t\tfloat id = 0.0;\n\t\t\t\tvec2 res = vec2(100.0);\n\n\t\t\t\tfor(int k=-1; k<=1; k++)\n\t\t\t\tfor(int j=-1; j<=1; j++)\n\t\t\t\tfor(int i=-1; i<=1; i++)\n\t\t\t\t{\n\t\t\t\t\tvec3 b = vec3(float(i), float(j), float(k));\n\n\t\t\t\t\t// Comment out the "+ hash(p + b);" part below to get "square" cells\n\t\t\t\t\tvec3 r = vec3(b) - f + hash3(p + b);\n\t\t\t\t\tfloat d = dot(r, r);\n\n\t\t\t\t\tif (d < res.x)\n\t\t\t\t\t{\n\t\t\t\t\t\tid = dot(p + b, vec3(1.0, 57.0, 113.0));\n\t\t\t\t\t\tres = vec2(d, res.x);\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse if (d < res.y)\n\t\t\t\t\t{\n\t\t\t\t\t\tres.y = d;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn vec3(sqrt(res), abs(id));\n\t\t\t}\n\t\t\t',[i]);return{toon:new hn('vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {\n\t\t\t\tfloat t = 0.0;\n\t\t\t\tfloat shadow = 1.0;\n\n\t\t\t\tif (positioning == 0) {\n\n\t\t\t\t\t// Can\'t do this mode if lighting is "none"\n\t\t\t\t\t#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))\n\n\t\t\t\t\t\t// Algorithm from Chapter 10 of Graphics Shaders\n\t\t\t\t\t\tconst vec3 weights = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\t\t\tvec3 lpos;\n\t\t\t\t\t\tvec3 l;\n\t\t\t\t\t\tfloat dproduct;\n\n\t\t\t\t\t\t#if (NUM_POINT_LIGHTS > 0)\n\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tPointLightShadow pointLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_POINT_LIGHTS; i++) {\n\t\t\t\t\t\t\t\t// Light positions are in view-space for some reason?\n\t\t\t\t\t\t\t\tlpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;\n\t\t\t\t\t\t\t\tl = normalize(lpos - worldPosition);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// TODO: we want to use "intensity" but it isn\'t available in the shader code\n\t\t\t\t\t\t\t\t//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);\n\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tpointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getPointShadow( \n\t\t\t\t\t\t\t\t\t\t\tpointShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowRadius,\n\t\t\t\t\t\t\t\t\t\t\tvPointShadowCoord[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowCameraNear, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowCameraFar);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#if NUM_DIR_LIGHTS > 0 \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tDirectionalLightShadow directionalLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_DIR_LIGHTS; i++) {\n\t\t\t\t\t\t\t\t// Use the direction vector for directional lights instead\n\t\t\t\t\t\t\t\tl = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;\n\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tdirectionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getShadow( \n\t\t\t\t\t\t\t\t\t\tUNROLLED_LOOP_INDEX,\n\t\t\t\t\t\t\t\t\t\tdirectionalShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowRadius, \n\t\t\t\t\t\t\t\t\t\tvDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0 \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tSpotLightShadow spotLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_SPOT_LIGHTS; i++) {\n\t\t\t\t\t\t\t\tlpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;\n\t\t\t\t\t\t\t\tl = normalize(lpos - worldPosition);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tspotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getShadow(\n\t\t\t\t\t\t\t\t\t\tUNROLLED_LOOP_INDEX,\n\t\t\t\t\t\t\t\t\t\tspotShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowRadius, \n\t\t\t\t\t\t\t\t\t\tvSpotLightCoord[UNROLLED_LOOP_INDEX]);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\tt = clamp(t, 0.0, 1.0);\n\t\t\t\t\n\t\t\t\t\t#endif\n\n\t\t\t\t} else if (positioning == 1) {\n\t\t\t\t\t\n\t\t\t\t\tvec3 origin = mix(position, worldPosition, float(isWorldSpace));\n\t\t\t\t\tvec3 direction = normalize(source - origin);\n\t\t\t\t\tt = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;\t\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvec3 origin = worldPosition;\n\t\t\t\t\tvec3 source = cameraPosition - offset;\n\t\t\t\t\tvec3 direction = normalize(source - origin);\n\t\t\t\t\tt = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;\t\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\tif (noiseStrength > 0.0) {\n\t\t\t\t\t// Distort with noise\n\t\t\t\t\tvec3 st = position / noiseScale;\n\t\t\t\t\t\n\t\t\t\t\t// Voronoi "smooth" noise\n\t\t\t\t\tfloat noise = 1.0 - voronoiNoise(st).x;\n\n\t\t\t\t\t// Voronoi cellular noise\n\t\t\t\t\t//float noise = 1.0 - rand(voronoiNoise(st).z);\n\n\t\t\t\t\t// Position warp noise\n\t\t\t\t\t// vec3 offset = vec3(\n\t\t\t\t\t// \tsimplex3d(st),\n\t\t\t\t\t// \tsimplex3d(st + vec3(111.1, 143.89, 217.19)),\n\t\t\t\t\t// \tsimplex3d(st + vec3(171.1, 247.89, 117.23))\n\t\t\t\t\t// );\n\t\t\t\t\t// st += offset;\n\t\t\t\t\t// float noise = valueNoise(st);\n\n\t\t\t\t\tt += noise * noiseStrength;\n\t\t\t\t}\n\n\t\t\t\tt = clamp(t, 0.0, 1.0);\n\n\t\t\t\t// Compute ramp color\n\t\t\t\tfloat p;\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tfor (int i = 1; i < COLORS_MAX; i++) {\n\t\t\t\t\tp = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);\n\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t}\n\n\t\t\t\t// Incorporate custom shadow color\n\t\t\t\tif (positioning == 0) {\n\n\t\t\t\t\tvec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);\n\t\t\t\t\tcolor.rgb = mix(blendedShadow, color.rgb, shadow);\n\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// Accumulate alpha as usual\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\n\t\t\t\treturn color.xyz;\n\n            }',[oc.simplex,e,n,r])}}();var n4e={textureBicubic:new hn("float w0( float a ) {\n            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n        }\n    \n        float w1( float a ) {\n            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n        }\n    \n        float w2( float a ){\n            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n        }\n    \n        float w3( float a ) {\n            return ( 1.0 / 6.0 ) * ( a * a * a );\n        }\n    \n        // g0 and g1 are the two amplitude functions\n        float g0( float a ) {\n            return w0( a ) + w1( a );\n        }\n    \n        float g1( float a ) {\n            return w2( a ) + w3( a );\n        }\n    \n        // h0 and h1 are the two offset functions\n        float h0( float a ) {\n            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n        }\n    \n        float h1( float a ) {\n            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n        }\n    \n        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n            uv = uv * texelSize.zw + 0.5;\n    \n            vec2 iuv = floor( uv );\n            vec2 fuv = fract( uv );\n    \n            float g0x = g0( fuv.x );\n            float g1x = g1( fuv.x );\n            float h0x = h0( fuv.x );\n            float h1x = h1( fuv.x );\n            float h0y = h0( fuv.y );\n            float h1y = h1( fuv.y );\n    \n            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    \n            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + \n                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n        }\n\n        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n            vec2 fLodSizeInv = 1.0 / fLodSize;\n            vec2 cLodSizeInv = 1.0 / cLodSize;\n            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n            return mix( fSample, cSample, fract( lod ) );\n        }")},Iq=class extends lo{constructor(e,t,n,i,r,o,s,a){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=n,this.transmissionSamplerSize=i,this.transmissionSamplerMap=r,this.transmissionDepthMap=o,this.aspectRatio=s,this.alpha=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,li.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let n=e.include(Iq.Nodes.transmission),i=[];return i.push(this.thickness.build(e,"f")),i.push(this.ior.build(e,"f")),i.push(this.roughness.build(e,"f")),i.push(this.transmissionSamplerSize.build(e,"v2")),i.push(this.transmissionSamplerMap.getTexture(e,"t")),i.push(this.transmissionDepthMap.getTexture(e,"t")),i.push(this.aspectRatio.build(e,"v2")),i.push("normal"),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Rq=Iq;Rq.Nodes=function(){let e=new hn("vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {\n                // Slightly modified version of this:\n                // https://www.shadertoy.com/view/ltScRG\n\n\t\t\t\t// Special case for blur == 0.0\n\t\t\t\tif (lod == 0.0) {\n\t\t\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\t\treturn texture2DLodEXT( sp, U, 0.0).rgb;\n\t\t\t\t\t#else\n\t\t\t\t\treturn textureLod( sp, U, 0.0).rgb;\n\t\t\t\t\t#endif\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec2 texelSize = vec2(1.0) / resolution;\n                vec2 halton = haltonSequence[frameIndex];\n                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n                float temporalAngle  = temporalOffset * PI2;\n\t\t\t\tvec3 res = vec3(0.0);\n                vec2 uv = vec2(0.0);\n                vec2 offset = vec2(0.0);\n                vec2 vogelSample = vec2(0.0);\n                for (int i = 0; i < NUM_SAMPLES; i++) {\n                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;\n                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20\n                    uv = U + offset;\n                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));\n                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {\n                        uv = unrefractedU;\n                        lod = lod > 4.0 ? lod : lod / 2.0;\n                    }\n                    res += textureLod(sp, uv, lod).rgb;\n                }\n                return res / float(NUM_SAMPLES);\n            }"),t=new hn("vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\t        // Direction of refracted light.\n\t\t        vec3 refractionVector = refract( -v,  n, 1.0 / ior );\n\t\t        \n\t\t\t\t// Compute rotation-independant scaling of the model matrix.\n\t\t        vec3 modelScale;\n\t\t        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\t        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\t        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\n\t\t        // The thickness is specified in local space\n\t\t        return normalize( refractionVector ) * thickness * modelScale;\n\t        }"),n=new hn("float applyIorToRoughness( float roughness, float ior ) {\n\t\t\t\t// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\n\t\t\t\t// an IOR of 1.5 results in the default amount of microfacet refraction.\n\t\t\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t\t\t}"),i=new hn('vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {\n\t\t\t\t// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see\n\t\t\t\t// also the code in convertTransmission.ts, which runs during export\n\t\t\t\t#ifdef IS_THREEJS_EXPORT\n\t\t\t\t\tfloat lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);\n\t\t\t\t\treturn textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;\n\t\t\t\t#else\n\t\t\t\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t\t\t\tfloat lod = applyIorToRoughness(roughness, ior);\n\t\t\t\t\treturn blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);\n\t\t\t\t#endif\n\t\t\t}',[n4e.textureBicubic,n,e]),r=new hn("vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\n\t\t\t\t// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\n\t\t\t\tvec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );\n\t\t\t\tvec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;\n\t\t\t\tunrefractedCoords += 1.0;\n\t\t\t\tunrefractedCoords /= 2.0;\n\n\t\t\t\t// Sample framebuffer to get pixel the refracted ray hits.\n\t\t\t\treturn getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );\n    \t\t}",[i,t]);return{transmission:new hn("vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {\n                vec3 v = vec3(0.);\n                if (isOrthographic) {\n                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n                } else {\n                    v = normalize(vWPosition - cameraPosition);\n                }\n                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );\n                \n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * alpha;\n\n\t\t\t\treturn transmission;\n            }",[r])}}();var Wk=(e=>(e.NOISE="noise",e.MAP="map",e))(Wk||{}),Nq=class extends lo{constructor(e,t,n,i,r,o,s,a,l,c,u){super("v3"),this.displacementTypeIndex=new bo(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,"map"===Object.values(Wk)[this.displacementTypeIndex.value]&&(this.mat=new fq(this.movementOrTexture.value.matrix)),this.cropOrOffset=n,this.scale=c,this.noiseFunctionIndex=u,this.voronoiStyle=i,this.smoothness=r,this.seed=o,this.highCut=s,this.lowCut=a,this.quality=l}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let n,i=[];switch(i.push("displaced_position"),i.push("displaced_normal"),Object.values(Wk)[this.displacementTypeIndex.value]){case"map":n=e.include(Nq.Nodes.map),i.push(this.movementOrTexture.getTexture(e,"t")),i.push("uv"),i.push(this.cropOrOffset.build(e,"f")),this.mat&&i.push(this.mat.build(e,"mat3"));break;case"noise":{let r=Object.values(Gk)[this.noiseFunctionIndex.value],o=new hn("vec3 orthogonal(vec3 v) {\n\t\t\t\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t\t\t\t}"),a=new hn(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {\n\t\t\t\t\t\t\t${"voronoi"==r?`\n\t\t\t\t\tfloat v = ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);\n\t\t\t\t\tv = remap(v, lowCut, highCut, 0.0, 1.0);\n\t\t\t\t\tv = smax(v, 0.0, smoothness * 0.25);\n\t\t\t\t\tv = smin(v, 1.0, smoothness * 0.25);\n\n\t\t\t\t\treturn p + n * v * intensity;\n\t\t\t\t\t`:`\n\t\t\t\t\treturn p + n * ${r}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;\n\t\t\t\t\t`}\n\t\t\t\t\t\t}`,[oc.simplex,oc.simplexFractal,oc.simplexAshima,oc.fbm,oc.perlin,oc.voronoi]),l=new hn("vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {\n\t\t\t\t\t\t\tvec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tvec3 tangent1 = orthogonal(normal);\n\t\t\t\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\n                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.\n                            // This caused some small oval/circular visual artifacts in the lighting.\n                            // For now, simply using neighbors further away betters the problem,\n                            // but we should figure out the underlying cause when we have some time.\n                            // Maybe its related to how we calculate the tangent and bitangent?\n\t\t\t\t\t\t\tvec3 nearby1 = position + tangent1;\n\t\t\t\t\t\t\tvec3 nearby2 = position + tangent2;\n\t\t\t\t\t\t\tvec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tvec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\t\t\t\treturn displaced_position;\n\t\t\t\t\t\t}",[a,o]);n=e.include(l),i.push(this.scale.build(e,"f")),i.push(this.cropOrOffset.build(e,"v3")),i.push(this.movementOrTexture.build(e,"f")),i.push(this.voronoiStyle.build(e,"i")),i.push(this.smoothness.build(e,"f")),i.push(this.seed.build(e,"f")),i.push(this.highCut.build(e,"f")),i.push(this.lowCut.build(e,"f")),i.push(this.quality.build(e,"i"));break}}return i.push(this.intensity.build(e,"f")),i.push("displaced_normal"),e.format(n+"("+i.join(",")+")",this.getType(e),t)}return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Fq=Nq;Fq.Nodes=function(){let e=new hn("vec3 orthogonal(vec3 v) {\n\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t}"),t=new hn("float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {\n\t\t\t\tvec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;\n\t\t\t\tvec4 tmp = texture2D(tex, uvs);\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tif (crop > 0.5) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\treturn 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn col.r;\n\t\t\t}");return{map:new hn("vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {\n\t\t\t\tvec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;\n\t\t\t\tvec3 tangent1 = normalize(orthogonal(normal));\n\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\t\t\t\tvec3 nearby1 = position + tangent1 * 0.1;\n\t\t\t\tvec3 nearby2 = position + tangent2 * 0.1;\n\t\t\t\tvec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tvec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\treturn displaced_position;\n\t\t\t}",[e,t])}}();var li={normalRenderTarget:new fp,normalRenderTargetDepth:new fp,transmissionRenderTarget:new fp,aspectRatio:new Ra,transmissionSize:new Ra(2048,2048),transmissionRenderTargetDepth:new fp,aoRenderTarget:new fp,aoEnabled:new Ol,pixelRatioNode:new Rn(1),resolution:new Ra,penumbraSize:new Rm(5,.5),frameIndex:new bo(0),transmissionLod:new bo(2)};for(let e of Object.values(li))e.isRenderGlobal=!0;var qk,Lq=class extends Hf{constructor(){super("basic"),this.nodeType="Basic",this.color=new ss(vd),this.shadingAlpha=new Rn(1),this.shadingBlend=new bo(0),this.previousModelViewMatrix=new dh,this.previouseProjectionMatrix=new dh}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({resolution:li.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Ev.merge([un.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","\tvNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{void 0===this.color&&(this.color=new ss(vd)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let n=this.color.flow(e,"c",{slot:"color"}),i=this.alpha?this.alpha.flow(e,"f"):void 0,r=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=void 0!==i,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join("\n"));let s=["#include <normal_fragment_begin>",n.code];i&&s.push(i.code,"#ifdef ALPHATEST"," if ( "+i.result+" <= ALPHATEST ) discard;","#endif"),o?s.push(o.code,`vec3 outgoingLight = ${n.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`):s.push(`vec3 finalColor = ${n.result};`);let a="1.0";this.mask&&(this.mask.analyze(e),a=`luminance(${this.mask.flow(e,"v3").result})`),s.push(i?`gl_FragColor = vec4( finalColor, accumAlpha * ${i.result} * ${a} );`:"gl_FragColor = vec4("+n.result+", 1.0 );"),r&&s.push(`gl_FragColor.a *= ${r.result};`),s.push("#include <fog_fragment>","#include <dithering_fragment>"),t=s.join("\n")}return t}},r4e=class extends Hf{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new ss(vd),this.emissive=new ss(0),this.emissiveIntensity=new Rn(1),this.previousModelViewMatrix=new dh,this.previouseProjectionMatrix=new dh,this.shadingAlpha=new Rn(1),this.shadingBlend=new bo(0),this.occlusion=new Ol(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({resolution:li.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Ev.merge([un.fog,un.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\n\t\t\t\t\tvec3 diffuse = vec3( 1.0 );\n\t\t\t\t\tGeometricContext geometry;\n\t\t\t\t\tgeometry.position = mvPosition.xyz;\n\t\t\t\t\tgeometry.normal = normalize( transformedNormal );\n\t\t\t\t\tgeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\t\t\t\t"),i.push("\n\t\t\t\t\tGeometricContext backGeometry;\n\t\t\t\t\tbackGeometry.position = geometry.position;\n\t\t\t\t\tbackGeometry.normal = -geometry.normal;\n\t\t\t\t\tbackGeometry.viewDir = geometry.viewDir;\n\t\t\t\t\tvLightFront = vec3( 0.0 );\n\t\t\t\t\tvIndirectFront = vec3( 0.0 );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvLightBack = vec3( 0.0 );\n\t\t\t\t\t\tvIndirectBack = vec3( 0.0 );\n\t\t\t\t\t#endif\n\t\t\t\t\tIncidentLight directLight;\n\t\t\t\t\tfloat dotNL;\n\t\t\t\t\tvec3 directLightColor_Diffuse;\n\t\t\t\t\tvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\tvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\t\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_POINT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_DIR_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_HEMI_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:li.penumbraSize}),e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({aoMap:li.aoRenderTarget}),e.mergeUniform({aoEnabled:li.aoEnabled}),void 0===this.color&&(this.color=new ss(vd)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.emissive.flow(e,"c",{slot:"emissive"}),r=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),o=this.occlusion.flow(e,"b",{slot:"occlusion"}),s=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let d=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx, viewdy));\n\t\t\t\tbool isFrontFacing = (dot(normal, faceNormal) >= 0.0);\n\t\t\t\t","#include <clipping_planes_fragment>"];d.push(n.code,"vec3 diffuseColor = "+n.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),c&&d.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),d.push("#ifdef DOUBLE_SIDED","\treflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","\treflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","\treflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","\treflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),i&&d.push(i.code,"reflectedLight.directDiffuse += "+i.result+" * "+r.result+";"),d.push("vec3 ao = aoEnabled && "+o.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${h} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${h}, ${a.result} );\n\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),l&&d.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),d.push(c?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join("\n")}return t}},R1={dHdxy:new hn("vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {\n\n            // Gradient of UVs w.r.t. X coordinate (in screen-space)\n            vec2 dSTdx = dFdx(bumpMapUv);\n\n            // Gradient of UVs w.r.t. Y coordinate (in screen-space)\n            vec2 dSTdy = dFdy(bumpMapUv);\n            \n            // Forward differencing\n            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);\n            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;\n            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;\n            \n            return vec2( dBx, dBy );\n        }"),perturbNormalArb:new hn("vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n            vec3 vSigmaX = dFdx( surf_pos.xyz );\n            vec3 vSigmaY = dFdy( surf_pos.xyz );\n            vec3 vN = surf_norm; // normalized\n            \n            vN = normalize(vN);\n\n            vec3 R1 = cross( vSigmaY, vN );\n            vec3 R2 = cross( vN, vSigmaX );\n\n            R1 = normalize(R1);\n            R2 = normalize(R2);\n    \n            float fDet = dot( vSigmaX, R1 ) * faceDirection;\n    \n            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n            return normalize( abs( fDet ) * vN - vGrad );\n        }")},o4e=class extends Hf{constructor(){super("phong"),this.nodeType="Phong",this.color=new ss(vd),this.specular=new ss(1118481),this.shininess=new Rn(30),this.previousModelViewMatrix=new dh,this.previouseProjectionMatrix=new dh,this.shadingAlpha=new Rn(1),this.shadingBlend=new bo(0),this.occlusion=new Ol(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({resolution:li.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Ev.merge([un.fog,un.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = objectNormal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:li.penumbraSize}),e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({aoMap:li.aoRenderTarget}),e.mergeUniform({aoEnabled:li.aoEnabled}),void 0===this.color&&(this.color=new ss(vd)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let n=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let i=this.color.flow(e,"c",{slot:"color"}),r=this.specular.flow(e,"c"),o=this.shininess.flow(e,"f"),s=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let d=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tBlinnPhongMaterial material;"];if(this.bumpMap){e.include(R1.dHdxy),e.include(R1.perturbNormalArb);let f=this.bumpMap.texture.flow(e,"t"),v=this.bumpMap.flow(e,"v3"),y=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",b="";b=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${f.result}, uv0, ${y});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${f.result}, uv1, ${y});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${f.result}, uv2, ${y});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${f.result}, bumpMapCachedUv, ${y});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,d.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${v.result};\n\t\t\t\t\t${b}\n\t\t\t\t\t`)}d.push(i.code,"\tvec3 diffuseColor = "+i.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","\tvec3 totalEmissiveRadiance = emissive;",r.code,"\tvec3 specular = "+r.result+";",o.code,"\tfloat shininess = max( 0.0001, "+o.result+" );","\tfloat specularStrength = 1.0;"),c&&d.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),d.push("material.diffuseColor = diffuseColor;"),d.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),d.push("vec3 ao = aoEnabled && "+n.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${h} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${h}, ${a.result} );\n\t\t\t\t\t\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),l&&d.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),d.push(c?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result});`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join("\n")}return t}},s4e=class extends Hf{constructor(){super("standard"),this.nodeType="Standard",this.color=new ss(vd),this.roughness=new Rn(.3),this.metalness=new Rn(0),this.reflectivity=new Rn(.5),this.previousModelViewMatrix=new dh,this.previouseProjectionMatrix=new dh,this.shadingAlpha=new Rn(1),this.shadingBlend=new bo(0),this.occlusion=new Ol(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({resolution:li.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Ev.merge([un.fog,un.lights])),un.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:li.penumbraSize}),e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({aoMap:li.aoRenderTarget}),e.mergeUniform({aoEnabled:li.aoEnabled});let n={gamma:!0};void 0===this.color&&(this.color=new ss(vd)),this.color.analyze(e,{slot:"color",context:n}),this.roughness.analyze(e),this.metalness.analyze(e);let i=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let r=this.color.flow(e,"c",{slot:"color",context:n}),o=this.roughness.flow(e,"f"),s=this.metalness.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,u=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,h=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=void 0!==u,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join("\n"));let f=["#include <clipping_planes_fragment>","\t#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tPhysicalMaterial material;","\tmaterial.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(R1.dHdxy),e.include(R1.perturbNormalArb);let y=this.bumpMap.texture.flow(e,"t"),b=this.bumpMap.flow(e,"v3"),w=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",O="";O=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${y.result}, uv0, ${w});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${y.result}, uv1, ${w});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${y.result}, uv2, ${w});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${y.result}, bumpMapCachedUv, ${w});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${b.result};\n\t\t\t\t\t${O}\n\t\t\t\t\t`)}if(f.push(r.code,"\tvec3 diffuseColor = "+r.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",s.code,"\tfloat metalnessFactor = "+s.result+";"),this.roughnessMap){let y=this.roughnessMap.texture.flow(e,"t"),b=this.roughnessMap.flow(e,"v3"),w="";w=4===this.roughnessMap.projection.value?`\n\t\t\t\t\tfloat roughnessChange = 1.0;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tfloat r0 = luminance(texture(${y.result}, uv0).rgb) * roughnessScale;\n\t\t\t\t\t\tfloat r1 = luminance(texture(${y.result}, uv1).rgb) * roughnessScale;\n\t\t\t\t\t\tfloat r2 = luminance(texture(${y.result}, uv2).rgb) * roughnessScale;\n\n\t\t\t\t\t\troughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);\n\t\t\t\t\t}\n\t\t\t\t\tfloat roughnessFactor = roughnessChange * ${o.result};\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\n\t\t\t\t\tvec4 vals = texture(${y.result},  roughnessMapCachedUv);\n\t\t\t\t\tfloat roughnessFactor = luminance(vals.rgb) * ${o.result};\n\t\t\t\t\t`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${b.result};\n\n\t\t\t\t\tconst float roughnessScale = 1.0;\n\n\t\t\t\t\t${w}\n\t\t\t\t`)}else f.push(o.code,"\tfloat roughnessFactor = "+o.result+";");u&&f.push(u.code,"#ifdef ALPHATEST","\tif ( "+u.result+" <= ALPHATEST ) discard;","#endif"),f.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),f.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),h?f.push(h.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+h.result+" ) ), diffuseColor, metalnessFactor );"):f.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),f.push("#include <lights_fragment_begin>"),f.push("#include <lights_fragment_end>"),f.push("vec3 ao = aoEnabled && "+i.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let v="1.0";this.mask&&(this.mask.analyze(e),v=`luminance(${this.mask.flow(e,"v3").result})`),f.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${v} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${v}, ${l.result} );\n\t\t\t\t\t\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),c&&f.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),f.push(u?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${u.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&f.push(`gl_FragColor.a *= ${d.result};`),f.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=f.join("\n")}return t}},a4e=class extends Hf{constructor(){super("toon"),this.nodeType="Toon",this.color=new ss(vd),this.specular=new ss(1118481),this.shininess=new Rn(30),this.previousModelViewMatrix=new dh,this.previouseProjectionMatrix=new dh,this.shadingAlpha=new Rn(1),this.shadingBlend=new bo(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({resolution:li.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(Ev.merge([un.fog,un.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let i=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&i.push(n.code,n.result?"displaced_position = "+n.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("\t#include <project_vertex>","\t#include <fog_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join("\n")}else{e.mergeUniform({penumbraSize:li.penumbraSize}),e.mergeUniform({frameIndex:li.frameIndex}),e.mergeUniform({aoMap:li.aoRenderTarget}),e.mergeUniform({aoEnabled:li.aoEnabled}),void 0===this.color&&(this.color=new ss(vd)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),r=this.shininess.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0,c=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==l,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>","\n\t\t\t\t\tvarying vec3 vViewPosition;\n\t\t\t\t\tstruct ToonMaterial {\n\t\t\t\t\t\tvec3\tdiffuseColor;\n\t\t\t\t\t\tvec3\tspecularColor;\n\t\t\t\t\t\tfloat\tspecularShininess;\n\t\t\t\t\t\tfloat\tspecularStrength;\n\t\t\t\t\t};\n\t\t\t\t\tvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t\t\t\n\t\t\t\t\t\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n\t\t\t\t\t}\n\t\t\t\t\tvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t}\n\t\t\t\t\t#define RE_Direct\t\t\t\tRE_Direct_Toon\n\t\t\t\t\t#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n\t\t\t\t\t#define Material_LightProbeLOD( material )\t(0)\n\t\t\t\t\t","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join("\n"));let u=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tToonMaterial material;"];if(this.bumpMap){e.include(R1.dHdxy),e.include(R1.perturbNormalArb);let h=this.bumpMap.texture.flow(e,"t"),f=this.bumpMap.flow(e,"v3"),v=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",y="";y=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${h.result}, uv0, ${v});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${h.result}, uv1, ${v});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${h.result}, uv2, ${v});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${h.result}, bumpMapCachedUv, ${v});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,u.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${f.result};\n\t\t\t\t\t${y}\n\t\t\t\t\t`)}u.push(n.code,"\tvec3 diffuseColor = "+n.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",i.code,"\tvec3 specular = "+i.result+";",r.code,"\tfloat shininess = max( 0.0001, "+r.result+" );","\tfloat specularStrength = 1.0;"),l&&u.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),u.push("material.diffuseColor = diffuseColor;"),u.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),u.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let d="1.0";this.mask&&(this.mask.analyze(e),d=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${d} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${d}, ${s.result} );\n\t\t\t\t}\n\t\t\t\t`),a&&u.push(a.code,`outgoingLight = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`),u.push(l?`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`:"gl_FragColor = vec4( outgoingLight, 1.0 );"),c&&u.push(`gl_FragColor.a *= ${c.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join("\n")}return t}},l4e=class{constructor(e=1e4){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){return this.cache.get(e)?.data}load(e){let t=Date.now(),n=this.cache.get(e);return void 0===n?(n={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,n)):(n.time=t,n.prev.next=n.next,n.next.prev=n.prev),n.prev=this.tail.prev,n.next=this.tail,this.tail.prev.next=n,this.tail.prev=n,this.scheduleCleanup(),n.data}},c4e=class extends l4e{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},u4e=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount-=1,0===this.refCount&&(this.cache.remove(this),this.dispose())}dispose(){}},h4e=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return void 0===t&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},Bq=class extends u4e{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isVideo="video"===e.type,this.updateSrc(e.data)}updateSrc(e){var t=this;return(0,gs.Z)(function*(){if(typeof document>"u")return;t.disposeTextures(),t.loaded=!1;let n=()=>{t.loaded=!0;let r=[1e3,1001,1002];for(let o of r){let s=t[o];s&&(s.image=t.img,s.needsUpdate=!0)}t.shared.requestRender()};if(t.isVideo){if(t.img=document.createElement("video"),t.img.preload="auto",t.img.playsInline=!0,t.img.currentTime=.01,"string"!=typeof e){var i=new FileReader;let r;i.readAsDataURL(new Blob([e],{type:"video/mp4"})),yield new Promise(o=>{i.onloadend=s=>{r=s.target?.result,o(null)}}),t.img.src=r}else t.img.src=e;t.img.onloadeddata=()=>{n()}}else t.img=new Image,t.img.src=function d4e(e){return"string"==typeof e?e:(qk||(qk=new c4e),qk.load(e))}(e),t.img.onload=n})()}getTexture(e){let t=this[e];if(t)return t;{let n;return n=this.isVideo?new lwe(this.img,void 0,e,e):new na(this.img,void 0,e,e),this.loaded&&(n.needsUpdate=!0),this[e]=n,n}}disposeTextures(){this[1e3]?.dispose(),this[1e3]=void 0,this[1001]?.dispose(),this[1001]=void 0,this[1002]?.dispose(),this[1002]=void 0}dispose(){super.dispose(),this.disposeTextures()}},Fm=class extends Bq{};var f4e={year:0,month:1,day:2,hour:3,minute:4,second:5},Yk={};function zq(e,t,n,i,r,o,s){var a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(i,r,o,s),a}var Uq=36e5,y4e=6e4,Xk={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function jq(e,t,n){var i,r,o;if(!e||(i=Xk.timezoneZ.exec(e)))return 0;if(i=Xk.timezoneHH.exec(e))return Vq(o=parseInt(i[1],10))?-o*Uq:NaN;if(i=Xk.timezoneHHMM.exec(e)){o=parseInt(i[1],10);var s=parseInt(i[2],10);return Vq(o,s)?(r=Math.abs(o)*Uq+s*y4e,o>0?-r:r):NaN}if(function x4e(e){if(Hq[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Hq[e]=!0,!0}catch{return!1}}(e)){t=new Date(t||Date.now());var a=n?t:function b4e(e){return zq(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),l=$k(a,e),c=n?l:function _4e(e,t,n){var r=e.getTime()-t,o=$k(new Date(r),n);if(t===o)return t;r-=o-t;var s=$k(new Date(r),n);return o===s?o:Math.max(o,s)}(t,l,e);return-c}return NaN}function $k(e,t){var n=function p4e(e,t){var n=function v4e(e){if(!Yk[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));Yk[e]="06/25/2014, 00:00:00"===t||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===t?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Yk[e]}(t);return n.formatToParts?function g4e(e,t){try{for(var n=e.formatToParts(t),i=[],r=0;r<n.length;r++){var o=f4e[n[r].type];o>=0&&(i[o]=parseInt(n[r].value,10))}return i}catch(s){if(s instanceof RangeError)return[NaN];throw s}}(n,e):function m4e(e,t){var n=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[i[3],i[1],i[2],i[4],i[5],i[6]]}(n,e)}(e,t),i=zq(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=e.getTime(),o=r%1e3;return i-(r-(o>=0?o:1e3+o))}function Vq(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var Hq={},w4e=ma(W0e(),1),Gq=ma(q0e(),1),Kk=36e5,Wq=6e4,P4e=2,Sl={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function qq(e,t,n){t=t||0,n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var o=7*t+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+o),i}var T4e=[31,28,31,30,31,30,31,31,30,31,30,31],k4e=[31,29,31,30,31,30,31,31,30,31,30,31];function Yq(e){return e%400==0||e%4==0&&e%100!=0}function Xq(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var i=Yq(e);if(i&&n>k4e[t]||!i&&n>T4e[t])return!1}return!0}function $q(e,t,n){return!(t<0||t>52||null!=n&&(n<0||n>6))}function Qk(e,t,n){return!(null!=e&&(e<0||e>=25)||null!=t&&(t<0||t>=60)||null!=n&&(n<0||n>=60))}function El(e,t){return t.color(e)}function Kq(e=new Date,t){let n=t.format,i=e.getSeconds(),r=e;t&&null!==t.timeZone&&(r=function R4e(e,t,n){var i=function O4e(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},i=null==n.additionalDigits?P4e:(0,w4e.default)(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r=function S4e(e){var i,t={},n=Sl.dateTimePattern.exec(e);if(n?(t.date=n[1],i=n[3]):(n=Sl.datePattern.exec(e))?(t.date=n[1],i=n[2]):(t.date=null,i=e),i){var r=Sl.timeZone.exec(i);r?(t.time=i.replace(r[1],""),t.timeZone=r[1].trim()):t.time=i}return t}(e),o=function E4e(e,t){var r,n=Sl.YYY[t],i=Sl.YYYYY[t];if(r=Sl.YYYY.exec(e)||i.exec(e)){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(r=Sl.YY.exec(e)||n.exec(e)){var s=r[1];return{year:100*parseInt(s,10),restDateString:e.slice(s.length)}}return{year:null}}(r.date,i),l=function D4e(e,t){if(null===t)return null;var n,i,r,o;if(0===e.length)return(i=new Date(0)).setUTCFullYear(t),i;if(n=Sl.MM.exec(e))return i=new Date(0),Xq(t,r=parseInt(n[1],10)-1)?(i.setUTCFullYear(t,r),i):new Date(NaN);if(n=Sl.DDD.exec(e)){i=new Date(0);var s=parseInt(n[1],10);return function I4e(e,t){if(t<1)return!1;var n=Yq(e);return!(n&&t>366||!n&&t>365)}(t,s)?(i.setUTCFullYear(t,0,s),i):new Date(NaN)}if(n=Sl.MMDD.exec(e)){i=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return Xq(t,r,a)?(i.setUTCFullYear(t,r,a),i):new Date(NaN)}if(n=Sl.Www.exec(e))return $q(0,o=parseInt(n[1],10)-1)?qq(t,o):new Date(NaN);if(n=Sl.WwwD.exec(e)){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return $q(0,o,l)?qq(t,o,l):new Date(NaN)}return null}(o.restDateString,o.year);if(isNaN(l))return new Date(NaN);if(l){var d,c=l.getTime(),u=0;if(r.time&&(u=function A4e(e){var t,n,i;if(t=Sl.HH.exec(e))return Qk(n=parseFloat(t[1].replace(",",".")))?n%24*Kk:NaN;if(t=Sl.HHMM.exec(e))return Qk(n=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")))?n%24*Kk+i*Wq:NaN;if(t=Sl.HHMMSS.exec(e)){n=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return Qk(n,i,r)?n%24*Kk+i*Wq+1e3*r:NaN}return null}(r.time),isNaN(u)))return new Date(NaN);if(r.timeZone||n.timeZone){if(d=jq(r.timeZone||n.timeZone,new Date(c+u)),isNaN(d))return new Date(NaN)}else d=(0,Gq.default)(new Date(c+u)),d=(0,Gq.default)(new Date(c+u+d));return new Date(c+u+d)}return new Date(NaN)}(e,n),r=jq(t,i,!0),o=new Date(i.getTime()-r),s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}(new Date,t.timeZone));let a,o=r.getHours(),s=r.getMinutes();"12ampm"===t.format12h24h&&(a=o>=12?"PM":"AM");let c,u,l=o;switch("24"!==t.format12h24h&&(l=o%12,0===l&&(l=12)),n){case"HH:mm:ss":c=[l,s,i];break;case"HH:mm":c=[l,s];break;case"HH":c=[l],a=void 0;break;case"mm":c=[s],a=void 0;break;case"ss":c=[i],a=void 0;break;case"year":u=r.getFullYear();break;case"month":u=r.getMonth()+1;break;case"dayOfYear":u=Math.floor((r.getTime()-new Date(r.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":u=r.getDate();break;case"secondOfDay":u=60*o*60+60*s+i;break;default:console.error("Unknown time format",n),u=0}return void 0!==c?{textValue:c,suffix:a}:u}function F4e(e){return{type:e.type}}function iu(e,t){let{alpha:n,mode:i,isMask:r}=e,o="string"==typeof n?(Number(t.getVariable(n))??100)/100:n;return{...F4e(e),alpha:o,mode:i,isMask:r}}var XP=class extends nc{},Qq={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},Zq={depth:["colors"]};function X4e(e,t,n){if("isMask"===t)return!0;let i=Qq[e.type],r=Zq[e.type];if(void 0!==r){let o=e.color;if(r.includes(t)){let s=o[t]?.value?.length;if(void 0!==s&&s!==n.length)return!0}}return void 0!==i&&i.includes(t)}function Jq(e,t,n){let i=n.uniforms[`f${n.id}_texture`];if(!i)return!1;let o=e;if("image"in o){let a=t.image(o.image),l=i;l.image instanceof Fm||l.image.deref(),l.image=a}if("video"in o){let a=t.video(o.video),l=i;l.image instanceof Fm||l.image.deref(),l.image=a}if("wrapping"in o&&(i.wrap=o.wrapping),"repeat"in o||"offset"in o){let a=n.uniforms[`f${n.id}_mat`];"repeat"in o&&(a.repeat=o.repeat),"offset"in o&&(a.offset=o.offset),a.updateMatrix()}return!1}var Lm=(e,t,n)=>Math.max(0,Math.min(1,Number(t.getVariable("number"==typeof e?100*e:e,n)??100)/100))??1,Bm=class{constructor(e,t,n,i,r){this.id=e,this.uuid=t,this.data=n,this.uniforms={};for(let o in i)this.uniforms[`f${this.id}_${o}`]=i[o];for(let o in n)tY(o,this,n,r)}get type(){return this.data.type}static create(e,t,n,i){if("light"===n.type)return vp.createLigherLayer(e,t,n,i);if("texture"===n.type||"video"===n.type){let r="texture"===n.type?i.image(n.texture.image):i.video(n.texture.video),o=new jk(r,n.texture.wrapping),s=new JIe(r),a=new e4e(n.texture.repeat,n.texture.offset),l=new Rn(n.crop?1:0),c=new bo(n.projection??0),u=new bo(["x","y","z"].indexOf(n.axis)??0),d=new bo(n.side??0),h=new Ra(n.size?new Ve(n.size[0],n.size[1]):new Ve(100,100)),f=new Rn(n.blending??0),v=new Rn(Lm(n.alpha,i)),y=new bo(n.mode??0),b=new Ol(n.isMask??!1),w=new Hk(o,s,l,c,u,d,h,f,a,v,y,b),O=new Ao(w.calpha,"f");return new as(e,t,n,{texture:o,textureSize:s,crop:l,projection:c,axis:u,side:d,size:h,blending:f,mat:a,alpha:v,mode:y,isMask:b},w,y,O,b,i)}if("matcap"===n.type){let r=i.image(n.texture.image),o=new jk(r,n.texture.wrapping),s=new Rn(Lm(n.alpha,i)),a=new bo(n.mode??0),l=new Ol(n.isMask??!1),c=new Mq(o,s,a,l),u=new Ao(c.calpha,"f");return new as(e,t,n,{texture:o,alpha:s,mode:a,isMask:l},c,a,u,l,i)}if("displace"===n.type){if("noise"===n.displacementType){let r=new yd(new re(...n.offset)),o=new Rn(n.scale??10),s=new Rn(n.intensity??8),a=new Rn(n.movement??1),l=new bo(n.noiseType??0),c=new bo(n.voronoiStyle??0),u=new Rn(n.smoothness??.5),d=new Rn(n.seed??0),h=new Rn(n.highCut??1),f=new Rn(n.lowCut??0),v=new bo(n.quality??1),y=new Fq(s,a,r,c,u,d,h,f,v,o,l);return new eY(e,t,n,{offset:r,scale:o,intensity:s,movement:a,noiseType:l,voronoiStyle:c,smoothness:u,seed:d,highCut:h,lowCut:f,quality:v},y,i)}throw new Error}return function Z4e(e,t,n,i){let r=function N4e(e,t){switch(e.type){case"fresnel":return function B4e(e,t){let{bias:n,scale:i,intensity:r,factor:o,color:s}=e;return{...iu(e,t),color:El(s,t),bias:n,scale:i,intensity:r,factor:o}}(e,t);case"gradient":return function z4e(e,t){let{gradientType:n,smooth:i,colors:r,steps:o,angle:s,offset:a,morph:l}=e;return{...iu(e,t),gradientType:n,smooth:i,colors:r.map(c=>new ji(c[0],c[1],c[2],c[3])),num:r.length,steps:o,offset:new Ve(...a),morph:new Ve(...l),angle:s}}(e,t);case"depth":return function U4e(e,t){let{gradientType:n,near:i,far:r,isVector:o,isWorldSpace:s,origin:a,direction:l,colors:c,steps:u,smooth:d}=e;return{...iu(e,t),gradientType:n,near:i,far:r,isVector:o,isWorldSpace:s,origin:new re(...a),direction:l?new re(...l):new re(1,0,0),colors:c.map(h=>void 0!==h?new ji(h[0],h[1],h[2],h[3]):new ji(0,0,0,0)),steps:u.slice(0,c.length),smooth:d}}(e,t);case"normal":return function j4e(e,t){let{cnormal:n}=e;return{...iu(e,t),cnormal:new re(n[0],n[1],n[2])}}(e,t);case"noise":return function V4e(e,t){return{...iu(e,t),scale:e.scale,move:e.move,fA:new Ve(...e.fA),fB:new Ve(...e.fB),size:new re(...e.size),distortion:new Ve(...e.distortion),colorA:El(e.colorA,t),colorB:El(e.colorB,t),colorC:El(e.colorC,t),colorD:El(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality}}(e,t);case"rainbow":return function H4e(e,t){return{...iu(e,t),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new re(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new re(...e.offset)}}(e,t);case"toon":return function G4e(e,t){return{...iu(e,t),positioning:e.positioning,colors:e.colors.map(n=>new ji(n[0],n[1],n[2],n[3])),num:e.colors.length,steps:e.steps,source:new re(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:El(e.shadowColor,t),offset:new re(...e.offset)}}(e,t);case"outline":return function W4e(e,t){return{...iu(e,t),outlineColor:El(e.outlineColor,t),contourColor:El(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new re(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation}}(e,t);case"transmission":return function q4e(e,t){return{...iu(e,t),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}(e,t);case"color":return function L4e(e,t){return{...iu(e,t),color:El(e.color,t)}}(e,t);case"pattern":return function Y4e(e,t){return{...iu(e,t),style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new Ve(...e.offset),colorA:El(e.colorA,t),colorB:El(e.colorB,t),frequency:new Ve(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new Ve(...e.vertical),horizontal:new Ve(...e.horizontal),sides:e.sides}}(e,t)}}(n,i);return function Q4e(e,t,n,i,r){switch(e.type){case"color":{let o=new ss(i.color??vd),s=bd(i),a=new Vk(o,s.alpha),l=new Ao(a.calpha,"f");return new as(t,n,e,{color:o,...s},a,s.mode,l,s.isMask,r)}case"fresnel":{let o=new ss(i.color??16777215),s=new Rn(i.bias??.1),a=new Rn(i.scale??1),l=new Rn(i.intensity??2),c=new Rn(i.factor??1),u=bd(i),d=new t4e(o,s,a,l,c,u.alpha,u.mode,u.isMask),h=new Ao(d.calpha,"f");return new as(t,n,e,{color:o,bias:s,scale:a,intensity:l,factor:c,...u},d,u.mode,h,u.isMask,r)}case"rainbow":{let o=new Rn(i.filmThickness??30),s=new Rn(i.movement??0),a=new yd(i.wavelengths??new re(0,0,0)),l=new Rn(i.noiseStrength??0),c=new Rn(i.noiseScale??1),u=new yd(i.offset??new re(0,0,0)),d=bd(i),h=new Aq(o,s,a,l,c,u,d.alpha,d.isMask),f=new Ao(h.calpha,"f");return new as(t,n,e,{filmThickness:o,movement:s,wavelengths:a,noiseStrength:l,noiseScale:c,offset:u,...d},h,d.mode,f,d.isMask,r)}case"transmission":{let o=new Rn(i.thickness??10),s=new Rn(i.ior??1.5),a=new Rn(i.roughness??.5),l=li.transmissionSize,c=li.transmissionRenderTarget,u=li.transmissionRenderTargetDepth,d=window.innerWidth,h=window.innerHeight,f=d>=h?new Ra(h/d,1):new Ra(1,d/h),v=bd(i),y=new Rq(o,s,a,l,c,u,f,v.alpha),b=new Ao(y.calpha,"f");return new as(t,n,e,{thickness:o,ior:s,roughness:a,aspectRatio:f,...v},y,v.mode,b,v.isMask,r)}case"toon":{let s,a,o=new bo(i.positioning??0);i.colors?s=new Nm(i.colors.length,i.colors):(s=new Nm(10,new ji(0,0,0,1)),s.value[1]=new ji(1,1,1,1)),i.steps?a=new Rm(i.steps.length,i.steps):(a=new Rm(10,1),a.value[0]=0);let l=new yd(i.source??new re(0,0,0)),c=new Ol(i.isWorldSpace??!0),u=new Rn(i.noiseStrength??0),d=new Rn(i.noiseScale??1),h=new pp(i.shadowColor),f=new yd(i.offset??new re(0,0,0)),v=bd(i),y=new kq(o,s,a,l,c,u,d,h,f,v.alpha),b=new Ao(y.calpha,"f");return new as(t,n,e,{positioning:o,colors:s,steps:a,source:l,isWorldSpace:c,noiseStrength:u,noiseScale:d,shadowColor:h,offset:f,...v},y,v.mode,b,v.isMask,r)}case"outline":{let o=new ss(i.outlineColor??16777215),s=new ss(i.contourColor??16777215),a=new Rn(i.outlineWidth??.1),l=new Rn(i.contourWidth??.1),c=new Rn(i.outlineThreshold??.1),u=new Rn(i.contourThreshold??.1),d=new Rn(i.outlineSmoothing??.1),h=new Rn(i.contourFrequency??.1),f=new yd(i.contourDirection??new re(0,1,0)),v=new Ol(i.positionalLines??!1),y=new Ol(i.compensation??!0),b=li.normalRenderTarget,w=li.normalRenderTargetDepth,O=li.pixelRatioNode,S=li.resolution,D=bd(i),V=new Sq(o,s,a,l,c,u,d,h,f,v,y,S,b,w,O,D.alpha),Y=new Ao(V.calpha,"f");return new as(t,n,e,{outlineColor:o,contourColor:s,outlineWidth:a,contourWidth:l,outlineThreshold:c,contourThreshold:u,outlineSmoothing:d,contourFrequency:h,contourDirection:f,positionalLines:v,compensation:y,...D},V,D.mode,Y,D.isMask,r)}case"depth":{let f,v,o=new bo(i.gradientType??0),s=new Ol(i.smooth??!1),a=new Rn(i.near??50),l=new Rn(i.far??200),c=new Rn(i.isVector??1),u=new Rn(i.isWorldSpace??0),d=new yd(i.origin??new re),h=new yd(i.direction??new re);i.colors?f=new Nm(i.colors.length,i.colors):(f=new Nm(2,new ji(0,0,0,1)),f.value[1]=new ji(1,1,1,1)),i.steps?v=new Rm(i.steps.length,i.steps):(v=new Rm(2,1),v.value[0]=0);let y=bd(i),b=new _q(o,s,a,l,c,u,d,h,f,v,y.alpha,y.isMask),w=new Ao(b.calpha,"f");return new as(t,n,e,{gradientType:o,smooth:s,near:a,far:l,isVector:c,isWorldSpace:u,origin:d,direction:h,colors:f,steps:v,...y},b,y.mode,w,y.isMask,r)}case"noise":{let o=new Rn(i.scale??1),s=new yd(i.size??new re(100,100,100)),a=new Rn(i.move??1),l=new Ra(i.fA??new Ve(1.7,9.2)),c=new Ra(i.fB??new Ve(8.3,2.8)),u=new Ra(i.distortion??new Ve(1,1)),d=new pp(i.colorA),h=new pp(i.colorB),f=new pp(i.colorC),v=new pp(i.colorD),y=new bo(i.noiseType??0),b=new bo(i.voronoiStyle??0),w=new Rn(i.highCut??1),O=new Rn(i.lowCut??0),S=new Rn(i.smoothness??.5),D=new Rn(i.seed??.5),V=new bo(i.quality??1),Y=bd(i),q=new Pq(o,s,a,l,c,u,d,h,f,v,Y.alpha,y,Y.isMask,b,w,O,S,D,V),K=new Ao(q.calpha,"f");return new as(t,n,e,{scale:o,size:s,move:a,fA:l,fB:c,distortion:u,colorA:d,colorB:h,colorC:f,colorD:v,noiseType:y,...Y,voronoiStyle:b,highCut:w,lowCut:O,smoothness:S,seed:D,quality:V},q,Y.mode,K,Y.isMask,r)}case"normal":{let o=new yd(i.cnormal??new re(1,1,1)),s=bd(i),a=new bq(o,s.alpha),l=new Ao(a.calpha,"f");return new as(t,n,e,{cnormal:o,...s},a,s.mode,l,s.isMask,r)}case"gradient":{let a,l,o=new bo(i.gradientType??0),s=new Ol(i.smooth??!1);i.colors?a=new Nm(i.colors.length,i.colors):(a=new Nm(10,new ji(0,0,0,1)),a.value[1]=new ji(1,1,1,1)),i.steps?l=new Rm(i.steps.length,i.steps):(l=new Rm(10,1),l.value[0]=0);let c=new Ra(i.offset??new Ve(0,0)),u=new Ra(i.morph??new Ve(0,0)),d=new Rn(i.angle??0),h=bd(i),f=new wq(o,s,a,l,c,u,d,h.alpha,h.isMask),v=new Ao(f.calpha,"f");return new as(t,n,e,{gradientType:o,smooth:s,colors:a,steps:l,offset:c,morph:u,angle:d,...h},f,h.mode,v,h.isMask,r)}case"pattern":{let o=new bo(i.style??0),s=new bo(i.projection??0),a=new bo(["x","y","z"].indexOf(i.axis)??0),l=new Rn(i.blending??0),c=new Ra(i.offset??new Ve(0,0)),u=new pp(i.colorA),d=new pp(i.colorB),h=new Ra(i.frequency??new Ve(10,10)),f=new Rn(i.size??.5),v=new Rn(i.variation??0),y=new Rn(i.smoothness??.5),b=new Rn(i.zigzag??0),w=new Rn(i.rotation??0),O=new Ra(i.vertical??new Ve(0,1)),S=new Ra(i.horizontal??new Ve(0,1)),D=new bo(i.sides??6),V=bd(i),Y=new Eq(o,s,a,l,c,u,d,h,f,v,y,b,w,O,S,D,V.alpha,V.isMask),q=new Ao(Y.calpha,"f");return new as(t,n,e,{style:o,projection:s,axis:a,blending:l,offset:c,colorA:u,colorB:d,frequency:h,size:f,variation:v,smoothness:y,zigzag:b,rotation:w,vertical:O,horizontal:S,sides:D,...V},Y,V.mode,q,V.isMask,r)}default:{let o=new ss(1,0,0,1),s=bd(i),a=new Vk(o,s.alpha),l=new Ao(a.calpha,"f");return new as(t,n,e,{color:o,...s},a,s.mode,l,s.isMask,r)}}}(n,e,t,r,i)}(e,t,n,i)}updateByOp(e,t,n){let i=e;if(void 0===i.path[0]){if(0===i.type)return"type"in i.props||"category"in i.props||"visible"in i.props?(n.scene.markNeedsUpdateRendererDirty(),!0):function $4e(e,t,n,i){let r=!1;for(let[o,s]of Object.entries(e)){if("bumpMap"===o||"roughnessMap"===o){r=!0;continue}if(!o||void 0===s)continue;if(tY(o,n,i,t)){"visible"===o&&"light"===n.type&&(r=!0);continue}n.visible=i.visible;let a=n.uniforms[`f${n.id}_${o}`];if(a&&!(a instanceof Uk))switch(r=r||X4e(n,o,s),a.constructor){case ss:if("string"==typeof s){let l=t.getColor(s);l&&(a.value=l);break}{let l=s;a.value instanceof XP?a.value=new nc(l.r,l.g,l.b,l.a):a.setRGBA(l);break}case pp:if("string"==typeof s){let l=t.getColor(s);l&&(a.value=l);break}{let l=s;a.value instanceof XP?a.value=new nc(l.r,l.g,l.b,l.a):a.value.setRGBA(l.r,l.g,l.b,l.a);break}case Ra:{let l=s;a.value.setX(l[0]),a.value.setY(l[1]);break}case yd:{let l=s;a.value.setX(l[0]),a.value.setY(l[1]),a.value.setZ(l[2]);break}case fp:Jq(s,t,n);break;case Nm:a.value=s.map(l=>new ji(...l));break;default:a.value=s}}return r}(i.props,n.shared,this,t)}else if("texture"===i.path[0])return!("texture"in t)&&!("video"in t)||Jq(i.props,n.shared,this);return!1}dispose(){if(function K4e(e){let t=e instanceof Bm?e.type:e;return"texture"===t||"video"===t||"displace_map"===t||"matcap"===t}(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;e.image instanceof Fm||e.image.deref()}}hasValueByKey(e){return void 0!==this.uniforms[e]}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let n=`f${this.id}_${e}`;this.hasValueByKey(n)&&void 0!==t&&(this.uniforms[n].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let n=this.getName(t);n&&e.push(n)}return e}},as=class extends Bm{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,l),this.params=i,this.color=r,this.mode=o,this.alpha=s,this.isMask=a}},eY=class extends Bm{constructor(e,t,n,i,r,o){super(e,t,n,i,o),this.position=r}},vp=class extends Bm{constructor(e,t,n,i,r,o){super(e,t,n,r,o),this.node=i}static createLigherLayer(e,t,n,i){let r,c,o=new Rn(Lm(n.alpha,i)),s=new bo(n.mode),a=new Rn(n.bumpMapIntensity),l=new Rn(Lm(n.alphaOverride,i));if(n.visible)if("lambert"===n.category){r=new r4e;let u=new ss(i.color(n.emissive)??0),d=new Ol(n.occlusion??!0);c={emissive:u,occlusion:d},r.emissive=u,r.occlusion=d}else if("toon"===n.category){r=new a4e;let u=new Rn(n.shininess??30),d=new ss(i.color(n.specular)??1118481);c={shininess:u,specular:d},r.shininess=u,r.specular=d}else if("physical"===n.category){r=new s4e;let u=new Rn(n.roughness??.3),d=new Rn(n.metalness??0),h=new Rn(n.reflectivity??.5),f=new Ol(n.occlusion??!0);c={roughness:u,metalness:d,reflectivity:h,occlusion:f},r.roughness=u,r.metalness=d,r.reflectivity=h,r.occlusion=f}else{r=new o4e;let u=new Rn(n.shininess??30),d=new ss(void 0!==n.specular?i.color(n.specular)??1118481:1118481),h=new Ol(n.occlusion??!0);c={shininess:u,specular:d,occlusion:h},r.shininess=u,r.specular=d,r.occlusion=h}else r=new Lq,c={};return r.alpha=new Rn(1),r.shadingAlpha=o,r.shadingBlend=s,r.bumpMapIntensity=a,r.alphaOverride=l,c.alpha=r.shadingAlpha,c.mode=r.shadingBlend,c.bumpMapIntensity=r.bumpMapIntensity,c.alphaOverride=r.alphaOverride,new vp(e,t,n,r,c,i)}get category(){return this.node.category}};function bd(e){return{alpha:new Rn(e.alpha??1),mode:new bo(e.mode??0),isMask:new Ol(e.isMask??!1)}}function tY(e,t,n,i){if("displace"===n.type&&("intensity"===e||"visible"===e)){let r=t.uniforms[`f${t.id}_intensity`];return r?(r.value=n.intensity*(n.visible?1:0),r):void 0}if("displace"!==n.type&&("alpha"===e||"visible"===e)){let r=t.uniforms[`f${t.id}_alpha`];if(!r)return;if(r.value=Lm(n.alpha,i)*(n.visible?1:0),"outline"===n.type&&"visible"===e){let o=t.uniforms[`f${t.id}_compensation`];o&&(o.value=n.compensation&&n.visible)}return r}}function N1(e,t){let n=0,i=e.layers.find(r=>"light"===r.data.type);if(i){let r=i.data,o=Number(t.getVariable(r.alphaOverride));if(("string"==typeof r.alphaOverride?o/100:r.alphaOverride)<1)return!0}for(let r of e.layers){if("displace"!==r.data.type&&r.data.isMask)return!0;if("displace"!==r.data.type&&"alpha"in r.data&&"light"!==r.data.type&&"fresnel"!==r.data.type&&"texture"!==r.data.type&&"matcap"!==r.data.type&&"rainbow"!==r.data.type&&"outline"!==r.data.type&&"pattern"!==r.data.type){let o=r.data.visible?r.data.alpha:0;if("string"==typeof o&&(o=Math.max(0,Math.min(1,Number(t.getVariable(o)??100)/100))),1===o&&"depth"===r.data.type||"gradient"===r.data.type){for(let s of r.data.colors)if(s[3]<1){o=s[3];break}}else if(1===o&&"noise"===r.data.type){let s=t.color(r.data.colorA).a,a=t.color(r.data.colorB).a,l=t.color(r.data.colorC).a,c=t.color(r.data.colorD).a,u=Math.min(s,Math.min(a,Math.min(l,c)));u<1&&(o=u)}n+=(1-n)*o}}return n<1}var Gf=class extends vo{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.cacheKey="",this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return this.cacheKey}},J4e=class extends Gf{constructor(e,t,n,i){super(),this.flatShading=e,this.side=t,this.wireframe=n,this.root=i}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,n){return this.root.getFlavor(e,t,n)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,n){this.root.updateByOp(e,t,n)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},Zk=class extends Gf{constructor(e,t,n=!0){super(),this.data=e,this.allowVariableSaves=n,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.reset0(e,t)}get nodeMaterial(){return this}getFlavor(e,t,n){let i=n?6:(e?3:0)+t;if(0===i)return this;void 0===this.flavors&&(this.flavors=[]),i-=1;let r=this.flavors[i];return void 0===r&&(r=new J4e(e,t,n,this),this.flavors[i]=r,r.flatShading=e,r.side=t,r.updateAfterBuild()),r}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){return this.lightLayer.getNode("occlusion")?.value??!1}reset(e,t){this.data!==e&&this.reset0(e,t)}reset0(e,t){this.data=e;let n=e.layers??Qa.defaultTwoLayerData("phong").layers;try{this.layers=n.map(i=>Bm.create(this.layerIdGen++,i.id,i.data,t.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=N1(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,n){if("alphaOverride"===e[0])this.transparent=N1(this.data,n.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if("layer"===e[0]){let i=e[1],r=e[2];if(i&&r){let o=this.layers.find(s=>s.uuid===i);o?.hasValue(r)&&("alpha"===r?(this.transparent=N1(this.data,n.shared),o.setValue(r,Math.max(0,Math.min(Number(t)/100,1)))):o.setValue(r,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(n=>"light"===n.data.type);t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(n=>{"alpha"in n.data&&"string"==typeof n.data.alpha&&e.shared.getVariable(n.data.alpha,["material",this.uuid,"layer",n.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.cacheKey=this.computeCacheKey(),this.lightLayer=this.layers.find(t=>t instanceof vp),void 0===this.lightLayer&&(this.lightLayer=new vp(0,"",{...Zl.defaultData("light","phong"),visible:!1},new Lq,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions()}applyTextureMaps(){let e=this.layers.find(r=>r instanceof vp);if(!e)return;let t=e.data,n=t.bumpMap,i=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let r=0;r<this.layers.length;++r){let o=this.layers[r];o instanceof as&&o.color instanceof Hk&&(o.uuid===n&&(e.node.bumpMap=o.color),o.uuid===i&&(e.node.roughnessMap=o.color))}}updateByOp(e,t,n){if(void 0!==t?this.data=t:t=this.data,this.transparent=N1(t,n.shared),"layers"===e.path[0]){this.data=t;let i=n.shared,r=e.path[1];if(void 0===r){if(this.layers.reverse(),4===e.type){let o=Bm.create(this.layerIdGen++,e.id,e.data,n.shared);this.layers.splice(e.localIndex,0,o),n.scene.markNeedsUpdateRendererDirty()}else if(5===e.type)this.layers.splice(e.localIndex,1)[0].dispose(),n.scene.markNeedsUpdateRendererDirty();else if(6===e.type){let o=this.layers.findIndex(a=>a.uuid===e.id),s=this.layers[o];this.layers.splice(o,1),this.layers.splice(e.localIndex,0,s),n.scene.markNeedsUpdateRendererDirty()}this.layers.reverse(),this.onUpdate(n.shared)}else{0===e.type&&void 0!==e.props.occlusion&&n.scene.markNeedsUpdateRendererDirty();let o=this.layers.find(s=>s.uuid===r);if(o){let a,s=t.layers.data(r);if(0===e.type&&("alpha"in e.props||"alphaOverride"in e.props)&&(a="alpha"in e.props?{...e.props,alpha:Lm(e.props.alpha,i,["material",this.uuid,"layer",r,"alpha"])}:{...e.props,alphaOverride:Lm(e.props.alphaOverride,i,["material",this.uuid,"alphaOverride"])}),o.updateByOp({...e,...a?{props:a}:{},path:e.path.slice(2)},s,n)){let l=Bm.create(this.layerIdGen++,r,s,i);this.layers.splice(this.layers.findIndex(c=>c.uuid===r),1,l),this.onUpdate(n.shared)}}}}else this.reset(t,n)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof as?t.color.mask=void 0:t instanceof vp&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof as&&t.isMask.value&&t.data.visible&&e>0){let i=this.layers[e-1];i instanceof vp?i.node.mask=new ic(t.color,t.alpha,ic.MUL):i instanceof as&&(i.isMask.value||(i.color.mask=new ic(t.color,t.alpha,ic.MUL)))}}}blendColors(){let e=this.layers.findIndex(n=>n instanceof as),t=this.layers.findIndex(n=>n instanceof vp);if(-1!==e&&e<t){let n=this.layers[e].color;for(let i=e+1;i<t;++i){let r=this.layers[i];if(r instanceof as){if(r.isMask.value)continue;n=new mq(n,r.color,r.alpha,r.mode)}}this.fragment.color=n}else this.fragment.color=void 0}blendAfterColors(){let e=new Ao("outgoingLight","f"),t=this.layers.findIndex(n=>n instanceof vp);if(this.layers.length>t+1){for(let n=t+1;n<this.layers.length;++n){let i=this.layers[n];if(i instanceof as){if(i.isMask.value)continue;e=new mq(e,i.color,i.alpha,i.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof eY);if(e.length>0){let t=e[0].position;for(let n=1;n<e.length;++n)e[n]&&(t=new ic(t,e[n].position,ic.ADD),t=new ic(t,new Rn(.5).setReadonly(!0),ic.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=!0===this.extensions.derivatives,e.extensionFragDepth=!0===this.extensions.fragDepth,e.extensionDrawBuffers=!0===this.extensions.drawBuffers,e.extensionShaderTextureLOD=!0===this.extensions.shaderTextureLOD}clampUniformsForPreview(e,t){let n=(i,r,o)=>Math.min(Math.max(i,r),o);for(let i of this.layers)if("displace"===i.type){let r=n(i.uniforms[`f${i.id}_intensity`].value,e,t);i.uniforms[`f${i.id}_intensity`].value=r}}computeCacheKey(){let e="[";for(let{data:t}of this.data.layers)if("light"===t.type)e+=`"${t.visible?t.category.toUpperCase():"Basic"}"`;else{let r=[...(Qq[t.type]??[]).map(a=>t[a]),...(Zq[t.type]??[]).map(a=>t[a]?.length??0)],s=`"${t.type}-${t.visible}-${"isMask"in t&&t.isMask}"`;e+=r.length?`[${s}, "${r.join('","')}"],`:s}return e=e.slice(0,-1)+"]",e}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,n){return t.deps.length-n.deps.length}return function(t,n){let i=this.getIncludes(t,n);if(!i)return"";let r="";i=i.sort(e);for(let o=0;o<i.length;o++)i[o].src&&(r+=i[o].src+"\n");return r}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCube(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif","\n\t\t\t// NOTE: Include Spline's blending modes. This could be part of BlendNode\n\t\t\t#define SPE_BLENDING_NORMAL 0\n\t\t\t#define SPE_BLENDING_MULTIPLY 1\n\t\t\t#define SPE_BLENDING_SCREEN 2\n\t\t\t#define SPE_BLENDING_OVERLAY 3\n\n\t\t\tvec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\treturn mix( a, b, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\treturn mix( a, a * b, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\tvec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );\n\t\t\t\treturn mix( a, tmp, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\tvec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );\n\t\t\t\treturn clamp( mix( a, tmp, alpha ), 0.0, 1.0 );\n\t\t\t}\n\n\t\t\tvec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {\n\t\t\t\tif ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );\n\t\t\t\treturn vec3( 1.0 );\n\t\t\t}\n\t\t\t","#include <packing>","#include <common>"].join("\n"),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join("\n"),fragment:["float accumAlpha = 0.0;","void accumulateAlpha(float alpha) {\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * alpha;\n\t\t\t\t}",""].join("\n")},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode("\nuniform int frameIndex;\nuniform vec2 resolution;\nuniform mat4 previousModelViewMatrix;\nuniform mat4 previousProjectionMatrix;\n\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n"),this.addFragmentParsCode("\nlayout(location = 1) out vec4 gVelocity;\n\nuniform int frameIndex;\nuniform vec2 resolution;\n\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n\nconst vec2 haltonSequence[16] = vec2[16](\nvec2( 0.000000,-0.333334),\nvec2(-0.500000, 0.333334),\nvec2( 0.500000,-0.777778),\nvec2(-0.750000,-0.111112),\nvec2( 0.250000, 0.555556),\nvec2(-0.250000,-0.555556),\nvec2( 0.750000, 0.111112),\nvec2(-0.875000, 0.777778),\nvec2(0.125000, -0.925926),\nvec2(-0.375000, -0.259260),\nvec2(0.625000, 0.407408),\nvec2(-0.625000, -0.703704),\nvec2(0.375000, -0.037038),\nvec2(-0.125000, 0.629630),\nvec2(0.875000, -0.481482),\nvec2(-0.937500, 0.185186));\n\nvec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {\n  const float goldenAngle = 2.399963f; // radians\n  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));\n  float theta = float(sampleIndex) * goldenAngle + angle;\n  float sine = sin(theta);\n  float cosine = cos(theta);\n  return vec2(cosine, sine) * r;\n}\n\n// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso\nfloat getNoiseInterleavedGradient(vec2 screenPos) {\n    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);\n    return fract(magic.z * fract(dot(screenPos, magic.xy)));\n}\n\n"),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let n=0;n<this.requires.uv.length;n++)if(this.requires.uv[n]){let i=n>0?n+1:"";this.addVaryCode("varying vec2 vUv"+i+";"),n>0&&this.addVertexParsCode("attribute vec2 uv"+i+";"),this.addVertexFinalCode("vUv"+i+" = uv"+i+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode("\n// TODO: This could be generated CPU side and passed to the shader every frame\nconst vec2 haltonSequence[16] = vec2[16](\nvec2( 0.000000,-0.333334),\nvec2(-0.500000, 0.333334),\nvec2( 0.500000,-0.777778),\nvec2(-0.750000,-0.111112),\nvec2( 0.250000, 0.555556),\nvec2(-0.250000,-0.555556),\nvec2( 0.750000, 0.111112),\nvec2(-0.875000, 0.777778),\nvec2(0.125000, -0.925926),\nvec2(-0.375000, -0.259260),\nvec2(0.625000, 0.407408),\nvec2(-0.625000, -0.703704),\nvec2(0.375000, -0.037038),\nvec2(-0.125000, 0.629630),\nvec2(0.875000, -0.481482),\nvec2(-0.937500, 0.185186));\n\n// TODO: Pass correct view size\nvec2 offset = haltonSequence[frameIndex];\noffset.x /= resolution.x;\noffset.y /= resolution.y;\n\nvec4 currentPosition = gl_Position;\nvec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);\n\n// We want to calculate the velocity with unjittered positions\n// so that things that are not moving get a velocity = 0\nvCurrentPosition = currentPosition;\nvPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);\n#ifdef OUTLINE_COMPENSATION\nvPreviousPosition.xy += OUTLINE_COMPENSATION;\n#endif\ngl_Position = currentPositionJittered;\n\n"),this.addFragmentFinalCode("\nvec2 oldPos = vPreviousPosition.xy;\n    oldPos /= vPreviousPosition.w;\n    oldPos.xy = (oldPos.xy+1.)/2.0;\n\nvec2 newPos = vCurrentPosition.xy;\n    newPos /= vCurrentPosition.w;\n    newPos.xy = (newPos.xy+1.)/2.0;\n\nvec2 velocity = (newPos - oldPos);\n\n// Discard fully transparent pixels \nif (gl_FragColor.a <= 0.0) discard;\n\ngVelocity = vec4(velocity, 0.0, 1.0);\n")),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,n){return this.addSlot(e).addCache(t).addContext(n)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){void 0===this.fragmentVariables[e]&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){void 0===this.fragmentParsVariables[e]&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){void 0===this.vertexParsVariables[e]&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+"\n"}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+"\n"}clearNodeCode(e){let t=this.nodeCode[e=e??this.shader];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+"\n"}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+"\n"}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return-1!==this.caches.indexOf(e)}isSlot(e){return-1!==this.slots.indexOf(e)}define(e,t){this.defines[e]=void 0===t?1:t}require(e){this.requires[e]=!0}isDefined(e){return void 0!==this.defines[e]}getVar(e,t,n,i="varying",r="V",o=""){let s=this.getVars(i),a=s[e];return a||(a={name:n||"node"+r+s.length+(o?"_"+o:""),type:t},s.push(a),s[e]=a),a}getTempVar(e,t,n,i){return this.getVar(e,t,n,this.shader,"T",i)}getAttribute(e,t){if(!this.attributes[e]){let n=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(n.name+" = "+e+";"),this.attributes[e]={varying:n,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join("\n")}getVarListCode(e,t){t=t??"";let n="";for(let i=0,r=e.length;i<r;++i){let o=e[i],a=o.name,l=o.size,c=this.getFormatByType(o.type);if(void 0===c)throw new Error("Node pars "+c+" not found.");c.includes("[]")?n+=t+" "+c.substring(0,c.length-2)+" "+a+`[${l}];\n`:n+=t+" "+c+" "+a+";\n"}return n}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof Hf?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,n,i,r,o){if(t.includes("[]")){let s=this.inputs.arrayUniforms,l=new aq({type:t,size:n.size,name:i||"nodeUA"+s.list.length+(o?"_"+o:""),node:n,needsUpdate:r});return s.list.push(l),s[e].push(l),s[e][l.name]=l,this.uniforms[l.name]=l,l}{let s=this.inputs.uniforms,l=new aq({type:t,name:i||"nodeU"+s.list.length+(o?"_"+o:""),node:n,needsUpdate:r});return s.list.push(l),s[e].push(l),s[e][l.name]=l,this.uniforms[l.name]=l,l}}createVertexUniform(e,t,n,i,r){return this.createUniform("vertex",e,t,n,i,r)}createFragmentUniform(e,t,n,i,r){return this.createUniform("fragment",e,t,n,i,r)}include(e,t,n){let i;if(e="string"==typeof e?ec.get(e):e,!1===this.context.include)return e.name;e instanceof hn?i=this.includes.functions:e instanceof co?i=this.includes.consts:e instanceof dq&&(i=this.includes.structs);let r=i[this.shader]=i[this.shader]||[];if(e){let o=r[e.name];if(o||(o=r[e.name]={node:e,deps:[]},r.push(o),o.src=e.build(this,"source")),e instanceof hn&&t&&r[t.name]&&-1===r[t.name].deps.indexOf(e)&&(r[t.name].deps.push(e),e.includes?.length)){let s=0;do{this.include(e.includes[s++],t)}while(s<e.includes.length)}return n&&(o.src=n),e.name}throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return $Ie[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return"f"===e?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return 1===e?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(n?.isNode)return n}}resolve(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(void 0!==n){if(n.isNode)return n;if(n.isTexture)switch(n.mapping){case om:case sm:return new GIe(n);case kb:return new HIe(new fp(n));default:return new fp(n)}else{if(n.isVector2)return new Ra(n);if(n.isVector3)return new yd(n);if(n.isVector4)return new pp(n)}}}}format(e,t,n){switch(this.colorToVector(n+" <- "+t)){case"f <- v2":case"f <- v3":case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":case"i <- v3":case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return KIe[e]||e}getFormatByType(e){return QIe[e]||e}getUUID(e,t){return(t=void 0===t||t)&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return pq[e]}getIndexByElement(e){return pq.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=Gu,t===Gu&&this.context.gamma&&(t=Ui),t}};e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof as){let t=e.params.texture;if(t instanceof jk&&!t.image.loaded)return!1}return!0}getHash(){let e="{";return e+='"fragment":'+this.fragment.getHash(),e+="}",e}};Object.defineProperties(Gf.prototype,{properties:{get:function(){return this.fragment.properties}}});var Jk=class extends Zk{constructor(e,t,n){super(e,t,!1),this.uuid=n,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},eRe=ma(Y0e()),nY=new Map;function tRe(e){if("string"==typeof e)return e;let t=nY.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},nY.set(e,t)),t.url}var iY,$P,L_=class{constructor({src:e,volume:t,delay:n,loop:i}){let r;this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)},r="string"==typeof e?{src:e}:{src:tRe(e),format:"wav"},this.sound=new eRe.Howl(r),this.sound.on("end",this.onEnd),this.src=e,void 0!==t&&(this.volume=t),void 0!==n&&(this.delay=n),void 0!==i&&(this.loop=i)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,n){this.sound.on(e,t,n)}off(e,t,n){this.sound.off(e,t,n)}play(){"playing"===this._status||this.sound.playing()||("paused"===this._status?(0===this.sound.seek()?this.replay():this.sound.play(),this._status="playing"):"stopped"===this._status&&(this.replay(),this._status="playing"))}pause(){"playing"===this._status&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},rY=new Promise(e=>{iY=e}),oY=!1;function iRe(){if(!oY)return $P||($P=function e(){return t.apply(this,arguments)}(),$P);function t(){return(t=(0,gs.Z)(function*(){let n=yield m.e(990).then(m.bind(m,2990));iY(n),oY=!0})).apply(this,arguments)}}function eI(){return eI=(0,gs.Z)(function*(e){return yield(yield fetch(e)).arrayBuffer()}),eI.apply(this,arguments)}var sRe=new class{load(e,t,n=(()=>{})){return(0,gs.Z)(function*(){let{load:i}=yield rY;i(e,(r,o)=>{r||!o?n(r??"Something went wrong"):t(o)})})()}parse(e){return(0,gs.Z)(function*(){let{parse:t,Bidi:n}=yield rY;try{let i=t(e),r=new n;return r.registerModifier("glyphIndex",null,s=>i.charToGlyphIndex(s.char)),r.applyFeatures(i,i.defaultRenderOptions.features),{font:i,bidi:r}}catch(i){console.error(i)}})()}};function sY(e){return tI.apply(this,arguments)}function tI(){return tI=(0,gs.Z)(function*(e){let t,n,i=!1;if(e.url?(t=yield function oRe(e){return eI.apply(this,arguments)}(e.url),n=e.url,i=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t){let r=yield sRe.parse(t);if(r)return{font:r.font,url:n,intercepted:i,arr:t,bidi:r.bidi}}}),tI.apply(this,arguments)}function aRe(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var dRe=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,n){let i=this.objects.get(e);return void 0===i?(i=this.createObject(e,t,n),this.objects.set(e,i)):i.isShared=!0,i}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let n=this.objects.get(e);if(n&&!0!==n.isShared)return this.objects.delete(e),this.objects.set(t,n),n}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){t===this.objects.get(e)&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}},aY=class extends dRe{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,n){let i=VP(e,t,this.flatShading,n);return i.computeBoundingSphere(),i}},uRe={markNeedsUpdateRendererDirty:()=>{}},hRe=class extends h4e{constructor(e){super(),this.shared=e}create(e){return new Bq(e,this.shared)}},nI=class{constructor(e,t={}){if(this.data=e,this.geometryCache=new aY(!0),this.geometryCache2=new aY(!1),this.imageHolderCache=new hRe(this),this.thisContext={scene:uRe,shared:this},this.deletedMaterial=new Jk(Qa.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new Fm(vP.emptyImage,this),this.deletedVideo=new Fm(dP.defaultVideo,this),this.materials={},this.images={},this.videos={},this.colors={},this.audios={},this.fonts={},this.variables={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[n,i]of Object.entries(t.images))this.addImage(n,i);if(t.videos)for(let[n,i]of Object.entries(t.videos))this.addVideo(n,i);if(t.audios)for(let[n,i]of Object.entries(t.audios))this.addAudio(n,i);this.reset(e)}setRequestRender(e){this._requestRender=e}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.resetLib(e.lib);for(let{id:n,data:i}of e.variables)this.addVariableHolder(n,i),t&&this.updateVariableHolder(n,i);for(let[n,i]of Object.entries(e.images))this.addImage(n,i);for(let[n,i]of Object.entries(e.videos))this.addVideo(n,i);for(let[n,i]of Object.entries(e.colors))this.addColor(n,i);for(let[n,i]of Object.entries(e.materials))this.addMaterial(n,i);for(let[n,i]of Object.entries(e.audios))this.addAudio(n,i);for(let[n,i]of Object.entries(e.fonts))this.addFont(n,i)}addMaterial(e,t){if(this.materials[e]){let n=this.materials[e];n.reset(t,this.thisContext),n.dispose()}else{let n=new Jk(t,this.thisContext,e);this.materials[e]=n}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return"string"==typeof e?this.getMaterialOrDeletedPlaceholder(e):null==e?(console.error("material is undefined or null"),this.deletedMaterial):new Zk(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new Fm(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return"string"==typeof e?this.getImage(e):this.imageHolderCache.load(e)}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new Fm(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return"string"==typeof e?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.colors[e].setRGBA(t.r,t.g,t.b,"a"in t?t.a:1),!0):(this.colors[e]=new XP(t.r,t.g,t.b,"a"in t?t.a:1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let n=this.colors[e];return this.colors[e].r=t.r??n.r,this.colors[e].g=t.g??n.g,this.colors[e].b=t.b??n.b,this.colors[e].a=t.a??n.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if("string"!=typeof e)return new nc(e.r,e.g,e.b,"a"in e?e.a:1);{let n=this.getColor(e);n?t=n:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new nc(0,0,0,0))}return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof L_)return t;{let n=new L_({src:t.data});return this.audios[e]=n,n}}deleteAudio(e){let t=this.audios[e];t&&(t instanceof L_&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=sY(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=sY(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,n){if(!this._bidi)return[];let i=this._bidi;i.getTextGlyphs(t);let r=i.tokenizer.tokens,o=[],s=0,a=n.length===r.length;for(let l=0;l<n.length;l++){let c=n[l].index,u=String.fromCharCode(n[l].unicode),d=r[s];if(aRe(c,d)||a)o.push({char:u,index:c,replacements:[d.state.glyphIndex],replacementChars:[d.char]}),s++;else{let h=d.char,f="",v=[d.state.glyphIndex],y=[],b=!1;for(;!b;)s++,f=t.charAt(s),h+=f,v.push(e.charToGlyphIndex(f)),y=e.stringToGlyphs(h),1===y.length&&y[0].index===c&&(b=!0),s>t.length&&(b=!0);o.push({char:u,index:c,replacements:v,replacementChars:Array.from(h)}),s++}}return o}generateShapes(e,t){if(!this._isLoaded)return;let y,n=this.font,i=t.fontSize/this.unitsPerEm,r=t.fontSize*t.lineHeight,o=e.map(w=>this.getTextWidth(w,t)),s=t.width,a=this.getCharWidth("\n",t),l=1===t.horizontalAlign?a:0,c=this.computeSpaceWidthForLine(e,0,t),u=this.getLineInitialOffsetX(o[0],s,t.horizontalAlign,e[0],a),d=this.getLineInitialOffsetY(r,e.length,t.height,i,t.verticalAlign),h=[],f=e.map(w=>[]),v=e.map(w=>[]);for(let w=0;w<e.length;w++){let O=e[w],S={features:{liga:!0}},D=[];try{D=n.stringToGlyphs(O,S)}catch(Y){console.warn(Y)}u=this.getLineInitialOffsetX(o[w],s,t.horizontalAlign,O,a);let V=[];try{V=this.reverseLigaturesTable(n,O,D)}catch(Y){console.warn(Y)}c=this.computeSpaceWidthForLine(e,w,t);for(let Y=0;Y<D.length;Y++){let q=D[Y],K=0===q.index?"\n":q.unicode?String.fromCharCode(q.unicode):void 0,te=V[Y],ie=0,ae=0;0===Y&&2===t.horizontalAlign&&void 0!==q.leftSideBearing&&(ae=-q.leftSideBearing*i),y&&(ie=n.getKerningValue(q,y)*i),u+=ae+ie;let pe=0;if("\n"===K)pe=l;else if(" "===K)pe=c;else{let fe=this.createPath(q,i,u,d,t);fe&&(pe=fe.offsetX-(ie+ae),h.push(fe.path))}if(1===te.replacements.length)v[w].push([u,d]),f[w].push(pe);else{let fe=te.replacements.map(xe=>(n.glyphs.get(xe).advanceWidth??0)*i),ge=fe.reduce((xe,_e)=>xe+_e,0),Oe=fe.map(xe=>xe/ge),Pe=u;for(let xe=0;xe<Oe.length;xe++){let _e=pe*Oe[xe];v[w].push([Pe,d]),f[w].push(_e),Pe+=_e}}u+=pe,y=q}d-=r}let b=[];for(let w=0,O=h.length;w<O;w++)b.push(...h[w].toShapes());return{shapes:b,charWidths:f,lineWidths:o,charCoords:v}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){return this.font?.ascender??0}get descender(){return this.font?.descender??0}get familyName(){return this.font?.names.fontFamily??""}get subfamilyName(){return this.font?.names.fontSubfamily??""}get unitsPerEm(){return this.font?.unitsPerEm??1}getLineInitialOffsetX(e,t,n,i,r){return(3===n||2===n)&&i.indexOf("\n")>=0&&(e-=r),3===n?.5*t-.5*e:2===n?t-e:0}getLineInitialOffsetY(e,t,n,i,r){let o=t*e,s=Math.abs(this.ascender-this.descender)*i,l=-this.ascender*i-(e-s)/2;return 3===r?-(n-o-l):2===r?-(.5*n-.5*o-l):l}createPath(e,t,n,i,r){let o=e.getPath(n,-i,r.fontSize,{kerning:!1,letterSpacing:r.letterSpacing});if(!o)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");let s=new class{constructor(){this.type="ShapePath",this.color=new si,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new hM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath?.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath?.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,o){return this.currentPath?.bezierCurveTo(e,t,n,i,r,o),this}splineThru(e){return this.currentPath?.splineThru(e),this}toShapes(){let e={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:e.ORIGIN,t:0};function n(f,v,y,b){let w=f.x,O=v.x,S=y.x,D=b.x,V=f.y,Y=v.y,q=y.y,K=b.y,te=(D-S)*(V-q)-(K-q)*(w-S),ae=(K-q)*(O-w)-(D-S)*(Y-V),pe=te/ae,fe=((O-w)*(V-q)-(Y-V)*(w-S))/ae;if(0===ae&&0!==te||pe<=0||pe>=1||fe<0||fe>1)return null;if(0===te&&0===ae){for(let ge=0;ge<2;ge++){if(i(0===ge?y:b,f,v),t.loc===e.ORIGIN){let Oe=0===ge?y:b;return{x:Oe.x,y:Oe.y,t:t.t}}if(t.loc===e.BETWEEN)return{x:+(w+t.t*(O-w)).toPrecision(10),y:+(V+t.t*(Y-V)).toPrecision(10),t:t.t}}return null}for(let Pe=0;Pe<2;Pe++)if(i(0===Pe?y:b,f,v),t.loc===e.ORIGIN){let xe=0===Pe?y:b;return{x:xe.x,y:xe.y,t:t.t}}return{x:+(w+pe*(O-w)).toPrecision(10),y:+(V+pe*(Y-V)).toPrecision(10),t:pe}}function i(f,v,y){let V,b=y.x-v.x,w=y.y-v.y,O=f.x-v.x,S=f.y-v.y,D=b*S-O*w;return f.x===v.x&&f.y===v.y?(t.loc=e.ORIGIN,void(t.t=0)):f.x===y.x&&f.y===y.y?(t.loc=e.DESTINATION,void(t.t=1)):void(D<-Number.EPSILON?t.loc=e.LEFT:D>Number.EPSILON?t.loc=e.RIGHT:b*O<0||w*S<0?t.loc=e.BEHIND:Math.sqrt(b*b+w*w)<Math.sqrt(O*O+S*S)?t.loc=e.BEYOND:(V=0!==b?O/b:S/w,t.loc=e.BETWEEN,t.t=V))}let a=0,l=999999999,c=-999999999,u=[];this.subPaths.forEach(f=>{let v=f.getPoints(),y=-999999999,b=999999999,w=-999999999,O=999999999;for(let S=0;S<v.length;S++){let D=v[S];D.y>y&&(y=D.y),D.y<b&&(b=D.y),D.x>w&&(w=D.x),D.x<O&&(O=D.x)}c<=w&&(c=w+1),l>=O&&(l=O-1),v.length&&u.push({curves:f.curves,points:v,isCW:Oj.isClockWise(v),identifier:a++,boundingBox:new Xj(new Ve(O,b),new Ve(w,y))})});let d=u.map(f=>function s(f,v,y,b,w){(null==w||""===w)&&(w="nonzero");let O=new Ve;f.boundingBox.getCenter(O);let D=function o(f,v,y){let b=new Ve;v.getCenter(b);let w=[];return y.forEach(O=>{O.boundingBox.containsPoint(b)&&function r(f,v){let y=[],b=[];for(let w=1;w<f.length;w++){let O=f[w-1],S=f[w];for(let D=1;D<v.length;D++){let q=n(O,S,v[D-1],v[D]);null!==q&&void 0===y.find(K=>K.t<=q.t+Number.EPSILON&&K.t>=q.t-Number.EPSILON)&&(y.push(q),b.push(new Ve(q.x,q.y)))}}return b}(f,O.points).forEach(S=>{w.push({identifier:O.identifier,isCW:O.isCW,point:S})})}),w.sort((O,S)=>O.point.x-S.point.x),w}([new Ve(y,O.y),new Ve(b,O.y)],f.boundingBox,v);D.sort((ie,ae)=>ie.point.x-ae.point.x);let V=[],Y=[];D.forEach(ie=>{ie.identifier===f.identifier?V.push(ie):Y.push(ie)});let q=V[0].point.x,K=[],te=0;for(;te<Y.length&&Y[te].point.x<q;)K.length>0&&K[K.length-1]===Y[te].identifier?K.pop():K.push(Y[te].identifier),te++;if(K.push(f.identifier),"evenodd"===w)return{identifier:f.identifier,isHole:K.length%2==0,for:K[K.length-2]};if("nonzero"===w){let ie=!0,ae=null,pe=null;for(let fe=0;fe<K.length;fe++){let ge=K[fe];v[ge]&&(ie?(pe=v[ge].isCW,ie=!1,ae=ge):pe!==v[ge].isCW&&(pe=v[ge].isCW,ie=!0))}return{identifier:f.identifier,isHole:ie,for:ae}}console.warn('fill-rule: "'+w+'" is currently not implemented.')}(f,u,l,c,this.userData?.style.fillRule)),h=[];return u.forEach(f=>{let v=d[f.identifier];if(v&&!v.isHole){let y=new pM;y.curves=f.curves,d.filter(b=>b?.isHole&&b.for===f.identifier).forEach(b=>{if(b){let w=u[b.identifier],O=new hM;O.curves=w.curves,y.holes.push(O)}}),h.push(y)}}),h}},a=(e.advanceWidth??1)*t;if(e)for(let l of o.commands){let c=s.currentPath?.currentPoint;if(!c||"Z"===l.type||c.x!==l.x||-c.y!==l.y)switch(l.type){case"M":s.moveTo(l.x,-l.y);break;case"L":s.lineTo(l.x,-l.y);break;case"Q":s.quadraticCurveTo(l.x1,-l.y1,l.x,-l.y);break;case"C":s.bezierCurveTo(l.x1,-l.y1,l.x2,-l.y2,l.x,-l.y)}}return s.subPaths.forEach(l=>{let c=function cRe(e){if(e.length){let t=e[0];if(t instanceof Kd)return t.v1;if(t instanceof $d||t instanceof Cf)return t.v0}}(l.curves);void 0!==c&&l.currentPoint.distanceTo(c)>0&&l.lineTo(c.x,c.y)}),{offsetX:a+r.fontSize*r.letterSpacing,path:s}}getCharWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}getTextWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}computeSpaceWidthForLine(e,t,n){let i=this.getCharWidth(" ",n),r=e[t];if(r){let o=this.countSpaces(r.trimEnd());if(4===n.horizontalAlign&&t<e.length-1&&o)return(n.width-(this.getTextWidth(r,n)-o*i))/o}return i}countSpaces(e){return(e.match(/ /g)||[]).length}}(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof L_&&e.dispose()}),this.audios={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){return void 0===this.variables[e]?(this.variables[e]={value:t.value,locations:[]},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0):(this.variables[e].value=t.value,!1)}resetDynamicVariablePlayState(){for(let e in this.variables)void 0!==this.variables[e].dynamicVariablePlayState&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(void 0===this.variables[e])return!1;this.variables[e].value=t;let n=t;for(;"string"==typeof n;)n=this.variables[n].value;let i=this.entityOpContext.scene;for(let r=this.variables[e].locations.length-1;r>=0;r--){let o=this.variables[e].locations[r];if("material"===o[0]){let s=o[1],a=n,l={scene:i,shared:this},c=o.slice(2);i.traverseMaterial(d=>{let h=d.root??d;h.uuid===s&&h.onVariableUpdate(c,a,l)});let u=this.materials[s];u&&u.onVariableUpdate(c,a,l)}else{let s=i.find(o[0]);if(void 0===s){this.variables[e].locations.splice(r,1);continue}if("geometry"!==o[1]){for(let a=1;a<o.length-1;a++)s=s[o[a]];s[o[o.length-1]]="rotation"===o[1]?n*Yn.DEG2RAD:n}if(s=i.find(o[0]),vr.is(s))if("position"===o[1]||"rotation"===o[1]||"scale"===o[1])s.onVariableUpdate();else if("geometry"===o[1]){let a=s;s.component&&(a=s.component);let l=a.dataPatched;a.chooseGeoemtryCache(this).forceDelete(l.geometry),a.createGeometryDelayed(this.entityOpContext),a.onVariableUpdate(!0),a.instances.forEach(c=>{let u=c.dataPatched;c.chooseGeoemtryCache(this).forceDelete(u.geometry),c.createGeometryDelayed(this.entityOpContext),c.onVariableUpdate(!0)})}}}return!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){if(Array.isArray(e)){if("mouse"===e[0])return this.mouseProperty?.[e[1]]??0;if("raycast"===e[0])return this.raycastProperty?.[e[1]]??0;let n=this.entityOpContext.scene.find(e[0]);if("width"===e[1]||"height"===e[1]||"depth"===e[1])return n.geometry.userData.parameters[e[1]];for(let i=1;i<e.length;i++)n=n[e[i]];return"rotation"===e[1]&&(n*=Yn.RAD2DEG),n}for(let n in this.variables){if(void 0===t)break;let i=this.variables[n],r=i.locations?.findIndex(o=>xl.equal(o,t));void 0!==r&&-1!==r&&i.locations.splice(r,1)}if("string"==typeof e){let n=e,i=e;do{if(i=n,void 0===this.variables[n])break;n=this.variables[n].value}while("string"==typeof n);return t&&void 0!==this.variables[i]&&this.variables[i].locations.push(t),n}return e}getVariables(){return this.variables}getDynamicVariablePlayState(e){return this.variables[e]?.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){void 0!==this.variables[e]&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){return this.variables[e]?.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){void 0!==this.variables[e]&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,n]of Object.entries(e.images))this.addImage(t,n.asset);for(let[t,n]of Object.entries(e.audios))this.addAudio(t,n.asset);for(let[t,n]of Object.entries(e.colors))this.addColor(t,n.asset);for(let[t,n]of Object.entries(e.fonts))this.addFont(t,n.asset);for(let[t,n]of Object.entries(e.materials))this.addMaterial(t,n.asset);for(let[t,n]of Object.entries(e.videos))this.addVideo(t,n.asset);for(let[t,n]of Object.entries(e.variables))this.addVariableHolder(t,n.asset)}updateLibByOp(e,t){"images"===e.path[0]?1===e.path.length&&1===e.type?this.addImage(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteImage(e.id):"videos"===e.path[0]?1===e.path.length&&1===e.type?this.addVideo(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteVideo(e.id):"audios"===e.path[0]?1===e.path.length&&1===e.type?this.addAudio(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteAudio(e.id):"colors"===e.path[0]?1===e.path.length&&1===e.type?this.addColor(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteColor(e.id):"materials"===e.path[0]?1===e.path.length&&1===e.type?this.addMaterial(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteMaterial(e.id):"fonts"===e.path[0]?1===e.path.length&&1===e.type?this.addFont(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteFont(e.id):"variables"===e.path[0]?1===e.path.length&&1===e.type?this.addVariableHolder(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteVariable(e.id):"components"===e.path[0]&&t.updateByLibOp(e,this)}updateByOp(e,t,n){this.data=t,"images"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):1===e.path.length&&1===e.type?this.addImage(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteImage(e.id):"videos"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):1===e.path.length&&1===e.type?this.addVideo(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteVideo(e.id):"audios"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):1===e.path.length&&1===e.type?this.addAudio(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteAudio(e.id):"colors"===e.path[0]?2===e.path.length&&0===e.type?this.updateColor(e.path[1],e.props):1===e.path.length&&1===e.type?this.addColor(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteColor(e.id):"materials"===e.path[0]?1===e.path.length&&1===e.type?this.addMaterial(e.id,e.data):1===e.path.length&&2===e.type?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(Ka.drop(e,2),t.materials[e.path[1]],{shared:this,scene:n}):"fonts"===e.path[0]?2===e.path.length&&0===e.type?this.updateFont(e.path[1],e,n):1===e.path.length&&1===e.type?this.addFont(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteFont(e.id):"variables"===e.path[0]?2===e.path.length&&0===e.type&&"value"in e.props?this.updateVariable(e.path[1],e.props.value):1===e.path.length&&4===e.type?this.addVariableHolder(e.id,e.data):1===e.path.length&&5===e.type&&this.deleteVariable(e.id):"lib"===e.path[0]&&this.updateLibByOp(Ka.drop(e,1),n)}updateFont(e,t,n){if(t.props.url){let i=this.getFont(e),r={...this.data.fonts[e],url:t.props.url};i.update(r),i.loadingPromise.then(()=>this.requestRender()),n.updateFont(e,this)}}},F1=(new nI(eu.emptyData()),class extends Jl{updateByPatchedOp(e,t,n){if(super.updateByPatchedOp(e,t,n),null!==function cTe(e,t){let n=[];if(t.length!==e.length)return null;for(var i=0;i<e.length;){if("*"===t[i])n.push(e[i]);else if(e[i]!==t[i])return null;i+=1}return n}(e.path,["materials"])&&0===e.type&&Array.isArray(this.material))for(let[i,r]of Object.entries(e.props)){let o=n.shared.material(r);this.material[Number(i)]=o}else if(gd(e.path,["material"])&&this.material instanceof Gf)"material"in t&&"string"!=typeof t.material&&this.material.updateByOp(Ka.drop(e,1),t.material,n);else if(gd(e.path,["materials","*"])&&Array.isArray(this.material)){let i=e.path[1];if("materials"in t&&i<this.material.length){let r=t.materials[i];"string"!=typeof r&&this.material[i].updateByOp(Ka.drop(e,2),r,n)}}}get needsAO(){return void 0!==this.material&&(Array.isArray(this.material)?this.material[0]:this.material).hasAO}updateState(e,t){super.updateState(e,t),void 0!==e.castShadow&&(this.castShadow=e.castShadow),void 0!==e.receiveShadow&&(this.receiveShadow=e.receiveShadow);let n=this.dataPatched;if("NonParametricGeometry"!==e.geometry?.type&&"material"in e&&void 0!==e.material&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe),t.scene.markNeedsUpdateRendererDirty()),"NonParametricGeometry"===e.geometry?.type&&("materials"in e&&void 0!==e.materials?(this.disposeMaterial(),this.material=e.materials.map(i=>t.shared.material(i).getFlavor(n.flatShading,n.side,n.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&void 0!==e.material&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe)],t.scene.markNeedsUpdateRendererDirty())),void 0!==e.flatShading||void 0!==e.wireframe||void 0!==e.side)if(Array.isArray(this.material))for(let i=0;i<this.material.length;i++)this.material[i]=this.material[i].getFlavor(n.flatShading,n.side,n.wireframe);else this.material=this.material.getFlavor(n.flatShading,n.side,n.wireframe)}disposeMaterial(){this.material&&bH(this.material).forEach(e=>{e instanceof Gf&&(e instanceof Jk||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}}),lY=new re,cY=new ji,dY=new ji,pRe=new re,uY=new Wt,Dl=class extends F1{constructor(e,t,n){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=(new Wt).fromArray(t.bindMatrix),this.bindMatrixInverse=new Wt)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof ei&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(void 0!==this.localGeometry)return this.localGeometry;if(this.geometryCreateDeleyed instanceof nI){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return pP.is2DParametricMesh(e.type)&&0===e.depth}get is2DType(){return pP.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return"NonParametricGeometry"===this.geometry.userData.type}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),gd(e.path,["geometry"])&&this.updateByPatchedOpGeometry(Ka.drop(e,1),t.geometry,n)}removeInteractionGeometry(){this.localGeometry?.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){this.invalidateDownstreamBooleanData();let n=this.data.geometry.type;if("NonParametricGeometry"===n||"SubdivGeometry"===n){let r,o,s,i=e;if(void 0===this.localGeometry){let l={...this.data.geometry,...i};this.localGeometry=VP(l,t,this.data.flatShading,this)}i.scaleBaked?[r,o,s]=i.scaleBaked:({width:r,height:o,depth:s}=i);let a=this.localGeometry.userData;void 0!==a.sxPrev&&Ik(this.localGeometry.attributes,r/a.sxPrev,o/a.syPrev,s/a.szPrev),a.sxPrev=r,a.syPrev=o,a.szPrev=s}else{let i={...this.data.geometry,...e};this.localGeometry?.dispose(),this.localGeometry=VP(i,t,this.data.flatShading,this)}}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,n){let i=!1;0===e.type&&0===e.path.length&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof Pl&&this.chooseGeoemtryCache(n.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(i=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(n),this.refreshAttachedPaths(n)),i||(n.scene?.markGeometryCacheDirty(),this.createGeometryDelayed(n)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){void 0!==e.geometry&&this.updateGeometryOnStateUpdate(e.geometry,t),super.updateState(e,t)}updateGeometryGroupsIfNeeded(){Array.isArray(this.material)&&0===this.geometry.groups.length&&this.geometry.addGroup(0,Math.max(this.geometry.getIndex()?.count??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;this.is2DType?e.set(0,0,.5*n.depth):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)):e.setScalar(0),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new ji,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){t.fromBufferAttribute(n,i);let o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),n.setXYZW(i,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let n=this.skeleton;if(void 0===n)return;let i=this.geometry;cY.fromBufferAttribute(i.attributes.skinIndex,e),dY.fromBufferAttribute(i.attributes.skinWeight,e),lY.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){let o=dY.getComponent(r);if(0!==o){let s=cY.getComponent(r);uY.multiplyMatrices(n.bones[s].matrixWorld,n.boneInverses[s]),t.addScaledVector(pRe.copy(lY).applyMatrix4(uY),o)}}return t.applyMatrix4(this.bindMatrixInverse)}};function iI(e){if(Array.isArray(e.material)){for(let t of e.material)if(0===t.getLayersOfType("outline").length)return}else if(!(e.material instanceof Gf)||0===e.material.getLayersOfType("outline").length)return;e instanceof Dl&&e.is2DAndNoDepth?function gRe(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),i=new re;for(let r=0;r<t.length;r+=3)i.set(t[r],t[r+1],t[r+2]).normalize(),n[r]=i.x,n[r+1]=i.y,n[r+2]=i.z;e.geometry.setAttribute("extrudeNormal",new Dn(n,3))}(e):function fRe(e){if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,n=e.geometry.attributes,i=n.position.array,r=n.normal.array,o=new Float32Array(i.length);for(let s=0;s<i.length;s+=3){let a=`${i[s]}_${i[s+1]}_${i[s+2]}`,l=new re(r[s],r[s+1],r[s+2]);t.has(a)?t.get(a)?.normals.push(l):t.set(a,{normals:[l],result:new re})}t.forEach((s,a)=>{for(let l of s.normals)s.result.add(l);s.result.divideScalar(s.normals.length)});for(let s=0;s<i.length;s+=3){let l=t.get(`${i[s]}_${i[s+1]}_${i[s+2]}`)?.result;l&&(o[s]=l.x,o[s+1]=l.y,o[s+2]=l.z)}e.geometry.setAttribute("extrudeNormal",new Dn(o,3))}(e)}function rI(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),i=parseInt(e.uuid.replace(/\D/g,"")),r=[Yn.seededRandom(i),Yn.seededRandom(i+1e4),Yn.seededRandom(i+2e4)];for(let o=0;o<t.length;o++)n[o]=r[o%3];e.geometry.setAttribute("randomColor",new pi(n,3))}kk.then(e=>{});var uh=new ys,B_=new re;function vRe(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"Mesh"===i.type&&"SubdivGeometry"===i.geometry.type&&(t=!0)}),t}var z_=class extends Dl{constructor(e,t,n){super(e,t,n),this.data=t,this.hiddenMatrixOld=new Wt,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return void 0!==this.localGeometry?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return void 0!==this.localGeometry?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}createGeometryByControls(e){if(!0===this.skipReactionUpdate)return;let t=this.localGeometry?.uuid,{originalGeometry:n,subdividedGeometry:i,subdivPointer:r}=Pl.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=r,void 0!==n&&(this.originalGeometry?.dispose(),this.originalGeometry=n),void 0!==i&&(this.subdividedGeometry?.dispose(),this.subdividedGeometry=i??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,iI(this),rI(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),void 0!==e.flatShading){let n=this.material;this.material=n.getFlavor(!1,n.side,n.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){Pl.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&Pl.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=Pl.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=Pl.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let n=this.localGeometry;this.localGeometry=this.originalGeometryNew,Jl.prototype.raycast.call(this,e,t),this.localGeometry=n}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;null===e.boundingSphere&&(e.boundingSphere=new $l,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let n=e.boundingSphere.center;uh.setFromBufferAttribute(e.attributes.position),uh.getCenter(n),e.boundingSphere.radius=n.distanceTo(uh.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),uh.getSize(B_),this.hasNonUniformScale&&B_.divide(this.scale);let i={width:B_.x,height:B_.y,depth:B_.z};return this.geometry.userData.parameters=i,i}updateBoundingSphere(e){let t=this.originalGeometry;uh.min.set(e[0],e[2],e[4]),uh.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(uh.min.applyMatrix4(this.shearScaleInv),uh.max.applyMatrix4(this.shearScaleInv)),null===t.boundingSphere&&(t.boundingSphere=new $l);let n=t.boundingSphere.center;uh.getCenter(n),t.boundingSphere.radius=n.distanceTo(uh.max)}freeSubdivPointer(){this.subdivPointer&&(Pl.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,this.originalGeometry?.dispose(),this.subdividedGeometry?.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,n){super.updateByPatchedOpGeometry(e,t,n),this.localGeometry&&this.createGeometryByControls(t)}},bRe={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},_Re={polygon_center:0,edge:1,vertex:2},KP=(e,t)=>(n,i)=>t&&0!==n&&0!==e?e*i/100:0,Vi=(e,t)=>{let n=Math.abs(t),i=-1*n;return(e- -1)*(n-i)/2+i},wRe=new re,QP=new re,CRe=new re,MRe=new re;function L1(e,t){let n=CRe.fromArray(e),i=MRe.fromArray(t);QP.copy(i).sub(n);let r=QP.length();return QP.normalize().multiplyScalar(.5*r),wRe.copy(n).add(QP).toArray()}var _d=new Xa,ZP=new re,JP=new re,zm=new re,oI=e=>.5*(1-Math.cos(e*Math.PI)),pY=new re,fY=new Wt,gY=new bv;function mY(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"Mesh"===i.type&&"TextGeometry"===i.geometry.type&&(t=!0)}),t}var hh,yY,bY,_Y,vY=class extends Dl{constructor(e,t,n){super(e,t,n),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){let e=this.dataPatched;return this.font?.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign)??0}get fontScale(){return this.font?this.dataPatched.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){return(this.font?.ascender??1)*this.fontScale}get descender(){return(this.font?.descender??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:n}=this;if(!isNaN(e.ray.origin.x)&&0!==this.scale.x&&0!==this.scale.y&&0!==this.scale.z&&(fY.copy(n).invert(),gY.copy(e.ray).applyMatrix4(fY),gY.intersectBox(this.singleBBox,pY))){let i=pY.applyMatrix4(n),r=e.ray.origin.distanceTo(i);t.push({distance:r,point:i.clone(),object:this})}}},Al=1e-4,xY=new re,wY=new re;kk.then(e=>{yY=[(hh=e).get_face_center,hh.get_edge_midpoint,hh.get_vertex_position],bY=[hh.get_face_normal,hh.get_edge_normal,hh.get_vertex_normal],_Y=[hh.face_count,hh.edge_count,hh.vertex_count]});var TRe=new Wt,kRe=new Wt,Wf=new re,Um=new re,U_=new re,sI=new re,IRe=new re,RRe=new re,yp=new class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,n=0){if(null==this.perlin){this.perlin=new Array(4096);for(let b=0;b<4096;b++)this.perlin[b]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),n<0&&(n=-n);let c,u,f,v,y,i=Math.floor(e),r=Math.floor(t),o=Math.floor(n),s=e-i,a=t-r,l=n-o,d=0,h=.5;for(let b=0;b<4;b++){let w=i+(r<<4)+(o<<8);c=oI(s),u=oI(a),f=this.perlin[4095&w],f+=c*(this.perlin[w+1&4095]-f),v=this.perlin[w+16&4095],v+=c*(this.perlin[w+16+1&4095]-v),f+=u*(v-f),w+=256,v=this.perlin[4095&w],v+=c*(this.perlin[w+1&4095]-v),y=this.perlin[w+16&4095],y+=c*(this.perlin[w+16+1&4095]-y),v+=u*(y-v),f+=oI(l)*(v-f),d+=f*h,h*=.5,i<<=1,s*=2,r<<=1,a*=2,o<<=1,l*=2,s>=1&&(i++,s--),a>=1&&(r++,a--),l>=1&&(o++,l--)}return d}noiseSeed(e){let t=(()=>{let n,i;return{setSeed(r){i=n=(r??4294967296*Math.random())>>>0},getSeed:()=>n,rand:()=>(i=(1664525*i+1013904223)%4294967296,i/4294967296)}})();t.setSeed(e),this.perlin=new Array(4096);for(let n=0;n<4096;n++)this.perlin[n]=t.rand()}},ru=class extends(ok(so)){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(null===this.parent)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof Za&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof Za&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){"toObject"!==this.parameters.type&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(t=void 0!==e?e:"grid"===this.parameters.type?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,"toObject"===this.parameters.type&&!this.parameters.toObject.object&&(t=0),"toObject"===this.parameters.type&&this.objectForSample){for(let i=0,r=this.children.length;i<r;++i)this.remove(this.children[0]);let n=this.children;if(n.length===t)return;if(n.length<t)for(let i=0,r=t-n.length;i<r;++i){let o=new Za(this.object);o.expand(),this.add(o)}else for(let i=0,r=n.length-t;i<r;++i)this.remove(n[i])}else{if(this.children.length===t)return;if(this.children.length<t)for(let n=0,i=t-this.children.length;n<i;++n){let r=new Za(this.object);r.expand(),this.add(r)}else for(let n=0,i=this.children.length-t;n<i;++n)this.remove(this.children[0])}}_updateRadial(e){let s,t=e.radial,n=t.start*Yn.DEG2RAD,r=n-t.end*Yn.DEG2RAD,o=new ya(t.rotation[0],t.rotation[1],t.rotation[2]);switch(t.axis){case"z":s=new re(0,0,1);break;case"y":s=new re(0,1,0);break;default:s=new re(1,0,0)}let a=e.randomnessObject??Tf.defaultData([1,1,1]).randomnessObject,l="perlin"===a.noiseType;yp.noiseSeed(a.seed);let c=rk((0,O_.default)(a.seed)),u=KP(a.strength,this.parameters.randomness);for(let[d,h]of this.children.entries()){let f=d*(a.freqScale/10)+a.movement,v=l?yp.noise(f):c(f,f),y=d+1;h.scale.x=t.scale[0]+u(y,Vi(v,a.scale[0]))||Al,h.scale.y=t.scale[1]+u(y,Vi(v,a.scale[1]))||Al,h.scale.z=t.scale[2]+u(y,Vi(v,a.scale[2]))||Al,h.position.setScalar(0);let b=r/e.count*d-n;switch(t.axis){case"x":h.rotation.set(0,b,0);break;case"y":h.rotation.set(0,0,b);break;case"z":h.rotation.set(b,0,0)}h.translateOnAxis(s,t.radius),h.position.x+=t.position[0]+u(y,Vi(v,a.position[0])),h.position.y+=t.position[1]+u(y,Vi(v,a.position[1])),h.position.z+=t.position[2]+u(y,Vi(v,a.position[2]));let w=u(y,Vi(v,a.rotation[0])),O=u(y,Vi(v,a.rotation[1])),S=u(y,Vi(v,a.rotation[2]));!0===t.alignment?(h.rotation.x+=o.x+w,h.rotation.y+=o.y+O,h.rotation.z+=o.z+S):h.rotation.set(o.x+w,o.y+O,o.z+S)}}_updateLinear(e){if("linear"!==e.type)throw new Error;let t=e.linear,n=new ya(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??Tf.defaultData([1,1,1]).randomnessObject,r="perlin"===i.noiseType;yp.noiseSeed(i.seed);let o=rk((0,O_.default)(i.seed)),s=KP(i.strength,this.parameters.randomness);for(let[a,l]of this.children.entries()){let c=a*(i.freqScale/10)+i.movement,u=r?yp.noise(c):o(c,c),d=a+1,h=s(d,Vi(u,i.rotation[0])),f=s(d,Vi(u,i.rotation[1])),v=s(d,Vi(u,i.rotation[2]));l.scale.x=1+(t.scale[0]-1)*a+s(d,Vi(u,i.scale[0]))||Al,l.scale.y=1+(t.scale[1]-1)*a+s(d,Vi(u,i.scale[1]))||Al,l.scale.z=1+(t.scale[2]-1)*a+s(d,Vi(u,i.scale[2]))||Al,l.rotation.x=n.x*a+h,l.rotation.y=n.y*a+f,l.rotation.z=n.z*a+v,l.position.x=t.position[0]*a+s(d,Vi(u,i.position[0])),l.position.y=t.position[1]*a+s(d,Vi(u,i.position[1])),l.position.z=t.position[2]*a+s(d,Vi(u,i.position[2]))}}_updateGrid(e){let t=0,n=e.grid,i=e.randomnessObject??Tf.defaultData([1,1,1]).randomnessObject,r=KP(i.strength,this.parameters.randomness),o="perlin"===i.noiseType;yp.noiseSeed(i.seed);let s=function U3e(e=Math.random){let t=aW(e),n=new Float64Array(t).map(o=>ik[o%12*3]),i=new Float64Array(t).map(o=>ik[o%12*3+1]),r=new Float64Array(t).map(o=>ik[o%12*3+2]);return function(o,s,a){let l,c,u,d,q,K,te,ie,ae,pe,h=.3333333333333333*(o+s+a),f=E_(o+h),v=E_(s+h),y=E_(a+h),b=(f+v+y)*sh,D=o-(f-b),V=s-(v-b),Y=a-(y-b);D>=V?V>=Y?(q=1,K=0,te=0,ie=1,ae=1,pe=0):D>=Y?(q=1,K=0,te=0,ie=1,ae=0,pe=1):(q=0,K=0,te=1,ie=1,ae=0,pe=1):V<Y?(q=0,K=0,te=1,ie=0,ae=1,pe=1):D<Y?(q=0,K=1,te=0,ie=0,ae=1,pe=1):(q=0,K=1,te=0,ie=1,ae=1,pe=0);let fe=D-q+sh,ge=V-K+sh,Oe=Y-te+sh,Pe=D-ie+2*sh,xe=V-ae+2*sh,_e=Y-pe+2*sh,Ue=D-1+.5,He=V-1+.5,ze=Y-1+.5,Re=255&f,Ye=255&v,Le=255&y,Xe=.6-D*D-V*V-Y*Y;if(Xe<0)l=0;else{let mt=Re+t[Ye+t[Le]];Xe*=Xe,l=Xe*Xe*(n[mt]*D+i[mt]*V+r[mt]*Y)}let Ge=.6-fe*fe-ge*ge-Oe*Oe;if(Ge<0)c=0;else{let mt=Re+q+t[Ye+K+t[Le+te]];Ge*=Ge,c=Ge*Ge*(n[mt]*fe+i[mt]*ge+r[mt]*Oe)}let ht=.6-Pe*Pe-xe*xe-_e*_e;if(ht<0)u=0;else{let mt=Re+ie+t[Ye+ae+t[Le+pe]];ht*=ht,u=ht*ht*(n[mt]*Pe+i[mt]*xe+r[mt]*_e)}let Ze=.6-Ue*Ue-He*He-ze*ze;if(Ze<0)d=0;else{let mt=Re+1+t[Ye+1+t[Le+1]];Ze*=Ze,d=Ze*Ze*(n[mt]*Ue+i[mt]*He+r[mt]*ze)}return 32*(l+c+u+d)}}((0,O_.default)(i.seed));if(!0===n.useCenter){let a={x:n.count[0]%2==0?2:1,y:n.count[1]%2==0?2:1,z:n.count[2]%2==0?2:1},l=new re(n.size[0]*(n.count[0]-a.x)*.5,n.size[1]*(n.count[1]-a.y)*.5,n.size[2]*(n.count[2]-a.z)*.5);for(let c=0;c<n.count[0];c++)for(let u=0;u<n.count[1];u++)for(let d=0;d<n.count[2];d++){let h=[(c+1)*(i.freqScale/10)+i.movement,(u+1)*(i.freqScale/10)+i.movement,(d+1)*(i.freqScale/10)+i.movement],f=o?yp.noise(...h):s(...h),v=this.children[t++];v.scale.x=1+r(t,Vi(f,i.scale[0]))||Al,v.scale.y=1+r(t,Vi(f,i.scale[1]))||Al,v.scale.z=1+r(t,Vi(f,i.scale[2]))||Al;let y=r(t,Vi(f,i.rotation[0])),b=r(t,Vi(f,i.rotation[1])),w=r(t,Vi(f,i.rotation[2]));v.rotation.set(y,b,w),v.position.x=n.size[0]*c-l.x+r(t,Vi(f,i.position[0])),v.position.y=n.size[1]*u-l.y+r(t,Vi(f,i.position[1])),v.position.z=n.size[2]*d-l.z+r(t,Vi(f,i.position[2]))}}else for(let a=0;a<n.count[0];a++)for(let l=0;l<n.count[1];l++)for(let c=0;c<n.count[2];c++){let u=[(a+1)*(i.freqScale/10)+i.movement,(l+1)*(i.freqScale/10)+i.movement,(c+1)*(i.freqScale/10)+i.movement],d=o?yp.noise(...u):s(...u),h=this.children[t++];h.scale.x=1+r(t,Vi(d,i.scale[0]))||Al,h.scale.y=1+r(t,Vi(d,i.scale[1]))||Al,h.scale.z=1+r(t,Vi(d,i.scale[2]))||Al;let f=r(t,Vi(d,i.rotation[0])),v=r(t,Vi(d,i.rotation[1])),y=r(t,Vi(d,i.rotation[2]));h.rotation.set(f,v,y),h.position.x=n.size[0]*a+r(t,Vi(d,i.position[0])),h.position.y=-n.size[1]*l+r(t,Vi(d,i.position[1])),h.position.z=-n.size[2]*c+r(t,Vi(d,i.position[2]))}}_updateToObject(e){if("toObject"!==e.type)throw new Error;let{toObject:t}=e,n=new ya(t.rotation[0],t.rotation[1],t.rotation[2]),i=e.randomnessObject??Tf.defaultData([1,1,1]).randomnessObject,r="perlin"===i.noiseType;yp.noiseSeed(i.seed);let o=rk((0,O_.default)(i.seed)),s=KP(i.strength,this.parameters.randomness);if(!t.object){for(let[,y]of this.children.entries())y.position.set(0,0,0),y.scale.setScalar(1),y.rotation.set(0,0,0);return void(this.objectForSample=void 0)}if(!this.objectForSample)return;if(this.objectForSample instanceof vY){if(!this.objectForSample.font?.isLoaded||void 0===this.objectForSample.geometry.attributes.position)return void(this._pendingMediaLoad=!0);this._pendingMediaLoad=!1}if(void 0===this.objectForSample.geometry&&this.objectForSample.isAncestorOf(this.object.uuid))return void console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);let a=this.getSubdivData(),l=[],c=y=>{let b=y.length;return[y.map(D=>D[0]).reduce((D,V)=>D+V,0)/b,y.map(D=>D[1]).reduce((D,V)=>D+V,0)/b,y.map(D=>D[2]).reduce((D,V)=>D+V,0)/b]},u=y=>Math.round(1e6*y)/1e6;a.forEach(y=>{let b=a.filter(w=>u(y.pos[0])===u(w.pos[0])&&u(y.pos[1])===u(w.pos[1])&&u(y.pos[2])===u(w.pos[2]));l.push(b.length>1?{pos:y.pos,norm:c(b.map(w=>w.norm))}:y)});let d=function xRe(e){let t=[],n={};for(var i=0,r=e.length;i<r;i++){var o=JSON.stringify(e[i].pos.map(s=>Math.round(1e4*s)/1e4));n[o]||(t.push(e[i]),n[o]=!0)}return t}(l);if(d.length>0){let y=Math.round(d.length*t.count/100);this._updateCount(y)}else{let y=this.objectForSample.geometry.getAttribute("position");if(!y||isNaN(y.count)||0===y.count)return void console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`)}this.objectForSample.updateMatrixWorld();let h=new class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||3!==t.attributes.position.itemSize)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let i=0;i<e.count;i+=3){let r=1;tu.a.fromBufferAttribute(e,i),tu.b.fromBufferAttribute(e,i+1),tu.c.fromBufferAttribute(e,i+2),r*=tu.getArea(),t[i/3]=r}this.distribution=new Float32Array(e.count/3);let n=0;for(let i=0;i<t.length;i++)n+=t[i],this.distribution[i]=n;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let n=this.distribution[this.distribution.length-1],i=this.binarySearch(this.randomFunction()*n);return this.sampleFace(i,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,n=0,i=t.length-1,r=-1;for(;n<=i;){let o=Math.ceil((n+i)/2);if(0===o||t[o-1]<=e&&t[o]>e){r=o;break}e<t[o]?i=o-1:n=o+1}return r}sampleFace(e,t,n){let i=this.randomFunction(),r=this.randomFunction();return i+r>1&&(i=1-i,r=1-r),tu.a.fromBufferAttribute(this.positionAttribute,3*e),tu.b.fromBufferAttribute(this.positionAttribute,3*e+1),tu.c.fromBufferAttribute(this.positionAttribute,3*e+2),t.set(0,0,0).addScaledVector(tu.a,i).addScaledVector(tu.b,r).addScaledVector(tu.c,1-(i+r)),tu.getNormal(n),this}}(this.objectForSample).build(),f=bRe[t.axis],v=this.children;h.setRandomGenerator((0,O_.default)(this.object.uuid+t.seed));for(let[y,b]of v.entries()){let w=y*(i.freqScale/10)+i.movement,O=r?yp.noise(w):o(w,w),S=y+1,D=s(S,Vi(O,i.rotation[0])),V=s(S,Vi(O,i.rotation[1])),Y=s(S,Vi(O,i.rotation[2]));"random"===t.spreadType?h.sample(U_,sI):(d.length&&(U_.fromArray(d[y].pos),sI.fromArray(d[y].norm)),this.objectForSample instanceof z_&&U_.applyMatrix4(TRe.copy(this.objectForSample.matrixWorld).invert())),U_.applyMatrix4(this.object.hiddenMatrix.clone().invert()),b.position.copy(U_),Wf.fromArray(f);let q="normal"===t.align?sI:this.object.getWorldDirection(RRe),K=Um.fromArray(t.position);Um.x+=Um.x+s(S,Vi(O,i.position[0])),Um.y+=Um.y+s(S,Vi(O,i.position[1])),Um.z+=Um.z+s(S,Vi(O,i.position[2]));let te=Math.acos(q.dot(Wf)),ie=IRe.crossVectors(Wf,q).normalize(),ae=kRe.makeRotationAxis(ie,te),pe=q.clone().cross(this.object.up).normalize(),fe=pe.clone().cross(q).normalize(),ge=(new Wt).makeBasis(pe,q,fe),Oe=new re(Wf.y,Wf.z,Wf.x).normalize(),Pe=Oe.clone().cross(Wf).normalize(),xe=(new Wt).makeBasis(Oe,Wf,Pe).invert(),_e=(new Wt).multiplyMatrices(ge,xe);b.rotation.setFromRotationMatrix(_e),K.applyMatrix4(ae),b.position.add(K),b.rotation.x=b.rotation.x+n.x+D,b.rotation.y=b.rotation.y+n.y+V,b.rotation.z=b.rotation.z+n.z+Y,b.scale.setScalar(1),b.scale.x=b.scale.x+t.scale[0]+s(S,Vi(O,i.scale[0]))||Al,b.scale.y=b.scale.y+t.scale[1]+s(S,Vi(O,i.scale[1]))||Al,b.scale.z=b.scale.z+t.scale[2]+s(S,Vi(O,i.scale[2]))||Al,b.scale.multiply(this.object.scale),b.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if("random"===e)return[];if(this.objectForSample instanceof z_){let t=this.objectForSample,n=_Re[e],r=yY[n],o=bY[n],s=[],a=(0,_Y[n])(t.subdivPointerNew);for(let l=0;l<=a-1;l++){let c=r(t.subdivPointerNew,l),u=o(t.subdivPointerNew,l);xY.fromArray(c).applyMatrix4(t.matrixWorld),wY.fromArray(u),s.push({pos:xY.toArray(),norm:wY.toArray()})}return s}return(this.objectForSample.geometry.index?function PRe(e){let t=[];for(let n=0;n<=e.index.count;n++)if(ZP.fromArray(e.index.array,3*n),_d.setFromAttributeAndIndices(e.attributes.position,ZP.x,ZP.y,ZP.z),_d.getNormal(JP),_d.getMidpoint(zm),!(isNaN(zm.x)||isNaN(zm.y)||isNaN(zm.z))){let{a:i,b:r,c:o}=_d,s=i.toArray(),a=r.toArray(),l=o.toArray(),c=i.distanceTo(r),u=r.distanceTo(o),d=o.distanceTo(i),h=L1(s,a),f=L1(a,l),v=L1(l,s),y=[c,u,d],b=Math.max(...y),w=y.filter(D=>Math.round(D)===Math.round(b)).length>1,O=[],S=_d.getMidpoint(zm).toArray();b===c&&!w&&(O=[f,v,v],S=h),b===u&&!w&&(O=[h,v,v],S=f),b===d&&!w&&(O=[h,f,f],S=v),w&&(O=[h,f,v]),t.push({vertices:[s,a,l],faceCenters:O,midpoint:S,norm:_d.getNormal(JP).toArray()})}return t}(this.objectForSample.geometry):function ORe(e){let t=[],{position:n}=e.attributes;for(let i=0;i<n.count;i++){_d.setFromAttributeAndIndices(n,3*i,3*i+1,3*i+2),_d.getNormal(JP),_d.getMidpoint(zm);let r=_d.a.toArray(),o=_d.b.toArray(),s=_d.c.toArray();t.push({vertices:[r,o,s],faceCenters:[L1(r,o),L1(o,s),L1(s,r)],midpoint:zm.toArray(),norm:JP.toArray()})}return t}(this.objectForSample.geometry)).map((t,n)=>"polygon_center"===e?{pos:t.midpoint,norm:t.norm}:"vertex"===e?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:"edge"===e?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[]).flat()}updateState(e,t){if(this.parameters=UM(e),"toObject"!==this.parameters.type)(null===this.parent||this.parent!==this.object)&&(this.removeFromParent(),this.object.parent?.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(null===this.parent||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let n=t.find(this.parameters.toObject.object);this.objectForSample=n instanceof Jl?n:void 0,this.matrix=new Wt,this.hiddenMatrix=new Wt,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,n&&n.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},j_=e=>{var t;return(t=class extends e{}).geometryHelper=new qu(30,30,30),t},e2=new bv,aI=new $l,CY=new Wt,V_=(e,t,n,i,r=!1)=>{let o=t,s=e.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),aI.copy(o.boundingSphere),aI.applyMatrix4(s),!1===n.ray.intersectsSphere(aI)||(CY.copy(s).invert(),e2.copy(n.ray).applyMatrix4(CY),null!==o.boundingBox&&!1===e2.intersectsBox(o.boundingBox)))return;let a,l,c,u,v,y,d=o.index,h=o.attributes.position,f=o.drawRange;if(!1===r){for(v=Math.max(0,f.start),y=Math.min(d.count,f.start+f.count);v<y;v+=3)if(l=d.getX(v),c=d.getX(v+1),u=d.getX(v+2),a=b(e,n,e2,h,l,c,u),a)return a.faceIndex=Math.floor(v/3),void i.push(a)}else{let w=o.attributes.position,O=new re,S=new re,D=new re,V=new re,Y=2,q=1/((e.scale.x+e.scale.y+e.scale.z)/3),K=q*q;for(let ae=Math.max(0,f.start),pe=Math.min(w.count,f.start+f.count)-1;ae<pe;ae+=Y){if(O.fromBufferAttribute(w,ae),S.fromBufferAttribute(w,ae+1),e2.distanceSqToSegment(O,S,V,D)>K)continue;V.applyMatrix4(e.matrixWorld);let fe=n.ray.origin.distanceTo(V);fe<n.near||fe>n.far||i.push({distance:fe,point:D.clone().applyMatrix4(e.matrixWorld),object:e})}}function b(w,O,S,D,V,Y,q){let K=new re,te=new re,ie=new re,ae=new re,pe=new re;if(K.fromBufferAttribute(D,V),te.fromBufferAttribute(D,Y),ie.fromBufferAttribute(D,q),null===S.intersectTriangle(K,te,ie,!1,ae))return null;pe.copy(ae),pe.applyMatrix4(w.matrixWorld);let fe=O.ray.origin.distanceTo(pe);return fe<O.near||fe>O.far?null:{faceIndex:1,distance:fe,point:pe.clone(),object:w}}},t2=new re,xd=new Dv,NRe=class extends qb{constructor(e){let t=new ei,n=new wf({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={},s=new si(15711266),a=new si(15711266),l=new si(2857471);function c(d,h,f){u(d,f),u(h,f)}function u(d,h){i.push(0,0,0),r.push(h.r,h.g,h.b),void 0===o[d]&&(o[d]=[]),o[d].push(i.length/3-1)}c("n1","n2",s),c("n2","n4",s),c("n4","n3",s),c("n3","n1",s),c("f1","f2",s),c("f2","f4",s),c("f4","f3",s),c("f3","f1",s),c("n1","f1",s),c("n2","f2",s),c("n3","f3",s),c("n4","f4",s),c("p","n1",a),c("p","n2",a),c("p","n3",a),c("p","n4",a),c("u1","u2",l),c("u2","u3",l),c("u3","u1",l),t.setAttribute("position",new Dn(i,3)),t.setAttribute("color",new Dn(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){let e=this.geometry,t=this.pointMap;xd.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let o=.8;ou("n1",t,e,xd,-1,-1,o),ou("n2",t,e,xd,1,-1,o),ou("n3",t,e,xd,-1,1,o),ou("n4",t,e,xd,1,1,o);let s=o;ou("f1",t,e,xd,-1,-1,s),ou("f2",t,e,xd,1,-1,s),ou("f3",t,e,xd,-1,1,s),ou("f4",t,e,xd,1,1,s),ou("u1",t,e,xd,.35,1.1,.8),ou("u2",t,e,xd,-.35,1.1,.8),ou("u3",t,e,xd,0,1.55,.8),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function ou(e,t,n,i,r,o,s){t2.set(r,o,s).unproject(i);let a=t[e];if(void 0!==a){let l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],t2.x,t2.y,t2.z)}}var lI,FRe=class extends(j_(NRe)){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){V_(this.object,this.geometry,e,t,!0)}};(e=>{e.is=t=>"objectHelper"in t})(lI||(lI={}));var H_=(e,t)=>class extends(dk(e)){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(n,i){this.objectHelper.raycast(n,i)}showGizmos(){for(let n in this.gizmos){let i=this.gizmos[n];i instanceof PM&&(i.visible=!0)}}updateEntityBoxSize(n,i){this.objectHelper.visible&&this.geometryHelper instanceof qu?(n.setScalar(0),i.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(n,i)}hideGizmos(){for(let n in this.gizmos){let i=this.gizmos[n];i instanceof PM&&(i.visible=!1)}}},B1=new re,cI=new re,dI=new Di,uI=new re,G_=new re,hI=new re,Ja=class extends(H_(Dv,FRe)){constructor(e="",t={...g_.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=n1.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new Wt,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let n=this.width,i=this.height;this.orthoCamera=new qA(-.5*n,.5*n,.5*i,-.5*i,-5e4,1e4),this.perspCamera=new $a(45,n/i,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return"PerspectiveCamera"===this.cameraType}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){"PerspectiveCamera"===e?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&("PerspectiveCamera"===e?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){"PerspectiveCamera"===e?this.toPerspective():"OrthographicCamera"===e&&this.toOrthographic()}get near(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.near:this.orthoCamera.near}set near(e){"PerspectiveCamera"===this._cameraType?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&("PerspectiveCamera"===this._cameraType?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,n){"number"==typeof e&&(e=new re(e,t,n)),super.lookAt(e),this.getWorldPosition(B1),this.targetOffset=B1.distanceTo(e)}getTarget(e=new re){return this.getWorldDirection(cI),this.getWorldPosition(B1),cI.multiplyScalar(this.targetOffset),e.copy(B1).add(cI),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(B1),B1.distanceTo(e)}updateUp(){this.getWorldQuaternion(dI),uI.set(0,0,1).applyQuaternion(dI),G_.copy(so.DEFAULT_UP),this.isUpVectorFlipped&&G_.negate(),G_.applyQuaternion(dI),hI.copy(so.DEFAULT_UP).projectOnPlane(uI),this.angleOffsetFromUp=hI.angleTo(G_),this.angleOffsetFromUp*=hI.cross(G_).dot(uI)>=0?1:-1}updateTransformState(e,t){let n=super.updateTransformState(e,t);return void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),n}getViewFrontToObject(e){let t=e.getWorldPosition(new re),n=e.getWorldDirection(new re).multiplyScalar(this.targetOffset);return{position:t.clone().add(n),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new re).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new re;return e.getWorldPosition(t),this.getViewToTarget(t)}setViewplaneSize(e,t,n=!1){if(this.aspect=e/t,n){let i=e>t?this.aspect:1,r=e>t?1:this.aspect;this.left=-395*i,this.right=395*i,this.top=1/r*395,this.bottom=1/r*-395}else this.left=.5*-e,this.right=.5*e,this.top=.5*t,this.bottom=.5*-t;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,n,i,r,o){"PerspectiveCamera"===this._cameraType?this.perspCamera.setViewOffset(e,t,n,i,r,o):this.orthoCamera.setViewOffset(e,t,n,i,r,o)}clearViewOffset(){"PerspectiveCamera"===this._cameraType?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){"PerspectiveCamera"===this._cameraType?this.toPerspective():"OrthographicCamera"===this._cameraType&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=null===e.view?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return $T(t,e)}updateCameraSubtype(e,t){let n="perspective"===e?"PerspectiveCamera":"OrthographicCamera";void 0!==t.zoom&&this.setZoom(n,t.zoom),void 0!==t.near&&this.setNear(n,t.near),void 0!==t.fov&&"PerspectiveCamera"===n&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),void 0!==e.far&&(this.far=e.far),void 0!==e.orthographic&&this.updateCameraSubtype("orthographic",e.orthographic),void 0!==e.perspective&&this.updateCameraSubtype("perspective",e.perspective),void 0!==e.type&&(this.cameraType=e.type),void 0!==e.up&&this.up.fromArray(e.up),void 0!==e.targetOffset&&(this.targetOffset=e.targetOffset),void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),1===e.path.length&&0===e.type&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}},z1=new Wt,LRe=new Wt,r2=new Wt,MY=new re,PY=new re;function OY(e){let t=!1;return e.scene.objects.traverse((n,i)=>{"BooleanGeometry"===i.geometry?.type&&(t=!0)}),t}var pI,jm=class extends F1{constructor(e,t,n){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new ei,this.onAfterRender=(i,r,o,s,a,l)=>{super.onAfterRender(i,r,o,s,a,l),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),1===e.path.length&&"geometry"===e.path[0]&&0===e.type&&void 0!==e.props.operation&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){if(-1!==this.booleanMeshSetAddress&&!e)return;for(let i=0;i<this.children.length;i++){let r=this.children[i];r instanceof jm&&!0===r.dataPatched.visible&&r.recomputeBoolean(!0===e,t)}this.meshSetAddresses=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof Jl&&!0===r.dataPatched.visible&&r.geometry.attributes.position?.count>0&&r.geometry.drawRange.count>0&&0!==r.booleanMeshSetAddress){z1.multiplyMatrices(r.hiddenMatrix,r.matrix);try{if(-1===r.booleanMeshSetAddress){if((r.geometry.index??r.geometry.getAttribute("position")).count/3<15e5&&(r.booleanMeshSetAddress=hp.getMeshSet(r.geometry,!0===e,t)),-1===r.booleanMeshSetAddress)return;hp.transformMeshSet(r.booleanMeshSetAddress,z1),r.booleanMatrixInvOld.copy(z1).invert(),r.booleanWasTransformed=!1}else r instanceof jm&&!0===r.needsTransformForDownstream?(hp.transformMeshSet(r.booleanMeshSetAddress,z1),r.needsTransformForDownstream=!1):!0===r.booleanWasTransformed&&(hp.transformMeshSet(r.booleanMeshSetAddress,LRe.multiplyMatrices(z1,r.booleanMatrixInvOld)),r.booleanMatrixInvOld.copy(z1).invert(),r.booleanWasTransformed=!1)}catch(o){console.error(o),r.booleanMeshSetAddress=0,r.geometry.userData.booleanOperationDidFail=!0;continue}!1===hp.hasOpenEdges(r.booleanMeshSetAddress)||i===this.children.length-1&&2===this.booleanOp?(this.meshSetAddresses.push(r.booleanMeshSetAddress),r.geometry.userData.booleanOperationDidFail=!1):r.geometry.userData.booleanOperationDidFail="openEdges"}}if(0===this.meshSetAddresses.length)return this.geometry.setAttribute("position",new Dn([],0)),void this.geometry.setDrawRange(0,0);if(!0===e)return hp.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let n=this.geometry;n.dispose(),this.geometry=new ei,this.geometry.userData=n.userData,this.geometry.boundingSphere=n.boundingSphere;try{this.booleanMeshSetAddress=hp.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(i){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(i)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,iI(this),rI(this)}dispose(){super.dispose(),this.geometry.dispose()}get recursiveBBox(){let e=super.recursiveBBox;return-1===this.geometry.boundingSphere?.radius&&(e.getCenter(this.geometry.boundingSphere.center),r2.copy(this.matrixWorld).invert(),this.geometry.boundingSphere.center.applyMatrix4(r2),MY.copy(e.max).applyMatrix4(r2),PY.copy(e.min).applyMatrix4(r2),this.geometry.boundingSphere.radius=MY.distanceTo(PY)/2),e}};(e=>{e.is=function t(n){return vr.is(n)&&n instanceof Jb}})(pI||(pI={}));var fI=(e,t)=>class extends(H_(e,t)){updateState_Light(n,i){this.updateState_Entity(n,i),void 0!==n.color&&(this.color=i.shared.color(n.color)),void 0!==n.intensity&&(this.intensity=n.intensity),void 0!==n.depth&&(this.shadow.camera.far=n.depth,this.shadow.needsUpdate=!0),void 0!==n.shadows&&(this.castShadow=n.shadows)}},su=e=>e instanceof Jl,bp=e=>null!==e&&e instanceof jm,BRe=e=>e instanceof Ja,zRe=e=>pI.is(e),gI=e=>lI.is(e),o2=class extends(j_(gCe)){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){V_(this.object,o2.geometryHelper,e,t)}update(){}},U1=class extends(H_(Fv,o2)){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&1===Object.keys(e).length&&t.scene.reloadSplats()}},W_="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",s2=class extends vo{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new qt(null),kernel16:new qt(null),inputBuffer:new qt(null),cocBuffer:new qt(null),texelSize:new qt(new Ve),scale:new qt(1)},blending:Is,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;\n#if PASS == 1\nuniform vec4 kernel64[32];\n#else\nuniform vec4 kernel16[8];\n#endif\nvarying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\n#else\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\n#else\nvec2 step=texelSize*CoC;\n#endif\n#if PASS == 1\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\n#else\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\n#endif\n}}",vertexShader:W_}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let t=new Float32Array(128),n=new Float32Array(32),i=0,r=0;for(let a=0;a<80;++a){let l=2.39996323*a,c=Math.sqrt(a)/Math.sqrt(80),u=c*Math.cos(l),d=c*Math.sin(l);a%5==0?(n[r++]=u,n[r++]=d):(t[i++]=u,t[i++]=d)}let o=[],s=[];for(let a=0;a<128;)o.push(new ji(t[a++],t[a++],t[a++],t[a++]));for(let a=0;a<32;)s.push(new ji(n[a++],n[a++],n[a++],n[a++]));this.uniforms.kernel64.value=o,this.uniforms.kernel16.value=s}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function EY(e,t,n){return e*(t-n)-t}function mI(e,t,n){return Math.min(Math.max((e+t)/(t-n),0),1)}var VRe=class extends vo{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new qt(null),focusDistance:new qt(0),focusRange:new qt(0),cameraNear:new qt(.3),cameraFar:new qt(1e3)},blending:Is,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}void main(){float depth=readDepth(vUv);\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\n#else\nfloat linearDepth=depth;\n#endif\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}",vertexShader:W_}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Kh){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-EY(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=mI(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-EY(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=mI(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof $a?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},DY=class extends vo{constructor(e=new Ve){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new qt(null),texelSize:new qt(new Ve),halfTexelSize:new qt(new Ve),kernel:new qt(0),scale:new qt(1)},blending:Is,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}",vertexShader:"uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.halfTexelSize.value.copy(n.texelSize.value).multiplyScalar(.5)}},qRe=class extends vo{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new qt(null),opacity:new qt(1)},blending:Is,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n}",vertexShader:W_}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},KRe=class extends vo{constructor(e=new Ve,t=2){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:dv.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new qt(null),depthBuffer:new qt(null),predicationBuffer:new qt(null),texelSize:new qt(e)},blending:Is,depthWrite:!1,depthTest:!1,fragmentShader:"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Kh){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*e).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},au={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},vI=class extends vo{constructor(e,t,n,i,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:dv.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new qt(null),depthBuffer:new qt(null),resolution:new qt(new Ve),texelSize:new qt(new Ve),cameraNear:new qt(.3),cameraFar:new qt(1e3),aspect:new qt(1),time:new qt(0)},blending:Is,depthWrite:!1,depthTest:!1,dithering:r}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.adoptCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Kh){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(au.FRAGMENT_HEAD,e.get(au.FRAGMENT_HEAD)).replace(au.FRAGMENT_MAIN_UV,e.get(au.FRAGMENT_MAIN_UV)).replace(au.FRAGMENT_MAIN_IMAGE,e.get(au.FRAGMENT_MAIN_IMAGE)),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}".replace(au.VERTEX_HEAD,e.get(au.VERTEX_HEAD)).replace(au.VERTEX_MAIN_SUPPORT,e.get(au.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof $a?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return au}},eNe=class extends vo{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:dv.replace(/\D+/g,"")},uniforms:{inputBuffer:new qt(null),threshold:new qt(0),smoothing:new qt(1),range:new qt(null)},blending:Is,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:W_}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return void 0!==this.defines.COLOR}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return null!==this.luminanceRange}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},nNe=class extends vo{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new qt(e),inputBuffer:new qt(null),strength:new qt(1)},blending:Is,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef MASK_PRECISION_HIGH\nuniform mediump sampler2D maskTexture;\n#else\nuniform lowp sampler2D maskTexture;\n#endif\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nmask=step(mask,0.0);\n#else\nmask=1.0-step(mask,0.0);\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=1.0-mask;\n#endif\n#endif\n#if MASK_FUNCTION == 2\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#else\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#endif\n}",vertexShader:W_}),this.toneMapped=!1,this.setColorChannel(0),this.setMaskFunction(0)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==qa&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return void 0!==this.defines.INVERTED}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},oNe=class extends vo{constructor(e=new Ve,t=new Ve){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new qt(null),searchTexture:new qt(null),areaTexture:new qt(null),resolution:new qt(t),texelSize:new qt(e)},blending:Is,depthWrite:!1,depthTest:!1,fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}",vertexShader:"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return void 0===this.defines.DISABLE_DIAG_DETECTION}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return void 0===this.defines.DISABLE_CORNER_DETECTION}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.resolution.value.set(e,t)}},sNe=new Dv,qf=null,Tl=class{constructor(e="Pass",t=new _f,n=sNe){this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();null!==t&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;null!==t?t.material=e:(t=new yl(function aNe(){if(null===qf){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);void 0!==(qf=new ei).setAttribute?(qf.setAttribute("position",new pi(e,3)),qf.setAttribute("uv",new pi(t,2))):(qf.addAttribute("position",new pi(e,3)),qf.addAttribute("uv",new pi(t,2)))}return qf}(),e),t.frustumCulled=!1,null===this.scene&&(this.scene=new _f),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=Kh){}render(e,t,n,i,r){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(null!==t&&"function"==typeof t.dispose){if(t instanceof _f||t===this.renderer)continue;this[e].dispose()}}}},yI=class extends Tl{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new qRe,this.needsSwap=!1,this.renderTarget=e,void 0===e&&(this.renderTarget=new oo(1,1,{minFilter:Ji,magFilter:Ji,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTarget.texture.type=n,n!==qa?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===Ui&&(this.renderTarget.texture.encoding=Ui))}},lNe=class extends Tl{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,i,r){let o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},bI=new si,_I=class extends Tl{constructor(e=!0,t=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,i,r){let o=this.overrideClearColor,s=this.overrideClearAlpha,a=e.getClearAlpha(),l=null!==o,c=s>=0;l?(bI.copy(e.getClearColor(bI)),e.setClearColor(o,c?s:a)):c&&e.setClearAlpha(s),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(bI,a):c&&e.setClearAlpha(a)}},sc=class extends Ia{constructor(e,t=-1,n=-1,i=1){super(),this.resizable=e,this.base=new Ve(1,1),this.preferred=new Ve(t,n),this.target=this.preferred,this.s=i}get width(){let i,{base:e,preferred:t,scale:n}=this;return i=-1!==t.width?t.width:-1!==t.height?Math.round(t.height*(e.width/Math.max(e.height,1))):Math.round(e.width*n),i}set width(e){this.preferredWidth=e}get height(){let i,{base:e,preferred:t,scale:n}=this;return i=-1!==t.height?t.height:-1!==t.width?Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):Math.round(e.height*n),i}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(-1),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return-1}},xI=!1,TY=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let n;if(t.material.flatShading)switch(t.material.side){case Xl:n=this.materialsFlatShadedDoubleSide;break;case va:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded}else switch(t.material.side){case Xl:n=this.materialsDoubleSide;break;case va:n=this.materialsBackSide;break;default:n=this.materials}this.originalMaterials.set(t,t.material),t.material=t.isSkinnedMesh?n[2]:t.isInstancedMesh?n[1]:n[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,null!==e){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let n of t)n.uniforms=Object.assign({},e.uniforms),n.side=Wd;t[2].skinning=!0,this.materialsBackSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=va,i}),this.materialsDoubleSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.side=Xl,i}),this.materialsFlatShaded=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=va,i}),this.materialsFlatShadedDoubleSide=t.map(n=>{let i=n.clone();return i.uniforms=Object.assign({},e.uniforms),i.flatShading=!0,i.side=Xl,i})}}render(e,t,n){let i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,xI){let r=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(let o of r)o[0].material=o[1];this.meshCount!==r.size&&r.clear()}else{let r=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=r}e.shadowMap.enabled=i}disposeMaterials(){if(null!==this.material){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return xI}static set workaroundEnabled(e){xI=e}},cNe=class extends Tl{constructor(e,t,n=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new _I,this.overrideMaterialManager=null===n?null:new TY(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return null!==e?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new TY(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,i,r){let o=this.scene,s=this.camera,a=this.selection,l=s.layers.mask,c=o.background,u=e.shadowMap.autoUpdate,d=this.renderToScreen?null:t;null!==a&&s.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(d),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,o,s):e.render(o,s),s.layers.mask=l,o.background=c,e.shadowMap.autoUpdate=u}},kY=class extends Tl{constructor(e,t,{resolutionScale:n=1,width:i=sc.AUTO_SIZE,height:r=sc.AUTO_SIZE,renderTarget:o}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new cNe(e,t,new oj({depthPacking:uU}));let s=this.renderPass;s.skipShadowMapUpdate=!0,s.ignoreBackground=!0;let a=s.getClearPass();a.overrideClearColor=new si(16777215),a.overrideClearAlpha=1,this.renderTarget=o,void 0===this.renderTarget&&(this.renderTarget=new oo(1,1,{minFilter:xo,magFilter:xo,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let l=this.resolution=new sc(this,i,r,n);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){this.renderPass.render(e,this.renderToScreen?null:this.renderTarget)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},wr=(new Float32Array([255/256/256**3,255/256/65536,255/256/256,255/256]),{SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18}),ENe=new Map([[wr.SKIP,null],[wr.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[wr.ALPHA,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[wr.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[wr.COLOR_BURN,"float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[wr.COLOR_DODGE,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[wr.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[wr.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[wr.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[wr.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[wr.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[wr.DIVIDE,"float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[wr.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[wr.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[wr.OVERLAY,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[wr.REFLECT,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[wr.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[wr.SOFT_LIGHT,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[wr.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]),DNe=class extends Ia{constructor(e,t=1){super(),this.f=e,this.opacity=new qt(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return ENe.get(this.blendFunction)}},ph={NONE:0,DEPTH:1,CONVOLUTION:2},fh=class extends Ia{constructor(e,t,{attributes:n=ph.NONE,blendFunction:i=wr.SCREEN,defines:r=new Map,uniforms:o=new Map,extensions:s=null,vertexShader:a=null}={}){super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=a,this.defines=r,this.uniforms=o,this.extensions=s,this.blendMode=new DNe(i),this.blendMode.addEventListener("change",l=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Kh){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(null!==t&&"function"==typeof t.dispose){if(t instanceof _f||t===this.renderer)continue;this[e].dispose()}}}};function IY(e,t,n){for(let i of t){let r="$1"+e+i.charAt(0).toUpperCase()+i.slice(1),o=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(let s of n.entries())null!==s[1]&&n.set(s[0],s[1].replace(o,r))}}function ANe(e,t,n,i,r,o,s){let a=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),l=void 0!==a.get("fragment")&&/mainImage/.test(a.get("fragment")),c=void 0!==a.get("fragment")&&/mainUv/.test(a.get("fragment")),u=[],d=[],h=!1,f=!1;if(void 0===a.get("fragment"))console.error("Missing fragment shader",t);else if(c&&s&ph.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(l||c){let v=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,y=vI.Section;if(c){let w=`\t${e}MainUv(UV);\n`;n.set(y.FRAGMENT_MAIN_UV,n.get(y.FRAGMENT_MAIN_UV)+w),h=!0}if(null!==a.get("vertex")&&/mainSupport/.test(a.get("vertex"))){let w=`\t${e}MainSupport(`;w+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(a.get("vertex"))?"vUv);\n":");\n",n.set(y.VERTEX_MAIN_SUPPORT,n.get(y.VERTEX_MAIN_SUPPORT)+w),u=u.concat([...a.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(O=>O[1])),d=d.concat(u).concat([...a.get("vertex").matchAll(v)].map(O=>O[1]))}d=d.concat([...a.get("fragment").matchAll(v)].map(w=>w[1])),d=d.concat([...t.defines.keys()].map(w=>w.replace(/\([\w\s,]*\)/g,""))),d=d.concat([...t.uniforms.keys()]),t.uniforms.forEach((w,O)=>o.set(e+O.charAt(0).toUpperCase()+O.slice(1),w)),t.defines.forEach((w,O)=>r.set(e+O.charAt(0).toUpperCase()+O.slice(1),w)),IY(e,d,r),IY(e,d,a);let b=t.blendMode;if(i.set(b.blendFunction,b),l){let O=`${e}MainImage(color0, UV, `;s&ph.DEPTH&&/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/.test(a.get("fragment"))&&(O+="depth, ",f=!0),O+="color1);\n\t";let S=e+"BlendOpacity";o.set(S,b.opacity),O+=`color0 = blend${b.blendFunction}(color0, color1, ${S});\n\n\t`,n.set(y.FRAGMENT_MAIN_IMAGE,n.get(y.FRAGMENT_MAIN_IMAGE)+O),O=`uniform float ${S};\n\n`,n.set(y.FRAGMENT_HEAD,n.get(y.FRAGMENT_HEAD)+O)}n.set(y.FRAGMENT_HEAD,n.get(y.FRAGMENT_HEAD)+a.get("fragment")+"\n"),null!==a.get("vertex")&&n.set(y.VERTEX_HEAD,n.get(y.VERTEX_HEAD)+a.get("vertex")+"\n")}else console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);return{varyings:u,transformedUv:h,readDepth:f}}var l2=class extends Tl{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new vI(null,null,null,e),this.effects=t.sort((n,i)=>i.attributes-n.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=vI.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),n=new Map,i=new Map,r=new Map,o=new Set,s=0,a=0,l=0,c=!1,u=!1;for(let h of this.effects)if(h.blendMode.blendFunction===wr.SKIP)l|=h.getAttributes()&ph.DEPTH;else if(l&h.getAttributes()&ph.CONVOLUTION)console.error("Convolution effects cannot be merged",h);else{l|=h.getAttributes();let v=ANe("e"+s++,h,t,n,i,r,l);if(a+=v.varyings.length,c=c||v.transformedUv,u=u||v.readDepth,null!==h.extensions)for(let y of h.extensions)o.add(y)}let d=/\bblend\b/g;for(let h of n.values()){let f=h.getShaderCode().replace(d,`blend${h.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+f+"\n")}l&ph.DEPTH?(u&&t.set(e.FRAGMENT_MAIN_IMAGE,"float depth = readDepth(UV);\n\n\t"+t.get(e.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,c?(t.set(e.FRAGMENT_MAIN_UV,"vec2 transformedUv = vUv;\n"+t.get(e.FRAGMENT_MAIN_UV)),i.set("UV","transformedUv")):i.set("UV","vUv"),t.forEach((h,f,v)=>v.set(f,h.trim().replace(/^#/,"\n#"))),this.uniformCount=r.size,this.varyingCount=a,this.skipRendering=0===s,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(o).setUniforms(r).setDefines(i)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Kh){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,i,r){for(let o of this.effects)o.update(e,t,i);if(!this.skipRendering||this.renderToScreen){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,o.time+=i,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(let i of this.effects)i.initialize(e,t,n),i.addEventListener("change",r=>this.handleEvent(r));this.updateMaterial(),this.verifyResources(),void 0!==n&&n!==qa&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){"change"===e.type&&this.recompile()}},TNe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],RY=class extends Tl{constructor({resolutionScale:e=.5,width:t=sc.AUTO_SIZE,height:n=sc.AUTO_SIZE,kernelSize:i=CI.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new oo(1,1,{minFilter:Ji,magFilter:Ji,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let r=this.resolution=new sc(this,t,n,e);r.addEventListener("change",o=>this.setSize(r.baseWidth,r.baseHeight)),this.blurMaterial=new DY,this.ditheredBlurMaterial=new DY,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=i}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,i,r){let h,f,o=this.scene,s=this.camera,a=this.renderTargetA,l=this.renderTargetB,c=TNe[this.kernelSize],u=this.blurMaterial,d=t;for(this.fullscreenMaterial=u,h=0,f=c.length-1;h<f;++h){let v=1&h?l:a;u.kernel=c[h],u.inputBuffer=d.texture,e.setRenderTarget(v),e.render(o,s),d=v}this.dithering&&(u=this.ditheredBlurMaterial,this.fullscreenMaterial=u),u.kernel=c[h],u.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(o,s)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let i=n.width,r=n.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(i,r),this.ditheredBlurMaterial.setSize(i,r)}initialize(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==qa?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===Ui&&(this.renderTargetA.texture.encoding=Ui,this.renderTargetB.texture.encoding=Ui))}static get AUTO_SIZE(){return sc.AUTO_SIZE}},kNe=class extends Tl{constructor({width:e=sc.AUTO_SIZE,height:t=sc.AUTO_SIZE,renderTarget:n,luminanceRange:i,colorOutput:r}={}){super("LuminancePass"),this.fullscreenMaterial=new eNe(r,i),this.needsSwap=!1,this.renderTarget=n,void 0===this.renderTarget&&(this.renderTarget=new oo(1,1,{minFilter:Ji,magFilter:Ji,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let o=this.resolution=new sc(this,e,t);o.addEventListener("change",s=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}initialize(e,t,n){void 0!==n&&n!==qa&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},INe=class extends Tl{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new _I(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,i,r){let o=e.getContext(),s=e.state.buffers,a=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,d=1-u;s.color.setMask(!1),s.depth.setMask(!1),s.color.setLocked(!0),s.depth.setLocked(!0),s.stencil.setTest(!0),s.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),s.stencil.setFunc(o.ALWAYS,u,4294967295),s.stencil.setClear(d),s.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(a,l)):(e.setRenderTarget(t),e.render(a,l),e.setRenderTarget(n),e.render(a,l)),s.color.setLocked(!1),s.depth.setLocked(!1),s.stencil.setLocked(!1),s.stencil.setFunc(o.EQUAL,1,4294967295),s.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),s.stencil.setLocked(!0)}},gh=class extends Tl{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,null!==this.fullscreenMaterial){let t=this.fullscreenMaterial.uniforms;void 0!==t&&void 0!==t[e]&&(this.inputBufferUniform=t[e])}}render(e,t,n,i,r){null!==this.inputBufferUniform&&null!==t&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}initialize(e,t,n){void 0!==n&&n!==qa&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},CI={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},LNe=class extends fh{constructor({blendFunction:e=wr.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:n=.025,resolutionScale:i=.5,intensity:r=1,width:o=sc.AUTO_SIZE,height:s=sc.AUTO_SIZE,kernelSize:a=CI.LARGE}={}){super("BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}",{blendFunction:e,uniforms:new Map([["map",new qt(null)],["intensity",new qt(r)]])}),this.renderTarget=new oo(1,1,{minFilter:Ji,magFilter:Ji,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new kNe({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=n,this.blurPass=new RY({resolutionScale:i,width:o,height:s,kernelSize:a});let l=this.blurPass.getResolution();l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,n){let i=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,i),this.blurPass.render(e,i,i)):this.blurPass.render(e,t,i)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.luminancePass.resolution.copy(n)}initialize(e,t,n){this.blurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,e.outputEncoding===Ui&&(this.renderTarget.texture.encoding=Ui))}},zNe=class extends fh{constructor({blendFunction:e=wr.NORMAL,brightness:t=0,contrast:n=0}={}){super("BrightnessContrastEffect","uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["brightness",new qt(t)],["contrast",new qt(n)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},jNe=class extends fh{constructor(e=wr.NORMAL){super("ColorAverageEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",{blendFunction:e})}},GNe=class extends fh{constructor({blendFunction:e=wr.NORMAL,offset:t=new Ve(.001,5e-4)}={}){super("ChromaticAberrationEffect","varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",{vertexShader:"uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",blendFunction:e,attributes:ph.CONVOLUTION,uniforms:new Map([["offset",new qt(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},qNe=class extends fh{constructor(e,{blendFunction:t=wr.NORMAL,worldFocusDistance:n,worldFocusRange:i,focusDistance:r=0,focalLength:o=.1,focusRange:s=o,bokehScale:a=1,width:l=sc.AUTO_SIZE,height:c=sc.AUTO_SIZE}={}){super("DepthOfFieldEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;\n#else\nuniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;\n#endif\nuniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}",{blendFunction:t,attributes:ph.DEPTH,uniforms:new Map([["nearColorBuffer",new qt(null)],["farColorBuffer",new qt(null)],["nearCoCBuffer",new qt(null)],["scale",new qt(1)]])}),this.camera=e,this.renderTarget=new oo(1,1,{minFilter:Ji,magFilter:Ji,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new gh(new VRe(e));let u=this.cocMaterial;u.focusDistance=r,u.focusRange=s,void 0!==n&&(u.worldFocusDistance=n),void 0!==i&&(u.worldFocusRange=i),this.blurPass=new RY({kernelSize:CI.MEDIUM,width:l,height:c});let d=this.blurPass.getResolution();d.addEventListener("change",f=>this.setSize(d.getBaseWidth(),d.getBaseHeight())),this.maskPass=new gh(new nNe(this.renderTargetCoC.texture));let h=this.maskPass.fullscreenMaterial;h.maskFunction=1,h.colorChannel=1,this.bokehNearBasePass=new gh(new s2(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new gh(new s2(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new gh(new s2(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new gh(new s2(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=a}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let n of t)n.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera;return mI(-t.position.distanceTo(e),t.near,t.far)}setDepthTexture(e,t=Kh){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,n){let i=this.renderTarget,r=this.renderTargetCoC,o=this.renderTargetCoCBlurred,s=this.renderTargetMasked;if(null!==this.target){let a=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=a}this.cocPass.render(e,null,r),this.blurPass.render(e,r,o),this.maskPass.render(e,t,s),this.bokehFarBasePass.render(e,s,i),this.bokehFarFillPass.render(e,i,this.renderTargetFar),this.bokehNearBasePass.render(e,t,i),this.bokehNearFillPass.render(e,i,this.renderTargetNear)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let i=n.width,r=n.height,o=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];o.push(this.renderTargetCoC,this.renderTargetMasked),o.forEach(s=>s.setSize(e,t)),o=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],o.forEach(s=>s.setSize(i,r)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(s=>s.fullscreenMaterial.setSize(i,r))}initialize(e,t,n){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(i=>i.initialize(e,t,n)),this.blurPass.initialize(e,t,qa),void 0!==n&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,e.outputEncoding===Ui&&(this.renderTarget.texture.encoding=Ui,this.renderTargetNear.texture.encoding=Ui,this.renderTargetFar.texture.encoding=Ui,this.renderTargetMasked.texture.encoding=Ui))}},XNe=(new re,new Wt,class extends fh{constructor({blendFunction:e=wr.NORMAL,hue:t=0,saturation:n=0}={}){super("HueSaturationEffect","uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["hue",new qt(new re)],["saturation",new qt(n)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((3*e.x-1)/2)}set hue(e){let t=Math.sin(e),n=Math.cos(e);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}}),KNe=(new si,class extends fh{constructor({blendFunction:e=wr.SCREEN,premultiply:t=!1}={}){super("NoiseEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\n#ifdef PREMULTIPLY\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\n#else\noutputColor=vec4(noise,inputColor.a);\n#endif\n}",{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}}),ZNe=class extends fh{constructor(e=30){super("PixelationEffect","uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",{uniforms:new Map([["active",new qt(!1)],["d",new qt(new Ve)]])}),this.resolution=new Ve,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}},NY=(Math,new re,new re,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC"),FY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",LY=class extends fh{constructor({preset:e=1,edgeDetectionMode:t=2,predicationMode:n=0}={}){let i,r;super("SMAAEffect","uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",{vertexShader:"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",blendFunction:wr.NORMAL,attributes:ph.CONVOLUTION|ph.DEPTH,uniforms:new Map([["weightMap",new qt(null)]])}),arguments.length>1&&(i=arguments[0],r=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new oo(1,1,{minFilter:Ji,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new _I(!0,!1,!1),this.clearPass.overrideClearColor=new si(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new gh(new KRe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=n,this.weightsPass=new gh(new oNe);let o=new Lj;o.onLoad=()=>{let s=new na(i);s.name="SMAA.Search",s.magFilter=xo,s.minFilter=xo,s.generateMipmaps=!1,s.needsUpdate=!0,s.flipY=!0,this.weightsMaterial.searchTexture=s;let a=new na(r);a.name="SMAA.Area",a.magFilter=Ji,a.minFilter=Ji,a.generateMipmaps=!1,a.needsUpdate=!0,a.flipY=!1,this.weightsMaterial.areaTexture=a,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),void 0!==i&&void 0!==r?(o.itemEnd("search"),o.itemEnd("area")):typeof Image<"u"&&(i=new Image,r=new Image,i.addEventListener("load",()=>o.itemEnd("search")),r.addEventListener("load",()=>o.itemEnd("area")),i.src=NY,r.src=FY),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(e){case 0:t.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 1:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 2:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case 3:t.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0}}setDepthTexture(e,t=Kh){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,n){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;null!==e&&null!==t&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return NY}static get areaImageDataURL(){return FY}},n5e=class extends fh{constructor({blendFunction:e=wr.NORMAL,technique:t=0,eskil:n=!1,offset:i=.5,darkness:r=.5}={}){super("VignetteEffect","uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\n#if VIGNETTE_TECHNIQUE == 0\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\n#else\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\n#endif\noutputColor=vec4(color,inputColor.a);}",{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new qt(i)],["darkness",new qt(r)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return 1===this.technique}set eskil(e){this.technique=e?1:0}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}};function MI(e,t,n){return e+(t-e)*n}function el(e,t,n,i){let r=MI(e,t,.75),o=MI(n,i,.75);return MI(r,o,.875)}new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]),el(0,0,0,0),new Float32Array([0,0,0,0]),el(0,0,0,1),new Float32Array([0,0,0,1]),el(0,0,1,0),new Float32Array([0,0,1,0]),el(0,0,1,1),new Float32Array([0,0,1,1]),el(0,1,0,0),new Float32Array([0,1,0,0]),el(0,1,0,1),new Float32Array([0,1,0,1]),el(0,1,1,0),new Float32Array([0,1,1,0]),el(0,1,1,1),new Float32Array([0,1,1,1]),el(1,0,0,0),new Float32Array([1,0,0,0]),el(1,0,0,1),new Float32Array([1,0,0,1]),el(1,0,1,0),new Float32Array([1,0,1,0]),el(1,0,1,1),new Float32Array([1,0,1,1]),el(1,1,0,0),new Float32Array([1,1,0,0]),el(1,1,0,1),new Float32Array([1,1,0,1]),el(1,1,1,0),new Float32Array([1,1,1,0]),el(1,1,1,1),new Float32Array([1,1,1,1]);var _p=class{constructor(e,t){this.enabled=!1,this.effect=new e(t),Object.defineProperty(this,"opacity",{enumerable:!0,set(n){this.effect.blendMode.opacity.value=n},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(n){this.effect.blendMode.setBlendFunction(Number(n))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=wr.NORMAL}},i5e=class extends _p{constructor(){super(LNe),this.blendFunction=wr.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},r5e=class extends _p{constructor(){super(zNe)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},o5e=class extends _p{constructor(){super(GNe),this.effect.offset=new Ve(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[1e3*this.effect.offset.x,1e3*this.effect.offset.y]}},s5e=class extends _p{constructor(){super(jNe)}},a5e=class extends _p{constructor(){super(XNe),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},l5e=class extends _p{constructor(){super(KNe),this.blendFunction=wr.OVERLAY}},c5e=class extends _p{constructor(){super(n5e)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},d5e=class extends _p{constructor(e){super(qNe,e)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=e}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}},u5e=class extends _p{constructor(){super(ZNe)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},PI=class extends vo{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new qt(null)},blending:Is,depthWrite:!1,depthTest:!1,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}",fragmentShader:"#define GLSLIFY 1\nlayout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},m5e=class extends Tl{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new PI,this.resolutionVector=new Ve,this.resolveMaterial=new vo({name:"TAAResolveMaterial",uniforms:{inputBuffer:new qt(null),historyBuffer:new qt(null),velocityBuffer:new qt(null),depthBuffer:new qt(null),resolution:new qt(new Ve)},blending:Is,depthWrite:!1,depthTest:!1,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:"#define GLSLIFY 1\n#include <common>\nvarying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;\n#define USE_YCOCG\n#define USE_CATMULL_ROM\nconst float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){\n#ifdef USE_YCOCG\nvec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);\n#else\nreturn texture(tex,uv);\n#endif\n}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){\n#ifdef CHOOSE_LONGEST_MOTION_VECTOR\nfloat longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;\n#else\nfloat closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;\n#endif\n}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);\n#ifdef USE_CATMULL_ROM\nvec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);\n#else\nvec4 previousColor=sample_color(historyBuffer,previousPixelPos);\n#endif\n#ifdef USE_YCOCG\npreviousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);\n#endif\nvec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);\n#ifdef USE_YCOCG\nvec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;\n#endif\nvec4 previousColorClipped=clamp(previousColor,cmin,cmax);\n#ifdef LUMINANCE_DIFFERENCES\n#ifdef USE_YCOCG\nfloat lum0=currentColor.r;float lum1=previousColorClipped.r;\n#else\nfloat lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);\n#endif\nfloat unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));\n#else\nconst float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);\n#endif\n#ifdef USE_YCOCG\ngl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);\n#else\ngl_FragColor=result;\n#endif\n}"}),this.historyRenderTarget=new oo(1024,1024,{minFilter:Ji,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new oo(1024,1024,{minFilter:Ji,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let n=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(n),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},v5e=class extends Tl{constructor(e,t,n){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new kY(e,t,{renderTarget:n.transmissionDepthTarget}),this.passThroughMaterial=new PI,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new PI,this.depthPass=new kY(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,n){let i=this.camera.layers.mask,r=e;r.setRenderTarget(r.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],r.clear(),r.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,n),r.shadowMap.needsUpdate=!1,r.shadowMap.autoUpdate=!1;let o=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(o),e.render(this.splineScene,this.camera),this.camera.layers.mask=i}},BY=new _f,y5e=new vo({transparent:!0,vertexShader:"\n        void main() {\n            gl_Position = vec4(0.0);\n        }\n    ",fragmentShader:"\n        layout(location = 1) out vec4 gVelocity;\n\n        void main() {\n            gl_FragColor = vec4(0.0);\n\t\t\tgVelocity = vec4(0.0);\n        }\n    "}),OI=class extends Tl{constructor(e,t,n){super("OpaquePass",t??BY,n),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=e}set splatViewer(e){this._splatViewer=e}get splatViewer(){return this._splatViewer}setCamera(e){this.camera=e}setScene(e){this.scene=e??BY}getScene(){return this.scene}render(e,t){if(this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse(i=>{i.layers.isEnabled(3)&&i instanceof Jl&&(this.originalMaterials.set(i.id,i.material),i.material=y5e)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8),e.setRenderTarget(this.renderToScreen?null:t),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),!0===this._splatViewer?.splatRenderingInitialized){let i=e.autoClear;e.autoClear=!1,e.render(this.scene,this.camera),this._splatViewer.update(),e.render(this._splatViewer.splatMesh,this.camera),e.autoClear=i}else e.render(this.scene,this.camera);this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach((i,r)=>{let o=this.scene.getObjectById(r);o&&(o.material=i)})}},_5e=new vo({name:"CombineMaterial",uniforms:{inputBufferA:new qt(null),inputBufferB:new qt(null)},blending:Is,depthWrite:!1,depthTest:!1,vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    gl_Position = vec4(position.xy, 1.0, 1.0);\n    vUv = position.xy * 0.5 + 0.5;\n}\n",fragmentShader:"\n    varying vec2 vUv;\n    uniform sampler2D inputBufferA;\n    uniform sampler2D inputBufferB;\n\n    // TODO: Why do we need these when postpro of framemode is enabled???\n    layout(location = 1) out vec4 gVelocity;\n\n    void main() {\n\tvec4 resA = texture2D(inputBufferA, vUv);\n\tvec4 resB = texture2D(inputBufferB, vUv);\n    float a = resA.a + resB.a * ( 1.0 - resA.a );\n\n\tvec4 res;\n\tres.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));\n\tres.a = resA.a + resB.a * (1.0 - resA.a);\n\tgl_FragColor = res;\n    gVelocity = vec4(0.0);\n    }\n"}),x5e=class extends Tl{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=_5e,this.helperPass=new OI(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new OI(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new LY({preset:0,edgeDetectionMode:2});this.effectPass=new l2(this.camera,t),this.rt=new oo(10,10,{minFilter:Ji,magFilter:Ji,wrapS:ms,wrapT:ms,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,n){this.rt.depthTexture=t.depthTexture;let i=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,n),this.fullscreenMaterial.uniforms.inputBufferA.value=n.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(i),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},q_=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],E5e=new vo({vertexShader:"#define GLSLIFY 1\n#include <skinning_pars_vertex>\nout vec3 n;void main(){\n#include <beginnormal_vertex>\n#include <skinbase_vertex>\n#include <skinnormal_vertex>\n#include <defaultnormal_vertex>\n#include <begin_vertex>\n#include <skinning_vertex>\nvec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}",fragmentShader:"#define GLSLIFY 1\nin vec3 n;void main(){gl_FragColor=vec4(n,1.0);}"}),d2=new vo({vertexShader:"#define GLSLIFY 1\nout vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}",fragmentShader:"#define GLSLIFY 1\nin vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){\n#ifdef DEBUG\nfloat d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);\n#else\nvec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;\n#endif\n}",uniforms:{texture_ao_lrez:new qt(null),texture_depth_lrez:new qt(null),texture_depth_hrez:new qt(null),near:new qt(null),far:new qt(null)}}),D5e=class extends Tl{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let n=1024,i=1024;this.gBuffer=new oo(n,i,{type:ml,depthTexture:new Lv(n,i),minFilter:Ji,magFilter:Ji}),this.depthBufferHighRes=new oo(n,i,{depthTexture:new Lv(n,i)}),this.aoBuffer=new oo(n,i,{minFilter:Ji,magFilter:Ji}),this.splineScene=e,this.splineCamera=t;let r=new Float32Array(2*q_.length);for(let s=0;s<q_.length;s++){let a=2*s;r[a+0]=q_[s][0],r[a+1]=q_[s][1]}this.blueNoiseInDiskTexture=new xf(r,q_.length,1,TC,ml),this.blueNoiseInDiskTexture.wrapS=Xh,this.blueNoiseInDiskTexture.wrapT=Xh,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new vo({vertexShader:"#define GLSLIFY 1\nout vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:"#define GLSLIFY 1\nin vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}\n#define USE_GBUFFER_NORMALS\nvoid main(){vec3 view_space_p=get_view_position(v_uv);\n#ifdef USE_GBUFFER_NORMALS\nvec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;\n#else\nvec3 view_space_n=-rebuild_normal(v_uv,view_space_p);\n#endif\nfloat radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}",uniforms:{near:new qt(null),far:new qt(null),fov:new qt(null),proj_info:new qt(new ji),is_ortho:new qt(!1),resolution:new qt(new Ve),radius_of_influence:new qt(8),radius_in_screen_space:new qt(1),exponent:new qt(1),ao_color:new qt(new re),bias:new qt(.5),texture_depth:new qt(null),texture_normals:new qt(null),texture_blue_noise:new qt(null),texture_blue_noise_in_disk:new qt(this.blueNoiseInDiskTexture),frame_index:new qt(0),fog_enabled:new qt(!1),fog_near:new qt(1),fog_far:new qt(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new oo(n,i,{minFilter:Ji,magFilter:Ji,wrapS:ms,wrapT:ms,depthBuffer:!1,type:ml});let o=new LY({preset:3,edgeDetectionMode:2});this.effectPass=new l2(this.camera,o)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let n=this._runHalfRes?.5:1,i=e*n,r=t*n;this.gBuffer.setSize(i,r),this.aoBuffer.setSize(i,r),this.hbaoMaterial.uniforms.resolution.value.set(i,r),this.aaBuffer.setSize(i,r),this.effectPass.setSize(i,r)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}render(e,t,n){this.splineScene.overrideMaterial=E5e;let i=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=i,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let r=this.splineCamera.perspCamera.projectionMatrix.elements;this.hbaoMaterial.uniforms.proj_info.value.set(2/r[0],2/r[5],-(1-r[8])/r[0],-(1+r[9])/r[5]);let c=this.splineCamera.perspCamera.fov*(Math.PI/180),u=this.hbaoMaterial.uniforms.resolution.value.y/(2*Math.tan(.5*c));this.hbaoMaterial.uniforms.radius_in_screen_space.value=.5*this.hbaoMaterial.uniforms.radius_of_influence.value*u,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let r=this.splineCamera.orthoCamera.projectionMatrix.elements,s=2/r[5];this.hbaoMaterial.uniforms.proj_info.value.set(2/r[0],s,-(1+r[12])/r[0],-(1-r[13])/r[5]),this.hbaoMaterial.uniforms.radius_in_screen_space.value=this.hbaoMaterial.uniforms.radius_of_influence.value*(this.hbaoMaterial.uniforms.resolution.value.y/s*.5),this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=d2,d2.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,d2.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,d2.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},k5e=class extends gh{constructor(){super(new vo({vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D tInput;\nuniform sampler2D tMap;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform vec2 uResolution;\nuniform vec2 uCoords;\n\n// Draws a rectangle at center <st> with size <size>\nfloat rectangle(vec2 st, vec2 size) {\n    size = vec2(0.5) - size * 0.5;\n    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));\n    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));\n\n    return uv.x * uv.y;\n}\n\nuniform vec2 uSize;\nuniform float uScale;\nuniform float uDPR;\nuniform float uCurrent;\nuniform vec3 uSceneColor;\n\nvoid main() {\n    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n    screenUv *= 1.0 / uDPR;\n\n    vec2 center = vec2(0.5, -0.5);\n    vec2 outsideUv = screenUv;\n    outsideUv += center;\n    outsideUv -= uCoords.xy / uResolution.xy;\n    outsideUv = (outsideUv - 0.5) + 0.5;\n    outsideUv -= center;\n    vec2 s = (uSize / uResolution) * uScale;\n    float isOutside = 1.0 - rectangle(outsideUv, s);\n    \n    vec2 mid = vec2(0.5);\n    vec2 insideUv = (screenUv - mid + s * mid) / s;\n    vec4 background = texture2D(tInput, screenUv);\n    vec4 image = texture2D(tMap, insideUv);\n    gl_FragColor = mix(image, background, isOutside);\n}\n",uniforms:{tInput:new qt(null),tMap:new qt(null),uResolution:new qt(new Ve),uSize:new qt(new Ve),uCoords:new qt(new Ve),uScale:new qt(1),uSceneColor:new qt(new si(16711680)),uDPR:new qt(1),uCurrent:new qt(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},N5e=[],F5e=class extends gh{constructor(){super(new vo({vertexShader:"\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D toScene;\nuniform sampler2D fromScene;\nuniform vec2 resolution;\n\nuniform vec2 uResolution;\nuniform float uDPR;\n\nuniform float mixRatio;\nuniform sampler2D tMixTexture;\nuniform int useTexture;\nuniform float threshold;\n\nvoid main() {\n\tvec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n\tscreenUv *= 1.0 / uDPR;\n\n\tvec4 texel1 = texture2D( fromScene, screenUv );\n\tvec4 texel2 = texture2D( toScene, screenUv );\n\n\tif (useTexture==1) {\n\t\t\n\t\tvec4 transitionTexel = texture2D( tMixTexture, screenUv );\n\t\tfloat r = mixRatio * (1.0 + threshold * 2.0) - threshold;\n\t\tfloat mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);\n\t\t\n\t\tgl_FragColor = mix( texel1, texel2, mixf );\n\t} else {\n\t\t\n\t\tgl_FragColor = mix( texel1, texel2, mixRatio );\n\t\t\n\t}\n}\n",uniforms:{toScene:new qt(null),fromScene:new qt(null),uResolution:new qt(new Ve),uDPR:new qt(1),mixRatio:new qt(0),threshold:new qt(.1),useTexture:new qt(0),tMixTexture:{value:N5e[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}};function zY(e,t){return t&&t.enabled&&e.push(t.effect),e}var L5e=e=>Object.values(wr).includes(e)?e:wr.NORMAL,B5e=class extends Ia{constructor(e){super(),this.postprocessingState=fP.defaultData,this._scene=new _f,this._camera=new Ja,this.effects=new Map,this.blueNoiseTexture=new xf,this._renderToScreen=!0,this.clock=new class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Hj(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=Hj();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},this.renderer=e,this.debug=!1,this.effects.set("bloom",new i5e),this.effects.set("chromaticAberration",new o5e),this.effects.set("vignette",new c5e),this.effects.set("noise",new l5e),this.effects.set("colorAverage",new s5e),this.effects.set("hueSaturation",new a5e),this.effects.set("brightnessContrast",new r5e),this.effects.set("depthOfField",new d5e),this.effects.set("pixelation",new u5e),this.effectComposer=new class{constructor(e,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:i=0,frameBufferType:r=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new yI,this.depthTexture=null,this.timer=new class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return.001*this.delta}getFixedDelta(){return.001*this.fixedDelta}setFixedDelta(e){return this.fixedDelta=1e3*e,this}getElapsed(){return.001*this.elapsed}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=void 0!==e?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,n,r,i,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,n,r,i,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,n,r,i,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,null!==e){let t=e.getSize(new Ve),n=e.getContext().getContextAttributes()?.alpha??!1,i=this.inputBuffer.texture[0].type;i===qa&&e.outputEncoding===Ui&&(this.inputBuffer.texture[0].encoding=Ui,this.outputBuffer.texture[0].encoding=Ui,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(t.width,t.height,!1);for(let r of this.passes)r.initialize(e,n,i)}}replaceRenderer(e,t=!0){let n=this.renderer,i=n.domElement.parentNode;return this.setRenderer(e),t&&null!==i&&(i.removeChild(n.domElement),i.appendChild(e.domElement)),n}createDepthTexture(){let e=this.depthTexture=new Lv(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=dm,e.type=lm):e.type=$h,e}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,i,r,o){let c,s=this.renderer,a=null===s?new Ve:s.getDrawingBufferSize(new Ve),l={minFilter:Ji,magFilter:Ji,wrapS:ms,wrapT:ms,stencilBuffer:t,depthBuffer:e};return i>0?(c=new oo(a.width,a.height,l),c.samples=i):(r?(c=new u1e(a.width,a.height,2,l),c.texture[1].type=am):c=new oo(a.width,a.height,l),c.depthTexture=new Lv(2048,2048),c.depthTexture.type=ml),n===qa&&null!==s&&s.outputEncoding===Ui&&(Array.isArray(c.texture)?c.texture.forEach(u=>u.encoding=Ui):c.texture.encoding=Ui),Array.isArray(c.texture)?c.texture.forEach((u,d)=>{u.name=`EffectComposer.Buffer ${r} ${d}`,u.generateMipmaps=!1}):(c.texture.name=`EffectComposer.Buffer ${r}`,c.texture.generateMipmaps=!1),c.name=o,c}addPass(e,t){let s,n=this.passes,i=this.renderer,r=i.getDrawingBufferSize(new Ve),o=i.getContext().getContextAttributes()?.alpha??!1;if(e.MRTCompatible&&(s=this.inputBuffer.texture[0].type),e.MRTCompatible||(s=this.inputBuffer.texture.type),e.setRenderer(i),e.setSize(r.width,r.height),e.initialize(i,o,s),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){let a=this.createDepthTexture();for(e of n)e.setDepthTexture(a)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,n=t.indexOf(e);-1!==n&&t.splice(n,1).length>0&&(null!==this.depthTexture&&(t.reduce((r,o)=>r||o.needsDepthTexture,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())),this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0)))}removeAllPasses(){let e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let l,c,u,d,t=this.renderer,n=this.copyPass,i=this.inputBuffer,r=this.outputBuffer,o=this.inputBufferSingle,s=this.outputBufferSingle,a=!1;void 0===e&&(e=this.timer.update().getDelta());for(let h of this.passes)h.enabled&&(h.MRTCompatible?h.render(t,i,r,e,a):h.render(t,o,s,e,a),h.needsSwap&&(a&&(n.renderToScreen=h.renderToScreen,l=t.getContext(),c=t.state.buffers.stencil,c.setFunc(l.NOTEQUAL,1,4294967295),n.render(t,i,r,e,a),c.setFunc(l.EQUAL,1,4294967295)),u=i,d=o,i=r,o=s,r=u,s=d),h instanceof INe?a=!0:h instanceof lNe&&(a=!1))}setSize(e,t,n){let i=this.renderer;if(this._width=e,this._height=t,void 0===e||void 0===t){let o=i.getSize(new Ve);e=o.width,t=o.height}i.setSize(e,t,n);let r=i.getDrawingBufferSize(new Ve);this.inputBuffer.setSize(r.width,r.height),this.outputBuffer.setSize(r.width,r.height),this.inputBufferSingle.setSize(r.width,r.height),this.outputBufferSingle.setSize(r.width,r.height);for(let o of this.passes)o.setSize(r.width,r.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),null!==this.inputBufferSingle&&this.inputBufferSingle.dispose(),null!==this.outputBufferSingle&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}}(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new OI(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new v5e(this.scene,this.camera,this.renderer),this.aoPass=new D5e(this.scene,this.camera),this.taaPass=new m5e,this.taaPass.renderToScreen=!1,this.helperPass=new x5e(this.camera),this.helperPass.renderToScreen=!1,this.overlayPass=new k5e,this.overlayPass.enabled=!1,this.sceneTransitionPass=new F5e,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){void 0!==e?(this.overlayPass.texture=e,this.overlayPass.enabled=!0):this.overlayPass.enabled=!1}get overlayTexture(){return this.overlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),this.aoPass.setCamera(e),this.helperPass.setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let n=this.effectComposer.passes[t];!0!==n.enabled||e||!this._renderToScreen?n.renderToScreen=!1:(n.renderToScreen=!0,e=!0)}}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new xf(e,128,128),this.blueNoiseTexture.wrapS=Xh,this.blueNoiseTexture.wrapT=Xh,this.blueNoiseTexture.minFilter=xo,this.blueNoiseTexture.magFilter=xo,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,n,i,r,o,s,a){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=n,this.aoPass.aoColor=i,this.aoPass.fogEnabled=r,this.aoPass.fogNear=o,this.aoPass.fogFar=s,this.aoPass.runHalfRes!==!a&&(this.aoPass.runHalfRes=!a)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){if(this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let e=[this.effects.get("pixelation")].reduce(zY,[]);e.length>0&&(this.uvEffectPass=new l2(this.camera,...e),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let t=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(zY,[]);t.length>0&&(this.effectPass=new l2(this.camera,...t),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass))}this.effectComposer.addPass(this.overlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass)}_initCopyPass(){if(this._savePass)return;let e=new Ve;this.renderer.getDrawingBufferSize(e),this._rt=new oo(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:Xh,wrapT:Xh}),this._rt.samples=0,this._savePass=new yI(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new yI(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(!0===e?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(null!==e?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let{enabled:t,...n}=e,i=!1;t!==this.postprocessingState.enabled&&(i=!0);for(let r of Object.entries(n)){let o=r[1],s=this.effects.get(r[0]);if(s){s.enabled!==o.enabled&&(i=!0),s.enabled=o.enabled;for(let[a,l]of Object.entries(o))"blendFunction"===a?s.blendFunction=L5e(l):s[a]=l}}this.postprocessingState=e,i&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,n,i){e instanceof ji?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,n,i),this.effectComposer.outputBuffer.scissor.set(e,t,n,i));let r=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(r),this.effectComposer.outputBuffer.scissor.multiplyScalar(r),this.renderer.setScissor(e,t,n,i)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,n,i){e instanceof ji?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,n,i),this.effectComposer.outputBuffer.viewport.set(e,t,n,i))}resize(e,t,n){if(this.effectComposer.setSize(e,t,n),this._rt){let i=this.renderer.getPixelRatio();this._rt.setSize(e*i,t*i)}}dispose(){this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.dispose()}},U5e=Gi.lights_fragment_begin,j5e=Gi.shadowmask_pars_fragment,UY=null,SI=new vo({vertexShader:"\nattribute vec3 randomColor;\nvarying vec3 vNormal;\nflat out vec3 vColor;\n\nvoid main()\n{\nvNormal = normal;\nvColor = randomColor;\ngl_Position = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));\n}\n",fragmentShader:"\nuniform float depthContrast;\nvarying vec3 vNormal;\nflat in vec3 vColor;\nvoid main()\n{\nvec3 normal = (normalize(vNormal)).rgb;\n\nfloat contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;\n\nvec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);\ngl_FragColor = vec4(resultColor, vColor.r);\n}\n",uniforms:{depthContrast:{value:1}}}),jY=new na,q5e=class extends sj{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new Ve,this.pipeline=new B5e(this),this.dummyCamera=new Ja,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(r=!0,o=!0,s=!0)=>{let a=this.getContext(),l=0;r&&(l|=a.COLOR_BUFFER_BIT),o&&(l|=a.DEPTH_BUFFER_BIT),s&&(l|=a.STENCIL_BUFFER_BIT),a.clear(l),a.clearBufferfv(a.COLOR,1,[0,0,0,1])},this.autoClear=!1;let t=this.setPixelRatio.bind(this),n=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=rA,this.dummyCamera.matrixAutoUpdate=!1;let i=this.getContext();if(i&&"drawingBufferColorSpace"in i)try{i.drawingBufferColorSpace="display-p3"}catch(r){console.warn(r)}this.setPixelRatio=r=>{this._pixelRatio!==r&&(this._pixelRatio=r,t(r))},this.setSize=(r,o,s=!0)=>{(this.viewportWidth!==r||this.viewportHeight!==o)&&(this.viewportWidth=r,this.viewportHeight=o,n(r,o,s),this.normalRenderTarget?.setSize(r*this._pixelRatio,o*this._pixelRatio),this._resizeTransmission(r,o),this.transmissionDepthTarget?.setSize(r*this._pixelRatio/2,o*this._pixelRatio/2),this.pipeline.resize(r,o,s))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){void 0===this.aoRenderTarget&&(this.aoRenderTarget=new oo(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Ji,magFilter:Ji,wrapS:ms,wrapT:ms,depthBuffer:!1}))}_resizeTransmission(e,t){this.transmissionRenderTarget?.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),this.aoRenderTarget?.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return 1===li.transmissionLod.value}set hdTransmission(e){li.transmissionLod.value=!0===e?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){void 0===this.transmissionRenderTarget&&(this.transmissionRenderTarget=new oo(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:hv,magFilter:Ji,wrapS:ms,wrapT:ms,depthBuffer:!1}),this.transmissionDepthTarget=new oo(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:xo,magFilter:xo,depthBuffer:!1}))}createNormalRenderTarget(){void 0===this.normalRenderTarget&&(this.normalRenderTarget=new oo(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:xo,magFilter:xo,type:ml,depthTexture:new Lv(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,n){this.normalRenderTarget&&(this.setClearColor(0),n.layers.enable(8),n.layers.disable(0),n.layers.disable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),SI.uniforms.depthContrast.value=n instanceof Ja?(n.far-n.near)/1e4:1,t.overrideMaterial=SI,this.render(t,n),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?zI:null,n.layers.enable(0),n.layers.enable(3),t.traverseEntity(i=>{i.layers.isEnabled(8)&&(i.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,n=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let i=t.height,r=t.width,o=this.viewportWidth/this.viewportHeight;r<i?r=i*o:i=r/o,this.dummyCamera.setViewplaneSize(r,i);for(let s=0;s<n;s++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:n,sceneHelpersOnTop:i,overrideTransmission:r,overrideNormal:o}={}){let s=e instanceof UI?e.activePage:e,a=s.visible;s.visible=!0;let l=s.scene;this.xr.enabled&&(!1===this.isXRCopyPassSet&&null!==this.getRenderTarget()&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(s.bgColor,s.bgColor.a),s.penumbraSizeArray.forEach((h,f)=>{li.penumbraSize.value[f]=h}),li.pixelRatioNode.value=this.getPixelRatio(),0!==this.resolution.x&&0!==this.resolution.y?li.resolution.value.set(this.resolution.x,this.resolution.y):li.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),void 0!==o?(li.normalRenderTarget.value=o,li.normalRenderTargetDepth.value=jY):l.needsNormal()&&(this.createNormalRenderTarget(),li.normalRenderTarget.value=this.normalRenderTarget.texture,li.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(l,s,t));let c=s.data.ao,u=c.occlusion;u&&(this.createAORenderTarget(),li.aoRenderTarget.value=this.aoRenderTarget.texture),li.aoEnabled.value=u,this.pipeline.setAmbientOcclusionParams(c.occlusion,c.radius,c.bias,s.aoColor,null!==s.fog,s.backupFog.near,s.backupFog.far,c.aoFullRes),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture);let d=!1;if(void 0!==r)li.transmissionRenderTarget.value=r,li.transmissionRenderTargetDepth.value=jY,this.pipeline.setTransmissionPassEnabled(!1);else{let h=l.needsTransmission();h&&(void 0===this.transmissionRenderTarget&&(d=!0),this.createTransmissionRenderTarget(),li.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,li.aspectRatio.value=function i4e(e,t){return e>=t?new Ve(t/e,1):new Ve(1,e/t)}(this.viewportWidth,this.viewportHeight),li.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(h)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=n,this.pipeline.sceneHelpersOnTop=i,this.pipeline.scene=s,this.pipeline.camera=t,d&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==s.postprocessing&&(this.pipeline.updatePostprocessing(s.postprocessing),!n&&!i&&this.pipeline.disableHelpers()),void 0!==this.clearAlphaOverride&&this.setClearAlpha(this.clearAlphaOverride),s.overrideMaterial=l.wireframeState?zI:null,this.pipeline.render(),li.frameIndex.value=(li.frameIndex.value+1)%16,t instanceof Ja&&t.copyHistory(),s.visible=a}renderFromSceneForSceneTransitionPass(e,t,n){this.pipeline.renderToScreen=!1,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=n,this.sceneTransitionTimeRemaining=n,this.pipeline.renderToScreen=!0;let i=this.pipeline.sceneTransitionPass.uniforms;i.uDPR.value=window.devicePixelRatio,i.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){this._superDispose(),this.pipeline.dispose(),this.aoRenderTarget?.dispose(),this.transmissionRenderTarget?.dispose(),this.transmissionDepthTarget?.dispose(),this.normalRenderTarget?.dispose(),this.normalRenderTarget?.depthTexture?.dispose()}},VY=class extends(j_(fCe)){constructor(e,t=15,n=10066329){super(e,t,n),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){V_(this.object,VY.geometryHelper,e,t)}},HY=class extends(j_(pCe)){constructor(e,t=15,n=6710886){super(e,t,n),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){V_(this.object,HY.geometryHelper,e,t)}},EI=class extends(j_(hCe)){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){V_(this.object,EI.geometryHelper,e,t)}update(){if(void 0!==this.object){let e=EI._vector,t=this.object.distance?this.object.distance:1e3,n=t*Math.tan(this.object.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let i=void 0!==this.color?this.color:this.light.color;if(this.cone.material instanceof Array)for(let r=0,o=this.cone.material.length;r<o;r++)this.cone.material[r].color.set(i);else this.cone.material.color.set(i)}}},GY=EI;GY._vector=new re;var WY=class extends(fI(Qwe,VY)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.top=1250,i.bottom=-1250,i.right=1250,i.left=-1250,i.near=-1e4,i.far=2500;let r=new MM(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof MM&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let n=void 0!==e.depth&&e.depth!==this.shadow.camera.far||void 0!==e.size&&e.size/2!==this.shadow.camera.right;void 0!==e.size&&function Y5e(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}(this,e.size),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),void 0!==e.penumbraSize&&t.scene.markPenumbraSizeDirty(),n&&this.update()}},qY=new re,YY=new re,XY=new Di,$Y=class extends(fI(Ywe,GY)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=2*Yn.RAD2DEG*this.angle,i.aspect=1,i.near=100,i.far=2500;let r=new MM(this.shadow.camera);r.visible=!1,this.gizmos.shadowmap=r,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof MM&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),YY.setFromMatrixPosition(this.matrixWorld),XY.setFromRotationMatrix(this.matrixWorld),qY.copy(this.up).applyQuaternion(XY).negate().multiplyScalar(this.distance),this.target.position.copy(YY).add(qY),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.angle&&(this.angle=e.angle),void 0!==e.penumbra&&(this.penumbra=e.penumbra),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.penumbraSize&&t.scene.markPenumbraSizeDirty(),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},Xf=class extends(dk(_f)){constructor(e,t){super(),this.data=t,this.bgColor=new nc(1,1,1,1),this.fog=null,this.backupFog=new aj(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new si,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new Ja(Jv,{...g_.defaultData,...t.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new Wwe(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}updateVisible(){}setBackgroundColor(e){this.bgColor=e,!0===this.fogUseBGColor&&(this.backupFog.color=e)}updateAmbientLight(e,t){void 0!==e.color&&(this.ambientLight.color=El(e.color,t)),void 0!==e.intensity&&(this.ambientLight.intensity=e.intensity),void 0!==e.enabled&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity(t=>{t instanceof jm&&t.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(e=>{if(e instanceof F1)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()})}updateShadow(e){void 0!==e.softShadowQuality&&this.isActive&&((e="medium")=>{if(UY===e)return!1;UY=e;let t=(e=>{switch(e){case"low":return 8;case"medium":default:return 16;case"high":return 32}})(e);Gi.shadowmap_pars_fragment=(e=>`\n\n// PCSS implementation based on:\n// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/\n// NOTE: This number affects how big the shadow blur can\n// possibly get. Bigger number == bigger blur, but less precise results\n\nconst float  gPenumbraFilterSize = 80.0;\nconst int   gPenumbraSamples = ${e};\nconst int gShadowSamples = ${e};\nconst float gShadowSamplesRpc = 1.0f / float(gShadowSamples);\n\n#ifdef USE_SHADOWMAP\n    #if NUM_DIR_LIGHT_SHADOWS > 0\n\n        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n        struct DirectionalLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n        };\n\n        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\n    #endif\n\n    #if NUM_SPOT_LIGHT_SHADOWS > 0\n\n        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n        struct SpotLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n        };\n\n        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\n    #endif\n\n    #if NUM_POINT_LIGHT_SHADOWS > 0\n\n        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n        struct PointLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n            float shadowCameraNear;\n            float shadowCameraFar;\n        };\n\n        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\n    #endif\n\n    /*\n    #if NUM_RECT_AREA_LIGHTS > 0\n\n        // TODO (abelnation): create uniforms for area light shadows\n\n    #endif\n    */\n\nfloat computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)\n{\n    float penumbra = 1.0;\n    float blockerDepthAvg = 0.0;\n    float blockerCount = 0.0;\n\n    #pragma unroll_loop_start\n    for(int i = 0; i < gPenumbraSamples; i ++)\n    {\n        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;\n        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );\n\n        if(depth < compare + 0.0001)\n        {\n            blockerDepthAvg += depth;\n            blockerCount++;\n        }\n    }\n    #pragma unroll_loop_end\n\n    if (blockerCount > 0.0)\n    {\n        blockerDepthAvg /= blockerCount;\n\n        // Compute penumbra\n        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);\n        penumbra *= penumbra;\n        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows\n\n        return clamp(penumbra, 0.00, 1.0);\n    }\n    return 0.0;\n}\n\nfloat vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)\n{\n    float shadow         = 0.0f;\n\n    // NOTE: When using TAA, we should use screen space interleaved gradient noise\n    vec2 halton = haltonSequence[frameIndex];\n    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n    float temporalAngle  = temporalOffset * PI2;\n\n    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);\n    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);\n    if (penumbra == -1.0) {\n        return 1.0;\n    }\n\n    #pragma unroll_loop_start\n    for (int i = 0; i < gShadowSamples; i++)\n    {\n        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n        // Overall blurring offset\n        vec2 offset = vogelSample * (shadowRadius * 2.);\n\n        // Penumbra offset\n        offset += vogelSample * (penumbra * texelScalar);\n\n        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );\n    }\n    #pragma unroll_loop_end\n\n    return shadow * gShadowSamplesRpc;\n}\n\n\n    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n    }\n\n    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\n        return unpackRGBATo2Half( texture2D( shadow, uv ) );\n\n    }\n\n    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\n        float occlusion = 1.0;\n\n        vec2 distribution = texture2DDistribution( shadow, uv );\n\n        float hard_shadow = step( compare , distribution.x ); // Hard Shadow\n\n        if (hard_shadow != 1.0 ) {\n\n            float distance = compare - distribution.x ;\n            float variance = max( 0.00000, distribution.y * distribution.y );\n            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality\n            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed\n            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\n        }\n        return occlusion;\n\n    }\n\n    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n        float shadow = 1.0;\n\n        shadowCoord.xyz /= shadowCoord.w;\n        shadowCoord.z += shadowBias;\n\n        // if ( something && something ) breaks ATI OpenGL shader compiler\n        // if ( all( something, something ) ) using this instead\n\n        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n        bool inFrustum = all( inFrustumVec );\n\n        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n        bool frustumTest = all( frustumTestVec );\n\n        if ( frustumTest ) {\n\n        #if defined( SHADOWMAP_TYPE_PCF )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n            float dx = texelSize.x;\n            float dy = texelSize.y;\n\n            vec2 uv = shadowCoord.xy;\n            vec2 f = fract( uv * shadowMapSize + 0.5 );\n            uv -= f * texelSize;\n\n            shadow = (\n                texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n                     f.x ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n                     f.x ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n                     f.y ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n                     f.y ) +\n                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n                          f.x ),\n                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n                          f.x ),\n                     f.y )\n            ) * ( 1.0 / 9.0 );\n\n        #elif defined( SHADOWMAP_TYPE_VSM )\n\n            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #else // no percentage-closer filtering:\n\n            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #endif\n\n        }\n\n        return shadow;\n\n    }\n\n    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n    // vector suitable for 2D texture mapping. This code uses the following layout for the\n    // 2D texture:\n    //\n    // xzXZ\n    //  y Y\n    //\n    // Y - Positive y direction\n    // y - Negative y direction\n    // X - Positive x direction\n    // x - Negative x direction\n    // Z - Positive z direction\n    // z - Negative z direction\n    //\n    // Source and test bed:\n    // https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n    vec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n        // Number of texels to avoid at the edge of each square\n\n        vec3 absV = abs( v );\n\n        // Intersect unit cube\n\n        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n        absV *= scaleToCube;\n\n        // Apply scale to avoid seams\n\n        // two texels less per square (one texel will do for NEAREST)\n        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n        // Unwrap\n\n        // space: -1 ... 1 range for each square\n        //\n        // #X##         dim    := ( 4 , 2 )\n        //  # #         center := ( 1 , 1 )\n\n        vec2 planar = v.xy;\n\n        float almostATexel = 1.5 * texelSizeY;\n        float almostOne = 1.0 - almostATexel;\n\n        if ( absV.z >= almostOne ) {\n\n            if ( v.z > 0.0 )\n                planar.x = 4.0 - v.x;\n\n        } else if ( absV.x >= almostOne ) {\n\n            float signX = sign( v.x );\n            planar.x = v.z * signX + 2.0 * signX;\n\n        } else if ( absV.y >= almostOne ) {\n\n            float signY = sign( v.y );\n            planar.x = v.x + 2.0 * signY + 2.0;\n            planar.y = v.z * signY - 2.0;\n\n        }\n\n        // Transform to UV space\n\n        // scale := 0.5 / dim\n        // translate := ( center + 0.5 ) / dim\n        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n    }\n\n    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n        float shadow = 1.0;\n        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n        // for point lights, the uniform @vShadowCoord is re-purposed to hold\n        // the vector from the light to the world-space position of the fragment.\n        vec3 lightToPosition = shadowCoord.xyz;\n\n        // dp = normalized distance from light to fragment position\n        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n        compare += shadowBias;\n\n        // bd3D = base direction 3D\n        vec3 bd3D = normalize( lightToPosition );\n\n        vec2 halton = haltonSequence[frameIndex];\n        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n        float temporalAngle  = temporalOffset * PI2;\n\n        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )\n            for (int i = 0; i < gShadowSamples; i++) {\n                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n\n                // Overall blurring offset\n                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);\n\n                // NOTE: Removed for now\n                // Penumbra offset\n                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);\n\n                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );\n\n            }\n            return shadow * gShadowSamplesRpc;\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n            for (int i = 0; i < 16; i++) {\n                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n\n                // Overall blurring offset\n                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);\n\n                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );\n\n            }\n            return shadow * (1.0 / 16.0);\n        #else // no percentage-closer filtering\n\n            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );\n\n        #endif\n\n    }\n\n#endif\n`)(t);let n=U5e.slice();n=n.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),n=n.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),Gi.lights_fragment_begin=n;let i=j5e.slice();return i=i.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),Gi.shadowmask_pars_fragment=i,!0})(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){this.fog=e.enabled?this.backupFog:null,this.isActive&&(this.scene.fog=this.fog),this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=El(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){void 0!==e.aoColor&&(this.aoColor=El(e.aoColor,t))}updateByOp(e,t,n,i){super.updateByOp(e,t,n,i);let r=t;gd(e.path,["fog"])?this.updateFog(r.fog,n.shared):gd(e.path,["ao"])?this.updateAo(r.ao,n.shared):gd(e.path,["ambient"])?this.updateAmbientLight(r.ambient,n.shared):gd(e.path,["shadow"])&&this.updateShadow(r.shadow)}updateState(e,t){this.updateState_Entity(e,t),void 0!==e.backgroundColor&&this.setBackgroundColor(El(e.backgroundColor,t.shared)),void 0!==e.fog&&this.updateFog(e.fog,t.shared),void 0!==e.ambient&&this.updateAmbientLight(e.ambient,t.shared),void 0!==e.ao&&this.updateAo(e.ao,t.shared),void 0!==e.shadow&&this.updateShadow(e.shadow)}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){return this.scene?.find(this.data.publish.playCamera)??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return null===this.penumbraSizeArrayCache&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity(n=>{if(!n.visible)return!0;n instanceof WY&&n.visible&&e<3&&(this.penumbraSizeArrayCache[e]=n.data.penumbraSize,e+=1),n instanceof $Y&&n.visible&&e<2&&(this.penumbraSizeArrayCache[3+t]=n.data.penumbraSize,t+=1)})}raycastWithClones(e){let t=[],n=i=>{for(let r of i.children){let o=r.cloner;vr.is(r)&&(r.visible||o?.object.data.visible)&&((su(r)||gI(r)&&this.scene.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),kI(r,e,t,!0)),n(r))}};return n(this),t}},X5e=class extends(fI($we,HY)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let i=this.shadow.camera;i.fov=90,i.aspect=1,i.near=100,i.far=2500;let r=new re(-i.far+this.position.x,-i.far+this.position.y,-i.far+this.position.z),o=new re(i.far+this.position.x,i.far+this.position.y,i.far+this.position.z),s=new ys(r,o),a=new PM(s,new si(16755200));a.visible=!1,this.gizmos.shadowmap=a,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof PM){let n=this.shadow.camera,i=new re(-n.far+this.position.x,-n.far+this.position.y,-n.far+this.position.z),r=new re(n.far+this.position.x,n.far+this.position.y,n.far+this.position.z);t.box.set(i,r),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},$5e=class extends Dl{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Lk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},DI=class extends Dl{constructor(e,t,n){super(e,t,n),this._shapeId=null,this._context=n}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){let t,e={...this.data.geometry.extrusion.shape};for(let i in e)"string"==typeof e[i]&&(e[i]=this._context.shared.getVariable(e[i],[this.uuid,"geometry","extrusion","shape",i]));if("Custom"===e.type){let i=e.shapeId;if(i!==this._shapeId&&this.detachShape(),i){this._shapeId=i;let r=this._context.scene.find(i);r?.data&&(r.attachedPaths.add(this),t=r.geometry.userData?.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let i;switch(e.type){case"Rectangle":i=GW;break;case"Ellipse":i=Pk;break;case"Polygon":i=HW;break;case"Star":i=WW;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=i.create({parameters:e}).userData.shape}let n=this.geometry;t&&n.inputs&&(n.inputs.shapeData=t,n.build(),this.attachedSurfaceCloners.forEach(i=>i.update()))}detachShape(){null!==this._shapeId&&this._context.scene.find(this._shapeId)?.attachedPaths.delete(this)}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?Lk(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},j1=class extends(H_(Fv,o2)){constructor(e,t,n){super(),"Instance"===t.type&&"string"==typeof e&&(t=this.transformAssignData(t,n)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return"Component"===this.data.type&&"string"==typeof this.identity}get isInstanceRoot(){return"Instance"===this.data.type&&"string"==typeof this.identity}transformAssignData(e,t){let n=_P.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(n){let i,r;for(let o of kf.rootOverrideProps)void 0===e[o]?(void 0===i&&(i={...e}),i[o]=n.data[o]):(void 0===r&&(r={}),r[o]=e[o],void 0===i&&(i={...e}),i[o]=Sf.apply(n.data[o],e[o]));return this.overrideData=r,i}return{...Ml.defaultData,...e,...sp(Ml.defaultData,kf.rootOverrideProps)}}updateByOp(e,t,n,i){let r;if(this.isInstanceRoot&&!i)if(t=this.transformAssignData(t,n),0===e.type&&0===e.path.length&&this.component)for(let o of kf.rootOverrideProps)o in e.props&&void 0===e.props[o]&&(void 0===r&&(r={...e,props:{...e.props}}),r.props[o]=this.component.data[o]);else if(0===e.type&&e.path.length>0&&kf.rootOverrideProps.includes(e.path[0])){let o=e.path[0];void 0===r&&(r={...e,path:[],props:{[o]:t[o]}})}super.updateByOp(r??e,t,n,i)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(void 0===this.component){let n=e.scene.find(t.component)??null,i=!1;if(n!==this.oldComponent){if(this.oldComponent){let r=0;for(let o of this.children){if(!vr.is(o))break;e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(o),AI(o),r+=1}this.children.splice(0,r)}i=!0}if(n){let r={};QY(e,[this.uuid],t.overrides,this,n,n,0,i,r);for(let o of this.children)if(vr.is(o)){let s=o.data;"Empty"===s.type&&s.animations&&o.traverseEntity(a=>{if(a instanceof Dl&&a.isSkinnedMesh){let l=a.dataPatched;if(l.bones&&l.boneInverses){let c=l.bones.map(h=>e.scene.find(r[h])),u=l.boneInverses.map(h=>(new Wt).fromArray(h)),d=new eT(c,u);a.bind(d,a.bindMatrix)}}else a.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function AI(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let n of e.children)vr.is(n)&&AI(n)}}function KY(e,t,n,i){return e.component===t&&mH(e.identity,i)?e.overrideData===n?2:1:0}function QY(e,t,n,i,r,o,s,a,l){if(s>50)return!1;if(i.component!==r){if(i.component){let u=i.component.instances.indexOf(i);u>=0&&i.component.instances.splice(u,1)}r.instances.push(i),i.component=r}r instanceof j1&&r.isInstanceRoot&&r.expandInstanceChildren(e);let c=0;for(let u of r.children)if(vr.is(u)){let d=[...t,..."string"==typeof u.identity?[u.identity]:u.identity],h=gP.resolve(n,d,1);null!=h&&!(h instanceof oa)&&(Object.setPrototypeOf(h,oa.prototype),console.error("wrong prototype"));let v,f=null;if(!a){let y=i.children[c];if(f=vr.is(y)?y:null,null!==f){let b=KY(f,u,h,d);v=b>=1?f.stateSelection:void 0,2!==b&&(f=null)}if(null===f&&(f=e.scene.findInstance(d)??null,null!==f)){let b=KY(f,u,h,d);if(v=b>=1?f.stateSelection:void 0,2!==b)f=null;else{let w=f.parent.children.indexOf(f);f.parent.children.splice(w,1),i.children.splice(c,0,f),f.parent===i?w<=c&&console.error("not possible"):(f.parent=i,f.matrixWorldNeedsUpdate=!0,f.resetBBoxNeedsUpdate(),f.updateVisible(),e.pendingDeletes.delete(f))}}}if(null===f){let y=h?Sf.apply(u.data,h):u.data;Pm.is(y.type)&&(y={...y,type:"Empty"}),f=Uf.createEntity(d,y,e),f.overrideData=h,i.add(f),i.children.splice(i.children.length-1,1),i.children.splice(c,0,f),f.updateState(f.data,e),v&&f.changeSelectedState(v,e),e.scene.registerInstanceAndSetUuid(f)}f.isBone&&(l[f.identity[f.identity.length-1]]=f.uuid),c+=1,QY(e,t,n,f,u,o,s+1,a,l)}if(!a){let u=c;for(;;){let d=i.children[c];if(!vr.is(d))break;e.pendingDeletes.add(d),c+=1}i.children.splice(u,c-u)}return!0}var K5e=class extends(H_(lj,o2)){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}};function TI(e,t,n){return"Mesh"===t.type?function Q5e(e,t,n){let i;return"TextGeometry"===t.geometry.type?new vY(e,t,n):(i="SubdivGeometry"===t.geometry.type?new z_(e,t,n):"PathGeometry"===t.geometry.type?new DI(e,t,n):"VectorGeometry"===t.geometry.type?new $5e(e,t,n):"BooleanGeometry"===t.geometry.type?new jm(e,t,n):new Dl(e,t,n),i)}(e,t,n):"Empty"===t.type||"Splat"===t.type?new U1(e,t):"Bone"===t.type?new K5e(e,t):"Page"===t.type?new Xf(e,t):"PointLight"===t.type?new X5e(e,t,n):"SpotLight"===t.type?new $Y(e,t,n):"DirectionalLight"===t.type?new WY(e,t,n):"Component"===t.type||"Instance"===t.type?new j1(e,t,n):Pm.is(t.type)?new Ja(e,t):(console.error(t),new U1(e,t))}function ZY(e,t){let n=!1,i=t.getLayersOfType("transmission"),r=t.getLayersOfType("outline");return r.length>0&&(e.layers.set(8),i.length>0&&e.layers.enable(3),n=!0,rI(e),iI(e)),0===i.length&&0===r.length&&e.layers.set(0),e instanceof F1&&e.needsAO&&e.layers.enable(5),n}function JY(e,t){if(!t.layers)return!1;let n=!1,i=t.getLayersOfType("transmission").filter(o=>o.data.visible),r=t.getLayersOfType("outline").filter(o=>o.data.visible);return i.length>0&&(e.layers.set(3),r.length>0&&e.layers.enable(8),n=!0),0===i.length&&0===r.length&&e.layers.set(0),e.needsAO&&e.layers.enable(5),n}Uf.createEntity=TI,Uf.changeEntityProptotype=function Z5e(e,t,n){let i=TI(e.identity,t,n),r=e.children,o=e.attachedPaths,s=e.parent,a=e.component,l=e.instances,c=e.overrideData,u=e.uuid,d=e.stateSelection;e.dispose();for(let h of Object.keys(e))delete e[h];Object.setPrototypeOf(e,Object.getPrototypeOf(i));for(let h of Object.keys(i))e[h]=i[h];e.children=[...e.children,...r],e.attachedPaths=o,e.parent=s,e.component=a,e.instances=l,e.uuid=u,e.overrideData=c,e.updateState(e.data,n),d&&e.changeSelectedState(d,n),e.resetBBoxNeedsUpdate()},Uf.Cloner=ru;var nFe=new Gj,iFe=new Wt,rFe=new bv;function kI(e,t,n,i=!1){let r=e.cloner;if(r)for(let o of r.children){let s=iFe.copy(o.matrixWorld).invert(),a=rFe.copy(t.ray).applyMatrix4(s);a.applyMatrix4(e.matrixWorld);let c=nFe;c.set(a.origin,a.direction),c.near=t.near,c.far=t.far;let u=c.intersectObject(e,!1);u.length>0&&n.push({...u[0],object:i?o:e})}}var mh=ma(Db()),xp=ma(Ab()),xs=ma(Db()),tr=ma(Ab()),u2=class{constructor(e,t,n){this._dataNormalized=e,this._minD=t,this._maxD=n}static createFromUnnormalized(e){let t=tr.sup(e),n=tr.inf(e),i=(0,xs.default)(new Float32Array(e.size),e.shape),r=t-n;return r<1e-4?tr.assigns(i,0):(tr.subs(i,e,n),tr.divs(i,i,r)),new u2(i,n,t)}get data(){return this._dataNormalized}get minD(){return this._minD}get maxD(){return this._maxD}denormalize(){let e=(0,xs.default)(new Float32Array(this._dataNormalized.size),this._dataNormalized.shape);return tr.muls(e,this._dataNormalized,this._maxD-this._minD),tr.adds(e,e,this._minD),e}},$o=class{constructor(e,t){this._quantized=e,this._method=t}get quantized(){return this._quantized}static maxIntBits(e){return 2**e-1}static fromNormalized(e,t){let i,n=e.data;if("norm8x"===t){let r=$o.maxIntBits(8),o=(0,xs.default)(new Float32Array(n.size),n.shape);tr.muls(o,n,r),tr.roundeq(o),i=(0,xs.default)(new Uint8Array(o.data),n.shape)}else if("norm565"===t){let r=(0,xs.default)(new Float32Array(n.size),n.shape);tr.assign(r,n),tr.mulseq(r.pick(null,0),$o.maxIntBits(5)),tr.mulseq(r.pick(null,1),$o.maxIntBits(6)),tr.mulseq(r.pick(null,2),$o.maxIntBits(5)),tr.roundeq(r);let o=(0,xs.default)(new Uint16Array(r.data),n.shape),s=(0,xs.default)(new Uint16Array(n.shape[0]),[n.shape[0]]),a=(0,xs.default)(new Uint16Array(n.shape[0]),[n.shape[0]]);tr.lshifts(s,o.pick(null,0),11),tr.lshifts(a,o.pick(null,1),5),tr.boreq(s,a),tr.boreq(s,o.pick(null,2)),i=s}else{let r=(0,xs.default)(new Float32Array(n.size),n.shape);tr.assign(r,n),tr.mulseq(r.pick(null,0),$o.maxIntBits(11)),tr.mulseq(r.pick(null,1),$o.maxIntBits(10)),tr.mulseq(r.pick(null,2),$o.maxIntBits(11)),tr.roundeq(r);let o=(0,xs.default)(new Uint32Array(r.data),n.shape),s=(0,xs.default)(new Uint32Array(n.shape[0]),[n.shape[0]]),a=(0,xs.default)(new Uint32Array(n.shape[0]),[n.shape[0]]);tr.lshifts(s,o.pick(null,0),21),tr.lshifts(a,o.pick(null,1),11),tr.boreq(s,a),tr.boreq(s,o.pick(null,2)),i=s}return new $o(i,t)}dequantize(e,t){let i,n=this._method,r=this._quantized;if("norm8x"===n){let o=$o.maxIntBits(8);i=(0,xs.default)(new Float32Array(r.size),r.shape),tr.muls(i,r,1/o)}else if("norm565"===n){let o=(0,xs.default)(new Uint8Array(r.shape[0]),[r.shape[0]]),s=(0,xs.default)(new Uint8Array(r.shape[0]),[r.shape[0]]),a=(0,xs.default)(new Uint8Array(r.shape[0]),[r.shape[0]]);tr.rrshifts(o,r,11),tr.rrshifts(s,r,5),tr.bandseq(s,$o.maxIntBits(6)),tr.bands(a,r,$o.maxIntBits(5)),i=(0,xs.default)(new Float32Array(3*r.shape[0]),[r.shape[0],3]),tr.muls(i.pick(null,0),o,1/$o.maxIntBits(5)),tr.muls(i.pick(null,1),s,1/$o.maxIntBits(6)),tr.muls(i.pick(null,2),a,1/$o.maxIntBits(5))}else{let o=(0,xs.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),s=(0,xs.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),a=(0,xs.default)(new Uint16Array(r.shape[0]),[r.shape[0]]);tr.rrshifts(o,r,21),tr.rrshifts(s,r,11),tr.bandseq(s,$o.maxIntBits(10)),tr.bands(a,r,$o.maxIntBits(11)),i=(0,xs.default)(new Float32Array(3*r.shape[0]),[r.shape[0],3]),tr.muls(i.pick(null,0),o,1/$o.maxIntBits(11)),tr.muls(i.pick(null,1),s,1/$o.maxIntBits(10)),tr.muls(i.pick(null,2),a,1/$o.maxIntBits(11))}return new u2(i,e,t)}},ls=class{constructor(e,t,n,i,r,o=!1){this._quantized=e,this._minMaxMatrix=t,this._chunkSize=n,this._quantizationMethod=i,this._variableChunkSize=r,this._isDynamicChunks=o}get length(){return this._quantized.shape[0]}get nchunks(){return this._minMaxMatrix.shape[0]}get quantized(){return this._quantized}get method(){return this._quantizationMethod}get minmaxMatrix(){return this._minMaxMatrix}_createPrunedMinMax(e){let n=this.minmaxMatrix.shape[0]-e.length,i=(0,mh.default)(new Float32Array(2*n),[n,2]),r=0,o=n,s=0,a=this.minmaxMatrix.shape[0];for(let l=0;l<e.length;l++)a=e[l],o=a-s+r,o>r&&xp.assign(i.hi(o,2).lo(r,0),this.minmaxMatrix.hi(a,2).lo(s,0)),r=o,s=a+1;return r<n&&xp.assign(i.lo(r,0),this.minmaxMatrix.lo(s,0)),i}_createPrunedQuantized(e){let r,o,n=this.quantized.shape[0]-e.length,i=this._quantizationMethod;"norm8x"===i?(o=this._quantized.shape[1],r=(0,mh.default)(new Uint8Array(o?n*o:n),o?[n,o]:[n,1])):r=(0,mh.default)("norm565"===i?new Uint16Array(n):new Uint32Array(n),[n]);let s=0,a=n,l=0,c=r.shape[0];for(let u=0;u<e.length;u++)c=e[u],a=c-l+s,a>s&&(o?xp.assign(r.hi(a,o).lo(s,0),this._quantized.hi(c,o).lo(l,0)):xp.assign(r.hi(a).lo(s),this._quantized.hi(c).lo(l))),s=a,l=c+1;return s<n&&(o?xp.assign(r.lo(s,0),this._quantized.lo(l,0)):xp.assign(r.lo(s),this._quantized.lo(l))),r}pruneFeature(e,t,n){let i=this._createPrunedQuantized(e),r=this._createPrunedMinMax(t);return new ls(i,r,this._chunkSize,this._quantizationMethod,n,!0)}static getRequiredNChunks(e,t){return Math.floor(e/t)}static fromArray(e,t,n){let s,i=e.shape[0],r=Math.floor(i/n),o=(0,mh.default)(new Float32Array(2*r),[r,2],[2,1]);s="norm8x"===t?(0,mh.default)(new Uint8Array(e.size),e.shape):(0,mh.default)("norm565"===t?new Uint16Array(e.shape[0]):new Uint32Array(e.shape[0]),[e.shape[0]]);for(let a=0;a<r;a++){let u,l=a*n,c=a+1<r?(a+1)*n:i;u=u2.createFromUnnormalized(e.shape.length>1?e.hi(c,e.shape[1]).lo(l,0):e.hi(c).lo(l)),o.set(a,0,u.minD),o.set(a,1,u.maxD),xp.assign(s.shape.length>1?s.hi(c,s.shape[1]).lo(l,0):s.hi(c).lo(l),$o.fromNormalized(u,t).quantized)}return new ls(s,o,n,t)}denormDequant(){let o,s,e=this._minMaxMatrix.shape[0],t=this._quantized,n=t.shape[0],i=this._quantizationMethod,r=this._chunkSize;if(this._isDynamicChunks){if(!this._variableChunkSize)throw new Error("variable chunk must exists if chunkSize isDynamic");o=this._variableChunkSize}s="norm8x"===i?(0,mh.default)(new Float32Array(t.size),t.shape):(0,mh.default)(new Float32Array(3*n),[n,3]);let a=0,l=r;for(let c=0;c<e;c++){let[u,d]=[this._minMaxMatrix.get(c,0),this._minMaxMatrix.get(c,1)];this._isDynamicChunks&&(l=o[c]);let f,h=c+1<e?a+l:n;f=new $o(t.shape.length>1?t.hi(h,t.shape[1]).lo(a,0):t.hi(h).lo(a),i),xp.assign(s.hi(h,s.shape[1]).lo(a,0),f.dequantize(u,d).denormalize()),a=h}return s}static fetchArrayBuffer(e){return(0,gs.Z)(function*(){return yield(yield fetch(e,{mode:"cors"})).arrayBuffer()})()}},$f=ma(Db()),Cr=ma(Ab()),V1=ma(Db()),Bs=ma(Ab()),eX=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function tX(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function nX(e,t){if(e===t)return 0;if(~~e===e&&~~t===t){if(0===e||0===t)return e<t?-1:1;if(e<0||t<0){if(t>=0)return-1;if(e>=0)return 1;e=-e,t=-t}let r=tX(e),o=tX(t),s=0;return r<o?(e*=eX[o-r-1],t/=10,s=-1):r>o&&(t*=eX[r-o-1],e/=10,s=1),e===t?s:e<t?-1:1}let n=String(e),i=String(t);return n===i?0:n<i?-1:1}function iX(e,t,n,i){let r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function lFe(e,t,n){for(n--;t<n;){let i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function rX(e,t,n,i,r){for(i===t&&i++;i<n;i++){let o=e[i],s=t,a=i;for(;s<a;){let c=s+a>>>1;r(o,e[c])<0?a=c:s=c+1}let l=i-s;switch(l){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;l>0;)e[s+l]=e[s+l-1],l--}e[s]=o}}function II(e,t,n,i,r,o){let s=0,a=0,l=1;if(o(e,t[n+r])>0){for(a=i-r;l<a&&o(e,t[n+r+l])>0;)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}else{for(a=r+1;l<a&&o(e,t[n+r-l])<=0;)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a);let c=s;s=r-l,l=r-c}for(s++;s<l;){let c=s+(l-s>>>1);o(e,t[n+c])>0?s=c+1:l=c}return l}function RI(e,t,n,i,r,o){let s=0,a=0,l=1;if(o(e,t[n+r])<0){for(a=r+1;l<a&&o(e,t[n+r-l])<0;)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a);let c=s;s=r-l,l=r-c}else{for(a=i-r;l<a&&o(e,t[n+r+l])>=0;)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}for(s++;s<l;){let c=s+(l-s>>>1);o(e,t[n+c])<0?l=c:s=c+1}return l}var cFe=class{constructor(e,t){gl(this,"array",null),gl(this,"compare",null),gl(this,"minGallop",7),gl(this,"length",0),gl(this,"tmpStorageLength",256),gl(this,"stackLength",0),gl(this,"runStart",null),gl(this,"runLength",null),gl(this,"stackSize",0),this.array=e,this.compare=t,this.length=e.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}pushRun(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let t=this.compare,n=this.array,i=this.runStart[e],r=this.runLength[e],o=this.runStart[e+1],s=this.runLength[e+1];this.runLength[e]=r+s,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let a=RI(n[o],n,i,r,0,t);i+=a,r-=a,0!==r&&(s=II(n[i+r-1],n,o,s,s-1,t),0!==s&&(r<=s?this.mergeLow(i,r,o,s):this.mergeHigh(i,r,o,s)))}mergeLow(e,t,n,i){let r=this.compare,o=this.array,s=this.tmp,a=0;for(a=0;a<t;a++)s[a]=o[e+a];let l=0,c=n,u=e;if(o[u++]=o[c++],0==--i){for(a=0;a<t;a++)o[u+a]=s[l+a];return}if(1===t){for(a=0;a<i;a++)o[u+a]=o[c+a];return void(o[u+i]=s[l])}let d=this.minGallop;for(;;){let h=0,f=0,v=!1;do{if(r(o[c],s[l])<0){if(o[u++]=o[c++],f++,h=0,0==--i){v=!0;break}}else if(o[u++]=s[l++],h++,f=0,1==--t){v=!0;break}}while((h|f)<d);if(v)break;do{if(h=RI(o[c],s,l,t,0,r),0!==h){for(a=0;a<h;a++)o[u+a]=s[l+a];if(u+=h,l+=h,(t-=h)<=1){v=!0;break}}if(o[u++]=o[c++],0==--i){v=!0;break}if(f=II(s[l],o,c,i,0,r),0!==f){for(a=0;a<f;a++)o[u+a]=o[c+a];if(u+=f,c+=f,0==(i-=f)){v=!0;break}}if(o[u++]=s[l++],1==--t){v=!0;break}d--}while(h>=7||f>=7);if(v)break;d<0&&(d=0),d+=2}if(this.minGallop=d,d<1&&(this.minGallop=1),1===t){for(a=0;a<i;a++)o[u+a]=o[c+a];o[u+i]=s[l]}else{if(0===t)throw new Error("mergeLow preconditions were not respected");for(a=0;a<t;a++)o[u+a]=s[l+a]}}mergeHigh(e,t,n,i){let r=this.compare,o=this.array,s=this.tmp,a=0;for(a=0;a<i;a++)s[a]=o[n+a];let l=e+t-1,c=i-1,u=n+i-1,d=0,h=0;if(o[u--]=o[l--],0==--t){for(d=u-(i-1),a=0;a<i;a++)o[d+a]=s[a];return}if(1===i){for(u-=t,l-=t,h=u+1,d=l+1,a=t-1;a>=0;a--)o[h+a]=o[d+a];return void(o[u]=s[c])}let f=this.minGallop;for(;;){let v=0,y=0,b=!1;do{if(r(s[c],o[l])<0){if(o[u--]=o[l--],v++,y=0,0==--t){b=!0;break}}else if(o[u--]=s[c--],y++,v=0,1==--i){b=!0;break}}while((v|y)<f);if(b)break;do{if(v=t-RI(s[c],o,e,t,t-1,r),0!==v){for(u-=v,l-=v,t-=v,h=u+1,d=l+1,a=v-1;a>=0;a--)o[h+a]=o[d+a];if(0===t){b=!0;break}}if(o[u--]=s[c--],1==--i){b=!0;break}if(y=i-II(o[l],s,0,i,i-1,r),0!==y){for(u-=y,c-=y,i-=y,h=u+1,d=c+1,a=0;a<y;a++)o[h+a]=s[d+a];if(i<=1){b=!0;break}}if(o[u--]=o[l--],0==--t){b=!0;break}f--}while(v>=7||y>=7);if(b)break;f<0&&(f=0),f+=2}if(this.minGallop=f,f<1&&(this.minGallop=1),1===i){for(u-=t,l-=t,h=u+1,d=l+1,a=t-1;a>=0;a--)o[h+a]=o[d+a];o[u]=s[c]}else{if(0===i)throw new Error("mergeHigh preconditions were not respected");for(d=u-(i-1),a=0;a<i;a++)o[d+a]=s[a]}}};function NI(e){let t=(0,V1.default)(new Int32Array(e.shape[0]),[e.shape[0]]),n=(0,V1.default)(new Int32Array(e.shape[0]),[e.shape[0]]);return Bs.bands(t,e,1023),Bs.lshifts(n,t,16),Bs.bxoreq(t,n),Bs.bandseq(t,4278190335),Bs.lshifts(n,t,8),Bs.bxoreq(t,n),Bs.bandseq(t,50393103),Bs.lshifts(n,t,4),Bs.bxoreq(t,n),Bs.bandseq(t,51130563),Bs.lshifts(n,t,2),Bs.bxoreq(t,n),Bs.bandseq(t,153391689),t}function H1(e,t){if(e.shape[0]!==t.shape[0])throw new Error("wrong length");let n=(0,V1.default)(new Float32Array(e.size),e.shape,e.stride,e.offset);for(let i=0;i<t.shape[0];i++){let r=t.get(i);if(e.shape.length>1)for(let o=0;o<e.shape[1];o++)n.set(i,o,e.get(r,o));else n.set(i,e.get(r))}return n}var Hm=class{constructor(e,t,n,i,r,o,s,a,l,c){this.propertyDescs=e,this.format=t,this.nsplats=n,this.xyz=i,this.colors=r,this.harmonics=o,this.opacity=s,this.scaling=a,this.rotation=l,this.maxSHDegree=c}getPlyBinary(){let e=Hm._generateHeaderString(this.propertyDescs,this.format,this.nsplats),t=(new TextEncoder).encode(e),n=Object.keys(this.propertyDescs).length,i=(0,$f.default)(new Float32Array(this.nsplats*n),[this.nsplats,n]);if(Cr.assign(i.pick(null,this.propertyDescs.x.index),this.xyz.pick(null,0)),Cr.assign(i.pick(null,this.propertyDescs.y.index),this.xyz.pick(null,1)),Cr.assign(i.pick(null,this.propertyDescs.z.index),this.xyz.pick(null,2)),Cr.assign(i.pick(null,this.propertyDescs.f_dc_0.index),this.colors.pick(null,0)),Cr.assign(i.pick(null,this.propertyDescs.f_dc_1.index),this.colors.pick(null,1)),Cr.assign(i.pick(null,this.propertyDescs.f_dc_2.index),this.colors.pick(null,2)),Cr.assign(i.pick(null,this.propertyDescs.opacity.index),this.opacity.pick(null,0)),Cr.assign(i.pick(null,this.propertyDescs.scale_0.index),this.scaling.pick(null,0)),Cr.assign(i.pick(null,this.propertyDescs.scale_1.index),this.scaling.pick(null,1)),Cr.assign(i.pick(null,this.propertyDescs.scale_2.index),this.scaling.pick(null,2)),Cr.assign(i.pick(null,this.propertyDescs.rot_0.index),this.rotation.pick(null,0)),Cr.assign(i.pick(null,this.propertyDescs.rot_1.index),this.rotation.pick(null,1)),Cr.assign(i.pick(null,this.propertyDescs.rot_2.index),this.rotation.pick(null,2)),Cr.assign(i.pick(null,this.propertyDescs.rot_3.index),this.rotation.pick(null,3)),this.harmonics&&this.harmonics.length>0)for(let s=0;s<this.harmonics.length;s++){let a=3*s;Cr.assign(i.pick(null,this.propertyDescs[`f_rest_${a}`].index),this.harmonics[s].pick(null,0)),Cr.assign(i.pick(null,this.propertyDescs[`f_rest_${a+1}`].index),this.harmonics[s].pick(null,1)),Cr.assign(i.pick(null,this.propertyDescs[`f_rest_${a+2}`].index),this.harmonics[s].pick(null,2))}let r=new Uint8Array(i.data.buffer),o=new Uint8Array(r.length+t.length);return o.set(t),o.set(r,t.length),o.buffer}save(e,t){let n=this.getPlyBinary(),i=new Blob([n],{type:"application/octet-stream"}),r=new File([i],e),o=new FormData;o.append("file",r),o.append("filename",e),o.append("basedir",t),fetch("http://127.0.0.1:8000/push_file",{method:"POST",body:o})}static loadFile(e){return(0,gs.Z)(function*(){return yield(yield fetch(e)).arrayBuffer()})()}mortonPositionSplatsSort(){let e=function hFe(e){let t=Bs.sup(e),n=Bs.inf(e),i=1e3/Math.min(1e3,t-n),r=(0,V1.default)(new Float32Array(e.data),e.shape);Bs.mulseq(r,i);let s=function uFe(e){let t=NI(e.pick(null,0)),n=NI(e.pick(null,1));Bs.lshiftseq(n,1);let i=NI(e.pick(null,2));return Bs.lshiftseq(i,2),Bs.boreq(t,n),Bs.boreq(t,i),t}((0,V1.default)(new Int32Array(r.data),e.shape)),a=Array.from(s.data).map((c,u)=>[c,u]);!function dFe(e,t,n,i){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?"function"!=typeof t&&(i=n,n=t,t=nX):t=nX,n||(n=0),i||(i=e.length);let r=i-n;if(r<2)return;let o=0;if(r<32)return o=iX(e,n,i,t),void rX(e,n,i,n+o,t);let s=new cFe(e,t),a=function aFe(e){let t=0;for(;e>=32;)t|=1&e,e>>=1;return e+t}(r);do{if(o=iX(e,n,i,t),o<a){let l=r;l>a&&(l=a),rX(e,n,n+l,n+o,t),o=l}s.pushRun(n,o),s.mergeRuns(),r-=o,n+=o}while(0!==r);s.forceMergeRuns()}(a,(c,u)=>c[0]-u[0]);let l=a.map(([c,u])=>u);return(0,V1.default)(Uint32Array.from(l))}(this.xyz),t=H1(this.xyz,e),n=H1(this.colors,e),i=H1(this.opacity,e),r=H1(this.scaling,e),o=H1(this.rotation,e),s=[];for(let a=0;a<this.harmonics.length;a++)s.push(H1(this.harmonics[a],e));return new Hm(this.propertyDescs,this.format,this.nsplats,t,n,s,i,r,o,this.maxSHDegree)}static _generateHeaderString(e,t,n){let i=`ply\nformat ${t.format} ${t.version}\nelement vertex ${n}`,r=Object.keys(e).length,o=Array(r);for(let s in e){let a=e[s];o[a.index]={name:s,dtype:a.dtype}}for(let s=0;s<o.length;s++)i=`${i}\nproperty ${o[s].dtype} ${o[s].name}`;return`${i}\nend_header\n`}static fromArrayBuffer(e,t=3){let{splatCount:n,vertexData:i,propertiesDesc:r,format:o}=Hm.decodeHeader(e),s=i.buffer.slice(i.byteOffset),a=Object.keys(r).length,l=(0,$f.default)(new Float32Array(s),[n,a]),c=0,u={},d={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1};for(let S in r)if(r.hasOwnProperty(S)){let D=r[S].dtype;u[S]=c,c+=d[D]}let h=(0,$f.default)(new Float32Array(3*n),[n,3]);Cr.assign(h.pick(null,0),l.pick(null,u.x/4)),Cr.assign(h.pick(null,1),l.pick(null,u.y/4)),Cr.assign(h.pick(null,2),l.pick(null,u.z/4));let f=(0,$f.default)(new Float32Array(3*n),[n,3]);Cr.assign(f.pick(null,0),l.pick(null,u.scale_0/4)),Cr.assign(f.pick(null,1),l.pick(null,u.scale_1/4)),Cr.assign(f.pick(null,2),l.pick(null,u.scale_2/4));let v=(0,$f.default)(new Float32Array(3*n),[n,3]);Cr.assign(v.pick(null,0),l.pick(null,u.f_dc_0/4)),Cr.assign(v.pick(null,1),l.pick(null,u.f_dc_1/4)),Cr.assign(v.pick(null,2),l.pick(null,u.f_dc_2/4));let y=(0,$f.default)(new Float32Array(4*n),[n,4]);Cr.assign(y.pick(null,0),l.pick(null,u.rot_1/4)),Cr.assign(y.pick(null,1),l.pick(null,u.rot_2/4)),Cr.assign(y.pick(null,2),l.pick(null,u.rot_3/4)),Cr.assign(y.pick(null,3),l.pick(null,u.rot_0/4));for(let S=0;S<n;S++){let D=y.pick(S,null),V=Math.sqrt(D.get(0)**2+D.get(1)**2+D.get(2)**2+D.get(3)**2);Cr.divseq(D,V)}let b=(0,$f.default)(new Float32Array(1*n),[n,1]);Cr.assign(b.pick(null,0),l.pick(null,u.opacity/4));let w=(Math.min(Math.max(t,0),3)+1)**2-1,O=[];for(let S=0;S<w;S++){let D=(0,$f.default)(new Float32Array(3*n),[n,3]),V=3*S;Cr.assign(D.pick(null,0),l.pick(null,u[`f_rest_${V}`]/4)),Cr.assign(D.pick(null,1),l.pick(null,u[`f_rest_${V+1}`]/4)),Cr.assign(D.pick(null,2),l.pick(null,u[`f_rest_${V+2}`]/4)),O.push(D)}return new Hm(r,o,n,h,v,O,b,f,y,t)}static fromPLYFile(e,t=3){return(0,gs.Z)(function*(){let n=yield Hm.loadFile(e);return Hm.fromArrayBuffer(n,t)})()}static decodeHeader(e){let t=new TextDecoder,n=0,i="",r=100;for(;;){if(n+r>=e.byteLength)throw new Error("End of file reached while searching for end of header");let f=new Uint8Array(e,n,r);i+=t.decode(f),n+=r;let v=n-200,y=new Uint8Array(e,Math.max(0,v),v>0?200:r);if(t.decode(y).includes("end_header"))break}let u,o=i.split("\n"),s=0,a={},l={},c=0;for(let f=0;f<o.length;f++){let v=o[f].trim();if(v.startsWith("element vertex")){let y=v.match(/\d+/);y&&(s=parseInt(y[0]))}else if(v.startsWith("property")){let y=v.match(/(\w+)\s+(\w+)\s+(\w+)/);if(y){let b=y[2],w=y[3];a[w]=c,l[w]={dtype:b,index:c},c++}}else if(v.startsWith("format")){let y=v.match(/(\w+)\s+(\w+)\s+(\d+\.?\d*)/);y&&(u={format:y[2],version:y[3]})}else if("end_header"===v)break}let d=i.indexOf("end_header")+10+1;return{splatCount:s,vertexData:new DataView(e,d),headerOffset:n,propertiesDesc:l,format:u}}},FI=class{constructor(e,t,n,i,r,o,s,a){this.config=e,this.xyz=t,this.scaling=n,this.color=i,this.opacity=r,this.harmonics=s,this.quaternion=o,this.variableChunkSize=a}get isDynamicChunks(){return this.variableChunkSize&&this.variableChunkSize.length>0}get nchunks(){return this.xyz.nchunks}get nsplats(){return this.xyz.length}get chunkSize(){return this.config.chunkSize}static compressFromGaussianData(e,t){let n=ls.fromArray(e.xyz,t.xyz,t.chunkSize),i=ls.fromArray(e.scaling,t.scaling,t.chunkSize),r=ls.fromArray(e.colors,t.color,t.chunkSize),o=ls.fromArray(e.opacity,t.opacity,t.chunkSize),s=ls.fromArray(e.rotation,t.quaternion,t.chunkSize),a=e.harmonics,l=[];if(t.harmonics)for(let c=0;c<a.length;c++){let u=ls.fromArray(a[c],t.harmonics,t.chunkSize);l.push(u)}return new FI(t,n,i,r,o,s,l)}_countIndexesInChunks(e){let t=[],n=this.nchunks,i=this.chunkSize;if(n===ls.getRequiredNChunks(this.nsplats,i))for(let s=0;s<e.length;s++){let a=e[s],l=Math.floor(a/this.chunkSize);l in t?t[l].push(a):t[l]=[a]}else{let s=this.variableChunkSize,a={},l=0;for(let c=0;c<n;c++)a[c]=l,l+=s[c];for(let c=0;c<e.length;c++){let u=e[c],d=Math.min(Math.floor(u/i),n-1);for(;u>=a[d]+s[d];)d++;d in t?t[d].push(u):t[d]=[u]}}return t}pruneSplats(e){let n,t=this._countIndexesInChunks(e),i=[];return t.length>0&&(n=this.variableChunkSize?[...this.variableChunkSize]:Array(this.nchunks).fill(this.chunkSize),t.forEach((r,o)=>{n[o]-=r.length,n[o]<=0&&i.push(o)}),n=n.filter(r=>r>0)),new FI(this.config,this.xyz.pruneFeature(e,i,n),this.scaling.pruneFeature(e,i,n),this.color.pruneFeature(e,i,n),this.opacity.pruneFeature(e,i,n),this.quaternion.pruneFeature(e,i,n),this.harmonics?this.harmonics.map(r=>r.pruneFeature(e,i,this.variableChunkSize)):void 0,n)}static loadConfig(e){return(0,gs.Z)(function*(){return yield(yield fetch(e,{method:"GET",mode:"cors",headers:{Accept:"application/json"}})).json()})()}toGaussians(){let t={},n=0;if(t.x={dtype:"float",index:n},n++,t.y={dtype:"float",index:n},n++,t.z={dtype:"float",index:n},n++,t.f_dc_0={dtype:"float",index:n},n++,t.f_dc_1={dtype:"float",index:n},n++,t.f_dc_2={dtype:"float",index:n},n++,this.harmonics&&this.harmonics.length>0)for(let r=0;r<this.harmonics.length;r++)t[`f_rest_${r}`]={dtype:"float",index:n},n++,t[`f_rest_${r+1}`]={dtype:"float",index:n},n++,t[`f_rest_${r+2}`]={dtype:"float",index:n},n++;t.opacity={dtype:"float",index:n},n++,t.scale_0={dtype:"float",index:n},n++,t.scale_1={dtype:"float",index:n},n++,t.scale_2={dtype:"float",index:n},n++,t.rot_0={dtype:"float",index:n},n++,t.rot_1={dtype:"float",index:n},n++,t.rot_2={dtype:"float",index:n},n++,t.rot_3={dtype:"float",index:n},n++;let i=this.harmonics?.map(r=>r.denormDequant());return new Hm(t,{format:"binary_little_endian",version:"1.0"},this.xyz.length,this.xyz.denormDequant(),this.color.denormDequant(),i||[],this.opacity.denormDequant(),this.scaling.denormDequant(),this.quaternion.denormDequant(),3)}},G1=ma(Db()),wd=ma(Ab()),oX={xyz:3,color:3,opacity:1,scaling:3,quaternion:4,harmonics:3},LI=class{constructor(e){this._buffer=e}get buffer(){return this._buffer}get decoded(){return this._decoded||(this._decoded=this.decodeBuffer()),this._decoded}get colorsA(){let t=this.decoded.color.denormDequant(),n=this.decoded.opacity.denormDequant(),i=(0,G1.default)(new Float32Array(4*t.shape[0]),[t.shape[0],4]);return wd.mulseq(t,.28209479177387814),wd.addseq(t,.5),wd.mulseq(t,255),wd.maxseq(t,0),wd.minseq(t,255),wd.negeq(n),wd.expeq(n),wd.addseq(n,1),wd.recipeq(n),wd.mulseq(n,255),wd.assign(i.hi(t.shape[0],3).lo(0,0),t),wd.assign(i.hi(t.shape[0],4).lo(0,3),n),(0,G1.default)(new Uint8Array(i.data),[t.shape[0],4]).data}get nsplats(){return this.decoded.nsplats}getSplatCount(){return this.decoded.nsplats}get precomputedCovarianceBufferData(){return this._precomputedCovarianceBufferData}decodeBuffer(){let{splatCount:e,chunkCount:t,chunkSize:n,typeChunks:i,vertexData:r,propertiesDesc:o}=this.decodeHeader(),s={xyz:o.xyz.compressionMethod,color:o.color.compressionMethod,opacity:o.opacity.compressionMethod,scaling:o.scaling.compressionMethod,quaternion:o.quaternion.compressionMethod,chunkSize:n};o.harmonics_0&&(s.harmonics=o.harmonics_0.compressionMethod);let a=r.byteOffset,l=Array(Object.keys(o).length);for(let b in o)l[o[b].index]={name:b,method:o[b].compressionMethod};let h,c=2*t*4,u=a,d="dynamic"===i?2*t:0,f=!1;if(d>0){let b=new Uint16Array(r.buffer.slice(u,u+d));u+=d,h=Array.from(b),f=!0}let v={};for(let b of l){let S,w=0,O=!0;if("norm8x"===b.method)w=1*e*oX[b.name];else if("norm11"===b.method)w=4*e;else{if("norm565"!==b.method)throw O=!1,new Error(`Not Implemented format: ${b.method}`);w=2*e}if(!O)throw new Error("loading chunk byt hasnot minmax!");{let Y=r.buffer.slice(u,u+c);S=(0,G1.default)(new Float32Array(Y),[t,2]),u+=c}let V,D=r.buffer.slice(u,u+w);if(u+=w,"norm8x"===b.method)V=(0,G1.default)(new Uint8Array(D),[e,oX[b.name]]);else if("norm11"===b.method)V=(0,G1.default)(new Uint32Array(D));else{if("norm565"!==b.method)throw new Error(`Not Implemented format: ${b.method}`);V=(0,G1.default)(new Uint16Array(D))}v[b.name]=new ls(V,S,n,b.method,h,f)}let y=[];for(let b=0;b<15;b++){let w=v[`harmonics_${b}`];w&&(y.push(w),delete v[`harmonics_${b}`])}return y.length>0&&(v.harmonics=y),new FI(s,v.xyz,v.scaling,v.color,v.opacity,v.quaternion,v.harmonics,h)}buildPreComputedBuffers(){let e=this.decoded,t=e.nsplats,n=new ArrayBuffer(24*t),i=new Float32Array(n),r=e.scaling.denormDequant(),o=e.quaternion.denormDequant(),s=new Di,a=new vs,l=new vs,c=new vs,u=new Wt;for(let d=0;d<t;d++){u.makeScale(Math.exp(r.get(d,0)),Math.exp(r.get(d,1)),Math.exp(r.get(d,2))),l.setFromMatrix4(u),s.set(o.get(d,0),o.get(d,1),o.get(d,2),o.get(d,3)),u.makeRotationFromQuaternion(s),a.setFromMatrix4(u),c.copy(a).multiply(l);let h=c.elements;i[6*d]=h[0]*h[0]+h[3]*h[3]+h[6]*h[6],i[6*d+1]=h[0]*h[1]+h[3]*h[4]+h[6]*h[7],i[6*d+2]=h[0]*h[2]+h[3]*h[5]+h[6]*h[8],i[6*d+3]=h[1]*h[1]+h[4]*h[4]+h[7]*h[7],i[6*d+4]=h[1]*h[2]+h[4]*h[5]+h[7]*h[8],i[6*d+5]=h[2]*h[2]+h[5]*h[5]+h[8]*h[8]}this._precomputedCovarianceBufferData=n}decodeHeader(){let e=this._buffer,t=new TextDecoder,n=0,i="",r=100;for(;;){if(n+r>=e.byteLength)throw new Error("End of file reached while searching for end of header");let v=new Uint8Array(e,n,r);i+=t.decode(v),n+=r;let y=n-200,b=new Uint8Array(e,Math.max(0,y),y>=0?200:r);if(t.decode(b).includes("end_header"))break}let o=i.split("\n"),s=0,a=0,l=0,c=0,u="",d={};for(let v=0;v<o.length;v++){let y=o[v].trim();if(y.startsWith("element vertex")){let b=y.match(/\d+/);b&&(s=parseInt(b[0]))}else if(y.startsWith("property")){let b=y.match(/(\w+)\s+(\w+)\s+(\w+)/);b&&(d[b[2]]={compressionMethod:b[3],index:c},c++)}else if(y.startsWith("element chunks")){let b=y.match(/\d+/);b&&(a=parseInt(b[0]))}else if(y.startsWith("element chunkSize")){let b=y.match(/\d+/);b&&(l=parseInt(b[0]))}else if(y.startsWith("element typeChunks")){let b=y.match(/(\w+)\s+(\w+)\s+(\w+)/);b&&(u=b[3])}else if("end_header"===y)break}let h=i.indexOf("end_header")+10+1;return{splatCount:s,chunkCount:a,chunkSize:l,typeChunks:u,vertexData:new DataView(e,h),propertiesDesc:d}}pruneSplats(e){let t=this.decodeBuffer().pruneSplats(e);return LI.fromCompressedGaussianSplats(t)}static fromCompressedGaussianSplats(e){let n=e.xyz.nchunks,i=`gspline\nelement vertex ${e.xyz.length}\nelement chunks ${n}\nelement chunkSize ${e.chunkSize}\nelement typeChunks ${e.isDynamicChunks?"dynamic":"static"}\nproperty xyz ${e.xyz.method}\nproperty color ${e.color.method}\nproperty opacity ${e.opacity.method}\nproperty scaling ${e.scaling.method}\nproperty quaternion ${e.quaternion.method}`;if(e.harmonics&&e.harmonics.length>0)for(let q=0;q<e.harmonics.length;q++)i=`${i}\nproperty harmonics_${q} ${e.harmonics[q].method}`;i=`${i}\nend_header\n`;let r=(new TextEncoder).encode(i),o=2*n*4,s=e.xyz.quantized.data.buffer.byteLength,a=e.xyz instanceof ls?o:0,l=e.color.quantized.data.buffer.byteLength,c=e.color instanceof ls?o:0,u=e.opacity.quantized.data.buffer.byteLength,d=e.opacity instanceof ls?o:0,h=e.scaling.quantized.data.buffer.byteLength,f=e.scaling instanceof ls?o:0,v=e.quaternion.quantized.data.buffer.byteLength,y=e.quaternion instanceof ls?o:0,b=e.variableChunkSize?Uint16Array.from(e.variableChunkSize):void 0,w=b?b.byteLength:0,O=r.byteLength+w+s+a+l+c+u+d+h+f+v+y,S=0,D=0;if(e.harmonics&&e.harmonics.length>0)for(let q=0;q<e.harmonics.length;q++)S+=e.harmonics[q].quantized.data.buffer.byteLength,D+=e.harmonics[q]instanceof ls?o:0;S=0,D=0,O+=S+D;let V=new Uint8Array(O),Y=0;if(V.set(r,Y),Y+=r.byteLength,w>0&&(V.set(new Uint8Array(b.buffer),Y),Y+=w),e.xyz instanceof ls&&(V.set(new Uint8Array(e.xyz.minmaxMatrix.data.buffer),Y),Y+=o),V.set(new Uint8Array(e.xyz.quantized.data.buffer),Y),Y+=s,e.color instanceof ls&&(V.set(new Uint8Array(e.color.minmaxMatrix.data.buffer),Y),Y+=o),V.set(new Uint8Array(e.color.quantized.data.buffer),Y),Y+=l,e.opacity instanceof ls&&(V.set(new Uint8Array(e.opacity.minmaxMatrix.data.buffer),Y),Y+=o),V.set(new Uint8Array(e.opacity.quantized.data.buffer),Y),Y+=u,e.scaling instanceof ls&&(V.set(new Uint8Array(e.scaling.minmaxMatrix.data.buffer),Y),Y+=o),V.set(new Uint8Array(e.scaling.quantized.data.buffer),Y),Y+=h,e.quaternion instanceof ls&&(V.set(new Uint8Array(e.quaternion.minmaxMatrix.data.buffer),Y),Y+=o),V.set(new Uint8Array(e.quaternion.quantized.data.buffer),Y),Y+=v,S>0&&e.harmonics&&e.harmonics.length>0)for(let q=0;q<e.harmonics.length;q++){let K=e.harmonics[q];K instanceof ls&&(V.set(new Uint8Array(K.minmaxMatrix.data.buffer),Y),Y+=o),V.set(new Uint8Array(K.quantized.data.buffer),Y),Y+=K.quantized.data.byteLength}return new LI(V.buffer)}},Kf=class{};function fFe(e){let t,n,i,r,o,s,a,l,c,u,d,h,f,v,y,b;function O(ae,pe,fe){let ge=new Float32Array(u,o,3*n);i=0;let Oe=new Uint32Array(u,r,n);for(let Pe=0;Pe<fe.length-1;Pe++){let xe=pe[Pe],_e=ae[Pe].elements,Ue=xe.filter(ze=>ze.enabled&&"Include"===ze.mode).map(ze=>"Box"===ze.type?Y(ze):te(ze)),He=xe.filter(ze=>ze.enabled&&"Exclude"===ze.mode).map(ze=>"Box"===ze.type?Y(ze):te(ze));for(let ze=fe[Pe];ze<fe[Pe+1];ze++){let Re=f[3*ze],Ye=f[3*ze+1],Le=f[3*ze+2];if((0===Ue.length||D(Re,Ye,Le,Ue))&&(0===He.length||!D(Re,Ye,Le,He))){let Xe=1/(_e[3]*Re+_e[7]*Ye+_e[11]*Le+_e[15]);ge[3*i]=(_e[0]*Re+_e[4]*Ye+_e[8]*Le+_e[12])*Xe,ge[3*i+1]=(_e[1]*Re+_e[5]*Ye+_e[9]*Le+_e[13])*Xe,ge[3*i+2]=(_e[2]*Re+_e[6]*Ye+_e[10]*Le+_e[14])*Xe,Oe[i]=ze,i++}}}}function D(ae,pe,fe,ge,Oe){return ge["Intersect"===Oe?"every":"some"](Pe=>{let xe=function V(ae,pe,fe,ge,Oe){let Pe=ae-Oe[0],xe=pe-Oe[1],_e=fe-Oe[2],Ue=1/(ge[3]*Pe+ge[7]*xe+ge[11]*_e+ge[15]);return{x:(ge[0]*Pe+ge[4]*xe+ge[8]*_e+ge[12])*Ue+Oe[0],y:(ge[1]*Pe+ge[5]*xe+ge[9]*_e+ge[13])*Ue+Oe[1],z:(ge[2]*Pe+ge[6]*xe+ge[10]*_e+ge[14])*Ue+Oe[2]}}(ae,pe,fe,Pe.invRotationMatrix,Pe.cropCenter);return Array.isArray(Pe)?function K(ae,pe,fe,ge){return ae>=ge[0]&&ae<=ge[3]&&pe>=ge[1]&&pe<=ge[4]&&fe>=ge[2]&&fe<=ge[5]}(xe.x,xe.y,xe.z,Pe):function ie(ae,pe,fe,ge){let Oe=(ae-ge.cropCenter[0])*ge.invRadiusX,Pe=(pe-ge.cropCenter[1])*ge.invRadiusY,xe=(fe-ge.cropCenter[2])*ge.invRadiusZ;return Oe*Oe+Pe*Pe+xe*xe<=1}(xe.x,xe.y,xe.z,Pe)})}function Y(ae){let pe=ae.cropSize[0]/2,fe=ae.cropSize[1]/2,ge=ae.cropSize[2]/2,Oe=[ae.cropCenter[0]-pe,ae.cropCenter[1]-fe,ae.cropCenter[2]-ge,ae.cropCenter[0]+pe,ae.cropCenter[1]+fe,ae.cropCenter[2]+ge],Pe=q(ae.cropRotation);return Object.assign(Oe,{invRotationMatrix:Pe,cropCenter:ae.cropCenter})}function q(ae){let pe=[],fe=ae[0]*Math.PI/180,ge=ae[1]*Math.PI/180,Oe=ae[2]*Math.PI/180,Pe=Math.cos(fe),xe=Math.sin(fe),_e=Math.cos(ge),Ue=Math.sin(ge),He=Math.cos(Oe),ze=Math.sin(Oe),Re=Pe*He,Ye=Pe*ze,Le=xe*He,Xe=xe*ze;return pe[0]=_e*He,pe[1]=-_e*ze,pe[2]=Ue,pe[4]=Ye+Le*Ue,pe[5]=Re-Xe*Ue,pe[6]=-xe*_e,pe[8]=Xe-Re*Ue,pe[9]=Le+Ye*Ue,pe[10]=Pe*_e,pe[12]=0,pe[13]=0,pe[14]=0,pe[3]=0,pe[7]=0,pe[11]=0,pe[15]=1,pe}function te(ae){let pe=2/ae.cropSize[0],fe=2/ae.cropSize[1],ge=2/ae.cropSize[2],Oe=q(ae.cropRotation);return{invRadiusX:pe,invRadiusY:fe,invRadiusZ:ge,cropCenter:ae.cropCenter,invRotationMatrix:Oe}}e.onmessage=ae=>{if(ae.data.getCroppedIndexes){let pe=new Uint32Array(function S(ae,pe){let fe=[],ge=pe.filter(xe=>xe.enabled&&"Include"===xe.mode).map(xe=>"Box"===xe.type?Y(xe):te(xe)),Oe=pe.filter(xe=>xe.enabled&&"Exclude"===xe.mode).map(xe=>"Box"===xe.type?Y(xe):te(xe)),Pe=ae.length;for(let xe=0;xe<Pe;xe+=3){let _e=ae[xe],Ue=ae[xe+1],He=ae[xe+2];(0===ge.length||D(_e,Ue,He,ge))&&(0===Oe.length||!D(_e,Ue,He,Oe))||fe.push(xe/3)}return console.log(fe),fe}(new Float32Array(ae.data.positions),ae.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:pe},[pe])}else if(ae.data.positions)d=ae.data.positions,f=new Float32Array(d),y=ae.data.meshMatrixWorlds,b=ae.data.cropsArray,v=ae.data.meshIndexIntervals,O(y,b,v),e.postMessage({sortSetupComplete:!0});else if(ae.data.sort||ae.data.newMatrixWorlds||ae.data.newCropsArray)(ae.data.newMatrixWorlds||ae.data.newCropsArray)&&(b=ae.data.newCropsArray||b,y=ae.data.newMatrixWorlds||y,O(y,b,v)),function w(ae){let fe,pe=new Float64Array(u,s,16);for(let ge=0;ge<16;ge++)pe[ge]=ae[ge];if(i>1){t.exports.sortIndexes(r,o,c,s,a,l,h.DepthMapRange,i);let ge=new Uint32Array(i);fe=ge.buffer,ge.set(new Uint32Array(u,l,i))}else if(1===i){let ge=new Uint32Array(i);ge[0]=new Uint32Array(u,r,n)[0],fe=ge.buffer}else fe=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:fe},[fe])}(ae.data.sort.view);else if(ae.data.init){h=ae.data.init.Constants,n=ae.data.init.splatCount;let pe=h.BytesPerInt,fe=3*h.BytesPerFloat,ge=new Uint8Array(ae.data.init.sorterWasmBytes),He=Math.floor((n*(pe+fe)+(n*h.BytesPerInt*2+h.DepthMapRange*h.BytesPerInt*2)+32*h.MemoryPageSize)/h.MemoryPageSize)+1,ze={module:{},env:{memory:new WebAssembly.Memory({initial:2*He,maximum:3*He,shared:!0})}};WebAssembly.compile(ge).then(Re=>WebAssembly.instantiate(Re,ze)).then(Re=>{t=Re,r=0,o=n*pe,s=o+n*fe,c=s+16*h.BytesPerFloat*2,a=c+n*h.BytesPerInt,l=a+h.DepthMapRange*h.BytesPerInt,u=ze.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}gl(Kf,"DepthMapRange",65536),gl(Kf,"MemoryPageSize",65536),gl(Kf,"BytesPerFloat",4),gl(Kf,"BytesPerInt",4);var BI=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(n){return e[0]=n,t[0]}}(),mFe=function(e,t,n,i){return e+(t<<8)+(n<<16)+(i<<24)},h2=new Ve,p2=class extends yl{constructor(e,t,n,i,r=!1,o=1,s,a){super(n,i),this.splatCount=t,this.meshIndexIntervals=s,this.meshMatrixWorlds=a,this.splatBuffers=e,this.geometry=n,this.material=i,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=r,this.devicePixelRatio=o,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,n=!1,i=1,r,o){let s=p2.buildGeomtery(t),a=p2.buildMaterial(r);return new p2(e,t,s,a,n,i,r,o)}static buildMaterial(e){let i={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new Ve},viewport:{type:"v2",value:new Ve},basisViewport:{type:"v2",value:new Ve},debugColor:{type:"v3",value:new si},covariancesTextureSize:{type:"v2",value:new Ve(1024,1024)},centersColorsTextureSize:{type:"v2",value:new Ve(1024,1024)},orthoZoom:{type:"f",value:-1}};return new vo({uniforms:i,vertexShader:"\n            precision highp float;\n            #include <common>\n\n            attribute uint splatIndex;\n\n            uniform highp sampler2D covariancesTexture;\n            uniform highp usampler2D centersColorsTexture;\n            uniform vec2 focal;\n            uniform vec2 viewport;\n            uniform vec2 basisViewport;\n            uniform vec2 covariancesTextureSize;\n            uniform vec2 centersColorsTextureSize;\n\t\t\t\t\t\tuniform highp sampler2D meshMatrixWorldsTexture;\n\t\t\t\t\t\tuniform uint meshIndexIntervals[257];\n\t\t\t\t\t\tuniform float orthoZoom;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n\n            varying vec2 vPosition;\n\n            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);\n            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));\n            const uvec4 shift4 = uvec4(0, 8, 16, 24);\n            vec4 uintToRGBAVec (uint u) {\n               uvec4 urgba = mask4 & u;\n               urgba = urgba >> shift4;\n               vec4 rgba = vec4(urgba) * encodeNorm4;\n               return rgba;\n            }\n\n            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {\n                vec2 samplerUV = vec2(0.0, 0.0);\n                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;\n                samplerUV.y = float(floor(d)) / dimensions.y;\n                samplerUV.x = fract(d);\n                return samplerUV;\n            }\n\n            void main () {\n                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));\n                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));\n                vColor = uintToRGBAVec(sampledCenterColor.r);\n\n                vPosition = position.xy * 2.0;\n\n\t\t\t\t\t\t\t\tuint meshIndex;\n\t\t\t\t\t\t\t\tfor (int i = 1; i < 257; i++) {\n\t\t\t\t\t\t\t\t\tif (splatIndex < meshIndexIntervals[i]) {\n\t\t\t\t\t\t\t\t\t\tmeshIndex = uint(i - 1);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfloat strideMulmeshIndex = float(4u*meshIndex);\n\t\t\t\t\t\t\t\tfloat meshMatrixWorldsTextureLength = float(256*4);\n\n\t\t\t\t\t\t\t\tmat4 modelMat = mat4(\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmat4 modelViewMat = viewMatrix * modelMat;\n\t\t\t\t\t\t\t\tvec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); \n                vec4 clipCenter = projectionMatrix * viewCenter;\n\n                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;\n                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;\n                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;\n\n                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);\n                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);\n\n                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix\n                mat3 Vrk = mat3(\n                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,\n                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,\n                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z\n                );\n                float s = 1.0 / (viewCenter.z * viewCenter.z);\n\n                mat3 W = transpose(mat3(modelViewMat));\n                mat3 T = orthoZoom > 0.0 ? W : W * mat3(\n\t\t\t\t\t\t\t\t\tfocal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,\n\t\t\t\t\t\t\t\t\t0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,\n\t\t\t\t\t\t\t\t\t0., 0., 0.\n\t\t\t\t\t\t\t\t);\n                mat3 cov2Dm = transpose(T) * Vrk * T;\n                cov2Dm[0][0] += 0.3;\n                cov2Dm[1][1] += 0.3;\n\n                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because\n                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],\n                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't\n                // need cov2Dm[1][0] because it is a symetric matrix.\n                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);\n\n                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;\n\n                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix\n                // so that we can determine the 2D basis for the splat. This is done using the method described\n                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html\n                //\n                // This is a different approach than in the original work at INRIA. In that work they compute the\n                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle\n                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance\n                // matrix (called 'conic') to determine fragment opacity.\n                float a = cov2Dv.x;\n                float d = cov2Dv.z;\n                float b = cov2Dv.y;\n                float D = a * d - b * b;\n                float trace = a + d;\n                float traceOver2 = 0.5 * trace;\n                float term2 = sqrt(trace * trace / 4.0 - D);\n                float eigenValue1 = traceOver2 + term2;\n\t\t\t\t\t\t\t\tfloat eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value\n\n                const float maxSplatSize = 1024.0;\n                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));\n                // since the eigen vectors are orthogonal, we derive the second one from the first\n                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);\n                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);\n                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);\n\n                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;\n\n\t\t\t\t\t\t\t\tif (orthoZoom > 0.0) {\n\t\t\t\t\t\t\t\t\tndcOffset *= orthoZoom;\n\t\t\t\t\t\t\t\t}\n\n                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);\n            }",fragmentShader:"\n            precision highp float;\n            #include <common>\n\n            uniform vec3 debugColor;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n\n            varying vec2 vPosition;\n\t\t\t\t\t\tlayout(location = 1) out vec4 gVelocity; \n\n            void main () {\n                // compute the negative squared distance from the center of the splat to the\n                // current fragment in the splat's local space.\n                float A = -dot(vPosition, vPosition);\n                if (A < -4.0) discard;\n                vec3 color = vColor.rgb;\n                A = exp(A) * vColor.a;\n                gl_FragColor = vec4(color.rgb, A);\n\t\t\t\t\t\t\t\tgVelocity = vec4(0.0); // so it is ignored by TAA\n            }",transparent:!0,alphaTest:1,blending:rm,depthTest:!0,depthWrite:!1,side:Xl})}static buildGeomtery(e){let t=new ei;t.setIndex([0,1,2,0,2,3]);let n=new Float32Array(12),i=new pi(n,3);t.setAttribute("position",i),i.setXYZ(0,-1,-1,0),i.setXYZ(1,-1,1,0),i.setXYZ(2,1,1,0),i.setXYZ(3,1,-1,0),i.needsUpdate=!0;let r=(new jj).copy(t),o=new Uint32Array(e),s=new dj(o,1,!1);return s.setUsage(35048),r.setAttribute("splatIndex",s),r.instanceCount=e,r}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(i=>i.buildPreComputedBuffers()),this.covariances=new Float32Array(6*this.splatCount),this.colors=new Uint8Array(4*this.splatCount),this.centers=new Float32Array(3*this.splatCount);let e=0,t=0,n=0;for(let i of this.splatBuffers){let r=i.nsplats;this.colors.subarray(e,e+4*r).set(i.colorsA),e+=4*r,this.centers.subarray(t,t+3*r).set(i.decoded.xyz.denormDequant().data),t+=3*r,this.covariances.subarray(n,n+6*r).set(new Float32Array(i.precomputedCovarianceBufferData)),n+=6*r}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new Ve(4096,1024);for(;t.x*t.y*2<6*e;)t.y*=2;let i,r,n=new Ve(4096,1024);for(;n.x*n.y*4<4*e;)n.y*=2;if(this.halfPrecisionCovariancesOnGPU){r=new Uint16Array(t.x*t.y*2);for(let u=0;u<this.covariances.length;u++)r[u]=bCe.toHalfFloat(this.covariances[u]);i=new xf(r,t.x,t.y,TC,am)}else r=new Float32Array(t.x*t.y*2),r.set(this.covariances),i=new xf(r,t.x,t.y,TC,ml);i.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=i,this.material.uniforms.covariancesTextureSize.value.copy(t);let o=new Uint32Array(n.x*n.y*4);for(let u=0;u<e;u++){let d=4*u,h=3*u,f=4*u;o[f]=mFe(this.colors[d],this.colors[d+1],this.colors[d+2],this.colors[d+3]),o[f+1]=BI(this.centers[h]),o[f+2]=BI(this.centers[h+1]),o[f+3]=BI(this.centers[h+2])}let s=new xf(o,n.x,n.y,z7,$h);s.internalFormat="RGBA32UI",s.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=s,this.material.uniforms.centersColorsTextureSize.value.copy(n);let l=new Float32Array(4096);for(let u=0;u<this.meshMatrixWorlds.length;u++)l.set(this.meshMatrixWorlds[u].elements,16*u);let c=new xf(l,1024,1,Ec,ml);c.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=c,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:r,texture:i,size:t},centerColors:{data:o,texture:s,size:n},meshMatrixWorlds:{data:l,texture:c}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,n,i){this.splatCount>0&&(h2.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(h2),this.material.uniforms.basisViewport.value.set(2/h2.x,2/h2.y),this.material.uniforms.focal.value.set(t,n),this.material.uniforms.orthoZoom.value=i,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose())}},zI=new Ub;zI.wireframe=!0;var sX=new re,UI=class extends _f{constructor(e,t){super(),this.data=e,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new class{constructor(){this._constraints=new Map}setConstraint(e,t){null===t?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((n,i)=>{let r=[i,n],o=n;for(;this._constraints.has(o);)o=this._constraints.get(o),t.has(o)||r.push(o);for(let s=r.length-2;s>=0;s--)if(!t.has(r[s])){let a=e.find(r[s]);a?a.applyPathSnapping(e):console.warn(`missing entity ${r[s]}`),t.add(r[s])}})}findDependency(e,t){let n=e;for(;this._constraints.has(n);)if(n=this._constraints.get(n),n===t)return!0;return!1}},this.errorPage=new Xf("fdasfa",{...l1.defaultData,name:""}),this.invisibleObjects=new U1("jflkdsafjasdifjaslk",{...V3.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=function tFe(e){let t=!1;return e.traverseEntity(n=>{if(n instanceof F1)if(Array.isArray(n.material))for(let i=0;i<n.material.length;i++)JY(n,n.material[i])&&(t=!0);else JY(n,n.material)&&(t=!0)}),t}(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=function eFe(e){let t=!1;return e.traverseEntity(n=>{if(n instanceof F1)if(Array.isArray(n.material))for(let i=0;i<n.material.length;i++)ZY(n,n.material[i])&&(t=!0);else ZY(n,n.material)&&(t=!0)}),t}(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),n=this.entityIdentityToEntity[t];n&&(e.uuid=n.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof Xf&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(void 0===t)return;let n=[],i=t;for(;i!==this;){let r=i;i=i.parent;let o=i.children.indexOf(r);n.splice(0,0,o)}return{entity:t,sortKey:n}}getAllSorted(e){let t=[];for(let n of e){let i=this.getWithSortKey(n.id);void 0!==i&&t.push(i)}return t.sort((n,i)=>function GAe(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}(n.sortKey,i.sortKey)),t.map(n=>n.entity)}nonExistOrDescendantOf(e,t){let n=this.find(e);if(void 0===n)return!0;for(;n;){if(n.uuid===t)return!0;n=n.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if("f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera"===e)return this.activePage.personalCamera;if(e===Jv)return this.activePage.personalCamera}if(""===e||void 0===e)return;let t=this.entityByUuid[e];return void 0===t?this.getObjectByProperty("uuid",e):t}debugEnsureEntity(e){let t=this.find(e);t?Array.isArray(t.identity)&&void 0===this.findInstance(t.identity)&&console.error("not found instance"):console.error("not found")}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{e.cloner?.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){1===e.path.length&&"components"===e.path[0]&&1===e.type&&this.createChildrenObjects([{...e.data.asset,id:e.id}],this.invisibleObjects,t)}updateTreeByOp(e,t){if(0===e.path.length&&7===e.type){let n=null===e.parent?this:this.find(e.parent);if(void 0===n)throw new Error("unexpected");let i=this.createObject(e.id,e.data,e.children,n,e.localIndex,t);i.updateVisible(),i.resetBBoxNeedsUpdate(),su(i)&&bp(i.parent)&&(i.invalidateUpstreamBooleanData(),i.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(i),this.markToExpandCloner(i),this.markPenumbraSizeDirty(),i.updatePathSnapping()}else if(0===e.path.length&&8===e.type){let n=this.find(e.id);if(void 0===n)throw new Error("unexpected");this.markToExpandCloner(n),n.resetBBoxNeedsUpdate(),this.unregisterObject(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),this.markNeedsRecomputeInstancesForChildren(n),this.markPenumbraSizeDirty(),n.parent.remove(n),bp(n.parent)&&(n.parent.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),su(n)&&(n.freeBooleanPointer(),i instanceof jm&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n instanceof DI&&n.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),this.pathConstraints.removeDependencies(n.uuid),n.updatePathSnapping()}else if(0===e.path.length&&9===e.type){let n=this.find(e.id);if(void 0===n)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),n.cloner?.resetOnMove(),this.markToExpandCloner(n);let r=null===e.parent?this:this.find(e.parent);if(void 0===r)throw new Error("unexpected");r.add(n),this.markNeedsRecomputeInstancesForAncessors(r),this.markToExpandCloner(n),n.invalidateClonerTransform(n),n.updateVisible(),n.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty(),r.children.splice(e.localIndex,0,r.children.pop()),su(n)&&(n.invalidateUpstreamBooleanData(),bp(n.parent)?n.parent.invalidateDownstreamBooleanData().recomputeBoolean():i instanceof jm&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let t of this.children)t instanceof Xf&&(t.visible=t.uuid===e,t.visible&&(this.activePage=t,this.activePage.onActive(this)));this.activePage!==this.splatViewer?.activePage&&this.reloadSplats()}updateEntityByOp(e,t,n,i){if(0===t.type){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:o}=t.props;t={...t,props:o},this.markNeedsRecomputeInstances()}"pathSnapping"===t.path[0]&&void 0!==t.props.pathId&&this.pathConstraints.setConstraint(e,t.props.pathId)}let r=this.find(e);if(r)try{(function J5e(e,t,n,i){e.updateByOp(t,n,i,!1)})(r,t,n,{scene:this,shared:i}),r instanceof Dl&&r.updateGeometryGroupsIfNeeded()}catch(o){console.error(o)}}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let n=Object.entries(t.data.lib.components).map((i,r)=>({data:i[1].asset.data,children:i[1].asset.children,id:i[0],fi:r}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(n,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(i=>{i instanceof Ja&&i.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{("Component"===t.data.type||"Instance"===t.data.type)&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){vr.is(e)&&("Component"===e.data.type&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{vr.is(t)&&"Component"===t.data.type&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,n,i,r,o,s){if(e){let a=i.find(e);a&&a!==i&&r.forInstancesRec(l=>{l.data=h_(l.data,c=>{let u=c.events.data(s.id),d=l.goUp(o);if(d){let h=[...bH(d.identity),e].join("-"),f=this.entityIdentityToEntity[h];if(f){let v=f.uuid;xl.zoom(u,t)[n]=v}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,n,i,r,o){e.forEach(s=>{("Transition"===s.data.type||"Animation"===s.data.type)&&this.relativeizeInner(s.data.object,[...t,s.id],"object",n,i,r,o)})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof j1&&"string"==typeof e.identity&&"Component"===e.data.type)return e.traverseEntity((t,n)=>{t.data.events.forEach(i=>{if("GameControl"===i.data.type){let r=!1;if(t.forInstancesRec(o=>{o.data=h_(o.data,s=>{o.isInstanceRoot||(s.events.delete(i.id),r=!0)}).data}),!1===r)for(let o of yP.list)this.rewriteActions(i.data.gameActions[o],["gameActions",o],e,t,n,i)}else"Conditional"===i.data.type?("Distance"===i.data.condition.type?(this.relativeizeInner(i.data.condition.fromObject,["condition"],"fromObject",e,t,n,i),this.relativeizeInner(i.data.condition.toObject,["condition"],"toObject",e,t,n,i)):"State"===i.data.condition.type?this.relativeizeInner(i.data.condition.object,["condition"],"object",e,t,n,i):"Comparison"===i.data.condition.type&&("Property"===i.data.condition.lOperand.type&&this.relativeizeInner(i.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,n,i),"Property"===i.data.condition.rOperand.type&&this.relativeizeInner(i.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,n,i)),this.rewriteActions(i.data.inActions,["inActions"],e,t,n,i),this.rewriteActions(i.data.outActions,["outActions"],e,t,n,i)):"actions"in i.data&&this.rewriteActions(i.data.actions,["actions"],e,t,n,i)})}),!0})}expandInstances(e,t,n){let i=new Set;this.traverseEntity(r=>{if(r instanceof j1&&r.isInstanceRoot)return r.expandInstanceChildren({scene:this,shared:e,pendingDeletes:i}),t||r.resetBBoxNeedsUpdate(),n&&r.traverseEntity(o=>{n.addClip(o)}),!0});for(let r of i)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(r),AI(r)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(n=>{n instanceof j1&&n.isInstanceRoot&&(n.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let n="string"==typeof t.identity?t.identity:t.identity.join("-");this.entityIdentityToEntity[n]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[n]),t.dispose()})}clearScene(){for(let e of this.children)vr.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let n=[],i=r=>{for(let o of r.children){let s=o.cloner;if(vr.is(o)&&!o.raycastLock&&(o.visible||s?.object.data.visible))if(!0===t&&o.isInstanceRoot){let a=[];if(e.intersectObject(o,!0,a),a.length){let l=a[0];l.object=o,l.point.applyMatrix4(l.object.matrixWorld);let c=o.matrixWorld.clone().invert();l.point.applyMatrix4(c),n.push(l)}}else(su(o)||gI(o)&&this.enableHelpers&&o.objectHelper.visible)&&(e.intersectObject(o,!1,n),kI(o,e,n)),i(o)}};return i(this),n}raycastWithClones(e){let t=[],n=i=>{for(let r of i.children){let o=r.cloner;vr.is(r)&&(r.visible||o?.object.data.visible)&&((su(r)||gI(r)&&this.enableHelpers&&r.objectHelper.visible)&&(e.intersectObject(r,!1,t),kI(r,e,t,!0)),n(r))}};return n(this),t}forEachEntity(e){for(let t of this.children)vr.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)vr.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)vr.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(n=>{if(n instanceof Dl&&"Mesh"===n.data.type&&"TextGeometry"===n.data.geometry.type&&n.data.geometry.font===e){let i=n.geometry,r=n.data.geometry;i.updateFont(e,t).then(()=>{i.update(r);let o=n.invalidateDownstreamBooleanData();bp(o)&&o.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)D_.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)vr.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,n){let i=0;for(let r of e)this.createObject(r.id,r.data,r.children,t,i,n),i+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,n,i,r,o){let s={scene:this,shared:o},a=TI(e,t,s);return a&&(this.entityByUuid[e]=a,i.add(a),i.children.splice(r,0,i.children.pop()),n.length>0&&(a.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(n,a,o)),a.updateState(t,s),a instanceof Dl&&a.updateGeometryGroupsIfNeeded(),a.updateVisible(),a.cloner&&this.toExpandCloner.add(a),t.pathSnapping?.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),"Empty"===t.type&&t.animations&&a.traverseEntity(l=>{let c=l.dataPatched;if(l instanceof Dl&&c.bones&&c.boneInverses){let u=c.bones.map(f=>this.find(f)),d=c.boneInverses.map(f=>(new Wt).fromArray(f)),h=new eT(u,d);l.bind(h,l.bindMatrix)}else l.matrixAutoUpdate=!0}),a}getCenter(e){let t=[];for(let i=0,r=e.length;i<r;++i){let{id:o,recursive:s}=e[i],a=this.find(o);t.push(...(s?a.recursiveBBox:a.singleBBox).vertices)}let n=new ys;return n.setFromPoints(t),n.getCenter(sX),sX}copyMatrixWorld(e,t){if(null===e)return void t.identity();let n=this.find(e);n?t.copy(n.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){if(null===e)return void t.identity();let n=this.find(e)?.parent;n?t.copy(n.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof Jl)if(Array.isArray(t.material))for(let n=0;n<t.material.length;n++)t.material[n]instanceof Gf&&e(t.material[n]);else t.material instanceof Gf&&e(t.material)})}updateViewPlaneSize(e,t,n=!1){this.traverseConcreteEntity(i=>{i instanceof Ja&&i.setViewplaneSize(e,t,n)})}initializeSplatViewer(e){this.splatViewer=new class{constructor(e={}){gl(this,"updateSplatMeshUniforms",function(){let t=new Ve;return function(){null!==this.splatMesh&&this.splatMesh.getSplatCount()>0&&(this.renderer.getSize(t),this.cameraFocalLengthX=this.camera.projectionMatrix.elements[0]*this.devicePixelRatio*t.x*.45,this.cameraFocalLengthY=this.camera.projectionMatrix.elements[5]*this.devicePixelRatio*t.y*.45,this.splatMesh.updateUniforms(t,this.cameraFocalLengthX,this.cameraFocalLengthY,this.camera.isPerspectiveCamera?-1:this.camera.zoom*this.devicePixelRatio))}}()),gl(this,"updateView",function(){let t=new Wt,n=[],i=new re(0,0,-1),r=new re(0,0,-1),o=new re,s=new re;return function(a=!1){let l=this.updateMatrixWorldsInWorkerIfNeeded(),c=this.cropsChanged();if(!a){r.set(0,0,-1).applyQuaternion(this.camera.quaternion);let d=!1,h=!1;if(r.dot(i)<=.95&&(d=!0),s.copy(this.camera.position).sub(o).length()>=1&&(h=!0),!(d||h||l||c))return}o.copy(this.camera.position),i.copy(r),t.copy(this.camera.matrixWorld).invert(),t.premultiply(this.camera.perspCamera.projectionMatrix),n[0]=this.camera.position.x,n[1]=this.camera.position.y,n[2]=this.camera.position.z;let u={sort:{view:t.elements,cameraPosition:n,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...l?{newMatrixWorlds:this.meshMatrixWorlds}:{},...c?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=u:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(u))}}()),this.scene=e.scene,this.currentPage=null,this.renderer=e.renderer,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.splatRenderingInitialized=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null}get camera(){return this.scene.activeCamera}reloadSplats(){this.splatRenderingInitialized=!1;let e=this.loadSplat();this.renderer.pipeline.opaquePass.splatViewer=e?this:null}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=(new re).fromArray(e.position)),e.orientation&&(e.orientation=(new Di).fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseEntity(o=>{if("Splat"===o.data.type){let s=o.visible;o.traverseAncestors(a=>{s&&(s=a.visible)}),s&&t.push(o)}}),this.splatMesh&&this.splatMesh.dispose(),0===t.length)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(o=>o.matrixWorld),this.meshMatrixWorldsOld=t.map(o=>o.matrixWorld.clone()),this.cropsArray=t.map(o=>o.data.crops.map(s=>s.data));let n=t.map(o=>new LI(new Uint8Array(o.data.buffer).buffer)),i=0,r=[0];for(let o of n)i+=o.getSplatCount(),r.push(i);return this.setupSplatMesh(n,i,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,r,this.meshMatrixWorlds),this.setupSortWorker(i),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,16*t);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,!this.meshMatrixWorlds.every((t,n)=>t.equals(this.meshMatrixWorldsOld[n]))&&(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,n)=>{t.data.crops.forEach((i,r)=>{void 0===this.cropsArray[n][r]?(e=!0,this.cropsArray[n][r]=i.data):Object.entries(i.data).forEach(([o,s])=>{(Array.isArray(s)&&s.some((a,l)=>a!==this.cropsArray[n][r][o][l])||s!==this.cropsArray[n][r]?.[o])&&(e=!0,this.cropsArray[n][r][o]=s)})}),t.data.crops.length!==this.cropsArray[n]?.length&&(this.cropsArray[n].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,n=new re,i=new Di,r=!1,o=1,s,a){this.splatMesh=p2.buildMesh(e,t,r,o,s,a),this.splatMesh.position.copy(n),this.splatMesh.quaternion.copy(i),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=10,this.updateSplatMeshUniforms(),this.splatRenderCount=t}setupSortWorker(e){this.sortWorker=function gFe(e){let t=new Worker(URL.createObjectURL(new Blob(["(",fFe.toString(),")(self)"],{type:"application/javascript"}))),n=atob("AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL"),i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return t.postMessage({init:{sorterWasmBytes:i.buffer,splatCount:e,Constants:{BytesPerFloat:Kf.BytesPerFloat,BytesPerInt:Kf.BytesPerInt,DepthMapRange:Kf.DepthMapRange,MemoryPageSize:Kf.MemoryPageSize}}}),t}(e),this.sortWorker.onmessage=t=>{t.data.sortDone?(this.sortRunning=!1,this.splatMesh?.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.updateView(!0,!0),this.splatRenderingInitialized=!0)}}update(){!1!==this.splatRenderingInitialized&&(this.updateSplatMeshUniforms(),this.updateView())}getSplatMesh(){return this.splatMesh}}({scene:this,renderer:e}),this.reloadSplats()}reloadSplats(){this.splatViewer?.reloadSplats()}},f2=(e,t)=>{let n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},jI=e=>e*(Math.PI/180),VI=new Map,aX=e=>{VI.has(e)&&clearTimeout(VI.get(e)),VI.set(e,setTimeout(e,100))},g2=(e,t,n)=>{let r,i=t.split(/[ ,]+/g);for(let o=0;o<i.length;o+=1)r=i[o],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent&&e.attachEvent(r,n)},lX=(e,t,n)=>{let r,i=t.split(/[ ,]+/g);for(let o=0;o<i.length;o+=1)r=i[o],e.removeEventListener?e.removeEventListener(r,n):e.detachEvent&&e.detachEvent(r,n)},cX=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),dX=()=>{if(!(typeof window>"u"))return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},HI=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},GI=(e,t,n)=>{let i=uX(e);for(let r in i)if(i.hasOwnProperty(r))if("string"==typeof t)i[r]=t+" "+n;else{let o="";for(let s=0,a=t.length;s<a;s+=1)o+=t[s]+" "+n+", ";i[r]=o.slice(0,-2)}return i},uX=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(n){t[n+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},WI=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},qI=(e,t)=>{if(e.length)for(let n=0,i=e.length;n<i;n+=1)t(e[n]);else t(e)};typeof window<"u"&&(hX="ontouchstart"in window,pX=!!window.PointerEvent,fX=!!window.MSPointerEvent);var hX,pX,fX,W1,Y__mouse={start:"mousedown",move:"mousemove",end:"mouseup"},X_={};function Gm(){}pX?W1={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:fX?W1={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:hX?(W1={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},X_=Y__mouse):W1=Y__mouse,Gm.prototype.on=function(e,t){var r,n=this,i=e.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var o=0;o<i.length;o+=1)n._handlers_[r=i[o]]=n._handlers_[r]||[],n._handlers_[r].push(t);return n},Gm.prototype.off=function(e,t){var n=this;return n._handlers_=n._handlers_||{},void 0===e?n._handlers_={}:void 0===t?n._handlers_[e]=null:n._handlers_[e]&&n._handlers_[e].indexOf(t)>=0&&n._handlers_[e].splice(n._handlers_[e].indexOf(t),1),n},Gm.prototype.trigger=function(e,t){var r,n=this,i=e.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var o=0;o<i.length;o+=1)n._handlers_[r=i[o]]&&n._handlers_[r].length&&n._handlers_[r].forEach(function(s){s.call(n,{type:r,target:n},t)})},Gm.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=((e,t)=>{let n={};for(let i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)?n[i]=t[i]:e.hasOwnProperty(i)&&(n[i]=e[i]);return n})(t.options,e))},Gm.prototype.bindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[t]=function(){"function"==typeof n["on"+t]?n["on"+t].apply(n,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},g2(e,W1[t],n._domHandlers_[t]),X_[t]&&g2(e,X_[t],n._domHandlers_[t]),n},Gm.prototype.unbindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},lX(e,W1[t],n._domHandlers_[t]),X_[t]&&lX(e,X_[t],n._domHandlers_[t]),delete n._domHandlers_[t],this};var YI=Gm;function aa(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=aa.id,aa.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}aa.prototype=new YI,aa.constructor=aa,aa.id=0,aa.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},aa.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=((e,t)=>{let n=uX("borderRadius");for(let i in n)n.hasOwnProperty(i)&&(n[i]="50%");return n})(),n=GI("transition","opacity",e),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},WI(i.el,n),"circle"===this.options.shape&&WI(i.back,t),WI(i.front,t),this.applyStyles(i),this},aa.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var n in e[t])this.ui[t].style[n]=e[t][n];return this},aa.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},aa.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},aa.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},aa.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),"function"==typeof e&&e.call(this)},t.options.fadeTime)),t},aa.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){t.ui.el.style.display="dynamic"===t.options.mode?"none":"block","function"==typeof e&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let n=t.options.restJoystick,i={};i.x=!0===n||!1!==n.x?0:t.instance.frontPosition.x,i.y=!0===n||!1!==n.y?0:t.instance.frontPosition.y,t.setPosition(e,i)}return t},aa.prototype.setPosition=function(e,t){var n=this;n.frontPosition={x:t.x,y:t.y};var r={};r.front=GI("transition",["top","left"],n.options.fadeTime+"ms");var o={front:{}};o.front={left:n.frontPosition.x+"px",top:n.frontPosition.y+"px"},n.applyStyles(r),n.applyStyles(o),n.restTimeout=setTimeout(function(){"function"==typeof e&&e.call(n),n.restCallback()},n.options.fadeTime)},aa.prototype.restCallback=function(){var e=this,t={};t.front=GI("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)},aa.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},aa.prototype.computeDirection=function(e){var r,o,s,t=e.angle.radian,n=Math.PI/4,i=Math.PI/2;if(t>n&&t<3*n&&!e.lockX?r="up":t>-n&&t<=n&&!e.lockY?r="left":t>3*-n&&t<=-n&&!e.lockX?r="down":e.lockY||(r="right"),e.lockY||(o=t>-i&&t<i?"left":"right"),e.lockX||(s=t>0?"up":"down"),e.force>this.options.threshold){var l,a={};for(l in this.direction)this.direction.hasOwnProperty(l)&&(a[l]=this.direction[l]);var c={};for(l in this.direction={x:o,y:s,angle:r},e.direction=this.direction,a)a[l]===this.direction[l]&&(c[l]=!0);if(c.x&&c.y&&c.angle)return e;(!c.x||!c.y)&&this.trigger("plain",e),c.x||this.trigger("plain:"+o,e),c.y||this.trigger("plain:"+s,e),c.angle||this.trigger("dir dir:"+r,e)}else this.resetDirection();return e};var PFe=aa;function ws(e,t){var n=this;n.nipples=[],n.idles=[],n.actives=[],n.ids=[],n.pressureIntervals={},n.manager=e,n.id=ws.id,ws.id+=1,n.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},n.config(t),("static"===n.options.mode||"semi"===n.options.mode)&&(n.options.multitouch=!1),n.options.multitouch||(n.options.maxNumberOfNipples=1);let i=getComputedStyle(n.options.zone.parentElement);return i&&"flex"===i.display&&(n.parentIsFlex=!0),n.updateBox(),n.prepareNipples(),n.bindings(),n.begin(),n.nipples}ws.prototype=new YI,ws.constructor=ws,ws.id=0,ws.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(n){if(void 0===n)return t[0];for(var i=0,r=t.length;i<r;i+=1)if(t[i].identifier===n)return t[i];return!1}},ws.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"},ws.prototype.begin=function(){var e=this,t=e.options;if("static"===t.mode){var n=e.createNipple(t.position,e.manager.getIdentifier());n.add(),e.idles.push(n)}},ws.prototype.createNipple=function(e,t){var n=this,i=n.manager.scroll,r={},o=n.options;if(e.x&&e.y)r={x:e.x-(n.parentIsFlex?i.x:i.x+n.box.left),y:e.y-(n.parentIsFlex?i.y:i.y+n.box.top)};else if(e.top||e.right||e.bottom||e.left){var a=document.createElement("DIV");a.style.display="hidden",a.style.top=e.top,a.style.right=e.right,a.style.bottom=e.bottom,a.style.left=e.left,a.style.position="absolute",o.zone.appendChild(a);var l=a.getBoundingClientRect();o.zone.removeChild(a),r=e,e={x:l.left+i.x,y:l.top+i.y}}var c=new PFe(n,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:t,position:e,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(HI(c.ui.el,r),HI(c.ui.front,c.frontPosition)),n.nipples.push(c),n.trigger("added "+c.identifier+":added",c),n.manager.trigger("added "+c.identifier+":added",c),n.bindNipple(c),c},ws.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},ws.prototype.bindNipple=function(e){var t=this,i=function(r,o){t.trigger(r.type+" "+o.id+":"+r.type,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},ws.prototype.pressureFn=function(e,t,n){var i=this,r=0;clearInterval(i.pressureIntervals[n]),i.pressureIntervals[n]=setInterval(function(){var o=e.force||e.pressure||e.webkitForce||0;o!==r&&(t.trigger("pressure",o),i.trigger("pressure "+t.identifier+":pressure",o),r=o)}.bind(i),100)},ws.prototype.onstart=function(e){var t=this,n=t.options,i=e;return e=cX(e),t.updateBox(),qI(e,function(o){t.actives.length<n.maxNumberOfNipples?t.processOnStart(o):i.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(s){if(Object.values(i.touches).findIndex(function(l){return l.identifier===s})<0){var a=[e[0]];a.identifier=s,t.processOnEnd(a)}}),t.actives.length<n.maxNumberOfNipples&&t.processOnStart(o))}),t.manager.bindDocument(),!1},ws.prototype.processOnStart=function(e){var i,t=this,n=t.options,r=t.manager.getIdentifier(e),o=e.force||e.pressure||e.webkitForce||0,s={x:e.pageX,y:e.pageY},a=t.getOrCreate(r,s);a.identifier!==r&&t.manager.removeIdentifier(a.identifier),a.identifier=r;var l=function(u){u.trigger("start",u),t.trigger("start "+u.id+":start",u),u.show(),o>0&&t.pressureFn(e,u,u.identifier),t.processOnMove(e)};if((i=t.idles.indexOf(a))>=0&&t.idles.splice(i,1),t.actives.push(a),t.ids.push(a.identifier),"semi"!==n.mode)l(a);else{if(!(f2(s,a.position)<=n.catchDistance))return a.destroy(),void t.processOnStart(e);l(a)}return a},ws.prototype.getOrCreate=function(e,t){var r,n=this,i=n.options;return/(semi|static)/.test(i.mode)?(r=n.idles[0])?(n.idles.splice(0,1),r):"semi"===i.mode?n.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1):r=n.createNipple(t,e)},ws.prototype.processOnMove=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.scroll;if((e=>isNaN(e.buttons)?0!==e.pressure:0!==e.buttons)(e)){if(!r)return console.error("Found zombie joystick with ID "+i),void t.manager.removeIdentifier(i);if(n.dynamicPage){var s=r.el.getBoundingClientRect();r.position={x:o.x+s.left,y:o.y+s.top}}r.identifier=i;var a=r.options.size/2,l={x:e.pageX,y:e.pageY};n.lockX&&(l.y=r.position.y),n.lockY&&(l.x=r.position.x);var v,y,c=f2(l,r.position),u=((e,t)=>(e=>e*(180/Math.PI))(Math.atan2(t.y-e.y,t.x-e.x)))(l,r.position),d=jI(u),h=c/a,f={distance:c,position:l};if("circle"===r.options.shape?(v=Math.min(c,a),y=((e,t,n)=>{let i={x:0,y:0};return n=jI(n),i.x=e.x-t*Math.cos(n),i.y=e.y-t*Math.sin(n),i})(r.position,v,u)):(y=((e,t,n)=>({x:Math.min(Math.max(e.x,t.x-n),t.x+n),y:Math.min(Math.max(e.y,t.y-n),t.y+n)}))(l,r.position,a),v=f2(y,r.position)),n.follow){if(c>a){let D=l.y-y.y;r.position.x+=l.x-y.x,r.position.y+=D,r.el.style.top=r.position.y-(t.box.top+o.y)+"px",r.el.style.left=r.position.x-(t.box.left+o.x)+"px",c=f2(l,r.position)}}else l=y,c=v;var b=l.x-r.position.x,w=l.y-r.position.y;r.frontPosition={x:b,y:w},n.dataOnly||HI(r.ui.front,r.frontPosition);var O={identifier:r.identifier,position:l,force:h,pressure:e.force||e.pressure||e.webkitForce||0,distance:c,angle:{radian:d,degree:u},vector:{x:b/a,y:-w/a},raw:f,instance:r,lockX:n.lockX,lockY:n.lockY};(O=r.computeDirection(O)).angle={radian:jI(180-u),degree:180-u},r.trigger("move",O),t.trigger("move "+r.id+":move",O)}else this.processOnEnd(e)},ws.prototype.processOnEnd=function(e){var t=this,n=t.options,i=t.manager.getIdentifier(e),r=t.nipples.get(i),o=t.manager.removeIdentifier(r.identifier);!r||(n.dataOnly||r.hide(function(){"dynamic"===n.mode&&(r.trigger("removed",r),t.trigger("removed "+r.id+":removed",r),t.manager.trigger("removed "+r.id+":removed",r),r.destroy())}),clearInterval(t.pressureIntervals[r.identifier]),r.resetDirection(),r.trigger("end",r),t.trigger("end "+r.id+":end",r),t.ids.indexOf(r.identifier)>=0&&t.ids.splice(t.ids.indexOf(r.identifier),1),t.actives.indexOf(r)>=0&&t.actives.splice(t.actives.indexOf(r),1),/(semi|static)/.test(n.mode)?t.idles.push(r):t.nipples.indexOf(r)>=0&&t.nipples.splice(t.nipples.indexOf(r),1),t.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(t.manager.ids[o.id]=o.identifier))},ws.prototype.onDestroyed=function(e,t){var n=this;n.nipples.indexOf(t)>=0&&n.nipples.splice(n.nipples.indexOf(t),1),n.actives.indexOf(t)>=0&&n.actives.splice(n.actives.indexOf(t),1),n.idles.indexOf(t)>=0&&n.idles.splice(n.idles.indexOf(t),1),n.ids.indexOf(t.identifier)>=0&&n.ids.splice(n.ids.indexOf(t.identifier),1),n.manager.removeIdentifier(t.identifier),n.manager.unbindDocument()},ws.prototype.destroy=function(){var e=this;for(var t in e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(n){n.destroy()}),e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var OFe=ws;function xa(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=dX(),t.config(e),t.prepareCollections();var n=function(){var r;t.collections.forEach(function(o){o.forEach(function(s){r=s.el.getBoundingClientRect(),s.position={x:t.scroll.x+r.left,y:t.scroll.y+r.top}})})};if(typeof window>"u")return t.collections;g2(window,"resize",function(){aX(n)});var i=function(){t.scroll=dX()};return g2(window,"scroll",function(){aX(i)}),t.collections}xa.prototype=new YI,xa.constructor=xa,xa.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var n;return e.collections.every(function(i){return!(n=i.get(t))}),n}},xa.prototype.create=function(e){return this.createCollection(e)},xa.prototype.createCollection=function(e){var t=this,n=new OFe(t,e);return t.bindCollection(n),t.collections.push(n),n},xa.prototype.bindCollection=function(e){var t=this,i=function(r,o){t.trigger(r.type+" "+o.id+":"+r.type,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)},xa.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)},xa.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||!0===e)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)},xa.prototype.getIdentifier=function(e){var t;return e?void 0===(t=void 0===e.identifier?e.pointerId:e.identifier)&&(t=this.latest||0):t=this.index,void 0===this.ids[t]&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},xa.prototype.removeIdentifier=function(e){var t={};for(var n in this.ids)if(this.ids[n]===e){t.id=n,t.identifier=this.ids[n],delete this.ids[n];break}return t},xa.prototype.onmove=function(e){return this.onAny("move",e),!1},xa.prototype.onend=function(e){return this.onAny("end",e),!1},xa.prototype.oncancel=function(e){return this.onAny("end",e),!1},xa.prototype.onAny=function(e,t){var i,n=this,r="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=cX(t);var o=function(a,l,c){c.ids.indexOf(l)>=0&&(c[r](a),a._found_=!0)};return qI(t,function(a){i=n.getIdentifier(a),qI(n.collections,o.bind(null,a,i)),a._found_||n.removeIdentifier(i)}),!1},xa.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()},xa.prototype.onDestroyed=function(e,t){var n=this;if(n.collections.indexOf(t)<0)return!1;n.collections.splice(n.collections.indexOf(t),1)};var gX=new xa,mX=new Map,$_=new Map,Wm=class{constructor(e,t,n,i){this.data=t;let{audio:r,volume:o,delay:s,loop:a}=t;if(!r)throw new Error("Missing property");let l="string"==typeof r?i.getAudio(r).src:r.data;this.audioPlayer=new L_({src:l,volume:o,delay:s,loop:a}),$_.has(n.uuid)?$_.get(n.uuid).push(this):$_.set(n.uuid,[this]),mX.set(e,this)}playByToggle(){"stop"===this.data.toggle?"playing"===this.audioPlayer.status?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):"pause"===this.data.toggle?"playing"===this.audioPlayer.status?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},XI=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=mX.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=$_.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(n=>n.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(n=>n.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...$_.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(n=>{n.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(n=>{n.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},vX=class{constructor(e,t,n,i,r){if(this.data=t,this.shared=i,this.condition=r,"play"===t.interaction)this.interaction=new Wm(e,t,n,i);else{if("pause"!==t.interaction&&"stop"!==t.interaction)throw new Error("Missing property");this.interaction=new XI(t)}}dispatchBasic(){if(!1===zs(this.shared,this.condition))return!1;this.interaction instanceof Wm?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(!1===zs(this.shared,this.condition))return!1;this.interaction instanceof Wm?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(!1===zs(this.shared,this.condition))return!1;this.interaction instanceof Wm&&("start"===e?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},yX=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),IFe=class{constructor({url:e,context:t},n,i,r){if(this.controlsManager=n,this.shared=i,this.condition=r,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:function kFe(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return((e,{stripHash:t})=>{let n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:i,data:r,hash:o}=n.groups,s=i.split(";");o=t?"":o;let a=!1;"base64"===s[s.length-1]&&(s.pop(),a=!0);let l=(s.shift()||"").toLowerCase(),c=[...s.map(u=>{let[d,h=""]=u.split("=").map(f=>f.trim());return"charset"===d&&(h=h.toLowerCase(),"us-ascii"===h)?"":`${d}${h?`=${h}`:""}`}).filter(Boolean)];return a&&c.push("base64"),(c.length>0||l&&"text/plain"!==l)&&c.unshift(l),`data:${c.join(";")},${a?r.trim():r}${o?`#${o}`:""}`})(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===i.protocol&&(i.protocol="http:"),t.forceHttps&&"http:"===i.protocol&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,s=0,a="";for(;;){let c=o.exec(i.pathname);if(!c)break;let u=c[0],d=c.index;a+=i.pathname.slice(s,d).replace(/\/{2,}/g,"/"),a+=u,s=d+u.length}a+=i.pathname.slice(s,i.pathname.length).replace(/\/{2,}/g,"/"),i.pathname=a}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/");yX(o[o.length-1],t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...i.searchParams.keys()])yX(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(!0===t.removeQueryParameters&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let r=e;return e=i.toString(),!t.removeSingleSlash&&"/"===i.pathname&&!r.endsWith("/")&&""===i.hash&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===i.pathname)&&""===i.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}(e,{removeTrailingSlash:!1,removeSingleSlash:!1}),this.context=t??"tab"}dispatch(){if(!1===zs(this.shared,this.condition))return!1;KT?window.location.assign(this.url):("tab"===this.context?window.open(this.url,"_blank"):"window"===this.context?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),this.controlsManager.orbitControls?.onPointerUp(fi[0]),function WAe(){fi.splice(0,fi.length)}())}},bX=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.controlsManager=n,this.shared=i,this.condition=r,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=o=>{this.timeoutIdQueue.shift();let s=this.page.scene.find(o);if(void 0===s)return;let a=this.controlsManager.sharedGameControlGlobals.rapierWorld,l=!a||s.dataPatched.physics?.fusedBody;if(s.cloner){for(let c of s.cloner.children)l?(c.playModeVisible=!1,c.rigidBody&&"positioned"===s.dataPatched.physics?.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),a.removeRigidBody(c.rigidBody),c.rigidBody=void 0),c.bvhGeometry&&(c.bvhGeometry=void 0)):void 0===this.clone||this.clone===c?(c.playModeVisible=!1,c.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(c.rigidBody.collider(0).handle),a.removeRigidBody(c.rigidBody),c.rigidBody=void 0)):void 0===c.playModeVisible&&(c.playModeVisible=!0);(l||void 0===this.clone||!1===this.clone)&&(s.visible=!1,s.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(s.rigidBody.collider(0).handle),a.removeRigidBody(s.rigidBody),s.rigidBody=void 0),s.bvhGeometry&&(s.bvhGeometry=void 0))}else s.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(s.rigidBody.collider(0).handle),a.removeRigidBody(s.rigidBody),s.rigidBody=void 0),s.bvhGeometry&&(s.bvhGeometry=void 0),s.visible=!1;this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(void 0===a?c=>void 0!==c.bvhGeometry:c=>void 0!==c.rigidBody),s.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(!1===zs(this.shared,this.condition))return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay)):this.dispatchInner()}dispatchFromStart(){if(!1===zs(this.shared,this.condition))return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},_X=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.shared=n,this.eventManager=i,this.condition=r,this.shared=n}dispatch(){if(!1===zs(this.shared,this.condition))return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{this.shared.reset(this.shared.data,!0),l4(this.page,this.shared,!0),this.eventManager.reset(),this.eventManager.controlsManager.gameControl?.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},1e3*(this.data.delay??0))}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},xX={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},$I={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},RFe=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],m2={CSS:{},springs:{}};function lu(e,t,n){return Math.min(Math.max(e,t),n)}function K_(e,t){return e.indexOf(t)>-1}function KI(e,t){return e.apply(null,t)}var mi={arr:function(e){return Array.isArray(e)},obj:function(e){return K_(Object.prototype.toString.call(e),"Object")},pth:function(e){return mi.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||mi.svg(e))},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return mi.hex(e)||mi.rgb(e)||mi.hsl(e)},key:function(e){return!xX.hasOwnProperty(e)&&!$I.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function wX(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function CX(e,t){var n=wX(e),i=lu(mi.und(n[0])?1:n[0],.1,100),r=lu(mi.und(n[1])?100:n[1],.1,100),o=lu(mi.und(n[2])?10:n[2],.1,100),s=lu(mi.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),l=o/(2*Math.sqrt(r*i)),c=l<1?a*Math.sqrt(1-l*l):0,u=1,d=l<1?(l*a-s)/c:-s+a;function h(v){var y=t?t*v/1e3:v;return y=l<1?Math.exp(-y*l*a)*(u*Math.cos(c*y)+d*Math.sin(c*y)):(u+d*y)*Math.exp(-y*a),0===v||1===v?v:1-y}return t?h:function f(){var v=m2.springs[e];if(v)return v;for(var y=1/6,b=0,w=0;;)if(1===h(b+=y)){if(++w>=16)break}else w=0;var O=b*y*1e3;return m2.springs[e]=O,O}}function NFe(e){return void 0===e&&(e=10),function(t){return Math.ceil(lu(t,1e-6,1)*e)*(1/e)}}var FFe=function(){var e=11,t=1/(e-1);function n(u,d){return 1-3*d+3*u}function i(u,d){return 3*d-6*u}function r(u){return 3*u}function o(u,d,h){return((n(d,h)*u+i(d,h))*u+r(d))*u}function s(u,d,h){return 3*n(d,h)*u*u+2*i(d,h)*u+r(d)}return function c(u,d,h,f){if(0<=u&&u<=1&&0<=h&&h<=1){var v=new Float32Array(e);if(u!==d||h!==f)for(var y=0;y<e;++y)v[y]=o(y*t,u,h);return function(w){return u===d&&h===f||0===w||1===w?w:o(function b(w){for(var O=0,S=1,D=e-1;S!==D&&v[S]<=w;++S)O+=t;--S;var Y=O+(w-v[S])/(v[S+1]-v[S])*t,q=s(Y,u,h);return q>=.001?function l(u,d,h,f){for(var v=0;v<4;++v){var y=s(d,h,f);if(0===y)return d;d-=(o(d,h,f)-u)/y}return d}(w,Y,u,h):0===q?Y:function a(u,d,h,f,v){var y,b,w=0;do{(y=o(b=d+(h-d)/2,f,v)-u)>0?h=b:d=b}while(Math.abs(y)>1e-7&&++w<10);return b}(w,O,O+t,u,h)}(w),d,f)}}}}(),MX=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,o=4;i<((r=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((3*r-2)/22-i,2)}},Elastic:function(i,r){void 0===i&&(i=1),void 0===r&&(r=.5);var o=lu(i,1,10),s=lu(r,.1,2);return function(a){return 0===a||1===a?a:-o*Math.pow(2,10*(a-1))*Math.sin((a-1-s/(2*Math.PI)*Math.asin(1/o))*(2*Math.PI)/s)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach(function(i,r){t[i]=function(){return function(o){return Math.pow(o,r+2)}}}),Object.keys(t).forEach(function(i){var r=t[i];e["easeIn"+i]=r,e["easeOut"+i]=function(o,s){return function(a){return 1-r(o,s)(1-a)}},e["easeInOut"+i]=function(o,s){return function(a){return a<.5?r(o,s)(2*a)/2:1-r(o,s)(-2*a+2)/2}}}),e}();function QI(e,t){if(mi.fnc(e))return e;var n=e.split("(")[0],i=MX[n],r=wX(e);switch(n){case"spring":return CX(e,t);case"cubicBezier":return KI(FFe,r);case"steps":return KI(NFe,r);default:return KI(i,r)}}function PX(e){try{return document.querySelectorAll(e)}catch{return}}function v2(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&r.push(s)}return r}function y2(e){return e.reduce(function(t,n){return t.concat(mi.arr(n)?y2(n):n)},[])}function OX(e){return mi.arr(e)?e:(mi.str(e)&&(e=PX(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function ZI(e,t){return e.some(function(n){return n===t})}function JI(e){var t={};for(var n in e)t[n]=e[n];return t}function e4(e,t){var n=JI(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function b2(e,t){var n=JI(e);for(var i in t)n[i]=mi.und(e[i])?t[i]:e[i];return n}function wp(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function t4(e,t){return mi.fnc(e)?e(t.target,t.id,t.total):e}function vh(e,t){return e.getAttribute(t)}function n4(e,t,n){if(ZI([n,"deg","rad","turn"],wp(t)))return t;var r=m2.CSS[t+n];if(!mi.und(r))return r;var s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=100+n;var l=100/s.offsetWidth;a.removeChild(s);var c=l*parseFloat(t);return m2.CSS[t+n]=c,c}function SX(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?n4(e,r,n):r}}function i4(e,t){return mi.dom(e)&&!mi.inp(e)&&(vh(e,t)||mi.svg(e)&&e[t])?"attribute":mi.dom(e)&&ZI(RFe,t)?"transform":mi.dom(e)&&"transform"!==t&&SX(e,t)?"css":null!=e[t]?"object":void 0}function EX(e){if(mi.dom(e)){for(var r,t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map;r=n.exec(t);)i.set(r[1],r[2]);return i}}function r4(e,t,n,i){switch(i4(e,t)){case"transform":return function VFe(e,t,n,i){var r=K_(t,"scale")?1:0+function jFe(e){return K_(e,"translate")||"perspective"===e?"px":K_(e,"rotate")||K_(e,"skew")?"deg":void 0}(t),o=EX(e).get(t)||r;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),i?n4(e,o,i):o}(e,t,i,n);case"css":return SX(e,t,n);case"attribute":return vh(e,t);default:return e[t]||0}}function o4(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=wp(e)||0,r=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function DX(e,t){if(mi.col(e))return function UFe(e){return mi.rgb(e)?function LFe(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}(e):mi.hex(e)?function BFe(e){var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,l,c,u){return l+l+c+c+u+u}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"}(e):mi.hsl(e)?function zFe(e){var a,l,c,t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100,o=t[4]||1;function s(h,f,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?h+6*(f-h)*v:v<.5?f:v<2/3?h+(f-h)*(2/3-v)*6:h}if(0==i)a=l=c=r;else{var u=r<.5?r*(1+i):r+i-r*i,d=2*r-u;a=s(d,u,n+1/3),l=s(d,u,n),c=s(d,u,n-1/3)}return"rgba("+255*a+","+255*l+","+255*c+","+o+")"}(e):void 0}(e);if(/\s/g.test(e))return e;var n=wp(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function s4(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function AX(e){for(var i,t=e.points,n=0,r=0;r<t.numberOfItems;r++){var o=t.getItem(r);r>0&&(n+=s4(i,o)),i=o}return n}function TX(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function HFe(e){return 2*Math.PI*vh(e,"r")}(e);case"rect":return function GFe(e){return 2*vh(e,"width")+2*vh(e,"height")}(e);case"line":return function WFe(e){return s4({x:vh(e,"x1"),y:vh(e,"y1")},{x:vh(e,"x2"),y:vh(e,"y2")})}(e);case"polyline":return AX(e);case"polygon":return function qFe(e){var t=e.points;return AX(e)+s4(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function kX(e,t){var n=t||{},i=n.el||function XFe(e){for(var t=e.parentNode;mi.svg(t)&&mi.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),o=vh(i,"viewBox"),s=r.width,a=r.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:s/l[2],h:a/l[3]}}function KFe(e,t){function n(a){return void 0===a&&(a=0),e.el.getPointAtLength(t+a>=1?t+a:0)}var i=kX(e.el,e.svg),r=n(),o=n(-1),s=n(1);switch(e.property){case"x":return(r.x-i.x)*i.w;case"y":return(r.y-i.y)*i.h;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function IX(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=DX(mi.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:mi.str(e)||t?i.split(n):[]}}function RX(e){return v2(e?y2(mi.arr(e)?e.map(OX):OX(e)):[],function(n,i,r){return r.indexOf(n)===i})}function NX(e){var t=RX(e);return t.map(function(n,i){return{target:n,id:i,total:t.length,transforms:{list:EX(n)}}})}function QFe(e,t){var n=JI(t);if(/^spring/.test(n.easing)&&(n.duration=CX(n.easing)),mi.arr(e)){var i=e.length;2!==i||mi.obj(e[0])?mi.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var o=mi.arr(e)?e:[e];return o.map(function(s,a){var l=mi.obj(s)&&!mi.pth(s)?s:{value:s};return mi.und(l.delay)&&(l.delay=a?0:t.delay),mi.und(l.endDelay)&&(l.endDelay=a===o.length-1?t.endDelay:0),l}).map(function(s){return b2(s,n)})}var FX={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var o="";i.list.forEach(function(s,a){o+=a+"("+s+") "}),e.style.transform=o}}};function LX(e,t){NX(e).forEach(function(i){for(var r in t){var o=t4(t[r],i),s=i.target,a=wp(o),l=r4(s,r,a,i),u=o4(DX(o,a||wp(l)),l),d=i4(s,r);FX[d](s,r,u,i.transforms,!0)}})}function iLe(e,t){return v2(y2(e.map(function(n){return t.map(function(i){return function nLe(e,t){var n=i4(e.target,t.name);if(n){var i=function tLe(e,t){var n;return e.tweens.map(function(i){var r=function eLe(e,t){var n={};for(var i in e){var r=t4(e[i],t);mi.arr(r)&&1===(r=r.map(function(o){return t4(o,t)})).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),o=r.value,s=mi.arr(o)?o[1]:o,a=wp(s),l=r4(t.target,e.name,a,t),c=n?n.to.original:l,u=mi.arr(o)?o[0]:c,d=wp(u)||wp(l),h=a||d;return mi.und(s)&&(s=c),r.from=IX(u,h),r.to=IX(o4(s,u),h),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=QI(r.easing,r.duration),r.isPath=mi.pth(o),r.isColor=mi.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(n,i)})})),function(n){return!mi.und(n)})}function BX(e,t){var n=e.length,i=function(o){return o.timelineOffset?o.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0,l=o.pingPongEndDelayCorrection??0;return i(o)+s+a+l+o.duration*(o.loop??1)})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0;return i(o)+s+a+o.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(o){let s=o.startOnceDelay??0,a=o.pingPongDelayCorrection??0,l=o.pingPongEndDelayCorrection??0;return i(o)+s+a+o.duration*(o.loop??1)-o.endDelay-l})):t.endDelay,r}var _2,zX=0,Cd=[],UX=[],oLe=function(){function e(){_2=requestAnimationFrame(t)}function t(n){var i=Cd.length;if(i){for(var r=0;r<i;){var o=Cd[r];o.paused?(Cd.splice(r,1),i-=1):(o.tick(n),r++)}e()}else _2=cancelAnimationFrame(_2)}return e}();function Cs(e){void 0===e&&(e={});var r,o,t=0,n=0,i=0,s=0,a=null;function l(q){var K=window.Promise&&new Promise(function(te){return a=te});return q.finished=K,K}var c=function rLe(e){var t=e4(xX,e),n=e4($I,e),i=function JFe(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=b2(function ZFe(e){for(var t=v2(y2(e.map(function(o){return Object.keys(o)})),function(o){return mi.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},i=function(o){var s=t[o];n[s]=e.map(function(a){var l={};for(var c in a)mi.key(c)?c==s&&(l.value=a[c]):l[c]=a[c];return l})},r=0;r<t.length;r++)i(r);return n}(i),t)),t)mi.key(r)&&n.push({name:r,tweens:QFe(t[r],e)});return n}(n,e),r=NX(e.targets),o=iLe(r,i),s=BX(o,n),a=zX;return zX++,b2(t,{id:a,children:[],animatables:r,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay,startOnceDelay:n.startOnceDelay,pingPongDelayCorrection:n.pingPongDelayCorrection,pingPongEndDelayCorrection:n.pingPongEndDelayCorrection})}(e);function d(){var q=c.direction;"alternate"!==q&&(c.direction="normal"!==q?"normal":"reverse"),c.reversed=!c.reversed,o.forEach(function(K){(1===K.loop||K.loop%2==0)&&(K.reversed=c.reversed)})}function f(q){return c.reversed?c.duration-q:q}function y(q,K,te=!1){K&&K.seek(c.reversed?K.duration*K.loop-(q-K.timelineOffset-K.pingPongDelayCorrection):q-K.timelineOffset-K.startOnceDelay-K.pingPongDelayCorrection,te)}function w(q){var K=0,te=c.animations,ie=te.length;for("alternate"!==c.direction&&"alternate"===c.parent?.direction?!1===c.parent?.rewind&&!0===c.reversePlayback&&!1===c.rewind&&(q=c.parent?.reversed&&"alternate"===c.direction?c.duration-c.delay+c.endDelay-q:c.duration+c.delay-c.endDelay-q):V(!1,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)&&(q=c.parent?.reversed&&"alternate"===c.direction?c.duration-c.delay+c.endDelay-q:c.duration+c.delay-c.endDelay-q);K<ie;){var ae=te[K],pe=ae.animatable,fe=ae.tweens,ge=fe.length-1,Oe=fe[ge];let mt;ge&&(Oe=v2(fe,function(ot){return q<ot.end})[0]||Oe),mt=c.parent?.reversed&&"alternate"===c.direction?lu(q-Oe.start-Oe.endDelay,0,Oe.duration)/Oe.duration:lu(q-Oe.start-Oe.delay,0,Oe.duration)/Oe.duration;for(var Pe=isNaN(mt)?1:Oe.easing(mt),xe=Oe.to.strings,_e=Oe.round,Ue=[],He=Oe.to.numbers.length,ze=void 0,Re=0;Re<He;Re++){var Ye=void 0;let ot,jt;"alternate"!==c.direction?!1===c.parent?.rewind&&!0===c.reversePlayback&&!1===c.rewind?(ot=Oe.to.numbers[Re],jt=Oe.from.numbers[Re]||0):(jt=Oe.to.numbers[Re],ot=Oe.from.numbers[Re]||0):V(!0,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)?(ot=Oe.to.numbers[Re],jt=Oe.from.numbers[Re]||0):(jt=Oe.to.numbers[Re],ot=Oe.from.numbers[Re]||0),Ye=Oe.isPath?KFe(Oe.value,Pe*jt):ot+Pe*(jt-ot),_e&&(Oe.isColor&&Re>2||(Ye=Math.round(Ye*_e)/_e)),Ue.push(Ye)}var Le=xe.length;if(Le){ze=xe[0];for(var Xe=0;Xe<Le;Xe++){var ht=xe[Xe+1],Ze=Ue[Xe];isNaN(Ze)||(ze+=ht?Ze+ht:Ze+" ")}}else ze=Ue[0];FX[ae.type](pe.target,ae.property,ze,pe.transforms),ae.currentValue=ze,K++}}function O(q){c[q]&&!c.passThrough&&c[q](c)}l(c);let D={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function V(q,K,te,ie,ae){return D[q<<4|K<<3|te<<2|ie<<1|ae]}function Y(q,K=!1){var te=c.duration;let ie=c.delay,ae=te-c.endDelay;c.parent?.reversed&&"alternate"===c.direction&&(ie=c.endDelay,ae=te-c.delay);var pe=f(q);if(c.progress=lu(pe/te*100,0,100),K||(c.reversePlayback=pe<c.currentTime),s&&function b(q,K=!1){if(c.reversed)for(var te=s;te--;)y(q,o[te],K);else for(var ie=0;ie<s;ie++)y(q,o[ie],K)}(pe,K),!c.began&&c.currentTime>=0&&(c.began=!0,O("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,O("loopBegin")),(c.reversed||pe>=0)&&pe<=ie&&0!==c.currentTime&&(w(0),O("change")),(pe>=ae&&c.currentTime!==te+c.pingPongDelayCorrection||!te)&&(w(te),O("change")),pe>ie&&pe<ae?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,O("changeBegin")),w(pe),O("change")):c.changeBegan?(c.changeCompleted=!0,c.changeBegan=!1,O("change"),s&&O("timelineChangeComplete")):c.began&&pe>ae&&O("changeComplete"),c.currentTime=lu(pe,0,te+c.pingPongDelayCorrection),c.began&&O("update"),q>=te)if(function S(){c.remaining&&!0!==c.remaining&&c.remaining--}(),c.remaining){t+=s?c.duration/Cs.speed:c.duration;for(let fe of o)fe.setStartTime(0),fe.remaining=fe.loop;O("loopComplete"),c.loopBegan=!1,"alternate"===c.direction?d():s&&function h(){c.direction="normal",c.reversed=!1,o.forEach(function(q){return q.reversed=!1})}()}else c.paused=!0,c.completed||(c.completed=!0,O("loopComplete"),O("complete"),!c.passThrough&&"Promise"in window&&(a(),l(c)))}return c.reset=function(){var q=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===q,c.remaining=c.loop;for(var K=s=(o=c.children).length;K--;)c.children[K].reset();w(c.reversed?c.duration:0)},c.setStartTime=function(q){t=q},c.set=function(q,K){return LX(q,K),c},c.tick=function(q){i=q,t||(t=i),Y((i+(n-t))*Cs.speed)},c.seek=function(q,K=!1){Y(q-t,K)},c.pause=function(q){c.paused=!0,s&&(r=q??performance.now())},c.play=function(q){!c.paused||(c.completed&&c.reset(),c.paused=!1,Cd.push(c),s&&void 0!==r&&(t+=(q??performance.now())-r),_2||oLe())},c.reverse=function(){d(),c.completed=!c.reversed,function v(){t=0,n=f(c.currentTime)*(1/Cs.speed)}()},c.restart=function(){c.reset(),c.play()},c.reset(),c.autoplay&&c.play(),c}function jX(e,t){for(var n=t.length;n--;)ZI(e,t[n].animatable.target)&&t.splice(n,1)}typeof document<"u"&&document.addEventListener("visibilitychange",function sLe(e){document.hidden?(Cd.forEach(function(t){return t.pause(e.timeStamp)}),UX=Cd.slice(0),Cs.running=Cd=[]):UX.forEach(function(t){return t.play(e.timeStamp)})}),Cs.version="3.2.0",Cs.speed=1,Cs.running=Cd,Cs.remove=function aLe(e){for(var t=RX(e),n=Cd.length;n--;){var i=Cd[n],r=i.animations,o=i.children;jX(t,r);for(var s=o.length;s--;){var a=o[s],l=a.animations;jX(t,l),!l.length&&!a.children.length&&o.splice(s,1)}!r.length&&!o.length&&i.pause()}},Cs.get=r4,Cs.set=LX,Cs.convertPx=n4,Cs.path=function $Fe(e,t){var n=mi.str(e)?PX(e)[0]:e,i=t||100;return function(r){return{property:r,el:n,svg:kX(n),totalLength:TX(n)*(i/100)}}},Cs.setDashoffset=function YFe(e){var t=TX(e);return e.setAttribute("stroke-dasharray",t),t},Cs.stagger=function lLe(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?QI(t.easing):null,r=t.grid,o=t.axis,s=t.from||0,a="first"===s,l="center"===s,c="last"===s,u=mi.arr(e),d=parseFloat(u?e[0]:e),h=u?parseFloat(e[1]):0,f=wp(u?e[1]:e)||0,v=t.start||0+(u?d:0),y=[],b=0;return function(w,O,S){if(a&&(s=0),l&&(s=(S-1)/2),c&&(s=S-1),!y.length){for(var D=0;D<S;D++){if(r){var V=l?(r[0]-1)/2:s%r[0],Y=l?(r[1]-1)/2:Math.floor(s/r[0]),te=V-D%r[0],ie=Y-Math.floor(D/r[0]),ae=Math.sqrt(te*te+ie*ie);"x"===o&&(ae=-te),"y"===o&&(ae=-ie),y.push(ae)}else y.push(Math.abs(s-D));b=Math.max.apply(Math,y)}i&&(y=y.map(function(fe){return i(fe/b)*b})),"reverse"===n&&(y=y.map(function(fe){return o?fe<0?-1*fe:-fe:Math.abs(b-fe)}))}return v+(u?(h-d)/b:d)*(Math.round(100*y[O])/100)+f}},Cs.timeline=function cLe(e){void 0===e&&(e={});var t=Cs(e);return t.duration=0,t.add=function(n,i){var r=Cd.indexOf(t),o=t.children;function s(h){h.passThrough=!0}r>-1&&Cd.splice(r,1);for(var a=0;a<o.length;a++)s(o[a]);var l=b2(n,e4($I,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.timelineOffset=mi.und(i)?c:o4(i,c),s(t);var u=Cs(l);s(u),o.push(u),u.parent=t;var d=BX(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,!0===u.loop&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Cs.easing=QI,Cs.penner=MX,Cs.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var VX=Cs,HX=new re,GX=new re,WX=new Di;function qm(e,t,n,i,r,o){let s=n[e]?n[e]:void 0,a=i[e];if(null==a)return;let l=null!=s?"string"==typeof s?Number(r.getVariable(s)??0):s:t[e],c="string"==typeof a?Number(r.getVariable(a)??0):a;return l!==c?{update:u=>{let d=Yn.lerp(l,c,u);t[e]=o?Math.trunc(d):d},start:()=>{t[e]=l},end:()=>{t[e]=c}}:void 0}function qX(e,t,n,i,r,o){let a=i[e];if(!a)return;let c=[...(n[e]?n[e]:void 0)??t[e]].map(d=>"string"==typeof d?Number(r.getVariable(d)??0):d),u=[...a].map(d=>"string"==typeof d?Number(r.getVariable(d)??0):d);return c.length!==u.length||mH(c,u)?void 0:{update:d=>{c.forEach((h,f)=>{let v=Yn.lerp(h,u[f],d);t[e][f]=o?Math.trunc(v):v})},start:()=>{Object.assign(t[e],c)},end:()=>{Object.assign(t[e],u)}}}function x2(e,t,n){return t.forEach((i,r)=>{e.setComponent(r,"string"==typeof i?Number(n.getVariable(i)??0):i)}),e}function YX(e,t,n,i,r){let o=n[e]?n[e]:void 0,s=i[e];if(!s)return;let a=t[e],l=o?x2(new re,o,r):a.clone(),c=x2(new re,s,r);return l.equals(c)?void 0:{update:u=>{a.lerpVectors(l,c,u)},start:()=>{a.copy(l)},end:()=>{a.copy(c)}}}function Qf(e,t,n,i,r){return"number"==typeof t[e]?qm(e,t,n??{},i,r):Array.isArray(t[e])?qX(e,t,n??{},i,r):void 0}function XX(e,t,n,i){let r=[],o=N1(n,i)||!!t.layers&&N1(t,i);r.push(function SLe(e,t){return{update:()=>{e.transparent=t}}}(e,o));for(let s of e.layers){let a=t.layers?.data(s.uuid),l=n.layers.data(s.uuid);if(!l||"light"!==s.type&&(!(s.visible??1)||!(l.visible??1)))continue;let c=s.getNames().filter(u=>!OG.some(d=>u.includes(d)));for(let u of c)try{let h,d=s.getValue(u);if("colors"===u)h=PLe(s,a,l,u);else if(Array.isArray(d))"steps"===u&&(h=MLe(s,a,l,u));else if("number"==typeof d)h=bLe(s,a,l,u,i);else{if("boolean"==typeof d)continue;d instanceof Ve?h=_Le(s,a,l,u):d instanceof re?h=xLe(s,a,l,u,i):d instanceof nc?h=CLe(s,a,l,u,i):d instanceof si?h=wLe(s,a,l,u,i):"isTexture"in d&&(h=OLe(s,a,l,u))}h&&(Array.isArray(h)?r.push(...h):r.push(h))}catch(d){console.error(`lerpMaterial: unexpected material layer for ${u}`,d)}}return r}function bLe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:e.getValue(i),s=n[i],a="string"==typeof o?Number(r.getVariable(o)??0):o,l="string"==typeof s?Number(r.getVariable(s)??0):s;return a!==l?{update:c=>{e.setValue(i,Yn.lerp(a,l,c))},start:()=>{e.setValue(i,a)},end:()=>{e.setValue(i,l)}}:void 0}function _Le(e,t,n,i){if(!e.hasValue(i)||!(i in n))return;let r=e.getValue(i),o=t?(new Ve).fromArray(t[i]):r.clone(),s=(new Ve).fromArray(n[i]);return o.equals(s)?void 0:{update:a=>{r.lerpVectors(o,s,a)},start:()=>{r.copy(o)},end:()=>{r.copy(s)}}}function xLe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=e.getValue(i),s=t?t[i]:void 0,a=n[i],l=s?x2(new re,s,r):o.clone(),c=x2(new re,a,r);return l.equals(c)?void 0:{update:u=>{o.lerpVectors(l,c,u)},start:()=>{o.copy(l)},end:()=>{o.copy(c)}}}function wLe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:void 0,s=n[i],a=e.getValue(i),l=o?"string"==typeof o?r.getColor(o).clone():(new si).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():(new si).setRGB(s.r,s.g,s.b);if(l.equals(c))return;let u=a.clone();return{update:d=>{e.getValue(i)!==u&&e.setValue(i,u),u.lerpColors(l,c,d)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}function CLe(e,t,n,i,r){if(!e.hasValue(i)||!(i in n))return;let o=t?t[i]:void 0,s=n[i],a=e.getValue(i),l=o?"string"==typeof o?r.getColor(o).clone():(new si).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():new nc(s.r,s.g,s.b,s.a);if(l.equals(c))return;let u=a.clone();return{update:d=>{e.getValue(i)!==u&&e.setValue(i,u),u.lerpColors(l,c,d)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}function MLe(e,t,n,i="steps"){if(!e.hasValue(i)||!(i in n))return;let r=[],o=e.getValue(i),s=t?t[i]:o,a=n[i];for(let l=0;l<o.length;++l){let c=s[l],u=a[l];c!==u&&r.push({update:d=>{o[l]=Yn.lerp(c,u,d)},start:()=>{o[l]=c},end:()=>{o[l]=u}})}return r.length?r:void 0}function PLe(e,t,n,i="colors"){if(!e.hasValue(i)||!(i in n))return;let r=[],o=e.getValue(i),s=t?t[i]:o.map(l=>l.toArray()),a=n[i];for(let l=0;l<o.length;++l){let c=[...s[l]],u=[...a[l]];cP.isEqual(c,u)||r.push({update:d=>{o[l].fromArray(cP.lerp(c,u,d))},start:()=>{o[l].fromArray(c)},end:()=>{o[l].fromArray(u)}})}return r.length?r:void 0}function OLe(e,t,n,i="texture"){if(!e.hasValue(i)||!(i in n))return;let r=e.getNode("mat");if(!r)return;let o=t?t[i]:r,s=n[i],a=[...o.repeat],l=[...o.offset],c=[...s.repeat],u=[...s.offset];return e1.isEqual(a,c)&&e1.isEqual(l,u)?void 0:{update:d=>{r.repeat=e1.lerp(a,c,d),r.offset=e1.lerp(l,u,d),r.updateMatrix()},start:()=>{r.repeat=[...a],r.offset=[...l],r.updateMatrix()},end:()=>{r.repeat=[...c],r.offset=[...u],r.updateMatrix()}}}var a4=new re,$X=new ya;function KX(e,t,n,i,r){let o=[];return e.data.visible&&o.push(...function ELe(e,t,n,i,r){let s,a,l,c,u,d,o=[],h={slide:t.pathSnapping?.slide??e.updatedPathSnapping?.slide??e.dataPatched.pathSnapping?.slide??0,offset:t.pathSnapping?.offset??e.updatedPathSnapping?.offset??e.dataPatched.pathSnapping?.offset??0};if(u=qm("slide",h,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,r),u&&o.push(u),d=qm("offset",h,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,r),d&&o.push(d),!u&&!d&&(s=YX("position",e,t,n,r),s&&o.push(s),a=YX("scale",e,t,n,r),a&&o.push(a),l=function DLe(e,t,n,i,r){let o=t?.rotation?t.rotation.map(u=>("string"==typeof u?Number(r.getVariable(u)??0):u)*Yn.DEG2RAD):void 0,s=n.rotation?.map(u=>("string"==typeof u?Number(r.getVariable(u)??0):u)*Yn.DEG2RAD);if(!s)return;let a=o?(new re).fromArray(o):(new re).setFromEuler(e.rotation),l=(new re).fromArray(s);if(a.equals(l))return;let c=a4.subVectors(l,a);if(i&&c.toArray().every(u=>Math.abs(u)<2*Math.PI)){let u=(new Di).setFromEuler($X.setFromVector3(a)),d=(new Di).setFromEuler($X.setFromVector3(l));return{update:h=>{!function dLe(e,t,n,i){if(0===i)return n.copy(e);if(1===i)return n.copy(t);let r=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(r>=1)return n.copy(e);let o=1-r*r;if(o<=Number.EPSILON){let u=1-i;return n.w=u*e.w+i*t.w,n.x=u*e.x+i*t.x,n.y=u*e.y+i*t.y,n.z=u*e.z+i*t.z,n.normalize(),n}let s=Math.sqrt(o),a=Math.atan2(s,r),l=Math.sin((1-i)*a)/s,c=Math.sin(i*a)/s;n.w=e.w*l+t.w*c,n.x=e.x*l+t.x*c,n.y=e.y*l+t.y*c,n.z=e.z*l+t.z*c}(u,d,e.quaternion,h)},start:()=>{e.rotation.setFromVector3(a)},end:()=>{e.rotation.setFromVector3(l)}}}return{update:u=>{a4.lerpVectors(a,l,u),e.rotation.setFromVector3(a4)},start:()=>{e.rotation.setFromVector3(a)},end:()=>{e.rotation.setFromVector3(l)}}}(e,t,n,i,r),l&&o.push(l),c=function uLe(e,t,n,i){let r=n[e]?n[e]:void 0,o=i[e];if(!o)return;let s=t[e],a=r?(new Wt).fromArray(r):s.clone(),l=new re,c=new Di,u=new re;a.decompose(l,c,u);let d=(new Wt).fromArray(o),h=new re,f=new Di,v=new re;return d.decompose(h,f,v),a.equals(d)?void 0:{update:y=>{WX.slerpQuaternions(c,f,y),HX.lerpVectors(l,h,y),GX.lerpVectors(u,v,y),s.compose(HX,WX,GX)},start:()=>{s.compose(l,c,u)},end:()=>{s.compose(h,f,v)}}}("hiddenMatrix",e,t,n),c&&o.push(c)),s||a||l||c||u||d){let f=()=>{e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),e.parent?.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),su(e)&&bp(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,h))};o.push({update:f,start:f,end:f})}return o}(e,t,n,r,i)),e.data.visible&&o.push(...function ALe(e,t,n,i){let r=[];if(!("cloner"in n)||!e.cloner)return r;let o=e.cloner,s="cloner"in t?t.cloner:{},a=n.cloner;vG.forEach(f=>{let v;v="count"===f?qm("count",o.parameters,s,a,i,!0):Qf(f,o.parameters,s??{},a,i),v&&r.push(v)});let l=function TLe(e,t,n,i){if("radial"!==e.parameters.type)return;let r=t.radial,o=n.radial;if(!o)return;let s=e.parameters.radial,a=[];return yG.forEach(l=>{let c=Qf(l,s,r??{},o,i);c&&a.push(c)}),a}(o,s,a,i);l?.length&&r.push(...l);let c=function kLe(e,t,n,i){if("linear"!==e.parameters.type)return;let r=t.linear,o=n.linear;if(!o)return;let s=[],a=e.parameters.linear;return bG.forEach(l=>{let c=Qf(l,a,r??{},o,i);c&&s.push(c)}),s}(o,s,a,i);c?.length&&r.push(...c);let u=function ILe(e,t,n,i){if("grid"!==e.parameters.type)return;let r=t.grid,o=n.grid;if(!o)return;let s=[],a=e.parameters.grid;return _G.forEach(l=>{let c;c="count"===l?qX(l,a,r??{},o,i,!0):Qf(l,a,r??{},o,i),c&&s.push(c)}),s}(o,s,a,i);u?.length&&r.push(...u);let d=function RLe(e,t,n,i){if("toObject"!==e.parameters.type)return;let r=t.toObject,o=n.toObject;if(!o)return;let s=[],a=e.parameters.toObject;return xG.forEach(l=>{let c;c="count"===l?qm(l,a,r??{},o,i,!0):Qf(l,a,r??{},o,i),c&&s.push(c)}),s}(o,s,a,i);d?.length&&r.push(...d);let h=function NLe(e,t,n,i){if(!e.parameters.randomness)return;let r=t.randomnessObject,o=n.randomnessObject;if(!o)return;let s=[],a=e.parameters.randomnessObject;return wG.forEach(l=>{let c=Qf(l,a,r??{},o,i);c&&s.push(c)}),s}(o,s,a,i);return h?.length&&r.push(...h),r.length&&r.push({update:()=>{o.update()}}),r}(e,t,n,i)),su(e)?(e instanceof Dl&&e.data.visible&&o.push(...function mLe(e,t,n,i){let r=[];if(!("geometry"in n))return r;let o=e.geometry.userData.parameters,s="geometry"in t?t.geometry:{},a=n.geometry;if(e instanceof z_){let l=function fLe(e,t,n,i){if(void 0===n.scaleBaked)return;let r=(t.scaleBaked??e.data.geometry.scaleBaked).map(a=>"string"==typeof a?Number(i.getVariable(a)??0):a),o=n.scaleBaked.map(a=>"string"==typeof a?Number(i.getVariable(a)??0):a);if(Mm.isEqual(r,o))return;let s=[];return s.push({update:a=>{e.updateGeometryInteractions({scaleBaked:[Yn.lerp(r[0],o[0],a),Yn.lerp(r[1],o[1],a),Yn.lerp(r[2],o[2],a)]},i),e.invalidateDownstreamBooleanData()},start:()=>{e.updateGeometryInteractions({scaleBaked:r},i),e.invalidateDownstreamBooleanData()},end:()=>{e.updateGeometryInteractions({scaleBaked:o},i),e.invalidateDownstreamBooleanData()}}),s}(e,s,a,i);l&&r.push(...l)}else{let l={};if(Object.assign(l,sp(o,AG)),AG.forEach(c=>{let u=Qf(c,l,s,a,i);u&&r.push(u)}),e instanceof DI){Object.assign(l,{extrusion:{...o.extrusion}});let c=function gLe(e,t,n,i){if(!n.extrusion)return;let r=e.extrusion,o=t.extrusion??{},s=n.extrusion,a=[];return DG.forEach(l=>{let c=Qf(l,r,o,s,i);c&&a.push(c)}),a}(l,s,a,i);c&&r.push(...c)}r.length&&r.push({update:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()},start:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()},end:c=>{e.updateGeometryInteractions(l,i),e.updateGeometryGroupsIfNeeded()}})}return r}(e,t,n,i)),e.data.visible&&o.push(...function yLe(e,t,n,i){let r=[];if(Array.isArray(e.material)){if(!("materials"in n)||!n.materials)return r;let o="materials"in t&&t.materials?t.materials:[],s=n.materials;e.material.forEach((a,l)=>{if(!s[l])return;let c=o[l]??{},u=s[l];"string"==typeof c||"string"==typeof u||r.push(...XX(a,c,u,i))})}else{if(!("material"in n)||!n.material)return r;let o="material"in t&&t.material?t.material:{},s=n.material;if("string"==typeof o||"string"==typeof s)return r;r.push(...XX(e.material,o,s,i))}return r}(e,t,n,i))):zRe(e)?e.data.visible&&o.push(...function vLe(e,t,n,i){let r=[];if(void 0!==n.intensity){let o=qm("intensity",e,t,n,i);o&&r.push(o)}if(void 0!==n.color){let o=function hLe(e,t,n,i,r){let o=n[e]?n[e]:void 0,s=i[e];if(!s)return;let a=t[e],l=o?"string"==typeof o?r.getColor(o).clone():(new si).setRGB(o.r,o.g,o.b):a.clone(),c="string"==typeof s?r.getColor(s).clone():(new si).setRGB(s.r,s.g,s.b);if(l.equals(c))return;let u=a.clone();return t[e]=u,{update:d=>{u.lerpColors(l,c,d)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}("color",e,t,n,i);o&&r.push(o)}return r}(e,t,n,i)):BRe(e)&&o.push(...function pLe(e,t,n,i){let r=[],s="OrthographicCamera"===e.cameraType?n.orthographic?.zoom:n.perspective?.zoom;if(void 0!==s){let a=("OrthographicCamera"===e.cameraType?t.orthographic?.zoom:t.perspective?.zoom)??e.zoom,l=s;a!==l&&r.push({update:c=>{e.zoom=Yn.lerp(a,l,c),e.updateProjectionMatrix()},start:()=>{e.zoom=a,e.updateProjectionMatrix()},end:()=>{e.zoom=l,e.updateProjectionMatrix()}})}if(void 0!==n.targetOffset){let a=qm("targetOffset",e,t,n,i);a&&r.push(a)}return r}(e,t,n,i)),o.length?{update:s=>{o.forEach(a=>a.update(s))},start:s=>{o.forEach(a=>a.start?.(s))},end:s=>{o.forEach(a=>a.end?.(s))}}:void 0}var QX=new re;function l4(e,t,n=!1){let i=[];e.traverseChildren(r=>{if(n&&(r.rigidBody?.setTranslation(r.position0,!0),r.rigidBody?.setRotation(r.rotation0,!0),r.rigidBody?.setLinvel(QX,!0),r.rigidBody?.setAngvel(QX,!0)),!vr.is(r))return;let o=r.uuid,s=r.data;if(delete r.states,r.uuid===Jv)return;let a=!1;i.some(l=>e.scene.find(o)?.isDescendantOf(l))?a=!0:!0===s.physics?.fusedBody&&"dynamic"===s.physics.rigidBody&&i.push(o),r.data=s,r.currentState=null,r.reversibleToState=null,r.currentTransitionEvent=null;for(let l of s.states){let c={...l.data};!0===e.data.globalPhysics.usePhysics&&s.physics&&("dynamic"===s.physics.rigidBody||a)&&(void 0!==l.data.position&&delete c.position,void 0!==l.data.rotation&&delete c.rotation,void 0!==l.data.hiddenMatrix&&delete c.hiddenMatrix),r.states||(r.states={}),r.states[l.id]=Om.patch(s,c)}(function LLe(e,t,n,i,r=!1){if(t instanceof Dl&&t.removeInteractionGeometry(),t.changeSelectedState(n,{scene:e,shared:i},r),t instanceof Dl&&t.updateGeometryGroupsIfNeeded(),t instanceof Ja&&t.updateCameraState(t.dataPatched,{scene:e,shared:i}),t.cloner)for(let o of t.cloner.children)o.playModeVisible=void 0;t.updateVisible()})(e.scene,r,null,t,void 0!==s.events.find(l=>"Follow"===l.data.type||"LookAt"===l.data.type)),function FLe(e){e.traverseEntity(t=>{for(let n of t.data.events){let i=[];switch(n.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":i.push(...n.data.actions);break;case"GameControl":for(let r of Object.values(n.data.gameActions))i.push(...r);break;case"DragDrop":i.push(...n.data.dragDropActions.drag,...n.data.dragDropActions.drop);break;case"Conditional":i.push(...n.data.inActions,...n.data.outActions)}for(let r of i)if("Create"===r.data.type&&"Yes"===r.data.hideBase){let o=e.scene.find(r.data.object);o&&(o.visible=!1)}}})}(e)})}function ZX(e){let t;if(5===e.easing){let{control1:n,control2:i}=e;t=`cubicBezier(\n\t\t\t${n[0]}, ${n[1]}, ${i[0]}, ${i[1]}\n\t\t)`}else if(6===e.easing){let{mass:n,stiffness:i,damping:r,velocity:o}=e;t=`spring( ${n}, ${i}, ${r}, ${o} )`}else{let n;switch(e.easing){case 0:default:n=Af.linear;break;case 1:n=Af.ease;break;case 2:n=Af.easeIn;break;case 3:n=Af.easeOut;break;case 4:n=Af.easeInOut}let[i,r,o,s]=n;t=`cubicBezier( ${i}, ${r}, ${o}, ${s} )`}return{duration:e.duration,easing:t}}function c4(e){let t={delay:0,loop:-1===e.repeat||e.repeat+1};if(0===e.repeat)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay}return"alternate"===t.direction&&(t.delay/=2,t.endDelay/=2,"start"===e.delayDirection?(t.pingPongDelayCorrection=t.delay,"number"==typeof t.loop&&t.loop%2==0&&(t.pingPongEndDelayCorrection=t.delay)):"end"===e.delayDirection?"number"==typeof t.loop&&t.loop%2!=0&&(t.pingPongEndDelayCorrection=t.endDelay):"start-end"===e.delayDirection&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var BLe={type:"beginState"},zLe={type:"completeState",isfromEntity:!1},JX=class{constructor(e,t,n,i,r,o){if(this.object=e,this.data=i,this.sharedAssets=r,this.allowSlerp=o,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.dispatchEvent({type:"requestRender"})),0===this.targets.t||1===this.targets.t?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let s=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=s,this.object.dispatchEvent({type:"beginState",state:s}),this.object.traverseEntity(a=>{a!==this.object&&a instanceof Ja&&a.dispatchEvent(BLe)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let s=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=s,this.object.dispatchEvent({type:"completeState",state:s}),this.object.traverseEntity(a=>{a!==this.object&&a instanceof Ja&&a.dispatchEvent(zLe)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=KX(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},void 0===t){let s=w2(this.object,this.object.currentState===n?this.object.prevState:this.object.currentState);if(!s)throw new Error("Missing property");this.from=s}else{let s=w2(this.object,t);if(!s)throw new Error("Missing property");this.from=s}if(void 0===n)throw new Error("Missing property");{let s=w2(this.object,n);if(!s)throw new Error("Missing property");this.to=s}this.useCurrentState=void 0===t||void 0===n,this.params={targets:this.targets,t:1,autoplay:!1,...c4(i),...ZX(i),change:this.onChange},this.callback=KX(this.object,void 0===t?{}:this.from.data,void 0===n?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},e$=class extends Ia{constructor(e,t,n,i){if(super(),this.data=e,this.page=t,this.shared=n,this.condition=i,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.useToggle=!1,this.onTimelineChangeComplete=()=>{"normal"!==this.data.tweens[0].data.direction&&(this.toggleIsForward=!this.toggleIsForward),!1!==this.timelineNeedsRebuild&&(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!e.object)throw new Error("Missing property");let r=this.page.scene.find(e.object);if(!r)throw new Error("Missing property");if(!r.states)throw new Error("Missing property");if(this.object=r,e.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay="start-once"===e.tweens[0].data.delayDirection?e.tweens[0].data.delay:0,this.init()}get playing(){return this.timeline&&!1===this.timeline.paused}init(){this.initialCurrentState=w2(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.useToggle?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:n=!1}={}){try{let i=c4(this.data.tweens[0].data);n&&"number"==typeof i.loop&&i.loop--,this.timeline?.pause(),this.timeline=VX.timeline({autoplay:!1,...i,...!0===i.loop||i.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let r=this.tweens.findIndex(o=>o?.changeBegan);if(!0===t&&(this.timelineNeedsRebuild=!0),e){let o=-1===r?0:r;for(let s=o;s<this.data.tweens.length-1;s++){let c,a=this.data.tweens[s],l=this.data.tweens[s+1];s!==o||!0!==this.object.wasMovedByUser&&!0!==this.object.previousAction?.playing?c=void 0===a.data.state?this.currentState:a.data.state:(c=void 0,this.object instanceof Ja&&(this.object.wasMovedByUser=!1));let u=new JX(this.object,c,void 0===l.data.state?this.currentState:l.data.state,l.data,this.shared,this.data.allowSlerp??!1);-1!==r&&s===o&&Object.assign(u.params,{startOnceDelay:0}),this.tweens[s]=u,this.timeline.add(u.params,this.timeline.duration+(s===o?i.delay:0))}this.timeline.duration+=i.endDelay}else{let o=-1===r?this.data.tweens.length-1:r+1;for(let s=o;s>0;s--){let c,a=this.data.tweens[s],l=this.data.tweens[s-1];s!==o||!0!==this.object.wasMovedByUser&&!0!==this.object.previousAction?.playing?c=void 0===a.data.state?this.currentState:a.data.state:(c=void 0,this.object instanceof Ja&&(this.object.wasMovedByUser=!1));let u=new JX(this.object,c,void 0===l.data.state?this.currentState:l.data.state,a.data,this.shared,this.data.allowSlerp??!1);-1!==r&&s===o&&Object.assign(u.params,{startOnceDelay:0}),this.tweens[s-1]=u,this.timeline.add(u.params,this.timeline.duration+(s===o?i.endDelay:0))}this.timeline.duration+=i.delay}}catch(i){i instanceof Error&&console.error(i.message)}!0===this.object.previousAction?.playing&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(!1===zs(this.shared,this.condition)||this.playing)return!1;clearTimeout(this.timeoutId);let e=c4(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){this.timeline?.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=void 0===this.data.tweens[0].data.state?this.initialCurrentState:this.data.tweens[0].data.state;this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){void 0===this.timeline&&this.buildTimeline(),this.timeline?.seek(e*this.timeline.duration,!0)}toggle(e){if(!1===zs(this.shared,this.condition))return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function w2(e,t){let n,i;if("string"==typeof t?(n=t,i=e.states?.[n]):null===t&&(n=null,i=e.data),void 0!==n&&void 0!==i)return{id:n,data:i}}var ULe={type:"beginState"},t$={type:"completeState",isfromEntity:!1},n$={type:"requestRender"},i$=class extends Ia{constructor(e,t,n,i){super(),this.data=e,this.page=t,this.shared=n,this.condition=i,this.toggleIsForward=!1,this.useToggle=!1,this.posStart=new re,this.posEnd=new re,this.qStart=new Di,this.qEnd=new Di,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let n={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=VX({targets:n,t:1,...ZX(this.data),update:()=>{0===n.t&&(this.useToggle&&!this.toggleIsForward?(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(ULe));let i=this.page.activeCamera;i.position.lerpVectors(this.posStart,this.posEnd,n.t),i.quaternion.slerpQuaternions(this.qStart,this.qEnd,n.t),i.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*n.t,i.wasMovedBySwitchCameraAction=!0,i.updateMatrix(),i.updateMatrixWorld(),i.updateProjectionMatrix(),i.dispatchEvent(n$),1===n.t&&i.dispatchEvent(t$)}})}switchCamera(e){let t=this.page.scene.find(e);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(t),this.page.activeCamera.dispatchEvent({type:"cameraChange",camera:t})}play(){if(!1===zs(this.shared,this.condition))return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{delete this.timeoutId,this.data.animate?(this.buildAnimation(),this.animation?.play()):this.switchCamera(this.data.targetCamera)},1e3*this.data.delay)}catch{}}pause(){this.animation?.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){if(!1===zs(this.shared,this.condition))return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward;try{this.playing?(this.animation?.pause(),this.buildAnimation(!0),this.animation?.play()):this.timeoutId=window.setTimeout(()=>{delete this.timeoutId,this.data.animate?(this.animation?.pause(),this.buildAnimation(),this.animation?.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(t$),this.page.activeCamera.dispatchEvent(n$))},1e3*this.data.delay)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}},r$=class extends Ia{constructor(e,t,n,i,r){super(),this.page=t,this.animationControls=n,this.shared=i,this.condition=r,this.startOnceDelay=0,this.toggleIsForward=!1;let o=e.object,s=t.scene.find(e.object);s&&Array.isArray(s.identity)&&(o=s.identity[0]),this.data={...e,object:o};let a=this.animationControls.clipIdToAction[e.clipId+"/"+o];this.duration=a?.getClip()?.duration??1;let l=a?.getClip()?.tracks[0]?.times.length??1/0;this.leftFrameTime=this.data.crop[0]/l*this.duration,this.rightFrameTime=this.data.crop[1]/l*this.duration,this.startOnceDelay=e.delay}get playing(){return this.threeAnimAction?.isRunning()??!1}play(e=!1){if(!1===zs(this.shared,this.condition))return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([n,i])=>{let r=n.split("/")[1];this.threeAnimAction!==i&&r===t&&i.isRunning()&&(e?i.fadeOut(.2):i.stop())}),e&&this.threeAnimAction?.fadeIn(.2)},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){this.threeAnimAction?.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=Yn.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(!1===zs(this.shared,this.condition))return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let n=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([i,r])=>{let o=i.split("/")[1];this.threeAnimAction!==r&&o===n&&r.isRunning()&&(t?r.fadeOut(.2):r.stop())}),t&&this.threeAnimAction?.fadeIn(.2)}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){let e=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object]?.getClip();e&&(e.duration=this.duration),this.pause()}},o$=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.eventManager=n,this.shared=i,this.condition=r,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(!1===zs(this.shared,this.condition))return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},1e3*this.data.delay))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target))return;"fade"===this.data.transition&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,1e3*this.data.duration),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),l4(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},s$=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=zs(this.shared,this.condition)}dispatch(){if(!1===this.evaluatedCondition)return!1;let e=this.shared.getVariable(this.data.variableId),t=qW(this.data.expression,this.shared,Nc.typeOfVariable(e));void 0!==t&&this.shared.updateVariable(this.data.variableId,"string"==typeof t?{textValue:t}:t)}dispose(){}},a$=class{constructor(e,t,n,i){this.data=e,this.page=t,this.shared=n,this.condition=i,this.timeoutId=null}dispatchInner(){if(!1===zs(this.shared,this.condition))return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if("PlayPause"===this.data.mode)void 0===this.shared.getDynamicVariableToggleIsForward(this.data.variableId)&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"===e?"Paused":"Playing");else if("Play"===this.data.mode&&"Playing"!==e)void 0===this.shared.getDynamicVariableToggleIsForward(this.data.variableId)&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if("Stop"===this.data.mode&&"Stopped"!==e)this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if("Pause"===this.data.mode&&"Paused"!==e)this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if("Restart"===this.data.mode)this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if("Toggle"===this.data.mode){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);"Playing"===e?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,void 0!==t&&!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);"PlayPause"===this.data.mode&&"Playing"===t&&(e=this.data.pauseDelay),0!==e?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}};function zs(e,t){if(void 0===t)return!0;if(0===t.expression.length)return!1;let n=qW(t.expression,e,"boolean");return t.negate?!n:!!n}function kl(e,t,n,i,r,o){let s={Audio:[],Video:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[]},a=l=>({id:c,data:u})=>{try{"Audio"===u.type?Rc[e.type].includes("Audio")&&s.Audio.push(new vX(c,u,o,i,l)):"Video"===u.type?Rc[e.type].includes("Video")&&s.Video.push(new c$(c,u,o,i,l)):"Link"===u.type?Rc[e.type].includes("Link")&&s.Link.push(new IFe(u,r.controlsManager,i,l)):"Create"===u.type?Rc[e.type].includes("Create")&&s.Create.push(new p$(u,n,r.controlsManager,i,l)):"Destroy"===u.type?Rc[e.type].includes("Destroy")&&s.Destroy.push(new bX(u,n,r.controlsManager,i,l)):"Reset"===u.type?Rc[e.type].includes("Reset")&&s.Reset.push(new _X(u,n,i,r,l)):"Transition"===u.type?Rc[e.type].includes("Transition")&&s.Transition.push(new e$(u,n,i,l)):"SwitchCamera"===u.type?Rc[e.type].includes("SwitchCamera")&&s.SwitchCamera.push(new i$(u,n,i,l)):"SceneTransition"===u.type?Rc[e.type].includes("SceneTransition")&&s.SceneTransition.push(new o$(u,n,r,i,l)):"Animation"===u.type?Rc[e.type].includes("Animation")&&s.Animation.push(new r$(u,n,r.animationControls,i,l)):"SetVariable"===u.type?Rc[e.type].includes("SetVariable")&&s.SetVariable.push(new s$(u,n,i,l)):"DynamicVariablePlay"===u.type?Rc[e.type].includes("DynamicVariablePlay")&&s.DynamicVariablePlay.push(new a$(u,n,i,l)):"Conditional"===u.type&&Rc[e.type].includes("Conditional")&&(u.ifActions.forEach(a({expression:u.condition,negate:!1})),u.elseActions.forEach(a({expression:u.condition,negate:!0})))}catch{}};return t.forEach(a()),s}function wa(e){Object.values(e).forEach(t=>{t.forEach(n=>{(n instanceof vX||n instanceof c$||n instanceof r$||n instanceof e$||n instanceof p$||n instanceof bX||n instanceof i$||n instanceof o$||n instanceof _X||n instanceof s$||n instanceof a$)&&n.dispose()})})}var l$=new Map,Q_=new Map,q1=class{constructor(e,t,n){this.data=t,this.delay=0,this.status="stopped";let{layerId:i,loop:r,volume:o,delay:s}=t;if(this.object=n,void 0===i)throw new Error("Missing property");let a=function jLe(e,t){let n;if("material"in e&&(n=Array.isArray(e.material)?e.material[0].layers.find(r=>r.uuid===t):e.material.layers.find(r=>r.uuid===t)),n)return n.color.texture.image.img instanceof HTMLVideoElement?n.color.texture.image.img:void 0}(n,i);a&&(this.videoElement=a,this.videoElement.loop=r===1/0,KT&&(this.videoElement.autoplay=!0),void 0!==o&&(this.videoElement.volume=o)),void 0!==s&&(this.delay=s),Q_.has(n.uuid)?Q_.get(n.uuid).push(this):Q_.set(n.uuid,[this]),l$.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let n=this.videoElement.play();void 0!==n&&n.then(i=>{}).catch(i=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){"stop"===this.data.toggle?"playing"===this.status?this.stop():(this.stop(),this.play()):"pause"===this.data.toggle?"playing"===this.status?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},d4=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=l$.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=Q_.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(n=>n[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(n=>n[this.data.interaction]()))}pauseAllVideos(){let e=[...Q_.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(n=>{n[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(n=>{n[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},c$=class{constructor(e,t,n,i,r){if(this.data=t,this.shared=i,this.condition=r,"play"===t.interaction)this.interaction=new q1(e,t,n);else{if("pause"!==t.interaction&&"stop"!==t.interaction)throw new Error("Missing property");this.interaction=new d4(t)}}dispatchBasic(){if(!1===zs(this.shared,this.condition))return!1;this.interaction instanceof q1?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(!1===zs(this.shared,this.condition))return!1;this.interaction instanceof q1?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},d$=(()=>{let e,t,n,i;function r(a){!e&&!u$()&&t?.sharedGameControlGlobals.createdObjects.length>0&&(e=requestAnimationFrame(o)),a&&(t=a,i=a.requestRender)}function o(a){let l=n?a-n:0,c=t.sharedGameControlGlobals.createdObjects,u=t.sharedGameControlGlobals.nCreatedPerAction,d=c.length,h=0;for(;h<d;){let f=c[h];void 0===f.userData.createdTime&&(f.userData.createdTime=a),void 0===f.userData.lifetime&&void 0===f.userData.quantity||f.userData.lifetime&&a-f.userData.createdTime<f.userData.lifetime||f.userData.quantity&&u[f.userData.actionId]<=f.userData.quantity?(f.userData.velocity&&(f.position.addScaledVector(f.userData.velocity,l/1e3),f.updateMatrix(),i()),h++):(u[f.userData.actionId]>f.userData.quantity&&u[f.userData.actionId]--,c.splice(h,1),f.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&f.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(f.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(f.rigidBody)):(f.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(v=>void 0!==v.bvhGeometry)),d--,i())}e=h>0?requestAnimationFrame(o):void 0,n=h>0?a:void 0}return typeof document<"u"&&document.addEventListener("visibilitychange",function s(){u$()?e&&(cancelAnimationFrame(e),e=void 0,n=void 0):r()}),r})();function u$(){return!!document&&document.hidden}var h$=new Di,VLe=new re,HLe=new re,p$=class{constructor(e,t,n,i,r){this.data=e,this.page=t,this.controlsManager=n,this.shared=i,this.condition=r,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=Yn.generateUUID(),this.dispatch=()=>{if(!1===zs(this.shared,this.condition))return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay)):this.dispatchInner()},this.dispatchFromStart=()=>{if(!1===zs(this.shared,this.condition))return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay))},this.dispatchThrottled=function TAe(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Zd(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),XT(e,t,{leading:i,maxWait:t,trailing:r})}(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{null===this.intervalId&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{null!==this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let s=new Za(this.object);if(s.playModeVisible=!0,s.expand(),"world"!==this.data.coordinateSystem){let c=this.page.scene.find(this.data.coordinateSystem);c&&(c.updateMatrixWorldSVD(),s.hiddenMatrix.copy(c.matrixWorldRigid))}s.position.fromArray(this.data.position),s.rotation.fromArray(this.data.rotation),s.updateMatrix(),this.page.add(s);let a=this.controlsManager.sharedGameControlGlobals;a.createdObjects.push(s),void 0===a.nCreatedPerAction[this.uniqueId]?a.nCreatedPerAction[this.uniqueId]=1:a.nCreatedPerAction[this.uniqueId]++,s.updateWorldMatrix(!0,!0),s.traverseObject(this.traverseObjectCB),d$(),this.controlsManager.requestRender()},this.traverseObjectCB=s=>{let a;if(s.hasNonUniformScale&&s.updateMatrixWorldSVD(),this.controlsManager.sharedGameControlGlobals.rapierWorld){if(s instanceof ru){if(!s.objectForSample)return!0===s.object.dataPatched.physics.fusedBody&&"dynamic"===s.object.dataPatched.physics.rigidBody||void 0;if(s.objectForSample.dataPatched.physics.fusedBody)return;a=s.object}else if(s instanceof Za)a=s.object;else if(a=s,a.dataPatched.cloner?.hideBase)return!0}else{if(s instanceof ru)return;a=s instanceof Za?s.object:s}"Time"===this.data.destroy?s.userData.lifetime=1e3*this.data.lifetime:"Quantity"===this.data.destroy&&(s.userData.quantity=this.data.destroyAfterQuantity,s.userData.actionId=this.uniqueId);let l=(new re).fromArray(this.data.velocity),c=a.dataPatched;if(!("visibility"===c.physics.enabled?!c.visible:!c.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(s,a,{fromCreate:!0,dynamic:this.data.dynamic}),"Collision"===this.data.destroy&&(s.rigidBody?.collider(0).setActiveEvents(1),s.userData.hasCollisionDestroy=!0),s.matrixWorld.decompose(VLe,h$,HLe),l.applyQuaternion(h$),this.data.velocity.some(u=>0!==u)&&this.data.dynamic&&s.rigidBody?.setLinvel(l.divideScalar(this.controlsManager.pixelsPerMeter),!0)):("geometry"in s.object&&this.controlsManager.addBoundsTree(s),this.data.velocity.some(u=>0!==u)&&this.data.dynamic&&(s.userData.velocity=l)),!0===a.dataPatched.physics?.fusedBody))return!0};let o=this.page.scene.find(this.data.object);if(!o)throw new Error("Missing Property");if(this.object=o,"world"!==this.data.coordinateSystem&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");d$(n)}dispose(){null!==this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},g$=(new re,new re),m$=new re,WLe=new re,Il=new re,ac=new re,Zf=new re,p4=new Wt,v$=new Wt,qLe=new Wt,cu=(new Wt,new Di),Cp=new Di,yh=new ya(0,0,0,"YXZ"),YLe=new re(1,0,0),du=new re(0,1,0),XLe=new re(0,0,1),y$=new re(1,1,1),Ca=(new $l,new hd),Md=new ys,JLe={type:"requestRender"},eBe={type:"updateMatrix"},_$=Math.PI/6,f4=class extends Ia{constructor(e,t,n,i,r,o,s,a,l){super(),this.object=e,this.domElement=t,this.data=n,this.gloabalPhysics=i,this.controlsManager=r,this.cameraFollow=o,this.camera=s,this.page=a,this.sharedAssets=l,this.enableDamping=!0,this.hiddenMatrix0=new Wt,this.target0=new re,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=200,this.euler0=new ya(0,0,0,"YXZ"),this.position0Cam=new re,this.quat0Cam=new Di,this.scale0Cam=new re,this.hiddenMatrix0Cam=new Wt,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new hd(new re(0,-40,0),new re(0,40,0)),matrix:new Wt,position:new re,rotation:new Di},this.euler=new ya(0,0,0,"YXZ"),this.eulerDelta=new re,this.lastPosition=new re,this.lastCameraQuaternion=new Di,this.lastCameraPosition=new re,this.PI_2=Math.PI/2,this.prevMouse=new Ve,this.velocityTarget=new re,this.velocity=new re,this.directionXZ=new re,this.rotVelocityStick=new re,this.rotVelocityTarget=new re,this.rotVelocity=new re,this.rotDirection=new re,this.nonColliderRotOffset=new Wt,this.nonColliderPosOffset=new Wt,this.firstPointerId=-1,this.rot=new re,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Wt,this.objectToTarget=new re,this.objectToTarget0=new re,this.objectToCamXZ=new re,this.objectToCamXZ0=new re,this.targetToCamera=new re,this.targetToCamera0=new re,this.cameraPolarAxis0=new re,this.targetPos=new re,this.targetQuat=new Di,this.lerpFactorPos=(new re).setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new Di,this.objXZQuatInv=new Di,this.objXZRotMat=new Wt,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new re,this.pushedVelocity=new re,this.groundYRotation=0,this.objectRealQuat=new Di,this.colliderWorldQuat=new Di,this.groundNormal=new re,this.groundTilt=new Di,this.groundTiltInv=new Di,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new re,this.quaternion=new Di,this.scale=new re,this.initialAction=!0,this.onPointerDown=v=>{v.target!==this.domElement||-1!==this.firstPointerId||(this.firstPointerId=v.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),"keys"!==this.rotBy&&!kc&&(!vH||yH>=15.5)&&this.domElement.requestPointerLock(),this.prevMouse.set(v.clientX,v.clientY))},this.onPointerUp=v=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),"mouse"===v.pointerType&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=v=>{if(v.pointerId!==this.firstPointerId)return;let y=v.clientX-this.prevMouse.x,b=v.clientY-this.prevMouse.y;this.prevMouse.set(v.clientX,v.clientY),"mouse"===v.pointerType&&"keys"!==this.rotBy&&(vH&&yH<15.5&&!kc?(this.eulerDelta.y=-y*this.mouseOrbitSensitivity,this.eulerDelta.x=-b*this.mouseOrbitSensitivity):(this.eulerDelta.y=-v.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-v.movementY*this.mouseOrbitSensitivity)),"mouse"!==v.pointerType&&"drag"===this.rotByTouch&&(this.eulerDelta.y=-y*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-b*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=v=>{f4.isLocked=this.domElement.ownerDocument.pointerLockElement===this.domElement},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document?.hidden)for(let v in this.movementState)this.movementState[v]=0},this.onKeyDown=v=>{!(v.target instanceof HTMLInputElement)&&("ArrowLeft"===v.code||"ArrowUp"===v.code||"ArrowRight"===v.code||"ArrowDown"===v.code||"Space"===v.code)&&v.preventDefault();for(let y of this.keyAssignments)if(v.key.toUpperCase()===y[1]||v.key===y[1]){this.movementState[y[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=v=>{for(let y of this.keyAssignments)if(v.key.toUpperCase()===y[1]||v.key===y[1]||v.code.slice(3,v.code.length).toUpperCase()===y[1]){this.movementState[y[0]]=0;break}},this.copyVRGamePadValues=(v,y)=>{for(let b=2;b<4;b++){let w=v.axes[b];0===y?2===b?this.movementState.movePosX=w:this.movementState.movePosZ=w:(this.movementState.jump=v.buttons[3].pressed?1:0,2===b?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(w)>=.3&&(this.vrEulerYOffset+=w<0?1:-1),this.movementState.rotPosY=w):"fly"===this.moveMode&&(this.movementState.moveNegY=w))}},this.sharedGameControlGlobals=r.sharedGameControlGlobals,e===s&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let c=this.euler0.clone(),u=c.y;if(this.objectRealQuat.copy(this.quaternion),c.y=0,this.quaternion.setFromEuler(c),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),c.set(0,u,0),this.quaternion.setFromEuler(c),this.rot.setFromEuler(c),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||!0===this.cameraFollow)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),!0===this.cameraFollow){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy(this.camera?.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let b,w,v=new re(0,0,-1).applyQuaternion(this.camera.quaternion),y=(new re).subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(y),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ),Math.abs(v.y)<1e-6?(y.y=0,v.y=0,w=y.projectOnVector(v)):w=v.multiplyScalar(y.y/v.y>0?y.y/v.y:y.length()),this.targetToCamera0.copy(w).negate(),b=this.camera.position.clone().add(w),this.objectToTarget0.subVectors(b,this.position);let O=(new ya).setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-O.x,O.x=0,O.z=0,O.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(O)}if(this.object instanceof Ja&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=n.rotByTouch??"joystick",this.rotBy=n.rotBy??"keys",this.rotationMode=n.rotationMode??"normal",this.moveMode=n.moveMode??"walk",this.collisionEnabled=n.collisionEnabled,this.speedTranslate=1*(n.speedTranslate??250),this.speedOrbit=.025*(n.speedRotate??100),this.mouseOrbitSensitivity=16e-6*(n.speedRotate??100),this.keyAssignments=n.keyAssignments.map(v=>{let y=[v[0],v[1]];return"\u25b2"===y[1]?y[1]="ArrowUp":"\u25c0"===y[1]?y[1]="ArrowLeft":"\u25bc"===y[1]?y[1]="ArrowDown":"\u25b6"===y[1]?y[1]="ArrowRight":"\u21e7"===y[1]?y[1]="Shift":"\u21b5"===y[1]?y[1]="Enter":"Space"===y[1]?y[1]=" ":"\u2318"===y[1]?y[1]="Meta":"Ctrl"===y[1]?y[1]="Control":"Esc"===y[1]&&(y[1]="Escape"),y}),"mouse"===n.rotBy){let v;v=this.keyAssignments.findIndex(y=>"rotNegX"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotPosX"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotPosY"===y[0]),-1!==v&&(this.keyAssignments[v][1]=""),v=this.keyAssignments.findIndex(y=>"rotNegY"===y[0]),-1!==v&&(this.keyAssignments[v][1]="")}this.lerpFactorPosStart=1-.02**(1/(60*(n.delayPos[0]??.3))),this.lerpFactorPosEnd=1-.02**(1/(60*(n.delayPos[1]??.3))),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/(60*(n.delayRot[0]??.3))),this.lerpFactorRotEnd=1-.02**(1/(60*(n.delayRot[1]??.3))),this.lerpFactorPosCamera=1-.02**(1/(60*(n.delayPosCamera??.3))),this.lerpFactorRotCamera=1-.02**(1/(60*(n.delayRotCamera??.3))),this.gravity=12*(this.gloabalPhysics.gravity??o1.defaultData.gravity),this.usePhysics=this.gloabalPhysics.usePhysics??o1.defaultData.usePhysics,this.jumpPower=20*n.jumpPower,this.resetYPosition=this.position.y+Math.abs(n.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=n.alignToGround??!1,this.orientMode=n.autoOrientMove?n.orientMode:"none",this.orientWith=n.orientWith??bP.defaultDataThirdPerson.orientWith,this.slopeThresh=65*Math.PI/180,"capsule"===n.collider.type?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=n.collider.height/2-n.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=.02*n.collider.height/this.pixelsPerMeter,this.stepThresh=.3*n.collider.height/this.pixelsPerMeter,this.colliderHeight=n.collider.height):"sphere"===n.collider.type?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*n.collider.radius*.02/this.pixelsPerMeter,this.stepThresh=2*n.collider.radius*.3/this.pixelsPerMeter,this.colliderHeight=2*n.collider.radius):(this.offset=.02*n.collider.height/this.pixelsPerMeter,this.stepThresh=.3*n.collider.height/this.pixelsPerMeter,this.colliderHeight=n.collider.height),this.collider.type=n.collider.type;let d=(new re).fromArray(n.collider.position),h=(new Di).setFromEuler((new ya).fromArray([...n.collider.rotation,"XYZ"]));this.collider.position.copy(d).multiply(this.scale),this.collider.rotation.copy(h),this.collider.matrix.compose(d,h,y$),void 0!==n.cameraXAxis&&(this.cameraXAxis=n.cameraXAxis,this.cameraYAxis=n.cameraYAxis,this.minPolarAngle=n.cameraRotXLimits[0],this.maxPolarAngle=n.cameraRotXLimits[1],this.minAzimuthAngleRel=n.cameraRotYLimits[0],this.maxAzimuthAngleRel=n.cameraRotYLimits[1]),this.forwardDir=n.forwardDirection??"-z",this.runMultiplier=n.runMultiplier??2;let f=2*n.navmesh.destinationHelperRadius;if(f>0){let v=new ui;v.push({fi:0,data:{...Zl.defaultData("light","phong"),alpha:0},id:"layer1"}),v.push({fi:0,data:{...Zl.defaultData("color"),color:n.navmesh.destinationHelperColor,alpha:n.navmesh.destinationHelperColor.a},id:"layer2"});let y=new Zk({layers:v},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new yl(hW.create({parameters:{width:f,height:f/10,hollow:.7}}),y),this.navMeshPathDest.material.userData.opacity0=n.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=(new ya).setFromQuaternion(this.quaternion,"YXZ"),n=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,n,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof Ja?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();!0===this.cameraFollow&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){this.deactivate(),this.navMeshPathDest?.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;void 0!==e.gameActions&&(this.actions={},yP.list.forEach(n=>{this.actions[n]=kl({...e,disabled:!1,type:"GameControl"},e.gameActions[n],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),wa(this.actions.idle),wa(this.actions.move),wa(this.actions.run),wa(this.actions.jump)}dispatchStartEvent(e){void 0!==this.actions[e]&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(!1===this.initialAction)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){void 0!==this.actions[e]&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),null!==t.object.currentState&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return Il.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,n){if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let i=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let r=60*i,o=!1;if(this.usePhysics&&this.collisionEnabled){let a=ac.set(0,(0===this.velocity.y?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/120,1)*(this.gravity>0?1:-1):this.velocity.y)*i,0).divideScalar(this.pixelsPerMeter),l=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,a,this.object.rigidBody?.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(l){this.onObject=!0,this.groundNormal.set(l.normal2.x,l.normal2.y,l.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(o=!0),0===l.collider.parent()?.bodyType()&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let c=l.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let u of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(u.rigidBody===c&&u.userData.isFollowingObj!==this.object.uuid){(u.hasNonUniformScale?u.matrixWorldRigid:u.matrixWorld).decompose(Il,Cp,ac),this.groundVelocity.subVectors(Il,u.prevT),this.object.getWorldPosition(ac).add(this.collider.position).sub(Il),this.groundYRotation=yh.setFromQuaternion(Cp).y-u.prevR.y,Zf.copy(ac).applyAxisAngle(du,this.groundYRotation),this.groundVelocity.add(Zf.sub(ac)).divideScalar(i);break}}else this.onObject=!1}if("walk"===this.moveMode&&this.collisionEnabled&&(1===this.movementState.jump&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*r),"fly"===this.moveMode&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,"+z"===this.forwardDir&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let a=this.navMeshPathDest.material;if("walk"===this.moveMode&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let l=Il.subVectors(this.path[1],this.position),c=ac.subVectors(this.path[1],this.path[0]);l.dot(c)<0?this.path.shift():(this.directionXZ.x=c.x,this.directionXZ.z=c.z),a.opacity=a.userData.opacity0}else a.opacity-=.05*a.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.moveForce=this.movementState.run?this.runMultiplier:1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,("walk"===this.moveMode?this.velocityTarget.x+this.velocityTarget.z===0:0===this.velocityTarget.manhattanLength())?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),"walk"===this.moveMode&&(this.lerpFactorPos.y=1),!1===this.didHit&&0===this.pushedVelocity.manhattanLength()||!1===this.usePhysics?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**r),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**r),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**r)):this.velocity.copy(this.velocityTarget),("walk"===this.moveMode?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let s=WLe.copy(this.velocity);if("none"!==this.orientMode&&!1===this.isFirstPerson){let a=ac.copy(s);a.y=0,s.set(0,s.y,a.length()*("+z"===this.forwardDir?1:-1))}if(this.directionXZ.manhattanLength()>0&&"none"!==this.orientMode)if("camera"===this.orientWith&&this.path.length<=1){let a=Il;this.camera.getWorldDirection(a);let l=Zf.copy(du).multiplyScalar(a.dot(du));a.sub(l);let c=ac.copy(this.directionXZ);c.x*=-1,this.rot.y=a.angleTo(c)*(a.cross(c).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*("+z"===this.forwardDir?1:-1);if(yh.setFromVector3(this.rot),"walk"===this.moveMode&&(yh.x=0),s.applyEuler(yh),o&&(Cp.setFromUnitVectors(du,this.groundNormal),s.applyQuaternion(Cp)),n){let a=yh.set(0,this.vrEulerYOffset*_$,0);n.applyEuler(a),s.x+=n.x,s.z+=n.z,this.nonColliderPosOffset.elements[13]+=n.y*i}if(!0===this.usePhysics){let a=ac;this.pushedVelocity.set(0,0,0);for(let l of this.sharedGameControlGlobals.entitiesWithTransformAnim){let c=Zf.setFromMatrixPosition(l.matrixWorld).sub(l.prevT).divideScalar(i).divideScalar(this.pixelsPerMeter),u=l.rigidBody.collider(0).castCollider(c,this.object.rigidBody.collider(0),Il.copy(s).divideScalar(this.pixelsPerMeter),i,!1);c.multiplyScalar(this.pixelsPerMeter);let d=vr.is(l)?l:l.object;if(null!==u&&this.lastHitObj!==d){let h;l instanceof Za&&(h=l);let f=this.sharedGameControlGlobals.entityToCollisionEvents[d.uuid];if(f)for(let v of f)"character"===v.data.target&&(v.dispatch(h),d.dispatchEvent(D4));this.lastHitObj=d}if(null!==u){this.pushedVelocity.copy(c),a.copy(u.normal1).applyQuaternion(l.quaternion);break}}if(0!==this.pushedVelocity.manhattanLength()){let l=a.dot(s);l<0&&s.addScaledVector(a,-l),s.add(this.pushedVelocity)}else s.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotVelocityStick.x="normal"===this.rotationMode&&(this.movementState.rotPosX||this.movementState.rotNegX)||"steer"===this.rotationMode&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||"walk"===this.moveMode)?-this.rotDirection.x*this.speedOrbit*this.rotForce:0,this.rotVelocityStick.y="normal"===this.rotationMode&&(this.movementState.rotPosY||this.movementState.rotNegY)||"steer"===this.rotationMode&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?-this.rotDirection.y*this.speedOrbit*this.rotForce:0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(i),this.rotVelocityStick),0===this.rotVelocityTarget.manhattanLength()?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**r):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**r),this.euler.x+=this.rotVelocity.x*i,this.euler.y+=this.rotVelocity.y*i+this.groundYRotation,0===this.rotVelocityTarget.y&&0===this.directionXZ.manhattanLength()?this.rotationAccumWhenOrientWithCamera=0:(!1===this.cameraFollow||"Locked"===this.cameraYAxis)&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*i),!1===this.isFirstPerson&&"none"!==this.orientMode&&this.directionXZ.manhattanLength()>0){if("radial"===this.orientMode){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(du,this.euler.y-this.euler0.y);let a=ac.copy(this.objectToCamXZ).normalize(),l=Zf.copy(s).multiplyScalar(i);l.y=0;let c=l.sub(Il.copy(a).multiplyScalar(l.dot(a))).cross(a).y;this.euler.y-=Math.atan2(c,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*i+this.groundYRotation,0!==this.rotVelocityTarget.y&&(!1===this.cameraFollow||"Locked"===this.cameraYAxis)&&(this.euler.y=this.rot.y);if(!0===this.cameraFollow&&("walk"===this.moveMode?this.euler.x="Limit"===this.cameraXAxis?Yn.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):Yn.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):"Limit"===this.cameraXAxis&&(this.euler.x=Yn.clamp(this.euler.x,-this.PI_2,this.PI_2))),"fly"===this.moveMode?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(yh.copy(t),yh.y=0):(yh.copy(this.euler),yh.y=0),this.nonColliderRotOffset.makeRotationFromEuler(yh)),t&&("walk"===this.moveMode?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*_$),cu.setFromAxisAngle(YLe,this.rot.x),Cp.setFromAxisAngle(du,this.rot.y),Cp.multiply(cu),cu.setFromAxisAngle(XLe,this.rot.z),Cp.multiply(cu),this.quaternion.copy(Cp),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.objectRealQuat.multiply(this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let a=ac.copy(s).multiplyScalar(i/this.pixelsPerMeter),l=null;this.didHit=!1;let c=new re;for(let u=0;u<5;u++){let d=a.length(),h=Zf.copy(a).normalize();if(l=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(c),this.colliderWorldQuat,h,this.object.rigidBody?.collider(0).shape,d,!1,24,void 0,void 0,this.object.rigidBody),null===l){0===u&&0!==this.directionXZ.manhattanLength()&&(this.lastHitObj=null),c.add(a);break}{this.didHit=!0;let f=this.sharedGameControlGlobals.colliderToEntity.get(l.collider.handle);if(f!==this.lastHitObj&&0===u){this.lastHitObj=f;let w=this.sharedGameControlGlobals.entityToCollisionEvents[f?.uuid];if(w)for(let O of w)if("character"===O.data.target){let D,S=this.sharedGameControlGlobals.rapierWorld?.getCollider(l.collider.handle)._parent;if(f.cloner)for(let V of f.cloner.children)if(V.rigidBody===S){D=V;break}O.dispatch(D),f.dispatchEvent(D4)}}let v=g$.set(l.normal2.x,l.normal2.y,l.normal2.z).applyQuaternion(this.colliderWorldQuat),y=m$.copy(h).multiplyScalar(l.toi).dot(v),b=l.toi;if(0===b&&(this.position.y+=this.offset*this.pixelsPerMeter),y>this.offset&&(b=l.toi*(y-this.offset)/y,c.addScaledVector(h,b)),a.copy(h).multiplyScalar(d-b),Math.acos(-v.y)>this.slopeThresh){let w=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(c),O=Zf.copy(l.witness2).applyQuaternion(this.colliderWorldQuat);O.y=0;let S=w.add(O);S.y+=this.stepThresh;let D=this.sharedGameControlGlobals.rapierWorld.castShape(S,this.colliderWorldQuat,a,this.object.rigidBody?.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);null!==D&&0===D.toi&&(v.y=0,v.normalize())}a.addScaledVector(v,-a.dot(v))}}this.position.addScaledVector(c,this.pixelsPerMeter),this.object.rigidBody?.setTranslation(Il.copy(this.position).divideScalar(this.pixelsPerMeter),!0),this.object.rigidBody?.setRotation(cu.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let a=this.onObject?1:5,l=s.multiplyScalar(i/a);for(let c=0;c<a;c++)this.position.add(l),this.collisionAdjustment(i/a)}else this.position.addScaledVector(s,i);if("walk"===this.moveMode&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),!0===this.cameraFollow){this.updateFollowArms();let a=this.objectToTarget.add(this.position),l=this.targetToCamera.add(a);p4.lookAt(l,a,du).setPosition(l),p4.decompose(this.targetPos,this.targetQuat,Il),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**r),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**r),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),"Limit"===this.cameraYAxis&&"cartesian"===this.orientMode&&(this.euler.y=Yn.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=Yn.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(eBe),!(this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(void 0===this.camera||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&("fly"===this.moveMode||!0===this.onObject||!1===this.collisionEnabled)&&(null===this.navMeshPathDest||this.navMeshPathDest.material.opacity<-.04*this.navMeshPathDest?.material?.userData.opacity0)||(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(JLe),0))}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let t,e=cu.setFromAxisAngle(du,"Limit"===this.cameraYAxis&&"radial"!==this.orientMode?Yn.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);("Locked"!==this.cameraYAxis||"radial"===this.orientMode)&&this.objectToTarget.applyQuaternion(e),t="Limit"===this.cameraXAxis?Yn.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):Yn.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let n=Il.copy(this.cameraPolarAxis0);("Locked"!==this.cameraYAxis||"radial"===this.orientMode)&&n.applyQuaternion(e);let i=Cp.setFromAxisAngle(n,t);"Locked"!==this.cameraYAxis&&this.targetToCamera.applyQuaternion(e),"Locked"!==this.cameraXAxis&&this.targetToCamera.applyQuaternion(i)}groundTiltAdjustment(e){180*du.angleTo(e)/Math.PI<15||180*du.angleTo(e)/Math.PI>85?cu.identity():cu.setFromUnitVectors(du,e),this.groundTilt.slerp(cu,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){let t=m$.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let n=p4.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(Il,cu,ac).compose(Il,cu,y$);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(r=>{if(r===this.object||r.isDescendantOf(this.object))return;Md.makeEmpty(),r.updateMatrixWorldSVD();let o=r.matrixWorldRigid,s=v$.copy(o).invert(),a=qLe.copy(v$).multiply(n);Ca.copy(this.collider.segment),Ca.start.applyMatrix4(a),Ca.end.applyMatrix4(a);let l=g$.copy(this.position).applyMatrix4(s);Md.expandByPoint(Ca.start),Md.expandByPoint(Ca.end),Md.min.addScalar(-this.collider.radius),Md.max.addScalar(this.collider.radius),r.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder:c=>c.distanceToPoint(Ca.end),intersectsBounds:c=>c.intersectsBox(Md),intersectsTriangle:c=>{let u=Il,d=ac,h=c.closestPointToSegment(Ca,u,d);if(h<this.collider.radius){let f=this.collider.radius-h,v=d.sub(u).normalize(),y=Zf.copy(l);y.addScaledVector(v,f);let b=y.applyMatrix4(o).sub(this.position);t.add(b),Ca.start.addScaledVector(v,f),Ca.end.addScaledVector(v,f)}}})}),Md.makeEmpty(),Ca.copy(this.collider.segment),Ca.start.applyMatrix4(n),Ca.end.applyMatrix4(n),Md.expandByPoint(Ca.start),Md.expandByPoint(Ca.end),Md.min.addScalar(-this.collider.radius),Md.max.addScalar(this.collider.radius),this.sharedGameControlGlobals.staticMeshBVH?.shapecast({traverseBoundsOrder:r=>r.distanceToPoint(Ca.end),intersectsBounds:r=>r.intersectsBox(Md),intersectsTriangle:r=>{let o=Il,s=ac,a=r.closestPointToSegment(Ca,o,s);if(a<this.collider.radius){let l=this.collider.radius-a,c=s.sub(o).normalize();this.alignToGround&&this.groundTiltAdjustment(c),t.addScaledVector(c,l),Ca.start.addScaledVector(c,l),Ca.end.addScaledVector(c,l)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let i=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(i),this.position.add(t)}},x$=f4;x$.isLocked=!1;var tBe=ma(O7());function Mp(e,t){let n=new ei;if(!e.getAttribute("position"))return n.setAttribute("position",new Dn([],3)),n.setIndex([]),n;let{positions:i,triIndices:r}=GP(e.getAttribute("position"),e.getIndex());return n.setAttribute("position",new Dn(i,3)),n.setIndex(r),t&&n.applyMatrix4(t),n}var nBe=new Wt,iBe=new Wt,bh=[[0,0,0],[0,0,0],[0,0,0]];function w$(e){let t=e.elements;bh[0][0]=t[0],bh[0][1]=t[4],bh[0][2]=t[8],bh[1][0]=t[1],bh[1][1]=t[5],bh[1][2]=t[9],bh[2][0]=t[2],bh[2][1]=t[6],bh[2][2]=t[10];let{u:n,v:i}=(0,tBe.SVD)(bh),r=nBe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),o=iBe.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1);return r.multiply(o.transpose())}var rBe=class extends Gj{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,n=[]){return e.forEach(i=>{i.visible&&this.intersectObject(i,t,n)}),n}createRaycastLineHelper(){let e=new wf({color:65280,linewidth:10}),t=new re(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),n=new re(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),i=this.camera.far-this.camera.near,r=(new re).addVectors(t,n.multiplyScalar(i)),o=new ei;return o.setFromPoints([t,r]),new lM(o,e)}},C$=e=>e instanceof U1||e instanceof j1;function oBe(e,t){return e.distance-t.distance}function M$(e,t,n){if(up(t)&&t.visible){su(t)&&t.raycast(e,n);for(let i of t.children)M$(e,i,n)}}function C2(e,t,n,i=!1){if(!i&&!n.some(o=>void 0!==M2(e,o)))return[];let r=[];return t.children.forEach(o=>M$(e,o,r)),r.sort(oBe),r}function g4(e){let t=[];if(e.length){let n=e[0].object;up(n)&&t.push(n);let i=n.parent;for(;i;)C$(i)&&t.push(i),i=i.parent}return t}function M2(e,t){if(su(t)){if(t.visible){let n=[];return t.raycast(e,n),n.length?n[0]:void 0}}else if(C$(t))return P$(e,t)}function P$(e,t){if(up(t)&&t.visible){if(su(t)){let n=[];if(t.raycast(e,n),n.length)return n[0]}for(let n of t.children){let i=P$(e,n);if(i)return i}}}var uu=class{constructor(e){this.eventContext=e,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},m4=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],O$=e=>m4.find(([t,n])=>n===e)?.[0],Z_=e=>m4.find(([t])=>t===e)?.[1],lBe=(e,t)=>{let n=O$(e);if(n){let i=new CustomEvent(n,{bubbles:!0});return Object.defineProperty(i,"target",{writable:!1,value:t}),i}},cBe=class extends uu{constructor(e){super(e),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=n=>{if(!n.eventName||!n.target||"Scroll"===n.eventName)return;let i=this.splineEvents[O$(n.eventName)]?.[n.target.uuid];if(!i)return;"Scroll"===n.eventName&&void 0!==n.deltaY&&Object.assign(i,{deltaY:n.deltaY});let{domElement:r}=this.eventContext;r.dispatchEvent(i)};let{page:t}=this.eventContext;t.traverseEntity(n=>{if(n.data?.events.length)for(let[i,r]of m4)if(n.data.events.some(o=>o.data.type===r&&!o.data.disabled)){this.objectsPerEvents.has(i)?this.objectsPerEvents.get(i)?.push(n):this.objectsPerEvents.set(i,[n]);let s=lBe(r,{id:n.uuid,name:n.name}),a=this.splineEvents[i];a?a[n.uuid]=s:this.splineEvents[i]={[n.uuid]:s}}})}connect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},dBe=class{constructor(e,t,n,i,r,o){if(this.id=e,this.data=t,this.object=n,this.entered=!1,this.alreadyPlayedNonTogglingActions=new Set,this.useToggle="Toggle"===t.runMode,("KeyDown"===t.type||"KeyUp"===t.type||"KeyPress"===t.type)&&!t.key)throw new Error("Missing property");this.actions=kl(t,t.actions,i,r,o,n)}disconnect(){wa(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(t)}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()}),this.actions.SwitchCamera.forEach(t=>{t.toggle()})):"MousePress"===this.data.type||"KeyPress"===this.data.type?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing)||this.actions.Transition.forEach(t=>{!1===this.alreadyPlayedNonTogglingActions.has(t)&&t.play()}),this.actions.SwitchCamera.some(t=>t.playing)||this.actions.SwitchCamera.forEach(t=>{t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),!1===e&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},uBe=class extends uu{constructor(e,t,n){super(e),this.useForRaycastProperty=n,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=o=>{if(!0===this.useForRaycastProperty&&null===this.sceneInterects){this.eventContext.updateRaycaster(o);let{raycaster:s,page:a}=this.eventContext,l=C2(s,a,[],!0);this.sceneInterects=l,l.length&&(this.eventContext.sharedAssets.raycastProperty={x:l[0].point.x,y:l[0].point.y,z:l[0].point.z,objX:l[0].object.matrixWorld.elements[12],objY:l[0].object.matrixWorld.elements[13],objZ:l[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=o=>{(o.target===this.eventContext.domElement||"SPLINE-VIEWER"===o.target.tagName)&&this.canvasMouseEvents.forEach(s=>{("MouseDown"===s.data.type||"MousePress"===s.data.type)&&(this.onCanvasRaycast(o),s.dispatch())})},this.onCanvasMouseUp=o=>{(o.target===this.eventContext.domElement||"SPLINE-VIEWER"===o.target.tagName)&&this.canvasMouseEvents.forEach(s=>{"MouseUp"===s.data.type?(this.onCanvasRaycast(o),s.dispatch()):"MousePress"===s.data.type&&s.dispatchRelease()})},this.onMouseDown=o=>{fi.length>1||(this.eventContext.updateRaycaster(o),this.handleMouseEvent("MouseDown"))},this.onMouseUp=o=>{fi.length>1||(this.eventContext.updateRaycaster(o),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=o=>{fi.length>1||(this.eventContext.updateRaycaster(o),this.handleMousePressEvent())},this.onMousePressRelease=o=>{fi.length>1||(this.eventContext.updateRaycaster(o),this.handleMousePressEvent(!0))},this.onKeyDown=o=>{this.heldKeys[o.key]||(this.handleKeyEvent(o,"KeyDown"),this.handleKeyEventHeld(o,"KeyDown",!0)),this.heldKeys[o.key]=!0},this.onKeyUp=o=>{this.handleKeyEvent(o,"KeyUp"),this.handleKeyEventHeld(o,"KeyUp",!0)},this.onKeyPressDown=o=>{this.heldKeysPress[o.key]?this.handleKeyEventHeld(o,"KeyPress"):(this.handleKeyEvent(o,"KeyPress"),this.handleKeyEventHeld(o,"KeyPress",!0)),this.heldKeysPress[o.key]=!0},this.onKeyPressUp=o=>{this.handleKeyEvent(o,"KeyPress",!0)},this.releaseHeldKey=o=>{delete this.heldKeys[o.key]},this.releaseHeldKeyPress=o=>{delete this.heldKeysPress[o.key]},this._onUserEvent=({eventName:o,target:s,reverse:a})=>{if(!o||!s)return;let l=Z_(o);l&&("MouseDown"===l||"MouseUp"===l||"MousePress"===l?(s.dispatchEvent({type:"beginEvent",eventName:l}),this.eventsPerObjects[l]?.[s.uuid]?.forEach(c=>{c.dispatchUserEvent(a)})):("KeyDown"===l||"KeyUp"===l||"KeyPress"===l)&&(s.dispatchEvent({type:"beginEvent",eventName:l}),this.eventsPerObjects[l]?.[s.uuid]?.forEach(c=>{c.dispatchUserEvent()})))};let{page:i,sharedAssets:r}=this.eventContext;i.traverseEntity(o=>{if(!o.data?.events.length)return;let s=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let a of s){let l=this.eventsPerObjects[a];o.data.events.filter(({data:c})=>c.type===a&&!0!==c.disabled).forEach(({id:c,data:u})=>{try{let d=new dBe(c,u,o,i,r,t);d.actions.Video.length&&(this.hasVideoAction=!0),"MouseDown"!==u.type&&"MouseUp"!==u.type&&"MousePress"!==u.type||"Canvas"!==u.mode&&"Window"!==u.mode?l[o.uuid]?l[o.uuid].push(d):l[o.uuid]=[d]:this.canvasMouseEvents.push(d)}catch{}}),l[o.uuid]?.length&&this.objectsPerTypes[a].push(o)}})}connect(){let{domElement:e}=this.eventContext;this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),e.addEventListener("pointerdown",this.onCanvasMouseDown),e.addEventListener("pointerup",this.onCanvasMouseUp),(this.objectsPerTypes.MouseDown?.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown)),this.objectsPerTypes.MouseUp?.length&&(this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.objectsPerTypes.MousePress?.length&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMousePressRelease)),this.objectsPerTypes.KeyDown?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),this.objectsPerTypes.KeyUp?.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),this.objectsPerTypes.KeyPress?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([t,n])=>{n.forEach(i=>{i.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(n=>{n.forEach(i=>{i.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,n])=>{n.forEach(i=>{i.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){let{stopRaycast:t,raycaster:n,page:i}=this.eventContext,r=this.objectsPerTypes[e];if(r.length||this.useForRaycastProperty){if(t||this.useForRaycastProperty){let o;null===this.sceneInterects?o=C2(n,i,r,this.useForRaycastProperty):(o=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&o.length&&(this.eventContext.sharedAssets.raycastProperty={x:o[0].point.x,y:o[0].point.y,z:o[0].point.z,objX:o[0].object.matrixWorld.elements[12],objY:o[0].object.matrixWorld.elements[13],objZ:o[0].object.matrixWorld.elements[14]}),t&&g4(o).forEach(s=>{this.eventsPerObjects[e][s.uuid]&&this.handleObjectMouseEventDispatch(s,e)})}t||r.forEach(o=>{M2(n,o)&&this.handleObjectMouseEventDispatch(o,e)})}}handleMousePressEvent(e=!1){let t="MousePress",n=this.objectsPerTypes[t],i=[];if(n.length){if(!e){let{stopRaycast:r,raycaster:o,page:s}=this.eventContext;if(r){let a=C2(o,s,n);i=g4(a)}else n.forEach(a=>{M2(o,a)&&i.push(a)})}this._prevObjects.length&&this._prevObjects.forEach(r=>{i.includes(r)||this.handleObjectMouseEventDispatchRelease(r,t)}),i.length&&i.forEach(r=>{this.handleObjectMouseEventDispatch(r,t)}),this._prevObjects=i}}handleObjectMouseEventDispatch(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach(n=>{n.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach(n=>{n.dispatchRelease()})}handleKeyEvent(e,t,n=!1){this.objectsPerTypes[t].forEach(i=>{let r=this.eventsPerObjects[t][i.uuid];r.some(({data:o})=>"key"in o&&o.key===e.key)&&i.dispatchEvent({type:"beginEvent",eventName:t}),r.forEach(o=>{"key"in o.data&&o.data.key===e.key&&(n?o.dispatchRelease():o.dispatch(!0))})})}handleKeyEventHeld(e,t,n=!1){this.objectsPerTypes[t].forEach(i=>{this.eventsPerObjects[t][i.uuid].forEach(r=>{"key"in r.data&&r.data.key===e.key&&r.dispatchHeld(n)})})}},hBe=new re,pBe=new re,S$=class{constructor(e,t,n,i,r){this.actionsIn=kl(e,e.inActions,n,i,r,t),this.actionsOut=kl(e,e.outActions,n,i,r,t)}disconnect(){wa(this.actionsIn),wa(this.actionsOut)}},fBe=class extends S${constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.id=e,this.data=t,this.object=n,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let h of this.objects)if(!h.visible)return;let c=hBe.setFromMatrixPosition(this.objects[0].matrixWorld),u=pBe.setFromMatrixPosition(this.objects[1].matrixWorld),d=c.distanceTo(u)<=this.distance?"in":"out";if(this.stage!==d){this.stage=d;let h="in"===d?this.actionsIn:this.actionsOut;h.Audio.forEach(f=>f.dispatchConditional()),h.Video.forEach(f=>f.dispatchConditional()),h.Link.forEach(f=>f.dispatch()),h.Create.forEach(f=>f.dispatch()),h.Destroy.forEach(f=>f.dispatch()),h.Reset.forEach(f=>f.dispatch()),h.Transition.forEach(f=>{f.object.currentTransitionEvent!==this&&(f.object.currentTransitionEvent=this),f.init()}),h.Transition.forEach(f=>f.play()),h.Animation.forEach(f=>f.play()),h.SwitchCamera.forEach(f=>f.play()),h.SceneTransition.forEach(f=>f.dispatch()),h.SetVariable.forEach(f=>f.checkConditions()),h.SetVariable.forEach(f=>f.dispatch()),h.DynamicVariablePlay.forEach(f=>f.dispatch())}};let{distance:s,fromObject:a,toObject:l}=t.condition;this.distance=s;for(let c of[a,l]){if(!c)throw new Error("Missing property");let u=i.find(c);if(!u)throw new Error("Missing property");this.objects.push(u)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},gBe=class extends S${constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.id=e,this.data=t,this.object=n,this.onBegin=({state:c})=>{this.toState!==c&&(this.actionsOut.Audio.forEach(u=>u.dispatchConditional()),this.actionsOut.Video.forEach(u=>u.dispatchConditional()),this.actionsOut.Link.forEach(u=>u.dispatch()),this.actionsOut.Create.forEach(u=>u.dispatch()),this.actionsOut.Destroy.forEach(u=>u.dispatch()),this.actionsOut.Reset.forEach(u=>u.dispatch()),this.actionsIn.Transition.forEach(u=>u.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(u=>u.play()),this.actionsOut.Animation.forEach(u=>u.play()),this.actionsIn.SwitchCamera.forEach(u=>u.pause()),this.actionsOut.SwitchCamera.forEach(u=>u.play()),this.actionsOut.SceneTransition.forEach(u=>u.dispatch()),this.actionsOut.SetVariable.forEach(u=>u.checkConditions()),this.actionsOut.SetVariable.forEach(u=>u.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(u=>u.dispatch()))},this.onComplete=({state:c})=>{this.toState===c&&(this.actionsIn.Audio.forEach(u=>u.dispatchConditional()),this.actionsIn.Video.forEach(u=>u.dispatchConditional()),this.actionsIn.Link.forEach(u=>u.dispatch()),this.actionsIn.Create.forEach(u=>u.dispatch()),this.actionsIn.Destroy.forEach(u=>u.dispatch()),this.actionsIn.Reset.forEach(u=>u.dispatch()),this.actionsOut.Transition.forEach(u=>u.pause()),this.actionsOut.Transition.forEach(u=>u.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(u=>u.play()),this.actionsIn.Animation.forEach(u=>u.play()),this.actionsOut.SwitchCamera.forEach(u=>u.pause()),this.actionsIn.SwitchCamera.forEach(u=>u.play()),this.actionsIn.SceneTransition.forEach(u=>u.dispatch()),this.actionsIn.SetVariable.forEach(u=>u.checkConditions()),this.actionsIn.SetVariable.forEach(u=>u.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(u=>u.dispatch()))};let{condition:s}=t;if(!s.object)throw new Error("Missing property");let a=i.find(s.object);if(!a)throw new Error("Missing property");if(this.toObject=a,s.state&&!this.toObject.states?.[s.state])throw new Error("Missing property");this.toState=s.state}connect(){xm(this.actionsOut).forEach(e=>{this.actionsOut[e]?.length&&this.toObject.addEventListener("beginState",this.onBegin)}),xm(this.actionsIn).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),xm(this.actionsOut).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),xm(this.actionsIn).forEach(e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},mBe=class extends uu{constructor(e,t){super(e),this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1;let{page:n,sharedAssets:i}=this.eventContext;n.traverseEntity(r=>{if(r.data?.events.length)for(let{id:o,data:s}of r.data.events)if(!s.disabled&&"Conditional"===s.type)try{let a;"Comparison"===s.condition.type||("Distance"===s.condition.type?a=new fBe(o,s,r,n,i,t):"State"===s.condition.type&&(a=new gBe(o,s,r,n,i,t))),a&&(this.eventsPerConditions[s.condition.type].push(a),(a.actionsIn.Video.length||a.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}})}connect(){super.connect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},J_=new re,Jf=new re,Ym=new re,E$=new Tc,qr=new re,la=new re,D$=new re,Xm=new Di,v4=new ya,yBe=new Wt,y4=new vs,Y1=new re,_h=new re;function b4(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var bBe=function(){let e=new Wt;return(t,n,i)=>{let r=t.obj;e.copy(r.hiddenMatrix),null!==r.parent&&e.premultiply(r.parent.matrixWorld),e.invert(),r.position.copy(n),"global"===t.reference&&b4(r.position,t.limits),r.position.applyMatrix4(e),"parent"===t.reference?b4(r.position,t.limits):"local"===t.reference&&(Xm.copy(t.quat0).invert(),r.position.sub(t.position0),r.position.applyQuaternion(Xm),b4(r.position,t.limits),Xm.invert(),r.position.applyQuaternion(Xm),r.position.add(t.position0)),e.multiply(i??r.matrixWorld).decompose(qr,r.quaternion,la),r.updateMatrix(),r.hasNonUniformScale&&(r.updateMatrixWorld(),r.updateMatrixWorldSVD()),r instanceof Jl&&bp(r.parent)&&r.invalidateDownstreamBooleanData(!0)}}(),xBe=class extends uu{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=i=>{if(fi.length>1)return;this.eventContext.updateRaycaster(i);let{raycaster:r,page:o}=this.eventContext,s=o.raycastWithClones(r);if(this.lastDropDestination=null,0!==s.length){for(let a of this.events){let l=0;for(let{obj:c,pointEnd:u,pointStart:d}of a.dragItems){if(c===s[0].object||c===s[0].object.object||vr.is(c)&&c.isAncestorOf(s[0].object.uuid)){if(a.activeIdx=l,a.activeDragItem.reset=!1,a.activeDragItem.currentDampingFactor=a.data.dampingFactor,a.activeDragItem.snapped=!1,"hand"===a.data.cursor&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){a.activeDragItem.obj.rigidBody&&a.activeDragItem.obj.rigidBody.setBodyType(2,!0);let h=a.activeDragItem.obj;c.hasNonUniformScale&&c.updateMatrixWorldSVD(),(h.hasNonUniformScale?h.matrixWorldRigid:h.matrixWorld).decompose(qr,Xm,la),v4.setFromQuaternion(Xm),void 0===h.prevR?(h.prevR=v4.clone(),h.prevT=qr.clone()):(h.prevR.copy(v4),h.prevT.copy(qr)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(a.activeDragItem.obj)}return this.calcPlaneIntersectPos(c,d,a.data.plane,a.data.referenceFrame),u.copy(d),(this.eventManager.controlsManager.usePhysics&&"dynamic"===c.data.physics?.rigidBody||!1===a.data.drop||!1===a.data.resetOnSnapFail)&&a.activeDragItem.fromPosition.setFromMatrixPosition(a.activeDragItem.obj.matrixWorld),this.activeEvent=a,void(this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1))}l++}}this.activeEvent=null}else this.activeEvent=null},this.onPointerMove=i=>{if(fi.length>1)return;this.eventContext.updateRaycaster(i);let{raycaster:r,page:o}=this.eventContext,s=o.raycastWithClones(r);if(0!==fi.length){if(this.activeEvent&&this.activeEvent.activeDragItem){let l,a=this.activeEvent.activeDragItem;if(a.snapped=!1,this.activeEvent.data.drop&&(l=s.filter(c=>a.obj!==c.object&&!a.obj.isAncestorOf(c.object.uuid)&&!(c.object instanceof U1)&&("all"===this.activeEvent.data.dropOn||this.activeEvent.dropDestIds.some(u=>u===c.object.uuid||o.scene.find(u).isAncestorOf(c.object.uuid))))[0]),l){let c=D$.copy(l.face.normal).applyMatrix3(y4.getNormalMatrix(l.object.matrixWorld));if("center"===this.activeEvent.data.snapTo)a.fromPosition.setFromMatrixPosition(l.object.matrixWorld);else if("surface"===this.activeEvent.data.snapTo){if(a.fromPosition.copy(l.point),"bbox"===this.activeEvent.data.snapSurfaceMode){qr.copy(c).applyMatrix3(y4.setFromMatrix4(a.obj.matrixWorld).transpose());let u=a.obj;qr.x>.2?la.x=-u.recursiveBBox.min.x:qr.x<-.2&&(la.x=-u.recursiveBBox.max.x),qr.y>.2?la.y=-u.recursiveBBox.min.y:qr.y<-.2&&(la.y=-u.recursiveBBox.max.y),qr.z>.2?la.z=-u.recursiveBBox.min.z:qr.z<-.2&&(la.z=-u.recursiveBBox.max.z),la.applyMatrix3(y4.invert())}else la.copy(c).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);a.fromPosition.add(la)}this.activeEvent.data.autoOrient&&(qr.set(0,1,0).cross(c),qr.length()<1e-4&&qr.set(-1,0,0).cross(c),la.crossVectors(D$,qr),a.orientationMatrix.makeBasis(qr,la,c)),a.pointStart.copy(a.fromPosition),a.pointEnd.copy(a.pointStart),a.currentDampingFactor=this.activeEvent.snapDampingFactor,a.snapped=!0,this.lastDropDestination!==l.object&&(this.lastDropDestination=l.object,this.activeEvent.actionsDrop.Transition.forEach(u=>{u.play()}),this.activeEvent.actionsDrop.Animation.forEach(u=>{u.play()}),this.activeEvent.actionsDrop.Audio.forEach(u=>{u.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(u=>{u.dispatchThrottled()}))}else a.orientationMatrix.makeRotationFromQuaternion(a.quat0),this.lastDropDestination=null,a.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(a.obj,a.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(c=>{c.stop(),null!==c.object.currentState&&c.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(c=>{c.stop()}),this.activeEvent.actionsDrop.Audio.forEach(c=>{c.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(c=>{c.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(c=>c.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(c=>c.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(c=>c.dispatch()),!1===this.activeEvent.wasDragEventTriggered&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(c=>{c.play()}),this.activeEvent.actionsDrag.Animation.forEach(c=>{c.play()}),this.activeEvent.actionsDrag.Audio.forEach(c=>{c.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(c=>{c.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(c=>{c.stop(),null!==c.object.currentState&&c.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(c=>{c.stop()}))},500),this.updateDragItem(a),a.obj.dispatchEvent({type:"requestRender"})}}else{let a=!1;for(let l of this.events){for(let{obj:c}of l.dragItems)if(c===s[0]?.object||c===s[0]?.object?.object||vr.is(c)&&c.isAncestorOf(s[0]?.object.uuid)){switch(a=!0,l.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move")}break}if(a)break}a||this.setCursor("default")}},this.onPointerUp=i=>{if(this.activeEvent&&this.activeEvent.activeDragItem){"hand"===this.activeEvent.data.cursor&&this.setCursor("grab");let r="dynamic"===this.activeEvent.activeDragItem.obj.data.physics?.rigidBody;!1===this.activeEvent.activeDragItem.snapped&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(!1===this.eventManager.controlsManager.usePhysics||!r)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&r&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),!0===this.activeEvent.wasDragEventTriggered&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(o=>{o.stop(),null!==o.object.currentState&&o.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(o=>{o.stop()}),this.activeEvent.actionsDrag.Audio.forEach(o=>{o.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(o=>o.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(o=>o.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(o=>o.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}};let n={};e.page.traverseEntity(i=>{i.component&&(n[i.component.uuid]?n[i.component.uuid].push(i.uuid):n[i.component.uuid]=[i.uuid])}),e.page.traverseEntity(i=>{i.data?.events.filter(r=>"DragDrop"===r.data.type&&!r.data.disabled).forEach(r=>{this.events.push(new class{constructor(e,t,n,i,r,o){this.object=e,this.data=t,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=0===this.data.resetSpeed?1:8/this.data.resetSpeed+1,this.snapDampingFactor=0===this.data.snapSpeed?1:8/this.data.snapSpeed+1,this.actionsDrag=kl(t,t.dragDropActions.drag,n,i,r,this.object),this.actionsDrop=kl(t,t.dragDropActions.drop,n,i,r,this.object);let s=[];this.data.objects.forEach(a=>{let l=n.find(a);!l||!1!==l.data.visible&&(s.push(l),o[l.uuid]&&o[l.uuid].forEach(c=>{let u=n.find(c);!u||!1!==u.data.visible&&s.push(u)}))}),this.data.dropDestinations.forEach(a=>{let l=n.find(a);!l||!1!==l.data.visible&&(this.dropDestIds.push(l.uuid),o[l.uuid]&&o[l.uuid].forEach(c=>{let u=n.find(c);!u||!1!==u.data.visible&&this.dropDestIds.push(u.uuid)}))}),this.dragItems=s.map(a=>("locked"===this.data.planeMode&&(a.userData.lockedPlane=!0),a.userData.worldPosition0=(new re).setFromMatrixPosition(a.matrixWorld),{obj:a,fromPosition:(new re).setFromMatrixPosition(a.matrixWorld),pointStart:new re,pointEnd:new re,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:(new re).copy(a.position),quat0:(new Di).copy(a.quaternion),snapped:!1,orientationMatrix:new Wt,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return null!==this.activeIdx?this.dragItems[this.activeIdx]:null}dispose(){wa(this.actionsDrag),wa(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}}(i,r.data,e.page,e.sharedAssets,t,n))})})}connect(){if(!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let e=this.eventContext.domElement;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointermove",this.onPointerMove),e.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,n,i){let{getCamera:r,raycaster:o}=this.eventContext;r().getWorldDirection(Jf),Jf.negate();let s=Xm.identity();switch("parent"===i?yBe.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(qr,s,la):"local"===i&&e.matrixWorld.decompose(qr,s,la),n){case"x":qr.set(1,0,0).applyQuaternion(s),Y1.copy(Jf).cross(qr),_h.copy(qr).cross(Y1);break;case"y":qr.set(0,1,0).applyQuaternion(s),Y1.copy(Jf).cross(qr),_h.copy(qr).cross(Y1);break;case"z":qr.set(0,0,1).applyQuaternion(s),Y1.copy(Jf).cross(qr),_h.copy(qr).cross(Y1);break;case"xy":_h.set(0,0,1).applyQuaternion(s);break;case"yz":_h.set(1,0,0).applyQuaternion(s);break;case"xz":_h.set(0,1,0).applyQuaternion(s);break;case"adaptive":Jf.angleTo(la.set(0,1,0))>Math.PI/6?(qr.crossVectors(la.set(0,1,0),Jf),_h.crossVectors(qr,la)):_h.set(0,1,0);break;default:_h.copy(Jf)}Ym.setFromMatrixPosition(e.matrixWorld);let a=e.userData.lockedPlane?e.userData.worldPosition0:Ym;if(E$.setFromNormalAndCoplanarPoint(_h,a),o.ray.intersectPlane(E$,t)&&("x"===n||"y"===n||"z"===n)){let l=la.subVectors(t,a).dot(qr);t.copy(a).addScaledVector(qr,l)}}updateDragItem(e,t=!1){Ym.setFromMatrixPosition(e.obj.matrixWorld),"current"===e.reset?J_.subVectors(e.fromPosition,Ym).divideScalar(e.currentDampingFactor):"original"===e.reset?(J_.subVectors(e.obj.userData.worldPosition0,Ym).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):J_.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(Ym).divideScalar(e.currentDampingFactor),e.paused=!(e.currentDampingFactor>1)||J_.length()<.01,(this.activeEvent&&1===this.activeEvent.data.dampingFactor||t)&&bBe(e,J_.add(Ym),this.activeEvent?.data.drop&&this.activeEvent?.data.autoOrient?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},$1=new re,_4=new re,Pp=new re,Op=new re,A$=new Tc,CBe={type:"requestRender"},MBe=function(){let e=new re,t=new re;return(n,i,r)=>r>0?(e.subVectors(n,i),e.length()<=r?n:t.copy(i).add(e.normalize().multiplyScalar(r))):i}(),T$=function(){let e=new Wt;return(t,n)=>{t.position.copy(n),null!==t.parent&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof Jl&&bp(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),OBe=class extends uu{constructor(e,t){super(e),this.events=[],this.pairOfEventListeners=[],this.onMouseMove=i=>{if(!(fi.length>1)){this.eventContext.updateRaycaster(i);for(let r of this.events)void 0===r.target&&this.updateSingleEvent(r)}},this.onMouseEnter=i=>{for(let r of this.events)void 0===r.target&&(r.isReset=!1,r.currentDampingFactor=r.data.dampingFactor)},this.onMouseLeave=i=>{for(let r of this.events)void 0===r.target&&(r.data.resetOnPointerLeave&&(r.isReset=!0,r.currentDampingFactor=r.resetDampingFactor),this.updateSingleEvent(r))},this.onTargetChange=i=>()=>{this.updateSingleEvent(i)};let{page:n}=this.eventContext;n.traverseEntity(i=>{let r=i.data?.events.find(o=>"Follow"===o.data.type&&!o.data.disabled);r&&(!n.data.globalPhysics.usePhysics||"dynamic"!==i.dataPatched.physics?.rigidBody)&&this.events.push(new class{constructor(e,t,n,i,r){this.data=e,this.object=t,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new re,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...C3.defaultData,...e,...void 0===e.resetOnPointerLeave&&{resetOnPointerLeave:!1}},void 0===e.target||"cursor"===e.target||(this.target=n.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=kl(e,e.actions,n,i,r,t)}}(r.data,i,n,e.sharedAssets,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),kc&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let n of this.events)if(void 0!==n.target){let i=n.target,r=this.onTargetChange(n);this.pairOfEventListeners.push([i,r]),i.addEventListener("requestRender",r)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),kc&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[n,i]of this.pairOfEventListeners)n.removeEventListener("requestRender",i);for(let n of this.events)n.paused=!0,n.isReset=!1,wa(n.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){this.events.forEach(s=>{s.actions.Create.forEach(a=>{a.dispatchThrottled()})});let{plane:n,limitDistance:i,limitDistanceEnabled:r}=e.data;if(e.object.getWorldPosition(Pp),e.isReset)Op.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Op);else{let{getCamera:s,raycaster:a}=this.eventContext;if("custom"===n?(s().getWorldDirection(_4),_4.negate(),$1.copy(_4)):"xy"===n?$1.set(0,0,1):"xz"===n?$1.set(0,1,0):"yz"===n&&$1.set(1,0,0),A$.setFromNormalAndCoplanarPoint($1,Pp),!a.ray.intersectPlane(A$,Op))return}if(!e.isReset)if(Op.distanceTo(e.worldPosition0)>i&&r&&e.target){if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&null!==e.timeoutId&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,!e.data.resetAfterDistanceLimit)return;Op.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor}else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},1e3*e.data.snapDelay)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),!1===e.delayFinished)return;!1===e.data.enabledTranslation[0]&&(Op.x=Pp.x),!1===e.data.enabledTranslation[1]&&(Op.y=Pp.y),!1===e.data.enabledTranslation[2]&&(Op.z=Pp.z);let o=MBe(Pp,Op,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let s=$1.subVectors(o,Pp).divideScalar(e.currentDampingFactor);Pp.add(s),t&&T$(e.object,Pp),e.paused=s.length()<.01}else T$(e.object,o),e.paused=!0;e.object?.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(CBe)}},ex=new re,P2=new re,tx=new Wt,K1=new Di,eg=new Di,nx=new re,ix=new re,$m=new re,Sp=new re,x4=new Tc,EBe={type:"requestRender"},DBe={type:"changeRotation"},k$=function(){let e=new Wt;return function(t,n){null!==t.parent?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),n.premultiply(w$(e).invert()),t.rotation.setFromRotationMatrix(n),t.updateMatrix(),t instanceof Jl&&bp(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),TBe=class extends uu{constructor(e){super(e),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=n=>{if(!(fi.length>1)){this._lastMouseEvent=n,this.eventContext.updateRaycaster(n);for(let i of this.events)void 0===i.target&&this.updateSingleEvent(i)}},this.onMouseEnter=n=>{for(let i of this.events)void 0===i.target&&(i.isReset=!1,i.currentDampingFactor=i.data.dampingFactor)},this.onMouseLeave=n=>{for(let i of this.events)void 0===i.target&&(i.data.resetOnPointerLeave&&(i.isReset=!0,i.currentDampingFactor=i.resetDampingFactor),this.updateSingleEvent(i))},this.onScroll=n=>{if(this._lastMouseEvent){let i=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(i)}},this.onTargetChange=n=>()=>{this.updateSingleEvent(n)},this.createUserEventListener=n=>({eventName:i,target:r})=>{if(!i||!r)return;let o=Z_(i);o&&"LookAt"===o&&this.updateSingleEvent(n)};let{page:t}=this.eventContext;t.traverseEntity(n=>{let i=n.data?.events.find(r=>"LookAt"===r.data.type&&!r.data.disabled);i&&(!t.data.globalPhysics.usePhysics||"dynamic"!==n.dataPatched.physics?.rigidBody)&&this.events.push(new class{constructor(e,t,n){this.object=t,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new Di,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...M3.defaultData,...e,...void 0===e.resetOnPointerLeave&&{resetOnPointerLeave:!1}},void 0===e.target||"cursor"===e.target||(this.target=n.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}}(i.data,n,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),kc&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?t.addEventListener("scroll",this.onScroll):(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let n of this.events){if(void 0!==n.target){let o=this.onTargetChange(n),s=n.target;this.pairOfEventListeners.push([s,o]),s.addEventListener("requestRender",o)}let i=this.createUserEventListener(n),r=n.object;this.pairOfUserEventListeners.push([r,i]),r.addEventListener("userEvent",i)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),kc&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[n,i]of this.pairOfEventListeners)n.removeEventListener("requestRender",i);for(let[n,i]of this.pairOfUserEventListeners)n.removeEventListener("userEvent",i);for(let n of this.events)n.paused=!0,n.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){let{tilt:t,axis:n,distance:i,plane:r,limitDistance:o,enabledRotation:s,limitDistanceEnabled:a}=e.data,{getCamera:l,raycaster:c}=this.eventContext,{object:u,target:d}=e;if(u.getWorldPosition(nx),!e.isReset)if(e.target)e.target.getWorldPosition(ix);else{if("custom"===r?(l().getWorldDirection(P2),P2.negate(),x4.setFromNormalAndCoplanarPoint(P2,nx)):("xy"===r?ex.set(0,0,1):"xz"===r?ex.set(0,1,0):"yz"===r&&ex.set(1,0,0),x4.setFromNormalAndCoplanarPoint(ex,nx)),!c.ray.intersectPlane(x4,ix))return;i>0&&("custom"===r||void 0===r)&&ix.addScaledVector(P2,i)}if(e.isReset||(d?"target"===t?$m.copy(d.up).applyMatrix4(tx.extractRotation(d.matrixWorld)).normalize():s.some(h=>!1===h)?("x"===n?(Sp.set(0,0,1),!1===s[2]&&Sp.set(0,1,0)):"y"===n?(Sp.set(1,0,0),!1===s[0]&&Sp.set(0,0,1)):(Sp.set(0,1,0),!1===s[1]&&Sp.set(1,0,0)),$m.copy(Sp).applyQuaternion(e.worldQuaternion0).normalize()):$m.set(0,1,0):"custom"===r?$m.set(0,1,0):$m.copy(ex)),e.isReset)eg.copy(e.worldQuaternion0);else if(nx.distanceTo(ix)>o&&a&&d){if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&null!==e.timeoutId&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,!e.data.resetAfterDistanceLimit)return;eg.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor}else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},1e3*e.data.snapDelay)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),!1===e.delayFinished)return;(function kBe(e,t,n,i,r,o){let s=e.elements;Ms.subVectors(t,n),0===Ms.lengthSq()&&(Ms.z=1),Ms.normalize(),ca.crossVectors(i,Ms),0===ca.lengthSq()&&(1===Math.abs(i.z)?Ms.x+=1e-4:Ms.z+=1e-4,Ms.normalize(),ca.crossVectors(i,Ms)),ca.normalize(),Pd.crossVectors(Ms,ca),"x"===r?1===o.z?[ca,Pd,Ms]=[Ms,ca,Pd]:(ca.negate(),[ca,Ms]=[Ms,ca]):"y"===r?1===o.x?[ca,Pd,Ms]=[Pd,Ms,ca]:(ca.negate(),[Pd,Ms]=[Ms,Pd]):1===o.x&&(ca.negate(),[ca,Pd]=[Pd,ca]),s[0]=ca.x,s[4]=Pd.x,s[8]=Ms.x,s[1]=ca.y,s[5]=Pd.y,s[9]=Ms.y,s[2]=ca.z,s[6]=Pd.z,s[10]=Ms.z})(tx,ix,nx,$m,n,Sp),eg.setFromRotationMatrix(tx),K1.setFromUnitVectors(Sp.applyQuaternion(eg),$m),s.some(h=>!1===h)&&"target"!==t&&eg.premultiply(K1).normalize()}e.currentDampingFactor>1?(u.updateWorldMatrix(!0,!1),K1.setFromRotationMatrix(w$(u.matrixWorld)),K1.slerp(eg,1/e.currentDampingFactor),k$(u,tx.makeRotationFromQuaternion(K1)),e.paused=8*(1-K1.dot(eg))<1e-6):(k$(u,tx.makeRotationFromQuaternion(eg)),e.paused=!0),e.object?.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),u.dispatchEvent(EBe),u.dispatchEvent(DBe)}},Pd=new re,ca=new re,Ms=new re,IBe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.entered=!1,this.actions=kl(t,t.actions,i,r,o,n)}disconnect(){wa(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},RBe=class extends uu{constructor(e,t){super(e),this.eventsPerObjects={},this.objects=[],this._prevObjects=[],this.onMouseDown=r=>{fi.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseHoverEvent())},this.onMouseUp=r=>{fi.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=r=>{fi.length>1||(this.eventContext.updateRaycaster(r),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:r,target:o,reverse:s})=>{if(!r||!o)return;let a=Z_(r);a&&"MouseHover"===a&&(o.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[o.uuid]?.forEach(l=>l.dispatchUserEvent(s)))};let{page:n,sharedAssets:i}=this.eventContext;n.traverseEntity(r=>{if(r.visible&&r.data?.events.length){for(let{id:o,data:s}of r.data.events)if(!s.disabled&&"MouseHover"===s.type)try{let a=new IBe(o,s,r,n,i,t);this.eventsPerObjects[r.uuid]?this.eventsPerObjects[r.uuid].push(a):this.eventsPerObjects[r.uuid]=[a]}catch{}this.eventsPerObjects[r.uuid]?.length&&this.objects.push(r)}})}connect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),kc&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),e.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(t=>{t.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),kc&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(n=>{n.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:n,raycaster:i,page:r}=this.eventContext;if(n){let o=C2(i,r,this.objects);t=g4(o)}else this.objects.forEach(o=>{M2(i,o)&&t.push(o)})}this._prevObjects.length&&this._prevObjects.forEach(n=>{t.includes(n)||(n.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[n.uuid]?.forEach(i=>i.dispatchLeave()))}),t.length&&t.forEach(n=>{n.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[n.uuid]?.forEach(i=>i.dispatchEnter())}),this._prevObjects=t}},NBe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.scrollCounter=0,this.actions=kl(t,t.actions,i,r,o,n)}connect(){this.scrollCounter=0}disconnect(){wa(this.actions)}dispatch(e){this.actions.Transition.forEach(i=>{i.object.currentTransitionEvent!==this&&(i.object.currentTransitionEvent=this,i.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let n=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(i=>i.seek(n)),this.actions.Animation.forEach(i=>i.seek(t)),this.actions.Create.forEach(i=>i.dispatchThrottled()),this.actions.SetVariable.forEach(i=>i.checkConditions()),this.actions.SetVariable.forEach(i=>i.dispatch()),this.actions.DynamicVariablePlay.forEach(i=>i.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},FBe=class{constructor(e,t,n,i,r,o,s){this.id=e,this.data=t,this.object=n,this.domElement=o,this.eventManager=s,this.scrollStart=0,this.scrollEnd=0,this.actions=kl(t,t.actions,i,r,s,n)}computeScrollBounds(){let e=this.domElement.getBoundingClientRect(),t=document.body,n=document.documentElement,i=window.pageYOffset||n.scrollTop||t.scrollTop,o=Math.round(e.top+i-(n.clientTop||t.clientTop||0));if("enter"===this.data.startFrom){let s=window.innerHeight,a=e.height,l=this.data.enterAnchor;this.scrollStart=o-("top"===l?s:"bottom"===l?s-a:s-.5*a)}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=e,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){wa(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return void 0===this.box||0===this.box.width&&0===this.box.height&&0===this.box.top&&0===this.box.bottom}computeScroll({y:t}){this.actions.Transition.forEach(r=>{r.object.currentTransitionEvent!==this&&(r.object.currentTransitionEvent=this,r.init())});let i=Math.min(1,Math.max(0,(t-this.scrollStart)/(this.scrollEnd-this.scrollStart)));this.actions.Transition.forEach(r=>r.seek(i)),this.actions.Animation.forEach(r=>r.seek(i)),this.actions.Create.forEach(r=>r.dispatchThrottled()),this.actions.SetVariable.forEach(r=>r.checkConditions()),this.actions.SetVariable.forEach(r=>r.dispatch()),this.actions.DynamicVariablePlay.forEach(r=>r.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},LBe=class extends uu{constructor(e,t){super(e),this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([s,a])=>{a.forEach(l=>l.handleResize())})},this.onScroll=s=>{if(!this.isInview)return;let a={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([l,c])=>{l.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:a}),c.forEach(u=>u.dispatch(a))})},this.onWheel=s=>{!this.isInview||s.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([a,l])=>{a.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:s.deltaY}),l.forEach(c=>c.dispatch(s.deltaY))})},this.onUserEvent=({eventName:s,target:a,reverse:l})=>{if(!s||!a)return;let c=Z_(s);c&&"Scroll"===c&&(a.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),this.wheelEventsPerObject.get(a)?.forEach(u=>{u.dispatchUserEvent(l)}))};let{page:n,sharedAssets:i,domElement:r,isExport:o}=this.eventContext;n.traverseEntity(s=>{if(s.data?.events.length)for(let{id:a,data:l}of s.data.events)if(!l.disabled&&"Scroll"===l.type)if("load"!==l.trigger&&o){let c=new FBe(a,l,s,n,i,r,t);this.scrollEventsPerObject.has(s)?this.scrollEventsPerObject.get(s)?.push(c):this.scrollEventsPerObject.set(s,[c])}else{let c=new NBe(a,l,s,n,i,t);this.wheelEventsPerObject.has(s)?this.wheelEventsPerObject.get(s)?.push(c):this.wheelEventsPerObject.set(s,[c])}}),this.intersectionObserver=new IntersectionObserver(s=>{let a=s[0];a&&(this.isInview=a.isIntersecting)},{root:null})}connect(){this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(n=>n.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},BBe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=kl(t,t.actions,i,r,o,n)}disconnect(){wa(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof Wm?t.interaction.audioPlayer.play():t.interaction instanceof XI&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{let n=t.interaction.data.triggerAfter??"autoplay";n===e&&(t.interaction instanceof q1?t.interaction.play("autoplay"===n):t.interaction instanceof d4&&t.interaction.dispatch())})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof Wm?t.interaction.audioPlayer.play():t.interaction instanceof XI&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof q1?t.interaction.play():t.interaction instanceof d4&&t.interaction.dispatch()})}},zBe=class extends uu{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:n,isExport:i}=this.eventContext;(i?document:n).removeEventListener("pointerdown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([r,o])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),o.forEach(s=>{s.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.actions.Audio.forEach(o=>{o.interaction instanceof Wm&&o.interaction.audioPlayer.play()}),r.actions.Video.forEach(o=>{o.interaction instanceof q1&&o.interaction.play("autoplay"===(o.interaction.data.triggerAfter??"autoplay"))})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>{r.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:n,target:i,reverse:r})=>{if(!n||!i)return;let o=Z_(n);o&&"Start"===o&&(i.dispatchEvent({type:"beginEvent",eventName:"Start"}),this.eventsPerObject.get(i)?.forEach(s=>{s.dispatchUserEvent(r)}),this.eventsAfterPerObject.get(i)?.forEach(s=>{s.dispatchUserEvent(r)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext;if(t.traverseEntity(n=>{if(n.data?.events.length)for(let{id:i,data:r}of n.data.events){if(r.disabled||"Start"!==r.type)continue;let o=new BBe(i,r,n,t,e,this.eventManager);(o.actions.Transition.length||o.actions.Animation.length||o.actions.SwitchCamera.length||o.actions.Create.length||o.actions.Destroy.length||o.actions.SceneTransition.length||o.actions.Reset.length||o.actions.SetVariable.length||o.actions.DynamicVariablePlay.length)&&(this.eventsPerObject.has(n)?this.eventsPerObject.get(n)?.push(o):this.eventsPerObject.set(n,[o])),o.actions.Audio.length&&(this.eventsAfterPerObject.has(n)?this.eventsAfterPerObject.get(n)?.push(o):this.eventsAfterPerObject.set(n,[o])),o.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(n)?this.eventsAfterPerObject.get(n)?.push(o):this.eventsAfterPerObject.set(n,[o]))}}),[...this.eventsAfterPerObject.values()].some(n=>n.length)){if(0===this.eventManager.activateCount){let{domElement:n,isExport:i}=this.eventContext,r=i?document:n;r.addEventListener("pointerdown",this.onMouseDown,{once:!0}),r.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),r.addEventListener("pointerdown",this.onAny),r.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([o,s])=>{o.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([n,i])=>{n.dispatchEvent({type:"beginEvent",eventName:"Start"}),i.forEach(r=>r.dispatch()),n.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,n=t?document:e;n.removeEventListener("pointerdown",this.onMouseDown),n.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),n.removeEventListener("pointerdown",this.onAny),n.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([i,r])=>{i.removeEventListener("userEvent",this.onUserEvent),r.forEach(o=>o.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(n=>n.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},UBe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=kl(t,t.actions,i,r,o,n),this.target=t.target,this.useToggle="Toggle"===t.runMode}disconnect(){wa(this.actions)}dispatch(e){this.disabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(t)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()})):(this.actions.Transition.forEach(t=>{!1===this.alreadyPlayedNonTogglingActions.has(t)&&t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e??!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}))}},jBe=class extends uu{constructor(e,t,n,i,r){super(e),this.sharedVariables=t,this.eventManager=n,this.needsMouse=i,this.needsRaycast=r,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.events=[],this.onFrame=o=>{this.rafId=window.requestAnimationFrame(this.onFrame);let s=new Date,a=[],l=[];for(let d=0;d<this.propertiesToWatch.length;d++){let{objectId:h,property:f,prevValue:v}=this.propertiesToWatch[d],y=this.eventContext.scene.find(h),b=O3.propertyPaths[f];if("width"===b[0]||"height"===b[0]||"depth"===b[0])y=y.geometry.userData.parameters[b[0]];else for(let w=0;w<b.length;w++)y=y[b[w]];null===v?this.propertiesToWatch[d].prevValue=y instanceof re?y.clone():y:(y instanceof re?!y.equals(v):v!==y)&&(l.push({objId:h,property:f}),y instanceof re?this.propertiesToWatch[d].prevValue.copy(y):this.propertiesToWatch[d].prevValue=y)}for(let d=0;d<this.variablesToWatch.length;d++){let{id:h,prevValue:f}=this.variablesToWatch[d],v=this.shared.getVariable(h);v!==f&&(a.push(h),this.variablesToWatch[d].prevValue=v)}for(let d=0;d<this.dynamicVars.length;d++){let{id:h,expectedTime:f,last:v,data:y,timerSeconds:b,startValue:w}=this.dynamicVars[d],O=1e3;if("timer"!==y.dynamicVariableType&&"stopwatch"!==y.dynamicVariableType||"number3decimal"!==y.format?"counter"===y.dynamicVariableType?O=y.updateInterval:"random"===y.dynamicVariableType&&(O=y.isStatic?1/0:y.updateInterval):O=1,-1!==f){if("Stopped"!==this.shared.getDynamicVariablePlayState(h)&&"Restarted"!==this.shared.getDynamicVariablePlayState(h)||(this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime=o+O,"counter"===y.dynamicVariableType&&this.shared.getVariable(h)!==w&&(this.shared.updateVariable(h,w),this.eventManager.requestRender()),("timer"===y.dynamicVariableType||"stopwatch"===y.dynamicVariableType)&&this.dynamicVars[d].timerSeconds!==w&&(this.dynamicVars[d].timerSeconds=w,this.shared.updateVariable(h,eu.getFormattedTimerTime(w,y)),this.eventManager.requestRender()),"Restarted"===this.shared.getDynamicVariablePlayState(h)&&this.shared.setDynamicVariablePlayState(h,"Playing"),"Stopped"!==this.shared.getDynamicVariablePlayState(h))){if("Paused"===this.shared.getDynamicVariablePlayState(h)){void 0===this.dynamicVars[d].deltaToExpectedTime&&(this.dynamicVars[d].deltaToExpectedTime=Math.max(this.dynamicVars[d].expectedTime-o,0)),this.dynamicVars[d].last=o-(O-this.dynamicVars[d].deltaToExpectedTime),this.dynamicVars[d].expectedTime=o+this.dynamicVars[d].deltaToExpectedTime;continue}if(this.dynamicVars[d].deltaToExpectedTime=void 0,o>=f)if(this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime+=O,"random"===y.dynamicVariableType){let S=y.min+Math.random()*(y.max-y.min),D=y.decimals;S=Math.round(S*Math.pow(10,D))/Math.pow(10,D),this.shared.updateVariable(h,S),a.push(h),this.eventManager.requestRender()}else if("counter"===y.dynamicVariableType){if(0===y.increment)continue;let S=this.shared.getVariable(h),D=this.shared.getDynamicVariableToggleIsForward(h)??!0,V=this.shared.getVariable(h)+y.increment*(D?1:-1);y.hasEnd&&(V=y.increment>0?Yn.clamp(V,w,y.endValue):Yn.clamp(V,y.endValue,w),V===w&&this.shared.setDynamicVariableToggleIsForward(h,void 0),y.repeat?V===y.endValue&&(V=w):(V===w||V===y.endValue)&&this.shared.setDynamicVariablePlayState(h,"Paused")),V!==S&&(a.push(h),this.shared.updateVariable(h,V),this.eventManager.requestRender())}else if("time"===y.dynamicVariableType)this.shared.updateVariable(h,Kq(s,y)),a.push(h),this.eventManager.requestRender();else{let S=Nc.isTextValue(y.endValue)?I$(y.endValue.textValue):y.endValue,D=this.shared.getDynamicVariableToggleIsForward(h)??!0,V=b+(o-v)/1e3*("timer"===y.dynamicVariableType?-1:1)*(D?1:-1);V=Math.max(V,0),y.hasEnd&&(V="stopwatch"===y.dynamicVariableType?Yn.clamp(V,w,S):Yn.clamp(V,S,w),V===w&&this.shared.setDynamicVariableToggleIsForward(h,void 0),y.repeat?Math.abs(V-S)<("number3decimal"===y.format?1e-4:.1)&&(V=w):(Math.abs(V-w)<("number3decimal"===y.format?1e-4:.1)||Math.abs(V-S)<("number3decimal"===y.format?1e-4:.1))&&this.shared.setDynamicVariablePlayState(h,"Paused")),V!==b&&(a.push(h),this.dynamicVars[d].timerSeconds=V,this.shared.updateVariable(h,eu.getFormattedTimerTime(V,y)),this.eventManager.requestRender())}}}else this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime=o+O}this.needsMouse&&this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,this.events.forEach(d=>{"mouseProperty"===d.data.variableId&&(d.dispatch(),this.eventManager.requestRender())}));let c=!1;this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,c=!0);let u=!1;this.shared.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=this.shared.raycastProperty,u=!0),this.events.forEach(d=>{(a.includes(d.data.variableId)||l.find(h=>h.objId===d.data.objectId&&h.property===d.data.property)||"mouseProperty"===d.data.variableId&&c||"raycastProperty"===d.data.variableId&&u)&&(d.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()},e.page.traverseEntity(o=>{o.data?.events.filter(s=>"VariableChange"===s.data.type&&!s.data.disabled).forEach(s=>{this.events.push(new VBe(o.uuid,s.data,o,e.page,e.sharedAssets,n))})}),this.propertiesToWatch=this.events.filter(o=>"objectProperty"===o.data.variableId&&null!==o.data.objectId).map(o=>({objectId:o.data.objectId,property:o.data.property,prevValue:null})),this.shared=e.sharedAssets,this.sharedVariables.forEach(({id:o,data:s})=>{if(!("dynamicVariableType"in s))return void(this.events.find(l=>l.data.variableId===o)&&this.variablesToWatch.push({id:o,prevValue:this.shared.getVariable(o)}));let a;if("timer"===s.dynamicVariableType||"stopwatch"===s.dynamicVariableType){let l;if(Nc.isTextValue(s.value)&&Array.isArray(s.value.textValue)){let c=s.value.textValue;l=3===c.length?c[2]+60*c[1]+3600*c[0]:c[1]+60*c[0]}else l=s.value;a=l,this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:s,timerSeconds:l,startValue:a})}else"time"===s.dynamicVariableType&&this.shared.updateVariable(o,Kq(new Date,s)),"counter"===s.dynamicVariableType&&(a=Nc.isTextValue(s.value)?I$(s.value.textValue):s.value),this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:s,startValue:a})})}pause(){this.pauseTime=Date.now()}resume(){let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},VBe=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.actions=kl(t,t.actions,i,r,o,n)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch())}dispose(){wa(this.actions)}};function I$(e){return 3===e.length?e[2]+60*e[1]+3600*e[0]:e[1]+60*e[0]}var N$,dr,Na,XBe={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1};XAe.then(e=>{N$=e,dr=new e.Vec3,Na=new e.Vec3});var $Be=new re;function ZBe(e){let t=!1;return e.scene.objects.forEach(n=>{"Page"===n.data.type&&!t&&n.data.publish.gameControlObject&&m_.traverseModuleInstances(e,n.id,(i,r,o)=>{for(let s of o)"GameControl"===s.data.type&&s.data.navmesh.enabled&&(t=!0)})}),t}var JBe={type:"change"},F$={type:"changeZoom"},e6e={type:"changePan"},Q1={type:"start"},Z1={type:"end",changed:!0},t6e={type:"end",changed:!1},w4=new Di,L$=new Ve,n6e=2*Math.PI,C4=new re,O2=new Ve,M4=new re,S2=new Di,B$=new Wt,o6e={type:"requestRender"},z$=class extends Ia{constructor(e,t,n={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=n,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,3,1],this.offset=new re,this.eye=new re,this.lastPosition=new re,this.lastQuaternion=new Di,this.current=new Ve,this.overShoot=new Ve,this.overRatio=new Ve,this.spherical=new qj,this.sphericalDelta=new qj,this.panOffset=new re,this.panLeftV=new re,this.panUpV=new re,this.panV=new re,this.rotateStart=new Ve,this.rotateEnd=new Ve,this.rotateDelta=new Ve,this.panStart=new Ve,this.panEnd=new Ve,this.panDelta=new Ve,this.dollyStart=new Ve,this.dollyEnd=new Ve,this.dollyDelta=new Ve,this.rotationRangeFactor=new Ve,this.panRangeFactor=new Ve,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=i=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=i.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(M4,S2,C4),this.offset.copy(M4).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&-1===this.state&&this.rotateLeft((!0===this.autoRotateClockwise?1:-1)*this.getAutoRotationAngle()),0!==this.rotationLimitsMode&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),2!==this.rotationLimitsMode&&(this.spherical.phi+=this.sphericalDelta.phi),(1!==this.rotationLimitsMode||!0===this.autoRotate)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),0!==this.panLimitsMode&&(this.target.applyQuaternion(w4.copy(S2).invert()),this.panOffset.applyQuaternion(w4),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(S2),this.panOffset.applyQuaternion(S2)),2===this.panLimitsMode&&(this.panOffset.y=0),1===this.panLimitsMode&&(this.panOffset.x=0),-1!==this.state||this.gesture?(this.target.add(this.panOffset),this.panOffset.set(0,0,0)):(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)),this.offset.setFromSpherical(this.spherical),M4.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(B$.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(B$));let i=this.spherical.phi%n6e;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(so.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),i>0&&i>Math.PI||i<0&&i>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),-1===this.state||!0===this.enableDamping){let r=1===this.hoverRotatePanMode?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-r,this.sphericalDelta.phi*=1-r}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>.01||8*(1-this.lastQuaternion.dot(this.object.quaternion))>1e-8?(this.dispatchEvent(JBe),this.object.dispatchEvent(o6e),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=i=>{!1!==this.enabled&&("touch"===i.pointerType||"pen"===i.pointerType&&kc?this.onPointerDownTouch(i):this.onPointerDownMouse(i),-1!==this.state&&(this.isPointerDown=!0,this.dispatchEvent(Q1),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),i.stopPropagation(),"touch"===i.pointerType||"pen"===i.pointerType&&kc||this.domElement.setPointerCapture(i.pointerId)))},this.onPointerLeave=i=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(1===this.hoverRotatePanMode?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,C4.subVectors(this.position0,this.target0),this.spherical.setFromVector3(C4),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):2===this.hoverRotatePanMode&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=i},this.onPointerEnter=i=>{this.resetHoverEffectOnPointerLeave||void 0===this.pointerLeaveEvent?O2.set(i.clientX-this.domElement.clientWidth/2,i.clientY-this.domElement.clientHeight/2):O2.set(i.clientX-this.pointerLeaveEvent.clientX,i.clientY-this.pointerLeaveEvent.clientY),1===this.hoverRotatePanMode?(this.rotateDelta.copy(O2).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(L$,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(i.clientX,i.clientY)):2===this.hoverRotatePanMode&&(this.panDelta.copy(O2).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(i.clientX,i.clientY)),this.update()},this.onPointerMove=i=>{!1!==this.enabled&&(this.checkRaycastLock()||("touch"===i.pointerType||"pen"===i.pointerType&&kc?this.onPointerMoveTouch(i):this.onPointerMoveMouse(i),i.stopPropagation()))},this.onPointerUp=i=>{this.isPointerDown=!1,0===fi.length&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),fi.length>1&&i.preventDefault(),this.dispatchEvent(this.hasChange?Z1:t6e),this.state=-1,i&&(i.stopPropagation(),"touch"===i.pointerType||"pen"===i.pointerType&&kc||this.domElement.releasePointerCapture(i.pointerId))},this.onPointerDownMouse=i=>{let r;switch(r=this.useKeyEvents?this.mouseButtons[i.button]:this.mouseButtonsPlay[i.button],r){case 0:if(!0!==i.altKey||i.shiftKey||GM(i)){if(" "===this.key){if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}}else{if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}break;case 4:if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2;break;case 3:if(GM(i)||i.shiftKey){if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}else{if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}break;case 5:if(GM(i)||i.shiftKey){if(!1===this.enableRotate)return;this.handleMouseDownRotate(i),this.state=0}else{if(!1===this.enablePan)return;this.handleMouseDownPan(i),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=i=>{switch(this.state){case 0:if(!1===this.enableRotate)return;this.handleMouseMoveRotate(i);break;case 1:if(!1===this.enableZoom)return;this.handleMouseMoveDolly(i);break;case 2:if(!1===this.enablePan)return;this.handleMouseMovePan(i)}this.object.wasMovedByUser=!0},this.onPointerDownTouch=i=>{switch(fi.length>1&&i.preventDefault(),this.touches[fi.length-1]){case 0:if(!1===this.enableRotate)return void(this.state=-1);this.handleTouchStartRotate(),this.state=3;break;case 1:if(!1===this.enablePan)return void(this.state=-1);this.handleTouchStartPan(),this.state=4;break;case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this.handleTouchStartDollyPan(),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=i=>{switch(fi.length>1&&i.preventDefault(),this.state){case 3:if(!1===this.enableRotate)return;this.handleTouchMoveRotate(i),this.update();break;case 4:if(!1===this.enablePan)return;this.handleTouchMovePan(i),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this.handleTouchMoveDollyPan(i),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this.handleTouchMoveDollyRotate(i),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=XT(()=>this.dispatchEvent(Z1),33),this.onMouseWheel=i=>{!1===this.enabled||!1===this.enableZoom&&!1===this.enablePan||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&i.preventDefault(),this.dispatchEvent(Q1),this.handleMouseWheel(i),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=i=>{if(i.preventDefault(),!1!==this.enabled&&!this.checkRaycastLock()&&!KT)if("gesturechange"===i.type){if(!1===this.enableZoom||!1===this.isTouchZoom)return;this.dispatchEvent(Q1),i.scale>this.prevScale?this.dollyIn(this.getZoomScale()):i.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=i.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(Z1)},this.onContextMenu=i=>{i.preventDefault()},this.onTouchEnd=i=>{i.preventDefault()},this.onKeyDown=i=>{!1!==this.enabled&&(this.key=i.key," "===i.key&&this.dispatchEvent(Q1))},this.onKeyUp=i=>{!1!==this.enabled&&(this.key=void 0,-1!==this.state&&"Alt"===i.key&&this.onPointerUp(fi[0])," "===i.key&&this.dispatchEvent(Z1))},this.onPointerHover=i=>{"mouse"!==i.pointerType||!1===this.enabled||-1!==this.state||2===this.hoverRotatePanMode&&this.isPanOverShoot||1===this.hoverRotatePanMode&&this.isRotateOverShoot||(this.isPointerDown=!0,2===this.hoverRotatePanMode?this.handleMouseMovePan(i,this.hoverRotatePanStrength):1===this.hoverRotatePanMode&&this.handleMouseMoveRotate(i,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=i=>{i.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.addEventListenersToCamera()}dispatchEvent(e){this.hasChange="start"!==e.type,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,0!==this.hoverRotatePanMode&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),0!==this.hoverRotatePanMode&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents="window"===t,0!==this.hoverRotatePanMode&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.hoverRotatePanStrength=(e.hoverRotatePanStrength/100)**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let i=this.object.getTarget().applyQuaternion(w4.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+i.y,this.maxV=e.panVerticalOffset.max+i.y,this.minH=-e.panHorizontalOffset.min+i.x,this.maxH=e.panHorizontalOffset.max+i.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=xh(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=xh(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=xh(xh(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=xh(xh(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,1===e.orbitTouches&&(this.touches[0]=0),1===e.panTouches&&(this.touches[0]=1),2===e.orbitTouches&&(this.touches[1]=3),2===e.panTouches&&(this.touches[1]=2),3===e.orbitTouches&&(this.touches[2]=0),3===e.panTouches&&(this.touches[2]=1),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),0!==this.hoverRotatePanMode&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,n,i,r,o,s,a){let l,c,u;this.overShoot.set(0,0),e instanceof re?(l=e.x,c=e.y,this.current.set(this.target.x,this.target.y),u=!0):(l=e.theta,c=e.phi,this.current.set(xh(this.spherical.theta),xh(this.spherical.phi)),u=!1),0===n&&(this.current.x+=l,this.current.y+=c),(3===t||2===t)&&(!u&&this.isThetaFlipped?this.current.x>i&&this.current.x<0?this.overShoot.x=i-this.current.x:this.current.x<r&&this.current.x>0&&(this.overShoot.x=r-this.current.x):this.current.x>i?this.overShoot.x=i-this.current.x:this.current.x<r&&(this.overShoot.x=r-this.current.x)),(3===t||1===t)&&(this.current.y>o?this.overShoot.y=o-this.current.y:this.current.y<s&&(this.overShoot.y=s-this.current.y)),u||(this.overShoot.x=xh(this.overShoot.x),this.overShoot.y=xh(this.overShoot.y)),0!==n?(this.overRatio.copy(this.overShoot).divide(a),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),1===n&&(this.overRatio.x=U$(Math.abs(this.overRatio.x)),this.overRatio.y=U$(Math.abs(this.overRatio.y))),this.isPointerDown||1===n?2===n&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(l*this.overShoot.x<0&&!this.thetaIsFree&&(l*=1-this.overRatio.x),c*this.overShoot.y<0&&!this.phiIsFree&&(c*=1-this.overRatio.y)):2===n&&(!u&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||u&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(l=.05*this.overShoot.x),this.phiIsFree||(c=.05*this.overShoot.y),u?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):u?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(l+=this.overShoot.x,c+=this.overShoot.y),e instanceof re?(e.x=l,e.y=c):(this.thetaIsFree||(e.theta=l),this.phiIsFree||(e.phi=c))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=!0===e?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let n=this.domElement;if(n&&this.object.isPerspectiveCamera){this.panV.copy(this.object.position).sub(this.target);let r=this.panV.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*r/n.clientHeight,this.object.matrixWorld),this.panUp(2*t*r/n.clientHeight,this.object.matrixWorld)}else n&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrixWorld));this.dispatchEvent(e6e)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(F$)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(F$)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(Q1),this.dollyOut(e),this.dispatchEvent(Z1)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(Q1),this.dollyIn(e),this.dispatchEvent(Z1)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){void 0!==e.movementX?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(L$,-this.object.angleOffsetFromUp);let i=this.useWindowEvents?window.innerHeight:this.domElement.clientHeight,r=2*Math.PI*this.rotateDelta.x/i,o=2*Math.PI*this.rotateDelta.y/i;this.rotateLeft(r),this.rotateUp(o),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){void 0!==e.movementX?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(!1===HAe&&!1===GM(e)&&!0===function s6e(e){return 0===e.wheelDeltaY||0===e.deltaY?!(HM&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120)&&(e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:0===e.deltaMode):e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:0===e.deltaMode}(e)){if(!1===this.enablePan)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):this.pan(this.panDelta.x,e.shiftKey?0:this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(!1===this.enableZoom)return;0===e.deltaY?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){2===fi.length?this.rotateStart.set(.5*(fi[0].pageX+fi[1].pageX),.5*(fi[0].pageY+fi[1].pageY)):this.rotateStart.set(fi[0].pageX,fi[0].pageY)}handleTouchStartPan(){2===fi.length?this.panStart.set(.5*(fi[0].pageX+fi[1].pageX),.5*(fi[0].pageY+fi[1].pageY)):this.panStart.set(fi[0].pageX,fi[0].pageY)}handleTouchStartDolly(){let e=fi[0].pageX-fi[1].pageX,t=fi[0].pageY-fi[1].pageY,n=Math.sqrt(e*e+t*t);this.dollyStart.set(0,n)}handleTouchStartDollyPan(){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(2===fi.length){let n=QT(e);this.rotateEnd.set(.5*(e.pageX+n.x),.5*(e.pageY+n.y))}else{if(e.pointerId!==fi[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(2===fi.length){let t=QT(e);this.panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}else{if(e.pointerId!==fi[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=QT(e),n=e.pageX-t.x,i=e.pageY-t.y,r=Math.sqrt(n*n+i*i);this.dollyEnd.set(0,r),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let e=this.options?.showCameraLock;return e&&e(),!0}}return!1}};function xh(e){let t=2*Math.PI;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function U$(e){return 1-Math.pow(1-e,4)}var Mr,j$=class{constructor(e,t,n,i,r,o){this.id=e,this.data=t,this.object=n,this.page=i,this.currentIntersectedObjects=[],this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=kl(t,t.actions,i,r,o,n),this.target=t.target,this.useToggle="Toggle"===t.runMode,this.triggeringObjects=t.triggeringObjects.map(s=>i.scene.find(s))}isValidTriggeringObject(e){return"all"===this.target||this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){wa(this.actions)}dispatch(){this.disabled||this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(e)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.useToggle?(this.actions.Transition.forEach(e=>{e.toggle()}),this.actions.SwitchCamera.forEach(e=>{e.toggle()})):(this.actions.Transition.forEach(e=>{!1===this.alreadyPlayedNonTogglingActions.has(e)&&e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()})),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}};KAe.then(e=>Mr=e);var Us=new re,hu=new Di,tg=new re,P4=new ya(0,0,0,"YXZ"),V$=new ya(0,0,0,"XYZ"),pu=new re,O4=new re,S4=new re(1,1,1),J1=new Di,E2=new Wt,H$=new Wt,a6e={type:"updateMatrix"},G$=new Di,E4=new $l,D4={type:"beginEvent",eventName:"Collision"},l6e={type:"beginEvent",eventName:"Trigger"},D2=e=>e.states.some(t=>void 0!==t.data.position||void 0!==t.data.rotation||void 0!==t.data.hiddenMatrix||void 0!==t.data.cloner||void 0!==t.data.pathSnapping);function u6e(e){let t=this._clip.duration,n=this._clip.start??0,i=this.loop,r=this.time+e,o=this._loopCount,s=i===gA;if(0===e)return-1===o?r:s&&1==(1&o)?t-(r-n):r;if(i===cU){-1===o&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===o&&(e>=0?(o=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),r>=t||r<n){let a=Math.floor((r-n)/(t-n));r-=(t-n)*a,o+=Math.abs(a);let l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s||(r=e>0?t:n,1===this.repetitions&&(r=t)),this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===l){let c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(s&&1==(1&o))return t-(r-n)}return r}var ng,W$=!1,A4=new WeakMap,p6e=class extends pT{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){let r=new fT(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{this.decodeDracoFile(o,t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){return this.decodeGeometry(e,{attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n}).then(t)}decodeGeometry(e,t){let n=JSON.stringify(t);if(A4.has(e)){let a=A4.get(e);if(a.key===n)return a.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i,r=this.workerNextTaskID++,s=this._getWorker(r,e.byteLength).then(a=>(i=a,new Promise((l,c)=>{i._callbacks[r]={resolve:l,reject:c},i.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(a=>this._createGeometry(a.geometry));return s.catch(()=>!0).then(()=>{i&&r&&this._releaseTask(i,r)}),A4.set(e,{key:n,promise:s}),s}_createGeometry(e){let t=new ei;e.index&&t.setIndex(new pi(e.index.array,1));for(let n=0;n<e.attributes.length;n++){let i=e.attributes[n];t.setAttribute(i.name,new pi(i.array,i.itemSize))}return t}_loadLibrary(e,t){let n=new fT(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,r)=>{n.load(e,i,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{let i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);let r=f6e.toString(),o=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(r){let o=r.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,r){return i._taskLoad>r._taskLoad?-1:1});let n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}};function f6e(){let e,t;function r(s,a,l,c,u,d){let h=d.num_components(),f=l.num_points()*h,v=f*u.BYTES_PER_ELEMENT,y=function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}(s,u),b=s._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,y,v,b);let w=new u(s.HEAPF32.buffer,b,f).slice();return s._free(b),{name:c,array:w,itemSize:h}}onmessage=function(s){let a=s.data;switch(a.type){case"init":e=a.decoderConfig,t=new Promise(function(u){e.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(e)});break;case"decode":let l=a.buffer,c=a.taskConfig;t.then(u=>{let d=u.draco,h=new d.Decoder,f=new d.DecoderBuffer;f.Init(new Int8Array(l),l.byteLength);try{let v=function n(s,a,l,c){let h,f,u=c.attributeIDs,d=c.attributeTypes,v=a.GetEncodedGeometryType(l);if(v===s.TRIANGULAR_MESH)h=new s.Mesh,f=a.DecodeBufferToMesh(l,h);else{if(v!==s.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");h=new s.PointCloud,f=a.DecodeBufferToPointCloud(l,h)}if(!f.ok()||0===h.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());let y={index:null,attributes:[]};for(let b in u){let O,S,w=self[d[b]];if(c.useUniqueIDs)S=u[b],O=a.GetAttributeByUniqueId(h,S);else{if(S=a.GetAttributeId(h,s[u[b]]),-1===S)continue;O=a.GetAttribute(h,S)}y.attributes.push(r(s,a,h,b,w,O))}return v===s.TRIANGULAR_MESH&&(y.index=function i(s,a,l){let c=3*l.num_faces(),u=4*c,d=s._malloc(u);a.GetTrianglesUInt32Array(l,u,d);let h=new Uint32Array(s.HEAPF32.buffer,d,c).slice();return s._free(d),{array:h,itemSize:1}}(s,a,h)),s.destroy(h),y}(d,h,f,c),y=v.attributes.map(b=>b.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(f),d.destroy(h)}})}}}function m6e(e){return T4.apply(this,arguments)}function T4(){return T4=(0,gs.Z)(function*(e){if(ng){let n,t={attributeIDs:ng.defaultAttributeIDs,attributeTypes:ng.defaultAttributeTypes,useUniqueIDs:!1};try{n=yield ng.decodeGeometry(new Int8Array(e).buffer,t)}catch(i){console.error(i)}if(n)return{index:n.index?{array:n.index.array}:void 0,attributes:Object.entries(n.attributes).map(([i,r])=>({name:i,itemSize:r.itemSize,array:r.array}))}}return null}),T4.apply(this,arguments)}function k4(){return k4=(0,gs.Z)(function*(e,t){let[n,i]=kH(x3.deserialize(new Uint8Array(e)));XG(n);let r=[];n.scene.objects.traverse((o,s)=>{"Mesh"===s.type&&"NonParametricGeometry"===s.geometry.type&&void 0!==s.geometry.data.draco&&r.push(s)}),r.length&&(yield function g6e(){return ng||(ng=new p6e).setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload(),ng.decoderPending}());for(let o of r){let s=yield m6e(Fs(o.geometry.data.draco));if(s){s.index&&(o.geometry.data.index={array:s.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let a={};s.attributes.forEach(({name:l,array:c,itemSize:u})=>{a[l]={array:c,itemSize:u,type:"Float32Array",normalized:!1}}),o.geometry.data.attributes=a,o.geometry.data.draco=void 0}}return t&&t(n),i.result().data}),k4.apply(this,arguments)}var y6e=class{constructor(e,t,n,i,r,o,s){this.id=e,this.data=t,this.dataEvent=n,this.object=i,this.stage=!1,this.actions=kl(n,t.actions,r,o,s,i)}disconnect(){wa(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},b6e=class extends uu{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(n,i)=>{this.breakpoints.forEach(r=>{let a,o=P3.deviceToSize(r.data.size),s="horizontal"===r.dataEvent.orientation?n:i;switch(r.data.operator){case"<":a=s<o[0];break;case">":a=s>o[0];break;case"<>":a=s>o[0]&&s<o[1]}r.stage!==a&&(r.stage=a,r.stage?r.dispatchIn():r.dispatchOut())})},this.onResizeObserver=new ResizeObserver(n=>{for(let i of n){let{width:r,height:o}=i.contentRect;this.resize(r,o)}})}connect(){let{page:e,sharedAssets:t,domElement:n}=this.eventContext;this.onResizeObserver.observe(n),e.traverseEntity(i=>{if(i.visible&&i.data?.events.length)for(let{data:r}of i.data.events)r.disabled||"Resize"===r.type&&r.breakpoints.forEach(({data:o,id:s})=>{try{let a=new y6e(s,o,r,i,e,t,this.eventManager);this.breakpoints.push(a)}catch{}})})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}};function P6e(e){let t;if(e.index)for(let n=0;n<e.index.array.length;n+=3)t=e.index.array[n],e.index.array[n]=e.index.array[n+2],e.index.array[n+2]=t}function rx(e){return e instanceof z_?"SubdivObject":"NonParametricGeometry"===e.geometry.type?"NonParametric":"Mesh"}var D6e=ma(eve(),1),A6e=new Ve;const I6e=["myVideo"];function R6e(e,t){if(1&e){const n=xr();x(0,"div",157)(1,"div",158)(2,"a",159)(3,"img",160),rt("mouseenter",function(){const o=En(n).index;return kn(nt().onMouseEnter(o))})("mouseleave",function(){return En(n),kn(nt().onMouseLeave())}),M(),x(4,"div",161)(5,"p",162),A(6),M(),x(7,"p",163),ce(8,"span",164),M()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=nt();se(2),Ul("href",n.link,Ce),se(1),Iu("galleryimg",i,""),jl("src","",r.imagepath,"",n.image,"",Ce),se(3),$s(n.name),se(2),We("innerHTML",n.desc,vc)}}function N6e(e,t){if(1&e&&(x(0,"a",166),ce(1,"img",167),x(2,"div",161)(3,"p",162),A(4),M(),x(5,"p",163),ce(6,"span",164),M()()()),2&e){const n=nt().$implicit,i=nt();Ul("href",n.link,Ce),se(1),jl("src","",i.imagepath,"",n.project_images[0],"",Ce),se(3),$s(n.name),se(2),We("innerHTML",n.desc,vc)}}function F6e(e,t){if(1&e&&(es(0),tt(1,N6e,7,5,"ng-template",165),ts()),2&e){const n=t.$implicit,i=t.index;se(1),We("id",n+i)}}function L6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/dnour.svg",Ce)}}function B6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/crystal.svg",Ce)}}function z6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/miniaar.svg",Ce)}}function U6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/bni.svg",Ce)}}function j6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/angle.svg",Ce)}}function V6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/pakhis.svg",Ce)}}function H6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/drminnie.svg",Ce)}}function G6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/veddentta.svg",Ce)}}function W6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/autokoorosh.svg",Ce)}}function q6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/fractal.svg",Ce)}}function Y6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/aetrio.svg",Ce)}}function X6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/wrae.svg",Ce)}}function $6e(e,t){if(1&e&&(x(0,"div",168)(1,"a",169),ce(2,"img",170),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/img/home/logos/beyou.svg",Ce)}}function K6e(e,t){1&e&&(x(0,"div",180)(1,"div"),A(2," Name is required. "),M()())}function Q6e(e,t){if(1&e&&(x(0,"div",180)(1,"div"),A(2),M()()),2&e){const n=nt(2);se(2),ro(" ",n.hasEmailError("email","required")," ")}}function Z6e(e,t){if(1&e){const n=xr();x(0,"div",133)(1,"h5",171),A(2),M(),x(3,"button",135),rt("click",function(){return kn(En(n).$implicit.dismiss("Cross click"))}),x(4,"span",136),A(5," \xd7 "),M()()(),x(6,"div",137)(7,"div",172)(8,"div",1)(9,"div",2)(10,"div",115)(11,"div",173)(12,"form",174),rt("ngSubmit",function(){return En(n),kn(nt().submitPayment())}),x(13,"div",175)(14,"div",140),ce(15,"input",176),x(16,"label",142),A(17,"What's your name?"),M(),tt(18,K6e,3,0,"div",177),M(),x(19,"div",140),ce(20,"input",178),x(21,"label",142),A(22,"What\u2019s your e-mail?"),M(),tt(23,Q6e,3,1,"div",177),M(),x(24,"div",149)(25,"div",150),ce(26,"input",179),M(),x(27,"div",152)(28,"button",153),rt("click",function(){return En(n),kn(nt().closePopUp())}),A(29,"Cancel"),M()()()()()()()()()()()}if(2&e){const n=nt();se(2),ro(" Complete Your Payment - ",n.paymentData.name," "),se(10),We("formGroup",n.paymentForm),se(6),We("ngIf",n.submitted&&n.hasError("name","required")),se(5),We("ngIf",n.submitted&&n.hasEmailError("email","required"))}}function J6e(e,t){1&e&&(x(0,"div",181),A(1," Email is required. "),M())}function eze(e,t){1&e&&(x(0,"div",181),A(1," R-Email is required. "),M())}function tze(e,t){if(1&e&&(x(0,"div",182),A(1),M()),2&e){const n=nt();se(1),ro(" ",n.successMessage," ")}}function nze(e,t){if(1&e&&(x(0,"div",183),A(1),M()),2&e){const n=nt();se(1),ro(" ",n.errorMessage," ")}}function ize(e,t){1&e&&(x(0,"div",184),A(1," Sending your message, please wait... "),M())}const rze=function(e){return{width:e}};let oze=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10)}constructor(i,r,o,s,a,l,c,u,d,h,f,v,y){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=u,this.http=d,this.projectservice=h,this.modalService=f,this.activeModal=v,this.payementservice=y,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:2},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.formData={name:"",email:"",contact:"",rname:"",remail:"",rcontact:""},this.successMessage="",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,this.tabTitle="Start your eCommerce",this.hasError=(b,w)=>this.paymentForm.controls[b].hasError(w),this.hasEmailError=(b,w)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(w),this.baseUrl=Dt_baseUrl+"/assets",this.imagepath=Dt_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",Wl.required],email:["",Wl.required]}),setTimeout(()=>{const i=document.getElementById("canvas");this.spline=new class{constructor(e,{renderOnDemand:t,renderMode:n="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=i=>{this.time=i,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,this._perfs?.start(),!this._renderer||!this._isPaused&&("manual"===this.renderMode&&!this._renderRequested||"auto"===this.renderMode&&this._skipRender)||(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&(this._eventManager.handlers?.Start.hasVideoAction||this._eventManager.handlers?.Basic.hasVideoAction||this._eventManager.handlers?.Conditional.hasVideoAction)&&(this._skipRender=!1),this._animationControls?.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),this._eventManager?.isEnabled&&(this._eventManager.handlers?.Follow.onAnimationFrameDamping(),this._eventManager.handlers?.LookAt.onAnimationFrameDamping(),this._eventManager.handlers?.DragDrop.onAnimationFrameDamping()),this._scene&&this._camera&&(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0?(this._renderer.sceneTransitionTimeRemaining-=this.dt,this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration,this._skipRender=!1):this._renderer.pipeline.sceneTransitionFromTexture=null,this._renderer.renderSplineScene(this._scene,this._camera)),this.canvas.dispatchEvent(this._renderedEvent)),this._perfs?.end()},this._resize=()=>{if(this._renderer){if(1===this._viewportMode&&this._frameView&&(this._frameView.frameSize=A6e.set(this._viewportWidth,this._viewportHeight)),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._camera=this._scene?.activeCamera,this._scene?.updateViewPlaneSize(this._frameView?.frameSize?.x??this._viewportWidth,this._frameView?.frameSize?.y??this._viewportHeight,this._frameView?.enableResponsive??!1),this._camera){let i=Object.values(this._data?.frames??{})[0].preset??"fullscreen";this._frameView?.setCamera(this._camera),this._frameView?.updateCamera("fullscreen"!==i),"PerspectiveCamera"===this._camera.cameraType&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=XT(this._resize,10),this.canvas=e,this.renderMode=t?"auto":n,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new class{constructor({x:e=10,y:t=10}){this._startTime=0;let n=document.getElementById("spe-perfs");n?this.element=n:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){this.element.parentElement?.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}}({x:10,y:10})),function qAe(e){e.addEventListener("pointerdown",_H,!0),e.addEventListener("pointerdown",YM,!0),e.addEventListener("pointermove",YM,!0),e.addEventListener("pointerup",$v,!0),e.addEventListener("pointercancel",$v,!0),e.addEventListener("pointerleave",$v,!0),window.addEventListener("keydown",xH,!0),window.addEventListener("keyup",wH,!0)}(e)}load(e,t,n){var i=this;return(0,gs.Z)(function*(){(function T6e(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)})(e),i.disposed=!1;let r=yield(yield fetch(e,n)).arrayBuffer();yield i.start(r,{variables:t})})()}start(e,{interactive:t=!0,variables:n}={}){var i=this;return(0,gs.Z)(function*(){if(i.disposed)return;let r=yield function v6e(e,t){return k4.apply(this,arguments)}(e);i._data=r,r.version&&(0,D6e.default)(r.version,"0.9.526")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),yield Promise.all([OY(r)&&SIe(),vRe(r)&&CIe(),m_.physicsEnabled(r.scene.objects)&&QAe(),mY(r)&&iRe(),ZBe(r)&&$Ae()].filter(Boolean)),i._eventManager?.deactivate(),i._controls?.deactivate(),i._scene?.dispose();let o=new class{get sharedAssets(){return this.shared}constructor(e,t={}){this.shared=new nI(e.shared,t),this.scene=new UI(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof Xf&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof Dl&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}}(r);if(o.resetPersonalCameraFromDocumentData(),i._scene=o.scene,i._sharedAssetsManager=o.sharedAssets,i._camera=i._scene.activeCamera,window.location.search.includes("merge-geometries")){let l=performance.now();!function E6e(e,t){let n=function O6e(e,t){let n={};return e.traverseEntity(i=>{if(!i.visible||!(i instanceof Jl)||"Mesh"!==i.type||Array.isArray(i.material)||i.states&&Object.keys(i.states).length)return;let r=i.parent;for(;r;){if(r instanceof Jl&&i.states&&Object.keys(i.states).length)return;r=r.parent}let o=i.material.uuid,s=t.shared.materials[o];if(s){if(!Qa.isMergable(s))return}else{let l=t.scene.objects.get(i.uuid)?.data;if(l&&"material"in l&&"string"!=typeof l.material){if(!Qa.isMergable(l.material))return;o=Qa.getHash(l.material)}}n[o]||(n[o]={});let a=n[o][rx(i)];if(a){if(a.push(i),i.cloner)for(let l of i.cloner.children)a.push(l)}else if(n[o][rx(i)]=[i],i.cloner)for(let l of i.cloner.children)n[o][rx(i)].push(l)}),n}(t,e),i=function S6e(e){let t=0;return Object.values(e).forEach(n=>{Object.values(n).forEach(i=>{let r=i.length;r>t&&(t=r)})}),t}(n),r=new Array(i),o=0,s=new Array(i),a=0,l=new Array(i),c=0,u=new Array(i),d=0;for(let[h,f]of Object.entries(n))for(let v of Object.values(f)){if(a=0,c=0,v.forEach(b=>{b instanceof Jl&&(s[a++]=b.geometry.clone(),l[c++]=b)}),c<2)continue;for(let b=0;b<c;b++)l[b].updateWorldMatrix(!0,!1),s[b].applyMatrix4(l[b].matrixWorld),l[b].matrixWorld.determinant()<0&&P6e(s[b]);let y=Em(s.slice(0,a),!1);if(y){let b;"SubdivObject"===h?(console.warn("Turning subdiv object into mesh"),b=new yl(y,l[0].material)):b=new yl(y,l[0].material),b.castShadow=l[0].castShadow,b.receiveShadow=l[0].receiveShadow,t.add(b);let w=O=>{d=0;for(let S of O)S.children&&w(S.children),S instanceof Jl&&(Array.isArray(S.material)||n[S.material.uuid]&&n[S.material.uuid][rx(S)]&&n[S.material.uuid][rx(S)].length>1||(u[d++]=S));for(let S=0;S<d;S++)t.attach(u[S])};for(let O=0;O<c;O++){let S=l[O];w(S.children),r[o++]=S}}}for(let h=0;h<o;h++)r[h].removeFromParent()}(r,o.scene);let c=performance.now();console.log("Merged geometries in ",c-l," ms")}OY(r)&&i._scene.traverse(l=>{bp(l)&&l.recomputeBoolean()}),i._sharedAssetsManager.setRequestRender(()=>{i._requestRenderAutoMode(),i._scene?.traverse(l=>{l instanceof ru&&l.pendingMediaLoad&&l.update()})});let s=Object.keys(r.shared.fonts).map(l=>i._sharedAssetsManager.getFont(l).loadingPromise);Promise.all(s).then(()=>{o.scene.markNeedsUpdateRendererDirty(),i._requestRenderAutoMode()}),mY(r)&&function c6e(e){if(m_.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((n,i)=>{if(i.events)if(Array.isArray(i.events)){for(let r of i.events)if(!0!==r.data.disabled&&"GameControl"===r.data.type&&r.data.collisionEnabled){t=!0;break}}else for(let r of Object.values(i.events))if(!0!==r.disabled&&"GameControl"===r.type&&r.collisionEnabled){t=!0;break}}),t}(r)&&(yield Promise.all(s)),i._scene.rewriteEventsBeforeGoToPlayMode(),l4(i._scene.activePage,i._sharedAssetsManager),i._renderer||(i._renderer=new q5e({canvas:i.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),i._renderer.hdTransmission=!0===r.scene.publish.hdTransmission,i._renderer.setPixelRatio(window.devicePixelRatio),i._renderer.pipeline.addEventListener("smaaloaded",i._requestRenderAutoMode)),i._scene.initializeSplatViewer(i._renderer),void 0!==r.scene.blueNoiseTextureData&&i._renderer.pipeline.updateBlueNoiseTexture(r.scene.blueNoiseTextureData);let a=Object.values(r.frames)[0];if(i._frameView?i._frameView.setCamera(i._camera):("fullscreen"===a.preset?(i._viewportMode=1,i.canvas.style.display="block",i.canvas.parentElement&&(i._viewportWidth=i.canvas.parentElement.clientWidth||300,i.canvas.style.width="100%"),i.canvas.parentElement&&(i._viewportHeight=i.canvas.parentElement.clientHeight||150,i.canvas.style.height="100%")):(i._viewportMode=2,i._viewportWidth=a.size[0],i._viewportHeight=a.size[1],i.canvas.style.width=`${i._viewportWidth}px`,i.canvas.style.height=`${i._viewportHeight}px`),i._renderer.setSize(i._viewportWidth,i._viewportHeight,!1),i._frameView=new class{constructor(e,t,n,i,r){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=(new Ve).copy(n),this._editorSize=(new Ve).copy(i),this._aspect=t.aspect,this._fov=r??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||"PerspectiveCamera"!==this._camera.cameraType)return;let e=this._frameSize.x,t=this._frameSize.y,n=this._editorSize.y;this._aspect=e/t,t<=n&&(this._camera.zoom*=n/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if("PerspectiveCamera"===this._camera.cameraType){let t=this._frameSize.y,n=this._editorSize.y,i=this._fov;if(e&&t>n){let r=function w6e(e,t,n,i,r){return(e-t)/(n-t)*(r-i)+i}(t,1080,2160,1,15)/100;i*=t/n,i*=1-r}this._camera.aspect=this._aspect,this._camera.fov=i,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}}(i._renderer,i._camera,new Ve(i._viewportWidth,i._viewportHeight),new Ve(window.innerWidth,window.innerHeight)),i._frameView.enableResponsive=(a.allowResponsive??!1)&&"fullscreen"===a.preset),t){let l=new class{constructor(e,t,n,i,r,o,s,a){this.renderer=e,this.publish=t,this.scene=n,this.getCamera=i,this.sharedAssets=r,this.requestRender=o,this.isExport=s,this.frame=a,this.raycaster=new rBe,this._useWindowEvents=!1,this._useWindowEvents="window"===t.mouseEventTarget,this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}updateRaycaster(e){let{pageX:t,pageY:n}=e.touches?.length>0?e.touches[0]:e;this.raycaster.setFromCamera(function sBe(e,t,n){return{x:(e-(n.left+window.scrollX))/n.width*2-1,y:-(t-(n.top+window.scrollY))/n.height*2+1}}(t,n,this._domRect),this.getCamera())}}(i._renderer,i.data.scene.publish,i._scene,()=>i._scene.activeCamera,i._sharedAssetsManager,i._requestRenderAutoMode,!0,a);i._scene.updateMatrixWorld(!0),i._controls=new class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==Mr.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[n,i,r]=this.rigidBodyToMesh.get(t.handle);if(Us.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),hu.copy(t.rotation()),n.matrixWorld.compose(Us,hu,i),n.hasNonUniformScale&&n.matrixWorld.multiply(n.shearScale),n.dispatchEvent(a6e),r){let o=n.cloner;if(o&&void 0===o.objectForSample){o.matrixWorld.copy(n.matrixWorld);for(let s of o.children)s.updateMatrixWorld(!0)}for(let s of n.children)s.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,n,i)=>{if(!1===i)return;let r,o;if(this.sensorToTriggerEvent[t]?(r=this.sensorToTriggerEvent[t],o=this.sharedGameControlGlobals.colliderToEntity.get(n)):this.sensorToTriggerEvent[n]&&(r=this.sensorToTriggerEvent[n],o=this.sharedGameControlGlobals.colliderToEntity.get(t)),r&&o&&r.isValidTriggeringObject(o))r.dispatch();else{for(let s=this.sharedGameControlGlobals.createdObjects.length-1;s>=0;s--){let a=this.sharedGameControlGlobals.createdObjects[s];if(a.userData.hasCollisionDestroy&&(a.rigidBody?.collider(0).handle===t||a.rigidBody?.collider(0).handle===n)){this.sharedGameControlGlobals.createdObjects.splice(s,1),a.removeFromParent(),requestAnimationFrame(()=>this.sharedGameControlGlobals.rapierWorld?.removeRigidBody(a.rigidBody));break}}if(this.gameControl?.object===this.sharedGameControlGlobals.colliderToEntity.get(t)){let s=this.sharedGameControlGlobals.colliderToEntity.get(n),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0===a)return;for(let l of a)"character"===l.data.target&&this.dispatchCollisionEvent(l,s,n)}else if(this.gameControl?.object===this.sharedGameControlGlobals.colliderToEntity.get(n)){let s=this.sharedGameControlGlobals.colliderToEntity.get(t),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0===a)return;for(let l of a)"character"===l.data.target&&this.dispatchCollisionEvent(l,s,t)}else{let s=this.sharedGameControlGlobals.colliderToEntity.get(t),a=this.sharedGameControlGlobals.entityToCollisionEvents[s.uuid];if(void 0!==a)for(let u of a)"scene"===u.data.target&&this.dispatchCollisionEvent(u,s,t);let l=this.sharedGameControlGlobals.colliderToEntity.get(n),c=this.sharedGameControlGlobals.entityToCollisionEvents[l?.uuid];if(void 0!==c)for(let u of c)"scene"===u.data.target&&this.dispatchCollisionEvent(u,l,n)}}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=200,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",n=>{"gamepad"in n.data&&"axes"in n.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(n.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let n of t.events){if(!0===n.data.disabled)continue;let i=n.data.actions?.find(r=>"Destroy"===r.data.type)?.data;if(i)for(let r of i.objects){let o=this.page.scene.find(r);o&&(o.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let n of t.events)if(!0!==n.data.disabled&&"DragDrop"===n.data.type)for(let i of n.data.objects){let r=this.page.scene.find(i);r&&(r.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{let n;if(t instanceof ru)return;n=t instanceof Za?t.object:t;let i=n.dataPatched;if("visibility"===i.physics?.enabled?!i.visible:!i.physics?.enabled)return!0;let r=t.geometry,o=!0===n.userData.hasDestroy,s=!0===n.userData.hasDrag;if(D2(i)||o||s||n.dataPatched.events.some(a=>!0!==a.data.disabled&&"GameControl"===a.data.type))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;r&&e.push(Mp(r,t.matrixWorld))}),e.length>0){let t=Em(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new P_(t)}}addRigidBody(e,t,n){let i=[],r="geometry"in e?e.geometry:void 0,o=t.dataPatched;if(void 0!==r?.getAttribute("position")&&i.push(Mp(r,e.shearScale)),o.physics.fusedBody){let s=this.gatherChildrenGeom(e,i);e.traverseObject(s),e.children.forEach(l=>l.updateMatrixWorld(!0));let a=e.cloner;a&&void 0===a.objectForSample&&"dynamic"===o.physics.rigidBody&&(a.traverseObject(s),a.children.forEach(l=>l.updateMatrixWorld(!0)))}if(i.length>0){let s,a=!n.fromCreate&&"dynamic"===o.physics.rigidBody||n.fromCreate&&n.dynamic;a?(s=Mr.RigidBodyDesc.dynamic(),s.setLinearDamping(o.physics.damping).setAngularDamping(o.physics.damping).setAdditionalMass(1e-9).setGravityScale(o.physics.gravityScale).enabledRotations(...o.physics.enabledRotation).enabledTranslations(...o.physics.enabledTranslation)):(n.hasTransformAnim||n.hasFollow||n.hasDrag)&&!n.fromCreate?(s=Mr.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):s=Mr.RigidBodyDesc.fixed();let l=Em(i);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(Us,hu,tg),e.position0=Us.clone().divideScalar(this.pixelsPerMeter),e.rotation0=hu.clone(),Us.divideScalar(this.pixelsPerMeter),s.setTranslation(Us.x,Us.y,Us.z).setRotation(hu),r?l?.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):l?.scale(tg.x/this.pixelsPerMeter,tg.y/this.pixelsPerMeter,tg.z/this.pixelsPerMeter);let c=this.sharedGameControlGlobals.rapierWorld.createRigidBody(s);a&&this.rigidBodyToMesh.set(c.handle,[e,tg.clone(),o.physics.fusedBody]);let u=!(void 0===o.geometry||"SubdivGeometry"===o.geometry.type||"NonParametricGeometry"===o.geometry.type||"BooleanGeometry"===o.geometry.type||"VectorGeometry"===o.geometry.type||"StarGeometry"===o.geometry.type||"RectangleGeometry"===o.geometry.type||"EllipseGeometry"===o.geometry.type||"TriangleGeometry"===o.geometry.type||"TorusGeometry"===o.geometry.type||"HelixGeometry"===o.geometry.type);try{this.addCollider(c,o.physics,l,t,u)}catch{try{this.addCollider(c,o.physics,l,t,!1)}catch(d){console.error(d)}}e.rigidBody=c}}addBoundsTree(e){let t=[];if(void 0!==e.geometry?.getAttribute("position")&&e.geometry?.getAttribute("position").count>0&&t.push(Mp(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(n=>n.updateMatrixWorld(!0)),t.length>0){let n=Em(t,!1);e.bvhGeometry=n,e.bvhGeometry.boundsTree=new P_(n),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)}}addCollider(e,t,n,i,r=!0){if(0===n?.getAttribute("position").count||0===n?.getIndex()?.count)return;let o;n&&(o="trimesh"===t.colliderType?Mr.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array):Mr.ColliderDesc.convexMesh(n.getAttribute("position").array,r?n.getIndex().array:void 0)),o.setFrictionCombineRule(Mr.CoefficientCombineRule.Average).setRestitutionCombineRule(Mr.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let s=this.sharedGameControlGlobals.rapierWorld.createCollider(o,e);this.sharedGameControlGlobals.colliderToEntity.set(s.handle,i),this.sharedGameControlGlobals.entityToCollisionEvents[i.uuid]?.some(a=>"scene"===a.target)&&s.setActiveEvents(Mr.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(n,i)=>{if(0===i)return;let r;if(n instanceof ru){if(!n.objectForSample)return!0===n.object.dataPatched.physics.fusedBody&&"dynamic"===n.object.dataPatched.physics.rigidBody||void 0;if(n.objectForSample.dataPatched.physics.fusedBody)return;r=n.object}else if(n instanceof Za)r=n.object;else if(r=n,r.dataPatched.cloner?.hideBase)return!0;let o=r.dataPatched;if("visibility"===o.physics.enabled?!o.visible:!o.physics.enabled)return!0;1===i?e.hasNonUniformScale?n.matrixWorld.multiplyMatrices(e.shearScale,n.hiddenMatrix):n.matrixWorld.copy(n.hiddenMatrix):n.matrixWorld.multiplyMatrices(n.parent.matrixWorld,n.hiddenMatrix),n.matrixWorld.multiply(n.matrix);let s=n.geometry;void 0!==s?.getAttribute("position")&&t.push(Mp(s,n.matrixWorld))}}activate(e){if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,n=!1,i=5,r=8,o=9,s="drag",a=this.page.data.publish.gameControlObject,l=null!==a?this.page.find(a):null,c=null;if(l)for(let h of l.data.events){if(h.data.disabled||"GameControl"!==h.data.type)break;let f=l;for(;this.usePhysics&&null!==(f=f.parent)?.parent&&!f.data.physics?.fusedBody;);h.data.collisionEnabled&&(this.needsCollisionDetection=!0),null===c&&(c=h.data)}if(this.page.traverseEntity(h=>{for(let f of h.dataPatched.events)if(!1===f.data.disabled&&"Trigger"===f.data.type)return this.needsCollisionDetection=!0,!0}),l&&c){n=n||c.camera===t.uuid||l.uuid===t.uuid;let h=new x$(l,this.renderer.domElement,c,this.eventContext.page.data.globalPhysics,this,l.uuid!==t.uuid&&c.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=h,i=c.joystickPosLoc,r=c.joystickRotLoc,o=c.jumpTouchButtonLoc,s=c.rotByTouch,kc&&c.touchControl&&(this.joystickToGameControls[i]="pos","walk"===c.moveMode&&(this.joystickToGameControls[o]="jmp"),"joystick"===s&&(this.joystickToGameControls[r]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let h=this.gameControl.data;if(!this.navigationMeshWrapper){let f;this.navigationMeshWrapper=new class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=n=>{if(1!==fi.length)return;let{raycaster:i,page:r}=this.eventContext;this.eventContext.updateRaycaster(n);let o=r.raycastWithClones(i);if(0!==o.length){if(this.gameControl){let s=$Be.copy(this.gameControl.colliderWorldPosition);s.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(s,o[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(n,i)=>r=>{let o;if(r instanceof ru){if(!r.objectForSample)return!0===r.object.dataPatched.physics.fusedBody&&"dynamic"===r.object.dataPatched.physics.rigidBody||void 0;if(r.objectForSample.dataPatched.physics.fusedBody)return;o=r.object}else if(r instanceof Za)o=r.object;else if(o=r,!1===o.dataPatched.cloner?.disabled&&o.dataPatched.cloner?.hideBase&&!0!==o.dataPatched.physics?.fusedBody)return!0;if(i&&!o.userData.navmesh)return;let s=o.dataPatched;if(!s.visible&&!0!==s.physics?.enabled)return!0;r.updateMatrixWorldSVD();let a=D2(s),l=o.userData.hasDestroy,c=o.userData.hasDrag,u=!1,d=!1;for(let h of s.events)!0!==h.data.disabled&&("GameControl"===h.data.type?u=!0:"Follow"===h.data.type&&(d=!0));if(u||a||d||l||c)return!0;if(this.usePhysics&&"dynamic"===s.physics?.rigidBody){if(this.usePhysics&&s.physics?.fusedBody)return!0}else if("geometry"in r&&r.geometry&&n.push(Mp(r.geometry,r.matrixWorld)),this.usePhysics&&s.physics?.fusedBody)return r.traverseObject((h,f)=>{if(0===f)return;let v;if(h instanceof ru){if(!h.objectForSample)return!0===h.object.dataPatched.physics.fusedBody&&"dynamic"===h.object.dataPatched.physics.rigidBody||void 0;if(h.objectForSample.dataPatched.physics.fusedBody)return;v=h.object}else if(h instanceof Za)v=h.object;else if(v=h,h.dataPatched.cloner?.hideBase)return!0;let y=v.dataPatched;if(!y.visible&&!0!==y.physics?.enabled)return!0;"geometry"in h&&h.geometry&&n.push(Mp(h.geometry,h.matrixWorld))}),!0},this.traverseNoPhysics=(n,i)=>r=>{let o;if(r instanceof ru)return;o=r instanceof Za?r.object:r;let s=o.dataPatched;if("visibility"===s.physics.enabled?!s.visible:!s.physics.enabled)return!0;if(i&&!o.userData.navmesh)return;let a=r.geometry,l=!0===o.userData.hasDestroy,c=!0===o.userData.hasDrag;if(D2(s)||l||c||o.dataPatched.events.some(u=>!0!==u.data.disabled&&"GameControl"===u.data.type))return!0;a&&n.push(Mp(a,r.matrixWorld))},this.navmeshWasm=N$,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?"\n(async function() {\n\tconst [wasmImport, wasmBinary] = await Promise.all([\n\t\timport('https://unpkg.com/@splinetool/runtime@0.9.526/build/' + 'navmesh.js'),\n\t\tfetch('https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build/' + 'navmesh.wasm').then((res) => res.arrayBuffer()),\n\t]);\n\tconst wasmModule = wasmImport.default;\n\tself.module = await wasmModule({ wasmBinary });\n\tpostMessage('ready');\n})();\n":"\n(async function() {\n\tconst [wasmImport, wasmBinary] = await Promise.all([\n\t\timport(self.location.origin + '/_libraries/navmesh.js'),\n\t\tfetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),\n\t]);\n\tconst wasmModule = wasmImport.default;\n\tself.module = await wasmModule({ wasmBinary });\n\tpostMessage('ready');\n})();\n")+"\n\nonmessage = function(messageEvent) {\n\tconst meshData = messageEvent.data;\n\tconst positions = meshData[0];\n\tconst offset = meshData[1];\n\tconst indices = meshData[2];\n\tconst indicesLength = meshData[3];\n\tconst parameters = meshData[4];\n\n\tconst module = self.module;\n\tconst rc = new module.rcConfig();\n\trc.cs = parameters.cs;\n\trc.ch = parameters.ch;\n\trc.borderSize = parameters.borderSize ? parameters.borderSize : 0;\n\trc.tileSize = parameters.tileSize ? parameters.tileSize : 0;\n\trc.walkableSlopeAngle = parameters.walkableSlopeAngle;\n\trc.walkableHeight = parameters.walkableHeight;\n\trc.walkableClimb = parameters.walkableClimb;\n\trc.walkableRadius = parameters.walkableRadius;\n\trc.maxEdgeLen = parameters.maxEdgeLen;\n\trc.maxSimplificationError = parameters.maxSimplificationError;\n\trc.minRegionArea = parameters.minRegionArea;\n\trc.mergeRegionArea = parameters.mergeRegionArea;\n\trc.maxVertsPerPoly = parameters.maxVertsPerPoly;\n\trc.detailSampleDist = parameters.detailSampleDist;\n\trc.detailSampleMaxError = parameters.detailSampleMaxError;\n\n\tif (!self.navMesh) {\n\t\tself.navMesh = new module.NavMesh();\n\t}\n\tself.navMesh.build(positions, offset, indices, indicesLength, rc);\n\n\tconst navmeshData = navMesh.getNavmeshData();\n\tconst arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);\n\tconst ret = new Uint8Array(navmeshData.size);\n\tret.set(arrView);\n\tnavMesh.freeNavmeshData(navmeshData);\n\n\tpostMessage(ret);\n}\n"])),this._worker=new Worker(this._workerURL)}init(e,t,n){this.gameControl=t,this.eventContext=n,this.resolution=e.ch,this.setDefaultQueryExtent((new re).setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(n.page,e,i=>{this.buildFromNavmeshData(i.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,n){t.objects.forEach(l=>{let c=e.scene.find(l);c.traverseEntity(u=>{u.userData.navmesh=!0}),c.cloner?.traverseObject(u=>{u.userData.navmesh=!0})});let i=[],r=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(i,"custom"===t.zones);if(e.traverseChildren(r),t.objects.forEach(l=>{let c=e.scene.find(l);c.traverseEntity(u=>{u.userData.navmesh=void 0}),c.cloner?.traverseObject(u=>{u.userData.navmesh=void 0})}),0===i.length)return!1;let o=Em(i),{positions:s,triIndices:a}=GP(o.getAttribute("position"),o.getIndex());return this._worker.postMessage([s,s.length/3,a,a.length,{...XBe,...t}]),this._worker.onmessage=n,!0}createDebugNavGeometry(){let e,t,n=this.navMesh.getDebugNavMesh(),i=n.getTriangleCount(),r=new Uint32Array(3*i),o=new Float32Array(3*i*3);for(e=0;e<3*i;e++)r[e]=e;for(e=0;e<i;e++)for(t=0;t<3;t++){let a=n.getTriangle(e).getPoint(t);o[9*e+3*t+0]=a.x,o[9*e+3*t+1]=a.y,o[9*e+3*t+2]=a.z}let s=new ei;return s.setIndex(new pi(r,1)),s.setAttribute("position",new pi(o,3)),s}getClosestPoint(e){return dr.x=e.x,dr.y=e.y,dr.z=e.z,this.navMesh.getClosestPoint(dr)}getClosestPointToRef(e,t){dr.x=e.x,dr.y=e.y,dr.z=e.z;let n=this.navMesh.getClosestPoint(dr);t.set(n.x,n.y,n.z)}getRandomPointAround(e,t){return dr.x=e.x,dr.y=e.y,dr.z=e.z,this.navMesh.getRandomPointAround(dr,t)}getRandomPointAroundToRef(e,t,n){dr.x=e.x,dr.y=e.y,dr.z=e.z;let i=this.navMesh.getRandomPointAround(dr,t);n.set(i.x,i.y,i.z)}moveAlong(e,t){return dr.x=e.x,dr.y=e.y,dr.z=e.z,Na.x=t.x,Na.y=t.y,Na.z=t.z,this.navMesh.moveAlong(dr,Na)}moveAlongToRef(e,t,n){return dr.x=e.x,dr.y=e.y,dr.z=e.z,Na.x=t.x,Na.y=t.y,Na.z=t.z,this.navMesh.moveAlong(dr,Na)}computePath(e,t){let n=this.getClosestPoint(t);Na.x=n.x,Na.y=n.y,Na.z=n.z,this.getClosestPoint(e);let i=this.navMesh.computePath(dr,Na),r=i.getPointCount(),o=[];for(let s=0;s<r;s++){let a=i.getPoint(s);o.push(new re(a.x,a.y,a.z))}return o}createCrowd(e,t){return new class{constructor(e,t,n){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,n,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,n){let i=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;i.radius=t.radius,i.height=t.height,i.maxAcceleration=t.maxAcceleration,i.maxSpeed=t.maxSpeed,i.collisionQueryRange=t.collisionQueryRange,i.pathOptimizationRange=t.pathOptimizationRange,i.separationWeight=t.separationWeight,i.updateFlags=7,i.obstacleAvoidanceType=0,i.queryFilterType=0,i.userData=0;let r=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),i);return this.transforms.push(n),this.agents.push(r),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new re(0,0,0)),r}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let n=this.crowd.getAgentPosition(e);t.set(n.x,n.y,n.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let n=this.crowd.getAgentVelocity(e);t.set(n.x,n.y,n.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let n=this.crowd.getAgentNextTargetPath(e);t.set(n.x,n.y,n.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let n=this.agents.indexOf(e);n>-1&&(this._agentDestinationArmed[n]=!0,this._agentDestination[n].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let n=this.crowd.getAgentParameters(e);void 0!==t.radius&&(n.radius=t.radius),void 0!==t.height&&(n.height=t.height),void 0!==t.maxAcceleration&&(n.maxAcceleration=t.maxAcceleration),void 0!==t.maxSpeed&&(n.maxSpeed=t.maxSpeed),void 0!==t.collisionQueryRange&&(n.collisionQueryRange=t.collisionQueryRange),void 0!==t.pathOptimizationRange&&(n.pathOptimizationRange=t.pathOptimizationRange),void 0!==t.separationWeight&&(n.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,n)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),!(e<=.001)){{let i=Math.floor(e/.016666666666666666);i>10&&(i=10),i<1&&(i=1);let r=e/i;for(let o=0;o<i;o++)this.crowd.update(r)}for(let i=0;i<this.agents.length;i++){let r=this.agents[i],o=this.getAgentPosition(r);if(this.transforms[i].copy(o),this._agentDestinationArmed[i]){let s=o.x-this._agentDestination[i].x,a=o.z-this._agentDestination[i].z,l=this.reachRadii[i];o.y>this._agentDestination[i].y-this.reachRadii[i]&&o.y<this._agentDestination[i].y+this.reachRadii[i]&&s*s+a*a<l*l&&(this.onReachTarget(r,this._agentDestination[i]),this._agentDestinationArmed[i]=!1)}}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,n=this.crowd.getCorners(e),i=n.getPointCount(),r=[];for(t=0;t<i;t++){let o=n.getPoint(t);r.push(new re(o.x,o.y,o.z))}return r}dispose(){this.crowd.destroy()}}(this,e,t)}setDefaultQueryExtent(e){dr.x=e.x,dr.y=e.y,dr.z=e.z,this.navMesh.setDefaultQueryExtent(dr)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,n=this.navmeshWasm._malloc(t),i=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,n,t);i.set(e);let r=new this.navmeshWasm.NavmeshData;r.dataPointer=i.byteOffset,r.size=e.length,this.navMesh.buildFromNavmeshData(r),this.navmeshWasm._free(i.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),n=new Uint8Array(e.size);return n.set(t),this.navMesh.freeNavmeshData(e),n}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),this.eventContext?.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,n){return dr.x=e.x,dr.y=e.y,dr.z=e.z,this.navMesh.addCylinderObstacle(dr,t,n)}addBoxObstacle(e,t,n){return dr.x=e.x,dr.y=e.y,dr.z=e.z,Na.x=t.x,Na.y=t.y,Na.z=t.z,this.navMesh.addBoxObstacle(dr,Na,n)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return void 0!==this.navmeshWasm}}(this.usePhysics,this.isExport),f="sphere"===h.collider.type?2*h.collider.radius:h.collider.height,f=Math.floor(f/h.navmesh.ch-1),this.navigationMeshWrapper.init({...h.navmesh,walkableHeight:f},this.gameControl,this.eventContext)}}if(!1===n){let{enableRotate:h,enablePan:f,enableZoom:v,autoRotate:y,hoverRotatePanMode:b}=this.eventManager.publish.orbitControls;(h||f||v||y||0!==b)&&(this.orbitControls=new z$(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let u=this.renderer.domElement.width/this.renderer.getPixelRatio(),d=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((h,f)=>{let v=document.body.appendChild(document.createElement("div")),[y,b,w]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[f],O=(u-5*y)/4+y,S={},D="jmp"===h,V=D?0:y;f<10?(f<5?S.top=V/2:S.bottom=V/2,S.left=V/2+f%5*O):10===f?(S.left=V/2,S.top=d/2):(S.right=V/2,S.top=d/2),S.top?S.top-=b[1]:S.bottom+=b[1],S.left?S.left+=b[0]:S.right-=b[0];for(let K in S)S[K]+="px";if(D){let K=v.appendChild(document.createElement("div"));return Object.assign(K.style,S,{position:"absolute",width:y+"px",height:y+"px",backgroundColor:`rgba(255,255,255,${"show"===w?.4:0})`,zIndex:"9999",borderRadius:y+"px",border:"show"===w?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"}),"show"===w&&(K.innerHTML=`\n\t\t\t\t\t\t<svg width="${y/16*16*.4}" height="${.4*y}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t`),K.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),K.addEventListener("touchend",ie=>ie.preventDefault()),void(this.joysticks[f]=[void 0,v])}let Y={zone:v,mode:"static",position:S,size:y};"hide"===w&&(Y.restOpacity=0);let q=function(e){return gX.create(e)}(Y);q.on("move",(K,te)=>{let ie=this.gameControl;"pos"===h?te.force<.2?ie.moveForce=0:(ie.movementState.movePosZ=Math.sin(-te.angle.radian),ie.movementState.movePosX=Math.cos(-te.angle.radian),ie.movementState.run=te.force>1.2?1:0,ie.moveForce=te.force<.3?(te.force-.2)/.1:1):"rot"===h&&(te.force<.2?ie.rotForce=0:(ie.movementState.rotPosX=te.vector.y,ie.movementState.rotPosY=-te.vector.x,ie.rotForce=te.force<.3?(te.force-.2)/.1:1)),this.requestRender()}),q.on("end",(K,te)=>{let ie=this.gameControl;"pos"===h?(ie.movementState.movePosZ=0,ie.movementState.movePosX=0,ie.moveForce=1):"rot"===h&&(ie.movementState.rotPosX=0,ie.movementState.rotPosY=0,ie.rotForce=1)}),this.joysticks[f]=[q,v]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(h=>h.disabled=!1)},80)}initPhysics(){this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=new Mr.World(new Mr.Vector3(0,this.gravity,0)),this.events=new Mr.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(s=>{let a;if(s instanceof ru){if(!s.objectForSample)return!0===s.object.dataPatched.physics.fusedBody&&"dynamic"===s.object.dataPatched.physics.rigidBody||void 0;if(s.objectForSample.dataPatched.physics.fusedBody)return;a=s.object}else if(s instanceof Za)a=s.object;else if(a=s,!1===a.dataPatched.cloner?.disabled&&a.dataPatched.cloner?.hideBase&&!0!==a.dataPatched.physics?.fusedBody)return!0;let c,l=a.dataPatched;for(let b of l.events)!0!==b.data.disabled&&"GameControl"===b.data.type&&(c=b.data);if(!l.physics||("visibility"===l.physics.enabled?!l.visible:!l.physics.enabled))return!0;s.updateMatrixWorldSVD();let u=D2(l),d=!1,h=a.userData.hasDestroy,f=a.userData.hasDrag,v=!1;for(let b of l.events)if(!0!==b.data.disabled)if("Collision"===b.data.type){d=!0;let w=new UBe(b.id,b.data,a,this.page,this.sharedAssets,this.eventManager);w.disabled=!0,this.collisionEvents.push(w),this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].every(O=>O.id!==b.id)?this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].push(w):this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]=[w]}else if("Follow"===b.data.type){v=!0;let w=b.data.target;s.traverseVisible(O=>{O.userData.isFollowingObj=w})}"dynamic"===l.physics.rigidBody&&!1===l.physics.fusedBody&&(s.matrixWorldFusedFalse=s.matrixWorld.clone());let y=s.geometry;if(void 0!==c){let b=Mr.RigidBodyDesc.kinematicPositionBased();(s.hasNonUniformScale?s.matrixWorldRigid:s.matrixWorld).decompose(Us,hu,tg),s.position0=Us.clone().divideScalar(this.pixelsPerMeter),s.rotation0=hu.clone(),Us.divideScalar(this.pixelsPerMeter),b.setTranslation(Us.x,Us.y,Us.z).setRotation(hu);let O,w=this.sharedGameControlGlobals.rapierWorld.createRigidBody(b);s.rigidBody=w,O="sphere"===c.collider.type?Mr.ColliderDesc.ball(c.collider.radius/this.pixelsPerMeter):"capsule"===c.collider.type?Mr.ColliderDesc.capsule((c.collider.height/2-c.collider.radius)/this.pixelsPerMeter,c.collider.radius/this.pixelsPerMeter):Mr.ColliderDesc.cuboid(c.collider.width/this.pixelsPerMeter/2,c.collider.height/this.pixelsPerMeter/2,c.collider.depth/this.pixelsPerMeter/2),O.setFrictionCombineRule(Mr.CoefficientCombineRule.Average).setRestitutionCombineRule(Mr.CoefficientCombineRule.Average).setDensity(l.physics.density).setFriction(l.physics.friction).setRestitution(l.physics.restitution);let S=this.sharedGameControlGlobals.rapierWorld.createCollider(O,w);this.sharedGameControlGlobals.colliderToEntity.set(S.handle,a),Us.fromArray(c.collider.position).multiply(tg.setFromMatrixScale(a.matrixWorld)).divideScalar(this.pixelsPerMeter),S.setTranslationWrtParent(Us);let D=(new Di).setFromEuler((new ya).setFromVector3((new re).fromArray(c.collider.rotation)));S.setRotationWrtParent(D),S.setActiveEvents(Mr.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(a,!0)}else"dynamic"===l.physics.rigidBody||u||v||h||f||d?(this.addRigidBody(s,a,{hasFollow:v,hasTransformAnim:u,hasDrag:f}),this.generateSensorColliderDescs(a,l.physics.fusedBody)):(y&&e.push(Mp(y,s.matrixWorld)),l.physics.fusedBody&&s.traverseObject((b,w)=>{if(0===w)return;let O;if(b instanceof ru){if(!b.objectForSample)return!0===b.object.dataPatched.physics.fusedBody&&"dynamic"===b.object.dataPatched.physics.rigidBody||void 0;if(b.objectForSample.dataPatched.physics.fusedBody)return;O=b.object}else if(b instanceof Za)O=b.object;else if(O=b,O.dataPatched.cloner?.hideBase)return!0;let S=O.dataPatched;if("visibility"===S.physics.enabled?!S.visible:!S.physics.enabled)return!0;let D=b.geometry;void 0!==D?.getAttribute("position")&&e.push(Mp(D,b.matrixWorld))}),this.generateSensorColliderDescs(a,l.physics.fusedBody,t));return!(!0!==l.physics?.fusedBody&&!c)||void 0}),0===e.length)return;let n=Em(e);n.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let i=Mr.RigidBodyDesc.fixed(),r=this.sharedGameControlGlobals.rapierWorld.createRigidBody(i),o=Mr.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array).setFrictionCombineRule(Mr.CoefficientCombineRule.Multiply).setRestitutionCombineRule(Mr.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(o,r);for(let[s,a]of t){let l=this.sharedGameControlGlobals.rapierWorld.createCollider(s,r);this.sensorToTriggerEvent[l.handle]=a}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if("Trigger"===t.data.type&&!0!==t.data.disabled){let n=new j$(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),i=(new Wt).compose(pu.fromArray(t.data.position),J1.setFromEuler(V$.fromArray(t.data.rotation)),S4);if("box"===t.data.triggerZone){let r=new ys;r.min.fromArray(t.data.size).multiplyScalar(-.5),r.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([r,i,e,n])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,i,e,n])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){if(this.isEnabled){this.isEnabled=!1,this.page.traverse(e=>{let t=e;t.matrixWorldFusedFalse&&(t.matrixWorldFusedFalse=void 0),t.rigidBody&&(t.rigidBody=void 0),t.position0&&(t.position0=void 0),t.rotation0&&(t.rotation0=void 0)}),this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),this.gameControl?.reset(),this.gameControl?.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([e,t])=>{e?.destroy(),t.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),this.navigationMeshWrapper?.dispose(),this.navigationMeshWrapper=void 0;for(let e of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))e.forEach(t=>t.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,n){if(!this.isEnabled)return!0;let i=!0;if(void 0!==this.orbitControls&&this.orbitControls.needsUpdate&&(i=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,i=!1):2===this.initializationCounter&&this.gameControl&&(i=!this.gameControl.update(e,t,n)&&i),!1===this.usePhysics&&this.checkTrigger(),this.usePhysics){let r=.016666666666666666;if(0===e)i=this.stepPhysics()&&i;else{let o=e/1e3;o<r&&o>.55*r&&(o=r),this.accumulator+=o;let s=performance.now(),a=0,l=6;for(;this.accumulator>=r&&a<l&&(i=this.stepPhysics()&&i,this.accumulator-=r,a++,!(performance.now()-s>1e3*r)););this.accumulator=this.accumulator%r}}return i}stepPhysics(){for(let e of this.sharedGameControlGlobals.entitiesWithTransformAnim){(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(Us,hu,tg),P4.setFromQuaternion(hu);let t=e;void 0===t.prevR?(t.prevR=P4.clone(),t.prevT=Us.clone()):(t.prevR.copy(P4),t.prevT.copy(Us)),e.rigidBody&&(e.rigidBody.setNextKinematicTranslation(Us.divideScalar(this.pixelsPerMeter)),e.rigidBody.setNextKinematicRotation(hu))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),this.events?.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,n){let r,i=this.sharedGameControlGlobals.rapierWorld?.getCollider(n)._parent;if(t.cloner)for(let o of t.cloner.children)if(o.rigidBody===i){r=o;break}e.dispatch(r),t.dispatchEvent(D4)}updateUseWindowEvents(e){this.orbitControls?.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,n){let i=H$.copy(e.matrixWorld).invert();e.traverseEntity((r,o)=>{if(!1===t&&1===o)return!0;for(let s of r.dataPatched.events)if("Trigger"===s.data.type&&!0!==s.data.disabled){let l,a=new j$(s.id,s.data,r,this.page,this.sharedAssets,this.eventManager);if(l="box"===s.data.triggerZone?Mr.ColliderDesc.cuboid(...s.data.size.map(c=>c/(2*this.pixelsPerMeter))):Mr.ColliderDesc.ball(s.data.radius/this.pixelsPerMeter),l.setDensity(0).setSensor(!0).setActiveEvents(Mr.ActiveEvents.COLLISION_EVENTS),pu.fromArray(s.data.position),J1.setFromEuler(V$.fromArray(s.data.rotation)),E2.compose(pu,J1,S4).premultiply(r.matrixWorld),n?(E2.decompose(pu,J1,O4),l.setActiveCollisionTypes(Mr.ActiveCollisionTypes.KINEMATIC_FIXED|Mr.ActiveCollisionTypes.DYNAMIC_FIXED)):(E2.premultiply(i).decompose(pu,J1,O4),e.rigidBody.bodyType()===Mr.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===Mr.RigidBodyType.Fixed?l.setActiveCollisionTypes(Mr.ActiveCollisionTypes.KINEMATIC_FIXED|Mr.ActiveCollisionTypes.DYNAMIC_FIXED):l.setActiveCollisionTypes(Mr.ActiveCollisionTypes.KINEMATIC_KINEMATIC|Mr.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),pu.divideScalar(this.pixelsPerMeter),l.setTranslation(pu.x,pu.y,pu.z),l.setRotation(J1),n)n.push([l,a]);else{let c=this.sharedGameControlGlobals.rapierWorld.createCollider(l,e.rigidBody);this.sensorToTriggerEvent[c.handle]=a}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[n,i,r,o]=this.sharedGameControlGlobals.triggers[t];for(let s=0;s<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;s++){let a=this.sharedGameControlGlobals.entitiesWithTransformAnim[s];if(r===a||!1===o.isValidTriggeringObject(vr.is(a)?a:a.object))continue;let l=H$.copy(r.matrixWorld).decompose(pu,G$,O4).compose(pu,G$,S4).multiply(i),c=E2.copy(a.matrixWorld).invert().multiply(l);n instanceof ys?e=a.bvhGeometry.boundsTree.intersectsBox(n,c):(E4.radius=n,E4.center.setFromMatrixPosition(c),e=a.bvhGeometry.boundsTree.intersectsSphere(E4)),e?-1===o.currentIntersectedObjects.indexOf(a)&&(o.currentIntersectedObjects.push(a),o.dispatch(),r.dispatchEvent(l6e)):o.currentIntersectedObjects=o.currentIntersectedObjects.filter(u=>u!==a)}}}}(l),i._animationControls=new class{constructor(e,t,n,i){this.scene=e,this.requestRender=t,this.updateDisplayProgress=n,this.animationInspectorState=i,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=r=>{"Empty"===r.data.type&&r.data.animations&&r.data.animations.forEach((o,s)=>{let a=o[0]+"/";if(Array.isArray(r.identity)?a+=r.identity[0]:a+=r.uuid,this.clipIdToAction[a])return;let l=hT.parse(JSON.parse(o[2]));r.animations[s]=l;let c=this.mixer.clipAction(l,r);!1===W$&&(Object.getPrototypeOf(c)._updateTime=u6e,W$=!0),c.clampWhenFinished=!0,this.clipIdToAction[a]=c})},this.mixer=new uCe(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let n=this.scene.find(t);if(!n)return;let i=n.animations.find(o=>o.uuid===e);if(!i)return;let r=this.clipIdToAction[e];!r||(r.stop(),this.mixer.uncacheClip(i),delete this.clipIdToAction[e],n.animations=n.animations.filter(o=>o.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=2201}),this.mixer.stopAllAction(),this.requestRender()}play(e){let n=this.clipIdToAction[e.clipId+"/"+e.object];if(n)return e&&(e.repeat>=0&&(n.repetitions=e.repeat+1),"pingpong"===e.direction&&0!==e.repeat&&(n.loop=gA)),n.play(),n.paused=!1,this.requestRender(),n}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){if(this.needsUpdate)this.needsUpdate=!1;else if(!1===this.isPlaying||this.animationInspectorState?.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*this.maxFrames%this.maxFrames)),this.requestRender()}get maxFrames(){return this.activeClip?.tracks[0]?.times.length??0}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let n=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(this.maxFrames?e/this.maxFrames:0,.9999)*this.activeClip.duration),this.requestRender(),n&&(this.clipIdToAction[t].paused=!0)}}(i._scene,i._requestRenderAutoMode),i._eventManager=new class{constructor(e,t,n,i,r){this.publish=e,this.controlsManager=t,this.animationControls=n,this.eventContext=i,this.sharedVariables=r,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=o=>{(o.touches.length>1||this.preventTouchScroll)&&o.preventDefault()},this.onMouseWheelPreventScroll=o=>{this.preventScroll&&o.preventDefault()},this.onMouseMove=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:o.buttons>0}},this.onMouseDown=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!0}},this.onMouseUp=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!1}},this.getMousePosition=o=>{let{domRect:s}=this.eventContext,{pageX:a,pageY:l}=o.touches?.length>0?o.touches[0]:o;return{x:a-(s.left+window.scrollX),y:l-(s.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=i.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new cBe(this.eventContext),DynamicVariable:new jBe(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),Conditional:new mBe(this.eventContext,this),Start:new zBe(this.eventContext,this),Basic:new uBe(this.eventContext,this,this.needsRaycast),MouseHover:new RBe(this.eventContext,this),Scroll:new LBe(this.eventContext,this),Follow:new OBe(this.eventContext,this),DragDrop:new xBe(this.eventContext,this),LookAt:new TBe(this.eventContext),Resize:new b6e(this.eventContext,this)};let{page:e,domElement:t}=this.eventContext;this.hideCursor&&(t.style.cursor="none"),e.traverseEntity(i=>{i.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(i=>i.connect()),t.addEventListener("wheel",this.onMouseWheelPreventScroll),t.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:e,domElement:t}=this.eventContext;t.style.cursor="",Object.values(this.handlers).forEach(n=>n.disconnect()),this.controlsManager.gameControl?.disposeActions(),this.controlsManager.disconnectEvents(),e.traverseEntity(n=>{n.removeEventListener("requestRender",this.requestRender),n.destroyedInAction=!1}),t.removeEventListener("touchmove",this.onTouchMovePreventScroll),t.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=n=>{if("Conditional"===n.data.type&&(n.data.ifActions.forEach(t),n.data.elseActions.forEach(t)),"Conditional"===n.data.type||"SetVariable"===n.data.type)for(let i of"Conditional"===n.data.type?n.data.condition:n.data.expression)"id"in i&&Array.isArray(i.id)&&("mouse"===i.id[0]&&(this.needsMouse=!0),"raycast"===i.id[0]&&(this.needsRaycast=!0));"DynamicVariablePlay"===n.data.type&&""!==n.data.variableId&&("Play"===n.data.mode||"PlayPause"===n.data.mode||"Toggle"===n.data.mode)&&e.setDynamicVariablePlayState(n.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(n=>{if(n.data?.events.length)for(let i of n.data.events)if(!i.data.disabled)if("VariableChange"===i.data.type&&("mouseProperty"===i.data.variableId&&(this.needsMouse=!0),"raycastProperty"===i.data.variableId&&(this.needsRaycast=!0)),"Conditional"===i.data.type)for(let r of["inActions","outActions"])i.data[r].forEach(t);else if("DragDrop"===i.data.type)for(let r of["drag","drop"])i.data.dragDropActions[r].forEach(t);else if("GameControl"===i.data.type)for(let r of["idle","move","jump","run"])i.data.gameActions[r].forEach(t);else if("Resize"===i.data.type)for(let r of i.data.breakpoints)r.data.actions.forEach(t);else"LookAt"===i.data.type||i.data.actions.forEach(t)})}}(r.scene.publish,i._controls,i._animationControls,l,r.shared.variables),i._eventManager.activate(),i._controls.activate(i._eventManager)}i._resize(),void 0!==n&&i.setVariables(n),0===i.dt&&(i.render(performance.now()),setTimeout(()=>{i._renderer?.setAnimationLoop(i.render)},0)),i._resizeObserverTimeout=setTimeout(()=>{!i._resizeObserver&&i.canvas.parentElement&&(i._resizeObserver=new ResizeObserver(()=>{i._viewportWidth=i.canvas.clientWidth,i._viewportHeight=i.canvas.clientHeight,i._debouncedResize()}),i._resizeObserver.observe(i.canvas.parentElement))},300)})()}setVariables(e){if(void 0!==this._data){let t=Object.entries(e);for(let[n,i]of t)this.setVariable(n,i)}}setVariable(e,t){let n=this._getVariableByName(e);if(n&&!("dynamicVariableType"in n.data)){let i=t;"number"==typeof n.data.value?i="number"==typeof t?t:"boolean"==typeof t?!0===t?1:0:parseFloat(t):"boolean"==typeof n.data.value?i="number"==typeof t?!!t:"boolean"==typeof t?t:"false"!==t.toLocaleLowerCase()&&!!t:"string"!=typeof n.data.value&&void 0!==n.data.value.textValue&&(i=t.toString()),this._sharedAssetsManager?.updateVariable(n.id,"string"==typeof i?{textValue:i}:i),this.requestRender(),this._requestRenderAutoMode()}else void 0===n?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in n.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{void 0===e[t.data.name]&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let n=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(n)}}_getVariableValue(e){return"string"!=typeof e&&Nc.isTextValue(e)?Nc.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(n=>n.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){let t=this._scene?.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){let t=this._scene?.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){let e=[];return this._scene?.traverseEntity(t=>{if(!(t.uuid===Jv||this._scene.isInvisibleObjects(t)||t instanceof Xf)){let n=this._createProxyObject(t);n&&e.push(n)}}),e}getSplineEvents(){return this._eventManager?.handlers?.Spline.splineEvents}emitEvent(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEvent(e)}emitEventReverse(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){this._controls?.orbitControls instanceof z$&&this._controls?.orbitControls.zoomOut(e)}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){let{r:t,g:n,b:i,a:r}={r:0,g:0,b:0,a:1},o=new nc(t,n,i,r);try{o.setStyle(e)}catch{console.error("This is not a valid css color",e)}this._scene?.activePage.setBackgroundColor(o),this._requestRenderAutoMode()}dispose(){this.disposed=!0,this._eventManager?.deactivate(),this._scene?.dispose(),this._sharedAssetsManager?.dispose(),this._proxyObjectCache.forEach(e=>{dV.unsubscribe(e)}),this._variablesCache.clear(),this._renderer?.setAnimationLoop(null),this._renderer?.dispose(),this._renderer=void 0,this._sharedAssetsManager?.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),void 0!==this._resizeObserverTimeout&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),this._controls?.deactivate(),function YAe(e){e.removeEventListener("pointerdown",_H,!0),e.removeEventListener("pointerdown",YM,!0),e.removeEventListener("pointermove",YM,!0),e.removeEventListener("pointerup",$v,!0),e.removeEventListener("pointercancel",$v,!0),e.removeEventListener("pointerleave",$v,!0),window.removeEventListener("keydown",xH,!0),window.removeEventListener("keyup",wH,!0)}(this.canvas)}get isStopped(){return this._isPaused}stop(){this._isPaused||(this._renderer?.setAnimationLoop(null),this._isPaused=!0,this._eventManager?.pause(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){!this._isPaused||(this._isPaused=!1,this._eventManager?.resume(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!0),this._renderer?.setAnimationLoop(this.render))}setGlobalEvents(e){this._eventManager?.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){if(null==e)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(r=>{r instanceof Xf&&(t=r.name)});let i=dV({name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof Xf||e instanceof UI?void 0:e.parent?.uuid,emitEvent(r){e.dispatchEvent({type:"userEvent",eventName:r})},emitEventReverse(r){e.dispatchEvent({type:"userEvent",eventName:r,reverse:!0})}},(r,o)=>{"object"!=typeof e[r]&&Object.getOwnPropertyDescriptor(e,r)?.writable&&(e[r]=o),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,i),i}}(i),this.spline.load("https://prod.spline.design/ETc1NgtkFiSuPoFT/scene.splinecode")},500)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===fl.ESC?"by pressing ESC":i===fl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}changeTabTitle(i){this.tabTitle=i}getStripPayemts(i,r,o){this.paymentData={name:i,amount:r},this.modalReference=this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(a=>{this.closeResult=`Closed with: ${a}`},a=>{this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Dt_baseUrl,this.payementservice.stripePayments(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(i.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}openModal(){const i=document.getElementById("contactModal");this.renderer.addClass(i,"show"),this.renderer.setStyle(i,"display","block"),this.renderer.setStyle(i,"backgroundColor","rgba(0,0,0,0.5)"),document.body.classList.add("modal-open")}closeModal(){const i=document.getElementById("contactModal");this.renderer.removeClass(i,"show"),this.renderer.setStyle(i,"display","none"),document.body.classList.remove("modal-open")}onSubmit(i){this.isSubmitting||(this.isSubmitting=!0,this.isLoading=!0,this.formData.email&&this.formData.remail?this.projectservice.sendContactForm(this.formData).subscribe(r=>{console.log("Email sent successfully",r),this.successMessage="Your message has been sent successfully!",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,i.reset(),setTimeout(()=>{this.successMessage="",this.closeModal()},5e3)},r=>{console.error("Error sending email",r),this.errorMessage="Failed to send your message. Please try again later.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},5e3)}):(this.errorMessage="Please fill in all required fields.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},3e3)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Ds),Me(Zc),Me(em),Me(ad),Me(Hl),Me(Gl),Me(lv),Me(Vg),Me(ql),Me(tm),Me(Jg),Me(qh),Me(im))},t.\u0275cmp=Mi({type:t,selectors:[["app-ecommerce"]],viewQuery:function(r,o){if(1&r&&Ru(I6e,5),2&r){let s;Qr(s=Zr())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&rt("scroll",function(a){return o.onScroll(a)},0,Up)("fullscreenchange",function(a){return o.onFullscreenChange(a)},!1,Cg)},decls:494,vars:30,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["id","canvas",1,"img-globe","floatimg"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"container-fluid"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand","mrem55"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor2"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto","m-auto"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","mt-md-5","mt-sm-4","mt-4"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"h1","weight300","text-center"],[1,"textcolor1","size53"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","client","bg1","backgroundbg"],[1,"logos"],[1,"fontsize12","mb-0","semibold"],["carouselSlide",""],[1,"section","packages","pt-0","backgroundbg"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"packages-section","mbrem5"],[1,"wght500","text-center","mb-3","mt-0"],[1,"size24","textcolor2","text-center"],[1,"col-lg-11","col-md-10","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-xxl-5","col-xl-5","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1","pulse"],[1,"circle2"],[1,"size16"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"size16","textcolor3"],[1,"d-block"],[1,"box"],[1,"cstbtn",3,"click"],[1,"col-xxl-7","col-xl-7","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","shadow",2,"max-width","600px"],[1,"text-start","py-3","weight500","medium","size53"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active","weight500",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link","weight500",3,"click"],["alt","",3,"src"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link","weight500",3,"click"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-12"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"list-group-item","d-flex","justify-content-start","align-items-center"],[1,"fa","fa-check"],[1,"ms-2"],[1,"cstprng-table-cta","position-relative","mtrem3","started"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-underline"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],["style","z-index: 0;"],["payments",""],["id","contactModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3",3,"ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autocomplete","off","placeholder","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput",1,"mt-0"],["type","email","name","email","autocomplete","off","id","email","placeholder","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","contact","autocomplete","off","id","contact","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","rname","name","rname","autocomplete","off","placeholder","R-name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","remail","autocomplete","off","id","remail","placeholder","R-email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rcontact","autocomplete","off","id","rcontact","placeholder","R-Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Submit",1,"submit",3,"disabled"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","alert alert-info mt-3","role","alert",4,"ngIf"],[1,"col-md-6"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["carouselSlide","",3,"id"],["target","_self",3,"href"],[3,"src"],[1,"team-img","position-relative","overflow-hidden"],["href","#","target","_blank","rel","noopener noreferrer"],[3,"src","alt"],["id","modal-basic-title",1,"modal-title"],["id","content"],[1,""],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"error"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],["role","alert",1,"alert","alert-info","mt-3"]],template:function(r,o){if(1&r){const s=xr();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"canvas",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),A(9,"Sell Globally with "),M(),x(10,"h1",8),A(11,"Custom"),x(12,"span",9),A(13," eCommerce"),M()()()()(),x(14,"div",10)(15,"ul",11)(16,"li")(17,"a",12),ce(18,"img",13),M()(),x(19,"li")(20,"a",14),ce(21,"img",15),M()(),x(22,"li")(23,"a",16),ce(24,"img",13),M()(),x(25,"li")(26,"a",17),ce(27,"img",18),M()()(),x(28,"div",19)(29,"p"),A(30,"We know what it takes to make "),M(),x(31,"p"),A(32,"A successful eCommerce Store"),M()()()()(),x(33,"div",20)(34,"p")(35,"a",21)(36,"span",22),A(37," Know About Branding"),M(),x(38,"span",23),ce(39,"i",24),M()()()()()(),ce(40,"div",25),x(41,"section",26)(42,"div",27)(43,"div",2)(44,"div",28)(45,"div",29)(46,"video",30,31),rt("click",function(){return o.playInFullscreenWithAudio()}),ce(48,"source",32)(49,"source",33),A(50," Your browser does not support the video tag. "),M()()()()()(),x(51,"section",34)(52,"div",1)(53,"div",2)(54,"div",35)(55,"div",36)(56,"h2",37)(57,"span",38),A(58,"A beautiful online store isn\u2019t enough "),M(),x(59,"span",39),A(60," \u2014you need one that converts. "),M(),A(61,", "),x(62,"span",38),A(63,"Whether it\u2019s Magento, Shopify, or Node.js, "),M(),x(64,"span",39),A(65,"we create custom "),x(66,"span",40),A(67," eCommerce"),M(),A(68,". platforms that perform, scale, and grow with you."),M()()()()()()(),x(69,"section",41)(70,"div",42)(71,"div",2)(72,"div",35)(73,"div",43)(74,"h1",44),ce(75,"div",45),A(76," Recent Works "),M()()(),x(77,"div",46)(78,"div",2),tt(79,R6e,9,8,"div",47),M()()()(),x(80,"div",48)(81,"div",49)(82,"div",43)(83,"h1",44),ce(84,"div",45),A(85," Recent Works "),M()()(),x(86,"owl-carousel-o",50),tt(87,F6e,2,1,"ng-container",51),M()(),x(88,"div",52)(89,"div",2)(90,"div",53)(91,"div",54)(92,"div",55)(93,"div",56)(94,"p")(95,"a",57)(96,"span",58),A(97,"Book A Consultation"),M(),x(98,"span",23),ce(99,"i",24),M()()()()()()()()()(),x(100,"section",59)(101,"div",1)(102,"div",2)(103,"div",35)(104,"div",60)(105,"p",61)(106,"span",62),A(107,"Why Choose Pixtar?"),M()(),x(108,"div",63)(109,"div",2)(110,"div",64)(111,"div",65),ce(112,"img",66),x(113,"p",67),A(114,"Crafted With The Golden Ratio"),M(),x(115,"p",68),A(116,"Everything we design follows the timeless principles of the golden ratio\u2014creating perfect harmony between form and function."),M()()(),x(117,"div",69)(118,"div",65),ce(119,"img",66),x(120,"p",67),A(121,"Custom Solutions. No Templates. Ever."),M(),x(122,"p",68),A(123,"Every brand is unique, and so is our approach. We build from scratch, ensuring your business is reflected in every detail."),M()()(),x(124,"div",64)(125,"div",65),ce(126,"img",66),x(127,"p",67),A(128,"Beyond The Limits, Always Transparent"),M(),x(129,"p",68),A(130,"We don\u2019t just deliver; we partner with you, going above and beyond with 100% transparency at every step of the way."),M()()()()()()()()()(),x(131,"section",70)(132,"div",1)(133,"div",2)(134,"div",35)(135,"div",71)(136,"h6",72),A(137,"OUR CLIENTS INCLUDE\u2026"),M(),x(138,"owl-carousel-o",50),es(139),tt(140,L6e,3,1,"ng-template",73),tt(141,B6e,3,1,"ng-template",73),tt(142,z6e,3,1,"ng-template",73),tt(143,U6e,3,1,"ng-template",73),tt(144,j6e,3,1,"ng-template",73),tt(145,V6e,3,1,"ng-template",73),tt(146,H6e,3,1,"ng-template",73),tt(147,G6e,3,1,"ng-template",73),tt(148,W6e,3,1,"ng-template",73),tt(149,q6e,3,1,"ng-template",73),tt(150,Y6e,3,1,"ng-template",73),tt(151,X6e,3,1,"ng-template",73),tt(152,$6e,3,1,"ng-template",73),ts(),M()()()()()(),x(153,"section",74)(154,"div",1)(155,"div",2)(156,"div",75)(157,"div",76)(158,"h2",77)(159,"span",62),A(160,"What\u2019s Included in Our Branding Packages?"),M()(),x(161,"p",78),A(162,"Whether you\u2019re starting from scratch or need a brand overhaul, we\u2019ve got you covered."),M()()(),x(163,"div",79)(164,"div",80)(165,"div",81)(166,"div",82)(167,"div",83)(168,"div",84)(169,"div",85)(170,"div",86),ce(171,"div",87)(172,"div",88),M(),x(173,"div",22)(174,"p",89),A(175,"Slots available"),M()()()(),x(176,"h1",90),A(177,"Join "),M(),x(178,"h1",91),A(179,"Pixtar"),M(),x(180,"div",92)(181,"h4",93),A(182,"Book a 15-min intro Call"),M(),x(183,"p",94),A(184,"Learn more about how Pixtar "),x(185,"span",95),A(186," works and how it can help you."),M()()(),x(187,"div",96)(188,"h4",93),A(189,"Refer a friend & earn"),M(),x(190,"p",94),A(191,"Earn 5% monthly recurring "),x(192,"span",95),A(193," commission for each referral. "),M(),x(194,"a",97),rt("click",function(){return o.openModal()}),x(195,"span",22),A(196," Get Started"),M(),x(197,"span",23),ce(198,"i",24),M()()()()()()(),x(199,"div",98)(200,"div",99)(201,"h2",100),A(202),M(),x(203,"nav")(204,"div",101)(205,"button",102),rt("click",function(){return o.changeTabTitle("Start your eCommerce")}),A(206," Shopify "),M(),x(207,"button",103),rt("click",function(){return o.changeTabTitle("Grow eCommerce Globally")}),ce(208,"img",104),A(209," Magento "),M(),x(210,"button",105),rt("click",function(){return o.changeTabTitle("Premium eCommerce")}),A(211," Custom Commerce "),M()()(),x(212,"div",106)(213,"div",107)(214,"div",108)(215,"div",109)(216,"h4",110),A(217,"AED 14,995"),M(),x(218,"h5",111),A(219,"Perfect for startups."),M()(),ce(220,"div",112),x(221,"div",113)(222,"h5",114),A(223,"What\u2019s included"),M(),x(224,"div",2)(225,"div",115)(226,"ul",116)(227,"li",117)(228,"div",118)(229,"div",119),A(230,"Tailored Ui/Ux Designing"),M()()(),x(231,"li",120),ce(232,"i",121),x(233,"span",122),A(234,"Custom Website Design 1 Theme Option"),M()(),x(235,"li",117)(236,"div",118)(237,"div",119),A(238,"Development"),M()()(),x(239,"li",120),ce(240,"i",121),x(241,"span",122),A(242,"Customized Front-End Development"),M()(),x(243,"li",120),ce(244,"i",121),x(245,"span",122),A(246,"Mobile, Tablet, & Desktop Responsive Design"),M()(),x(247,"li",120),ce(248,"i",121),x(249,"span",122),A(250,"Unlimited Products Listing"),M()(),x(251,"li",120),ce(252,"i",121),x(253,"span",122),A(254,"Ability for Future Enhancements"),M()(),x(255,"li",120),ce(256,"i",121),x(257,"span",122),A(258,"Hosting Support"),M()(),x(259,"li",117)(260,"div",118)(261,"div",119),A(262,"Standout features"),M()()(),x(263,"li",120),ce(264,"i",121),x(265,"span",122),A(266,"Contact us Email Integration"),M()(),x(267,"li",120),ce(268,"i",121),x(269,"span",122),A(270,"Payment Gateway Integration"),M()()()()()(),x(271,"div",123)(272,"div",20)(273,"p")(274,"a",97),rt("click",function(){En(s);const l=io(446);return kn(o.getStripPayemts("Shopify",14995,l))}),x(275,"span",22),A(276," Get Started"),M(),x(277,"span",23),ce(278,"i",24),M()()()(),x(279,"p",124),A(280,"Or "),x(281,"a",125),A(282,"book a call"),M()()()()(),x(283,"div",126)(284,"div",108)(285,"div",109)(286,"h4",110),A(287,"AED 24,995"),M(),x(288,"h5",111),A(289,"A full brand identity suite."),M()(),ce(290,"div",112),x(291,"div",113)(292,"h5",114),A(293,"What\u2019s included"),M(),x(294,"div",2)(295,"div",115)(296,"ul",116)(297,"li",117)(298,"div",118)(299,"div",119),A(300,"Tailored Ui/Ux Designing"),M()()(),x(301,"li",120),ce(302,"i",121),x(303,"span",122),A(304,"Custom Website Design upto 3 Theme Option"),M()(),x(305,"li",117)(306,"div",118)(307,"div",119),A(308,"Development"),M()()(),x(309,"li",120),ce(310,"i",121),x(311,"span",122),A(312,"Custom Front-End Development"),M()(),x(313,"li",120),ce(314,"i",121),x(315,"span",122),A(316,"Mobile, Tablet, and Desktop Responsive Design"),M()(),x(317,"li",120),ce(318,"i",121),x(319,"span",122),A(320,"Up to 20 Pages (Based on Final Requirements)"),M()(),x(321,"li",120),ce(322,"i",121),x(323,"span",122),A(324,"Ability for Future Enhancements"),M()(),x(325,"li",120),ce(326,"i",121),x(327,"span",122),A(328,"Hosting Support"),M()(),x(329,"li",117)(330,"div",118)(331,"div",119),A(332,"Standout features"),M()()(),x(333,"li",120),ce(334,"i",121),x(335,"span",122),A(336,"Admin Panel and User Management"),M()(),x(337,"li",120),ce(338,"i",121),x(339,"span",122),A(340,"SEO-Optimized Development"),M()(),x(341,"li",120),ce(342,"i",121),x(343,"span",122),A(344,"Google My Business Setup"),M()(),x(345,"li",120),ce(346,"i",121),x(347,"span",122),A(348,"Appointment Booking Integration"),M()(),x(349,"li",120),ce(350,"i",121),x(351,"span",122),A(352,"Contact Us Email Integration"),M()(),x(353,"li",120),ce(354,"i",121),x(355,"span",122),A(356,"Google Maps Integration"),M()()()()()(),x(357,"div",123)(358,"div",20)(359,"p")(360,"a",97),rt("click",function(){En(s);const l=io(446);return kn(o.getStripPayemts("Magento",24995,l))}),x(361,"span",22),A(362," Get Started"),M(),x(363,"span",23),ce(364,"i",24),M()()()(),x(365,"p",124),A(366,"Or "),x(367,"a",125),A(368,"book a call"),M()()()()(),x(369,"div",127)(370,"div",108)(371,"div",109)(372,"h4",110),A(373,"AED 59,995"),M(),x(374,"h5",111),A(375,"The ultimate package with unlimited requests."),M()(),ce(376,"div",112),x(377,"div",113)(378,"h5",114),A(379,"What\u2019s included"),M(),x(380,"div",2)(381,"div",115)(382,"ul",116)(383,"li",117)(384,"div",118)(385,"div",119),A(386,"Tailored Ui/Ux Designing"),M()()(),x(387,"li",120),ce(388,"i",121),x(389,"span",122),A(390,"Custom Website Design Upto 5 Theme Options"),M()(),x(391,"li",117)(392,"div",118)(393,"div",119),A(394,"Development & Standout Features"),M()()(),x(395,"li",120),ce(396,"i",121),x(397,"span",122),A(398,"Website Integration with CRM"),M()(),x(399,"li",120),ce(400,"i",121),x(401,"span",122),A(402,"Integration with other websites"),M()(),x(403,"li",120),ce(404,"i",121),x(405,"span",122),A(406,"Access to your Partners & Distributers to Create and Manage thier Account"),M()(),x(407,"li",120),ce(408,"i",121),x(409,"span",122),A(410,"User Pro\ufb01le Management"),M()(),x(411,"li",120),ce(412,"i",121),x(413,"span",122),A(414,"Unlimited Brochures Download options"),M()(),x(415,"li",120),ce(416,"i",121),x(417,"span",122),A(418,"WhatsApp Integration"),M()(),x(419,"li",120),ce(420,"i",121),x(421,"span",122),A(422,"Live Chat Integration"),M()(),x(423,"li",120),ce(424,"i",121),x(425,"span",122),A(426,"Google Reviews Integration"),M()(),x(427,"li",120),ce(428,"i",121),x(429,"span",122),A(430,"Social Media Live Updates Integration"),M()()()()()(),x(431,"div",123)(432,"div",20)(433,"p")(434,"a",97),rt("click",function(){En(s);const l=io(446);return kn(o.getStripPayemts("Custom Commerce",59995,l))}),x(435,"span",22),A(436," Get Started"),M(),x(437,"span",23),ce(438,"i",24),M()()()(),x(439,"p",124),A(440,"Or "),x(441,"a",125),A(442,"book a call"),M()()()()()()()()()()()()(),ce(443,"app-testimonial")(444,"app-faq-component"),tt(445,Z6e,30,4,"ng-template",128,129,bc),x(447,"div",130)(448,"div",131)(449,"div",132)(450,"div",133)(451,"h5",134),A(452,"Refer a friend & earn"),M(),x(453,"button",135),rt("click",function(){return o.closeModal()}),x(454,"span",136),A(455," \xd7 "),M()()(),x(456,"div",137)(457,"form",138,139),rt("ngSubmit",function(){En(s);const l=io(458);return kn(o.onSubmit(l))}),x(459,"div",140)(460,"input",141),rt("ngModelChange",function(l){return o.formData.name=l}),M(),x(461,"label",142),A(462,"Name"),M()(),x(463,"div",140)(464,"input",143),rt("ngModelChange",function(l){return o.formData.email=l}),M(),x(465,"label",142),A(466,"Email"),M(),tt(467,J6e,2,0,"div",144),M(),x(468,"div",140)(469,"input",145),rt("ngModelChange",function(l){return o.formData.contact=l}),M(),x(470,"label",142),A(471,"Contact"),M()(),x(472,"div",140)(473,"input",146),rt("ngModelChange",function(l){return o.formData.rname=l}),M(),x(474,"label",142),A(475,"Referrer-Name"),M()(),x(476,"div",140)(477,"input",147),rt("ngModelChange",function(l){return o.formData.remail=l}),M(),x(478,"label",142),A(479,"Referrer-Email"),M(),tt(480,eze,2,0,"div",144),M(),x(481,"div",140)(482,"input",148),rt("ngModelChange",function(l){return o.formData.rcontact=l}),M(),x(483,"label",142),A(484,"Referrer-Contact"),M()(),x(485,"div",149)(486,"div",150),ce(487,"input",151),M(),x(488,"div",152)(489,"button",153),rt("click",function(){return o.closeModal()}),A(490,"Cancel"),M()()()(),tt(491,tze,2,1,"div",154),tt(492,nze,2,1,"div",155),tt(493,ize,2,0,"div",156),M()()()()}if(2&r){const s=io(458);se(18),Ee("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/whatsapp.svg",Ce),se(17),We("ngStyle",pa(28,rze,o.sectionWidth+"%")),se(4),Ee("src","",o.baseUrl,"/pixtar logo animation 6.MP4",Ce),se(1),Ee("src","",o.baseUrl,"/pixtar logo animation 6.MP4",Ce),se(30),We("ngForOf",o.allprojects),se(7),We("options",o.recentoptions),se(1),We("ngForOf",o.allprojects),se(25),Ee("src","",o.baseUrl,"/img/home/art-icons/craft.svg",Ce),se(7),Ee("src","",o.baseUrl,"/img/home/art-icons/solution.svg",Ce),se(7),Ee("src","",o.baseUrl,"/img/home/art-icons/beyond.svg",Ce),se(12),We("options",o.clientslider),se(64),$s(o.tabTitle),se(6),Ee("src","",o.baseUrl,"/img/services/shock.png",Ce),se(252),We("ngModel",o.formData.name),se(4),We("ngModel",o.formData.email),se(3),We("ngIf",!o.formData.email&&s.submitted),se(2),We("ngModel",o.formData.contact),se(4),We("ngModel",o.formData.rname),se(4),We("ngModel",o.formData.remail),se(3),We("ngIf",!o.formData.remail&&s.submitted),se(2),We("ngModel",o.formData.rcontact),se(5),We("disabled",o.isSubmitting),se(4),We("ngIf",o.successMessage),se(1),We("ngIf",o.errorMessage),se(1),We("ngIf",o.isLoading)}},dependencies:[Qs,fa,kg,sd,H0,Zp,z0,U0,rf,V0,zg,nf,Ug,hf,Uu,cv,nm],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-19rem;top:30%;width:500px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-6rem;width:400px;top:28%}}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;top:33%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:290px;top:30%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:3%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:404px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:0 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:40px 10px 50px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:170px}@media (max-width: 480px){.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:140px}}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px;width:100%;height:auto}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 15px;border-radius:20px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 0}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #da9777;background-color:#da9777;color:#fff;border-radius:33px;position:relative;display:inline-block;padding:13px 16px;margin-bottom:20px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#000;border:1px solid #000}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]{justify-content:end;align-items:end;position:relative;top:-7px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:60px;height:60px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;width:100%;border-radius:50px;margin-bottom:0;height:100%;padding:20px 40px}@media (max-width: 1440px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 30px}}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 10px;border-radius:20px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:none}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:6px 5px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 5px}}@media (max-width: 330px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 3px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:4rem;bottom:10px}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:3.5rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:0}}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:42%!important}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90px;z-index:3}@media (max-width: 480px){.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75px}}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;color:#fff;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center;margin-top:-40px!important}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}.pulse[_ngcontent-%COMP%]{margin:100px;display:block;width:22px;height:22px;border-radius:50%;background:#cca92c;cursor:pointer;box-shadow:0 0 #5b5b5f;animation:_ngcontent-%COMP%_pulse 2s infinite}.pulse[_ngcontent-%COMP%]:hover{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #5b5b5f}70%{box-shadow:0 0 0 10px #cca92c00}to{box-shadow:0 0 #cca92c00}}']}),e})();const sze=["myVideo"];function aze(e,t){if(1&e){const n=xr();x(0,"div",115)(1,"div",201)(2,"a",202)(3,"img",203),rt("mouseenter",function(){const o=En(n).index;return kn(nt().onMouseEnter(o))})("mouseleave",function(){return En(n),kn(nt().onMouseLeave())}),M(),x(4,"div",204)(5,"p",205),A(6),M(),x(7,"p",206),ce(8,"span",207),M()()()()()}if(2&e){const n=t.$implicit,i=t.index,r=nt();se(2),Ul("href",n.link,Ce),se(1),Iu("galleryimg",i,""),jl("src","",r.imagepath,"",n.image,"",Ce),se(3),$s(n.name),se(2),We("innerHTML",n.desc,vc)}}function lze(e,t){if(1&e&&(x(0,"a",209),ce(1,"img",210),x(2,"div",204)(3,"p",205),A(4),M(),x(5,"p",206),ce(6,"span",207),M()()()),2&e){const n=nt().$implicit,i=nt();Ul("href",n.link,Ce),se(1),jl("src","",i.imagepath,"",n.project_images[0],"",Ce),se(3),$s(n.name),se(2),We("innerHTML",n.desc,vc)}}function cze(e,t){if(1&e&&(es(0),tt(1,lze,7,5,"ng-template",208),ts()),2&e){const n=t.$implicit,i=t.index;se(1),We("id",n+i)}}function dze(e,t){1&e&&(x(0,"div",220)(1,"div"),A(2," Name is required. "),M()())}function uze(e,t){if(1&e&&(x(0,"div",220)(1,"div"),A(2),M()()),2&e){const n=nt(2);se(2),ro(" ",n.hasEmailError("email","required")," ")}}function hze(e,t){if(1&e){const n=xr();x(0,"div",177)(1,"h5",211),A(2),M(),x(3,"button",179),rt("click",function(){return kn(En(n).$implicit.dismiss("Cross click"))}),x(4,"span",180),A(5," \xd7 "),M()()(),x(6,"div",181)(7,"div",212)(8,"div",1)(9,"div",2)(10,"div",213)(11,"div",130)(12,"form",214),rt("ngSubmit",function(){return En(n),kn(nt().submitPayment())}),x(13,"div",215)(14,"div",184),ce(15,"input",216),x(16,"label",186),A(17,"What's your name?"),M(),tt(18,dze,3,0,"div",217),M(),x(19,"div",184),ce(20,"input",218),x(21,"label",186),A(22,"What\u2019s your e-mail?"),M(),tt(23,uze,3,1,"div",217),M(),x(24,"div",193)(25,"div",194),ce(26,"input",219),M(),x(27,"div",196)(28,"button",197),rt("click",function(){return En(n),kn(nt().closePopUp())}),A(29,"Cancel"),M()()()()()()()()()()()}if(2&e){const n=nt();se(2),ro(" Complete Your Payment - ",n.paymentData.name," "),se(10),We("formGroup",n.paymentForm),se(6),We("ngIf",n.submitted&&n.hasError("name","required")),se(5),We("ngIf",n.submitted&&n.hasEmailError("email","required"))}}function pze(e,t){1&e&&(x(0,"div",221),A(1," Email is required. "),M())}function fze(e,t){1&e&&(x(0,"div",221),A(1," R-Email is required. "),M())}function gze(e,t){if(1&e&&(x(0,"div",222),A(1),M()),2&e){const n=nt();se(1),ro(" ",n.successMessage," ")}}function mze(e,t){if(1&e&&(x(0,"div",223),A(1),M()),2&e){const n=nt();se(1),ro(" ",n.errorMessage," ")}}function vze(e,t){1&e&&(x(0,"div",224),A(1," Sending your message, please wait... "),M())}const yze=function(e){return{width:e}};let bze=(()=>{const t=class{onScroll(i){const r=window.scrollY||document.documentElement.scrollTop;this.sectionWidth=Math.min(100,50+r/10)}constructor(i,r,o,s,a,l,c,u,d,h,f,v,y){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=u,this.http=d,this.projectservice=h,this.modalService=f,this.activeModal=v,this.payementservice=y,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.recentoptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],margin:14,responsive:{0:{items:2},480:{items:2},740:{items:3},940:{items:4}},nav:!1},this.clientslider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,slideTransition:"linear",autoplaySpeed:3e3,autoplayTimeout:5e3,autoplayHoverPause:!0,nav:!1,center:!1,navText:['<i class="fas fa-arrow-left"></i>','<i class="fas fa-arrow-right"></i>'],margin:14,responsive:{0:{items:3},480:{items:4},740:{items:4},940:{items:7}}},this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:1500,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.sectionWidth=10,this.closeResult="",this.modalReference=null,this.submitted=!1,this.formData={name:"",email:"",contact:"",rname:"",remail:"",rcontact:""},this.successMessage="",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,this.tabTitle="For Startups",this.hasError=(b,w)=>this.paymentForm.controls[b].hasError(w),this.hasEmailError=(b,w)=>""==this.paymentForm.controls.email.value?"Email is required":"INVALID"==this.paymentForm.controls.email.status?"Invalid Email":this.paymentForm.controls.email.hasError(w),this.baseUrl=Dt_baseUrl+"/assets",this.imagepath=Dt_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.paymentForm=this.formBuilder.group({name:["",Wl.required],email:["",Wl.required]})}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}changeTabTitle(i){this.tabTitle=i}openPopup(i){this.modalReference=this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass",size:"lg",backdrop:"static"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(i){return i===fl.ESC?"by pressing ESC":i===fl.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${i}`}getStripPayemts(i,r,o,s){this.paymentData={name:i,amount:r,price_id:s},this.modalReference=this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",windowClass:"myCustomModalClass2"}).result.then(l=>{this.closeResult=`Closed with: ${l}`},l=>{this.closeResult=`Dismissed ${this.getDismissReason(l)}`})}submitPayment(){this.submitted=!0,!this.paymentForm.invalid&&this.paymentData&&(this.paymentData.email=this.paymentForm.value.email,this.paymentData.customer_name=this.paymentForm.value.name,this.paymentData.base_url=Dt_baseUrl,this.payementservice.stripeSubscribe(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",JSON.stringify(this.paymentData)),this.paymentForm.reset(),window.open(i.body.url,"_blank"),this.modalService.dismissAll())}))}closePopUp(){this.modalService.dismissAll()}ngAfterViewInit(){const i=this.videoElement.nativeElement;i.muted=!0,i.loop=!0,i.play().catch(r=>{console.log("Autoplay failed, user interaction may be required:",r)})}playInFullscreenWithAudio(){const i=this.videoElement.nativeElement;i.muted=!1,i.removeAttribute("controls"),i.play().then(()=>{i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen&&i.mozRequestFullScreen()}).catch(r=>{console.log("Error entering fullscreen with audio: ",r)})}onFullscreenChange(){const i=this.videoElement.nativeElement;document.fullscreenElement===i||document.webkitFullscreenElement===i||document.msFullscreenElement===i||document.mozFullScreenElement===i?i.play().catch(r=>{console.log("Could not play in fullscreen mode:",r)}):(i.setAttribute("controls",""),i.muted=!0)}openModal(){const i=document.getElementById("contactModal");this.renderer.addClass(i,"show"),this.renderer.setStyle(i,"display","block"),this.renderer.setStyle(i,"backgroundColor","rgba(0,0,0,0.5)"),document.body.classList.add("modal-open")}closeModal(){const i=document.getElementById("contactModal");this.renderer.removeClass(i,"show"),this.renderer.setStyle(i,"display","none"),document.body.classList.remove("modal-open")}onSubmit(i){this.isSubmitting||(this.isSubmitting=!0,this.isLoading=!0,this.formData.email&&this.formData.remail?this.projectservice.sendContactForm(this.formData).subscribe(r=>{console.log("Email sent successfully",r),this.successMessage="Your message has been sent successfully!",this.errorMessage="",this.isSubmitting=!1,this.isLoading=!1,i.reset(),setTimeout(()=>{this.successMessage="",this.closeModal()},5e3)},r=>{console.error("Error sending email",r),this.errorMessage="Failed to send your message. Please try again later.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},5e3)}):(this.errorMessage="Please fill in all required fields.",this.isSubmitting=!1,this.isLoading=!1,setTimeout(()=>{this.errorMessage=""},3e3)))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Ds),Me(Zc),Me(em),Me(ad),Me(Hl),Me(Gl),Me(lv),Me(Vg),Me(ql),Me(tm),Me(Jg),Me(qh),Me(im))},t.\u0275cmp=Mi({type:t,selectors:[["app-graphics"]],viewQuery:function(r,o){if(1&r&&Ru(sze,5),2&r){let s;Qr(s=Zr())&&(o.videoElement=s.first)}},hostBindings:function(r,o){1&r&&rt("scroll",function(a){return o.onScroll(a)},0,Up)("fullscreenchange",function(a){return o.onFullscreenChange(a)},!1,Cg)},decls:518,vars:30,consts:[[1,"cbanner","bannerbgcolor"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90"],[1,"barcely"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-arround","p-0","float-start",2,"height","130px","list-style","none","justify-content","space-between"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,""],["alt","","width","15",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,""],["alt","","width","10",3,"src"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,""],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","18",3,"src"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"position-absolute","start-50","translate-middle","down-arrow","bnrstart"],["href","graphics#package",1,"cstbtn"],[1,"text"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"bannerbgcolor","cstheight"],[1,"cstvideo"],[1,"container-fluid"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto",3,"ngStyle"],[1,"video-frame"],["width","100%","muted","","autoplay","",2,"cursor","pointer",3,"click"],["myVideo",""],["type","video/mp4",3,"src"],["type","video/ogg",3,"src"],[1,"aboutbrand","mrem55"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand"],[1,"size53","weight300"],[1,"textcolor1"],[1,"textcolor2"],[1,"barcy","text-color"],[1,"topdist","bannerdrk","hard-work"],[1,"container","d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],[1,"col-xxl-12","col-xl-11","col-md-11","col-sm-11","col-11","mx-auto"],[1,"d-flex","justify-content-start","align-items-center","cmargin"],[1,"text-white","h1"],[1,"line"],["class","col-md-6",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"customslider","d-block","d-sm-block","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"col-md-10","offset-md-1"],[3,"options"],[4,"ngFor","ngForOf"],[1,"section","bannerdrk","container"],[1,"col-md-10","m-auto"],[1,"d-flex","flex-column","justify-content-center","align-items-center","video-block"],[1,"position-relative"],[1,"float-start","cwd243"],["routerLink","/contact",1,"cstbtn","cstbtn128","textcolor5"],[1,"text","text128","textcolor5"],[1,"section","choosesection"],[1,"choose-section"],[1,"col-md-6","col-sm-11","col-11","mx-auto"],[1,"mbrem8"],[1,"head-section","pt-xxl-3","pt-xl-0"],[1,"wght500","text-center","mb-3","mt-0"],[1,"textcolor1","size53"],[1,"size24","textcolor2","text-center"],[1,"postion-relative","mtrem5","mbrem5"],[1,"position-absolute","start-50","translate-middle","down-arrow"],["href","#",1,"cstbtn"],[1,"h1","weight300","text-center","para"],[1,"mtrem5"],[1,"col-md-4"],[1,"box","text-center"],["alt","",1,"mb30",3,"src"],[1,"size18","textcolor1","weight600","p1"],[1,"size18","textcolor3","p2"],[1,"col-md-4","mt-md-0","mt-sm-4","mb-md-0","mb-sm-4","mb-4","mt-4"],[1,"section","packages","pt-0","backeeedf0"],[1,"packages-section","mbrem5","mtrem5"],["id","package",1,"col-lg-11","col-md-10","col-sm-11","col-11","mx-auto"],[1,"row","justify-content-center"],[1,"col-xxl-5","col-xl-5","col-lg-8","col-md-10"],[1,"card","bgblk"],[1,"card-body"],[1,"brd"],[1,"d-flex"],[1,"icons"],[1,"circle1","pulse"],[1,"circle2"],[1,"size16","textcolor3"],[1,"textcolor3","size90"],[1,"size90","weight700","text-white","mt-0","mb-4"],[1,"box","mb-2"],[1,"text-white","weight500","mb-2","mt-0","size20"],[1,"d-block"],[1,"box"],[1,"cstbtn",3,"click"],[1,"col-xxl-7","col-xl-7","col-lg-8","col-md-10","mt-xl-0","mt-lg-5","mt-md-5","mt-sm-5","mt-5"],[1,"card","shadow",2,"max-width","600px"],[1,"text-start","py-3","medium","size53"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","mb-3"],["id","nav-home-tab","data-bs-toggle","tab","data-bs-target","#nav-home","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link","active",3,"click"],["id","nav-profile-tab","data-bs-toggle","tab","data-bs-target","#nav-profile","type","button","role","tab","aria-controls","nav-profile","aria-selected","false",1,"nav-link",3,"click"],["alt","",3,"src"],["id","nav-contact-tab","data-bs-toggle","tab","data-bs-target","#nav-contact","type","button","role","tab","aria-controls","nav-contact","aria-selected","false",1,"nav-link",3,"click"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","active","show"],[1,"cstprng-table"],[1,"cstprng-table-header"],[1,"cstprng-table-cost","size53","textcolor1","weight500","mt-0"],[1,"cstprng-table-about","size20","textcolor1","weight500"],[1,"divider"],[1,"cstprng-table-features"],[1,"size20","textcolor1","weight500"],[1,"col-md-6"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","align-items-center","border-0","p-0","mb-2"],[1,"fa","fa-check","me-2"],[1,"cstprng-table-cta","position-relative","mtrem3","started"],[1,"size14","cntlink"],["routerLink","/contact",1,"text-decoration-underline"],["id","nav-profile","role","tabpanel","aria-labelledby","nav-profile-tab",1,"tab-pane","fade"],["id","nav-contact","role","tabpanel","aria-labelledby","nav-contact-tab",1,"tab-pane","fade"],[1,"col-lg-5","col-md-7","col-sm-11","col-11","mx-auto"],[1,"subscription-section","mtrem5"],[1,"section","bannerdrk","faqsection"],[1,"col-md-10","col-sm-11","col-11","m-auto"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-4","col-md-6","col-sm-6"],[1,"creative"],[1,""],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"col-lg-7","offset-lg-1","col-md-6","col-sm-6"],[1,"custom-collapse","footer-collapse"],["id","accordionExample1",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed","brdtp"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],[1,"accordion-body"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","collapsed"],["id","collapseFour","aria-labelledby","headingFour","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingFive",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","collapsed"],["id","collapseFive","aria-labelledby","headingFive","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","collapsed"],["id","collapseSix","aria-labelledby","headingSix","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingSeven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","collapsed","brdbtm"],["id","collapseSeven","aria-labelledby","headingSeven","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingEight",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEight","aria-expanded","false","aria-controls","collapseEight",1,"accordion-button","collapsed","brdbtm"],["id","collapseEight","aria-labelledby","headingEight","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingNine",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseNine","aria-expanded","false","aria-controls","collapseNine",1,"accordion-button","collapsed","brdbtm"],["id","collapseNine","aria-labelledby","headingNine","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingTen",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTen","aria-expanded","false","aria-controls","collapseTen",1,"accordion-button","collapsed","brdbtm"],["id","collapseTen","aria-labelledby","headingTen","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingEleven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEleven","aria-expanded","false","aria-controls","collapseEleven",1,"accordion-button","collapsed","brdbtm"],["id","collapseEleven","aria-labelledby","headingEleven","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["id","headingTweleve",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTweleve","aria-expanded","false","aria-controls","collapseTweleve",1,"accordion-button","collapsed","brdbtm"],["id","collapseTweleve","aria-labelledby","headingTweleve","data-bs-parent","#accordionExample1",1,"accordion-collapse","collapse"],["style","z-index: 0;"],["payments",""],["id","contactModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3",3,"ngSubmit"],["contactForm","ngForm"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autocomplete","off","placeholder","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput",1,"mt-0"],["type","email","name","email","autocomplete","off","id","email","placeholder","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","contact","autocomplete","off","id","contact","placeholder","Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","rname","name","rname","autocomplete","off","placeholder","R-name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","remail","autocomplete","off","id","remail","placeholder","R-email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rcontact","autocomplete","off","id","rcontact","placeholder","R-Contact","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"text-center","text-sm-start","me-3"],["type","submit","name","submit","value","Submit",1,"submit",3,"disabled"],[1,"input-group1"],["type","cancel",1,"button","text-center",3,"click"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","alert alert-info mt-3","role","alert",4,"ngIf"],[1,"imgblock"],["target","_blank",3,"href"],["alt","",3,"src","mouseenter","mouseleave"],[1,"box-name","text-center"],[1,"mb-0","textcolor5","h2"],[1,"textcolor4"],[3,"innerHTML"],["carouselSlide","",3,"id"],["target","_self",3,"href"],[3,"src"],["id","modal-basic-title",1,"modal-title"],["id","content"],[1,"col-md-12"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"row","mrl-0","mb-3",2,"padding","5px 5px"],["type","text","name","name","autocomplete","off","formControlName","name","id","floatingInput","placeholder","name",1,"form-control"],["class","error",4,"ngIf"],["type","email","name","email","autocomplete","off","formControlName","email","id","floatingInput","placeholder","email",1,"form-control"],["type","submit","name","submit","value","Pay Now",1,"submit"],[1,"error"],[1,"text-danger"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"],["role","alert",1,"alert","alert-info","mt-3"]],template:function(r,o){if(1&r){const s=xr();x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8)(9,"span",9),A(10,"Graphic "),M(),A(11,"Designs"),M(),x(12,"h1",8),A(13,"on Demand."),M(),x(14,"h1",8),A(15,"Your Way, Every Day."),M()()()(),x(16,"div",10)(17,"ul",11)(18,"li")(19,"a",12),ce(20,"img",13),M()(),x(21,"li")(22,"a",14),ce(23,"img",15),M()(),x(24,"li")(25,"a",16),ce(26,"img",13),M()(),x(27,"li")(28,"a",17),ce(29,"img",18),M()()(),x(30,"div",19)(31,"p"),A(32,"Design subscriptions for everyone."),M(),x(33,"p"),A(34,"Pause or cancel anytime."),M()()()()(),x(35,"div",20)(36,"p")(37,"a",21)(38,"span",22),A(39," Know About Branding"),M(),x(40,"span",23),ce(41,"i",24),M()()()()()(),ce(42,"div",25),x(43,"section",26)(44,"div",27)(45,"div",2)(46,"div",28)(47,"div",29)(48,"video",30,31),rt("click",function(){return o.playInFullscreenWithAudio()}),ce(50,"source",32)(51,"source",33),A(52," Your browser does not support the video tag. "),M()()()()()(),x(53,"section",34)(54,"div",1)(55,"div",2)(56,"div",35)(57,"div",36)(58,"h2",37)(59,"span",38),A(60," Imagine never having to search for a designer again."),M(),x(61,"span",39),A(62,"With Pixtar\u2019s "),M(),x(63,"span",40),A(64," Graphic design "),M(),x(65,"span",39),A(66,"subscription,"),M(),x(67,"span",38),A(68," you get premium designs on demand"),M(),x(69,"span",39),A(70," \u2014crafted with care, precision, and zero templates."),M()()()()()()(),x(71,"section",41)(72,"div",42)(73,"div",2)(74,"div",43)(75,"div",44)(76,"h1",45),ce(77,"div",46),A(78," Recent Works "),M()()(),x(79,"div",43)(80,"div",2),tt(81,aze,9,8,"div",47),M()()()(),x(82,"div",48)(83,"div",49)(84,"div",44)(85,"h1",45),ce(86,"div",46),A(87," Recent Works "),M()()(),x(88,"owl-carousel-o",50),tt(89,cze,2,1,"ng-container",51),M()(),x(90,"div",52)(91,"div",2)(92,"div",53)(93,"div",54)(94,"div",55)(95,"div",56)(96,"p")(97,"a",57)(98,"span",58),A(99,"Book A Consultation"),M(),x(100,"span",23),ce(101,"i",24),M()()()()()()()()()(),x(102,"section",59)(103,"div",1)(104,"div",2)(105,"div",35)(106,"div",60)(107,"div",61)(108,"div",62)(109,"div",63)(110,"h2",64)(111,"span",65),A(112,"A Simple, Stress-Free Design Process"),M()(),x(113,"p",66),A(114,"Say goodbye to hourly rates and unreliable freelancers. With Pixtar\u2019s subscription, you get unlimited, high-quality graphic design\u2014crafted from scratch, no templates, no limits."),M()(),x(115,"div",67)(116,"div",68)(117,"p")(118,"a",69)(119,"span",22),A(120," Subscribe Now"),M(),x(121,"span",23),ce(122,"i",24),M()()()()()()(),x(123,"p",70)(124,"span",65),A(125,"What Makes Us Different?"),M()(),x(126,"div",71)(127,"div",2)(128,"div",72)(129,"div",73),ce(130,"img",74),x(131,"p",75),A(132,"Subscribe To Pixtar"),M(),x(133,"p",76),A(134,"Pick a plan that fits your needs. The more credits, the more flexibility."),M()()(),x(135,"div",77)(136,"div",73),ce(137,"img",74),x(138,"p",75),A(139,"Request A Design"),M(),x(140,"p",76),A(141,"Got a project in mind? Send your request and we\u2019ll start crafting."),M()()(),x(142,"div",72)(143,"div",73),ce(144,"img",74),x(145,"p",75),A(146,"We Design, You Relax"),M(),x(147,"p",76),A(148,"We\u2019ll fine-tune the designs until you love them."),M()()()()()()()()()(),x(149,"section",78)(150,"div",1)(151,"div",2)(152,"div",61)(153,"div",79)(154,"h2",64)(155,"span",65),A(156,"Plans Designed to Fit Every Need"),M()(),x(157,"p",66),A(158,"Whether you\u2019re a startup, a growing business, or an enterprise, we\u2019ve got a plan for you. Each credit gives you access to premium design services\u2014crafted to perfection using the golden ratio"),M()()(),x(159,"div",80)(160,"div",81)(161,"div",82)(162,"div",83)(163,"div",84)(164,"div",85)(165,"div",86)(166,"div",87),ce(167,"div",88)(168,"div",89),M(),x(169,"div",22)(170,"p",90),A(171,"Slots available"),M()()()(),x(172,"h1",91),A(173,"Join "),M(),x(174,"h1",92),A(175,"Pixtar"),M(),x(176,"div",93)(177,"h4",94),A(178,"Book a 15-min intro Call"),M(),x(179,"p",90),A(180,"Learn more about how Pixtar "),x(181,"span",95),A(182," works and how it can help you."),M()()(),x(183,"div",96)(184,"h4",94),A(185,"Refer a friend & earn"),M(),x(186,"p",90),A(187,"Earn 5% monthly recurring "),x(188,"span",95),A(189," commission for each referral."),M(),x(190,"a",97),rt("click",function(){return o.openModal()}),x(191,"span",22),A(192," Get Started"),M(),x(193,"span",23),ce(194,"i",24),M()()()()()()(),x(195,"div",98)(196,"div",99)(197,"h2",100),A(198),M(),x(199,"nav")(200,"div",101)(201,"button",102),rt("click",function(){return o.changeTabTitle("For Starups")}),A(202," Explorer "),M(),x(203,"button",103),rt("click",function(){return o.changeTabTitle("For Growing Businesses.")}),ce(204,"img",104),A(205," Pro "),M(),x(206,"button",105),rt("click",function(){return o.changeTabTitle("For Agencies & Large Teams")}),A(207," Enterprise "),M()()(),x(208,"div",106)(209,"div",107)(210,"div",108)(211,"div",109)(212,"h4",110),A(213,"AED 6,995"),M(),x(214,"h5",111),A(215,"One request at a time, Pause or cancel anytime."),M()(),ce(216,"div",112),x(217,"div",113)(218,"h5",114),A(219,"What\u2019s included"),M(),x(220,"div",2)(221,"div",115)(222,"ul",116)(223,"li",117),ce(224,"i",118),A(225,"One requests at a time "),M(),x(226,"li",117),ce(227,"i",118),A(228,"Average 48 hour delivery "),M(),x(229,"li",117),ce(230,"i",118),A(231,"Unlimited brands "),M()()(),x(232,"div",115)(233,"ul",116)(234,"li",117),ce(235,"i",118),A(236,"Adobe .Ai .Ps .Xd "),M(),x(237,"li",117),ce(238,"i",118),A(239,"Dedicated Account Manager "),M(),x(240,"li",117),ce(241,"i",118),A(242,"Pause or cancel anytime "),M()()()()(),x(243,"div",119)(244,"div",68)(245,"p")(246,"a",97),rt("click",function(){En(s);const l=io(470);return kn(o.getStripPayemts("Explorer",6995,l,"price_1QKFksE1meeZaYUdjH9OLyfv"))}),x(247,"span",22),A(248," Get Started"),M(),x(249,"span",23),ce(250,"i",24),M()()()(),x(251,"p",120),A(252,"Or "),x(253,"a",121),A(254,"book a call"),M()()()()(),x(255,"div",122)(256,"div",108)(257,"div",109)(258,"h4",110),A(259,"AED 11,995"),M(),x(260,"h5",111),A(261,"Double the requests. Pause or cancel anytime."),M()(),ce(262,"div",112),x(263,"div",113)(264,"h5",114),A(265,"What\u2019s included"),M(),x(266,"div",2)(267,"div",115)(268,"ul",116)(269,"li",117),ce(270,"i",118),A(271,"Two requests at a time "),M(),x(272,"li",117),ce(273,"i",118),A(274,"Average 48 hour delivery "),M(),x(275,"li",117),ce(276,"i",118),A(277,"Unlimited brands "),M(),x(278,"li",117),ce(279,"i",118),A(280,"XD UI design "),M()()(),x(281,"div",115)(282,"ul",116)(283,"li",117),ce(284,"i",118),A(285,"15 stock photos "),M(),x(286,"li",117),ce(287,"i",118),A(288,"Unlimited users "),M(),x(289,"li",117),ce(290,"i",118),A(291,"Dedicated Account Manager "),M(),x(292,"li",117),ce(293,"i",118),A(294,"Pause or cancel anytime "),M()()()()(),x(295,"div",119)(296,"div",68)(297,"p")(298,"a",97),rt("click",function(){En(s);const l=io(470);return kn(o.getStripPayemts("Pro",11995,l,"price_1QKFm1E1meeZaYUdeb4XrOTb"))}),x(299,"span",22),A(300," Get Started"),M(),x(301,"span",23),ce(302,"i",24),M()()()(),x(303,"p",120),A(304,"Or "),x(305,"a",121),A(306,"book a call"),M()()()()(),x(307,"div",123)(308,"div",108)(309,"div",109)(310,"h4",110),A(311,"AED 24,995"),M(),x(312,"h5",111),A(313,"For Agencies and Large Teams."),M()(),ce(314,"div",112),x(315,"div",113)(316,"h5",114),A(317,"What\u2019s included"),M(),x(318,"div",2)(319,"div",115)(320,"ul",116)(321,"li",117),ce(322,"i",118),A(323,"10 requests at a time "),M(),x(324,"li",117),ce(325,"i",118),A(326,"Same-day turnaround "),M(),x(327,"li",117),ce(328,"i",118),A(329,"Unlimited brands "),M(),x(330,"li",117),ce(331,"i",118),A(332,"XD UI design "),M()()(),x(333,"div",115)(334,"ul",116)(335,"li",117),ce(336,"i",118),A(337,"Unlimited stock photos "),M(),x(338,"li",117),ce(339,"i",118),A(340,"Unlimited users "),M(),x(341,"li",117),ce(342,"i",118),A(343,"Dedicated Creative Director & Slack Support. "),M(),x(344,"li",117),ce(345,"i",118),A(346,"Pause or cancel anytime "),M()()()()(),x(347,"div",119)(348,"div",68)(349,"p")(350,"a",97),rt("click",function(){En(s);const l=io(470);return kn(o.getStripPayemts("Enterprise",24995,l,"price_1QKFo9E1meeZaYUdXTwBkfqo"))}),x(351,"span",22),A(352," Get Started"),M(),x(353,"span",23),ce(354,"i",24),M()()()(),x(355,"p",120),A(356,"Or "),x(357,"a",121),A(358,"book a call"),M()()()()()()()()()(),x(359,"div",124)(360,"div",125)(361,"h2",64)(362,"span",65),A(363,"Your Subscription, Your Way"),M()(),x(364,"p",66),A(365," Got a busy month and need more credits? No problem. You can top-up anytime or upgrade your plan on the fly "),M()()()()()(),ce(366,"app-testimonial"),x(367,"section",126)(368,"div",1)(369,"div",2)(370,"div",127)(371,"div",2)(372,"div",128)(373,"div",129)(374,"h1",130),A(375," Frequently "),ce(376,"br"),A(377," Asked "),ce(378,"br"),A(379," Questions\u2026 "),ce(380,"br"),M()()(),x(381,"div",131)(382,"div",95)(383,"div",132)(384,"div",133)(385,"div",134)(386,"h2",135)(387,"button",136),A(388," Why not just hire a full-time designer? "),M()(),x(389,"div",137)(390,"div",138),A(391," Pixtar stands out for our unique blend of creativity, strategy, and a deep commitment to client satisfaction. We don\u2019t just design; we craft memorable, user-friendly experiences that make brands shine. "),M()()(),x(392,"div",134)(393,"h2",139)(394,"button",140),A(395," Is there a limit to my design requests? "),M()(),x(396,"div",141)(397,"div",138),A(398," Nope! Once you\u2019re subscribed, feel free to add as many design requests to your queue as you need\u2014they\u2019ll be delivered one at a time. "),M()()(),x(399,"div",134)(400,"h2",142)(401,"button",143),A(402," How fast can I expect my designs? "),M()(),x(403,"div",144)(404,"div",138),A(405," Most requests are turned around within 48 hours. Typical requests like banners, brochures, flyers, event themes, and social templates usually take about two days, though bigger projects may take a little longer. If your request is on the larger side, you can expect steady progress every 24 hours until it\u2019s complete. "),M()()(),x(406,"div",134)(407,"h2",145)(408,"button",146),A(409," Who\u2019s doing the design work? "),M()(),x(410,"div",147)(411,"div",138),A(412," Surprise! Pixtar is a tight-knit team of nine, and our founder is hands-on with every project. This means you\u2019ll work directly with Pixtar\u2019s founder. For specialized requests, like animations or custom illustrations, we collaborate with our trusted partner designers. "),M()()(),x(413,"div",134)(414,"h2",148)(415,"button",149),A(416," How does the pause feature work? "),M()(),x(417,"div",150)(418,"div",138),A(419," We get it\u2014sometimes you don\u2019t have a full month\u2019s worth of design needs. With the pause feature, you can stop your subscription anytime. Here\u2019s how it works: Billing runs on a 31-day cycle. Let\u2019s say you\u2019ve used the service for 21 days, then decide to pause. This leaves you with 10 days of service, which you can pick up anytime in the future. "),M()()(),x(420,"div",134)(421,"h2",151)(422,"button",152),A(423," What about larger projects? "),M()(),x(424,"div",153)(425,"div",138),A(426," No problem! Larger requests, like full website or app designs, are delivered in parts. We break them down on our end and deliver portions every 24\u201348 hours until everything\u2019s complete. "),M()()(),x(427,"div",134)(428,"h2",154)(429,"button",155),A(430," Which design tools do you use? "),M()(),x(431,"div",156)(432,"div",138),A(433," We work primarily with Adobe Illustrator, Photoshop, and XD to create your designs. "),M()()(),x(434,"div",134)(435,"h2",157)(436,"button",158),A(437," How do I send design requests? "),M()(),x(438,"div",159)(439,"div",138),A(440," We make it easy! You can request designs in Trello by adding a card, sharing Google Docs or wireframes, or even by sending a quick Loom video (perfect if you\u2019d rather talk through your ideas than write them out). If it can be shared or linked in Trello, it\u2019s fair game. "),M()()(),x(441,"div",134)(442,"h2",160)(443,"button",161),A(444," What if the design isn\u2019t quite right? "),M()(),x(445,"div",162)(446,"div",138),A(447," No problem! We\u2019ll work with you to revise the design until it\u2019s exactly what you\u2019re looking for. "),M()()(),x(448,"div",134)(449,"h2",163)(450,"button",164),A(451," Are there any types of design you don\u2019t cover? "),M()(),x(452,"div",165)(453,"div",138),A(454," Yes, there are a few: 3D modeling, animated graphics (like GIFs), document design (medical forms, for example), complex packaging, extensive print designs (such as magazines or books), and Adobe InDesign documents aren\u2019t included in our offerings. "),M()()(),x(455,"div",134)(456,"h2",166)(457,"button",167),A(458," What if I only need a single design? "),M()(),x(459,"div",168)(460,"div",138),A(461," That\u2019s totally fine! You can pause your subscription whenever you\u2019re done and resume when you have new design needs\u2014no wasted time. "),M()()(),x(462,"div",134)(463,"h2",169)(464,"button",170),A(465," Are refunds available if I\u2019m not satisfied with the service? "),M()(),x(466,"div",171)(467,"div",138),A(468," Due to the high-quality nature of the work, we don\u2019t offer refunds. "),M()()()()()()()()()()()(),tt(469,hze,30,4,"ng-template",172,173,bc),x(471,"div",174)(472,"div",175)(473,"div",176)(474,"div",177)(475,"h5",178),A(476,"Refer a friend & earn"),M(),x(477,"button",179),rt("click",function(){return o.closeModal()}),x(478,"span",180),A(479," \xd7 "),M()()(),x(480,"div",181)(481,"form",182,183),rt("ngSubmit",function(){En(s);const l=io(482);return kn(o.onSubmit(l))}),x(483,"div",184)(484,"input",185),rt("ngModelChange",function(l){return o.formData.name=l}),M(),x(485,"label",186),A(486,"Name"),M()(),x(487,"div",184)(488,"input",187),rt("ngModelChange",function(l){return o.formData.email=l}),M(),x(489,"label",186),A(490,"Email"),M(),tt(491,pze,2,0,"div",188),M(),x(492,"div",184)(493,"input",189),rt("ngModelChange",function(l){return o.formData.contact=l}),M(),x(494,"label",186),A(495,"Contact"),M()(),x(496,"div",184)(497,"input",190),rt("ngModelChange",function(l){return o.formData.rname=l}),M(),x(498,"label",186),A(499,"Referrer-Name"),M()(),x(500,"div",184)(501,"input",191),rt("ngModelChange",function(l){return o.formData.remail=l}),M(),x(502,"label",186),A(503,"Referrer-Email"),M(),tt(504,fze,2,0,"div",188),M(),x(505,"div",184)(506,"input",192),rt("ngModelChange",function(l){return o.formData.rcontact=l}),M(),x(507,"label",186),A(508,"Referrer-Contact"),M()(),x(509,"div",193)(510,"div",194),ce(511,"input",195),M(),x(512,"div",196)(513,"button",197),rt("click",function(){return o.closeModal()}),A(514,"Cancel"),M()()()(),tt(515,gze,2,1,"div",198),tt(516,mze,2,1,"div",199),tt(517,vze,2,0,"div",200),M()()()()}if(2&r){const s=io(482);se(4),Ee("src","",o.baseUrl,"/img/three-d-objects/graphic.png",Ce),se(16),Ee("src","",o.baseUrl,"/img/home/social-media/instagram.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/facebook.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/social-media/linkedin.svg",Ce),se(3),Ee("src","",o.baseUrl,"/img/home/whatsapp.svg",Ce),se(17),We("ngStyle",pa(28,yze,o.sectionWidth+"%")),se(4),Ee("src","",o.baseUrl,"/videos/graphic-page-video.mp4",Ce),se(1),Ee("src","",o.baseUrl,"/videos/graphic-page-video.mp4",Ce),se(30),We("ngForOf",o.allprojects),se(7),We("options",o.recentoptions),se(1),We("ngForOf",o.allprojects),se(41),Ee("src","",o.baseUrl,"/img/home/art-icons/craft.svg",Ce),se(7),Ee("src","",o.baseUrl,"/img/home/art-icons/solution.svg",Ce),se(7),Ee("src","",o.baseUrl,"/img/home/art-icons/beyond.svg",Ce),se(54),$s(o.tabTitle),se(6),Ee("src","",o.baseUrl,"/img/services/shock.png",Ce),se(280),We("ngModel",o.formData.name),se(4),We("ngModel",o.formData.email),se(3),We("ngIf",!o.formData.email&&s.submitted),se(2),We("ngModel",o.formData.contact),se(4),We("ngModel",o.formData.rname),se(4),We("ngModel",o.formData.remail),se(3),We("ngIf",!o.formData.remail&&s.submitted),se(2),We("ngModel",o.formData.rcontact),se(5),We("disabled",o.isSubmitting),se(4),We("ngIf",o.successMessage),se(1),We("ngIf",o.errorMessage),se(1),We("ngIf",o.isLoading)}},dependencies:[Qs,fa,kg,sd,H0,Zp,z0,U0,rf,V0,zg,nf,Ug,hf,Uu,nm],styles:['.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.h1[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{font-weight:100;color:#da9777;font-family:barcelony,sans-serif}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-19rem;top:30%;width:500px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-6rem;width:400px;top:28%}}@media (max-width: 1650px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0rem}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:300px;top:33%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:290px;top:30%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:200px;top:38%;right:0}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:18%;opacity:.5;object-fit:cover;left:0;right:0}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1788px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:1165px}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1053px}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:880px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:404px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important;margin-left:-7rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-3rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:-2rem}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal;font-weight:400}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:0%!important;bottom:7rem!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:6rem}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:2rem}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .left-content2[_ngcontent-%COMP%]{margin-left:1rem}}.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:9%}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:14%}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:5%;left:55%!important}}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{bottom:auto;margin-top:-50px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-top:-30px}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}.cstheight[_ngcontent-%COMP%]{height:378px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 480px){.cstheight[_ngcontent-%COMP%]{height:200px}}.cstvideo[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:-15rem}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]{margin-top:-11rem}}@media (max-width: 480px){.cstvideo[_ngcontent-%COMP%]{margin-top:-5rem}}@media (max-width: 991px){.cstvideo[_ngcontent-%COMP%]   #aboutvideo[_ngcontent-%COMP%]{height:100%}}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]{position:relative;text-align:center}.cstvideo[_ngcontent-%COMP%]   .video-frame[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{box-shadow:0 23px 26px #0000004a}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{transition:.3s ease-in-out;display:flex;opacity:0;position:absolute;bottom:0;left:0;right:0;width:100%;padding:20px;height:100%;background-color:#00000080;margin:0 auto;flex-direction:column;justify-content:center;align-items:center}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px;object-fit:contain}@media (max-width: 768px){.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px;height:44px}}.cstvideo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover   .text-block[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;opacity:1}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.hard-work[_ngcontent-%COMP%]{margin:0;padding:0 0 30px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]{padding:20px 0 0}}.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:32px;margin-top:15px;font-weight:600}@media (max-width: 1366px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:18px}}.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 1024px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:28px}}.hard-work[_ngcontent-%COMP%]   .rlimg[_ngcontent-%COMP%]{width:30px}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]{padding:40px 10px 50px 0}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex}.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px}@media (max-width: 991px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{height:24px;width:4px;top:6px}}@media (max-width: 767px){.hard-work[_ngcontent-%COMP%]   .cmargin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{margin-left:30px;width:4px;left:-5px;top:4px}}.hard-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]{padding:10px 30px;margin-bottom:20px}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:transform .9s ease}.hard-work[_ngcontent-%COMP%]   .imgblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.hard-work[_ngcontent-%COMP%]   .bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.cwd243[_ngcontent-%COMP%]{position:relative;width:195px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:space-between!important;align-items:center}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;right:auto!important;width:auto;transition:.5s all ease-in-out}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{letter-spacing:1px}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:75px;width:75px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out;right:-4px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{height:60px;width:60px;right:5px}}.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{right:-10px;height:50px;width:50px}@media (max-width: 1366px){.cwd243[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:45px;width:45px}}.cstbtn[_ngcontent-%COMP%]{cursor:pointer}.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:116px;z-index:2}@media (max-width: 480px){.cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:140px}}.choosesection[_ngcontent-%COMP%]{background-color:#eeedf0}.choosesection[_ngcontent-%COMP%]   .choose-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{margin-bottom:20px!important}.choosesection[_ngcontent-%COMP%]   .head-section[_ngcontent-%COMP%]{margin-bottom:80px}.choosesection[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{padding-top:80px}.subscription-section[_ngcontent-%COMP%]{background-color:transparent!important}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage{display:flex;justify-content:center;align-items:center;text-align:center}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage img{width:100%;height:57px;object-fit:contain;margin:0 auto;padding:0 20px}.client[_ngcontent-%COMP%]     .owl-carousel .owl-stage .owl-items{margin-right:14px!important}.packages[_ngcontent-%COMP%]{padding-bottom:90px!important}@media (max-width: 991px){.packages[_ngcontent-%COMP%]{padding-bottom:50px!important}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:30px;border-radius:50px;width:100%;height:auto}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 15px;border-radius:20px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]{padding:20px 0}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]{border:1px solid #da9777;background-color:#da9777;color:#fff;border-radius:33px;position:relative;display:inline-block;padding:13px 16px;margin-bottom:20px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;border-radius:50px;background-color:#000;border:1px solid #000}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50px;background-color:#6e6e73;border:1px solid #707070;position:relative;z-index:2}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .brd[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #707070;padding:15px;border-radius:16px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]{justify-content:end;align-items:end;position:relative;top:-7px}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:60px;height:60px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:50px;height:50px}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:40px;height:40px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card.bgblk[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   a.cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{width:28px;height:28px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:600px;width:100%;border-radius:50px;margin-bottom:0;height:100%;padding:20px 40px}@media (max-width: 1440px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 30px}}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}}@media (max-width: 575px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 10px;border-radius:20px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:#1d1d1f;width:100%;margin:20px 0}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:none}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:8rem}@media (max-width: 1199px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]{margin-top:4rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mtrem8[_ngcontent-%COMP%]   .cstprng-table-cta[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:2}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;background:#1d1d1f;border-radius:50px;padding:7px}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;border:none;color:#fff;border-radius:50px;padding:5px 15px;width:33.33%;font-size:16px}@media (max-width: 1366px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:5px}}@media (max-width: 480px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;padding:6px 5px}}@media (max-width: 380px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 5px}}@media (max-width: 330px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px;padding:6px 3px}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#da9777}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0;left:4rem;bottom:10px}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]{left:3.5rem}}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .cntlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1d1d1f;cursor:pointer}.packages[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.card-plain):hover{box-shadow:0 12px 19px -7px #0000004d;transform:translateY(0);-webkit-transform:translateY(0px);-ms-transform:translateY(0px);-moz-transform:translateY(0px)}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:2rem}@media (max-width: 991px){.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:0}}.packages[_ngcontent-%COMP%]   .mtrem3[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:42%!important}  .myCustomModalClass{background-color:#0b0b0bb8}  .myCustomModalClass .modal-dialog.modal-lg{position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto;padding-top:0;height:100%}@media (min-width: 992px){  .myCustomModalClass .modal-dialog.modal-lg{--bs-modal-width: 1055px}}@media (max-width: 1280px){  .myCustomModalClass .modal-dialog.modal-lg{max-width:90%}}@media (max-width: 991px){  .myCustomModalClass .modal-dialog.modal-lg{height:auto;padding:30px 0}}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative{min-height:100%;height:100%;display:block}  .myCustomModalClass .modal-dialog.modal-lg .modal-body .position-relative figure{margin-bottom:0}  .myCustomModalClass .btn{background-color:transparent!important;border:none!important;color:#c9bebe!important;font-size:20px;position:fixed;top:1%;right:1%;z-index:2;padding:5px}  .myCustomModalClass .btn:hover{color:#c4b4b480!important}@media (max-width: 991px){  .myCustomModalClass .btn{top:0}}@media (max-width: 480px){  .myCustomModalClass .btn{top:-6px;right:6px}}  .myCustomModalClass .custommodalanchor{border-bottom:1px solid #dfdfdf;padding-bottom:10px;margin-bottom:10px}  .myCustomModalClass .follow p{font-size:16px;margin-bottom:0;margin-left:5px}  .myCustomModalClass .owl-carousel .owl-item img{object-fit:cover}  .myCustomModalClass .link{margin-top:30px}  .myCustomModalClass .hashtaglinks a{display:inline-block;margin:0 2px}  .myCustomModalClass .rightblock{height:750px;overflow:hidden;overflow-y:scroll;padding:10px 0 10px 20px}@media (max-width: 1366px){  .myCustomModalClass .rightblock{height:600px}}@media (max-width: 991px){  .myCustomModalClass .rightblock{height:auto;margin-top:0}}  .myCustomModalClass .rightblock a{color:#0280fe!important}  .myCustomModalClass .leftblock{padding:0}@media (max-width: 991px){  .myCustomModalClass .leftblock{margin-top:0}}  video{position:relative;min-height:100%;width:90%}  .modal-body{padding:10px}.started[_ngcontent-%COMP%]{display:flex;justify-content:center}.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:90px;z-index:3}@media (max-width: 480px){.started[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75px}}.bnrstart[_ngcontent-%COMP%]{left:55%!important}@media (max-width: 991px){.bnrstart[_ngcontent-%COMP%]{left:60%!important}}.bnrstart[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:166px}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-radius:0;font-size:20px;font-weight:500;display:flex;color:#fff;align-items:center}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdtp[_ngcontent-%COMP%]{border-top:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#101010;border:none;border-radius:0;border-bottom:1px solid #dddddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#878787}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;padding:5px 30px;text-decoration:none;border:2px solid #707070;color:#878787;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#da9777;background:#1d1d1f}@media (max-width: 575px){form[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{font-size:16px}}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background:transparent;color:#da9777;border:2px solid #da9777;padding:5px 30px;border-radius:30px;font-weight:600}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background:#da9777;color:#fff}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:focus{background:#da9777;color:#fff;border-color:#da9777}@media (max-width: 575px){form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{font-size:16px}}.error[_ngcontent-%COMP%]{color:#f33}.close[_ngcontent-%COMP%]{position:absolute;right:10px;background:transparent;box-shadow:none;outline:none;border:1px solid #000;border-radius:50px;height:24px;width:24px;font-size:21px;display:flex;justify-content:center;align-items:center;margin-top:-40px!important}.close[_ngcontent-%COMP%]:hover{background-color:#000;color:#da9777}.pulse[_ngcontent-%COMP%]{margin:100px;display:block;width:22px;height:22px;border-radius:50%;background:#cca92c;cursor:pointer;box-shadow:0 0 #5b5b5f;animation:_ngcontent-%COMP%_pulse 2s infinite}.pulse[_ngcontent-%COMP%]:hover{animation:none}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #5b5b5f}70%{box-shadow:0 0 0 10px #cca92c00}to{box-shadow:0 0 #cca92c00}}']}),e})();const _ze=["targetSection"],xze=["lastSection"];let wze=(()=>{const t=class{onScroll(i){const r=document.getElementById("section3"),o=document.getElementById("sixth");r?.getBoundingClientRect(),o?.getBoundingClientRect(),window}constructor(i,r,o,s,a,l,c,u,d,h,f,v){this.renderer=i,this._platformId=r,this.testimonialService=o,this.pageservice=s,this.metaTagService=a,this.titleService=l,this.blogService=c,this.formBuilder=u,this.http=d,this.projectservice=h,this.modalService=f,this.activeModal=v,this.currentPage=1,this.allprojects=[],this.currentLimit=4,this.desktopslider={loop:!1,rewind:!0,autoplay:!0,autoplayTimeout:15e3,center:!0,dots:!0,autoHeight:!0,autoWidth:!0,smartSpeed:1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}},this.baseUrl=Dt_baseUrl+"/assets",this.imagepath=Dt_backendUrl+"/public/",this.get_PageMeta(),this.get_AllProjects()}ngOnInit(){setTimeout(()=>{window.scroll(0,0)},500)}ngAfterViewInit(){new IntersectionObserver(o=>{o.forEach(s=>{s.isIntersecting&&setTimeout(()=>{$("#section3").addClass("sticky")},200)})},{threshold:.1}).observe(this.targetSection.nativeElement),new IntersectionObserver(o=>{o.forEach(s=>{s.isIntersecting&&setTimeout(()=>{$("#section3").removeClass("sticky")},200)})},{threshold:.1}).observe(this.lastSection.nativeElement)}get_PageMeta(){this.pageservice.getpageWithName({pageName:"home"}).subscribe(r=>{200==r.body.code&&(this.titleService.setTitle(r?.body.result.meta_title),this.metaTagService.addTags([{name:"description",content:r?.body.result.meta_description},{name:"keywords",content:r?.body.result.meta_keywords}]))})}get_AllProjects(){this.projectservice.getAllProjects({limit:this.currentLimit,page:this.currentPage}).subscribe(r=>{200==r.code&&r.result&&r.result.length>0&&r.result.forEach(o=>{o.status&&this.allprojects.push(o)})})}loadMore(){this.currentLimit=this.currentLimit+4,this.get_AllProjects()}stopSlider(){this.sliderInterval&&clearInterval(this.sliderInterval)}onMouseLeave(){this.sliderInterval&&(clearInterval(this.sliderInterval),console.log("Slider stopped"))}onMouseEnter(i){let o=this.allprojects[i].project_images,s=this.imagepath,a=document.getElementsByClassName("galleryimg"+i);this.sliderInterval=setInterval(()=>{$(a).each(function(l){let c=o[(l+Math.floor(Math.random()*o.length))%o.length];$(a).attr("src",s+c)})},900)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Ds),Me(Zc),Me(em),Me(ad),Me(Hl),Me(Gl),Me(lv),Me(Vg),Me(ql),Me(tm),Me(Jg),Me(qh))},t.\u0275cmp=Mi({type:t,selectors:[["app-studio"]],viewQuery:function(r,o){if(1&r&&(Ru(_ze,5),Ru(xze,5)),2&r){let s;Qr(s=Zr())&&(o.targetSection=s.first),Qr(s=Zr())&&(o.lastSection=s.first)}},hostBindings:function(r,o){1&r&&rt("scroll",function(a){return o.onScroll(a)},0,Up)},decls:188,vars:9,consts:[[1,"cbanner"],[1,"container"],[1,"row"],["data-aos","fade-up","data-aos-duration","2000","data-aos-delay","100",1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],["alt","",1,"img-globe","floatimg",3,"src"],[1,"banner","vh-100"],[1,"d-flex","flex-column","justify-content-center","h-100","align-items-start"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"contentbl"],[1,"h1","size90","textcolor3"],[1,"h1","size90","textcolor1"],[1,"position-absolute","banner-left-content","content-left"],[1,"d-flex","flex-column","justify-contente-center","left-content2"],[1,"p3","semibold","textcolor1","size18"],[1,"aboutbrand","mtrem5"],[1,"col-xxl-12","col-xl-11","col-lg-11","col-md-11","col-ms-11","col-11","mx-auto"],[1,"about-brand","mrem55"],[1,"size53","weight300"],[1,"textcolor3"],[1,"textcolor1"],[1,"barcy","text-color"],[1,"care-section"],[1,"care"],[1,"fontsize12"],[1,"size32","mb30","textcolor1"],["alt","",1,"mb30","w-100",3,"src"],[1,"col-md-4","col-sm-6"],[1,"box"],[1,"size18","textcolor1","semibold"],[1,"size18","textcolor1"],[1,"lufgasemibold"],[1,"deserve-section","mrem55"],[1,"deserve","text-center"],[1,"textcolor1","weight500","size53","mb30"],[1,"textcolor1","size18"],["id","section3",1,"things-section","bannerdrk","position-relative"],[1,"header","text-center"],[1,"text-white","weight500","size53","mb30"],["id","oneth",1,"things"],["targetSection",""],[1,"scroll-track"],[1,"track-item","pt-0"],[1,"number-wrapper"],["alt","",3,"src"],[1,"text-wrapper"],[1,"size32","text-white","mb-3"],[1,"text-white"],[1,"track-item"],["id","sixth","id","last-section",1,"track-item"],["lastSection",""],[1,"business","position-relative"],[1,"wrapper","position-relative"],[1,"imgbox"],["alt","",1,"img-fluid",3,"src"],[1,"box1"],[1,"textcolor1","mb-5","size32","lufgalight"],[1,"d-block"],[1,"textcolor1","size32","weight700"],[1,"textcolor1","mt-0","size18","weight700"],[1,"bottomtext","d-flex","justify-content-center","position-relative"],[1,"size53","textcolor1","mt-0"],[1,"action","position-relative","mbrem5","mtrem3"],[1,"position-absolute","start-50","translate-middle"],["href","#",1,"cstbtn","cstbtn128","ftr1"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),x(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),A(9,"When your vision needs "),M(),x(10,"h1",9),A(11,"a team by your side."),M()()()(),x(12,"div",10)(13,"div",11)(14,"p"),A(15,"If you\u2019re looking for a detail obsessed,"),M(),x(16,"p"),A(17,"marketing-savvy design team"),M(),x(18,"p"),A(19,"that elevate your brand and business\u2026"),M(),x(20,"h5",12),A(21,"Then you\u2019re in the right place!"),M()()()()()()(),x(22,"section",13)(23,"div",1)(24,"div",2)(25,"div",14)(26,"div",15)(27,"h2",16)(28,"span",17),A(29,"At Pixtar, we believe "),M(),x(30,"span",18),A(31," design isn\u2019t just about "),x(32,"span",19),A(33," Aesthetics"),M(),A(34," \u2014it\u2019s about creating harmony, inspiring trust, and building connections."),M(),x(35,"span",17),A(36," We\u2019re a team of"),M(),x(37,"span",18),A(38," creators, thinkers, and dreamers, rooted in Dubai-UAE "),M(),x(39,"span",17),A(40," but designing for a global audience."),M()()()()()()(),x(41,"section",20)(42,"div",1)(43,"div",2)(44,"div",14)(45,"div",21)(46,"h6",22),A(47,"WHAT DRIVES OUR DESIGN"),M(),x(48,"p",23),A(49,"We Care About\u2026"),M(),ce(50,"img",24),M(),x(51,"div",2)(52,"div",25)(53,"div",26)(54,"h5",27),A(55,"You"),M(),x(56,"p",28),A(57,"We\u2019re here to make your life easier and to bring excitement to "),x(58,"span",29),A(59,"launching your brand or website."),M(),A(60," From the first design concept to a smooth launch, we handle every detail, so you can "),x(61,"span",29),A(62,"focus on what matters most."),M()()()(),x(63,"div",25)(64,"div",26)(65,"h5",27),A(66,"Your Audience"),M(),x(67,"p",28),A(68,"Our designs don\u2019t just look good "),x(69,"span",29),A(70,"\u2014they connect."),M(),A(71," We create engaging, easy-to-navigate experiences that leave a lasting impression,"),x(72,"span",29),A(73," making sure your audience feels right at home on every page."),M()()()(),x(74,"div",25)(75,"div",26)(76,"h5",27),A(77,"Your Business Goals"),M(),x(78,"p",28)(79,"span",29),A(80,"Great design solves problems,"),M(),A(81," from building brand loyalty to driving conversions. We\u2019re here to help you "),x(82,"span",29),A(83," grow, boost your impact, and reach more people "),M(),A(84,"through design that works as hard as you do."),M()()()()()()()(),x(85,"section",30)(86,"div",1)(87,"div",2)(88,"div",14)(89,"div",31)(90,"h2",32),A(91,"You Deserve The Best Team By Your Side. "),ce(92,"br"),A(93," So We Built One For You."),M(),x(94,"p",33),A(95,"Large Enough To Tackle Any Project. Small Enough To Keep It Personal."),M()()()()()(),x(96,"section",34)(97,"div",1)(98,"div",2)(99,"div",14)(100,"div",35)(101,"h2",36),A(102,"Six Things You Should Know "),ce(103,"br"),A(104,"About Pixtar"),M()(),x(105,"div",37,38)(107,"div",39)(108,"div",40)(109,"div",41),ce(110,"img",42),M(),x(111,"div",43)(112,"p",44),A(113,"We Looove What We Do"),M(),x(114,"p",45),A(115," We\u2019re not just designers; we\u2019re creators who live and breathe design. The kind of team that sparks with new ideas even during a weekend coffee run. Your project isn\u2019t just work\u2014it\u2019s what we love to do. "),M()()(),x(116,"div",46)(117,"div",41),ce(118,"img",42),M(),x(119,"div",43)(120,"p",44),A(121,"Conversion-Focused Design"),M(),x(122,"p",45),A(123,"Beautiful design that goes beyond aesthetics. We craft visuals that captivate, influence, and drive action, helping you connect with customers and achieve real results. "),M()()(),x(124,"div",46)(125,"div",41),ce(126,"img",42),M(),x(127,"div",43)(128,"p",44),A(129,"People First, Always"),M(),x(130,"p",45),A(131," Every project we take on starts with people. We believe that respect, care, and collaboration make great design possible. When we work together, creativity flourishes. "),M()()(),x(132,"div",46)(133,"div",41),ce(134,"img",42),M(),x(135,"div",43)(136,"p",44),A(137,"A Team Of Superpowers"),M(),x(138,"p",45),A(139,"Individually, we each have our own strengths. Together, we bring them all to the table\u2014design, strategy, and development\u2014to create powerful, custom solutions that stand out. "),M()()(),x(140,"div",46)(141,"div",41),ce(142,"img",42),M(),x(143,"div",43)(144,"p",44),A(145,"Details That Matter"),M(),x(146,"p",45),A(147,"Our commitment to detail means peace of mind for you. From concept to launch, we meticulously refine every aspect of your brand or website, ensuring everything is intentional and perfectly crafted. "),M()()(),x(148,"div",47,48)(150,"div",41),ce(151,"img",42),M(),x(152,"div",43)(153,"p",44),A(154,"Here For The Journey"),M(),x(155,"p",45),A(156," We\u2019re all about building designs that stand the test of time. Think of us as your long-term creative partner\u2014ready to grow with you, committed to your success, and always here to help bring your vision to life. "),M()()()()()()()()(),x(157,"section",49)(158,"div",1)(159,"div",2)(160,"div",14)(161,"div",50)(162,"div",51),ce(163,"img",52),M(),x(164,"div",53)(165,"p",54),A(166," \u201cIf you want a partner who gets you, knows your business, and is on "),x(167,"span",55),A(168," your side 100%\u2014look no further.\u201d"),M()(),x(169,"h2",56),A(170,"KBN "),M(),x(171,"h4",57),A(172,"CEO & Creative Director"),M()(),x(173,"div",58)(174,"h2",59),A(175,"We\u2019ll be your partner "),ce(176,"br"),A(177," in your journey"),M()()()()()()(),x(178,"div",60)(179,"div",61)(180,"p")(181,"a",62)(182,"span",63),A(183," Let\u2019s Begin"),M(),x(184,"span",64),ce(185,"i",65),M()()()()(),ce(186,"app-testimonial")(187,"app-faq-component")),2&r&&(se(4),Ee("src","",o.baseUrl,"/img/home/studio-image.png",Ce),se(46),Ee("src","",o.baseUrl,"/img/about-us/careimg.jpg",Ce),se(60),Ee("src","",o.baseUrl,"/img/about-us/zero1.png",Ce),se(8),Ee("src","",o.baseUrl,"/img/about-us/zero2.png",Ce),se(8),Ee("src","",o.baseUrl,"/img/about-us/zero3.png",Ce),se(8),Ee("src","",o.baseUrl,"/img/about-us/zero4.png",Ce),se(8),Ee("src","",o.baseUrl,"/img/about-us/zero5.png",Ce),se(9),Ee("src","",o.baseUrl,"/img/about-us/zero6.png",Ce),se(12),Ee("src","",o.baseUrl,"/img/about-us/kbn.png",Ce))},dependencies:[cv,nm],styles:['@font-face{font-family:lufga-light;src:url(LufgaLight.d75803ba24fabf82.ttf) format("truetype")}@font-face{font-family:lufga-regular;src:url(LufgaRegular.2286c86967c2d7de.ttf) format("truetype")}@font-face{font-family:lufga-medium;src:url(LufgaMedium.20363385cf20657c.ttf) format("truetype")}@font-face{font-family:lufga-semibild;src:url(LufgaSemiBold.13c6156ab43a2d33.ttf) format("truetype")}@font-face{font-family:lufga-bold;src:url(LufgaBold.a4c85edd49fd93b8.ttf) format("truetype")}.lufgasemibold[_ngcontent-%COMP%]{font-family:lufga-semibild}.barcy[_ngcontent-%COMP%]{font-family:barcelony,sans-serif}.text-color[_ngcontent-%COMP%]{color:#da9777}.h1[_ngcontent-%COMP%]{color:#1d1d1f;font-family:Montserrat,sans-serif;margin-top:0}.cbanner[_ngcontent-%COMP%]{min-height:100vh;height:100%;padding:0!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:80vh!important}}@media (max-width: 1680px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:1068px}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:770px}}@media (max-width: 1024px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:auto}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:370px;padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]{width:315px}}.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{position:relative}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .contentbl[_ngcontent-%COMP%]   .barcely[_ngcontent-%COMP%]{left:3px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{display:flex;width:360px;justify-content:start;align-items:center;left:auto!important;bottom:3%!important}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{margin-left:0rem}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;line-height:normal}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   .p3[_ngcontent-%COMP%]{margin-top:30px}@media (max-width: 767px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:5%!important;bottom:9rem!important}}@media (max-width: 575px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{position:relative!important;left:1%!important}}@media (max-width: 480px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{padding:0 10px}}@media (max-width: 380px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:315px;bottom:3rem!important}}@media (max-width: 345px){.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]{width:auto;padding:0}}.cbanner[_ngcontent-%COMP%]   .banner-left-content[_ngcontent-%COMP%]   p.text-color[_ngcontent-%COMP%]{font-weight:600}.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{position:absolute;right:-23%;top:35%;width:450px}@media (max-width: 1920px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-18%;top:30%}}@media (max-width: 1440px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{width:280px;right:-8%;top:34%}}@media (max-width: 1366px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:-6%}}@media (max-width: 1199px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{right:0%;width:230px;top:37%}}@media (max-width: 991px){.cbanner[_ngcontent-%COMP%]   .img-globe[_ngcontent-%COMP%]{display:none;width:100%;top:95px;opacity:.5;object-fit:cover;left:0;right:0}}.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:106px}@media (max-width: 1440px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:80px}}@media (max-width: 1199px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:70px}}@media (max-width: 1024px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:55px}}@media (max-width: 991px){.aboutbrand[_ngcontent-%COMP%]   .about-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.5}}.things-section[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1D1D1F 85%,#1D1D1F 100%);min-height:100vh;height:100vh;overflow:scroll;z-index:0}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]{min-height:75vh;height:75vh}}.things-section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:9997;padding-top:100px;padding-bottom:65px;background:linear-gradient(180deg,rgb(29,29,31) 85%,rgba(29,29,29,0) 100%)}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:30px}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]{max-width:780px;margin-left:auto;margin-right:auto}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:100px;padding-bottom:100px;background:linear-gradient(180deg,rgba(29,29,29,0) 0%,rgb(29,29,29) 20%,rgb(29,29,29) 80%,rgba(29,29,29,0) 100%)}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{padding-top:80px;padding-bottom:80px;display:block;text-align:center}}@media (max-width: 768px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]{max-width:100%}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]{color:#6e6e73}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .number-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}}.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{position:relative;margin-left:-61px}@media (max-width: 991px){.things-section[_ngcontent-%COMP%]   .things[_ngcontent-%COMP%]   .track-item[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{margin-left:0}}.business[_ngcontent-%COMP%]{min-height:710px}@media (max-width: 1366px){.business[_ngcontent-%COMP%]{min-height:650px}}@media (max-width: 767px){.business[_ngcontent-%COMP%]{min-height:570px}}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{position:relative}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;z-index:0;width:65%;float:right;right:0}@media (max-width: 767px){.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bottomtext[_ngcontent-%COMP%]{margin-top:11rem}@media (max-width: 1440px){.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bottomtext[_ngcontent-%COMP%]{margin-top:7rem}}@media (max-width: 1366px){.business[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bottomtext[_ngcontent-%COMP%]{margin-top:5rem}}.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{position:relative;z-index:1;width:52%;padding-top:5rem;display:flex;flex-direction:column;justify-content:center}@media (max-width: 1199px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:4rem}}@media (max-width: 767px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:17rem;width:80%}}@media (max-width: 480px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:12rem;width:100%}}@media (max-width: 380px){.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]{padding-top:10rem}.business[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%]   .d-block[_ngcontent-%COMP%]{display:inline!important}}div.action[_ngcontent-%COMP%]{padding-bottom:50px}div.action[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:88px}.bannerdrk[_ngcontent-%COMP%]{background-color:#000!important}.footer-collapse[_ngcontent-%COMP%]{padding:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{--bs-accordion-bg: transparent;border-radius:30px;overflow:hidden;border:none;padding:30px 20px}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]{padding:10px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]{margin-top:0}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.collapsed[_ngcontent-%COMP%]{color:#6e6e73!important}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{outline:none;border:none;box-shadow:none;background:transparent;border-top:1px dashed #6e6e73;border-radius:0;font-size:20px;font-weight:500;display:flex;align-items:center;color:#fff}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:focus{outline:none;color:#fff}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:#fff!important;outline:none}@media (max-width: 1366px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:16px;padding:15px 0}}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button.brdbtm[_ngcontent-%COMP%]{border-bottom:1px dashed #6e6e73}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background-image:url(plus.2523ff04f32f499f.svg);margin-top:5px;margin-bottom:5px;color:#dadade}.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:400}@media (max-width: 1199px){.footer-collapse[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px;font-size:14px}}.bannerdrk[_ngcontent-%COMP%]{background-color:#000}.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media (max-width: 575px){.success-story[_ngcontent-%COMP%]   .imgblk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;margin:0 auto}}.success-story[_ngcontent-%COMP%]   .slidecontent[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-bottom:30px}.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){margin-bottom:20px}@media (max-width: 1366px){.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){margin-bottom:15px}}.care-section[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:15px 0 30px}.things-section.sticky[_ngcontent-%COMP%]{position:sticky!important;top:0;z-index:10}.mtrem3[_ngcontent-%COMP%]{margin-top:3rem}@media (max-width: 767px){.mtrem3[_ngcontent-%COMP%]{margin-top:1rem}}']}),e})(),q$=(()=>{const t=class{constructor(i,r,o){this.payementservice=i,this.routes=r,this.route=o;let s=localStorage.getItem("stripe-payment-user");this.paramData=this.route.snapshot.queryParams.ispayament,s&&(this.paymentData=JSON.parse(s))}ngOnInit(){this.submitPayment()}submitPayment(){this.paymentData&&(this.paymentData.payment_gateway="Stripe",this.paymentData.payment_method="Card",this.paymentData.status="Success",this.payementservice.savePaymentSuccess(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",""),setTimeout(()=>{this.routes.navigate(["/"])},3e3))}))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(im),Me(Yo),Me(Yl))},t.\u0275cmp=Mi({type:t,selectors:[["app-payment-success"]],decls:17,vars:0,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),A(9,"Your Payment is Successfull "),M(),ce(10,"div",9),M(),x(11,"h1",10),A(12,"Your Payment is "),M(),x(13,"h1",11),A(14," Successfull"),M()()(),x(15,"p",12),A(16," We do it real "),M()()()()()())},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})(),Cze=(()=>{const t=class{constructor(i,r,o){this.payementservice=i,this.routes=r,this.route=o;let s=localStorage.getItem("stripe-payment-user");this.paramData=this.route.snapshot.queryParams.ispayament,s&&(this.paymentData=JSON.parse(s))}ngOnInit(){this.submitPayment()}submitPayment(){this.paymentData&&(this.paymentData.payment_gateway="Stripe",this.paymentData.payment_method="Card",this.paymentData.status="Failed",this.payementservice.savePaymentSuccess(this.paymentData).subscribe(i=>{200==i.body.code&&(localStorage.setItem("stripe-payment-user",""),setTimeout(()=>{this.routes.navigate(["/"])},3e3))}))}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(im),Me(Yo),Me(Yl))},t.\u0275cmp=Mi({type:t,selectors:[["app-payment-failed"]],decls:17,vars:0,consts:[[1,"service-banner"],[1,"container"],[1,"row"],[1,"col-xl-11","m-auto"],[1,"vh-100"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],[1,"block-content"],[1,"d-flex","flex-row","w-100"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-none","d-sm-block","d-md-block","d-lg-block","d-xl-block","d-xxl-block"],["id","lottie"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","200",1,"csm","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"],["data-aos","fade-up","data-aos-duration","1000","data-aos-delay","100",1,"p32","head","position-relative","w-100","start-0","end-0","d-block","d-sm-none","d-md-none","d-lg-none","d-xl-none","d-xxl-none"]],template:function(r,o){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),A(9,"Your Payment is Failed "),M(),ce(10,"div",9),M(),x(11,"h1",10),A(12,"Your Payment is "),M(),x(13,"h1",11),A(14," Failed"),M()()(),x(15,"p",12),A(16," We do it real "),M()()()()()())},styles:['@media (max-width: 575px){section[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.service-banner[_ngcontent-%COMP%]{background:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 92%;background-size:23%}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .vh-100[_ngcontent-%COMP%]{height:86vh!important}}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]{background-size:60%}}@media (max-width: 575px){.service-banner[_ngcontent-%COMP%]{background-position:100% 103%;min-height:100vh;height:100%}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:106px;font-weight:700;color:#1d1d1f;line-height:normal}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px;font-weight:400;line-height:normal;margin-bottom:0;color:#101010}@media (max-width: 1366px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 1024px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 767){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:20px;margin-top:-40px;transition:transform .7s ease-in-out}@media (max-width: 767px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{width:60px}}@media (max-width: 600px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:10px}}@media (max-width: 480px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-top:-24px;width:40px}}@media (max-width: 380px){.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]{margin-left:5px}}.service-banner[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]   img.hand[_ngcontent-%COMP%]:hover{transform:rotate(-30deg)}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:50px 10px}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:30px 0}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{padding:15px 0}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;font-weight:700;color:#1d1d1f;margin-top:0}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:44px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}}@media (max-width: 600px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#1d1d1f;line-height:normal}@media (max-width: 1440px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 1366px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 800px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1d1d1f}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-weight:600;color:#1d1d1f;cursor:pointer}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#da9777}.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:focus{color:#da9777}@media (max-width: 575px){.services[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{margin:20px 0}}.color1[_ngcontent-%COMP%]{color:#da9777}.barcelony[_ngcontent-%COMP%]{font-family:barcelony;font-size:42px!important}@media (max-width: 1024px){.barcelony[_ngcontent-%COMP%]{font-size:36px!important}}@media (max-width: 800px){.barcelony[_ngcontent-%COMP%]{font-size:28px!important}}.p32[_ngcontent-%COMP%]{font-size:32px}@media (max-width: 600px){.p32[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.p32[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]{font-weight:700;color:#101010}@media (max-width: 1199px){.head[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 991px){.head[_ngcontent-%COMP%]{font-size:24px}}.head[_ngcontent-%COMP%]:before{content:"";background:#de9b7a;height:33px;width:6px;position:relative;left:-10px;display:inline-block;top:6px}@media (max-width: 1199px){.head[_ngcontent-%COMP%]:before{left:0}}@media (max-width: 991px){.head[_ngcontent-%COMP%]:before{height:24px;width:4px}}section.bg-black[_ngcontent-%COMP%]{padding:80px 0;background:#000}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 575px){section.bg-black[_ngcontent-%COMP%]{padding:50px 15px}}section.bg-black[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{color:#fff}section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:40px;font-weight:600}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:36px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:32px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .p40[_ngcontent-%COMP%]{font-size:28px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:24px}@media (max-width: 1199px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 991px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 767px){section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}section.bg-black[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.line[_ngcontent-%COMP%]{height:1px;background:#707070;width:65%;margin:0 auto;position:absolute;left:0;right:0;z-index:1}@media (max-width: 767px){.line[_ngcontent-%COMP%]{width:80%}}#lottie[_ngcontent-%COMP%]{display:block;overflow:hidden;transform:translateZ(0);text-align:center;opacity:1;position:relative;top:-1.5rem;width:16%}@media (max-width: 991px){#lottie[_ngcontent-%COMP%]{top:-1.5rem}}@media (max-width: 480px){#lottie[_ngcontent-%COMP%]{top:-.5rem;width:20%}}.p28[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1199px){.p28[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 991px){.p28[_ngcontent-%COMP%]{font-size:20px}}.csm[_ngcontent-%COMP%]{margin-top:-15px!important}@media (max-width: 575px){.csm[_ngcontent-%COMP%]{margin-top:0!important}}']}),e})();var Mze=m(5226),I4=m.n(Mze);let R4=(()=>{const t=class{constructor(i,r,o,s){this.route=i,this.router=r,this.paymentservice=o,this.location=s,this.subscriber_id=this.route.snapshot.paramMap.get("subscriberID");var a=this.location.path();this.subscriber_id&&a.includes("cancel")?(this.type="cancel",I4().fire({title:"Are you sure?",text:"You want be Unsubscribe from Pixtar Service!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#878787",cancelButtonColor:"#d33",confirmButtonText:"Yes, Unsubscribe!"}).then(l=>{l.isConfirmed&&this.cancelSubscription()})):this.subscriber_id&&a.includes("pause")?(this.type="pause",I4().fire({title:"Are you sure?",text:"You want be Pause from Pixtar Service!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#878787",cancelButtonColor:"#d33",confirmButtonText:"Yes, Pause!"}).then(l=>{l.isConfirmed&&this.pauseSubscription()})):this.subscriber_id&&a.includes("resume")&&(this.type="resume",I4().fire({title:"Are you sure?",text:"You want be Resume Pixtar Service!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#878787",cancelButtonColor:"#d33",confirmButtonText:"Yes, Resume!"}).then(l=>{l.isConfirmed&&this.resumeSubscription()}))}ngOnInit(){}cancelSubscription(){if(this.subscriber_id){let i={};i.subscriptionId=this.subscriber_id,this.paymentservice.stripeSubscribeCancel(i).subscribe(r=>{200==r.body.code&&setTimeout(()=>{this.router.navigate(["/"])},3e3)})}}pauseSubscription(){if(this.subscriber_id){let i={};i.subscriptionId=this.subscriber_id,this.paymentservice.stripeSubscribePause(i).subscribe(r=>{200==r.body.code&&setTimeout(()=>{this.router.navigate(["/"])},3e3)})}}resumeSubscription(){if(this.subscriber_id){let i={};i.subscriptionId=this.subscriber_id,this.paymentservice.stripeSubscribeResume(i).subscribe(r=>{200==r.body.code&&setTimeout(()=>{this.router.navigate(["/"])},3e3)})}}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Yl),Me(Yo),Me(im),Me(Xp))},t.\u0275cmp=Mi({type:t,selectors:[["app-unsubscription"]],decls:2,vars:0,template:function(r,o){1&r&&(x(0,"p"),A(1,"unsubscription works!"),M())}}),e})();const Pze=[{path:"",component:iA},{path:"home",component:iA},{path:"process",component:ume},{path:"about",component:ehe},{path:"services",component:Ime},{path:"branding",component:s0e},{path:"website",component:I0e},{path:"ecommerce",component:oze},{path:"graphics",component:bze},{path:"studio",component:wze},{path:"projects",component:vme},{path:"contact",component:h9},{path:"contact/:id",component:h9},{path:"businesscard",component:ihe},{path:"businesscard/view/:id",component:che},{path:"p/kbn",component:ahe},{path:"p/kbn2",component:lhe},{path:"p/js",component:she},{path:"p/io",component:ohe},{path:"p/godly",component:rhe},{path:"project-details/dnour",component:Mhe},{path:"project-details/pakhis",component:yme},{path:"project-details/beyou",component:Eme},{path:"project-details/autokoorosh",component:Dme},{path:"project-details/vendetta",component:Ame},{path:"project-details/spacex",component:Tme},{path:"payment-success",component:q$},{path:"payment-success/:ispayament",component:q$},{path:"payment-failed",component:Cze},{path:"unsubscription/cancel/:subscriberID",component:R4},{path:"unsubscription/pause/:subscriberID",component:R4},{path:"unsubscription/resume/:subscriberID",component:R4},{path:"**",component:iA}];let Oze=(()=>{const t=class{};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Si({type:t}),t.\u0275inj=Sn({imports:[t9.forRoot(Pze,{initialNavigation:"enabledBlocking"}),t9]}),e})();m(811);var Sze=m(7123);function Eze(e,t){1&e&&ce(0,"img",47),2&e&&Ee("src","",nt().baseUrl,"/img/logos/pixtar-main-logo.svg",Ce)}function Dze(e,t){1&e&&ce(0,"img",47),2&e&&Ee("src","",nt().baseUrl,"/img/logos/pixtar-main-logo-white.svg",Ce)}function Aze(e,t){1&e&&ce(0,"img",48),2&e&&Ee("src","",nt().baseUrl,"/img/logos/pixtar-black-logo.svg",Ce)}function Tze(e,t){1&e&&ce(0,"img",48),2&e&&Ee("src","",nt().baseUrl,"/img/logos/pixtar_white.svg",Ce)}function kze(e,t){if(1&e){const n=xr();x(0,"img",49),rt("mouseenter",function(){return En(n),kn(nt().func())})("mouseleave",function(){return En(n),kn(nt().func2())}),M()}2&e&&Ee("src","",nt().baseUrl,"/img/home/home.png",Ce)}function Ize(e,t){if(1&e){const n=xr();x(0,"img",49),rt("mouseenter",function(){return En(n),kn(nt().func())})("mouseleave",function(){return En(n),kn(nt().func3())}),M()}2&e&&Ee("src","",nt().baseUrl,"/img/home/homewhite.png",Ce)}function Rze(e,t){1&e&&(x(0,"h3",50),A(1,"Close"),M())}function Nze(e,t){1&e&&(x(0,"h3",51),A(1,"Close"),M())}function Fze(e,t){1&e&&(x(0,"h3",52),A(1,"Menu"),M())}function Lze(e,t){1&e&&(x(0,"h3",53),A(1,"Menu"),M())}function Bze(e,t){if(1&e){const n=xr();x(0,"img",54),rt("click",function(){return En(n),kn(nt().selectLink("/"))}),M()}2&e&&Ee("src","",nt().baseUrl,"/img/logos/pixtar-black-logo.svg",Ce)}function zze(e,t){if(1&e){const n=xr();x(0,"img",54),rt("click",function(){return En(n),kn(nt().selectLink("/"))}),M()}2&e&&Ee("src","",nt().baseUrl,"/img/logos/pixtar_white.svg",Ce)}function Uze(e,t){if(1&e){const n=xr();x(0,"img",55),rt("mouseenter",function(){return En(n),kn(nt().func4())})("mouseleave",function(){return En(n),kn(nt().func5())}),M()}2&e&&Ee("src","",nt().baseUrl,"/img/home/home.png",Ce)}function jze(e,t){if(1&e){const n=xr();x(0,"img",55),rt("mouseenter",function(){return En(n),kn(nt().func4())})("mouseleave",function(){return En(n),kn(nt().func6())}),M()}2&e&&Ee("src","",nt().baseUrl,"/img/home/homewhite.png",Ce)}function Vze(e,t){if(1&e&&(x(0,"p",56)(1,"a",57),ce(2,"img",58),M(),x(3,"a",59),ce(4,"img",58),M(),x(5,"a",60),ce(6,"img",58),M(),x(7,"a",61),ce(8,"img",62),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/images/instagram.svg",Ce),se(2),Ee("src","",n.baseUrl,"/images/facebook.svg",Ce),se(2),Ee("src","",n.baseUrl,"/images/linkedin.svg",Ce),se(2),Ee("src","",n.baseUrl,"/img/home/whatsapp.svg",Ce)}}function Hze(e,t){if(1&e&&(x(0,"p",56)(1,"a",57),ce(2,"img",58),M(),x(3,"a",59),ce(4,"img",58),M(),x(5,"a",60),ce(6,"img",58),M(),x(7,"a",61),ce(8,"img",63),M()()),2&e){const n=nt();se(2),Ee("src","",n.baseUrl,"/images/instagram-white.svg",Ce),se(2),Ee("src","",n.baseUrl,"/images/facebook-white.svg",Ce),se(2),Ee("src","",n.baseUrl,"/images/linkedin-white.svg",Ce),se(2),Ee("src","",n.baseUrl,"/img/home/whatsapp-white.svg",Ce)}}let Gze=(()=>{const t=class{constructor(i,r,o){this.location=i,this.element=r,this.route=o,this.isNavbar=!1,this.ifwhitebar=!1,this.ifblackbar=!0,this.isMenuActive=!1,this.ifbarcliked=!1,this.sidebarVisible=!1,this.imagepath=Dt_baseUrl+"/public/",this.baseUrl=Dt_baseUrl+"/assets"}ngOnInit(){this.ifblackbar=!1,Ci("#navMenus").on("click","li",function(){Ci(".menu-nav-item").removeClass("active"),Ci(this).addClass("active")}),this.isHomemenu()}sidebarOpen(){const i=this.toggleButton,r=document.getElementsByTagName("html")[0];setTimeout(function(){i.classList.add("toggled")},500),r.classList.add("nav-open"),this.sidebarVisible=!0}sidebarClose(){const i=document.getElementsByTagName("html")[0];this.sidebarVisible=!1,i.classList.remove("nav-open")}sidebarToggle(){!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose()}isHome(){var i=this.location.prepareExternalUrl(this.location.path());return"#"===i.charAt(0)&&(i=i.slice(1)),"/home"===i}isDocumentation(){var i=this.location.prepareExternalUrl(this.location.path());return"#"===i.charAt(0)&&(i=i.slice(1)),"/documentation"===i}selectLink(i){"process"==i&&(this.ifbarcliked=!1),Ci("#burger-toggle").prop("checked",!1),this.route.navigateByUrl(i),Ci(".showcls").removeClass("active"),Ci(".showcls2").removeClass("active")}showBlackbars(){var i=this.location.path();return"process"!=(i=i.split("/")[1])||this.ifbarcliked?(this.ifblackbar=!0,this.ifwhitebar=!1,Ci(".navbar").removeClass("noblack")):(this.ifblackbar=!1,this.ifwhitebar=!0,Ci(".navbar").addClass("noblack")),this.isHomemenu(),!0}onclicchange(){var i=this.location.path();i=i.split("/")[1],this.ifbarcliked="process"==i&&!this.ifbarcliked}func(){Ci(".home-icon").attr("src",this.baseUrl+"/img/home/homehover.png")}func2(){Ci(".home-icon").attr("src",this.baseUrl+"/img/home/home.png")}func3(){Ci(".home-icon").attr("src",this.baseUrl+"/img/home/homewhite.png")}func4(){Ci(".menuhome").attr("src",this.baseUrl+"/img/home/homehover.png")}func5(){Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")}func6(){Ci(".menuhome").attr("src",this.baseUrl+"/img/home/homewhite.png")}isHomemenu(){Ci("#home").removeClass("active"),Ci("#projects").removeClass("active"),Ci("#about").removeClass("active"),Ci("#process").removeClass("active"),Ci("#contact").removeClass("active"),Ci("#ecommerce").removeClass("active"),Ci("#graphics").removeClass("active"),Ci("#services").removeClass("active"),Ci("#studio").removeClass("active"),Ci("#website").removeClass("active");let i=this.baseUrl;var r=this.location.path();"home"==(r=r.split("/")[1])||"#"==r?(Ci("#home").addClass("active"),Ci(".menuhome").attr("src",i+"/img/home/homehover.png")):"projects"==r?(Ci("#projects").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"about"==r?(Ci("#about").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"process"==r?(Ci("#process").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/homewhite.png")):"ecommerce"==r?(Ci("#ecommerce").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"graphics"==r?(Ci("#graphics").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"services"==r?(Ci("#services").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"studio"==r?(Ci("#studio").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"website"==r?(Ci("#website").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png")):"contact"==r&&(Ci("#contact").addClass("active"),Ci(".menuhome").attr("src",this.baseUrl+"/img/home/home.png"))}labelchange(){Ci(".showcls").toggleClass("active"),Ci(".showcls2").toggleClass("active")}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Xp),Me($r),Me(Yo))},t.\u0275cmp=Mi({type:t,selectors:[["app-navbar"]],decls:98,vars:17,consts:[["color-on-scroll","500",1,"navbar","navbar-expand-lg","fixed-top","navbar-transparent"],[1,"container-fluid"],[1,"w-100"],[1,"col-lg-10","offset-lg-1"],[1,"menu-container",2,"width","100%"],[1,"d-flex","justify-content-between","menu-block"],[1,"brand"],["href","/"],["alt","","width","160","class","logo1",3,"src",4,"ngIf"],["alt","pixtar","width","40","class","logo2",3,"src",4,"ngIf"],[1,"menu-list"],["alt","homeicon","class","home-icon",3,"src","mouseenter","mouseleave",4,"ngIf"],["type","checkbox","id","burger-toggle"],["for","burger-toggle",1,"burger-menu",3,"click"],[1,"line"],[1,"labelmenu"],["class","cstmenu showcls",4,"ngIf"],["class","cstmenu text-white showcls",4,"ngIf"],["class","d-none d-sm-none d-md-none d-lg-block cstmenu showcls2",4,"ngIf"],["class","d-none d-sm-none d-md-none d-lg-block cstmenu text-white showcls2",4,"ngIf"],["id","menu",1,"menu"],["class","logo","alt","pixtar","width","40",3,"src","click",4,"ngIf"],[1,"menu-inner"],["id","navMenus",1,"menu-nav"],["id","home",1,"menu-nav-item"],[1,"menu-nav-link",3,"click"],["alt","homeicon","class","menuhome",3,"src","mouseenter","mouseleave",4,"ngIf"],["id","services",1,"menu-nav-item"],[1,"list1"],[1,"d-flex","sub-service","ps-0"],["id","branding",1,"menu-nav-item"],[1,"menu-nav-link","hover-underline-animation",3,"click"],["id","graphics",1,"menu-nav-item"],["id","website",1,"menu-nav-item"],["id","ecommerce",1,"menu-nav-item"],["id","studio",1,"menu-nav-item"],["id","projects",1,"menu-nav-item"],["id","process",1,"menu-nav-item"],["id","blog",1,"menu-nav-item"],["target","_blank","href","/blog",1,"menu-nav-link",3,"click"],["id","contact",1,"menu-nav-item"],[1,"menu-nav-link","lastanch",3,"click"],[1,"d-flex","flex-row"],["alt","","width","30",1,"arrowimg",3,"src"],[1,"gallery"],[1,"position-absolute","menu-left-content"],["class","mt-2",4,"ngIf"],["alt","","width","160",1,"logo1",3,"src"],["alt","pixtar","width","40",1,"logo2",3,"src"],["alt","homeicon",1,"home-icon",3,"src","mouseenter","mouseleave"],[1,"cstmenu","showcls"],[1,"cstmenu","text-white","showcls"],[1,"d-none","d-sm-none","d-md-none","d-lg-block","cstmenu","showcls2"],[1,"d-none","d-sm-none","d-md-none","d-lg-block","cstmenu","text-white","showcls2"],["alt","pixtar","width","40",1,"logo",3,"src","click"],["alt","homeicon",1,"menuhome",3,"src","mouseenter","mouseleave"],[1,"mt-2"],["href","https://www.instagram.com/pixtar.ae/","target","_blank",1,"me-2"],["alt","","width","30",3,"src"],["href","https://www.facebook.com/pixtar.ae/","target","_blank",1,"me-2"],["href","https://www.linkedin.com/company/pixtar-ae/","target","_blank",1,"me-2"],["href","https://wa.me/+971527930781","target","_blank",1,"whatsapp-icon2","slideUpReturn","tabmob"],["alt","whatsapp","width","30",3,"src"],["alt","whatsapp",3,"src"]],template:function(r,o){1&r&&(x(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),tt(8,Eze,1,1,"img",8),tt(9,Dze,1,1,"img",8),tt(10,Aze,1,1,"img",9),tt(11,Tze,1,1,"img",9),M()(),x(12,"div",10)(13,"a",7),tt(14,kze,1,1,"img",11),tt(15,Ize,1,1,"img",11),M(),ce(16,"input",12),x(17,"label",13),rt("click",function(){return o.labelchange()}),ce(18,"div",14)(19,"div",14)(20,"div",14),M(),x(21,"div",15),tt(22,Rze,2,0,"h3",16),tt(23,Nze,2,0,"h3",17),tt(24,Fze,2,0,"h3",18),tt(25,Lze,2,0,"h3",19),M(),x(26,"div",20),tt(27,Bze,1,1,"img",21),tt(28,zze,1,1,"img",21),x(29,"div",22)(30,"ul",23)(31,"li",24)(32,"a",25),rt("click",function(){return o.selectLink("/")}),x(33,"span")(34,"div"),tt(35,Uze,1,1,"img",26),tt(36,jze,1,1,"img",26),M()()()(),x(37,"li",27)(38,"span",28)(39,"a",25),rt("click",function(){return o.selectLink("services")}),x(40,"span")(41,"div"),A(42,"Services"),M()()()(),x(43,"ul",29)(44,"li",30)(45,"a",31),rt("click",function(){return o.selectLink("branding")}),x(46,"span")(47,"div"),A(48,"Branding"),M()()()(),x(49,"li",32)(50,"a",31),rt("click",function(){return o.selectLink("graphics")}),x(51,"span")(52,"div"),A(53,"Graphics"),M()()()(),x(54,"li",33)(55,"a",31),rt("click",function(){return o.selectLink("website")}),x(56,"span")(57,"div"),A(58,"Website"),M()()()(),x(59,"li",34)(60,"a",31),rt("click",function(){return o.selectLink("ecommerce")}),x(61,"span")(62,"div"),A(63,"Ecommerce"),M()()()()()(),x(64,"li",35)(65,"a",25),rt("click",function(){return o.selectLink("studio")}),x(66,"span")(67,"div"),A(68,"Studio"),M()()()(),x(69,"li",36)(70,"a",25),rt("click",function(){return o.selectLink("projects")}),x(71,"span")(72,"div"),A(73,"Projects"),M()()()(),x(74,"li",37)(75,"a",25),rt("click",function(){return o.selectLink("process")}),x(76,"span")(77,"div"),A(78,"Process"),M()()()(),x(79,"li",38)(80,"a",39),rt("click",function(){return o.selectLink("blog")}),x(81,"span")(82,"div"),A(83,"Blogs"),M()()()(),x(84,"li",40)(85,"a",41),rt("click",function(){return o.selectLink("contact")}),x(86,"span")(87,"div",42),A(88,"Contact "),ce(89,"img",43),M()()()()(),x(90,"div",44)(91,"div",45)(92,"p"),A(93,"Creative agency based in Dubai, "),M(),x(94,"p"),A(95,"United Arab Emirates"),M(),tt(96,Vze,9,4,"p",46),tt(97,Hze,9,4,"p",46),M()()()()()()()()()()()),2&r&&(se(8),We("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),We("ngIf",o.showBlackbars()&&o.ifwhitebar),se(1),We("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),We("ngIf",o.showBlackbars()&&o.ifwhitebar),se(3),We("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),We("ngIf",o.showBlackbars()&&o.ifwhitebar),se(7),We("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),We("ngIf",o.showBlackbars()&&o.ifwhitebar),se(1),We("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),We("ngIf",o.showBlackbars()&&o.ifwhitebar),se(2),We("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),We("ngIf",o.showBlackbars()&&o.ifwhitebar),se(7),We("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),We("ngIf",o.showBlackbars()&&o.ifwhitebar),se(53),Ee("src","",o.baseUrl,"/img/home/contactarrow.svg",Ce),se(7),We("ngIf",o.showBlackbars()&&o.ifblackbar),se(1),We("ngIf",o.showBlackbars()&&o.ifwhitebar))},dependencies:[fa,JD],styles:['.navbar[_ngcontent-%COMP%]{background-color:#fff!important;box-shadow:none}.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:20px 0;align-items:center}@media (max-width: 1366px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0}}@media (max-width: 575px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0 10px 15px}}@media (max-width: 380px){.navbar[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]{padding:10px 0}}.navbar[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]{margin-top:0;display:none!important}.navbar[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]   .ptext[_ngcontent-%COMP%]{position:relative;top:5px}.navbar[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{margin-top:0;display:block!important;margin-left:1px}@media (max-width: 575px){.navbar[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{width:35px}}.navbar[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.navbar[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;margin-top:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .4s ease;opacity:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:500;cursor:pointer;font-size:1.75rem}@media (max-width: 1366px){.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.8rem}}@media (max-width: 380px){.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.6rem}}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:visited   i[_ngcontent-%COMP%]{color:#de9b7a;opacity:1;transform:rotate(60deg)}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:visited   a[_ngcontent-%COMP%]{color:#de9b7a}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.menu-nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#de9b7a}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.menu-nav-item.active[_ngcontent-%COMP%]   .lastanch[_ngcontent-%COMP%]{color:#000!important}.navbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif!important;font-weight:700;color:#000}.noblack.navbar-transparent[_ngcontent-%COMP%]{background-color:transparent!important}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{background-color:#000;background-image:url(pixtar-splitlogo-black.8d5f4727f3a5141b.svg)}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .noblack[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#de9b7a}.noblack[_ngcontent-%COMP%]   .sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.noblack[_ngcontent-%COMP%]   .sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#de9b7a}.navbar.navbar-transparent[_ngcontent-%COMP%]{border-bottom:none;box-shadow:none;padding-top:0}.navbar.navbar-transparent[_ngcontent-%COMP%]   .logo1[_ngcontent-%COMP%]{display:block!important}.navbar.navbar-transparent[_ngcontent-%COMP%]   .logo2[_ngcontent-%COMP%]{display:none!important}p[_ngcontent-%COMP%]{margin:0}.cstmenu[_ngcontent-%COMP%]{font-weight:600}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(1)   img[_ngcontent-%COMP%]{transition-delay:.18s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(2)   img[_ngcontent-%COMP%]{transition-delay:.26s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(3)   img[_ngcontent-%COMP%]{transition-delay:.34s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:nth-child(4)   img[_ngcontent-%COMP%]{transition-delay:.42s}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{transform:translate(0)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(calc(var(--burger-menu-radius) / 5)) rotate(45deg)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){transform:scaleX(0)}#burger-toggle[_ngcontent-%COMP%]:checked ~ .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(calc(var(--burger-menu-radius) / -5)) rotate(-45deg)}#burger-toggle[_ngcontent-%COMP%]{position:absolute;appearance:none;opacity:0;display:none}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]{opacity:1;visibility:visible}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}#burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], #burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], #burger-toggle[_ngcontent-%COMP%]:checked ~ .menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transform:translateY(0);transition:1.2s .1s cubic-bezier(.35,0,.07,1)}.burger-menu[_ngcontent-%COMP%]{--burger-menu-radius: 4em;position:relative;top:0;right:0;z-index:100;display:block;width:var(--burger-menu-radius);height:var(--burger-menu-radius);outline:none;cursor:pointer;width:55px}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;left:25%;width:50%;height:2px;background:#000;border-radius:10px;overflow:hidden;transition:.5s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){top:30%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){top:50%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){top:70%}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:var(--primary-color-darker);transform:translate(-100%);transition:.25s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2):after{transition-delay:.1s}.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3):after{transition-delay:.2s}@media (max-width: 380px){.burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{left:45%}}.burger-menu[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]:after{transform:translate(0)}.noblack[_ngcontent-%COMP%]   .burger-menu[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{background:#fff}.menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;display:flex;justify-content:flex-start;align-items:center;background-color:#fff;opacity:0;overflow-x:hidden;visibility:hidden;transition:.3s;padding:0 9vw;min-height:100vh;height:100%;background-image:url(pixtar-splitlogo.fc88c164801c64f4.svg);background-repeat:no-repeat;background-position:100% 107%;background-size:23%}@media (max-width: 767px){.menu[_ngcontent-%COMP%]{background-size:60%}}.menu-nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0;padding:0;text-align:center;list-style-type:none}@media screen and (max-width: 750px){.menu-nav[_ngcontent-%COMP%]{flex-direction:column}}.menu-nav-item[_ngcontent-%COMP%]{flex:1;margin:15px 0}@media (max-width: 1366px){.menu-nav-item[_ngcontent-%COMP%]{margin:15px 0;line-height:normal}}@media (max-width: 380px){.menu-nav-item[_ngcontent-%COMP%]{margin:10px 0}}.menu-nav-link[_ngcontent-%COMP%]{position:relative;display:inline-flex;font-size:2rem;color:#fff;text-decoration:none}.menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden}.menu-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform:translateY(102%)}.menu-nav-link[_ngcontent-%COMP%]:after{position:absolute;content:"";top:100%;left:0;width:100%;height:3px;background:var(--primary-color);transform:scaleX(0);transform-origin:right;transition:transform .5s}.menu-nav-link[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:left}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{margin-top:60px;text-align:center}.menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;color:#fff;overflow:hidden}.menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;letter-spacing:2px;text-transform:uppercase;transform:translateY(102%)}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{margin-top:36px;display:flex;flex-wrap:wrap}@media screen and (max-width: 750px){.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{justify-content:center}}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]{width:15vw;margin:0 12px;overflow:hidden}@media screen and (max-width: 750px){.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]{width:40vw;margin:0 12px 12px 0}}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;transition:.6s}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]:before{position:absolute;content:attr(data-label);top:0;left:0;z-index:1;display:flex;justify-content:center;align-items:center;width:100%;height:100%;color:#fff;background:rgba(0,0,0,.6);opacity:0;transition:.4s}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.2)}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]:before{opacity:1}.menu[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;transform:translateY(102%)}.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;position:fixed;top:1.3vw}@media (max-width: 1440px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:2vw}}@media (max-width: 1366px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:1vw;left:9.5vw}}@media (max-width: 1024px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:1.5vw}}@media (max-width: 991px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{left:2vw;top:1.5vw}}@media (max-width: 600px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:4vw;left:3vw}}@media (max-width: 575px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:4vw;left:8vw;width:35px}}@media (max-width: 380px){.menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:5vw;left:4.8vw}}.menu[_ngcontent-%COMP%]   .menu-inner[_ngcontent-%COMP%]{display:flex;width:50%;justify-content:center;align-items:center}@media (max-width: 600px){.menu[_ngcontent-%COMP%]   .menu-inner[_ngcontent-%COMP%]{width:50%}}.lastanch[_ngcontent-%COMP%]{font-weight:700!important;color:#de9b7a!important}.lastanch[_ngcontent-%COMP%]:hover{color:#000!important}.lastanch[_ngcontent-%COMP%]:focus{color:#000!important}.lastanch[_ngcontent-%COMP%]   .arrowimg[_ngcontent-%COMP%]{position:relative;top:-6px;margin-left:10px}.noblack[_ngcontent-%COMP%]   .lastanch[_ngcontent-%COMP%]:hover{color:#fff!important}.menu-left-content[_ngcontent-%COMP%]{left:5%;bottom:3%;text-align:left}.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal;font-size:18px}@media (max-width: 1199px){.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 991px){.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.menu-left-content[_ngcontent-%COMP%]   .text-color[_ngcontent-%COMP%]{color:#de9b7a}.menu-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){font-weight:600}.home-icon[_ngcontent-%COMP%]{height:23px;position:relative;right:1rem}@media (max-width: 575px){.home-icon[_ngcontent-%COMP%]{right:.5rem;height:20px}}.menuhome[_ngcontent-%COMP%]{height:40px}@media (max-width: 575px){.menuhome[_ngcontent-%COMP%]{height:30px}}.showcls[_ngcontent-%COMP%]{display:none}.showcls.active[_ngcontent-%COMP%]{position:relative;z-index:1;display:block;animation:fadeIn 1s}@media (max-width: 991px){.showcls.active[_ngcontent-%COMP%]{display:none}}.showcls2[_ngcontent-%COMP%]{display:block;animation:fadeIn 1s}.showcls2.active[_ngcontent-%COMP%]{display:none!important}.labelmenu[_ngcontent-%COMP%]{display:block;position:relative;width:76.19px}.labelmenu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:absolute;top:-1rem}@media (max-width: 991px){.labelmenu[_ngcontent-%COMP%]{display:none}}.sub-service[_ngcontent-%COMP%]{position:absolute;margin-top:2px;margin-left:15px}@media (max-width: 380px){.sub-service[_ngcontent-%COMP%]{margin-top:-1px}}.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0}.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px;font-size:16px;color:#000}@media (max-width: 480px){.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 380px){.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}.sub-service[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .sub-service[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#de9b7a}.sub-service[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:88%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#de9b7a;transform-origin:bottom right;transition:transform .25s ease-out;background-image:none!important}.sub-service[_ngcontent-%COMP%]   .hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}']}),e})(),Wze=(()=>{const t=class{constructor(i){this.location=i,this.test=new Date,this.isfooterBlack=!1,this.imagepath=Dt_baseUrl+"/public/",this.baseUrl=Dt_baseUrl+"/assets"}ngOnInit(){}removeFooter(){this.isfooterBlack=!1;var i=this.location.path();return("projects"==(i=i.split("/")[1])||"about"==i)&&(this.isfooterBlack=!0,!0)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Xp))},t.\u0275cmp=Mi({type:t,selectors:[["app-footer"]],decls:49,vars:5,consts:[[1,"footer"],[1,"container"],[1,"row"],[1,"col-md-12","col-sm-11","col-11","mx-auto"],[1,"desb","pb-0"],[1,"text-center"],[1,"footer-nav","desb"],[1,"position-absolute","start-50","translate-middle"],["routerLink","/contact",1,"cstbtn","cstbtn128","ftr1"],[1,"text","text128"],[1,"borderspan"],["aria-hidden","true",1,"fa","fa-chevron-right"],[1,"d-flex","justify-content-between","align-items-center","footer-block"],[1,"d-flex1"],["alt","","width","160",1,"logo1",3,"src"],[1,"d-flex2"],[1,"mb-0"],["routerLink","/services"],["routerLink","/studio"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/contact",1,"cstbtn","cstbtn128","ftr2"],["aria-hidden","true",1,"fa","fa-chevron-right","opacity-0"],[1,"credits","ml-auto"],[1,"copyright"]],template:function(r,o){1&r&&(x(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),A(6,"READY TO TRANSFORM YOUR BRAND? "),ce(7,"br"),A(8," GET IN TOUCH WITH US TODAY."),M()(),x(9,"nav",6)(10,"div",7)(11,"p")(12,"a",8)(13,"span",9),A(14," Let\u2019s Talk"),M(),x(15,"span",10),ce(16,"i",11),M()()()(),x(17,"div",12)(18,"div",13),ce(19,"img",14),x(20,"p"),A(21,"Pixtar Branding Services LLC."),M(),x(22,"p"),A(23,"Dubai United Arab Emirates"),M()(),x(24,"div",15)(25,"ul",16)(26,"li")(27,"a",17),A(28,"Services"),M()(),x(29,"li")(30,"a",18),A(31,"Studio"),M()(),x(32,"li")(33,"a",19),A(34,"Work"),M()(),x(35,"li")(36,"a",20),A(37,"Contact"),M()(),x(38,"li")(39,"p")(40,"a",21)(41,"span",9),A(42," Ask for a Quote"),M(),x(43,"span",10),ce(44,"i",22),M()()()()()()()()(),x(45,"div",23)(46,"span",24),A(47),iS(48,"date"),M()()()()()),2&r&&(se(19),Ee("src","",o.baseUrl,"/img/logos/pixtar-main-logo.svg",Ce),se(28),ro(" \xa9 ",function kF(e,t,n,i){const r=e+Gr,o=It(),s=Wr(o,r);return Dy(o,r)?EF(o,po(),t,s.transform,n,i,s):s.transform(n,i)}(48,2,o.test,"yyyy"),", All Rights Reserved Pixtar "))},dependencies:[sd,oB],styles:[".footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none}.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px;height:38px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:80px 0}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:50px 0}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]{padding:30px 0}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:32px}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 1024px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:150px}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:130px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .qrcode[_ngcontent-%COMP%]{height:80px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]{padding-top:20px}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]{padding-top:10px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:barcelony,sans-serif;font-size:78px;color:#000;line-height:1}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 1280px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px}}.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:90px;text-transform:uppercase;font-weight:700;line-height:1}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}}@media (max-width: 1280px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 991px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}@media (max-width: 575px){.footer[_ngcontent-%COMP%]   .describe[_ngcontent-%COMP%]   .call[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]{padding-top:50px}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:14px;line-height:normal;margin-bottom:0;position:relative;left:54px}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]{text-align:center}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{left:0}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;align-items:center}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px}}@media (max-width: 320px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 3px}}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#7a7a7a;font-size:14px;font-weight:600}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#dd9a7a}.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#dd9a7a}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]{margin-top:15px;display:flex;align-items:center}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .footer-block[_ngcontent-%COMP%]{flex-direction:column;justify-content:center!important;align-items:center!important}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{display:block;margin:0}}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;text-decoration:none;font-weight:600}.footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-nav[_ngcontent-%COMP%]{line-height:normal}.footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{margin:15px 0}.footerBlk[_ngcontent-%COMP%]{background:#000}.footerBlk[_ngcontent-%COMP%]   .d-flex1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.footerBlk[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important;font-size:18px}.footerBlk[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#dd9a7a!important}.whatsapp-icon[_ngcontent-%COMP%]{position:fixed;width:34px;text-align:center;text-decoration:none;bottom:4%;right:2%;z-index:9;cursor:pointer}@media (max-width: 1440px){.whatsapp-icon[_ngcontent-%COMP%]{bottom:3%}}@media (max-width: 480px){.whatsapp-icon[_ngcontent-%COMP%]{bottom:2%;right:4%;width:28px}}.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d1d1f}@media (max-width: 1366px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:52%!important}}@media (max-width: 1024px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:53%!important}}@media (max-width: 767px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:54%!important}}@media (max-width: 600px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{margin:.5rem auto}}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .desb[_ngcontent-%COMP%]   .start-50[_ngcontent-%COMP%]{left:59%!important}}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]{color:#1d1d1f!important;font-weight:600;display:flex;justify-content:end;align-items:center;text-decoration:none!important}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]{border:1px dashed #6e6e73;height:35px;width:35px;display:flex;justify-content:center;align-items:center;position:absolute;border-radius:50px;transition:.5s all ease-in-out}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .borderspan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#e5a381,#a9644b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8px}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]:hover   .borderspan[_ngcontent-%COMP%]{height:25px;width:25px}.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:115px;position:relative;right:4px;font-size:14px}@media (max-width: 480px){.footer[_ngcontent-%COMP%]   .d-flex2[_ngcontent-%COMP%]   .cstbtn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;width:107px}}.cstbtn.ftr1[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:77px}"]}),e})();function qze(e,t){1&e&&ce(0,"app-navbar")}function Yze(e,t){1&e&&ce(0,"app-footer")}let Xze=(()=>{const t=class{constructor(i,r,o){this.renderer=i,this.location=r,this.metaTagService=o}ngOnInit(){Sze.init(),this.metaTagService.addTags([{name:"keywords",content:"pixtar.ae, pixtar"},{name:"robots",content:"index, follow"},{name:"author",content:"Ipcs"},{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},{name:"date",content:"2022-10-1",scheme:"YYYY-MM-DD"},{charset:"UTF-8"}]),window.scroll({top:0,left:0,behavior:"smooth"})}removeFooter(){var i=this.location.prepareExternalUrl(this.location.path());return!("/signup"===(i=i.slice(1))||"/nucleoicons"===i||i.includes("contact")||"p/kbn"===i||"p/kbn2"===i||"p/js"===i||"p/io"===i||"p/godly"===i)}removeHeader(){var i=this.location.prepareExternalUrl(this.location.path());return"p/kbn"!==(i=i.slice(1))&&"p/kbn2"!==i&&"p/js"!==i&&"p/io"!==i&&"p/godly"!==i||($("#botpenguin-launcher-12").hasClass("botpenguin-right")&&$(".BotPenguin-chat").addClass("d-none"),!1)}};let e=t;return t.\u0275fac=function(r){return new(r||t)(Me(Ds),Me(Xp),Me(Hl))},t.\u0275cmp=Mi({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"]],template:function(r,o){1&r&&(tt(0,qze,1,0,"app-navbar",0),ce(1,"router-outlet"),tt(2,Yze,1,0,"app-footer",0)),2&r&&(We("ngIf",o.removeHeader()),se(2),We("ngIf",o.removeFooter()))},dependencies:[fa,gD,Gze,Wze]}),e})(),$ze=(()=>{const t=class{};let e=t;return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Si({type:t,bootstrap:[Xze]}),t.\u0275inj=Sn({providers:[qh],imports:[kB.withServerTransition({appId:"serverApp"}),Oze,$le,Eae,Ez,Ole,Gue,Zue.forRoot(),ome]}),e})();function Y$(){_oe().bootstrapModule($ze).catch(e=>console.error(e))}"complete"===document.readyState?Y$():document.addEventListener("DOMContentLoaded",Y$)},7123:function(p){p.exports=function(g){function m(C){if(_[C])return _[C].exports;var E=_[C]={exports:{},id:C,loaded:!1};return g[C].call(E.exports,E,E.exports,m),E.loaded=!0,E.exports}var _={};return m.m=g,m.c=_,m.p="dist/",m(0)}([function(g,m,_){"use strict";function C(it){return it&&it.__esModule?it:{default:it}}var E=Object.assign||function(it){for(var yt=1;yt<arguments.length;yt++){var Lt=arguments[yt];for(var Jt in Lt)Object.prototype.hasOwnProperty.call(Lt,Jt)&&(it[Jt]=Lt[Jt])}return it},L=(C(_(1)),_(6)),U=C(L),T=C(_(7)),R=C(_(8)),F=C(_(9)),I=C(_(10)),oe=C(_(11)),be=C(_(14)),Ae=[],$e=!1,Be={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},qe=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&($e=!0),$e)return Ae=(0,oe.default)(Ae,Be),(0,I.default)(Ae,Be.once),Ae},pt=function(){Ae=(0,be.default)(),qe()};g.exports={init:function(it){Be=E(Be,it),Ae=(0,be.default)();var yt=document.all&&!window.atob;return function(it){return!0===it||"mobile"===it&&F.default.mobile()||"phone"===it&&F.default.phone()||"tablet"===it&&F.default.tablet()||"function"==typeof it&&!0===it()}(Be.disable)||yt?void Ae.forEach(function(it,yt){it.node.removeAttribute("data-aos"),it.node.removeAttribute("data-aos-easing"),it.node.removeAttribute("data-aos-duration"),it.node.removeAttribute("data-aos-delay")}):(Be.disableMutationObserver||R.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Be.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Be.easing),document.querySelector("body").setAttribute("data-aos-duration",Be.duration),document.querySelector("body").setAttribute("data-aos-delay",Be.delay),"DOMContentLoaded"===Be.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?qe(!0):"load"===Be.startEvent?window.addEventListener(Be.startEvent,function(){qe(!0)}):document.addEventListener(Be.startEvent,function(){qe(!0)}),window.addEventListener("resize",(0,T.default)(qe,Be.debounceDelay,!0)),window.addEventListener("orientationchange",(0,T.default)(qe,Be.debounceDelay,!0)),window.addEventListener("scroll",(0,U.default)(function(){(0,I.default)(Ae,Be.once)},Be.throttleDelay)),Be.disableMutationObserver||R.default.ready("[data-aos]",pt),Ae)},refresh:qe,refreshHard:pt}},function(g,m){},,,,,function(g,m){(function(_){"use strict";function C(Se,at,it){function yt(Gt){var Ai=sn,ni=ln;return sn=ln=void 0,Ct=Gt,Pn=Se.apply(ni,Ai)}function ut(Gt){var Ai=Gt-zn;return void 0===zn||Ai>=at||Ai<0||Sn&&Gt-Ct>=Nt}function Ne(){var Gt=j();return ut(Gt)?ct(Gt):void(On=setTimeout(Ne,function Jt(Gt){var Ki=at-(Gt-zn);return Sn?pt(Ki,Nt-(Gt-Ct)):Ki}(Gt)))}function ct(Gt){return On=void 0,$n&&sn?yt(Gt):(sn=ln=void 0,Pn)}function fn(){var Gt=j(),Ai=ut(Gt);if(sn=arguments,ln=this,zn=Gt,Ai){if(void 0===On)return function Lt(Gt){return Ct=Gt,On=setTimeout(Ne,at),hr?yt(Gt):Pn}(zn);if(Sn)return On=setTimeout(Ne,at),yt(zn)}return void 0===On&&(On=setTimeout(Ne,at)),Pn}var sn,ln,Nt,Pn,On,zn,Ct=0,hr=!1,Sn=!1,$n=!0;if("function"!=typeof Se)throw new TypeError(B);return at=X(at)||0,H(it)&&(hr=!!it.leading,Nt=(Sn="maxWait"in it)?qe(X(it.maxWait)||0,at):Nt,$n="trailing"in it?!!it.trailing:$n),fn.cancel=function Yt(){void 0!==On&&clearTimeout(On),Ct=0,sn=zn=ln=On=void 0},fn.flush=function yn(){return void 0===On?Pn:ct(j())},fn}function H(Se){var at=typeof Se>"u"?"undefined":T(Se);return!!Se&&("object"==at||"function"==at)}function U(Se){return"symbol"==(typeof Se>"u"?"undefined":T(Se))||function L(Se){return!!Se&&"object"==(typeof Se>"u"?"undefined":T(Se))}(Se)&&Be.call(Se)==N}function X(Se){if("number"==typeof Se)return Se;if(U(Se))return R;if(H(Se)){var at="function"==typeof Se.valueOf?Se.valueOf():Se;Se=H(at)?at+"":at}if("string"!=typeof Se)return 0===Se?Se:+Se;Se=Se.replace(F,"");var it=I.test(Se);return it||Q.test(Se)?oe(Se.slice(2),it?2:8):G.test(Se)?R:+Se}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},B="Expected a function",R=NaN,N="[object Symbol]",F=/^\s+|\s+$/g,G=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,Q=/^0o[0-7]+$/i,oe=parseInt,le="object"==(typeof _>"u"?"undefined":T(_))&&_&&_.Object===Object&&_,be="object"==(typeof self>"u"?"undefined":T(self))&&self&&self.Object===Object&&self,Ae=le||be||Function("return this")(),Be=Object.prototype.toString,qe=Math.max,pt=Math.min,j=function(){return Ae.Date.now()};g.exports=function E(Se,at,it){var yt=!0,Lt=!0;if("function"!=typeof Se)throw new TypeError(B);return H(it)&&(yt="leading"in it?!!it.leading:yt,Lt="trailing"in it?!!it.trailing:Lt),C(Se,at,{leading:yt,maxWait:at,trailing:Lt})}}).call(m,function(){return this}())},function(g,m){(function(_){"use strict";function E(j){var Se=typeof j>"u"?"undefined":X(j);return!!j&&("object"==Se||"function"==Se)}function L(j){return"symbol"==(typeof j>"u"?"undefined":X(j))||function H(j){return!!j&&"object"==(typeof j>"u"?"undefined":X(j))}(j)&&$e.call(j)==R}function U(j){if("number"==typeof j)return j;if(L(j))return B;if(E(j)){var Se="function"==typeof j.valueOf?j.valueOf():j;j=E(Se)?Se+"":Se}if("string"!=typeof j)return 0===j?j:+j;j=j.replace(N,"");var at=G.test(j);return at||I.test(j)?Q(j.slice(2),at?2:8):F.test(j)?B:+j}var X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},T="Expected a function",B=NaN,R="[object Symbol]",N=/^\s+|\s+$/g,F=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,I=/^0o[0-7]+$/i,Q=parseInt,oe="object"==(typeof _>"u"?"undefined":X(_))&&_&&_.Object===Object&&_,le="object"==(typeof self>"u"?"undefined":X(self))&&self&&self.Object===Object&&self,be=oe||le||Function("return this")(),$e=Object.prototype.toString,Be=Math.max,qe=Math.min,pt=function(){return be.Date.now()};g.exports=function C(j,Se,at){function it($n){var Gt=fn,Ai=sn;return fn=sn=void 0,zn=$n,Nt=j.apply(Ai,Gt)}function Jt($n){var Gt=$n-On;return void 0===On||Gt>=Se||Gt<0||hr&&$n-zn>=ln}function ut(){var $n=pt();return Jt($n)?Ne($n):void(Pn=setTimeout(ut,function Lt($n){var ni=Se-($n-On);return hr?qe(ni,ln-($n-zn)):ni}($n)))}function Ne($n){return Pn=void 0,Sn&&fn?it($n):(fn=sn=void 0,Nt)}function yn(){var $n=pt(),Gt=Jt($n);if(fn=arguments,sn=this,On=$n,Gt){if(void 0===Pn)return function yt($n){return zn=$n,Pn=setTimeout(ut,Se),Ct?it($n):Nt}(On);if(hr)return Pn=setTimeout(ut,Se),it(On)}return void 0===Pn&&(Pn=setTimeout(ut,Se)),Nt}var fn,sn,ln,Nt,Pn,On,zn=0,Ct=!1,hr=!1,Sn=!0;if("function"!=typeof j)throw new TypeError(T);return Se=U(Se)||0,E(at)&&(Ct=!!at.leading,ln=(hr="maxWait"in at)?Be(U(at.maxWait)||0,Se):ln,Sn="trailing"in at?!!at.trailing:Sn),yn.cancel=function ct(){void 0!==Pn&&clearTimeout(Pn),zn=0,fn=On=sn=Pn=void 0},yn.flush=function Yt(){return void 0===Pn?Nt:Ne(pt())},yn}}).call(m,function(){return this}())},function(g,m){"use strict";function _(X){var T=void 0,B=void 0;for(T=0;T<X.length;T+=1)if((B=X[T]).dataset&&B.dataset.aos||B.children&&_(B.children))return!0;return!1}function C(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function L(X){X&&X.forEach(function(T){var B=Array.prototype.slice.call(T.addedNodes),R=Array.prototype.slice.call(T.removedNodes);if(_(B.concat(R)))return U()})}Object.defineProperty(m,"__esModule",{value:!0});var U=function(){};m.default={isSupported:function E(){return!!C()},ready:function H(X,T){var B=window.document,N=new(C())(L);U=T,N.observe(B.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(g,m){"use strict";function C(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(m,"__esModule",{value:!0});var E=function(){function B(R,N){for(var F=0;F<N.length;F++){var G=N[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(R,G.key,G)}}return function(R,N,F){return N&&B(R.prototype,N),F&&B(R,F),R}}(),H=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,L=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,U=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,X=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,T=function(){function B(){!function _(B,R){if(!(B instanceof R))throw new TypeError("Cannot call a class as a function")}(this,B)}return E(B,[{key:"phone",value:function(){var R=C();return!(!H.test(R)&&!L.test(R.substr(0,4)))}},{key:"mobile",value:function(){var R=C();return!(!U.test(R)&&!X.test(R.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),B}();m.default=new T},function(g,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.default=function(E,H){var L=window.pageYOffset,U=window.innerHeight;E.forEach(function(X,T){!function(E,H,L){var U=E.node.getAttribute("data-aos-once");H>E.position?E.node.classList.add("aos-animate"):typeof U<"u"&&("false"===U||!L&&"true"!==U)&&E.node.classList.remove("aos-animate")}(X,U+L,H)})}},function(g,m,_){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var H=function C(U){return U&&U.__esModule?U:{default:U}}(_(12));m.default=function(U,X){return U.forEach(function(T,B){T.node.classList.add("aos-init"),T.position=(0,H.default)(T.node,X.offset)}),U}},function(g,m,_){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var H=function C(U){return U&&U.__esModule?U:{default:U}}(_(13));m.default=function(U,X){var T=0,B=0,R=window.innerHeight,N={offset:U.getAttribute("data-aos-offset"),anchor:U.getAttribute("data-aos-anchor"),anchorPlacement:U.getAttribute("data-aos-anchor-placement")};switch(N.offset&&!isNaN(N.offset)&&(B=parseInt(N.offset)),N.anchor&&document.querySelectorAll(N.anchor)&&(U=document.querySelectorAll(N.anchor)[0]),T=(0,H.default)(U).top,N.anchorPlacement){case"top-bottom":break;case"center-bottom":T+=U.offsetHeight/2;break;case"bottom-bottom":T+=U.offsetHeight;break;case"top-center":T+=R/2;break;case"bottom-center":T+=R/2+U.offsetHeight;break;case"center-center":T+=R/2+U.offsetHeight/2;break;case"top-top":T+=R;break;case"bottom-top":T+=U.offsetHeight+R;break;case"center-top":T+=U.offsetHeight/2+R}return N.anchorPlacement||N.offset||isNaN(X)||(B=X),T+B}},function(g,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(C){for(var E=0,H=0;C&&!isNaN(C.offsetLeft)&&!isNaN(C.offsetTop);)E+=C.offsetLeft-("BODY"!=C.tagName?C.scrollLeft:0),H+=C.offsetTop-("BODY"!=C.tagName?C.scrollTop:0),C=C.offsetParent;return{top:H,left:E}}},function(g,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(C){return C=C||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(C,function(E){return{node:E}})}}])},8259:function(p,g){var _;!function(C,E){"use strict";"object"==typeof p.exports?p.exports=C.document?E(C,!0):function(H){if(!H.document)throw new Error("jQuery requires a window with a document");return E(H)}:E(C)}(typeof window<"u"?window:this,function(C,E){"use strict";var H=[],L=Object.getPrototypeOf,U=H.slice,X=H.flat?function(P){return H.flat.call(P)}:function(P){return H.concat.apply([],P)},T=H.push,B=H.indexOf,R={},N=R.toString,F=R.hasOwnProperty,G=F.toString,I=G.call(Object),Q={},oe=function(k){return"function"==typeof k&&"number"!=typeof k.nodeType&&"function"!=typeof k.item},le=function(k){return null!=k&&k===k.window},be=C.document,Ae={type:!0,src:!0,nonce:!0,noModule:!0};function $e(P,k,Z){var ne,ue,he=(Z=Z||be).createElement("script");if(he.text=P,k)for(ne in Ae)(ue=k[ne]||k.getAttribute&&k.getAttribute(ne))&&he.setAttribute(ne,ue);Z.head.appendChild(he).parentNode.removeChild(he)}function Be(P){return null==P?P+"":"object"==typeof P||"function"==typeof P?R[N.call(P)]||"object":typeof P}var pt=/HTML$/i,j=function(P,k){return new j.fn.init(P,k)};function Se(P){var k=!!P&&"length"in P&&P.length,Z=Be(P);return!oe(P)&&!le(P)&&("array"===Z||0===k||"number"==typeof k&&k>0&&k-1 in P)}function at(P,k){return P.nodeName&&P.nodeName.toLowerCase()===k.toLowerCase()}j.fn=j.prototype={jquery:"3.7.1",constructor:j,length:0,toArray:function(){return U.call(this)},get:function(P){return null==P?U.call(this):P<0?this[P+this.length]:this[P]},pushStack:function(P){var k=j.merge(this.constructor(),P);return k.prevObject=this,k},each:function(P){return j.each(this,P)},map:function(P){return this.pushStack(j.map(this,function(k,Z){return P.call(k,Z,k)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(j.grep(this,function(P,k){return(k+1)%2}))},odd:function(){return this.pushStack(j.grep(this,function(P,k){return k%2}))},eq:function(P){var k=this.length,Z=+P+(P<0?k:0);return this.pushStack(Z>=0&&Z<k?[this[Z]]:[])},end:function(){return this.prevObject||this.constructor()},push:T,sort:H.sort,splice:H.splice},j.extend=j.fn.extend=function(){var P,k,Z,ne,ue,he,me=arguments[0]||{},je=1,Fe=arguments.length,Qe=!1;for("boolean"==typeof me&&(Qe=me,me=arguments[je]||{},je++),"object"!=typeof me&&!oe(me)&&(me={}),je===Fe&&(me=this,je--);je<Fe;je++)if(null!=(P=arguments[je]))for(k in P)ne=P[k],"__proto__"!==k&&me!==ne&&(Qe&&ne&&(j.isPlainObject(ne)||(ue=Array.isArray(ne)))?(Z=me[k],he=ue&&!Array.isArray(Z)?[]:ue||j.isPlainObject(Z)?Z:{},ue=!1,me[k]=j.extend(Qe,he,ne)):void 0!==ne&&(me[k]=ne));return me},j.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(P){throw new Error(P)},noop:function(){},isPlainObject:function(P){var k,Z;return!(!P||"[object Object]"!==N.call(P)||(k=L(P))&&("function"!=typeof(Z=F.call(k,"constructor")&&k.constructor)||G.call(Z)!==I))},isEmptyObject:function(P){var k;for(k in P)return!1;return!0},globalEval:function(P,k,Z){$e(P,{nonce:k&&k.nonce},Z)},each:function(P,k){var Z,ne=0;if(Se(P))for(Z=P.length;ne<Z&&!1!==k.call(P[ne],ne,P[ne]);ne++);else for(ne in P)if(!1===k.call(P[ne],ne,P[ne]))break;return P},text:function(P){var k,Z="",ne=0,ue=P.nodeType;if(!ue)for(;k=P[ne++];)Z+=j.text(k);return 1===ue||11===ue?P.textContent:9===ue?P.documentElement.textContent:3===ue||4===ue?P.nodeValue:Z},makeArray:function(P,k){var Z=k||[];return null!=P&&(Se(Object(P))?j.merge(Z,"string"==typeof P?[P]:P):T.call(Z,P)),Z},inArray:function(P,k,Z){return null==k?-1:B.call(k,P,Z)},isXMLDoc:function(P){var Z=P&&(P.ownerDocument||P).documentElement;return!pt.test(P&&P.namespaceURI||Z&&Z.nodeName||"HTML")},merge:function(P,k){for(var Z=+k.length,ne=0,ue=P.length;ne<Z;ne++)P[ue++]=k[ne];return P.length=ue,P},grep:function(P,k,Z){for(var ue=[],he=0,me=P.length,je=!Z;he<me;he++)!k(P[he],he)!==je&&ue.push(P[he]);return ue},map:function(P,k,Z){var ne,ue,he=0,me=[];if(Se(P))for(ne=P.length;he<ne;he++)null!=(ue=k(P[he],he,Z))&&me.push(ue);else for(he in P)null!=(ue=k(P[he],he,Z))&&me.push(ue);return X(me)},guid:1,support:Q}),"function"==typeof Symbol&&(j.fn[Symbol.iterator]=H[Symbol.iterator]),j.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(P,k){R["[object "+k+"]"]=k.toLowerCase()});var it=H.pop,yt=H.sort,Lt=H.splice,Jt="[\\x20\\t\\r\\n\\f]",ut=new RegExp("^"+Jt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Jt+"+$","g");j.contains=function(P,k){var Z=k&&k.parentNode;return P===Z||!(!Z||1!==Z.nodeType||!(P.contains?P.contains(Z):P.compareDocumentPosition&&16&P.compareDocumentPosition(Z)))};var Ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ct(P,k){return k?"\0"===P?"\ufffd":P.slice(0,-1)+"\\"+P.charCodeAt(P.length-1).toString(16)+" ":"\\"+P}j.escapeSelector=function(P){return(P+"").replace(Ne,ct)};var Yt=be,yn=T;!function(){var P,k,Z,ne,ue,me,je,Fe,Qe,xt,he=yn,kt=j.expando,st=0,Kt=0,Zn=Wc(),oi=Wc(),xi=Wc(),No=Wc(),Wr=function(De,Ke){return De===Ke&&(ue=!0),0},Fr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Sa="(?:\\\\[\\da-fA-F]{1,6}"+Jt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",wi="\\["+Jt+"*("+Sa+")(?:"+Jt+"*([*^$|!~]?=)"+Jt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Sa+"))|)"+Jt+"*\\]",fc=":("+Sa+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+wi+")*)|.*)\\)|)",Fi=new RegExp(Jt+"+","g"),no=new RegExp("^"+Jt+"*,"+Jt+"*"),Nl=new RegExp("^"+Jt+"*([>+~]|"+Jt+")"+Jt+"*"),di=new RegExp(Jt+"|>"),Ws=new RegExp(fc),xu=new RegExp("^"+Sa+"$"),La={ID:new RegExp("^#("+Sa+")"),CLASS:new RegExp("^\\.("+Sa+")"),TAG:new RegExp("^("+Sa+"|[*])"),ATTR:new RegExp("^"+wi),PSEUDO:new RegExp("^"+fc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Jt+"*(even|odd|(([+-]|)(\\d*)n|)"+Jt+"*(?:([+-]|)"+Jt+"*(\\d+)|))"+Jt+"*\\)|)","i"),bool:new RegExp("^(?:"+Fr+")$","i"),needsContext:new RegExp("^"+Jt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Jt+"*((?:-\\d)?\\d*)"+Jt+"*\\)|)(?=[^-]|$)","i")},Fl=/^(?:input|select|textarea|button)$/i,Ll=/^h\d$/i,Es=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Oh=/[+~]/,Ba=new RegExp("\\\\[\\da-fA-F]{1,6}"+Jt+"?|\\\\([^\\r\\n\\f])","g"),It=function(De,Ke){var dt="0x"+De.slice(1)-65536;return Ke||(dt<0?String.fromCharCode(dt+65536):String.fromCharCode(dt>>10|55296,1023&dt|56320))},nr=function(){po()},En=qs(function(De){return!0===De.disabled&&at(De,"fieldset")},{dir:"parentNode",next:"legend"});try{he.apply(H=U.call(Yt.childNodes),Yt.childNodes)}catch{he={apply:function(Ke,dt){yn.apply(Ke,U.call(dt))},call:function(Ke){yn.apply(Ke,U.call(arguments,1))}}}function yi(De,Ke,dt,bt){var Tt,an,bn,Bn,Cn,qi,ve,z=Ke&&Ke.ownerDocument,ee=Ke?Ke.nodeType:9;if(dt=dt||[],"string"!=typeof De||!De||1!==ee&&9!==ee&&11!==ee)return dt;if(!bt&&(po(Ke),Ke=Ke||me,Fe)){if(11!==ee&&(Cn=Es.exec(De)))if(Tt=Cn[1]){if(9===ee){if(!(bn=Ke.getElementById(Tt)))return dt;if(bn.id===Tt)return he.call(dt,bn),dt}else if(z&&(bn=z.getElementById(Tt))&&yi.contains(Ke,bn)&&bn.id===Tt)return he.call(dt,bn),dt}else{if(Cn[2])return he.apply(dt,Ke.getElementsByTagName(De)),dt;if((Tt=Cn[3])&&Ke.getElementsByClassName)return he.apply(dt,Ke.getElementsByClassName(Tt)),dt}if(!(No[De+" "]||Qe&&Qe.test(De))){if(ve=De,z=Ke,1===ee&&(di.test(De)||Nl.test(De))){for(((z=Oh.test(De)&&Ad(Ke.parentNode)||Ke)!=Ke||!Q.scope)&&((Bn=Ke.getAttribute("id"))?Bn=j.escapeSelector(Bn):Ke.setAttribute("id",Bn=kt)),an=(qi=Yc(De)).length;an--;)qi[an]=(Bn?"#"+Bn:":scope")+" "+al(qi[an]);ve=qi.join(",")}try{return he.apply(dt,z.querySelectorAll(ve)),dt}catch{No(De,!0)}finally{Bn===kt&&Ke.removeAttribute("id")}}}return kd(De.replace(ut,"$1"),Ke,dt,bt)}function Wc(){var De=[];return function Ke(dt,bt){return De.push(dt+" ")>k.cacheLength&&delete Ke[De.shift()],Ke[dt+" "]=bt}}function cs(De){return De[kt]=!0,De}function Mo(De){var Ke=me.createElement("fieldset");try{return!!De(Ke)}catch{return!1}finally{Ke.parentNode&&Ke.parentNode.removeChild(Ke),Ke=null}}function Sh(De){return function(Ke){return at(Ke,"input")&&Ke.type===De}}function Eh(De){return function(Ke){return(at(Ke,"input")||at(Ke,"button"))&&Ke.type===De}}function Lp(De){return function(Ke){return"form"in Ke?Ke.parentNode&&!1===Ke.disabled?"label"in Ke?"label"in Ke.parentNode?Ke.parentNode.disabled===De:Ke.disabled===De:Ke.isDisabled===De||Ke.isDisabled!==!De&&En(Ke)===De:Ke.disabled===De:"label"in Ke&&Ke.disabled===De}}function qc(De){return cs(function(Ke){return Ke=+Ke,cs(function(dt,bt){for(var Tt,an=De([],dt.length,Ke),bn=an.length;bn--;)dt[Tt=an[bn]]&&(dt[Tt]=!(bt[Tt]=dt[Tt]))})})}function Ad(De){return De&&typeof De.getElementsByTagName<"u"&&De}function po(De){var Ke,dt=De?De.ownerDocument||De:Yt;return dt==me||9!==dt.nodeType||!dt.documentElement||(je=(me=dt).documentElement,Fe=!j.isXMLDoc(me),xt=je.matches||je.webkitMatchesSelector||je.msMatchesSelector,je.msMatchesSelector&&Yt!=me&&(Ke=me.defaultView)&&Ke.top!==Ke&&Ke.addEventListener("unload",nr),Q.getById=Mo(function(bt){return je.appendChild(bt).id=j.expando,!me.getElementsByName||!me.getElementsByName(j.expando).length}),Q.disconnectedMatch=Mo(function(bt){return xt.call(bt,"*")}),Q.scope=Mo(function(){return me.querySelectorAll(":scope")}),Q.cssHas=Mo(function(){try{return me.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Q.getById?(k.filter.ID=function(bt){var Tt=bt.replace(Ba,It);return function(an){return an.getAttribute("id")===Tt}},k.find.ID=function(bt,Tt){if(typeof Tt.getElementById<"u"&&Fe){var an=Tt.getElementById(bt);return an?[an]:[]}}):(k.filter.ID=function(bt){var Tt=bt.replace(Ba,It);return function(an){var bn=typeof an.getAttributeNode<"u"&&an.getAttributeNode("id");return bn&&bn.value===Tt}},k.find.ID=function(bt,Tt){if(typeof Tt.getElementById<"u"&&Fe){var an,bn,Bn,Cn=Tt.getElementById(bt);if(Cn){if((an=Cn.getAttributeNode("id"))&&an.value===bt)return[Cn];for(Bn=Tt.getElementsByName(bt),bn=0;Cn=Bn[bn++];)if((an=Cn.getAttributeNode("id"))&&an.value===bt)return[Cn]}return[]}}),k.find.TAG=function(bt,Tt){return typeof Tt.getElementsByTagName<"u"?Tt.getElementsByTagName(bt):Tt.querySelectorAll(bt)},k.find.CLASS=function(bt,Tt){if(typeof Tt.getElementsByClassName<"u"&&Fe)return Tt.getElementsByClassName(bt)},Qe=[],Mo(function(bt){var Tt;je.appendChild(bt).innerHTML="<a id='"+kt+"' href='' disabled='disabled'></a><select id='"+kt+"-\r\\' disabled='disabled'><option selected=''></option></select>",bt.querySelectorAll("[selected]").length||Qe.push("\\["+Jt+"*(?:value|"+Fr+")"),bt.querySelectorAll("[id~="+kt+"-]").length||Qe.push("~="),bt.querySelectorAll("a#"+kt+"+*").length||Qe.push(".#.+[+~]"),bt.querySelectorAll(":checked").length||Qe.push(":checked"),(Tt=me.createElement("input")).setAttribute("type","hidden"),bt.appendChild(Tt).setAttribute("name","D"),je.appendChild(bt).disabled=!0,2!==bt.querySelectorAll(":disabled").length&&Qe.push(":enabled",":disabled"),(Tt=me.createElement("input")).setAttribute("name",""),bt.appendChild(Tt),bt.querySelectorAll("[name='']").length||Qe.push("\\["+Jt+"*name"+Jt+"*="+Jt+"*(?:''|\"\")")}),Q.cssHas||Qe.push(":has"),Qe=Qe.length&&new RegExp(Qe.join("|")),Wr=function(bt,Tt){if(bt===Tt)return ue=!0,0;var an=!bt.compareDocumentPosition-!Tt.compareDocumentPosition;return an||(1&(an=(bt.ownerDocument||bt)==(Tt.ownerDocument||Tt)?bt.compareDocumentPosition(Tt):1)||!Q.sortDetached&&Tt.compareDocumentPosition(bt)===an?bt===me||bt.ownerDocument==Yt&&yi.contains(Yt,bt)?-1:Tt===me||Tt.ownerDocument==Yt&&yi.contains(Yt,Tt)?1:ne?B.call(ne,bt)-B.call(ne,Tt):0:4&an?-1:1)}),me}for(P in yi.matches=function(De,Ke){return yi(De,null,null,Ke)},yi.matchesSelector=function(De,Ke){if(po(De),Fe&&!No[Ke+" "]&&(!Qe||!Qe.test(Ke)))try{var dt=xt.call(De,Ke);if(dt||Q.disconnectedMatch||De.document&&11!==De.document.nodeType)return dt}catch{No(Ke,!0)}return yi(Ke,me,null,[De]).length>0},yi.contains=function(De,Ke){return(De.ownerDocument||De)!=me&&po(De),j.contains(De,Ke)},yi.attr=function(De,Ke){(De.ownerDocument||De)!=me&&po(De);var dt=k.attrHandle[Ke.toLowerCase()],bt=dt&&F.call(k.attrHandle,Ke.toLowerCase())?dt(De,Ke,!Fe):void 0;return void 0!==bt?bt:De.getAttribute(Ke)},yi.error=function(De){throw new Error("Syntax error, unrecognized expression: "+De)},j.uniqueSort=function(De){var Ke,dt=[],bt=0,Tt=0;if(ue=!Q.sortStable,ne=!Q.sortStable&&U.call(De,0),yt.call(De,Wr),ue){for(;Ke=De[Tt++];)Ke===De[Tt]&&(bt=dt.push(Tt));for(;bt--;)Lt.call(De,dt[bt],1)}return ne=null,De},j.fn.uniqueSort=function(){return this.pushStack(j.uniqueSort(U.apply(this)))},(k=j.expr={cacheLength:50,createPseudo:cs,match:La,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(De){return De[1]=De[1].replace(Ba,It),De[3]=(De[3]||De[4]||De[5]||"").replace(Ba,It),"~="===De[2]&&(De[3]=" "+De[3]+" "),De.slice(0,4)},CHILD:function(De){return De[1]=De[1].toLowerCase(),"nth"===De[1].slice(0,3)?(De[3]||yi.error(De[0]),De[4]=+(De[4]?De[5]+(De[6]||1):2*("even"===De[3]||"odd"===De[3])),De[5]=+(De[7]+De[8]||"odd"===De[3])):De[3]&&yi.error(De[0]),De},PSEUDO:function(De){var Ke,dt=!De[6]&&De[2];return La.CHILD.test(De[0])?null:(De[3]?De[2]=De[4]||De[5]||"":dt&&Ws.test(dt)&&(Ke=Yc(dt,!0))&&(Ke=dt.indexOf(")",dt.length-Ke)-dt.length)&&(De[0]=De[0].slice(0,Ke),De[2]=dt.slice(0,Ke)),De.slice(0,3))}},filter:{TAG:function(De){var Ke=De.replace(Ba,It).toLowerCase();return"*"===De?function(){return!0}:function(dt){return at(dt,Ke)}},CLASS:function(De){var Ke=Zn[De+" "];return Ke||(Ke=new RegExp("(^|"+Jt+")"+De+"("+Jt+"|$)"))&&Zn(De,function(dt){return Ke.test("string"==typeof dt.className&&dt.className||typeof dt.getAttribute<"u"&&dt.getAttribute("class")||"")})},ATTR:function(De,Ke,dt){return function(bt){var Tt=yi.attr(bt,De);return null==Tt?"!="===Ke:!Ke||(Tt+="","="===Ke?Tt===dt:"!="===Ke?Tt!==dt:"^="===Ke?dt&&0===Tt.indexOf(dt):"*="===Ke?dt&&Tt.indexOf(dt)>-1:"$="===Ke?dt&&Tt.slice(-dt.length)===dt:"~="===Ke?(" "+Tt.replace(Fi," ")+" ").indexOf(dt)>-1:"|="===Ke&&(Tt===dt||Tt.slice(0,dt.length+1)===dt+"-"))}},CHILD:function(De,Ke,dt,bt,Tt){var an="nth"!==De.slice(0,3),bn="last"!==De.slice(-4),Bn="of-type"===Ke;return 1===bt&&0===Tt?function(Cn){return!!Cn.parentNode}:function(Cn,qi,ve){var z,ee,ye,Je,Ut,gn=an!==bn?"nextSibling":"previousSibling",Pi=Cn.parentNode,Dr=Bn&&Cn.nodeName.toLowerCase(),ds=!ve&&!Bn,fo=!1;if(Pi){if(an){for(;gn;){for(ye=Cn;ye=ye[gn];)if(Bn?at(ye,Dr):1===ye.nodeType)return!1;Ut=gn="only"===De&&!Ut&&"nextSibling"}return!0}if(Ut=[bn?Pi.firstChild:Pi.lastChild],bn&&ds){for(fo=(Je=(z=(ee=Pi[kt]||(Pi[kt]={}))[De]||[])[0]===st&&z[1])&&z[2],ye=Je&&Pi.childNodes[Je];ye=++Je&&ye&&ye[gn]||(fo=Je=0)||Ut.pop();)if(1===ye.nodeType&&++fo&&ye===Cn){ee[De]=[st,Je,fo];break}}else if(ds&&(fo=Je=(z=(ee=Cn[kt]||(Cn[kt]={}))[De]||[])[0]===st&&z[1]),!1===fo)for(;(ye=++Je&&ye&&ye[gn]||(fo=Je=0)||Ut.pop())&&(!(Bn?at(ye,Dr):1===ye.nodeType)||!++fo||(ds&&((ee=ye[kt]||(ye[kt]={}))[De]=[st,fo]),ye!==Cn)););return(fo-=Tt)===bt||fo%bt==0&&fo/bt>=0}}},PSEUDO:function(De,Ke){var dt,bt=k.pseudos[De]||k.setFilters[De.toLowerCase()]||yi.error("unsupported pseudo: "+De);return bt[kt]?bt(Ke):bt.length>1?(dt=[De,De,"",Ke],k.setFilters.hasOwnProperty(De.toLowerCase())?cs(function(Tt,an){for(var bn,Bn=bt(Tt,Ke),Cn=Bn.length;Cn--;)Tt[bn=B.call(Tt,Bn[Cn])]=!(an[bn]=Bn[Cn])}):function(Tt){return bt(Tt,0,dt)}):bt}},pseudos:{not:cs(function(De){var Ke=[],dt=[],bt=Mu(De.replace(ut,"$1"));return bt[kt]?cs(function(Tt,an,bn,Bn){for(var Cn,qi=bt(Tt,null,Bn,[]),ve=Tt.length;ve--;)(Cn=qi[ve])&&(Tt[ve]=!(an[ve]=Cn))}):function(Tt,an,bn){return Ke[0]=Tt,bt(Ke,null,bn,dt),Ke[0]=null,!dt.pop()}}),has:cs(function(De){return function(Ke){return yi(De,Ke).length>0}}),contains:cs(function(De){return De=De.replace(Ba,It),function(Ke){return(Ke.textContent||j.text(Ke)).indexOf(De)>-1}}),lang:cs(function(De){return xu.test(De||"")||yi.error("unsupported lang: "+De),De=De.replace(Ba,It).toLowerCase(),function(Ke){var dt;do{if(dt=Fe?Ke.lang:Ke.getAttribute("xml:lang")||Ke.getAttribute("lang"))return(dt=dt.toLowerCase())===De||0===dt.indexOf(De+"-")}while((Ke=Ke.parentNode)&&1===Ke.nodeType);return!1}}),target:function(De){var Ke=C.location&&C.location.hash;return Ke&&Ke.slice(1)===De.id},root:function(De){return De===je},focus:function(De){return De===function kn(){try{return me.activeElement}catch{}}()&&me.hasFocus()&&!!(De.type||De.href||~De.tabIndex)},enabled:Lp(!1),disabled:Lp(!0),checked:function(De){return at(De,"input")&&!!De.checked||at(De,"option")&&!!De.selected},selected:function(De){return!0===De.selected},empty:function(De){for(De=De.firstChild;De;De=De.nextSibling)if(De.nodeType<6)return!1;return!0},parent:function(De){return!k.pseudos.empty(De)},header:function(De){return Ll.test(De.nodeName)},input:function(De){return Fl.test(De.nodeName)},button:function(De){return at(De,"input")&&"button"===De.type||at(De,"button")},text:function(De){var Ke;return at(De,"input")&&"text"===De.type&&(null==(Ke=De.getAttribute("type"))||"text"===Ke.toLowerCase())},first:qc(function(){return[0]}),last:qc(function(De,Ke){return[Ke-1]}),eq:qc(function(De,Ke,dt){return[dt<0?dt+Ke:dt]}),even:qc(function(De,Ke){for(var dt=0;dt<Ke;dt+=2)De.push(dt);return De}),odd:qc(function(De,Ke){for(var dt=1;dt<Ke;dt+=2)De.push(dt);return De}),lt:qc(function(De,Ke,dt){var bt;for(bt=dt<0?dt+Ke:dt>Ke?Ke:dt;--bt>=0;)De.push(bt);return De}),gt:qc(function(De,Ke,dt){for(var bt=dt<0?dt+Ke:dt;++bt<Ke;)De.push(bt);return De})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[P]=Sh(P);for(P in{submit:!0,reset:!0})k.pseudos[P]=Eh(P);function za(){}function Yc(De,Ke){var dt,bt,Tt,an,bn,Bn,Cn,qi=oi[De+" "];if(qi)return Ke?0:qi.slice(0);for(bn=De,Bn=[],Cn=k.preFilter;bn;){for(an in(!dt||(bt=no.exec(bn)))&&(bt&&(bn=bn.slice(bt[0].length)||bn),Bn.push(Tt=[])),dt=!1,(bt=Nl.exec(bn))&&(dt=bt.shift(),Tt.push({value:dt,type:bt[0].replace(ut," ")}),bn=bn.slice(dt.length)),k.filter)(bt=La[an].exec(bn))&&(!Cn[an]||(bt=Cn[an](bt)))&&(dt=bt.shift(),Tt.push({value:dt,type:an,matches:bt}),bn=bn.slice(dt.length));if(!dt)break}return Ke?bn.length:bn?yi.error(De):oi(De,Bn).slice(0)}function al(De){for(var Ke=0,dt=De.length,bt="";Ke<dt;Ke++)bt+=De[Ke].value;return bt}function qs(De,Ke,dt){var bt=Ke.dir,Tt=Ke.next,an=Tt||bt,bn=dt&&"parentNode"===an,Bn=Kt++;return Ke.first?function(Cn,qi,ve){for(;Cn=Cn[bt];)if(1===Cn.nodeType||bn)return De(Cn,qi,ve);return!1}:function(Cn,qi,ve){var z,ee,ye=[st,Bn];if(ve){for(;Cn=Cn[bt];)if((1===Cn.nodeType||bn)&&De(Cn,qi,ve))return!0}else for(;Cn=Cn[bt];)if(1===Cn.nodeType||bn)if(ee=Cn[kt]||(Cn[kt]={}),Tt&&at(Cn,Tt))Cn=Cn[bt]||Cn;else{if((z=ee[an])&&z[0]===st&&z[1]===Bn)return ye[2]=z[2];if(ee[an]=ye,ye[2]=De(Cn,qi,ve))return!0}return!1}}function wu(De){return De.length>1?function(Ke,dt,bt){for(var Tt=De.length;Tt--;)if(!De[Tt](Ke,dt,bt))return!1;return!0}:De[0]}function Cu(De,Ke,dt,bt,Tt){for(var an,bn=[],Bn=0,Cn=De.length,qi=null!=Ke;Bn<Cn;Bn++)(an=De[Bn])&&(!dt||dt(an,bt,Tt))&&(bn.push(an),qi&&Ke.push(Bn));return bn}function Dh(De,Ke,dt,bt,Tt,an){return bt&&!bt[kt]&&(bt=Dh(bt)),Tt&&!Tt[kt]&&(Tt=Dh(Tt,an)),cs(function(bn,Bn,Cn,qi){var ve,z,ee,ye,Je=[],Ut=[],gn=Bn.length,Pi=bn||function Bp(De,Ke,dt){for(var bt=0,Tt=Ke.length;bt<Tt;bt++)yi(De,Ke[bt],dt);return dt}(Ke||"*",Cn.nodeType?[Cn]:Cn,[]),Dr=!De||!bn&&Ke?Pi:Cu(Pi,Je,De,Cn,qi);if(dt?dt(Dr,ye=Tt||(bn?De:gn||bt)?[]:Bn,Cn,qi):ye=Dr,bt)for(ve=Cu(ye,Ut),bt(ve,[],Cn,qi),z=ve.length;z--;)(ee=ve[z])&&(ye[Ut[z]]=!(Dr[Ut[z]]=ee));if(bn){if(Tt||De){if(Tt){for(ve=[],z=ye.length;z--;)(ee=ye[z])&&ve.push(Dr[z]=ee);Tt(null,ye=[],ve,qi)}for(z=ye.length;z--;)(ee=ye[z])&&(ve=Tt?B.call(bn,ee):Je[z])>-1&&(bn[ve]=!(Bn[ve]=ee))}}else ye=Cu(ye===Bn?ye.splice(gn,ye.length):ye),Tt?Tt(null,Bn,ye,qi):he.apply(Bn,ye)})}function Xc(De){for(var Ke,dt,bt,Tt=De.length,an=k.relative[De[0].type],bn=an||k.relative[" "],Bn=an?1:0,Cn=qs(function(z){return z===Ke},bn,!0),qi=qs(function(z){return B.call(Ke,z)>-1},bn,!0),ve=[function(z,ee,ye){var Je=!an&&(ye||ee!=Z)||((Ke=ee).nodeType?Cn(z,ee,ye):qi(z,ee,ye));return Ke=null,Je}];Bn<Tt;Bn++)if(dt=k.relative[De[Bn].type])ve=[qs(wu(ve),dt)];else{if((dt=k.filter[De[Bn].type].apply(null,De[Bn].matches))[kt]){for(bt=++Bn;bt<Tt&&!k.relative[De[bt].type];bt++);return Dh(Bn>1&&wu(ve),Bn>1&&al(De.slice(0,Bn-1).concat({value:" "===De[Bn-2].type?"*":""})).replace(ut,"$1"),dt,Bn<bt&&Xc(De.slice(Bn,bt)),bt<Tt&&Xc(De=De.slice(bt)),bt<Tt&&al(De))}ve.push(dt)}return wu(ve)}function Mu(De,Ke){var dt,bt=[],Tt=[],an=xi[De+" "];if(!an){for(Ke||(Ke=Yc(De)),dt=Ke.length;dt--;)(an=Xc(Ke[dt]))[kt]?bt.push(an):Tt.push(an);an=xi(De,function Td(De,Ke){var dt=Ke.length>0,bt=De.length>0,Tt=function(an,bn,Bn,Cn,qi){var ve,z,ee,ye=0,Je="0",Ut=an&&[],gn=[],Pi=Z,Dr=an||bt&&k.find.TAG("*",qi),ds=st+=null==Pi?1:Math.random()||.1,fo=Dr.length;for(qi&&(Z=bn==me||bn||qi);Je!==fo&&null!=(ve=Dr[Je]);Je++){if(bt&&ve){for(z=0,!bn&&ve.ownerDocument!=me&&(po(ve),Bn=!Fe);ee=De[z++];)if(ee(ve,bn||me,Bn)){he.call(Cn,ve);break}qi&&(st=ds)}dt&&((ve=!ee&&ve)&&ye--,an&&Ut.push(ve))}if(ye+=Je,dt&&Je!==ye){for(z=0;ee=Ke[z++];)ee(Ut,gn,bn,Bn);if(an){if(ye>0)for(;Je--;)Ut[Je]||gn[Je]||(gn[Je]=it.call(Cn));gn=Cu(gn)}he.apply(Cn,gn),qi&&!an&&gn.length>0&&ye+Ke.length>1&&j.uniqueSort(Cn)}return qi&&(st=ds,Z=Pi),Ut};return dt?cs(Tt):Tt}(Tt,bt)),an.selector=De}return an}function kd(De,Ke,dt,bt){var Tt,an,bn,Bn,Cn,qi="function"==typeof De&&De,ve=!bt&&Yc(De=qi.selector||De);if(dt=dt||[],1===ve.length){if((an=ve[0]=ve[0].slice(0)).length>2&&"ID"===(bn=an[0]).type&&9===Ke.nodeType&&Fe&&k.relative[an[1].type]){if(!(Ke=(k.find.ID(bn.matches[0].replace(Ba,It),Ke)||[])[0]))return dt;qi&&(Ke=Ke.parentNode),De=De.slice(an.shift().value.length)}for(Tt=La.needsContext.test(De)?0:an.length;Tt--&&!k.relative[Bn=(bn=an[Tt]).type];)if((Cn=k.find[Bn])&&(bt=Cn(bn.matches[0].replace(Ba,It),Oh.test(an[0].type)&&Ad(Ke.parentNode)||Ke))){if(an.splice(Tt,1),!(De=bt.length&&al(an)))return he.apply(dt,bt),dt;break}}return(qi||Mu(De,ve))(bt,Ke,!Fe,dt,!Ke||Oh.test(De)&&Ad(Ke.parentNode)||Ke),dt}za.prototype=k.filters=k.pseudos,k.setFilters=new za,Q.sortStable=kt.split("").sort(Wr).join("")===kt,po(),Q.sortDetached=Mo(function(De){return 1&De.compareDocumentPosition(me.createElement("fieldset"))}),j.find=yi,j.expr[":"]=j.expr.pseudos,j.unique=j.uniqueSort,yi.compile=Mu,yi.select=kd,yi.setDocument=po,yi.tokenize=Yc,yi.escape=j.escapeSelector,yi.getText=j.text,yi.isXML=j.isXMLDoc,yi.selectors=j.expr,yi.support=j.support,yi.uniqueSort=j.uniqueSort}();var fn=function(P,k,Z){for(var ne=[],ue=void 0!==Z;(P=P[k])&&9!==P.nodeType;)if(1===P.nodeType){if(ue&&j(P).is(Z))break;ne.push(P)}return ne},sn=function(P,k){for(var Z=[];P;P=P.nextSibling)1===P.nodeType&&P!==k&&Z.push(P);return Z},ln=j.expr.match.needsContext,Nt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Pn(P,k,Z){return oe(k)?j.grep(P,function(ne,ue){return!!k.call(ne,ue,ne)!==Z}):k.nodeType?j.grep(P,function(ne){return ne===k!==Z}):"string"!=typeof k?j.grep(P,function(ne){return B.call(k,ne)>-1!==Z}):j.filter(k,P,Z)}j.filter=function(P,k,Z){var ne=k[0];return Z&&(P=":not("+P+")"),1===k.length&&1===ne.nodeType?j.find.matchesSelector(ne,P)?[ne]:[]:j.find.matches(P,j.grep(k,function(ue){return 1===ue.nodeType}))},j.fn.extend({find:function(P){var k,Z,ne=this.length,ue=this;if("string"!=typeof P)return this.pushStack(j(P).filter(function(){for(k=0;k<ne;k++)if(j.contains(ue[k],this))return!0}));for(Z=this.pushStack([]),k=0;k<ne;k++)j.find(P,ue[k],Z);return ne>1?j.uniqueSort(Z):Z},filter:function(P){return this.pushStack(Pn(this,P||[],!1))},not:function(P){return this.pushStack(Pn(this,P||[],!0))},is:function(P){return!!Pn(this,"string"==typeof P&&ln.test(P)?j(P):P||[],!1).length}});var On,zn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ct=j.fn.init=function(P,k,Z){var ne,ue;if(!P)return this;if(Z=Z||On,"string"==typeof P){if(!(ne="<"===P[0]&&">"===P[P.length-1]&&P.length>=3?[null,P,null]:zn.exec(P))||!ne[1]&&k)return!k||k.jquery?(k||Z).find(P):this.constructor(k).find(P);if(ne[1]){if(j.merge(this,j.parseHTML(ne[1],(k=k instanceof j?k[0]:k)&&k.nodeType?k.ownerDocument||k:be,!0)),Nt.test(ne[1])&&j.isPlainObject(k))for(ne in k)oe(this[ne])?this[ne](k[ne]):this.attr(ne,k[ne]);return this}return(ue=be.getElementById(ne[2]))&&(this[0]=ue,this.length=1),this}return P.nodeType?(this[0]=P,this.length=1,this):oe(P)?void 0!==Z.ready?Z.ready(P):P(j):j.makeArray(P,this)};Ct.prototype=j.fn,On=j(be);var hr=/^(?:parents|prev(?:Until|All))/,Sn={children:!0,contents:!0,next:!0,prev:!0};function $n(P,k){for(;(P=P[k])&&1!==P.nodeType;);return P}j.fn.extend({has:function(P){var k=j(P,this),Z=k.length;return this.filter(function(){for(var ne=0;ne<Z;ne++)if(j.contains(this,k[ne]))return!0})},closest:function(P,k){var Z,ne=0,ue=this.length,he=[],me="string"!=typeof P&&j(P);if(!ln.test(P))for(;ne<ue;ne++)for(Z=this[ne];Z&&Z!==k;Z=Z.parentNode)if(Z.nodeType<11&&(me?me.index(Z)>-1:1===Z.nodeType&&j.find.matchesSelector(Z,P))){he.push(Z);break}return this.pushStack(he.length>1?j.uniqueSort(he):he)},index:function(P){return P?"string"==typeof P?B.call(j(P),this[0]):B.call(this,P.jquery?P[0]:P):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(P,k){return this.pushStack(j.uniqueSort(j.merge(this.get(),j(P,k))))},addBack:function(P){return this.add(null==P?this.prevObject:this.prevObject.filter(P))}}),j.each({parent:function(P){var k=P.parentNode;return k&&11!==k.nodeType?k:null},parents:function(P){return fn(P,"parentNode")},parentsUntil:function(P,k,Z){return fn(P,"parentNode",Z)},next:function(P){return $n(P,"nextSibling")},prev:function(P){return $n(P,"previousSibling")},nextAll:function(P){return fn(P,"nextSibling")},prevAll:function(P){return fn(P,"previousSibling")},nextUntil:function(P,k,Z){return fn(P,"nextSibling",Z)},prevUntil:function(P,k,Z){return fn(P,"previousSibling",Z)},siblings:function(P){return sn((P.parentNode||{}).firstChild,P)},children:function(P){return sn(P.firstChild)},contents:function(P){return null!=P.contentDocument&&L(P.contentDocument)?P.contentDocument:(at(P,"template")&&(P=P.content||P),j.merge([],P.childNodes))}},function(P,k){j.fn[P]=function(Z,ne){var ue=j.map(this,k,Z);return"Until"!==P.slice(-5)&&(ne=Z),ne&&"string"==typeof ne&&(ue=j.filter(ne,ue)),this.length>1&&(Sn[P]||j.uniqueSort(ue),hr.test(P)&&ue.reverse()),this.pushStack(ue)}});var Gt=/[^\x20\t\r\n\f]+/g;function ni(P){return P}function Ki(P){throw P}function eo(P,k,Z,ne){var ue;try{P&&oe(ue=P.promise)?ue.call(P).done(k).fail(Z):P&&oe(ue=P.then)?ue.call(P,k,Z):k.apply(void 0,[P].slice(ne))}catch(he){Z.apply(void 0,[he])}}j.Callbacks=function(P){P="string"==typeof P?function Ai(P){var k={};return j.each(P.match(Gt)||[],function(Z,ne){k[ne]=!0}),k}(P):j.extend({},P);var k,Z,ne,ue,he=[],me=[],je=-1,Fe=function(){for(ue=ue||P.once,ne=k=!0;me.length;je=-1)for(Z=me.shift();++je<he.length;)!1===he[je].apply(Z[0],Z[1])&&P.stopOnFalse&&(je=he.length,Z=!1);P.memory||(Z=!1),k=!1,ue&&(he=Z?[]:"")},Qe={add:function(){return he&&(Z&&!k&&(je=he.length-1,me.push(Z)),function xt(kt){j.each(kt,function(st,Kt){oe(Kt)?(!P.unique||!Qe.has(Kt))&&he.push(Kt):Kt&&Kt.length&&"string"!==Be(Kt)&&xt(Kt)})}(arguments),Z&&!k&&Fe()),this},remove:function(){return j.each(arguments,function(xt,kt){for(var st;(st=j.inArray(kt,he,st))>-1;)he.splice(st,1),st<=je&&je--}),this},has:function(xt){return xt?j.inArray(xt,he)>-1:he.length>0},empty:function(){return he&&(he=[]),this},disable:function(){return ue=me=[],he=Z="",this},disabled:function(){return!he},lock:function(){return ue=me=[],!Z&&!k&&(he=Z=""),this},locked:function(){return!!ue},fireWith:function(xt,kt){return ue||(kt=[xt,(kt=kt||[]).slice?kt.slice():kt],me.push(kt),k||Fe()),this},fire:function(){return Qe.fireWith(this,arguments),this},fired:function(){return!!ne}};return Qe},j.extend({Deferred:function(P){var k=[["notify","progress",j.Callbacks("memory"),j.Callbacks("memory"),2],["resolve","done",j.Callbacks("once memory"),j.Callbacks("once memory"),0,"resolved"],["reject","fail",j.Callbacks("once memory"),j.Callbacks("once memory"),1,"rejected"]],Z="pending",ne={state:function(){return Z},always:function(){return ue.done(arguments).fail(arguments),this},catch:function(he){return ne.then(null,he)},pipe:function(){var he=arguments;return j.Deferred(function(me){j.each(k,function(je,Fe){var Qe=oe(he[Fe[4]])&&he[Fe[4]];ue[Fe[1]](function(){var xt=Qe&&Qe.apply(this,arguments);xt&&oe(xt.promise)?xt.promise().progress(me.notify).done(me.resolve).fail(me.reject):me[Fe[0]+"With"](this,Qe?[xt]:arguments)})}),he=null}).promise()},then:function(he,me,je){var Fe=0;function Qe(xt,kt,st,Kt){return function(){var Zn=this,oi=arguments,xi=function(){var Wr,Fr;if(!(xt<Fe)){if((Wr=st.apply(Zn,oi))===kt.promise())throw new TypeError("Thenable self-resolution");oe(Fr=Wr&&("object"==typeof Wr||"function"==typeof Wr)&&Wr.then)?Kt?Fr.call(Wr,Qe(Fe,kt,ni,Kt),Qe(Fe,kt,Ki,Kt)):(Fe++,Fr.call(Wr,Qe(Fe,kt,ni,Kt),Qe(Fe,kt,Ki,Kt),Qe(Fe,kt,ni,kt.notifyWith))):(st!==ni&&(Zn=void 0,oi=[Wr]),(Kt||kt.resolveWith)(Zn,oi))}},No=Kt?xi:function(){try{xi()}catch(Wr){j.Deferred.exceptionHook&&j.Deferred.exceptionHook(Wr,No.error),xt+1>=Fe&&(st!==Ki&&(Zn=void 0,oi=[Wr]),kt.rejectWith(Zn,oi))}};xt?No():(j.Deferred.getErrorHook?No.error=j.Deferred.getErrorHook():j.Deferred.getStackHook&&(No.error=j.Deferred.getStackHook()),C.setTimeout(No))}}return j.Deferred(function(xt){k[0][3].add(Qe(0,xt,oe(je)?je:ni,xt.notifyWith)),k[1][3].add(Qe(0,xt,oe(he)?he:ni)),k[2][3].add(Qe(0,xt,oe(me)?me:Ki))}).promise()},promise:function(he){return null!=he?j.extend(he,ne):ne}},ue={};return j.each(k,function(he,me){var je=me[2],Fe=me[5];ne[me[1]]=je.add,Fe&&je.add(function(){Z=Fe},k[3-he][2].disable,k[3-he][3].disable,k[0][2].lock,k[0][3].lock),je.add(me[3].fire),ue[me[0]]=function(){return ue[me[0]+"With"](this===ue?void 0:this,arguments),this},ue[me[0]+"With"]=je.fireWith}),ne.promise(ue),P&&P.call(ue,ue),ue},when:function(P){var k=arguments.length,Z=k,ne=Array(Z),ue=U.call(arguments),he=j.Deferred(),me=function(je){return function(Fe){ne[je]=this,ue[je]=arguments.length>1?U.call(arguments):Fe,--k||he.resolveWith(ne,ue)}};if(k<=1&&(eo(P,he.done(me(Z)).resolve,he.reject,!k),"pending"===he.state()||oe(ue[Z]&&ue[Z].then)))return he.then();for(;Z--;)eo(ue[Z],me(Z),he.reject);return he.promise()}});var Qi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;j.Deferred.exceptionHook=function(P,k){C.console&&C.console.warn&&P&&Qi.test(P.name)&&C.console.warn("jQuery.Deferred exception: "+P.message,P.stack,k)},j.readyException=function(P){C.setTimeout(function(){throw P})};var Rr=j.Deferred();function fr(){be.removeEventListener("DOMContentLoaded",fr),C.removeEventListener("load",fr),j.ready()}j.fn.ready=function(P){return Rr.then(P).catch(function(k){j.readyException(k)}),this},j.extend({isReady:!1,readyWait:1,ready:function(P){(!0===P?--j.readyWait:j.isReady)||(j.isReady=!0,!(!0!==P&&--j.readyWait>0)&&Rr.resolveWith(be,[j]))}}),j.ready.then=Rr.then,"complete"===be.readyState||"loading"!==be.readyState&&!be.documentElement.doScroll?C.setTimeout(j.ready):(be.addEventListener("DOMContentLoaded",fr),C.addEventListener("load",fr));var en=function(P,k,Z,ne,ue,he,me){var je=0,Fe=P.length,Qe=null==Z;if("object"===Be(Z))for(je in ue=!0,Z)en(P,k,je,Z[je],!0,he,me);else if(void 0!==ne&&(ue=!0,oe(ne)||(me=!0),Qe&&(me?(k.call(P,ne),k=null):(Qe=k,k=function(xt,kt,st){return Qe.call(j(xt),st)})),k))for(;je<Fe;je++)k(P[je],Z,me?ne:ne.call(P[je],je,k(P[je],Z)));return ue?P:Qe?k.call(P):Fe?k(P[0],Z):he},Qn=/^-ms-/,rr=/-([a-z])/g;function Ri(P,k){return k.toUpperCase()}function Ni(P){return P.replace(Qn,"ms-").replace(rr,Ri)}var Zi=function(P){return 1===P.nodeType||9===P.nodeType||!+P.nodeType};function Wn(){this.expando=j.expando+Wn.uid++}Wn.uid=1,Wn.prototype={cache:function(P){var k=P[this.expando];return k||(k={},Zi(P)&&(P.nodeType?P[this.expando]=k:Object.defineProperty(P,this.expando,{value:k,configurable:!0}))),k},set:function(P,k,Z){var ne,ue=this.cache(P);if("string"==typeof k)ue[Ni(k)]=Z;else for(ne in k)ue[Ni(ne)]=k[ne];return ue},get:function(P,k){return void 0===k?this.cache(P):P[this.expando]&&P[this.expando][Ni(k)]},access:function(P,k,Z){return void 0===k||k&&"string"==typeof k&&void 0===Z?this.get(P,k):(this.set(P,k,Z),void 0!==Z?Z:k)},remove:function(P,k){var Z,ne=P[this.expando];if(void 0!==ne){if(void 0!==k)for((Z=(k=Array.isArray(k)?k.map(Ni):(k=Ni(k))in ne?[k]:k.match(Gt)||[]).length);Z--;)delete ne[k[Z]];(void 0===k||j.isEmptyObject(ne))&&(P.nodeType?P[this.expando]=void 0:delete P[this.expando])}},hasData:function(P){var k=P[this.expando];return void 0!==k&&!j.isEmptyObject(k)}};var mn=new Wn,Pr=new Wn,Ps=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sr=/[A-Z]/g;function qn(P,k,Z){var ne;if(void 0===Z&&1===P.nodeType)if(ne="data-"+k.replace(sr,"-$&").toLowerCase(),"string"==typeof(Z=P.getAttribute(ne))){try{Z=function cn(P){return"true"===P||"false"!==P&&("null"===P?null:P===+P+""?+P:Ps.test(P)?JSON.parse(P):P)}(Z)}catch{}Pr.set(P,k,Z)}else Z=void 0;return Z}j.extend({hasData:function(P){return Pr.hasData(P)||mn.hasData(P)},data:function(P,k,Z){return Pr.access(P,k,Z)},removeData:function(P,k){Pr.remove(P,k)},_data:function(P,k,Z){return mn.access(P,k,Z)},_removeData:function(P,k){mn.remove(P,k)}}),j.fn.extend({data:function(P,k){var Z,ne,ue,he=this[0],me=he&&he.attributes;if(void 0===P){if(this.length&&(ue=Pr.get(he),1===he.nodeType&&!mn.get(he,"hasDataAttrs"))){for(Z=me.length;Z--;)me[Z]&&0===(ne=me[Z].name).indexOf("data-")&&(ne=Ni(ne.slice(5)),qn(he,ne,ue[ne]));mn.set(he,"hasDataAttrs",!0)}return ue}return"object"==typeof P?this.each(function(){Pr.set(this,P)}):en(this,function(je){var Fe;if(he&&void 0===je)return void 0!==(Fe=Pr.get(he,P))||void 0!==(Fe=qn(he,P))?Fe:void 0;this.each(function(){Pr.set(this,P,je)})},null,k,arguments.length>1,null,!0)},removeData:function(P){return this.each(function(){Pr.remove(this,P)})}}),j.extend({queue:function(P,k,Z){var ne;if(P)return ne=mn.get(P,k=(k||"fx")+"queue"),Z&&(!ne||Array.isArray(Z)?ne=mn.access(P,k,j.makeArray(Z)):ne.push(Z)),ne||[]},dequeue:function(P,k){var Z=j.queue(P,k=k||"fx"),ne=Z.length,ue=Z.shift(),he=j._queueHooks(P,k);"inprogress"===ue&&(ue=Z.shift(),ne--),ue&&("fx"===k&&Z.unshift("inprogress"),delete he.stop,ue.call(P,function(){j.dequeue(P,k)},he)),!ne&&he&&he.empty.fire()},_queueHooks:function(P,k){var Z=k+"queueHooks";return mn.get(P,Z)||mn.access(P,Z,{empty:j.Callbacks("once memory").add(function(){mn.remove(P,[k+"queue",Z])})})}}),j.fn.extend({queue:function(P,k){var Z=2;return"string"!=typeof P&&(k=P,P="fx",Z--),arguments.length<Z?j.queue(this[0],P):void 0===k?this:this.each(function(){var ne=j.queue(this,P,k);j._queueHooks(this,P),"fx"===P&&"inprogress"!==ne[0]&&j.dequeue(this,P)})},dequeue:function(P){return this.each(function(){j.dequeue(this,P)})},clearQueue:function(P){return this.queue(P||"fx",[])},promise:function(P,k){var Z,ne=1,ue=j.Deferred(),he=this,me=this.length,je=function(){--ne||ue.resolveWith(he,[he])};for("string"!=typeof P&&(k=P,P=void 0),P=P||"fx";me--;)(Z=mn.get(he[me],P+"queueHooks"))&&Z.empty&&(ne++,Z.empty.add(je));return je(),ue.promise(k)}});var ar=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,br=new RegExp("^(?:([+-])=|)("+ar+")([a-z%]*)$","i"),Or=["Top","Right","Bottom","Left"],Sr=be.documentElement,Hr=function(P){return j.contains(P.ownerDocument,P)},ko={composed:!0};Sr.getRootNode&&(Hr=function(P){return j.contains(P.ownerDocument,P)||P.getRootNode(ko)===P.ownerDocument});var ho=function(P,k){return"none"===(P=k||P).style.display||""===P.style.display&&Hr(P)&&"none"===j.css(P,"display")};function Et(P,k,Z,ne){var ue,he,me=20,je=ne?function(){return ne.cur()}:function(){return j.css(P,k,"")},Fe=je(),Qe=Z&&Z[3]||(j.cssNumber[k]?"":"px"),xt=P.nodeType&&(j.cssNumber[k]||"px"!==Qe&&+Fe)&&br.exec(j.css(P,k));if(xt&&xt[3]!==Qe){for(Qe=Qe||xt[3],xt=+(Fe/=2)||1;me--;)j.style(P,k,xt+Qe),(1-he)*(1-(he=je()/Fe||.5))<=0&&(me=0),xt/=he;j.style(P,k,(xt*=2)+Qe),Z=Z||[]}return Z&&(xt=+xt||+Fe||0,ue=Z[1]?xt+(Z[1]+1)*Z[2]:+Z[2],ne&&(ne.unit=Qe,ne.start=xt,ne.end=ue)),ue}var Hs={};function ri(P){var k,Z=P.ownerDocument,ne=P.nodeName,ue=Hs[ne];return ue||(k=Z.body.appendChild(Z.createElement(ne)),ue=j.css(k,"display"),k.parentNode.removeChild(k),"none"===ue&&(ue="block"),Hs[ne]=ue,ue)}function Yr(P,k){for(var Z,ne,ue=[],he=0,me=P.length;he<me;he++)(ne=P[he]).style&&(Z=ne.style.display,k?("none"===Z&&(ue[he]=mn.get(ne,"display")||null,ue[he]||(ne.style.display="")),""===ne.style.display&&ho(ne)&&(ue[he]=ri(ne))):"none"!==Z&&(ue[he]="none",mn.set(ne,"display",Z)));for(he=0;he<me;he++)null!=ue[he]&&(P[he].style.display=ue[he]);return P}j.fn.extend({show:function(){return Yr(this,!0)},hide:function(){return Yr(this)},toggle:function(P){return"boolean"==typeof P?P?this.show():this.hide():this.each(function(){ho(this)?j(this).show():j(this).hide()})}});var k,Z,Zt=/^(?:checkbox|radio)$/i,Pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ht=/^$|^module$|\/(?:java|ecma)script/i;k=be.createDocumentFragment().appendChild(be.createElement("div")),(Z=be.createElement("input")).setAttribute("type","radio"),Z.setAttribute("checked","checked"),Z.setAttribute("name","t"),k.appendChild(Z),Q.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,k.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!k.cloneNode(!0).lastChild.defaultValue,k.innerHTML="<option></option>",Q.option=!!k.lastChild;var $t={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function tn(P,k){var Z;return Z=typeof P.getElementsByTagName<"u"?P.getElementsByTagName(k||"*"):typeof P.querySelectorAll<"u"?P.querySelectorAll(k||"*"):[],void 0===k||k&&at(P,k)?j.merge([P],Z):Z}function Fn(P,k){for(var Z=0,ne=P.length;Z<ne;Z++)mn.set(P[Z],"globalEval",!k||mn.get(k[Z],"globalEval"))}$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,Q.option||($t.optgroup=$t.option=[1,"<select multiple='multiple'>","</select>"]);var Wi=/<|&#?\w+;/;function Kn(P,k,Z,ne,ue){for(var he,me,je,Fe,Qe,xt,kt=k.createDocumentFragment(),st=[],Kt=0,Zn=P.length;Kt<Zn;Kt++)if((he=P[Kt])||0===he)if("object"===Be(he))j.merge(st,he.nodeType?[he]:he);else if(Wi.test(he)){for(me=me||kt.appendChild(k.createElement("div")),je=(Pt.exec(he)||["",""])[1].toLowerCase(),me.innerHTML=(Fe=$t[je]||$t._default)[1]+j.htmlPrefilter(he)+Fe[2],xt=Fe[0];xt--;)me=me.lastChild;j.merge(st,me.childNodes),(me=kt.firstChild).textContent=""}else st.push(k.createTextNode(he));for(kt.textContent="",Kt=0;he=st[Kt++];)if(ne&&j.inArray(he,ne)>-1)ue&&ue.push(he);else if(Qe=Hr(he),me=tn(kt.appendChild(he),"script"),Qe&&Fn(me),Z)for(xt=0;he=me[xt++];)Ht.test(he.type||"")&&Z.push(he);return kt}var gr=/^([^.]*)(?:\.(.+)|)/;function Ln(){return!0}function mr(){return!1}function Ma(P,k,Z,ne,ue,he){var me,je;if("object"==typeof k){for(je in"string"!=typeof Z&&(ne=ne||Z,Z=void 0),k)Ma(P,je,Z,ne,k[je],he);return P}if(null==ne&&null==ue?(ue=Z,ne=Z=void 0):null==ue&&("string"==typeof Z?(ue=ne,ne=void 0):(ue=ne,ne=Z,Z=void 0)),!1===ue)ue=mr;else if(!ue)return P;return 1===he&&(me=ue,ue=function(Fe){return j().off(Fe),me.apply(this,arguments)},ue.guid=me.guid||(me.guid=j.guid++)),P.each(function(){j.event.add(this,k,ue,ne,Z)})}function Bc(P,k,Z){Z?(mn.set(P,k,!1),j.event.add(P,k,{namespace:!1,handler:function(ne){var ue,he=mn.get(this,k);if(1&ne.isTrigger&&this[k]){if(he)(j.event.special[k]||{}).delegateType&&ne.stopPropagation();else if(he=U.call(arguments),mn.set(this,k,he),this[k](),ue=mn.get(this,k),mn.set(this,k,!1),he!==ue)return ne.stopImmediatePropagation(),ne.preventDefault(),ue}else he&&(mn.set(this,k,j.event.trigger(he[0],he.slice(1),this)),ne.stopPropagation(),ne.isImmediatePropagationStopped=Ln)}})):void 0===mn.get(P,k)&&j.event.add(P,k,Ln)}j.event={global:{},add:function(P,k,Z,ne,ue){var he,me,je,Fe,Qe,xt,kt,st,Kt,Zn,oi,xi=mn.get(P);if(Zi(P))for(Z.handler&&(Z=(he=Z).handler,ue=he.selector),ue&&j.find.matchesSelector(Sr,ue),Z.guid||(Z.guid=j.guid++),(Fe=xi.events)||(Fe=xi.events=Object.create(null)),(me=xi.handle)||(me=xi.handle=function(No){return typeof j<"u"&&j.event.triggered!==No.type?j.event.dispatch.apply(P,arguments):void 0}),Qe=(k=(k||"").match(Gt)||[""]).length;Qe--;)Kt=oi=(je=gr.exec(k[Qe])||[])[1],Zn=(je[2]||"").split(".").sort(),Kt&&(kt=j.event.special[Kt]||{},kt=j.event.special[Kt=(ue?kt.delegateType:kt.bindType)||Kt]||{},xt=j.extend({type:Kt,origType:oi,data:ne,handler:Z,guid:Z.guid,selector:ue,needsContext:ue&&j.expr.match.needsContext.test(ue),namespace:Zn.join(".")},he),(st=Fe[Kt])||((st=Fe[Kt]=[]).delegateCount=0,(!kt.setup||!1===kt.setup.call(P,ne,Zn,me))&&P.addEventListener&&P.addEventListener(Kt,me)),kt.add&&(kt.add.call(P,xt),xt.handler.guid||(xt.handler.guid=Z.guid)),ue?st.splice(st.delegateCount++,0,xt):st.push(xt),j.event.global[Kt]=!0)},remove:function(P,k,Z,ne,ue){var he,me,je,Fe,Qe,xt,kt,st,Kt,Zn,oi,xi=mn.hasData(P)&&mn.get(P);if(xi&&(Fe=xi.events)){for(Qe=(k=(k||"").match(Gt)||[""]).length;Qe--;)if(Kt=oi=(je=gr.exec(k[Qe])||[])[1],Zn=(je[2]||"").split(".").sort(),Kt){for(kt=j.event.special[Kt]||{},st=Fe[Kt=(ne?kt.delegateType:kt.bindType)||Kt]||[],je=je[2]&&new RegExp("(^|\\.)"+Zn.join("\\.(?:.*\\.|)")+"(\\.|$)"),me=he=st.length;he--;)xt=st[he],(ue||oi===xt.origType)&&(!Z||Z.guid===xt.guid)&&(!je||je.test(xt.namespace))&&(!ne||ne===xt.selector||"**"===ne&&xt.selector)&&(st.splice(he,1),xt.selector&&st.delegateCount--,kt.remove&&kt.remove.call(P,xt));me&&!st.length&&((!kt.teardown||!1===kt.teardown.call(P,Zn,xi.handle))&&j.removeEvent(P,Kt,xi.handle),delete Fe[Kt])}else for(Kt in Fe)j.event.remove(P,Kt+k[Qe],Z,ne,!0);j.isEmptyObject(Fe)&&mn.remove(P,"handle events")}},dispatch:function(P){var k,Z,ne,ue,he,me,je=new Array(arguments.length),Fe=j.event.fix(P),Qe=(mn.get(this,"events")||Object.create(null))[Fe.type]||[],xt=j.event.special[Fe.type]||{};for(je[0]=Fe,k=1;k<arguments.length;k++)je[k]=arguments[k];if(Fe.delegateTarget=this,!xt.preDispatch||!1!==xt.preDispatch.call(this,Fe)){for(me=j.event.handlers.call(this,Fe,Qe),k=0;(ue=me[k++])&&!Fe.isPropagationStopped();)for(Fe.currentTarget=ue.elem,Z=0;(he=ue.handlers[Z++])&&!Fe.isImmediatePropagationStopped();)(!Fe.rnamespace||!1===he.namespace||Fe.rnamespace.test(he.namespace))&&(Fe.handleObj=he,Fe.data=he.data,void 0!==(ne=((j.event.special[he.origType]||{}).handle||he.handler).apply(ue.elem,je))&&!1===(Fe.result=ne)&&(Fe.preventDefault(),Fe.stopPropagation()));return xt.postDispatch&&xt.postDispatch.call(this,Fe),Fe.result}},handlers:function(P,k){var Z,ne,ue,he,me,je=[],Fe=k.delegateCount,Qe=P.target;if(Fe&&Qe.nodeType&&!("click"===P.type&&P.button>=1))for(;Qe!==this;Qe=Qe.parentNode||this)if(1===Qe.nodeType&&("click"!==P.type||!0!==Qe.disabled)){for(he=[],me={},Z=0;Z<Fe;Z++)void 0===me[ue=(ne=k[Z]).selector+" "]&&(me[ue]=ne.needsContext?j(ue,this).index(Qe)>-1:j.find(ue,this,null,[Qe]).length),me[ue]&&he.push(ne);he.length&&je.push({elem:Qe,handlers:he})}return Qe=this,Fe<k.length&&je.push({elem:Qe,handlers:k.slice(Fe)}),je},addProp:function(P,k){Object.defineProperty(j.Event.prototype,P,{enumerable:!0,configurable:!0,get:oe(k)?function(){if(this.originalEvent)return k(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[P]},set:function(Z){Object.defineProperty(this,P,{enumerable:!0,configurable:!0,writable:!0,value:Z})}})},fix:function(P){return P[j.expando]?P:new j.Event(P)},special:{load:{noBubble:!0},click:{setup:function(P){var k=this||P;return Zt.test(k.type)&&k.click&&at(k,"input")&&Bc(k,"click",!0),!1},trigger:function(P){var k=this||P;return Zt.test(k.type)&&k.click&&at(k,"input")&&Bc(k,"click"),!0},_default:function(P){var k=P.target;return Zt.test(k.type)&&k.click&&at(k,"input")&&mn.get(k,"click")||at(k,"a")}},beforeunload:{postDispatch:function(P){void 0!==P.result&&P.originalEvent&&(P.originalEvent.returnValue=P.result)}}}},j.removeEvent=function(P,k,Z){P.removeEventListener&&P.removeEventListener(k,Z)},j.Event=function(P,k){if(!(this instanceof j.Event))return new j.Event(P,k);P&&P.type?(this.originalEvent=P,this.type=P.type,this.isDefaultPrevented=P.defaultPrevented||void 0===P.defaultPrevented&&!1===P.returnValue?Ln:mr,this.target=P.target&&3===P.target.nodeType?P.target.parentNode:P.target,this.currentTarget=P.currentTarget,this.relatedTarget=P.relatedTarget):this.type=P,k&&j.extend(this,k),this.timeStamp=P&&P.timeStamp||Date.now(),this[j.expando]=!0},j.Event.prototype={constructor:j.Event,isDefaultPrevented:mr,isPropagationStopped:mr,isImmediatePropagationStopped:mr,isSimulated:!1,preventDefault:function(){var P=this.originalEvent;this.isDefaultPrevented=Ln,P&&!this.isSimulated&&P.preventDefault()},stopPropagation:function(){var P=this.originalEvent;this.isPropagationStopped=Ln,P&&!this.isSimulated&&P.stopPropagation()},stopImmediatePropagation:function(){var P=this.originalEvent;this.isImmediatePropagationStopped=Ln,P&&!this.isSimulated&&P.stopImmediatePropagation(),this.stopPropagation()}},j.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},j.event.addProp),j.each({focus:"focusin",blur:"focusout"},function(P,k){function Z(ne){if(be.documentMode){var ue=mn.get(this,"handle"),he=j.event.fix(ne);he.type="focusin"===ne.type?"focus":"blur",he.isSimulated=!0,ue(ne),he.target===he.currentTarget&&ue(he)}else j.event.simulate(k,ne.target,j.event.fix(ne))}j.event.special[P]={setup:function(){var ne;if(Bc(this,P,!0),!be.documentMode)return!1;(ne=mn.get(this,k))||this.addEventListener(k,Z),mn.set(this,k,(ne||0)+1)},trigger:function(){return Bc(this,P),!0},teardown:function(){var ne;if(!be.documentMode)return!1;(ne=mn.get(this,k)-1)?mn.set(this,k,ne):(this.removeEventListener(k,Z),mn.remove(this,k))},_default:function(ne){return mn.get(ne.target,P)},delegateType:k},j.event.special[k]={setup:function(){var ne=this.ownerDocument||this.document||this,ue=be.documentMode?this:ne,he=mn.get(ue,k);he||(be.documentMode?this.addEventListener(k,Z):ne.addEventListener(P,Z,!0)),mn.set(ue,k,(he||0)+1)},teardown:function(){var ne=this.ownerDocument||this.document||this,ue=be.documentMode?this:ne,he=mn.get(ue,k)-1;he?mn.set(ue,k,he):(be.documentMode?this.removeEventListener(k,Z):ne.removeEventListener(P,Z,!0),mn.remove(ue,k))}}}),j.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(P,k){j.event.special[P]={delegateType:k,bindType:k,handle:function(Z){var ne,he=Z.relatedTarget,me=Z.handleObj;return(!he||he!==this&&!j.contains(this,he))&&(Z.type=me.origType,ne=me.handler.apply(this,arguments),Z.type=k),ne}}}),j.fn.extend({on:function(P,k,Z,ne){return Ma(this,P,k,Z,ne)},one:function(P,k,Z,ne){return Ma(this,P,k,Z,ne,1)},off:function(P,k,Z){var ne,ue;if(P&&P.preventDefault&&P.handleObj)return ne=P.handleObj,j(P.delegateTarget).off(ne.namespace?ne.origType+"."+ne.namespace:ne.origType,ne.selector,ne.handler),this;if("object"==typeof P){for(ue in P)this.off(ue,k,P[ue]);return this}return(!1===k||"function"==typeof k)&&(Z=k,k=void 0),!1===Z&&(Z=mr),this.each(function(){j.event.remove(this,P,Z,k)})}});var Er=/<script|<style|<link/i,il=/checked\s*(?:[^=]|=\s*.checked.)/i,Sd=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ap(P,k){return at(P,"table")&&at(11!==k.nodeType?k:k.firstChild,"tr")&&j(P).children("tbody")[0]||P}function Mi(P){return P.type=(null!==P.getAttribute("type"))+"/"+P.type,P}function ig(P){return"true/"===(P.type||"").slice(0,5)?P.type=P.type.slice(5):P.removeAttribute("type"),P}function Tp(P,k){var Z,ne,ue,me,je,Fe;if(1===k.nodeType){if(mn.hasData(P)&&(Fe=mn.get(P).events))for(ue in mn.remove(k,"handle events"),Fe)for(Z=0,ne=Fe[ue].length;Z<ne;Z++)j.event.add(k,ue,Fe[ue][Z]);Pr.hasData(P)&&(me=Pr.access(P),je=j.extend({},me),Pr.set(k,je))}}function wh(P,k){var Z=k.nodeName.toLowerCase();"input"===Z&&Zt.test(P.type)?k.checked=P.checked:("input"===Z||"textarea"===Z)&&(k.defaultValue=P.defaultValue)}function Si(P,k,Z,ne){k=X(k);var ue,he,me,je,Fe,Qe,xt=0,kt=P.length,st=kt-1,Kt=k[0],Zn=oe(Kt);if(Zn||kt>1&&"string"==typeof Kt&&!Q.checkClone&&il.test(Kt))return P.each(function(oi){var xi=P.eq(oi);Zn&&(k[0]=Kt.call(this,oi,xi.html())),Si(xi,k,Z,ne)});if(kt&&(he=(ue=Kn(k,P[0].ownerDocument,!1,P,ne)).firstChild,1===ue.childNodes.length&&(ue=he),he||ne)){for(je=(me=j.map(tn(ue,"script"),Mi)).length;xt<kt;xt++)Fe=ue,xt!==st&&(Fe=j.clone(Fe,!0,!0),je&&j.merge(me,tn(Fe,"script"))),Z.call(P[xt],Fe,xt);if(je)for(Qe=me[me.length-1].ownerDocument,j.map(me,ig),xt=0;xt<je;xt++)Ht.test((Fe=me[xt]).type||"")&&!mn.access(Fe,"globalEval")&&j.contains(Qe,Fe)&&(Fe.src&&"module"!==(Fe.type||"").toLowerCase()?j._evalUrl&&!Fe.noModule&&j._evalUrl(Fe.src,{nonce:Fe.nonce||Fe.getAttribute("nonce")},Qe):$e(Fe.textContent.replace(Sd,""),Fe,Qe))}return P}function Ch(P,k,Z){for(var ne,ue=k?j.filter(k,P):P,he=0;null!=(ne=ue[he]);he++)!Z&&1===ne.nodeType&&j.cleanData(tn(ne)),ne.parentNode&&(Z&&Hr(ne)&&Fn(tn(ne,"script")),ne.parentNode.removeChild(ne));return P}j.extend({htmlPrefilter:function(P){return P},clone:function(P,k,Z){var ne,ue,he,me,je=P.cloneNode(!0),Fe=Hr(P);if(!(Q.noCloneChecked||1!==P.nodeType&&11!==P.nodeType||j.isXMLDoc(P)))for(me=tn(je),ne=0,ue=(he=tn(P)).length;ne<ue;ne++)wh(he[ne],me[ne]);if(k)if(Z)for(he=he||tn(P),me=me||tn(je),ne=0,ue=he.length;ne<ue;ne++)Tp(he[ne],me[ne]);else Tp(P,je);return(me=tn(je,"script")).length>0&&Fn(me,!Fe&&tn(P,"script")),je},cleanData:function(P){for(var k,Z,ne,ue=j.event.special,he=0;void 0!==(Z=P[he]);he++)if(Zi(Z)){if(k=Z[mn.expando]){if(k.events)for(ne in k.events)ue[ne]?j.event.remove(Z,ne):j.removeEvent(Z,ne,k.handle);Z[mn.expando]=void 0}Z[Pr.expando]&&(Z[Pr.expando]=void 0)}}}),j.fn.extend({detach:function(P){return Ch(this,P,!0)},remove:function(P){return Ch(this,P)},text:function(P){return en(this,function(k){return void 0===k?j.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=k)})},null,P,arguments.length)},append:function(){return Si(this,arguments,function(P){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ap(this,P).appendChild(P)})},prepend:function(){return Si(this,arguments,function(P){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var k=Ap(this,P);k.insertBefore(P,k.firstChild)}})},before:function(){return Si(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this)})},after:function(){return Si(this,arguments,function(P){this.parentNode&&this.parentNode.insertBefore(P,this.nextSibling)})},empty:function(){for(var P,k=0;null!=(P=this[k]);k++)1===P.nodeType&&(j.cleanData(tn(P,!1)),P.textContent="");return this},clone:function(P,k){return P=P??!1,k=k??P,this.map(function(){return j.clone(this,P,k)})},html:function(P){return en(this,function(k){var Z=this[0]||{},ne=0,ue=this.length;if(void 0===k&&1===Z.nodeType)return Z.innerHTML;if("string"==typeof k&&!Er.test(k)&&!$t[(Pt.exec(k)||["",""])[1].toLowerCase()]){k=j.htmlPrefilter(k);try{for(;ne<ue;ne++)1===(Z=this[ne]||{}).nodeType&&(j.cleanData(tn(Z,!1)),Z.innerHTML=k);Z=0}catch{}}Z&&this.empty().append(k)},null,P,arguments.length)},replaceWith:function(){var P=[];return Si(this,arguments,function(k){var Z=this.parentNode;j.inArray(this,P)<0&&(j.cleanData(tn(this)),Z&&Z.replaceChild(k,this))},P)}}),j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(P,k){j.fn[P]=function(Z){for(var ne,ue=[],he=j(Z),me=he.length-1,je=0;je<=me;je++)ne=je===me?this:this.clone(!0),j(he[je])[k](ne),T.apply(ue,ne.get());return this.pushStack(ue)}});var lc=new RegExp("^("+ar+")(?!px)[a-z%]+$","i"),Xt=/^--/,Vo=function(P){var k=P.ownerDocument.defaultView;return(!k||!k.opener)&&(k=C),k.getComputedStyle(P)},lr=function(P,k,Z){var ne,ue,he={};for(ue in k)he[ue]=P.style[ue],P.style[ue]=k[ue];for(ue in ne=Z.call(P),k)P.style[ue]=he[ue];return ne},Qo=new RegExp(Or.join("|"),"i");function Io(P,k,Z){var ne,ue,he,me,je=Xt.test(k),Fe=P.style;return(Z=Z||Vo(P))&&(me=Z.getPropertyValue(k)||Z[k],je&&me&&(me=me.replace(ut,"$1")||void 0),""===me&&!Hr(P)&&(me=j.style(P,k)),!Q.pixelBoxStyles()&&lc.test(me)&&Qo.test(k)&&(ne=Fe.width,ue=Fe.minWidth,he=Fe.maxWidth,Fe.minWidth=Fe.maxWidth=Fe.width=me,me=Z.width,Fe.width=ne,Fe.minWidth=ue,Fe.maxWidth=he)),void 0!==me?me+"":me}function cc(P,k){return{get:function(){if(!P())return(this.get=k).apply(this,arguments);delete this.get}}}!function(){function P(){if(Qe){Fe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Qe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Sr.appendChild(Fe).appendChild(Qe);var xt=C.getComputedStyle(Qe);Z="1%"!==xt.top,je=12===k(xt.marginLeft),Qe.style.right="60%",he=36===k(xt.right),ne=36===k(xt.width),Qe.style.position="absolute",ue=12===k(Qe.offsetWidth/3),Sr.removeChild(Fe),Qe=null}}function k(xt){return Math.round(parseFloat(xt))}var Z,ne,ue,he,me,je,Fe=be.createElement("div"),Qe=be.createElement("div");Qe.style&&(Qe.style.backgroundClip="content-box",Qe.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===Qe.style.backgroundClip,j.extend(Q,{boxSizingReliable:function(){return P(),ne},pixelBoxStyles:function(){return P(),he},pixelPosition:function(){return P(),Z},reliableMarginLeft:function(){return P(),je},scrollboxSize:function(){return P(),ue},reliableTrDimensions:function(){var xt,kt,st,Kt;return null==me&&(xt=be.createElement("table"),kt=be.createElement("tr"),st=be.createElement("div"),xt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",kt.style.cssText="box-sizing:content-box;border:1px solid",kt.style.height="1px",st.style.height="9px",st.style.display="block",Sr.appendChild(xt).appendChild(kt).appendChild(st),Kt=C.getComputedStyle(kt),me=parseInt(Kt.height,10)+parseInt(Kt.borderTopWidth,10)+parseInt(Kt.borderBottomWidth,10)===kt.offsetHeight,Sr.removeChild(xt)),me}}))}();var Zo=["Webkit","Moz","ms"],Mh=be.createElement("div").style,fu={};function da(P){return j.cssProps[P]||fu[P]||(P in Mh?P:fu[P]=function gu(P){for(var k=P[0].toUpperCase()+P.slice(1),Z=Zo.length;Z--;)if((P=Zo[Z]+k)in Mh)return P}(P)||P)}var wn=/^(none|table(?!-c[ea]).+)/,Ti={position:"absolute",visibility:"hidden",display:"block"},to={letterSpacing:"0",fontWeight:"400"};function ua(P,k,Z){var ne=br.exec(k);return ne?Math.max(0,ne[2]-(Z||0))+(ne[3]||"px"):k}function rl(P,k,Z,ne,ue,he){var me="width"===k?1:0,je=0,Fe=0,Qe=0;if(Z===(ne?"border":"content"))return 0;for(;me<4;me+=2)"margin"===Z&&(Qe+=j.css(P,Z+Or[me],!0,ue)),ne?("content"===Z&&(Fe-=j.css(P,"padding"+Or[me],!0,ue)),"margin"!==Z&&(Fe-=j.css(P,"border"+Or[me]+"Width",!0,ue))):(Fe+=j.css(P,"padding"+Or[me],!0,ue),"padding"!==Z?Fe+=j.css(P,"border"+Or[me]+"Width",!0,ue):je+=j.css(P,"border"+Or[me]+"Width",!0,ue));return!ne&&he>=0&&(Fe+=Math.max(0,Math.ceil(P["offset"+k[0].toUpperCase()+k.slice(1)]-he-Fe-je-.5))||0),Fe+Qe}function Ho(P,k,Z){var ne=Vo(P),he=(!Q.boxSizingReliable()||Z)&&"border-box"===j.css(P,"boxSizing",!1,ne),me=he,je=Io(P,k,ne),Fe="offset"+k[0].toUpperCase()+k.slice(1);if(lc.test(je)){if(!Z)return je;je="auto"}return(!Q.boxSizingReliable()&&he||!Q.reliableTrDimensions()&&at(P,"tr")||"auto"===je||!parseFloat(je)&&"inline"===j.css(P,"display",!1,ne))&&P.getClientRects().length&&(he="border-box"===j.css(P,"boxSizing",!1,ne),(me=Fe in P)&&(je=P[Fe])),(je=parseFloat(je)||0)+rl(P,k,Z||(he?"border":"content"),me,ne,je)+"px"}function Xr(P,k,Z,ne,ue){return new Xr.prototype.init(P,k,Z,ne,ue)}j.extend({cssHooks:{opacity:{get:function(P,k){if(k){var Z=Io(P,"opacity");return""===Z?"1":Z}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(P,k,Z,ne){if(P&&3!==P.nodeType&&8!==P.nodeType&&P.style){var ue,he,me,je=Ni(k),Fe=Xt.test(k),Qe=P.style;if(Fe||(k=da(je)),me=j.cssHooks[k]||j.cssHooks[je],void 0===Z)return me&&"get"in me&&void 0!==(ue=me.get(P,!1,ne))?ue:Qe[k];if("string"==(he=typeof Z)&&(ue=br.exec(Z))&&ue[1]&&(Z=Et(P,k,ue),he="number"),null==Z||Z!=Z)return;"number"===he&&!Fe&&(Z+=ue&&ue[3]||(j.cssNumber[je]?"":"px")),!Q.clearCloneStyle&&""===Z&&0===k.indexOf("background")&&(Qe[k]="inherit"),(!me||!("set"in me)||void 0!==(Z=me.set(P,Z,ne)))&&(Fe?Qe.setProperty(k,Z):Qe[k]=Z)}},css:function(P,k,Z,ne){var ue,he,me,je=Ni(k);return Xt.test(k)||(k=da(je)),(me=j.cssHooks[k]||j.cssHooks[je])&&"get"in me&&(ue=me.get(P,!0,Z)),void 0===ue&&(ue=Io(P,k,ne)),"normal"===ue&&k in to&&(ue=to[k]),""===Z||Z?(he=parseFloat(ue),!0===Z||isFinite(he)?he||0:ue):ue}}),j.each(["height","width"],function(P,k){j.cssHooks[k]={get:function(Z,ne,ue){if(ne)return!wn.test(j.css(Z,"display"))||Z.getClientRects().length&&Z.getBoundingClientRect().width?Ho(Z,k,ue):lr(Z,Ti,function(){return Ho(Z,k,ue)})},set:function(Z,ne,ue){var he,me=Vo(Z),je=!Q.scrollboxSize()&&"absolute"===me.position,Qe=(je||ue)&&"border-box"===j.css(Z,"boxSizing",!1,me),xt=ue?rl(Z,k,ue,Qe,me):0;return Qe&&je&&(xt-=Math.ceil(Z["offset"+k[0].toUpperCase()+k.slice(1)]-parseFloat(me[k])-rl(Z,k,"border",!1,me)-.5)),xt&&(he=br.exec(ne))&&"px"!==(he[3]||"px")&&(Z.style[k]=ne,ne=j.css(Z,k)),ua(0,ne,xt)}}}),j.cssHooks.marginLeft=cc(Q.reliableMarginLeft,function(P,k){if(k)return(parseFloat(Io(P,"marginLeft"))||P.getBoundingClientRect().left-lr(P,{marginLeft:0},function(){return P.getBoundingClientRect().left}))+"px"}),j.each({margin:"",padding:"",border:"Width"},function(P,k){j.cssHooks[P+k]={expand:function(Z){for(var ne=0,ue={},he="string"==typeof Z?Z.split(" "):[Z];ne<4;ne++)ue[P+Or[ne]+k]=he[ne]||he[ne-2]||he[0];return ue}},"margin"!==P&&(j.cssHooks[P+k].set=ua)}),j.fn.extend({css:function(P,k){return en(this,function(Z,ne,ue){var he,me,je={},Fe=0;if(Array.isArray(ne)){for(he=Vo(Z),me=ne.length;Fe<me;Fe++)je[ne[Fe]]=j.css(Z,ne[Fe],!1,he);return je}return void 0!==ue?j.style(Z,ne,ue):j.css(Z,ne)},P,k,arguments.length>1)}}),j.Tween=Xr,Xr.prototype={constructor:Xr,init:function(P,k,Z,ne,ue,he){this.elem=P,this.prop=Z,this.easing=ue||j.easing._default,this.options=k,this.start=this.now=this.cur(),this.end=ne,this.unit=he||(j.cssNumber[Z]?"":"px")},cur:function(){var P=Xr.propHooks[this.prop];return P&&P.get?P.get(this):Xr.propHooks._default.get(this)},run:function(P){var k,Z=Xr.propHooks[this.prop];return this.pos=k=this.options.duration?j.easing[this.easing](P,this.options.duration*P,0,1,this.options.duration):P,this.now=(this.end-this.start)*k+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Z&&Z.set?Z.set(this):Xr.propHooks._default.set(this),this}},Xr.prototype.init.prototype=Xr.prototype,Xr.propHooks={_default:{get:function(P){var k;return 1!==P.elem.nodeType||null!=P.elem[P.prop]&&null==P.elem.style[P.prop]?P.elem[P.prop]:(k=j.css(P.elem,P.prop,""))&&"auto"!==k?k:0},set:function(P){j.fx.step[P.prop]?j.fx.step[P.prop](P):1!==P.elem.nodeType||!j.cssHooks[P.prop]&&null==P.elem.style[da(P.prop)]?P.elem[P.prop]=P.now:j.style(P.elem,P.prop,P.now+P.unit)}}},Xr.propHooks.scrollTop=Xr.propHooks.scrollLeft={set:function(P){P.elem.nodeType&&P.elem.parentNode&&(P.elem[P.prop]=P.now)}},j.easing={linear:function(P){return P},swing:function(P){return.5-Math.cos(P*Math.PI)/2},_default:"swing"},j.fx=Xr.prototype.init,j.fx.step={};var Nr,dc,mu=/^(?:toggle|show|hide)$/,ki=/queueHooks$/;function Ed(){dc&&(!1===be.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(Ed):C.setTimeout(Ed,j.fx.interval),j.fx.tick())}function Pa(){return C.setTimeout(function(){Nr=void 0}),Nr=Date.now()}function zc(P,k){var Z,ne=0,ue={height:P};for(k=k?1:0;ne<4;ne+=2-k)ue["margin"+(Z=Or[ne])]=ue["padding"+Z]=P;return k&&(ue.opacity=ue.width=P),ue}function uc(P,k,Z){for(var ne,ue=(Jo.tweeners[k]||[]).concat(Jo.tweeners["*"]),he=0,me=ue.length;he<me;he++)if(ne=ue[he].call(Z,k,P))return ne}function Jo(P,k,Z){var ne,ue,he=0,me=Jo.prefilters.length,je=j.Deferred().always(function(){delete Fe.elem}),Fe=function(){if(ue)return!1;for(var kt=Nr||Pa(),st=Math.max(0,Qe.startTime+Qe.duration-kt),Zn=1-(st/Qe.duration||0),oi=0,xi=Qe.tweens.length;oi<xi;oi++)Qe.tweens[oi].run(Zn);return je.notifyWith(P,[Qe,Zn,st]),Zn<1&&xi?st:(xi||je.notifyWith(P,[Qe,1,0]),je.resolveWith(P,[Qe]),!1)},Qe=je.promise({elem:P,props:j.extend({},k),opts:j.extend(!0,{specialEasing:{},easing:j.easing._default},Z),originalProperties:k,originalOptions:Z,startTime:Nr||Pa(),duration:Z.duration,tweens:[],createTween:function(kt,st){var Kt=j.Tween(P,Qe.opts,kt,st,Qe.opts.specialEasing[kt]||Qe.opts.easing);return Qe.tweens.push(Kt),Kt},stop:function(kt){var st=0,Kt=kt?Qe.tweens.length:0;if(ue)return this;for(ue=!0;st<Kt;st++)Qe.tweens[st].run(1);return kt?(je.notifyWith(P,[Qe,1,0]),je.resolveWith(P,[Qe,kt])):je.rejectWith(P,[Qe,kt]),this}}),xt=Qe.props;for(function Uc(P,k){var Z,ne,ue,he,me;for(Z in P)if(ue=k[ne=Ni(Z)],he=P[Z],Array.isArray(he)&&(ue=he[1],he=P[Z]=he[0]),Z!==ne&&(P[ne]=he,delete P[Z]),(me=j.cssHooks[ne])&&"expand"in me)for(Z in he=me.expand(he),delete P[ne],he)Z in P||(P[Z]=he[Z],k[Z]=ue);else k[ne]=ue}(xt,Qe.opts.specialEasing);he<me;he++)if(ne=Jo.prefilters[he].call(Qe,P,xt,Qe.opts))return oe(ne.stop)&&(j._queueHooks(Qe.elem,Qe.opts.queue).stop=ne.stop.bind(ne)),ne;return j.map(xt,uc,Qe),oe(Qe.opts.start)&&Qe.opts.start.call(P,Qe),Qe.progress(Qe.opts.progress).done(Qe.opts.done,Qe.opts.complete).fail(Qe.opts.fail).always(Qe.opts.always),j.fx.timer(j.extend(Fe,{elem:P,anim:Qe,queue:Qe.opts.queue})),Qe}j.Animation=j.extend(Jo,{tweeners:{"*":[function(P,k){var Z=this.createTween(P,k);return Et(Z.elem,P,br.exec(k),Z),Z}]},tweener:function(P,k){oe(P)?(k=P,P=["*"]):P=P.match(Gt);for(var Z,ne=0,ue=P.length;ne<ue;ne++)(Jo.tweeners[Z=P[ne]]=Jo.tweeners[Z]||[]).unshift(k)},prefilters:[function Bo(P,k,Z){var ne,ue,he,me,je,Fe,Qe,xt,kt="width"in k||"height"in k,st=this,Kt={},Zn=P.style,oi=P.nodeType&&ho(P),xi=mn.get(P,"fxshow");for(ne in Z.queue||(null==(me=j._queueHooks(P,"fx")).unqueued&&(me.unqueued=0,je=me.empty.fire,me.empty.fire=function(){me.unqueued||je()}),me.unqueued++,st.always(function(){st.always(function(){me.unqueued--,j.queue(P,"fx").length||me.empty.fire()})})),k)if(mu.test(ue=k[ne])){if(delete k[ne],he=he||"toggle"===ue,ue===(oi?"hide":"show")){if("show"!==ue||!xi||void 0===xi[ne])continue;oi=!0}Kt[ne]=xi&&xi[ne]||j.style(P,ne)}if((Fe=!j.isEmptyObject(k))||!j.isEmptyObject(Kt))for(ne in kt&&1===P.nodeType&&(Z.overflow=[Zn.overflow,Zn.overflowX,Zn.overflowY],null==(Qe=xi&&xi.display)&&(Qe=mn.get(P,"display")),"none"===(xt=j.css(P,"display"))&&(Qe?xt=Qe:(Yr([P],!0),Qe=P.style.display||Qe,xt=j.css(P,"display"),Yr([P]))),("inline"===xt||"inline-block"===xt&&null!=Qe)&&"none"===j.css(P,"float")&&(Fe||(st.done(function(){Zn.display=Qe}),null==Qe&&(Qe="none"===(xt=Zn.display)?"":xt)),Zn.display="inline-block")),Z.overflow&&(Zn.overflow="hidden",st.always(function(){Zn.overflow=Z.overflow[0],Zn.overflowX=Z.overflow[1],Zn.overflowY=Z.overflow[2]})),Fe=!1,Kt)Fe||(xi?"hidden"in xi&&(oi=xi.hidden):xi=mn.access(P,"fxshow",{display:Qe}),he&&(xi.hidden=!oi),oi&&Yr([P],!0),st.done(function(){for(ne in oi||Yr([P]),mn.remove(P,"fxshow"),Kt)j.style(P,ne,Kt[ne])})),Fe=uc(oi?xi[ne]:0,ne,st),ne in xi||(xi[ne]=Fe.start,oi&&(Fe.end=Fe.start,Fe.start=0))}],prefilter:function(P,k){k?Jo.prefilters.unshift(P):Jo.prefilters.push(P)}}),j.speed=function(P,k,Z){var ne=P&&"object"==typeof P?j.extend({},P):{complete:Z||!Z&&k||oe(P)&&P,duration:P,easing:Z&&k||k&&!oe(k)&&k};return j.fx.off?ne.duration=0:"number"!=typeof ne.duration&&(ne.duration=ne.duration in j.fx.speeds?j.fx.speeds[ne.duration]:j.fx.speeds._default),(null==ne.queue||!0===ne.queue)&&(ne.queue="fx"),ne.old=ne.complete,ne.complete=function(){oe(ne.old)&&ne.old.call(this),ne.queue&&j.dequeue(this,ne.queue)},ne},j.fn.extend({fadeTo:function(P,k,Z,ne){return this.filter(ho).css("opacity",0).show().end().animate({opacity:k},P,Z,ne)},animate:function(P,k,Z,ne){var ue=j.isEmptyObject(P),he=j.speed(k,Z,ne),me=function(){var je=Jo(this,j.extend({},P),he);(ue||mn.get(this,"finish"))&&je.stop(!0)};return me.finish=me,ue||!1===he.queue?this.each(me):this.queue(he.queue,me)},stop:function(P,k,Z){var ne=function(ue){var he=ue.stop;delete ue.stop,he(Z)};return"string"!=typeof P&&(Z=k,k=P,P=void 0),k&&this.queue(P||"fx",[]),this.each(function(){var ue=!0,he=null!=P&&P+"queueHooks",me=j.timers,je=mn.get(this);if(he)je[he]&&je[he].stop&&ne(je[he]);else for(he in je)je[he]&&je[he].stop&&ki.test(he)&&ne(je[he]);for(he=me.length;he--;)me[he].elem===this&&(null==P||me[he].queue===P)&&(me[he].anim.stop(Z),ue=!1,me.splice(he,1));(ue||!Z)&&j.dequeue(this,P)})},finish:function(P){return!1!==P&&(P=P||"fx"),this.each(function(){var k,Z=mn.get(this),ne=Z[P+"queue"],ue=Z[P+"queueHooks"],he=j.timers,me=ne?ne.length:0;for(Z.finish=!0,j.queue(this,P,[]),ue&&ue.stop&&ue.stop.call(this,!0),k=he.length;k--;)he[k].elem===this&&he[k].queue===P&&(he[k].anim.stop(!0),he.splice(k,1));for(k=0;k<me;k++)ne[k]&&ne[k].finish&&ne[k].finish.call(this);delete Z.finish})}}),j.each(["toggle","show","hide"],function(P,k){var Z=j.fn[k];j.fn[k]=function(ne,ue,he){return null==ne||"boolean"==typeof ne?Z.apply(this,arguments):this.animate(zc(k,!0),ne,ue,he)}}),j.each({slideDown:zc("show"),slideUp:zc("hide"),slideToggle:zc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(P,k){j.fn[P]=function(Z,ne,ue){return this.animate(k,Z,ne,ue)}}),j.timers=[],j.fx.tick=function(){var P,k=0,Z=j.timers;for(Nr=Date.now();k<Z.length;k++)!(P=Z[k])()&&Z[k]===P&&Z.splice(k--,1);Z.length||j.fx.stop(),Nr=void 0},j.fx.timer=function(P){j.timers.push(P),j.fx.start()},j.fx.interval=13,j.fx.start=function(){dc||(dc=!0,Ed())},j.fx.stop=function(){dc=null},j.fx.speeds={slow:600,fast:200,_default:400},j.fn.delay=function(P,k){return P=j.fx&&j.fx.speeds[P]||P,this.queue(k=k||"fx",function(Z,ne){var ue=C.setTimeout(Z,P);ne.stop=function(){C.clearTimeout(ue)}})},function(){var P=be.createElement("input"),Z=be.createElement("select").appendChild(be.createElement("option"));P.type="checkbox",Q.checkOn=""!==P.value,Q.optSelected=Z.selected,(P=be.createElement("input")).value="t",P.type="radio",Q.radioValue="t"===P.value}();var Oa,Ro=j.expr.attrHandle;j.fn.extend({attr:function(P,k){return en(this,j.attr,P,k,arguments.length>1)},removeAttr:function(P){return this.each(function(){j.removeAttr(this,P)})}}),j.extend({attr:function(P,k,Z){var ne,ue,he=P.nodeType;if(3!==he&&8!==he&&2!==he)return typeof P.getAttribute>"u"?j.prop(P,k,Z):((1!==he||!j.isXMLDoc(P))&&(ue=j.attrHooks[k.toLowerCase()]||(j.expr.match.bool.test(k)?Oa:void 0)),void 0!==Z?null===Z?void j.removeAttr(P,k):ue&&"set"in ue&&void 0!==(ne=ue.set(P,Z,k))?ne:(P.setAttribute(k,Z+""),Z):ue&&"get"in ue&&null!==(ne=ue.get(P,k))?ne:(ne=j.find.attr(P,k))??void 0)},attrHooks:{type:{set:function(P,k){if(!Q.radioValue&&"radio"===k&&at(P,"input")){var Z=P.value;return P.setAttribute("type",k),Z&&(P.value=Z),k}}}},removeAttr:function(P,k){var Z,ne=0,ue=k&&k.match(Gt);if(ue&&1===P.nodeType)for(;Z=ue[ne++];)P.removeAttribute(Z)}}),Oa={set:function(P,k,Z){return!1===k?j.removeAttr(P,Z):P.setAttribute(Z,Z),Z}},j.each(j.expr.match.bool.source.match(/\w+/g),function(P,k){var Z=Ro[k]||j.find.attr;Ro[k]=function(ne,ue,he){var me,je,Fe=ue.toLowerCase();return he||(je=Ro[Fe],Ro[Fe]=me,me=null!=Z(ne,ue,he)?Fe:null,Ro[Fe]=je),me}});var kp=/^(?:input|select|textarea|button)$/i,Gr=/^(?:a|area)$/i;function jc(P){return(P.match(Gt)||[]).join(" ")}function Os(P){return P.getAttribute&&P.getAttribute("class")||""}function vu(P){return Array.isArray(P)?P:"string"==typeof P&&P.match(Gt)||[]}j.fn.extend({prop:function(P,k){return en(this,j.prop,P,k,arguments.length>1)},removeProp:function(P){return this.each(function(){delete this[j.propFix[P]||P]})}}),j.extend({prop:function(P,k,Z){var ne,ue,he=P.nodeType;if(3!==he&&8!==he&&2!==he)return(1!==he||!j.isXMLDoc(P))&&(ue=j.propHooks[k=j.propFix[k]||k]),void 0!==Z?ue&&"set"in ue&&void 0!==(ne=ue.set(P,Z,k))?ne:P[k]=Z:ue&&"get"in ue&&null!==(ne=ue.get(P,k))?ne:P[k]},propHooks:{tabIndex:{get:function(P){var k=j.find.attr(P,"tabindex");return k?parseInt(k,10):kp.test(P.nodeName)||Gr.test(P.nodeName)&&P.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Q.optSelected||(j.propHooks.selected={get:function(P){return null},set:function(P){}}),j.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){j.propFix[this.toLowerCase()]=this}),j.fn.extend({addClass:function(P){var k,Z,ne,ue,he,me;return oe(P)?this.each(function(je){j(this).addClass(P.call(this,je,Os(this)))}):(k=vu(P)).length?this.each(function(){if(ne=Os(this),Z=1===this.nodeType&&" "+jc(ne)+" "){for(he=0;he<k.length;he++)Z.indexOf(" "+(ue=k[he])+" ")<0&&(Z+=ue+" ");me=jc(Z),ne!==me&&this.setAttribute("class",me)}}):this},removeClass:function(P){var k,Z,ne,ue,he,me;return oe(P)?this.each(function(je){j(this).removeClass(P.call(this,je,Os(this)))}):arguments.length?(k=vu(P)).length?this.each(function(){if(ne=Os(this),Z=1===this.nodeType&&" "+jc(ne)+" "){for(he=0;he<k.length;he++)for(ue=k[he];Z.indexOf(" "+ue+" ")>-1;)Z=Z.replace(" "+ue+" "," ");me=jc(Z),ne!==me&&this.setAttribute("class",me)}}):this:this.attr("class","")},toggleClass:function(P,k){var Z,ne,ue,he,me=typeof P,je="string"===me||Array.isArray(P);return oe(P)?this.each(function(Fe){j(this).toggleClass(P.call(this,Fe,Os(this),k),k)}):"boolean"==typeof k&&je?k?this.addClass(P):this.removeClass(P):(Z=vu(P),this.each(function(){if(je)for(he=j(this),ue=0;ue<Z.length;ue++)he.hasClass(ne=Z[ue])?he.removeClass(ne):he.addClass(ne);else(void 0===P||"boolean"===me)&&((ne=Os(this))&&mn.set(this,"__className__",ne),this.setAttribute&&this.setAttribute("class",ne||!1===P?"":mn.get(this,"__className__")||""))}))},hasClass:function(P){var k,Z,ne=0;for(k=" "+P+" ";Z=this[ne++];)if(1===Z.nodeType&&(" "+jc(Os(Z))+" ").indexOf(k)>-1)return!0;return!1}});var Vc=/\r/g;j.fn.extend({val:function(P){var k,Z,ne,ue=this[0];return arguments.length?(ne=oe(P),this.each(function(he){var me;1===this.nodeType&&(null==(me=ne?P.call(this,he,j(this).val()):P)?me="":"number"==typeof me?me+="":Array.isArray(me)&&(me=j.map(me,function(je){return null==je?"":je+""})),(!(k=j.valHooks[this.type]||j.valHooks[this.nodeName.toLowerCase()])||!("set"in k)||void 0===k.set(this,me,"value"))&&(this.value=me))})):ue?(k=j.valHooks[ue.type]||j.valHooks[ue.nodeName.toLowerCase()])&&"get"in k&&void 0!==(Z=k.get(ue,"value"))?Z:"string"==typeof(Z=ue.value)?Z.replace(Vc,""):Z??"":void 0}}),j.extend({valHooks:{option:{get:function(P){return j.find.attr(P,"value")??jc(j.text(P))}},select:{get:function(P){var k,Z,ne,ue=P.options,he=P.selectedIndex,me="select-one"===P.type,je=me?null:[],Fe=me?he+1:ue.length;for(ne=he<0?Fe:me?he:0;ne<Fe;ne++)if(((Z=ue[ne]).selected||ne===he)&&!Z.disabled&&(!Z.parentNode.disabled||!at(Z.parentNode,"optgroup"))){if(k=j(Z).val(),me)return k;je.push(k)}return je},set:function(P,k){for(var Z,ne,ue=P.options,he=j.makeArray(k),me=ue.length;me--;)((ne=ue[me]).selected=j.inArray(j.valHooks.option.get(ne),he)>-1)&&(Z=!0);return Z||(P.selectedIndex=-1),he}}}}),j.each(["radio","checkbox"],function(){j.valHooks[this]={set:function(P,k){if(Array.isArray(k))return P.checked=j.inArray(j(P).val(),k)>-1}},Q.checkOn||(j.valHooks[this].get=function(P){return null===P.getAttribute("value")?"on":P.value})});var ol=C.location,hc={guid:Date.now()},Go=/\?/;j.parseXML=function(P){var k,Z;if(!P||"string"!=typeof P)return null;try{k=(new C.DOMParser).parseFromString(P,"text/xml")}catch{}return Z=k&&k.getElementsByTagName("parsererror")[0],(!k||Z)&&j.error("Invalid XML: "+(Z?j.map(Z.childNodes,function(ne){return ne.textContent}).join("\n"):P)),k};var rg=/^(?:focusinfocus|focusoutblur)$/,Ss=function(P){P.stopPropagation()};j.extend(j.event,{trigger:function(P,k,Z,ne){var ue,he,me,je,Fe,Qe,xt,kt,st=[Z||be],Kt=F.call(P,"type")?P.type:P,Zn=F.call(P,"namespace")?P.namespace.split("."):[];if(he=kt=me=Z=Z||be,3!==Z.nodeType&&8!==Z.nodeType&&!rg.test(Kt+j.event.triggered)&&(Kt.indexOf(".")>-1&&(Zn=Kt.split("."),Kt=Zn.shift(),Zn.sort()),Fe=Kt.indexOf(":")<0&&"on"+Kt,(P=P[j.expando]?P:new j.Event(Kt,"object"==typeof P&&P)).isTrigger=ne?2:3,P.namespace=Zn.join("."),P.rnamespace=P.namespace?new RegExp("(^|\\.)"+Zn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,P.result=void 0,P.target||(P.target=Z),k=null==k?[P]:j.makeArray(k,[P]),xt=j.event.special[Kt]||{},ne||!xt.trigger||!1!==xt.trigger.apply(Z,k))){if(!ne&&!xt.noBubble&&!le(Z)){for(rg.test((je=xt.delegateType||Kt)+Kt)||(he=he.parentNode);he;he=he.parentNode)st.push(he),me=he;me===(Z.ownerDocument||be)&&st.push(me.defaultView||me.parentWindow||C)}for(ue=0;(he=st[ue++])&&!P.isPropagationStopped();)kt=he,P.type=ue>1?je:xt.bindType||Kt,(Qe=(mn.get(he,"events")||Object.create(null))[P.type]&&mn.get(he,"handle"))&&Qe.apply(he,k),(Qe=Fe&&he[Fe])&&Qe.apply&&Zi(he)&&(P.result=Qe.apply(he,k),!1===P.result&&P.preventDefault());return P.type=Kt,!ne&&!P.isDefaultPrevented()&&(!xt._default||!1===xt._default.apply(st.pop(),k))&&Zi(Z)&&Fe&&oe(Z[Kt])&&!le(Z)&&((me=Z[Fe])&&(Z[Fe]=null),j.event.triggered=Kt,P.isPropagationStopped()&&kt.addEventListener(Kt,Ss),Z[Kt](),P.isPropagationStopped()&&kt.removeEventListener(Kt,Ss),j.event.triggered=void 0,me&&(Z[Fe]=me)),P.result}},simulate:function(P,k,Z){var ne=j.extend(new j.Event,Z,{type:P,isSimulated:!0});j.event.trigger(ne,null,k)}}),j.fn.extend({trigger:function(P,k){return this.each(function(){j.event.trigger(P,k,this)})},triggerHandler:function(P,k){var Z=this[0];if(Z)return j.event.trigger(P,k,Z,!0)}});var ha=/\[\]$/,yu=/\r?\n/g,Dd=/^(?:submit|button|image|reset|file)$/i,sl=/^(?:input|select|textarea|keygen)/i;function Gs(P,k,Z,ne){var ue;if(Array.isArray(k))j.each(k,function(he,me){Z||ha.test(P)?ne(P,me):Gs(P+"["+("object"==typeof me&&null!=me?he:"")+"]",me,Z,ne)});else if(Z||"object"!==Be(k))ne(P,k);else for(ue in k)Gs(P+"["+ue+"]",k[ue],Z,ne)}j.param=function(P,k){var Z,ne=[],ue=function(he,me){var je=oe(me)?me():me;ne[ne.length]=encodeURIComponent(he)+"="+encodeURIComponent(je??"")};if(null==P)return"";if(Array.isArray(P)||P.jquery&&!j.isPlainObject(P))j.each(P,function(){ue(this.name,this.value)});else for(Z in P)Gs(Z,P[Z],k,ue);return ne.join("&")},j.fn.extend({serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var P=j.prop(this,"elements");return P?j.makeArray(P):this}).filter(function(){var P=this.type;return this.name&&!j(this).is(":disabled")&&sl.test(this.nodeName)&&!Dd.test(P)&&(this.checked||!Zt.test(P))}).map(function(P,k){var Z=j(this).val();return null==Z?null:Array.isArray(Z)?j.map(Z,function(ne){return{name:k.name,value:ne.replace(yu,"\r\n")}}):{name:k.name,value:Z.replace(yu,"\r\n")}}).get()}});var og=/%20/g,sg=/#.*$/,ag=/([?&])_=[^&]*/,Rl=/^(.*?):[ \t]*([^\r\n]*)$/gm,lg=/^(?:GET|HEAD)$/,bu=/^\/\//,cg={},Ip={},dg="*/".concat("*"),Ph=be.createElement("a");function Hc(P){return function(k,Z){"string"!=typeof k&&(Z=k,k="*");var ne,ue=0,he=k.toLowerCase().match(Gt)||[];if(oe(Z))for(;ne=he[ue++];)"+"===ne[0]?(ne=ne.slice(1)||"*",(P[ne]=P[ne]||[]).unshift(Z)):(P[ne]=P[ne]||[]).push(Z)}}function ug(P,k,Z,ne){var ue={},he=P===Ip;function me(je){var Fe;return ue[je]=!0,j.each(P[je]||[],function(Qe,xt){var kt=xt(k,Z,ne);return"string"!=typeof kt||he||ue[kt]?he?!(Fe=kt):void 0:(k.dataTypes.unshift(kt),me(kt),!1)}),Fe}return me(k.dataTypes[0])||!ue["*"]&&me("*")}function Rp(P,k){var Z,ne,ue=j.ajaxSettings.flatOptions||{};for(Z in k)void 0!==k[Z]&&((ue[Z]?P:ne||(ne={}))[Z]=k[Z]);return ne&&j.extend(!0,P,ne),P}Ph.href=ol.href,j.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ol.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ol.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dg,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":j.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(P,k){return k?Rp(Rp(P,j.ajaxSettings),k):Rp(j.ajaxSettings,P)},ajaxPrefilter:Hc(cg),ajaxTransport:Hc(Ip),ajax:function(P,k){"object"==typeof P&&(k=P,P=void 0);var Z,ne,ue,he,me,je,Fe,Qe,xt,kt,st=j.ajaxSetup({},k=k||{}),Kt=st.context||st,Zn=st.context&&(Kt.nodeType||Kt.jquery)?j(Kt):j.event,oi=j.Deferred(),xi=j.Callbacks("once memory"),No=st.statusCode||{},Wr={},Fr={},Sa="canceled",wi={readyState:0,getResponseHeader:function(Fi){var no;if(Fe){if(!he)for(he={};no=Rl.exec(ue);)he[no[1].toLowerCase()+" "]=(he[no[1].toLowerCase()+" "]||[]).concat(no[2]);no=he[Fi.toLowerCase()+" "]}return null==no?null:no.join(", ")},getAllResponseHeaders:function(){return Fe?ue:null},setRequestHeader:function(Fi,no){return null==Fe&&(Fi=Fr[Fi.toLowerCase()]=Fr[Fi.toLowerCase()]||Fi,Wr[Fi]=no),this},overrideMimeType:function(Fi){return null==Fe&&(st.mimeType=Fi),this},statusCode:function(Fi){var no;if(Fi)if(Fe)wi.always(Fi[wi.status]);else for(no in Fi)No[no]=[No[no],Fi[no]];return this},abort:function(Fi){var no=Fi||Sa;return Z&&Z.abort(no),fc(0,no),this}};if(oi.promise(wi),st.url=((P||st.url||ol.href)+"").replace(bu,ol.protocol+"//"),st.type=k.method||k.type||st.method||st.type,st.dataTypes=(st.dataType||"*").toLowerCase().match(Gt)||[""],null==st.crossDomain){je=be.createElement("a");try{je.href=st.url,je.href=je.href,st.crossDomain=Ph.protocol+"//"+Ph.host!=je.protocol+"//"+je.host}catch{st.crossDomain=!0}}if(st.data&&st.processData&&"string"!=typeof st.data&&(st.data=j.param(st.data,st.traditional)),ug(cg,st,k,wi),Fe)return wi;for(xt in(Qe=j.event&&st.global)&&0==j.active++&&j.event.trigger("ajaxStart"),st.type=st.type.toUpperCase(),st.hasContent=!lg.test(st.type),ne=st.url.replace(sg,""),st.hasContent?st.data&&st.processData&&0===(st.contentType||"").indexOf("application/x-www-form-urlencoded")&&(st.data=st.data.replace(og,"+")):(kt=st.url.slice(ne.length),st.data&&(st.processData||"string"==typeof st.data)&&(ne+=(Go.test(ne)?"&":"?")+st.data,delete st.data),!1===st.cache&&(ne=ne.replace(ag,"$1"),kt=(Go.test(ne)?"&":"?")+"_="+hc.guid+++kt),st.url=ne+kt),st.ifModified&&(j.lastModified[ne]&&wi.setRequestHeader("If-Modified-Since",j.lastModified[ne]),j.etag[ne]&&wi.setRequestHeader("If-None-Match",j.etag[ne])),(st.data&&st.hasContent&&!1!==st.contentType||k.contentType)&&wi.setRequestHeader("Content-Type",st.contentType),wi.setRequestHeader("Accept",st.dataTypes[0]&&st.accepts[st.dataTypes[0]]?st.accepts[st.dataTypes[0]]+("*"!==st.dataTypes[0]?", "+dg+"; q=0.01":""):st.accepts["*"]),st.headers)wi.setRequestHeader(xt,st.headers[xt]);if(st.beforeSend&&(!1===st.beforeSend.call(Kt,wi,st)||Fe))return wi.abort();if(Sa="abort",xi.add(st.complete),wi.done(st.success),wi.fail(st.error),Z=ug(Ip,st,k,wi)){if(wi.readyState=1,Qe&&Zn.trigger("ajaxSend",[wi,st]),Fe)return wi;st.async&&st.timeout>0&&(me=C.setTimeout(function(){wi.abort("timeout")},st.timeout));try{Fe=!1,Z.send(Wr,fc)}catch(Fi){if(Fe)throw Fi;fc(-1,Fi)}}else fc(-1,"No Transport");function fc(Fi,no,Nl,di){var Ws,xu,La,Fl,Ll,Es=no;Fe||(Fe=!0,me&&C.clearTimeout(me),Z=void 0,ue=di||"",wi.readyState=Fi>0?4:0,Ws=Fi>=200&&Fi<300||304===Fi,Nl&&(Fl=function hg(P,k,Z){for(var ne,ue,he,me,je=P.contents,Fe=P.dataTypes;"*"===Fe[0];)Fe.shift(),void 0===ne&&(ne=P.mimeType||k.getResponseHeader("Content-Type"));if(ne)for(ue in je)if(je[ue]&&je[ue].test(ne)){Fe.unshift(ue);break}if(Fe[0]in Z)he=Fe[0];else{for(ue in Z){if(!Fe[0]||P.converters[ue+" "+Fe[0]]){he=ue;break}me||(me=ue)}he=he||me}if(he)return he!==Fe[0]&&Fe.unshift(he),Z[he]}(st,wi,Nl)),!Ws&&j.inArray("script",st.dataTypes)>-1&&j.inArray("json",st.dataTypes)<0&&(st.converters["text script"]=function(){}),Fl=function t0(P,k,Z,ne){var ue,he,me,je,Fe,Qe={},xt=P.dataTypes.slice();if(xt[1])for(me in P.converters)Qe[me.toLowerCase()]=P.converters[me];for(he=xt.shift();he;)if(P.responseFields[he]&&(Z[P.responseFields[he]]=k),!Fe&&ne&&P.dataFilter&&(k=P.dataFilter(k,P.dataType)),Fe=he,he=xt.shift())if("*"===he)he=Fe;else if("*"!==Fe&&Fe!==he){if(!(me=Qe[Fe+" "+he]||Qe["* "+he]))for(ue in Qe)if((je=ue.split(" "))[1]===he&&(me=Qe[Fe+" "+je[0]]||Qe["* "+je[0]])){!0===me?me=Qe[ue]:!0!==Qe[ue]&&(he=je[0],xt.unshift(je[1]));break}if(!0!==me)if(me&&P.throws)k=me(k);else try{k=me(k)}catch(kt){return{state:"parsererror",error:me?kt:"No conversion from "+Fe+" to "+he}}}return{state:"success",data:k}}(st,Fl,wi,Ws),Ws?(st.ifModified&&((Ll=wi.getResponseHeader("Last-Modified"))&&(j.lastModified[ne]=Ll),(Ll=wi.getResponseHeader("etag"))&&(j.etag[ne]=Ll)),204===Fi||"HEAD"===st.type?Es="nocontent":304===Fi?Es="notmodified":(Es=Fl.state,xu=Fl.data,Ws=!(La=Fl.error))):(La=Es,(Fi||!Es)&&(Es="error",Fi<0&&(Fi=0))),wi.status=Fi,wi.statusText=(no||Es)+"",Ws?oi.resolveWith(Kt,[xu,Es,wi]):oi.rejectWith(Kt,[wi,Es,La]),wi.statusCode(No),No=void 0,Qe&&Zn.trigger(Ws?"ajaxSuccess":"ajaxError",[wi,st,Ws?xu:La]),xi.fireWith(Kt,[wi,Es]),Qe&&(Zn.trigger("ajaxComplete",[wi,st]),--j.active||j.event.trigger("ajaxStop")))}return wi},getJSON:function(P,k,Z){return j.get(P,k,Z,"json")},getScript:function(P,k){return j.get(P,void 0,k,"script")}}),j.each(["get","post"],function(P,k){j[k]=function(Z,ne,ue,he){return oe(ne)&&(he=he||ue,ue=ne,ne=void 0),j.ajax(j.extend({url:Z,type:k,dataType:he,data:ne,success:ue},j.isPlainObject(Z)&&Z))}}),j.ajaxPrefilter(function(P){var k;for(k in P.headers)"content-type"===k.toLowerCase()&&(P.contentType=P.headers[k]||"")}),j._evalUrl=function(P,k,Z){return j.ajax({url:P,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ne){j.globalEval(ne,k,Z)}})},j.fn.extend({wrapAll:function(P){var k;return this[0]&&(oe(P)&&(P=P.call(this[0])),k=j(P,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&k.insertBefore(this[0]),k.map(function(){for(var Z=this;Z.firstElementChild;)Z=Z.firstElementChild;return Z}).append(this)),this},wrapInner:function(P){return oe(P)?this.each(function(k){j(this).wrapInner(P.call(this,k))}):this.each(function(){var k=j(this),Z=k.contents();Z.length?Z.wrapAll(P):k.append(P)})},wrap:function(P){var k=oe(P);return this.each(function(Z){j(this).wrapAll(k?P.call(this,Z):P)})},unwrap:function(P){return this.parent(P).not("body").each(function(){j(this).replaceWith(this.childNodes)}),this}}),j.expr.pseudos.hidden=function(P){return!j.expr.pseudos.visible(P)},j.expr.pseudos.visible=function(P){return!!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)},j.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch{}};var Np={0:200,1223:204},Gc=j.ajaxSettings.xhr();Q.cors=!!Gc&&"withCredentials"in Gc,Q.ajax=Gc=!!Gc,j.ajaxTransport(function(P){var k,Z;if(Q.cors||Gc&&!P.crossDomain)return{send:function(ne,ue){var he,me=P.xhr();if(me.open(P.type,P.url,P.async,P.username,P.password),P.xhrFields)for(he in P.xhrFields)me[he]=P.xhrFields[he];for(he in P.mimeType&&me.overrideMimeType&&me.overrideMimeType(P.mimeType),!P.crossDomain&&!ne["X-Requested-With"]&&(ne["X-Requested-With"]="XMLHttpRequest"),ne)me.setRequestHeader(he,ne[he]);k=function(je){return function(){k&&(k=Z=me.onload=me.onerror=me.onabort=me.ontimeout=me.onreadystatechange=null,"abort"===je?me.abort():"error"===je?"number"!=typeof me.status?ue(0,"error"):ue(me.status,me.statusText):ue(Np[me.status]||me.status,me.statusText,"text"!==(me.responseType||"text")||"string"!=typeof me.responseText?{binary:me.response}:{text:me.responseText},me.getAllResponseHeaders()))}},me.onload=k(),Z=me.onerror=me.ontimeout=k("error"),void 0!==me.onabort?me.onabort=Z:me.onreadystatechange=function(){4===me.readyState&&C.setTimeout(function(){k&&Z()})},k=k("abort");try{me.send(P.hasContent&&P.data||null)}catch(je){if(k)throw je}},abort:function(){k&&k()}}}),j.ajaxPrefilter(function(P){P.crossDomain&&(P.contents.script=!1)}),j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(P){return j.globalEval(P),P}}}),j.ajaxPrefilter("script",function(P){void 0===P.cache&&(P.cache=!1),P.crossDomain&&(P.type="GET")}),j.ajaxTransport("script",function(P){var k,Z;if(P.crossDomain||P.scriptAttrs)return{send:function(ne,ue){k=j("<script>").attr(P.scriptAttrs||{}).prop({charset:P.scriptCharset,src:P.url}).on("load error",Z=function(he){k.remove(),Z=null,he&&ue("error"===he.type?404:200,he.type)}),be.head.appendChild(k[0])},abort:function(){Z&&Z()}}});var P,pg=[],Fp=/(=)\?(?=&|$)|\?\?/;j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var P=pg.pop()||j.expando+"_"+hc.guid++;return this[P]=!0,P}}),j.ajaxPrefilter("json jsonp",function(P,k,Z){var ne,ue,he,me=!1!==P.jsonp&&(Fp.test(P.url)?"url":"string"==typeof P.data&&0===(P.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fp.test(P.data)&&"data");if(me||"jsonp"===P.dataTypes[0])return ne=P.jsonpCallback=oe(P.jsonpCallback)?P.jsonpCallback():P.jsonpCallback,me?P[me]=P[me].replace(Fp,"$1"+ne):!1!==P.jsonp&&(P.url+=(Go.test(P.url)?"&":"?")+P.jsonp+"="+ne),P.converters["script json"]=function(){return he||j.error(ne+" was not called"),he[0]},P.dataTypes[0]="json",ue=C[ne],C[ne]=function(){he=arguments},Z.always(function(){void 0===ue?j(C).removeProp(ne):C[ne]=ue,P[ne]&&(P.jsonpCallback=k.jsonpCallback,pg.push(ne)),he&&oe(ue)&&ue(he[0]),he=ue=void 0}),"script"}),Q.createHTMLDocument=((P=be.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===P.childNodes.length),j.parseHTML=function(P,k,Z){return"string"!=typeof P?[]:("boolean"==typeof k&&(Z=k,k=!1),k||(Q.createHTMLDocument?((ne=(k=be.implementation.createHTMLDocument("")).createElement("base")).href=be.location.href,k.head.appendChild(ne)):k=be),he=!Z&&[],(ue=Nt.exec(P))?[k.createElement(ue[1])]:(ue=Kn([P],k,he),he&&he.length&&j(he).remove(),j.merge([],ue.childNodes)));var ne,ue,he},j.fn.load=function(P,k,Z){var ne,ue,he,me=this,je=P.indexOf(" ");return je>-1&&(ne=jc(P.slice(je)),P=P.slice(0,je)),oe(k)?(Z=k,k=void 0):k&&"object"==typeof k&&(ue="POST"),me.length>0&&j.ajax({url:P,type:ue||"GET",dataType:"html",data:k}).done(function(Fe){he=arguments,me.html(ne?j("<div>").append(j.parseHTML(Fe)).find(ne):Fe)}).always(Z&&function(Fe,Qe){me.each(function(){Z.apply(this,he||[Fe.responseText,Qe,Fe])})}),this},j.expr.pseudos.animated=function(P){return j.grep(j.timers,function(k){return P===k.elem}).length},j.offset={setOffset:function(P,k,Z){var ne,ue,he,me,je,Fe,xt=j.css(P,"position"),kt=j(P),st={};"static"===xt&&(P.style.position="relative"),je=kt.offset(),he=j.css(P,"top"),Fe=j.css(P,"left"),("absolute"===xt||"fixed"===xt)&&(he+Fe).indexOf("auto")>-1?(me=(ne=kt.position()).top,ue=ne.left):(me=parseFloat(he)||0,ue=parseFloat(Fe)||0),oe(k)&&(k=k.call(P,Z,j.extend({},je))),null!=k.top&&(st.top=k.top-je.top+me),null!=k.left&&(st.left=k.left-je.left+ue),"using"in k?k.using.call(P,st):kt.css(st)}},j.fn.extend({offset:function(P){if(arguments.length)return void 0===P?this:this.each(function(ue){j.offset.setOffset(this,P,ue)});var k,Z,ne=this[0];return ne?ne.getClientRects().length?{top:(k=ne.getBoundingClientRect()).top+(Z=ne.ownerDocument.defaultView).pageYOffset,left:k.left+Z.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var P,k,Z,ne=this[0],ue={top:0,left:0};if("fixed"===j.css(ne,"position"))k=ne.getBoundingClientRect();else{for(k=this.offset(),Z=ne.ownerDocument,P=ne.offsetParent||Z.documentElement;P&&(P===Z.body||P===Z.documentElement)&&"static"===j.css(P,"position");)P=P.parentNode;P&&P!==ne&&1===P.nodeType&&((ue=j(P).offset()).top+=j.css(P,"borderTopWidth",!0),ue.left+=j.css(P,"borderLeftWidth",!0))}return{top:k.top-ue.top-j.css(ne,"marginTop",!0),left:k.left-ue.left-j.css(ne,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var P=this.offsetParent;P&&"static"===j.css(P,"position");)P=P.offsetParent;return P||Sr})}}),j.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(P,k){var Z="pageYOffset"===k;j.fn[P]=function(ne){return en(this,function(ue,he,me){var je;if(le(ue)?je=ue:9===ue.nodeType&&(je=ue.defaultView),void 0===me)return je?je[k]:ue[he];je?je.scrollTo(Z?je.pageXOffset:me,Z?me:je.pageYOffset):ue[he]=me},P,ne,arguments.length)}}),j.each(["top","left"],function(P,k){j.cssHooks[k]=cc(Q.pixelPosition,function(Z,ne){if(ne)return ne=Io(Z,k),lc.test(ne)?j(Z).position()[k]+"px":ne})}),j.each({Height:"height",Width:"width"},function(P,k){j.each({padding:"inner"+P,content:k,"":"outer"+P},function(Z,ne){j.fn[ne]=function(ue,he){var me=arguments.length&&(Z||"boolean"!=typeof ue),je=Z||(!0===ue||!0===he?"margin":"border");return en(this,function(Fe,Qe,xt){var kt;return le(Fe)?0===ne.indexOf("outer")?Fe["inner"+P]:Fe.document.documentElement["client"+P]:9===Fe.nodeType?(kt=Fe.documentElement,Math.max(Fe.body["scroll"+P],kt["scroll"+P],Fe.body["offset"+P],kt["offset"+P],kt["client"+P])):void 0===xt?j.css(Fe,Qe,je):j.style(Fe,Qe,xt,je)},k,me?ue:void 0,me)}})}),j.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(P,k){j.fn[k]=function(Z){return this.on(k,Z)}}),j.fn.extend({bind:function(P,k,Z){return this.on(P,null,k,Z)},unbind:function(P,k){return this.off(P,null,k)},delegate:function(P,k,Z,ne){return this.on(k,P,Z,ne)},undelegate:function(P,k,Z){return 1===arguments.length?this.off(P,"**"):this.off(k,P||"**",Z)},hover:function(P,k){return this.on("mouseenter",P).on("mouseleave",k||P)}}),j.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(P,k){j.fn[k]=function(Z,ne){return arguments.length>0?this.on(k,null,Z,ne):this.trigger(k)}});var n0=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;j.proxy=function(P,k){var Z,ne,ue;if("string"==typeof k&&(Z=P[k],k=P,P=Z),oe(P))return ne=U.call(arguments,2),ue=function(){return P.apply(k||this,ne.concat(U.call(arguments)))},ue.guid=P.guid=P.guid||j.guid++,ue},j.holdReady=function(P){P?j.readyWait++:j.ready(!0)},j.isArray=Array.isArray,j.parseJSON=JSON.parse,j.nodeName=at,j.isFunction=oe,j.isWindow=le,j.camelCase=Ni,j.type=Be,j.now=Date.now,j.isNumeric=function(P){var k=j.type(P);return("number"===k||"string"===k)&&!isNaN(P-parseFloat(P))},j.trim=function(P){return null==P?"":(P+"").replace(n0,"$1")},void 0!==(_=function(){return j}.apply(g,[]))&&(p.exports=_);var pc=C.jQuery,_u=C.$;return j.noConflict=function(P){return C.$===j&&(C.$=_u),P&&C.jQuery===j&&(C.jQuery=pc),j},typeof E>"u"&&(C.jQuery=C.$=j),j})},8548:p=>{var g,_;_=function(m,_,C){"use strict";var E,H;if(function(){var Ne,ct={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(Ne in H=m.lazySizesConfig||m.lazysizesConfig||{},ct)Ne in H||(H[Ne]=ct[Ne])}(),!_||!_.getElementsByClassName)return{init:function(){},cfg:H,noSupport:!0};var Ne,ct,Yt,yn,fn,sn,ln,L=_.documentElement,U=m.HTMLPictureElement,X="addEventListener",T="getAttribute",B=m[X].bind(m),R=m.setTimeout,N=m.requestAnimationFrame||R,F=m.requestIdleCallback,G=/^picture$/i,I=["load","error","lazyincluded","_lazyloaded"],Q={},oe=Array.prototype.forEach,le=function(Ne,ct){return Q[ct]||(Q[ct]=new RegExp("(\\s|^)"+ct+"(\\s|$)")),Q[ct].test(Ne[T]("class")||"")&&Q[ct]},be=function(Ne,ct){le(Ne,ct)||Ne.setAttribute("class",(Ne[T]("class")||"").trim()+" "+ct)},Ae=function(Ne,ct){var Yt;(Yt=le(Ne,ct))&&Ne.setAttribute("class",(Ne[T]("class")||"").replace(Yt," "))},$e=function(Ne,ct,Yt){var yn=Yt?X:"removeEventListener";Yt&&$e(Ne,ct),I.forEach(function(fn){Ne[yn](fn,ct)})},Be=function(Ne,ct,Yt,yn,fn){var sn=_.createEvent("Event");return Yt||(Yt={}),Yt.instance=E,sn.initEvent(ct,!yn,!fn),sn.detail=Yt,Ne.dispatchEvent(sn),sn},qe=function(Ne,ct){var Yt;!U&&(Yt=m.picturefill||H.pf)?(ct&&ct.src&&!Ne[T]("srcset")&&Ne.setAttribute("srcset",ct.src),Yt({reevaluate:!0,elements:[Ne]})):ct&&ct.src&&(Ne.src=ct.src)},pt=function(Ne,ct){return(getComputedStyle(Ne,null)||{})[ct]},j=function(Ne,ct,Yt){for(Yt=Yt||Ne.offsetWidth;Yt<H.minSize&&ct&&!Ne._lazysizesWidth;)Yt=ct.offsetWidth,ct=ct.parentNode;return Yt},Se=(yn=[],fn=Yt=[],ln=function(Nt,Pn){Ne&&!Pn?Nt.apply(this,arguments):(fn.push(Nt),ct||(ct=!0,(_.hidden?R:N)(sn)))},ln._lsFlush=sn=function(){var Nt=fn;for(fn=Yt.length?yn:Yt,Ne=!0,ct=!1;Nt.length;)Nt.shift()();Ne=!1},ln),at=function(Ne,ct){return ct?function(){Se(Ne)}:function(){var Yt=this,yn=arguments;Se(function(){Ne.apply(Yt,yn)})}},yt=function(Ne){var ct,Yt,fn=function(){ct=null,Ne()},sn=function(){var ln=C.now()-Yt;ln<99?R(sn,99-ln):(F||fn)(fn)};return function(){Yt=C.now(),ct||(ct=R(sn,99))}},Lt=function(){var Ne,ct,Yt,yn,fn,sn,ln,Nt,Pn,On,zn,Ct,hr=/^img$/i,Sn=/^iframe$/i,$n="onscroll"in m&&!/(gle|ing)bot/.test(navigator.userAgent),Ai=0,ni=0,Ki=-1,eo=function(cn){ni--,(!cn||ni<0||!cn.target)&&(ni=0)},Qi=function(cn){return null==Ct&&(Ct="hidden"==pt(_.body,"visibility")),Ct||!("hidden"==pt(cn.parentNode,"visibility")&&"hidden"==pt(cn,"visibility"))},Rr=function(cn,qn){var ar,br=cn,Or=Qi(cn);for(Nt-=qn,zn+=qn,Pn-=qn,On+=qn;Or&&(br=br.offsetParent)&&br!=_.body&&br!=L;)(Or=(pt(br,"opacity")||1)>0)&&"visible"!=pt(br,"overflow")&&(ar=br.getBoundingClientRect(),Or=On>ar.left&&Pn<ar.right&&zn>ar.top-1&&Nt<ar.bottom+1);return Or},fr=function(){var cn,qn,ar,br,Or,Sr,Hr,ko,ho,Et,Hs,ri,Yr=E.elements;if((yn=H.loadMode)&&ni<8&&(cn=Yr.length)){for(qn=0,Ki++;qn<cn;qn++)if(Yr[qn]&&!Yr[qn]._lazyRace){if(!$n||E.prematureUnveil&&E.prematureUnveil(Yr[qn])){mn(Yr[qn]);continue}if((!(ko=Yr[qn][T]("data-expand"))||!(Sr=1*ko))&&(Sr=Ai),Et||(E._defEx=Et=!H.expand||H.expand<1?L.clientHeight>500&&L.clientWidth>500?500:370:H.expand,ri=H.hFac,Ct=null,Ai<(Hs=Et*H.expFactor)&&ni<1&&Ki>2&&yn>2&&!_.hidden?(Ai=Hs,Ki=0):Ai=yn>1&&Ki>1&&ni<6?Et:0),ho!==Sr&&(sn=innerWidth+Sr*ri,ln=innerHeight+Sr,Hr=-1*Sr,ho=Sr),ar=Yr[qn].getBoundingClientRect(),(zn=ar.bottom)>=Hr&&(Nt=ar.top)<=ln&&(On=ar.right)>=Hr*ri&&(Pn=ar.left)<=sn&&(zn||On||Pn||Nt)&&(H.loadHidden||Qi(Yr[qn]))&&(ct&&ni<3&&!ko&&(yn<3||Ki<4)||Rr(Yr[qn],Sr))){if(mn(Yr[qn]),Or=!0,ni>9)break}else!Or&&ct&&!br&&ni<4&&Ki<4&&yn>2&&(Ne[0]||H.preloadAfterLoad)&&(Ne[0]||!ko&&(zn||On||Pn||Nt||"auto"!=Yr[qn][T](H.sizesAttr)))&&(br=Ne[0]||Yr[qn])}br&&!Or&&mn(br)}},en=function(Ne){var ct,Yt=0,yn=H.throttleDelay,fn=H.ricTimeout,sn=function(){ct=!1,Yt=C.now(),Ne()},ln=F&&fn>49?function(){F(sn,{timeout:fn}),fn!==H.ricTimeout&&(fn=H.ricTimeout)}:at(function(){R(sn)},!0);return function(Nt){var Pn;(Nt=!0===Nt)&&(fn=33),!ct&&(ct=!0,(Pn=yn-(C.now()-Yt))<0&&(Pn=0),Nt||Pn<9?ln():R(ln,Pn))}}(fr),Qn=function(cn){var qn=cn.target;qn._lazyCache?delete qn._lazyCache:(eo(cn),be(qn,H.loadedClass),Ae(qn,H.loadingClass),$e(qn,Ri),Be(qn,"lazyloaded"))},rr=at(Qn),Ri=function(cn){rr({target:cn.target})},Zi=function(cn){var qn,ar=cn[T](H.srcsetAttr);(qn=H.customMedia[cn[T]("data-media")||cn[T]("media")])&&cn.setAttribute("media",qn),ar&&cn.setAttribute("srcset",ar)},Wn=at(function(cn,qn,ar,br,Or){var Sr,Hr,ko,ho,Et,Hs;(Et=Be(cn,"lazybeforeunveil",qn)).defaultPrevented||(br&&(ar?be(cn,H.autosizesClass):cn.setAttribute("sizes",br)),Hr=cn[T](H.srcsetAttr),Sr=cn[T](H.srcAttr),Or&&(ho=(ko=cn.parentNode)&&G.test(ko.nodeName||"")),Hs=qn.firesLoad||"src"in cn&&(Hr||Sr||ho),Et={target:cn},be(cn,H.loadingClass),Hs&&(clearTimeout(Yt),Yt=R(eo,2500),$e(cn,Ri,!0)),ho&&oe.call(ko.getElementsByTagName("source"),Zi),Hr?cn.setAttribute("srcset",Hr):Sr&&!ho&&(Sn.test(cn.nodeName)?function(cn,qn){var ar=cn.getAttribute("data-load-mode")||H.iframeLoadMode;0==ar?cn.contentWindow.location.replace(qn):1==ar&&(cn.src=qn)}(cn,Sr):cn.src=Sr),Or&&(Hr||ho)&&qe(cn,{src:Sr})),cn._lazyRace&&delete cn._lazyRace,Ae(cn,H.lazyClass),Se(function(){var ri=cn.complete&&cn.naturalWidth>1;(!Hs||ri)&&(ri&&be(cn,H.fastLoadedClass),Qn(Et),cn._lazyCache=!0,R(function(){"_lazyCache"in cn&&delete cn._lazyCache},9)),"lazy"==cn.loading&&ni--},!0)}),mn=function(cn){if(!cn._lazyRace){var qn,ar=hr.test(cn.nodeName),br=ar&&(cn[T](H.sizesAttr)||cn[T]("sizes")),Or="auto"==br;(Or||!ct)&&ar&&(cn[T]("src")||cn.srcset)&&!cn.complete&&!le(cn,H.errorClass)&&le(cn,H.lazyClass)||(qn=Be(cn,"lazyunveilread").detail,Or&&Jt.updateElem(cn,!0,cn.offsetWidth),cn._lazyRace=!0,ni++,Wn(cn,qn,Or,br,ar))}},Pr=yt(function(){H.loadMode=3,en()}),Ps=function(){3==H.loadMode&&(H.loadMode=2),Pr()},sr=function(){if(!ct){if(C.now()-fn<999)return void R(sr,999);ct=!0,H.loadMode=3,en(),B("scroll",Ps,!0)}};return{_:function(){fn=C.now(),E.elements=_.getElementsByClassName(H.lazyClass),Ne=_.getElementsByClassName(H.lazyClass+" "+H.preloadClass),B("scroll",en,!0),B("resize",en,!0),B("pageshow",function(cn){if(cn.persisted){var qn=_.querySelectorAll("."+H.loadingClass);qn.length&&qn.forEach&&N(function(){qn.forEach(function(ar){ar.complete&&mn(ar)})})}}),m.MutationObserver?new MutationObserver(en).observe(L,{childList:!0,subtree:!0,attributes:!0}):(L[X]("DOMNodeInserted",en,!0),L[X]("DOMAttrModified",en,!0),setInterval(en,999)),B("hashchange",en,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(cn){_[X](cn,en,!0)}),/d$|^c/.test(_.readyState)?sr():(B("load",sr),_[X]("DOMContentLoaded",en),R(sr,2e4)),E.elements.length?(fr(),Se._lsFlush()):en()},checkElems:en,unveil:mn,_aLSL:Ps}}(),Jt=function(){var Ne,ct=at(function(sn,ln,Nt,Pn){var On,zn,Ct;if(sn._lazysizesWidth=Pn,sn.setAttribute("sizes",Pn+="px"),G.test(ln.nodeName||""))for(zn=0,Ct=(On=ln.getElementsByTagName("source")).length;zn<Ct;zn++)On[zn].setAttribute("sizes",Pn);Nt.detail.dataAttr||qe(sn,Nt.detail)}),Yt=function(sn,ln,Nt){var Pn,On=sn.parentNode;On&&(Nt=j(sn,On,Nt),(Pn=Be(sn,"lazybeforesizes",{width:Nt,dataAttr:!!ln})).defaultPrevented||(Nt=Pn.detail.width)&&Nt!==sn._lazysizesWidth&&ct(sn,On,Pn,Nt))},fn=yt(function(){var sn,ln=Ne.length;if(ln)for(sn=0;sn<ln;sn++)Yt(Ne[sn])});return{_:function(){Ne=_.getElementsByClassName(H.autosizesClass),B("resize",fn)},checkElems:fn,updateElem:Yt}}(),ut=function(){!ut.i&&_.getElementsByClassName&&(ut.i=!0,Jt._(),Lt._())};return R(function(){H.init&&ut()}),E={cfg:H,autoSizer:Jt,loader:Lt,init:ut,uP:qe,aC:be,rC:Ae,hC:le,fire:Be,gW:j,rAF:Se}}(g=typeof window<"u"?window:{},g.document,Date),g.lazySizes=_,p.exports&&(p.exports=_)},2181:(p,g,m)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var _=m(5186),C=m(1973);_.Observable.prototype.filter=C.filter},1973:(p,g,m)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var _=m(8732);g.filter=function C(E,H){return _.filter(E,H)(this)}},5186:(p,g,m)=>{"use strict";m.r(g),m.d(g,{ArgumentOutOfRangeError:()=>yt.W,AsyncSubject:()=>T.c,BehaviorSubject:()=>U.X,ConnectableObservable:()=>C.c,EMPTY:()=>Ai.E,EmptyError:()=>Lt.K,GroupedObservable:()=>E.T,NEVER:()=>Wn.C,Notification:()=>pt.P,NotificationKind:()=>pt.W,ObjectUnsubscribedError:()=>Jt.N,Observable:()=>_.y,ReplaySubject:()=>X.t,Scheduler:()=>$e.b,Subject:()=>L.xQ,Subscriber:()=>qe.L,Subscription:()=>Be.w,TimeoutError:()=>Ne.W,UnsubscriptionError:()=>ut.B,VirtualAction:()=>Ae,VirtualTimeScheduler:()=>be,animationFrame:()=>le,animationFrameScheduler:()=>oe,asap:()=>B.e,asapScheduler:()=>B.E,async:()=>R.P,asyncScheduler:()=>R.z,bindCallback:()=>sn,bindNodeCallback:()=>On,combineLatest:()=>Sn.aj,concat:()=>$n.z,config:()=>Yr.v,defer:()=>Gt.P,empty:()=>Ai.c,forkJoin:()=>ni.D,from:()=>Ki.D,fromEvent:()=>eo.R,fromEventPattern:()=>Rr,generate:()=>fr,identity:()=>at.y,iif:()=>Qn,interval:()=>Ri,isObservable:()=>it,merge:()=>Zi.T,never:()=>Wn.F,noop:()=>Se.Z,observable:()=>H.L,of:()=>mn.of,onErrorResumeNext:()=>Pr,pairs:()=>Ps,partition:()=>br,pipe:()=>j.z,queue:()=>N.c,queueScheduler:()=>N.N,race:()=>Or.S3,range:()=>Sr,scheduled:()=>ri.x,throwError:()=>ko._,timer:()=>ho.H,using:()=>Et,zip:()=>Hs.$R});var _=m(4202),C=m(1762),E=m(4002),H=m(3821),L=m(8929),U=m(591),X=m(839),T=m(2185),B=m(8139),R=m(353),N=m(341),F=m(6686),I=m(198);const oe=new class Q extends I.v{flush(Pt){this.active=!0,this.scheduled=void 0;const{actions:Ht}=this;let $t,tn=-1,Fn=Ht.length;Pt=Pt||Ht.shift();do{if($t=Pt.execute(Pt.state,Pt.delay))break}while(++tn<Fn&&(Pt=Ht.shift()));if(this.active=!1,$t){for(;++tn<Fn&&(Pt=Ht.shift());)Pt.unsubscribe();throw $t}}}(class G extends F.o{constructor(Pt,Ht){super(Pt,Ht),this.scheduler=Pt,this.work=Ht}requestAsyncId(Pt,Ht,$t=0){return null!==$t&&$t>0?super.requestAsyncId(Pt,Ht,$t):(Pt.actions.push(this),Pt.scheduled||(Pt.scheduled=requestAnimationFrame(()=>Pt.flush(null))))}recycleAsyncId(Pt,Ht,$t=0){if(null!==$t&&$t>0||null===$t&&this.delay>0)return super.recycleAsyncId(Pt,Ht,$t);0===Pt.actions.length&&(cancelAnimationFrame(Ht),Pt.scheduled=void 0)}}),le=oe;let be=(()=>{class Zt extends I.v{constructor(Ht=Ae,$t=Number.POSITIVE_INFINITY){super(Ht,()=>this.frame),this.maxFrames=$t,this.frame=0,this.index=-1}flush(){const{actions:Ht,maxFrames:$t}=this;let tn,Fn;for(;(Fn=Ht[0])&&Fn.delay<=$t&&(Ht.shift(),this.frame=Fn.delay,!(tn=Fn.execute(Fn.state,Fn.delay))););if(tn){for(;Fn=Ht.shift();)Fn.unsubscribe();throw tn}}}return Zt.frameTimeFactor=10,Zt})();class Ae extends F.o{constructor(Pt,Ht,$t=(Pt.index+=1)){super(Pt,Ht),this.scheduler=Pt,this.work=Ht,this.index=$t,this.active=!0,this.index=Pt.index=$t}schedule(Pt,Ht=0){if(!this.id)return super.schedule(Pt,Ht);this.active=!1;const $t=new Ae(this.scheduler,this.work);return this.add($t),$t.schedule(Pt,Ht)}requestAsyncId(Pt,Ht,$t=0){this.delay=Pt.frame+$t;const{actions:tn}=Pt;return tn.push(this),tn.sort(Ae.sortActions),!0}recycleAsyncId(Pt,Ht,$t=0){}_execute(Pt,Ht){if(!0===this.active)return super._execute(Pt,Ht)}static sortActions(Pt,Ht){return Pt.delay===Ht.delay?Pt.index===Ht.index?0:Pt.index>Ht.index?1:-1:Pt.delay>Ht.delay?1:-1}}var $e=m(2221),Be=m(4096),qe=m(3489),pt=m(9312),j=m(4843),Se=m(7876),at=m(5379);function it(Zt){return!!Zt&&(Zt instanceof _.y||"function"==typeof Zt.lift&&"function"==typeof Zt.subscribe)}var yt=m(4231),Lt=m(4450),Jt=m(5279),ut=m(7964),Ne=m(854),ct=m(4850),Yt=m(9476),yn=m(6688),fn=m(2866);function sn(Zt,Pt,Ht){if(Pt){if(!(0,fn.K)(Pt))return(...$t)=>sn(Zt,Ht)(...$t).pipe((0,ct.U)(tn=>(0,yn.k)(tn)?Pt(...tn):Pt(tn)));Ht=Pt}return function(...$t){const tn=this;let Fn;const Wi={context:tn,subject:Fn,callbackFunc:Zt,scheduler:Ht};return new _.y(Kn=>{if(Ht)return Ht.schedule(ln,0,{args:$t,subscriber:Kn,params:Wi});if(!Fn){Fn=new T.c;const gr=(...Ln)=>{Fn.next(Ln.length<=1?Ln[0]:Ln),Fn.complete()};try{Zt.apply(tn,[...$t,gr])}catch(Ln){(0,Yt._)(Fn)?Fn.error(Ln):console.warn(Ln)}}return Fn.subscribe(Kn)})}}function ln(Zt){const{args:Ht,subscriber:$t,params:tn}=Zt,{callbackFunc:Fn,context:Wi,scheduler:Kn}=tn;let{subject:gr}=tn;if(!gr){gr=tn.subject=new T.c;const Ln=(...mr)=>{this.add(Kn.schedule(Nt,0,{value:mr.length<=1?mr[0]:mr,subject:gr}))};try{Fn.apply(Wi,[...Ht,Ln])}catch(mr){gr.error(mr)}}this.add(gr.subscribe($t))}function Nt(Zt){const{value:Pt,subject:Ht}=Zt;Ht.next(Pt),Ht.complete()}function On(Zt,Pt,Ht){if(Pt){if(!(0,fn.K)(Pt))return(...$t)=>On(Zt,Ht)(...$t).pipe((0,ct.U)(tn=>(0,yn.k)(tn)?Pt(...tn):Pt(tn)));Ht=Pt}return function(...$t){const tn={subject:void 0,args:$t,callbackFunc:Zt,scheduler:Ht,context:this};return new _.y(Fn=>{const{context:Wi}=tn;let{subject:Kn}=tn;if(Ht)return Ht.schedule(zn,0,{params:tn,subscriber:Fn,context:Wi});if(!Kn){Kn=tn.subject=new T.c;const gr=(...Ln)=>{const mr=Ln.shift();mr?Kn.error(mr):(Kn.next(Ln.length<=1?Ln[0]:Ln),Kn.complete())};try{Zt.apply(Wi,[...$t,gr])}catch(Ln){(0,Yt._)(Kn)?Kn.error(Ln):console.warn(Ln)}}return Kn.subscribe(Fn)})}}function zn(Zt){const{params:Pt,subscriber:Ht,context:$t}=Zt,{callbackFunc:tn,args:Fn,scheduler:Wi}=Pt;let Kn=Pt.subject;if(!Kn){Kn=Pt.subject=new T.c;const gr=(...Ln)=>{const mr=Ln.shift();this.add(mr?Wi.schedule(hr,0,{err:mr,subject:Kn}):Wi.schedule(Ct,0,{value:Ln.length<=1?Ln[0]:Ln,subject:Kn}))};try{tn.apply($t,[...Fn,gr])}catch(Ln){this.add(Wi.schedule(hr,0,{err:Ln,subject:Kn}))}}this.add(Kn.subscribe(Ht))}function Ct(Zt){const{value:Pt,subject:Ht}=Zt;Ht.next(Pt),Ht.complete()}function hr(Zt){const{err:Pt,subject:Ht}=Zt;Ht.error(Pt)}var Sn=m(6053),$n=m(1961),Gt=m(8514),Ai=m(8896),ni=m(567),Ki=m(3527),eo=m(3753),Qi=m(7043);function Rr(Zt,Pt,Ht){return Ht?Rr(Zt,Pt).pipe((0,ct.U)($t=>(0,yn.k)($t)?Ht(...$t):Ht($t))):new _.y($t=>{const tn=(...Wi)=>$t.next(1===Wi.length?Wi[0]:Wi);let Fn;try{Fn=Zt(tn)}catch(Wi){return void $t.error(Wi)}if((0,Qi.m)(Pt))return()=>Pt(tn,Fn)})}function fr(Zt,Pt,Ht,$t,tn){let Fn,Wi;return 1==arguments.length?(Wi=Zt.initialState,Pt=Zt.condition,Ht=Zt.iterate,Fn=Zt.resultSelector||at.y,tn=Zt.scheduler):void 0===$t||(0,fn.K)($t)?(Wi=Zt,Fn=at.y,tn=$t):(Wi=Zt,Fn=$t),new _.y(Kn=>{let gr=Wi;if(tn)return tn.schedule(en,0,{subscriber:Kn,iterate:Ht,condition:Pt,resultSelector:Fn,state:gr});for(;;){if(Pt){let mr;try{mr=Pt(gr)}catch(Ma){return void Kn.error(Ma)}if(!mr){Kn.complete();break}}let Ln;try{Ln=Fn(gr)}catch(mr){return void Kn.error(mr)}if(Kn.next(Ln),Kn.closed)break;try{gr=Ht(gr)}catch(mr){return void Kn.error(mr)}}})}function en(Zt){const{subscriber:Pt,condition:Ht}=Zt;if(Pt.closed)return;if(Zt.needIterate)try{Zt.state=Zt.iterate(Zt.state)}catch(tn){return void Pt.error(tn)}else Zt.needIterate=!0;if(Ht){let tn;try{tn=Ht(Zt.state)}catch(Fn){return void Pt.error(Fn)}if(!tn)return void Pt.complete();if(Pt.closed)return}let $t;try{$t=Zt.resultSelector(Zt.state)}catch(tn){return void Pt.error(tn)}return Pt.closed||(Pt.next($t),Pt.closed)?void 0:this.schedule(Zt)}function Qn(Zt,Pt=Ai.E,Ht=Ai.E){return(0,Gt.P)(()=>Zt()?Pt:Ht)}var rr=m(4241);function Ri(Zt=0,Pt=R.P){return(!(0,rr.k)(Zt)||Zt<0)&&(Zt=0),(!Pt||"function"!=typeof Pt.schedule)&&(Pt=R.P),new _.y(Ht=>(Ht.add(Pt.schedule(Ni,Zt,{subscriber:Ht,counter:0,period:Zt})),Ht))}function Ni(Zt){const{subscriber:Pt,counter:Ht,period:$t}=Zt;Pt.next(Ht),this.schedule({subscriber:Pt,counter:Ht+1,period:$t},$t)}var Zi=m(6787),Wn=m(7274),mn=m(1086);function Pr(...Zt){if(0===Zt.length)return Ai.E;const[Pt,...Ht]=Zt;return 1===Zt.length&&(0,yn.k)(Pt)?Pr(...Pt):new _.y($t=>{const tn=()=>$t.add(Pr(...Ht).subscribe($t));return(0,Ki.D)(Pt).subscribe({next(Fn){$t.next(Fn)},error:tn,complete:tn})})}function Ps(Zt,Pt){return new _.y(Pt?Ht=>{const $t=Object.keys(Zt),tn=new Be.w;return tn.add(Pt.schedule(sr,0,{keys:$t,index:0,subscriber:Ht,subscription:tn,obj:Zt})),tn}:Ht=>{const $t=Object.keys(Zt);for(let tn=0;tn<$t.length&&!Ht.closed;tn++){const Fn=$t[tn];Zt.hasOwnProperty(Fn)&&Ht.next([Fn,Zt[Fn]])}Ht.complete()})}function sr(Zt){const{keys:Pt,index:Ht,subscriber:$t,subscription:tn,obj:Fn}=Zt;if(!$t.closed)if(Ht<Pt.length){const Wi=Pt[Ht];$t.next([Wi,Fn[Wi]]),tn.add(this.schedule({keys:Pt,index:Ht+1,subscriber:$t,subscription:tn,obj:Fn}))}else $t.complete()}var cn=m(5884),qn=m(9249),ar=m(2198);function br(Zt,Pt,Ht){return[(0,ar.h)(Pt,Ht)(new _.y((0,qn.s)(Zt))),(0,ar.h)((0,cn.f)(Pt,Ht))(new _.y((0,qn.s)(Zt)))]}var Or=m(1946);function Sr(Zt=0,Pt,Ht){return new _.y($t=>{void 0===Pt&&(Pt=Zt,Zt=0);let tn=0,Fn=Zt;if(Ht)return Ht.schedule(Hr,0,{index:tn,count:Pt,start:Zt,subscriber:$t});for(;;){if(tn++>=Pt){$t.complete();break}if($t.next(Fn++),$t.closed)break}})}function Hr(Zt){const{start:Pt,index:Ht,count:$t,subscriber:tn}=Zt;Ht>=$t?tn.complete():(tn.next(Pt),!tn.closed&&(Zt.index=Ht+1,Zt.start=Pt+1,this.schedule(Zt)))}var ko=m(1737),ho=m(8723);function Et(Zt,Pt){return new _.y(Ht=>{let $t,tn;try{$t=Zt()}catch(Kn){return void Ht.error(Kn)}try{tn=Pt($t)}catch(Kn){return void Ht.error(Kn)}const Wi=(tn?(0,Ki.D)(tn):Ai.E).subscribe(Ht);return()=>{Wi.unsubscribe(),$t&&$t.unsubscribe()}})}var Hs=m(1746),ri=m(3998),Yr=m(2830)},2185:(p,g,m)=>{"use strict";m.d(g,{c:()=>E});var _=m(8929),C=m(4096);class E extends _.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(L){return this.hasError?(L.error(this.thrownError),C.w.EMPTY):this.hasCompleted&&this.hasNext?(L.next(this.value),L.complete(),C.w.EMPTY):super._subscribe(L)}next(L){this.hasCompleted||(this.value=L,this.hasNext=!0)}error(L){this.hasCompleted||super.error(L)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},591:(p,g,m)=>{"use strict";m.d(g,{X:()=>E});var _=m(8929),C=m(5279);class E extends _.xQ{constructor(L){super(),this._value=L}get value(){return this.getValue()}_subscribe(L){const U=super._subscribe(L);return U&&!U.closed&&L.next(this._value),U}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C.N;return this._value}next(L){super.next(this._value=L)}}},9312:(p,g,m)=>{"use strict";m.d(g,{P:()=>L,W:()=>H});var _=m(8896),C=m(1086),E=m(1737),H=(()=>{return(U=H||(H={})).NEXT="N",U.ERROR="E",U.COMPLETE="C",H;var U})();class L{constructor(X,T,B){this.kind=X,this.value=T,this.error=B,this.hasValue="N"===X}observe(X){switch(this.kind){case"N":return X.next&&X.next(this.value);case"E":return X.error&&X.error(this.error);case"C":return X.complete&&X.complete()}}do(X,T,B){switch(this.kind){case"N":return X&&X(this.value);case"E":return T&&T(this.error);case"C":return B&&B()}}accept(X,T,B){return X&&"function"==typeof X.next?this.observe(X):this.do(X,T,B)}toObservable(){switch(this.kind){case"N":return(0,C.of)(this.value);case"E":return(0,E._)(this.error);case"C":return(0,_.c)()}throw new Error("unexpected notification kind value")}static createNext(X){return typeof X<"u"?new L("N",X):L.undefinedValueNotification}static createError(X){return new L("E",void 0,X)}static createComplete(){return L.completeNotification}}L.completeNotification=new L("C"),L.undefinedValueNotification=new L("N",void 0)},4202:(p,g,m)=>{"use strict";m.d(g,{y:()=>B});var _=m(9476),C=m(3489),E=m(7668),H=m(3292),U=m(3821),X=m(4843),T=m(2830);let B=(()=>{class N{constructor(G){this._isScalar=!1,G&&(this._subscribe=G)}lift(G){const I=new N;return I.source=this,I.operator=G,I}subscribe(G,I,Q){const{operator:oe}=this,le=function L(N,F,G){if(N){if(N instanceof C.L)return N;if(N[E.b])return N[E.b]()}return N||F||G?new C.L(N,F,G):new C.L(H.c)}(G,I,Q);if(le.add(oe?oe.call(le,this.source):this.source||T.v.useDeprecatedSynchronousErrorHandling&&!le.syncErrorThrowable?this._subscribe(le):this._trySubscribe(le)),T.v.useDeprecatedSynchronousErrorHandling&&le.syncErrorThrowable&&(le.syncErrorThrowable=!1,le.syncErrorThrown))throw le.syncErrorValue;return le}_trySubscribe(G){try{return this._subscribe(G)}catch(I){T.v.useDeprecatedSynchronousErrorHandling&&(G.syncErrorThrown=!0,G.syncErrorValue=I),(0,_._)(G)?G.error(I):console.warn(I)}}forEach(G,I){return new(I=R(I))((Q,oe)=>{let le;le=this.subscribe(be=>{try{G(be)}catch(Ae){oe(Ae),le&&le.unsubscribe()}},oe,Q)})}_subscribe(G){const{source:I}=this;return I&&I.subscribe(G)}[U.L](){return this}pipe(...G){return 0===G.length?this:(0,X.U)(G)(this)}toPromise(G){return new(G=R(G))((I,Q)=>{let oe;this.subscribe(le=>oe=le,le=>Q(le),()=>I(oe))})}}return N.create=F=>new N(F),N})();function R(N){if(N||(N=T.v.Promise||Promise),!N)throw new Error("no Promise impl found");return N}},3292:(p,g,m)=>{"use strict";m.d(g,{c:()=>E});var _=m(2830),C=m(2782);const E={closed:!0,next(H){},error(H){if(_.v.useDeprecatedSynchronousErrorHandling)throw H;(0,C.z)(H)},complete(){}}},826:(p,g,m)=>{"use strict";m.d(g,{L:()=>C});var _=m(3489);class C extends _.L{notifyNext(H,L,U,X,T){this.destination.next(L)}notifyError(H,L){this.destination.error(H)}notifyComplete(H){this.destination.complete()}}},839:(p,g,m)=>{"use strict";m.d(g,{t:()=>X});var _=m(8929),C=m(341),E=m(4096),H=m(7770),L=m(5279),U=m(5283);class X extends _.xQ{constructor(R=Number.POSITIVE_INFINITY,N=Number.POSITIVE_INFINITY,F){super(),this.scheduler=F,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=R<1?1:R,this._windowTime=N<1?1:N,N===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(R){if(!this.isStopped){const N=this._events;N.push(R),N.length>this._bufferSize&&N.shift()}super.next(R)}nextTimeWindow(R){this.isStopped||(this._events.push(new T(this._getNow(),R)),this._trimBufferThenGetEvents()),super.next(R)}_subscribe(R){const N=this._infiniteTimeWindow,F=N?this._events:this._trimBufferThenGetEvents(),G=this.scheduler,I=F.length;let Q;if(this.closed)throw new L.N;if(this.isStopped||this.hasError?Q=E.w.EMPTY:(this.observers.push(R),Q=new U.W(this,R)),G&&R.add(R=new H.ht(R,G)),N)for(let oe=0;oe<I&&!R.closed;oe++)R.next(F[oe]);else for(let oe=0;oe<I&&!R.closed;oe++)R.next(F[oe].value);return this.hasError?R.error(this.thrownError):this.isStopped&&R.complete(),Q}_getNow(){return(this.scheduler||C.c).now()}_trimBufferThenGetEvents(){const R=this._getNow(),N=this._bufferSize,F=this._windowTime,G=this._events,I=G.length;let Q=0;for(;Q<I&&!(R-G[Q].time<F);)Q++;return I>N&&(Q=Math.max(Q,I-N)),Q>0&&G.splice(0,Q),G}}class T{constructor(R,N){this.time=R,this.value=N}}},2221:(p,g,m)=>{"use strict";m.d(g,{b:()=>_});let _=(()=>{class C{constructor(H,L=C.now){this.SchedulerAction=H,this.now=L}schedule(H,L=0,U){return new this.SchedulerAction(this,H).schedule(U,L)}}return C.now=()=>Date.now(),C})()},8929:(p,g,m)=>{"use strict";m.d(g,{Yc:()=>X,xQ:()=>T});var _=m(4202),C=m(3489),E=m(4096),H=m(5279),L=m(5283),U=m(7668);class X extends C.L{constructor(N){super(N),this.destination=N}}let T=(()=>{class R extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[U.b](){return new X(this)}lift(F){const G=new B(this,this);return G.operator=F,G}next(F){if(this.closed)throw new H.N;if(!this.isStopped){const{observers:G}=this,I=G.length,Q=G.slice();for(let oe=0;oe<I;oe++)Q[oe].next(F)}}error(F){if(this.closed)throw new H.N;this.hasError=!0,this.thrownError=F,this.isStopped=!0;const{observers:G}=this,I=G.length,Q=G.slice();for(let oe=0;oe<I;oe++)Q[oe].error(F);this.observers.length=0}complete(){if(this.closed)throw new H.N;this.isStopped=!0;const{observers:F}=this,G=F.length,I=F.slice();for(let Q=0;Q<G;Q++)I[Q].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(F){if(this.closed)throw new H.N;return super._trySubscribe(F)}_subscribe(F){if(this.closed)throw new H.N;return this.hasError?(F.error(this.thrownError),E.w.EMPTY):this.isStopped?(F.complete(),E.w.EMPTY):(this.observers.push(F),new L.W(this,F))}asObservable(){const F=new _.y;return F.source=this,F}}return R.create=(N,F)=>new B(N,F),R})();class B extends T{constructor(N,F){super(),this.destination=N,this.source=F}next(N){const{destination:F}=this;F&&F.next&&F.next(N)}error(N){const{destination:F}=this;F&&F.error&&this.destination.error(N)}complete(){const{destination:N}=this;N&&N.complete&&this.destination.complete()}_subscribe(N){const{source:F}=this;return F?this.source.subscribe(N):E.w.EMPTY}}},5283:(p,g,m)=>{"use strict";m.d(g,{W:()=>C});var _=m(4096);class C extends _.w{constructor(H,L){super(),this.subject=H,this.subscriber=L,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const H=this.subject,L=H.observers;if(this.subject=null,!L||0===L.length||H.isStopped||H.closed)return;const U=L.indexOf(this.subscriber);-1!==U&&L.splice(U,1)}}},3489:(p,g,m)=>{"use strict";m.d(g,{L:()=>X});var _=m(7043),C=m(3292),E=m(4096),H=m(7668),L=m(2830),U=m(2782);class X extends E.w{constructor(R,N,F){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=C.c;break;case 1:if(!R){this.destination=C.c;break}if("object"==typeof R){R instanceof X?(this.syncErrorThrowable=R.syncErrorThrowable,this.destination=R,R.add(this)):(this.syncErrorThrowable=!0,this.destination=new T(this,R));break}default:this.syncErrorThrowable=!0,this.destination=new T(this,R,N,F)}}[H.b](){return this}static create(R,N,F){const G=new X(R,N,F);return G.syncErrorThrowable=!1,G}next(R){this.isStopped||this._next(R)}error(R){this.isStopped||(this.isStopped=!0,this._error(R))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(R){this.destination.next(R)}_error(R){this.destination.error(R),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:R}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=R,this}}class T extends X{constructor(R,N,F,G){super(),this._parentSubscriber=R;let I,Q=this;(0,_.m)(N)?I=N:N&&(I=N.next,F=N.error,G=N.complete,N!==C.c&&(Q=Object.create(N),(0,_.m)(Q.unsubscribe)&&this.add(Q.unsubscribe.bind(Q)),Q.unsubscribe=this.unsubscribe.bind(this))),this._context=Q,this._next=I,this._error=F,this._complete=G}next(R){if(!this.isStopped&&this._next){const{_parentSubscriber:N}=this;L.v.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable?this.__tryOrSetError(N,this._next,R)&&this.unsubscribe():this.__tryOrUnsub(this._next,R)}}error(R){if(!this.isStopped){const{_parentSubscriber:N}=this,{useDeprecatedSynchronousErrorHandling:F}=L.v;if(this._error)F&&N.syncErrorThrowable?(this.__tryOrSetError(N,this._error,R),this.unsubscribe()):(this.__tryOrUnsub(this._error,R),this.unsubscribe());else if(N.syncErrorThrowable)F?(N.syncErrorValue=R,N.syncErrorThrown=!0):(0,U.z)(R),this.unsubscribe();else{if(this.unsubscribe(),F)throw R;(0,U.z)(R)}}}complete(){if(!this.isStopped){const{_parentSubscriber:R}=this;if(this._complete){const N=()=>this._complete.call(this._context);L.v.useDeprecatedSynchronousErrorHandling&&R.syncErrorThrowable?(this.__tryOrSetError(R,N),this.unsubscribe()):(this.__tryOrUnsub(N),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(R,N){try{R.call(this._context,N)}catch(F){if(this.unsubscribe(),L.v.useDeprecatedSynchronousErrorHandling)throw F;(0,U.z)(F)}}__tryOrSetError(R,N,F){if(!L.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{N.call(this._context,F)}catch(G){return L.v.useDeprecatedSynchronousErrorHandling?(R.syncErrorValue=G,R.syncErrorThrown=!0,!0):((0,U.z)(G),!0)}return!1}_unsubscribe(){const{_parentSubscriber:R}=this;this._context=null,this._parentSubscriber=null,R.unsubscribe()}}},4096:(p,g,m)=>{"use strict";m.d(g,{w:()=>L});var X,_=m(6688),C=m(7830),E=m(7043),H=m(7964);class L{constructor(T){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,T&&(this._ctorUnsubscribe=!0,this._unsubscribe=T)}unsubscribe(){let T;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:R,_unsubscribe:N,_subscriptions:F}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof L)B.remove(this);else if(null!==B)for(let G=0;G<B.length;++G)B[G].remove(this);if((0,E.m)(N)){R&&(this._unsubscribe=void 0);try{N.call(this)}catch(G){T=G instanceof H.B?U(G.errors):[G]}}if((0,_.k)(F)){let G=-1,I=F.length;for(;++G<I;){const Q=F[G];if((0,C.K)(Q))try{Q.unsubscribe()}catch(oe){T=T||[],oe instanceof H.B?T=T.concat(U(oe.errors)):T.push(oe)}}}if(T)throw new H.B(T)}add(T){let B=T;if(!T)return L.EMPTY;switch(typeof T){case"function":B=new L(T);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof L)){const F=B;B=new L,B._subscriptions=[F]}break;default:throw new Error("unrecognized teardown "+T+" added to Subscription.")}let{_parentOrParents:R}=B;if(null===R)B._parentOrParents=this;else if(R instanceof L){if(R===this)return B;B._parentOrParents=[R,this]}else{if(-1!==R.indexOf(this))return B;R.push(this)}const N=this._subscriptions;return null===N?this._subscriptions=[B]:N.push(B),B}remove(T){const B=this._subscriptions;if(B){const R=B.indexOf(T);-1!==R&&B.splice(R,1)}}}function U(X){return X.reduce((T,B)=>T.concat(B instanceof H.B?B.errors:B),[])}L.EMPTY=((X=new L).closed=!0,X)},2830:(p,g,m)=>{"use strict";m.d(g,{v:()=>C});let _=!1;const C={Promise:void 0,set useDeprecatedSynchronousErrorHandling(E){if(E){const H=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+H.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=E},get useDeprecatedSynchronousErrorHandling(){return _}}},1177:(p,g,m)=>{"use strict";m.d(g,{Ds:()=>U,IY:()=>H,ft:()=>T});var _=m(3489),C=m(4202),E=m(9249);class H extends _.L{constructor(R){super(),this.parent=R}_next(R){this.parent.notifyNext(R)}_error(R){this.parent.notifyError(R),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class U extends _.L{notifyNext(R){this.destination.next(R)}notifyError(R){this.destination.error(R)}notifyComplete(){this.destination.complete()}}function T(B,R){if(R.closed)return;if(B instanceof C.y)return B.subscribe(R);let N;try{N=(0,E.s)(B)(R)}catch(F){R.error(F)}return N}},1762:(p,g,m)=>{"use strict";m.d(g,{N:()=>U,c:()=>L});var _=m(8929),C=m(4202),E=m(4096),H=m(4327);class L extends C.y{constructor(N,F){super(),this.source=N,this.subjectFactory=F,this._refCount=0,this._isComplete=!1}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let N=this._connection;return N||(this._isComplete=!1,N=this._connection=new E.w,N.add(this.source.subscribe(new X(this.getSubject(),this))),N.closed&&(this._connection=null,N=E.w.EMPTY)),N}refCount(){return(0,H.x)()(this)}}const U=(()=>{const R=L.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:R._subscribe},_isComplete:{value:R._isComplete,writable:!0},getSubject:{value:R.getSubject},connect:{value:R.connect},refCount:{value:R.refCount}}})();class X extends _.Yc{constructor(N,F){super(N),this.connectable=F}_error(N){this._unsubscribe(),super._error(N)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const N=this.connectable;if(N){this.connectable=null;const F=N._connection;N._refCount=0,N._subject=null,N._connection=null,F&&F.unsubscribe()}}}},6053:(p,g,m)=>{"use strict";m.d(g,{Ms:()=>T,aj:()=>X});var _=m(2866),C=m(6688),E=m(826),H=m(448),L=m(3009);const U={};function X(...R){let N,F;return(0,_.K)(R[R.length-1])&&(F=R.pop()),"function"==typeof R[R.length-1]&&(N=R.pop()),1===R.length&&(0,C.k)(R[0])&&(R=R[0]),(0,L.n)(R,F).lift(new T(N))}class T{constructor(N){this.resultSelector=N}call(N,F){return F.subscribe(new B(N,this.resultSelector))}}class B extends E.L{constructor(N,F){super(N),this.resultSelector=F,this.active=0,this.values=[],this.observables=[]}_next(N){this.values.push(U),this.observables.push(N)}_complete(){const N=this.observables,F=N.length;if(0===F)this.destination.complete();else{this.active=F,this.toRespond=F;for(let G=0;G<F;G++)this.add((0,H.D)(this,N[G],void 0,G))}}notifyComplete(N){0==(this.active-=1)&&this.destination.complete()}notifyNext(N,F,G){const I=this.values,oe=this.toRespond?I[G]===U?--this.toRespond:this.toRespond:0;I[G]=F,0===oe&&(this.resultSelector?this._tryResultSelector(I):this.destination.next(I.slice()))}_tryResultSelector(N){let F;try{F=this.resultSelector.apply(this,N)}catch(G){return void this.destination.error(G)}this.destination.next(F)}}},1961:(p,g,m)=>{"use strict";m.d(g,{z:()=>E});var _=m(1086),C=m(534);function E(...H){return(0,C.u)()((0,_.of)(...H))}},8514:(p,g,m)=>{"use strict";m.d(g,{P:()=>H});var _=m(4202),C=m(3527),E=m(8896);function H(L){return new _.y(U=>{let X;try{X=L()}catch(B){return void U.error(B)}return(X?(0,C.D)(X):(0,E.c)()).subscribe(U)})}},8896:(p,g,m)=>{"use strict";m.d(g,{E:()=>C,c:()=>E});var _=m(4202);const C=new _.y(L=>L.complete());function E(L){return L?function H(L){return new _.y(U=>L.schedule(()=>U.complete()))}(L):C}},567:(p,g,m)=>{"use strict";m.d(g,{D:()=>U});var _=m(4202),C=m(6688),E=m(4850),H=m(7830),L=m(3527);function U(...T){if(1===T.length){const B=T[0];if((0,C.k)(B))return X(B,null);if((0,H.K)(B)&&Object.getPrototypeOf(B)===Object.prototype){const R=Object.keys(B);return X(R.map(N=>B[N]),R)}}if("function"==typeof T[T.length-1]){const B=T.pop();return X(T=1===T.length&&(0,C.k)(T[0])?T[0]:T,null).pipe((0,E.U)(R=>B(...R)))}return X(T,null)}function X(T,B){return new _.y(R=>{const N=T.length;if(0===N)return void R.complete();const F=new Array(N);let G=0,I=0;for(let Q=0;Q<N;Q++){const oe=(0,L.D)(T[Q]);let le=!1;R.add(oe.subscribe({next:be=>{le||(le=!0,I++),F[Q]=be},error:be=>R.error(be),complete:()=>{G++,(G===N||!le)&&(I===N&&R.next(B?B.reduce((be,Ae,$e)=>(be[Ae]=F[$e],be),{}):F),R.complete())}}))}})}},3527:(p,g,m)=>{"use strict";m.d(g,{D:()=>H});var _=m(4202),C=m(9249),E=m(3998);function H(L,U){return U?(0,E.x)(L,U):L instanceof _.y?L:new _.y((0,C.s)(L))}},3009:(p,g,m)=>{"use strict";m.d(g,{n:()=>H});var _=m(4202),C=m(3650),E=m(6454);function H(L,U){return U?(0,E.r)(L,U):new _.y((0,C.V)(L))}},3753:(p,g,m)=>{"use strict";m.d(g,{R:()=>U});var _=m(4202),C=m(6688),E=m(7043),H=m(4850);function U(N,F,G,I){return(0,E.m)(G)&&(I=G,G=void 0),I?U(N,F,G).pipe((0,H.U)(Q=>(0,C.k)(Q)?I(...Q):I(Q))):new _.y(Q=>{X(N,F,function oe(le){Q.next(arguments.length>1?Array.prototype.slice.call(arguments):le)},Q,G)})}function X(N,F,G,I,Q){let oe;if(function R(N){return N&&"function"==typeof N.addEventListener&&"function"==typeof N.removeEventListener}(N)){const le=N;N.addEventListener(F,G,Q),oe=()=>le.removeEventListener(F,G,Q)}else if(function B(N){return N&&"function"==typeof N.on&&"function"==typeof N.off}(N)){const le=N;N.on(F,G),oe=()=>le.off(F,G)}else if(function T(N){return N&&"function"==typeof N.addListener&&"function"==typeof N.removeListener}(N)){const le=N;N.addListener(F,G),oe=()=>le.removeListener(F,G)}else{if(!N||!N.length)throw new TypeError("Invalid event target");for(let le=0,be=N.length;le<be;le++)X(N[le],F,G,I,Q)}I.add(oe)}},6787:(p,g,m)=>{"use strict";m.d(g,{T:()=>L});var _=m(4202),C=m(2866),E=m(9146),H=m(3009);function L(...U){let X=Number.POSITIVE_INFINITY,T=null,B=U[U.length-1];return(0,C.K)(B)?(T=U.pop(),U.length>1&&"number"==typeof U[U.length-1]&&(X=U.pop())):"number"==typeof B&&(X=U.pop()),null===T&&1===U.length&&U[0]instanceof _.y?U[0]:(0,E.J)(X)((0,H.n)(U,T))}},7274:(p,g,m)=>{"use strict";m.d(g,{C:()=>E,F:()=>H});var _=m(4202),C=m(7876);const E=new _.y(C.Z);function H(){return E}},1086:(p,g,m)=>{"use strict";m.d(g,{of:()=>H});var _=m(2866),C=m(3009),E=m(6454);function H(...L){let U=L[L.length-1];return(0,_.K)(U)?(L.pop(),(0,E.r)(L,U)):(0,C.n)(L)}},1946:(p,g,m)=>{"use strict";m.d(g,{S3:()=>L});var _=m(6688),C=m(3009),E=m(826),H=m(448);function L(...T){if(1===T.length){if(!(0,_.k)(T[0]))return T[0];T=T[0]}return(0,C.n)(T,void 0).lift(new U)}class U{call(B,R){return R.subscribe(new X(B))}}class X extends E.L{constructor(B){super(B),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(B){this.observables.push(B)}_complete(){const B=this.observables,R=B.length;if(0===R)this.destination.complete();else{for(let N=0;N<R&&!this.hasFirst;N++){const G=(0,H.D)(this,B[N],void 0,N);this.subscriptions&&this.subscriptions.push(G),this.add(G)}this.observables=null}}notifyNext(B,R,N){if(!this.hasFirst){this.hasFirst=!0;for(let F=0;F<this.subscriptions.length;F++)if(F!==N){let G=this.subscriptions[F];G.unsubscribe(),this.remove(G)}this.subscriptions=null}this.destination.next(R)}}},1737:(p,g,m)=>{"use strict";m.d(g,{_:()=>C});var _=m(4202);function C(H,L){return new _.y(L?U=>L.schedule(E,0,{error:H,subscriber:U}):U=>U.error(H))}function E({error:H,subscriber:L}){L.error(H)}},8723:(p,g,m)=>{"use strict";m.d(g,{H:()=>L});var _=m(4202),C=m(353),E=m(4241),H=m(2866);function L(X=0,T,B){let R=-1;return(0,E.k)(T)?R=Number(T)<1?1:Number(T):(0,H.K)(T)&&(B=T),(0,H.K)(B)||(B=C.P),new _.y(N=>{const F=(0,E.k)(X)?X:+X-B.now();return B.schedule(U,F,{index:0,period:R,subscriber:N})})}function U(X){const{index:T,period:B,subscriber:R}=X;if(R.next(T),!R.closed){if(-1===B)return R.complete();X.index=T+1,this.schedule(X,B)}}},1746:(p,g,m)=>{"use strict";m.d(g,{$R:()=>U,mx:()=>X});var _=m(3009),C=m(6688),E=m(3489),H=m(5430),L=m(1177);function U(...F){const G=F[F.length-1];return"function"==typeof G&&F.pop(),(0,_.n)(F,void 0).lift(new X(G))}class X{constructor(G){this.resultSelector=G}call(G,I){return I.subscribe(new T(G,this.resultSelector))}}class T extends E.L{constructor(G,I,Q=Object.create(null)){super(G),this.resultSelector=I,this.iterators=[],this.active=0,this.resultSelector="function"==typeof I?I:void 0}_next(G){const I=this.iterators;(0,C.k)(G)?I.push(new R(G)):I.push("function"==typeof G[H.hZ]?new B(G[H.hZ]()):new N(this.destination,this,G))}_complete(){const G=this.iterators,I=G.length;if(this.unsubscribe(),0!==I){this.active=I;for(let Q=0;Q<I;Q++){let oe=G[Q];oe.stillUnsubscribed?this.destination.add(oe.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const G=this.iterators,I=G.length,Q=this.destination;for(let be=0;be<I;be++){let Ae=G[be];if("function"==typeof Ae.hasValue&&!Ae.hasValue())return}let oe=!1;const le=[];for(let be=0;be<I;be++){let Ae=G[be],$e=Ae.next();if(Ae.hasCompleted()&&(oe=!0),$e.done)return void Q.complete();le.push($e.value)}this.resultSelector?this._tryresultSelector(le):Q.next(le),oe&&Q.complete()}_tryresultSelector(G){let I;try{I=this.resultSelector.apply(this,G)}catch(Q){return void this.destination.error(Q)}this.destination.next(I)}}class B{constructor(G){this.iterator=G,this.nextResult=G.next()}hasValue(){return!0}next(){const G=this.nextResult;return this.nextResult=this.iterator.next(),G}hasCompleted(){const G=this.nextResult;return Boolean(G&&G.done)}}class R{constructor(G){this.array=G,this.index=0,this.length=0,this.length=G.length}[H.hZ](){return this}next(G){const I=this.index++;return I<this.length?{value:this.array[I],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class N extends L.Ds{constructor(G,I,Q){super(G),this.parent=I,this.observable=Q,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[H.hZ](){return this}next(){const G=this.buffer;return 0===G.length&&this.isComplete?{value:null,done:!0}:{value:G.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(G){this.buffer.push(G),this.parent.checkIterators()}subscribe(){return(0,L.ft)(this.observable,new L.IY(this))}}},7221:(p,g,m)=>{"use strict";m.d(g,{K:()=>C});var _=m(1177);function C(L){return function(X){const T=new E(L),B=X.lift(T);return T.caught=B}}class E{constructor(U){this.selector=U}call(U,X){return X.subscribe(new H(U,this.selector,this.caught))}}class H extends _.Ds{constructor(U,X,T){super(U),this.selector=X,this.caught=T}error(U){if(!this.isStopped){let X;try{X=this.selector(U,this.caught)}catch(R){return void super.error(R)}this._unsubscribeAndRecycle();const T=new _.IY(this);this.add(T);const B=(0,_.ft)(X,T);B!==T&&this.add(B)}}}},534:(p,g,m)=>{"use strict";m.d(g,{u:()=>C});var _=m(9146);function C(){return(0,_.J)(1)}},1406:(p,g,m)=>{"use strict";m.d(g,{b:()=>C});var _=m(1709);function C(E,H){return(0,_.zg)(E,H,1)}},7314:(p,g,m)=>{"use strict";m.d(g,{d:()=>C});var _=m(3489);function C(L=null){return U=>U.lift(new E(L))}class E{constructor(U){this.defaultValue=U}call(U,X){return X.subscribe(new H(U,this.defaultValue))}}class H extends _.L{constructor(U,X){super(U),this.defaultValue=X,this.isEmpty=!0}_next(U){this.isEmpty=!1,this.destination.next(U)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},943:(p,g,m)=>{"use strict";m.d(g,{g:()=>L});var _=m(353),C=m(2697),E=m(3489),H=m(9312);function L(B,R=_.P){const F=(0,C.J)(B)?+B-R.now():Math.abs(B);return G=>G.lift(new U(F,R))}class U{constructor(R,N){this.delay=R,this.scheduler=N}call(R,N){return N.subscribe(new X(R,this.delay,this.scheduler))}}class X extends E.L{constructor(R,N,F){super(R),this.delay=N,this.scheduler=F,this.queue=[],this.active=!1,this.errored=!1}static dispatch(R){const N=R.source,F=N.queue,G=R.scheduler,I=R.destination;for(;F.length>0&&F[0].time-G.now()<=0;)F.shift().notification.observe(I);if(F.length>0){const Q=Math.max(0,F[0].time-G.now());this.schedule(R,Q)}else this.unsubscribe(),N.active=!1}_schedule(R){this.active=!0,this.destination.add(R.schedule(X.dispatch,this.delay,{source:this,destination:this.destination,scheduler:R}))}scheduleNotification(R){if(!0===this.errored)return;const N=this.scheduler,F=new T(N.now()+this.delay,R);this.queue.push(F),!1===this.active&&this._schedule(N)}_next(R){this.scheduleNotification(H.P.createNext(R))}_error(R){this.errored=!0,this.queue=[],this.destination.error(R),this.unsubscribe()}_complete(){this.scheduleNotification(H.P.createComplete()),this.unsubscribe()}}class T{constructor(R,N){this.time=R,this.notification=N}}},5778:(p,g,m)=>{"use strict";m.d(g,{x:()=>C});var _=m(3489);function C(L,U){return X=>X.lift(new E(L,U))}class E{constructor(U,X){this.compare=U,this.keySelector=X}call(U,X){return X.subscribe(new H(U,this.compare,this.keySelector))}}class H extends _.L{constructor(U,X,T){super(U),this.keySelector=T,this.hasKey=!1,"function"==typeof X&&(this.compare=X)}compare(U,X){return U===X}_next(U){let X;try{const{keySelector:B}=this;X=B?B(U):U}catch(B){return this.destination.error(B)}let T=!1;if(this.hasKey)try{const{compare:B}=this;T=B(this.key,X)}catch(B){return this.destination.error(B)}else this.hasKey=!0;T||(this.key=X,this.destination.next(U))}}},2334:(p,g,m)=>{"use strict";m.d(g,{l:()=>E});var _=m(1961),C=m(1086);function E(...H){return L=>(0,_.z)(L,(0,C.of)(...H))}},2198:(p,g,m)=>{"use strict";m.d(g,{h:()=>C});var _=m(3489);function C(L,U){return function(T){return T.lift(new E(L,U))}}class E{constructor(U,X){this.predicate=U,this.thisArg=X}call(U,X){return X.subscribe(new H(U,this.predicate,this.thisArg))}}class H extends _.L{constructor(U,X,T){super(U),this.predicate=X,this.thisArg=T,this.count=0}_next(U){let X;try{X=this.predicate.call(this.thisArg,U,this.count++)}catch(T){return void this.destination.error(T)}X&&this.destination.next(U)}}},537:(p,g,m)=>{"use strict";m.d(g,{x:()=>E});var _=m(3489),C=m(4096);function E(U){return X=>X.lift(new H(U))}class H{constructor(X){this.callback=X}call(X,T){return T.subscribe(new L(X,this.callback))}}class L extends _.L{constructor(X,T){super(X),this.add(new C.w(T))}}},7224:(p,g,m)=>{"use strict";m.d(g,{P:()=>X});var _=m(4450),C=m(2198),E=m(2986),H=m(7314),L=m(4907),U=m(5379);function X(T,B){const R=arguments.length>=2;return N=>N.pipe(T?(0,C.h)((F,G)=>T(F,G,N)):U.y,(0,E.q)(1),R?(0,H.d)(B):(0,L.T)(()=>new _.K))}},4002:(p,g,m)=>{"use strict";m.d(g,{T:()=>B,v:()=>L});var _=m(3489),C=m(4096),E=m(4202),H=m(8929);function L(N,F,G,I){return Q=>Q.lift(new U(N,F,G,I))}class U{constructor(F,G,I,Q){this.keySelector=F,this.elementSelector=G,this.durationSelector=I,this.subjectSelector=Q}call(F,G){return G.subscribe(new X(F,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class X extends _.L{constructor(F,G,I,Q,oe){super(F),this.keySelector=G,this.elementSelector=I,this.durationSelector=Q,this.subjectSelector=oe,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(F){let G;try{G=this.keySelector(F)}catch(I){return void this.error(I)}this._group(F,G)}_group(F,G){let I=this.groups;I||(I=this.groups=new Map);let oe,Q=I.get(G);if(this.elementSelector)try{oe=this.elementSelector(F)}catch(le){this.error(le)}else oe=F;if(!Q){Q=this.subjectSelector?this.subjectSelector():new H.xQ,I.set(G,Q);const le=new B(G,Q,this);if(this.destination.next(le),this.durationSelector){let be;try{be=this.durationSelector(new B(G,Q))}catch(Ae){return void this.error(Ae)}this.add(be.subscribe(new T(G,Q,this)))}}Q.closed||Q.next(oe)}_error(F){const G=this.groups;G&&(G.forEach((I,Q)=>{I.error(F)}),G.clear()),this.destination.error(F)}_complete(){const F=this.groups;F&&(F.forEach((G,I)=>{G.complete()}),F.clear()),this.destination.complete()}removeGroup(F){this.groups.delete(F)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class T extends _.L{constructor(F,G,I){super(G),this.key=F,this.group=G,this.parent=I}_next(F){this.complete()}_unsubscribe(){const{parent:F,key:G}=this;this.key=this.parent=null,F&&F.removeGroup(G)}}class B extends E.y{constructor(F,G,I){super(),this.key=F,this.groupSubject=G,this.refCountSubscription=I}_subscribe(F){const G=new C.w,{refCountSubscription:I,groupSubject:Q}=this;return I&&!I.closed&&G.add(new R(I)),G.add(Q.subscribe(F)),G}}class R extends C.w{constructor(F){super(),this.parent=F,F.count++}unsubscribe(){const F=this.parent;!F.closed&&!this.closed&&(super.unsubscribe(),F.count-=1,0===F.count&&F.attemptedToUnsubscribe&&F.unsubscribe())}}},8127:(p,g,m)=>{"use strict";m.d(g,{Z:()=>X});var _=m(4450),C=m(2198),E=m(2821),H=m(4907),L=m(7314),U=m(5379);function X(T,B){const R=arguments.length>=2;return N=>N.pipe(T?(0,C.h)((F,G)=>T(F,G,N)):U.y,(0,E.h)(1),R?(0,L.d)(B):(0,H.T)(()=>new _.K))}},4850:(p,g,m)=>{"use strict";m.d(g,{U:()=>C});var _=m(3489);function C(L,U){return function(T){if("function"!=typeof L)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return T.lift(new E(L,U))}}class E{constructor(U,X){this.project=U,this.thisArg=X}call(U,X){return X.subscribe(new H(U,this.project,this.thisArg))}}class H extends _.L{constructor(U,X,T){super(U),this.project=X,this.count=0,this.thisArg=T||this}_next(U){let X;try{X=this.project.call(this.thisArg,U,this.count++)}catch(T){return void this.destination.error(T)}this.destination.next(X)}}},7604:(p,g,m)=>{"use strict";m.d(g,{h:()=>C});var _=m(3489);function C(L){return U=>U.lift(new E(L))}class E{constructor(U){this.value=U}call(U,X){return X.subscribe(new H(U,this.value))}}class H extends _.L{constructor(U,X){super(U),this.value=X}_next(U){this.destination.next(this.value)}}},9146:(p,g,m)=>{"use strict";m.d(g,{J:()=>E});var _=m(1709),C=m(5379);function E(H=Number.POSITIVE_INFINITY){return(0,_.zg)(C.y,H)}},1709:(p,g,m)=>{"use strict";m.d(g,{VS:()=>X,zg:()=>H});var _=m(4850),C=m(3527),E=m(1177);function H(T,B,R=Number.POSITIVE_INFINITY){return"function"==typeof B?N=>N.pipe(H((F,G)=>(0,C.D)(T(F,G)).pipe((0,_.U)((I,Q)=>B(F,I,G,Q))),R)):("number"==typeof B&&(R=B),N=>N.lift(new L(T,R)))}class L{constructor(B,R=Number.POSITIVE_INFINITY){this.project=B,this.concurrent=R}call(B,R){return R.subscribe(new U(B,this.project,this.concurrent))}}class U extends E.Ds{constructor(B,R,N=Number.POSITIVE_INFINITY){super(B),this.project=R,this.concurrent=N,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(B){this.active<this.concurrent?this._tryNext(B):this.buffer.push(B)}_tryNext(B){let R;const N=this.index++;try{R=this.project(B,N)}catch(F){return void this.destination.error(F)}this.active++,this._innerSub(R)}_innerSub(B){const R=new E.IY(this),N=this.destination;N.add(R);const F=(0,E.ft)(B,R);F!==R&&N.add(F)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(B){this.destination.next(B)}notifyComplete(){const B=this.buffer;this.active--,B.length>0?this._next(B.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const X=H},2536:(p,g,m)=>{"use strict";m.d(g,{O:()=>C});var _=m(1762);function C(H,L){return function(X){let T;if(T="function"==typeof H?H:function(){return H},"function"==typeof L)return X.lift(new E(T,L));const B=Object.create(X,_.N);return B.source=X,B.subjectFactory=T,B}}class E{constructor(L,U){this.subjectFactory=L,this.selector=U}call(L,U){const{selector:X}=this,T=this.subjectFactory(),B=X(T).subscribe(L);return B.add(U.subscribe(T)),B}}},7770:(p,g,m)=>{"use strict";m.d(g,{QV:()=>E,ht:()=>L});var _=m(3489),C=m(9312);function E(X,T=0){return function(R){return R.lift(new H(X,T))}}class H{constructor(T,B=0){this.scheduler=T,this.delay=B}call(T,B){return B.subscribe(new L(T,this.scheduler,this.delay))}}class L extends _.L{constructor(T,B,R=0){super(T),this.scheduler=B,this.delay=R}static dispatch(T){const{notification:B,destination:R}=T;B.observe(R),this.unsubscribe()}scheduleMessage(T){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new U(T,this.destination)))}_next(T){this.scheduleMessage(C.P.createNext(T))}_error(T){this.scheduleMessage(C.P.createError(T)),this.unsubscribe()}_complete(){this.scheduleMessage(C.P.createComplete()),this.unsubscribe()}}class U{constructor(T,B){this.notification=T,this.destination=B}}},8077:(p,g,m)=>{"use strict";m.d(g,{u:()=>L});var _=m(2014),C=m(2821),E=m(7314),H=m(4843);function L(U,X){return arguments.length>=2?function(B){return(0,H.z)((0,_.R)(U,X),(0,C.h)(1),(0,E.d)(X))(B)}:function(B){return(0,H.z)((0,_.R)((R,N,F)=>U(R,N,F+1)),(0,C.h)(1))(B)}}},4327:(p,g,m)=>{"use strict";m.d(g,{x:()=>C});var _=m(3489);function C(){return function(U){return U.lift(new E(U))}}class E{constructor(U){this.connectable=U}call(U,X){const{connectable:T}=this;T._refCount++;const B=new H(U,T),R=X.subscribe(B);return B.closed||(B.connection=T.connect()),R}}class H extends _.L{constructor(U,X){super(U),this.connectable=X}_unsubscribe(){const{connectable:U}=this;if(!U)return void(this.connection=null);this.connectable=null;const X=U._refCount;if(X<=0)return void(this.connection=null);if(U._refCount=X-1,X>1)return void(this.connection=null);const{connection:T}=this,B=U._connection;this.connection=null,B&&(!T||B===T)&&B.unsubscribe()}}},2014:(p,g,m)=>{"use strict";m.d(g,{R:()=>C});var _=m(3489);function C(L,U){let X=!1;return arguments.length>=2&&(X=!0),function(B){return B.lift(new E(L,U,X))}}class E{constructor(U,X,T=!1){this.accumulator=U,this.seed=X,this.hasSeed=T}call(U,X){return X.subscribe(new H(U,this.accumulator,this.seed,this.hasSeed))}}class H extends _.L{constructor(U,X,T,B){super(U),this.accumulator=X,this._seed=T,this.hasSeed=B,this.index=0}get seed(){return this._seed}set seed(U){this.hasSeed=!0,this._seed=U}_next(U){if(this.hasSeed)return this._tryNext(U);this.seed=U,this.destination.next(U)}_tryNext(U){const X=this.index++;let T;try{T=this.accumulator(this.seed,U,X)}catch(B){this.destination.error(B)}this.seed=T,this.destination.next(T)}}},8117:(p,g,m)=>{"use strict";m.d(g,{B:()=>L});var _=m(2536),C=m(4327),E=m(8929);function H(){return new E.xQ}function L(){return U=>(0,C.x)()((0,_.O)(H)(U))}},1307:(p,g,m)=>{"use strict";m.d(g,{T:()=>C});var _=m(3489);function C(L){return U=>U.lift(new E(L))}class E{constructor(U){this.total=U}call(U,X){return X.subscribe(new H(U,this.total))}}class H extends _.L{constructor(U,X){super(U),this.total=X,this.count=0}_next(U){++this.count>this.total&&this.destination.next(U)}}},1059:(p,g,m)=>{"use strict";m.d(g,{O:()=>E});var _=m(1961),C=m(2866);function E(...H){const L=H[H.length-1];return(0,C.K)(L)?(H.pop(),U=>(0,_.z)(H,U,L)):U=>(0,_.z)(H,U)}},7545:(p,g,m)=>{"use strict";m.d(g,{w:()=>H});var _=m(4850),C=m(3527),E=m(1177);function H(X,T){return"function"==typeof T?B=>B.pipe(H((R,N)=>(0,C.D)(X(R,N)).pipe((0,_.U)((F,G)=>T(R,F,N,G))))):B=>B.lift(new L(X))}class L{constructor(T){this.project=T}call(T,B){return B.subscribe(new U(T,this.project))}}class U extends E.Ds{constructor(T,B){super(T),this.project=B,this.index=0}_next(T){let B;const R=this.index++;try{B=this.project(T,R)}catch(N){return void this.destination.error(N)}this._innerSub(B)}_innerSub(T){const B=this.innerSubscription;B&&B.unsubscribe();const R=new E.IY(this),N=this.destination;N.add(R),this.innerSubscription=(0,E.ft)(T,R),this.innerSubscription!==R&&N.add(this.innerSubscription)}_complete(){const{innerSubscription:T}=this;(!T||T.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(T){this.destination.next(T)}}},2986:(p,g,m)=>{"use strict";m.d(g,{q:()=>H});var _=m(3489),C=m(4231),E=m(8896);function H(X){return T=>0===X?(0,E.c)():T.lift(new L(X))}class L{constructor(T){if(this.total=T,this.total<0)throw new C.W}call(T,B){return B.subscribe(new U(T,this.total))}}class U extends _.L{constructor(T,B){super(T),this.total=B,this.count=0}_next(T){const B=this.total,R=++this.count;R<=B&&(this.destination.next(T),R===B&&(this.destination.complete(),this.unsubscribe()))}}},2821:(p,g,m)=>{"use strict";m.d(g,{h:()=>H});var _=m(3489),C=m(4231),E=m(8896);function H(X){return function(B){return 0===X?(0,E.c)():B.lift(new L(X))}}class L{constructor(T){if(this.total=T,this.total<0)throw new C.W}call(T,B){return B.subscribe(new U(T,this.total))}}class U extends _.L{constructor(T,B){super(T),this.total=B,this.ring=new Array,this.count=0}_next(T){const B=this.ring,R=this.total,N=this.count++;B.length<R?B.push(T):B[N%R]=T}_complete(){const T=this.destination;let B=this.count;if(B>0){const R=this.count>=this.total?this.total:this.count,N=this.ring;for(let F=0;F<R;F++){const G=B++%R;T.next(N[G])}}T.complete()}}},7625:(p,g,m)=>{"use strict";m.d(g,{R:()=>C});var _=m(1177);function C(L){return U=>U.lift(new E(L))}class E{constructor(U){this.notifier=U}call(U,X){const T=new H(U),B=(0,_.ft)(this.notifier,new _.IY(T));return B&&!T.seenValue?(T.add(B),X.subscribe(T)):T}}class H extends _.Ds{constructor(U){super(U),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4290:(p,g,m)=>{"use strict";m.d(g,{o:()=>C});var _=m(3489);function C(L,U=!1){return X=>X.lift(new E(L,U))}class E{constructor(U,X){this.predicate=U,this.inclusive=X}call(U,X){return X.subscribe(new H(U,this.predicate,this.inclusive))}}class H extends _.L{constructor(U,X,T){super(U),this.predicate=X,this.inclusive=T,this.index=0}_next(U){const X=this.destination;let T;try{T=this.predicate(U,this.index++)}catch(B){return void X.error(B)}this.nextOrComplete(U,T)}nextOrComplete(U,X){const T=this.destination;Boolean(X)?T.next(U):(this.inclusive&&T.next(U),T.complete())}}},2994:(p,g,m)=>{"use strict";m.d(g,{b:()=>H});var _=m(3489),C=m(7876),E=m(7043);function H(X,T,B){return function(N){return N.lift(new L(X,T,B))}}class L{constructor(T,B,R){this.nextOrObserver=T,this.error=B,this.complete=R}call(T,B){return B.subscribe(new U(T,this.nextOrObserver,this.error,this.complete))}}class U extends _.L{constructor(T,B,R,N){super(T),this._tapNext=C.Z,this._tapError=C.Z,this._tapComplete=C.Z,this._tapError=R||C.Z,this._tapComplete=N||C.Z,(0,E.m)(B)?(this._context=this,this._tapNext=B):B&&(this._context=B,this._tapNext=B.next||C.Z,this._tapError=B.error||C.Z,this._tapComplete=B.complete||C.Z)}_next(T){try{this._tapNext.call(this._context,T)}catch(B){return void this.destination.error(B)}this.destination.next(T)}_error(T){try{this._tapError.call(this._context,T)}catch(B){return void this.destination.error(B)}this.destination.error(T)}_complete(){try{this._tapComplete.call(this._context)}catch(T){return void this.destination.error(T)}return this.destination.complete()}}},4907:(p,g,m)=>{"use strict";m.d(g,{T:()=>E});var _=m(4450),C=m(3489);function E(X=U){return T=>T.lift(new H(X))}class H{constructor(T){this.errorFactory=T}call(T,B){return B.subscribe(new L(T,this.errorFactory))}}class L extends C.L{constructor(T,B){super(T),this.errorFactory=B,this.hasValue=!1}_next(T){this.hasValue=!0,this.destination.next(T)}_complete(){if(this.hasValue)return this.destination.complete();{let T;try{T=this.errorFactory()}catch(B){T=B}this.destination.error(T)}}}function U(){return new _.K}},864:(p,g,m)=>{"use strict";m.d(g,{q:()=>E});var _=m(8077);function C(H,L,U){return 0===U?[L]:(H.push(L),H)}function E(){return(0,_.u)(C,[])}},7168:(p,g,m)=>{"use strict";m.d(g,{M:()=>E});var _=m(826),C=m(448);function E(...U){return X=>{let T;return"function"==typeof U[U.length-1]&&(T=U.pop()),X.lift(new H(U,T))}}class H{constructor(X,T){this.observables=X,this.project=T}call(X,T){return T.subscribe(new L(X,this.observables,this.project))}}class L extends _.L{constructor(X,T,B){super(X),this.observables=T,this.project=B,this.toRespond=[];const R=T.length;this.values=new Array(R);for(let N=0;N<R;N++)this.toRespond.push(N);for(let N=0;N<R;N++)this.add((0,C.D)(this,T[N],void 0,N))}notifyNext(X,T,B){this.values[B]=T;const R=this.toRespond;if(R.length>0){const N=R.indexOf(B);-1!==N&&R.splice(N,1)}}notifyComplete(){}_next(X){if(0===this.toRespond.length){const T=[X,...this.values];this.project?this._tryProject(T):this.destination.next(T)}}_tryProject(X){let T;try{T=this.project.apply(this,X)}catch(B){return void this.destination.error(B)}this.destination.next(T)}}},6454:(p,g,m)=>{"use strict";m.d(g,{r:()=>E});var _=m(4202),C=m(4096);function E(H,L){return new _.y(U=>{const X=new C.w;let T=0;return X.add(L.schedule(function(){T!==H.length?(U.next(H[T++]),U.closed||X.add(this.schedule())):U.complete()})),X})}},3998:(p,g,m)=>{"use strict";m.d(g,{x:()=>G});var _=m(4202),C=m(4096),E=m(3821),U=m(6454),X=m(5430),R=m(8955),N=m(8515);function G(I,Q){if(null!=I){if(function B(I){return I&&"function"==typeof I[E.L]}(I))return function H(I,Q){return new _.y(oe=>{const le=new C.w;return le.add(Q.schedule(()=>{const be=I[E.L]();le.add(be.subscribe({next(Ae){le.add(Q.schedule(()=>oe.next(Ae)))},error(Ae){le.add(Q.schedule(()=>oe.error(Ae)))},complete(){le.add(Q.schedule(()=>oe.complete()))}}))})),le})}(I,Q);if((0,R.t)(I))return function L(I,Q){return new _.y(oe=>{const le=new C.w;return le.add(Q.schedule(()=>I.then(be=>{le.add(Q.schedule(()=>{oe.next(be),le.add(Q.schedule(()=>oe.complete()))}))},be=>{le.add(Q.schedule(()=>oe.error(be)))}))),le})}(I,Q);if((0,N.z)(I))return(0,U.r)(I,Q);if(function F(I){return I&&"function"==typeof I[X.hZ]}(I)||"string"==typeof I)return function T(I,Q){if(!I)throw new Error("Iterable cannot be null");return new _.y(oe=>{const le=new C.w;let be;return le.add(()=>{be&&"function"==typeof be.return&&be.return()}),le.add(Q.schedule(()=>{be=I[X.hZ](),le.add(Q.schedule(function(){if(oe.closed)return;let Ae,$e;try{const Be=be.next();Ae=Be.value,$e=Be.done}catch(Be){return void oe.error(Be)}$e?oe.complete():(oe.next(Ae),this.schedule())}))})),le})}(I,Q)}throw new TypeError((null!==I&&typeof I||I)+" is not observable")}},6686:(p,g,m)=>{"use strict";m.d(g,{o:()=>E});var _=m(4096);class C extends _.w{constructor(L,U){super()}schedule(L,U=0){return this}}class E extends C{constructor(L,U){super(L,U),this.scheduler=L,this.work=U,this.pending=!1}schedule(L,U=0){if(this.closed)return this;this.state=L;const X=this.id,T=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(T,X,U)),this.pending=!0,this.delay=U,this.id=this.id||this.requestAsyncId(T,this.id,U),this}requestAsyncId(L,U,X=0){return setInterval(L.flush.bind(L,this),X)}recycleAsyncId(L,U,X=0){if(null!==X&&this.delay===X&&!1===this.pending)return U;clearInterval(U)}execute(L,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(L,U);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,U){let T,X=!1;try{this.work(L)}catch(B){X=!0,T=!!B&&B||new Error(B)}if(X)return this.unsubscribe(),T}_unsubscribe(){const L=this.id,U=this.scheduler,X=U.actions,T=X.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==T&&X.splice(T,1),null!=L&&(this.id=this.recycleAsyncId(U,L,null)),this.delay=null}}},198:(p,g,m)=>{"use strict";m.d(g,{v:()=>C});var _=m(2221);class C extends _.b{constructor(H,L=_.b.now){super(H,()=>C.delegate&&C.delegate!==this?C.delegate.now():L()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(H,L=0,U){return C.delegate&&C.delegate!==this?C.delegate.schedule(H,L,U):super.schedule(H,L,U)}flush(H){const{actions:L}=this;if(this.active)return void L.push(H);let U;this.active=!0;do{if(U=H.execute(H.state,H.delay))break}while(H=L.shift());if(this.active=!1,U){for(;H=L.shift();)H.unsubscribe();throw U}}}},8139:(p,g,m)=>{"use strict";m.d(g,{e:()=>F,E:()=>N});let _=1;const C=Promise.resolve(),E={};function H(G){return G in E&&(delete E[G],!0)}const L={setImmediate(G){const I=_++;return E[I]=!0,C.then(()=>H(I)&&G()),I},clearImmediate(G){H(G)}};var X=m(6686),B=m(198);const N=new class R extends B.v{flush(I){this.active=!0,this.scheduled=void 0;const{actions:Q}=this;let oe,le=-1,be=Q.length;I=I||Q.shift();do{if(oe=I.execute(I.state,I.delay))break}while(++le<be&&(I=Q.shift()));if(this.active=!1,oe){for(;++le<be&&(I=Q.shift());)I.unsubscribe();throw oe}}}(class T extends X.o{constructor(I,Q){super(I,Q),this.scheduler=I,this.work=Q}requestAsyncId(I,Q,oe=0){return null!==oe&&oe>0?super.requestAsyncId(I,Q,oe):(I.actions.push(this),I.scheduled||(I.scheduled=L.setImmediate(I.flush.bind(I,null))))}recycleAsyncId(I,Q,oe=0){if(null!==oe&&oe>0||null===oe&&this.delay>0)return super.recycleAsyncId(I,Q,oe);0===I.actions.length&&(L.clearImmediate(Q),I.scheduled=void 0)}}),F=N},353:(p,g,m)=>{"use strict";m.d(g,{P:()=>H,z:()=>E});var _=m(6686);const E=new(m(198).v)(_.o),H=E},341:(p,g,m)=>{"use strict";m.d(g,{c:()=>U,N:()=>L});var _=m(6686),E=m(198);const L=new class H extends E.v{}(class C extends _.o{constructor(T,B){super(T,B),this.scheduler=T,this.work=B}schedule(T,B=0){return B>0?super.schedule(T,B):(this.delay=B,this.state=T,this.scheduler.flush(this),this)}execute(T,B){return B>0||this.closed?super.execute(T,B):this._execute(T,B)}requestAsyncId(T,B,R=0){return null!==R&&R>0||null===R&&this.delay>0?super.requestAsyncId(T,B,R):T.flush(this)}}),U=L},5430:(p,g,m)=>{"use strict";m.d(g,{hZ:()=>C});const C=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(p,g,m)=>{"use strict";m.d(g,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(p,g,m)=>{"use strict";m.d(g,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(p,g,m)=>{"use strict";m.d(g,{W:()=>C});const C=(()=>{function E(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return E.prototype=Object.create(Error.prototype),E})()},4450:(p,g,m)=>{"use strict";m.d(g,{K:()=>C});const C=(()=>{function E(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return E.prototype=Object.create(Error.prototype),E})()},5279:(p,g,m)=>{"use strict";m.d(g,{N:()=>C});const C=(()=>{function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return E.prototype=Object.create(Error.prototype),E})()},854:(p,g,m)=>{"use strict";m.d(g,{W:()=>C});const C=(()=>{function E(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return E.prototype=Object.create(Error.prototype),E})()},7964:(p,g,m)=>{"use strict";m.d(g,{B:()=>C});const C=(()=>{function E(H){return Error.call(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((L,U)=>`${U+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H,this}return E.prototype=Object.create(Error.prototype),E})()},9476:(p,g,m)=>{"use strict";m.d(g,{_:()=>C});var _=m(3489);function C(E){for(;E;){const{closed:H,destination:L,isStopped:U}=E;if(H||U)return!1;E=L&&L instanceof _.L?L:null}return!0}},2782:(p,g,m)=>{"use strict";function _(C){setTimeout(()=>{throw C},0)}m.d(g,{z:()=>_})},5379:(p,g,m)=>{"use strict";function _(C){return C}m.d(g,{y:()=>_})},6688:(p,g,m)=>{"use strict";m.d(g,{k:()=>_});const _=Array.isArray||(C=>C&&"number"==typeof C.length)},8515:(p,g,m)=>{"use strict";m.d(g,{z:()=>_});const _=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2697:(p,g,m)=>{"use strict";function _(C){return C instanceof Date&&!isNaN(+C)}m.d(g,{J:()=>_})},7043:(p,g,m)=>{"use strict";function _(C){return"function"==typeof C}m.d(g,{m:()=>_})},4241:(p,g,m)=>{"use strict";m.d(g,{k:()=>C});var _=m(6688);function C(E){return!(0,_.k)(E)&&E-parseFloat(E)+1>=0}},7830:(p,g,m)=>{"use strict";function _(C){return null!==C&&"object"==typeof C}m.d(g,{K:()=>_})},8955:(p,g,m)=>{"use strict";function _(C){return!!C&&"function"!=typeof C.subscribe&&"function"==typeof C.then}m.d(g,{t:()=>_})},2866:(p,g,m)=>{"use strict";function _(C){return C&&"function"==typeof C.schedule}m.d(g,{K:()=>_})},7876:(p,g,m)=>{"use strict";function _(){}m.d(g,{Z:()=>_})},5884:(p,g,m)=>{"use strict";function _(C,E){function H(){return!H.pred.apply(H.thisArg,arguments)}return H.pred=C,H.thisArg=E,H}m.d(g,{f:()=>_})},4843:(p,g,m)=>{"use strict";m.d(g,{U:()=>E,z:()=>C});var _=m(5379);function C(...H){return E(H)}function E(H){return 0===H.length?_.y:1===H.length?H[0]:function(U){return H.reduce((X,T)=>T(X),U)}}},9249:(p,g,m)=>{"use strict";m.d(g,{s:()=>N});var _=m(3650),C=m(2782),H=m(5430),U=m(3821),T=m(8515),B=m(8955),R=m(7830);const N=F=>{if(F&&"function"==typeof F[U.L])return(F=>G=>{const I=F[U.L]();if("function"!=typeof I.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return I.subscribe(G)})(F);if((0,T.z)(F))return(0,_.V)(F);if((0,B.t)(F))return(F=>G=>(F.then(I=>{G.closed||(G.next(I),G.complete())},I=>G.error(I)).then(null,C.z),G))(F);if(F&&"function"==typeof F[H.hZ])return(F=>G=>{const I=F[H.hZ]();for(;;){let Q;try{Q=I.next()}catch(oe){return G.error(oe),G}if(Q.done){G.complete();break}if(G.next(Q.value),G.closed)break}return"function"==typeof I.return&&G.add(()=>{I.return&&I.return()}),G})(F);{const I=`You provided ${(0,R.K)(F)?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(I)}}},3650:(p,g,m)=>{"use strict";m.d(g,{V:()=>_});const _=C=>E=>{for(let H=0,L=C.length;H<L&&!E.closed;H++)E.next(C[H]);E.complete()}},448:(p,g,m)=>{"use strict";m.d(g,{D:()=>L});var _=m(3489);class C extends _.L{constructor(X,T,B){super(),this.parent=X,this.outerValue=T,this.outerIndex=B,this.index=0}_next(X){this.parent.notifyNext(this.outerValue,X,this.outerIndex,this.index++,this)}_error(X){this.parent.notifyError(X,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var E=m(9249),H=m(4202);function L(U,X,T,B,R=new C(U,T,B)){if(!R.closed)return X instanceof H.y?X.subscribe(R):(0,E.s)(X)(R)}},8732:(p,g,m)=>{"use strict";m.r(g),m.d(g,{audit:()=>C,auditTime:()=>X,buffer:()=>T,bufferCount:()=>F,bufferTime:()=>le,bufferToggle:()=>it,bufferWhen:()=>Jt,catchError:()=>ct.K,combineAll:()=>yn,combineLatest:()=>Nt,concat:()=>On,concatAll:()=>zn.u,concatMap:()=>Ct.b,concatMapTo:()=>hr,count:()=>Sn,debounce:()=>Ai,debounceTime:()=>eo,defaultIfEmpty:()=>en.d,delay:()=>Qn.g,delayWhen:()=>Ri,dematerialize:()=>Pr,distinct:()=>cn,distinctUntilChanged:()=>br.x,distinctUntilKeyChanged:()=>Or,elementAt:()=>Et,endWith:()=>Hs.l,every:()=>ri,exhaust:()=>Pt,exhaustMap:()=>Fn,expand:()=>gr,filter:()=>Hr.h,finalize:()=>Ma.x,find:()=>Bc,findIndex:()=>Sd,first:()=>Ap.P,flatMap:()=>wn.VS,groupBy:()=>Mi.v,ignoreElements:()=>ig,isEmpty:()=>Si,last:()=>Xt.Z,map:()=>tn.U,mapTo:()=>Vo.h,materialize:()=>Qo,max:()=>Mh,merge:()=>gu,mergeAll:()=>da.J,mergeMap:()=>wn.zg,mergeMapTo:()=>Ti,mergeScan:()=>to,min:()=>Ho,multicast:()=>Xr.O,observeOn:()=>Nr.QV,onErrorResumeNext:()=>dc,pairwise:()=>Pa,partition:()=>Uc,pluck:()=>Jo,publish:()=>kp,publishBehavior:()=>jc,publishLast:()=>vu,publishReplay:()=>ol,race:()=>Go,reduce:()=>Zo.u,refCount:()=>bu.x,repeat:()=>Ss,repeatWhen:()=>Dd,retry:()=>og,retryWhen:()=>Rl,sample:()=>cg,sampleTime:()=>Ph,scan:()=>hg.R,sequenceEqual:()=>t0,share:()=>Fp.B,shareReplay:()=>n0,single:()=>P,skip:()=>ne.T,skipLast:()=>ue,skipUntil:()=>je,skipWhile:()=>xt,startWith:()=>Kt.O,subscribeOn:()=>No,switchAll:()=>wi,switchMap:()=>Fr.w,switchMapTo:()=>fc,take:()=>ho.q,takeLast:()=>Fi.h,takeUntil:()=>no.R,takeWhile:()=>Nl.o,tap:()=>di.b,throttle:()=>xu,throttleTime:()=>Ll,throwIfEmpty:()=>ko.T,timeInterval:()=>nr,timeout:()=>Eh,timeoutWith:()=>Wc,timestamp:()=>Lp,toArray:()=>Ad.q,window:()=>po,windowCount:()=>al,windowTime:()=>Bp,windowToggle:()=>De,windowWhen:()=>bt,withLatestFrom:()=>bn.M,zip:()=>Cn,zipAll:()=>qi});var _=m(1177);function C(ve){return function(ee){return ee.lift(new E(ve))}}class E{constructor(z){this.durationSelector=z}call(z,ee){return ee.subscribe(new H(z,this.durationSelector))}}class H extends _.Ds{constructor(z,ee){super(z),this.durationSelector=ee,this.hasValue=!1}_next(z){if(this.value=z,this.hasValue=!0,!this.throttled){let ee;try{const{durationSelector:Je}=this;ee=Je(z)}catch(Je){return this.destination.error(Je)}const ye=(0,_.ft)(ee,new _.IY(this));!ye||ye.closed?this.clearThrottle():this.add(this.throttled=ye)}}clearThrottle(){const{value:z,hasValue:ee,throttled:ye}=this;ye&&(this.remove(ye),this.throttled=void 0,ye.unsubscribe()),ee&&(this.value=void 0,this.hasValue=!1,this.destination.next(z))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var L=m(353),U=m(8723);function X(ve,z=L.P){return C(()=>(0,U.H)(ve,z))}function T(ve){return function(ee){return ee.lift(new B(ve))}}class B{constructor(z){this.closingNotifier=z}call(z,ee){return ee.subscribe(new R(z,this.closingNotifier))}}class R extends _.Ds{constructor(z,ee){super(z),this.buffer=[],this.add((0,_.ft)(ee,new _.IY(this)))}_next(z){this.buffer.push(z)}notifyNext(){const z=this.buffer;this.buffer=[],this.destination.next(z)}}var N=m(3489);function F(ve,z=null){return function(ye){return ye.lift(new G(ve,z))}}class G{constructor(z,ee){this.bufferSize=z,this.startBufferEvery=ee,this.subscriberClass=ee&&z!==ee?Q:I}call(z,ee){return ee.subscribe(new this.subscriberClass(z,this.bufferSize,this.startBufferEvery))}}class I extends N.L{constructor(z,ee){super(z),this.bufferSize=ee,this.buffer=[]}_next(z){const ee=this.buffer;ee.push(z),ee.length==this.bufferSize&&(this.destination.next(ee),this.buffer=[])}_complete(){const z=this.buffer;z.length>0&&this.destination.next(z),super._complete()}}class Q extends N.L{constructor(z,ee,ye){super(z),this.bufferSize=ee,this.startBufferEvery=ye,this.buffers=[],this.count=0}_next(z){const{bufferSize:ee,startBufferEvery:ye,buffers:Je,count:Ut}=this;this.count++,Ut%ye==0&&Je.push([]);for(let gn=Je.length;gn--;){const Pi=Je[gn];Pi.push(z),Pi.length===ee&&(Je.splice(gn,1),this.destination.next(Pi))}}_complete(){const{buffers:z,destination:ee}=this;for(;z.length>0;){let ye=z.shift();ye.length>0&&ee.next(ye)}super._complete()}}var oe=m(2866);function le(ve){let z=arguments.length,ee=L.P;(0,oe.K)(arguments[arguments.length-1])&&(ee=arguments[arguments.length-1],z--);let ye=null;z>=2&&(ye=arguments[1]);let Je=Number.POSITIVE_INFINITY;return z>=3&&(Je=arguments[2]),function(gn){return gn.lift(new be(ve,ye,Je,ee))}}class be{constructor(z,ee,ye,Je){this.bufferTimeSpan=z,this.bufferCreationInterval=ee,this.maxBufferSize=ye,this.scheduler=Je}call(z,ee){return ee.subscribe(new $e(z,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class Ae{constructor(){this.buffer=[]}}class $e extends N.L{constructor(z,ee,ye,Je,Ut){super(z),this.bufferTimeSpan=ee,this.bufferCreationInterval=ye,this.maxBufferSize=Je,this.scheduler=Ut,this.contexts=[];const gn=this.openContext();if(this.timespanOnly=null==ye||ye<0,this.timespanOnly)this.add(gn.closeAction=Ut.schedule(Be,ee,{subscriber:this,context:gn,bufferTimeSpan:ee}));else{const Dr={bufferTimeSpan:ee,bufferCreationInterval:ye,subscriber:this,scheduler:Ut};this.add(gn.closeAction=Ut.schedule(pt,ee,{subscriber:this,context:gn})),this.add(Ut.schedule(qe,ye,Dr))}}_next(z){const ee=this.contexts,ye=ee.length;let Je;for(let Ut=0;Ut<ye;Ut++){const gn=ee[Ut],Pi=gn.buffer;Pi.push(z),Pi.length==this.maxBufferSize&&(Je=gn)}Je&&this.onBufferFull(Je)}_error(z){this.contexts.length=0,super._error(z)}_complete(){const{contexts:z,destination:ee}=this;for(;z.length>0;){const ye=z.shift();ee.next(ye.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(z){this.closeContext(z);const ee=z.closeAction;if(ee.unsubscribe(),this.remove(ee),!this.closed&&this.timespanOnly){z=this.openContext();const ye=this.bufferTimeSpan;this.add(z.closeAction=this.scheduler.schedule(Be,ye,{subscriber:this,context:z,bufferTimeSpan:ye}))}}openContext(){const z=new Ae;return this.contexts.push(z),z}closeContext(z){this.destination.next(z.buffer);const ee=this.contexts;(ee?ee.indexOf(z):-1)>=0&&ee.splice(ee.indexOf(z),1)}}function Be(ve){const z=ve.subscriber,ee=ve.context;ee&&z.closeContext(ee),z.closed||(ve.context=z.openContext(),ve.context.closeAction=this.schedule(ve,ve.bufferTimeSpan))}function qe(ve){const{bufferCreationInterval:z,bufferTimeSpan:ee,subscriber:ye,scheduler:Je}=ve,Ut=ye.openContext();ye.closed||(ye.add(Ut.closeAction=Je.schedule(pt,ee,{subscriber:ye,context:Ut})),this.schedule(ve,z))}function pt(ve){const{subscriber:z,context:ee}=ve;z.closeContext(ee)}var j=m(4096),Se=m(448),at=m(826);function it(ve,z){return function(ye){return ye.lift(new yt(ve,z))}}class yt{constructor(z,ee){this.openings=z,this.closingSelector=ee}call(z,ee){return ee.subscribe(new Lt(z,this.openings,this.closingSelector))}}class Lt extends at.L{constructor(z,ee,ye){super(z),this.closingSelector=ye,this.contexts=[],this.add((0,Se.D)(this,ee))}_next(z){const ee=this.contexts,ye=ee.length;for(let Je=0;Je<ye;Je++)ee[Je].buffer.push(z)}_error(z){const ee=this.contexts;for(;ee.length>0;){const ye=ee.shift();ye.subscription.unsubscribe(),ye.buffer=null,ye.subscription=null}this.contexts=null,super._error(z)}_complete(){const z=this.contexts;for(;z.length>0;){const ee=z.shift();this.destination.next(ee.buffer),ee.subscription.unsubscribe(),ee.buffer=null,ee.subscription=null}this.contexts=null,super._complete()}notifyNext(z,ee){z?this.closeBuffer(z):this.openBuffer(ee)}notifyComplete(z){this.closeBuffer(z.context)}openBuffer(z){try{const ye=this.closingSelector.call(this,z);ye&&this.trySubscribe(ye)}catch(ee){this._error(ee)}}closeBuffer(z){const ee=this.contexts;if(ee&&z){const{buffer:ye,subscription:Je}=z;this.destination.next(ye),ee.splice(ee.indexOf(z),1),this.remove(Je),Je.unsubscribe()}}trySubscribe(z){const ee=this.contexts,Je=new j.w,Ut={buffer:[],subscription:Je};ee.push(Ut);const gn=(0,Se.D)(this,z,Ut);!gn||gn.closed?this.closeBuffer(Ut):(gn.context=Ut,this.add(gn),Je.add(gn))}}function Jt(ve){return function(z){return z.lift(new ut(ve))}}class ut{constructor(z){this.closingSelector=z}call(z,ee){return ee.subscribe(new Ne(z,this.closingSelector))}}class Ne extends _.Ds{constructor(z,ee){super(z),this.closingSelector=ee,this.subscribing=!1,this.openBuffer()}_next(z){this.buffer.push(z)}_complete(){const z=this.buffer;z&&this.destination.next(z),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let ye,{closingSubscription:z}=this;z&&(this.remove(z),z.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:Je}=this;ye=Je()}catch(Je){return this.error(Je)}z=new j.w,this.closingSubscription=z,this.add(z),this.subscribing=!0,z.add((0,_.ft)(ye,new _.IY(this))),this.subscribing=!1}}var ct=m(7221),Yt=m(6053);function yn(ve){return z=>z.lift(new Yt.Ms(ve))}var fn=m(6688),sn=m(3527);function Nt(...ve){let z=null;return"function"==typeof ve[ve.length-1]&&(z=ve.pop()),1===ve.length&&(0,fn.k)(ve[0])&&(ve=ve[0].slice()),ee=>ee.lift.call((0,sn.D)([ee,...ve]),new Yt.Ms(z))}var Pn=m(1961);function On(...ve){return z=>z.lift.call((0,Pn.z)(z,...ve))}var zn=m(534),Ct=m(1406);function hr(ve,z){return(0,Ct.b)(()=>ve,z)}function Sn(ve){return z=>z.lift(new $n(ve,z))}class $n{constructor(z,ee){this.predicate=z,this.source=ee}call(z,ee){return ee.subscribe(new Gt(z,this.predicate,this.source))}}class Gt extends N.L{constructor(z,ee,ye){super(z),this.predicate=ee,this.source=ye,this.count=0,this.index=0}_next(z){this.predicate?this._tryPredicate(z):this.count++}_tryPredicate(z){let ee;try{ee=this.predicate(z,this.index++,this.source)}catch(ye){return void this.destination.error(ye)}ee&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Ai(ve){return z=>z.lift(new ni(ve))}class ni{constructor(z){this.durationSelector=z}call(z,ee){return ee.subscribe(new Ki(z,this.durationSelector))}}class Ki extends _.Ds{constructor(z,ee){super(z),this.durationSelector=ee,this.hasValue=!1}_next(z){try{const ee=this.durationSelector.call(this,z);ee&&this._tryNext(z,ee)}catch(ee){this.destination.error(ee)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(z,ee){let ye=this.durationSubscription;this.value=z,this.hasValue=!0,ye&&(ye.unsubscribe(),this.remove(ye)),ye=(0,_.ft)(ee,new _.IY(this)),ye&&!ye.closed&&this.add(this.durationSubscription=ye)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const z=this.value,ee=this.durationSubscription;ee&&(this.durationSubscription=void 0,ee.unsubscribe(),this.remove(ee)),this.value=void 0,this.hasValue=!1,super._next(z)}}}function eo(ve,z=L.P){return ee=>ee.lift(new Qi(ve,z))}class Qi{constructor(z,ee){this.dueTime=z,this.scheduler=ee}call(z,ee){return ee.subscribe(new Rr(z,this.dueTime,this.scheduler))}}class Rr extends N.L{constructor(z,ee,ye){super(z),this.dueTime=ee,this.scheduler=ye,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(z){this.clearDebounce(),this.lastValue=z,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(fr,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:z}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(z)}}clearDebounce(){const z=this.debouncedSubscription;null!==z&&(this.remove(z),z.unsubscribe(),this.debouncedSubscription=null)}}function fr(ve){ve.debouncedNext()}var en=m(7314),Qn=m(943),rr=m(4202);function Ri(ve,z){return z?ee=>new Wn(ee,z).lift(new Ni(ve)):ee=>ee.lift(new Ni(ve))}class Ni{constructor(z){this.delayDurationSelector=z}call(z,ee){return ee.subscribe(new Zi(z,this.delayDurationSelector))}}class Zi extends at.L{constructor(z,ee){super(z),this.delayDurationSelector=ee,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(z,ee,ye,Je,Ut){this.destination.next(z),this.removeSubscription(Ut),this.tryComplete()}notifyError(z,ee){this._error(z)}notifyComplete(z){const ee=this.removeSubscription(z);ee&&this.destination.next(ee),this.tryComplete()}_next(z){const ee=this.index++;try{const ye=this.delayDurationSelector(z,ee);ye&&this.tryDelay(ye,z)}catch(ye){this.destination.error(ye)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(z){z.unsubscribe();const ee=this.delayNotifierSubscriptions.indexOf(z);return-1!==ee&&this.delayNotifierSubscriptions.splice(ee,1),z.outerValue}tryDelay(z,ee){const ye=(0,Se.D)(this,z,ee);ye&&!ye.closed&&(this.destination.add(ye),this.delayNotifierSubscriptions.push(ye))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class Wn extends rr.y{constructor(z,ee){super(),this.source=z,this.subscriptionDelay=ee}_subscribe(z){this.subscriptionDelay.subscribe(new mn(z,this.source))}}class mn extends N.L{constructor(z,ee){super(),this.parent=z,this.source=ee,this.sourceSubscribed=!1}_next(z){this.subscribeToSource()}_error(z){this.unsubscribe(),this.parent.error(z)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function Pr(){return function(z){return z.lift(new Ps)}}class Ps{call(z,ee){return ee.subscribe(new sr(z))}}class sr extends N.L{constructor(z){super(z)}_next(z){z.observe(this.destination)}}function cn(ve,z){return ee=>ee.lift(new qn(ve,z))}class qn{constructor(z,ee){this.keySelector=z,this.flushes=ee}call(z,ee){return ee.subscribe(new ar(z,this.keySelector,this.flushes))}}class ar extends _.Ds{constructor(z,ee,ye){super(z),this.keySelector=ee,this.values=new Set,ye&&this.add((0,_.ft)(ye,new _.IY(this)))}notifyNext(){this.values.clear()}notifyError(z){this._error(z)}_next(z){this.keySelector?this._useKeySelector(z):this._finalizeNext(z,z)}_useKeySelector(z){let ee;const{destination:ye}=this;try{ee=this.keySelector(z)}catch(Je){return void ye.error(Je)}this._finalizeNext(ee,z)}_finalizeNext(z,ee){const{values:ye}=this;ye.has(z)||(ye.add(z),this.destination.next(ee))}}var br=m(5778);function Or(ve,z){return(0,br.x)((ee,ye)=>z?z(ee[ve],ye[ve]):ee[ve]===ye[ve])}var Sr=m(4231),Hr=m(2198),ko=m(4907),ho=m(2986);function Et(ve,z){if(ve<0)throw new Sr.W;const ee=arguments.length>=2;return ye=>ye.pipe((0,Hr.h)((Je,Ut)=>Ut===ve),(0,ho.q)(1),ee?(0,en.d)(z):(0,ko.T)(()=>new Sr.W))}var Hs=m(2334);function ri(ve,z){return ee=>ee.lift(new Yr(ve,z,ee))}class Yr{constructor(z,ee,ye){this.predicate=z,this.thisArg=ee,this.source=ye}call(z,ee){return ee.subscribe(new Zt(z,this.predicate,this.thisArg,this.source))}}class Zt extends N.L{constructor(z,ee,ye,Je){super(z),this.predicate=ee,this.thisArg=ye,this.source=Je,this.index=0,this.thisArg=ye||this}notifyComplete(z){this.destination.next(z),this.destination.complete()}_next(z){let ee=!1;try{ee=this.predicate.call(this.thisArg,z,this.index++,this.source)}catch(ye){return void this.destination.error(ye)}ee||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Pt(){return ve=>ve.lift(new Ht)}class Ht{call(z,ee){return ee.subscribe(new $t(z))}}class $t extends _.Ds{constructor(z){super(z),this.hasCompleted=!1,this.hasSubscription=!1}_next(z){this.hasSubscription||(this.hasSubscription=!0,this.add((0,_.ft)(z,new _.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var tn=m(4850);function Fn(ve,z){return z?ee=>ee.pipe(Fn((ye,Je)=>(0,sn.D)(ve(ye,Je)).pipe((0,tn.U)((Ut,gn)=>z(ye,Ut,Je,gn))))):ee=>ee.lift(new Wi(ve))}class Wi{constructor(z){this.project=z}call(z,ee){return ee.subscribe(new Kn(z,this.project))}}class Kn extends _.Ds{constructor(z,ee){super(z),this.project=ee,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(z){this.hasSubscription||this.tryNext(z)}tryNext(z){let ee;const ye=this.index++;try{ee=this.project(z,ye)}catch(Je){return void this.destination.error(Je)}this.hasSubscription=!0,this._innerSub(ee)}_innerSub(z){const ee=new _.IY(this),ye=this.destination;ye.add(ee);const Je=(0,_.ft)(z,ee);Je!==ee&&ye.add(Je)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyError(z){this.destination.error(z)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function gr(ve,z=Number.POSITIVE_INFINITY,ee){return z=(z||0)<1?Number.POSITIVE_INFINITY:z,ye=>ye.lift(new Ln(ve,z,ee))}class Ln{constructor(z,ee,ye){this.project=z,this.concurrent=ee,this.scheduler=ye}call(z,ee){return ee.subscribe(new mr(z,this.project,this.concurrent,this.scheduler))}}class mr extends _.Ds{constructor(z,ee,ye,Je){super(z),this.project=ee,this.concurrent=ye,this.scheduler=Je,this.index=0,this.active=0,this.hasCompleted=!1,ye<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(z){const{subscriber:ee,result:ye,value:Je,index:Ut}=z;ee.subscribeToProjection(ye,Je,Ut)}_next(z){const ee=this.destination;if(ee.closed)return void this._complete();const ye=this.index++;if(this.active<this.concurrent){ee.next(z);try{const{project:Je}=this,Ut=Je(z,ye);this.scheduler?this.destination.add(this.scheduler.schedule(mr.dispatch,0,{subscriber:this,result:Ut,value:z,index:ye})):this.subscribeToProjection(Ut,z,ye)}catch(Je){ee.error(Je)}}else this.buffer.push(z)}subscribeToProjection(z,ee,ye){this.active++,this.destination.add((0,_.ft)(z,new _.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this._next(z)}notifyComplete(){const z=this.buffer;this.active--,z&&z.length>0&&this._next(z.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Ma=m(537);function Bc(ve,z){if("function"!=typeof ve)throw new TypeError("predicate is not a function");return ee=>ee.lift(new Er(ve,ee,!1,z))}class Er{constructor(z,ee,ye,Je){this.predicate=z,this.source=ee,this.yieldIndex=ye,this.thisArg=Je}call(z,ee){return ee.subscribe(new il(z,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class il extends N.L{constructor(z,ee,ye,Je,Ut){super(z),this.predicate=ee,this.source=ye,this.yieldIndex=Je,this.thisArg=Ut,this.index=0}notifyComplete(z){const ee=this.destination;ee.next(z),ee.complete(),this.unsubscribe()}_next(z){const{predicate:ee,thisArg:ye}=this,Je=this.index++;try{ee.call(ye||this,z,Je,this.source)&&this.notifyComplete(this.yieldIndex?Je:z)}catch(Ut){this.destination.error(Ut)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Sd(ve,z){return ee=>ee.lift(new Er(ve,ee,!0,z))}var Ap=m(7224),Mi=m(4002);function ig(){return function(z){return z.lift(new Tp)}}class Tp{call(z,ee){return ee.subscribe(new wh(z))}}class wh extends N.L{_next(z){}}function Si(){return ve=>ve.lift(new Ch)}class Ch{call(z,ee){return ee.subscribe(new lc(z))}}class lc extends N.L{constructor(z){super(z)}notifyComplete(z){const ee=this.destination;ee.next(z),ee.complete()}_next(z){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Xt=m(8127),Vo=m(7604),lr=m(9312);function Qo(){return function(z){return z.lift(new Io)}}class Io{call(z,ee){return ee.subscribe(new cc(z))}}class cc extends N.L{constructor(z){super(z)}_next(z){this.destination.next(lr.P.createNext(z))}_error(z){const ee=this.destination;ee.next(lr.P.createError(z)),ee.complete()}_complete(){const z=this.destination;z.next(lr.P.createComplete()),z.complete()}}var Zo=m(8077);function Mh(ve){return(0,Zo.u)("function"==typeof ve?(ee,ye)=>ve(ee,ye)>0?ee:ye:(ee,ye)=>ee>ye?ee:ye)}var fu=m(6787);function gu(...ve){return z=>z.lift.call((0,fu.T)(z,...ve))}var da=m(9146),wn=m(1709);function Ti(ve,z,ee=Number.POSITIVE_INFINITY){return"function"==typeof z?(0,wn.zg)(()=>ve,z,ee):("number"==typeof z&&(ee=z),(0,wn.zg)(()=>ve,ee))}function to(ve,z,ee=Number.POSITIVE_INFINITY){return ye=>ye.lift(new ua(ve,z,ee))}class ua{constructor(z,ee,ye){this.accumulator=z,this.seed=ee,this.concurrent=ye}call(z,ee){return ee.subscribe(new rl(z,this.accumulator,this.seed,this.concurrent))}}class rl extends _.Ds{constructor(z,ee,ye,Je){super(z),this.accumulator=ee,this.acc=ye,this.concurrent=Je,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){if(this.active<this.concurrent){const ee=this.index++,ye=this.destination;let Je;try{const{accumulator:Ut}=this;Je=Ut(this.acc,z,ee)}catch(Ut){return ye.error(Ut)}this.active++,this._innerSub(Je)}else this.buffer.push(z)}_innerSub(z){const ee=new _.IY(this),ye=this.destination;ye.add(ee);const Je=(0,_.ft)(z,ee);Je!==ee&&ye.add(Je)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(z){const{destination:ee}=this;this.acc=z,this.hasValue=!0,ee.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function Ho(ve){return(0,Zo.u)("function"==typeof ve?(ee,ye)=>ve(ee,ye)<0?ee:ye:(ee,ye)=>ee<ye?ee:ye)}var Xr=m(2536),Nr=m(7770);function dc(...ve){return 1===ve.length&&(0,fn.k)(ve[0])&&(ve=ve[0]),z=>z.lift(new ki(ve))}class ki{constructor(z){this.nextSources=z}call(z,ee){return ee.subscribe(new Ed(z,this.nextSources))}}class Ed extends _.Ds{constructor(z,ee){super(z),this.destination=z,this.nextSources=ee}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(z){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const z=this.nextSources.shift();if(z){const ee=new _.IY(this),ye=this.destination;ye.add(ee);const Je=(0,_.ft)(z,ee);Je!==ee&&ye.add(Je)}else this.destination.complete()}}function Pa(){return ve=>ve.lift(new zc)}class zc{call(z,ee){return ee.subscribe(new uc(z))}}class uc extends N.L{constructor(z){super(z),this.hasPrev=!1}_next(z){let ee;this.hasPrev?ee=[this.prev,z]:this.hasPrev=!0,this.prev=z,ee&&this.destination.next(ee)}}var Bo=m(5884);function Uc(ve,z){return ee=>[(0,Hr.h)(ve,z)(ee),(0,Hr.h)((0,Bo.f)(ve,z))(ee)]}function Jo(...ve){const z=ve.length;if(0===z)throw new Error("list of properties cannot be empty.");return ee=>(0,tn.U)(function Oa(ve,z){return ye=>{let Je=ye;for(let Ut=0;Ut<z;Ut++){const gn=Je?.[ve[Ut]];if(void 0===gn)return;Je=gn}return Je}}(ve,z))(ee)}var Ro=m(8929);function kp(ve){return ve?(0,Xr.O)(()=>new Ro.xQ,ve):(0,Xr.O)(new Ro.xQ)}var Gr=m(591);function jc(ve){return z=>(0,Xr.O)(new Gr.X(ve))(z)}var Os=m(2185);function vu(){return ve=>(0,Xr.O)(new Os.c)(ve)}var Vc=m(839);function ol(ve,z,ee,ye){ee&&"function"!=typeof ee&&(ye=ee);const Je="function"==typeof ee?ee:void 0,Ut=new Vc.t(ve,z,ye);return gn=>(0,Xr.O)(()=>Ut,Je)(gn)}var hc=m(1946);function Go(...ve){return function(ee){return 1===ve.length&&(0,fn.k)(ve[0])&&(ve=ve[0]),ee.lift.call((0,hc.S3)(ee,...ve))}}var rg=m(8896);function Ss(ve=-1){return z=>0===ve?(0,rg.c)():z.lift(new ha(ve<0?-1:ve-1,z))}class ha{constructor(z,ee){this.count=z,this.source=ee}call(z,ee){return ee.subscribe(new yu(z,this.count,this.source))}}class yu extends N.L{constructor(z,ee,ye){super(z),this.count=ee,this.source=ye}complete(){if(!this.isStopped){const{source:z,count:ee}=this;if(0===ee)return super.complete();ee>-1&&(this.count=ee-1),z.subscribe(this._unsubscribeAndRecycle())}}}function Dd(ve){return z=>z.lift(new sl(ve))}class sl{constructor(z){this.notifier=z}call(z,ee){return ee.subscribe(new Gs(z,this.notifier,ee))}}class Gs extends _.Ds{constructor(z,ee,ye){super(z),this.notifier=ee,this.source=ye,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:z,retriesSubscription:ee}=this;z&&(z.unsubscribe(),this.notifications=void 0),ee&&(ee.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:z}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=z,this}subscribeToRetries(){let z;this.notifications=new Ro.xQ;try{const{notifier:ee}=this;z=ee(this.notifications)}catch{return super.complete()}this.retries=z,this.retriesSubscription=(0,_.ft)(z,new _.IY(this))}}function og(ve=-1){return z=>z.lift(new sg(ve,z))}class sg{constructor(z,ee){this.count=z,this.source=ee}call(z,ee){return ee.subscribe(new ag(z,this.count,this.source))}}class ag extends N.L{constructor(z,ee,ye){super(z),this.count=ee,this.source=ye}error(z){if(!this.isStopped){const{source:ee,count:ye}=this;if(0===ye)return super.error(z);ye>-1&&(this.count=ye-1),ee.subscribe(this._unsubscribeAndRecycle())}}}function Rl(ve){return z=>z.lift(new e0(ve,z))}class e0{constructor(z,ee){this.notifier=z,this.source=ee}call(z,ee){return ee.subscribe(new lg(z,this.notifier,this.source))}}class lg extends _.Ds{constructor(z,ee,ye){super(z),this.notifier=ee,this.source=ye}error(z){if(!this.isStopped){let ee=this.errors,ye=this.retries,Je=this.retriesSubscription;if(ye)this.errors=void 0,this.retriesSubscription=void 0;else{ee=new Ro.xQ;try{const{notifier:Ut}=this;ye=Ut(ee)}catch(Ut){return super.error(Ut)}Je=(0,_.ft)(ye,new _.IY(this))}this._unsubscribeAndRecycle(),this.errors=ee,this.retries=ye,this.retriesSubscription=Je,ee.next(z)}}_unsubscribe(){const{errors:z,retriesSubscription:ee}=this;z&&(z.unsubscribe(),this.errors=void 0),ee&&(ee.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:z}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=z,this.source.subscribe(this)}}var bu=m(4327);function cg(ve){return z=>z.lift(new Ip(ve))}class Ip{constructor(z){this.notifier=z}call(z,ee){const ye=new dg(z),Je=ee.subscribe(ye);return Je.add((0,_.ft)(this.notifier,new _.IY(ye))),Je}}class dg extends _.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(z){this.value=z,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Ph(ve,z=L.P){return ee=>ee.lift(new Hc(ve,z))}class Hc{constructor(z,ee){this.period=z,this.scheduler=ee}call(z,ee){return ee.subscribe(new ug(z,this.period,this.scheduler))}}class ug extends N.L{constructor(z,ee,ye){super(z),this.period=ee,this.scheduler=ye,this.hasValue=!1,this.add(ye.schedule(Rp,ee,{subscriber:this,period:ee}))}_next(z){this.lastValue=z,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Rp(ve){let{subscriber:z,period:ee}=ve;z.notifyNext(),this.schedule(ve,ee)}var hg=m(2014);function t0(ve,z){return ee=>ee.lift(new Np(ve,z))}class Np{constructor(z,ee){this.compareTo=z,this.comparator=ee}call(z,ee){return ee.subscribe(new Gc(z,this.compareTo,this.comparator))}}class Gc extends N.L{constructor(z,ee,ye){super(z),this.compareTo=ee,this.comparator=ye,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(ee.subscribe(new pg(z,this)))}_next(z){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(z),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:z,_b:ee,comparator:ye}=this;for(;z.length>0&&ee.length>0;){let Je=z.shift(),Ut=ee.shift(),gn=!1;try{gn=ye?ye(Je,Ut):Je===Ut}catch(Pi){this.destination.error(Pi)}gn||this.emit(!1)}}emit(z){const{destination:ee}=this;ee.next(z),ee.complete()}nextB(z){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(z),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class pg extends N.L{constructor(z,ee){super(z),this.parent=ee}_next(z){this.parent.nextB(z)}_error(z){this.parent.error(z),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var Fp=m(8117);function n0(ve,z,ee){let ye;return ye=ve&&"object"==typeof ve?ve:{bufferSize:ve,windowTime:z,refCount:!1,scheduler:ee},Je=>Je.lift(function pc({bufferSize:ve=Number.POSITIVE_INFINITY,windowTime:z=Number.POSITIVE_INFINITY,refCount:ee,scheduler:ye}){let Je,gn,Ut=0,Pi=!1,Dr=!1;return function(fo){let ll;Ut++,!Je||Pi?(Pi=!1,Je=new Vc.t(ve,z,ye),ll=Je.subscribe(this),gn=fo.subscribe({next(Ah){Je.next(Ah)},error(Ah){Pi=!0,Je.error(Ah)},complete(){Dr=!0,gn=void 0,Je.complete()}}),Dr&&(gn=void 0)):ll=Je.subscribe(this),this.add(()=>{Ut--,ll.unsubscribe(),ll=void 0,gn&&!Dr&&ee&&0===Ut&&(gn.unsubscribe(),gn=void 0,Je=void 0)})}}(ye))}var _u=m(4450);function P(ve){return z=>z.lift(new k(ve,z))}class k{constructor(z,ee){this.predicate=z,this.source=ee}call(z,ee){return ee.subscribe(new Z(z,this.predicate,this.source))}}class Z extends N.L{constructor(z,ee,ye){super(z),this.predicate=ee,this.source=ye,this.seenValue=!1,this.index=0}applySingleValue(z){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=z)}_next(z){const ee=this.index++;this.predicate?this.tryNext(z,ee):this.applySingleValue(z)}tryNext(z,ee){try{this.predicate(z,ee,this.source)&&this.applySingleValue(z)}catch(ye){this.destination.error(ye)}}_complete(){const z=this.destination;this.index>0?(z.next(this.seenValue?this.singleValue:void 0),z.complete()):z.error(new _u.K)}}var ne=m(1307);function ue(ve){return z=>z.lift(new he(ve))}class he{constructor(z){if(this._skipCount=z,this._skipCount<0)throw new Sr.W}call(z,ee){return ee.subscribe(0===this._skipCount?new N.L(z):new me(z,this._skipCount))}}class me extends N.L{constructor(z,ee){super(z),this._skipCount=ee,this._count=0,this._ring=new Array(ee)}_next(z){const ee=this._skipCount,ye=this._count++;if(ye<ee)this._ring[ye]=z;else{const Je=ye%ee,Ut=this._ring,gn=Ut[Je];Ut[Je]=z,this.destination.next(gn)}}}function je(ve){return z=>z.lift(new Fe(ve))}class Fe{constructor(z){this.notifier=z}call(z,ee){return ee.subscribe(new Qe(z,this.notifier))}}class Qe extends _.Ds{constructor(z,ee){super(z),this.hasValue=!1;const ye=new _.IY(this);this.add(ye),this.innerSubscription=ye;const Je=(0,_.ft)(ee,ye);Je!==ye&&(this.add(Je),this.innerSubscription=Je)}_next(z){this.hasValue&&super._next(z)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function xt(ve){return z=>z.lift(new kt(ve))}class kt{constructor(z){this.predicate=z}call(z,ee){return ee.subscribe(new st(z,this.predicate))}}class st extends N.L{constructor(z,ee){super(z),this.predicate=ee,this.skipping=!0,this.index=0}_next(z){const ee=this.destination;this.skipping&&this.tryCallPredicate(z),this.skipping||ee.next(z)}tryCallPredicate(z){try{const ee=this.predicate(z,this.index++);this.skipping=Boolean(ee)}catch(ee){this.destination.error(ee)}}}var Kt=m(1059),Zn=m(8139),oi=m(4241);class xi extends rr.y{constructor(z,ee=0,ye=Zn.e){super(),this.source=z,this.delayTime=ee,this.scheduler=ye,(!(0,oi.k)(ee)||ee<0)&&(this.delayTime=0),(!ye||"function"!=typeof ye.schedule)&&(this.scheduler=Zn.e)}static create(z,ee=0,ye=Zn.e){return new xi(z,ee,ye)}static dispatch(z){const{source:ee,subscriber:ye}=z;return this.add(ee.subscribe(ye))}_subscribe(z){return this.scheduler.schedule(xi.dispatch,this.delayTime,{source:this.source,subscriber:z})}}function No(ve,z=0){return function(ye){return ye.lift(new Wr(ve,z))}}class Wr{constructor(z,ee){this.scheduler=z,this.delay=ee}call(z,ee){return new xi(ee,this.delay,this.scheduler).subscribe(z)}}var Fr=m(7545),Sa=m(5379);function wi(){return(0,Fr.w)(Sa.y)}function fc(ve,z){return z?(0,Fr.w)(()=>ve,z):(0,Fr.w)(()=>ve)}var Fi=m(2821),no=m(7625),Nl=m(4290),di=m(2994);const Ws={leading:!0,trailing:!1};function xu(ve,z=Ws){return ee=>ee.lift(new La(ve,!!z.leading,!!z.trailing))}class La{constructor(z,ee,ye){this.durationSelector=z,this.leading=ee,this.trailing=ye}call(z,ee){return ee.subscribe(new Fl(z,this.durationSelector,this.leading,this.trailing))}}class Fl extends _.Ds{constructor(z,ee,ye,Je){super(z),this.destination=z,this.durationSelector=ee,this._leading=ye,this._trailing=Je,this._hasValue=!1}_next(z){this._hasValue=!0,this._sendValue=z,this._throttled||(this._leading?this.send():this.throttle(z))}send(){const{_hasValue:z,_sendValue:ee}=this;z&&(this.destination.next(ee),this.throttle(ee)),this._hasValue=!1,this._sendValue=void 0}throttle(z){const ee=this.tryDurationSelector(z);ee&&this.add(this._throttled=(0,_.ft)(ee,new _.IY(this)))}tryDurationSelector(z){try{return this.durationSelector(z)}catch(ee){return this.destination.error(ee),null}}throttlingDone(){const{_throttled:z,_trailing:ee}=this;z&&z.unsubscribe(),this._throttled=void 0,ee&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Ll(ve,z=L.P,ee=Ws){return ye=>ye.lift(new Es(ve,z,ee.leading,ee.trailing))}class Es{constructor(z,ee,ye,Je){this.duration=z,this.scheduler=ee,this.leading=ye,this.trailing=Je}call(z,ee){return ee.subscribe(new Oh(z,this.duration,this.scheduler,this.leading,this.trailing))}}class Oh extends N.L{constructor(z,ee,ye,Je,Ut){super(z),this.duration=ee,this.scheduler=ye,this.leading=Je,this.trailing=Ut,this._hasTrailingValue=!1,this._trailingValue=null}_next(z){this.throttled?this.trailing&&(this._trailingValue=z,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ba,this.duration,{subscriber:this})),this.leading?this.destination.next(z):this.trailing&&(this._trailingValue=z,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const z=this.throttled;z&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),z.unsubscribe(),this.remove(z),this.throttled=null)}}function Ba(ve){const{subscriber:z}=ve;z.clearThrottle()}var It=m(8514);function nr(ve=L.P){return z=>(0,It.P)(()=>z.pipe((0,hg.R)(({current:ee},ye)=>({value:ye,current:ve.now(),last:ee}),{current:ve.now(),value:void 0,last:void 0}),(0,tn.U)(({current:ee,last:ye,value:Je})=>new En(Je,ee-ye))))}class En{constructor(z,ee){this.value=z,this.interval=ee}}var kn=m(854),yi=m(2697);function Wc(ve,z,ee=L.P){return ye=>{let Je=(0,yi.J)(ve),Ut=Je?+ve-ee.now():Math.abs(ve);return ye.lift(new cs(Ut,Je,z,ee))}}class cs{constructor(z,ee,ye,Je){this.waitFor=z,this.absoluteTimeout=ee,this.withObservable=ye,this.scheduler=Je}call(z,ee){return ee.subscribe(new Mo(z,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Mo extends _.Ds{constructor(z,ee,ye,Je,Ut){super(z),this.absoluteTimeout=ee,this.waitFor=ye,this.withObservable=Je,this.scheduler=Ut,this.scheduleTimeout()}static dispatchTimeout(z){const{withObservable:ee}=z;z._unsubscribeAndRecycle(),z.add((0,_.ft)(ee,new _.IY(z)))}scheduleTimeout(){const{action:z}=this;z?this.action=z.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Mo.dispatchTimeout,this.waitFor,this))}_next(z){this.absoluteTimeout||this.scheduleTimeout(),super._next(z)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Sh=m(1737);function Eh(ve,z=L.P){return Wc(ve,(0,Sh._)(new kn.W),z)}function Lp(ve=L.P){return(0,tn.U)(z=>new qc(z,ve.now()))}class qc{constructor(z,ee){this.value=z,this.timestamp=ee}}var Ad=m(864);function po(ve){return function(ee){return ee.lift(new za(ve))}}class za{constructor(z){this.windowBoundaries=z}call(z,ee){const ye=new Yc(z),Je=ee.subscribe(ye);return Je.closed||ye.add((0,_.ft)(this.windowBoundaries,new _.IY(ye))),Je}}class Yc extends _.Ds{constructor(z){super(z),this.window=new Ro.xQ,z.next(this.window)}notifyNext(){this.openWindow()}notifyError(z){this._error(z)}notifyComplete(){this._complete()}_next(z){this.window.next(z)}_error(z){this.window.error(z),this.destination.error(z)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const z=this.window;z&&z.complete();const ee=this.destination,ye=this.window=new Ro.xQ;ee.next(ye)}}function al(ve,z=0){return function(ye){return ye.lift(new qs(ve,z))}}class qs{constructor(z,ee){this.windowSize=z,this.startWindowEvery=ee}call(z,ee){return ee.subscribe(new wu(z,this.windowSize,this.startWindowEvery))}}class wu extends N.L{constructor(z,ee,ye){super(z),this.destination=z,this.windowSize=ee,this.startWindowEvery=ye,this.windows=[new Ro.xQ],this.count=0,z.next(this.windows[0])}_next(z){const ee=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,ye=this.destination,Je=this.windowSize,Ut=this.windows,gn=Ut.length;for(let Dr=0;Dr<gn&&!this.closed;Dr++)Ut[Dr].next(z);const Pi=this.count-Je+1;if(Pi>=0&&Pi%ee==0&&!this.closed&&Ut.shift().complete(),++this.count%ee==0&&!this.closed){const Dr=new Ro.xQ;Ut.push(Dr),ye.next(Dr)}}_error(z){const ee=this.windows;if(ee)for(;ee.length>0&&!this.closed;)ee.shift().error(z);this.destination.error(z)}_complete(){const z=this.windows;if(z)for(;z.length>0&&!this.closed;)z.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function Bp(ve){let z=L.P,ee=null,ye=Number.POSITIVE_INFINITY;return(0,oe.K)(arguments[3])&&(z=arguments[3]),(0,oe.K)(arguments[2])?z=arguments[2]:(0,oi.k)(arguments[2])&&(ye=Number(arguments[2])),(0,oe.K)(arguments[1])?z=arguments[1]:(0,oi.k)(arguments[1])&&(ee=Number(arguments[1])),function(Ut){return Ut.lift(new Cu(ve,ee,ye,z))}}class Cu{constructor(z,ee,ye,Je){this.windowTimeSpan=z,this.windowCreationInterval=ee,this.maxWindowSize=ye,this.scheduler=Je}call(z,ee){return ee.subscribe(new Xc(z,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class Dh extends Ro.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(z){this._numberOfNextedValues++,super.next(z)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Xc extends N.L{constructor(z,ee,ye,Je,Ut){super(z),this.destination=z,this.windowTimeSpan=ee,this.windowCreationInterval=ye,this.maxWindowSize=Je,this.scheduler=Ut,this.windows=[];const gn=this.openWindow();if(null!==ye&&ye>=0){const Dr={windowTimeSpan:ee,windowCreationInterval:ye,subscriber:this,scheduler:Ut};this.add(Ut.schedule(kd,ee,{subscriber:this,window:gn,context:null})),this.add(Ut.schedule(Mu,ye,Dr))}else this.add(Ut.schedule(Td,ee,{subscriber:this,window:gn,windowTimeSpan:ee}))}_next(z){const ee=this.windows,ye=ee.length;for(let Je=0;Je<ye;Je++){const Ut=ee[Je];Ut.closed||(Ut.next(z),Ut.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(Ut))}}_error(z){const ee=this.windows;for(;ee.length>0;)ee.shift().error(z);this.destination.error(z)}_complete(){const z=this.windows;for(;z.length>0;){const ee=z.shift();ee.closed||ee.complete()}this.destination.complete()}openWindow(){const z=new Dh;return this.windows.push(z),this.destination.next(z),z}closeWindow(z){z.complete();const ee=this.windows;ee.splice(ee.indexOf(z),1)}}function Td(ve){const{subscriber:z,windowTimeSpan:ee,window:ye}=ve;ye&&z.closeWindow(ye),ve.window=z.openWindow(),this.schedule(ve,ee)}function Mu(ve){const{windowTimeSpan:z,subscriber:ee,scheduler:ye,windowCreationInterval:Je}=ve,Ut=ee.openWindow();let Pi={action:this,subscription:null};Pi.subscription=ye.schedule(kd,z,{subscriber:ee,window:Ut,context:Pi}),this.add(Pi.subscription),this.schedule(ve,Je)}function kd(ve){const{subscriber:z,window:ee,context:ye}=ve;ye&&ye.action&&ye.subscription&&ye.action.remove(ye.subscription),z.closeWindow(ee)}function De(ve,z){return ee=>ee.lift(new Ke(ve,z))}class Ke{constructor(z,ee){this.openings=z,this.closingSelector=ee}call(z,ee){return ee.subscribe(new dt(z,this.openings,this.closingSelector))}}class dt extends at.L{constructor(z,ee,ye){super(z),this.openings=ee,this.closingSelector=ye,this.contexts=[],this.add(this.openSubscription=(0,Se.D)(this,ee,ee))}_next(z){const{contexts:ee}=this;if(ee){const ye=ee.length;for(let Je=0;Je<ye;Je++)ee[Je].window.next(z)}}_error(z){const{contexts:ee}=this;if(this.contexts=null,ee){const ye=ee.length;let Je=-1;for(;++Je<ye;){const Ut=ee[Je];Ut.window.error(z),Ut.subscription.unsubscribe()}}super._error(z)}_complete(){const{contexts:z}=this;if(this.contexts=null,z){const ee=z.length;let ye=-1;for(;++ye<ee;){const Je=z[ye];Je.window.complete(),Je.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:z}=this;if(this.contexts=null,z){const ee=z.length;let ye=-1;for(;++ye<ee;){const Je=z[ye];Je.window.unsubscribe(),Je.subscription.unsubscribe()}}}notifyNext(z,ee,ye,Je,Ut){if(z===this.openings){let gn;try{const{closingSelector:ll}=this;gn=ll(ee)}catch(ll){return this.error(ll)}const Pi=new Ro.xQ,Dr=new j.w,ds={window:Pi,subscription:Dr};this.contexts.push(ds);const fo=(0,Se.D)(this,gn,ds);fo.closed?this.closeWindow(this.contexts.length-1):(fo.context=ds,Dr.add(fo)),this.destination.next(Pi)}else this.closeWindow(this.contexts.indexOf(z))}notifyError(z){this.error(z)}notifyComplete(z){z!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(z.context))}closeWindow(z){if(-1===z)return;const{contexts:ee}=this,ye=ee[z],{window:Je,subscription:Ut}=ye;ee.splice(z,1),Je.complete(),Ut.unsubscribe()}}function bt(ve){return function(ee){return ee.lift(new Tt(ve))}}class Tt{constructor(z){this.closingSelector=z}call(z,ee){return ee.subscribe(new an(z,this.closingSelector))}}class an extends at.L{constructor(z,ee){super(z),this.destination=z,this.closingSelector=ee,this.openWindow()}notifyNext(z,ee,ye,Je,Ut){this.openWindow(Ut)}notifyError(z){this._error(z)}notifyComplete(z){this.openWindow(z)}_next(z){this.window.next(z)}_error(z){this.window.error(z),this.destination.error(z),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(z=null){z&&(this.remove(z),z.unsubscribe());const ee=this.window;ee&&ee.complete();const ye=this.window=new Ro.xQ;let Je;this.destination.next(ye);try{const{closingSelector:Ut}=this;Je=Ut()}catch(Ut){return this.destination.error(Ut),void this.window.error(Ut)}this.add(this.closingNotification=(0,Se.D)(this,Je))}}var bn=m(7168),Bn=m(1746);function Cn(...ve){return function(ee){return ee.lift.call((0,Bn.$R)(ee,...ve))}}function qi(ve){return z=>z.lift(new Bn.mx(ve))}},811:(p,g,m)=>{"use strict";m(2181)},5226:function(p){p.exports=function(){"use strict";function g(W,J,de){if("function"==typeof W?W===J:W.has(J))return arguments.length<3?J:de;throw new TypeError("Private element is not present on this object")}function _(W,J){return W.get(g(W,J))}function C(W,J,de){(function m(W,J){if(J.has(W))throw new TypeError("Cannot initialize the same private elements twice on an object")})(W,J),J.set(W,de)}const L={},X=W=>new Promise(J=>{if(!W)return J();const de=window.scrollX,Te=window.scrollY;L.restoreFocusTimeout=setTimeout(()=>{L.previousActiveElement instanceof HTMLElement?(L.previousActiveElement.focus(),L.previousActiveElement=null):document.body&&document.body.focus(),J()},100),window.scrollTo(de,Te)}),T="swal2-",R=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((W,J)=>(W[J]=T+J,W),{}),F=["success","warning","info","question","error"].reduce((W,J)=>(W[J]=T+J,W),{}),G="SweetAlert2:",I=W=>W.charAt(0).toUpperCase()+W.slice(1),Q=W=>{console.warn(`${G} ${"object"==typeof W?W.join(" "):W}`)},oe=W=>{console.error(`${G} ${W}`)},le=[],be=W=>{le.includes(W)||(le.push(W),Q(W))},Ae=function(W){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;be(`"${W}" is deprecated and will be removed in the next major release.${J?` Use "${J}" instead.`:""}`)},$e=W=>"function"==typeof W?W():W,Be=W=>W&&"function"==typeof W.toPromise,qe=W=>Be(W)?W.toPromise():Promise.resolve(W),pt=W=>W&&Promise.resolve(W)===W,j=()=>document.body.querySelector(`.${R.container}`),Se=W=>{const J=j();return J?J.querySelector(W):null},at=W=>Se(`.${W}`),it=()=>at(R.popup),yt=()=>at(R.icon),Jt=()=>at(R.title),ut=()=>at(R["html-container"]),Ne=()=>at(R.image),ct=()=>at(R["progress-steps"]),Yt=()=>at(R["validation-message"]),yn=()=>Se(`.${R.actions} .${R.confirm}`),fn=()=>Se(`.${R.actions} .${R.cancel}`),sn=()=>Se(`.${R.actions} .${R.deny}`),Nt=()=>Se(`.${R.loader}`),Pn=()=>at(R.actions),On=()=>at(R.footer),zn=()=>at(R["timer-progress-bar"]),Ct=()=>at(R.close),Sn=()=>{const W=it();if(!W)return[];const J=W.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),de=Array.from(J).sort((Mn,zi)=>{const _r=parseInt(Mn.getAttribute("tabindex")||"0"),Po=parseInt(zi.getAttribute("tabindex")||"0");return _r>Po?1:_r<Po?-1:0}),Te=W.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),vt=Array.from(Te).filter(Mn=>"-1"!==Mn.getAttribute("tabindex"));return[...new Set(de.concat(vt))].filter(Mn=>sr(Mn))},$n=()=>Ki(document.body,R.shown)&&!Ki(document.body,R["toast-shown"])&&!Ki(document.body,R["no-backdrop"]),Gt=()=>{const W=it();return!!W&&Ki(W,R.toast)},ni=(W,J)=>{if(W.textContent="",J){const Te=(new DOMParser).parseFromString(J,"text/html"),vt=Te.querySelector("head");vt&&Array.from(vt.childNodes).forEach(zi=>{W.appendChild(zi)});const Mn=Te.querySelector("body");Mn&&Array.from(Mn.childNodes).forEach(zi=>{zi instanceof HTMLVideoElement||zi instanceof HTMLAudioElement?W.appendChild(zi.cloneNode(!0)):W.appendChild(zi)})}},Ki=(W,J)=>{if(!J)return!1;const de=J.split(/\s+/);for(let Te=0;Te<de.length;Te++)if(!W.classList.contains(de[Te]))return!1;return!0},Qi=(W,J,de)=>{if(((W,J)=>{Array.from(W.classList).forEach(de=>{!Object.values(R).includes(de)&&!Object.values(F).includes(de)&&!Object.values(J.showClass||{}).includes(de)&&W.classList.remove(de)})})(W,J),!J.customClass)return;const Te=J.customClass[de];if(Te){if("string"!=typeof Te&&!Te.forEach)return void Q(`Invalid type of customClass.${de}! Expected string or iterable object, got "${typeof Te}"`);Qn(W,Te)}},Rr=(W,J)=>{if(!J)return null;switch(J){case"select":case"textarea":case"file":return W.querySelector(`.${R.popup} > .${R[J]}`);case"checkbox":return W.querySelector(`.${R.popup} > .${R.checkbox} input`);case"radio":return W.querySelector(`.${R.popup} > .${R.radio} input:checked`)||W.querySelector(`.${R.popup} > .${R.radio} input:first-child`);case"range":return W.querySelector(`.${R.popup} > .${R.range} input`);default:return W.querySelector(`.${R.popup} > .${R.input}`)}},fr=W=>{if(W.focus(),"file"!==W.type){const J=W.value;W.value="",W.value=J}},en=(W,J,de)=>{!W||!J||("string"==typeof J&&(J=J.split(/\s+/).filter(Boolean)),J.forEach(Te=>{Array.isArray(W)?W.forEach(vt=>{de?vt.classList.add(Te):vt.classList.remove(Te)}):de?W.classList.add(Te):W.classList.remove(Te)}))},Qn=(W,J)=>{en(W,J,!0)},rr=(W,J)=>{en(W,J,!1)},Ri=(W,J)=>{const de=Array.from(W.children);for(let Te=0;Te<de.length;Te++){const vt=de[Te];if(vt instanceof HTMLElement&&Ki(vt,J))return vt}},Ni=(W,J,de)=>{de===`${parseInt(de)}`&&(de=parseInt(de)),de||0===parseInt(de)?W.style.setProperty(J,"number"==typeof de?`${de}px`:de):W.style.removeProperty(J)},Zi=function(W){W&&(W.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Wn=W=>{W&&(W.style.display="none")},mn=function(W){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";W&&new MutationObserver(()=>{Ps(W,W.innerHTML,J)}).observe(W,{childList:!0,subtree:!0})},Pr=(W,J,de,Te)=>{const vt=W.querySelector(J);vt&&vt.style.setProperty(de,Te)},Ps=function(W,J){J?Zi(W,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Wn(W)},sr=W=>!(!W||!(W.offsetWidth||W.offsetHeight||W.getClientRects().length)),qn=W=>W.scrollHeight>W.clientHeight,ar=W=>{const J=window.getComputedStyle(W),de=parseFloat(J.getPropertyValue("animation-duration")||"0"),Te=parseFloat(J.getPropertyValue("transition-duration")||"0");return de>0||Te>0},br=function(W){let J=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const de=zn();de&&sr(de)&&(J&&(de.style.transition="none",de.style.width="100%"),setTimeout(()=>{de.style.transition=`width ${W/1e3}s linear`,de.style.width="0%"},10))},Hr=`\n <div aria-labelledby="${R.title}" aria-describedby="${R["html-container"]}" class="${R.popup}" tabindex="-1">\n   <button type="button" class="${R.close}"></button>\n   <ul class="${R["progress-steps"]}"></ul>\n   <div class="${R.icon}"></div>\n   <img class="${R.image}" />\n   <h2 class="${R.title}" id="${R.title}"></h2>\n   <div class="${R["html-container"]}" id="${R["html-container"]}"></div>\n   <input class="${R.input}" id="${R.input}" />\n   <input type="file" class="${R.file}" />\n   <div class="${R.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${R.select}" id="${R.select}"></select>\n   <div class="${R.radio}"></div>\n   <label class="${R.checkbox}">\n     <input type="checkbox" id="${R.checkbox}" />\n     <span class="${R.label}"></span>\n   </label>\n   <textarea class="${R.textarea}" id="${R.textarea}"></textarea>\n   <div class="${R["validation-message"]}" id="${R["validation-message"]}"></div>\n   <div class="${R.actions}">\n     <div class="${R.loader}"></div>\n     <button type="button" class="${R.confirm}"></button>\n     <button type="button" class="${R.deny}"></button>\n     <button type="button" class="${R.cancel}"></button>\n   </div>\n   <div class="${R.footer}"></div>\n   <div class="${R["timer-progress-bar-container"]}">\n     <div class="${R["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),ho=()=>{L.currentInstance.resetValidationMessage()},Zt=W=>{const J=(()=>{const W=j();return!!W&&(W.remove(),rr([document.documentElement,document.body],[R["no-backdrop"],R["toast-shown"],R["has-column"]]),!0)})();if(typeof window>"u"||typeof document>"u")return void oe("SweetAlert2 requires document to initialize");const de=document.createElement("div");de.className=R.container,J&&Qn(de,R["no-transition"]),ni(de,Hr);const Te=(W=>"string"==typeof W?document.querySelector(W):W)(W.target);Te.appendChild(de),(W=>{const J=it();J.setAttribute("role",W.toast?"alert":"dialog"),J.setAttribute("aria-live",W.toast?"polite":"assertive"),W.toast||J.setAttribute("aria-modal","true")})(W),(W=>{"rtl"===window.getComputedStyle(W).direction&&Qn(j(),R.rtl)})(Te),(()=>{const W=it(),J=Ri(W,R.input),de=Ri(W,R.file),Te=W.querySelector(`.${R.range} input`),vt=W.querySelector(`.${R.range} output`),Mn=Ri(W,R.select),zi=W.querySelector(`.${R.checkbox} input`),_r=Ri(W,R.textarea);J.oninput=ho,de.onchange=ho,Mn.onchange=ho,zi.onchange=ho,_r.oninput=ho,Te.oninput=()=>{ho(),vt.value=Te.value},Te.onchange=()=>{ho(),vt.value=Te.value}})()},Pt=(W,J)=>{W instanceof HTMLElement?J.appendChild(W):"object"==typeof W?Ht(W,J):W&&ni(J,W)},Ht=(W,J)=>{W.jquery?$t(J,W):ni(J,W.toString())},$t=(W,J)=>{if(W.textContent="",0 in J)for(let de=0;de in J;de++)W.appendChild(J[de].cloneNode(!0));else W.appendChild(J.cloneNode(!0))},tn=(W,J)=>{const de=Pn(),Te=Nt();!de||!Te||(J.showConfirmButton||J.showDenyButton||J.showCancelButton?Zi(de):Wn(de),Qi(de,J,"actions"),function Fn(W,J,de){const Te=yn(),vt=sn(),Mn=fn();!Te||!vt||!Mn||(Kn(Te,"confirm",de),Kn(vt,"deny",de),Kn(Mn,"cancel",de),function Wi(W,J,de,Te){Te.buttonsStyling?(Qn([W,J,de],R.styled),Te.confirmButtonColor&&(W.style.backgroundColor=Te.confirmButtonColor,Qn(W,R["default-outline"])),Te.denyButtonColor&&(J.style.backgroundColor=Te.denyButtonColor,Qn(J,R["default-outline"])),Te.cancelButtonColor&&(de.style.backgroundColor=Te.cancelButtonColor,Qn(de,R["default-outline"]))):rr([W,J,de],R.styled)}(Te,vt,Mn,de),de.reverseButtons&&(de.toast?(W.insertBefore(Mn,Te),W.insertBefore(vt,Te)):(W.insertBefore(Mn,J),W.insertBefore(vt,J),W.insertBefore(Te,J))))}(de,Te,J),ni(Te,J.loaderHtml||""),Qi(Te,J,"loader"))};function Kn(W,J,de){const Te=I(J);Ps(W,de[`show${Te}Button`],"inline-block"),ni(W,de[`${J}ButtonText`]||""),W.setAttribute("aria-label",de[`${J}ButtonAriaLabel`]||""),W.className=R[J],Qi(W,de,`${J}Button`)}const Ln=(W,J)=>{const de=j();de&&(function mr(W,J){"string"==typeof J?W.style.background=J:J||Qn([document.documentElement,document.body],R["no-backdrop"])}(de,J.backdrop),function Ma(W,J){J&&(J in R?Qn(W,R[J]):(Q('The "position" parameter is not valid, defaulting to "center"'),Qn(W,R.center)))}(de,J.position),function Bc(W,J){J&&Qn(W,R[`grow-${J}`])}(de,J.grow),Qi(de,J,"container"))};var Er={innerParams:new WeakMap,domCache:new WeakMap};const il=["input","file","range","select","radio","checkbox","textarea"],Ap=W=>{if(!W.input)return;if(!Xt[W.input])return void oe(`Unexpected type of input! Expected ${Object.keys(Xt).join(" | ")}, got "${W.input}"`);const J=Ch(W.input);if(!J)return;const de=Xt[W.input](J,W);Zi(J),W.inputAutoFocus&&setTimeout(()=>{fr(de)})},ig=(W,J)=>{const de=it();if(!de)return;const Te=Rr(de,W);if(Te){(W=>{for(let J=0;J<W.attributes.length;J++){const de=W.attributes[J].name;["id","type","value","style"].includes(de)||W.removeAttribute(de)}})(Te);for(const vt in J)Te.setAttribute(vt,J[vt])}},Tp=W=>{if(!W.input)return;const J=Ch(W.input);J&&Qi(J,W,"input")},wh=(W,J)=>{!W.placeholder&&J.inputPlaceholder&&(W.placeholder=J.inputPlaceholder)},Si=(W,J,de)=>{if(de.inputLabel){const Te=document.createElement("label"),vt=R["input-label"];Te.setAttribute("for",W.id),Te.className=vt,"object"==typeof de.customClass&&Qn(Te,de.customClass.inputLabel),Te.innerText=de.inputLabel,J.insertAdjacentElement("beforebegin",Te)}},Ch=W=>{const J=it();if(J)return Ri(J,R[W]||R.input)},lc=(W,J)=>{["string","number"].includes(typeof J)?W.value=`${J}`:pt(J)||Q(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof J}"`)},Xt={};Xt.text=Xt.email=Xt.password=Xt.number=Xt.tel=Xt.url=Xt.search=Xt.date=Xt["datetime-local"]=Xt.time=Xt.week=Xt.month=(W,J)=>(lc(W,J.inputValue),Si(W,W,J),wh(W,J),W.type=J.input,W),Xt.file=(W,J)=>(Si(W,W,J),wh(W,J),W),Xt.range=(W,J)=>{const de=W.querySelector("input"),Te=W.querySelector("output");return lc(de,J.inputValue),de.type=J.input,lc(Te,J.inputValue),Si(de,W,J),W},Xt.select=(W,J)=>{if(W.textContent="",J.inputPlaceholder){const de=document.createElement("option");ni(de,J.inputPlaceholder),de.value="",de.disabled=!0,de.selected=!0,W.appendChild(de)}return Si(W,W,J),W},Xt.radio=W=>(W.textContent="",W),Xt.checkbox=(W,J)=>{const de=Rr(it(),"checkbox");de.value="1",de.checked=Boolean(J.inputValue);const Te=W.querySelector("span");return ni(Te,J.inputPlaceholder||J.inputLabel),de},Xt.textarea=(W,J)=>{lc(W,J.inputValue),wh(W,J),Si(W,W,J);return setTimeout(()=>{if("MutationObserver"in window){const Te=parseInt(window.getComputedStyle(it()).width);new MutationObserver(()=>{if(!document.body.contains(W))return;const Mn=W.offsetWidth+(Te=>parseInt(window.getComputedStyle(Te).marginLeft)+parseInt(window.getComputedStyle(Te).marginRight))(W);Mn>Te?it().style.width=`${Mn}px`:Ni(it(),"width",J.width)}).observe(W,{attributes:!0,attributeFilter:["style"]})}}),W};const Vo=(W,J)=>{const de=ut();de&&(mn(de),Qi(de,J,"htmlContainer"),J.html?(Pt(J.html,de),Zi(de,"block")):J.text?(de.textContent=J.text,Zi(de,"block")):Wn(de),((W,J)=>{const de=it();if(!de)return;const Te=Er.innerParams.get(W),vt=!Te||J.input!==Te.input;il.forEach(Mn=>{const zi=Ri(de,R[Mn]);zi&&(ig(Mn,J.inputAttributes),zi.className=R[Mn],vt&&Wn(zi))}),J.input&&(vt&&Ap(J),Tp(J))})(W,J))},Io=(W,J)=>{for(const[de,Te]of Object.entries(F))J.icon!==de&&rr(W,Te);Qn(W,J.icon&&F[J.icon]),gu(W,J),cc(),Qi(W,J,"icon")},cc=()=>{const W=it();if(!W)return;const J=window.getComputedStyle(W).getPropertyValue("background-color"),de=W.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Te=0;Te<de.length;Te++)de[Te].style.backgroundColor=J},fu=(W,J)=>{if(!J.icon&&!J.iconHtml)return;let de=W.innerHTML,Te="";J.iconHtml?Te=da(J.iconHtml):"success"===J.icon?(Te='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',de=de.replace(/ style=".*?"/g,"")):"error"===J.icon?Te='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':J.icon&&(Te=da({question:"?",warning:"!",info:"i"}[J.icon])),de.trim()!==Te.trim()&&ni(W,Te)},gu=(W,J)=>{if(J.iconColor){W.style.color=J.iconColor,W.style.borderColor=J.iconColor;for(const de of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Pr(W,de,"background-color",J.iconColor);Pr(W,".swal2-success-ring","border-color",J.iconColor)}},da=W=>`<div class="${R["icon-content"]}">${W}</div>`,to=(W,J)=>{const de=J.showClass||{};W.className=`${R.popup} ${sr(W)?de.popup:""}`,J.toast?(Qn([document.documentElement,document.body],R["toast-shown"]),Qn(W,R.toast)):Qn(W,R.modal),Qi(W,J,"popup"),"string"==typeof J.customClass&&Qn(W,J.customClass),J.icon&&Qn(W,R[`icon-${J.icon}`])},rl=W=>{const J=document.createElement("li");return Qn(J,R["progress-step"]),ni(J,W),J},Ho=W=>{const J=document.createElement("li");return Qn(J,R["progress-step-line"]),W.progressStepsDistance&&Ni(J,"width",W.progressStepsDistance),J},Nr=(W,J)=>{((W,J)=>{const de=j(),Te=it();if(de&&Te){if(J.toast){Ni(de,"width",J.width),Te.style.width="100%";const vt=Nt();vt&&Te.insertBefore(vt,yt())}else Ni(Te,"width",J.width);Ni(Te,"padding",J.padding),J.color&&(Te.style.color=J.color),J.background&&(Te.style.background=J.background),Wn(Yt()),to(Te,J)}})(0,J),Ln(0,J),((W,J)=>{const de=ct();if(!de)return;const{progressSteps:Te,currentProgressStep:vt}=J;Te&&0!==Te.length&&void 0!==vt?(Zi(de),de.textContent="",vt>=Te.length&&Q("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Te.forEach((Mn,zi)=>{const _r=rl(Mn);if(de.appendChild(_r),zi===vt&&Qn(_r,R["active-progress-step"]),zi!==Te.length-1){const Po=Ho(J);de.appendChild(Po)}})):Wn(de)})(0,J),((W,J)=>{const de=Er.innerParams.get(W),Te=yt();if(Te){if(de&&J.icon===de.icon)return fu(Te,J),void Io(Te,J);if(!J.icon&&!J.iconHtml)return void Wn(Te);if(J.icon&&-1===Object.keys(F).indexOf(J.icon))return oe(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${J.icon}"`),void Wn(Te);Zi(Te),fu(Te,J),Io(Te,J),Qn(Te,J.showClass&&J.showClass.icon)}})(W,J),((W,J)=>{const de=Ne();if(de){if(!J.imageUrl)return void Wn(de);Zi(de,""),de.setAttribute("src",J.imageUrl),de.setAttribute("alt",J.imageAlt||""),Ni(de,"width",J.imageWidth),Ni(de,"height",J.imageHeight),de.className=R.image,Qi(de,J,"image")}})(0,J),((W,J)=>{const de=Jt();de&&(mn(de),Ps(de,J.title||J.titleText,"block"),J.title&&Pt(J.title,de),J.titleText&&(de.innerText=J.titleText),Qi(de,J,"title"))})(0,J),((W,J)=>{const de=Ct();de&&(ni(de,J.closeButtonHtml||""),Qi(de,J,"closeButton"),Ps(de,J.showCloseButton),de.setAttribute("aria-label",J.closeButtonAriaLabel||""))})(0,J),Vo(W,J),tn(0,J),((W,J)=>{const de=On();de&&(mn(de),Ps(de,J.footer,"block"),J.footer&&Pt(J.footer,de),Qi(de,J,"footer"))})(0,J);const de=it();"function"==typeof J.didRender&&de&&J.didRender(de),L.eventEmitter.emit("didRender",de)},mu=()=>{var W;return null===(W=yn())||void 0===W?void 0:W.click()},Pa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),zc=W=>{W.keydownTarget&&W.keydownHandlerAdded&&(W.keydownTarget.removeEventListener("keydown",W.keydownHandler,{capture:W.keydownListenerCapture}),W.keydownHandlerAdded=!1)},Bo=(W,J)=>{var de;const Te=Sn();if(Te.length)return(W+=J)===Te.length?W=0:-1===W&&(W=Te.length-1),void Te[W].focus();null===(de=it())||void 0===de||de.focus()},Uc=["ArrowRight","ArrowDown"],Jo=["ArrowLeft","ArrowUp"],Oa=(W,J,de)=>{W&&(J.isComposing||229===J.keyCode||(W.stopKeydownPropagation&&J.stopPropagation(),"Enter"===J.key?Ro(J,W):"Tab"===J.key?kp(J):[...Uc,...Jo].includes(J.key)?Gr(J.key):"Escape"===J.key&&jc(J,W,de)))},Ro=(W,J)=>{if(!$e(J.allowEnterKey))return;const de=Rr(it(),J.input);if(W.target&&de&&W.target instanceof HTMLElement&&W.target.outerHTML===de.outerHTML){if(["textarea","file"].includes(J.input))return;mu(),W.preventDefault()}},kp=W=>{const J=W.target,de=Sn();let Te=-1;for(let vt=0;vt<de.length;vt++)if(J===de[vt]){Te=vt;break}Bo(Te,W.shiftKey?-1:1),W.stopPropagation(),W.preventDefault()},Gr=W=>{const J=Pn(),de=yn(),Te=sn(),vt=fn();if(!(J&&de&&Te&&vt))return;if(document.activeElement instanceof HTMLElement&&![de,Te,vt].includes(document.activeElement))return;const zi=Uc.includes(W)?"nextElementSibling":"previousElementSibling";let _r=document.activeElement;if(_r){for(let Po=0;Po<J.children.length;Po++){if(_r=_r[zi],!_r)return;if(_r instanceof HTMLButtonElement&&sr(_r))break}_r instanceof HTMLButtonElement&&_r.focus()}},jc=(W,J,de)=>{$e(J.allowEscapeKey)&&(W.preventDefault(),de(Pa.esc))};var Os={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Vc=()=>{Array.from(document.body.children).forEach(J=>{J.hasAttribute("data-previous-aria-hidden")?(J.setAttribute("aria-hidden",J.getAttribute("data-previous-aria-hidden")||""),J.removeAttribute("data-previous-aria-hidden")):J.removeAttribute("aria-hidden")})},ol=typeof window<"u"&&!!window.GestureEvent,Go=()=>{const W=j();if(!W)return;let J;W.ontouchstart=de=>{J=rg(de)},W.ontouchmove=de=>{J&&(de.preventDefault(),de.stopPropagation())}},rg=W=>{const J=W.target,de=j(),Te=ut();return!(!de||!Te||Ss(W)||ha(W)||J!==de&&(qn(de)||!(J instanceof HTMLElement)||"INPUT"===J.tagName||"TEXTAREA"===J.tagName||qn(Te)&&Te.contains(J)))},Ss=W=>W.touches&&W.touches.length&&"stylus"===W.touches[0].touchType,ha=W=>W.touches&&W.touches.length>1,yu=()=>{if(Ki(document.body,R.iosfix)){const W=parseInt(document.body.style.top,10);rr(document.body,R.iosfix),document.body.style.top="",document.body.scrollTop=-1*W}};let sl=null;const Gs=W=>{null===sl&&(document.body.scrollHeight>window.innerHeight||"scroll"===W)&&(sl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${sl+(()=>{const W=document.createElement("div");W.className=R["scrollbar-measure"],document.body.appendChild(W);const J=W.getBoundingClientRect().width-W.clientWidth;return document.body.removeChild(W),J})()}px`)},og=()=>{null!==sl&&(document.body.style.paddingRight=`${sl}px`,sl=null)};function sg(W,J,de,Te){Gt()?Ph(W,Te):(X(de).then(()=>Ph(W,Te)),zc(L)),ol?(J.setAttribute("style","display:none !important"),J.removeAttribute("class"),J.innerHTML=""):J.remove(),$n()&&(og(),yu(),Vc()),function ag(){rr([document.documentElement,document.body],[R.shown,R["height-auto"],R["no-backdrop"],R["toast-shown"]])}()}function Rl(W){W=cg(W);const J=Os.swalPromiseResolve.get(this),de=e0(this);this.isAwaitingPromise?W.isDismissed||(bu(this),J(W)):de&&J(W)}const e0=W=>{const J=it();if(!J)return!1;const de=Er.innerParams.get(W);if(!de||Ki(J,de.hideClass.popup))return!1;rr(J,de.showClass.popup),Qn(J,de.hideClass.popup);const Te=j();return rr(Te,de.showClass.backdrop),Qn(Te,de.hideClass.backdrop),Ip(W,J,de),!0};function lg(W){const J=Os.swalPromiseReject.get(this);bu(this),J&&J(W)}const bu=W=>{W.isAwaitingPromise&&(delete W.isAwaitingPromise,Er.innerParams.get(W)||W._destroy())},cg=W=>typeof W>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},W),Ip=(W,J,de)=>{var Te;const vt=j(),Mn=ar(J);"function"==typeof de.willClose&&de.willClose(J),null===(Te=L.eventEmitter)||void 0===Te||Te.emit("willClose",J),Mn?dg(W,J,vt,de.returnFocus,de.didClose):sg(W,vt,de.returnFocus,de.didClose)},dg=(W,J,de,Te,vt)=>{L.swalCloseEventFinishedCallback=sg.bind(null,W,de,Te,vt);const Mn=function(zi){var _r;zi.target===J&&(null===(_r=L.swalCloseEventFinishedCallback)||void 0===_r||_r.call(L),delete L.swalCloseEventFinishedCallback,J.removeEventListener("animationend",Mn),J.removeEventListener("transitionend",Mn))};J.addEventListener("animationend",Mn),J.addEventListener("transitionend",Mn)},Ph=(W,J)=>{setTimeout(()=>{var de;"function"==typeof J&&J.bind(W.params)(),null===(de=L.eventEmitter)||void 0===de||de.emit("didClose"),W._destroy&&W._destroy()})},Hc=W=>{let J=it();if(J||new Pu,J=it(),!J)return;const de=Nt();Gt()?Wn(yt()):ug(J,W),Zi(de),J.setAttribute("data-loading","true"),J.setAttribute("aria-busy","true"),J.focus()},ug=(W,J)=>{const de=Pn(),Te=Nt();!de||!Te||(!J&&sr(yn())&&(J=yn()),Zi(de),J&&(Wn(J),Te.setAttribute("data-button-to-replace",J.className),de.insertBefore(Te,J)),Qn([W,de],R.loading))},t0=W=>W.checked?1:0,Np=W=>W.checked?W.value:null,Gc=W=>W.files&&W.files.length?null!==W.getAttribute("multiple")?W.files:W.files[0]:null,pg=(W,J)=>{const de=it();if(!de)return;const Te=vt=>{"select"===J.input?function n0(W,J,de){const Te=Ri(W,R.select);if(!Te)return;const vt=(Mn,zi,_r)=>{const Po=document.createElement("option");Po.value=_r,ni(Po,zi),Po.selected=P(_r,de.inputValue),Mn.appendChild(Po)};J.forEach(Mn=>{const zi=Mn[0],_r=Mn[1];if(Array.isArray(_r)){const Po=document.createElement("optgroup");Po.label=zi,Po.disabled=!1,Te.appendChild(Po),_r.forEach(Th=>vt(Po,Th[1],Th[0]))}else vt(Te,_r,zi)}),Te.focus()}(de,_u(vt),J):"radio"===J.input&&function pc(W,J,de){const Te=Ri(W,R.radio);if(!Te)return;J.forEach(Mn=>{const zi=Mn[0],_r=Mn[1],Po=document.createElement("input"),Th=document.createElement("label");Po.type="radio",Po.name=R.radio,Po.value=zi,P(zi,de.inputValue)&&(Po.checked=!0);const iy=document.createElement("span");ni(iy,_r),iy.className=R.label,Th.appendChild(Po),Th.appendChild(iy),Te.appendChild(Th)});const vt=Te.querySelectorAll("input");vt.length&&vt[0].focus()}(de,_u(vt),J)};Be(J.inputOptions)||pt(J.inputOptions)?(Hc(yn()),qe(J.inputOptions).then(vt=>{W.hideLoading(),Te(vt)})):"object"==typeof J.inputOptions?Te(J.inputOptions):oe("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof J.inputOptions)},Fp=(W,J)=>{const de=W.getInput();de&&(Wn(de),qe(J.inputValue).then(Te=>{de.value="number"===J.input?`${parseFloat(Te)||0}`:`${Te}`,Zi(de),de.focus(),W.hideLoading()}).catch(Te=>{oe(`Error in inputValue promise: ${Te}`),de.value="",Zi(de),de.focus(),W.hideLoading()}))};const _u=W=>{const J=[];return W instanceof Map?W.forEach((de,Te)=>{let vt=de;"object"==typeof vt&&(vt=_u(vt)),J.push([Te,vt])}):Object.keys(W).forEach(de=>{let Te=W[de];"object"==typeof Te&&(Te=_u(Te)),J.push([de,Te])}),J},P=(W,J)=>!!J&&J.toString()===W.toString(),ue=(W,J)=>{const de=Er.innerParams.get(W);if(!de.input)return void oe(`The "input" parameter is needed to be set when using returnInputValueOn${I(J)}`);const Te=W.getInput(),vt=((W,J)=>{const de=W.getInput();if(!de)return null;switch(J.input){case"checkbox":return t0(de);case"radio":return Np(de);case"file":return Gc(de);default:return J.inputAutoTrim?de.value.trim():de.value}})(W,de);de.inputValidator?he(W,vt,J):Te&&!Te.checkValidity()?(W.enableButtons(),W.showValidationMessage(de.validationMessage||Te.validationMessage)):"deny"===J?me(W,vt):Qe(W,vt)},he=(W,J,de)=>{const Te=Er.innerParams.get(W);W.disableInput(),Promise.resolve().then(()=>qe(Te.inputValidator(J,Te.validationMessage))).then(Mn=>{W.enableButtons(),W.enableInput(),Mn?W.showValidationMessage(Mn):"deny"===de?me(W,J):Qe(W,J)})},me=(W,J)=>{const de=Er.innerParams.get(W||void 0);de.showLoaderOnDeny&&Hc(sn()),de.preDeny?(W.isAwaitingPromise=!0,Promise.resolve().then(()=>qe(de.preDeny(J,de.validationMessage))).then(vt=>{!1===vt?(W.hideLoading(),bu(W)):W.close({isDenied:!0,value:typeof vt>"u"?J:vt})}).catch(vt=>Fe(W||void 0,vt))):W.close({isDenied:!0,value:J})},je=(W,J)=>{W.close({isConfirmed:!0,value:J})},Fe=(W,J)=>{W.rejectPromise(J)},Qe=(W,J)=>{const de=Er.innerParams.get(W||void 0);de.showLoaderOnConfirm&&Hc(),de.preConfirm?(W.resetValidationMessage(),W.isAwaitingPromise=!0,Promise.resolve().then(()=>qe(de.preConfirm(J,de.validationMessage))).then(vt=>{sr(Yt())||!1===vt?(W.hideLoading(),bu(W)):je(W,typeof vt>"u"?J:vt)}).catch(vt=>Fe(W||void 0,vt))):je(W,J)};function xt(){const W=Er.innerParams.get(this);if(!W)return;const J=Er.domCache.get(this);Wn(J.loader),Gt()?W.icon&&Zi(yt()):kt(J),rr([J.popup,J.actions],R.loading),J.popup.removeAttribute("aria-busy"),J.popup.removeAttribute("data-loading"),J.confirmButton.disabled=!1,J.denyButton.disabled=!1,J.cancelButton.disabled=!1}const kt=W=>{const J=W.popup.getElementsByClassName(W.loader.getAttribute("data-button-to-replace"));J.length?Zi(J[0],"inline-block"):!sr(yn())&&!sr(sn())&&!sr(fn())&&Wn(W.actions)};function st(){const W=Er.innerParams.get(this),J=Er.domCache.get(this);return J?Rr(J.popup,W.input):null}function Kt(W,J,de){const Te=Er.domCache.get(W);J.forEach(vt=>{Te[vt].disabled=de})}function Zn(W,J){const de=it();if(de&&W)if("radio"===W.type){const Te=de.querySelectorAll(`[name="${R.radio}"]`);for(let vt=0;vt<Te.length;vt++)Te[vt].disabled=J}else W.disabled=J}function oi(){Kt(this,["confirmButton","denyButton","cancelButton"],!1)}function xi(){Kt(this,["confirmButton","denyButton","cancelButton"],!0)}function No(){Zn(this.getInput(),!1)}function Wr(){Zn(this.getInput(),!0)}function Fr(W){const J=Er.domCache.get(this),de=Er.innerParams.get(this);ni(J.validationMessage,W),J.validationMessage.className=R["validation-message"],de.customClass&&de.customClass.validationMessage&&Qn(J.validationMessage,de.customClass.validationMessage),Zi(J.validationMessage);const Te=this.getInput();Te&&(Te.setAttribute("aria-invalid","true"),Te.setAttribute("aria-describedby",R["validation-message"]),fr(Te),Qn(Te,R.inputerror))}function Sa(){const W=Er.domCache.get(this);W.validationMessage&&Wn(W.validationMessage);const J=this.getInput();J&&(J.removeAttribute("aria-invalid"),J.removeAttribute("aria-describedby"),rr(J,R.inputerror))}const wi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},fc=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Fi={allowEnterKey:void 0},no=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Nl=W=>Object.prototype.hasOwnProperty.call(wi,W),di=W=>-1!==fc.indexOf(W),Ws=W=>Fi[W],xu=W=>{Nl(W)||Q(`Unknown parameter "${W}"`)},La=W=>{no.includes(W)&&Q(`The parameter "${W}" is incompatible with toasts`)},Fl=W=>{const J=Ws(W);J&&Ae(W,J)};function Es(W){const J=it(),de=Er.innerParams.get(this);if(!J||Ki(J,de.hideClass.popup))return void Q("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Te=Oh(W),vt=Object.assign({},de,Te);Nr(this,vt),Er.innerParams.set(this,vt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,W),writable:!1,enumerable:!0}})}const Oh=W=>{const J={};return Object.keys(W).forEach(de=>{di(de)?J[de]=W[de]:Q(`Invalid parameter to update: ${de}`)}),J};function Ba(){const W=Er.domCache.get(this),J=Er.innerParams.get(this);J?(W.popup&&L.swalCloseEventFinishedCallback&&(L.swalCloseEventFinishedCallback(),delete L.swalCloseEventFinishedCallback),"function"==typeof J.didDestroy&&J.didDestroy(),L.eventEmitter.emit("didDestroy"),It(this)):nr(this)}const It=W=>{nr(W),delete W.params,delete L.keydownHandler,delete L.keydownTarget,delete L.currentInstance},nr=W=>{W.isAwaitingPromise?(En(Er,W),W.isAwaitingPromise=!0):(En(Os,W),En(Er,W),delete W.isAwaitingPromise,delete W.disableButtons,delete W.enableButtons,delete W.getInput,delete W.disableInput,delete W.enableInput,delete W.hideLoading,delete W.disableLoading,delete W.showValidationMessage,delete W.resetValidationMessage,delete W.close,delete W.closePopup,delete W.closeModal,delete W.closeToast,delete W.rejectPromise,delete W.update,delete W._destroy)},En=(W,J)=>{for(const de in W)W[de].delete(J)};var kn=Object.freeze({__proto__:null,_destroy:Ba,close:Rl,closeModal:Rl,closePopup:Rl,closeToast:Rl,disableButtons:xi,disableInput:Wr,disableLoading:xt,enableButtons:oi,enableInput:No,getInput:st,handleAwaitingPromise:bu,hideLoading:xt,rejectPromise:lg,resetValidationMessage:Sa,showValidationMessage:Fr,update:Es});const Wc=(W,J,de)=>{J.popup.onclick=()=>{W&&(cs(W)||W.timer||W.input)||de(Pa.close)}},cs=W=>!!(W.showConfirmButton||W.showDenyButton||W.showCancelButton||W.showCloseButton);let Mo=!1;const Sh=W=>{W.popup.onmousedown=()=>{W.container.onmouseup=function(J){W.container.onmouseup=()=>{},J.target===W.container&&(Mo=!0)}}},Eh=W=>{W.container.onmousedown=J=>{J.target===W.container&&J.preventDefault(),W.popup.onmouseup=function(de){W.popup.onmouseup=()=>{},(de.target===W.popup||de.target instanceof HTMLElement&&W.popup.contains(de.target))&&(Mo=!0)}}},Lp=(W,J,de)=>{J.container.onclick=Te=>{Mo?Mo=!1:Te.target===J.container&&$e(W.allowOutsideClick)&&de(Pa.backdrop)}},Ad=W=>W instanceof Element||(W=>"object"==typeof W&&W.jquery)(W);const qs=()=>{if(L.timeout)return(()=>{const W=zn();if(!W)return;const J=parseInt(window.getComputedStyle(W).width);W.style.removeProperty("transition"),W.style.width="100%";const de=parseInt(window.getComputedStyle(W).width);W.style.width=J/de*100+"%"})(),L.timeout.stop()},wu=()=>{if(L.timeout){const W=L.timeout.start();return br(W),W}};let Xc=!1;const Td={};const kd=W=>{for(let J=W.target;J&&J!==document;J=J.parentNode)for(const de in Td){const Te=J.getAttribute(de);if(Te)return void Td[de].fire({template:Te})}};L.eventEmitter=new class De{constructor(){this.events={}}_getHandlersByEventName(J){return typeof this.events[J]>"u"&&(this.events[J]=[]),this.events[J]}on(J,de){const Te=this._getHandlersByEventName(J);Te.includes(de)||Te.push(de)}once(J,de){var Te=this;const vt=function(){Te.removeListener(J,vt);for(var Mn=arguments.length,zi=new Array(Mn),_r=0;_r<Mn;_r++)zi[_r]=arguments[_r];de.apply(Te,zi)};this.on(J,vt)}emit(J){for(var de=arguments.length,Te=new Array(de>1?de-1:0),vt=1;vt<de;vt++)Te[vt-1]=arguments[vt];this._getHandlersByEventName(J).forEach(Mn=>{try{Mn.apply(this,Te)}catch(zi){console.error(zi)}})}removeListener(J,de){const Te=this._getHandlersByEventName(J),vt=Te.indexOf(de);vt>-1&&Te.splice(vt,1)}removeAllListeners(J){void 0!==this.events[J]&&(this.events[J].length=0)}reset(){this.events={}}};var Tt=Object.freeze({__proto__:null,argsToParams:W=>{const J={};return"object"!=typeof W[0]||Ad(W[0])?["title","html","icon"].forEach((de,Te)=>{const vt=W[Te];"string"==typeof vt||Ad(vt)?J[de]=vt:void 0!==vt&&oe(`Unexpected type of ${de}! Expected "string" or "Element", got ${typeof vt}`)}):Object.assign(J,W[0]),J},bindClickHandler:function Mu(){Td[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xc||(document.body.addEventListener("click",kd),Xc=!0)},clickCancel:()=>{var W;return null===(W=fn())||void 0===W?void 0:W.click()},clickConfirm:mu,clickDeny:()=>{var W;return null===(W=sn())||void 0===W?void 0:W.click()},enableLoading:Hc,fire:function za(){for(var W=arguments.length,J=new Array(W),de=0;de<W;de++)J[de]=arguments[de];return new this(...J)},getActions:Pn,getCancelButton:fn,getCloseButton:Ct,getConfirmButton:yn,getContainer:j,getDenyButton:sn,getFocusableElements:Sn,getFooter:On,getHtmlContainer:ut,getIcon:yt,getIconContent:()=>at(R["icon-content"]),getImage:Ne,getInputLabel:()=>at(R["input-label"]),getLoader:Nt,getPopup:it,getProgressSteps:ct,getTimerLeft:()=>L.timeout&&L.timeout.getTimerLeft(),getTimerProgressBar:zn,getTitle:Jt,getValidationMessage:Yt,increaseTimer:W=>{if(L.timeout){const J=L.timeout.increase(W);return br(J,!0),J}},isDeprecatedParameter:Ws,isLoading:()=>{const W=it();return!!W&&W.hasAttribute("data-loading")},isTimerRunning:()=>!(!L.timeout||!L.timeout.isRunning()),isUpdatableParameter:di,isValidParameter:Nl,isVisible:()=>sr(it()),mixin:function Yc(W){return class J extends(this){_main(Te,vt){return super._main(Te,Object.assign({},W,vt))}}},off:(W,J)=>{W?J?L.eventEmitter.removeListener(W,J):L.eventEmitter.removeAllListeners(W):L.eventEmitter.reset()},on:(W,J)=>{L.eventEmitter.on(W,J)},once:(W,J)=>{L.eventEmitter.once(W,J)},resumeTimer:wu,showLoading:Hc,stopTimer:qs,toggleTimer:()=>{const W=L.timeout;return W&&(W.running?qs():wu())}});class an{constructor(J,de){this.callback=J,this.remaining=de,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(J){const de=this.running;return de&&this.stop(),this.remaining+=J,de&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const bn=["swal-title","swal-html","swal-footer"],Cn=W=>{const J={};return Array.from(W.querySelectorAll("swal-param")).forEach(Te=>{gn(Te,["name","value"]);const vt=Te.getAttribute("name"),Mn=Te.getAttribute("value");!vt||!Mn||(J[vt]="boolean"==typeof wi[vt]?"false"!==Mn:"object"==typeof wi[vt]?JSON.parse(Mn):Mn)}),J},qi=W=>{const J={};return Array.from(W.querySelectorAll("swal-function-param")).forEach(Te=>{const vt=Te.getAttribute("name"),Mn=Te.getAttribute("value");!vt||!Mn||(J[vt]=new Function(`return ${Mn}`)())}),J},ve=W=>{const J={};return Array.from(W.querySelectorAll("swal-button")).forEach(Te=>{gn(Te,["type","color","aria-label"]);const vt=Te.getAttribute("type");!vt||!["confirm","cancel","deny"].includes(vt)||(J[`${vt}ButtonText`]=Te.innerHTML,J[`show${I(vt)}Button`]=!0,Te.hasAttribute("color")&&(J[`${vt}ButtonColor`]=Te.getAttribute("color")),Te.hasAttribute("aria-label")&&(J[`${vt}ButtonAriaLabel`]=Te.getAttribute("aria-label")))}),J},z=W=>{const J={},de=W.querySelector("swal-image");return de&&(gn(de,["src","width","height","alt"]),de.hasAttribute("src")&&(J.imageUrl=de.getAttribute("src")||void 0),de.hasAttribute("width")&&(J.imageWidth=de.getAttribute("width")||void 0),de.hasAttribute("height")&&(J.imageHeight=de.getAttribute("height")||void 0),de.hasAttribute("alt")&&(J.imageAlt=de.getAttribute("alt")||void 0)),J},ee=W=>{const J={},de=W.querySelector("swal-icon");return de&&(gn(de,["type","color"]),de.hasAttribute("type")&&(J.icon=de.getAttribute("type")),de.hasAttribute("color")&&(J.iconColor=de.getAttribute("color")),J.iconHtml=de.innerHTML),J},ye=W=>{const J={},de=W.querySelector("swal-input");de&&(gn(de,["type","label","placeholder","value"]),J.input=de.getAttribute("type")||"text",de.hasAttribute("label")&&(J.inputLabel=de.getAttribute("label")),de.hasAttribute("placeholder")&&(J.inputPlaceholder=de.getAttribute("placeholder")),de.hasAttribute("value")&&(J.inputValue=de.getAttribute("value")));const Te=Array.from(W.querySelectorAll("swal-input-option"));return Te.length&&(J.inputOptions={},Te.forEach(vt=>{gn(vt,["value"]);const Mn=vt.getAttribute("value");Mn&&(J.inputOptions[Mn]=vt.innerHTML)})),J},Je=(W,J)=>{const de={};for(const Te in J){const vt=J[Te],Mn=W.querySelector(vt);Mn&&(gn(Mn,[]),de[vt.replace(/^swal-/,"")]=Mn.innerHTML.trim())}return de},Ut=W=>{const J=bn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(W.children).forEach(de=>{const Te=de.tagName.toLowerCase();J.includes(Te)||Q(`Unrecognized element <${Te}>`)})},gn=(W,J)=>{Array.from(W.attributes).forEach(de=>{-1===J.indexOf(de.name)&&Q([`Unrecognized attribute "${de.name}" on <${W.tagName.toLowerCase()}>.`,J.length?`Allowed attributes are: ${J.join(", ")}`:"To set the value, use HTML within the element."])})},Dr=W=>{const J=j(),de=it();"function"==typeof W.willOpen&&W.willOpen(de),L.eventEmitter.emit("willOpen",de);const vt=window.getComputedStyle(document.body).overflowY;Ah(J,de,W),setTimeout(()=>{fo(J,de)},10),$n()&&(ll(J,W.scrollbarPadding,vt),(()=>{const W=j();Array.from(document.body.children).forEach(de=>{de.contains(W)||(de.hasAttribute("aria-hidden")&&de.setAttribute("data-previous-aria-hidden",de.getAttribute("aria-hidden")||""),de.setAttribute("aria-hidden","true"))})})()),!Gt()&&!L.previousActiveElement&&(L.previousActiveElement=document.activeElement),"function"==typeof W.didOpen&&setTimeout(()=>W.didOpen(de)),L.eventEmitter.emit("didOpen",de),rr(J,R["no-transition"])},ds=W=>{const J=it();if(W.target!==J)return;const de=j();J.removeEventListener("animationend",ds),J.removeEventListener("transitionend",ds),de.style.overflowY="auto"},fo=(W,J)=>{ar(J)?(W.style.overflowY="hidden",J.addEventListener("animationend",ds),J.addEventListener("transitionend",ds)):W.style.overflowY="auto"},ll=(W,J,de)=>{(()=>{if(ol&&!Ki(document.body,R.iosfix)){const W=document.body.scrollTop;document.body.style.top=-1*W+"px",Qn(document.body,R.iosfix),Go()}})(),J&&"hidden"!==de&&Gs(de),setTimeout(()=>{W.scrollTop=0})},Ah=(W,J,de)=>{Qn(W,de.showClass.backdrop),de.animation?(J.style.setProperty("opacity","0","important"),Zi(J,"grid"),setTimeout(()=>{Qn(J,de.showClass.popup),J.style.removeProperty("opacity")},10)):Zi(J,"grid"),Qn([document.documentElement,document.body],R.shown),de.heightAuto&&de.backdrop&&!de.toast&&Qn([document.documentElement,document.body],R["height-auto"])};var ey={email:(W,J)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(W)?Promise.resolve():Promise.resolve(J||"Invalid email address"),url:(W,J)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(W)?Promise.resolve():Promise.resolve(J||"Invalid URL")};function fg(W){(function A2(W){W.inputValidator||("email"===W.input&&(W.inputValidator=ey.email),"url"===W.input&&(W.inputValidator=ey.url))})(W),W.showLoaderOnConfirm&&!W.preConfirm&&Q("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function zp(W){(!W.target||"string"==typeof W.target&&!document.querySelector(W.target)||"string"!=typeof W.target&&!W.target.appendChild)&&(Q('Target parameter is not valid, defaulting to "body"'),W.target="body")}(W),"string"==typeof W.title&&(W.title=W.title.split("\n").join("<br />")),Zt(W)}let $c;var ty=new WeakMap;class Fo{constructor(){if(C(this,ty,void 0),typeof window>"u")return;$c=this;for(var J=arguments.length,de=new Array(J),Te=0;Te<J;Te++)de[Te]=arguments[Te];const vt=Object.freeze(this.constructor.argsToParams(de));this.params=vt,this.isAwaitingPromise=!1,function E(W,J,de){return W.set(g(W,J),de),de}(ty,this,this._main($c.params))}_main(J){let de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((W=>{!1===W.backdrop&&W.allowOutsideClick&&Q('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const J in W)xu(J),W.toast&&La(J),Fl(J)})(Object.assign({},de,J)),L.currentInstance){const Mn=Os.swalPromiseResolve.get(L.currentInstance),{isAwaitingPromise:zi}=L.currentInstance;L.currentInstance._destroy(),zi||Mn({isDismissed:!0}),$n()&&Vc()}L.currentInstance=$c;const Te=T2(J,de);fg(Te),Object.freeze(Te),L.timeout&&(L.timeout.stop(),delete L.timeout),clearTimeout(L.restoreFocusTimeout);const vt=k2($c);return Nr($c,Te),Er.innerParams.set($c,Te),U4($c,vt,Te)}then(J){return _(ty,this).then(J)}finally(J){return _(ty,this).finally(J)}}const U4=(W,J,de)=>new Promise((Te,vt)=>{const Mn=zi=>{W.close({isDismissed:!0,dismiss:zi})};Os.swalPromiseResolve.set(W,Te),Os.swalPromiseReject.set(W,vt),J.confirmButton.onclick=()=>{(W=>{const J=Er.innerParams.get(W);W.disableButtons(),J.input?ue(W,"confirm"):Qe(W,!0)})(W)},J.denyButton.onclick=()=>{(W=>{const J=Er.innerParams.get(W);W.disableButtons(),J.returnInputValueOnDeny?ue(W,"deny"):me(W,!1)})(W)},J.cancelButton.onclick=()=>{((W,J)=>{W.disableButtons(),J(Pa.cancel)})(W,Mn)},J.closeButton.onclick=()=>{Mn(Pa.close)},((W,J,de)=>{W.toast?Wc(W,J,de):(Sh(J),Eh(J),Lp(W,J,de))})(de,J,Mn),((W,J,de)=>{zc(W),J.toast||(W.keydownHandler=Te=>Oa(J,Te,de),W.keydownTarget=J.keydownListenerCapture?window:it(),W.keydownListenerCapture=J.keydownListenerCapture,W.keydownTarget.addEventListener("keydown",W.keydownHandler,{capture:W.keydownListenerCapture}),W.keydownHandlerAdded=!0)})(L,de,Mn),((W,J)=>{"select"===J.input||"radio"===J.input?pg(W,J):["text","email","number","tel","textarea"].some(de=>de===J.input)&&(Be(J.inputValue)||pt(J.inputValue))&&(Hc(yn()),Fp(W,J))})(W,de),Dr(de),j4(L,de,Mn),V4(J,de),setTimeout(()=>{J.container.scrollTop=0})}),T2=(W,J)=>{const de=(W=>{const J="string"==typeof W.template?document.querySelector(W.template):W.template;if(!J)return{};const de=J.content;return Ut(de),Object.assign(Cn(de),qi(de),ve(de),z(de),ee(de),ye(de),Je(de,bn))})(W),Te=Object.assign({},wi,J,de,W);return Te.showClass=Object.assign({},wi.showClass,Te.showClass),Te.hideClass=Object.assign({},wi.hideClass,Te.hideClass),!1===Te.animation&&(Te.showClass={backdrop:"swal2-noanimation"},Te.hideClass={}),Te},k2=W=>{const J={popup:it(),container:j(),actions:Pn(),confirmButton:yn(),denyButton:sn(),cancelButton:fn(),loader:Nt(),closeButton:Ct(),validationMessage:Yt(),progressSteps:ct()};return Er.domCache.set(W,J),J},j4=(W,J,de)=>{const Te=zn();Wn(Te),J.timer&&(W.timeout=new an(()=>{de("timer"),delete W.timeout},J.timer),J.timerProgressBar&&(Zi(Te),Qi(Te,J,"timerProgressBar"),setTimeout(()=>{W.timeout&&W.timeout.running&&br(J.timer)})))},V4=(W,J)=>{if(!J.toast){if(!$e(J.allowEnterKey))return Ae("allowEnterKey"),void ax();ny(W)||sx(W,J)||Bo(-1,1)}},ny=W=>{const J=Array.from(W.popup.querySelectorAll("[autofocus]"));for(const de of J)if(de instanceof HTMLElement&&sr(de))return de.focus(),!0;return!1},sx=(W,J)=>J.focusDeny&&sr(W.denyButton)?(W.denyButton.focus(),!0):J.focusCancel&&sr(W.cancelButton)?(W.cancelButton.focus(),!0):!(!J.focusConfirm||!sr(W.confirmButton)||(W.confirmButton.focus(),0)),ax=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const W=new Date,J=localStorage.getItem("swal-initiation");J?(W.getTime()-Date.parse(J))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const de=document.createElement("audio");de.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",de.loop=!0,document.body.appendChild(de),setTimeout(()=>{de.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${W}`)}Fo.prototype.disableButtons=xi,Fo.prototype.enableButtons=oi,Fo.prototype.getInput=st,Fo.prototype.disableInput=Wr,Fo.prototype.enableInput=No,Fo.prototype.hideLoading=xt,Fo.prototype.disableLoading=xt,Fo.prototype.showValidationMessage=Fr,Fo.prototype.resetValidationMessage=Sa,Fo.prototype.close=Rl,Fo.prototype.closePopup=Rl,Fo.prototype.closeModal=Rl,Fo.prototype.closeToast=Rl,Fo.prototype.rejectPromise=lg,Fo.prototype.update=Es,Fo.prototype._destroy=Ba,Object.assign(Fo,Tt),Object.keys(kn).forEach(W=>{Fo[W]=function(){return $c&&$c[W]?$c[W](...arguments):null}}),Fo.DismissReason=Pa,Fo.version="11.14.5";const Pu=Fo;return Pu.default=Pu,Pu}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(g,m){var _=g.createElement("style");if(g.getElementsByTagName("head")[0].appendChild(_),_.styleSheet)_.styleSheet.disabled||(_.styleSheet.cssText=m);else try{_.innerHTML=m}catch{_.innerText=m}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4942:function(module,exports,__webpack_require__){var g;typeof navigator<"u"&&(g=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(p){_useWebWorker=!!p},getWebWorker=function(){return _useWebWorker},setLocationHref=function(p){locationHref=p},getLocationHref=function(){return locationHref};function createTag(p){return document.createElement(p)}function extendPrototype(p,g){var m,_,C=p.length;for(m=0;m<C;m+=1)for(var E in _=p[m].prototype)Object.prototype.hasOwnProperty.call(_,E)&&(g.prototype[E]=_[E])}function getDescriptor(p,g){return Object.getOwnPropertyDescriptor(p,g)}function createProxyFunction(p){function g(){}return g.prototype=p,g}var audioControllerFactory=function(){function p(g){this.audios=[],this.audioFactory=g,this._volume=1,this._isMuted=!1}return p.prototype={addAudio:function(g){this.audios.push(g)},pause:function(){var g,m=this.audios.length;for(g=0;g<m;g+=1)this.audios[g].pause()},resume:function(){var g,m=this.audios.length;for(g=0;g<m;g+=1)this.audios[g].resume()},setRate:function(g){var m,_=this.audios.length;for(m=0;m<_;m+=1)this.audios[m].setRate(g)},createAudio:function(g){return this.audioFactory?this.audioFactory(g):window.Howl?new window.Howl({src:[g]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(g){this.audioFactory=g},setVolume:function(g){this._volume=g,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var g,m=this.audios.length;for(g=0;g<m;g+=1)this.audios[g].volume(this._volume*(this._isMuted?0:1))}},function(){return new p}}(),createTypedArray=function(){function p(g,m){var _,C=0,E=[];switch(g){case"int16":case"uint8c":_=1;break;default:_=1.1}for(C=0;C<m;C+=1)E.push(_);return E}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(g,m){return"float32"===g?new Float32Array(m):"int16"===g?new Int16Array(m):"uint8c"===g?new Uint8ClampedArray(m):p(g,m)}:p}();function createSizedArray(p){return Array.apply(null,{length:p})}function _typeof$6(p){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}(function(){var p,g=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],m=g.length;for(p=0;p<m;p+=1)BMMath[g[p]]=Math[g[p]]})(),BMMath.random=Math.random,BMMath.abs=function(p){if("object"===_typeof$6(p)&&p.length){var g,m=createSizedArray(p.length),_=p.length;for(g=0;g<_;g+=1)m[g]=Math.abs(p[g]);return m}return Math.abs(p)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(p){_shouldRoundValues=!!p}function bmRnd(p){return _shouldRoundValues?Math.round(p):p}function styleDiv(p){p.style.position="absolute",p.style.top=0,p.style.left=0,p.style.display="block",p.style.transformOrigin="0 0",p.style.webkitTransformOrigin="0 0",p.style.backfaceVisibility="visible",p.style.webkitBackfaceVisibility="visible",p.style.transformStyle="preserve-3d",p.style.webkitTransformStyle="preserve-3d",p.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(p,g,m,_){this.type=p,this.currentTime=g,this.totalTime=m,this.direction=_<0?-1:1}function BMCompleteEvent(p,g){this.type=p,this.direction=g<0?-1:1}function BMCompleteLoopEvent(p,g,m,_){this.type=p,this.currentLoop=m,this.totalLoops=g,this.direction=_<0?-1:1}function BMSegmentStartEvent(p,g,m){this.type=p,this.firstFrame=g,this.totalFrames=m}function BMDestroyEvent(p,g){this.type=p,this.target=g}function BMRenderFrameErrorEvent(p,g){this.type="renderFrameError",this.nativeError=p,this.currentTime=g}function BMConfigErrorEvent(p){this.type="configError",this.nativeError=p}function BMAnimationConfigErrorEvent(p,g){this.type=p,this.nativeError=g}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(p,g,m){var _,C,E,H,L,U,X,T;switch(U=m*(1-g),X=m*(1-(L=6*p-(H=Math.floor(6*p)))*g),T=m*(1-(1-L)*g),H%6){case 0:_=m,C=T,E=U;break;case 1:_=X,C=m,E=U;break;case 2:_=U,C=m,E=T;break;case 3:_=U,C=X,E=m;break;case 4:_=T,C=U,E=m;break;case 5:_=m,C=U,E=X}return[_,C,E]}function RGBtoHSV(p,g,m){var _,C=Math.max(p,g,m),E=Math.min(p,g,m),H=C-E,L=0===C?0:H/C,U=C/255;switch(C){case E:_=0;break;case p:_=g-m+H*(g<m?6:0),_/=6*H;break;case g:_=m-p+2*H,_/=6*H;break;case m:_=p-g+4*H,_/=6*H}return[_,L,U]}function addSaturationToRGB(p,g){var m=RGBtoHSV(255*p[0],255*p[1],255*p[2]);return m[1]+=g,m[1]>1?m[1]=1:m[1]<=0&&(m[1]=0),HSVtoRGB(m[0],m[1],m[2])}function addBrightnessToRGB(p,g){var m=RGBtoHSV(255*p[0],255*p[1],255*p[2]);return m[2]+=g,m[2]>1?m[2]=1:m[2]<0&&(m[2]=0),HSVtoRGB(m[0],m[1],m[2])}function addHueToRGB(p,g){var m=RGBtoHSV(255*p[0],255*p[1],255*p[2]);return m[0]+=g/360,m[0]>1?m[0]-=1:m[0]<0&&(m[0]+=1),HSVtoRGB(m[0],m[1],m[2])}var rgbToHex=function(){var p,g,m=[];for(p=0;p<256;p+=1)g=p.toString(16),m[p]=1===g.length?"0"+g:g;return function(_,C,E){return _<0&&(_=0),C<0&&(C=0),E<0&&(E=0),"#"+m[_]+m[C]+m[E]}}(),setSubframeEnabled=function(p){subframeEnabled=!!p},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(p){expressionsPlugin=p},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(p){defaultCurveSegments=p},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(p){idPrefix$1=p},getIdPrefix=function(){return idPrefix$1};function createNS(p){return document.createElementNS(svgNS,p)}function _typeof$5(p){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}var dataManager=function(){var p,g,m=1,_=[],C={onmessage:function(){},postMessage:function(U){p({data:U})}},E={postMessage:function(U){C.onmessage({data:U})}};function H(){g||((g=function(U){if(window.Worker&&window.Blob&&getWebWorker()){var X=new Blob(["var _workerSelf = self; self.onmessage = ",U.toString()],{type:"text/javascript"}),T=URL.createObjectURL(X);return new Worker(T)}return p=U,C}(function(U){if(E.dataManager||(E.dataManager=function(){function T(Be,qe){var pt,j,Se,at,it,yt,Lt=Be.length;for(j=0;j<Lt;j+=1)if("ks"in(pt=Be[j])&&!pt.completed){if(pt.completed=!0,pt.tt&&(Be[j-1].td=pt.tt),pt.hasMask){var Jt=pt.masksProperties;for(at=Jt.length,Se=0;Se<at;Se+=1)if(Jt[Se].pt.k.i)N(Jt[Se].pt.k);else for(yt=Jt[Se].pt.k.length,it=0;it<yt;it+=1)Jt[Se].pt.k[it].s&&N(Jt[Se].pt.k[it].s[0]),Jt[Se].pt.k[it].e&&N(Jt[Se].pt.k[it].e[0])}0===pt.ty?(pt.layers=B(pt.refId,qe),T(pt.layers,qe)):4===pt.ty&&R(pt.shapes)}}function B(Be,qe){var pt=function(j,Se){for(var at=0,it=Se.length;at<it;){if(Se[at].id===j)return Se[at];at+=1}return null}(Be,qe);return pt?pt.layers.__used?JSON.parse(JSON.stringify(pt.layers)):(pt.layers.__used=!0,pt.layers):null}function R(Be){var qe,pt,j;for(qe=Be.length-1;qe>=0;qe-=1)if("sh"===Be[qe].ty)if(Be[qe].ks.k.i)N(Be[qe].ks.k);else for(j=Be[qe].ks.k.length,pt=0;pt<j;pt+=1)Be[qe].ks.k[pt].s&&N(Be[qe].ks.k[pt].s[0]),Be[qe].ks.k[pt].e&&N(Be[qe].ks.k[pt].e[0]);else"gr"===Be[qe].ty&&R(Be[qe].it)}function N(Be){var qe,pt=Be.i.length;for(qe=0;qe<pt;qe+=1)Be.i[qe][0]+=Be.v[qe][0],Be.i[qe][1]+=Be.v[qe][1],Be.o[qe][0]+=Be.v[qe][0],Be.o[qe][1]+=Be.v[qe][1]}function F(Be,qe){var pt=qe?qe.split("."):[100,100,100];return Be[0]>pt[0]||!(pt[0]>Be[0])&&(Be[1]>pt[1]||!(pt[1]>Be[1])&&(Be[2]>pt[2]||!(pt[2]>Be[2])&&null))}var G,I=function(){var Be=[4,4,14];function qe(pt){var j,Se,at,it=pt.length;for(j=0;j<it;j+=1)5===pt[j].ty&&(at=(Se=pt[j]).t.d,Se.t.d={k:[{s:at,t:0}]})}return function(pt){if(F(Be,pt.v)&&(qe(pt.layers),pt.assets)){var j,Se=pt.assets.length;for(j=0;j<Se;j+=1)pt.assets[j].layers&&qe(pt.assets[j].layers)}}}(),Q=(G=[4,7,99],function(Be){if(Be.chars&&!F(G,Be.v)){var qe,pt=Be.chars.length;for(qe=0;qe<pt;qe+=1){var j=Be.chars[qe];j.data&&j.data.shapes&&(R(j.data.shapes),j.data.ip=0,j.data.op=99999,j.data.st=0,j.data.sr=1,j.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Be.chars[qe].t||(j.data.shapes.push({ty:"no"}),j.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),oe=function(){var Be=[5,7,15];function qe(pt){var j,Se,at=pt.length;for(j=0;j<at;j+=1)5===pt[j].ty&&(Se=void 0,"number"==typeof(Se=pt[j].t.p).a&&(Se.a={a:0,k:Se.a}),"number"==typeof Se.p&&(Se.p={a:0,k:Se.p}),"number"==typeof Se.r&&(Se.r={a:0,k:Se.r}))}return function(pt){if(F(Be,pt.v)&&(qe(pt.layers),pt.assets)){var j,Se=pt.assets.length;for(j=0;j<Se;j+=1)pt.assets[j].layers&&qe(pt.assets[j].layers)}}}(),le=function(){var Be=[4,1,9];function qe(j){var Se,at,it,yt=j.length;for(Se=0;Se<yt;Se+=1)if("gr"===j[Se].ty)qe(j[Se].it);else if("fl"===j[Se].ty||"st"===j[Se].ty)if(j[Se].c.k&&j[Se].c.k[0].i)for(it=j[Se].c.k.length,at=0;at<it;at+=1)j[Se].c.k[at].s&&(j[Se].c.k[at].s[0]/=255,j[Se].c.k[at].s[1]/=255,j[Se].c.k[at].s[2]/=255,j[Se].c.k[at].s[3]/=255),j[Se].c.k[at].e&&(j[Se].c.k[at].e[0]/=255,j[Se].c.k[at].e[1]/=255,j[Se].c.k[at].e[2]/=255,j[Se].c.k[at].e[3]/=255);else j[Se].c.k[0]/=255,j[Se].c.k[1]/=255,j[Se].c.k[2]/=255,j[Se].c.k[3]/=255}function pt(j){var Se,at=j.length;for(Se=0;Se<at;Se+=1)4===j[Se].ty&&qe(j[Se].shapes)}return function(j){if(F(Be,j.v)&&(pt(j.layers),j.assets)){var Se,at=j.assets.length;for(Se=0;Se<at;Se+=1)j.assets[Se].layers&&pt(j.assets[Se].layers)}}}(),be=function(){var Be=[4,4,18];function qe(j){var Se,at,it;for(Se=j.length-1;Se>=0;Se-=1)if("sh"===j[Se].ty)if(j[Se].ks.k.i)j[Se].ks.k.c=j[Se].closed;else for(it=j[Se].ks.k.length,at=0;at<it;at+=1)j[Se].ks.k[at].s&&(j[Se].ks.k[at].s[0].c=j[Se].closed),j[Se].ks.k[at].e&&(j[Se].ks.k[at].e[0].c=j[Se].closed);else"gr"===j[Se].ty&&qe(j[Se].it)}function pt(j){var Se,at,it,yt,Lt,Jt,ut=j.length;for(at=0;at<ut;at+=1){if((Se=j[at]).hasMask){var Ne=Se.masksProperties;for(yt=Ne.length,it=0;it<yt;it+=1)if(Ne[it].pt.k.i)Ne[it].pt.k.c=Ne[it].cl;else for(Jt=Ne[it].pt.k.length,Lt=0;Lt<Jt;Lt+=1)Ne[it].pt.k[Lt].s&&(Ne[it].pt.k[Lt].s[0].c=Ne[it].cl),Ne[it].pt.k[Lt].e&&(Ne[it].pt.k[Lt].e[0].c=Ne[it].cl)}4===Se.ty&&qe(Se.shapes)}}return function(j){if(F(Be,j.v)&&(pt(j.layers),j.assets)){var Se,at=j.assets.length;for(Se=0;Se<at;Se+=1)j.assets[Se].layers&&pt(j.assets[Se].layers)}}}(),$e={completeData:function(Be){Be.__complete||(le(Be),I(Be),Q(Be),oe(Be),be(Be),T(Be.layers,Be.assets),function(qe,pt){if(qe){var j=0,Se=qe.length;for(j=0;j<Se;j+=1)1===qe[j].t&&(qe[j].data.layers=B(qe[j].data.refId,pt),T(qe[j].data.layers,pt))}}(Be.chars,Be.assets),Be.__complete=!0)}};return $e.checkColors=le,$e.checkChars=Q,$e.checkPathProperties=oe,$e.checkShapes=be,$e.completeLayers=T,$e}()),E.assetLoader||(E.assetLoader=function(){function T(B){var R=B.getResponseHeader("content-type");return R&&"json"===B.responseType&&-1!==R.indexOf("json")||B.response&&"object"===_typeof$5(B.response)?B.response:B.response&&"string"==typeof B.response?JSON.parse(B.response):B.responseText?JSON.parse(B.responseText):null}return{load:function(B,R,N,F){var G,I=new XMLHttpRequest;try{I.responseType="json"}catch{}I.onreadystatechange=function(){if(4===I.readyState)if(200===I.status)G=T(I),N(G);else try{G=T(I),N(G)}catch(Q){F&&F(Q)}};try{I.open("GET",B,!0)}catch{I.open("GET",R+"/"+B,!0)}I.send()}}}()),"loadAnimation"===U.data.type)E.assetLoader.load(U.data.path,U.data.fullPath,function(T){E.dataManager.completeData(T),E.postMessage({id:U.data.id,payload:T,status:"success"})},function(){E.postMessage({id:U.data.id,status:"error"})});else if("complete"===U.data.type){var X=U.data.animation;E.dataManager.completeData(X),E.postMessage({id:U.data.id,payload:X,status:"success"})}else"loadData"===U.data.type&&E.assetLoader.load(U.data.path,U.data.fullPath,function(T){E.postMessage({id:U.data.id,payload:T,status:"success"})},function(){E.postMessage({id:U.data.id,status:"error"})})})).onmessage=function(U){var X=U.data,T=X.id,B=_[T];_[T]=null,"success"===X.status?B.onComplete(X.payload):B.onError&&B.onError()})}function L(U,X){var T="processId_"+(m+=1);return _[T]={onComplete:U,onError:X},T}return{loadAnimation:function(U,X,T){H();var B=L(X,T);g.postMessage({type:"loadAnimation",path:U,fullPath:window.location.origin+window.location.pathname,id:B})},loadData:function(U,X,T){H();var B=L(X,T);g.postMessage({type:"loadData",path:U,fullPath:window.location.origin+window.location.pathname,id:B})},completeAnimation:function(U,X,T){H();var B=L(X,T);g.postMessage({type:"complete",animation:U,id:B})}}}(),ImagePreloader=function(){var p=function(){var L=createTag("canvas");L.width=1,L.height=1;var U=L.getContext("2d");return U.fillStyle="rgba(0,0,0,0)",U.fillRect(0,0,1,1),L}();function g(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function m(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _(L,U,X){var T="";if(L.e)T=L.p;else if(U){var B=L.p;-1!==B.indexOf("images/")&&(B=B.split("/")[1]),T=U+B}else T=X,T+=L.u?L.u:"",T+=L.p;return T}function C(L){var U=0,X=setInterval(function(){(L.getBBox().width||U>500)&&(this._imageLoaded(),clearInterval(X)),U+=1}.bind(this),50)}function E(L){var U={assetData:L},X=_(L,this.assetsPath,this.path);return dataManager.loadData(X,function(T){U.img=T,this._footageLoaded()}.bind(this),function(){U.img={},this._footageLoaded()}.bind(this)),U}function H(){this._imageLoaded=g.bind(this),this._footageLoaded=m.bind(this),this.testImageLoaded=C.bind(this),this.createFootageData=E.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return H.prototype={loadAssets:function(L,U){var X;this.imagesLoadedCb=U;var T=L.length;for(X=0;X<T;X+=1)L[X].layers||(L[X].t&&"seq"!==L[X].t?3===L[X].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(L[X]))):(this.totalImages+=1,this.images.push(this._createImageData(L[X]))))},setAssetsPath:function(L){this.assetsPath=L||""},setPath:function(L){this.path=L||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(L){for(var U=0,X=this.images.length;U<X;){if(this.images[U].assetData===L)return this.images[U].img;U+=1}return null},createImgData:function(L){var U=_(L,this.assetsPath,this.path),X=createTag("img");X.crossOrigin="anonymous",X.addEventListener("load",this._imageLoaded,!1),X.addEventListener("error",function(){T.img=p,this._imageLoaded()}.bind(this),!1),X.src=U;var T={img:X,assetData:L};return T},createImageData:function(L){var U=_(L,this.assetsPath,this.path),X=createNS("image");isSafari?this.testImageLoaded(X):X.addEventListener("load",this._imageLoaded,!1),X.addEventListener("error",function(){T.img=p,this._imageLoaded()}.bind(this),!1),X.setAttributeNS("http://www.w3.org/1999/xlink","href",U),this._elementHelper.append?this._elementHelper.append(X):this._elementHelper.appendChild(X);var T={img:X,assetData:L};return T},imageLoaded:g,footageLoaded:m,setCacheType:function(L,U){"svg"===L?(this._elementHelper=U,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},H}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(p,g){if(this._cbs[p])for(var m=this._cbs[p],_=0;_<m.length;_+=1)m[_](g)},addEventListener:function(p,g){return this._cbs[p]||(this._cbs[p]=[]),this._cbs[p].push(g),function(){this.removeEventListener(p,g)}.bind(this)},removeEventListener:function(p,g){if(g){if(this._cbs[p]){for(var m=0,_=this._cbs[p].length;m<_;)this._cbs[p][m]===g&&(this._cbs[p].splice(m,1),m-=1,_-=1),m+=1;this._cbs[p].length||(this._cbs[p]=null)}}else this._cbs[p]=null}};var markerParser=function(){function p(g){for(var m,_=g.split("\r\n"),C={},E=0,H=0;H<_.length;H+=1)2===(m=_[H].split(":")).length&&(C[m[0]]=m[1].trim(),E+=1);if(0===E)throw new Error;return C}return function(g){for(var m=[],_=0;_<g.length;_+=1){var C=g[_],E={time:C.tm,duration:C.dr};try{E.payload=JSON.parse(g[_].cm)}catch{try{E.payload=p(g[_].cm)}catch{E.payload={name:g[_].cm}}}m.push(E)}return m}}(),ProjectInterface=function(){function p(g){this.compositions.push(g)}return function(){function g(m){for(var _=0,C=this.compositions.length;_<C;){if(this.compositions[_].data&&this.compositions[_].data.nm===m)return this.compositions[_].prepareFrame&&this.compositions[_].data.xt&&this.compositions[_].prepareFrame(this.currentFrame),this.compositions[_].compInterface;_+=1}return null}return g.compositions=[],g.currentFrame=0,g.registerComposition=p,g}}(),renderers={},registerRenderer=function(p,g){renderers[p]=g};function getRenderer(p){return renderers[p]}function _typeof$4(p){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(p){(p.wrapper||p.container)&&(this.wrapper=p.wrapper||p.container);var g="svg";p.animType?g=p.animType:p.renderer&&(g=p.renderer);var m=getRenderer(g);this.renderer=new m(this,p.rendererSettings),this.imagePreloader.setCacheType(g,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=g,this.loop=""===p.loop||null==p.loop||!0===p.loop||!1!==p.loop&&parseInt(p.loop,10),this.autoplay=!("autoplay"in p)||p.autoplay,this.name=p.name?p.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(p,"autoloadSegments")||p.autoloadSegments,this.assetsPath=p.assetsPath,this.initialSegment=p.initialSegment,p.audioFactory&&this.audioController.setAudioFactory(p.audioFactory),p.animationData?this.setupAnimation(p.animationData):p.path&&(this.path=-1!==p.path.lastIndexOf("\\")?p.path.substr(0,p.path.lastIndexOf("\\")+1):p.path.substr(0,p.path.lastIndexOf("/")+1),this.fileName=p.path.substr(p.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(p.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(p){dataManager.completeAnimation(p,this.configAnimation)},AnimationItem.prototype.setData=function(p,g){g&&"object"!==_typeof$4(g)&&(g=JSON.parse(g));var m={wrapper:p,animationData:g},_=p.attributes;m.path=_.getNamedItem("data-animation-path")?_.getNamedItem("data-animation-path").value:_.getNamedItem("data-bm-path")?_.getNamedItem("data-bm-path").value:_.getNamedItem("bm-path")?_.getNamedItem("bm-path").value:"",m.animType=_.getNamedItem("data-anim-type")?_.getNamedItem("data-anim-type").value:_.getNamedItem("data-bm-type")?_.getNamedItem("data-bm-type").value:_.getNamedItem("bm-type")?_.getNamedItem("bm-type").value:_.getNamedItem("data-bm-renderer")?_.getNamedItem("data-bm-renderer").value:_.getNamedItem("bm-renderer")?_.getNamedItem("bm-renderer").value:"canvas";var C=_.getNamedItem("data-anim-loop")?_.getNamedItem("data-anim-loop").value:_.getNamedItem("data-bm-loop")?_.getNamedItem("data-bm-loop").value:_.getNamedItem("bm-loop")?_.getNamedItem("bm-loop").value:"";"false"===C?m.loop=!1:"true"===C?m.loop=!0:""!==C&&(m.loop=parseInt(C,10));var E=_.getNamedItem("data-anim-autoplay")?_.getNamedItem("data-anim-autoplay").value:_.getNamedItem("data-bm-autoplay")?_.getNamedItem("data-bm-autoplay").value:!_.getNamedItem("bm-autoplay")||_.getNamedItem("bm-autoplay").value;m.autoplay="false"!==E,m.name=_.getNamedItem("data-name")?_.getNamedItem("data-name").value:_.getNamedItem("data-bm-name")?_.getNamedItem("data-bm-name").value:_.getNamedItem("bm-name")?_.getNamedItem("bm-name").value:"","false"===(_.getNamedItem("data-anim-prerender")?_.getNamedItem("data-anim-prerender").value:_.getNamedItem("data-bm-prerender")?_.getNamedItem("data-bm-prerender").value:_.getNamedItem("bm-prerender")?_.getNamedItem("bm-prerender").value:"")&&(m.prerender=!1),this.setParams(m)},AnimationItem.prototype.includeLayers=function(p){p.op>this.animationData.op&&(this.animationData.op=p.op,this.totalFrames=Math.floor(p.op-this.animationData.ip));var g,m,_=this.animationData.layers,C=_.length,E=p.layers,H=E.length;for(m=0;m<H;m+=1)for(g=0;g<C;){if(_[g].id===E[m].id){_[g]=E[m];break}g+=1}if((p.chars||p.fonts)&&(this.renderer.globalData.fontManager.addChars(p.chars),this.renderer.globalData.fontManager.addFonts(p.fonts,this.renderer.globalData.defs)),p.assets)for(C=p.assets.length,g=0;g<C;g+=1)this.animationData.assets.push(p.assets[g]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(p){this.animationData=p;var g=getExpressionsPlugin();g&&g.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var p=this.animationData.segments;if(!p||0===p.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var g=p.shift();this.timeCompleted=g.time*this.frameRate;var m=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(m,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(p){if(this.renderer)try{this.animationData=p,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(p),p.assets||(p.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(p.assets),this.markers=markerParser(p.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(g){this.triggerConfigError(g)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var p=getExpressionsPlugin();p&&p.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(p){this.isSubframeEnabled=!!p},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(p){this.triggerRenderFrameError(p)}},AnimationItem.prototype.play=function(p){p&&this.name!==p||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(p){p&&this.name!==p||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(p){p&&this.name!==p||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(p){p&&this.name!==p||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(p){for(var g,m=0;m<this.markers.length;m+=1)if((g=this.markers[m]).payload&&g.payload.name===p)return g;return null},AnimationItem.prototype.goToAndStop=function(p,g,m){if(!m||this.name===m){var _=Number(p);if(isNaN(_)){var C=this.getMarkerData(p);C&&this.goToAndStop(C.time,!0)}else this.setCurrentRawFrameValue(g?p:p*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(p,g,m){if(!m||this.name===m){var _=Number(p);if(isNaN(_)){var C=this.getMarkerData(p);C&&(C.duration?this.playSegments([C.time,C.time+C.duration],!0):this.goToAndStop(C.time,!0))}else this.goToAndStop(_,g,m);this.play()}},AnimationItem.prototype.advanceTime=function(p){if(!0!==this.isPaused&&!1!==this.isLoaded){var g=this.currentRawFrame+p*this.frameModifier,m=!1;g>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?g>=this.totalFrames?(this.playCount+=1,this.checkSegments(g%this.totalFrames)||(this.setCurrentRawFrameValue(g%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(g):this.checkSegments(g>this.totalFrames?g%this.totalFrames:0)||(m=!0,g=this.totalFrames-1):g<0?this.checkSegments(g%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(m=!0,g=0):(this.setCurrentRawFrameValue(this.totalFrames+g%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(g),m&&(this.setCurrentRawFrameValue(g),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(p,g){this.playCount=0,p[1]<p[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=p[0]-p[1],this.timeCompleted=this.totalFrames,this.firstFrame=p[1],this.setCurrentRawFrameValue(this.totalFrames-.001-g)):p[1]>p[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=p[1]-p[0],this.timeCompleted=this.totalFrames,this.firstFrame=p[0],this.setCurrentRawFrameValue(.001+g)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(p,g){var m=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<p?m=p:this.currentRawFrame+this.firstFrame>g&&(m=g-p)),this.firstFrame=p,this.totalFrames=g-p,this.timeCompleted=this.totalFrames,-1!==m&&this.goToAndStop(m,!0)},AnimationItem.prototype.playSegments=function(p,g){if(g&&(this.segments.length=0),"object"===_typeof$4(p[0])){var m,_=p.length;for(m=0;m<_;m+=1)this.segments.push(p[m])}else this.segments.push(p);this.segments.length&&g&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(p){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),p&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(p){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),p),!0)},AnimationItem.prototype.destroy=function(p){p&&this.name!==p||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(p){this.currentRawFrame=p,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(p){this.playSpeed=p,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(p){this.playDirection=p<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(p,g){g&&this.name!==g||this.audioController.setVolume(p)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(p){p&&this.name!==p||this.audioController.mute()},AnimationItem.prototype.unmute=function(p){p&&this.name!==p||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(p){var g="";if(p.e)g=p.p;else if(this.assetsPath){var m=p.p;-1!==m.indexOf("images/")&&(m=m.split("/")[1]),g=this.assetsPath+m}else g=this.path,g+=p.u?p.u:"",g+=p.p;return g},AnimationItem.prototype.getAssetData=function(p){for(var g=0,m=this.assets.length;g<m;){if(p===this.assets[g].id)return this.assets[g];g+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(p){return p?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(p,g,m){try{this.renderer.getElementByPath(p).updateDocumentData(g,m)}catch{}},AnimationItem.prototype.trigger=function(p){if(this._cbs&&this._cbs[p])switch(p){case"enterFrame":this.triggerEvent(p,new BMEnterFrameEvent(p,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(p,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(p,new BMCompleteLoopEvent(p,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(p,new BMCompleteEvent(p,this.frameMult));break;case"segmentStart":this.triggerEvent(p,new BMSegmentStartEvent(p,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(p,new BMDestroyEvent(p,this));break;default:this.triggerEvent(p)}"enterFrame"===p&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(p,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===p&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(p,this.loop,this.playCount,this.frameMult)),"complete"===p&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(p,this.frameMult)),"segmentStart"===p&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(p,this.firstFrame,this.totalFrames)),"destroy"===p&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(p,this))},AnimationItem.prototype.triggerRenderFrameError=function(p){var g=new BMRenderFrameErrorEvent(p,this.currentFrame);this.triggerEvent("error",g),this.onError&&this.onError.call(this,g)},AnimationItem.prototype.triggerConfigError=function(p){var g=new BMConfigErrorEvent(p,this.currentFrame);this.triggerEvent("error",g),this.onError&&this.onError.call(this,g)};var animationManager=function(){var p={},g=[],m=0,_=0,C=0,E=!0,H=!1;function L(G){for(var I=0,Q=G.target;I<_;)g[I].animation===Q&&(g.splice(I,1),I-=1,_-=1,Q.isPaused||T()),I+=1}function U(G,I){if(!G)return null;for(var Q=0;Q<_;){if(g[Q].elem===G&&null!==g[Q].elem)return g[Q].animation;Q+=1}var oe=new AnimationItem;return B(oe,G),oe.setData(G,I),oe}function X(){C+=1,F()}function T(){C-=1}function B(G,I){G.addEventListener("destroy",L),G.addEventListener("_active",X),G.addEventListener("_idle",T),g.push({elem:I,animation:G}),_+=1}function R(G){var I,Q=G-m;for(I=0;I<_;I+=1)g[I].animation.advanceTime(Q);m=G,C&&!H?window.requestAnimationFrame(R):E=!0}function N(G){m=G,window.requestAnimationFrame(R)}function F(){!H&&C&&E&&(window.requestAnimationFrame(N),E=!1)}return p.registerAnimation=U,p.loadAnimation=function(G){var I=new AnimationItem;return B(I,null),I.setParams(G),I},p.setSpeed=function(G,I){var Q;for(Q=0;Q<_;Q+=1)g[Q].animation.setSpeed(G,I)},p.setDirection=function(G,I){var Q;for(Q=0;Q<_;Q+=1)g[Q].animation.setDirection(G,I)},p.play=function(G){var I;for(I=0;I<_;I+=1)g[I].animation.play(G)},p.pause=function(G){var I;for(I=0;I<_;I+=1)g[I].animation.pause(G)},p.stop=function(G){var I;for(I=0;I<_;I+=1)g[I].animation.stop(G)},p.togglePause=function(G){var I;for(I=0;I<_;I+=1)g[I].animation.togglePause(G)},p.searchAnimations=function(G,I,Q){var oe,le=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),be=le.length;for(oe=0;oe<be;oe+=1)Q&&le[oe].setAttribute("data-bm-type",Q),U(le[oe],G);if(I&&0===be){Q||(Q="svg");var Ae=document.getElementsByTagName("body")[0];Ae.innerText="";var $e=createTag("div");$e.style.width="100%",$e.style.height="100%",$e.setAttribute("data-bm-type",Q),Ae.appendChild($e),U($e,G)}},p.resize=function(){var G;for(G=0;G<_;G+=1)g[G].animation.resize()},p.goToAndStop=function(G,I,Q){var oe;for(oe=0;oe<_;oe+=1)g[oe].animation.goToAndStop(G,I,Q)},p.destroy=function(G){var I;for(I=_-1;I>=0;I-=1)g[I].animation.destroy(G)},p.freeze=function(){H=!0},p.unfreeze=function(){H=!1,F()},p.setVolume=function(G,I){var Q;for(Q=0;Q<_;Q+=1)g[Q].animation.setVolume(G,I)},p.mute=function(G){var I;for(I=0;I<_;I+=1)g[I].animation.mute(G)},p.unmute=function(G){var I;for(I=0;I<_;I+=1)g[I].animation.unmute(G)},p.getRegisteredAnimations=function(){var G,I=g.length,Q=[];for(G=0;G<I;G+=1)Q.push(g[G].animation);return Q},p}(),BezierFactory=function(){var p={getBezierEasing:function(T,B,R,N,F){var G=F||("bez_"+T+"_"+B+"_"+R+"_"+N).replace(/\./g,"p");if(g[G])return g[G];var I=new X([T,B,R,N]);return g[G]=I,I}},g={},m=.1,_="function"==typeof Float32Array;function C(T,B){return 1-3*B+3*T}function E(T,B){return 3*B-6*T}function H(T){return 3*T}function L(T,B,R){return((C(B,R)*T+E(B,R))*T+H(B))*T}function U(T,B,R){return 3*C(B,R)*T*T+2*E(B,R)*T+H(B)}function X(T){this._p=T,this._mSampleValues=_?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return X.prototype={get:function(T){var B=this._p[0],R=this._p[1],N=this._p[2],F=this._p[3];return this._precomputed||this._precompute(),B===R&&N===F?T:0===T?0:1===T?1:L(this._getTForX(T),R,F)},_precompute:function(){var T=this._p[0],B=this._p[1],R=this._p[2],N=this._p[3];this._precomputed=!0,T===B&&R===N||this._calcSampleValues()},_calcSampleValues:function(){for(var T=this._p[0],B=this._p[2],R=0;R<11;++R)this._mSampleValues[R]=L(R*m,T,B)},_getTForX:function(T){for(var B=this._p[0],R=this._p[2],N=this._mSampleValues,F=0,G=1;10!==G&&N[G]<=T;++G)F+=m;var I=F+(T-N[--G])/(N[G+1]-N[G])*m,Q=U(I,B,R);return Q>=.001?function(oe,le,be,Ae){for(var $e=0;$e<4;++$e){var Be=U(le,be,Ae);if(0===Be)return le;le-=(L(le,be,Ae)-oe)/Be}return le}(T,I,B,R):0===Q?I:function(oe,le,be,Ae,$e){var Be,qe,pt=0;do{(Be=L(qe=le+(be-le)/2,Ae,$e)-oe)>0?be=qe:le=qe}while(Math.abs(Be)>1e-7&&++pt<10);return qe}(T,F,F+m,B,R)}},p}(),pooling={double:function(p){return p.concat(createSizedArray(p.length))}},poolFactory=function(p,g,m){var _=0,C=p,E=createSizedArray(C);return{newElement:function(){return _?E[_-=1]:g()},release:function(H){_===C&&(E=pooling.double(E),C*=2),m&&m(H),E[_]=H,_+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(p){var g,m=p.lengths.length;for(g=0;g<m;g+=1)bezierLengthPool.release(p.lengths[g]);p.lengths.length=0});function bezFunction(){var p=Math;function g(X,T,B,R,N,F){var G=X*R+T*N+B*F-N*R-F*X-B*T;return G>-.001&&G<.001}var m=function(X,T,B,R){var N,F,G,I,Q,oe,le=getDefaultCurveSegments(),be=0,Ae=[],$e=[],Be=bezierLengthPool.newElement();for(G=B.length,N=0;N<le;N+=1){for(Q=N/(le-1),oe=0,F=0;F<G;F+=1)I=bmPow(1-Q,3)*X[F]+3*bmPow(1-Q,2)*Q*B[F]+3*(1-Q)*bmPow(Q,2)*R[F]+bmPow(Q,3)*T[F],Ae[F]=I,null!==$e[F]&&(oe+=bmPow(Ae[F]-$e[F],2)),$e[F]=Ae[F];oe&&(be+=oe=bmSqrt(oe)),Be.percents[N]=Q,Be.lengths[N]=be}return Be.addedLength=be,Be};function _(X){this.segmentLength=0,this.points=new Array(X)}function C(X,T){this.partialLength=X,this.point=T}var E,H=(E={},function(X,T,B,R){var N=(X[0]+"_"+X[1]+"_"+T[0]+"_"+T[1]+"_"+B[0]+"_"+B[1]+"_"+R[0]+"_"+R[1]).replace(/\./g,"p");if(!E[N]){var F,G,I,Q,oe,le,be,Ae=getDefaultCurveSegments(),$e=0,Be=null;2===X.length&&(X[0]!==T[0]||X[1]!==T[1])&&g(X[0],X[1],T[0],T[1],X[0]+B[0],X[1]+B[1])&&g(X[0],X[1],T[0],T[1],T[0]+R[0],T[1]+R[1])&&(Ae=2);var qe=new _(Ae);for(I=B.length,F=0;F<Ae;F+=1){for(be=createSizedArray(I),oe=F/(Ae-1),le=0,G=0;G<I;G+=1)Q=bmPow(1-oe,3)*X[G]+3*bmPow(1-oe,2)*oe*(X[G]+B[G])+3*(1-oe)*bmPow(oe,2)*(T[G]+R[G])+bmPow(oe,3)*T[G],be[G]=Q,null!==Be&&(le+=bmPow(be[G]-Be[G],2));$e+=le=bmSqrt(le),qe.points[F]=new C(le,be),Be=be}qe.segmentLength=$e,E[N]=qe}return E[N]});function L(X,T){var B=T.percents,R=T.lengths,N=B.length,F=bmFloor((N-1)*X),G=X*T.addedLength,I=0;if(F===N-1||0===F||G===R[F])return B[F];for(var Q=R[F]>G?-1:1,oe=!0;oe;)if(R[F]<=G&&R[F+1]>G?(I=(G-R[F])/(R[F+1]-R[F]),oe=!1):F+=Q,F<0||F>=N-1){if(F===N-1)return B[F];oe=!1}return B[F]+(B[F+1]-B[F])*I}var U=createTypedArray("float32",8);return{getSegmentsLength:function(X){var T,B=segmentsLengthPool.newElement(),R=X.c,N=X.v,F=X.o,G=X.i,I=X._length,Q=B.lengths,oe=0;for(T=0;T<I-1;T+=1)Q[T]=m(N[T],N[T+1],F[T],G[T+1]),oe+=Q[T].addedLength;return R&&I&&(Q[T]=m(N[T],N[0],F[T],G[0]),oe+=Q[T].addedLength),B.totalLength=oe,B},getNewSegment:function(X,T,B,R,N,F,G){N<0?N=0:N>1&&(N=1);var I,Q=L(N,G),oe=L(F=F>1?1:F,G),le=X.length,be=1-Q,Ae=1-oe,$e=be*be*be,Be=Q*be*be*3,qe=Q*Q*be*3,pt=Q*Q*Q,j=be*be*Ae,Se=Q*be*Ae+be*Q*Ae+be*be*oe,at=Q*Q*Ae+be*Q*oe+Q*be*oe,it=Q*Q*oe,yt=be*Ae*Ae,Lt=Q*Ae*Ae+be*oe*Ae+be*Ae*oe,Jt=Q*oe*Ae+be*oe*oe+Q*Ae*oe,ut=Q*oe*oe,Ne=Ae*Ae*Ae,ct=oe*Ae*Ae+Ae*oe*Ae+Ae*Ae*oe,Yt=oe*oe*Ae+Ae*oe*oe+oe*Ae*oe,yn=oe*oe*oe;for(I=0;I<le;I+=1)U[4*I]=p.round(1e3*($e*X[I]+Be*B[I]+qe*R[I]+pt*T[I]))/1e3,U[4*I+1]=p.round(1e3*(j*X[I]+Se*B[I]+at*R[I]+it*T[I]))/1e3,U[4*I+2]=p.round(1e3*(yt*X[I]+Lt*B[I]+Jt*R[I]+ut*T[I]))/1e3,U[4*I+3]=p.round(1e3*(Ne*X[I]+ct*B[I]+Yt*R[I]+yn*T[I]))/1e3;return U},getPointInSegment:function(X,T,B,R,N,F){var G=L(N,F),I=1-G;return[p.round(1e3*(I*I*I*X[0]+(G*I*I+I*G*I+I*I*G)*B[0]+(G*G*I+I*G*G+G*I*G)*R[0]+G*G*G*T[0]))/1e3,p.round(1e3*(I*I*I*X[1]+(G*I*I+I*G*I+I*I*G)*B[1]+(G*G*I+I*G*G+G*I*G)*R[1]+G*G*G*T[1]))/1e3]},buildBezierData:H,pointOnLine2D:g,pointOnLine3D:function(X,T,B,R,N,F,G,I,Q){if(0===B&&0===F&&0===Q)return g(X,T,R,N,G,I);var oe,le=p.sqrt(p.pow(R-X,2)+p.pow(N-T,2)+p.pow(F-B,2)),be=p.sqrt(p.pow(G-X,2)+p.pow(I-T,2)+p.pow(Q-B,2)),Ae=p.sqrt(p.pow(G-R,2)+p.pow(I-N,2)+p.pow(Q-F,2));return(oe=le>be?le>Ae?le-be-Ae:Ae-be-le:Ae>be?Ae-be-le:be-le-Ae)>-1e-4&&oe<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var p=initialDefaultFrame,g=Math.abs;function m(R,N){var F,G=this.offsetTime;"multidimensional"===this.propType&&(F=createTypedArray("float32",this.pv.length));for(var I,Q,oe,le,be,Ae,$e,Be,qe,pt=N.lastIndex,j=pt,Se=this.keyframes.length-1,at=!0;at;){if(I=this.keyframes[j],Q=this.keyframes[j+1],j===Se-1&&R>=Q.t-G){I.h&&(I=Q),pt=0;break}if(Q.t-G>R){pt=j;break}j<Se-1?j+=1:(pt=0,at=!1)}oe=this.keyframesMetadata[j]||{};var it,yt,Lt,Jt,ut,Ne,ct,Yt,yn,fn,eo,Qi,Rr,fr,en,Qn,rr,Ri,Ni,Zi,Wn,mn,Pr,Ps,sr,cn,qn,sn=Q.t-G,ln=I.t-G;if(I.to){oe.bezierData||(oe.bezierData=bez.buildBezierData(I.s,Q.s||I.e,I.to,I.ti));var Nt=oe.bezierData;if(R>=sn||R<ln){var Pn=R>=sn?Nt.points.length-1:0;for(be=Nt.points[Pn].point.length,le=0;le<be;le+=1)F[le]=Nt.points[Pn].point[le]}else{oe.__fnct?qe=oe.__fnct:(qe=BezierFactory.getBezierEasing(I.o.x,I.o.y,I.i.x,I.i.y,I.n).get,oe.__fnct=qe),Ae=qe((R-ln)/(sn-ln));var On,zn=Nt.segmentLength*Ae,Ct=N.lastFrame<R&&N._lastKeyframeIndex===j?N._lastAddedLength:0;for(Be=N.lastFrame<R&&N._lastKeyframeIndex===j?N._lastPoint:0,at=!0,$e=Nt.points.length;at;){if(Ct+=Nt.points[Be].partialLength,0===zn||0===Ae||Be===Nt.points.length-1){for(be=Nt.points[Be].point.length,le=0;le<be;le+=1)F[le]=Nt.points[Be].point[le];break}if(zn>=Ct&&zn<Ct+Nt.points[Be+1].partialLength){for(On=(zn-Ct)/Nt.points[Be+1].partialLength,be=Nt.points[Be].point.length,le=0;le<be;le+=1)F[le]=Nt.points[Be].point[le]+(Nt.points[Be+1].point[le]-Nt.points[Be].point[le])*On;break}Be<$e-1?Be+=1:at=!1}N._lastPoint=Be,N._lastAddedLength=Ct-Nt.points[Be].partialLength,N._lastKeyframeIndex=j}}else{var Ai;if(Se=I.s.length,it=Q.s||I.e,this.sh&&1!==I.h)if(R>=sn)F[0]=it[0],F[1]=it[1],F[2]=it[2];else if(R<=ln)F[0]=I.s[0],F[1]=I.s[1],F[2]=I.s[2];else{var ni=_(I.s),Ki=_(it);yt=F,Rr=(R-ln)/(sn-ln),Ni=[],(en=(Zi=(eo=ni)[0])*(Ps=(Qi=Ki)[0])+(Wn=eo[1])*(sr=Qi[1])+(mn=eo[2])*(cn=Qi[2])+(Pr=eo[3])*(qn=Qi[3]))<0&&(en=-en,Ps=-Ps,sr=-sr,cn=-cn,qn=-qn),1-en>1e-6?(fr=Math.acos(en),Qn=Math.sin(fr),rr=Math.sin((1-Rr)*fr)/Qn,Ri=Math.sin(Rr*fr)/Qn):(rr=1-Rr,Ri=Rr),Ni[0]=rr*Zi+Ri*Ps,Ni[1]=rr*Wn+Ri*sr,Ni[2]=rr*mn+Ri*cn,Ni[3]=rr*Pr+Ri*qn,Jt=(Lt=Ni)[0],ut=Lt[1],Ne=Lt[2],ct=Lt[3],Yt=Math.atan2(2*ut*ct-2*Jt*Ne,1-2*ut*ut-2*Ne*Ne),yn=Math.asin(2*Jt*ut+2*Ne*ct),fn=Math.atan2(2*Jt*ct-2*ut*Ne,1-2*Jt*Jt-2*Ne*Ne),yt[0]=Yt/degToRads,yt[1]=yn/degToRads,yt[2]=fn/degToRads}else for(j=0;j<Se;j+=1)1!==I.h&&(R>=sn?Ae=1:R<ln?Ae=0:(I.o.x.constructor===Array?(oe.__fnct||(oe.__fnct=[]),oe.__fnct[j]?qe=oe.__fnct[j]:(qe=BezierFactory.getBezierEasing(void 0===I.o.x[j]?I.o.x[0]:I.o.x[j],void 0===I.o.y[j]?I.o.y[0]:I.o.y[j],void 0===I.i.x[j]?I.i.x[0]:I.i.x[j],void 0===I.i.y[j]?I.i.y[0]:I.i.y[j]).get,oe.__fnct[j]=qe)):oe.__fnct?qe=oe.__fnct:(qe=BezierFactory.getBezierEasing(I.o.x,I.o.y,I.i.x,I.i.y).get,I.keyframeMetadata=qe),Ae=qe((R-ln)/(sn-ln)))),it=Q.s||I.e,Ai=1===I.h?I.s[j]:I.s[j]+(it[j]-I.s[j])*Ae,"multidimensional"===this.propType?F[j]=Ai:F=Ai}return N.lastIndex=pt,F}function _(R){var N=R[0]*degToRads,F=R[1]*degToRads,G=R[2]*degToRads,I=Math.cos(N/2),Q=Math.cos(F/2),oe=Math.cos(G/2),le=Math.sin(N/2),be=Math.sin(F/2),Ae=Math.sin(G/2);return[le*be*oe+I*Q*Ae,le*Q*oe+I*be*Ae,I*be*oe-le*Q*Ae,I*Q*oe-le*be*Ae]}function C(){var R=this.comp.renderedFrame-this.offsetTime,N=this.keyframes[0].t-this.offsetTime,F=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(R===this._caching.lastFrame||this._caching.lastFrame!==p&&(this._caching.lastFrame>=F&&R>=F||this._caching.lastFrame<N&&R<N))){this._caching.lastFrame>=R&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var G=this.interpolateValue(R,this._caching);this.pv=G}return this._caching.lastFrame=R,this.pv}function E(R){var N;if("unidimensional"===this.propType)g(this.v-(N=R*this.mult))>1e-5&&(this.v=N,this._mdf=!0);else for(var F=0,G=this.v.length;F<G;)g(this.v[F]-(N=R[F]*this.mult))>1e-5&&(this.v[F]=N,this._mdf=!0),F+=1}function H(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var R;this.lock=!0,this._mdf=this._isFirstFrame;var N=this.effectsSequence.length,F=this.kf?this.pv:this.data.k;for(R=0;R<N;R+=1)F=this.effectsSequence[R](F);this.setVValue(F),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function L(R){this.effectsSequence.push(R),this.container.addDynamicProperty(this)}function U(R,N,F,G){this.propType="unidimensional",this.mult=F||1,this.data=N,this.v=F?N.k*F:N.k,this.pv=N.k,this._mdf=!1,this.elem=R,this.container=G,this.comp=R.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=H,this.setVValue=E,this.addEffect=L}function X(R,N,F,G){var I;this.propType="multidimensional",this.mult=F||1,this.data=N,this._mdf=!1,this.elem=R,this.container=G,this.comp=R.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Q=N.k.length;for(this.v=createTypedArray("float32",Q),this.pv=createTypedArray("float32",Q),this.vel=createTypedArray("float32",Q),I=0;I<Q;I+=1)this.v[I]=N.k[I]*this.mult,this.pv[I]=N.k[I];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=H,this.setVValue=E,this.addEffect=L}function T(R,N,F,G){this.propType="unidimensional",this.keyframes=N.k,this.keyframesMetadata=[],this.offsetTime=R.data.st,this.frameId=-1,this._caching={lastFrame:p,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=N,this.mult=F||1,this.elem=R,this.container=G,this.comp=R.comp,this.v=p,this.pv=p,this._isFirstFrame=!0,this.getValue=H,this.setVValue=E,this.interpolateValue=m,this.effectsSequence=[C.bind(this)],this.addEffect=L}function B(R,N,F,G){var I;this.propType="multidimensional";var Q,oe,le,be,Ae=N.k.length;for(I=0;I<Ae-1;I+=1)N.k[I].to&&N.k[I].s&&N.k[I+1]&&N.k[I+1].s&&(oe=N.k[I+1].s,le=N.k[I].to,be=N.k[I].ti,(2===(Q=N.k[I].s).length&&(Q[0]!==oe[0]||Q[1]!==oe[1])&&bez.pointOnLine2D(Q[0],Q[1],oe[0],oe[1],Q[0]+le[0],Q[1]+le[1])&&bez.pointOnLine2D(Q[0],Q[1],oe[0],oe[1],oe[0]+be[0],oe[1]+be[1])||3===Q.length&&(Q[0]!==oe[0]||Q[1]!==oe[1]||Q[2]!==oe[2])&&bez.pointOnLine3D(Q[0],Q[1],Q[2],oe[0],oe[1],oe[2],Q[0]+le[0],Q[1]+le[1],Q[2]+le[2])&&bez.pointOnLine3D(Q[0],Q[1],Q[2],oe[0],oe[1],oe[2],oe[0]+be[0],oe[1]+be[1],oe[2]+be[2]))&&(N.k[I].to=null,N.k[I].ti=null),Q[0]===oe[0]&&Q[1]===oe[1]&&0===le[0]&&0===le[1]&&0===be[0]&&0===be[1]&&(2===Q.length||Q[2]===oe[2]&&0===le[2]&&0===be[2])&&(N.k[I].to=null,N.k[I].ti=null));this.effectsSequence=[C.bind(this)],this.data=N,this.keyframes=N.k,this.keyframesMetadata=[],this.offsetTime=R.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=F||1,this.elem=R,this.container=G,this.comp=R.comp,this.getValue=H,this.setVValue=E,this.interpolateValue=m,this.frameId=-1;var $e=N.k[0].s.length;for(this.v=createTypedArray("float32",$e),this.pv=createTypedArray("float32",$e),I=0;I<$e;I+=1)this.v[I]=p,this.pv[I]=p;this._caching={lastFrame:p,lastIndex:0,value:createTypedArray("float32",$e)},this.addEffect=L}return{getProp:function(R,N,F,G,I){var Q;if(N.k.length)if("number"==typeof N.k[0])Q=new X(R,N,G,I);else switch(F){case 0:Q=new T(R,N,G,I);break;case 1:Q=new B(R,N,G,I)}else Q=new U(R,N,G,I);return Q.effectsSequence.length&&I.addDynamicProperty(Q),Q}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(p){-1===this.dynamicProperties.indexOf(p)&&(this.dynamicProperties.push(p),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var p;this._mdf=!1;var g=this.dynamicProperties.length;for(p=0;p<g;p+=1)this.dynamicProperties[p].getValue(),this.dynamicProperties[p]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(p){this.container=p,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(p,g){this.c=p,this.setLength(g);for(var m=0;m<g;)this.v[m]=pointPool.newElement(),this.o[m]=pointPool.newElement(),this.i[m]=pointPool.newElement(),m+=1},ShapePath.prototype.setLength=function(p){for(;this._maxLength<p;)this.doubleArrayLength();this._length=p},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(p,g,m,_,C){var E;switch(this._length=Math.max(this._length,_+1),this._length>=this._maxLength&&this.doubleArrayLength(),m){case"v":E=this.v;break;case"i":E=this.i;break;case"o":E=this.o;break;default:E=[]}(!E[_]||E[_]&&!C)&&(E[_]=pointPool.newElement()),E[_][0]=p,E[_][1]=g},ShapePath.prototype.setTripleAt=function(p,g,m,_,C,E,H,L){this.setXYAt(p,g,"v",H,L),this.setXYAt(m,_,"o",H,L),this.setXYAt(C,E,"i",H,L)},ShapePath.prototype.reverse=function(){var p=new ShapePath;p.setPathData(this.c,this._length);var g=this.v,m=this.o,_=this.i,C=0;this.c&&(p.setTripleAt(g[0][0],g[0][1],_[0][0],_[0][1],m[0][0],m[0][1],0,!1),C=1);var E,H=this._length-1,L=this._length;for(E=C;E<L;E+=1)p.setTripleAt(g[H][0],g[H][1],_[H][0],_[H][1],m[H][0],m[H][1],E,!1),H-=1;return p};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(p){var g,m=p._length;for(g=0;g<m;g+=1)pointPool.release(p.v[g]),pointPool.release(p.i[g]),pointPool.release(p.o[g]),p.v[g]=null,p.i[g]=null,p.o[g]=null;p._length=0,p.c=!1}),factory.clone=function(p){var g,m=factory.newElement(),_=void 0===p._length?p.v.length:p._length;for(m.setLength(_),m.c=p.c,g=0;g<_;g+=1)m.setTripleAt(p.v[g][0],p.v[g][1],p.o[g][0],p.o[g][1],p.i[g][0],p.i[g][1],g);return m},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(p){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=p,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var p;for(p=0;p<this._length;p+=1)shapePool.release(this.shapes[p]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(p){var g,m=p._length;for(g=0;g<m;g+=1)shapePool.release(p.shapes[g]);p._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=p,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var p=-999999;function g(N,F,G){var I,Q,oe,le,be,Ae,$e,Be,pt=G.lastIndex,j=this.keyframes;if(N<j[0].t-this.offsetTime)I=j[0].s[0],oe=!0,pt=0;else if(N>=j[j.length-1].t-this.offsetTime)I=j[j.length-1].s?j[j.length-1].s[0]:j[j.length-2].e[0],oe=!0;else{for(var Se,at,it,yt=pt,Lt=j.length-1,Jt=!0;Jt&&(Se=j[yt],!((at=j[yt+1]).t-this.offsetTime>N));)yt<Lt-1?yt+=1:Jt=!1;if(it=this.keyframesMetadata[yt]||{},pt=yt,!(oe=1===Se.h)){if(N>=at.t-this.offsetTime)Be=1;else if(N<Se.t-this.offsetTime)Be=0;else{var ut;it.__fnct?ut=it.__fnct:(ut=BezierFactory.getBezierEasing(Se.o.x,Se.o.y,Se.i.x,Se.i.y).get,it.__fnct=ut),Be=ut((N-(Se.t-this.offsetTime))/(at.t-this.offsetTime-(Se.t-this.offsetTime)))}Q=at.s?at.s[0]:Se.e[0]}I=Se.s[0]}for(Ae=F._length,$e=I.i[0].length,G.lastIndex=pt,le=0;le<Ae;le+=1)for(be=0;be<$e;be+=1)F.i[le][be]=oe?I.i[le][be]:I.i[le][be]+(Q.i[le][be]-I.i[le][be])*Be,F.o[le][be]=oe?I.o[le][be]:I.o[le][be]+(Q.o[le][be]-I.o[le][be])*Be,F.v[le][be]=oe?I.v[le][be]:I.v[le][be]+(Q.v[le][be]-I.v[le][be])*Be}function m(){var N=this.comp.renderedFrame-this.offsetTime,F=this.keyframes[0].t-this.offsetTime,G=this.keyframes[this.keyframes.length-1].t-this.offsetTime,I=this._caching.lastFrame;return I!==p&&(I<F&&N<F||I>G&&N>G)||(this._caching.lastIndex=I<N?this._caching.lastIndex:0,this.interpolateShape(N,this.pv,this._caching)),this._caching.lastFrame=N,this.pv}function _(){this.paths=this.localShapeCollection}function C(N){(function(F,G){if(F._length!==G._length||F.c!==G.c)return!1;var I,Q=F._length;for(I=0;I<Q;I+=1)if(F.v[I][0]!==G.v[I][0]||F.v[I][1]!==G.v[I][1]||F.o[I][0]!==G.o[I][0]||F.o[I][1]!==G.o[I][1]||F.i[I][0]!==G.i[I][0]||F.i[I][1]!==G.i[I][1])return!1;return!0})(this.v,N)||(this.v=shapePool.clone(N),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function E(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var N,F;this.lock=!0,this._mdf=!1,N=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var G=this.effectsSequence.length;for(F=0;F<G;F+=1)N=this.effectsSequence[F](N);this.setVValue(N),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function H(N,F,G){this.propType="shape",this.comp=N.comp,this.container=N,this.elem=N,this.data=F,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===G?F.pt.k:F.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=_,this.effectsSequence=[]}function L(N){this.effectsSequence.push(N),this.container.addDynamicProperty(this)}function U(N,F,G){this.propType="shape",this.comp=N.comp,this.elem=N,this.container=N,this.offsetTime=N.data.st,this.keyframes=3===G?F.pt.k:F.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var I=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,I),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=p,this.reset=_,this._caching={lastFrame:p,lastIndex:0},this.effectsSequence=[m.bind(this)]}H.prototype.interpolateShape=g,H.prototype.getValue=E,H.prototype.setVValue=C,H.prototype.addEffect=L,U.prototype.getValue=E,U.prototype.interpolateShape=g,U.prototype.setVValue=C,U.prototype.addEffect=L;var X=function(){var N=roundCorner;function F(G,I){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=I.d,this.elem=G,this.comp=G.comp,this.frameId=-1,this.initDynamicPropertyContainer(G),this.p=PropertyFactory.getProp(G,I.p,1,0,this),this.s=PropertyFactory.getProp(G,I.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return F.prototype={reset:_,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var G=this.p.v[0],I=this.p.v[1],Q=this.s.v[0]/2,oe=this.s.v[1]/2,le=3!==this.d,be=this.v;be.v[0][0]=G,be.v[0][1]=I-oe,be.v[1][0]=le?G+Q:G-Q,be.v[1][1]=I,be.v[2][0]=G,be.v[2][1]=I+oe,be.v[3][0]=le?G-Q:G+Q,be.v[3][1]=I,be.i[0][0]=le?G-Q*N:G+Q*N,be.i[0][1]=I-oe,be.i[1][0]=le?G+Q:G-Q,be.i[1][1]=I-oe*N,be.i[2][0]=le?G+Q*N:G-Q*N,be.i[2][1]=I+oe,be.i[3][0]=le?G-Q:G+Q,be.i[3][1]=I+oe*N,be.o[0][0]=le?G+Q*N:G-Q*N,be.o[0][1]=I-oe,be.o[1][0]=le?G+Q:G-Q,be.o[1][1]=I+oe*N,be.o[2][0]=le?G-Q*N:G+Q*N,be.o[2][1]=I+oe,be.o[3][0]=le?G-Q:G+Q,be.o[3][1]=I-oe*N}},extendPrototype([DynamicPropertyContainer],F),F}(),T=function(){function N(F,G){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=F,this.comp=F.comp,this.data=G,this.frameId=-1,this.d=G.d,this.initDynamicPropertyContainer(F),1===G.sy?(this.ir=PropertyFactory.getProp(F,G.ir,0,0,this),this.is=PropertyFactory.getProp(F,G.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(F,G.pt,0,0,this),this.p=PropertyFactory.getProp(F,G.p,1,0,this),this.r=PropertyFactory.getProp(F,G.r,0,degToRads,this),this.or=PropertyFactory.getProp(F,G.or,0,0,this),this.os=PropertyFactory.getProp(F,G.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return N.prototype={reset:_,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var F,G,I,Q,oe=2*Math.floor(this.pt.v),le=2*Math.PI/oe,be=!0,Ae=this.or.v,$e=this.ir.v,Be=this.os.v,qe=this.is.v,pt=2*Math.PI*Ae/(2*oe),j=2*Math.PI*$e/(2*oe),Se=-Math.PI/2;Se+=this.r.v;var at=3===this.data.d?-1:1;for(this.v._length=0,F=0;F<oe;F+=1){I=be?Be:qe,Q=be?pt:j;var it=(G=be?Ae:$e)*Math.cos(Se),yt=G*Math.sin(Se),Lt=0===it&&0===yt?0:yt/Math.sqrt(it*it+yt*yt),Jt=0===it&&0===yt?0:-it/Math.sqrt(it*it+yt*yt);this.v.setTripleAt(it+=+this.p.v[0],yt+=+this.p.v[1],it-Lt*Q*I*at,yt-Jt*Q*I*at,it+Lt*Q*I*at,yt+Jt*Q*I*at,F,!0),be=!be,Se+=le*at}},convertPolygonToPath:function(){var F,G=Math.floor(this.pt.v),I=2*Math.PI/G,Q=this.or.v,oe=this.os.v,le=2*Math.PI*Q/(4*G),be=.5*-Math.PI,Ae=3===this.data.d?-1:1;for(be+=this.r.v,this.v._length=0,F=0;F<G;F+=1){var $e=Q*Math.cos(be),Be=Q*Math.sin(be),qe=0===$e&&0===Be?0:Be/Math.sqrt($e*$e+Be*Be),pt=0===$e&&0===Be?0:-$e/Math.sqrt($e*$e+Be*Be);this.v.setTripleAt($e+=+this.p.v[0],Be+=+this.p.v[1],$e-qe*le*oe*Ae,Be-pt*le*oe*Ae,$e+qe*le*oe*Ae,Be+pt*le*oe*Ae,F,!0),be+=I*Ae}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],N),N}(),B=function(){function N(F,G){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=F,this.comp=F.comp,this.frameId=-1,this.d=G.d,this.initDynamicPropertyContainer(F),this.p=PropertyFactory.getProp(F,G.p,1,0,this),this.s=PropertyFactory.getProp(F,G.s,1,0,this),this.r=PropertyFactory.getProp(F,G.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return N.prototype={convertRectToPath:function(){var F=this.p.v[0],G=this.p.v[1],I=this.s.v[0]/2,Q=this.s.v[1]/2,oe=bmMin(I,Q,this.r.v),le=oe*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(F+I,G-Q+oe,F+I,G-Q+oe,F+I,G-Q+le,0,!0),this.v.setTripleAt(F+I,G+Q-oe,F+I,G+Q-le,F+I,G+Q-oe,1,!0),0!==oe?(this.v.setTripleAt(F+I-oe,G+Q,F+I-oe,G+Q,F+I-le,G+Q,2,!0),this.v.setTripleAt(F-I+oe,G+Q,F-I+le,G+Q,F-I+oe,G+Q,3,!0),this.v.setTripleAt(F-I,G+Q-oe,F-I,G+Q-oe,F-I,G+Q-le,4,!0),this.v.setTripleAt(F-I,G-Q+oe,F-I,G-Q+le,F-I,G-Q+oe,5,!0),this.v.setTripleAt(F-I+oe,G-Q,F-I+oe,G-Q,F-I+le,G-Q,6,!0),this.v.setTripleAt(F+I-oe,G-Q,F+I-le,G-Q,F+I-oe,G-Q,7,!0)):(this.v.setTripleAt(F-I,G+Q,F-I+le,G+Q,F-I,G+Q,2),this.v.setTripleAt(F-I,G-Q,F-I,G-Q+le,F-I,G-Q,3))):(this.v.setTripleAt(F+I,G-Q+oe,F+I,G-Q+le,F+I,G-Q+oe,0,!0),0!==oe?(this.v.setTripleAt(F+I-oe,G-Q,F+I-oe,G-Q,F+I-le,G-Q,1,!0),this.v.setTripleAt(F-I+oe,G-Q,F-I+le,G-Q,F-I+oe,G-Q,2,!0),this.v.setTripleAt(F-I,G-Q+oe,F-I,G-Q+oe,F-I,G-Q+le,3,!0),this.v.setTripleAt(F-I,G+Q-oe,F-I,G+Q-le,F-I,G+Q-oe,4,!0),this.v.setTripleAt(F-I+oe,G+Q,F-I+oe,G+Q,F-I+le,G+Q,5,!0),this.v.setTripleAt(F+I-oe,G+Q,F+I-le,G+Q,F+I-oe,G+Q,6,!0),this.v.setTripleAt(F+I,G+Q-oe,F+I,G+Q-oe,F+I,G+Q-le,7,!0)):(this.v.setTripleAt(F-I,G-Q,F-I+le,G-Q,F-I,G-Q,1,!0),this.v.setTripleAt(F-I,G+Q,F-I,G+Q-le,F-I,G+Q,2,!0),this.v.setTripleAt(F+I,G+Q,F+I-le,G+Q,F+I,G+Q,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:_},extendPrototype([DynamicPropertyContainer],N),N}();return{getShapeProp:function(N,F,G){var I;return 3===G||4===G?I=(3===G?F.pt:F.ks).k.length?new U(N,F,G):new H(N,F,G):5===G?I=new B(N,F):6===G?I=new X(N,F):7===G&&(I=new T(N,F)),I.k&&N.addDynamicProperty(I),I},getConstructorFunction:function(){return H},getKeyframedConstructorFunction:function(){return U}}}(),Matrix=function(){var p=Math.cos,g=Math.sin,m=Math.tan,_=Math.round;function C(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function E(ut){if(0===ut)return this;var Ne=p(ut),ct=g(ut);return this._t(Ne,-ct,0,0,ct,Ne,0,0,0,0,1,0,0,0,0,1)}function H(ut){if(0===ut)return this;var Ne=p(ut),ct=g(ut);return this._t(1,0,0,0,0,Ne,-ct,0,0,ct,Ne,0,0,0,0,1)}function L(ut){if(0===ut)return this;var Ne=p(ut),ct=g(ut);return this._t(Ne,0,ct,0,0,1,0,0,-ct,0,Ne,0,0,0,0,1)}function U(ut){if(0===ut)return this;var Ne=p(ut),ct=g(ut);return this._t(Ne,-ct,0,0,ct,Ne,0,0,0,0,1,0,0,0,0,1)}function X(ut,Ne){return this._t(1,Ne,ut,1,0,0)}function T(ut,Ne){return this.shear(m(ut),m(Ne))}function B(ut,Ne){var ct=p(Ne),Yt=g(Ne);return this._t(ct,Yt,0,0,-Yt,ct,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,m(ut),1,0,0,0,0,1,0,0,0,0,1)._t(ct,-Yt,0,0,Yt,ct,0,0,0,0,1,0,0,0,0,1)}function R(ut,Ne,ct){return ct||0===ct||(ct=1),1===ut&&1===Ne&&1===ct?this:this._t(ut,0,0,0,0,Ne,0,0,0,0,ct,0,0,0,0,1)}function N(ut,Ne,ct,Yt,yn,fn,sn,ln,Nt,Pn,On,zn,Ct,hr,Sn,$n){return this.props[0]=ut,this.props[1]=Ne,this.props[2]=ct,this.props[3]=Yt,this.props[4]=yn,this.props[5]=fn,this.props[6]=sn,this.props[7]=ln,this.props[8]=Nt,this.props[9]=Pn,this.props[10]=On,this.props[11]=zn,this.props[12]=Ct,this.props[13]=hr,this.props[14]=Sn,this.props[15]=$n,this}function F(ut,Ne,ct){return ct=ct||0,0!==ut||0!==Ne||0!==ct?this._t(1,0,0,0,0,1,0,0,0,0,1,0,ut,Ne,ct,1):this}function G(ut,Ne,ct,Yt,yn,fn,sn,ln,Nt,Pn,On,zn,Ct,hr,Sn,$n){var Gt=this.props;if(1===ut&&0===Ne&&0===ct&&0===Yt&&0===yn&&1===fn&&0===sn&&0===ln&&0===Nt&&0===Pn&&1===On&&0===zn)return Gt[12]=Gt[12]*ut+Gt[15]*Ct,Gt[13]=Gt[13]*fn+Gt[15]*hr,Gt[14]=Gt[14]*On+Gt[15]*Sn,Gt[15]*=$n,this._identityCalculated=!1,this;var Ai=Gt[0],ni=Gt[1],Ki=Gt[2],eo=Gt[3],Qi=Gt[4],Rr=Gt[5],fr=Gt[6],en=Gt[7],Qn=Gt[8],rr=Gt[9],Ri=Gt[10],Ni=Gt[11],Zi=Gt[12],Wn=Gt[13],mn=Gt[14],Pr=Gt[15];return Gt[0]=Ai*ut+ni*yn+Ki*Nt+eo*Ct,Gt[1]=Ai*Ne+ni*fn+Ki*Pn+eo*hr,Gt[2]=Ai*ct+ni*sn+Ki*On+eo*Sn,Gt[3]=Ai*Yt+ni*ln+Ki*zn+eo*$n,Gt[4]=Qi*ut+Rr*yn+fr*Nt+en*Ct,Gt[5]=Qi*Ne+Rr*fn+fr*Pn+en*hr,Gt[6]=Qi*ct+Rr*sn+fr*On+en*Sn,Gt[7]=Qi*Yt+Rr*ln+fr*zn+en*$n,Gt[8]=Qn*ut+rr*yn+Ri*Nt+Ni*Ct,Gt[9]=Qn*Ne+rr*fn+Ri*Pn+Ni*hr,Gt[10]=Qn*ct+rr*sn+Ri*On+Ni*Sn,Gt[11]=Qn*Yt+rr*ln+Ri*zn+Ni*$n,Gt[12]=Zi*ut+Wn*yn+mn*Nt+Pr*Ct,Gt[13]=Zi*Ne+Wn*fn+mn*Pn+Pr*hr,Gt[14]=Zi*ct+Wn*sn+mn*On+Pr*Sn,Gt[15]=Zi*Yt+Wn*ln+mn*zn+Pr*$n,this._identityCalculated=!1,this}function I(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function Q(ut){for(var Ne=0;Ne<16;){if(ut.props[Ne]!==this.props[Ne])return!1;Ne+=1}return!0}function oe(ut){var Ne;for(Ne=0;Ne<16;Ne+=1)ut.props[Ne]=this.props[Ne];return ut}function le(ut){var Ne;for(Ne=0;Ne<16;Ne+=1)this.props[Ne]=ut[Ne]}function be(ut,Ne,ct){return{x:ut*this.props[0]+Ne*this.props[4]+ct*this.props[8]+this.props[12],y:ut*this.props[1]+Ne*this.props[5]+ct*this.props[9]+this.props[13],z:ut*this.props[2]+Ne*this.props[6]+ct*this.props[10]+this.props[14]}}function Ae(ut,Ne,ct){return ut*this.props[0]+Ne*this.props[4]+ct*this.props[8]+this.props[12]}function $e(ut,Ne,ct){return ut*this.props[1]+Ne*this.props[5]+ct*this.props[9]+this.props[13]}function Be(ut,Ne,ct){return ut*this.props[2]+Ne*this.props[6]+ct*this.props[10]+this.props[14]}function qe(){var ut=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ne=this.props[5]/ut,ct=-this.props[1]/ut,Yt=-this.props[4]/ut,yn=this.props[0]/ut,fn=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/ut,sn=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/ut,ln=new Matrix;return ln.props[0]=Ne,ln.props[1]=ct,ln.props[4]=Yt,ln.props[5]=yn,ln.props[12]=fn,ln.props[13]=sn,ln}function pt(ut){return this.getInverseMatrix().applyToPointArray(ut[0],ut[1],ut[2]||0)}function j(ut){var Ne,ct=ut.length,Yt=[];for(Ne=0;Ne<ct;Ne+=1)Yt[Ne]=pt(ut[Ne]);return Yt}function Se(ut,Ne,ct){var Yt=createTypedArray("float32",6);if(this.isIdentity())Yt[0]=ut[0],Yt[1]=ut[1],Yt[2]=Ne[0],Yt[3]=Ne[1],Yt[4]=ct[0],Yt[5]=ct[1];else{var yn=this.props[0],fn=this.props[1],sn=this.props[4],ln=this.props[5],Nt=this.props[12],Pn=this.props[13];Yt[0]=ut[0]*yn+ut[1]*sn+Nt,Yt[1]=ut[0]*fn+ut[1]*ln+Pn,Yt[2]=Ne[0]*yn+Ne[1]*sn+Nt,Yt[3]=Ne[0]*fn+Ne[1]*ln+Pn,Yt[4]=ct[0]*yn+ct[1]*sn+Nt,Yt[5]=ct[0]*fn+ct[1]*ln+Pn}return Yt}function at(ut,Ne,ct){return this.isIdentity()?[ut,Ne,ct]:[ut*this.props[0]+Ne*this.props[4]+ct*this.props[8]+this.props[12],ut*this.props[1]+Ne*this.props[5]+ct*this.props[9]+this.props[13],ut*this.props[2]+Ne*this.props[6]+ct*this.props[10]+this.props[14]]}function it(ut,Ne){if(this.isIdentity())return ut+","+Ne;var ct=this.props;return Math.round(100*(ut*ct[0]+Ne*ct[4]+ct[12]))/100+","+Math.round(100*(ut*ct[1]+Ne*ct[5]+ct[13]))/100}function yt(){for(var ut=0,Ne=this.props,ct="matrix3d(";ut<16;)ct+=_(1e4*Ne[ut])/1e4,ct+=15===ut?")":",",ut+=1;return ct}function Lt(ut){return ut<1e-6&&ut>0||ut>-1e-6&&ut<0?_(1e4*ut)/1e4:ut}function Jt(){var ut=this.props;return"matrix("+Lt(ut[0])+","+Lt(ut[1])+","+Lt(ut[4])+","+Lt(ut[5])+","+Lt(ut[12])+","+Lt(ut[13])+")"}return function(){this.reset=C,this.rotate=E,this.rotateX=H,this.rotateY=L,this.rotateZ=U,this.skew=T,this.skewFromAxis=B,this.shear=X,this.scale=R,this.setTransform=N,this.translate=F,this.transform=G,this.applyToPoint=be,this.applyToX=Ae,this.applyToY=$e,this.applyToZ=Be,this.applyToPointArray=at,this.applyToTriplePoints=Se,this.applyToPointStringified=it,this.toCSS=yt,this.to2dCSS=Jt,this.clone=oe,this.cloneFromProps=le,this.equals=Q,this.inversePoints=j,this.inversePoint=pt,this.getInverseMatrix=qe,this._t=this.transform,this.isIdentity=I,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(p){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(p){setLocationHref(p)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(p){setSubframeEnabled(p)}function setPrefix(p){setIdPrefix(p)}function loadAnimation(p){return!0===standalone&&(p.animationData=JSON.parse(animationData)),animationManager.loadAnimation(p)}function setQuality(p){if("string"==typeof p)switch(p){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(p)&&p>1&&setDefaultCurveSegments(p);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(p,g){"expressions"===p&&setExpressionsPlugin(g)}function getFactory(p){switch(p){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(p){for(var g=queryString.split("&"),m=0;m<g.length;m+=1){var _=g[m].split("=");if(decodeURIComponent(_[0])==p)return decodeURIComponent(_[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(p){}var ShapeModifiers=(p={},g={},p.registerModifier=function(m,_){g[m]||(g[m]=_)},p.getModifier=function(m,_,C){return new g[m](_,C)},p),p,g;function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(p){if(!this.closed){p.sh.container.addDynamicProperty(p.sh);var g={shape:p.sh,data:p,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(g),this.addShapeToModifier(g),this._isAnimated&&p.setAsAnimated()}},ShapeModifier.prototype.init=function(p,g){this.shapes=[],this.elem=p,this.initDynamicPropertyContainer(p),this.initModifierProperties(p,g),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(p,g){this.s=PropertyFactory.getProp(p,g.s,0,.01,this),this.e=PropertyFactory.getProp(p,g.e,0,.01,this),this.o=PropertyFactory.getProp(p,g.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=g.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(p){p.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(p,g,m,_,C){var E=[];g<=1?E.push({s:p,e:g}):p>=1?E.push({s:p-1,e:g-1}):(E.push({s:p,e:1}),E.push({s:0,e:g-1}));var H,L,U=[],X=E.length;for(H=0;H<X;H+=1)(L=E[H]).e*C<_||L.s*C>_+m||U.push([L.s*C<=_?0:(L.s*C-_)/m,L.e*C>=_+m?1:(L.e*C-_)/m]);return U.length||U.push([0,0]),U},TrimModifier.prototype.releasePathsData=function(p){var g,m=p.length;for(g=0;g<m;g+=1)segmentsLengthPool.release(p[g]);return p.length=0,p},TrimModifier.prototype.processShapes=function(p){var g,m,_,C;if(this._mdf||p){var E=this.o.v%360/360;if(E<0&&(E+=1),(g=this.s.v>1?1+E:this.s.v<0?0+E:this.s.v+E)>(m=this.e.v>1?1+E:this.e.v<0?0+E:this.e.v+E)){var H=g;g=m,m=H}g=1e-4*Math.round(1e4*g),m=1e-4*Math.round(1e4*m),this.sValue=g,this.eValue=m}else g=this.sValue,m=this.eValue;var L,U,X,T,B,R=this.shapes.length,N=0;if(m===g)for(C=0;C<R;C+=1)this.shapes[C].localShapeCollection.releaseShapes(),this.shapes[C].shape._mdf=!0,this.shapes[C].shape.paths=this.shapes[C].localShapeCollection,this._mdf&&(this.shapes[C].pathsData.length=0);else if(1===m&&0===g||0===m&&1===g){if(this._mdf)for(C=0;C<R;C+=1)this.shapes[C].pathsData.length=0,this.shapes[C].shape._mdf=!0}else{var F,G,I=[];for(C=0;C<R;C+=1)if((F=this.shapes[C]).shape._mdf||this._mdf||p||2===this.m){if(U=(_=F.shape.paths)._length,B=0,!F.shape._mdf&&F.pathsData.length)B=F.totalShapeLength;else{for(X=this.releasePathsData(F.pathsData),L=0;L<U;L+=1)T=bez.getSegmentsLength(_.shapes[L]),X.push(T),B+=T.totalLength;F.totalShapeLength=B,F.pathsData=X}N+=B,F.shape._mdf=!0}else F.shape.paths=F.localShapeCollection;var Q,oe=g,le=m,be=0;for(C=R-1;C>=0;C-=1)if((F=this.shapes[C]).shape._mdf){for((G=F.localShapeCollection).releaseShapes(),2===this.m&&R>1?(Q=this.calculateShapeEdges(g,m,F.totalShapeLength,be,N),be+=F.totalShapeLength):Q=[[oe,le]],U=Q.length,L=0;L<U;L+=1){oe=Q[L][0],le=Q[L][1],I.length=0,le<=1?I.push({s:F.totalShapeLength*oe,e:F.totalShapeLength*le}):oe>=1?I.push({s:F.totalShapeLength*(oe-1),e:F.totalShapeLength*(le-1)}):(I.push({s:F.totalShapeLength*oe,e:F.totalShapeLength}),I.push({s:0,e:F.totalShapeLength*(le-1)}));var Ae=this.addShapes(F,I[0]);if(I[0].s!==I[0].e){if(I.length>1)if(F.shape.paths.shapes[F.shape.paths._length-1].c){var $e=Ae.pop();this.addPaths(Ae,G),Ae=this.addShapes(F,I[1],$e)}else this.addPaths(Ae,G),Ae=this.addShapes(F,I[1]);this.addPaths(Ae,G)}}F.shape.paths=G}}},TrimModifier.prototype.addPaths=function(p,g){var m,_=p.length;for(m=0;m<_;m+=1)g.addShape(p[m])},TrimModifier.prototype.addSegment=function(p,g,m,_,C,E,H){C.setXYAt(g[0],g[1],"o",E),C.setXYAt(m[0],m[1],"i",E+1),H&&C.setXYAt(p[0],p[1],"v",E),C.setXYAt(_[0],_[1],"v",E+1)},TrimModifier.prototype.addSegmentFromArray=function(p,g,m,_){g.setXYAt(p[1],p[5],"o",m),g.setXYAt(p[2],p[6],"i",m+1),_&&g.setXYAt(p[0],p[4],"v",m),g.setXYAt(p[3],p[7],"v",m+1)},TrimModifier.prototype.addShapes=function(p,g,m){var _,C,E,H,L,U,X,T,B=p.pathsData,R=p.shape.paths.shapes,N=p.shape.paths._length,F=0,G=[],I=!0;for(m?(L=m._length,T=m._length):(m=shapePool.newElement(),L=0,T=0),G.push(m),_=0;_<N;_+=1){for(U=B[_].lengths,m.c=R[_].c,E=R[_].c?U.length:U.length+1,C=1;C<E;C+=1)if(F+(H=U[C-1]).addedLength<g.s)F+=H.addedLength,m.c=!1;else{if(F>g.e){m.c=!1;break}g.s<=F&&g.e>=F+H.addedLength?(this.addSegment(R[_].v[C-1],R[_].o[C-1],R[_].i[C],R[_].v[C],m,L,I),I=!1):(X=bez.getNewSegment(R[_].v[C-1],R[_].v[C],R[_].o[C-1],R[_].i[C],(g.s-F)/H.addedLength,(g.e-F)/H.addedLength,U[C-1]),this.addSegmentFromArray(X,m,L,I),I=!1,m.c=!1),F+=H.addedLength,L+=1}if(R[_].c&&U.length){if(H=U[C-1],F<=g.e){var Q=U[C-1].addedLength;g.s<=F&&g.e>=F+Q?(this.addSegment(R[_].v[C-1],R[_].o[C-1],R[_].i[0],R[_].v[0],m,L,I),I=!1):(X=bez.getNewSegment(R[_].v[C-1],R[_].v[0],R[_].o[C-1],R[_].i[0],(g.s-F)/Q,(g.e-F)/Q,U[C-1]),this.addSegmentFromArray(X,m,L,I),I=!1,m.c=!1)}else m.c=!1;F+=H.addedLength,L+=1}if(m._length&&(m.setXYAt(m.v[T][0],m.v[T][1],"i",T),m.setXYAt(m.v[m._length-1][0],m.v[m._length-1][1],"o",m._length-1)),F>g.e)break;_<N-1&&(m=shapePool.newElement(),I=!0,G.push(m),L=0)}return G},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(p,g){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(p,g.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(p,g){var m=g/100,_=[0,0],C=p._length,E=0;for(E=0;E<C;E+=1)_[0]+=p.v[E][0],_[1]+=p.v[E][1];_[0]/=C,_[1]/=C;var R=shapePool.newElement();for(R.c=p.c,E=0;E<C;E+=1)R.setTripleAt(p.v[E][0]+(_[0]-p.v[E][0])*m,p.v[E][1]+(_[1]-p.v[E][1])*m,p.o[E][0]+(_[0]-p.o[E][0])*-m,p.o[E][1]+(_[1]-p.o[E][1])*-m,p.i[E][0]+(_[0]-p.i[E][0])*-m,p.i[E][1]+(_[1]-p.i[E][1])*-m,E);return R},PuckerAndBloatModifier.prototype.processShapes=function(p){var g,m,_,C,E,H,L=this.shapes.length,U=this.amount.v;if(0!==U)for(m=0;m<L;m+=1){if(H=(E=this.shapes[m]).localShapeCollection,E.shape._mdf||this._mdf||p)for(H.releaseShapes(),E.shape._mdf=!0,g=E.shape.paths.shapes,C=E.shape.paths._length,_=0;_<C;_+=1)H.addShape(this.processPath(g[_],U));E.shape.paths=E.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var p=[0,0];function g(m,_,C){if(this.elem=m,this.frameId=-1,this.propType="transform",this.data=_,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(C||m),_.p&&_.p.s?(this.px=PropertyFactory.getProp(m,_.p.x,0,0,this),this.py=PropertyFactory.getProp(m,_.p.y,0,0,this),_.p.z&&(this.pz=PropertyFactory.getProp(m,_.p.z,0,0,this))):this.p=PropertyFactory.getProp(m,_.p||{k:[0,0,0]},1,0,this),_.rx){if(this.rx=PropertyFactory.getProp(m,_.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(m,_.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(m,_.rz,0,degToRads,this),_.or.k[0].ti){var E,H=_.or.k.length;for(E=0;E<H;E+=1)_.or.k[E].to=null,_.or.k[E].ti=null}this.or=PropertyFactory.getProp(m,_.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(m,_.r||{k:0},0,degToRads,this);_.sk&&(this.sk=PropertyFactory.getProp(m,_.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(m,_.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(m,_.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(m,_.s||{k:[100,100,100]},1,.01,this),this.o=_.o?PropertyFactory.getProp(m,_.o,0,.01,m):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return g.prototype={applyToMatrix:function(m){var _=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||_,this.a&&m.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&m.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&m.skewFromAxis(-this.sk.v,this.sa.v),this.r?m.rotate(-this.r.v):m.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?m.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):m.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(m){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||m){var _;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var C,E;if(_=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(C=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/_,0),E=this.p.getValueAtTime(this.p.keyframes[0].t/_,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(C=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/_,0),E=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/_,0)):(C=this.p.pv,E=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/_,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){C=[],E=[];var H=this.px,L=this.py;H._caching.lastFrame+H.offsetTime<=H.keyframes[0].t?(C[0]=H.getValueAtTime((H.keyframes[0].t+.01)/_,0),C[1]=L.getValueAtTime((L.keyframes[0].t+.01)/_,0),E[0]=H.getValueAtTime(H.keyframes[0].t/_,0),E[1]=L.getValueAtTime(L.keyframes[0].t/_,0)):H._caching.lastFrame+H.offsetTime>=H.keyframes[H.keyframes.length-1].t?(C[0]=H.getValueAtTime(H.keyframes[H.keyframes.length-1].t/_,0),C[1]=L.getValueAtTime(L.keyframes[L.keyframes.length-1].t/_,0),E[0]=H.getValueAtTime((H.keyframes[H.keyframes.length-1].t-.01)/_,0),E[1]=L.getValueAtTime((L.keyframes[L.keyframes.length-1].t-.01)/_,0)):(C=[H.pv,L.pv],E[0]=H.getValueAtTime((H._caching.lastFrame+H.offsetTime-.01)/_,H.offsetTime),E[1]=L.getValueAtTime((L._caching.lastFrame+L.offsetTime-.01)/_,L.offsetTime))}else C=E=p;this.v.rotate(-Math.atan2(C[1]-E[1],C[0]-E[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],g),g.prototype.addDynamicProperty=function(m){this._addDynamicProperty(m),this.elem.addDynamicProperty(m),this._isDirty=!0},g.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(m,_,C){return new g(m,_,C)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(p){for(var g=p.fStyle?p.fStyle.split(" "):[],m="normal",_="normal",C=g.length,E=0;E<C;E+=1)switch(g[E].toLowerCase()){case"italic":_="italic";break;case"bold":m="700";break;case"black":m="900";break;case"medium":m="500";break;case"regular":case"normal":m="400";break;case"light":case"thin":m="200"}return{style:_,weight:p.fWeight||m}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(p,g){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(p,g.c,0,null,this),this.o=PropertyFactory.getProp(p,g.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(p,g.tr,this),this.so=PropertyFactory.getProp(p,g.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(p,g.tr.eo,0,.01,this),this.data=g,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(p,g,m,_,C,E){var H=E?-1:1,L=_.s.v[0]+(1-_.s.v[0])*(1-C),U=_.s.v[1]+(1-_.s.v[1])*(1-C);p.translate(_.p.v[0]*H*C,_.p.v[1]*H*C,_.p.v[2]),g.translate(-_.a.v[0],-_.a.v[1],_.a.v[2]),g.rotate(-_.r.v*H*C),g.translate(_.a.v[0],_.a.v[1],_.a.v[2]),m.translate(-_.a.v[0],-_.a.v[1],_.a.v[2]),m.scale(E?1/L:L,E?1/U:U),m.translate(_.a.v[0],_.a.v[1],_.a.v[2])},RepeaterModifier.prototype.init=function(p,g,m,_){for(this.elem=p,this.arr=g,this.pos=m,this.elemsData=_,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(p),this.initModifierProperties(p,g[m]);m>0;)this._elements.unshift(g[m-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(p){var g,m=p.length;for(g=0;g<m;g+=1)p[g]._processed=!1,"gr"===p[g].ty&&this.resetElements(p[g].it)},RepeaterModifier.prototype.cloneElements=function(p){var g=JSON.parse(JSON.stringify(p));return this.resetElements(g),g},RepeaterModifier.prototype.changeGroupRender=function(p,g){var m,_=p.length;for(m=0;m<_;m+=1)p[m]._render=g,"gr"===p[m].ty&&this.changeGroupRender(p[m].it,g)},RepeaterModifier.prototype.processShapes=function(p){var g,m,_,C,E,H=!1;if(this._mdf||p){var L,U=Math.ceil(this.c.v);if(this._groups.length<U){for(;this._groups.length<U;){var X={it:this.cloneElements(this._elements),ty:"gr"};X.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,X),this._groups.splice(0,0,X),this._currentCopies+=1}this.elem.reloadShapes(),H=!0}for(E=0,_=0;_<=this._groups.length-1;_+=1){if(this._groups[_]._render=L=E<U,this.changeGroupRender(this._groups[_].it,L),!L){var T=this.elemsData[_].it,B=T[T.length-1];0!==B.transform.op.v?(B.transform.op._mdf=!0,B.transform.op.v=0):B.transform.op._mdf=!1}E+=1}this._currentCopies=U;var R=this.o.v,N=R%1,F=R>0?Math.floor(R):Math.ceil(R),G=this.pMatrix.props,I=this.rMatrix.props,Q=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var oe,le,be=0;if(R>0){for(;be<F;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),be+=1;N&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,N,!1),be+=N)}else if(R<0){for(;be>F;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),be-=1;N&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-N,!0),be-=N)}for(_=1===this.data.m?0:this._currentCopies-1,C=1===this.data.m?1:-1,E=this._currentCopies;E;){if(le=(m=(g=this.elemsData[_].it)[g.length-1].transform.mProps.v.props).length,g[g.length-1].transform.mProps._mdf=!0,g[g.length-1].transform.op._mdf=!0,g[g.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+_/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==be){for((0!==_&&1===C||_!==this._currentCopies-1&&-1===C)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],I[8],I[9],I[10],I[11],I[12],I[13],I[14],I[15]),this.matrix.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],Q[8],Q[9],Q[10],Q[11],Q[12],Q[13],Q[14],Q[15]),this.matrix.transform(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],G[8],G[9],G[10],G[11],G[12],G[13],G[14],G[15]),oe=0;oe<le;oe+=1)m[oe]=this.matrix.props[oe];this.matrix.reset()}else for(this.matrix.reset(),oe=0;oe<le;oe+=1)m[oe]=this.matrix.props[oe];be+=1,E-=1,_+=C}}else for(E=this._currentCopies,_=0,C=1;E;)m=(g=this.elemsData[_].it)[g.length-1].transform.mProps.v.props,g[g.length-1].transform.mProps._mdf=!1,g[g.length-1].transform.op._mdf=!1,E-=1,_+=C;return H},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(p,g){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(p,g.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(p,g){var m,_=shapePool.newElement();_.c=p.c;var C,E,H,L,U,X,T,B,R,N,F,G,I=p._length,Q=0;for(m=0;m<I;m+=1)E=p.i[m],(C=p.v[m])[0]===(H=p.o[m])[0]&&C[1]===H[1]&&C[0]===E[0]&&C[1]===E[1]?0!==m&&m!==I-1||p.c?(L=0===m?p.v[I-1]:p.v[m-1],X=(U=Math.sqrt(Math.pow(C[0]-L[0],2)+Math.pow(C[1]-L[1],2)))?Math.min(U/2,g)/U:0,T=F=C[0]+(L[0]-C[0])*X,B=G=C[1]-(C[1]-L[1])*X,_.setTripleAt(T,B,T-(T-C[0])*roundCorner,B-(B-C[1])*roundCorner,F,G,Q),Q+=1,L=m===I-1?p.v[0]:p.v[m+1],X=(U=Math.sqrt(Math.pow(C[0]-L[0],2)+Math.pow(C[1]-L[1],2)))?Math.min(U/2,g)/U:0,T=R=C[0]+(L[0]-C[0])*X,B=N=C[1]+(L[1]-C[1])*X,_.setTripleAt(T,B,R,N,F=T-(T-C[0])*roundCorner,G=B-(B-C[1])*roundCorner,Q),Q+=1):(_.setTripleAt(C[0],C[1],H[0],H[1],E[0],E[1],Q),Q+=1):(_.setTripleAt(p.v[m][0],p.v[m][1],p.o[m][0],p.o[m][1],p.i[m][0],p.i[m][1],Q),Q+=1);return _},RoundCornersModifier.prototype.processShapes=function(p){var g,m,_,C,E,H,L=this.shapes.length,U=this.rd.v;if(0!==U)for(m=0;m<L;m+=1){if(H=(E=this.shapes[m]).localShapeCollection,E.shape._mdf||this._mdf||p)for(H.releaseShapes(),E.shape._mdf=!0,g=E.shape.paths.shapes,C=E.shape.paths._length,_=0;_<C;_+=1)H.addShape(this.processPath(g[_],U));E.shape.paths=E.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var p={w:0,size:0,shapes:[],data:{shapes:[]}},g=[];g=g.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var m=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],_=[65039,8205];function C(U,X){var T=createTag("span");T.setAttribute("aria-hidden",!0),T.style.fontFamily=X;var B=createTag("span");B.innerText="giItT1WQy@!-/#",T.style.position="absolute",T.style.left="-10000px",T.style.top="-10000px",T.style.fontSize="300px",T.style.fontVariant="normal",T.style.fontStyle="normal",T.style.fontWeight="normal",T.style.letterSpacing="0",T.appendChild(B),document.body.appendChild(T);var R=B.offsetWidth;return B.style.fontFamily=function(N){var F,G=N.split(","),I=G.length,Q=[];for(F=0;F<I;F+=1)"sans-serif"!==G[F]&&"monospace"!==G[F]&&Q.push(G[F]);return Q.join(",")}(U)+", "+X,{node:B,w:R,parent:T}}function E(U,X){var T,B=document.body&&X?"svg":"canvas",R=getFontProperties(U);if("svg"===B){var N=createNS("text");N.style.fontSize="100px",N.setAttribute("font-family",U.fFamily),N.setAttribute("font-style",R.style),N.setAttribute("font-weight",R.weight),N.textContent="1",U.fClass?(N.style.fontFamily="inherit",N.setAttribute("class",U.fClass)):N.style.fontFamily=U.fFamily,X.appendChild(N),T=N}else{var F=new OffscreenCanvas(500,500).getContext("2d");F.font=R.style+" "+R.weight+" 100px "+U.fFamily,T=F}return{measureText:function(G){return"svg"===B?(T.textContent=G,T.getComputedTextLength()):T.measureText(G).width}}}var H=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return H.isModifier=function(U,X){var T=U.toString(16)+X.toString(16);return-1!==m.indexOf(T)},H.isZeroWidthJoiner=function(U,X){return X?U===_[0]&&X===_[1]:U===_[1]},H.isCombinedCharacter=function(U){return-1!==g.indexOf(U)},H.prototype={addChars:function(U){if(U){var X;this.chars||(this.chars=[]);var T,B,R=U.length,N=this.chars.length;for(X=0;X<R;X+=1){for(T=0,B=!1;T<N;)this.chars[T].style===U[X].style&&this.chars[T].fFamily===U[X].fFamily&&this.chars[T].ch===U[X].ch&&(B=!0),T+=1;B||(this.chars.push(U[X]),N+=1)}}},addFonts:function(U,X){if(U){if(this.chars)return this.isLoaded=!0,void(this.fonts=U.list);if(!document.body)return this.isLoaded=!0,U.list.forEach(function(be){be.helper=E(be),be.cache={}}),void(this.fonts=U.list);var T,B=U.list,R=B.length,N=R;for(T=0;T<R;T+=1){var F,G,I=!0;if(B[T].loaded=!1,B[T].monoCase=C(B[T].fFamily,"monospace"),B[T].sansCase=C(B[T].fFamily,"sans-serif"),B[T].fPath){if("p"===B[T].fOrigin||3===B[T].origin){if((F=document.querySelectorAll('style[f-forigin="p"][f-family="'+B[T].fFamily+'"], style[f-origin="3"][f-family="'+B[T].fFamily+'"]')).length>0&&(I=!1),I){var Q=createTag("style");Q.setAttribute("f-forigin",B[T].fOrigin),Q.setAttribute("f-origin",B[T].origin),Q.setAttribute("f-family",B[T].fFamily),Q.type="text/css",Q.innerText="@font-face {font-family: "+B[T].fFamily+"; font-style: normal; src: url('"+B[T].fPath+"');}",X.appendChild(Q)}}else if("g"===B[T].fOrigin||1===B[T].origin){for(F=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),G=0;G<F.length;G+=1)-1!==F[G].href.indexOf(B[T].fPath)&&(I=!1);if(I){var oe=createTag("link");oe.setAttribute("f-forigin",B[T].fOrigin),oe.setAttribute("f-origin",B[T].origin),oe.type="text/css",oe.rel="stylesheet",oe.href=B[T].fPath,document.body.appendChild(oe)}}else if("t"===B[T].fOrigin||2===B[T].origin){for(F=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),G=0;G<F.length;G+=1)B[T].fPath===F[G].src&&(I=!1);if(I){var le=createTag("link");le.setAttribute("f-forigin",B[T].fOrigin),le.setAttribute("f-origin",B[T].origin),le.setAttribute("rel","stylesheet"),le.setAttribute("href",B[T].fPath),X.appendChild(le)}}}else B[T].loaded=!0,N-=1;B[T].helper=E(B[T],X),B[T].cache={},this.fonts.push(B[T])}0===N?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(U,X,T){for(var B=0,R=this.chars.length;B<R;){if(this.chars[B].ch===U&&this.chars[B].style===X&&this.chars[B].fFamily===T)return this.chars[B];B+=1}return("string"==typeof U&&13!==U.charCodeAt(0)||!U)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",U,X,T)),p},getFontByName:function(U){for(var X=0,T=this.fonts.length;X<T;){if(this.fonts[X].fName===U)return this.fonts[X];X+=1}return this.fonts[0]},measureText:function(U,X,T){var B=this.getFontByName(X),R=U.charCodeAt(0);if(!B.cache[R+1]){var N=B.helper;if(" "===U){var F=N.measureText("|"+U+"|"),G=N.measureText("||");B.cache[R+1]=(F-G)/100}else B.cache[R+1]=N.measureText(U)/100}return B.cache[R+1]*T},checkLoadedFonts:function(){var U,B=this.fonts.length,R=B;for(U=0;U<B;U+=1)this.fonts[U].loaded?R-=1:"n"===this.fonts[U].fOrigin||0===this.fonts[U].origin?this.fonts[U].loaded=!0:((this.fonts[U].monoCase.node.offsetWidth!==this.fonts[U].monoCase.w||this.fonts[U].sansCase.node.offsetWidth!==this.fonts[U].sansCase.w)&&(R-=1,this.fonts[U].loaded=!0),this.fonts[U].loaded&&(this.fonts[U].sansCase.parent.parentNode.removeChild(this.fonts[U].sansCase.parent),this.fonts[U].monoCase.parent.parentNode.removeChild(this.fonts[U].monoCase.parent)));0!==R&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},H}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(p){-1===this.renderableComponents.indexOf(p)&&this.renderableComponents.push(p)},removeRenderableComponent:function(p){-1!==this.renderableComponents.indexOf(p)&&this.renderableComponents.splice(this.renderableComponents.indexOf(p),1)},prepareRenderableFrame:function(p){this.checkLayerLimits(p)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(p){this.data.ip-this.data.st<=p&&this.data.op-this.data.st>p?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var p,g=this.renderableComponents.length;for(p=0;p<g;p+=1)this.renderableComponents[p].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function p(g,m){this._mask=g,this._data=m}return Object.defineProperty(p.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(p.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(g){var m,_=createSizedArray(g.viewData.length),C=g.viewData.length;for(m=0;m<C;m+=1)_[m]=new p(g.viewData[m],g.masksProperties[m]);return function(E){for(m=0;m<C;){if(g.masksProperties[m].nm===E)return _[m];m+=1}return null}}}(),ExpressionPropertyInterface=function(){var p={pv:0,v:0,mult:1},g={pv:[0,0,0],v:[0,0,0],mult:1};function m(C,E,H){Object.defineProperty(C,"velocity",{get:function(){return E.getVelocityAtTime(E.comp.currentFrame)}}),C.numKeys=E.keyframes?E.keyframes.length:0,C.key=function(L){if(!C.numKeys)return 0;var U;U="s"in E.keyframes[L-1]?E.keyframes[L-1].s:"e"in E.keyframes[L-2]?E.keyframes[L-2].e:E.keyframes[L-2].s;var X="unidimensional"===H?new Number(U):Object.assign({},U);return X.time=E.keyframes[L-1].t/E.elem.comp.globalData.frameRate,X.value="unidimensional"===H?U[0]:U,X},C.valueAtTime=E.getValueAtTime,C.speedAtTime=E.getSpeedAtTime,C.velocityAtTime=E.getVelocityAtTime,C.propertyGroup=E.propertyGroup}function _(){return p}return function(C){return C?"unidimensional"===C.propType?function(E){E&&"pv"in E||(E=p);var H=1/E.mult,L=E.pv*H,U=new Number(L);return U.value=L,m(U,E,"unidimensional"),function(){return E.k&&E.getValue(),U.value!==(L=E.v*H)&&((U=new Number(L)).value=L,m(U,E,"unidimensional")),U}}(C):function(E){E&&"pv"in E||(E=g);var H=1/E.mult,L=E.data&&E.data.l||E.pv.length,U=createTypedArray("float32",L),X=createTypedArray("float32",L);return U.value=X,m(U,E,"multidimensional"),function(){E.k&&E.getValue();for(var T=0;T<L;T+=1)X[T]=E.v[T]*H,U[T]=X[T];return U}}(C):_}}(),TransformExpressionInterface=function(p){function g(H){switch(H){case"scale":case"Scale":case"ADBE Scale":case 6:return g.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return g.rotation;case"ADBE Rotate X":return g.xRotation;case"ADBE Rotate Y":return g.yRotation;case"position":case"Position":case"ADBE Position":case 2:return g.position;case"ADBE Position_0":return g.xPosition;case"ADBE Position_1":return g.yPosition;case"ADBE Position_2":return g.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return g.anchorPoint;case"opacity":case"Opacity":case 11:return g.opacity;default:return null}}var m,_,C,E;return Object.defineProperty(g,"rotation",{get:ExpressionPropertyInterface(p.r||p.rz)}),Object.defineProperty(g,"zRotation",{get:ExpressionPropertyInterface(p.rz||p.r)}),Object.defineProperty(g,"xRotation",{get:ExpressionPropertyInterface(p.rx)}),Object.defineProperty(g,"yRotation",{get:ExpressionPropertyInterface(p.ry)}),Object.defineProperty(g,"scale",{get:ExpressionPropertyInterface(p.s)}),p.p?E=ExpressionPropertyInterface(p.p):(m=ExpressionPropertyInterface(p.px),_=ExpressionPropertyInterface(p.py),p.pz&&(C=ExpressionPropertyInterface(p.pz))),Object.defineProperty(g,"position",{get:function(){return p.p?E():[m(),_(),C?C():0]}}),Object.defineProperty(g,"xPosition",{get:ExpressionPropertyInterface(p.px)}),Object.defineProperty(g,"yPosition",{get:ExpressionPropertyInterface(p.py)}),Object.defineProperty(g,"zPosition",{get:ExpressionPropertyInterface(p.pz)}),Object.defineProperty(g,"anchorPoint",{get:ExpressionPropertyInterface(p.a)}),Object.defineProperty(g,"opacity",{get:ExpressionPropertyInterface(p.o)}),Object.defineProperty(g,"skew",{get:ExpressionPropertyInterface(p.sk)}),Object.defineProperty(g,"skewAxis",{get:ExpressionPropertyInterface(p.sa)}),Object.defineProperty(g,"orientation",{get:ExpressionPropertyInterface(p.or)}),g},LayerExpressionInterface=function(){function p(X){var T=new Matrix;return void 0!==X?this._elem.finalTransform.mProp.getValueAtTime(X).clone(T):this._elem.finalTransform.mProp.applyToMatrix(T),T}function g(X,T){var B=this.getMatrix(T);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.applyPoint(B,X)}function m(X,T){var B=this.getMatrix(T);return this.applyPoint(B,X)}function _(X,T){var B=this.getMatrix(T);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.invertPoint(B,X)}function C(X,T){var B=this.getMatrix(T);return this.invertPoint(B,X)}function E(X,T){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,R=this._elem.hierarchy.length;for(B=0;B<R;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(X)}return X.applyToPointArray(T[0],T[1],T[2]||0)}function H(X,T){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,R=this._elem.hierarchy.length;for(B=0;B<R;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(X)}return X.inversePoint(T)}function L(X){var T=new Matrix;if(T.reset(),this._elem.finalTransform.mProp.applyToMatrix(T),this._elem.hierarchy&&this._elem.hierarchy.length){var B,R=this._elem.hierarchy.length;for(B=0;B<R;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(T);return T.inversePoint(X)}return T.inversePoint(X)}function U(){return[1,1,1,1]}return function(X){var T;function B(N){switch(N){case"ADBE Root Vectors Group":case"Contents":case 2:return B.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return T;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return B.effect;case"ADBE Text Properties":return B.textInterface;default:return null}}B.getMatrix=p,B.invertPoint=H,B.applyPoint=E,B.toWorld=m,B.toWorldVec=g,B.fromWorld=C,B.fromWorldVec=_,B.toComp=m,B.fromComp=L,B.sampleImage=U,B.sourceRectAtTime=X.sourceRectAtTime.bind(X),B._elem=X;var R=getDescriptor(T=TransformExpressionInterface(X.finalTransform.mProp),"anchorPoint");return Object.defineProperties(B,{hasParent:{get:function(){return X.hierarchy.length}},parent:{get:function(){return X.hierarchy[0].layerInterface}},rotation:getDescriptor(T,"rotation"),scale:getDescriptor(T,"scale"),position:getDescriptor(T,"position"),opacity:getDescriptor(T,"opacity"),anchorPoint:R,anchor_point:R,transform:{get:function(){return T}},active:{get:function(){return X.isInRange}}}),B.startTime=X.data.st,B.index=X.data.ind,B.source=X.data.refId,B.height=0===X.data.ty?X.data.h:100,B.width=0===X.data.ty?X.data.w:100,B.inPoint=X.data.ip/X.comp.globalData.frameRate,B.outPoint=X.data.op/X.comp.globalData.frameRate,B._name=X.data.nm,B.registerMaskInterface=function(N){B.mask=new MaskManagerInterface(N,X)},B.registerEffectsInterface=function(N){B.effect=N},B}}(),propertyGroupFactory=function(p,g){return function(m){return(m=void 0===m?1:m)<=0?p:g(m-1)}},PropertyInterface=function(p,g){var m={_name:p};return function(_){return(_=void 0===_?1:_)<=0?m:g(_-1)}},EffectsExpressionInterface=function(){function p(m,_,C,E){function H(B){for(var R=m.ef,N=0,F=R.length;N<F;){if(B===R[N].nm||B===R[N].mn||B===R[N].ix)return 5===R[N].ty?X[N]:X[N]();N+=1}throw new Error}var L,U=propertyGroupFactory(H,C),X=[],T=m.ef.length;for(L=0;L<T;L+=1)X.push(5===m.ef[L].ty?p(m.ef[L],_.effectElements[L],_.effectElements[L].propertyGroup,E):g(_.effectElements[L],m.ef[L].ty,E,U));return"ADBE Color Control"===m.mn&&Object.defineProperty(H,"color",{get:function(){return X[0]()}}),Object.defineProperties(H,{numProperties:{get:function(){return m.np}},_name:{value:m.nm},propertyGroup:{value:U}}),H.active=H.enabled=0!==m.en,H}function g(m,_,C,E){var H=ExpressionPropertyInterface(m.p);return m.p.setGroupProperty&&m.p.setGroupProperty(PropertyInterface("",E)),function(){return 10===_?C.comp.compInterface(m.p.v):H()}}return{createEffectsInterface:function(m,_){if(m.effectsManager){var C,E=[],H=m.data.ef,L=m.effectsManager.effectElements.length;for(C=0;C<L;C+=1)E.push(p(H[C],m.effectsManager.effectElements[C],_,m));var U=m.data.ef||[],X=function(T){for(C=0,L=U.length;C<L;){if(T===U[C].nm||T===U[C].mn||T===U[C].ix)return E[C];C+=1}return null};return Object.defineProperty(X,"numProperties",{get:function(){return U.length}}),X}return null}}}(),CompExpressionInterface=function(p){function g(m){for(var _=0,C=p.layers.length;_<C;){if(p.layers[_].nm===m||p.layers[_].ind===m)return p.elements[_].layerInterface;_+=1}return null}return Object.defineProperty(g,"_name",{value:p.data.nm}),g.layer=g,g.pixelAspect=1,g.height=p.data.h||p.globalData.compSize.h,g.width=p.data.w||p.globalData.compSize.w,g.pixelAspect=1,g.frameDuration=1/p.globalData.frameRate,g.displayStartTime=0,g.numLayers=p.layers.length,g},ShapePathInterface=function(p,g,m){var _=g.sh;function C(H){return"Shape"===H||"shape"===H||"Path"===H||"path"===H||"ADBE Vector Shape"===H||2===H?C.path:null}var E=propertyGroupFactory(C,m);return _.setGroupProperty(PropertyInterface("Path",E)),Object.defineProperties(C,{path:{get:function(){return _.k&&_.getValue(),_}},shape:{get:function(){return _.k&&_.getValue(),_}},_name:{value:p.nm},ix:{value:p.ix},propertyIndex:{value:p.ix},mn:{value:p.mn},propertyGroup:{value:m}}),C},ShapeExpressionInterface=function(){function p(N,F,G){var I,Q=[],oe=N?N.length:0;for(I=0;I<oe;I+=1)"gr"===N[I].ty?Q.push(g(N[I],F[I],G)):"fl"===N[I].ty?Q.push(m(N[I],F[I],G)):"st"===N[I].ty?Q.push(E(N[I],F[I],G)):"tm"===N[I].ty?Q.push(H(N[I],F[I],G)):"tr"===N[I].ty||Q.push("el"===N[I].ty?U(N[I],F[I],G):"sr"===N[I].ty?X(N[I],F[I],G):"sh"===N[I].ty?ShapePathInterface(N[I],F[I],G):"rc"===N[I].ty?T(N[I],F[I],G):"rd"===N[I].ty?B(N[I],F[I],G):"rp"===N[I].ty?R(N[I],F[I],G):"gf"===N[I].ty?_(N[I],F[I],G):function(){return null});return Q}function g(N,F,G){var I=function(le){switch(le){case"ADBE Vectors Group":case"Contents":case 2:return I.content;default:return I.transform}};I.propertyGroup=propertyGroupFactory(I,G);var Q=function(le,be,Ae){var $e,Be=function(pt){for(var j=0,Se=$e.length;j<Se;){if($e[j]._name===pt||$e[j].mn===pt||$e[j].propertyIndex===pt||$e[j].ix===pt||$e[j].ind===pt)return $e[j];j+=1}return"number"==typeof pt?$e[pt-1]:null};Be.propertyGroup=propertyGroupFactory(Be,Ae),$e=p(le.it,be.it,Be.propertyGroup),Be.numProperties=$e.length;var qe=L(le.it[le.it.length-1],be.it[be.it.length-1],Be.propertyGroup);return Be.transform=qe,Be.propertyIndex=le.cix,Be._name=le.nm,Be}(N,F,I.propertyGroup),oe=L(N.it[N.it.length-1],F.it[F.it.length-1],I.propertyGroup);return I.content=Q,I.transform=oe,Object.defineProperty(I,"_name",{get:function(){return N.nm}}),I.numProperties=N.np,I.propertyIndex=N.ix,I.nm=N.nm,I.mn=N.mn,I}function m(N,F,G){function I(Q){return"Color"===Q||"color"===Q?I.color:"Opacity"===Q||"opacity"===Q?I.opacity:null}return Object.defineProperties(I,{color:{get:ExpressionPropertyInterface(F.c)},opacity:{get:ExpressionPropertyInterface(F.o)},_name:{value:N.nm},mn:{value:N.mn}}),F.c.setGroupProperty(PropertyInterface("Color",G)),F.o.setGroupProperty(PropertyInterface("Opacity",G)),I}function _(N,F,G){function I(Q){return"Start Point"===Q||"start point"===Q?I.startPoint:"End Point"===Q||"end point"===Q?I.endPoint:"Opacity"===Q||"opacity"===Q?I.opacity:null}return Object.defineProperties(I,{startPoint:{get:ExpressionPropertyInterface(F.s)},endPoint:{get:ExpressionPropertyInterface(F.e)},opacity:{get:ExpressionPropertyInterface(F.o)},type:{get:function(){return"a"}},_name:{value:N.nm},mn:{value:N.mn}}),F.s.setGroupProperty(PropertyInterface("Start Point",G)),F.e.setGroupProperty(PropertyInterface("End Point",G)),F.o.setGroupProperty(PropertyInterface("Opacity",G)),I}function E(N,F,G){var I,Be,Q=propertyGroupFactory($e,G),oe=propertyGroupFactory(Ae,Q),be=N.d?N.d.length:0,Ae={};for(I=0;I<be;I+=1)Be=I,Object.defineProperty(Ae,N.d[Be].nm,{get:ExpressionPropertyInterface(F.d.dataProps[Be].p)}),F.d.dataProps[I].p.setGroupProperty(oe);function $e(Be){return"Color"===Be||"color"===Be?$e.color:"Opacity"===Be||"opacity"===Be?$e.opacity:"Stroke Width"===Be||"stroke width"===Be?$e.strokeWidth:null}return Object.defineProperties($e,{color:{get:ExpressionPropertyInterface(F.c)},opacity:{get:ExpressionPropertyInterface(F.o)},strokeWidth:{get:ExpressionPropertyInterface(F.w)},dash:{get:function(){return Ae}},_name:{value:N.nm},mn:{value:N.mn}}),F.c.setGroupProperty(PropertyInterface("Color",Q)),F.o.setGroupProperty(PropertyInterface("Opacity",Q)),F.w.setGroupProperty(PropertyInterface("Stroke Width",Q)),$e}function H(N,F,G){function I(oe){return oe===N.e.ix||"End"===oe||"end"===oe?I.end:oe===N.s.ix?I.start:oe===N.o.ix?I.offset:null}var Q=propertyGroupFactory(I,G);return I.propertyIndex=N.ix,F.s.setGroupProperty(PropertyInterface("Start",Q)),F.e.setGroupProperty(PropertyInterface("End",Q)),F.o.setGroupProperty(PropertyInterface("Offset",Q)),I.propertyIndex=N.ix,I.propertyGroup=G,Object.defineProperties(I,{start:{get:ExpressionPropertyInterface(F.s)},end:{get:ExpressionPropertyInterface(F.e)},offset:{get:ExpressionPropertyInterface(F.o)},_name:{value:N.nm}}),I.mn=N.mn,I}function L(N,F,G){function I(oe){return N.a.ix===oe||"Anchor Point"===oe?I.anchorPoint:N.o.ix===oe||"Opacity"===oe?I.opacity:N.p.ix===oe||"Position"===oe?I.position:N.r.ix===oe||"Rotation"===oe||"ADBE Vector Rotation"===oe?I.rotation:N.s.ix===oe||"Scale"===oe?I.scale:N.sk&&N.sk.ix===oe||"Skew"===oe?I.skew:N.sa&&N.sa.ix===oe||"Skew Axis"===oe?I.skewAxis:null}var Q=propertyGroupFactory(I,G);return F.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Q)),F.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Q)),F.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Q)),F.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Q)),F.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Q)),F.transform.mProps.sk&&(F.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Q)),F.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Q))),F.transform.op.setGroupProperty(PropertyInterface("Opacity",Q)),Object.defineProperties(I,{opacity:{get:ExpressionPropertyInterface(F.transform.mProps.o)},position:{get:ExpressionPropertyInterface(F.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(F.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(F.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(F.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(F.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(F.transform.mProps.sa)},_name:{value:N.nm}}),I.ty="tr",I.mn=N.mn,I.propertyGroup=G,I}function U(N,F,G){function I(le){return N.p.ix===le?I.position:N.s.ix===le?I.size:null}var Q=propertyGroupFactory(I,G);I.propertyIndex=N.ix;var oe="tm"===F.sh.ty?F.sh.prop:F.sh;return oe.s.setGroupProperty(PropertyInterface("Size",Q)),oe.p.setGroupProperty(PropertyInterface("Position",Q)),Object.defineProperties(I,{size:{get:ExpressionPropertyInterface(oe.s)},position:{get:ExpressionPropertyInterface(oe.p)},_name:{value:N.nm}}),I.mn=N.mn,I}function X(N,F,G){function I(le){return N.p.ix===le?I.position:N.r.ix===le?I.rotation:N.pt.ix===le?I.points:N.or.ix===le||"ADBE Vector Star Outer Radius"===le?I.outerRadius:N.os.ix===le?I.outerRoundness:!N.ir||N.ir.ix!==le&&"ADBE Vector Star Inner Radius"!==le?N.is&&N.is.ix===le?I.innerRoundness:null:I.innerRadius}var Q=propertyGroupFactory(I,G),oe="tm"===F.sh.ty?F.sh.prop:F.sh;return I.propertyIndex=N.ix,oe.or.setGroupProperty(PropertyInterface("Outer Radius",Q)),oe.os.setGroupProperty(PropertyInterface("Outer Roundness",Q)),oe.pt.setGroupProperty(PropertyInterface("Points",Q)),oe.p.setGroupProperty(PropertyInterface("Position",Q)),oe.r.setGroupProperty(PropertyInterface("Rotation",Q)),N.ir&&(oe.ir.setGroupProperty(PropertyInterface("Inner Radius",Q)),oe.is.setGroupProperty(PropertyInterface("Inner Roundness",Q))),Object.defineProperties(I,{position:{get:ExpressionPropertyInterface(oe.p)},rotation:{get:ExpressionPropertyInterface(oe.r)},points:{get:ExpressionPropertyInterface(oe.pt)},outerRadius:{get:ExpressionPropertyInterface(oe.or)},outerRoundness:{get:ExpressionPropertyInterface(oe.os)},innerRadius:{get:ExpressionPropertyInterface(oe.ir)},innerRoundness:{get:ExpressionPropertyInterface(oe.is)},_name:{value:N.nm}}),I.mn=N.mn,I}function T(N,F,G){function I(le){return N.p.ix===le?I.position:N.r.ix===le?I.roundness:N.s.ix===le||"Size"===le||"ADBE Vector Rect Size"===le?I.size:null}var Q=propertyGroupFactory(I,G),oe="tm"===F.sh.ty?F.sh.prop:F.sh;return I.propertyIndex=N.ix,oe.p.setGroupProperty(PropertyInterface("Position",Q)),oe.s.setGroupProperty(PropertyInterface("Size",Q)),oe.r.setGroupProperty(PropertyInterface("Rotation",Q)),Object.defineProperties(I,{position:{get:ExpressionPropertyInterface(oe.p)},roundness:{get:ExpressionPropertyInterface(oe.r)},size:{get:ExpressionPropertyInterface(oe.s)},_name:{value:N.nm}}),I.mn=N.mn,I}function B(N,F,G){function I(le){return N.r.ix===le||"Round Corners 1"===le?I.radius:null}var Q=propertyGroupFactory(I,G),oe=F;return I.propertyIndex=N.ix,oe.rd.setGroupProperty(PropertyInterface("Radius",Q)),Object.defineProperties(I,{radius:{get:ExpressionPropertyInterface(oe.rd)},_name:{value:N.nm}}),I.mn=N.mn,I}function R(N,F,G){function I(le){return N.c.ix===le||"Copies"===le?I.copies:N.o.ix===le||"Offset"===le?I.offset:null}var Q=propertyGroupFactory(I,G),oe=F;return I.propertyIndex=N.ix,oe.c.setGroupProperty(PropertyInterface("Copies",Q)),oe.o.setGroupProperty(PropertyInterface("Offset",Q)),Object.defineProperties(I,{copies:{get:ExpressionPropertyInterface(oe.c)},offset:{get:ExpressionPropertyInterface(oe.o)},_name:{value:N.nm}}),I.mn=N.mn,I}return function(N,F,G){var I;function Q(oe){if("number"==typeof oe)return 0===(oe=void 0===oe?1:oe)?G:I[oe-1];for(var le=0,be=I.length;le<be;){if(I[le]._name===oe)return I[le];le+=1}return null}return Q.propertyGroup=propertyGroupFactory(Q,function(){return G}),I=p(N,F,Q.propertyGroup),Q.numProperties=I.length,Q._name="Contents",Q}}(),TextExpressionInterface=function(p){var g,m;function _(C){return"ADBE Text Document"===C?_.sourceText:null}return Object.defineProperty(_,"sourceText",{get:function(){p.textProperty.getValue();var C=p.textProperty.currentData.t;return C!==g&&(p.textProperty.currentData.t=g,(m=new String(C)).value=C||new String(C)),m}}),_},getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(p){return blendModeEnums[p]||""}),blendModeEnums;function SliderEffect(p,g,m){this.p=PropertyFactory.getProp(g,p.v,0,0,m)}function AngleEffect(p,g,m){this.p=PropertyFactory.getProp(g,p.v,0,0,m)}function ColorEffect(p,g,m){this.p=PropertyFactory.getProp(g,p.v,1,0,m)}function PointEffect(p,g,m){this.p=PropertyFactory.getProp(g,p.v,1,0,m)}function LayerIndexEffect(p,g,m){this.p=PropertyFactory.getProp(g,p.v,0,0,m)}function MaskIndexEffect(p,g,m){this.p=PropertyFactory.getProp(g,p.v,0,0,m)}function CheckboxEffect(p,g,m){this.p=PropertyFactory.getProp(g,p.v,0,0,m)}function NoValueEffect(){this.p={}}function EffectsManager(p,g){var m,_=p.ef||[];this.effectElements=[];var C,E=_.length;for(m=0;m<E;m+=1)C=new GroupEffect(_[m],g),this.effectElements.push(C)}function GroupEffect(p,g){this.init(p,g)}function BaseElement(){}function FrameElement(){}function _typeof$2(p){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof$2(p)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(p,g){var m;this.data=p,this.effectElements=[],this.initDynamicPropertyContainer(g);var _,C=this.data.ef.length,E=this.data.ef;for(m=0;m<C;m+=1){switch(_=null,E[m].ty){case 0:_=new SliderEffect(E[m],g,this);break;case 1:_=new AngleEffect(E[m],g,this);break;case 2:_=new ColorEffect(E[m],g,this);break;case 3:_=new PointEffect(E[m],g,this);break;case 4:case 7:_=new CheckboxEffect(E[m],g,this);break;case 10:_=new LayerIndexEffect(E[m],g,this);break;case 11:_=new MaskIndexEffect(E[m],g,this);break;case 5:_=new EffectsManager(E[m],g,this);break;default:_=new NoValueEffect(E[m],g,this)}_&&this.effectElements.push(_)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var p=0,g=this.data.masksProperties.length;p<g;){if("n"!==this.data.masksProperties[p].mode&&!1!==this.data.masksProperties[p].cl)return!0;p+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var p=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(p),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var p=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=p},initBaseData:function(p,g,m){this.globalData=g,this.comp=m,this.data=p,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(p,g){var m,_=this.dynamicProperties.length;for(m=0;m<_;m+=1)(g||this._isParent&&"transform"===this.dynamicProperties[m].propType)&&(this.dynamicProperties[m].getValue(),this.dynamicProperties[m]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(p){-1===this.dynamicProperties.indexOf(p)&&this.dynamicProperties.push(p)}};var FootageInterface=(dataInterfaceFactory=function(p){function g(m){return"Outline"===m?g.outlineInterface():null}return g._name="Outline",g.outlineInterface=function(m){var _="",C=m.getFootageData();function E(H){if(C[H])return _=H,"object"===_typeof$2(C=C[H])?E:C;var L=H.indexOf(_);if(-1!==L){var U=parseInt(H.substr(L+_.length),10);return"object"===_typeof$2(C=C[U])?E:C}return""}return function(){return _="",C=m.getFootageData(),E}}(p),g},function(p){function g(m){return"Data"===m?g.dataInterface:null}return g._name="Data",g.dataInterface=dataInterfaceFactory(p),g}),dataInterfaceFactory;function FootageElement(p,g,m){this.initFrame(),this.initRenderable(),this.assetData=g.getAssetData(p.refId),this.footageData=g.imageLoader.getAsset(this.assetData),this.initBaseData(p,g,m)}function AudioElement(p,g,m){this.initFrame(),this.initRenderable(),this.assetData=g.getAssetData(p.refId),this.initBaseData(p,g,m),this._isPlaying=!1,this._canPlay=!1;var _=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(_),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=p.tm?PropertyFactory.getProp(this,p.tm,0,g.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,p.au&&p.au.lv?p.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(p,g,m){this.data=p,this.element=g,this.globalData=m,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var _,C,E=this.globalData.defs,H=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(H),this.solidPath="";var L,U,X,T,B,R,N=this.masksProperties,F=0,G=[],I=createElementID(),Q="clipPath",oe="clip-path";for(_=0;_<H;_+=1)if(("a"!==N[_].mode&&"n"!==N[_].mode||N[_].inv||100!==N[_].o.k||N[_].o.x)&&(Q="mask",oe="mask"),"s"!==N[_].mode&&"i"!==N[_].mode||0!==F?X=null:((X=createNS("rect")).setAttribute("fill","#ffffff"),X.setAttribute("width",this.element.comp.data.w||0),X.setAttribute("height",this.element.comp.data.h||0),G.push(X)),C=createNS("path"),"n"===N[_].mode)this.viewData[_]={op:PropertyFactory.getProp(this.element,N[_].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,N[_],3),elem:C,lastPath:""},E.appendChild(C);else{var le;if(F+=1,C.setAttribute("fill","s"===N[_].mode?"#000000":"#ffffff"),C.setAttribute("clip-rule","nonzero"),0!==N[_].x.k?(Q="mask",oe="mask",R=PropertyFactory.getProp(this.element,N[_].x,0,null,this.element),le=createElementID(),(T=createNS("filter")).setAttribute("id",le),(B=createNS("feMorphology")).setAttribute("operator","erode"),B.setAttribute("in","SourceGraphic"),B.setAttribute("radius","0"),T.appendChild(B),E.appendChild(T),C.setAttribute("stroke","s"===N[_].mode?"#000000":"#ffffff")):(B=null,R=null),this.storedData[_]={elem:C,x:R,expan:B,lastPath:"",lastOperator:"",filterId:le,lastRadius:0},"i"===N[_].mode){U=G.length;var be=createNS("g");for(L=0;L<U;L+=1)be.appendChild(G[L]);var Ae=createNS("mask");Ae.setAttribute("mask-type","alpha"),Ae.setAttribute("id",I+"_"+F),Ae.appendChild(C),E.appendChild(Ae),be.setAttribute("mask","url("+getLocationHref()+"#"+I+"_"+F+")"),G.length=0,G.push(be)}else G.push(C);N[_].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[_]={elem:C,lastPath:"",op:PropertyFactory.getProp(this.element,N[_].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,N[_],3),invRect:X},this.viewData[_].prop.k||this.drawPath(N[_],this.viewData[_].prop.v,this.viewData[_])}for(this.maskElement=createNS(Q),H=G.length,_=0;_<H;_+=1)this.maskElement.appendChild(G[_]);F>0&&(this.maskElement.setAttribute("id",I),this.element.maskedElement.setAttribute(oe,"url("+getLocationHref()+"#"+I+")"),E.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(p){this.prepareRenderableFrame(p,!0),this.prepareProperties(p,!0),this._currentTime=this.tm._placeholder?p/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var m=this._volume*this._volumeMultiplier;this._previousVolume!==m&&(this._previousVolume=m,this.audio.volume(m))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(p){this.audio.rate(p)},AudioElement.prototype.volume=function(p){this._volumeMultiplier=p,this._previousVolume=p*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(p){var g,m,_=this.layers.length;for(this.completeLayers=!0,g=_-1;g>=0;g-=1)this.elements[g]||(m=this.layers[g]).ip-m.st<=p-this.layers[g].st&&m.op-m.st>p-this.layers[g].st&&this.buildItem(g),this.completeLayers=!!this.elements[g]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(p){switch(p.ty){case 2:return this.createImage(p);case 0:return this.createComp(p);case 1:return this.createSolid(p);case 3:default:return this.createNull(p);case 4:return this.createShape(p);case 5:return this.createText(p);case 6:return this.createAudio(p);case 13:return this.createCamera(p);case 15:return this.createFootage(p)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(p){return new AudioElement(p,this.globalData,this)},BaseRenderer.prototype.createFootage=function(p){return new FootageElement(p,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var p,g=this.layers.length;for(p=0;p<g;p+=1)this.buildItem(p);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(p){var g;this.completeLayers=!1;var m,_=p.length,C=this.layers.length;for(g=0;g<_;g+=1)for(m=0;m<C;){if(this.layers[m].id===p[g].id){this.layers[m]=p[g];break}m+=1}},BaseRenderer.prototype.setProjectInterface=function(p){this.globalData.projectInterface=p},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(p,g,m){for(var _=this.elements,C=this.layers,E=0,H=C.length;E<H;)C[E].ind==g&&(_[E]&&!0!==_[E]?(m.push(_[E]),_[E].setAsParent(),void 0!==C[E].parent?this.buildElementParenting(p,C[E].parent,m):p.setHierarchy(m)):(this.buildItem(E),this.addPendingElement(p))),E+=1},BaseRenderer.prototype.addPendingElement=function(p){this.pendingElements.push(p)},BaseRenderer.prototype.searchExtraCompositions=function(p){var g,m=p.length;for(g=0;g<m;g+=1)if(p[g].xt){var _=this.createComp(p[g]);_.initExpressions(),this.globalData.projectInterface.registerComposition(_)}},BaseRenderer.prototype.getElementByPath=function(p){var g,m=p.shift();if("number"==typeof m)g=this.elements[m];else{var _,C=this.elements.length;for(_=0;_<C;_+=1)if(this.elements[_].data.nm===m){g=this.elements[_];break}}return 0===p.length?g:g.getElementByPath(p)},BaseRenderer.prototype.setupGlobalData=function(p,g){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(p.chars),this.globalData.fontManager.addFonts(p.fonts,g),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=p.fr,this.globalData.nm=p.nm,this.globalData.compSize={w:p.w,h:p.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var p,g=this.finalTransform.mat,m=0,_=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;m<_;){if(this.hierarchy[m].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}m+=1}if(this.finalTransform._matMdf)for(g.cloneFromProps(p=this.finalTransform.mProp.v.props),m=0;m<_;m+=1)g.transform((p=this.hierarchy[m].finalTransform.mProp.v.props)[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])}},globalToLocal:function(p){var g=[];g.push(this.finalTransform);for(var m,_=!0,C=this.comp;_;)C.finalTransform?(C.data.hasMask&&g.splice(0,0,C.finalTransform),C=C.comp):_=!1;var E,H=g.length;for(m=0;m<H;m+=1)E=g[m].mat.applyToPointArray(0,0,0),p=[p[0]-E[0],p[1]-E[1],0];return p},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(p){return this.viewData[p].prop},MaskElement.prototype.renderFrame=function(p){var g,m=this.element.finalTransform.mat,_=this.masksProperties.length;for(g=0;g<_;g+=1)if((this.viewData[g].prop._mdf||p)&&this.drawPath(this.masksProperties[g],this.viewData[g].prop.v,this.viewData[g]),(this.viewData[g].op._mdf||p)&&this.viewData[g].elem.setAttribute("fill-opacity",this.viewData[g].op.v),"n"!==this.masksProperties[g].mode&&(this.viewData[g].invRect&&(this.element.finalTransform.mProp._mdf||p)&&this.viewData[g].invRect.setAttribute("transform",m.getInverseMatrix().to2dCSS()),this.storedData[g].x&&(this.storedData[g].x._mdf||p))){var C=this.storedData[g].expan;this.storedData[g].x.v<0?("erode"!==this.storedData[g].lastOperator&&(this.storedData[g].lastOperator="erode",this.storedData[g].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[g].filterId+")")),C.setAttribute("radius",-this.storedData[g].x.v)):("dilate"!==this.storedData[g].lastOperator&&(this.storedData[g].lastOperator="dilate",this.storedData[g].elem.setAttribute("filter",null)),this.storedData[g].elem.setAttribute("stroke-width",2*this.storedData[g].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var p="M0,0 ";return p+=" h"+this.globalData.compSize.w,p+=" v"+this.globalData.compSize.h,(p+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(p,g,m){var _,C,E=" M"+g.v[0][0]+","+g.v[0][1];for(C=g._length,_=1;_<C;_+=1)E+=" C"+g.o[_-1][0]+","+g.o[_-1][1]+" "+g.i[_][0]+","+g.i[_][1]+" "+g.v[_][0]+","+g.v[_][1];if(g.c&&C>1&&(E+=" C"+g.o[_-1][0]+","+g.o[_-1][1]+" "+g.i[0][0]+","+g.i[0][1]+" "+g.v[0][0]+","+g.v[0][1]),m.lastPath!==E){var H="";m.elem&&(g.c&&(H=p.inv?this.solidPath+E:E),m.elem.setAttribute("d",H)),m.lastPath=E}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var p={createFilter:function(g,m){var _=createNS("filter");return _.setAttribute("id",g),!0!==m&&(_.setAttribute("filterUnits","objectBoundingBox"),_.setAttribute("x","0%"),_.setAttribute("y","0%"),_.setAttribute("width","100%"),_.setAttribute("height","100%")),_},createAlphaToLuminanceFilter:function(){var g=createNS("feColorMatrix");return g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","sRGB"),g.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),g}};return p}(),featureSupport=function(){var p={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(p.maskType=!1),p}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(p){var g,m,_="SourceGraphic",C=p.data.ef?p.data.ef.length:0,E=createElementID(),H=filtersFactory.createFilter(E,!0),L=0;for(this.filters=[],g=0;g<C;g+=1){m=null;var U=p.data.ef[g].ty;registeredEffects[U]&&(m=new registeredEffects[U].effect(H,p.effectsManager.effectElements[g],p,idPrefix+L,_),_=idPrefix+L,registeredEffects[U].countsAsEffect&&(L+=1)),m&&this.filters.push(m)}L&&(p.globalData.defs.appendChild(H),p.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+E+")")),this.filters.length&&p.addRenderableComponent(this)}function registerEffect(p,g,m){registeredEffects[p]={effect:g,countsAsEffect:m}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(p,g,m){this.assetData=g.getAssetData(p.refId),this.initElement(p,g,m),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(p,g){this.elem=p,this.pos=g}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(p){var g,m=this.filters.length;for(g=0;g<m;g+=1)this.filters[g].renderFrame(p)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var p,g,m,_=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var C=createNS("mask");C.setAttribute("id",this.layerId),C.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),C.appendChild(this.layerElement),_=C,this.globalData.defs.appendChild(C),featureSupport.maskType||1!=this.data.td||(C.setAttribute("mask-type","luminance"),p=createElementID(),g=filtersFactory.createFilter(p),this.globalData.defs.appendChild(g),g.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(m=createNS("g")).appendChild(this.layerElement),_=m,C.appendChild(m),m.setAttribute("filter","url("+getLocationHref()+"#"+p+")"))}else if(2==this.data.td){var E=createNS("mask");E.setAttribute("id",this.layerId),E.setAttribute("mask-type","alpha");var H=createNS("g");E.appendChild(H),p=createElementID(),g=filtersFactory.createFilter(p);var L=createNS("feComponentTransfer");L.setAttribute("in","SourceGraphic"),g.appendChild(L);var U=createNS("feFuncA");U.setAttribute("type","table"),U.setAttribute("tableValues","1.0 0.0"),L.appendChild(U),this.globalData.defs.appendChild(g);var X=createNS("rect");X.setAttribute("width",this.comp.data.w),X.setAttribute("height",this.comp.data.h),X.setAttribute("x","0"),X.setAttribute("y","0"),X.setAttribute("fill","#ffffff"),X.setAttribute("opacity","0"),H.setAttribute("filter","url("+getLocationHref()+"#"+p+")"),H.appendChild(X),H.appendChild(this.layerElement),_=H,featureSupport.maskType||(E.setAttribute("mask-type","luminance"),g.appendChild(filtersFactory.createAlphaToLuminanceFilter()),m=createNS("g"),H.appendChild(X),m.appendChild(this.layerElement),_=m,H.appendChild(m)),this.globalData.defs.appendChild(E)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),_=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var T=createNS("clipPath"),B=createNS("path");B.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var R=createElementID();if(T.setAttribute("id",R),T.appendChild(B),this.globalData.defs.appendChild(T),this.checkMasks()){var N=createNS("g");N.setAttribute("clip-path","url("+getLocationHref()+"#"+R+")"),N.appendChild(this.layerElement),this.transformedElement=N,_?_.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+R+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(p){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+p+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(p){this.hierarchy=p},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(p,g,m){this.initFrame(),this.initBaseData(p,g,m),this.initTransform(p,g,m),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(p){this._mdf=!1,this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var p=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",p),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(p){var g,m=this.shapeModifiers.length;for(g=0;g<m;g+=1)this.shapeModifiers[g].addShape(p)},isShapeInAnimatedModifiers:function(p){for(var g=this.shapeModifiers.length;0<g;)if(this.shapeModifiers[0].isAnimatedWithShape(p))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var p,g=this.shapes.length;for(p=0;p<g;p+=1)this.shapes[p].sh.reset();for(p=(g=this.shapeModifiers.length)-1;p>=0&&!this.shapeModifiers[p].processShapes(this._isFirstFrame);p-=1);}},searchProcessedElement:function(p){for(var g=this.processedElements,m=0,_=g.length;m<_;){if(g[m].elem===p)return g[m].pos;m+=1}return 0},addProcessedElement:function(p,g){for(var m=this.processedElements,_=m.length;_;)if(m[_-=1].elem===p)return void(m[_].pos=g);m.push(new ProcessedElement(p,g))},prepareFrame:function(p){this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(p,g,m){this.caches=[],this.styles=[],this.transformers=p,this.lStr="",this.sh=m,this.lvl=g,this._isAnimated=!!m.k;for(var _=0,C=p.length;_<C;){if(p[_].mProps.dynamicProperties.length){this._isAnimated=!0;break}_+=1}}function SVGStyleData(p,g){this.data=p,this.type=p.ty,this.d="",this.lvl=g,this._mdf=!1,this.closed=!0===p.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(p,g,m,_){var C;this.elem=p,this.frameId=-1,this.dataProps=createSizedArray(g.length),this.renderer=m,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",g.length?g.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(_);var E,H=g.length||0;for(C=0;C<H;C+=1)E=PropertyFactory.getProp(p,g[C].v,0,0,this),this.k=E.k||this.k,this.dataProps[C]={n:g[C].n,p:E};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(p,g,m){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(p,g.o,0,.01,this),this.w=PropertyFactory.getProp(p,g.w,0,null,this),this.d=new DashProperty(p,g.d||{},"svg",this),this.c=PropertyFactory.getProp(p,g.c,1,255,this),this.style=m,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(p,g,m){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(p,g.o,0,.01,this),this.c=PropertyFactory.getProp(p,g.c,1,255,this),this.style=m}function SVGNoStyleData(p,g,m){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.style=m}function GradientProperty(p,g,m){this.data=g,this.c=createTypedArray("uint8c",4*g.p);var _=g.k.k[0].s?g.k.k[0].s.length-4*g.p:g.k.k.length-4*g.p;this.o=createTypedArray("float32",_),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=_,this.initDynamicPropertyContainer(m),this.prop=PropertyFactory.getProp(p,g.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(p,g,m){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.initGradientData(p,g,m)}function SVGGradientStrokeStyleData(p,g,m){this.initDynamicPropertyContainer(p),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(p,g.w,0,null,this),this.d=new DashProperty(p,g.d||{},"svg",this),this.initGradientData(p,g,m),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(p,g,m){this.transform={mProps:p,op:g,container:m},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(p){if((this.elem.globalData.frameId!==this.frameId||p)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||p,this._mdf)){var g=0,m=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),g=0;g<m;g+=1)"o"!==this.dataProps[g].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[g].p.v:this.dashArray[g]=this.dataProps[g].p.v:this.dashoffset[0]=this.dataProps[g].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(p,g){for(var m=0,_=this.o.length/2;m<_;){if(Math.abs(p[4*m]-p[4*g+2*m])>.01)return!1;m+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var p=0,g=this.data.k.k.length;p<g;){if(!this.comparePoints(this.data.k.k[p].s,this.data.p))return!1;p+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(p){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||p){var g,m,_,C=4*this.data.p;for(g=0;g<C;g+=1)m=g%4==0?100:255,_=Math.round(this.prop.v[g]*m),this.c[g]!==_&&(this.c[g]=_,this._cmdf=!p);if(this.o.length)for(C=this.prop.v.length,g=4*this.data.p;g<C;g+=1)m=g%2==0?100:1,_=g%2==0?Math.round(100*this.prop.v[g]):this.prop.v[g],this.o[g-4*this.data.p]!==_&&(this.o[g-4*this.data.p]=_,this._omdf=!p);this._mdf=!p}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(p,g,m){this.o=PropertyFactory.getProp(p,g.o,0,.01,this),this.s=PropertyFactory.getProp(p,g.s,1,null,this),this.e=PropertyFactory.getProp(p,g.e,1,null,this),this.h=PropertyFactory.getProp(p,g.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(p,g.a||{k:0},0,degToRads,this),this.g=new GradientProperty(p,g.g,this),this.style=m,this.stops=[],this.setGradientData(m.pElem,g),this.setGradientOpacity(g,m),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(p,g){var m=createElementID(),_=createNS(1===g.t?"linearGradient":"radialGradient");_.setAttribute("id",m),_.setAttribute("spreadMethod","pad"),_.setAttribute("gradientUnits","userSpaceOnUse");var C,E,H,L=[];for(H=4*g.g.p,E=0;E<H;E+=4)C=createNS("stop"),_.appendChild(C),L.push(C);p.setAttribute("gf"===g.ty?"fill":"stroke","url("+getLocationHref()+"#"+m+")"),this.gf=_,this.cst=L},SVGGradientFillStyleData.prototype.setGradientOpacity=function(p,g){if(this.g._hasOpacity&&!this.g._collapsable){var m,_,C,E=createNS("mask"),H=createNS("path");E.appendChild(H);var L=createElementID(),U=createElementID();E.setAttribute("id",U);var X=createNS(1===p.t?"linearGradient":"radialGradient");X.setAttribute("id",L),X.setAttribute("spreadMethod","pad"),X.setAttribute("gradientUnits","userSpaceOnUse"),C=p.g.k.k[0].s?p.g.k.k[0].s.length:p.g.k.k.length;var T=this.stops;for(_=4*p.g.p;_<C;_+=2)(m=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),X.appendChild(m),T.push(m);H.setAttribute("gf"===p.ty?"fill":"stroke","url("+getLocationHref()+"#"+L+")"),"gs"===p.ty&&(H.setAttribute("stroke-linecap",lineCapEnum[p.lc||2]),H.setAttribute("stroke-linejoin",lineJoinEnum[p.lj||2]),1===p.lj&&H.setAttribute("stroke-miterlimit",p.ml)),this.of=X,this.ms=E,this.ost=T,this.maskId=U,g.msElem=H}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(p,g,m,_){if(0===g)return"";var C,E=p.o,H=p.i,L=p.v,U=" M"+_.applyToPointStringified(L[0][0],L[0][1]);for(C=1;C<g;C+=1)U+=" C"+_.applyToPointStringified(E[C-1][0],E[C-1][1])+" "+_.applyToPointStringified(H[C][0],H[C][1])+" "+_.applyToPointStringified(L[C][0],L[C][1]);return m&&g&&(U+=" C"+_.applyToPointStringified(E[C-1][0],E[C-1][1])+" "+_.applyToPointStringified(H[0][0],H[0][1])+" "+_.applyToPointStringified(L[0][0],L[0][1]),U+="z"),U},SVGElementsRenderer=function(){var p=new Matrix,g=new Matrix;function m(X,T,B){(B||T.transform.op._mdf)&&T.transform.container.setAttribute("opacity",T.transform.op.v),(B||T.transform.mProps._mdf)&&T.transform.container.setAttribute("transform",T.transform.mProps.v.to2dCSS())}function _(){}function C(X,T,B){var R,N,F,G,I,Q,oe,le,be,Ae,$e,Be=T.styles.length,qe=T.lvl;for(Q=0;Q<Be;Q+=1){if(G=T.sh._mdf||B,T.styles[Q].lvl<qe){for(le=g.reset(),Ae=qe-T.styles[Q].lvl,$e=T.transformers.length-1;!G&&Ae>0;)G=T.transformers[$e].mProps._mdf||G,Ae-=1,$e-=1;if(G)for(Ae=qe-T.styles[Q].lvl,$e=T.transformers.length-1;Ae>0;)le.transform((be=T.transformers[$e].mProps.v.props)[0],be[1],be[2],be[3],be[4],be[5],be[6],be[7],be[8],be[9],be[10],be[11],be[12],be[13],be[14],be[15]),Ae-=1,$e-=1}else le=p;if(N=(oe=T.sh.paths)._length,G){for(F="",R=0;R<N;R+=1)(I=oe.shapes[R])&&I._length&&(F+=buildShapeString(I,I._length,I.c,le));T.caches[Q]=F}else F=T.caches[Q];T.styles[Q].d+=!0===X.hd?"":F,T.styles[Q]._mdf=G||T.styles[Q]._mdf}}function E(X,T,B){var R=T.style;(T.c._mdf||B)&&R.pElem.setAttribute("fill","rgb("+bmFloor(T.c.v[0])+","+bmFloor(T.c.v[1])+","+bmFloor(T.c.v[2])+")"),(T.o._mdf||B)&&R.pElem.setAttribute("fill-opacity",T.o.v)}function H(X,T,B){L(X,T,B),U(0,T,B)}function L(X,T,B){var R,N,F,G,I,Q=T.gf,oe=T.g._hasOpacity,le=T.s.v,be=T.e.v;if((T.o._mdf||B)&&T.style.pElem.setAttribute("gf"===X.ty?"fill-opacity":"stroke-opacity",T.o.v),T.s._mdf||B){var $e=1===X.t?"x1":"cx",Be="x1"===$e?"y1":"cy";Q.setAttribute($e,le[0]),Q.setAttribute(Be,le[1]),oe&&!T.g._collapsable&&(T.of.setAttribute($e,le[0]),T.of.setAttribute(Be,le[1]))}if(T.g._cmdf||B){var qe=T.g.c;for(F=(R=T.cst).length,N=0;N<F;N+=1)(G=R[N]).setAttribute("offset",qe[4*N]+"%"),G.setAttribute("stop-color","rgb("+qe[4*N+1]+","+qe[4*N+2]+","+qe[4*N+3]+")")}if(oe&&(T.g._omdf||B)){var pt=T.g.o;for(F=(R=T.g._collapsable?T.cst:T.ost).length,N=0;N<F;N+=1)G=R[N],T.g._collapsable||G.setAttribute("offset",pt[2*N]+"%"),G.setAttribute("stop-opacity",pt[2*N+1])}if(1===X.t)(T.e._mdf||B)&&(Q.setAttribute("x2",be[0]),Q.setAttribute("y2",be[1]),oe&&!T.g._collapsable&&(T.of.setAttribute("x2",be[0]),T.of.setAttribute("y2",be[1])));else if((T.s._mdf||T.e._mdf||B)&&(I=Math.sqrt(Math.pow(le[0]-be[0],2)+Math.pow(le[1]-be[1],2)),Q.setAttribute("r",I),oe&&!T.g._collapsable&&T.of.setAttribute("r",I)),T.e._mdf||T.h._mdf||T.a._mdf||B){I||(I=Math.sqrt(Math.pow(le[0]-be[0],2)+Math.pow(le[1]-be[1],2)));var j=Math.atan2(be[1]-le[1],be[0]-le[0]),Se=T.h.v;Se>=1?Se=.99:Se<=-1&&(Se=-.99);var at=I*Se,it=Math.cos(j+T.a.v)*at+le[0],yt=Math.sin(j+T.a.v)*at+le[1];Q.setAttribute("fx",it),Q.setAttribute("fy",yt),oe&&!T.g._collapsable&&(T.of.setAttribute("fx",it),T.of.setAttribute("fy",yt))}}function U(X,T,B){var R=T.style,N=T.d;N&&(N._mdf||B)&&N.dashStr&&(R.pElem.setAttribute("stroke-dasharray",N.dashStr),R.pElem.setAttribute("stroke-dashoffset",N.dashoffset[0])),T.c&&(T.c._mdf||B)&&R.pElem.setAttribute("stroke","rgb("+bmFloor(T.c.v[0])+","+bmFloor(T.c.v[1])+","+bmFloor(T.c.v[2])+")"),(T.o._mdf||B)&&R.pElem.setAttribute("stroke-opacity",T.o.v),(T.w._mdf||B)&&(R.pElem.setAttribute("stroke-width",T.w.v),R.msElem&&R.msElem.setAttribute("stroke-width",T.w.v))}return{createRenderFunction:function(X){switch(X.ty){case"fl":return E;case"gf":return L;case"gs":return H;case"st":return U;case"sh":case"el":case"rc":case"sr":return C;case"tr":return m;case"no":return _;default:return null}}}}();function SVGShapeElement(p,g,m){this.shapes=[],this.shapesData=p.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(p,g,m),this.prevViewData=[]}function LetterProps(p,g,m,_,C,E){this.o=p,this.sw=g,this.sc=m,this.fc=_,this.m=C,this.p=E,this._mdf={o:!0,sw:!!g,sc:!!m,fc:!!_,m:!0,p:!0}}function TextProperty(p,g){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=g,this.elem=p,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var p,g,m,_,C=this.shapes.length,E=this.stylesList.length,H=[],L=!1;for(m=0;m<E;m+=1){for(_=this.stylesList[m],L=!1,H.length=0,p=0;p<C;p+=1)-1!==(g=this.shapes[p]).styles.indexOf(_)&&(H.push(g),L=g._isAnimated||L);H.length>1&&L&&this.setShapesAsAnimated(H)}},SVGShapeElement.prototype.setShapesAsAnimated=function(p){var g,m=p.length;for(g=0;g<m;g+=1)p[g].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(p,g){var m,_=new SVGStyleData(p,g),C=_.pElem;return"st"===p.ty?m=new SVGStrokeStyleData(this,p,_):"fl"===p.ty?m=new SVGFillStyleData(this,p,_):"gf"===p.ty||"gs"===p.ty?(m=new("gf"===p.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,p,_),this.globalData.defs.appendChild(m.gf),m.maskId&&(this.globalData.defs.appendChild(m.ms),this.globalData.defs.appendChild(m.of),C.setAttribute("mask","url("+getLocationHref()+"#"+m.maskId+")"))):"no"===p.ty&&(m=new SVGNoStyleData(this,p,_)),"st"!==p.ty&&"gs"!==p.ty||(C.setAttribute("stroke-linecap",lineCapEnum[p.lc||2]),C.setAttribute("stroke-linejoin",lineJoinEnum[p.lj||2]),C.setAttribute("fill-opacity","0"),1===p.lj&&C.setAttribute("stroke-miterlimit",p.ml)),2===p.r&&C.setAttribute("fill-rule","evenodd"),p.ln&&C.setAttribute("id",p.ln),p.cl&&C.setAttribute("class",p.cl),p.bm&&(C.style["mix-blend-mode"]=getBlendMode(p.bm)),this.stylesList.push(_),this.addToAnimatedContents(p,m),m},SVGShapeElement.prototype.createGroupElement=function(p){var g=new ShapeGroupData;return p.ln&&g.gr.setAttribute("id",p.ln),p.cl&&g.gr.setAttribute("class",p.cl),p.bm&&(g.gr.style["mix-blend-mode"]=getBlendMode(p.bm)),g},SVGShapeElement.prototype.createTransformElement=function(p,g){var m=TransformPropertyFactory.getTransformProperty(this,p,this),_=new SVGTransformData(m,m.o,g);return this.addToAnimatedContents(p,_),_},SVGShapeElement.prototype.createShapeElement=function(p,g,m){var _=4;"rc"===p.ty?_=5:"el"===p.ty?_=6:"sr"===p.ty&&(_=7);var C=new SVGShapeData(g,m,ShapePropertyFactory.getShapeProp(this,p,_,this));return this.shapes.push(C),this.addShapeToModifiers(C),this.addToAnimatedContents(p,C),C},SVGShapeElement.prototype.addToAnimatedContents=function(p,g){for(var m=0,_=this.animatedContents.length;m<_;){if(this.animatedContents[m].element===g)return;m+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(p),element:g,data:p})},SVGShapeElement.prototype.setElementStyles=function(p){var g,m=p.styles,_=this.stylesList.length;for(g=0;g<_;g+=1)this.stylesList[g].closed||m.push(this.stylesList[g])},SVGShapeElement.prototype.reloadShapes=function(){var p;this._isFirstFrame=!0;var g=this.itemsData.length;for(p=0;p<g;p+=1)this.prevViewData[p]=this.itemsData[p];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),g=this.dynamicProperties.length,p=0;p<g;p+=1)this.dynamicProperties[p].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(p,g,m,_,C,E,H){var L,U,X,B,R,N=[].concat(E),F=p.length-1,G=[],I=[];for(L=F;L>=0;L-=1){if((R=this.searchProcessedElement(p[L]))?g[L]=m[R-1]:p[L]._render=H,"fl"===p[L].ty||"st"===p[L].ty||"gf"===p[L].ty||"gs"===p[L].ty||"no"===p[L].ty)R?g[L].style.closed=!1:g[L]=this.createStyleElement(p[L],C),p[L]._render&&g[L].style.pElem.parentNode!==_&&_.appendChild(g[L].style.pElem),G.push(g[L].style);else if("gr"===p[L].ty){if(R)for(X=g[L].it.length,U=0;U<X;U+=1)g[L].prevViewData[U]=g[L].it[U];else g[L]=this.createGroupElement(p[L]);this.searchShapes(p[L].it,g[L].it,g[L].prevViewData,g[L].gr,C+1,N,H),p[L]._render&&g[L].gr.parentNode!==_&&_.appendChild(g[L].gr)}else"tr"===p[L].ty?(R||(g[L]=this.createTransformElement(p[L],_)),N.push(g[L].transform)):"sh"===p[L].ty||"rc"===p[L].ty||"el"===p[L].ty||"sr"===p[L].ty?(R||(g[L]=this.createShapeElement(p[L],N,C)),this.setElementStyles(g[L])):"tm"===p[L].ty||"rd"===p[L].ty||"ms"===p[L].ty||"pb"===p[L].ty?(R?(B=g[L]).closed=!1:((B=ShapeModifiers.getModifier(p[L].ty)).init(this,p[L]),g[L]=B,this.shapeModifiers.push(B)),I.push(B)):"rp"===p[L].ty&&(R?(B=g[L]).closed=!0:(B=ShapeModifiers.getModifier(p[L].ty),g[L]=B,B.init(this,p,L,g),this.shapeModifiers.push(B),H=!1),I.push(B));this.addProcessedElement(p[L],L+1)}for(F=G.length,L=0;L<F;L+=1)G[L].closed=!0;for(F=I.length,L=0;L<F;L+=1)I[L].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var p;this.renderModifiers();var g=this.stylesList.length;for(p=0;p<g;p+=1)this.stylesList[p].reset();for(this.renderShape(),p=0;p<g;p+=1)(this.stylesList[p]._mdf||this._isFirstFrame)&&(this.stylesList[p].msElem&&(this.stylesList[p].msElem.setAttribute("d",this.stylesList[p].d),this.stylesList[p].d="M0 0"+this.stylesList[p].d),this.stylesList[p].pElem.setAttribute("d",this.stylesList[p].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var p,g,m=this.animatedContents.length;for(p=0;p<m;p+=1)g=this.animatedContents[p],(this._isFirstFrame||g.element._isAnimated)&&!0!==g.data&&g.fn(g.data,g.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(p,g,m,_,C,E){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var H=!1;return this.o!==p&&(this.o=p,this._mdf.o=!0,H=!0),this.sw!==g&&(this.sw=g,this._mdf.sw=!0,H=!0),this.sc!==m&&(this.sc=m,this._mdf.sc=!0,H=!0),this.fc!==_&&(this.fc=_,this._mdf.fc=!0,H=!0),this.m!==C&&(this.m=C,this._mdf.m=!0,H=!0),!E.length||this.p[0]===E[0]&&this.p[1]===E[1]&&this.p[4]===E[4]&&this.p[5]===E[5]&&this.p[12]===E[12]&&this.p[13]===E[13]||(this.p=E,this._mdf.p=!0,H=!0),H},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(p,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(p[m]=g[m]);return p},TextProperty.prototype.setCurrentData=function(p){p.__complete||this.completeTextData(p),this.currentData=p,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(p){this.effectsSequence.push(p),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(p){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||p){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var g=this.currentData,m=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var _;this.lock=!0,this._mdf=!1;var C=this.effectsSequence.length,E=p||this.data.d.k[this.keysIndex].s;for(_=0;_<C;_+=1)E=this.effectsSequence[_](m!==this.keysIndex?E:this.currentData,E.t);g!==E&&this.setCurrentData(E),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var p=this.data.d.k,g=this.elem.comp.renderedFrame,m=0,_=p.length;m<=_-1&&!(m===_-1||p[m+1].t>g);)m+=1;return this.keysIndex!==m&&(this.keysIndex=m),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(p){for(var g,m,_=[],C=0,E=p.length,H=!1;C<E;)g=p.charCodeAt(C),FontManager.isCombinedCharacter(g)?_[_.length-1]+=p.charAt(C):g>=55296&&g<=56319?(m=p.charCodeAt(C+1))>=56320&&m<=57343?(H||FontManager.isModifier(g,m)?(_[_.length-1]+=p.substr(C,2),H=!1):_.push(p.substr(C,2)),C+=1):_.push(p.charAt(C)):g>56319?(m=p.charCodeAt(C+1),FontManager.isZeroWidthJoiner(g,m)?(H=!0,_[_.length-1]+=p.substr(C,2),C+=1):_.push(p.charAt(C))):FontManager.isZeroWidthJoiner(g)?(_[_.length-1]+=p.charAt(C),H=!0):_.push(p.charAt(C)),C+=1;return _},TextProperty.prototype.completeTextData=function(p){p.__complete=!0;var g,m,_,C,E,H,L,U=this.elem.globalData.fontManager,X=this.data,T=[],B=0,R=X.m.g,N=0,F=0,G=0,I=[],Q=0,oe=0,le=U.getFontByName(p.f),be=0,Ae=getFontProperties(le);p.fWeight=Ae.weight,p.fStyle=Ae.style,p.finalSize=p.s,p.finalText=this.buildFinalText(p.t),m=p.finalText.length,p.finalLineHeight=p.lh;var $e,Be=p.tr/1e3*p.finalSize;if(p.sz)for(var qe,pt,j=!0,Se=p.sz[0],at=p.sz[1];j;){qe=0,Q=0,m=(pt=this.buildFinalText(p.t)).length,Be=p.tr/1e3*p.finalSize;var it=-1;for(g=0;g<m;g+=1)$e=pt[g].charCodeAt(0),_=!1," "===pt[g]?it=g:13!==$e&&3!==$e||(Q=0,_=!0,qe+=p.finalLineHeight||1.2*p.finalSize),U.chars?(L=U.getCharData(pt[g],le.fStyle,le.fFamily),be=_?0:L.w*p.finalSize/100):be=U.measureText(pt[g],p.f,p.finalSize),Q+be>Se&&" "!==pt[g]?(-1===it?m+=1:g=it,qe+=p.finalLineHeight||1.2*p.finalSize,pt.splice(g,it===g?1:0,"\r"),it=-1,Q=0):(Q+=be,Q+=Be);qe+=le.ascent*p.finalSize/100,this.canResize&&p.finalSize>this.minimumFontSize&&at<qe?(p.finalSize-=1,p.finalLineHeight=p.finalSize*p.lh/p.s):(p.finalText=pt,m=p.finalText.length,j=!1)}Q=-Be,be=0;var yt,Lt=0;for(g=0;g<m;g+=1)if(_=!1,13===($e=(yt=p.finalText[g]).charCodeAt(0))||3===$e?(Lt=0,I.push(Q),oe=Q>oe?Q:oe,Q=-2*Be,C="",_=!0,G+=1):C=yt,U.chars?(L=U.getCharData(yt,le.fStyle,U.getFontByName(p.f).fFamily),be=_?0:L.w*p.finalSize/100):be=U.measureText(C,p.f,p.finalSize)," "===yt?Lt+=be+Be:(Q+=be+Be+Lt,Lt=0),T.push({l:be,an:be,add:N,n:_,anIndexes:[],val:C,line:G,animatorJustifyOffset:0}),2==R){if(N+=be,""===C||" "===C||g===m-1){for(""!==C&&" "!==C||(N-=be);F<=g;)T[F].an=N,T[F].ind=B,T[F].extra=be,F+=1;B+=1,N=0}}else if(3==R){if(N+=be,""===C||g===m-1){for(""===C&&(N-=be);F<=g;)T[F].an=N,T[F].ind=B,T[F].extra=be,F+=1;N=0,B+=1}}else T[B].ind=B,T[B].extra=0,B+=1;if(p.l=T,oe=Q>oe?Q:oe,I.push(Q),p.sz)p.boxWidth=p.sz[0],p.justifyOffset=0;else switch(p.boxWidth=oe,p.j){case 1:p.justifyOffset=-p.boxWidth;break;case 2:p.justifyOffset=-p.boxWidth/2;break;default:p.justifyOffset=0}p.lineWidths=I;var Jt,ut,Ne,ct,Yt=X.a;H=Yt.length;var yn=[];for(E=0;E<H;E+=1){for((Jt=Yt[E]).a.sc&&(p.strokeColorAnim=!0),Jt.a.sw&&(p.strokeWidthAnim=!0),(Jt.a.fc||Jt.a.fh||Jt.a.fs||Jt.a.fb)&&(p.fillColorAnim=!0),ct=0,Ne=Jt.s.b,g=0;g<m;g+=1)(ut=T[g]).anIndexes[E]=ct,(1==Ne&&""!==ut.val||2==Ne&&""!==ut.val&&" "!==ut.val||3==Ne&&(ut.n||" "==ut.val||g==m-1)||4==Ne&&(ut.n||g==m-1))&&(1===Jt.s.rn&&yn.push(ct),ct+=1);X.a[E].s.totalChars=ct;var fn,sn=-1;if(1===Jt.s.rn)for(g=0;g<m;g+=1)sn!=(ut=T[g]).anIndexes[E]&&(sn=ut.anIndexes[E],fn=yn.splice(Math.floor(Math.random()*yn.length),1)[0]),ut.anIndexes[E]=fn}p.yOffset=p.finalLineHeight||1.2*p.finalSize,p.ls=p.ls||0,p.ascent=le.ascent*p.finalSize/100},TextProperty.prototype.updateDocumentData=function(p,g){var m=this.copyData({},this.data.d.k[g=void 0===g?this.keysIndex:g].s);m=this.copyData(m,p),this.data.d.k[g].s=m,this.recalculate(g),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(p){var g=this.data.d.k[p].s;g.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(g)},TextProperty.prototype.canResizeFont=function(p){this.canResize=p,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(p){this.minimumFontSize=Math.floor(p)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var p=Math.max,g=Math.min,m=Math.floor;function _(C,E){this._currentTextLength=-1,this.k=!1,this.data=E,this.elem=C,this.comp=C.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(C),this.s=PropertyFactory.getProp(C,E.s||{k:0},0,0,this),this.e="e"in E?PropertyFactory.getProp(C,E.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(C,E.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(C,E.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(C,E.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(C,E.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(C,E.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return _.prototype={getMult:function(C){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var E=0,H=0,L=1,U=1;this.ne.v>0?E=this.ne.v/100:H=-this.ne.v/100,this.xe.v>0?L=1-this.xe.v/100:U=1+this.xe.v/100;var X=BezierFactory.getBezierEasing(E,H,L,U).get,T=0,B=this.finalS,R=this.finalE,N=this.data.sh;if(2===N)T=X(T=R===B?C>=R?1:0:p(0,g(.5/(R-B)+(C-B)/(R-B),1)));else if(3===N)T=X(T=R===B?C>=R?0:1:1-p(0,g(.5/(R-B)+(C-B)/(R-B),1)));else if(4===N)R===B?T=0:(T=p(0,g(.5/(R-B)+(C-B)/(R-B),1)))<.5?T*=2:T=1-2*(T-.5),T=X(T);else if(5===N){if(R===B)T=0;else{var F=R-B,G=-F/2+(C=g(p(0,C+.5-B),R-B)),I=F/2;T=Math.sqrt(1-G*G/(I*I))}T=X(T)}else 6===N?(R===B?T=0:(C=g(p(0,C+.5-B),R-B),T=(1+Math.cos(Math.PI+2*Math.PI*C/(R-B)))/2),T=X(T)):(C>=m(B)&&(T=p(0,g(C-B<0?g(R,1)-(B-C):R-C,1))),T=X(T));if(100!==this.sm.v){var Q=.01*this.sm.v;0===Q&&(Q=1e-8);var oe=.5-.5*Q;T<oe?T=0:(T=(T-oe)/Q)>1&&(T=1)}return T*this.a.v},getValue:function(C){this.iterateDynamicProperties(),this._mdf=C||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,C&&2===this.data.r&&(this.e.v=this._currentTextLength);var E=2===this.data.r?1:100/this.data.totalChars,H=this.o.v/E,L=this.s.v/E+H,U=this.e.v/E+H;if(L>U){var X=L;L=U,U=X}this.finalS=L,this.finalE=U}},extendPrototype([DynamicPropertyContainer],_),{getTextSelectorProp:function(C,E,H){return new _(C,E,H)}}}();function TextAnimatorDataProperty(p,g,m){var _={propType:!1},C=PropertyFactory.getProp,E=g.a;this.a={r:E.r?C(p,E.r,0,degToRads,m):_,rx:E.rx?C(p,E.rx,0,degToRads,m):_,ry:E.ry?C(p,E.ry,0,degToRads,m):_,sk:E.sk?C(p,E.sk,0,degToRads,m):_,sa:E.sa?C(p,E.sa,0,degToRads,m):_,s:E.s?C(p,E.s,1,.01,m):_,a:E.a?C(p,E.a,1,0,m):_,o:E.o?C(p,E.o,0,.01,m):_,p:E.p?C(p,E.p,1,0,m):_,sw:E.sw?C(p,E.sw,0,0,m):_,sc:E.sc?C(p,E.sc,1,0,m):_,fc:E.fc?C(p,E.fc,1,0,m):_,fh:E.fh?C(p,E.fh,0,0,m):_,fs:E.fs?C(p,E.fs,0,.01,m):_,fb:E.fb?C(p,E.fb,0,.01,m):_,t:E.t?C(p,E.t,0,0,m):_},this.s=TextSelectorProp.getTextSelectorProp(p,g.s,m),this.s.t=g.s.t}function TextAnimatorProperty(p,g,m){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=p,this._renderType=g,this._elem=m,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(m)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var p,m=this._textData.a.length,_=PropertyFactory.getProp;for(p=0;p<m;p+=1)this._animatorsData[p]=new TextAnimatorDataProperty(this._elem,this._textData.a[p],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:_(this._elem,this._textData.p.a,0,0,this),f:_(this._elem,this._textData.p.f,0,0,this),l:_(this._elem,this._textData.p.l,0,0,this),r:_(this._elem,this._textData.p.r,0,0,this),p:_(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=_(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(p,g){if(this.lettersChangedFlag=g,this._mdf||this._isFirstFrame||g||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var m,_,C,E,H,L,U,X,T,B,R,N,F,G,I,Q,oe,be,Ae=this._moreOptions.alignment.v,$e=this._animatorsData,Be=this._textData,qe=this.mHelper,pt=this._renderType,j=this.renderedLetters.length,Se=p.l;if(this._hasMaskedPath){if(be=this._pathData.m,!this._pathData.n||this._pathData._mdf){var at,it=be.v;for(this._pathData.r.v&&(it=it.reverse()),H={tLength:0,segments:[]},E=it._length-1,Q=0,C=0;C<E;C+=1)at=bez.buildBezierData(it.v[C],it.v[C+1],[it.o[C][0]-it.v[C][0],it.o[C][1]-it.v[C][1]],[it.i[C+1][0]-it.v[C+1][0],it.i[C+1][1]-it.v[C+1][1]]),H.tLength+=at.segmentLength,H.segments.push(at),Q+=at.segmentLength;C=E,be.v.c&&(at=bez.buildBezierData(it.v[C],it.v[0],[it.o[C][0]-it.v[C][0],it.o[C][1]-it.v[C][1]],[it.i[0][0]-it.v[0][0],it.i[0][1]-it.v[0][1]]),H.tLength+=at.segmentLength,H.segments.push(at),Q+=at.segmentLength),this._pathData.pi=H}if(R=0,B=1,X=0,T=!0,G=(H=this._pathData.pi).segments,(L=this._pathData.f.v)<0&&be.v.c)for(H.tLength<Math.abs(L)&&(L=-Math.abs(L)%H.tLength),B=(F=G[R=G.length-1].points).length-1;L<0;)L+=F[B].partialLength,(B-=1)<0&&(B=(F=G[R-=1].points).length-1);N=(F=G[R].points)[B-1],I=(U=F[B]).partialLength}E=Se.length,m=0,_=0;var yt,Lt,Jt,ut,Ne,ct=1.2*p.finalSize*.714,Yt=!0;Jt=$e.length;var yn,fn,sn,ln,Nt,Pn,On,zn,Ct,hr,Sn,$n,Gt=-1,Ai=L,ni=R,Ki=B,eo=-1,Qi="",Rr=this.defaultPropsArray;if(2===p.j||1===p.j){var fr=0,en=0,Qn=2===p.j?-.5:-1,rr=0,Ri=!0;for(C=0;C<E;C+=1)if(Se[C].n){for(fr&&(fr+=en);rr<C;)Se[rr].animatorJustifyOffset=fr,rr+=1;fr=0,Ri=!0}else{for(Lt=0;Lt<Jt;Lt+=1)(yt=$e[Lt].a).t.propType&&(Ri&&2===p.j&&(en+=yt.t.v*Qn),(Ne=$e[Lt].s.getMult(Se[C].anIndexes[Lt],Be.a[Lt].s.totalChars)).length?fr+=yt.t.v*Ne[0]*Qn:fr+=yt.t.v*Ne*Qn);Ri=!1}for(fr&&(fr+=en);rr<C;)Se[rr].animatorJustifyOffset=fr,rr+=1}for(C=0;C<E;C+=1){if(qe.reset(),ln=1,Se[C].n)m=0,_+=p.yOffset,_+=Yt?1:0,L=Ai,Yt=!1,this._hasMaskedPath&&(N=(F=G[R=ni].points)[(B=Ki)-1],I=(U=F[B]).partialLength,X=0),Qi="",Sn="",Ct="",$n="",Rr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(eo!==Se[C].line){switch(p.j){case 1:L+=Q-p.lineWidths[Se[C].line];break;case 2:L+=(Q-p.lineWidths[Se[C].line])/2}eo=Se[C].line}Gt!==Se[C].ind&&(Se[Gt]&&(L+=Se[Gt].extra),L+=Se[C].an/2,Gt=Se[C].ind),L+=Ae[0]*Se[C].an*.005;var Ni=0;for(Lt=0;Lt<Jt;Lt+=1)(yt=$e[Lt].a).p.propType&&((Ne=$e[Lt].s.getMult(Se[C].anIndexes[Lt],Be.a[Lt].s.totalChars)).length?Ni+=yt.p.v[0]*Ne[0]:Ni+=yt.p.v[0]*Ne),yt.a.propType&&((Ne=$e[Lt].s.getMult(Se[C].anIndexes[Lt],Be.a[Lt].s.totalChars)).length?Ni+=yt.a.v[0]*Ne[0]:Ni+=yt.a.v[0]*Ne);for(T=!0,this._pathData.a.v&&(L=.5*Se[0].an+(Q-this._pathData.f.v-.5*Se[0].an-.5*Se[Se.length-1].an)*Gt/(E-1),L+=this._pathData.f.v);T;)X+I>=L+Ni||!F?(fn=N.point[0]+(U.point[0]-N.point[0])*(oe=(L+Ni-X)/U.partialLength),sn=N.point[1]+(U.point[1]-N.point[1])*oe,qe.translate(-Ae[0]*Se[C].an*.005,-Ae[1]*ct*.01),T=!1):F&&(X+=U.partialLength,(B+=1)>=F.length&&(B=0,G[R+=1]?F=G[R].points:be.v.c?(B=0,F=G[R=0].points):(X-=U.partialLength,F=null)),F&&(N=U,I=(U=F[B]).partialLength));qe.translate(-(yn=Se[C].an/2-Se[C].add),0,0)}else qe.translate(-(yn=Se[C].an/2-Se[C].add),0,0),qe.translate(-Ae[0]*Se[C].an*.005,-Ae[1]*ct*.01,0);for(Lt=0;Lt<Jt;Lt+=1)(yt=$e[Lt].a).t.propType&&(Ne=$e[Lt].s.getMult(Se[C].anIndexes[Lt],Be.a[Lt].s.totalChars),0===m&&0===p.j||(this._hasMaskedPath?L+=Ne.length?yt.t.v*Ne[0]:yt.t.v*Ne:m+=Ne.length?yt.t.v*Ne[0]:yt.t.v*Ne));for(p.strokeWidthAnim&&(Pn=p.sw||0),p.strokeColorAnim&&(Nt=p.sc?[p.sc[0],p.sc[1],p.sc[2]]:[0,0,0]),p.fillColorAnim&&p.fc&&(On=[p.fc[0],p.fc[1],p.fc[2]]),Lt=0;Lt<Jt;Lt+=1)(yt=$e[Lt].a).a.propType&&((Ne=$e[Lt].s.getMult(Se[C].anIndexes[Lt],Be.a[Lt].s.totalChars)).length?qe.translate(-yt.a.v[0]*Ne[0],-yt.a.v[1]*Ne[1],yt.a.v[2]*Ne[2]):qe.translate(-yt.a.v[0]*Ne,-yt.a.v[1]*Ne,yt.a.v[2]*Ne));for(Lt=0;Lt<Jt;Lt+=1)(yt=$e[Lt].a).s.propType&&((Ne=$e[Lt].s.getMult(Se[C].anIndexes[Lt],Be.a[Lt].s.totalChars)).length?qe.scale(1+(yt.s.v[0]-1)*Ne[0],1+(yt.s.v[1]-1)*Ne[1],1):qe.scale(1+(yt.s.v[0]-1)*Ne,1+(yt.s.v[1]-1)*Ne,1));for(Lt=0;Lt<Jt;Lt+=1){if(yt=$e[Lt].a,Ne=$e[Lt].s.getMult(Se[C].anIndexes[Lt],Be.a[Lt].s.totalChars),yt.sk.propType&&(Ne.length?qe.skewFromAxis(-yt.sk.v*Ne[0],yt.sa.v*Ne[1]):qe.skewFromAxis(-yt.sk.v*Ne,yt.sa.v*Ne)),yt.r.propType&&qe.rotateZ(Ne.length?-yt.r.v*Ne[2]:-yt.r.v*Ne),yt.ry.propType&&qe.rotateY(Ne.length?yt.ry.v*Ne[1]:yt.ry.v*Ne),yt.rx.propType&&qe.rotateX(Ne.length?yt.rx.v*Ne[0]:yt.rx.v*Ne),yt.o.propType&&(ln+=Ne.length?(yt.o.v*Ne[0]-ln)*Ne[0]:(yt.o.v*Ne-ln)*Ne),p.strokeWidthAnim&&yt.sw.propType&&(Pn+=Ne.length?yt.sw.v*Ne[0]:yt.sw.v*Ne),p.strokeColorAnim&&yt.sc.propType)for(zn=0;zn<3;zn+=1)Nt[zn]+=Ne.length?(yt.sc.v[zn]-Nt[zn])*Ne[0]:(yt.sc.v[zn]-Nt[zn])*Ne;if(p.fillColorAnim&&p.fc){if(yt.fc.propType)for(zn=0;zn<3;zn+=1)On[zn]+=Ne.length?(yt.fc.v[zn]-On[zn])*Ne[0]:(yt.fc.v[zn]-On[zn])*Ne;yt.fh.propType&&(On=addHueToRGB(On,Ne.length?yt.fh.v*Ne[0]:yt.fh.v*Ne)),yt.fs.propType&&(On=addSaturationToRGB(On,Ne.length?yt.fs.v*Ne[0]:yt.fs.v*Ne)),yt.fb.propType&&(On=addBrightnessToRGB(On,Ne.length?yt.fb.v*Ne[0]:yt.fb.v*Ne))}}for(Lt=0;Lt<Jt;Lt+=1)(yt=$e[Lt].a).p.propType&&(Ne=$e[Lt].s.getMult(Se[C].anIndexes[Lt],Be.a[Lt].s.totalChars),this._hasMaskedPath?Ne.length?qe.translate(0,yt.p.v[1]*Ne[0],-yt.p.v[2]*Ne[1]):qe.translate(0,yt.p.v[1]*Ne,-yt.p.v[2]*Ne):Ne.length?qe.translate(yt.p.v[0]*Ne[0],yt.p.v[1]*Ne[1],-yt.p.v[2]*Ne[2]):qe.translate(yt.p.v[0]*Ne,yt.p.v[1]*Ne,-yt.p.v[2]*Ne));if(p.strokeWidthAnim&&(Ct=Pn<0?0:Pn),p.strokeColorAnim&&(hr="rgb("+Math.round(255*Nt[0])+","+Math.round(255*Nt[1])+","+Math.round(255*Nt[2])+")"),p.fillColorAnim&&p.fc&&(Sn="rgb("+Math.round(255*On[0])+","+Math.round(255*On[1])+","+Math.round(255*On[2])+")"),this._hasMaskedPath){if(qe.translate(0,-p.ls),qe.translate(0,Ae[1]*ct*.01+_,0),this._pathData.p.v){var Zi=180*Math.atan((U.point[1]-N.point[1])/(U.point[0]-N.point[0]))/Math.PI;U.point[0]<N.point[0]&&(Zi+=180),qe.rotate(-Zi*Math.PI/180)}qe.translate(fn,sn,0),L-=Ae[0]*Se[C].an*.005,Se[C+1]&&Gt!==Se[C+1].ind&&(L+=Se[C].an/2,L+=.001*p.tr*p.finalSize)}else{switch(qe.translate(m,_,0),p.ps&&qe.translate(p.ps[0],p.ps[1]+p.ascent,0),p.j){case 1:qe.translate(Se[C].animatorJustifyOffset+p.justifyOffset+(p.boxWidth-p.lineWidths[Se[C].line]),0,0);break;case 2:qe.translate(Se[C].animatorJustifyOffset+p.justifyOffset+(p.boxWidth-p.lineWidths[Se[C].line])/2,0,0)}qe.translate(0,-p.ls),qe.translate(yn,0,0),qe.translate(Ae[0]*Se[C].an*.005,Ae[1]*ct*.01,0),m+=Se[C].l+.001*p.tr*p.finalSize}"html"===pt?Qi=qe.toCSS():"svg"===pt?Qi=qe.to2dCSS():Rr=[qe.props[0],qe.props[1],qe.props[2],qe.props[3],qe.props[4],qe.props[5],qe.props[6],qe.props[7],qe.props[8],qe.props[9],qe.props[10],qe.props[11],qe.props[12],qe.props[13],qe.props[14],qe.props[15]],$n=ln}j<=C?(ut=new LetterProps($n,Ct,hr,Sn,Qi,Rr),this.renderedLetters.push(ut),j+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(ut=this.renderedLetters[C]).update($n,Ct,hr,Sn,Qi,Rr)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(p,g,m){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(p,g,m),this.textProperty=new TextProperty(this,p.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(p.t,this.renderType,this),this.initTransform(p,g,m),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(p){this._mdf=!1,this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(p,g){var m,_,C=g.length,E="";for(m=0;m<C;m+=1)"sh"===g[m].ty&&(E+=buildShapeString(_=g[m].ks.k,_.i.length,!0,p));return E},ITextElement.prototype.updateDocumentData=function(p,g){this.textProperty.updateDocumentData(p,g)},ITextElement.prototype.canResizeFont=function(p){this.textProperty.canResizeFont(p)},ITextElement.prototype.setMinimumFontSize=function(p){this.textProperty.setMinimumFontSize(p)},ITextElement.prototype.applyTextPropertiesToMatrix=function(p,g,m,_,C){switch(p.ps&&g.translate(p.ps[0],p.ps[1]+p.ascent,0),g.translate(0,-p.ls,0),p.j){case 1:g.translate(p.justifyOffset+(p.boxWidth-p.lineWidths[m]),0,0);break;case 2:g.translate(p.justifyOffset+(p.boxWidth-p.lineWidths[m])/2,0,0)}g.translate(_,C,0)},ITextElement.prototype.buildColor=function(p){return"rgb("+Math.round(255*p[0])+","+Math.round(255*p[1])+","+Math.round(255*p[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(p,g,m){this.textSpans=[],this.renderType="svg",this.initElement(p,g,m)}function ISolidElement(p,g,m){this.initElement(p,g,m)}function NullElement(p,g,m){this.initFrame(),this.initBaseData(p,g,m),this.initFrame(),this.initTransform(p,g,m),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(p,g,m){this.layers=p.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(p,g,m),this.tm=p.tm?PropertyFactory.getProp(this,p.tm,0,g.frameRate,this):{_placeholder:!0}}function SVGRenderer(p,g){this.animationItem=p,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var m="";if(g&&g.title){var _=createNS("title"),C=createElementID();_.setAttribute("id",C),_.textContent=g.title,this.svgElement.appendChild(_),m+=C}if(g&&g.description){var E=createNS("desc"),H=createElementID();E.setAttribute("id",H),E.textContent=g.description,this.svgElement.appendChild(E),m+=" "+H}m&&this.svgElement.setAttribute("aria-labelledby",m);var L=createNS("defs");this.svgElement.appendChild(L);var U=createNS("g");this.svgElement.appendChild(U),this.layerElement=U,this.renderConfig={preserveAspectRatio:g&&g.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:g&&g.contentVisibility||"visible",progressiveLoad:g&&g.progressiveLoad||!1,hideOnTransparent:!(g&&!1===g.hideOnTransparent),viewBoxOnly:g&&g.viewBoxOnly||!1,viewBoxSize:g&&g.viewBoxSize||!1,className:g&&g.className||"",id:g&&g.id||"",focusable:g&&g.focusable,filterSize:{width:g&&g.filterSize&&g.filterSize.width||"100%",height:g&&g.filterSize&&g.filterSize.height||"100%",x:g&&g.filterSize&&g.filterSize.x||"0%",y:g&&g.filterSize&&g.filterSize.y||"0%"},width:g&&g.width,height:g&&g.height},this.globalData={_mdf:!1,frameNum:-1,defs:L,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var p;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),p=0;p<15;p+=1)this.saved[p]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(p,g){var m;this.data=p,this.element=g,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var _=this.masksProperties.length,C=!1;for(m=0;m<_;m+=1)"n"!==this.masksProperties[m].mode&&(C=!0),this.viewData[m]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[m],3);this.hasMasks=C,C&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(p,g,m,_){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var C,E=4;"rc"===g.ty?E=5:"el"===g.ty?E=6:"sr"===g.ty&&(E=7),this.sh=ShapePropertyFactory.getShapeProp(p,g,E,p);var H,L=m.length;for(C=0;C<L;C+=1)m[C].closed||(H={transforms:_.addTransformSequence(m[C].transforms),trNodes:[]},this.styledShapes.push(H),m[C].elements.push(H))}function CVShapeElement(p,g,m){this.shapes=[],this.shapesData=p.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(p,g,m)}function CVTextElement(p,g,m){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(p,g,m)}function CVImageElement(p,g,m){this.assetData=g.getAssetData(p.refId),this.img=g.imageLoader.getAsset(this.assetData),this.initElement(p,g,m)}function CVSolidElement(p,g,m){this.initElement(p,g,m)}function CanvasRendererBase(p,g){this.animationItem=p,this.renderConfig={clearCanvas:!g||void 0===g.clearCanvas||g.clearCanvas,context:g&&g.context||null,progressiveLoad:g&&g.progressiveLoad||!1,preserveAspectRatio:g&&g.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:g&&g.contentVisibility||"visible",className:g&&g.className||"",id:g&&g.id||""},this.renderConfig.dpr=g&&g.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=g&&g.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(p,g,m){this.completeLayers=!1,this.layers=p.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(p,g,m),this.tm=p.tm?PropertyFactory.getProp(this,p.tm,0,g.frameRate,this):{_placeholder:!0}}function CanvasRenderer(p,g){this.animationItem=p,this.renderConfig={clearCanvas:!g||void 0===g.clearCanvas||g.clearCanvas,context:g&&g.context||null,progressiveLoad:g&&g.progressiveLoad||!1,preserveAspectRatio:g&&g.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:g&&g.contentVisibility||"visible",className:g&&g.className||"",id:g&&g.id||""},this.renderConfig.dpr=g&&g.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=g&&g.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(p,g,m){this.initElement(p,g,m)}function HShapeElement(p,g,m){this.shapes=[],this.shapesData=p.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(p,g,m),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(p,g,m){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(p,g,m)}function HCameraElement(p,g,m){this.initFrame(),this.initBaseData(p,g,m),this.initHierarchy();var _=PropertyFactory.getProp;if(this.pe=_(this,p.pe,0,0,this),p.ks.p.s?(this.px=_(this,p.ks.p.x,1,0,this),this.py=_(this,p.ks.p.y,1,0,this),this.pz=_(this,p.ks.p.z,1,0,this)):this.p=_(this,p.ks.p,1,0,this),p.ks.a&&(this.a=_(this,p.ks.a,1,0,this)),p.ks.or.k.length&&p.ks.or.k[0].to){var C,E=p.ks.or.k.length;for(C=0;C<E;C+=1)p.ks.or.k[C].to=null,p.ks.or.k[C].ti=null}this.or=_(this,p.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=_(this,p.ks.rx,0,degToRads,this),this.ry=_(this,p.ks.ry,0,degToRads,this),this.rz=_(this,p.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(p,g,m){this.assetData=g.getAssetData(p.refId),this.initElement(p,g,m)}function HybridRendererBase(p,g){this.animationItem=p,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:g&&g.className||"",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(g&&!1===g.hideOnTransparent),filterSize:{width:g&&g.filterSize&&g.filterSize.width||"400%",height:g&&g.filterSize&&g.filterSize.height||"400%",x:g&&g.filterSize&&g.filterSize.x||"-100%",y:g&&g.filterSize&&g.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(p,g,m){this.layers=p.layers,this.supports3d=!p.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(p,g,m),this.tm=p.tm?PropertyFactory.getProp(this,p.tm,0,g.frameRate,this):{_placeholder:!0}}function HybridRenderer(p,g){this.animationItem=p,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:g&&g.className||"",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(g&&!1===g.hideOnTransparent),filterSize:{width:g&&g.filterSize&&g.filterSize.width||"400%",height:g&&g.filterSize&&g.filterSize.height||"400%",x:g&&g.filterSize&&g.filterSize.x||"-100%",y:g&&g.filterSize&&g.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(p){for(var g=0,m=p.length,_=[],C="";g<m;)p[g]===String.fromCharCode(13)||p[g]===String.fromCharCode(3)?(_.push(C),C=""):C+=p[g],g+=1;return _.push(C),_},SVGTextLottieElement.prototype.buildShapeData=function(p,g){if(p.shapes&&p.shapes.length){var m=p.shapes[0];if(m.it){var _=m.it[m.it.length-1];_.s&&(_.s.k[0]=g,_.s.k[1]=g)}}return p},SVGTextLottieElement.prototype.buildNewText=function(){var p,g;this.addDynamicProperty(this);var m=this.textProperty.currentData;this.renderedLetters=createSizedArray(m?m.l.length:0),this.layerElement.setAttribute("fill",m.fc?this.buildColor(m.fc):"rgba(0,0,0,0)"),m.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(m.sc)),this.layerElement.setAttribute("stroke-width",m.sw)),this.layerElement.setAttribute("font-size",m.finalSize);var _=this.globalData.fontManager.getFontByName(m.f);if(_.fClass)this.layerElement.setAttribute("class",_.fClass);else{this.layerElement.setAttribute("font-family",_.fFamily);var C=m.fWeight;this.layerElement.setAttribute("font-style",m.fStyle),this.layerElement.setAttribute("font-weight",C)}this.layerElement.setAttribute("aria-label",m.t);var H,L=m.l||[],U=!!this.globalData.fontManager.chars;g=L.length;var X=this.mHelper,T=this.data.singleShape,B=0,R=0,N=!0,F=.001*m.tr*m.finalSize;if(!T||U||m.sz){var G,I=this.textSpans.length;for(p=0;p<g;p+=1){if(this.textSpans[p]||(this.textSpans[p]={span:null,childSpan:null,glyph:null}),!U||!T||0===p){if(H=I>p?this.textSpans[p].span:createNS(U?"g":"text"),I<=p){if(H.setAttribute("stroke-linecap","butt"),H.setAttribute("stroke-linejoin","round"),H.setAttribute("stroke-miterlimit","4"),this.textSpans[p].span=H,U){var Q=createNS("g");H.appendChild(Q),this.textSpans[p].childSpan=Q}this.textSpans[p].span=H,this.layerElement.appendChild(H)}H.style.display="inherit"}if(X.reset(),T&&(L[p].n&&(B=-F,R+=m.yOffset,R+=N?1:0,N=!1),this.applyTextPropertiesToMatrix(m,X,L[p].line,B,R),B+=L[p].l||0,B+=F),U){var oe;if(1===(G=this.globalData.fontManager.getCharData(m.finalText[p],_.fStyle,this.globalData.fontManager.getFontByName(m.f).fFamily)).t)oe=new SVGCompElement(G.data,this.globalData,this);else{var le=emptyShapeData;G.data&&G.data.shapes&&(le=this.buildShapeData(G.data,m.finalSize)),oe=new SVGShapeElement(le,this.globalData,this)}if(this.textSpans[p].glyph){var be=this.textSpans[p].glyph;this.textSpans[p].childSpan.removeChild(be.layerElement),be.destroy()}this.textSpans[p].glyph=oe,oe._debug=!0,oe.prepareFrame(0),oe.renderFrame(),this.textSpans[p].childSpan.appendChild(oe.layerElement),1===G.t&&this.textSpans[p].childSpan.setAttribute("transform","scale("+m.finalSize/100+","+m.finalSize/100+")")}else T&&H.setAttribute("transform","translate("+X.props[12]+","+X.props[13]+")"),H.textContent=L[p].val,H.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}T&&H&&H.setAttribute("d","")}else{var Ae=this.textContainer,$e="start";switch(m.j){case 1:$e="end";break;case 2:$e="middle";break;default:$e="start"}Ae.setAttribute("text-anchor",$e),Ae.setAttribute("letter-spacing",F);var Be=this.buildTextContents(m.finalText);for(g=Be.length,R=m.ps?m.ps[1]+m.ascent:0,p=0;p<g;p+=1)(H=this.textSpans[p].span||createNS("tspan")).textContent=Be[p],H.setAttribute("x",0),H.setAttribute("y",R),H.style.display="inherit",Ae.appendChild(H),this.textSpans[p]||(this.textSpans[p]={span:null,glyph:null}),this.textSpans[p].span=H,R+=m.finalLineHeight;this.layerElement.appendChild(Ae)}for(;p<this.textSpans.length;)this.textSpans[p].span.style.display="none",p+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var p=this.layerElement.getBBox();this.bbox={top:p.y,left:p.x,width:p.width,height:p.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var p,g,m=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,p=0;p<m;p+=1)(g=this.textSpans[p].glyph)&&(g.prepareFrame(this.comp.renderedFrame-this.data.st),g._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var p,g;this._sizeChanged=!0;var m,_,C,E=this.textAnimator.renderedLetters,H=this.textProperty.currentData.l;for(g=H.length,p=0;p<g;p+=1)H[p].n||(m=E[p],_=this.textSpans[p].span,(C=this.textSpans[p].glyph)&&C.renderFrame(),m._mdf.m&&_.setAttribute("transform",m.m),m._mdf.o&&_.setAttribute("opacity",m.o),m._mdf.sw&&_.setAttribute("stroke-width",m.sw),m._mdf.sc&&_.setAttribute("stroke",m.sc),m._mdf.fc&&_.setAttribute("fill",m.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var p=createNS("rect");p.setAttribute("width",this.data.sw),p.setAttribute("height",this.data.sh),p.setAttribute("fill",this.data.sc),this.layerElement.appendChild(p)},NullElement.prototype.prepareFrame=function(p){this.prepareProperties(p,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(p){return new NullElement(p,this.globalData,this)},SVGRendererBase.prototype.createShape=function(p){return new SVGShapeElement(p,this.globalData,this)},SVGRendererBase.prototype.createText=function(p){return new SVGTextLottieElement(p,this.globalData,this)},SVGRendererBase.prototype.createImage=function(p){return new IImageElement(p,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(p){return new ISolidElement(p,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(p){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+p.w+" "+p.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",p.w),this.svgElement.setAttribute("height",p.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var g=this.globalData.defs;this.setupGlobalData(p,g),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=p;var m=createNS("clipPath"),_=createNS("rect");_.setAttribute("width",p.w),_.setAttribute("height",p.h),_.setAttribute("x",0),_.setAttribute("y",0);var C=createElementID();m.setAttribute("id",C),m.appendChild(_),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+C+")"),g.appendChild(m),this.layers=p.layers,this.elements=createSizedArray(p.layers.length)},SVGRendererBase.prototype.destroy=function(){var p;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var g=this.layers?this.layers.length:0;for(p=0;p<g;p+=1)this.elements[p]&&this.elements[p].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(p){var g=this.elements;if(!g[p]&&99!==this.layers[p].ty){g[p]=!0;var m=this.createItem(this.layers[p]);g[p]=m,getExpressionsPlugin()&&(0===this.layers[p].ty&&this.globalData.projectInterface.registerComposition(m),m.initExpressions()),this.appendElementInPos(m,p),this.layers[p].tt&&(this.elements[p-1]&&!0!==this.elements[p-1]?m.setMatte(g[p-1].layerId):(this.buildItem(p-1),this.addPendingElement(m)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var p=this.pendingElements.pop();if(p.checkParenting(),p.data.tt)for(var g=0,m=this.elements.length;g<m;){if(this.elements[g]===p){p.setMatte(this.elements[g-1].layerId);break}g+=1}}},SVGRendererBase.prototype.renderFrame=function(p){if(this.renderedFrame!==p&&!this.destroyed){var g;null===p?p=this.renderedFrame:this.renderedFrame=p,this.globalData.frameNum=p,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=p,this.globalData._mdf=!1;var m=this.layers.length;for(this.completeLayers||this.checkLayers(p),g=m-1;g>=0;g-=1)(this.completeLayers||this.elements[g])&&this.elements[g].prepareFrame(p-this.layers[g].st);if(this.globalData._mdf)for(g=0;g<m;g+=1)(this.completeLayers||this.elements[g])&&this.elements[g].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(p,g){var m=p.getBaseElement();if(m){for(var _,C=0;C<g;)this.elements[C]&&!0!==this.elements[C]&&this.elements[C].getBaseElement()&&(_=this.elements[C].getBaseElement()),C+=1;_?this.layerElement.insertBefore(m,_):this.layerElement.appendChild(m)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(p,g,m){this.initFrame(),this.initBaseData(p,g,m),this.initTransform(p,g,m),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&g.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(p){if(this._mdf=!1,this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=p/this.data.sr;else{var g=this.tm.v;g===this.data.op&&(g=this.data.op-1),this.renderedFrame=g}var m,_=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),m=_-1;m>=0;m-=1)(this.completeLayers||this.elements[m])&&(this.elements[m].prepareFrame(this.renderedFrame-this.layers[m].st),this.elements[m]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var p,g=this.layers.length;for(p=0;p<g;p+=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame()},ICompElement.prototype.setElements=function(p){this.elements=p},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var p,g=this.layers.length;for(p=0;p<g;p+=1)this.elements[p]&&this.elements[p].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(p){return new SVGCompElement(p,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(p){return new SVGCompElement(p,this.globalData,this)},CVContextData.prototype.duplicate=function(){var p=2*this._length,g=this.savedOp;this.savedOp=createTypedArray("float32",p),this.savedOp.set(g);var m=0;for(m=this._length;m<p;m+=1)this.saved[m]=createTypedArray("float32",16);this._length=p},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(p){var g,m=p.length,_="_";for(g=0;g<m;g+=1)_+=p[g].transform.key+"_";var C=this.sequences[_];return C||(C={transforms:[].concat(p),finalTransform:new Matrix,_mdf:!1},this.sequences[_]=C,this.sequenceList.push(C)),C},processSequence:function(p,g){for(var m,_=0,C=p.transforms.length,E=g;_<C&&!g;){if(p.transforms[_].transform.mProps._mdf){E=!0;break}_+=1}if(E)for(p.finalTransform.reset(),_=C-1;_>=0;_-=1)p.finalTransform.transform((m=p.transforms[_].transform.mProps.v.props)[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]);p._mdf=E},processSequences:function(p){var g,m=this.sequenceList.length;for(g=0;g<m;g+=1)this.processSequence(this.sequenceList[g],p)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var p,g,m,_,C=this.element.finalTransform.mat,E=this.element.canvasContext,H=this.masksProperties.length;for(E.beginPath(),p=0;p<H;p+=1)if("n"!==this.masksProperties[p].mode){var L;this.masksProperties[p].inv&&(E.moveTo(0,0),E.lineTo(this.element.globalData.compSize.w,0),E.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),E.lineTo(0,this.element.globalData.compSize.h),E.lineTo(0,0)),g=C.applyToPointArray((_=this.viewData[p].v).v[0][0],_.v[0][1],0),E.moveTo(g[0],g[1]);var U=_._length;for(L=1;L<U;L+=1)m=C.applyToTriplePoints(_.o[L-1],_.i[L],_.v[L]),E.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5]);m=C.applyToTriplePoints(_.o[L-1],_.i[0],_.v[0]),E.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5])}this.element.globalData.renderer.save(!0),E.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var p=this.globalData;if(p.blendMode!==this.data.bm){p.blendMode=this.data.bm;var g=getBlendMode(this.data.bm);p.canvasContext.globalCompositeOperation=g}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var p=0===this.data.ty;this.globalData.renderer.save(p),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(p),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(p,g){var m={data:p,type:p.ty,preTransforms:this.transformsManager.addTransformSequence(g),transforms:[],elements:[],closed:!0===p.hd},_={};if("fl"===p.ty||"st"===p.ty?(_.c=PropertyFactory.getProp(this,p.c,1,255,this),_.c.k||(m.co="rgb("+bmFloor(_.c.v[0])+","+bmFloor(_.c.v[1])+","+bmFloor(_.c.v[2])+")")):"gf"!==p.ty&&"gs"!==p.ty||(_.s=PropertyFactory.getProp(this,p.s,1,null,this),_.e=PropertyFactory.getProp(this,p.e,1,null,this),_.h=PropertyFactory.getProp(this,p.h||{k:0},0,.01,this),_.a=PropertyFactory.getProp(this,p.a||{k:0},0,degToRads,this),_.g=new GradientProperty(this,p.g,this)),_.o=PropertyFactory.getProp(this,p.o,0,.01,this),"st"===p.ty||"gs"===p.ty){if(m.lc=lineCapEnum[p.lc||2],m.lj=lineJoinEnum[p.lj||2],1==p.lj&&(m.ml=p.ml),_.w=PropertyFactory.getProp(this,p.w,0,null,this),_.w.k||(m.wi=_.w.v),p.d){var C=new DashProperty(this,p.d,"canvas",this);_.d=C,_.d.k||(m.da=_.d.dashArray,m.do=_.d.dashoffset[0])}}else m.r=2===p.r?"evenodd":"nonzero";return this.stylesList.push(m),_.style=m,_},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(p){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,p.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,p,this)}}},CVShapeElement.prototype.createShapeElement=function(p){var g=new CVShapeData(this,p,this.stylesList,this.transformsManager);return this.shapes.push(g),this.addShapeToModifiers(g),g},CVShapeElement.prototype.reloadShapes=function(){var p;this._isFirstFrame=!0;var g=this.itemsData.length;for(p=0;p<g;p+=1)this.prevViewData[p]=this.itemsData[p];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),g=this.dynamicProperties.length,p=0;p<g;p+=1)this.dynamicProperties[p].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(p){var g,m=this.stylesList.length;for(g=0;g<m;g+=1)this.stylesList[g].closed||this.stylesList[g].transforms.push(p)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var p,g=this.stylesList.length;for(p=0;p<g;p+=1)this.stylesList[p].closed||this.stylesList[p].transforms.pop()},CVShapeElement.prototype.closeStyles=function(p){var g,m=p.length;for(g=0;g<m;g+=1)p[g].closed=!0},CVShapeElement.prototype.searchShapes=function(p,g,m,_,C){var E,H,L,U,X,T,B=p.length-1,R=[],N=[],F=[].concat(C);for(E=B;E>=0;E-=1){if((U=this.searchProcessedElement(p[E]))?g[E]=m[U-1]:p[E]._shouldRender=_,"fl"===p[E].ty||"st"===p[E].ty||"gf"===p[E].ty||"gs"===p[E].ty)U?g[E].style.closed=!1:g[E]=this.createStyleElement(p[E],F),R.push(g[E].style);else if("gr"===p[E].ty){if(U)for(L=g[E].it.length,H=0;H<L;H+=1)g[E].prevViewData[H]=g[E].it[H];else g[E]=this.createGroupElement(p[E]);this.searchShapes(p[E].it,g[E].it,g[E].prevViewData,_,F)}else"tr"===p[E].ty?(U||(T=this.createTransformElement(p[E]),g[E]=T),F.push(g[E]),this.addTransformToStyleList(g[E])):"sh"===p[E].ty||"rc"===p[E].ty||"el"===p[E].ty||"sr"===p[E].ty?U||(g[E]=this.createShapeElement(p[E])):"tm"===p[E].ty||"rd"===p[E].ty||"pb"===p[E].ty?(U?(X=g[E]).closed=!1:((X=ShapeModifiers.getModifier(p[E].ty)).init(this,p[E]),g[E]=X,this.shapeModifiers.push(X)),N.push(X)):"rp"===p[E].ty&&(U?(X=g[E]).closed=!0:(X=ShapeModifiers.getModifier(p[E].ty),g[E]=X,X.init(this,p,E,g),this.shapeModifiers.push(X),_=!1),N.push(X));this.addProcessedElement(p[E],E+1)}for(this.removeTransformFromStyleList(),this.closeStyles(R),B=N.length,E=0;E<B;E+=1)N[E].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(p,g){(p._opMdf||g.op._mdf||this._isFirstFrame)&&(g.opacity=p.opacity,g.opacity*=g.op.v,g._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var p,g,m,_,C,E,H,L,U,X=this.stylesList.length,T=this.globalData.renderer,B=this.globalData.canvasContext;for(p=0;p<X;p+=1)if(("st"!==(L=(U=this.stylesList[p]).type)&&"gs"!==L||0!==U.wi)&&U.data._shouldRender&&0!==U.coOp&&0!==this.globalData.currentGlobalAlpha){for(T.save(),E=U.elements,"st"===L||"gs"===L?(B.strokeStyle="st"===L?U.co:U.grd,B.lineWidth=U.wi,B.lineCap=U.lc,B.lineJoin=U.lj,B.miterLimit=U.ml||0):B.fillStyle="fl"===L?U.co:U.grd,T.ctxOpacity(U.coOp),"st"!==L&&"gs"!==L&&B.beginPath(),T.ctxTransform(U.preTransforms.finalTransform.props),m=E.length,g=0;g<m;g+=1){for("st"!==L&&"gs"!==L||(B.beginPath(),U.da&&(B.setLineDash(U.da),B.lineDashOffset=U.do)),C=(H=E[g].trNodes).length,_=0;_<C;_+=1)"m"===H[_].t?B.moveTo(H[_].p[0],H[_].p[1]):"c"===H[_].t?B.bezierCurveTo(H[_].pts[0],H[_].pts[1],H[_].pts[2],H[_].pts[3],H[_].pts[4],H[_].pts[5]):B.closePath();"st"!==L&&"gs"!==L||(B.stroke(),U.da&&B.setLineDash(this.dashResetter))}"st"!==L&&"gs"!==L&&B.fill(U.r),T.restore()}},CVShapeElement.prototype.renderShape=function(p,g,m,_){var C,E;for(E=p,C=g.length-1;C>=0;C-=1)"tr"===g[C].ty?this.renderShapeTransform(p,E=m[C].transform):"sh"===g[C].ty||"el"===g[C].ty||"rc"===g[C].ty||"sr"===g[C].ty?this.renderPath(g[C],m[C]):"fl"===g[C].ty?this.renderFill(g[C],m[C],E):"st"===g[C].ty?this.renderStroke(g[C],m[C],E):"gf"===g[C].ty||"gs"===g[C].ty?this.renderGradientFill(g[C],m[C],E):"gr"===g[C].ty&&this.renderShape(E,g[C].it,m[C].it);_&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(p,g){if(this._isFirstFrame||g._mdf||p.transforms._mdf){var m,_,C,E=p.trNodes,H=g.paths,L=H._length;E.length=0;var U=p.transforms.finalTransform;for(C=0;C<L;C+=1){var X=H.shapes[C];if(X&&X.v){for(_=X._length,m=1;m<_;m+=1)1===m&&E.push({t:"m",p:U.applyToPointArray(X.v[0][0],X.v[0][1],0)}),E.push({t:"c",pts:U.applyToTriplePoints(X.o[m-1],X.i[m],X.v[m])});1===_&&E.push({t:"m",p:U.applyToPointArray(X.v[0][0],X.v[0][1],0)}),X.c&&_&&(E.push({t:"c",pts:U.applyToTriplePoints(X.o[m-1],X.i[0],X.v[0])}),E.push({t:"z"}))}}p.trNodes=E}},CVShapeElement.prototype.renderPath=function(p,g){if(!0!==p.hd&&p._shouldRender){var m,_=g.styledShapes.length;for(m=0;m<_;m+=1)this.renderStyledShape(g.styledShapes[m],g.sh)}},CVShapeElement.prototype.renderFill=function(p,g,m){var _=g.style;(g.c._mdf||this._isFirstFrame)&&(_.co="rgb("+bmFloor(g.c.v[0])+","+bmFloor(g.c.v[1])+","+bmFloor(g.c.v[2])+")"),(g.o._mdf||m._opMdf||this._isFirstFrame)&&(_.coOp=g.o.v*m.opacity)},CVShapeElement.prototype.renderGradientFill=function(p,g,m){var _,C=g.style;if(!C.grd||g.g._mdf||g.s._mdf||g.e._mdf||1!==p.t&&(g.h._mdf||g.a._mdf)){var E,H=this.globalData.canvasContext,L=g.s.v,U=g.e.v;if(1===p.t)_=H.createLinearGradient(L[0],L[1],U[0],U[1]);else{var X=Math.sqrt(Math.pow(L[0]-U[0],2)+Math.pow(L[1]-U[1],2)),T=Math.atan2(U[1]-L[1],U[0]-L[0]),B=g.h.v;B>=1?B=.99:B<=-1&&(B=-.99);var R=X*B,N=Math.cos(T+g.a.v)*R+L[0],F=Math.sin(T+g.a.v)*R+L[1];_=H.createRadialGradient(N,F,0,L[0],L[1],X)}var G=p.g.p,I=g.g.c,Q=1;for(E=0;E<G;E+=1)g.g._hasOpacity&&g.g._collapsable&&(Q=g.g.o[2*E+1]),_.addColorStop(I[4*E]/100,"rgba("+I[4*E+1]+","+I[4*E+2]+","+I[4*E+3]+","+Q+")");C.grd=_}C.coOp=g.o.v*m.opacity},CVShapeElement.prototype.renderStroke=function(p,g,m){var _=g.style,C=g.d;C&&(C._mdf||this._isFirstFrame)&&(_.da=C.dashArray,_.do=C.dashoffset[0]),(g.c._mdf||this._isFirstFrame)&&(_.co="rgb("+bmFloor(g.c.v[0])+","+bmFloor(g.c.v[1])+","+bmFloor(g.c.v[2])+")"),(g.o._mdf||m._opMdf||this._isFirstFrame)&&(_.coOp=g.o.v*m.opacity),(g.w._mdf||this._isFirstFrame)&&(_.wi=g.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var p=this.textProperty.currentData;this.renderedLetters=createSizedArray(p.l?p.l.length:0);var g=!1;p.fc?(g=!0,this.values.fill=this.buildColor(p.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=g;var m=!1;p.sc&&(m=!0,this.values.stroke=this.buildColor(p.sc),this.values.sWidth=p.sw);var _,C,E,H,L,U,X,T,B,R,N,F,G=this.globalData.fontManager.getFontByName(p.f),I=p.l,Q=this.mHelper;this.stroke=m,this.values.fValue=p.finalSize+"px "+this.globalData.fontManager.getFontByName(p.f).fFamily,C=p.finalText.length;var oe=this.data.singleShape,le=.001*p.tr*p.finalSize,be=0,Ae=0,$e=!0,Be=0;for(_=0;_<C;_+=1){H=(E=this.globalData.fontManager.getCharData(p.finalText[_],G.fStyle,this.globalData.fontManager.getFontByName(p.f).fFamily))&&E.data||{},Q.reset(),oe&&I[_].n&&(be=-le,Ae+=p.yOffset,Ae+=$e?1:0,$e=!1),B=(X=H.shapes?H.shapes[0].it:[]).length,Q.scale(p.finalSize/100,p.finalSize/100),oe&&this.applyTextPropertiesToMatrix(p,Q,I[_].line,be,Ae),N=createSizedArray(B-1);var qe=0;for(T=0;T<B;T+=1)if("sh"===X[T].ty){for(U=X[T].ks.k.i.length,R=X[T].ks.k,F=[],L=1;L<U;L+=1)1===L&&F.push(Q.applyToX(R.v[0][0],R.v[0][1],0),Q.applyToY(R.v[0][0],R.v[0][1],0)),F.push(Q.applyToX(R.o[L-1][0],R.o[L-1][1],0),Q.applyToY(R.o[L-1][0],R.o[L-1][1],0),Q.applyToX(R.i[L][0],R.i[L][1],0),Q.applyToY(R.i[L][0],R.i[L][1],0),Q.applyToX(R.v[L][0],R.v[L][1],0),Q.applyToY(R.v[L][0],R.v[L][1],0));F.push(Q.applyToX(R.o[L-1][0],R.o[L-1][1],0),Q.applyToY(R.o[L-1][0],R.o[L-1][1],0),Q.applyToX(R.i[0][0],R.i[0][1],0),Q.applyToY(R.i[0][0],R.i[0][1],0),Q.applyToX(R.v[0][0],R.v[0][1],0),Q.applyToY(R.v[0][0],R.v[0][1],0)),N[qe]=F,qe+=1}oe&&(be+=I[_].l,be+=le),this.textSpans[Be]?this.textSpans[Be].elem=N:this.textSpans[Be]={elem:N},Be+=1}},CVTextElement.prototype.renderInnerContent=function(){var p,g,m,_,C,E,H=this.canvasContext;H.font=this.values.fValue,H.lineCap="butt",H.lineJoin="miter",H.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var L,U=this.textAnimator.renderedLetters,X=this.textProperty.currentData.l;g=X.length;var T,B,R=null,N=null,F=null;for(p=0;p<g;p+=1)if(!X[p].n){if((L=U[p])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(L.p),this.globalData.renderer.ctxOpacity(L.o)),this.fill){for(L&&L.fc?R!==L.fc&&(R=L.fc,H.fillStyle=L.fc):R!==this.values.fill&&(R=this.values.fill,H.fillStyle=this.values.fill),_=(T=this.textSpans[p].elem).length,this.globalData.canvasContext.beginPath(),m=0;m<_;m+=1)for(E=(B=T[m]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),C=2;C<E;C+=6)this.globalData.canvasContext.bezierCurveTo(B[C],B[C+1],B[C+2],B[C+3],B[C+4],B[C+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(L&&L.sw?F!==L.sw&&(F=L.sw,H.lineWidth=L.sw):F!==this.values.sWidth&&(F=this.values.sWidth,H.lineWidth=this.values.sWidth),L&&L.sc?N!==L.sc&&(N=L.sc,H.strokeStyle=L.sc):N!==this.values.stroke&&(N=this.values.stroke,H.strokeStyle=this.values.stroke),_=(T=this.textSpans[p].elem).length,this.globalData.canvasContext.beginPath(),m=0;m<_;m+=1)for(E=(B=T[m]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),C=2;C<E;C+=6)this.globalData.canvasContext.bezierCurveTo(B[C],B[C+1],B[C+2],B[C+3],B[C+4],B[C+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}L&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var p=createTag("canvas");p.width=this.assetData.w,p.height=this.assetData.h;var g,m,_=p.getContext("2d"),C=this.img.width,E=this.img.height,H=C/E,L=this.assetData.w/this.assetData.h,U=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;H>L&&"xMidYMid slice"===U||H<L&&"xMidYMid slice"!==U?g=(m=E)*L:m=(g=C)/L,_.drawImage(this.img,(C-g)/2,(E-m)/2,g,m,0,0,this.assetData.w,this.assetData.h),this.img=p}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var p=this.canvasContext;p.fillStyle=this.data.sc,p.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(p){return new CVShapeElement(p,this.globalData,this)},CanvasRendererBase.prototype.createText=function(p){return new CVTextElement(p,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(p){return new CVImageElement(p,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(p){return new CVSolidElement(p,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(p){if(1!==p[0]||0!==p[1]||0!==p[4]||1!==p[5]||0!==p[12]||0!==p[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(p);var g=this.contextData.cTr.props;this.transformMat.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var m=this.contextData.cTr.props;this.canvasContext.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}else this.canvasContext.transform(p[0],p[1],p[4],p[5],p[12],p[13])},CanvasRendererBase.prototype.ctxOpacity=function(p){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=p<0?0:p,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=p<0?0:p,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(p){if(this.renderConfig.clearCanvas){p&&this.canvasContext.save();var g,m=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var _=this.contextData.saved[this.contextData.cArrPos];for(g=0;g<16;g+=1)_[g]=m[g];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(p){if(this.renderConfig.clearCanvas){p&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var g,m=this.contextData.saved[this.contextData.cArrPos],_=this.contextData.cTr.props;for(g=0;g<16;g+=1)_[g]=m[g];this.canvasContext.setTransform(m[0],m[1],m[4],m[5],m[12],m[13]),this.contextData.cO=m=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==m&&(this.canvasContext.globalAlpha=m,this.globalData.currentGlobalAlpha=m)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(p){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var g=this.animationItem.container.style;g.width="100%",g.height="100%";var m="0px 0px 0px";g.transformOrigin=m,g.mozTransformOrigin=m,g.webkitTransformOrigin=m,g["-webkit-transform"]=m,g.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=p,this.layers=p.layers,this.transformCanvas={w:p.w,h:p.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(p,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(p.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){var p,g,m,_;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(g=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(p=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",g*this.renderConfig.dpr)):(p=this.canvasContext.canvas.width*this.renderConfig.dpr,g=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var C=this.renderConfig.preserveAspectRatio.split(" "),E=C[1]||"meet",H=C[0]||"xMidYMid",L=H.substr(0,4),U=H.substr(4);(_=this.transformCanvas.w/this.transformCanvas.h)>(m=p/g)&&"meet"===E||_<m&&"slice"===E?(this.transformCanvas.sx=p/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=p/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=g/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=g/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===L&&(_<m&&"meet"===E||_>m&&"slice"===E)?(p-this.transformCanvas.w*(g/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===L&&(_<m&&"meet"===E||_>m&&"slice"===E)?(p-this.transformCanvas.w*(g/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===U&&(_>m&&"meet"===E||_<m&&"slice"===E)?(g-this.transformCanvas.h*(p/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===U&&(_>m&&"meet"===E||_<m&&"slice"===E)?(g-this.transformCanvas.h*(p/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=p/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=g/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var p;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),p=(this.layers?this.layers.length:0)-1;p>=0;p-=1)this.elements[p]&&this.elements[p].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(p,g){if((this.renderedFrame!==p||!0!==this.renderConfig.clearCanvas||g)&&!this.destroyed&&-1!==p){var m;this.renderedFrame=p,this.globalData.frameNum=p-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||g,this.globalData.projectInterface.currentFrame=p;var _=this.layers.length;for(this.completeLayers||this.checkLayers(p),m=0;m<_;m+=1)(this.completeLayers||this.elements[m])&&this.elements[m].prepareFrame(p-this.layers[m].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),m=_-1;m>=0;m-=1)(this.completeLayers||this.elements[m])&&this.elements[m].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(p){var g=this.elements;if(!g[p]&&99!==this.layers[p].ty){var m=this.createItem(this.layers[p],this,this.globalData);g[p]=m,m.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var p,g=this.canvasContext;for(g.beginPath(),g.moveTo(0,0),g.lineTo(this.data.w,0),g.lineTo(this.data.w,this.data.h),g.lineTo(0,this.data.h),g.lineTo(0,0),g.clip(),p=this.layers.length-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame()},CVCompElement.prototype.destroy=function(){var p;for(p=this.layers.length-1;p>=0;p-=1)this.elements[p]&&this.elements[p].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(p){return new CVCompElement(p,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(p){return new CVCompElement(p,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var p=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var g=this.finalTransform.mat.toCSS();p.transform=g,p.webkitTransform=g}this.finalTransform._opMdf&&(p.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var p;this.data.hasMask?((p=createNS("rect")).setAttribute("width",this.data.sw),p.setAttribute("height",this.data.sh),p.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((p=createTag("div")).style.width=this.data.sw+"px",p.style.height=this.data.sh+"px",p.style.backgroundColor=this.data.sc),this.layerElement.appendChild(p)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var p;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),p=this.svgElement;else{p=createNS("svg");var g=this.comp.data?this.comp.data:this.globalData.compSize;p.setAttribute("width",g.w),p.setAttribute("height",g.h),p.appendChild(this.shapesContainer),this.layerElement.appendChild(p)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=p},HShapeElement.prototype.getTransformedPoint=function(p,g){var m,_=p.length;for(m=0;m<_;m+=1)g=p[m].mProps.v.applyToPointArray(g[0],g[1],0);return g},HShapeElement.prototype.calculateShapeBoundingBox=function(p,g){var m,_,C,E,H,L=p.sh.v,U=p.transformers,X=L._length;if(!(X<=1)){for(m=0;m<X-1;m+=1)_=this.getTransformedPoint(U,L.v[m]),C=this.getTransformedPoint(U,L.o[m]),E=this.getTransformedPoint(U,L.i[m+1]),H=this.getTransformedPoint(U,L.v[m+1]),this.checkBounds(_,C,E,H,g);L.c&&(_=this.getTransformedPoint(U,L.v[m]),C=this.getTransformedPoint(U,L.o[m]),E=this.getTransformedPoint(U,L.i[0]),H=this.getTransformedPoint(U,L.v[0]),this.checkBounds(_,C,E,H,g))}},HShapeElement.prototype.checkBounds=function(p,g,m,_,C){this.getBoundsOfCurve(p,g,m,_);var E=this.shapeBoundingBox;C.x=bmMin(E.left,C.x),C.xMax=bmMax(E.right,C.xMax),C.y=bmMin(E.top,C.y),C.yMax=bmMax(E.bottom,C.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(p,g,m,_){for(var C,E,H,L,U,X,T,B=[[p[0],_[0]],[p[1],_[1]]],R=0;R<2;++R)E=6*p[R]-12*g[R]+6*m[R],C=-3*p[R]+9*g[R]-9*m[R]+3*_[R],H=3*g[R]-3*p[R],E|=0,H|=0,0==(C|=0)&&0===E||(0===C?(L=-H/E)>0&&L<1&&B[R].push(this.calculateF(L,p,g,m,_,R)):(U=E*E-4*H*C)>=0&&((X=(-E+bmSqrt(U))/(2*C))>0&&X<1&&B[R].push(this.calculateF(X,p,g,m,_,R)),(T=(-E-bmSqrt(U))/(2*C))>0&&T<1&&B[R].push(this.calculateF(T,p,g,m,_,R))));this.shapeBoundingBox.left=bmMin.apply(null,B[0]),this.shapeBoundingBox.top=bmMin.apply(null,B[1]),this.shapeBoundingBox.right=bmMax.apply(null,B[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,B[1])},HShapeElement.prototype.calculateF=function(p,g,m,_,C,E){return bmPow(1-p,3)*g[E]+3*bmPow(1-p,2)*p*m[E]+3*(1-p)*bmPow(p,2)*_[E]+bmPow(p,3)*C[E]},HShapeElement.prototype.calculateBoundingBox=function(p,g){var m,_=p.length;for(m=0;m<_;m+=1)p[m]&&p[m].sh?this.calculateShapeBoundingBox(p[m],g):p[m]&&p[m].it?this.calculateBoundingBox(p[m].it,g):p[m]&&p[m].style&&p[m].w&&this.expandStrokeBoundingBox(p[m].w,g)},HShapeElement.prototype.expandStrokeBoundingBox=function(p,g){var m=0;if(p.keyframes){for(var _=0;_<p.keyframes.length;_+=1){var C=p.keyframes[_].s;C>m&&(m=C)}m*=p.mult}else m=p.v*p.mult;g.x-=m,g.xMax+=m,g.y-=m,g.yMax+=m},HShapeElement.prototype.currentBoxContains=function(p){return this.currentBBox.x<=p.x&&this.currentBBox.y<=p.y&&this.currentBBox.width+this.currentBBox.x>=p.x+p.width&&this.currentBBox.height+this.currentBBox.y>=p.y+p.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var p=this.tempBoundingBox,g=999999;if(p.x=g,p.xMax=-g,p.y=g,p.yMax=-g,this.calculateBoundingBox(this.itemsData,p),p.width=p.xMax<p.x?0:p.xMax-p.x,p.height=p.yMax<p.y?0:p.yMax-p.y,this.currentBoxContains(p))return;var m=!1;if(this.currentBBox.w!==p.width&&(this.currentBBox.w=p.width,this.shapeCont.setAttribute("width",p.width),m=!0),this.currentBBox.h!==p.height&&(this.currentBBox.h=p.height,this.shapeCont.setAttribute("height",p.height),m=!0),m||this.currentBBox.x!==p.x||this.currentBBox.y!==p.y){this.currentBBox.w=p.width,this.currentBBox.h=p.height,this.currentBBox.x=p.x,this.currentBBox.y=p.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var _=this.shapeCont.style,C="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_.transform=C,_.webkitTransform=C}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var p=createNS("g");this.maskedElement.appendChild(p),this.innerElem=p}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var p=this.textProperty.currentData;this.renderedLetters=createSizedArray(p.l?p.l.length:0);var g=this.innerElem.style,m=p.fc?this.buildColor(p.fc):"rgba(0,0,0,0)";g.fill=m,g.color=m,p.sc&&(g.stroke=this.buildColor(p.sc),g.strokeWidth=p.sw+"px");var _,C,E=this.globalData.fontManager.getFontByName(p.f);if(!this.globalData.fontManager.chars)if(g.fontSize=p.finalSize+"px",g.lineHeight=p.finalSize+"px",E.fClass)this.innerElem.className=E.fClass;else{g.fontFamily=E.fFamily;var H=p.fWeight;g.fontStyle=p.fStyle,g.fontWeight=H}var U,X,T,B=p.l;C=B.length;var R,N=this.mHelper,F="",G=0;for(_=0;_<C;_+=1){if(this.globalData.fontManager.chars?(this.textPaths[G]?U=this.textPaths[G]:((U=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),U.setAttribute("stroke-linejoin",lineJoinEnum[2]),U.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[G]?T=(X=this.textSpans[G]).children[0]:((X=createTag("div")).style.lineHeight=0,(T=createNS("svg")).appendChild(U),styleDiv(X)))):this.isMasked?U=this.textPaths[G]?this.textPaths[G]:createNS("text"):this.textSpans[G]?(X=this.textSpans[G],U=this.textPaths[G]):(styleDiv(X=createTag("span")),styleDiv(U=createTag("span")),X.appendChild(U)),this.globalData.fontManager.chars){var I,Q=this.globalData.fontManager.getCharData(p.finalText[_],E.fStyle,this.globalData.fontManager.getFontByName(p.f).fFamily);if(I=Q?Q.data:null,N.reset(),I&&I.shapes&&I.shapes.length&&(R=I.shapes[0].it,N.scale(p.finalSize/100,p.finalSize/100),F=this.createPathShape(N,R),U.setAttribute("d",F)),this.isMasked)this.innerElem.appendChild(U);else{if(this.innerElem.appendChild(X),I&&I.shapes){document.body.appendChild(T);var oe=T.getBBox();T.setAttribute("width",oe.width+2),T.setAttribute("height",oe.height+2),T.setAttribute("viewBox",oe.x-1+" "+(oe.y-1)+" "+(oe.width+2)+" "+(oe.height+2));var le=T.style,be="translate("+(oe.x-1)+"px,"+(oe.y-1)+"px)";le.transform=be,le.webkitTransform=be,B[_].yOffset=oe.y-1}else T.setAttribute("width",1),T.setAttribute("height",1);X.appendChild(T)}}else if(U.textContent=B[_].val,U.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(U);else{this.innerElem.appendChild(X);var Ae=U.style,$e="translate3d(0,"+-p.finalSize/1.2+"px,0)";Ae.transform=$e,Ae.webkitTransform=$e}this.textSpans[G]=this.isMasked?U:X,this.textSpans[G].style.display="block",this.textPaths[G]=U,G+=1}for(;G<this.textSpans.length;)this.textSpans[G].style.display="none",G+=1},HTextElement.prototype.renderInnerContent=function(){var p;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var g="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(p=this.svgElement.style).transform=g,p.webkitTransform=g}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var m,_,C,E,H,L=0,U=this.textAnimator.renderedLetters,X=this.textProperty.currentData.l;for(_=X.length,m=0;m<_;m+=1)X[m].n?L+=1:(E=this.textSpans[m],H=this.textPaths[m],C=U[L],L+=1,C._mdf.m&&(this.isMasked?E.setAttribute("transform",C.m):(E.style.webkitTransform=C.m,E.style.transform=C.m)),E.style.opacity=C.o,C.sw&&C._mdf.sw&&H.setAttribute("stroke-width",C.sw),C.sc&&C._mdf.sc&&H.setAttribute("stroke",C.sc),C.fc&&C._mdf.fc&&(H.setAttribute("fill",C.fc),H.style.color=C.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var T=this.innerElem.getBBox();if(this.currentBBox.w!==T.width&&(this.currentBBox.w=T.width,this.svgElement.setAttribute("width",T.width)),this.currentBBox.h!==T.height&&(this.currentBBox.h=T.height,this.svgElement.setAttribute("height",T.height)),this.currentBBox.w!==T.width+2||this.currentBBox.h!==T.height+2||this.currentBBox.x!==T.x-1||this.currentBBox.y!==T.y-1){this.currentBBox.w=T.width+2,this.currentBBox.h=T.height+2,this.currentBBox.x=T.x-1,this.currentBBox.y=T.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var B="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(p=this.svgElement.style).transform=B,p.webkitTransform=B}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var p,g,m,_,C=this.comp.threeDElements.length;for(p=0;p<C;p+=1)if("3d"===(g=this.comp.threeDElements[p]).type){_=g.container.style;var E=this.pe.v+"px",H="0px 0px 0px",L="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(m=g.perspectiveElem.style).perspective=E,m.webkitPerspective=E,_.transformOrigin=H,_.mozTransformOrigin=H,_.webkitTransformOrigin=H,m.transform=L,m.webkitTransform=L}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var p,g,m=this._isFirstFrame;if(this.hierarchy)for(g=this.hierarchy.length,p=0;p<g;p+=1)m=this.hierarchy[p].finalTransform.mProp._mdf||m;if(m||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(p=g=this.hierarchy.length-1;p>=0;p-=1){var _=this.hierarchy[p].finalTransform.mProp;this.mat.translate(-_.p.v[0],-_.p.v[1],_.p.v[2]),this.mat.rotateX(-_.or.v[0]).rotateY(-_.or.v[1]).rotateZ(_.or.v[2]),this.mat.rotateX(-_.rx.v).rotateY(-_.ry.v).rotateZ(_.rz.v),this.mat.scale(1/_.s.v[0],1/_.s.v[1],1/_.s.v[2]),this.mat.translate(_.a.v[0],_.a.v[1],_.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var C;C=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var E=Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2)+Math.pow(C[2],2)),H=[C[0]/E,C[1]/E,C[2]/E],L=Math.sqrt(H[2]*H[2]+H[0]*H[0]),U=Math.atan2(H[1],L),X=Math.atan2(H[0],-H[2]);this.mat.rotateY(X).rotateX(-U)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var T=!this._prevMat.equals(this.mat);if((T||this.pe._mdf)&&this.comp.threeDElements){var B,R,N;for(g=this.comp.threeDElements.length,p=0;p<g;p+=1)if("3d"===(B=this.comp.threeDElements[p]).type){if(T){var F=this.mat.toCSS();(N=B.container.style).transform=F,N.webkitTransform=F}this.pe._mdf&&((R=B.perspectiveElem.style).perspective=this.pe.v+"px",R.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(p){this.prepareProperties(p,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var p=this.globalData.getAssetsPath(this.assetData),g=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",p),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(g),g.crossOrigin="anonymous",g.src=p,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(p,g){var m=p.getBaseElement();if(m){var _=this.layers[g];if(_.ddd&&this.supports3d)this.addTo3dContainer(m,g);else if(this.threeDElements)this.addTo3dContainer(m,g);else{for(var C,E,H=0;H<g;)this.elements[H]&&!0!==this.elements[H]&&this.elements[H].getBaseElement&&(E=this.elements[H],C=(this.layers[H].ddd?this.getThreeDContainerByPos(H):E.getBaseElement())||C),H+=1;C?_.ddd&&this.supports3d||this.layerElement.insertBefore(m,C):_.ddd&&this.supports3d||this.layerElement.appendChild(m)}}},HybridRendererBase.prototype.createShape=function(p){return this.supports3d?new HShapeElement(p,this.globalData,this):new SVGShapeElement(p,this.globalData,this)},HybridRendererBase.prototype.createText=function(p){return this.supports3d?new HTextElement(p,this.globalData,this):new SVGTextLottieElement(p,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(p){return this.camera=new HCameraElement(p,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(p){return this.supports3d?new HImageElement(p,this.globalData,this):new IImageElement(p,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(p){return this.supports3d?new HSolidElement(p,this.globalData,this):new ISolidElement(p,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(p){for(var g=0,m=this.threeDElements.length;g<m;){if(this.threeDElements[g].startPos<=p&&this.threeDElements[g].endPos>=p)return this.threeDElements[g].perspectiveElem;g+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(p,g){var m,_,C=createTag("div");styleDiv(C);var E=createTag("div");if(styleDiv(E),"3d"===g){(m=C.style).width=this.globalData.compSize.w+"px",m.height=this.globalData.compSize.h+"px";var H="50% 50%";m.webkitTransformOrigin=H,m.mozTransformOrigin=H,m.transformOrigin=H;var L="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(_=E.style).transform=L,_.webkitTransform=L}C.appendChild(E);var U={container:E,perspectiveElem:C,startPos:p,endPos:p,type:g};return this.threeDElements.push(U),U},HybridRendererBase.prototype.build3dContainers=function(){var p,g,m=this.layers.length,_="";for(p=0;p<m;p+=1)this.layers[p].ddd&&3!==this.layers[p].ty?("3d"!==_&&(_="3d",g=this.createThreeDContainer(p,"3d")),g.endPos=Math.max(g.endPos,p)):("2d"!==_&&(_="2d",g=this.createThreeDContainer(p,"2d")),g.endPos=Math.max(g.endPos,p));for(p=(m=this.threeDElements.length)-1;p>=0;p-=1)this.resizerElem.appendChild(this.threeDElements[p].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(p,g){for(var m=0,_=this.threeDElements.length;m<_;){if(g<=this.threeDElements[m].endPos){for(var C,E=this.threeDElements[m].startPos;E<g;)this.elements[E]&&this.elements[E].getBaseElement&&(C=this.elements[E].getBaseElement()),E+=1;C?this.threeDElements[m].container.insertBefore(p,C):this.threeDElements[m].container.appendChild(p);break}m+=1}},HybridRendererBase.prototype.configAnimation=function(p){var g=createTag("div"),m=this.animationItem.wrapper,_=g.style;_.width=p.w+"px",_.height=p.h+"px",this.resizerElem=g,styleDiv(g),_.transformStyle="flat",_.mozTransformStyle="flat",_.webkitTransformStyle="flat",this.renderConfig.className&&g.setAttribute("class",this.renderConfig.className),m.appendChild(g),_.overflow="hidden";var C=createNS("svg");C.setAttribute("width","1"),C.setAttribute("height","1"),styleDiv(C),this.resizerElem.appendChild(C);var E=createNS("defs");C.appendChild(E),this.data=p,this.setupGlobalData(p,C),this.globalData.defs=E,this.layers=p.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var p;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var g=this.layers?this.layers.length:0;for(p=0;p<g;p+=1)this.elements[p].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var p,g,m,_,C=this.animationItem.wrapper.offsetWidth,E=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>C/E?(p=C/this.globalData.compSize.w,g=C/this.globalData.compSize.w,m=0,_=(E-this.globalData.compSize.h*(C/this.globalData.compSize.w))/2):(p=E/this.globalData.compSize.h,g=E/this.globalData.compSize.h,m=(C-this.globalData.compSize.w*(E/this.globalData.compSize.h))/2,_=0);var L=this.resizerElem.style;L.webkitTransform="matrix3d("+p+",0,0,0,0,"+g+",0,0,0,0,1,0,"+m+","+_+",0,1)",L.transform=L.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var p,g=this.globalData.compSize.w,m=this.globalData.compSize.h,_=this.threeDElements.length;for(p=0;p<_;p+=1){var C=this.threeDElements[p].perspectiveElem.style;C.webkitPerspective=Math.sqrt(Math.pow(g,2)+Math.pow(m,2))+"px",C.perspective=C.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(p){var g,m=p.length,_=createTag("div");for(g=0;g<m;g+=1)if(p[g].xt){var C=this.createComp(p[g],_,this.globalData.comp,null);C.initExpressions(),this.globalData.projectInterface.registerComposition(C)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(p,g){for(var m,_=0;_<g;)this.elements[_]&&this.elements[_].getBaseElement&&(m=this.elements[_].getBaseElement()),_+=1;m?this.layerElement.insertBefore(p,m):this.layerElement.appendChild(p)},HCompElement.prototype.createComp=function(p){return this.supports3d?new HCompElement(p,this.globalData,this):new SVGCompElement(p,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(p){return this.supports3d?new HCompElement(p,this.globalData,this):new SVGCompElement(p,this.globalData,this)};var Expressions=function(){var p={initExpressions:function(g){var m=0,_=[];g.renderer.compInterface=CompExpressionInterface(g.renderer),g.renderer.globalData.projectInterface.registerComposition(g.renderer),g.renderer.globalData.pushExpression=function(){m+=1},g.renderer.globalData.popExpression=function(){0==(m-=1)&&function(){var C,E=_.length;for(C=0;C<E;C+=1)_[C].release();_.length=0}()},g.renderer.globalData.registerExpressionProperty=function(C){-1===_.indexOf(C)&&_.push(C)}}};return p}();function _typeof$1(p){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof$1(p)}function seedRandom(p,g){var _=this,C=256,E=g.pow(C,6),H=g.pow(2,52),L=2*H,U=255;function X(F){var G,I=F.length,Q=this,oe=0,le=Q.i=Q.j=0,be=Q.S=[];for(I||(F=[I++]);oe<C;)be[oe]=oe++;for(oe=0;oe<C;oe++)be[oe]=be[le=U&le+F[oe%I]+(G=be[oe])],be[le]=G;Q.g=function(Ae){for(var $e,Be=0,qe=Q.i,pt=Q.j,j=Q.S;Ae--;)$e=j[qe=U&qe+1],Be=Be*C+j[U&(j[qe]=j[pt=U&pt+$e])+(j[pt]=$e)];return Q.i=qe,Q.j=pt,Be}}function T(F,G){return G.i=F.i,G.j=F.j,G.S=F.S.slice(),G}function B(F,G){var I,Q=[],oe=_typeof$1(F);if(G&&"object"==oe)for(I in F)try{Q.push(B(F[I],G-1))}catch{}return Q.length?Q:"string"==oe?F:F+"\0"}function R(F,G){for(var I,Q=F+"",oe=0;oe<Q.length;)G[U&oe]=U&(I^=19*G[U&oe])+Q.charCodeAt(oe++);return N(G)}function N(F){return String.fromCharCode.apply(0,F)}g.seedrandom=function(F,G,I){var Q=[],oe=R(B((G=!0===G?{entropy:!0}:G||{}).entropy?[F,N(p)]:null===F?function(){try{var Ae=new Uint8Array(C);return(_.crypto||_.msCrypto).getRandomValues(Ae),N(Ae)}catch{var $e=_.navigator,Be=$e&&$e.plugins;return[+new Date,_,Be,_.screen,N(p)]}}():F,3),Q),le=new X(Q),be=function(){for(var Ae=le.g(6),$e=E,Be=0;Ae<H;)Ae=(Ae+Be)*C,$e*=C,Be=le.g(1);for(;Ae>=L;)Ae/=2,$e/=2,Be>>>=1;return(Ae+Be)/$e};return be.int32=function(){return 0|le.g(4)},be.quick=function(){return le.g(4)/4294967296},be.double=be,R(N(le.S),p),(G.pass||I||function(Ae,$e,Be,qe){return qe&&(qe.S&&T(qe,le),Ae.state=function(){return T(le,{})}),Be?(g.random=Ae,$e):Ae})(be,oe,"global"in G?G.global:this==g,G.state)},R(g.random(),p)}function initialize$2(p){seedRandom([],p)}var propTypes={SHAPE:"shape"};function _typeof(p){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof(p)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(p){return p.constructor===Array||p.constructor===Float32Array}function isNumerable(p,g){return"number"===p||"boolean"===p||"string"===p||g instanceof Number}function $bm_neg(p){var g=_typeof(p);if("number"===g||"boolean"===g||p instanceof Number)return-p;if($bm_isInstanceOfArray(p)){var m,_=p.length,C=[];for(m=0;m<_;m+=1)C[m]=-p[m];return C}return p.propType?p.v:-p}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(p,g){var m=_typeof(p),_=_typeof(g);if("string"===m||"string"===_||isNumerable(m,p)&&isNumerable(_,g))return p+g;if($bm_isInstanceOfArray(p)&&isNumerable(_,g))return(p=p.slice(0))[0]+=g,p;if(isNumerable(m,p)&&$bm_isInstanceOfArray(g))return(g=g.slice(0))[0]=p+g[0],g;if($bm_isInstanceOfArray(p)&&$bm_isInstanceOfArray(g)){for(var C=0,E=p.length,H=g.length,L=[];C<E||C<H;)L[C]=("number"==typeof p[C]||p[C]instanceof Number)&&("number"==typeof g[C]||g[C]instanceof Number)?p[C]+g[C]:void 0===g[C]?p[C]:p[C]||g[C],C+=1;return L}return 0}var add=sum;function sub(p,g){var m=_typeof(p),_=_typeof(g);if(isNumerable(m,p)&&isNumerable(_,g))return"string"===m&&(p=parseInt(p,10)),"string"===_&&(g=parseInt(g,10)),p-g;if($bm_isInstanceOfArray(p)&&isNumerable(_,g))return(p=p.slice(0))[0]-=g,p;if(isNumerable(m,p)&&$bm_isInstanceOfArray(g))return(g=g.slice(0))[0]=p-g[0],g;if($bm_isInstanceOfArray(p)&&$bm_isInstanceOfArray(g)){for(var C=0,E=p.length,H=g.length,L=[];C<E||C<H;)L[C]=("number"==typeof p[C]||p[C]instanceof Number)&&("number"==typeof g[C]||g[C]instanceof Number)?p[C]-g[C]:void 0===g[C]?p[C]:p[C]||g[C],C+=1;return L}return 0}function mul(p,g){var m,_,C,E=_typeof(p),H=_typeof(g);if(isNumerable(E,p)&&isNumerable(H,g))return p*g;if($bm_isInstanceOfArray(p)&&isNumerable(H,g)){for(m=createTypedArray("float32",C=p.length),_=0;_<C;_+=1)m[_]=p[_]*g;return m}if(isNumerable(E,p)&&$bm_isInstanceOfArray(g)){for(m=createTypedArray("float32",C=g.length),_=0;_<C;_+=1)m[_]=p*g[_];return m}return 0}function div(p,g){var m,_,C,E=_typeof(p),H=_typeof(g);if(isNumerable(E,p)&&isNumerable(H,g))return p/g;if($bm_isInstanceOfArray(p)&&isNumerable(H,g)){for(m=createTypedArray("float32",C=p.length),_=0;_<C;_+=1)m[_]=p[_]/g;return m}if(isNumerable(E,p)&&$bm_isInstanceOfArray(g)){for(m=createTypedArray("float32",C=g.length),_=0;_<C;_+=1)m[_]=p/g[_];return m}return 0}function mod(p,g){return"string"==typeof p&&(p=parseInt(p,10)),"string"==typeof g&&(g=parseInt(g,10)),p%g}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(p,g,m){if(g>m){var _=m;m=g,g=_}return Math.min(Math.max(p,g),m)}function radiansToDegrees(p){return p/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(p){return p*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(p,g){if("number"==typeof p||p instanceof Number)return Math.abs(p-(g=g||0));var m;g||(g=helperLengthArray);var _=Math.min(p.length,g.length),C=0;for(m=0;m<_;m+=1)C+=Math.pow(g[m]-p[m],2);return Math.sqrt(C)}function normalize(p){return div(p,length(p))}function rgbToHsl(p){var g,m,_=p[0],C=p[1],E=p[2],H=Math.max(_,C,E),L=Math.min(_,C,E),U=(H+L)/2;if(H===L)g=0,m=0;else{var X=H-L;switch(m=U>.5?X/(2-H-L):X/(H+L),H){case _:g=(C-E)/X+(C<E?6:0);break;case C:g=(E-_)/X+2;break;case E:g=(_-C)/X+4}g/=6}return[g,m,U,p[3]]}function hue2rgb(p,g,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?p+6*(g-p)*m:m<.5?g:m<2/3?p+(g-p)*(2/3-m)*6:p}function hslToRgb(p){var g,m,_,C=p[0],E=p[1],H=p[2];if(0===E)g=H,_=H,m=H;else{var L=H<.5?H*(1+E):H+E-H*E,U=2*H-L;g=hue2rgb(U,L,C+1/3),m=hue2rgb(U,L,C),_=hue2rgb(U,L,C-1/3)}return[g,m,_,p[3]]}function linear(p,g,m,_,C){if(void 0!==_&&void 0!==C||(_=g,C=m,g=0,m=1),m<g){var E=m;m=g,g=E}if(p<=g)return _;if(p>=m)return C;var H,L=m===g?0:(p-g)/(m-g);if(!_.length)return _+(C-_)*L;var U=_.length,X=createTypedArray("float32",U);for(H=0;H<U;H+=1)X[H]=_[H]+(C[H]-_[H])*L;return X}function random(p,g){if(void 0===g&&(void 0===p?(p=0,g=1):(g=p,p=void 0)),g.length){var m,_=g.length;p||(p=createTypedArray("float32",_));var C=createTypedArray("float32",_),E=BMMath.random();for(m=0;m<_;m+=1)C[m]=p[m]+E*(g[m]-p[m]);return C}return void 0===p&&(p=0),p+BMMath.random()*(g-p)}function createPath(p,g,m,_){var C,E=p.length,H=shapePool.newElement();H.setPathData(!!_,E);var L,U,X=[0,0];for(C=0;C<E;C+=1)H.setTripleAt(p[C][0],p[C][1],(U=m&&m[C]?m[C]:X)[0]+p[C][0],U[1]+p[C][1],(L=g&&g[C]?g[C]:X)[0]+p[C][0],L[1]+p[C][1],C,!0);return H}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(p,g){var m,_,C=this.pv.length?this.pv.length:1,E=createTypedArray("float32",C),H=Math.floor(5*time);for(m=0,_=0;m<H;){for(_=0;_<C;_+=1)E[_]+=-g+2*g*BMMath.random();m+=1}var L=5*time,U=L-Math.floor(L),X=createTypedArray("float32",C);if(C>1){for(_=0;_<C;_+=1)X[_]=this.pv[_]+E[_]+(-g+2*g*BMMath.random())*U;return X}return this.pv+E[0]+(-g+2*g*BMMath.random())*U}.bind(this);function loopInDuration(p,g){return loopIn(p,g,!0)}function loopOutDuration(p,g){return loopOut(p,g,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(p,g){var m=[g[0]-p[0],g[1]-p[1],g[2]-p[2]],_=Math.atan2(m[0],Math.sqrt(m[1]*m[1]+m[2]*m[2]))/degToRads;return[-Math.atan2(m[1],m[2])/degToRads,_,0]}function easeOut(p,g,m,_,C){return applyEase(easeOutBez,p,g,m,_,C)}function easeIn(p,g,m,_,C){return applyEase(easeInBez,p,g,m,_,C)}function ease(p,g,m,_,C){return applyEase(easeInOutBez,p,g,m,_,C)}function applyEase(p,g,m,_,C,E){void 0===C?(C=m,E=_):g=(g-m)/(_-m),g>1?g=1:g<0&&(g=0);var H=p(g);if($bm_isInstanceOfArray(C)){var L,U=C.length,X=createTypedArray("float32",U);for(L=0;L<U;L+=1)X[L]=(E[L]-C[L])*H+C[L];return X}return(E-C)*H+C}function nearestKey(p){var g,m,_,C=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(m=-1,(p*=elem.comp.globalData.frameRate)<data.k[0].t)m=1,_=data.k[0].t;else{for(g=0;g<C-1;g+=1){if(p===data.k[g].t){m=g+1,_=data.k[g].t;break}if(p>data.k[g].t&&p<data.k[g+1].t){p-data.k[g].t>data.k[g+1].t-p?(m=g+2,_=data.k[g+1].t):(m=g+1,_=data.k[g].t);break}}-1===m&&(m=g+1,_=data.k[g].t)}else m=0,_=0;var E={};return E.index=m,E.time=_/elem.comp.globalData.frameRate,E}function key(p){var g,m,_;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+p);g={time:data.k[p-=1].t/elem.comp.globalData.frameRate,value:[]};var C=Object.prototype.hasOwnProperty.call(data.k[p],"s")?data.k[p].s:data.k[p-1].e;for(_=C.length,m=0;m<_;m+=1)g[m]=C[m],g.value[m]=C[m];return g}function framesToTime(p,g){return g||(g=elem.comp.globalData.frameRate),p/g}function timeToFrames(p,g){return p||0===p||(p=time),g||(g=elem.comp.globalData.frameRate),p*g}function seedRandom(p){BMMath.seedrandom(randSeed+p)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(p,g){return"string"==typeof value?void 0===g?value.substring(p):value.substring(p,g):""}function substr(p,g){return"string"==typeof value?void 0===g?value.substr(p):value.substr(p,g):""}function posterizeTime(p){time=0===p?0:Math.floor(time*p)/p,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(p){return value=p,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(p,g,m){g.x&&(m.k=!0,m.x=!0,m.initiateExpression=ExpressionManager.initiateExpression,m.effectsSequence.push(m.initiateExpression(p,g,m).bind(m)))},getSpeedAtTime:function(p){var g=this.getValueAtTime(p),m=this.getValueAtTime(p+-.01),_=0;if(g.length){var C;for(C=0;C<g.length;C+=1)_+=Math.pow(m[C]-g[C],2);_=100*Math.sqrt(_)}else _=0;return _},getVelocityAtTime:function(p){if(void 0!==this.vel)return this.vel;var g,m,_=-.001,C=this.getValueAtTime(p),E=this.getValueAtTime(p+_);if(C.length)for(g=createTypedArray("float32",C.length),m=0;m<C.length;m+=1)g[m]=(E[m]-C[m])/_;else g=(E-C)/_;return g},getValueAtTime:function(p){return p*=this.elem.globalData.frameRate,(p-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<p?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(p,this._cachingAtTime),this._cachingAtTime.lastFrame=p),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(p){this.propertyGroup=p}};function addPropertyDecorator(){function p(B,R,N){if(!this.k||!this.keyframes)return this.pv;B=B?B.toLowerCase():"";var F,G,I,Q,oe,le=this.comp.renderedFrame,be=this.keyframes,Ae=be[be.length-1].t;if(le<=Ae)return this.pv;if(N?G=Ae-(F=R?Math.abs(Ae-this.elem.comp.globalData.frameRate*R):Math.max(0,Ae-this.elem.data.ip)):((!R||R>be.length-1)&&(R=be.length-1),F=Ae-(G=be[be.length-1-R].t)),"pingpong"===B){if(Math.floor((le-G)/F)%2!=0)return this.getValueAtTime((F-(le-G)%F+G)/this.comp.globalData.frameRate,0)}else{if("offset"===B){var $e=this.getValueAtTime(G/this.comp.globalData.frameRate,0),Be=this.getValueAtTime(Ae/this.comp.globalData.frameRate,0),qe=this.getValueAtTime(((le-G)%F+G)/this.comp.globalData.frameRate,0),pt=Math.floor((le-G)/F);if(this.pv.length){for(Q=(oe=new Array($e.length)).length,I=0;I<Q;I+=1)oe[I]=(Be[I]-$e[I])*pt+qe[I];return oe}return(Be-$e)*pt+qe}if("continue"===B){var j=this.getValueAtTime(Ae/this.comp.globalData.frameRate,0),Se=this.getValueAtTime((Ae-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Q=(oe=new Array(j.length)).length,I=0;I<Q;I+=1)oe[I]=j[I]+(le-Ae)/this.comp.globalData.frameRate*(j[I]-Se[I])/5e-4;return oe}return j+(le-Ae)/.001*(j-Se)}}return this.getValueAtTime(((le-G)%F+G)/this.comp.globalData.frameRate,0)}function g(B,R,N){if(!this.k)return this.pv;B=B?B.toLowerCase():"";var F,G,I,Q,oe,le=this.comp.renderedFrame,be=this.keyframes,Ae=be[0].t;if(le>=Ae)return this.pv;if(N?G=Ae+(F=R?Math.abs(this.elem.comp.globalData.frameRate*R):Math.max(0,this.elem.data.op-Ae)):((!R||R>be.length-1)&&(R=be.length-1),F=(G=be[R].t)-Ae),"pingpong"===B){if(Math.floor((Ae-le)/F)%2==0)return this.getValueAtTime(((Ae-le)%F+Ae)/this.comp.globalData.frameRate,0)}else{if("offset"===B){var $e=this.getValueAtTime(Ae/this.comp.globalData.frameRate,0),Be=this.getValueAtTime(G/this.comp.globalData.frameRate,0),qe=this.getValueAtTime((F-(Ae-le)%F+Ae)/this.comp.globalData.frameRate,0),pt=Math.floor((Ae-le)/F)+1;if(this.pv.length){for(Q=(oe=new Array($e.length)).length,I=0;I<Q;I+=1)oe[I]=qe[I]-(Be[I]-$e[I])*pt;return oe}return qe-(Be-$e)*pt}if("continue"===B){var j=this.getValueAtTime(Ae/this.comp.globalData.frameRate,0),Se=this.getValueAtTime((Ae+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Q=(oe=new Array(j.length)).length,I=0;I<Q;I+=1)oe[I]=j[I]+(j[I]-Se[I])*(Ae-le)/.001;return oe}return j+(j-Se)*(Ae-le)/.001}}return this.getValueAtTime((F-((Ae-le)%F+Ae))/this.comp.globalData.frameRate,0)}function m(B,R){if(!this.k)return this.pv;if(B=.5*(B||.4),(R=Math.floor(R||5))<=1)return this.pv;var N,F,G=this.comp.renderedFrame/this.comp.globalData.frameRate,I=G-B,Q=R>1?(G+B-I)/(R-1):1,oe=0,le=0;for(N=this.pv.length?createTypedArray("float32",this.pv.length):0;oe<R;){if(F=this.getValueAtTime(I+oe*Q),this.pv.length)for(le=0;le<this.pv.length;le+=1)N[le]+=F[le];else N+=F;oe+=1}if(this.pv.length)for(le=0;le<this.pv.length;le+=1)N[le]/=R;else N/=R;return N}function _(B){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var R=this._transformCachingAtTime.v;if(R.cloneFromProps(this.pre.props),this.appliedTransformations<1){var N=this.a.getValueAtTime(B);R.translate(-N[0]*this.a.mult,-N[1]*this.a.mult,N[2]*this.a.mult)}if(this.appliedTransformations<2){var F=this.s.getValueAtTime(B);R.scale(F[0]*this.s.mult,F[1]*this.s.mult,F[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var G=this.sk.getValueAtTime(B),I=this.sa.getValueAtTime(B);R.skewFromAxis(-G*this.sk.mult,I*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Q=this.r.getValueAtTime(B);R.rotate(-Q*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var oe=this.rz.getValueAtTime(B),le=this.ry.getValueAtTime(B),be=this.rx.getValueAtTime(B),Ae=this.or.getValueAtTime(B);R.rotateZ(-oe*this.rz.mult).rotateY(le*this.ry.mult).rotateX(be*this.rx.mult).rotateZ(-Ae[2]*this.or.mult).rotateY(Ae[1]*this.or.mult).rotateX(Ae[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var $e=this.px.getValueAtTime(B),Be=this.py.getValueAtTime(B);if(this.data.p.z){var qe=this.pz.getValueAtTime(B);R.translate($e*this.px.mult,Be*this.py.mult,-qe*this.pz.mult)}else R.translate($e*this.px.mult,Be*this.py.mult,0)}else{var pt=this.p.getValueAtTime(B);R.translate(pt[0]*this.p.mult,pt[1]*this.p.mult,-pt[2]*this.p.mult)}return R}function C(){return this.v.clone(new Matrix)}var E=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(B,R,N){var F=E(B,R,N);return F.getValueAtTime=F.dynamicProperties.length?_.bind(F):C.bind(F),F.setGroupProperty=expressionHelpers.setGroupProperty,F};var H=PropertyFactory.getProp;PropertyFactory.getProp=function(B,R,N,F,G){var I=H(B,R,N,F,G);I.getValueAtTime=I.kf?expressionHelpers.getValueAtTime.bind(I):expressionHelpers.getStaticValueAtTime.bind(I),I.setGroupProperty=expressionHelpers.setGroupProperty,I.loopOut=p,I.loopIn=g,I.smooth=m,I.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(I),I.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(I),I.numKeys=1===R.a?R.k.length:0,I.propertyIndex=R.ix;var Q=0;return 0!==N&&(Q=createTypedArray("float32",1===R.a?R.k[0].s.length:R.k.length)),I._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Q},expressionHelpers.searchExpressions(B,R,I),I.k&&G.addDynamicProperty(I),I};var L=ShapePropertyFactory.getConstructorFunction(),U=ShapePropertyFactory.getKeyframedConstructorFunction();function X(){}X.prototype={vertices:function(B,R){this.k&&this.getValue();var N,F=this.v;void 0!==R&&(F=this.getValueAtTime(R,0));var G=F._length,I=F[B],Q=F.v,oe=createSizedArray(G);for(N=0;N<G;N+=1)oe[N]="i"===B||"o"===B?[I[N][0]-Q[N][0],I[N][1]-Q[N][1]]:[I[N][0],I[N][1]];return oe},points:function(B){return this.vertices("v",B)},inTangents:function(B){return this.vertices("i",B)},outTangents:function(B){return this.vertices("o",B)},isClosed:function(){return this.v.c},pointOnPath:function(B,R){var N=this.v;void 0!==R&&(N=this.getValueAtTime(R,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(N));for(var F,G=this._segmentsLength,I=G.lengths,Q=G.totalLength*B,oe=0,le=I.length,be=0;oe<le;){if(be+I[oe].addedLength>Q){var $e=N.c&&oe===le-1?0:oe+1;F=bez.getPointInSegment(N.v[oe],N.v[$e],N.o[oe],N.i[$e],(Q-be)/I[oe].addedLength,I[oe]);break}be+=I[oe].addedLength,oe+=1}return F||(F=N.c?[N.v[0][0],N.v[0][1]]:[N.v[N._length-1][0],N.v[N._length-1][1]]),F},vectorOnPath:function(B,R,N){1==B?B=this.v.c:0==B&&(B=.999);var F=this.pointOnPath(B,R),G=this.pointOnPath(B+.001,R),I=G[0]-F[0],Q=G[1]-F[1],oe=Math.sqrt(Math.pow(I,2)+Math.pow(Q,2));return 0===oe?[0,0]:"tangent"===N?[I/oe,Q/oe]:[-Q/oe,I/oe]},tangentOnPath:function(B,R){return this.vectorOnPath(B,R,"tangent")},normalOnPath:function(B,R){return this.vectorOnPath(B,R,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([X],L),extendPrototype([X],U),U.prototype.getValueAtTime=function(B){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),B*=this.elem.globalData.frameRate,(B-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<B?this._caching.lastIndex:0,this._cachingAtTime.lastTime=B,this.interpolateShape(B,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},U.prototype.initiateExpression=ExpressionManager.initiateExpression;var T=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(B,R,N,F,G){var I=T(B,R,N,F,G);return I.propertyIndex=R.ix,I.lock=!1,3===N?expressionHelpers.searchExpressions(B,R.pt,I):4===N&&expressionHelpers.searchExpressions(B,R.ks,I),I.k&&B.addDynamicProperty(I),I}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(p,g){var m=this.calculateExpression(g);if(p.t!==m){var _={};return this.copyData(_,p),_.t=m.toString(),_.__complete=!1,_}return p},TextProperty.prototype.searchProperty=function(){var p=this.searchKeyframes(),g=this.searchExpressions();return this.kf=p||g,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(p,g,m,_,C){this.filterManager=g;var E=createNS("feColorMatrix");E.setAttribute("type","matrix"),E.setAttribute("color-interpolation-filters","linearRGB"),E.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),E.setAttribute("result",_+"_tint_1"),p.appendChild(E),(E=createNS("feColorMatrix")).setAttribute("type","matrix"),E.setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),E.setAttribute("result",_+"_tint_2"),p.appendChild(E),this.matrixFilter=E;var H=this.createMergeNode(_,[C,_+"_tint_1",_+"_tint_2"]);p.appendChild(H)}function SVGFillFilter(p,g,m,_){this.filterManager=g;var C=createNS("feColorMatrix");C.setAttribute("type","matrix"),C.setAttribute("color-interpolation-filters","sRGB"),C.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),C.setAttribute("result",_),p.appendChild(C),this.matrixFilter=C}function SVGStrokeEffect(p,g,m){this.initialized=!1,this.filterManager=g,this.elem=m,this.paths=[]}function SVGTritoneFilter(p,g,m,_){this.filterManager=g;var C=createNS("feColorMatrix");C.setAttribute("type","matrix"),C.setAttribute("color-interpolation-filters","linearRGB"),C.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),p.appendChild(C);var E=createNS("feComponentTransfer");E.setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("result",_),this.matrixFilter=E;var H=createNS("feFuncR");H.setAttribute("type","table"),E.appendChild(H),this.feFuncR=H;var L=createNS("feFuncG");L.setAttribute("type","table"),E.appendChild(L),this.feFuncG=L;var U=createNS("feFuncB");U.setAttribute("type","table"),E.appendChild(U),this.feFuncB=U,p.appendChild(E)}function SVGProLevelsFilter(p,g,m,_){this.filterManager=g;var C=this.filterManager.effectElements,E=createNS("feComponentTransfer");(C[10].p.k||0!==C[10].p.v||C[11].p.k||1!==C[11].p.v||C[12].p.k||1!==C[12].p.v||C[13].p.k||0!==C[13].p.v||C[14].p.k||1!==C[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",E)),(C[17].p.k||0!==C[17].p.v||C[18].p.k||1!==C[18].p.v||C[19].p.k||1!==C[19].p.v||C[20].p.k||0!==C[20].p.v||C[21].p.k||1!==C[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",E)),(C[24].p.k||0!==C[24].p.v||C[25].p.k||1!==C[25].p.v||C[26].p.k||1!==C[26].p.v||C[27].p.k||0!==C[27].p.v||C[28].p.k||1!==C[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",E)),(C[31].p.k||0!==C[31].p.v||C[32].p.k||1!==C[32].p.v||C[33].p.k||1!==C[33].p.v||C[34].p.k||0!==C[34].p.v||C[35].p.k||1!==C[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",E)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(E.setAttribute("color-interpolation-filters","sRGB"),p.appendChild(E)),(C[3].p.k||0!==C[3].p.v||C[4].p.k||1!==C[4].p.v||C[5].p.k||1!==C[5].p.v||C[6].p.k||0!==C[6].p.v||C[7].p.k||1!==C[7].p.v)&&((E=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("result",_),p.appendChild(E),this.feFuncRComposed=this.createFeFunc("feFuncR",E),this.feFuncGComposed=this.createFeFunc("feFuncG",E),this.feFuncBComposed=this.createFeFunc("feFuncB",E))}function SVGDropShadowEffect(p,g,m,_,C){var E=g.container.globalData.renderConfig.filterSize,H=g.data.fs||E;p.setAttribute("x",H.x||E.x),p.setAttribute("y",H.y||E.y),p.setAttribute("width",H.width||E.width),p.setAttribute("height",H.height||E.height),this.filterManager=g;var L=createNS("feGaussianBlur");L.setAttribute("in","SourceAlpha"),L.setAttribute("result",_+"_drop_shadow_1"),L.setAttribute("stdDeviation","0"),this.feGaussianBlur=L,p.appendChild(L);var U=createNS("feOffset");U.setAttribute("dx","25"),U.setAttribute("dy","0"),U.setAttribute("in",_+"_drop_shadow_1"),U.setAttribute("result",_+"_drop_shadow_2"),this.feOffset=U,p.appendChild(U);var X=createNS("feFlood");X.setAttribute("flood-color","#00ff00"),X.setAttribute("flood-opacity","1"),X.setAttribute("result",_+"_drop_shadow_3"),this.feFlood=X,p.appendChild(X);var T=createNS("feComposite");T.setAttribute("in",_+"_drop_shadow_3"),T.setAttribute("in2",_+"_drop_shadow_2"),T.setAttribute("operator","in"),T.setAttribute("result",_+"_drop_shadow_4"),p.appendChild(T);var B=this.createMergeNode(_,[_+"_drop_shadow_4",C]);p.appendChild(B)}SVGComposableEffect.prototype={createMergeNode:function(p,g){var m,_,C=createNS("feMerge");for(C.setAttribute("result",p),_=0;_<g.length;_+=1)(m=createNS("feMergeNode")).setAttribute("in",g[_]),C.appendChild(m),C.appendChild(m);return C}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var g=this.filterManager.effectElements[0].p.v,m=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",m[0]-g[0]+" 0 0 0 "+g[0]+" "+(m[1]-g[1])+" 0 0 0 "+g[1]+" "+(m[2]-g[2])+" 0 0 0 "+g[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var g=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+g[0]+" 0 0 0 0 "+g[1]+" 0 0 0 0 "+g[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var p,g,m,_,C=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(_=this.elem.maskManager.masksProperties.length,m=0):_=1+(m=this.filterManager.effectElements[0].p.v-1),(g=createNS("g")).setAttribute("fill","none"),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-dashoffset",1);m<_;m+=1)p=createNS("path"),g.appendChild(p),this.paths.push({p,m});if(3===this.filterManager.effectElements[10].p.v){var E=createNS("mask"),H=createElementID();E.setAttribute("id",H),E.setAttribute("mask-type","alpha"),E.appendChild(g),this.elem.globalData.defs.appendChild(E);var L=createNS("g");for(L.setAttribute("mask","url("+getLocationHref()+"#"+H+")");C[0];)L.appendChild(C[0]);this.elem.layerElement.appendChild(L),this.masker=E,g.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(C=this.elem.layerElement.children||this.elem.layerElement.childNodes;C.length;)this.elem.layerElement.removeChild(C[0]);this.elem.layerElement.appendChild(g),this.elem.layerElement.removeAttribute("mask"),g.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=g},SVGStrokeEffect.prototype.renderFrame=function(p){var g;this.initialized||this.initialize();var m,_,C=this.paths.length;for(g=0;g<C;g+=1)if(-1!==this.paths[g].m&&(m=this.elem.maskManager.viewData[this.paths[g].m],_=this.paths[g].p,(p||this.filterManager._mdf||m.prop._mdf)&&_.setAttribute("d",m.lastPath),p||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||m.prop._mdf)){var E;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var H=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),L=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),U=_.getTotalLength();E="0 0 0 "+U*H+" ";var X,R=Math.floor(U*(L-H)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(X=0;X<R;X+=1)E+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";E+="0 "+10*U+" 0 0"}else E="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;_.setAttribute("stroke-dasharray",E)}if((p||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(p||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(p||this.filterManager.effectElements[3].p._mdf)){var N=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*N[0])+","+bmFloor(255*N[1])+","+bmFloor(255*N[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var g=this.filterManager.effectElements[0].p.v,m=this.filterManager.effectElements[1].p.v,_=this.filterManager.effectElements[2].p.v,E=_[1]+" "+m[1]+" "+g[1],H=_[2]+" "+m[2]+" "+g[2];this.feFuncR.setAttribute("tableValues",_[0]+" "+m[0]+" "+g[0]),this.feFuncG.setAttribute("tableValues",E),this.feFuncB.setAttribute("tableValues",H)}},SVGProLevelsFilter.prototype.createFeFunc=function(p,g){var m=createNS(p);return m.setAttribute("type","table"),g.appendChild(m),m},SVGProLevelsFilter.prototype.getTableValue=function(p,g,m,_,C){for(var E,H,L=0,U=Math.min(p,g),X=Math.max(p,g),T=Array.call(null,{length:256}),B=0,R=C-_,N=g-p;L<=256;)H=(E=L/256)<=U?N<0?C:_:E>=X?N<0?_:C:_+R*Math.pow((E-p)/N,1/m),T[B]=H,B+=1,L+=256/255;return T.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var g,m=this.filterManager.effectElements;this.feFuncRComposed&&(p||m[3].p._mdf||m[4].p._mdf||m[5].p._mdf||m[6].p._mdf||m[7].p._mdf)&&(g=this.getTableValue(m[3].p.v,m[4].p.v,m[5].p.v,m[6].p.v,m[7].p.v),this.feFuncRComposed.setAttribute("tableValues",g),this.feFuncGComposed.setAttribute("tableValues",g),this.feFuncBComposed.setAttribute("tableValues",g)),this.feFuncR&&(p||m[10].p._mdf||m[11].p._mdf||m[12].p._mdf||m[13].p._mdf||m[14].p._mdf)&&(g=this.getTableValue(m[10].p.v,m[11].p.v,m[12].p.v,m[13].p.v,m[14].p.v),this.feFuncR.setAttribute("tableValues",g)),this.feFuncG&&(p||m[17].p._mdf||m[18].p._mdf||m[19].p._mdf||m[20].p._mdf||m[21].p._mdf)&&(g=this.getTableValue(m[17].p.v,m[18].p.v,m[19].p.v,m[20].p.v,m[21].p.v),this.feFuncG.setAttribute("tableValues",g)),this.feFuncB&&(p||m[24].p._mdf||m[25].p._mdf||m[26].p._mdf||m[27].p._mdf||m[28].p._mdf)&&(g=this.getTableValue(m[24].p.v,m[25].p.v,m[26].p.v,m[27].p.v,m[28].p.v),this.feFuncB.setAttribute("tableValues",g)),this.feFuncA&&(p||m[31].p._mdf||m[32].p._mdf||m[33].p._mdf||m[34].p._mdf||m[35].p._mdf)&&(g=this.getTableValue(m[31].p.v,m[32].p.v,m[33].p.v,m[34].p.v,m[35].p.v),this.feFuncA.setAttribute("tableValues",g))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){if((p||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),p||this.filterManager.effectElements[0].p._mdf){var g=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*g[0]),Math.round(255*g[1]),Math.round(255*g[2])))}if((p||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),p||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var m=this.filterManager.effectElements[3].p.v,_=(this.filterManager.effectElements[2].p.v-90)*degToRads,C=m*Math.cos(_),E=m*Math.sin(_);this.feOffset.setAttribute("dx",C),this.feOffset.setAttribute("dy",E)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(p,g,m){this.initialized=!1,this.filterManager=g,this.filterElem=p,this.elem=m,m.matteElement=createNS("g"),m.matteElement.appendChild(m.layerElement),m.matteElement.appendChild(m.transformedElement),m.baseElement=m.matteElement}function SVGGaussianBlurEffect(p,g,m,_){p.setAttribute("x","-100%"),p.setAttribute("y","-100%"),p.setAttribute("width","300%"),p.setAttribute("height","300%"),this.filterManager=g;var C=createNS("feGaussianBlur");C.setAttribute("result",_),p.appendChild(C),this.feGaussianBlur=C}return SVGMatte3Effect.prototype.findSymbol=function(p){for(var g=0,m=_svgMatteSymbols.length;g<m;){if(_svgMatteSymbols[g]===p)return _svgMatteSymbols[g];g+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(p,g){var m=p.layerElement.parentNode;if(m){for(var _,C=m.children,E=0,H=C.length;E<H&&C[E]!==p.layerElement;)E+=1;E<=H-2&&(_=C[E+1]);var L=createNS("use");L.setAttribute("href","#"+g),_?m.insertBefore(L,_):m.appendChild(L)}},SVGMatte3Effect.prototype.setElementAsMask=function(p,g){if(!this.findSymbol(g)){var m=createElementID(),_=createNS("mask");_.setAttribute("id",g.layerId),_.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(g);var C=p.globalData.defs;C.appendChild(_);var E=createNS("symbol");E.setAttribute("id",m),this.replaceInParent(g,m),E.appendChild(g.layerElement),C.appendChild(E);var H=createNS("use");H.setAttribute("href","#"+m),_.appendChild(H),g.data.hd=!1,g.show()}p.setMatte(g.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var p=this.filterManager.effectElements[0].p.v,g=this.elem.comp.elements,m=0,_=g.length;m<_;)g[m]&&g[m].data.ind===p&&this.setElementAsMask(this.elem,g[m]),m+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(p){if(p||this.filterManager._mdf){var g=.3*this.filterManager.effectElements[0].p.v,m=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==m?0:g)+" "+(2==m?0:g)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=g())},5861:(p,g,m)=>{"use strict";function _(E,H,L,U,X,T,B){try{var R=E[T](B),N=R.value}catch(F){return void L(F)}R.done?H(N):Promise.resolve(N).then(U,X)}function C(E){return function(){var H=this,L=arguments;return new Promise(function(U,X){var T=E.apply(H,L);function B(N){_(T,U,X,B,R,"next",N)}function R(N){_(T,U,X,B,R,"throw",N)}B(void 0)})}}m.d(g,{Z:()=>C})}},p=>{p(p.s=4154)}]);